(self.webpackChunkapp=self.webpackChunkapp||[]).push([[792],{52191:(Je,j,_)=>{var y=_(40573);const b="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,P=()=>b.now(),w=S=>S===1/0||(S=>S&&S===Math.floor(S)&&S>0&&isFinite(S))(S);class O{constructor({max:B=1/0,ttl:N,updateAgeOnGet:U=!1,checkAgeOnGet:A=!1,noUpdateTTL:G=!1,dispose:L,noDisposeOnSet:z=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==N&&!w(N))throw new TypeError("ttl must be positive integer or Infinity if set");if(!w(B))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=N,this.max=B,this.updateAgeOnGet=!!U,this.checkAgeOnGet=!!A,this.noUpdateTTL=!!G,this.noDisposeOnSet=!!z,void 0!==L){if("function"!=typeof L)throw new TypeError("dispose must be function if set");this.dispose=L}this.timer=void 0,this.timerExpiration=void 0}setTimer(B,N){if(this.timerExpiration<B)return;this.timer&&clearTimeout(this.timer);const U=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const A in this.expirations){this.setTimer(A,A-P());break}},N);U.unref&&U.unref(),this.timerExpiration=B,this.timer=U}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return y.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const B=this.dispose!==O.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[N,U]of B)this.dispose(U,N,"delete")}setTTL(B,N=this.ttl){const U=this.expirationMap.get(B);if(void 0!==U){const A=this.expirations[U];!A||A.length<=1?delete this.expirations[U]:this.expirations[U]=A.filter(G=>G!==B)}if(N!==1/0){const A=Math.floor(P()+N);this.expirationMap.set(B,A),this.expirations[A]||(this.expirations[A]=[],this.setTimer(A,N)),this.expirations[A].push(B)}else this.expirationMap.set(B,1/0)}set(B,N,{ttl:U=this.ttl,noUpdateTTL:A=this.noUpdateTTL,noDisposeOnSet:G=this.noDisposeOnSet}={}){if(!w(U))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(B)){A||this.setTTL(B,U);const L=this.data.get(B);L!==N&&(this.data.set(B,N),G||this.dispose(L,B,"set"))}else this.setTTL(B,U),this.data.set(B,N);for(;this.size>this.max;)this.purgeToCapacity();return this}has(B){return this.data.has(B)}getRemainingTTL(B){const N=this.expirationMap.get(B);return N===1/0?N:void 0!==N?Math.max(0,Math.ceil(N-P())):0}get(B,{updateAgeOnGet:N=this.updateAgeOnGet,ttl:U=this.ttl,checkAgeOnGet:A=this.checkAgeOnGet}={}){const G=this.data.get(B);if(!A||0!==this.getRemainingTTL(B))return N&&this.setTTL(B,U),G;this.delete(B)}dispose(B,N){}delete(B){const N=this.expirationMap.get(B);if(void 0!==N){const U=this.data.get(B);this.data.delete(B),this.expirationMap.delete(B);const A=this.expirations[N];return A&&(A.length<=1?delete this.expirations[N]:this.expirations[N]=A.filter(G=>G!==B)),this.dispose(U,B,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const B in this.expirations){const N=this.expirations[B];if(!(this.size-N.length>=this.max)){const U=this.size-this.max,A=[];for(const G of N.splice(0,U))A.push([G,this.data.get(G)]),this.data.delete(G),this.expirationMap.delete(G);for(const[G,L]of A)this.dispose(L,G,"evict");return}{delete this.expirations[B];const U=[];for(const A of N)U.push([A,this.data.get(A)]),this.data.delete(A),this.expirationMap.delete(A);for(const[A,G]of U)this.dispose(G,A,"evict")}}}get size(){return this.data.size}purgeStale(){const B=Math.ceil(P());for(const N in this.expirations){if("Infinity"===N||N>B)return;const U=[...this.expirations[N]||[]],A=[];delete this.expirations[N];for(const G of U)A.push([G,this.data.get(G)]),this.data.delete(G),this.expirationMap.delete(G);for(const[G,L]of A)this.dispose(L,G,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const B in this.expirations)for(const N of this.expirations[B])yield[N,this.data.get(N)]}*keys(){for(const B in this.expirations)for(const N of this.expirations[B])yield N}*values(){for(const B in this.expirations)for(const N of this.expirations[B])yield this.data.get(N)}[Symbol.iterator](){return this.entries()}}Je.exports=O},33065:(Je,j,_)=>{"use strict";_.r(j),_.d(j,{RestoreComponent:()=>ee});var y=_(10467),b=_(93953),P=_(89417),H=_(88834),w=_(25596),O=_(99213),S=_(99631),B=_(5951),N=_(82798),U=_(67402),A=_(96049),G=_(55777),L=_(53719);function z(q,Z){1&q&&(b.j41(0,"mat-error"),b.EFF(1,"Recovery phrase is "),b.j41(2,"strong"),b.EFF(3,"required"),b.k0s()())}let ee=(()=>{class q{constructor(){this.fb=(0,b.WQX)(P.ok),this.crypto=(0,b.WQX)(A.j),this.app=(0,b.WQX)(G.d),this.identity=(0,b.WQX)(U.K),this.addressForm=this.fb.group({recoveryPhrase:[null,P.k0.required]})}onSubmit(){var J=this;return(0,y.A)(function*(){console.log(J.addressForm.controls.recoveryPhrase.value),J.addressForm.disable(),J.app.loading.set(!0);let se=yield J.crypto.createPassword();const ce={did:"",recoveryPhrase:J.addressForm.controls.recoveryPhrase.value,password:se,passwordHash:""};se="123";const ae=yield J.identity.restore(se,J.addressForm.controls.recoveryPhrase.value);if(console.log("RESTORE Result: ",ae),!ae)return alert("Failed to restore account."),void J.addressForm.enable();ce.did=ae.did,J.app.addAccount(ce),J.app.initialized.set(!0),J.app.loading.set(!1)})()}static#e=this.\u0275fac=function(se){return new(se||q)};static#t=this.\u0275cmp=b.VBU({type:q,selectors:[["app-restore"]],standalone:!0,features:[b.aNF],decls:20,vars:3,consts:[["recoveryPhrase",""],["novalidate","",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"full-width"],["matInput","","placeholder","Secret Recovery Phrase","formControlName","recoveryPhrase"],["align","end"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(se,ce){if(1&se){const ae=b.RV6();b.j41(0,"h1"),b.EFF(1,"Restore your account"),b.k0s(),b.j41(2,"form",1),b.bIt("ngSubmit",function(){return b.eBV(ae),b.Njj(ce.onSubmit())}),b.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),b.EFF(6,"Secret Recovery Phrase"),b.k0s(),b.j41(7,"mat-card-subtitle"),b.EFF(8,"Enter your 12 words backup"),b.k0s()(),b.j41(9,"mat-card-content"),b.nrm(10,"br"),b.j41(11,"mat-form-field",3)(12,"mat-label"),b.EFF(13,"Secret Recovery Phrase"),b.k0s(),b.nrm(14,"textarea",4,0),b.DNE(16,z,4,0,"mat-error"),b.k0s()(),b.j41(17,"mat-card-actions",5)(18,"button",6),b.EFF(19,"Restore"),b.k0s()()()()}2&se&&(b.R7$(2),b.Y8G("formGroup",ce.addressForm),b.R7$(14),b.vxM(ce.addressForm.controls.recoveryPhrase.hasError("required")?16:-1),b.R7$(2),b.Y8G("disabled",ce.app.loading()))},dependencies:[S.fS,S.fg,L.rl,L.nJ,L.TL,H.Hl,H.$z,N.Ve,O.m_,B.Wk,w.Hu,w.RN,w.YY,w.m2,w.MM,w.Lc,w.dh,P.X1,P.qT,P.me,P.BC,P.cb,P.j4,P.JD],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.link-input[_ngcontent-%COMP%]{display:flex;align-items:baseline}.link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.4em}"]})}return q})()},55777:(Je,j,_)=>{"use strict";_.d(j,{d:()=>B});var y=_(10467),b=_(93953),P=_(43794),H=_(96049),w=_(67402),S=_.t(JSON.parse('{"name":"ariton","version":"0.0.1","scripts":{"ng":"ng","start":"ng serve","build":"ng build","watch":"ng build --watch --configuration development","test":"ng test","deploy":"ng deploy app","i18n":"ng extract-i18n --format=json --output-path src/locale"},"repository":{"type":"git","url":"git+https://github.com/block-core/ariton.git"},"private":true,"dependencies":{"@angular-builders/custom-webpack":"^18.0.0","@angular/animations":"^18.1.0","@angular/cdk":"^18.1.0","@angular/common":"^18.1.0","@angular/compiler":"^18.1.0","@angular/core":"^18.1.0","@angular/forms":"^18.1.0","@angular/material":"^18.1.0","@angular/platform-browser":"^18.1.0","@angular/platform-browser-dynamic":"^18.1.0","@angular/router":"^18.1.0","@angular/service-worker":"^18.1.0","@scure/bip39":"^1.3.0","@web5/api":"^0.9.4","@web5/credentials":"^1.0.3","@web5/crypto":"^1.0.1","@web5/dids":"^1.1.1","@web5/identity-agent":"^0.3.8","crypto-browserify":"^3.12.0","process":"^0.11.10","rxjs":"~7.8.1","stream":"^0.0.3","stream-browserify":"^3.0.0","tslib":"^2.6.3","zone.js":"~0.14.7"},"devDependencies":{"@angular-devkit/build-angular":"^18.1.0","@angular/cli":"^18.1.0","@angular/compiler-cli":"^18.1.0","@angular/localize":"^18.1.0","@types/jasmine":"~5.1.4","angular-cli-ghpages":"^2.0.1","jasmine-core":"~5.1.2","karma":"~6.4.3","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.1","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0","typescript":"~5.5.3"}}'),2);let B=(()=>{class N{constructor(){this.initialized=(0,b.vPA)(!1),this.loading=(0,b.vPA)(!1),this.storage=(0,b.WQX)(P.n),this.crypto=(0,b.WQX)(H.j),this.identity=(0,b.WQX)(w.K),this.state=(0,b.vPA)({selectedAccount:""}),this.account=(0,b.vPA)({did:"",recoveryPhrase:"",password:"",passwordHash:""}),this.accounts=(0,b.vPA)([]),this.firstTime=(0,b.vPA)(!1),this.params=(0,b.vPA)({}),this.package=S,console.log(`Ariton v${this.package.version} initialized.`),this.dependencies=Object.entries(this.package.dependencies).map(([A,G])=>({name:A,version:G}))}saveAccounts(){this.storage.save("accounts",this.accounts())}saveState(){this.storage.save("state",this.state())}hasStateBeenSet(){return!!this.storage.read("state")}addAccount(A){this.accounts().push(A),this.saveAccounts(),this.state().selectedAccount=A.did,this.saveState()}initialize(){var A=this;return(0,y.A)(function*(){A.loading.set(!0),console.log("Initializing Ariton...");let G=A.storage.read("state");console.log("STATE IS WHAT:",G),G||(G={selectedAccount:""},A.firstTime.set(!0));let z,L=A.storage.read("accounts");if(console.log("Accounts: ",L),L){const ee=L.find(q=>q.did===G.selectedAccount);if(A.accounts.set(L),A.account?.set(ee),console.log("Account found: ",ee),ee.password){if(z=yield A.identity.connect(ee.did,ee.password),!z)return void A.loading.set(!1)}else A.identity.locked.set(!0)}else{console.log("No accounts found");const ee=yield A.crypto.createPassword();if(z=yield A.identity.initialConnect(ee),!z)return void A.loading.set(!1);L=[{did:z.did,recoveryPhrase:z.recoveryPhrase,password:ee}],A.storage.save("accounts",L),G.selectedAccount=z.did,A.accounts.set(L),A.account?.set(L[0]),A.storage.save("state",G)}A.state.set(G),A.initialized.set(!0),A.loading.set(!1)})()}static#e=this.\u0275fac=function(G){return new(G||N)};static#t=this.\u0275prov=b.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},96049:(Je,j,_)=>{"use strict";_.d(j,{j:()=>Da});var y=_(10467);_(37475);const G="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Wt(Ut){return function Q(Ut=32){if(G&&"function"==typeof G.getRandomValues)return G.getRandomValues(new Uint8Array(Ut));throw new Error("crypto.getRandomValues must be defined")}(Ut)}new Uint8Array(new Uint32Array([287454020]).buffer),_(94256),_(91006),_(40499),_(86295),_(91879);class oi{static deriveKey(Lt){return function(Ut,Lt,At,Tt){return new(At||(At=Promise))(function(gn,Rn){function dr(Qn){try{Mr(Tt.next(Qn))}catch(cr){Rn(cr)}}function Tr(Qn){try{Mr(Tt.throw(Qn))}catch(cr){Rn(cr)}}function Mr(Qn){Qn.done?gn(Qn.value):function fn(gn){return gn instanceof At?gn:new At(function(Rn){Rn(gn)})}(Qn.value).then(dr,Tr)}Mr((Tt=Tt.apply(Ut,Lt||[])).next())})}(this,arguments,void 0,function*({hash:At,password:Tt,salt:fn,iterations:gn,length:Rn}){const dr=yield G.subtle.importKey("raw",Tt,{name:"PBKDF2"},!1,["deriveBits"]),Tr=yield G.subtle.deriveBits({name:"PBKDF2",hash:At,salt:fn,iterations:gn},dr,Rn);return new Uint8Array(Tr)})}}function Io(Ut,...Lt){if(!function yo(Ut){return Ut instanceof Uint8Array||null!=Ut&&"object"==typeof Ut&&"Uint8Array"===Ut.constructor.name}(Ut))throw new Error("Uint8Array expected");if(Lt.length>0&&!Lt.includes(Ut.length))throw new Error(`Uint8Array expected of length ${Lt}, not of length=${Ut.length}`)}function Li(Ut,Lt=!0){if(Ut.destroyed)throw new Error("Hash instance has been destroyed");if(Lt&&Ut.finished)throw new Error("Hash#digest() has already been called")}_(94730);const Sn="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Fn=Ut=>new DataView(Ut.buffer,Ut.byteOffset,Ut.byteLength),zr=(Ut,Lt)=>Ut<<32-Lt|Ut>>>Lt;function oa(Ut){return"string"==typeof Ut&&(Ut=function nc(Ut){if("string"!=typeof Ut)throw new Error("utf8ToBytes expected string, got "+typeof Ut);return new Uint8Array((new TextEncoder).encode(Ut))}(Ut)),Io(Ut),Ut}new Uint8Array(new Uint32Array([287454020]).buffer);class Wi{clone(){return this._cloneInto()}}function Aa(Ut){const Lt=Tt=>Ut().update(oa(Tt)).digest(),At=Ut();return Lt.outputLen=At.outputLen,Lt.blockLen=At.blockLen,Lt.create=()=>Ut(),Lt}const Xo=(Ut,Lt,At)=>Ut&Lt^~Ut&At,Rc=(Ut,Lt,At)=>Ut&Lt^Ut&At^Lt&At;class Ho extends Wi{constructor(Lt,At,Tt,fn){super(),this.blockLen=Lt,this.outputLen=At,this.padOffset=Tt,this.isLE=fn,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(Lt),this.view=Fn(this.buffer)}update(Lt){Li(this);const{view:At,buffer:Tt,blockLen:fn}=this,gn=(Lt=oa(Lt)).length;for(let Rn=0;Rn<gn;){const dr=Math.min(fn-this.pos,gn-Rn);if(dr!==fn)Tt.set(Lt.subarray(Rn,Rn+dr),this.pos),this.pos+=dr,Rn+=dr,this.pos===fn&&(this.process(At,0),this.pos=0);else{const Tr=Fn(Lt);for(;fn<=gn-Rn;Rn+=fn)this.process(Tr,Rn)}}return this.length+=Lt.length,this.roundClean(),this}digestInto(Lt){Li(this),function Ni(Ut,Lt){Io(Ut);const At=Lt.outputLen;if(Ut.length<At)throw new Error(`digestInto() expects output buffer of length at least ${At}`)}(Lt,this),this.finished=!0;const{buffer:At,view:Tt,blockLen:fn,isLE:gn}=this;let{pos:Rn}=this;At[Rn++]=128,this.buffer.subarray(Rn).fill(0),this.padOffset>fn-Rn&&(this.process(Tt,0),Rn=0);for(let cr=Rn;cr<fn;cr++)At[cr]=0;(function xu(Ut,Lt,At,Tt){if("function"==typeof Ut.setBigUint64)return Ut.setBigUint64(Lt,At,Tt);const fn=BigInt(32),gn=BigInt(4294967295),Rn=Number(At>>fn&gn),dr=Number(At&gn),Mr=Tt?0:4;Ut.setUint32(Lt+(Tt?4:0),Rn,Tt),Ut.setUint32(Lt+Mr,dr,Tt)})(Tt,fn-8,BigInt(8*this.length),gn),this.process(Tt,0);const dr=Fn(Lt),Tr=this.outputLen;if(Tr%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Mr=Tr/4,Qn=this.get();if(Mr>Qn.length)throw new Error("_sha2: outputLen bigger than state");for(let cr=0;cr<Mr;cr++)dr.setUint32(4*cr,Qn[cr],gn)}digest(){const{buffer:Lt,outputLen:At}=this;this.digestInto(Lt);const Tt=Lt.slice(0,At);return this.destroy(),Tt}_cloneInto(Lt){Lt||(Lt=new this.constructor),Lt.set(...this.get());const{blockLen:At,buffer:Tt,length:fn,finished:gn,destroyed:Rn,pos:dr}=this;return Lt.length=fn,Lt.pos=dr,Lt.finished=gn,Lt.destroyed=Rn,fn%At&&Lt.buffer.set(Tt),Lt}}const Ir=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ns=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),So=new Uint32Array(64);class Ja extends Ho{constructor(){super(64,32,8,!1),this.A=0|Ns[0],this.B=0|Ns[1],this.C=0|Ns[2],this.D=0|Ns[3],this.E=0|Ns[4],this.F=0|Ns[5],this.G=0|Ns[6],this.H=0|Ns[7]}get(){const{A:Lt,B:At,C:Tt,D:fn,E:gn,F:Rn,G:dr,H:Tr}=this;return[Lt,At,Tt,fn,gn,Rn,dr,Tr]}set(Lt,At,Tt,fn,gn,Rn,dr,Tr){this.A=0|Lt,this.B=0|At,this.C=0|Tt,this.D=0|fn,this.E=0|gn,this.F=0|Rn,this.G=0|dr,this.H=0|Tr}process(Lt,At){for(let cr=0;cr<16;cr++,At+=4)So[cr]=Lt.getUint32(At,!1);for(let cr=16;cr<64;cr++){const as=So[cr-15],aa=So[cr-2],oc=zr(as,7)^zr(as,18)^as>>>3,Os=zr(aa,17)^zr(aa,19)^aa>>>10;So[cr]=Os+So[cr-7]+oc+So[cr-16]|0}let{A:Tt,B:fn,C:gn,D:Rn,E:dr,F:Tr,G:Mr,H:Qn}=this;for(let cr=0;cr<64;cr++){const aa=Qn+(zr(dr,6)^zr(dr,11)^zr(dr,25))+Xo(dr,Tr,Mr)+Ir[cr]+So[cr]|0,Os=(zr(Tt,2)^zr(Tt,13)^zr(Tt,22))+Rc(Tt,fn,gn)|0;Qn=Mr,Mr=Tr,Tr=dr,dr=Rn+aa|0,Rn=gn,gn=fn,fn=Tt,Tt=aa+Os|0}Tt=Tt+this.A|0,fn=fn+this.B|0,gn=gn+this.C|0,Rn=Rn+this.D|0,dr=dr+this.E|0,Tr=Tr+this.F|0,Mr=Mr+this.G|0,Qn=Qn+this.H|0,this.set(Tt,fn,gn,Rn,dr,Tr,Mr,Qn)}roundClean(){So.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ss=Aa(()=>new Ja);var io=_(53813);function Ao(Ut,Lt=128){if(function si(Ut){if(!Number.isSafeInteger(Ut)||Ut<0)throw new Error(`positive integer expected, not ${Ut}`)}(Lt),Lt%32!=0||Lt>256)throw new TypeError("Invalid entropy");return function ed(Ut,Lt){return function ic(Ut){Io(Ut,16,20,24,28,32)}(Ut),function Ls(Ut){if(!Array.isArray(Ut)||2048!==Ut.length||"string"!=typeof Ut[0])throw new Error("Wordlist: expected array of 2048 strings");return Ut.forEach(Lt=>{if("string"!=typeof Lt)throw new Error(`Wordlist: non-string element: ${Lt}`)}),io.Wp.chain(io.Wp.checksum(1,Dc),io.Wp.radix2(11,!0),io.Wp.alphabet(Ut))}(Lt).encode(Ut).join((Ut=>"\u3042\u3044\u3053\u304f\u3057\u3093"===Ut[0])(Lt)?"\u3000":" ")}(function Oc(Ut=32){if(Sn&&"function"==typeof Sn.getRandomValues)return Sn.getRandomValues(new Uint8Array(Ut));throw new Error("crypto.getRandomValues must be defined")}(Lt/8),Ut)}const Dc=Ut=>{const Lt=8-Ut.length/4;return new Uint8Array([ss(Ut)[0]>>Lt<<Lt])};const vc="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var ba=_(93953);let Da=(()=>{class Ut{constructor(){}createPassword(At=6,Tt=128){return(0,y.A)(function*(){try{const fn=Ao(vc,Tt).split(" "),gn=[];for(let Rn=0;Rn<At;Rn++){const dr=Math.floor(Math.random()*fn.length);gn.push(fn[dr])}return gn.join(" ")}catch(fn){throw console.error(fn),fn}})()}encrypt(At,Tt){return this.deriveKey(Tt),At}encryptData(At,Tt){return(0,y.A)(function*(){})()}deriveKey(At){return(0,y.A)(function*(){return yield oi.deriveKey({hash:"SHA-256",password:(new TextEncoder).encode(At),salt:Wt(16),iterations:1e3,length:256})})()}static#e=this.\u0275fac=function(Tt){return new(Tt||Ut)};static#t=this.\u0275prov=ba.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})()},67402:(Je,j,_)=>{"use strict";_.d(j,{K:()=>Yn});var y=_(10467),b=_(93953),P=_(8332),H=function(Ye){return Ye.authentication="authentication",Ye.assertionMethod="assertionMethod",Ye.keyAgreement="keyAgreement",Ye.capabilityInvocation="capabilityInvocation",Ye.capabilityDelegation="capabilityDelegation",Ye}(H||{});const w={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class O{constructor({method:Te,id:ve,path:xe,query:rt,fragment:st,params:Mt}){this.uri=`did:${Te}:${ve}`,this.method=Te,this.id=ve,this.path=xe,this.query=rt,this.fragment=st,this.params=Mt}static parse(Te){if(!Te)return null;const ve=O.DID_URI_PATTERN.exec(Te);if(!ve||!ve.groups)return null;const{method:xe,id:rt,path:st,query:Mt,fragment:Jt}=ve.groups,Mn={uri:`did:${xe}:${rt}`,method:xe,id:rt};if(st&&(Mn.path=st),Mt&&(Mn.query=Mt.slice(1)),Jt&&(Mn.fragment=Jt.slice(1)),Mt){const Ie={},ie=Mt.slice(1).split("&");for(const oe of ie){const[ye,We]=oe.split("=");Ie[ye]=We}Mn.params=Ie}return Mn}}O.METHOD_PATTERN="([a-z0-9]+)",O.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",O.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${O.PCT_ENCODED_PATTERN})`,O.METHOD_ID_PATTERN=`((?:${O.ID_CHAR_PATTERN}*:)*(${O.ID_CHAR_PATTERN}+))`,O.PATH_PATTERN="(/[^#?]*)?",O.QUERY_PATTERN="([?][^#]*)?",O.FRAGMENT_PATTERN="(#.*)?",O.DID_URI_PATTERN=new RegExp(`^did:(?<method>${O.METHOD_PATTERN}):(?<id>${O.METHOD_ID_PATTERN})(?<path>${O.PATH_PATTERN})(?<query>${O.QUERY_PATTERN})(?<fragment>${O.FRAGMENT_PATTERN})$`);class S extends Error{constructor(Te,ve){super(`${Te}: ${ve}`),this.code=Te,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S)}}var B=function(Ye){return Ye.InvalidDid="invalidDid",Ye.MethodNotSupported="methodNotSupported",Ye.InternalError="internalError",Ye.InvalidDidDocument="invalidDidDocument",Ye.InvalidDidDocumentLength="invalidDidDocumentLength",Ye.InvalidDidUrl="invalidDidUrl",Ye.InvalidPreviousDidProof="invalidPreviousDidProof",Ye.InvalidPublicKey="invalidPublicKey",Ye.InvalidPublicKeyLength="invalidPublicKeyLength",Ye.InvalidPublicKeyType="invalidPublicKeyType",Ye.InvalidSignature="invalidSignature",Ye.NotFound="notFound",Ye.RepresentationNotSupported="representationNotSupported",Ye.UnsupportedPublicKeyType="unsupportedPublicKeyType",Ye}(B||{}),N=_(37475),U=_(47565);class G{static digest({data:Te}){return function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})}(this,void 0,void 0,function*(){return(0,U.s)(Te)})}}class L{}var q=_(94256),Z=_(91006);const ce="urn:jwk:";function ae({jwk:Ye}){return function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})}(this,void 0,void 0,function*(){const Te=Ye.kty;let ve;if("EC"===Te)ve={crv:Ye.crv,kty:Ye.kty,x:Ye.x,y:Ye.y};else if("oct"===Te)ve={k:Ye.k,kty:Ye.kty};else if("OKP"===Te)ve={crv:Ye.crv,kty:Ye.kty,x:Ye.x};else{if("RSA"!==Te)throw new Error(`Unsupported key type: ${Te}`);ve={e:Ye.e,kty:Ye.kty,n:Ye.n}}(0,N.E8)(ve);const xe=function J(Ye){const Te=xe=>{if(null!==xe&&"object"==typeof xe&&!Array.isArray(xe)){const rt=Object.keys(xe).sort(),st={};for(const Mt of rt)st[Mt]=Te(xe[Mt]);return st}return xe},ve=Te(Ye);return JSON.stringify(ve)}(ve),rt=N.U$.string(xe).toUint8Array(),st=yield G.digest({data:rt});return N.U$.uint8Array(st).toBase64Url()})}function fe(Ye){return!(!Ye||"object"!=typeof Ye||!("kty"in Ye&&"crv"in Ye&&"x"in Ye&&"d"in Ye)||"EC"!==Ye.kty||"string"!=typeof Ye.d||"string"!=typeof Ye.x)}function he(Ye){return!(!Ye||"object"!=typeof Ye||!("kty"in Ye&&"crv"in Ye&&"x"in Ye)||"d"in Ye||"EC"!==Ye.kty||"string"!=typeof Ye.x)}function Me(Ye){return!(!Ye||"object"!=typeof Ye||!("kty"in Ye&&"crv"in Ye&&"x"in Ye&&"d"in Ye)||"OKP"!==Ye.kty||"string"!=typeof Ye.d||"string"!=typeof Ye.x)}function Pe(Ye){return!(!Ye||"object"!=typeof Ye||"d"in Ye||!("kty"in Ye&&"crv"in Ye&&"x"in Ye)||"OKP"!==Ye.kty||"string"!=typeof Ye.x)}var d=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class p{static adjustSignatureToLowS({signature:Te}){return d(this,void 0,void 0,function*(){const ve=q.bI.Signature.fromCompact(Te);return ve.hasHighS()?ve.normalizeS().toCompactRawBytes():Te})}static bytesToPrivateKey({privateKeyBytes:Te}){return d(this,void 0,void 0,function*(){const ve=yield p.getCurvePoint({keyBytes:Te}),xe={kty:"EC",crv:"secp256k1",d:N.U$.uint8Array(Te).toBase64Url(),x:N.U$.uint8Array(ve.x).toBase64Url(),y:N.U$.uint8Array(ve.y).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Te}){return d(this,void 0,void 0,function*(){const ve=yield p.getCurvePoint({keyBytes:Te}),xe={kty:"EC",crv:"secp256k1",x:N.U$.uint8Array(ve.x).toBase64Url(),y:N.U$.uint8Array(ve.y).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static compressPublicKey({publicKeyBytes:Te}){return d(this,void 0,void 0,function*(){return q.bI.ProjectivePoint.fromHex(Te).toRawBytes(!0)})}static computePublicKey({key:Te}){return d(this,void 0,void 0,function*(){const ve=yield p.privateKeyToBytes({privateKey:Te}),xe=yield p.getCurvePoint({keyBytes:ve}),rt={kty:"EC",crv:"secp256k1",x:N.U$.uint8Array(xe.x).toBase64Url(),y:N.U$.uint8Array(xe.y).toBase64Url()};return rt.kid=yield ae({jwk:rt}),rt})}static convertDerToCompactSignature({derSignature:Te}){return d(this,void 0,void 0,function*(){return q.bI.Signature.fromDER(Te).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Te}){return d(this,void 0,void 0,function*(){return q.bI.ProjectivePoint.fromHex(Te).toRawBytes(!1)})}static generateKey(){return d(this,void 0,void 0,function*(){const Te=q.bI.utils.randomPrivateKey(),ve=yield p.bytesToPrivateKey({privateKeyBytes:Te});return ve.kid=yield ae({jwk:ve}),ve})}static getPublicKey({key:Te}){var ve;return d(this,void 0,void 0,function*(){if(!fe(Te)||"secp256k1"!==Te.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let rt=function(Ye,Te){var ve={};for(var xe in Ye)Object.prototype.hasOwnProperty.call(Ye,xe)&&Te.indexOf(xe)<0&&(ve[xe]=Ye[xe]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(xe=Object.getOwnPropertySymbols(Ye);rt<xe.length;rt++)Te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,xe[rt])&&(ve[xe[rt]]=Ye[xe[rt]])}return ve}(Te,["d"]);return null!==(ve=rt.kid)&&void 0!==ve||(rt.kid=yield ae({jwk:rt})),rt})}static privateKeyToBytes({privateKey:Te}){return d(this,void 0,void 0,function*(){if(!fe(Te))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return N.U$.base64Url(Te.d).toUint8Array()})}static publicKeyToBytes({publicKey:Te}){return d(this,void 0,void 0,function*(){if(!he(Te)||!Te.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const ve=new Uint8Array([4]),xe=N.U$.base64Url(Te.x).toUint8Array(),rt=N.U$.base64Url(Te.y).toUint8Array();return new Uint8Array([...ve,...xe,...rt])})}static sharedSecret({privateKeyA:Te,publicKeyB:ve}){return d(this,void 0,void 0,function*(){if("x"in Te&&"x"in ve&&Te.x===ve.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield p.privateKeyToBytes({privateKey:Te}),rt=yield p.publicKeyToBytes({publicKey:ve});return q.bI.getSharedSecret(xe,rt,!0).slice(1)})}static sign({data:Te,key:ve}){return d(this,void 0,void 0,function*(){const xe=yield p.privateKeyToBytes({privateKey:ve}),rt=(0,U.s)(Te);return q.bI.sign(rt,xe).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Te}){return d(this,void 0,void 0,function*(){return q.bI.utils.isValidPrivateKey(Te)})}static validatePublicKey({publicKeyBytes:Te}){return d(this,void 0,void 0,function*(){try{q.bI.ProjectivePoint.fromHex(Te).assertValidity()}catch{return!1}return!0})}static verify({key:Te,signature:ve,data:xe}){return d(this,void 0,void 0,function*(){const rt=yield p.publicKeyToBytes({publicKey:Te}),st=(0,U.s)(xe);return q.bI.verify(ve,st,rt,{lowS:!1})})}static getCurvePoint({keyBytes:Te}){return d(this,void 0,void 0,function*(){32===Te.byteLength&&(Te=q.bI.getPublicKey(Te));const ve=q.bI.ProjectivePoint.fromHex(Te);return{x:(0,Z.lq)(ve.x,32),y:(0,Z.lq)(ve.y,32)}})}}var E=_(40499),D=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class x{static adjustSignatureToLowS({signature:Te}){return D(this,void 0,void 0,function*(){const ve=E.Ag.Signature.fromCompact(Te);return ve.hasHighS()?ve.normalizeS().toCompactRawBytes():Te})}static bytesToPrivateKey({privateKeyBytes:Te}){return D(this,void 0,void 0,function*(){const ve=yield x.getCurvePoint({keyBytes:Te}),xe={kty:"EC",crv:"P-256",d:N.U$.uint8Array(Te).toBase64Url(),x:N.U$.uint8Array(ve.x).toBase64Url(),y:N.U$.uint8Array(ve.y).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Te}){return D(this,void 0,void 0,function*(){const ve=yield x.getCurvePoint({keyBytes:Te}),xe={kty:"EC",crv:"P-256",x:N.U$.uint8Array(ve.x).toBase64Url(),y:N.U$.uint8Array(ve.y).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static compressPublicKey({publicKeyBytes:Te}){return D(this,void 0,void 0,function*(){return E.Ag.ProjectivePoint.fromHex(Te).toRawBytes(!0)})}static computePublicKey({key:Te}){return D(this,void 0,void 0,function*(){const ve=yield x.privateKeyToBytes({privateKey:Te}),xe=yield x.getCurvePoint({keyBytes:ve}),rt={kty:"EC",crv:"P-256",x:N.U$.uint8Array(xe.x).toBase64Url(),y:N.U$.uint8Array(xe.y).toBase64Url()};return rt.kid=yield ae({jwk:rt}),rt})}static convertDerToCompactSignature({derSignature:Te}){return D(this,void 0,void 0,function*(){return E.Ag.Signature.fromDER(Te).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Te}){return D(this,void 0,void 0,function*(){return E.Ag.ProjectivePoint.fromHex(Te).toRawBytes(!1)})}static generateKey(){return D(this,void 0,void 0,function*(){const Te=E.Ag.utils.randomPrivateKey(),ve=yield x.bytesToPrivateKey({privateKeyBytes:Te});return ve.kid=yield ae({jwk:ve}),ve})}static getPublicKey({key:Te}){var ve;return D(this,void 0,void 0,function*(){if(!fe(Te)||"P-256"!==Te.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let rt=function(Ye,Te){var ve={};for(var xe in Ye)Object.prototype.hasOwnProperty.call(Ye,xe)&&Te.indexOf(xe)<0&&(ve[xe]=Ye[xe]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(xe=Object.getOwnPropertySymbols(Ye);rt<xe.length;rt++)Te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,xe[rt])&&(ve[xe[rt]]=Ye[xe[rt]])}return ve}(Te,["d"]);return null!==(ve=rt.kid)&&void 0!==ve||(rt.kid=yield ae({jwk:rt})),rt})}static privateKeyToBytes({privateKey:Te}){return D(this,void 0,void 0,function*(){if(!fe(Te))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return N.U$.base64Url(Te.d).toUint8Array()})}static publicKeyToBytes({publicKey:Te}){return D(this,void 0,void 0,function*(){if(!he(Te)||!Te.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const ve=new Uint8Array([4]),xe=N.U$.base64Url(Te.x).toUint8Array(),rt=N.U$.base64Url(Te.y).toUint8Array();return new Uint8Array([...ve,...xe,...rt])})}static sharedSecret({privateKeyA:Te,publicKeyB:ve}){return D(this,void 0,void 0,function*(){if("x"in Te&&"x"in ve&&Te.x===ve.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield x.privateKeyToBytes({privateKey:Te}),rt=yield x.publicKeyToBytes({publicKey:ve});return E.Ag.getSharedSecret(xe,rt,!0).slice(1)})}static sign({data:Te,key:ve}){return D(this,void 0,void 0,function*(){const xe=yield x.privateKeyToBytes({privateKey:ve}),rt=(0,U.s)(Te);return E.Ag.sign(rt,xe).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Te}){return D(this,void 0,void 0,function*(){return E.Ag.utils.isValidPrivateKey(Te)})}static validatePublicKey({publicKeyBytes:Te}){return D(this,void 0,void 0,function*(){try{E.Ag.ProjectivePoint.fromHex(Te).assertValidity()}catch{return!1}return!0})}static verify({key:Te,signature:ve,data:xe}){return D(this,void 0,void 0,function*(){const rt=yield x.publicKeyToBytes({publicKey:Te}),st=(0,U.s)(xe);return E.Ag.verify(ve,st,rt,{lowS:!1})})}static getCurvePoint({keyBytes:Te}){return D(this,void 0,void 0,function*(){32===Te.byteLength&&(Te=E.Ag.getPublicKey(Te));const ve=E.Ag.ProjectivePoint.fromHex(Te);return{x:(0,Z.lq)(ve.x,32),y:(0,Z.lq)(ve.y,32)}})}}var s=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class v extends L{computePublicKey({key:Te}){return s(this,void 0,void 0,function*(){if(!fe(Te))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Te.crv){case"secp256k1":{const ve=yield p.computePublicKey({key:Te});return ve.alg="ES256K",ve}case"P-256":{const ve=yield x.computePublicKey({key:Te});return ve.alg="ES256",ve}default:throw new Error(`Unsupported curve: ${Te.crv}`)}})}generateKey({algorithm:Te}){return s(this,void 0,void 0,function*(){switch(Te){case"ES256K":case"secp256k1":{const ve=yield p.generateKey();return ve.alg="ES256K",ve}case"ES256":case"secp256r1":{const ve=yield x.generateKey();return ve.alg="ES256",ve}}})}getPublicKey({key:Te}){return s(this,void 0,void 0,function*(){if(!fe(Te))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Te.crv){case"secp256k1":{const ve=yield p.getPublicKey({key:Te});return ve.alg="ES256K",ve}case"P-256":{const ve=yield x.getPublicKey({key:Te});return ve.alg="ES256",ve}default:throw new Error(`Unsupported curve: ${Te.crv}`)}})}sign({key:Te,data:ve}){return s(this,void 0,void 0,function*(){if(!fe(Te))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Te.crv){case"secp256k1":return yield p.sign({key:Te,data:ve});case"P-256":return yield x.sign({key:Te,data:ve});default:throw new Error(`Unsupported curve: ${Te.crv}`)}})}verify({key:Te,signature:ve,data:xe}){return s(this,void 0,void 0,function*(){if(!he(Te))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Te.crv){case"secp256k1":return yield p.verify({key:Te,signature:ve,data:xe});case"P-256":return yield x.verify({key:Te,signature:ve,data:xe});default:throw new Error(`Unsupported curve: ${Te.crv}`)}})}}var $=_(86295),F=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class de{static bytesToPrivateKey({privateKeyBytes:Te}){return F(this,void 0,void 0,function*(){const ve=$.ev.getPublicKey(Te),xe={crv:"Ed25519",d:N.U$.uint8Array(Te).toBase64Url(),kty:"OKP",x:N.U$.uint8Array(ve).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Te}){return F(this,void 0,void 0,function*(){const ve={kty:"OKP",crv:"Ed25519",x:N.U$.uint8Array(Te).toBase64Url()};return ve.kid=yield ae({jwk:ve}),ve})}static computePublicKey({key:Te}){return F(this,void 0,void 0,function*(){const ve=yield de.privateKeyToBytes({privateKey:Te}),xe=$.ev.getPublicKey(ve),rt={kty:"OKP",crv:"Ed25519",x:N.U$.uint8Array(xe).toBase64Url()};return rt.kid=yield ae({jwk:rt}),rt})}static convertPrivateKeyToX25519({privateKey:Te}){return F(this,void 0,void 0,function*(){const ve=yield de.privateKeyToBytes({privateKey:Te}),xe=(0,$.OA)(ve),rt=$.TU.getPublicKey(xe),st={kty:"OKP",crv:"X25519",d:N.U$.uint8Array(xe).toBase64Url(),x:N.U$.uint8Array(rt).toBase64Url()};return st.kid=yield ae({jwk:st}),st})}static convertPublicKeyToX25519({publicKey:Te}){return F(this,void 0,void 0,function*(){const ve=yield de.publicKeyToBytes({publicKey:Te});if(!(yield de.validatePublicKey({publicKeyBytes:ve})))throw new Error("Ed25519: Invalid public key.");const rt=(0,$.GU)(ve),st={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(rt).toBase64Url()};return st.kid=yield ae({jwk:st}),st})}static generateKey(){return F(this,void 0,void 0,function*(){const Te=$.ev.utils.randomPrivateKey(),ve=yield de.bytesToPrivateKey({privateKeyBytes:Te});return ve.kid=yield ae({jwk:ve}),ve})}static getPublicKey({key:Te}){var ve;return F(this,void 0,void 0,function*(){if(!Me(Te)||"Ed25519"!==Te.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let rt=function(Ye,Te){var ve={};for(var xe in Ye)Object.prototype.hasOwnProperty.call(Ye,xe)&&Te.indexOf(xe)<0&&(ve[xe]=Ye[xe]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(xe=Object.getOwnPropertySymbols(Ye);rt<xe.length;rt++)Te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,xe[rt])&&(ve[xe[rt]]=Ye[xe[rt]])}return ve}(Te,["d"]);return null!==(ve=rt.kid)&&void 0!==ve||(rt.kid=yield ae({jwk:rt})),rt})}static privateKeyToBytes({privateKey:Te}){return F(this,void 0,void 0,function*(){if(!Me(Te))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return N.U$.base64Url(Te.d).toUint8Array()})}static publicKeyToBytes({publicKey:Te}){return F(this,void 0,void 0,function*(){if(!Pe(Te))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return N.U$.base64Url(Te.x).toUint8Array()})}static sign({key:Te,data:ve}){return F(this,void 0,void 0,function*(){const xe=yield de.privateKeyToBytes({privateKey:Te});return $.ev.sign(ve,xe)})}static validatePublicKey({publicKeyBytes:Te}){return F(this,void 0,void 0,function*(){try{$.ev.ExtendedPoint.fromHex(Te).assertValidity()}catch{return!1}return!0})}static verify({key:Te,signature:ve,data:xe}){return F(this,void 0,void 0,function*(){const rt=yield de.publicKeyToBytes({publicKey:Te});return $.ev.verify(ve,xe,rt)})}}var Ce=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})},Ve=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};const Ee={Ed25519:{implementation:class Re extends L{computePublicKey({key:Te}){return Ce(this,void 0,void 0,function*(){if(!Me(Te))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Te.crv){const ve=yield de.computePublicKey({key:Te});return ve.alg="EdDSA",ve}throw new Error(`Unsupported curve: ${Te.crv}`)})}generateKey({algorithm:Te}){return Ce(this,void 0,void 0,function*(){if("Ed25519"===Te){const ve=yield de.generateKey();return ve.alg="EdDSA",ve}})}getPublicKey({key:Te}){return Ce(this,void 0,void 0,function*(){if(!Me(Te))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Te.crv){const ve=yield de.getPublicKey({key:Te});return ve.alg="EdDSA",ve}throw new Error(`Unsupported curve: ${Te.crv}`)})}sign({key:Te,data:ve}){return Ce(this,void 0,void 0,function*(){if(!Me(Te))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Te.crv)return yield de.sign({key:Te,data:ve});throw new Error(`Unsupported curve: ${Te.crv}`)})}verify({key:Te,signature:ve,data:xe}){return Ce(this,void 0,void 0,function*(){if(!Pe(Te))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Te.crv)return yield de.verify({key:Te,signature:ve,data:xe});throw new Error(`Unsupported curve: ${Te.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:v,names:["ES256K","secp256k1"]},secp256r1:{implementation:v,names:["ES256","secp256r1"]},"SHA-256":{implementation:class ee extends L{digest({algorithm:Te,data:ve}){return function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Te)return yield G.digest({data:ve})})}},names:["SHA-256"]}};class _e{constructor(Te){var ve;this._algorithmInstances=new Map,this._keyStore=null!==(ve=Te?.keyStore)&&void 0!==ve?ve:new N.ny}digest({algorithm:Te,data:ve}){return Ve(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Te}).digest({algorithm:Te,data:ve})})}exportKey({keyUri:Te}){return Ve(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Te})})}generateKey({algorithm:Te}){return Ve(this,void 0,void 0,function*(){const xe=yield this.getAlgorithm({algorithm:Te}).generateKey({algorithm:Te});if(void 0===xe?.kid)throw new Error("Generated key is missing a required property: kid");const rt=`${ce}${xe.kid}`;return yield this._keyStore.set(rt,xe),rt})}getKeyUri({key:Te}){return Ve(this,void 0,void 0,function*(){const ve=yield ae({jwk:Te});return`${ce}${ve}`})}getPublicKey({keyUri:Te}){return Ve(this,void 0,void 0,function*(){const ve=yield this.getPrivateKey({keyUri:Te}),xe=this.getAlgorithmName({key:ve});return yield this.getAlgorithm({algorithm:xe}).getPublicKey({key:ve})})}importKey({key:Te}){var ve;return Ve(this,void 0,void 0,function*(){if(!function C(Ye){if(!Ye||"object"!=typeof Ye)return!1;switch(Ye.kty){case"EC":case"OKP":case"RSA":return"d"in Ye;case"oct":return"k"in Ye;default:return!1}}(Te))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const xe=structuredClone(Te);null!==(ve=xe.kid)&&void 0!==ve||(xe.kid=yield ae({jwk:xe}));const rt=yield this.getKeyUri({key:xe});return yield this._keyStore.set(rt,xe),rt})}sign({keyUri:Te,data:ve}){return Ve(this,void 0,void 0,function*(){const xe=yield this.getPrivateKey({keyUri:Te}),rt=this.getAlgorithmName({key:xe});return this.getAlgorithm({algorithm:rt}).sign({data:ve,key:xe})})}verify({key:Te,signature:ve,data:xe}){return Ve(this,void 0,void 0,function*(){const rt=this.getAlgorithmName({key:Te});return this.getAlgorithm({algorithm:rt}).verify({key:Te,signature:ve,data:xe})})}getAlgorithm({algorithm:Te}){var ve;const xe=null===(ve=Ee[Te])||void 0===ve?void 0:ve.implementation;if(!xe)throw new Error(`Algorithm not supported: ${Te}`);return this._algorithmInstances.has(xe)||this._algorithmInstances.set(xe,new xe),this._algorithmInstances.get(xe)}getAlgorithmName({key:Te}){const ve=Te.alg,xe=Te.crv;for(const rt in Ee){const st=Ee[rt];if(ve&&st.names.includes(ve))return rt;if(xe&&st.names.includes(xe))return rt}throw new Error(`Unable to determine algorithm based on provided input: alg=${ve}, crv=${xe}`)}getPrivateKey({keyUri:Te}){return Ve(this,void 0,void 0,function*(){const ve=yield this._keyStore.get(Te);if(!ve)throw new Error(`Key not found: ${Te}`);return ve})}}function me(Ye){const Te={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(Ye.alg&&Object.values(Te).includes(Ye.alg))return Ye.alg;if(Ye.crv&&Object.keys(Te).includes(Ye.crv))return Te[Ye.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${Ye.alg}, crv=${Ye.crv}. Supported 'alg' values: ${Object.values(Te).join(", ")}. Supported 'crv' values: ${Object.keys(Te).join(", ")}.`)}_(86703),_(62953),_(91879);var un=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class Cn{static bytesToPrivateKey({privateKeyBytes:Te}){return un(this,void 0,void 0,function*(){const ve=$.TU.getPublicKey(Te),xe={kty:"OKP",crv:"X25519",d:N.U$.uint8Array(Te).toBase64Url(),x:N.U$.uint8Array(ve).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Te}){return un(this,void 0,void 0,function*(){const ve={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(Te).toBase64Url()};return ve.kid=yield ae({jwk:ve}),ve})}static computePublicKey({key:Te}){return un(this,void 0,void 0,function*(){const ve=yield Cn.privateKeyToBytes({privateKey:Te}),xe=$.TU.getPublicKey(ve),rt={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(xe).toBase64Url()};return rt.kid=yield ae({jwk:rt}),rt})}static generateKey(){return un(this,void 0,void 0,function*(){const Te=$.TU.utils.randomPrivateKey(),ve=yield Cn.bytesToPrivateKey({privateKeyBytes:Te});return ve.kid=yield ae({jwk:ve}),ve})}static getPublicKey({key:Te}){var ve;return un(this,void 0,void 0,function*(){if(!Me(Te)||"X25519"!==Te.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let rt=function(Ye,Te){var ve={};for(var xe in Ye)Object.prototype.hasOwnProperty.call(Ye,xe)&&Te.indexOf(xe)<0&&(ve[xe]=Ye[xe]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(xe=Object.getOwnPropertySymbols(Ye);rt<xe.length;rt++)Te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,xe[rt])&&(ve[xe[rt]]=Ye[xe[rt]])}return ve}(Te,["d"]);return null!==(ve=rt.kid)&&void 0!==ve||(rt.kid=yield ae({jwk:rt})),rt})}static privateKeyToBytes({privateKey:Te}){return un(this,void 0,void 0,function*(){if(!Me(Te))throw new Error("X25519: The provided key is not a valid OKP private key.");return N.U$.base64Url(Te.d).toUint8Array()})}static publicKeyToBytes({publicKey:Te}){return un(this,void 0,void 0,function*(){if(!Pe(Te))throw new Error("X25519: The provided key is not a valid OKP public key.");return N.U$.base64Url(Te.x).toUint8Array()})}static sharedSecret({privateKeyA:Te,publicKeyB:ve}){return un(this,void 0,void 0,function*(){if("x"in Te&&"x"in ve&&Te.x===ve.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield Cn.privateKeyToBytes({privateKey:Te}),rt=yield Cn.publicKeyToBytes({publicKey:ve});return $.TU.getSharedSecret(xe,rt)})}}function _t(Ye){if("string"==typeof Ye&&0!==Ye.length)return Ye.split("#").pop()}function wn(Ye){return!(!Ye||"object"!=typeof Ye||null===Ye||!("id"in Ye&&"type"in Ye&&"controller"in Ye)||"string"!=typeof Ye.id||"string"!=typeof Ye.type||"string"!=typeof Ye.controller)}_(94730);var ir=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class Nn{constructor({uri:Te,document:ve,metadata:xe,keyManager:rt}){this.uri=Te,this.document=ve,this.metadata=xe,this.keyManager=rt}export(){return ir(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Te={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const ve=[];for(let xe of this.document.verificationMethod){if(!xe.publicKeyJwk)throw new Error(`Verification method '${xe.id}' does not contain a public key in JWK format`);const rt=yield this.keyManager.getKeyUri({key:xe.publicKeyJwk}),st=yield this.keyManager.exportKey({keyUri:rt});ve.push(Object.assign({},st))}Te.privateKeys=ve}return Te})}getSigner(Te){return ir(this,void 0,void 0,function*(){var ve;const xe=null===(ve=this.document.verificationMethod)||void 0===ve?void 0:ve.find(Mn=>{var Ie,ie;return _t(Mn.id)===(null!==(Ie=_t(Te?.methodId))&&void 0!==Ie?Ie:_t(null===(ie=this.document.assertionMethod)||void 0===ie?void 0:ie[0]))});if(!xe||!xe.publicKeyJwk)throw new S(B.InternalError,"A verification method intended for signing could not be determined from the DID Document");const rt=yield this.keyManager.getKeyUri({key:xe.publicKeyJwk}),st=yield this.keyManager.getPublicKey({keyUri:rt}),Mt=this.keyManager;return{algorithm:me(st),keyId:xe.id,sign(Mn){return ir(this,arguments,void 0,function*({data:Ie}){return yield Mt.sign({data:Ie,keyUri:rt})})},verify(Mn){return ir(this,arguments,void 0,function*({data:Ie,signature:ie}){return yield Mt.verify({data:Ie,key:st,signature:ie})})}}})}static import(Te){return ir(this,arguments,void 0,function*({portableDid:ve,keyManager:xe=new _e}){var rt;const st=function tt({didDocument:Ye}){var Te,ve;if(!Ye)throw new TypeError("Required parameter missing: 'didDocument'");const xe=[];return xe.push(...null!==(ve=null===(Te=Ye.verificationMethod)||void 0===Te?void 0:Te.filter(wn))&&void 0!==ve?ve:[]),Object.keys(H).forEach(rt=>{var st,Mt;xe.push(...null!==(Mt=null===(st=Ye[rt])||void 0===st?void 0:st.filter(wn))&&void 0!==Mt?Mt:[])}),xe}({didDocument:ve.document});if(0===st.length)throw new S(B.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let Jt of null!==(rt=ve.privateKeys)&&void 0!==rt?rt:[])yield xe.importKey({key:Jt});for(let Jt of st){if(!Jt.publicKeyJwk)throw new Error(`Verification method '${Jt.id}' does not contain a public key in JWK format`);const Mn=yield xe.getKeyUri({key:Jt.publicKeyJwk});yield xe.getPublicKey({keyUri:Mn})}return new Nn({uri:ve.uri,document:ve.document,metadata:ve.metadata,keyManager:xe})})}}var Ln=_(2198),at=_(49402),He=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class ct{static getSigningMethod(Te){return He(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Te,ve){return He(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Zt=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})},xn=function(Ye,Te){var ve={};for(var xe in Ye)Object.prototype.hasOwnProperty.call(Ye,xe)&&Te.indexOf(xe)<0&&(ve[xe]=Ye[xe]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(xe=Object.getOwnPropertySymbols(Ye);rt<xe.length;rt++)Te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,xe[rt])&&(ve[xe[rt]]=Ye[xe[rt]])}return ve};const Hn="https://diddht.tbddev.org",hr=7200,Cr=",";var Ur=function(Ye){return Ye[Ye.Discoverable=0]="Discoverable",Ye[Ye.Organization=1]="Organization",Ye[Ye.Government=2]="Government",Ye[Ye.Corporation=3]="Corporation",Ye[Ye.LocalBusiness=4]="LocalBusiness",Ye[Ye.SoftwarePackage=5]="SoftwarePackage",Ye[Ye.WebApp=6]="WebApp",Ye[Ye.FinancialInstitution=7]="FinancialInstitution",Ye}(Ur||{}),Lr=function(Ye){return Ye[Ye.Ed25519=0]="Ed25519",Ye[Ye.secp256k1=1]="secp256k1",Ye[Ye.secp256r1=2]="secp256r1",Ye[Ye.X25519=3]="X25519",Ye}(Lr||{}),oi=function(Ye){return Ye.authentication="auth",Ye.assertionMethod="asm",Ye.capabilityDelegation="del",Ye.capabilityInvocation="inv",Ye.keyAgreement="agm",Ye}(oi||{});const on={Ed25519:Lr.Ed25519,ES256K:Lr.secp256k1,ES256:Lr.secp256r1,"P-256":Lr.secp256r1,secp256k1:Lr.secp256k1,secp256r1:Lr.secp256r1,X25519:Lr.X25519},_n={[Lr.Ed25519]:"EdDSA",[Lr.secp256k1]:"ES256K",[Lr.secp256r1]:"ES256",[Lr.X25519]:"ECDH-ES+A256KW"};let Dn=(()=>{class Ye extends ct{static create(){return Zt(this,arguments,void 0,function*({keyManager:ve=new _e,options:xe={}}={}){var rt,st,Mt,Jt,Mn,Ie,ie,oe,ye,We,Ze;if(null!==(rt=xe.verificationMethods)&&void 0!==rt&&rt.some(lr=>!(lr.algorithm in on)))throw new Error("One or more verification method algorithms are not supported");const ht=null===(st=xe.verificationMethods)||void 0===st?void 0:st.filter(lr=>"id"in lr).map(lr=>lr.id);if(ht&&ht.length!==new Set(ht).size)throw new Error("One or more verification method IDs are not unique");if(null!==(Mt=xe.services)&&void 0!==Mt&&Mt.some(lr=>!lr.id||!lr.type||!lr.serviceEndpoint))throw new Error("One or more services are missing required properties");const $t=yield ve.generateKey({algorithm:"Ed25519"}),bn=yield ve.getPublicKey({keyUri:$t}),zt=yield Gn.identityKeyToIdentifier({identityKey:bn}),dt=Object.assign(Object.assign({id:zt},xe.alsoKnownAs&&{alsoKnownAs:xe.alsoKnownAs}),xe.controllers&&{controller:xe.controllers}),tn=[...null!==(Jt=xe.verificationMethods)&&void 0!==Jt?Jt:[]];tn?.some(lr=>{var $r;return"0"===(null===($r=lr.id)||void 0===$r?void 0:$r.split("#").pop())})||tn.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const lr of tn){const $r=lr.id&&"0"===lr.id.split("#").pop()?$t:yield ve.generateKey({algorithm:lr.algorithm}),ni=yield ve.getPublicKey({keyUri:$r});let ui=null!==(Ie=null!==(Mn=lr.id)&&void 0!==Mn?Mn:ni.kid)&&void 0!==Ie?Ie:yield ae({jwk:ni});ui=`${zt}#${_t(ui)}`,null!==(ie=dt.verificationMethod)&&void 0!==ie||(dt.verificationMethod=[]),dt.verificationMethod.push({id:ui,type:"JsonWebKey",controller:null!==(oe=lr.controller)&&void 0!==oe?oe:zt,publicKeyJwk:ni});for(const Ii of null!==(ye=lr.purposes)&&void 0!==ye?ye:[])dt[Ii]||(dt[Ii]=[]),dt[Ii].push(ui)}null===(We=xe.services)||void 0===We||We.forEach(lr=>{var $r;null!==($r=dt.service)&&void 0!==$r||(dt.service=[]),lr.id=`${zt}#${lr.id.split("#").pop()}`,dt.service.push(lr)});const fr=new Nn({uri:zt,document:dt,metadata:Object.assign({published:!1},xe.types&&{types:xe.types}),keyManager:ve});if(null===(Ze=xe.publish)||void 0===Ze||Ze){const lr=yield Ye.publish({did:fr,gatewayUri:xe.gatewayUri});fr.metadata=lr.didDocumentMetadata}return fr})}static import(ve){return Zt(this,arguments,void 0,function*({portableDid:xe,keyManager:rt=new _e}){var st;const Mt=O.parse(xe.uri);if(Mt?.method!==Ye.methodName)throw new S(B.MethodNotSupported,"Method not supported");const Jt=yield Nn.import({portableDid:xe,keyManager:rt});if(null===(st=Jt.document.verificationMethod)||void 0===st||!st.some(Mn=>{var Ie;return"0"===(null===(Ie=Mn.id)||void 0===Ie?void 0:Ie.split("#").pop())}))throw new S(B.InvalidDidDocument,"DID document must contain an Identity Key");return Jt})}static getSigningMethod(ve){return Zt(this,arguments,void 0,function*({didDocument:xe,methodId:rt="#0"}){var st;const Mt=O.parse(xe.id);if(Mt&&Mt.method!==this.methodName)throw new S(B.MethodNotSupported,`Method not supported: ${Mt.method}`);const Jt=null===(st=xe.verificationMethod)||void 0===st?void 0:st.find(Mn=>{var Ie,ie;return _t(Mn.id)===(null!==(Ie=_t(rt))&&void 0!==Ie?Ie:_t(null===(ie=xe.assertionMethod)||void 0===ie?void 0:ie[0]))});if(!Jt||!Jt.publicKeyJwk)throw new S(B.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Jt})}static publish(ve){return Zt(this,arguments,void 0,function*({did:xe,gatewayUri:rt=Hn}){return yield Wn.put({did:xe,gatewayUri:rt})})}static resolve(ve){return Zt(this,arguments,void 0,function*(xe,rt={}){var st;const Mt=null!==(st=rt?.gatewayUri)&&void 0!==st?st:Hn;try{yield Gn.identifierToIdentityKey({didUri:xe});const{didDocument:Jt,didDocumentMetadata:Mn}=yield Wn.get({didUri:xe,gatewayUri:Mt});return Object.assign(Object.assign({},w),{didDocument:Jt,didDocumentMetadata:Mn})}catch(Jt){if(!(Jt instanceof S))throw new Error(Jt);return Object.assign(Object.assign({},w),{didResolutionMetadata:Object.assign({error:Jt.code},Jt.message&&{errorMessage:Jt.message})})}})}}return Ye.methodName="dht",Ye})();class Wn{static get(Te){return Zt(this,arguments,void 0,function*({didUri:ve,gatewayUri:xe}){const rt=Gn.identifierToIdentityKeyBytes({didUri:ve}),st=yield Wn.pkarrGet({gatewayUri:xe,publicKeyBytes:rt}),Mt=yield Gn.parseBep44GetMessage({bep44Message:st}),Jt=yield Wn.fromDnsPacket({didUri:ve,dnsPacket:Mt});return Jt.didDocumentMetadata.versionId=st.seq.toString(),Jt})}static put(Te){return Zt(this,arguments,void 0,function*({did:ve,gatewayUri:xe}){const rt=yield Wn.toDnsPacket({didDocument:ve.document,didMetadata:ve.metadata,authoritativeGatewayUris:[xe]}),st=yield Gn.createBep44PutMessage({dnsPacket:rt,publicKeyBytes:Gn.identifierToIdentityKeyBytes({didUri:ve.uri}),signer:yield ve.getSigner({methodId:"0"})}),Mt=yield Wn.pkarrPut({gatewayUri:xe,bep44Message:st});return{didDocument:ve.document,didDocumentMetadata:Object.assign(Object.assign({},ve.metadata),{published:Mt,versionId:st.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Te){return Zt(this,arguments,void 0,function*({gatewayUri:ve,publicKeyBytes:xe}){const rt=N.U$.uint8Array(xe).toBase32Z(),st=new URL(rt,ve).href;let Mt;try{if(Mt=yield fetch(st,{method:"GET"}),!Mt.ok)throw new S(B.NotFound,`Pkarr record not found for: ${rt}`)}catch(Ie){throw Ie instanceof S?Ie:new S(B.InternalError,`Failed to fetch Pkarr record: ${Ie.message}`)}const Jt=yield Mt.arrayBuffer();if(!Jt)throw new S(B.NotFound,`Pkarr record not found for: ${rt}`);if(Jt.byteLength<72)throw new S(B.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${Jt.byteLength}`);if(Jt.byteLength>1072)throw new S(B.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${Jt.byteLength}`);return{k:xe,seq:Number(new DataView(Jt).getBigUint64(64)),sig:new Uint8Array(Jt,0,64),v:new Uint8Array(Jt,72)}})}static pkarrPut(Te){return Zt(this,arguments,void 0,function*({gatewayUri:ve,bep44Message:xe}){const rt=N.U$.uint8Array(xe.k).toBase32Z(),st=new URL(rt,ve).href,Mt=new Uint8Array(xe.v.length+72);let Jt;Mt.set(xe.sig,0),new DataView(Mt.buffer).setBigUint64(xe.sig.length,BigInt(xe.seq)),Mt.set(xe.v,xe.sig.length+8);try{Jt=yield fetch(st,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:Mt})}catch(Mn){throw new S(B.InternalError,`Failed to put Pkarr record for identifier ${rt}: ${Mn.message}`)}return Jt.ok})}static fromDnsPacket(Te){return Zt(this,arguments,void 0,function*({didUri:ve,dnsPacket:xe}){var rt,st,Mt;const Jt={id:ve},Mn={published:!0},Ie=new Map;for(const ie of null!==(rt=xe?.answers)&&void 0!==rt?rt:[]){if("TXT"!==ie.type)continue;const oe=ie.name.split(".")[0].substring(1);switch(!0){case oe.startsWith("aka"):{const ye=Gn.parseTxtDataToString(ie.data);Jt.alsoKnownAs=ye.split(Cr);break}case oe.startsWith("cnt"):{const ye=Gn.parseTxtDataToString(ie.data);Jt.controller=ye.includes(Cr)?ye.split(Cr):ye;break}case oe.startsWith("k"):{const{id:ye,t:We,k:Ze,c:ht,a:$t}=Gn.parseTxtDataToObject(ie.data),bn=N.U$.base64Url(Ze).toUint8Array(),zt=Lr[Number(We)];let dt=yield Gn.keyConverter(zt).bytesToPublicKey({publicKeyBytes:bn});dt.alg=$t||_n[Number(We)];const tn="k0"===oe?"0":void 0!==ye?ye:yield ae({jwk:dt});null!==(st=Jt.verificationMethod)&&void 0!==st||(Jt.verificationMethod=[]);const fr=`${ve}#${tn}`;Jt.verificationMethod.push({id:fr,type:"JsonWebKey",controller:ht??ve,publicKeyJwk:dt}),Ie.set(oe,fr);break}case oe.startsWith("s"):{const ye=Gn.parseTxtDataToObject(ie.data),{id:We,t:Ze,se:ht}=ye,$t=xn(ye,["id","t","se"]),bn=ht.includes(Cr)?ht.split(Cr):[ht],zt=Object.fromEntries(Object.entries($t).map(([dt,tn])=>[dt,tn.includes(Cr)?tn.split(Cr):tn]));null!==(Mt=Jt.service)&&void 0!==Mt||(Jt.service=[]),Jt.service.push(Object.assign(Object.assign({},zt),{id:`${ve}#${We}`,type:Ze,serviceEndpoint:bn}));break}case oe.startsWith("typ"):{const{id:ye}=Gn.parseTxtDataToObject(ie.data);Mn.types=ye.split(Cr).map(We=>Number(We));break}case oe.startsWith("did"):{const ye=zt=>zt.split(Cr).map(dt=>Ie.get(dt)).filter(dt=>"string"==typeof dt),{auth:We,asm:Ze,del:ht,inv:$t,agm:bn}=Gn.parseTxtDataToObject(ie.data);We&&(Jt.authentication=ye(We)),Ze&&(Jt.assertionMethod=ye(Ze)),ht&&(Jt.capabilityDelegation=ye(ht)),$t&&(Jt.capabilityInvocation=ye($t)),bn&&(Jt.keyAgreement=ye(bn));break}}}return{didDocument:Jt,didDocumentMetadata:Mn,didResolutionMetadata:{}}})}static toDnsPacket(Te){return Zt(this,arguments,void 0,function*({didDocument:ve,didMetadata:xe,authoritativeGatewayUris:rt,previousDidProof:st}){var Mt,Jt,Mn,Ie,ie;const oe=[],ye=[],We=new Map,Ze=[],ht=[];if(void 0!==st){const{signature:zt,previousDid:dt}=st;yield Gn.validatePreviousDidProof({newDid:ve.id,previousDidProof:st}),oe.push({type:"TXT",name:"_prv._did.",ttl:hr,data:`id=${dt};s=${zt}`})}if(ve.alsoKnownAs&&oe.push({type:"TXT",name:"_aka._did.",ttl:hr,data:ve.alsoKnownAs.join(Cr)}),ve.controller){const zt=Array.isArray(ve.controller)?ve.controller.join(Cr):ve.controller;oe.push({type:"TXT",name:"_cnt._did.",ttl:hr,data:zt})}for(const[zt,dt]of null!==(Jt=null===(Mt=ve.verificationMethod)||void 0===Mt?void 0:Mt.entries())&&void 0!==Jt?Jt:[]){const tn=`k${zt}`;ht.push(tn);let fr=dt.id.split("#").pop();We.set(fr,tn);const lr=dt.publicKeyJwk;if(!lr?.crv||!(lr.crv in on))throw new S(B.InvalidPublicKeyType,`Verification method '${dt.id}' contains an unsupported key type: ${null!==(Mn=lr?.crv)&&void 0!==Mn?Mn:"undefined"}`);const $r=Lr[lr.crv],ni=yield Gn.keyConverter(lr.crv).publicKeyToBytes({publicKey:lr}),Ii=[`t=${$r}`,`k=${N.U$.uint8Array(ni).toBase64Url()}`];"0"!==fr&&(yield ae({jwk:lr}))!==fr&&Ii.unshift(`id=${fr}`),lr.alg!==_n[$r]&&Ii.push(`a=${lr.alg}`),dt.controller!==ve.id&&Ii.push(`c=${dt.controller}`),oe.push({type:"TXT",name:`_${tn}._did.`,ttl:hr,data:Ii.join(";")})}null===(Ie=ve.service)||void 0===Ie||Ie.forEach((zt,dt)=>{const tn=`s${dt}`;Ze.push(tn);let{id:fr,type:lr,serviceEndpoint:$r}=zt,ni=xn(zt,["id","type","serviceEndpoint"]);fr=_t(fr),$r=Array.isArray($r)?$r.join(","):$r;const Ii=Object.entries(Object.assign({id:fr,t:lr,se:$r},ni)).map(([Qr,wi])=>`${Qr}=${wi}`).join(";"),Wr=Gn.chunkDataIfNeeded(Ii);oe.push({type:"TXT",name:`_${tn}._did.`,ttl:hr,data:Wr})});const $t=["v=0"];if(ht.length&&$t.push(`vm=${ht.join(Cr)}`),Object.keys(H).forEach(zt=>{var dt;const tn=null===(dt=ve[zt])||void 0===dt?void 0:dt.map(fr=>We.get(fr.split("#").pop()));tn&&$t.push(`${oi[zt]}=${tn.join(Cr)}`)}),Ze.length&&$t.push(`svc=${Ze.join(Cr)}`),null!==(ie=xe.types)&&void 0!==ie&&ie.length){const dt=xe.types.map(tn=>"string"==typeof tn?Ur[tn]:tn);oe.push({type:"TXT",name:"_typ._did.",ttl:hr,data:`id=${dt.join(Cr)}`})}oe.push({type:"TXT",name:"_did."+Wn.getUniqueDidSuffix(ve.id)+".",ttl:hr,data:$t.join(";")});for(const zt of rt||[])ye.push({type:"NS",name:"_did."+Wn.getUniqueDidSuffix(ve.id)+".",ttl:hr,data:zt+"."});return{id:0,type:"response",flags:at.hB,answers:[...oe,...ye]}})}static getUniqueDidSuffix(Te){return Te.split(":")[2]}}class Gn{static createBep44PutMessage(Te){return Zt(this,arguments,void 0,function*({dnsPacket:ve,publicKeyBytes:xe,signer:rt}){const st=Math.ceil(Date.now()/1e3),Mt=(0,at.lF)(ve),Jt=Ln.A.encode({seq:st,v:Mt}).subarray(1,-1);if(Jt.length>1e3)throw new S(B.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${Jt.length} bytes`);return{k:xe,seq:st,sig:yield rt.sign({data:Jt}),v:Mt}})}static identifierToIdentityKey(Te){return Zt(this,arguments,void 0,function*({didUri:ve}){let xe=Gn.identifierToIdentityKeyBytes({didUri:ve});return yield de.bytesToPublicKey({publicKeyBytes:xe})})}static identifierToIdentityKeyBytes({didUri:Te}){const ve=O.parse(Te);if(!ve)throw new S(B.InvalidDid,`Invalid DID URI: ${Te}`);if(ve.method!==Dn.methodName)throw new S(B.MethodNotSupported,`Method not supported: ${ve.method}`);let xe;try{xe=N.U$.base32Z(ve.id).toUint8Array()}catch{throw new S(B.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==xe.length)throw new S(B.InvalidPublicKeyLength,`Invalid public key length: ${xe.length}`);return xe}static identityKeyToIdentifier(Te){return Zt(this,arguments,void 0,function*({identityKey:ve}){const xe=yield de.publicKeyToBytes({publicKey:ve}),rt=N.U$.uint8Array(xe).toBase32Z();return`did:${Dn.methodName}:${rt}`})}static keyConverter(Te){const xe={Ed25519:de,"P-256":{publicKeyToBytes:rt=>Zt(this,[rt],void 0,function*({publicKey:st}){const Mt=yield x.publicKeyToBytes({publicKey:st});return yield x.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:x.bytesToPublicKey,privateKeyToBytes:x.privateKeyToBytes,bytesToPrivateKey:x.bytesToPrivateKey},secp256k1:{publicKeyToBytes:rt=>Zt(this,[rt],void 0,function*({publicKey:st}){const Mt=yield p.publicKeyToBytes({publicKey:st});return yield p.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:p.bytesToPublicKey,privateKeyToBytes:p.privateKeyToBytes,bytesToPrivateKey:p.bytesToPrivateKey},X25519:Cn}[Te];if(!xe)throw new S(B.InvalidPublicKeyType,`Unsupported curve: ${Te}`);return xe}static parseBep44GetMessage(Te){return Zt(this,arguments,void 0,function*({bep44Message:ve}){const xe=yield de.bytesToPublicKey({publicKeyBytes:ve.k}),rt=Ln.A.encode({seq:ve.seq,v:ve.v}).subarray(1,-1);if(!(yield de.verify({key:xe,signature:ve.sig,data:rt})))throw new S(B.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,at.D4)(ve.v)})}static parseTxtDataToObject(Te){return this.parseTxtDataToString(Te).split(";").reduce((ve,xe)=>{const[rt,st]=xe.split("=");return ve[rt]=st,ve},{})}static parseTxtDataToString(Te){if("string"==typeof Te)return Te;if(Te instanceof Uint8Array)return N.U$.uint8Array(Te).toString();if(Array.isArray(Te))return Te.map(ve=>this.parseTxtDataToString(ve)).join("");throw new S(B.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Te){return Zt(this,arguments,void 0,function*({newDid:ve,previousDidProof:xe}){const rt=yield Gn.identifierToIdentityKey({didUri:xe.previousDid}),st=Gn.identifierToIdentityKeyBytes({didUri:ve}),Mt=N.U$.base64Url(xe.signature).toUint8Array();if(!(yield de.verify({key:rt,data:st,signature:Mt})))throw new S(B.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Te){if(Te.length<=255)return Te;const ve=[];for(let xe=0;xe<Te.length;xe+=255)ve.push(Te.slice(xe,xe+255));return ve}}_(52039),_(62108),_(37477);var Ga=function(Ye){return Ye.authentication="authentication",Ye.assertionMethod="assertionMethod",Ye.keyAgreement="keyAgreement",Ye.capabilityInvocation="capabilityInvocation",Ye.capabilityDelegation="capabilityDelegation",Ye}(Ga||{});const ro={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Bo{constructor({method:Te,id:ve,path:xe,query:rt,fragment:st,params:Mt}){this.uri=`did:${Te}:${ve}`,this.method=Te,this.id=ve,this.path=xe,this.query=rt,this.fragment=st,this.params=Mt}static parse(Te){if(!Te)return null;const ve=Bo.DID_URI_PATTERN.exec(Te);if(!ve||!ve.groups)return null;const{method:xe,id:rt,path:st,query:Mt,fragment:Jt}=ve.groups,Mn={uri:`did:${xe}:${rt}`,method:xe,id:rt};if(st&&(Mn.path=st),Mt&&(Mn.query=Mt.slice(1)),Jt&&(Mn.fragment=Jt.slice(1)),Mt){const Ie={},ie=Mt.slice(1).split("&");for(const oe of ie){const[ye,We]=oe.split("=");Ie[ye]=We}Mn.params=Ie}return Mn}}Bo.METHOD_PATTERN="([a-z0-9]+)",Bo.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Bo.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Bo.PCT_ENCODED_PATTERN})`,Bo.METHOD_ID_PATTERN=`((?:${Bo.ID_CHAR_PATTERN}*:)*(${Bo.ID_CHAR_PATTERN}+))`,Bo.PATH_PATTERN="(/[^#?]*)?",Bo.QUERY_PATTERN="([?][^#]*)?",Bo.FRAGMENT_PATTERN="(#.*)?",Bo.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Bo.METHOD_PATTERN}):(?<id>${Bo.METHOD_ID_PATTERN})(?<path>${Bo.PATH_PATTERN})(?<query>${Bo.QUERY_PATTERN})(?<fragment>${Bo.FRAGMENT_PATTERN})$`);class To extends Error{constructor(Te,ve){super(`${Te}: ${ve}`),this.code=Te,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,To)}}var go=function(Ye){return Ye.InvalidDid="invalidDid",Ye.MethodNotSupported="methodNotSupported",Ye.InternalError="internalError",Ye.InvalidDidDocument="invalidDidDocument",Ye.InvalidDidDocumentLength="invalidDidDocumentLength",Ye.InvalidDidUrl="invalidDidUrl",Ye.InvalidPreviousDidProof="invalidPreviousDidProof",Ye.InvalidPublicKey="invalidPublicKey",Ye.InvalidPublicKeyLength="invalidPublicKeyLength",Ye.InvalidPublicKeyType="invalidPublicKeyType",Ye.InvalidSignature="invalidSignature",Ye.NotFound="notFound",Ye.RepresentationNotSupported="representationNotSupported",Ye.UnsupportedPublicKeyType="unsupportedPublicKeyType",Ye}(go||{});class Cl{static digest({data:Te}){return function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})}(this,void 0,void 0,function*(){return(0,U.s)(Te)})}}class qc{}const rc="urn:jwk:";function Wi({jwk:Ye}){return function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})}(this,void 0,void 0,function*(){const Te=Ye.kty;let ve;if("EC"===Te)ve={crv:Ye.crv,kty:Ye.kty,x:Ye.x,y:Ye.y};else if("oct"===Te)ve={k:Ye.k,kty:Ye.kty};else if("OKP"===Te)ve={crv:Ye.crv,kty:Ye.kty,x:Ye.x};else{if("RSA"!==Te)throw new Error(`Unsupported key type: ${Te}`);ve={e:Ye.e,kty:Ye.kty,n:Ye.n}}(0,N.E8)(ve);const xe=function nc(Ye){const Te=xe=>{if(null!==xe&&"object"==typeof xe&&!Array.isArray(xe)){const rt=Object.keys(xe).sort(),st={};for(const Mt of rt)st[Mt]=Te(xe[Mt]);return st}return xe},ve=Te(Ye);return JSON.stringify(ve)}(ve),rt=N.U$.string(xe).toUint8Array(),st=yield Cl.digest({data:rt});return N.U$.uint8Array(st).toBase64Url()})}function sa(Ye){return!(!Ye||"object"!=typeof Ye||!("kty"in Ye&&"crv"in Ye&&"x"in Ye&&"d"in Ye)||"EC"!==Ye.kty||"string"!=typeof Ye.d||"string"!=typeof Ye.x)}function Ac(Ye){return!(!Ye||"object"!=typeof Ye||!("kty"in Ye&&"crv"in Ye&&"x"in Ye)||"d"in Ye||"EC"!==Ye.kty||"string"!=typeof Ye.x)}function No(Ye){return!(!Ye||"object"!=typeof Ye||!("kty"in Ye&&"crv"in Ye&&"x"in Ye&&"d"in Ye)||"OKP"!==Ye.kty||"string"!=typeof Ye.d||"string"!=typeof Ye.x)}function Rd(Ye){return!(!Ye||"object"!=typeof Ye||"d"in Ye||!("kty"in Ye&&"crv"in Ye&&"x"in Ye)||"OKP"!==Ye.kty||"string"!=typeof Ye.x)}var Xo=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class Ho{static adjustSignatureToLowS({signature:Te}){return Xo(this,void 0,void 0,function*(){const ve=q.bI.Signature.fromCompact(Te);return ve.hasHighS()?ve.normalizeS().toCompactRawBytes():Te})}static bytesToPrivateKey({privateKeyBytes:Te}){return Xo(this,void 0,void 0,function*(){const ve=yield Ho.getCurvePoint({keyBytes:Te}),xe={kty:"EC",crv:"secp256k1",d:N.U$.uint8Array(Te).toBase64Url(),x:N.U$.uint8Array(ve.x).toBase64Url(),y:N.U$.uint8Array(ve.y).toBase64Url()};return xe.kid=yield Wi({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Te}){return Xo(this,void 0,void 0,function*(){const ve=yield Ho.getCurvePoint({keyBytes:Te}),xe={kty:"EC",crv:"secp256k1",x:N.U$.uint8Array(ve.x).toBase64Url(),y:N.U$.uint8Array(ve.y).toBase64Url()};return xe.kid=yield Wi({jwk:xe}),xe})}static compressPublicKey({publicKeyBytes:Te}){return Xo(this,void 0,void 0,function*(){return q.bI.ProjectivePoint.fromHex(Te).toRawBytes(!0)})}static computePublicKey({key:Te}){return Xo(this,void 0,void 0,function*(){const ve=yield Ho.privateKeyToBytes({privateKey:Te}),xe=yield Ho.getCurvePoint({keyBytes:ve}),rt={kty:"EC",crv:"secp256k1",x:N.U$.uint8Array(xe.x).toBase64Url(),y:N.U$.uint8Array(xe.y).toBase64Url()};return rt.kid=yield Wi({jwk:rt}),rt})}static convertDerToCompactSignature({derSignature:Te}){return Xo(this,void 0,void 0,function*(){return q.bI.Signature.fromDER(Te).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Te}){return Xo(this,void 0,void 0,function*(){return q.bI.ProjectivePoint.fromHex(Te).toRawBytes(!1)})}static generateKey(){return Xo(this,void 0,void 0,function*(){const Te=q.bI.utils.randomPrivateKey(),ve=yield Ho.bytesToPrivateKey({privateKeyBytes:Te});return ve.kid=yield Wi({jwk:ve}),ve})}static getPublicKey({key:Te}){var ve;return Xo(this,void 0,void 0,function*(){if(!sa(Te)||"secp256k1"!==Te.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let rt=function(Ye,Te){var ve={};for(var xe in Ye)Object.prototype.hasOwnProperty.call(Ye,xe)&&Te.indexOf(xe)<0&&(ve[xe]=Ye[xe]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(xe=Object.getOwnPropertySymbols(Ye);rt<xe.length;rt++)Te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,xe[rt])&&(ve[xe[rt]]=Ye[xe[rt]])}return ve}(Te,["d"]);return null!==(ve=rt.kid)&&void 0!==ve||(rt.kid=yield Wi({jwk:rt})),rt})}static privateKeyToBytes({privateKey:Te}){return Xo(this,void 0,void 0,function*(){if(!sa(Te))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return N.U$.base64Url(Te.d).toUint8Array()})}static publicKeyToBytes({publicKey:Te}){return Xo(this,void 0,void 0,function*(){if(!Ac(Te)||!Te.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const ve=new Uint8Array([4]),xe=N.U$.base64Url(Te.x).toUint8Array(),rt=N.U$.base64Url(Te.y).toUint8Array();return new Uint8Array([...ve,...xe,...rt])})}static sharedSecret({privateKeyA:Te,publicKeyB:ve}){return Xo(this,void 0,void 0,function*(){if("x"in Te&&"x"in ve&&Te.x===ve.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield Ho.privateKeyToBytes({privateKey:Te}),rt=yield Ho.publicKeyToBytes({publicKey:ve});return q.bI.getSharedSecret(xe,rt,!0).slice(1)})}static sign({data:Te,key:ve}){return Xo(this,void 0,void 0,function*(){const xe=yield Ho.privateKeyToBytes({privateKey:ve}),rt=(0,U.s)(Te);return q.bI.sign(rt,xe).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Te}){return Xo(this,void 0,void 0,function*(){return q.bI.utils.isValidPrivateKey(Te)})}static validatePublicKey({publicKeyBytes:Te}){return Xo(this,void 0,void 0,function*(){try{q.bI.ProjectivePoint.fromHex(Te).assertValidity()}catch{return!1}return!0})}static verify({key:Te,signature:ve,data:xe}){return Xo(this,void 0,void 0,function*(){const rt=yield Ho.publicKeyToBytes({publicKey:Te}),st=(0,U.s)(xe);return q.bI.verify(ve,st,rt,{lowS:!1})})}static getCurvePoint({keyBytes:Te}){return Xo(this,void 0,void 0,function*(){32===Te.byteLength&&(Te=q.bI.getPublicKey(Te));const ve=q.bI.ProjectivePoint.fromHex(Te);return{x:(0,Z.lq)(ve.x,32),y:(0,Z.lq)(ve.y,32)}})}}var Ir=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class So{static adjustSignatureToLowS({signature:Te}){return Ir(this,void 0,void 0,function*(){const ve=E.Ag.Signature.fromCompact(Te);return ve.hasHighS()?ve.normalizeS().toCompactRawBytes():Te})}static bytesToPrivateKey({privateKeyBytes:Te}){return Ir(this,void 0,void 0,function*(){const ve=yield So.getCurvePoint({keyBytes:Te}),xe={kty:"EC",crv:"P-256",d:N.U$.uint8Array(Te).toBase64Url(),x:N.U$.uint8Array(ve.x).toBase64Url(),y:N.U$.uint8Array(ve.y).toBase64Url()};return xe.kid=yield Wi({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Te}){return Ir(this,void 0,void 0,function*(){const ve=yield So.getCurvePoint({keyBytes:Te}),xe={kty:"EC",crv:"P-256",x:N.U$.uint8Array(ve.x).toBase64Url(),y:N.U$.uint8Array(ve.y).toBase64Url()};return xe.kid=yield Wi({jwk:xe}),xe})}static compressPublicKey({publicKeyBytes:Te}){return Ir(this,void 0,void 0,function*(){return E.Ag.ProjectivePoint.fromHex(Te).toRawBytes(!0)})}static computePublicKey({key:Te}){return Ir(this,void 0,void 0,function*(){const ve=yield So.privateKeyToBytes({privateKey:Te}),xe=yield So.getCurvePoint({keyBytes:ve}),rt={kty:"EC",crv:"P-256",x:N.U$.uint8Array(xe.x).toBase64Url(),y:N.U$.uint8Array(xe.y).toBase64Url()};return rt.kid=yield Wi({jwk:rt}),rt})}static convertDerToCompactSignature({derSignature:Te}){return Ir(this,void 0,void 0,function*(){return E.Ag.Signature.fromDER(Te).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Te}){return Ir(this,void 0,void 0,function*(){return E.Ag.ProjectivePoint.fromHex(Te).toRawBytes(!1)})}static generateKey(){return Ir(this,void 0,void 0,function*(){const Te=E.Ag.utils.randomPrivateKey(),ve=yield So.bytesToPrivateKey({privateKeyBytes:Te});return ve.kid=yield Wi({jwk:ve}),ve})}static getPublicKey({key:Te}){var ve;return Ir(this,void 0,void 0,function*(){if(!sa(Te)||"P-256"!==Te.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let rt=function(Ye,Te){var ve={};for(var xe in Ye)Object.prototype.hasOwnProperty.call(Ye,xe)&&Te.indexOf(xe)<0&&(ve[xe]=Ye[xe]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(xe=Object.getOwnPropertySymbols(Ye);rt<xe.length;rt++)Te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,xe[rt])&&(ve[xe[rt]]=Ye[xe[rt]])}return ve}(Te,["d"]);return null!==(ve=rt.kid)&&void 0!==ve||(rt.kid=yield Wi({jwk:rt})),rt})}static privateKeyToBytes({privateKey:Te}){return Ir(this,void 0,void 0,function*(){if(!sa(Te))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return N.U$.base64Url(Te.d).toUint8Array()})}static publicKeyToBytes({publicKey:Te}){return Ir(this,void 0,void 0,function*(){if(!Ac(Te)||!Te.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const ve=new Uint8Array([4]),xe=N.U$.base64Url(Te.x).toUint8Array(),rt=N.U$.base64Url(Te.y).toUint8Array();return new Uint8Array([...ve,...xe,...rt])})}static sharedSecret({privateKeyA:Te,publicKeyB:ve}){return Ir(this,void 0,void 0,function*(){if("x"in Te&&"x"in ve&&Te.x===ve.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield So.privateKeyToBytes({privateKey:Te}),rt=yield So.publicKeyToBytes({publicKey:ve});return E.Ag.getSharedSecret(xe,rt,!0).slice(1)})}static sign({data:Te,key:ve}){return Ir(this,void 0,void 0,function*(){const xe=yield So.privateKeyToBytes({privateKey:ve}),rt=(0,U.s)(Te);return E.Ag.sign(rt,xe).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Te}){return Ir(this,void 0,void 0,function*(){return E.Ag.utils.isValidPrivateKey(Te)})}static validatePublicKey({publicKeyBytes:Te}){return Ir(this,void 0,void 0,function*(){try{E.Ag.ProjectivePoint.fromHex(Te).assertValidity()}catch{return!1}return!0})}static verify({key:Te,signature:ve,data:xe}){return Ir(this,void 0,void 0,function*(){const rt=yield So.publicKeyToBytes({publicKey:Te}),st=(0,U.s)(xe);return E.Ag.verify(ve,st,rt,{lowS:!1})})}static getCurvePoint({keyBytes:Te}){return Ir(this,void 0,void 0,function*(){32===Te.byteLength&&(Te=E.Ag.getPublicKey(Te));const ve=E.Ag.ProjectivePoint.fromHex(Te);return{x:(0,Z.lq)(ve.x,32),y:(0,Z.lq)(ve.y,32)}})}}var Ja=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class Ms extends qc{computePublicKey({key:Te}){return Ja(this,void 0,void 0,function*(){if(!sa(Te))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Te.crv){case"secp256k1":{const ve=yield Ho.computePublicKey({key:Te});return ve.alg="ES256K",ve}case"P-256":{const ve=yield So.computePublicKey({key:Te});return ve.alg="ES256",ve}default:throw new Error(`Unsupported curve: ${Te.crv}`)}})}generateKey({algorithm:Te}){return Ja(this,void 0,void 0,function*(){switch(Te){case"ES256K":case"secp256k1":{const ve=yield Ho.generateKey();return ve.alg="ES256K",ve}case"ES256":case"secp256r1":{const ve=yield So.generateKey();return ve.alg="ES256",ve}}})}getPublicKey({key:Te}){return Ja(this,void 0,void 0,function*(){if(!sa(Te))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Te.crv){case"secp256k1":{const ve=yield Ho.getPublicKey({key:Te});return ve.alg="ES256K",ve}case"P-256":{const ve=yield So.getPublicKey({key:Te});return ve.alg="ES256",ve}default:throw new Error(`Unsupported curve: ${Te.crv}`)}})}sign({key:Te,data:ve}){return Ja(this,void 0,void 0,function*(){if(!sa(Te))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Te.crv){case"secp256k1":return yield Ho.sign({key:Te,data:ve});case"P-256":return yield So.sign({key:Te,data:ve});default:throw new Error(`Unsupported curve: ${Te.crv}`)}})}verify({key:Te,signature:ve,data:xe}){return Ja(this,void 0,void 0,function*(){if(!Ac(Te))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Te.crv){case"secp256k1":return yield Ho.verify({key:Te,signature:ve,data:xe});case"P-256":return yield So.verify({key:Te,signature:ve,data:xe});default:throw new Error(`Unsupported curve: ${Te.crv}`)}})}}var ss=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class io{static bytesToPrivateKey({privateKeyBytes:Te}){return ss(this,void 0,void 0,function*(){const ve=$.ev.getPublicKey(Te),xe={crv:"Ed25519",d:N.U$.uint8Array(Te).toBase64Url(),kty:"OKP",x:N.U$.uint8Array(ve).toBase64Url()};return xe.kid=yield Wi({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Te}){return ss(this,void 0,void 0,function*(){const ve={kty:"OKP",crv:"Ed25519",x:N.U$.uint8Array(Te).toBase64Url()};return ve.kid=yield Wi({jwk:ve}),ve})}static computePublicKey({key:Te}){return ss(this,void 0,void 0,function*(){const ve=yield io.privateKeyToBytes({privateKey:Te}),xe=$.ev.getPublicKey(ve),rt={kty:"OKP",crv:"Ed25519",x:N.U$.uint8Array(xe).toBase64Url()};return rt.kid=yield Wi({jwk:rt}),rt})}static convertPrivateKeyToX25519({privateKey:Te}){return ss(this,void 0,void 0,function*(){const ve=yield io.privateKeyToBytes({privateKey:Te}),xe=(0,$.OA)(ve),rt=$.TU.getPublicKey(xe),st={kty:"OKP",crv:"X25519",d:N.U$.uint8Array(xe).toBase64Url(),x:N.U$.uint8Array(rt).toBase64Url()};return st.kid=yield Wi({jwk:st}),st})}static convertPublicKeyToX25519({publicKey:Te}){return ss(this,void 0,void 0,function*(){const ve=yield io.publicKeyToBytes({publicKey:Te});if(!(yield io.validatePublicKey({publicKeyBytes:ve})))throw new Error("Ed25519: Invalid public key.");const rt=(0,$.GU)(ve),st={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(rt).toBase64Url()};return st.kid=yield Wi({jwk:st}),st})}static generateKey(){return ss(this,void 0,void 0,function*(){const Te=$.ev.utils.randomPrivateKey(),ve=yield io.bytesToPrivateKey({privateKeyBytes:Te});return ve.kid=yield Wi({jwk:ve}),ve})}static getPublicKey({key:Te}){var ve;return ss(this,void 0,void 0,function*(){if(!No(Te)||"Ed25519"!==Te.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let rt=function(Ye,Te){var ve={};for(var xe in Ye)Object.prototype.hasOwnProperty.call(Ye,xe)&&Te.indexOf(xe)<0&&(ve[xe]=Ye[xe]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(xe=Object.getOwnPropertySymbols(Ye);rt<xe.length;rt++)Te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,xe[rt])&&(ve[xe[rt]]=Ye[xe[rt]])}return ve}(Te,["d"]);return null!==(ve=rt.kid)&&void 0!==ve||(rt.kid=yield Wi({jwk:rt})),rt})}static privateKeyToBytes({privateKey:Te}){return ss(this,void 0,void 0,function*(){if(!No(Te))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return N.U$.base64Url(Te.d).toUint8Array()})}static publicKeyToBytes({publicKey:Te}){return ss(this,void 0,void 0,function*(){if(!Rd(Te))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return N.U$.base64Url(Te.x).toUint8Array()})}static sign({key:Te,data:ve}){return ss(this,void 0,void 0,function*(){const xe=yield io.privateKeyToBytes({privateKey:Te});return $.ev.sign(ve,xe)})}static validatePublicKey({publicKeyBytes:Te}){return ss(this,void 0,void 0,function*(){try{$.ev.ExtendedPoint.fromHex(Te).assertValidity()}catch{return!1}return!0})}static verify({key:Te,signature:ve,data:xe}){return ss(this,void 0,void 0,function*(){const rt=yield io.publicKeyToBytes({publicKey:Te});return $.ev.verify(ve,xe,rt)})}}var _o=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})},Gs=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};const ic={Ed25519:{implementation:class Us extends qc{computePublicKey({key:Te}){return _o(this,void 0,void 0,function*(){if(!No(Te))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Te.crv){const ve=yield io.computePublicKey({key:Te});return ve.alg="EdDSA",ve}throw new Error(`Unsupported curve: ${Te.crv}`)})}generateKey({algorithm:Te}){return _o(this,void 0,void 0,function*(){if("Ed25519"===Te){const ve=yield io.generateKey();return ve.alg="EdDSA",ve}})}getPublicKey({key:Te}){return _o(this,void 0,void 0,function*(){if(!No(Te))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Te.crv){const ve=yield io.getPublicKey({key:Te});return ve.alg="EdDSA",ve}throw new Error(`Unsupported curve: ${Te.crv}`)})}sign({key:Te,data:ve}){return _o(this,void 0,void 0,function*(){if(!No(Te))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Te.crv)return yield io.sign({key:Te,data:ve});throw new Error(`Unsupported curve: ${Te.crv}`)})}verify({key:Te,signature:ve,data:xe}){return _o(this,void 0,void 0,function*(){if(!Rd(Te))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Te.crv)return yield io.verify({key:Te,signature:ve,data:xe});throw new Error(`Unsupported curve: ${Te.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:Ms,names:["ES256K","secp256k1"]},secp256r1:{implementation:Ms,names:["ES256","secp256r1"]},"SHA-256":{implementation:class Pc extends qc{digest({algorithm:Te,data:ve}){return function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Te)return yield Cl.digest({data:ve})})}},names:["SHA-256"]}};class Ao{constructor(Te){var ve;this._algorithmInstances=new Map,this._keyStore=null!==(ve=Te?.keyStore)&&void 0!==ve?ve:new N.ny}digest({algorithm:Te,data:ve}){return Gs(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Te}).digest({algorithm:Te,data:ve})})}exportKey({keyUri:Te}){return Gs(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Te})})}generateKey({algorithm:Te}){return Gs(this,void 0,void 0,function*(){const xe=yield this.getAlgorithm({algorithm:Te}).generateKey({algorithm:Te});if(void 0===xe?.kid)throw new Error("Generated key is missing a required property: kid");const rt=`${rc}${xe.kid}`;return yield this._keyStore.set(rt,xe),rt})}getKeyUri({key:Te}){return Gs(this,void 0,void 0,function*(){const ve=yield Wi({jwk:Te});return`${rc}${ve}`})}getPublicKey({keyUri:Te}){return Gs(this,void 0,void 0,function*(){const ve=yield this.getPrivateKey({keyUri:Te}),xe=this.getAlgorithmName({key:ve});return yield this.getAlgorithm({algorithm:xe}).getPublicKey({key:ve})})}importKey({key:Te}){var ve;return Gs(this,void 0,void 0,function*(){if(!function Oc(Ye){if(!Ye||"object"!=typeof Ye)return!1;switch(Ye.kty){case"EC":case"OKP":case"RSA":return"d"in Ye;case"oct":return"k"in Ye;default:return!1}}(Te))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const xe=structuredClone(Te);null!==(ve=xe.kid)&&void 0!==ve||(xe.kid=yield Wi({jwk:xe}));const rt=yield this.getKeyUri({key:xe});return yield this._keyStore.set(rt,xe),rt})}sign({keyUri:Te,data:ve}){return Gs(this,void 0,void 0,function*(){const xe=yield this.getPrivateKey({keyUri:Te}),rt=this.getAlgorithmName({key:xe});return this.getAlgorithm({algorithm:rt}).sign({data:ve,key:xe})})}verify({key:Te,signature:ve,data:xe}){return Gs(this,void 0,void 0,function*(){const rt=this.getAlgorithmName({key:Te});return this.getAlgorithm({algorithm:rt}).verify({key:Te,signature:ve,data:xe})})}getAlgorithm({algorithm:Te}){var ve;const xe=null===(ve=ic[Te])||void 0===ve?void 0:ve.implementation;if(!xe)throw new Error(`Algorithm not supported: ${Te}`);return this._algorithmInstances.has(xe)||this._algorithmInstances.set(xe,new xe),this._algorithmInstances.get(xe)}getAlgorithmName({key:Te}){const ve=Te.alg,xe=Te.crv;for(const rt in ic){const st=ic[rt];if(ve&&st.names.includes(ve))return rt;if(xe&&st.names.includes(xe))return rt}throw new Error(`Unable to determine algorithm based on provided input: alg=${ve}, crv=${xe}`)}getPrivateKey({keyUri:Te}){return Gs(this,void 0,void 0,function*(){const ve=yield this._keyStore.get(Te);if(!ve)throw new Error(`Key not found: ${Te}`);return ve})}}function Qi(Ye){const Te={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(Ye.alg&&Object.values(Te).includes(Ye.alg))return Ye.alg;if(Ye.crv&&Object.keys(Te).includes(Ye.crv))return Te[Ye.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${Ye.alg}, crv=${Ye.crv}. Supported 'alg' values: ${Object.values(Te).join(", ")}. Supported 'crv' values: ${Object.keys(Te).join(", ")}.`)}var Os=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class kt{static bytesToPrivateKey({privateKeyBytes:Te}){return Os(this,void 0,void 0,function*(){const ve=$.TU.getPublicKey(Te),xe={kty:"OKP",crv:"X25519",d:N.U$.uint8Array(Te).toBase64Url(),x:N.U$.uint8Array(ve).toBase64Url()};return xe.kid=yield Wi({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Te}){return Os(this,void 0,void 0,function*(){const ve={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(Te).toBase64Url()};return ve.kid=yield Wi({jwk:ve}),ve})}static computePublicKey({key:Te}){return Os(this,void 0,void 0,function*(){const ve=yield kt.privateKeyToBytes({privateKey:Te}),xe=$.TU.getPublicKey(ve),rt={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(xe).toBase64Url()};return rt.kid=yield Wi({jwk:rt}),rt})}static generateKey(){return Os(this,void 0,void 0,function*(){const Te=$.TU.utils.randomPrivateKey(),ve=yield kt.bytesToPrivateKey({privateKeyBytes:Te});return ve.kid=yield Wi({jwk:ve}),ve})}static getPublicKey({key:Te}){var ve;return Os(this,void 0,void 0,function*(){if(!No(Te)||"X25519"!==Te.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let rt=function(Ye,Te){var ve={};for(var xe in Ye)Object.prototype.hasOwnProperty.call(Ye,xe)&&Te.indexOf(xe)<0&&(ve[xe]=Ye[xe]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(xe=Object.getOwnPropertySymbols(Ye);rt<xe.length;rt++)Te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,xe[rt])&&(ve[xe[rt]]=Ye[xe[rt]])}return ve}(Te,["d"]);return null!==(ve=rt.kid)&&void 0!==ve||(rt.kid=yield Wi({jwk:rt})),rt})}static privateKeyToBytes({privateKey:Te}){return Os(this,void 0,void 0,function*(){if(!No(Te))throw new Error("X25519: The provided key is not a valid OKP private key.");return N.U$.base64Url(Te.d).toUint8Array()})}static publicKeyToBytes({publicKey:Te}){return Os(this,void 0,void 0,function*(){if(!Rd(Te))throw new Error("X25519: The provided key is not a valid OKP public key.");return N.U$.base64Url(Te.x).toUint8Array()})}static sharedSecret({privateKeyA:Te,publicKeyB:ve}){return Os(this,void 0,void 0,function*(){if("x"in Te&&"x"in ve&&Te.x===ve.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield kt.privateKeyToBytes({privateKey:Te}),rt=yield kt.publicKeyToBytes({publicKey:ve});return $.TU.getSharedSecret(xe,rt)})}}function ca(Ye){if("string"==typeof Ye&&0!==Ye.length)return Ye.split("#").pop()}function ys(Ye){return!(!Ye||"object"!=typeof Ye||null===Ye||!("id"in Ye&&"type"in Ye&&"controller"in Ye)||"string"!=typeof Ye.id||"string"!=typeof Ye.type||"string"!=typeof Ye.controller)}var gl=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class Xa{constructor({uri:Te,document:ve,metadata:xe,keyManager:rt}){this.uri=Te,this.document=ve,this.metadata=xe,this.keyManager=rt}export(){return gl(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Te={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const ve=[];for(let xe of this.document.verificationMethod){if(!xe.publicKeyJwk)throw new Error(`Verification method '${xe.id}' does not contain a public key in JWK format`);const rt=yield this.keyManager.getKeyUri({key:xe.publicKeyJwk}),st=yield this.keyManager.exportKey({keyUri:rt});ve.push(Object.assign({},st))}Te.privateKeys=ve}return Te})}getSigner(Te){return gl(this,void 0,void 0,function*(){var ve;const xe=null===(ve=this.document.verificationMethod)||void 0===ve?void 0:ve.find(Mn=>{var Ie,ie;return ca(Mn.id)===(null!==(Ie=ca(Te?.methodId))&&void 0!==Ie?Ie:ca(null===(ie=this.document.assertionMethod)||void 0===ie?void 0:ie[0]))});if(!xe||!xe.publicKeyJwk)throw new To(go.InternalError,"A verification method intended for signing could not be determined from the DID Document");const rt=yield this.keyManager.getKeyUri({key:xe.publicKeyJwk}),st=yield this.keyManager.getPublicKey({keyUri:rt}),Mt=this.keyManager;return{algorithm:Qi(st),keyId:xe.id,sign(Mn){return gl(this,arguments,void 0,function*({data:Ie}){return yield Mt.sign({data:Ie,keyUri:rt})})},verify(Mn){return gl(this,arguments,void 0,function*({data:Ie,signature:ie}){return yield Mt.verify({data:Ie,key:st,signature:ie})})}}})}static import(Te){return gl(this,arguments,void 0,function*({portableDid:ve,keyManager:xe=new Ao}){var rt;const st=function Xl({didDocument:Ye}){var Te,ve;if(!Ye)throw new TypeError("Required parameter missing: 'didDocument'");const xe=[];return xe.push(...null!==(ve=null===(Te=Ye.verificationMethod)||void 0===Te?void 0:Te.filter(ys))&&void 0!==ve?ve:[]),Object.keys(Ga).forEach(rt=>{var st,Mt;xe.push(...null!==(Mt=null===(st=Ye[rt])||void 0===st?void 0:st.filter(ys))&&void 0!==Mt?Mt:[])}),xe}({didDocument:ve.document});if(0===st.length)throw new To(go.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let Jt of null!==(rt=ve.privateKeys)&&void 0!==rt?rt:[])yield xe.importKey({key:Jt});for(let Jt of st){if(!Jt.publicKeyJwk)throw new Error(`Verification method '${Jt.id}' does not contain a public key in JWK format`);const Mn=yield xe.getKeyUri({key:Jt.publicKeyJwk});yield xe.getPublicKey({keyUri:Mn})}return new Xa({uri:ve.uri,document:ve.document,metadata:ve.metadata,keyManager:xe})})}}var Tu=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class nf{static getSigningMethod(Te){return Tu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Te,ve){return Tu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Ss=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})},qd=function(Ye,Te){var ve={};for(var xe in Ye)Object.prototype.hasOwnProperty.call(Ye,xe)&&Te.indexOf(xe)<0&&(ve[xe]=Ye[xe]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(xe=Object.getOwnPropertySymbols(Ye);rt<xe.length;rt++)Te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,xe[rt])&&(ve[xe[rt]]=Ye[xe[rt]])}return ve};const Au="https://diddht.tbddev.org",Nc=7200,Zo=",";var Du=function(Ye){return Ye[Ye.Discoverable=0]="Discoverable",Ye[Ye.Organization=1]="Organization",Ye[Ye.Government=2]="Government",Ye[Ye.Corporation=3]="Corporation",Ye[Ye.LocalBusiness=4]="LocalBusiness",Ye[Ye.SoftwarePackage=5]="SoftwarePackage",Ye[Ye.WebApp=6]="WebApp",Ye[Ye.FinancialInstitution=7]="FinancialInstitution",Ye}(Du||{}),ja=function(Ye){return Ye[Ye.Ed25519=0]="Ed25519",Ye[Ye.secp256k1=1]="secp256k1",Ye[Ye.secp256r1=2]="secp256r1",Ye[Ye.X25519=3]="X25519",Ye}(ja||{}),Ji=function(Ye){return Ye.authentication="auth",Ye.assertionMethod="asm",Ye.capabilityDelegation="del",Ye.capabilityInvocation="inv",Ye.keyAgreement="agm",Ye}(Ji||{});const bc={Ed25519:ja.Ed25519,ES256K:ja.secp256k1,ES256:ja.secp256r1,"P-256":ja.secp256r1,secp256k1:ja.secp256k1,secp256r1:ja.secp256r1,X25519:ja.X25519},qr={[ja.Ed25519]:"Ed25519",[ja.secp256k1]:"ES256K",[ja.secp256r1]:"ES256",[ja.X25519]:"ECDH-ES+A256KW"};let Ya=(()=>{class Ye extends nf{static create(){return Ss(this,arguments,void 0,function*({keyManager:ve=new Ao,options:xe={}}={}){var rt,st,Mt,Jt,Mn,Ie,ie,oe,ye,We,Ze;if(null!==(rt=xe.verificationMethods)&&void 0!==rt&&rt.some(lr=>!(lr.algorithm in bc)))throw new Error("One or more verification method algorithms are not supported");const ht=null===(st=xe.verificationMethods)||void 0===st?void 0:st.filter(lr=>"id"in lr).map(lr=>lr.id);if(ht&&ht.length!==new Set(ht).size)throw new Error("One or more verification method IDs are not unique");if(null!==(Mt=xe.services)&&void 0!==Mt&&Mt.some(lr=>!lr.id||!lr.type||!lr.serviceEndpoint))throw new Error("One or more services are missing required properties");const $t=yield ve.generateKey({algorithm:"Ed25519"}),bn=yield ve.getPublicKey({keyUri:$t}),zt=yield bi.identityKeyToIdentifier({identityKey:bn}),dt=Object.assign(Object.assign({id:zt},xe.alsoKnownAs&&{alsoKnownAs:xe.alsoKnownAs}),xe.controllers&&{controller:xe.controllers}),tn=[...null!==(Jt=xe.verificationMethods)&&void 0!==Jt?Jt:[]];tn?.some(lr=>{var $r;return"0"===(null===($r=lr.id)||void 0===$r?void 0:$r.split("#").pop())})||tn.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const lr of tn){const $r=lr.id&&"0"===lr.id.split("#").pop()?$t:yield ve.generateKey({algorithm:lr.algorithm}),ni=yield ve.getPublicKey({keyUri:$r});let ui=null!==(Ie=null!==(Mn=lr.id)&&void 0!==Mn?Mn:ni.kid)&&void 0!==Ie?Ie:yield Wi({jwk:ni});ui=`${zt}#${ca(ui)}`,null!==(ie=dt.verificationMethod)&&void 0!==ie||(dt.verificationMethod=[]),dt.verificationMethod.push({id:ui,type:"JsonWebKey",controller:null!==(oe=lr.controller)&&void 0!==oe?oe:zt,publicKeyJwk:ni});for(const Ii of null!==(ye=lr.purposes)&&void 0!==ye?ye:[])dt[Ii]||(dt[Ii]=[]),dt[Ii].push(ui)}null===(We=xe.services)||void 0===We||We.forEach(lr=>{var $r;null!==($r=dt.service)&&void 0!==$r||(dt.service=[]),lr.id=`${zt}#${lr.id.split("#").pop()}`,dt.service.push(lr)});const fr=new Xa({uri:zt,document:dt,metadata:Object.assign({published:!1},xe.types&&{types:xe.types}),keyManager:ve});if(null===(Ze=xe.publish)||void 0===Ze||Ze){const lr=yield Ye.publish({did:fr,gatewayUri:xe.gatewayUri});fr.metadata=lr.didDocumentMetadata}return fr})}static import(ve){return Ss(this,arguments,void 0,function*({portableDid:xe,keyManager:rt=new Ao}){var st;const Mt=Bo.parse(xe.uri);if(Mt?.method!==Ye.methodName)throw new To(go.MethodNotSupported,"Method not supported");const Jt=yield Xa.import({portableDid:xe,keyManager:rt});if(null===(st=Jt.document.verificationMethod)||void 0===st||!st.some(Mn=>{var Ie;return"0"===(null===(Ie=Mn.id)||void 0===Ie?void 0:Ie.split("#").pop())}))throw new To(go.InvalidDidDocument,"DID document must contain an Identity Key");return Jt})}static getSigningMethod(ve){return Ss(this,arguments,void 0,function*({didDocument:xe,methodId:rt="#0"}){var st;const Mt=Bo.parse(xe.id);if(Mt&&Mt.method!==this.methodName)throw new To(go.MethodNotSupported,`Method not supported: ${Mt.method}`);const Jt=null===(st=xe.verificationMethod)||void 0===st?void 0:st.find(Mn=>{var Ie,ie;return ca(Mn.id)===(null!==(Ie=ca(rt))&&void 0!==Ie?Ie:ca(null===(ie=xe.assertionMethod)||void 0===ie?void 0:ie[0]))});if(!Jt||!Jt.publicKeyJwk)throw new To(go.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Jt})}static publish(ve){return Ss(this,arguments,void 0,function*({did:xe,gatewayUri:rt=Au}){return yield Xr.put({did:xe,gatewayUri:rt})})}static resolve(ve){return Ss(this,arguments,void 0,function*(xe,rt={}){var st;const Mt=null!==(st=rt?.gatewayUri)&&void 0!==st?st:Au;try{yield bi.identifierToIdentityKey({didUri:xe});const{didDocument:Jt,didDocumentMetadata:Mn}=yield Xr.get({didUri:xe,gatewayUri:Mt});return Object.assign(Object.assign({},ro),{didDocument:Jt,didDocumentMetadata:Mn})}catch(Jt){if(!(Jt instanceof To))throw new Error(Jt);return Object.assign(Object.assign({},ro),{didResolutionMetadata:Object.assign({error:Jt.code},Jt.message&&{errorMessage:Jt.message})})}})}}return Ye.methodName="dht",Ye})();class Xr{static get(Te){return Ss(this,arguments,void 0,function*({didUri:ve,gatewayUri:xe}){const rt=bi.identifierToIdentityKeyBytes({didUri:ve}),st=yield Xr.pkarrGet({gatewayUri:xe,publicKeyBytes:rt}),Mt=yield bi.parseBep44GetMessage({bep44Message:st}),Jt=yield Xr.fromDnsPacket({didUri:ve,dnsPacket:Mt});return Jt.didDocumentMetadata.versionId=st.seq.toString(),Jt})}static put(Te){return Ss(this,arguments,void 0,function*({did:ve,gatewayUri:xe}){const rt=yield Xr.toDnsPacket({didDocument:ve.document,didMetadata:ve.metadata,authoritativeGatewayUris:[xe]}),st=yield bi.createBep44PutMessage({dnsPacket:rt,publicKeyBytes:bi.identifierToIdentityKeyBytes({didUri:ve.uri}),signer:yield ve.getSigner({methodId:"0"})}),Mt=yield Xr.pkarrPut({gatewayUri:xe,bep44Message:st});return{didDocument:ve.document,didDocumentMetadata:Object.assign(Object.assign({},ve.metadata),{published:Mt,versionId:st.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Te){return Ss(this,arguments,void 0,function*({gatewayUri:ve,publicKeyBytes:xe}){const rt=N.U$.uint8Array(xe).toBase32Z(),st=new URL(rt,ve).href;let Mt;try{if(Mt=yield fetch(st,{method:"GET"}),!Mt.ok)throw new To(go.NotFound,`Pkarr record not found for: ${rt}`)}catch(Ie){throw Ie instanceof To?Ie:new To(go.InternalError,`Failed to fetch Pkarr record: ${Ie.message}`)}const Jt=yield Mt.arrayBuffer();if(!Jt)throw new To(go.NotFound,`Pkarr record not found for: ${rt}`);if(Jt.byteLength<72)throw new To(go.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${Jt.byteLength}`);if(Jt.byteLength>1072)throw new To(go.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${Jt.byteLength}`);return{k:xe,seq:Number(new DataView(Jt).getBigUint64(64)),sig:new Uint8Array(Jt,0,64),v:new Uint8Array(Jt,72)}})}static pkarrPut(Te){return Ss(this,arguments,void 0,function*({gatewayUri:ve,bep44Message:xe}){const rt=N.U$.uint8Array(xe.k).toBase32Z(),st=new URL(rt,ve).href,Mt=new Uint8Array(xe.v.length+72);let Jt;Mt.set(xe.sig,0),new DataView(Mt.buffer).setBigUint64(xe.sig.length,BigInt(xe.seq)),Mt.set(xe.v,xe.sig.length+8);try{Jt=yield fetch(st,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:Mt})}catch(Mn){throw new To(go.InternalError,`Failed to put Pkarr record for identifier ${rt}: ${Mn.message}`)}return Jt.ok})}static fromDnsPacket(Te){return Ss(this,arguments,void 0,function*({didUri:ve,dnsPacket:xe}){var rt,st,Mt;const Jt={id:ve},Mn={published:!0},Ie=new Map;for(const ie of null!==(rt=xe?.answers)&&void 0!==rt?rt:[]){if("TXT"!==ie.type)continue;const oe=ie.name.split(".")[0].substring(1);switch(!0){case oe.startsWith("aka"):{const ye=bi.parseTxtDataToString(ie.data);Jt.alsoKnownAs=ye.split(Zo);break}case oe.startsWith("cnt"):{const ye=bi.parseTxtDataToString(ie.data);Jt.controller=ye.includes(Zo)?ye.split(Zo):ye;break}case oe.startsWith("k"):{const{id:ye,t:We,k:Ze,c:ht,a:$t}=bi.parseTxtDataToObject(ie.data),bn=N.U$.base64Url(Ze).toUint8Array(),zt=ja[Number(We)];let dt=yield bi.keyConverter(zt).bytesToPublicKey({publicKeyBytes:bn});dt.alg=$t||qr[Number(We)];const tn="k0"===oe?"0":void 0!==ye?ye:yield Wi({jwk:dt});null!==(st=Jt.verificationMethod)&&void 0!==st||(Jt.verificationMethod=[]);const fr=`${ve}#${tn}`;Jt.verificationMethod.push({id:fr,type:"JsonWebKey",controller:ht??ve,publicKeyJwk:dt}),Ie.set(oe,fr);break}case oe.startsWith("s"):{const ye=bi.parseTxtDataToObject(ie.data),{id:We,t:Ze,se:ht}=ye,$t=qd(ye,["id","t","se"]),bn=ht.includes(Zo)?ht.split(Zo):[ht],zt=Object.fromEntries(Object.entries($t).map(([dt,tn])=>[dt,tn.includes(Zo)?tn.split(Zo):tn]));null!==(Mt=Jt.service)&&void 0!==Mt||(Jt.service=[]),Jt.service.push(Object.assign(Object.assign({},zt),{id:`${ve}#${We}`,type:Ze,serviceEndpoint:bn}));break}case oe.startsWith("typ"):{const{id:ye}=bi.parseTxtDataToObject(ie.data);Mn.types=ye.split(Zo).map(We=>Number(We));break}case oe.startsWith("did"):{const ye=zt=>zt.split(Zo).map(dt=>Ie.get(dt)).filter(dt=>"string"==typeof dt),{auth:We,asm:Ze,del:ht,inv:$t,agm:bn}=bi.parseTxtDataToObject(ie.data);We&&(Jt.authentication=ye(We)),Ze&&(Jt.assertionMethod=ye(Ze)),ht&&(Jt.capabilityDelegation=ye(ht)),$t&&(Jt.capabilityInvocation=ye($t)),bn&&(Jt.keyAgreement=ye(bn));break}}}return{didDocument:Jt,didDocumentMetadata:Mn,didResolutionMetadata:{}}})}static toDnsPacket(Te){return Ss(this,arguments,void 0,function*({didDocument:ve,didMetadata:xe,authoritativeGatewayUris:rt,previousDidProof:st}){var Mt,Jt,Mn,Ie,ie;const oe=[],ye=[],We=new Map,Ze=[],ht=[];if(void 0!==st){const{signature:zt,previousDid:dt}=st;yield bi.validatePreviousDidProof({newDid:ve.id,previousDidProof:st}),oe.push({type:"TXT",name:"_prv._did.",ttl:Nc,data:`id=${dt};s=${zt}`})}if(ve.alsoKnownAs&&oe.push({type:"TXT",name:"_aka._did.",ttl:Nc,data:ve.alsoKnownAs.join(Zo)}),ve.controller){const zt=Array.isArray(ve.controller)?ve.controller.join(Zo):ve.controller;oe.push({type:"TXT",name:"_cnt._did.",ttl:Nc,data:zt})}for(const[zt,dt]of null!==(Jt=null===(Mt=ve.verificationMethod)||void 0===Mt?void 0:Mt.entries())&&void 0!==Jt?Jt:[]){const tn=`k${zt}`;ht.push(tn);let fr=dt.id.split("#").pop();We.set(fr,tn);const lr=dt.publicKeyJwk;if(!lr?.crv||!(lr.crv in bc))throw new To(go.InvalidPublicKeyType,`Verification method '${dt.id}' contains an unsupported key type: ${null!==(Mn=lr?.crv)&&void 0!==Mn?Mn:"undefined"}`);const $r=ja[lr.crv],ni=yield bi.keyConverter(lr.crv).publicKeyToBytes({publicKey:lr}),Ii=[`t=${$r}`,`k=${N.U$.uint8Array(ni).toBase64Url()}`];"0"!==fr&&(yield Wi({jwk:lr}))!==fr&&Ii.unshift(`id=${fr}`),lr.alg!==qr[$r]&&Ii.push(`a=${lr.alg}`),dt.controller!==ve.id&&Ii.push(`c=${dt.controller}`),oe.push({type:"TXT",name:`_${tn}._did.`,ttl:Nc,data:Ii.join(";")})}null===(Ie=ve.service)||void 0===Ie||Ie.forEach((zt,dt)=>{const tn=`s${dt}`;Ze.push(tn);let{id:fr,type:lr,serviceEndpoint:$r}=zt,ni=qd(zt,["id","type","serviceEndpoint"]);fr=ca(fr),$r=Array.isArray($r)?$r.join(","):$r;const Ii=Object.entries(Object.assign({id:fr,t:lr,se:$r},ni)).map(([Qr,wi])=>`${Qr}=${wi}`).join(";"),Wr=bi.chunkDataIfNeeded(Ii);oe.push({type:"TXT",name:`_${tn}._did.`,ttl:Nc,data:Wr})});const $t=["v=0"];if(ht.length&&$t.push(`vm=${ht.join(Zo)}`),Object.keys(Ga).forEach(zt=>{var dt;const tn=null===(dt=ve[zt])||void 0===dt?void 0:dt.map(fr=>We.get(fr.split("#").pop()));tn&&$t.push(`${Ji[zt]}=${tn.join(Zo)}`)}),Ze.length&&$t.push(`svc=${Ze.join(Zo)}`),null!==(ie=xe.types)&&void 0!==ie&&ie.length){const dt=xe.types.map(tn=>"string"==typeof tn?Du[tn]:tn);oe.push({type:"TXT",name:"_typ._did.",ttl:Nc,data:`id=${dt.join(Zo)}`})}oe.push({type:"TXT",name:"_did."+Xr.getUniqueDidSuffix(ve.id)+".",ttl:Nc,data:$t.join(";")});for(const zt of rt||[])ye.push({type:"NS",name:"_did."+Xr.getUniqueDidSuffix(ve.id)+".",ttl:Nc,data:zt+"."});return{id:0,type:"response",flags:at.hB,answers:[...oe,...ye]}})}static getUniqueDidSuffix(Te){return Te.split(":")[2]}}class bi{static createBep44PutMessage(Te){return Ss(this,arguments,void 0,function*({dnsPacket:ve,publicKeyBytes:xe,signer:rt}){const st=Math.ceil(Date.now()/1e3),Mt=(0,at.lF)(ve),Jt=Ln.A.encode({seq:st,v:Mt}).subarray(1,-1);if(Jt.length>1e3)throw new To(go.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${Jt.length} bytes`);return{k:xe,seq:st,sig:yield rt.sign({data:Jt}),v:Mt}})}static identifierToIdentityKey(Te){return Ss(this,arguments,void 0,function*({didUri:ve}){let xe=bi.identifierToIdentityKeyBytes({didUri:ve});return yield io.bytesToPublicKey({publicKeyBytes:xe})})}static identifierToIdentityKeyBytes({didUri:Te}){const ve=Bo.parse(Te);if(!ve)throw new To(go.InvalidDid,`Invalid DID URI: ${Te}`);if(ve.method!==Ya.methodName)throw new To(go.MethodNotSupported,`Method not supported: ${ve.method}`);let xe;try{xe=N.U$.base32Z(ve.id).toUint8Array()}catch{throw new To(go.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==xe.length)throw new To(go.InvalidPublicKeyLength,`Invalid public key length: ${xe.length}`);return xe}static identityKeyToIdentifier(Te){return Ss(this,arguments,void 0,function*({identityKey:ve}){const xe=yield io.publicKeyToBytes({publicKey:ve}),rt=N.U$.uint8Array(xe).toBase32Z();return`did:${Ya.methodName}:${rt}`})}static keyConverter(Te){const xe={Ed25519:io,"P-256":{publicKeyToBytes:rt=>Ss(this,[rt],void 0,function*({publicKey:st}){const Mt=yield So.publicKeyToBytes({publicKey:st});return yield So.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:So.bytesToPublicKey,privateKeyToBytes:So.privateKeyToBytes,bytesToPrivateKey:So.bytesToPrivateKey},secp256k1:{publicKeyToBytes:rt=>Ss(this,[rt],void 0,function*({publicKey:st}){const Mt=yield Ho.publicKeyToBytes({publicKey:st});return yield Ho.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:Ho.bytesToPublicKey,privateKeyToBytes:Ho.privateKeyToBytes,bytesToPrivateKey:Ho.bytesToPrivateKey},X25519:kt}[Te];if(!xe)throw new To(go.InvalidPublicKeyType,`Unsupported curve: ${Te}`);return xe}static parseBep44GetMessage(Te){return Ss(this,arguments,void 0,function*({bep44Message:ve}){const xe=yield io.bytesToPublicKey({publicKeyBytes:ve.k}),rt=Ln.A.encode({seq:ve.seq,v:ve.v}).subarray(1,-1);if(!(yield io.verify({key:xe,signature:ve.sig,data:rt})))throw new To(go.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,at.D4)(ve.v)})}static parseTxtDataToObject(Te){return this.parseTxtDataToString(Te).split(";").reduce((ve,xe)=>{const[rt,st]=xe.split("=");return ve[rt]=st,ve},{})}static parseTxtDataToString(Te){if("string"==typeof Te)return Te;if(Te instanceof Uint8Array)return N.U$.uint8Array(Te).toString();if(Array.isArray(Te))return Te.map(ve=>this.parseTxtDataToString(ve)).join("");throw new To(go.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Te){return Ss(this,arguments,void 0,function*({newDid:ve,previousDidProof:xe}){const rt=yield bi.identifierToIdentityKey({didUri:xe.previousDid}),st=bi.identifierToIdentityKeyBytes({didUri:ve}),Mt=N.U$.base64Url(xe.signature).toUint8Array();if(!(yield io.verify({key:rt,data:st,signature:Mt})))throw new To(go.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Te){if(Te.length<=255)return Te;const ve=[];for(let xe=0;xe<Te.length;xe+=255)ve.push(Te.slice(xe,xe+255));return ve}}var oo=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};let Qd=(()=>{class Ye extends nf{static create(){return oo(this,arguments,void 0,function*({keyManager:ve=new Ao,options:xe={}}={}){var rt,st,Mt,Jt;if(xe.algorithm&&xe.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(xe.verificationMethods&&1!==xe.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const Mn=null!==(Jt=null!==(rt=xe.algorithm)&&void 0!==rt?rt:null===(Mt=null===(st=xe.verificationMethods)||void 0===st?void 0:st[0])||void 0===Mt?void 0:Mt.algorithm)&&void 0!==Jt?Jt:"Ed25519",Ie=yield ve.generateKey({algorithm:Mn}),ie=yield ve.getPublicKey({keyUri:Ie}),oe=N.U$.object(ie).toBase64Url(),ye=`did:${Ye.methodName}:${oe}`,Ze=(yield Ye.resolve(ye)).didDocument;return new Xa({uri:ye,document:Ze,metadata:{},keyManager:ve})})}static getSigningMethod(ve){return oo(this,arguments,void 0,function*({didDocument:xe}){var rt;const st=Bo.parse(xe.id);if(st&&st.method!==this.methodName)throw new To(go.MethodNotSupported,`Method not supported: ${st.method}`);const[Mt]=null!==(rt=xe.verificationMethod)&&void 0!==rt?rt:[];if(!Mt||!Mt.publicKeyJwk)throw new To(go.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Mt})}static import(ve){return oo(this,arguments,void 0,function*({portableDid:xe,keyManager:rt=new Ao}){const st=Bo.parse(xe.uri);if(st?.method!==Ye.methodName)throw new To(go.MethodNotSupported,"Method not supported");const Mt=yield Xa.import({portableDid:xe,keyManager:rt});if(1!==Mt.document.verificationMethod.length)throw new To(go.InvalidDidDocument,"DID document must contain exactly one verification method");return Mt})}static resolve(ve,xe){return oo(this,void 0,void 0,function*(){const rt=Bo.parse(ve);let st;try{st=N.U$.base64Url(rt.id).toObject()}catch{}if(!rt||!st)return Object.assign(Object.assign({},ro),{didResolutionMetadata:{error:"invalidDid"}});if(rt.method!==Ye.methodName)return Object.assign(Object.assign({},ro),{didResolutionMetadata:{error:"methodNotSupported"}});const Mt={"@context":["https://www.w3.org/ns/did/v1"],id:rt.uri},Jt=`${Mt.id}#0`;switch(Mt.verificationMethod=[{id:Jt,type:"JsonWebKey",controller:Mt.id,publicKeyJwk:st}],Mt.authentication=[Jt],Mt.assertionMethod=[Jt],Mt.capabilityInvocation=[Jt],Mt.capabilityDelegation=[Jt],Mt.keyAgreement=[Jt],st.use){case"sig":delete Mt.keyAgreement;break;case"enc":delete Mt.authentication,delete Mt.assertionMethod,delete Mt.capabilityInvocation,delete Mt.capabilityDelegation}return Object.assign(Object.assign({},ro),{didDocument:Mt})})}}return Ye.methodName="jwk",Ye})();var el=_(64284),sf=_(13138);class Pl{constructor({db:Te,location:ve="DATA/DID_RESOLVERCACHE",ttl:xe="15m"}={}){this.cache=Te??new sf.Level(ve),this.ttl=el(xe)}get(Te){return function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})}(this,void 0,void 0,function*(){try{const ve=yield this.cache.get(Te),xe=JSON.parse(ve);return Date.now()>=xe.ttlMillis?void this.cache.nextTick(()=>this.cache.del(Te)):xe.value}catch(ve){if(ve.notFound)return;throw ve}})}set(Te,ve){const xe={ttlMillis:Date.now()+this.ttl,value:ve},rt=JSON.stringify(xe);return this.cache.put(Te,rt)}delete(Te){return this.cache.del(Te)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var Xt=_(79677),vt=function(Ye,Te,ve,xe){return new(ve||(ve=Promise))(function(st,Mt){function Jt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function Mn(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function rt(st){return st instanceof ve?st:new ve(function(Mt){Mt(st)})}(ie.value).then(Jt,Mn)}Ie((xe=xe.apply(Ye,Te||[])).next())})};class Vt{constructor(Te){this._agentDid=Te.agentDid,this.crypto=Te.cryptoApi,this.did=Te.didApi,this.dwn=Te.dwnApi,this.identity=Te.identityApi,this.keyManager=Te.keyManager,this.rpc=Te.rpcClient,this.sync=Te.syncApi,this.vault=Te.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(Te){this._agentDid=Te}static create({dataPath:Te="DATA/AGENT",agentDid:ve,agentVault:xe,cryptoApi:rt,didApi:st,dwnApi:Mt,identityApi:Jt,keyManager:Mn,rpcClient:Ie,syncApi:ie}={}){return vt(this,void 0,void 0,function*(){return xe??(xe=new Xt.TX({keyDerivationWorkFactor:21e4,store:new N.cG({location:`${Te}/VAULT_STORE`})})),rt??(rt=new Xt.DP),st??(st=new Xt.Bq({didMethods:[Ya,Qd],resolverCache:new Pl({location:`${Te}/DID_RESOLVERCACHE`}),store:new Xt.QZ})),Mt??(Mt=new Xt.rr({dwn:yield Xt.rr.createDwn({dataPath:Te,didResolver:st})})),Jt??(Jt=new Xt.yc({store:new Xt.dk})),Mn??(Mn=new Xt.eP({keyStore:new Xt.cW})),Ie??(Ie=new Xt.oN),ie??(ie=new Xt.rM({syncEngine:new Xt.qB({dataPath:Te})})),new Vt({agentDid:ve,agentVault:xe,cryptoApi:rt,didApi:st,dwnApi:Mt,keyManager:Mn,identityApi:Jt,rpcClient:Ie,syncApi:ie})})}firstLaunch(){return vt(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:Te,recoveryPhrase:ve}){return vt(this,void 0,void 0,function*(){return ve=yield this.vault.initialize({password:Te,recoveryPhrase:ve})})}processDidRequest(Te){return vt(this,void 0,void 0,function*(){return this.did.processRequest(Te)})}processDwnRequest(Te){return vt(this,void 0,void 0,function*(){return this.dwn.processRequest(Te)})}processVcRequest(Te){return vt(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(Te){return vt(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(Te){return vt(this,void 0,void 0,function*(){return this.dwn.sendRequest(Te)})}sendVcRequest(Te){return vt(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:Te}){return vt(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:Te})),this.agentDid=yield this.vault.getDid()})}}var yn=_(96049);let Yn=(()=>{class Ye{constructor(ve){this.cryptoService=ve,this.syncInterval="10s",this.agents=(0,b.vPA)([]),this.initialized=(0,b.vPA)(!1),this.locked=(0,b.vPA)(!1)}initialConnect(ve){var xe=this;return(0,y.A)(function*(){try{const rt=yield P.uW.connect({password:ve,sync:xe.syncInterval});return xe.web5=rt.web5,xe.did=rt.did,console.log("Web5 Connected.",xe.did),xe.initialized.set(!0),rt}catch{alert("Failed to initialize Web5")}})()}connect(ve,xe){var rt=this;return(0,y.A)(function*(){try{const st=yield P.uW.connect({connectedDid:ve,password:xe,sync:rt.syncInterval});return rt.web5=st.web5,rt.did=st.did,console.log("Web5 Connected."),rt.initialized.set(!0),st}catch{alert("Failed to initialize Web5")}})()}restore(ve,xe){var rt=this;return(0,y.A)(function*(){try{const st=yield P.uW.connect({recoveryPhrase:xe,password:ve,sync:rt.syncInterval});return rt.web5=st.web5,rt.did=st.did,console.log("Web5 Connected."),rt.initialized.set(!0),st}catch{alert("Failed to initialize Web5")}})()}activeAgent(){return this.web5.agent}changePassword(ve,xe){var rt=this;return(0,y.A)(function*(){yield rt.web5.agent.vault.changePassword({oldPassword:ve,newPassword:xe})})()}lock(){var ve=this;return(0,y.A)(function*(){console.log("Locking account..."),yield ve.web5.agent.vault.lock(),console.log("Vault locked"),ve.locked.set(!0)})()}unlock(ve){var xe=this;return(0,y.A)(function*(){console.log("Connecting to Web5...");try{const{did:rt,web5:st}=yield P.uW.connect({sync:"5s",password:ve});return xe.did=rt,xe.web5=st,xe.initialized.set(!0),xe.locked.set(!1),!0}catch(rt){return console.error(rt),console.log("Show unlock screen!"),xe.locked.set(!0),!1}})()}initialize(ve,xe,rt){var st=this;return(0,y.A)(function*(){const Mt=yield Vt.create({dataPath:rt});(yield Mt.firstLaunch())&&(xe=yield Mt.initialize({password:ve,recoveryPhrase:xe})),st.agents.update(Jt=>[...Jt,Mt])})()}create(){return(0,y.A)(function*(){return yield Dn.create({options:{publish:!1}})})()}static#e=this.\u0275fac=function(xe){return new(xe||Ye)(b.KVO(yn.j))};static#t=this.\u0275prov=b.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}return Ye})()},36815:(Je,j,_)=>{"use strict";_.d(j,{Y:()=>b});var y=_(93953);let b=(()=>{class P{constructor(){this.scrolling=(0,y.vPA)(!0),this.navigation=(0,y.vPA)(!1),(0,y.QZP)(()=>{const w=document.querySelector(".sidenav-scroll-wrapper");w&&(w.style.overflow=this.scrolling()?"auto":"hidden");const O=document.querySelector(".sidenav-content");O&&(O.style.overflow=this.scrolling()?"auto":"hidden")})}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}enableNavigation(){this.navigation.set(!0)}disableNavigation(){this.navigation.set(!1)}static#e=this.\u0275fac=function(O){return new(O||P)};static#t=this.\u0275prov=y.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},43794:(Je,j,_)=>{"use strict";_.d(j,{n:()=>b});var y=_(93953);let b=(()=>{class P{constructor(){this.prefix="ariton-"}save(w,O){localStorage.setItem(this.prefix+w,JSON.stringify(O))}read(w){const O=localStorage.getItem(this.prefix+w);return O?JSON.parse(O):null}remove(w){localStorage.removeItem(this.prefix+w)}clear(){Object.keys(localStorage).forEach(w=>{w.startsWith(this.prefix)&&localStorage.removeItem(w)})}static#e=this.\u0275fac=function(O){return new(O||P)};static#t=this.\u0275prov=y.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},13159:(Je,j,_)=>{"use strict";var y=_(345),b=_(93953),P=_(18498);const H=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"introduction",loadComponent:()=>_.e(630).then(_.bind(_,64630)).then(Sn=>Sn.IntroductionComponent),title:"Introduction",data:{icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([_.e(576),_.e(320)]).then(_.bind(_,62320)).then(Sn=>Sn.DashboardComponent),title:"Dashboard",data:{icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([_.e(516),_.e(571),_.e(450),_.e(702)]).then(_.bind(_,6702)).then(Sn=>Sn.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"marketplace",loadComponent:()=>_.e(392).then(_.bind(_,94392)).then(Sn=>Sn.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([_.e(516),_.e(571),_.e(450),_.e(576),_.e(487)]).then(_.bind(_,8487)).then(Sn=>Sn.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/chat",loadComponent:()=>Promise.all([_.e(571),_.e(76),_.e(515)]).then(_.bind(_,38515)).then(Sn=>Sn.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"app/todo",loadComponent:()=>Promise.all([_.e(391),_.e(811)]).then(_.bind(_,11811)).then(Sn=>Sn.TodoComponent),title:"Todo",data:{icon:"task"}},{path:"registries",loadComponent:()=>Promise.all([_.e(516),_.e(466)]).then(_.bind(_,69466)).then(Sn=>Sn.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([_.e(516),_.e(76),_.e(26)]).then(_.bind(_,65026)).then(Sn=>Sn.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([_.e(850),_.e(474)]).then(_.bind(_,53474)).then(Sn=>Sn.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([_.e(850),_.e(358),_.e(454),_.e(416),_.e(76),_.e(195)]).then(_.bind(_,9195)).then(Sn=>Sn.DataComponent),title:"Data",data:{icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([_.e(76),_.e(533)]).then(_.bind(_,29533)).then(Sn=>Sn.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>Promise.all([_.e(850),_.e(416),_.e(762)]).then(_.bind(_,39762)).then(Sn=>Sn.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"profile/:id/edit",loadComponent:()=>_.e(380).then(_.bind(_,37380)).then(Sn=>Sn.ProfileEditComponent),title:"Edit Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>_.e(228).then(_.bind(_,92228)).then(Sn=>Sn.NotificationsComponent),title:"Notifications",data:{hide:!1,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([_.e(850),_.e(454),_.e(486)]).then(_.bind(_,96486)).then(Sn=>Sn.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>_.e(12).then(_.bind(_,88012)).then(Sn=>Sn.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/backup",loadComponent:()=>_.e(962).then(_.bind(_,75962)).then(Sn=>Sn.BackupComponent),title:"Backup",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>_.e(806).then(_.bind(_,75806)).then(Sn=>Sn.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>_.e(613).then(_.bind(_,29613)).then(Sn=>Sn.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>Promise.resolve().then(_.bind(_,33065)).then(Sn=>Sn.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>_.e(880).then(_.bind(_,17880)).then(Sn=>Sn.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>_.e(854).then(_.bind(_,85854)).then(Sn=>Sn.IdentityComponent),title:"Identity",data:{icon:"account_circle"}},{path:"settings",loadComponent:()=>_.e(959).then(_.bind(_,60959)).then(Sn=>Sn.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>_.e(216).then(_.bind(_,85216)).then(Sn=>Sn.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/licenses",loadComponent:()=>_.e(727).then(_.bind(_,19727)).then(Sn=>Sn.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>_.e(128).then(_.bind(_,99128)).then(Sn=>Sn.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"settings/handler",loadComponent:()=>_.e(552).then(_.bind(_,18552)).then(Sn=>Sn.HandlerComponent),title:"Protocol Handler",data:{hide:!0,icon:"search"}},{path:"table",loadComponent:()=>Promise.all([_.e(516),_.e(603)]).then(_.bind(_,79603)).then(Sn=>Sn.TableComponent),title:"Table",data:{hide:!0,icon:"folder"}},{path:"tree",loadComponent:()=>Promise.all([_.e(358),_.e(238)]).then(_.bind(_,9238)).then(Sn=>Sn.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>Promise.all([_.e(391),_.e(988)]).then(_.bind(_,77988)).then(Sn=>Sn.DragDropComponent),title:"Drag-Drop",data:{hide:!1,icon:"folder"}},{path:"help",loadComponent:()=>_.e(492).then(_.bind(_,12492)).then(Sn=>Sn.HelpComponent),title:"Help",data:{hide:!0,icon:"help"}}];var w=_(60177);let S=(()=>{class Sn{constructor(dn,Un,Fn,zr,ti){this.doc=dn,this.delegate=Un,this.zone=Fn,this.animationType=zr,this.moduleImpl=ti,this._rendererFactoryPromise=null,this.scheduler=(0,b.WQX)(b.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??_.e(8).then(_.bind(_,68008)).then(Un=>Un)).catch(Un=>{throw new b.wOt(5300,!1)}).then(({\u0275createEngine:Un,\u0275AnimationRendererFactory:Fn})=>{this._engine=Un(this.animationType,this.doc);const zr=new Fn(this.delegate,this._engine,this.zone);return this.delegate=zr,zr})}createRenderer(dn,Un){const Fn=this.delegate.createRenderer(dn,Un);if(0===Fn.\u0275type)return Fn;"boolean"==typeof Fn.throwOnSyntheticProps&&(Fn.throwOnSyntheticProps=!1);const zr=new B(Fn);return Un?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(ti=>{const ps=ti.createRenderer(dn,Un);zr.use(ps),this.scheduler?.notify(9)}).catch(ti=>{zr.use(Fn)}),zr}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(Un){b.QTQ()};static#t=this.\u0275prov=b.jDH({token:Sn,factory:Sn.\u0275fac})}return Sn})();class B{constructor(br){this.delegate=br,this.replay=[],this.\u0275type=1}use(br){if(this.delegate=br,null!==this.replay){for(const dn of this.replay)dn(br);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(br,dn){return this.delegate.createElement(br,dn)}createComment(br){return this.delegate.createComment(br)}createText(br){return this.delegate.createText(br)}get destroyNode(){return this.delegate.destroyNode}appendChild(br,dn){this.delegate.appendChild(br,dn)}insertBefore(br,dn,Un,Fn){this.delegate.insertBefore(br,dn,Un,Fn)}removeChild(br,dn,Un){this.delegate.removeChild(br,dn,Un)}selectRootElement(br,dn){return this.delegate.selectRootElement(br,dn)}parentNode(br){return this.delegate.parentNode(br)}nextSibling(br){return this.delegate.nextSibling(br)}setAttribute(br,dn,Un,Fn){this.delegate.setAttribute(br,dn,Un,Fn)}removeAttribute(br,dn,Un){this.delegate.removeAttribute(br,dn,Un)}addClass(br,dn){this.delegate.addClass(br,dn)}removeClass(br,dn){this.delegate.removeClass(br,dn)}setStyle(br,dn,Un,Fn){this.delegate.setStyle(br,dn,Un,Fn)}removeStyle(br,dn,Un){this.delegate.removeStyle(br,dn,Un)}setProperty(br,dn,Un){this.shouldReplay(dn)&&this.replay.push(Fn=>Fn.setProperty(br,dn,Un)),this.delegate.setProperty(br,dn,Un)}setValue(br,dn){this.delegate.setValue(br,dn)}listen(br,dn,Un){return this.shouldReplay(dn)&&this.replay.push(Fn=>Fn.listen(br,dn,Un)),this.delegate.listen(br,dn,Un)}shouldReplay(br){return null!==this.replay&&br.startsWith("@")}}var U=_(59030),A=_(18810),G=_(33726),L=_(7673),z=_(28793),ee=_(21413),q=_(71985),Z=_(85343);const J=new q.c(Z.l);var ce=_(57786),ae=_(96354),fe=_(5964),he=_(25558),we=_(30017),Me=_(98071),Pe=_(58750),C=_(39974);const d={connector:()=>new ee.B};function m(Sn,br=d){const{connector:dn}=br;return(0,C.N)((Un,Fn)=>{const zr=dn();(0,Pe.Tg)(Sn(function a(Sn){return new q.c(br=>Sn.subscribe(br))}(zr))).subscribe(Fn),Fn.add(Un.subscribe(zr))})}var D=_(96697),R=_(88141),x=_(91986);const s="Service workers are disabled or not supported by this browser";class ${constructor(br){if(this.serviceWorker=br,br){const Un=(0,G.R)(br,"controllerchange").pipe((0,ae.T)(()=>br.controller)),Fn=(0,U.v)(()=>(0,L.of)(br.controller)),zr=(0,z.x)(Fn,Un);this.worker=zr.pipe((0,fe.p)(ro=>!!ro)),this.registration=this.worker.pipe((0,he.n)(()=>br.getRegistration()));const Ga=(0,G.R)(br,"message").pipe((0,ae.T)(ro=>ro.data)).pipe((0,fe.p)(ro=>ro&&ro.type)).pipe(function E(Sn){return Sn?br=>m(Sn)(br):br=>function p(Sn,br){const dn=(0,Me.T)(Sn)?Sn:()=>Sn;return(0,Me.T)(br)?m(br,{connector:dn}):Un=>new we.G(Un,dn)}(new ee.B)(br)}());Ga.connect(),this.events=Ga}else this.worker=this.events=this.registration=function v(Sn){return(0,U.v)(()=>(0,A.$)(new Error(Sn)))}(s)}postMessage(br,dn){return this.worker.pipe((0,D.s)(1),(0,R.M)(Un=>{Un.postMessage({action:br,...dn})})).toPromise().then(()=>{})}postMessageWithOperation(br,dn,Un){const Fn=this.waitForOperationCompleted(Un),zr=this.postMessage(br,dn);return Promise.all([zr,Fn]).then(([,ti])=>ti)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(br){let dn;return dn="string"==typeof br?Un=>Un.type===br:Un=>br.includes(Un.type),this.events.pipe((0,fe.p)(dn))}nextEventOfType(br){return this.eventsOfType(br).pipe((0,D.s)(1))}waitForOperationCompleted(br){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,fe.p)(dn=>dn.nonce===br),(0,D.s)(1),(0,ae.T)(dn=>{if(void 0!==dn.result)return dn.result;throw new Error(dn.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let F=(()=>{class Sn{get isEnabled(){return this.sw.isEnabled}constructor(dn){if(this.sw=dn,this.pushManager=null,this.subscriptionChanges=new ee.B,!dn.isEnabled)return this.messages=J,this.notificationClicks=J,void(this.subscription=J);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ae.T)(Fn=>Fn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ae.T)(Fn=>Fn.data)),this.pushManager=this.sw.registration.pipe((0,ae.T)(Fn=>Fn.pushManager));const Un=this.pushManager.pipe((0,he.n)(Fn=>Fn.getSubscription()));this.subscription=(0,ce.h)(Un,this.subscriptionChanges)}requestSubscription(dn){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(s));const Un={userVisibleOnly:!0};let Fn=this.decodeBase64(dn.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),zr=new Uint8Array(new ArrayBuffer(Fn.length));for(let ti=0;ti<Fn.length;ti++)zr[ti]=Fn.charCodeAt(ti);return Un.applicationServerKey=zr,this.pushManager.pipe((0,he.n)(ti=>ti.subscribe(Un)),(0,D.s)(1)).toPromise().then(ti=>(this.subscriptionChanges.next(ti),ti))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,D.s)(1),(0,he.n)(Un=>{if(null===Un)throw new Error("Not subscribed to push notifications.");return Un.unsubscribe().then(Fn=>{if(!Fn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(s))}decodeBase64(dn){return atob(dn)}static#e=this.\u0275fac=function(Un){return new(Un||Sn)(b.KVO($))};static#t=this.\u0275prov=b.jDH({token:Sn,factory:Sn.\u0275fac})}return Sn})(),Q=(()=>{class Sn{get isEnabled(){return this.sw.isEnabled}constructor(dn){if(this.sw=dn,!dn.isEnabled)return this.versionUpdates=J,void(this.unrecoverable=J);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(s));const dn=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:dn},dn)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(s));const dn=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:dn},dn)}static#e=this.\u0275fac=function(Un){return new(Un||Sn)(b.KVO($))};static#t=this.\u0275prov=b.jDH({token:Sn,factory:Sn.\u0275fac})}return Sn})();const de=new b.nKC("");function Ce(Sn,br,dn,Un){return()=>{if(!(0,w.UE)(Un)||!("serviceWorker"in navigator)||!1===dn.enabled)return;const Fn=Sn.get(b.SKi),zr=Sn.get(b.o8S);let ti;if(Fn.runOutsideAngular(()=>{const ps=navigator.serviceWorker,ns=()=>ps.controller?.postMessage({action:"INITIALIZE"});ps.addEventListener("controllerchange",ns),zr.onDestroy(()=>{ps.removeEventListener("controllerchange",ns)})}),"function"==typeof dn.registrationStrategy)ti=dn.registrationStrategy();else{const[ps,...ns]=(dn.registrationStrategy||"registerWhenStable:30000").split(":");switch(ps){case"registerImmediately":ti=(0,L.of)(null);break;case"registerWithDelay":ti=Re(+ns[0]||0);break;case"registerWhenStable":ti=ns[0]?(0,ce.h)(Ve(Sn),Re(+ns[0])):Ve(Sn);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${dn.registrationStrategy}`)}}Fn.runOutsideAngular(()=>ti.pipe((0,D.s)(1)).subscribe(()=>navigator.serviceWorker.register(br,{scope:dn.scope}).catch(ps=>console.error("Service worker registration failed with:",ps))))}}function Re(Sn){return(0,L.of)(null).pipe((0,x.c)(Sn))}function Ve(Sn){return Sn.get(b.o8S).isStable.pipe((0,fe.p)(dn=>dn))}function Ee(Sn,br){return new $((0,w.UE)(br)&&!1!==Sn.enabled?navigator.serviceWorker:void 0)}class _e{}const Ae={providers:[(0,b.Jn2)({eventCoalescing:!0}),(0,P.lh)(H,(0,P.Sn)(P.Kp)),function N(Sn="animations"){return(0,b.ngT)("NgAsyncAnimations"),(0,b.EmA)([{provide:b._9s,useFactory:(br,dn,Un)=>new S(br,dn,Un,Sn),deps:[w.qQ,y.B7,b.SKi]},{provide:b.bc$,useValue:"noop"===Sn?"NoopAnimations":"BrowserAnimations"}])}(),function Fe(Sn,br={}){return(0,b.EmA)([F,Q,{provide:de,useValue:Sn},{provide:_e,useValue:br},{provide:$,useFactory:Ee,deps:[_e,b.Agw]},{provide:b.hnV,useFactory:Ce,deps:[b.zZn,de,_e,b.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,b.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var ge=_(10467),me=_(99327),te=_(55911),ne=_(88834),ue=_(67333),De=_(86600),Be=_(18617),Qe=_(28203),ze=_(14085),Dt=_(67336),Xe=_(36860),Ue=_(73703),mt=_(56977),K=_(23294),T=_(99172),M=_(70152),Y=_(49969);const pe=["*"],ke=["content"],Ne=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],lt=["mat-drawer","mat-drawer-content","*"];function en(Sn,br){if(1&Sn){const dn=b.RV6();b.j41(0,"div",1),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG();return b.Njj(Fn._onBackdropClicked())}),b.k0s()}if(2&Sn){const dn=b.XpG();b.AVh("mat-drawer-shown",dn._isShowingBackdrop())}}function It(Sn,br){1&Sn&&(b.j41(0,"mat-drawer-content"),b.SdG(1,2),b.k0s())}const Kt=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],rn=["mat-sidenav","mat-sidenav-content","*"];function vn(Sn,br){if(1&Sn){const dn=b.RV6();b.j41(0,"div",1),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG();return b.Njj(Fn._onBackdropClicked())}),b.k0s()}if(2&Sn){const dn=b.XpG();b.AVh("mat-drawer-shown",dn._isShowingBackdrop())}}function un(Sn,br){1&Sn&&(b.j41(0,"mat-sidenav-content"),b.SdG(1,2),b.k0s())}const Cn={transformDrawer:(0,Y.hZ)("transform",[(0,Y.wk)("open, open-instant",(0,Y.iF)({transform:"none",visibility:"visible"})),(0,Y.wk)("void",(0,Y.iF)({"box-shadow":"none",visibility:"hidden"})),(0,Y.kY)("void => open-instant",(0,Y.i0)("0ms")),(0,Y.kY)("void <=> open, open-instant => void",(0,Y.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},qt=new b.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ut(){return!1}}),bt=new b.nKC("MAT_DRAWER_CONTAINER");let Gt=(()=>{class Sn extends ue.uv{constructor(dn,Un,Fn,zr,ti){super(Fn,zr,ti),this._changeDetectorRef=dn,this._container=Un}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(Un){return new(Un||Sn)(b.rXU(b.gRc),b.rXU((0,b.Rfq)(()=>pn)),b.rXU(b.aKT),b.rXU(ue.R),b.rXU(b.SKi))};static#t=this.\u0275cmp=b.VBU({type:Sn,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(Un,Fn){2&Un&&b.xc7("margin-left",Fn._container._contentMargins.left,"px")("margin-right",Fn._container._contentMargins.right,"px")},standalone:!0,features:[b.Jv_([{provide:ue.uv,useExisting:Sn}]),b.Vt3,b.aNF],ngContentSelectors:pe,decls:1,vars:0,template:function(Un,Fn){1&Un&&(b.NAR(),b.SdG(0))},encapsulation:2,changeDetection:0})}return Sn})(),nn=(()=>{class Sn{get position(){return this._position}set position(dn){(dn="end"===dn?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(dn),this._position=dn,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(dn){this._mode=dn,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(dn){this._disableClose=(0,ze.he)(dn)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(dn){("true"===dn||"false"===dn||null==dn)&&(dn=(0,ze.he)(dn)),this._autoFocus=dn}get opened(){return this._opened}set opened(dn){this.toggle((0,ze.he)(dn))}constructor(dn,Un,Fn,zr,ti,ps,ns,Ga){this._elementRef=dn,this._focusTrapFactory=Un,this._focusMonitor=Fn,this._platform=zr,this._ngZone=ti,this._interactivityChecker=ps,this._doc=ns,this._container=Ga,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ee.B,this._animationEnd=new ee.B,this._animationState="void",this.openedChange=new b.bkB(!0),this._openedStream=this.openedChange.pipe((0,fe.p)(ro=>ro),(0,ae.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,fe.p)(ro=>ro.fromState!==ro.toState&&0===ro.toState.indexOf("open")),(0,Ue.u)(void 0)),this._closedStream=this.openedChange.pipe((0,fe.p)(ro=>!ro),(0,ae.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,fe.p)(ro=>ro.fromState!==ro.toState&&"void"===ro.toState),(0,Ue.u)(void 0)),this._destroyed=new ee.B,this.onPositionChanged=new b.bkB,this._modeChanged=new ee.B,this._injector=(0,b.WQX)(b.zZn),this._changeDetectorRef=(0,b.WQX)(b.gRc),this.openedChange.pipe((0,mt.Q)(this._destroyed)).subscribe(ro=>{ro?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,G.R)(this._elementRef.nativeElement,"keydown").pipe((0,fe.p)(ro=>ro.keyCode===Dt._f&&!this.disableClose&&!(0,Dt.rp)(ro)),(0,mt.Q)(this._destroyed)).subscribe(ro=>this._ngZone.run(()=>{this.close(),ro.stopPropagation(),ro.preventDefault()}))}),this._animationEnd.pipe((0,K.F)((ro,Bo)=>ro.fromState===Bo.fromState&&ro.toState===Bo.toState)).subscribe(ro=>{const{fromState:Bo,toState:To}=ro;(0===To.indexOf("open")&&"void"===Bo||"void"===To&&0===Bo.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(dn,Un){this._interactivityChecker.isFocusable(dn)||(dn.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Fn=()=>{dn.removeEventListener("blur",Fn),dn.removeEventListener("mousedown",Fn),dn.removeAttribute("tabindex")};dn.addEventListener("blur",Fn),dn.addEventListener("mousedown",Fn)})),dn.focus(Un)}_focusByCssSelector(dn,Un){let Fn=this._elementRef.nativeElement.querySelector(dn);Fn&&this._forceFocus(Fn,Un)}_takeFocus(){if(!this._focusTrap)return;const dn=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,b.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof dn.focus&&dn.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(dn){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,dn):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const dn=this._doc.activeElement;return!!dn&&this._elementRef.nativeElement.contains(dn)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(dn){return this.toggle(!0,dn)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(dn=!this.opened,Un){dn&&Un&&(this._openedVia=Un);const Fn=this._setOpen(dn,!dn&&this._isFocusWithinDrawer(),this._openedVia||"program");return dn||(this._openedVia=null),Fn}_setOpen(dn,Un,Fn){return this._opened=dn,dn?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",Un&&this._restoreFocus(Fn)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(zr=>{this.openedChange.pipe((0,D.s)(1)).subscribe(ti=>zr(ti?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(dn){if(!this._platform.isBrowser)return;const Un=this._elementRef.nativeElement,Fn=Un.parentNode;"end"===dn?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),Fn.insertBefore(this._anchor,Un)),Fn.appendChild(Un)):this._anchor&&this._anchor.parentNode.insertBefore(Un,this._anchor)}static#e=this.\u0275fac=function(Un){return new(Un||Sn)(b.rXU(b.aKT),b.rXU(Be.GX),b.rXU(Be.FN),b.rXU(Xe.OD),b.rXU(b.SKi),b.rXU(Be.Z7),b.rXU(w.qQ,8),b.rXU(bt,8))};static#t=this.\u0275cmp=b.VBU({type:Sn,selectors:[["mat-drawer"]],viewQuery:function(Un,Fn){if(1&Un&&b.GBs(ke,5),2&Un){let zr;b.mGM(zr=b.lsd())&&(Fn._content=zr.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(Un,Fn){1&Un&&b.Kam("@transform.start",function(ti){return Fn._animationStarted.next(ti)})("@transform.done",function(ti){return Fn._animationEnd.next(ti)}),2&Un&&(b.zvX("@transform",Fn._animationState),b.BMQ("align",null),b.AVh("mat-drawer-end","end"===Fn.position)("mat-drawer-over","over"===Fn.mode)("mat-drawer-push","push"===Fn.mode)("mat-drawer-side","side"===Fn.mode)("mat-drawer-opened",Fn.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[b.aNF],ngContentSelectors:pe,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(Un,Fn){1&Un&&(b.NAR(),b.j41(0,"div",1,0),b.SdG(2),b.k0s())},dependencies:[ue.uv],encapsulation:2,data:{animation:[Cn.transformDrawer]},changeDetection:0})}return Sn})(),pn=(()=>{class Sn{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(dn){this._autosize=(0,ze.he)(dn)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(dn){this._backdropOverride=null==dn?null:(0,ze.he)(dn)}get scrollable(){return this._userContent||this._content}constructor(dn,Un,Fn,zr,ti,ps=!1,ns){this._dir=dn,this._element=Un,this._ngZone=Fn,this._changeDetectorRef=zr,this._animationMode=ns,this._drawers=new b.rOR,this.backdropClick=new b.bkB,this._destroyed=new ee.B,this._doCheckSubject=new ee.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ee.B,this._injector=(0,b.WQX)(b.zZn),dn&&dn.change.pipe((0,mt.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),ti.change().pipe((0,mt.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=ps}ngAfterContentInit(){this._allDrawers.changes.pipe((0,T.Z)(this._allDrawers),(0,mt.Q)(this._destroyed)).subscribe(dn=>{this._drawers.reset(dn.filter(Un=>!Un._container||Un._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,T.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(dn=>{this._watchDrawerToggle(dn),this._watchDrawerPosition(dn),this._watchDrawerMode(dn)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,M.B)(10),(0,mt.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(dn=>dn.open())}close(){this._drawers.forEach(dn=>dn.close())}updateContentMargins(){let dn=0,Un=0;if(this._left&&this._left.opened)if("side"==this._left.mode)dn+=this._left._getWidth();else if("push"==this._left.mode){const Fn=this._left._getWidth();dn+=Fn,Un-=Fn}if(this._right&&this._right.opened)if("side"==this._right.mode)Un+=this._right._getWidth();else if("push"==this._right.mode){const Fn=this._right._getWidth();Un+=Fn,dn-=Fn}dn=dn||null,Un=Un||null,(dn!==this._contentMargins.left||Un!==this._contentMargins.right)&&(this._contentMargins={left:dn,right:Un},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(dn){dn._animationStarted.pipe((0,fe.p)(Un=>Un.fromState!==Un.toState),(0,mt.Q)(this._drawers.changes)).subscribe(Un=>{"open-instant"!==Un.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==dn.mode&&dn.openedChange.pipe((0,mt.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(dn.opened))}_watchDrawerPosition(dn){dn&&dn.onPositionChanged.pipe((0,mt.Q)(this._drawers.changes)).subscribe(()=>{(0,b.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:b.wjH.Read})})}_watchDrawerMode(dn){dn&&dn._modeChanged.pipe((0,mt.Q)((0,ce.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(dn){const Un=this._element.nativeElement.classList,Fn="mat-drawer-container-has-open";dn?Un.add(Fn):Un.remove(Fn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(dn=>{"end"==dn.position?this._end=dn:this._start=dn}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(dn=>dn&&!dn.disableClose&&this._drawerHasBackdrop(dn)).forEach(dn=>dn._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(dn){return null!=dn&&dn.opened}_drawerHasBackdrop(dn){return null==this._backdropOverride?!!dn&&"side"!==dn.mode:this._backdropOverride}static#e=this.\u0275fac=function(Un){return new(Un||Sn)(b.rXU(Qe.dS,8),b.rXU(b.aKT),b.rXU(b.SKi),b.rXU(b.gRc),b.rXU(ue.Xj),b.rXU(qt),b.rXU(b.bc$,8))};static#t=this.\u0275cmp=b.VBU({type:Sn,selectors:[["mat-drawer-container"]],contentQueries:function(Un,Fn,zr){if(1&Un&&(b.wni(zr,Gt,5),b.wni(zr,nn,5)),2&Un){let ti;b.mGM(ti=b.lsd())&&(Fn._content=ti.first),b.mGM(ti=b.lsd())&&(Fn._allDrawers=ti)}},viewQuery:function(Un,Fn){if(1&Un&&b.GBs(Gt,5),2&Un){let zr;b.mGM(zr=b.lsd())&&(Fn._userContent=zr.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(Un,Fn){2&Un&&b.AVh("mat-drawer-container-explicit-backdrop",Fn._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[b.Jv_([{provide:bt,useExisting:Sn}]),b.aNF],ngContentSelectors:lt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Un,Fn){1&Un&&(b.NAR(Ne),b.DNE(0,en,1,2,"div",0),b.SdG(1),b.SdG(2,1),b.DNE(3,It,2,0,"mat-drawer-content")),2&Un&&(b.vxM(Fn.hasBackdrop?0:-1),b.R7$(3),b.vxM(Fn._content?-1:3))},dependencies:[Gt],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return Sn})(),ur=(()=>{class Sn extends Gt{constructor(dn,Un,Fn,zr,ti){super(dn,Un,Fn,zr,ti)}static#e=this.\u0275fac=function(Un){return new(Un||Sn)(b.rXU(b.gRc),b.rXU((0,b.Rfq)(()=>_t)),b.rXU(b.aKT),b.rXU(ue.R),b.rXU(b.SKi))};static#t=this.\u0275cmp=b.VBU({type:Sn,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(Un,Fn){2&Un&&b.xc7("margin-left",Fn._container._contentMargins.left,"px")("margin-right",Fn._container._contentMargins.right,"px")},standalone:!0,features:[b.Jv_([{provide:ue.uv,useExisting:Sn}]),b.Vt3,b.aNF],ngContentSelectors:pe,decls:1,vars:0,template:function(Un,Fn){1&Un&&(b.NAR(),b.SdG(0))},encapsulation:2,changeDetection:0})}return Sn})(),yt=(()=>{class Sn extends nn{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(dn){this._fixedInViewport=(0,ze.he)(dn)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(dn){this._fixedTopGap=(0,ze.OE)(dn)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(dn){this._fixedBottomGap=(0,ze.OE)(dn)}static#e=this.\u0275fac=(()=>{let dn;return function(Fn){return(dn||(dn=b.xGo(Sn)))(Fn||Sn)}})();static#t=this.\u0275cmp=b.VBU({type:Sn,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(Un,Fn){2&Un&&(b.BMQ("align",null),b.xc7("top",Fn.fixedInViewport?Fn.fixedTopGap:null,"px")("bottom",Fn.fixedInViewport?Fn.fixedBottomGap:null,"px"),b.AVh("mat-drawer-end","end"===Fn.position)("mat-drawer-over","over"===Fn.mode)("mat-drawer-push","push"===Fn.mode)("mat-drawer-side","side"===Fn.mode)("mat-drawer-opened",Fn.opened)("mat-sidenav-fixed",Fn.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[b.Vt3,b.aNF],ngContentSelectors:pe,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(Un,Fn){1&Un&&(b.NAR(),b.j41(0,"div",1,0),b.SdG(2),b.k0s())},dependencies:[ue.uv],encapsulation:2,data:{animation:[Cn.transformDrawer]},changeDetection:0})}return Sn})(),_t=(()=>{class Sn extends pn{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let dn;return function(Fn){return(dn||(dn=b.xGo(Sn)))(Fn||Sn)}})();static#t=this.\u0275cmp=b.VBU({type:Sn,selectors:[["mat-sidenav-container"]],contentQueries:function(Un,Fn,zr){if(1&Un&&(b.wni(zr,ur,5),b.wni(zr,yt,5)),2&Un){let ti;b.mGM(ti=b.lsd())&&(Fn._content=ti.first),b.mGM(ti=b.lsd())&&(Fn._allDrawers=ti)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(Un,Fn){2&Un&&b.AVh("mat-drawer-container-explicit-backdrop",Fn._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[b.Jv_([{provide:bt,useExisting:Sn}]),b.Vt3,b.aNF],ngContentSelectors:rn,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Un,Fn){1&Un&&(b.NAR(Kt),b.DNE(0,vn,1,2,"div",0),b.SdG(1),b.SdG(2,1),b.DNE(3,un,2,0,"mat-sidenav-content")),2&Un&&(b.vxM(Fn.hasBackdrop?0:-1),b.R7$(3),b.vxM(Fn._content?-1:3))},dependencies:[ur],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return Sn})(),xt=(()=>{class Sn{static#e=this.\u0275fac=function(Un){return new(Un||Sn)};static#t=this.\u0275mod=b.$C({type:Sn});static#n=this.\u0275inj=b.G2t({imports:[De.yE,ue.Gj,ue.Gj,De.yE]})}return Sn})();var qe=_(3902),tt=_(99213),Wt=_(44668),Ft=_(36815),mn=_(59115),zn=_(43794),wn=_(67402),Tn=_(40605);let vr=(()=>{class Sn{constructor(dn,Un){this.swUpdate=dn,this.zone=Un,this.isNewVersionAvailable=!1,this.intervalSource=(0,Tn.Y)(9e5),this.checkForUpdateOnInterval(),this.checkForUpdateOnLoad()}applyUpdate(){this.swUpdate.activateUpdate().then(()=>document.location.reload()).catch(dn=>console.error("Failed to apply updates:",dn))}checkForUpdateOnInterval(){var dn=this;this.intervalSubscription?.unsubscribe(),this.swUpdate.isEnabled&&this.zone.runOutsideAngular(()=>{this.intervalSubscription=this.intervalSource.subscribe((0,ge.A)(function*(){if(dn.isNewVersionAvailable)yield dn.swUpdate.checkForUpdate();else try{dn.isNewVersionAvailable=yield dn.swUpdate.checkForUpdate(),console.log(dn.isNewVersionAvailable?"A new version is available.":"Already on the latest version.")}catch(Un){console.error("Failed to check for updates:",Un)}}))})}checkForUpdateOnLoad(){this.newVersionSubscription?.unsubscribe(),this.swUpdate.isEnabled?(this.newVersionSubscription=this.swUpdate.versionUpdates.subscribe(dn=>{switch(console.log("New version update event:"),console.log(dn),dn.type){case"VERSION_DETECTED":console.log(`Downloading new app version: ${dn.version.hash}`);break;case"VERSION_READY":console.log(`Current app version: ${dn.currentVersion.hash}`),console.log(`New app version ready for use: ${dn.latestVersion.hash}`),this.isNewVersionAvailable=!0;break;case"VERSION_INSTALLATION_FAILED":console.log(`Failed to install app version '${dn.version.hash}': ${dn.error}`)}}),console.log("Subscribed to new version updates.")):console.log("Service worker updates are disabled for this app.")}static#e=this.\u0275fac=function(Un){return new(Un||Sn)(b.KVO(Q),b.KVO(b.SKi))};static#t=this.\u0275prov=b.jDH({token:Sn,factory:Sn.\u0275fac,providedIn:"root"})}return Sn})();var ir=_(14823);let Nn=(()=>{class Sn{constructor(dn,Un){this.router=dn,this.location=Un,this.history=[],this.router.events.subscribe(Fn=>{Fn instanceof P.wF&&this.history.push(Fn.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(Un){return new(Un||Sn)(b.KVO(P.Ix),b.KVO(w.aZ))};static#t=this.\u0275prov=b.jDH({token:Sn,factory:Sn.\u0275fac,providedIn:"root"})}return Sn})();var Ln=_(71997);const at=["*"],He=()=>["/settings"],ct=()=>["/profile","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],Zt=()=>["/help"],xn=()=>["/accounts"],Hn=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],er=()=>["/account/create"];function hr(Sn,br){if(1&Sn&&(b.j41(0,"a",13,6)(2,"mat-icon",30),b.EFF(3),b.k0s(),b.EFF(4),b.k0s()),2&Sn){const dn=br.$implicit,Un=b.sdS(1);b.Y8G("routerLink",dn.path)("activated",Un.isActive),b.R7$(3),b.JRh(dn.data.icon),b.R7$(),b.SpI(" ",dn.title," ")}}function Nr(Sn,br){if(1&Sn){const dn=b.RV6();b.j41(0,"button",31),b.bIt("click",function(){b.eBV(dn),b.XpG();const Fn=b.sdS(2);return b.Njj(Fn.toggle())}),b.j41(1,"mat-icon",32),b.EFF(2,"menu"),b.k0s()()}}function Cr(Sn,br){if(1&Sn){const dn=b.RV6();b.j41(0,"button",33),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG();return b.Njj(Fn.navigateBack())}),b.j41(1,"mat-icon"),b.EFF(2,"arrow_back"),b.k0s()()}}function Ur(Sn,br){if(1&Sn){const dn=b.RV6();b.j41(0,"button",34),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG();return b.Njj(Fn.applyUpdate())}),b.j41(1,"mat-icon"),b.EFF(2,"get_app"),b.k0s()()}}let Lr=(()=>{class Sn{constructor(){this.breakpointObserver=(0,b.WQX)(me.QP),this.storage=(0,b.WQX)(zn.n),this.identity=(0,b.WQX)(wn.K),this.updateService=(0,b.WQX)(vr),this.layout=(0,b.WQX)(Ft.Y),this.navigation=(0,b.WQX)(Nn),this.rootRoutes=H.filter(dn=>dn.path).filter(dn=>dn.data&&1!=dn.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,ae.T)(dn=>dn.matches),(0,Wt.t)())}wipe(){var dn=this;return(0,ge.A)(function*(){dn.storage.clear(),console.log("Local storage data has been wiped!"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DID_RESOLVERCACHE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_DATASTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_EVENTLOG"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGEINDEX"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGESTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/VAULT_STORE"),console.log("Data has been wiped!"),window.location.reload()})()}applyUpdate(){this.updateService.applyUpdate()}lock(){this.identity.lock()}navigateBack(){this.navigation.back()}static#e=this.\u0275fac=function(Un){return new(Un||Sn)};static#t=this.\u0275cmp=b.VBU({type:Sn,selectors:[["app-layout"]],standalone:!0,features:[b.aNF],ngContentSelectors:at,decls:151,vars:37,consts:[["drawer",""],["menuDebug","matMenu"],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],["mat-icon-button",""],[1,"toolbar-spacer"],[1,"toolbar-items"],["matTooltip","Update available. Click to update now.","mat-icon-button",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],["src","https://ariton.app/assets/sondre.png",1,"account-menu-profile-icon"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"sidenav-scroll-wrapper"],[1,"sidenav-content"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-icon-button","",3,"click"],["matTooltip","Update available. Click to update now.","mat-icon-button","",3,"click"]],template:function(Un,Fn){if(1&Un){const zr=b.RV6();b.NAR(),b.j41(0,"mat-sidenav-container",7)(1,"mat-sidenav",8,0),b.nI1(3,"async"),b.nI1(4,"async"),b.nI1(5,"async"),b.j41(6,"mat-toolbar"),b.nrm(7,"img",9),b.j41(8,"picture",10),b.nrm(9,"source",11)(10,"img",12),b.k0s()(),b.j41(11,"mat-nav-list"),b.Z7z(12,hr,5,4,"a",13,b.Vm6),b.k0s()(),b.j41(14,"mat-sidenav-content")(15,"mat-toolbar",14),b.DNE(16,Nr,3,0,"button",15),b.nI1(17,"async"),b.DNE(18,Cr,3,0,"button",16),b.nrm(19,"span",17),b.j41(20,"span",18),b.DNE(21,Ur,3,0,"button",19),b.j41(22,"button",20)(23,"mat-icon"),b.EFF(24,"warning"),b.k0s()(),b.j41(25,"mat-menu",null,1)(27,"button",21),b.bIt("click",function(){return b.eBV(zr),b.Njj(Fn.wipe())}),b.j41(28,"mat-icon"),b.EFF(29,"settings"),b.k0s(),b.j41(30,"span"),b.EFF(31,"Reset All Data (Wipe)"),b.k0s()()(),b.j41(32,"button",20)(33,"mat-icon"),b.EFF(34,"notifications"),b.k0s()(),b.j41(35,"mat-menu",null,2)(37,"button",22)(38,"mat-icon"),b.EFF(39,"settings"),b.k0s(),b.j41(40,"span"),b.EFF(41,"Notification Settings"),b.k0s()(),b.nrm(42,"mat-divider"),b.j41(43,"button",23)(44,"mat-icon"),b.EFF(45,"forum"),b.k0s(),b.j41(46,"span"),b.EFF(47,"Knitting Community posted new pattern"),b.k0s()(),b.j41(48,"button",23)(49,"mat-icon"),b.EFF(50,"face"),b.k0s(),b.j41(51,"span"),b.EFF(52,"Joe sent you a message"),b.k0s()(),b.j41(53,"button",23)(54,"mat-icon"),b.EFF(55,"key"),b.k0s(),b.j41(56,"span"),b.EFF(57,"New security request"),b.k0s()(),b.j41(58,"button",23)(59,"mat-icon"),b.EFF(60,"verified_user"),b.k0s(),b.j41(61,"span"),b.EFF(62,"Social account recovery request"),b.k0s()()(),b.j41(63,"button",20)(64,"mat-icon"),b.EFF(65,"account_circle"),b.k0s()(),b.j41(66,"mat-menu",null,3)(68,"div",24),b.nrm(69,"img",25),b.j41(70,"div")(71,"h2"),b.EFF(72,"SondreB"),b.k0s(),b.EFF(73," @sondreb"),b.nrm(74,"br"),b.EFF(75," did:dht:umj7a...dns1o"),b.nrm(76,"br"),b.k0s()(),b.j41(77,"button",26)(78,"mat-icon"),b.EFF(79,"account_circle"),b.k0s(),b.j41(80,"span"),b.EFF(81,"View Profile"),b.k0s()(),b.nrm(82,"mat-divider"),b.j41(83,"button",27)(84,"mat-icon"),b.EFF(85,"switch_account"),b.k0s(),b.j41(86,"span"),b.EFF(87,"Accounts"),b.k0s()(),b.j41(88,"button",21),b.bIt("click",function(){return b.eBV(zr),b.Njj(Fn.lock())}),b.j41(89,"mat-icon"),b.EFF(90,"lock"),b.k0s(),b.j41(91,"span"),b.EFF(92,"Lock account"),b.k0s()(),b.nrm(93,"mat-divider"),b.j41(94,"button",27)(95,"mat-icon"),b.EFF(96,"translate"),b.k0s(),b.j41(97,"span"),b.EFF(98,"Language: English"),b.k0s()(),b.nrm(99,"mat-divider"),b.j41(100,"button",22)(101,"mat-icon"),b.EFF(102,"settings"),b.k0s(),b.j41(103,"span"),b.EFF(104,"Settings"),b.k0s()(),b.nrm(105,"mat-divider"),b.j41(106,"button",22)(107,"mat-icon"),b.EFF(108,"help"),b.k0s(),b.j41(109,"span"),b.EFF(110,"Help"),b.k0s()()(),b.j41(111,"mat-menu",null,4)(113,"button",22)(114,"mat-icon"),b.EFF(115,"manage_accounts"),b.k0s(),b.j41(116,"span"),b.EFF(117,"Manage Accounts"),b.k0s()(),b.nrm(118,"mat-divider"),b.j41(119,"button",22)(120,"mat-icon"),b.EFF(121,"account_circle"),b.k0s(),b.j41(122,"span"),b.EFF(123,"Account 1"),b.k0s()(),b.j41(124,"button",22)(125,"mat-icon"),b.EFF(126,"account_circle"),b.k0s(),b.j41(127,"span"),b.EFF(128,"Account 2"),b.k0s()(),b.j41(129,"button",22)(130,"mat-icon"),b.EFF(131,"account_circle"),b.k0s(),b.j41(132,"span"),b.EFF(133,"Account 3"),b.k0s()(),b.nrm(134,"mat-divider"),b.j41(135,"button",22)(136,"mat-icon"),b.EFF(137,"person_add"),b.k0s(),b.j41(138,"span"),b.EFF(139,"Add account"),b.k0s()()(),b.j41(140,"mat-menu",null,5)(142,"button",23)(143,"span"),b.EFF(144,"English"),b.k0s()(),b.j41(145,"button",23)(146,"span"),b.EFF(147,"Norwegian"),b.k0s()()()()(),b.j41(148,"div",28)(149,"div",29),b.SdG(150),b.k0s()()()()}if(2&Un){const zr=b.sdS(26),ti=b.sdS(36),ps=b.sdS(67),ns=b.sdS(112),Ga=b.sdS(141);b.R7$(),b.Y8G("mode",b.bMT(3,20,Fn.isHandset$)?"over":"side")("opened",!1===b.bMT(4,22,Fn.isHandset$)),b.BMQ("role",b.bMT(5,24,Fn.isHandset$)?"dialog":"navigation"),b.R7$(11),b.Dyx(Fn.rootRoutes),b.R7$(4),b.vxM(b.bMT(17,26,Fn.isHandset$)?16:-1),b.R7$(2),b.vxM(Fn.layout.navigation()?18:-1),b.R7$(3),b.vxM(Fn.updateService.isNewVersionAvailable?21:-1),b.R7$(),b.Y8G("matMenuTriggerFor",zr),b.R7$(10),b.Y8G("matMenuTriggerFor",ti),b.R7$(5),b.Y8G("routerLink",b.lJ4(28,He)),b.R7$(26),b.Y8G("matMenuTriggerFor",ps),b.R7$(14),b.Y8G("routerLink",b.lJ4(29,ct)),b.R7$(6),b.Y8G("matMenuTriggerFor",ns),b.R7$(11),b.Y8G("matMenuTriggerFor",Ga),b.R7$(6),b.Y8G("routerLink",b.lJ4(30,He)),b.R7$(6),b.Y8G("routerLink",b.lJ4(31,Zt)),b.R7$(7),b.Y8G("routerLink",b.lJ4(32,xn)),b.R7$(6),b.Y8G("routerLink",b.lJ4(33,Hn)),b.R7$(5),b.Y8G("routerLink",b.lJ4(34,Hn)),b.R7$(5),b.Y8G("routerLink",b.lJ4(35,Hn)),b.R7$(6),b.Y8G("routerLink",b.lJ4(36,er))}},dependencies:[te.s5,te.KQ,ne.Hl,ne.iY,xt,yt,_t,ur,qe.Fg,qe._L,qe.YE,qe.ZV,Ln.q,tt.m_,tt.An,mn.Cn,mn.kk,mn.fb,mn.Cp,w.Jj,P.Wk,P.wQ,ir.uc,ir.oV],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:240px;padding:0 8px;box-sizing:border-box}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}mat-sidenav-content[_ngcontent-%COMP%]{padding-right:16px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}@media (max-width: 959.98px){mat-sidenav-content[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}}"]})}return Sn})();var oi=_(89417),on=_(53719),_n=_(99631),Dn=_(9183);function Wn(Sn,br){1&Sn&&b.nrm(0,"mat-spinner",4)}function Gn(Sn,br){1&Sn&&(b.j41(0,"span"),b.EFF(1,"Unlock"),b.k0s())}function wr(Sn,br){1&Sn&&(b.j41(0,"mat-error"),b.EFF(1,"Password is "),b.j41(2,"strong"),b.EFF(3,"invalid"),b.k0s()())}let xr=(()=>{class Sn{constructor(dn){this.identityService=dn,this.passwordInput=new oi.MJ("",oi.k0.required),this.unlocking=(0,b.vPA)(!1),this.invalidPassword=(0,b.vPA)(!1)}onSubmit(){var dn=this;return(0,ge.A)(function*(){dn.unlocking.set(!0),(yield dn.identityService.unlock(dn.passwordInput.value))?(console.log("Vault unlocked"),dn.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),dn.invalidPassword.set(!0)),dn.unlocking.set(!1)})()}static#e=this.\u0275fac=function(Un){return new(Un||Sn)(b.rXU(wn.K))};static#t=this.\u0275cmp=b.VBU({type:Sn,selectors:[["app-unlock"]],standalone:!0,features:[b.aNF],decls:18,vars:4,consts:[["src","ariton-icon-dark.svg",1,"unlock-logo"],[3,"ngSubmit"],["matInput","","type","password",3,"formControl"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(Un,Fn){1&Un&&(b.nrm(0,"img",0),b.j41(1,"h1"),b.EFF(2,"Unlock your account"),b.k0s(),b.j41(3,"p"),b.EFF(4,"You have configured your Ariton account with a secure personal password."),b.nrm(5,"br"),b.EFF(6,"Enter password to unlock your account."),b.k0s(),b.j41(7,"form",1),b.bIt("ngSubmit",function(){return Fn.onSubmit()}),b.j41(8,"mat-form-field")(9,"mat-label"),b.EFF(10,"Enter your password"),b.k0s(),b.nrm(11,"input",2),b.k0s(),b.EFF(12," \xa0 "),b.j41(13,"button",3),b.DNE(14,Wn,1,0,"mat-spinner",4)(15,Gn,2,0,"span"),b.k0s(),b.j41(16,"p"),b.DNE(17,wr,4,0,"mat-error"),b.k0s()()),2&Un&&(b.R7$(11),b.Y8G("formControl",Fn.passwordInput),b.R7$(2),b.Y8G("disabled",!(Fn.passwordInput.valid&&!Fn.unlocking())),b.R7$(),b.vxM(Fn.unlocking()?14:15),b.R7$(3),b.vxM(Fn.invalidPassword()?17:-1))},dependencies:[oi.YN,oi.qT,oi.me,oi.BC,oi.cb,oi.cV,Dn.D6,Dn.LG,oi.X1,oi.l_,on.RG,on.rl,on.nJ,on.TL,_n.fS,_n.fg,ne.Hl,ne.$z,tt.m_],styles:["button[_ngcontent-%COMP%]{width:100px}.unlock-logo[_ngcontent-%COMP%]{max-width:200px}"]})}return Sn})();var jr=_(55777),Kr=_(33065);function Ti(Sn,br){1&Sn&&(b.j41(0,"div",0),b.nrm(1,"app-unlock"),b.k0s())}function wo(Sn,br){1&Sn&&(b.j41(0,"div"),b.EFF(1,"Creating your account... please wait..."),b.k0s())}function si(Sn,br){1&Sn&&(b.j41(0,"div"),b.EFF(1,"Loading your account... please wait..."),b.k0s())}function ho(Sn,br){if(1&Sn&&b.DNE(0,wo,2,0,"div")(1,si,2,0,"div"),2&Sn){const dn=b.XpG(2);b.vxM(dn.appService.firstTime()?0:1)}}function yo(Sn,br){if(1&Sn){const dn=b.RV6();b.j41(0,"button",6),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG(3);return b.Njj(Fn.back())}),b.EFF(1,"Back"),b.k0s()}if(2&Sn){const dn=b.XpG(3);b.Y8G("disabled",dn.appService.loading())}}function Io(Sn,br){if(1&Sn){const dn=b.RV6();b.j41(0,"button",7),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG(3);return b.Njj(Fn.createAccount())}),b.EFF(1,"Create a new account"),b.k0s(),b.j41(2,"button",6),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG(3);return b.Njj(Fn.restoreAccount())}),b.EFF(3,"Restore existing account"),b.k0s()}if(2&Sn){const dn=b.XpG(3);b.Y8G("disabled",dn.appService.loading()),b.R7$(2),b.Y8G("disabled",!0)}}function pi(Sn,br){1&Sn&&b.nrm(0,"app-restore")}function Li(Sn,br){if(1&Sn&&(b.j41(0,"div",3),b.DNE(1,yo,2,1,"button",5)(2,Io,4,2)(3,pi,1,0,"app-restore"),b.k0s()),2&Sn){const dn=b.XpG(2);b.R7$(),b.vxM(dn.restore()?1:2),b.R7$(2),b.vxM(dn.restore()?3:-1)}}function Ni(Sn,br){1&Sn&&b.nrm(0,"mat-spinner")}function Fa(Sn,br){if(1&Sn){const dn=b.RV6();b.j41(0,"div",1),b.nrm(1,"img",2),b.DNE(2,ho,2,1)(3,Li,4,2,"div",3)(4,Ni,1,0,"mat-spinner"),b.j41(5,"p"),b.EFF(6,"Issues? "),b.j41(7,"button",4),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG();return b.Njj(Fn.forceClose())}),b.EFF(8,"Close loading sceen"),b.k0s()()()}if(2&Sn){const dn=b.XpG();b.R7$(2),b.vxM(dn.appService.hasStateBeenSet()?2:3),b.R7$(2),b.vxM(dn.appService.loading()?4:-1)}}(0,y.B8)((()=>{class Sn{countChar(dn,Un){return Un.split(dn).length-1}constructor(dn,Un,Fn){this.router=dn,this.layout=Un,this.identityService=Fn,this.title="app",this.appService=(0,b.WQX)(jr.d),this.restore=(0,b.vPA)(!1);const zr=globalThis.location.search;if(zr){const ti=Object.fromEntries(new URLSearchParams(zr));this.appService.params=ti}console.log(zr),console.log(this.appService.params),this.router.events.subscribe(ti=>{ti instanceof P.Z?this.layout.enableScrolling():ti instanceof P.wF&&(this.countChar("/",ti.url)>1?this.layout.enableNavigation():this.layout.disableNavigation())}),(0,b.QZP)(()=>{this.appService.initialized()&&console.log("App has been initialized!!!!")})}forceClose(){this.appService.initialized.set(!0)}restoreAccount(){var dn=this;return(0,ge.A)(function*(){dn.restore.set(!0)})()}back(){this.restore.set(!1)}createAccount(){var dn=this;return(0,ge.A)(function*(){yield dn.appService.initialize(),console.log("App initialized!",dn.appService.firstTime()),dn.appService.firstTime()&&(console.log("First time setup, redirect to introduction!"),dn.router.navigate(["/introduction"]))})()}ngOnInit(){var dn=this;return(0,ge.A)(function*(){dn.appService.hasStateBeenSet()?(yield dn.appService.initialize(),console.log("App initialized!",dn.appService.firstTime()),dn.appService.firstTime()&&(console.log("First time setup, redirect to introduction!"),dn.router.navigate(["/introduction"]))):console.log("No state has been set, redirect to introduction!")})()}static#e=this.\u0275fac=function(Un){return new(Un||Sn)(b.rXU(P.Ix),b.rXU(Ft.Y),b.rXU(wn.K))};static#t=this.\u0275cmp=b.VBU({type:Sn,selectors:[["app-root"]],standalone:!0,features:[b.Jv_([{provide:on.U$,useValue:{appearance:"outline"}}]),b.aNF],decls:4,vars:2,consts:[[1,"unlock-container"],[1,"loading-container"],["src","ariton-icon-dark.svg",1,"loading-logo"],[1,"new-user-actions"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["mat-button","",3,"click","disabled"],["mat-flat-button","",3,"click","disabled"]],template:function(Un,Fn){1&Un&&(b.DNE(0,Ti,2,0,"div",0)(1,Fa,9,2,"div",1),b.j41(2,"app-layout"),b.nrm(3,"router-outlet"),b.k0s()),2&Un&&(b.vxM(Fn.identityService.locked()?0:-1),b.R7$(),b.vxM(Fn.appService.initialized()?-1:1))},dependencies:[Kr.RestoreComponent,ne.Hl,ne.$z,Dn.D6,Dn.LG,P.n3,Lr,xr],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1000;display:flex;justify-content:center;align-items:center;align-content:center;text-align:center}.loading-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1001;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-logo[_ngcontent-%COMP%]{max-width:128px;position:absolute;right:1em;bottom:1em}mat-spinner[_ngcontent-%COMP%]{margin:2em}.new-user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return Sn})(),Ae).catch(Sn=>console.error(Sn))},4521:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createCurve=j.getHash=void 0;const y=_(44882),b=_(96492),P=_(73040);function H(O){return{hash:O,hmac:(S,...B)=>(0,y.hmac)(O,S,(0,b.concatBytes)(...B)),randomBytes:b.randomBytes}}j.getHash=H,j.createCurve=function w(O,S){const B=N=>(0,P.weierstrass)({...O,...H(N)});return Object.freeze({...B(S),create:B})}},25299:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateBasic=j.wNAF=void 0;const y=_(63834),b=_(84097),P=BigInt(0),H=BigInt(1);j.wNAF=function w(S,B){const N=(A,G)=>{const L=G.negate();return A?L:G},U=A=>({windows:Math.ceil(B/A)+1,windowSize:2**(A-1)});return{constTimeNegate:N,unsafeLadder(A,G){let L=S.ZERO,z=A;for(;G>P;)G&H&&(L=L.add(z)),z=z.double(),G>>=H;return L},precomputeWindow(A,G){const{windows:L,windowSize:z}=U(G),ee=[];let q=A,Z=q;for(let J=0;J<L;J++){Z=q,ee.push(Z);for(let se=1;se<z;se++)Z=Z.add(q),ee.push(Z);q=Z.double()}return ee},wNAF(A,G,L){const{windows:z,windowSize:ee}=U(A);let q=S.ZERO,Z=S.BASE;const J=BigInt(2**A-1),se=2**A,ce=BigInt(A);for(let ae=0;ae<z;ae++){const fe=ae*ee;let he=Number(L&J);L>>=ce,he>ee&&(he-=se,L+=H);const we=fe,Me=fe+Math.abs(he)-1,C=he<0;0===he?Z=Z.add(N(ae%2!=0,G[we])):q=q.add(N(C,G[Me]))}return{p:q,f:Z}},wNAFCached(A,G,L,z){const ee=A._WINDOW_SIZE||1;let q=G.get(A);return q||(q=this.precomputeWindow(A,ee),1!==ee&&G.set(A,z(q))),this.wNAF(ee,q,L)}}},j.validateBasic=function O(S){return(0,y.validateField)(S.Fp),(0,b.validateObject)(S,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,y.nLength)(S.n,S.nBitLength),...S,p:S.Fp.ORDER})}},45068:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.twistedEdwards=void 0;const y=_(63834),b=_(84097),P=_(84097),H=_(25299),w=BigInt(0),O=BigInt(1),S=BigInt(2),B=BigInt(8),N={zip215:!0};j.twistedEdwards=function A(G){const L=function U(G){const L=(0,H.validateBasic)(G);return b.validateObject(G,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...L})}(G),{Fp:z,n:ee,prehash:q,hash:Z,randomBytes:J,nByteLength:se,h:ce}=L,ae=S<<BigInt(8*se)-O,fe=z.create,he=L.uvRatio||((_e,Fe)=>{try{return{isValid:!0,value:z.sqrt(_e*z.inv(Fe))}}catch{return{isValid:!1,value:w}}}),we=L.adjustScalarBytes||(_e=>_e),Me=L.domain||((_e,Fe,be)=>{if(Fe.length||be)throw new Error("Contexts/pre-hash are not supported");return _e}),Pe=_e=>"bigint"==typeof _e&&w<_e,C=(_e,Fe)=>Pe(_e)&&Pe(Fe)&&_e<Fe,a=_e=>_e===w||C(_e,ae);function d(_e,Fe){if(C(_e,Fe))return _e;throw new Error(`Expected valid scalar < ${Fe}, got ${typeof _e} ${_e}`)}function m(_e){return _e===w?_e:d(_e,ee)}const p=new Map;function E(_e){if(!(_e instanceof D))throw new Error("ExtendedPoint expected")}class D{constructor(Fe,be,Ae,ge){if(this.ex=Fe,this.ey=be,this.ez=Ae,this.et=ge,!a(Fe))throw new Error("x required");if(!a(be))throw new Error("y required");if(!a(Ae))throw new Error("z required");if(!a(ge))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Fe){if(Fe instanceof D)throw new Error("extended point not allowed");const{x:be,y:Ae}=Fe||{};if(!a(be)||!a(Ae))throw new Error("invalid affine point");return new D(be,Ae,O,fe(be*Ae))}static normalizeZ(Fe){const be=z.invertBatch(Fe.map(Ae=>Ae.ez));return Fe.map((Ae,ge)=>Ae.toAffine(be[ge])).map(D.fromAffine)}_setWindowSize(Fe){this._WINDOW_SIZE=Fe,p.delete(this)}assertValidity(){const{a:Fe,d:be}=L;if(this.is0())throw new Error("bad point: ZERO");const{ex:Ae,ey:ge,ez:me,et:te}=this,ne=fe(Ae*Ae),ue=fe(ge*ge),De=fe(me*me),Be=fe(De*De),Qe=fe(ne*Fe);if(fe(De*fe(Qe+ue))!==fe(Be+fe(be*fe(ne*ue))))throw new Error("bad point: equation left != right (1)");if(fe(Ae*ge)!==fe(me*te))throw new Error("bad point: equation left != right (2)")}equals(Fe){E(Fe);const{ex:be,ey:Ae,ez:ge}=this,{ex:me,ey:te,ez:ne}=Fe,ue=fe(be*ne),De=fe(me*ge),Be=fe(Ae*ne),Qe=fe(te*ge);return ue===De&&Be===Qe}is0(){return this.equals(D.ZERO)}negate(){return new D(fe(-this.ex),this.ey,this.ez,fe(-this.et))}double(){const{a:Fe}=L,{ex:be,ey:Ae,ez:ge}=this,me=fe(be*be),te=fe(Ae*Ae),ne=fe(S*fe(ge*ge)),ue=fe(Fe*me),De=be+Ae,Be=fe(fe(De*De)-me-te),Qe=ue+te,ze=Qe-ne,Dt=ue-te,Xe=fe(Be*ze),Ue=fe(Qe*Dt),mt=fe(Be*Dt),K=fe(ze*Qe);return new D(Xe,Ue,K,mt)}add(Fe){E(Fe);const{a:be,d:Ae}=L,{ex:ge,ey:me,ez:te,et:ne}=this,{ex:ue,ey:De,ez:Be,et:Qe}=Fe;if(be===BigInt(-1)){const lt=fe((me-ge)*(De+ue)),en=fe((me+ge)*(De-ue)),It=fe(en-lt);if(It===w)return this.double();const Kt=fe(te*S*Qe),rn=fe(ne*S*Be),vn=rn+Kt,un=en+lt,sr=rn-Kt,Cn=fe(vn*It),cn=fe(un*sr),qt=fe(vn*sr),bt=fe(It*un);return new D(Cn,cn,bt,qt)}const ze=fe(ge*ue),Dt=fe(me*De),Xe=fe(ne*Ae*Qe),Ue=fe(te*Be),mt=fe((ge+me)*(ue+De)-ze-Dt),K=Ue-Xe,T=Ue+Xe,M=fe(Dt-be*ze),Y=fe(mt*K),pe=fe(T*M),ke=fe(mt*M),Ne=fe(K*T);return new D(Y,pe,Ne,ke)}subtract(Fe){return this.add(Fe.negate())}wNAF(Fe){return s.wNAFCached(this,p,Fe,D.normalizeZ)}multiply(Fe){const{p:be,f:Ae}=this.wNAF(d(Fe,ee));return D.normalizeZ([be,Ae])[0]}multiplyUnsafe(Fe){let be=m(Fe);return be===w?x:this.equals(x)||be===O?this:this.equals(R)?this.wNAF(be).p:s.unsafeLadder(this,be)}isSmallOrder(){return this.multiplyUnsafe(ce).is0()}isTorsionFree(){return s.unsafeLadder(this,ee).is0()}toAffine(Fe){const{ex:be,ey:Ae,ez:ge}=this,me=this.is0();null==Fe&&(Fe=me?B:z.inv(ge));const te=fe(be*Fe),ne=fe(Ae*Fe),ue=fe(ge*Fe);if(me)return{x:w,y:O};if(ue!==O)throw new Error("invZ was invalid");return{x:te,y:ne}}clearCofactor(){const{h:Fe}=L;return Fe===O?this:this.multiplyUnsafe(Fe)}static fromHex(Fe,be=!1){const{d:Ae,a:ge}=L,me=z.BYTES,te=(Fe=(0,P.ensureBytes)("pointHex",Fe,me)).slice(),ne=Fe[me-1];te[me-1]=-129&ne;const ue=b.bytesToNumberLE(te);ue===w||d(ue,be?ae:z.ORDER);const De=fe(ue*ue),Be=fe(De-O),Qe=fe(Ae*De-ge);let{isValid:ze,value:Dt}=he(Be,Qe);if(!ze)throw new Error("Point.fromHex: invalid y coordinate");const Xe=(Dt&O)===O,Ue=!!(128&ne);if(!be&&Dt===w&&Ue)throw new Error("Point.fromHex: x=0 and x_0=1");return Ue!==Xe&&(Dt=fe(-Dt)),D.fromAffine({x:Dt,y:ue})}static fromPrivateKey(Fe){return F(Fe).point}toRawBytes(){const{x:Fe,y:be}=this.toAffine(),Ae=b.numberToBytesLE(be,z.BYTES);return Ae[Ae.length-1]|=Fe&O?128:0,Ae}toHex(){return b.bytesToHex(this.toRawBytes())}}D.BASE=new D(L.Gx,L.Gy,O,fe(L.Gx*L.Gy)),D.ZERO=new D(w,O,O,w);const{BASE:R,ZERO:x}=D,s=(0,H.wNAF)(D,8*se);function v(_e){return(0,y.mod)(_e,ee)}function $(_e){return v(b.bytesToNumberLE(_e))}function F(_e){const Fe=se;_e=(0,P.ensureBytes)("private key",_e,Fe);const be=(0,P.ensureBytes)("hashed private key",Z(_e),2*Fe),Ae=we(be.slice(0,Fe)),ge=be.slice(Fe,2*Fe),me=$(Ae),te=R.multiply(me),ne=te.toRawBytes();return{head:Ae,prefix:ge,scalar:me,point:te,pointBytes:ne}}function de(_e=new Uint8Array,...Fe){const be=b.concatBytes(...Fe);return $(Z(Me(be,(0,P.ensureBytes)("context",_e),!!q)))}const Re=N;return R._setWindowSize(8),{CURVE:L,getPublicKey:function Q(_e){return F(_e).pointBytes},sign:function Ce(_e,Fe,be={}){_e=(0,P.ensureBytes)("message",_e),q&&(_e=q(_e));const{prefix:Ae,scalar:ge,pointBytes:me}=F(Fe),te=de(be.context,Ae,_e),ne=R.multiply(te).toRawBytes(),De=v(te+de(be.context,ne,me,_e)*ge);m(De);const Be=b.concatBytes(ne,b.numberToBytesLE(De,z.BYTES));return(0,P.ensureBytes)("result",Be,2*se)},verify:function Ve(_e,Fe,be,Ae=Re){const{context:ge,zip215:me}=Ae,te=z.BYTES;_e=(0,P.ensureBytes)("signature",_e,2*te),Fe=(0,P.ensureBytes)("message",Fe),q&&(Fe=q(Fe));const ne=b.bytesToNumberLE(_e.slice(te,2*te));let ue,De,Be;try{ue=D.fromHex(be,me),De=D.fromHex(_e.slice(0,te),me),Be=R.multiplyUnsafe(ne)}catch{return!1}if(!me&&ue.isSmallOrder())return!1;const Qe=de(ge,De.toRawBytes(),ue.toRawBytes(),Fe);return De.add(ue.multiplyUnsafe(Qe)).subtract(Be).clearCofactor().equals(D.ZERO)},ExtendedPoint:D,utils:{getExtendedPublicKey:F,randomPrivateKey:()=>J(z.BYTES),precompute:(_e=8,Fe=D.BASE)=>(Fe._setWindowSize(_e),Fe.multiply(BigInt(3)),Fe)}}}},75752:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createHasher=j.isogenyMap=j.hash_to_field=j.expand_message_xof=j.expand_message_xmd=void 0;const y=_(63834),b=_(84097),H=b.bytesToNumberBE;function w(z,ee){if(z<0||z>=1<<8*ee)throw new Error(`bad I2OSP call: value=${z} length=${ee}`);const q=Array.from({length:ee}).fill(0);for(let Z=ee-1;Z>=0;Z--)q[Z]=255&z,z>>>=8;return new Uint8Array(q)}function O(z,ee){const q=new Uint8Array(z.length);for(let Z=0;Z<z.length;Z++)q[Z]=z[Z]^ee[Z];return q}function S(z){if(!(0,b.isBytes)(z))throw new Error("Uint8Array expected")}function B(z){if(!Number.isSafeInteger(z))throw new Error("number expected")}function N(z,ee,q,Z){S(z),S(ee),B(q),ee.length>255&&(ee=Z((0,b.concatBytes)((0,b.utf8ToBytes)("H2C-OVERSIZE-DST-"),ee)));const{outputLen:J,blockLen:se}=Z,ce=Math.ceil(q/J);if(ce>255)throw new Error("Invalid xmd length");const ae=(0,b.concatBytes)(ee,w(ee.length,1)),fe=w(0,se),he=w(q,2),we=new Array(ce),Me=Z((0,b.concatBytes)(fe,z,he,w(0,1),ae));we[0]=Z((0,b.concatBytes)(Me,w(1,1),ae));for(let C=1;C<=ce;C++){const a=[O(Me,we[C-1]),w(C+1,1),ae];we[C]=Z((0,b.concatBytes)(...a))}return(0,b.concatBytes)(...we).slice(0,q)}function U(z,ee,q,Z,J){if(S(z),S(ee),B(q),ee.length>255){const se=Math.ceil(2*Z/8);ee=J.create({dkLen:se}).update((0,b.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(ee).digest()}if(q>65535||ee.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return J.create({dkLen:q}).update(z).update(w(q,2)).update(ee).update(w(ee.length,1)).digest()}function A(z,ee,q){(0,b.validateObject)(q,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:Z,k:J,m:se,hash:ce,expand:ae,DST:fe}=q;S(z),B(ee);const he=function P(z){if((0,b.isBytes)(z))return z;if("string"==typeof z)return(0,b.utf8ToBytes)(z);throw new Error("DST must be Uint8Array or string")}(fe),we=Z.toString(2).length,Me=Math.ceil((we+J)/8),Pe=ee*se*Me;let C;if("xmd"===ae)C=N(z,he,Pe,ce);else if("xof"===ae)C=U(z,he,Pe,J,ce);else{if("_internal_pass"!==ae)throw new Error('expand must be "xmd" or "xof"');C=z}const a=new Array(ee);for(let d=0;d<ee;d++){const m=new Array(se);for(let p=0;p<se;p++){const E=Me*(p+d*se),D=C.subarray(E,E+Me);m[p]=(0,y.mod)(H(D),Z)}a[d]=m}return a}j.expand_message_xmd=N,j.expand_message_xof=U,j.hash_to_field=A,j.isogenyMap=function G(z,ee){const q=ee.map(Z=>Array.from(Z).reverse());return(Z,J)=>{const[se,ce,ae,fe]=q.map(he=>he.reduce((we,Me)=>z.add(z.mul(we,Z),Me)));return Z=z.div(se,ce),J=z.mul(J,z.div(ae,fe)),{x:Z,y:J}}},j.createHasher=function L(z,ee,q){if("function"!=typeof ee)throw new Error("mapToCurve() must be defined");return{hashToCurve(Z,J){const se=A(Z,2,{...q,DST:q.DST,...J}),ce=z.fromAffine(ee(se[0])),ae=z.fromAffine(ee(se[1])),fe=ce.add(ae).clearCofactor();return fe.assertValidity(),fe},encodeToCurve(Z,J){const se=A(Z,1,{...q,DST:q.encodeDST,...J}),ce=z.fromAffine(ee(se[0])).clearCofactor();return ce.assertValidity(),ce}}}},63834:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.mapHashToField=j.getMinHashLength=j.getFieldBytesLength=j.hashToPrivateScalar=j.FpSqrtEven=j.FpSqrtOdd=j.Field=j.nLength=j.FpIsSquare=j.FpDiv=j.FpInvertBatch=j.FpPow=j.validateField=j.isNegativeLE=j.FpSqrt=j.tonelliShanks=j.invert=j.pow2=j.pow=j.mod=void 0;const y=_(84097),b=BigInt(0),P=BigInt(1),H=BigInt(2),w=BigInt(3),O=BigInt(4),S=BigInt(5),B=BigInt(8);function A(E,D){const R=E%D;return R>=b?R:D+R}function G(E,D,R){if(R<=b||D<b)throw new Error("Expected power/modulo > 0");if(R===P)return b;let x=P;for(;D>b;)D&P&&(x=x*E%R),E=E*E%R,D>>=P;return x}function z(E,D){if(E===b||D<=b)throw new Error(`invert: expected positive integers, got n=${E} mod=${D}`);let R=A(E,D),x=D,s=b,v=P,$=P,F=b;for(;R!==b;){const de=x/R,Ce=x%R,Re=s-$*de,Ve=v-F*de;x=R,R=Ce,s=$,v=F,$=Re,F=Ve}if(x!==P)throw new Error("invert: does not exist");return A(s,D)}function ee(E){const D=(E-P)/H;let R,x,s;for(R=E-P,x=0;R%H===b;R/=H,x++);for(s=H;s<E&&G(s,D,E)!==E-P;s++);if(1===x){const $=(E+P)/O;return function(Q,de){const Ce=Q.pow(de,$);if(!Q.eql(Q.sqr(Ce),de))throw new Error("Cannot find square root");return Ce}}const v=(R+P)/H;return function(F,Q){if(F.pow(Q,D)===F.neg(F.ONE))throw new Error("Cannot find square root");let de=x,Ce=F.pow(F.mul(F.ONE,s),R),Re=F.pow(Q,v),Ve=F.pow(Q,R);for(;!F.eql(Ve,F.ONE);){if(F.eql(Ve,F.ZERO))return F.ZERO;let Ee=1;for(let Fe=F.sqr(Ve);Ee<de&&!F.eql(Fe,F.ONE);Ee++)Fe=F.sqr(Fe);const _e=F.pow(Ce,P<<BigInt(de-Ee-1));Ce=F.sqr(_e),Re=F.mul(Re,_e),Ve=F.mul(Ve,Ce),de=Ee}return Re}}function q(E){if(E%O===w){const D=(E+P)/O;return function(x,s){const v=x.pow(s,D);if(!x.eql(x.sqr(v),s))throw new Error("Cannot find square root");return v}}if(E%B===S){const D=(E-S)/B;return function(x,s){const v=x.mul(s,H),$=x.pow(v,D),F=x.mul(s,$),Q=x.mul(x.mul(F,H),$),de=x.mul(F,x.sub(Q,x.ONE));if(!x.eql(x.sqr(de),s))throw new Error("Cannot find square root");return de}}return ee(E)}BigInt(9),BigInt(16),j.mod=A,j.pow=G,j.pow2=function L(E,D,R){let x=E;for(;D-- >b;)x*=x,x%=R;return x},j.invert=z,j.tonelliShanks=ee,j.FpSqrt=q,j.isNegativeLE=(E,D)=>(A(E,D)&P)===P;const J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ce(E,D,R){if(R<b)throw new Error("Expected power > 0");if(R===b)return E.ONE;if(R===P)return D;let x=E.ONE,s=D;for(;R>b;)R&P&&(x=E.mul(x,s)),s=E.sqr(s),R>>=P;return x}function ae(E,D){const R=new Array(D.length),x=D.reduce((v,$,F)=>E.is0($)?v:(R[F]=v,E.mul(v,$)),E.ONE),s=E.inv(x);return D.reduceRight((v,$,F)=>E.is0($)?v:(R[F]=E.mul(v,R[F]),E.mul(v,$)),s),R}function we(E,D){const R=void 0!==D?D:E.toString(2).length;return{nBitLength:R,nByteLength:Math.ceil(R/8)}}function d(E){if("bigint"!=typeof E)throw new Error("field order must be bigint");const D=E.toString(2).length;return Math.ceil(D/8)}function m(E){const D=d(E);return D+Math.ceil(D/2)}j.validateField=function se(E){const R=J.reduce((x,s)=>(x[s]="function",x),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,y.validateObject)(E,R)},j.FpPow=ce,j.FpInvertBatch=ae,j.FpDiv=function fe(E,D,R){return E.mul(D,"bigint"==typeof R?z(R,E.ORDER):E.inv(R))},j.FpIsSquare=function he(E){const D=(E.ORDER-P)/H;return R=>{const x=E.pow(R,D);return E.eql(x,E.ZERO)||E.eql(x,E.ONE)}},j.nLength=we,j.Field=function Me(E,D,R=!1,x={}){if(E<=b)throw new Error(`Expected Field ORDER > 0, got ${E}`);const{nBitLength:s,nByteLength:v}=we(E,D);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const $=q(E),F=Object.freeze({ORDER:E,BITS:s,BYTES:v,MASK:(0,y.bitMask)(s),ZERO:b,ONE:P,create:Q=>A(Q,E),isValid:Q=>{if("bigint"!=typeof Q)throw new Error("Invalid field element: expected bigint, got "+typeof Q);return b<=Q&&Q<E},is0:Q=>Q===b,isOdd:Q=>(Q&P)===P,neg:Q=>A(-Q,E),eql:(Q,de)=>Q===de,sqr:Q=>A(Q*Q,E),add:(Q,de)=>A(Q+de,E),sub:(Q,de)=>A(Q-de,E),mul:(Q,de)=>A(Q*de,E),pow:(Q,de)=>ce(F,Q,de),div:(Q,de)=>A(Q*z(de,E),E),sqrN:Q=>Q*Q,addN:(Q,de)=>Q+de,subN:(Q,de)=>Q-de,mulN:(Q,de)=>Q*de,inv:Q=>z(Q,E),sqrt:x.sqrt||(Q=>$(F,Q)),invertBatch:Q=>ae(F,Q),cmov:(Q,de,Ce)=>Ce?de:Q,toBytes:Q=>R?(0,y.numberToBytesLE)(Q,v):(0,y.numberToBytesBE)(Q,v),fromBytes:Q=>{if(Q.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${Q.length}`);return R?(0,y.bytesToNumberLE)(Q):(0,y.bytesToNumberBE)(Q)}});return Object.freeze(F)},j.FpSqrtOdd=function Pe(E,D){if(!E.isOdd)throw new Error("Field doesn't have isOdd");const R=E.sqrt(D);return E.isOdd(R)?R:E.neg(R)},j.FpSqrtEven=function C(E,D){if(!E.isOdd)throw new Error("Field doesn't have isOdd");const R=E.sqrt(D);return E.isOdd(R)?E.neg(R):R},j.hashToPrivateScalar=function a(E,D,R=!1){const x=(E=(0,y.ensureBytes)("privateHash",E)).length,s=we(D).nByteLength+8;if(s<24||x<s||x>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${x}`);return A(R?(0,y.bytesToNumberLE)(E):(0,y.bytesToNumberBE)(E),D-P)+P},j.getFieldBytesLength=d,j.getMinHashLength=m,j.mapHashToField=function p(E,D,R=!1){const x=E.length,s=d(D),v=m(D);if(x<16||x<v||x>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${x}`);const F=A(R?(0,y.bytesToNumberBE)(E):(0,y.bytesToNumberLE)(E),D-P)+P;return R?(0,y.numberToBytesLE)(F,s):(0,y.numberToBytesBE)(F,s)}},27661:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.montgomery=void 0;const y=_(63834),b=_(84097),P=BigInt(0),H=BigInt(1);j.montgomery=function O(S){const B=function w(S){return(0,b.validateObject)(S,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...S})}(S),{P:N}=B,U=Pe=>(0,y.mod)(Pe,N),A=B.montgomeryBits,G=Math.ceil(A/8),L=B.nByteLength,z=B.adjustScalarBytes||(Pe=>Pe),ee=B.powPminus2||(Pe=>(0,y.pow)(Pe,N-BigInt(2),N));function q(Pe,C,a){const d=U(Pe*(C-a));return[C=U(C-d),a=U(a+d)]}function Z(Pe){if("bigint"==typeof Pe&&P<=Pe&&Pe<N)return Pe;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const J=(B.a-BigInt(2))/BigInt(4);function ce(Pe){return(0,b.numberToBytesLE)(U(Pe),G)}function he(Pe,C){const a=function ae(Pe){const C=(0,b.ensureBytes)("u coordinate",Pe,G);return 32===L&&(C[31]&=127),(0,b.bytesToNumberLE)(C)}(C),d=function fe(Pe){const C=(0,b.ensureBytes)("scalar",Pe),a=C.length;if(a!==G&&a!==L)throw new Error(`Expected ${G} or ${L} bytes, got ${a}`);return(0,b.bytesToNumberLE)(z(C))}(Pe),m=function se(Pe,C){const a=Z(Pe),d=Z(C),m=a;let s,p=H,E=P,D=a,R=H,x=P;for(let $=BigInt(A-1);$>=P;$--){const F=d>>$&H;x^=F,s=q(x,p,D),p=s[0],D=s[1],s=q(x,E,R),E=s[0],R=s[1],x=F;const Q=p+E,de=U(Q*Q),Ce=p-E,Re=U(Ce*Ce),Ve=de-Re,Ee=D+R,Fe=U((D-R)*Q),be=U(Ee*Ce),Ae=Fe+be,ge=Fe-be;D=U(Ae*Ae),R=U(m*U(ge*ge)),p=U(de*Re),E=U(Ve*(de+U(J*Ve)))}s=q(x,p,D),p=s[0],D=s[1],s=q(x,E,R),E=s[0],R=s[1];const v=ee(E);return U(p*v)}(a,d);if(m===P)throw new Error("Invalid private or public key received");return ce(m)}const we=ce(B.Gu);function Me(Pe){return he(Pe,we)}return{scalarMult:he,scalarMultBase:Me,getSharedSecret:(Pe,C)=>he(Pe,C),getPublicKey:Pe=>Me(Pe),utils:{randomPrivateKey:()=>B.randomBytes(B.nByteLength)},GuBytes:we}}},84097:(Je,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateObject=j.createHmacDrbg=j.bitMask=j.bitSet=j.bitGet=j.bitLen=j.utf8ToBytes=j.equalBytes=j.concatBytes=j.ensureBytes=j.numberToVarBytesBE=j.numberToBytesLE=j.numberToBytesBE=j.bytesToNumberLE=j.bytesToNumberBE=j.hexToBytes=j.hexToNumber=j.numberToHexUnpadded=j.bytesToHex=j.isBytes=void 0;const _=BigInt(0),y=BigInt(1),b=BigInt(2);function P(d){return d instanceof Uint8Array||null!=d&&"object"==typeof d&&"Uint8Array"===d.constructor.name}j.isBytes=P;const H=Array.from({length:256},(d,m)=>m.toString(16).padStart(2,"0"));function w(d){if(!P(d))throw new Error("Uint8Array expected");let m="";for(let p=0;p<d.length;p++)m+=H[d[p]];return m}function O(d){const m=d.toString(16);return 1&m.length?`0${m}`:m}function S(d){if("string"!=typeof d)throw new Error("hex string expected, got "+typeof d);return BigInt(""===d?"0":`0x${d}`)}j.bytesToHex=w,j.numberToHexUnpadded=O,j.hexToNumber=S;const B={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function N(d){return d>=B._0&&d<=B._9?d-B._0:d>=B._A&&d<=B._F?d-(B._A-10):d>=B._a&&d<=B._f?d-(B._a-10):void 0}function U(d){if("string"!=typeof d)throw new Error("hex string expected, got "+typeof d);const m=d.length,p=m/2;if(m%2)throw new Error("padded hex string expected, got unpadded hex of length "+m);const E=new Uint8Array(p);for(let D=0,R=0;D<p;D++,R+=2){const x=N(d.charCodeAt(R)),s=N(d.charCodeAt(R+1));if(void 0===x||void 0===s)throw new Error('hex string expected, got non-hex character "'+(d[R]+d[R+1])+'" at index '+R);E[D]=16*x+s}return E}function L(d,m){return U(d.toString(16).padStart(2*m,"0"))}function Z(...d){let m=0;for(let D=0;D<d.length;D++){const R=d[D];if(!P(R))throw new Error("Uint8Array expected");m+=R.length}let p=new Uint8Array(m),E=0;for(let D=0;D<d.length;D++){const R=d[D];p.set(R,E),E+=R.length}return p}j.hexToBytes=U,j.bytesToNumberBE=function A(d){return S(w(d))},j.bytesToNumberLE=function G(d){if(!P(d))throw new Error("Uint8Array expected");return S(w(Uint8Array.from(d).reverse()))},j.numberToBytesBE=L,j.numberToBytesLE=function z(d,m){return L(d,m).reverse()},j.numberToVarBytesBE=function ee(d){return U(O(d))},j.ensureBytes=function q(d,m,p){let E;if("string"==typeof m)try{E=U(m)}catch(R){throw new Error(`${d} must be valid hex string, got "${m}". Cause: ${R}`)}else{if(!P(m))throw new Error(`${d} must be hex string or Uint8Array`);E=Uint8Array.from(m)}const D=E.length;if("number"==typeof p&&D!==p)throw new Error(`${d} expected ${p} bytes, got ${D}`);return E},j.concatBytes=Z,j.equalBytes=function J(d,m){if(d.length!==m.length)return!1;let p=0;for(let E=0;E<d.length;E++)p|=d[E]^m[E];return 0===p},j.utf8ToBytes=function se(d){if("string"!=typeof d)throw new Error("utf8ToBytes expected string, got "+typeof d);return new Uint8Array((new TextEncoder).encode(d))},j.bitLen=function ce(d){let m;for(m=0;d>_;d>>=y,m+=1);return m},j.bitGet=function ae(d,m){return d>>BigInt(m)&y},j.bitSet=(d,m,p)=>d|(p?y:_)<<BigInt(m),j.bitMask=d=>(b<<BigInt(d-1))-y;const we=d=>new Uint8Array(d),Me=d=>Uint8Array.from(d);j.createHmacDrbg=function Pe(d,m,p){if("number"!=typeof d||d<2)throw new Error("hashLen must be a number");if("number"!=typeof m||m<2)throw new Error("qByteLen must be a number");if("function"!=typeof p)throw new Error("hmacFn must be a function");let E=we(d),D=we(d),R=0;const x=()=>{E.fill(1),D.fill(0),R=0},s=(...Q)=>p(D,E,...Q),v=(Q=we())=>{D=s(Me([0]),Q),E=s(),0!==Q.length&&(D=s(Me([1]),Q),E=s())},$=()=>{if(R++>=1e3)throw new Error("drbg: tried 1000 values");let Q=0;const de=[];for(;Q<m;){E=s();const Ce=E.slice();de.push(Ce),Q+=E.length}return Z(...de)};return(Q,de)=>{let Ce;for(x(),v(Q);!(Ce=de($()));)v();return x(),Ce}};const C={bigint:d=>"bigint"==typeof d,function:d=>"function"==typeof d,boolean:d=>"boolean"==typeof d,string:d=>"string"==typeof d,stringOrUint8Array:d=>"string"==typeof d||P(d),isSafeInteger:d=>Number.isSafeInteger(d),array:d=>Array.isArray(d),field:(d,m)=>m.Fp.isValid(d),hash:d=>"function"==typeof d&&Number.isSafeInteger(d.outputLen)};j.validateObject=function a(d,m,p={}){const E=(D,R,x)=>{const s=C[R];if("function"!=typeof s)throw new Error(`Invalid validator "${R}", expected function`);const v=d[D];if(!(x&&void 0===v||s(v,d)))throw new Error(`Invalid param ${String(D)}=${v} (${typeof v}), expected ${R}`)};for(const[D,R]of Object.entries(m))E(D,R,!1);for(const[D,R]of Object.entries(p))E(D,R,!0);return d}},73040:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.mapToCurveSimpleSWU=j.SWUFpSqrtRatio=j.weierstrass=j.weierstrassPoints=j.DER=void 0;const y=_(63834),b=_(84097),P=_(84097),H=_(25299),{bytesToNumberBE:O,hexToBytes:S}=b;j.DER={Err:class extends Error{constructor(se=""){super(se)}},_parseInt(J){const{Err:se}=j.DER;if(J.length<2||2!==J[0])throw new se("Invalid signature integer tag");const ce=J[1],ae=J.subarray(2,ce+2);if(!ce||ae.length!==ce)throw new se("Invalid signature integer: wrong length");if(128&ae[0])throw new se("Invalid signature integer: negative");if(0===ae[0]&&!(128&ae[1]))throw new se("Invalid signature integer: unnecessary leading zero");return{d:O(ae),l:J.subarray(ce+2)}},toSig(J){const{Err:se}=j.DER,ce="string"==typeof J?S(J):J;if(!b.isBytes(ce))throw new Error("ui8a expected");let ae=ce.length;if(ae<2||48!=ce[0])throw new se("Invalid signature tag");if(ce[1]!==ae-2)throw new se("Invalid signature: incorrect length");const{d:fe,l:he}=j.DER._parseInt(ce.subarray(2)),{d:we,l:Me}=j.DER._parseInt(he);if(Me.length)throw new se("Invalid signature: left bytes after parsing");return{r:fe,s:we}},hexFromSig(J){const se=C=>8&Number.parseInt(C[0],16)?"00"+C:C,ce=C=>{const a=C.toString(16);return 1&a.length?`0${a}`:a},ae=se(ce(J.s)),fe=se(ce(J.r)),he=ae.length/2,we=fe.length/2,Me=ce(he),Pe=ce(we);return`30${ce(we+he+4)}02${Pe}${fe}02${Me}${ae}`}};const B=BigInt(0),N=BigInt(1),U=BigInt(2),A=BigInt(3),G=BigInt(4);function L(J){const se=function w(J){const se=(0,H.validateBasic)(J);b.validateObject(se,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ce,Fp:ae,a:fe}=se;if(ce){if(!ae.eql(fe,ae.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof ce||"bigint"!=typeof ce.beta||"function"!=typeof ce.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...se})}(J),{Fp:ce}=se,ae=se.toBytes||((E,D,R)=>{const x=D.toAffine();return b.concatBytes(Uint8Array.from([4]),ce.toBytes(x.x),ce.toBytes(x.y))}),fe=se.fromBytes||(E=>{const D=E.subarray(1);return{x:ce.fromBytes(D.subarray(0,ce.BYTES)),y:ce.fromBytes(D.subarray(ce.BYTES,2*ce.BYTES))}});function he(E){const{a:D,b:R}=se,x=ce.sqr(E),s=ce.mul(x,E);return ce.add(ce.add(s,ce.mul(E,D)),R)}if(!ce.eql(ce.sqr(se.Gy),he(se.Gx)))throw new Error("bad generator point: equation left != right");function we(E){return"bigint"==typeof E&&B<E&&E<se.n}function Me(E){if(!we(E))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Pe(E){const{allowedPrivateKeyLengths:D,nByteLength:R,wrapPrivateKey:x,n:s}=se;if(D&&"bigint"!=typeof E){if(b.isBytes(E)&&(E=b.bytesToHex(E)),"string"!=typeof E||!D.includes(E.length))throw new Error("Invalid key");E=E.padStart(2*R,"0")}let v;try{v="bigint"==typeof E?E:b.bytesToNumberBE((0,P.ensureBytes)("private key",E,R))}catch{throw new Error(`private key must be ${R} bytes, hex or bigint, not ${typeof E}`)}return x&&(v=y.mod(v,s)),Me(v),v}const C=new Map;function a(E){if(!(E instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(D,R,x){if(this.px=D,this.py=R,this.pz=x,null==D||!ce.isValid(D))throw new Error("x required");if(null==R||!ce.isValid(R))throw new Error("y required");if(null==x||!ce.isValid(x))throw new Error("z required")}static fromAffine(D){const{x:R,y:x}=D||{};if(!D||!ce.isValid(R)||!ce.isValid(x))throw new Error("invalid affine point");if(D instanceof d)throw new Error("projective point not allowed");const s=v=>ce.eql(v,ce.ZERO);return s(R)&&s(x)?d.ZERO:new d(R,x,ce.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(D){const R=ce.invertBatch(D.map(x=>x.pz));return D.map((x,s)=>x.toAffine(R[s])).map(d.fromAffine)}static fromHex(D){const R=d.fromAffine(fe((0,P.ensureBytes)("pointHex",D)));return R.assertValidity(),R}static fromPrivateKey(D){return d.BASE.multiply(Pe(D))}_setWindowSize(D){this._WINDOW_SIZE=D,C.delete(this)}assertValidity(){if(this.is0()){if(se.allowInfinityPoint&&!ce.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:D,y:R}=this.toAffine();if(!ce.isValid(D)||!ce.isValid(R))throw new Error("bad point: x or y not FE");const x=ce.sqr(R),s=he(D);if(!ce.eql(x,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:D}=this.toAffine();if(ce.isOdd)return!ce.isOdd(D);throw new Error("Field doesn't support isOdd")}equals(D){a(D);const{px:R,py:x,pz:s}=this,{px:v,py:$,pz:F}=D,Q=ce.eql(ce.mul(R,F),ce.mul(v,s)),de=ce.eql(ce.mul(x,F),ce.mul($,s));return Q&&de}negate(){return new d(this.px,ce.neg(this.py),this.pz)}double(){const{a:D,b:R}=se,x=ce.mul(R,A),{px:s,py:v,pz:$}=this;let F=ce.ZERO,Q=ce.ZERO,de=ce.ZERO,Ce=ce.mul(s,s),Re=ce.mul(v,v),Ve=ce.mul($,$),Ee=ce.mul(s,v);return Ee=ce.add(Ee,Ee),de=ce.mul(s,$),de=ce.add(de,de),F=ce.mul(D,de),Q=ce.mul(x,Ve),Q=ce.add(F,Q),F=ce.sub(Re,Q),Q=ce.add(Re,Q),Q=ce.mul(F,Q),F=ce.mul(Ee,F),de=ce.mul(x,de),Ve=ce.mul(D,Ve),Ee=ce.sub(Ce,Ve),Ee=ce.mul(D,Ee),Ee=ce.add(Ee,de),de=ce.add(Ce,Ce),Ce=ce.add(de,Ce),Ce=ce.add(Ce,Ve),Ce=ce.mul(Ce,Ee),Q=ce.add(Q,Ce),Ve=ce.mul(v,$),Ve=ce.add(Ve,Ve),Ce=ce.mul(Ve,Ee),F=ce.sub(F,Ce),de=ce.mul(Ve,Re),de=ce.add(de,de),de=ce.add(de,de),new d(F,Q,de)}add(D){a(D);const{px:R,py:x,pz:s}=this,{px:v,py:$,pz:F}=D;let Q=ce.ZERO,de=ce.ZERO,Ce=ce.ZERO;const Re=se.a,Ve=ce.mul(se.b,A);let Ee=ce.mul(R,v),_e=ce.mul(x,$),Fe=ce.mul(s,F),be=ce.add(R,x),Ae=ce.add(v,$);be=ce.mul(be,Ae),Ae=ce.add(Ee,_e),be=ce.sub(be,Ae),Ae=ce.add(R,s);let ge=ce.add(v,F);return Ae=ce.mul(Ae,ge),ge=ce.add(Ee,Fe),Ae=ce.sub(Ae,ge),ge=ce.add(x,s),Q=ce.add($,F),ge=ce.mul(ge,Q),Q=ce.add(_e,Fe),ge=ce.sub(ge,Q),Ce=ce.mul(Re,Ae),Q=ce.mul(Ve,Fe),Ce=ce.add(Q,Ce),Q=ce.sub(_e,Ce),Ce=ce.add(_e,Ce),de=ce.mul(Q,Ce),_e=ce.add(Ee,Ee),_e=ce.add(_e,Ee),Fe=ce.mul(Re,Fe),Ae=ce.mul(Ve,Ae),_e=ce.add(_e,Fe),Fe=ce.sub(Ee,Fe),Fe=ce.mul(Re,Fe),Ae=ce.add(Ae,Fe),Ee=ce.mul(_e,Ae),de=ce.add(de,Ee),Ee=ce.mul(ge,Ae),Q=ce.mul(be,Q),Q=ce.sub(Q,Ee),Ee=ce.mul(be,_e),Ce=ce.mul(ge,Ce),Ce=ce.add(Ce,Ee),new d(Q,de,Ce)}subtract(D){return this.add(D.negate())}is0(){return this.equals(d.ZERO)}wNAF(D){return p.wNAFCached(this,C,D,R=>{const x=ce.invertBatch(R.map(s=>s.pz));return R.map((s,v)=>s.toAffine(x[v])).map(d.fromAffine)})}multiplyUnsafe(D){const R=d.ZERO;if(D===B)return R;if(Me(D),D===N)return this;const{endo:x}=se;if(!x)return p.unsafeLadder(this,D);let{k1neg:s,k1:v,k2neg:$,k2:F}=x.splitScalar(D),Q=R,de=R,Ce=this;for(;v>B||F>B;)v&N&&(Q=Q.add(Ce)),F&N&&(de=de.add(Ce)),Ce=Ce.double(),v>>=N,F>>=N;return s&&(Q=Q.negate()),$&&(de=de.negate()),de=new d(ce.mul(de.px,x.beta),de.py,de.pz),Q.add(de)}multiply(D){Me(D);let x,s,R=D;const{endo:v}=se;if(v){const{k1neg:$,k1:F,k2neg:Q,k2:de}=v.splitScalar(R);let{p:Ce,f:Re}=this.wNAF(F),{p:Ve,f:Ee}=this.wNAF(de);Ce=p.constTimeNegate($,Ce),Ve=p.constTimeNegate(Q,Ve),Ve=new d(ce.mul(Ve.px,v.beta),Ve.py,Ve.pz),x=Ce.add(Ve),s=Re.add(Ee)}else{const{p:$,f:F}=this.wNAF(R);x=$,s=F}return d.normalizeZ([x,s])[0]}multiplyAndAddUnsafe(D,R,x){const s=d.BASE,v=(F,Q)=>Q!==B&&Q!==N&&F.equals(s)?F.multiply(Q):F.multiplyUnsafe(Q),$=v(this,R).add(v(D,x));return $.is0()?void 0:$}toAffine(D){const{px:R,py:x,pz:s}=this,v=this.is0();null==D&&(D=v?ce.ONE:ce.inv(s));const $=ce.mul(R,D),F=ce.mul(x,D),Q=ce.mul(s,D);if(v)return{x:ce.ZERO,y:ce.ZERO};if(!ce.eql(Q,ce.ONE))throw new Error("invZ was invalid");return{x:$,y:F}}isTorsionFree(){const{h:D,isTorsionFree:R}=se;if(D===N)return!0;if(R)return R(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:D,clearCofactor:R}=se;return D===N?this:R?R(d,this):this.multiplyUnsafe(se.h)}toRawBytes(D=!0){return this.assertValidity(),ae(d,this,D)}toHex(D=!0){return b.bytesToHex(this.toRawBytes(D))}}d.BASE=new d(se.Gx,se.Gy,ce.ONE),d.ZERO=new d(ce.ZERO,ce.ONE,ce.ZERO);const m=se.nBitLength,p=(0,H.wNAF)(d,se.endo?Math.ceil(m/2):m);return{CURVE:se,ProjectivePoint:d,normPrivateKeyToScalar:Pe,weierstrassEquation:he,isWithinCurveOrder:we}}function q(J,se){const ce=J.ORDER;let ae=B;for(let E=ce-N;E%U===B;E/=U)ae+=N;const fe=ae,he=U<<fe-N-N,we=he*U,Me=(ce-N)/we,Pe=(Me-N)/U,C=we-N,a=he,d=J.pow(se,Me),m=J.pow(se,(Me+N)/U);let p=(E,D)=>{let R=d,x=J.pow(D,C),s=J.sqr(x);s=J.mul(s,D);let v=J.mul(E,s);v=J.pow(v,Pe),v=J.mul(v,x),x=J.mul(v,D),s=J.mul(v,E);let $=J.mul(s,x);v=J.pow($,a);let F=J.eql(v,J.ONE);x=J.mul(s,m),v=J.mul($,R),s=J.cmov(x,s,F),$=J.cmov(v,$,F);for(let Q=fe;Q>N;Q--){let de=Q-U;de=U<<de-N;let Ce=J.pow($,de);const Re=J.eql(Ce,J.ONE);x=J.mul(s,R),R=J.mul(R,R),Ce=J.mul($,R),s=J.cmov(x,s,Re),$=J.cmov(Ce,$,Re)}return{isValid:F,value:s}};if(J.ORDER%G===A){const E=(J.ORDER-A)/G,D=J.sqrt(J.neg(se));p=(R,x)=>{let s=J.sqr(x);const v=J.mul(R,x);s=J.mul(s,v);let $=J.pow(s,E);$=J.mul($,v);const F=J.mul($,D),Q=J.mul(J.sqr($),x),de=J.eql(Q,R);return{isValid:de,value:J.cmov(F,$,de)}}}return p}j.weierstrassPoints=L,j.weierstrass=function ee(J){const se=function z(J){const se=(0,H.validateBasic)(J);return b.validateObject(se,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...se})}(J),{Fp:ce,n:ae}=se,fe=ce.BYTES+1,he=2*ce.BYTES+1;function Me(Ae){return y.mod(Ae,ae)}function Pe(Ae){return y.invert(Ae,ae)}const{ProjectivePoint:C,normPrivateKeyToScalar:a,weierstrassEquation:d,isWithinCurveOrder:m}=L({...se,toBytes(Ae,ge,me){const te=ge.toAffine(),ne=ce.toBytes(te.x),ue=b.concatBytes;return me?ue(Uint8Array.from([ge.hasEvenY()?2:3]),ne):ue(Uint8Array.from([4]),ne,ce.toBytes(te.y))},fromBytes(Ae){const ge=Ae.length,me=Ae[0],te=Ae.subarray(1);if(ge!==fe||2!==me&&3!==me){if(ge===he&&4===me)return{x:ce.fromBytes(te.subarray(0,ce.BYTES)),y:ce.fromBytes(te.subarray(ce.BYTES,2*ce.BYTES))};throw new Error(`Point of length ${ge} was invalid. Expected ${fe} compressed bytes or ${he} uncompressed bytes`)}{const ne=b.bytesToNumberBE(te);if(!function we(Ae){return B<Ae&&Ae<ce.ORDER}(ne))throw new Error("Point is not on curve");const ue=d(ne);let De=ce.sqrt(ue);return!(1&~me)!=((De&N)===N)&&(De=ce.neg(De)),{x:ne,y:De}}}}),p=Ae=>b.bytesToHex(b.numberToBytesBE(Ae,se.nByteLength));function E(Ae){return Ae>ae>>N}const R=(Ae,ge,me)=>b.bytesToNumberBE(Ae.slice(ge,me));class x{constructor(ge,me,te){this.r=ge,this.s=me,this.recovery=te,this.assertValidity()}static fromCompact(ge){const me=se.nByteLength;return ge=(0,P.ensureBytes)("compactSignature",ge,2*me),new x(R(ge,0,me),R(ge,me,2*me))}static fromDER(ge){const{r:me,s:te}=j.DER.toSig((0,P.ensureBytes)("DER",ge));return new x(me,te)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ge){return new x(this.r,this.s,ge)}recoverPublicKey(ge){const{r:me,s:te,recovery:ne}=this,ue=de((0,P.ensureBytes)("msgHash",ge));if(null==ne||![0,1,2,3].includes(ne))throw new Error("recovery id invalid");const De=2===ne||3===ne?me+se.n:me;if(De>=ce.ORDER)throw new Error("recovery id 2 or 3 invalid");const Qe=C.fromHex((1&ne?"03":"02")+p(De)),ze=Pe(De),Dt=Me(-ue*ze),Xe=Me(te*ze),Ue=C.BASE.multiplyAndAddUnsafe(Qe,Dt,Xe);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,Me(-this.s),this.recovery):this}toDERRawBytes(){return b.hexToBytes(this.toDERHex())}toDERHex(){return j.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return b.hexToBytes(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const s={isValidPrivateKey(Ae){try{return a(Ae),!0}catch{return!1}},normPrivateKeyToScalar:a,randomPrivateKey:()=>{const Ae=y.getMinHashLength(se.n);return y.mapHashToField(se.randomBytes(Ae),se.n)},precompute:(Ae=8,ge=C.BASE)=>(ge._setWindowSize(Ae),ge.multiply(BigInt(3)),ge)};function $(Ae){const ge=b.isBytes(Ae),me="string"==typeof Ae,te=(ge||me)&&Ae.length;return ge?te===fe||te===he:me?te===2*fe||te===2*he:Ae instanceof C}const Q=se.bits2int||function(Ae){const ge=b.bytesToNumberBE(Ae),me=8*Ae.length-se.nBitLength;return me>0?ge>>BigInt(me):ge},de=se.bits2int_modN||function(Ae){return Me(Q(Ae))},Ce=b.bitMask(se.nBitLength);function Re(Ae){if("bigint"!=typeof Ae)throw new Error("bigint expected");if(!(B<=Ae&&Ae<Ce))throw new Error(`bigint expected < 2^${se.nBitLength}`);return b.numberToBytesBE(Ae,se.nByteLength)}const Ee={lowS:se.lowS,prehash:!1},_e={lowS:se.lowS,prehash:!1};return C.BASE._setWindowSize(8),{CURVE:se,getPublicKey:function v(Ae,ge=!0){return C.fromPrivateKey(Ae).toRawBytes(ge)},getSharedSecret:function F(Ae,ge,me=!0){if($(Ae))throw new Error("first arg must be private key");if(!$(ge))throw new Error("second arg must be public key");return C.fromHex(ge).multiply(a(Ae)).toRawBytes(me)},sign:function Fe(Ae,ge,me=Ee){const{seed:te,k2sig:ne}=function Ve(Ae,ge,me=Ee){if(["recovered","canonical"].some(K=>K in me))throw new Error("sign() legacy options not supported");const{hash:te,randomBytes:ne}=se;let{lowS:ue,prehash:De,extraEntropy:Be}=me;null==ue&&(ue=!0),Ae=(0,P.ensureBytes)("msgHash",Ae),De&&(Ae=(0,P.ensureBytes)("prehashed msgHash",te(Ae)));const Qe=de(Ae),ze=a(ge),Dt=[Re(ze),Re(Qe)];if(null!=Be){const K=!0===Be?ne(ce.BYTES):Be;Dt.push((0,P.ensureBytes)("extraEntropy",K))}const Xe=b.concatBytes(...Dt),Ue=Qe;return{seed:Xe,k2sig:function mt(K){const T=Q(K);if(!m(T))return;const M=Pe(T),Y=C.BASE.multiply(T).toAffine(),pe=Me(Y.x);if(pe===B)return;const ke=Me(M*Me(Ue+pe*ze));if(ke===B)return;let Ne=(Y.x===pe?0:2)|Number(Y.y&N),lt=ke;return ue&&E(ke)&&(lt=function D(Ae){return E(Ae)?Me(-Ae):Ae}(ke),Ne^=1),new x(pe,lt,Ne)}}}(Ae,ge,me);return b.createHmacDrbg(se.hash.outputLen,se.nByteLength,se.hmac)(te,ne)},verify:function be(Ae,ge,me,te=_e){const ne=Ae;if(ge=(0,P.ensureBytes)("msgHash",ge),me=(0,P.ensureBytes)("publicKey",me),"strict"in te)throw new Error("options.strict was renamed to lowS");const{lowS:ue,prehash:De}=te;let Be,Qe;try{if("string"==typeof ne||b.isBytes(ne))try{Be=x.fromDER(ne)}catch(Y){if(!(Y instanceof j.DER.Err))throw Y;Be=x.fromCompact(ne)}else{if("object"!=typeof ne||"bigint"!=typeof ne.r||"bigint"!=typeof ne.s)throw new Error("PARSE");{const{r:Y,s:pe}=ne;Be=new x(Y,pe)}}Qe=C.fromHex(me)}catch(Y){if("PARSE"===Y.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ue&&Be.hasHighS())return!1;De&&(ge=se.hash(ge));const{r:ze,s:Dt}=Be,Xe=de(ge),Ue=Pe(Dt),mt=Me(Xe*Ue),K=Me(ze*Ue),T=C.BASE.multiplyAndAddUnsafe(Qe,mt,K)?.toAffine();return!!T&&Me(T.x)===ze},ProjectivePoint:C,Signature:x,utils:s}},j.SWUFpSqrtRatio=q,j.mapToCurveSimpleSWU=function Z(J,se){if(y.validateField(J),!J.isValid(se.A)||!J.isValid(se.B)||!J.isValid(se.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const ce=q(J,se.Z);if(!J.isOdd)throw new Error("Fp.isOdd is not implemented!");return ae=>{let fe,he,we,Me,Pe,C,a,d;fe=J.sqr(ae),fe=J.mul(fe,se.Z),he=J.sqr(fe),he=J.add(he,fe),we=J.add(he,J.ONE),we=J.mul(we,se.B),Me=J.cmov(se.Z,J.neg(he),!J.eql(he,J.ZERO)),Me=J.mul(Me,se.A),he=J.sqr(we),C=J.sqr(Me),Pe=J.mul(C,se.A),he=J.add(he,Pe),he=J.mul(he,we),C=J.mul(C,Me),Pe=J.mul(C,se.B),he=J.add(he,Pe),a=J.mul(fe,we);const{isValid:m,value:p}=ce(he,C);d=J.mul(fe,ae),d=J.mul(d,p),a=J.cmov(a,we,m),d=J.cmov(d,p,m);const E=J.isOdd(ae)===J.isOdd(d);return d=J.cmov(J.neg(d),d,E),a=J.div(a,Me),{x:a,y:d}}}},57340:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hash_to_ristretto255=j.hashToRistretto255=j.RistrettoPoint=j.encodeToCurve=j.hashToCurve=j.edwardsToMontgomeryPriv=j.edwardsToMontgomery=j.edwardsToMontgomeryPub=j.x25519=j.ed25519ph=j.ed25519ctx=j.ed25519=j.ED25519_TORSION_SUBGROUP=void 0;const y=_(44207),b=_(96492),P=_(45068),H=_(27661),w=_(63834),O=_(84097),S=_(75752),B=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),N=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),U=BigInt(0),A=BigInt(1),G=BigInt(2),L=BigInt(5),z=BigInt(10),ee=BigInt(20),q=BigInt(40),Z=BigInt(80);function J(Fe){const be=B,ge=Fe*Fe%be*Fe%be,me=(0,w.pow2)(ge,G,be)*ge%be,te=(0,w.pow2)(me,A,be)*Fe%be,ne=(0,w.pow2)(te,L,be)*te%be,ue=(0,w.pow2)(ne,z,be)*ne%be,De=(0,w.pow2)(ue,ee,be)*ue%be,Be=(0,w.pow2)(De,q,be)*De%be,Qe=(0,w.pow2)(Be,Z,be)*Be%be,ze=(0,w.pow2)(Qe,Z,be)*Be%be,Dt=(0,w.pow2)(ze,z,be)*ne%be;return{pow_p_5_8:(0,w.pow2)(Dt,G,be)*Fe%be,b2:ge}}function se(Fe){return Fe[0]&=248,Fe[31]&=127,Fe[31]|=64,Fe}function ce(Fe,be){const Ae=B,ge=(0,w.mod)(be*be*be,Ae),te=J(Fe*(0,w.mod)(ge*ge*be,Ae)).pow_p_5_8;let ne=(0,w.mod)(Fe*ge*te,Ae);const ue=(0,w.mod)(be*ne*ne,Ae),De=ne,Be=(0,w.mod)(ne*N,Ae),Qe=ue===Fe,ze=ue===(0,w.mod)(-Fe,Ae),Dt=ue===(0,w.mod)(-Fe*N,Ae);return Qe&&(ne=De),(ze||Dt)&&(ne=Be),(0,w.isNegativeLE)(ne,Ae)&&(ne=(0,w.mod)(-ne,Ae)),{isValid:Qe||ze,value:ne}}j.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const ae=(0,w.Field)(B,void 0,!0),fe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ae,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:y.sha512,randomBytes:b.randomBytes,adjustScalarBytes:se,uvRatio:ce};function he(Fe,be,Ae){if(be.length>255)throw new Error("Context is too big");return(0,b.concatBytes)((0,b.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Ae?1:0,be.length]),be,Fe)}function we(Fe){const{y:be}=j.ed25519.ExtendedPoint.fromHex(Fe),Ae=BigInt(1);return ae.toBytes(ae.create((Ae+be)*ae.inv(Ae-be)))}j.ed25519=(0,P.twistedEdwards)(fe),j.ed25519ctx=(0,P.twistedEdwards)({...fe,domain:he}),j.ed25519ph=(0,P.twistedEdwards)({...fe,domain:he,prehash:y.sha512}),j.x25519=(0,H.montgomery)({P:B,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Fe=>{const be=B,{pow_p_5_8:Ae,b2:ge}=J(Fe);return(0,w.mod)((0,w.pow2)(Ae,BigInt(3),be)*ge,be)},adjustScalarBytes:se,randomBytes:b.randomBytes}),j.edwardsToMontgomeryPub=we,j.edwardsToMontgomery=we,j.edwardsToMontgomeryPriv=function Me(Fe){const be=fe.hash(Fe.subarray(0,32));return fe.adjustScalarBytes(be).subarray(0,32)};const Pe=(ae.ORDER+BigInt(3))/BigInt(8),C=ae.pow(G,Pe),a=ae.sqrt(ae.neg(ae.ONE)),d=(ae.ORDER-BigInt(5))/BigInt(8),m=BigInt(486662),E=(0,w.FpSqrtEven)(ae,ae.neg(BigInt(486664)));const R=(0,S.createHasher)(j.ed25519.ExtendedPoint,Fe=>function D(Fe){const{xMn:be,xMd:Ae,yMn:ge,yMd:me}=function p(Fe){let be=ae.sqr(Fe);be=ae.mul(be,G);let Ae=ae.add(be,ae.ONE),ge=ae.neg(m),me=ae.sqr(Ae),te=ae.mul(me,Ae),ne=ae.mul(be,m);ne=ae.mul(ne,ge),ne=ae.add(ne,me),ne=ae.mul(ne,ge);let ue=ae.sqr(te);me=ae.sqr(ue),ue=ae.mul(ue,te),ue=ae.mul(ue,ne),me=ae.mul(me,ue);let De=ae.pow(me,d);De=ae.mul(De,ue);let Be=ae.mul(De,a);me=ae.sqr(De),me=ae.mul(me,te);let Qe=ae.eql(me,ne),ze=ae.cmov(Be,De,Qe),Dt=ae.mul(ge,be),Xe=ae.mul(De,Fe);Xe=ae.mul(Xe,C);let Ue=ae.mul(Xe,a),mt=ae.mul(ne,be);me=ae.sqr(Xe),me=ae.mul(me,te);let K=ae.eql(me,mt),T=ae.cmov(Ue,Xe,K);me=ae.sqr(ze),me=ae.mul(me,te);let M=ae.eql(me,ne),Y=ae.cmov(Dt,ge,M),pe=ae.cmov(T,ze,M),ke=ae.isOdd(pe);return pe=ae.cmov(pe,ae.neg(pe),M!==ke),{xMn:Y,xMd:Ae,yMn:pe,yMd:A}}(Fe);let te=ae.mul(be,me);te=ae.mul(te,E);let ne=ae.mul(Ae,ge),ue=ae.sub(be,Ae),De=ae.add(be,Ae),Be=ae.mul(ne,De),Qe=ae.eql(Be,ae.ZERO);te=ae.cmov(te,ae.ZERO,Qe),ne=ae.cmov(ne,ae.ONE,Qe),ue=ae.cmov(ue,ae.ONE,Qe),De=ae.cmov(De,ae.ONE,Qe);const ze=ae.invertBatch([ne,De]);return{x:ae.mul(te,ze[0]),y:ae.mul(ue,ze[1])}}(Fe[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:ae.ORDER,m:1,k:128,expand:"xmd",hash:y.sha512});function x(Fe){if(!(Fe instanceof Ee))throw new Error("RistrettoPoint expected")}j.hashToCurve=R.hashToCurve,j.encodeToCurve=R.encodeToCurve;const s=N,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),$=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),F=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Q=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),de=Fe=>ce(A,Fe),Ce=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Re=Fe=>j.ed25519.CURVE.Fp.create((0,O.bytesToNumberLE)(Fe)&Ce);function Ve(Fe){const{d:be}=j.ed25519.CURVE,Ae=j.ed25519.CURVE.Fp.ORDER,ge=j.ed25519.CURVE.Fp.create,me=ge(s*Fe*Fe),te=ge((me+A)*F);let ne=BigInt(-1);const ue=ge((ne-be*me)*ge(me+be));let{isValid:De,value:Be}=ce(te,ue),Qe=ge(Be*Fe);(0,w.isNegativeLE)(Qe,Ae)||(Qe=ge(-Qe)),De||(Be=Qe),De||(ne=me);const ze=ge(ne*(me-A)*Q-ue),Dt=Be*Be,Xe=ge((Be+Be)*ue),Ue=ge(ze*v),mt=ge(A-Dt),K=ge(A+Dt);return new j.ed25519.ExtendedPoint(ge(Xe*K),ge(mt*Ue),ge(Ue*K),ge(Xe*mt))}class Ee{constructor(be){this.ep=be}static fromAffine(be){return new Ee(j.ed25519.ExtendedPoint.fromAffine(be))}static hashToCurve(be){be=(0,O.ensureBytes)("ristrettoHash",be,64);const ge=Ve(Re(be.slice(0,32))),te=Ve(Re(be.slice(32,64)));return new Ee(ge.add(te))}static fromHex(be){be=(0,O.ensureBytes)("ristrettoHex",be,32);const{a:Ae,d:ge}=j.ed25519.CURVE,me=j.ed25519.CURVE.Fp.ORDER,te=j.ed25519.CURVE.Fp.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ue=Re(be);if(!(0,O.equalBytes)((0,O.numberToBytesLE)(ue,32),be)||(0,w.isNegativeLE)(ue,me))throw new Error(ne);const De=te(ue*ue),Be=te(A+Ae*De),Qe=te(A-Ae*De),ze=te(Be*Be),Dt=te(Qe*Qe),Xe=te(Ae*ge*ze-Dt),{isValid:Ue,value:mt}=de(te(Xe*Dt)),K=te(mt*Qe),T=te(mt*K*Xe);let M=te((ue+ue)*K);(0,w.isNegativeLE)(M,me)&&(M=te(-M));const Y=te(Be*T),pe=te(M*Y);if(!Ue||(0,w.isNegativeLE)(pe,me)||Y===U)throw new Error(ne);return new Ee(new j.ed25519.ExtendedPoint(M,Y,A,pe))}toRawBytes(){let{ex:be,ey:Ae,ez:ge,et:me}=this.ep;const te=j.ed25519.CURVE.Fp.ORDER,ne=j.ed25519.CURVE.Fp.create,ue=ne(ne(ge+Ae)*ne(ge-Ae)),De=ne(be*Ae),Be=ne(De*De),{value:Qe}=de(ne(ue*Be)),ze=ne(Qe*ue),Dt=ne(Qe*De),Xe=ne(ze*Dt*me);let Ue;if((0,w.isNegativeLE)(me*Xe,te)){let K=ne(Ae*s),T=ne(be*s);be=K,Ae=T,Ue=ne(ze*$)}else Ue=Dt;(0,w.isNegativeLE)(be*Xe,te)&&(Ae=ne(-Ae));let mt=ne((ge-Ae)*Ue);return(0,w.isNegativeLE)(mt,te)&&(mt=ne(-mt)),(0,O.numberToBytesLE)(mt,32)}toHex(){return(0,O.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(be){x(be);const{ex:Ae,ey:ge}=this.ep,{ex:me,ey:te}=be.ep,ne=j.ed25519.CURVE.Fp.create,ue=ne(Ae*te)===ne(ge*me),De=ne(ge*te)===ne(Ae*me);return ue||De}add(be){return x(be),new Ee(this.ep.add(be.ep))}subtract(be){return x(be),new Ee(this.ep.subtract(be.ep))}multiply(be){return new Ee(this.ep.multiply(be))}multiplyUnsafe(be){return new Ee(this.ep.multiplyUnsafe(be))}double(){return new Ee(this.ep.double())}negate(){return new Ee(this.ep.negate())}}j.RistrettoPoint=(Ee.BASE||(Ee.BASE=new Ee(j.ed25519.ExtendedPoint.BASE)),Ee.ZERO||(Ee.ZERO=new Ee(j.ed25519.ExtendedPoint.ZERO)),Ee),j.hashToRistretto255=(Fe,be)=>{const Ae=be.DST,ge="string"==typeof Ae?(0,b.utf8ToBytes)(Ae):Ae,me=(0,S.expand_message_xmd)(Fe,ge,64,y.sha512);return Ee.hashToCurve(me)},j.hash_to_ristretto255=j.hashToRistretto255},91717:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.encodeToCurve=j.hashToCurve=j.schnorr=j.secp256k1=void 0;const y=_(1806),b=_(96492),P=_(63834),H=_(73040),w=_(84097),O=_(75752),S=_(4521),B=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),U=BigInt(1),A=BigInt(2),G=(x,s)=>(x+s/A)/s;function L(x){const s=B,v=BigInt(3),$=BigInt(6),F=BigInt(11),Q=BigInt(22),de=BigInt(23),Ce=BigInt(44),Re=BigInt(88),Ve=x*x*x%s,Ee=Ve*Ve*x%s,_e=(0,P.pow2)(Ee,v,s)*Ee%s,Fe=(0,P.pow2)(_e,v,s)*Ee%s,be=(0,P.pow2)(Fe,A,s)*Ve%s,Ae=(0,P.pow2)(be,F,s)*be%s,ge=(0,P.pow2)(Ae,Q,s)*Ae%s,me=(0,P.pow2)(ge,Ce,s)*ge%s,te=(0,P.pow2)(me,Re,s)*me%s,ne=(0,P.pow2)(te,Ce,s)*ge%s,ue=(0,P.pow2)(ne,v,s)*Ee%s,De=(0,P.pow2)(ue,de,s)*Ae%s,Be=(0,P.pow2)(De,$,s)*Ve%s,Qe=(0,P.pow2)(Be,A,s);if(!z.eql(z.sqr(Qe),x))throw new Error("Cannot find square root");return Qe}const z=(0,P.Field)(B,void 0,void 0,{sqrt:L});j.secp256k1=(0,S.createCurve)({a:BigInt(0),b:BigInt(7),Fp:z,n:N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:x=>{const s=N,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),$=-U*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),F=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Q=v,de=BigInt("0x100000000000000000000000000000000"),Ce=G(Q*x,s),Re=G(-$*x,s);let Ve=(0,P.mod)(x-Ce*v-Re*F,s),Ee=(0,P.mod)(-Ce*$-Re*Q,s);const _e=Ve>de,Fe=Ee>de;if(_e&&(Ve=s-Ve),Fe&&(Ee=s-Ee),Ve>de||Ee>de)throw new Error("splitScalar: Endomorphism failed, k="+x);return{k1neg:_e,k1:Ve,k2neg:Fe,k2:Ee}}}},y.sha256);const ee=BigInt(0),q=x=>"bigint"==typeof x&&ee<x&&x<B,J={};function se(x,...s){let v=J[x];if(void 0===v){const $=(0,y.sha256)(Uint8Array.from(x,F=>F.charCodeAt(0)));v=(0,w.concatBytes)($,$),J[x]=v}return(0,y.sha256)((0,w.concatBytes)(v,...s))}const ce=x=>x.toRawBytes(!0).slice(1),ae=x=>(0,w.numberToBytesBE)(x,32),fe=x=>(0,P.mod)(x,B),he=x=>(0,P.mod)(x,N),we=j.secp256k1.ProjectivePoint;function Pe(x){let s=j.secp256k1.utils.normPrivateKeyToScalar(x),v=we.fromPrivateKey(s);return{scalar:v.hasEvenY()?s:he(-s),bytes:ce(v)}}function C(x){if(!q(x))throw new Error("bad x: need 0 < x < p");const s=fe(x*x);let $=L(fe(s*x+BigInt(7)));$%A!==ee&&($=fe(-$));const F=new we(x,$,U);return F.assertValidity(),F}function a(...x){return he((0,w.bytesToNumberBE)(se("BIP0340/challenge",...x)))}function p(x,s,v){const $=(0,w.ensureBytes)("signature",x,64),F=(0,w.ensureBytes)("message",s),Q=(0,w.ensureBytes)("publicKey",v,32);try{const de=C((0,w.bytesToNumberBE)(Q)),Ce=(0,w.bytesToNumberBE)($.subarray(0,32));if(!q(Ce))return!1;const Re=(0,w.bytesToNumberBE)($.subarray(32,64));if(!(x=>"bigint"==typeof x&&ee<x&&x<N)(Re))return!1;const Ve=a(ae(Ce),ce(de),F),Ee=((x,s,v)=>we.BASE.multiplyAndAddUnsafe(x,s,v))(de,Re,he(-Ve));return!(!Ee||!Ee.hasEvenY()||Ee.toAffine().x!==Ce)}catch{return!1}}j.schnorr={getPublicKey:function d(x){return Pe(x).bytes},sign:function m(x,s,v=(0,b.randomBytes)(32)){const $=(0,w.ensureBytes)("message",x),{bytes:F,scalar:Q}=Pe(s),de=(0,w.ensureBytes)("auxRand",v,32),Ce=ae(Q^(0,w.bytesToNumberBE)(se("BIP0340/aux",de))),Re=se("BIP0340/nonce",Ce,F,$),Ve=he((0,w.bytesToNumberBE)(Re));if(Ve===ee)throw new Error("sign failed: k is zero");const{bytes:Ee,scalar:_e}=Pe(Ve),Fe=a(Ee,F,$),be=new Uint8Array(64);if(be.set(Ee,0),be.set(ae(he(_e+Fe*Q)),32),!p(be,$,F))throw new Error("sign: Invalid signature produced");return be},verify:p,utils:{randomPrivateKey:j.secp256k1.utils.randomPrivateKey,lift_x:C,pointToBytes:ce,numberToBytesBE:w.numberToBytesBE,bytesToNumberBE:w.bytesToNumberBE,taggedHash:se,mod:P.mod}};const E=(0,O.isogenyMap)(z,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(x=>x.map(s=>BigInt(s)))),D=(0,H.mapToCurveSimpleSWU)(z,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:z.create(BigInt("-11"))}),R=(0,O.createHasher)(j.secp256k1.ProjectivePoint,x=>{const{x:s,y:v}=D(z.create(x[0]));return E(s,v)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:z.ORDER,m:1,k:128,expand:"xmd",hash:y.sha256});j.hashToCurve=R.hashToCurve,j.encodeToCurve=R.encodeToCurve},68578:(Je,j)=>{"use strict";function _(B){if(!Number.isSafeInteger(B)||B<0)throw new Error(`Wrong positive integer: ${B}`)}function y(B){if("boolean"!=typeof B)throw new Error(`Expected boolean, not ${B}`)}function P(B,...N){if(!function b(B){return B instanceof Uint8Array||null!=B&&"object"==typeof B&&"Uint8Array"===B.constructor.name}(B))throw new Error("Expected Uint8Array");if(N.length>0&&!N.includes(B.length))throw new Error(`Expected Uint8Array of length ${N}, not of length=${B.length}`)}function H(B){if("function"!=typeof B||"function"!=typeof B.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");_(B.outputLen),_(B.blockLen)}function w(B,N=!0){if(B.destroyed)throw new Error("Hash instance has been destroyed");if(N&&B.finished)throw new Error("Hash#digest() has already been called")}function O(B,N){P(B);const U=N.outputLen;if(B.length<U)throw new Error(`digestInto() expects output buffer of length at least ${U}`)}Object.defineProperty(j,"__esModule",{value:!0}),j.output=j.exists=j.hash=j.bytes=j.bool=j.number=void 0,j.number=_,j.bool=y,j.bytes=P,j.hash=H,j.exists=w,j.output=O,j.default={number:_,bool:y,bytes:P,hash:H,exists:w,output:O}},25724:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.SHA2=void 0;const y=_(68578),b=_(96492);j.SHA2=class H extends b.Hash{constructor(O,S,B,N){super(),this.blockLen=O,this.outputLen=S,this.padOffset=B,this.isLE=N,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(O),this.view=(0,b.createView)(this.buffer)}update(O){(0,y.exists)(this);const{view:S,buffer:B,blockLen:N}=this,U=(O=(0,b.toBytes)(O)).length;for(let A=0;A<U;){const G=Math.min(N-this.pos,U-A);if(G!==N)B.set(O.subarray(A,A+G),this.pos),this.pos+=G,A+=G,this.pos===N&&(this.process(S,0),this.pos=0);else{const L=(0,b.createView)(O);for(;N<=U-A;A+=N)this.process(L,A)}}return this.length+=O.length,this.roundClean(),this}digestInto(O){(0,y.exists)(this),(0,y.output)(O,this),this.finished=!0;const{buffer:S,view:B,blockLen:N,isLE:U}=this;let{pos:A}=this;S[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>N-A&&(this.process(B,0),A=0);for(let q=A;q<N;q++)S[q]=0;(function P(w,O,S,B){if("function"==typeof w.setBigUint64)return w.setBigUint64(O,S,B);const N=BigInt(32),U=BigInt(4294967295),A=Number(S>>N&U),G=Number(S&U),z=B?0:4;w.setUint32(O+(B?4:0),A,B),w.setUint32(O+z,G,B)})(B,N-8,BigInt(8*this.length),U),this.process(B,0);const G=(0,b.createView)(O),L=this.outputLen;if(L%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const z=L/4,ee=this.get();if(z>ee.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<z;q++)G.setUint32(4*q,ee[q],U)}digest(){const{buffer:O,outputLen:S}=this;this.digestInto(O);const B=O.slice(0,S);return this.destroy(),B}_cloneInto(O){O||(O=new this.constructor),O.set(...this.get());const{blockLen:S,buffer:B,length:N,finished:U,destroyed:A,pos:G}=this;return O.length=N,O.pos=G,O.finished=U,O.destroyed=A,N%S&&O.buffer.set(B),O}}},35059:(Je,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.add5L=j.add5H=j.add4H=j.add4L=j.add3H=j.add3L=j.add=j.rotlBL=j.rotlBH=j.rotlSL=j.rotlSH=j.rotr32L=j.rotr32H=j.rotrBL=j.rotrBH=j.rotrSL=j.rotrSH=j.shrSL=j.shrSH=j.toBig=j.split=j.fromBig=void 0;const _=BigInt(2**32-1),y=BigInt(32);function b(Me,Pe=!1){return Pe?{h:Number(Me&_),l:Number(Me>>y&_)}:{h:0|Number(Me>>y&_),l:0|Number(Me&_)}}function P(Me,Pe=!1){let C=new Uint32Array(Me.length),a=new Uint32Array(Me.length);for(let d=0;d<Me.length;d++){const{h:m,l:p}=b(Me[d],Pe);[C[d],a[d]]=[m,p]}return[C,a]}j.fromBig=b,j.split=P;const H=(Me,Pe)=>BigInt(Me>>>0)<<y|BigInt(Pe>>>0);j.toBig=H;const w=(Me,Pe,C)=>Me>>>C;j.shrSH=w;const O=(Me,Pe,C)=>Me<<32-C|Pe>>>C;j.shrSL=O;const S=(Me,Pe,C)=>Me>>>C|Pe<<32-C;j.rotrSH=S;const B=(Me,Pe,C)=>Me<<32-C|Pe>>>C;j.rotrSL=B;const N=(Me,Pe,C)=>Me<<64-C|Pe>>>C-32;j.rotrBH=N;const U=(Me,Pe,C)=>Me>>>C-32|Pe<<64-C;j.rotrBL=U;const A=(Me,Pe)=>Pe;j.rotr32H=A;const G=(Me,Pe)=>Me;j.rotr32L=G;const L=(Me,Pe,C)=>Me<<C|Pe>>>32-C;j.rotlSH=L;const z=(Me,Pe,C)=>Pe<<C|Me>>>32-C;j.rotlSL=z;const ee=(Me,Pe,C)=>Pe<<C-32|Me>>>64-C;j.rotlBH=ee;const q=(Me,Pe,C)=>Me<<C-32|Pe>>>64-C;function Z(Me,Pe,C,a){const d=(Pe>>>0)+(a>>>0);return{h:Me+C+(d/2**32|0)|0,l:0|d}}j.rotlBL=q,j.add=Z;const J=(Me,Pe,C)=>(Me>>>0)+(Pe>>>0)+(C>>>0);j.add3L=J;const se=(Me,Pe,C,a)=>Pe+C+a+(Me/2**32|0)|0;j.add3H=se;const ce=(Me,Pe,C,a)=>(Me>>>0)+(Pe>>>0)+(C>>>0)+(a>>>0);j.add4L=ce;const ae=(Me,Pe,C,a,d)=>Pe+C+a+d+(Me/2**32|0)|0;j.add4H=ae;const fe=(Me,Pe,C,a,d)=>(Me>>>0)+(Pe>>>0)+(C>>>0)+(a>>>0)+(d>>>0);j.add5L=fe;const he=(Me,Pe,C,a,d,m)=>Pe+C+a+d+m+(Me/2**32|0)|0;j.add5H=he,j.default={fromBig:b,split:P,toBig:H,shrSH:w,shrSL:O,rotrSH:S,rotrSL:B,rotrBH:N,rotrBL:U,rotr32H:A,rotr32L:G,rotlSH:L,rotlSL:z,rotlBH:ee,rotlBL:q,add:Z,add3L:J,add3H:se,add4L:ce,add4H:ae,add5H:he,add5L:fe}},89948:(Je,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.crypto=void 0,j.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hkdf=j.expand=j.extract=void 0;const y=_(68578),b=_(96492),P=_(44882);function H(N,U,A){return(0,y.hash)(N),void 0===A&&(A=new Uint8Array(N.outputLen)),(0,P.hmac)(N,(0,b.toBytes)(A),(0,b.toBytes)(U))}j.extract=H;const w=new Uint8Array([0]),O=new Uint8Array;function S(N,U,A,G=32){if((0,y.hash)(N),(0,y.number)(G),G>255*N.outputLen)throw new Error("Length should be <= 255*HashLen");const L=Math.ceil(G/N.outputLen);void 0===A&&(A=O);const z=new Uint8Array(L*N.outputLen),ee=P.hmac.create(N,U),q=ee._cloneInto(),Z=new Uint8Array(ee.outputLen);for(let J=0;J<L;J++)w[0]=J+1,q.update(0===J?O:Z).update(A).update(w).digestInto(Z),z.set(Z,N.outputLen*J),ee._cloneInto(q);return ee.destroy(),q.destroy(),Z.fill(0),w.fill(0),z.slice(0,G)}j.expand=S,j.hkdf=(N,U,A,G,L)=>S(N,H(N,U,A),G,L)},44882:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hmac=j.HMAC=void 0;const y=_(68578),b=_(96492);class P extends b.Hash{constructor(O,S){super(),this.finished=!1,this.destroyed=!1,(0,y.hash)(O);const B=(0,b.toBytes)(S);if(this.iHash=O.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const N=this.blockLen,U=new Uint8Array(N);U.set(B.length>N?O.create().update(B).digest():B);for(let A=0;A<U.length;A++)U[A]^=54;this.iHash.update(U),this.oHash=O.create();for(let A=0;A<U.length;A++)U[A]^=106;this.oHash.update(U),U.fill(0)}update(O){return(0,y.exists)(this),this.iHash.update(O),this}digestInto(O){(0,y.exists)(this),(0,y.bytes)(O,this.outputLen),this.finished=!0,this.iHash.digestInto(O),this.oHash.update(O),this.oHash.digestInto(O),this.destroy()}digest(){const O=new Uint8Array(this.oHash.outputLen);return this.digestInto(O),O}_cloneInto(O){O||(O=Object.create(Object.getPrototypeOf(this),{}));const{oHash:S,iHash:B,finished:N,destroyed:U,blockLen:A,outputLen:G}=this;return O.finished=N,O.destroyed=U,O.blockLen=A,O.outputLen=G,O.oHash=S._cloneInto(O.oHash),O.iHash=B._cloneInto(O.iHash),O}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}j.HMAC=P,j.hmac=(w,O,S)=>new P(w,O).update(S).digest(),j.hmac.create=(w,O)=>new P(w,O)},1806:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.sha224=j.sha256=void 0;const y=_(25724),b=_(96492),P=(U,A,G)=>U&A^~U&G,H=(U,A,G)=>U&A^U&G^A&G,w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),S=new Uint32Array(64);class B extends y.SHA2{constructor(){super(64,32,8,!1),this.A=0|O[0],this.B=0|O[1],this.C=0|O[2],this.D=0|O[3],this.E=0|O[4],this.F=0|O[5],this.G=0|O[6],this.H=0|O[7]}get(){const{A,B:G,C:L,D:z,E:ee,F:q,G:Z,H:J}=this;return[A,G,L,z,ee,q,Z,J]}set(A,G,L,z,ee,q,Z,J){this.A=0|A,this.B=0|G,this.C=0|L,this.D=0|z,this.E=0|ee,this.F=0|q,this.G=0|Z,this.H=0|J}process(A,G){for(let ae=0;ae<16;ae++,G+=4)S[ae]=A.getUint32(G,!1);for(let ae=16;ae<64;ae++){const fe=S[ae-15],he=S[ae-2],we=(0,b.rotr)(fe,7)^(0,b.rotr)(fe,18)^fe>>>3,Me=(0,b.rotr)(he,17)^(0,b.rotr)(he,19)^he>>>10;S[ae]=Me+S[ae-7]+we+S[ae-16]|0}let{A:L,B:z,C:ee,D:q,E:Z,F:J,G:se,H:ce}=this;for(let ae=0;ae<64;ae++){const he=ce+((0,b.rotr)(Z,6)^(0,b.rotr)(Z,11)^(0,b.rotr)(Z,25))+P(Z,J,se)+w[ae]+S[ae]|0,Me=((0,b.rotr)(L,2)^(0,b.rotr)(L,13)^(0,b.rotr)(L,22))+H(L,z,ee)|0;ce=se,se=J,J=Z,Z=q+he|0,q=ee,ee=z,z=L,L=he+Me|0}L=L+this.A|0,z=z+this.B|0,ee=ee+this.C|0,q=q+this.D|0,Z=Z+this.E|0,J=J+this.F|0,se=se+this.G|0,ce=ce+this.H|0,this.set(L,z,ee,q,Z,J,se,ce)}roundClean(){S.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class N extends B{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}j.sha256=(0,b.wrapConstructor)(()=>new B),j.sha224=(0,b.wrapConstructor)(()=>new N)},44207:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.sha384=j.sha512_256=j.sha512_224=j.sha512=j.SHA512=void 0;const y=_(25724),b=_(35059),P=_(96492),[H,w]=b.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(G=>BigInt(G))),O=new Uint32Array(80),S=new Uint32Array(80);class B extends y.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:L,Al:z,Bh:ee,Bl:q,Ch:Z,Cl:J,Dh:se,Dl:ce,Eh:ae,El:fe,Fh:he,Fl:we,Gh:Me,Gl:Pe,Hh:C,Hl:a}=this;return[L,z,ee,q,Z,J,se,ce,ae,fe,he,we,Me,Pe,C,a]}set(L,z,ee,q,Z,J,se,ce,ae,fe,he,we,Me,Pe,C,a){this.Ah=0|L,this.Al=0|z,this.Bh=0|ee,this.Bl=0|q,this.Ch=0|Z,this.Cl=0|J,this.Dh=0|se,this.Dl=0|ce,this.Eh=0|ae,this.El=0|fe,this.Fh=0|he,this.Fl=0|we,this.Gh=0|Me,this.Gl=0|Pe,this.Hh=0|C,this.Hl=0|a}process(L,z){for(let p=0;p<16;p++,z+=4)O[p]=L.getUint32(z),S[p]=L.getUint32(z+=4);for(let p=16;p<80;p++){const E=0|O[p-15],D=0|S[p-15],R=b.default.rotrSH(E,D,1)^b.default.rotrSH(E,D,8)^b.default.shrSH(E,D,7),x=b.default.rotrSL(E,D,1)^b.default.rotrSL(E,D,8)^b.default.shrSL(E,D,7),s=0|O[p-2],v=0|S[p-2],$=b.default.rotrSH(s,v,19)^b.default.rotrBH(s,v,61)^b.default.shrSH(s,v,6),F=b.default.rotrSL(s,v,19)^b.default.rotrBL(s,v,61)^b.default.shrSL(s,v,6),Q=b.default.add4L(x,F,S[p-7],S[p-16]),de=b.default.add4H(Q,R,$,O[p-7],O[p-16]);O[p]=0|de,S[p]=0|Q}let{Ah:ee,Al:q,Bh:Z,Bl:J,Ch:se,Cl:ce,Dh:ae,Dl:fe,Eh:he,El:we,Fh:Me,Fl:Pe,Gh:C,Gl:a,Hh:d,Hl:m}=this;for(let p=0;p<80;p++){const E=b.default.rotrSH(he,we,14)^b.default.rotrSH(he,we,18)^b.default.rotrBH(he,we,41),D=b.default.rotrSL(he,we,14)^b.default.rotrSL(he,we,18)^b.default.rotrBL(he,we,41),R=he&Me^~he&C,s=b.default.add5L(m,D,we&Pe^~we&a,w[p],S[p]),v=b.default.add5H(s,d,E,R,H[p],O[p]),$=0|s,F=b.default.rotrSH(ee,q,28)^b.default.rotrBH(ee,q,34)^b.default.rotrBH(ee,q,39),Q=b.default.rotrSL(ee,q,28)^b.default.rotrBL(ee,q,34)^b.default.rotrBL(ee,q,39),de=ee&Z^ee&se^Z&se,Ce=q&J^q&ce^J&ce;d=0|C,m=0|a,C=0|Me,a=0|Pe,Me=0|he,Pe=0|we,({h:he,l:we}=b.default.add(0|ae,0|fe,0|v,0|$)),ae=0|se,fe=0|ce,se=0|Z,ce=0|J,Z=0|ee,J=0|q;const Re=b.default.add3L($,Q,Ce);ee=b.default.add3H(Re,v,F,de),q=0|Re}({h:ee,l:q}=b.default.add(0|this.Ah,0|this.Al,0|ee,0|q)),({h:Z,l:J}=b.default.add(0|this.Bh,0|this.Bl,0|Z,0|J)),({h:se,l:ce}=b.default.add(0|this.Ch,0|this.Cl,0|se,0|ce)),({h:ae,l:fe}=b.default.add(0|this.Dh,0|this.Dl,0|ae,0|fe)),({h:he,l:we}=b.default.add(0|this.Eh,0|this.El,0|he,0|we)),({h:Me,l:Pe}=b.default.add(0|this.Fh,0|this.Fl,0|Me,0|Pe)),({h:C,l:a}=b.default.add(0|this.Gh,0|this.Gl,0|C,0|a)),({h:d,l:m}=b.default.add(0|this.Hh,0|this.Hl,0|d,0|m)),this.set(ee,q,Z,J,se,ce,ae,fe,he,we,Me,Pe,C,a,d,m)}roundClean(){O.fill(0),S.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}j.SHA512=B;class N extends B{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class U extends B{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class A extends B{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}j.sha512=(0,P.wrapConstructor)(()=>new B),j.sha512_224=(0,P.wrapConstructor)(()=>new N),j.sha512_256=(0,P.wrapConstructor)(()=>new U),j.sha384=(0,P.wrapConstructor)(()=>new A)},96492:(Je,j,_)=>{"use strict";var y=_(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.randomBytes=j.wrapXOFConstructorWithOpts=j.wrapConstructorWithOpts=j.wrapConstructor=j.checkOpts=j.Hash=j.concatBytes=j.toBytes=j.utf8ToBytes=j.asyncLoop=j.nextTick=j.hexToBytes=j.bytesToHex=j.isLE=j.rotr=j.createView=j.u32=j.u8=void 0;const b=_(89948);function w(Pe){return Pe instanceof Uint8Array||null!=Pe&&"object"==typeof Pe&&"Uint8Array"===Pe.constructor.name}if(j.u8=Pe=>new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength),j.u32=Pe=>new Uint32Array(Pe.buffer,Pe.byteOffset,Math.floor(Pe.byteLength/4)),j.createView=Pe=>new DataView(Pe.buffer,Pe.byteOffset,Pe.byteLength),j.rotr=(Pe,C)=>Pe<<32-C|Pe>>>C,j.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!j.isLE)throw new Error("Non little-endian hardware is not supported");const B=Array.from({length:256},(Pe,C)=>C.toString(16).padStart(2,"0"));j.bytesToHex=function N(Pe){if(!w(Pe))throw new Error("Uint8Array expected");let C="";for(let a=0;a<Pe.length;a++)C+=B[Pe[a]];return C};const U__0=48,U__9=57,U__A=65,U__F=70,U__a=97,U__f=102;function A(Pe){return Pe>=U__0&&Pe<=U__9?Pe-U__0:Pe>=U__A&&Pe<=U__F?Pe-(U__A-10):Pe>=U__a&&Pe<=U__f?Pe-(U__a-10):void 0}function ee(){return(ee=y(function*(Pe,C,a){let d=Date.now();for(let m=0;m<Pe;m++){a(m);const p=Date.now()-d;p>=0&&p<C||(yield(0,j.nextTick)(),d+=p)}})).apply(this,arguments)}function q(Pe){if("string"!=typeof Pe)throw new Error("utf8ToBytes expected string, got "+typeof Pe);return new Uint8Array((new TextEncoder).encode(Pe))}function Z(Pe){if("string"==typeof Pe&&(Pe=q(Pe)),!w(Pe))throw new Error("expected Uint8Array, got "+typeof Pe);return Pe}j.hexToBytes=function G(Pe){if("string"!=typeof Pe)throw new Error("hex string expected, got "+typeof Pe);const C=Pe.length,a=C/2;if(C%2)throw new Error("padded hex string expected, got unpadded hex of length "+C);const d=new Uint8Array(a);for(let m=0,p=0;m<a;m++,p+=2){const E=A(Pe.charCodeAt(p)),D=A(Pe.charCodeAt(p+1));if(void 0===E||void 0===D)throw new Error('hex string expected, got non-hex character "'+(Pe[p]+Pe[p+1])+'" at index '+p);d[m]=16*E+D}return d},j.nextTick=function(){var Pe=y(function*(){});return function(){return Pe.apply(this,arguments)}}(),j.asyncLoop=function z(Pe,C,a){return ee.apply(this,arguments)},j.utf8ToBytes=q,j.toBytes=Z,j.concatBytes=function J(...Pe){let C=0;for(let d=0;d<Pe.length;d++){const m=Pe[d];if(!w(m))throw new Error("Uint8Array expected");C+=m.length}const a=new Uint8Array(C);for(let d=0,m=0;d<Pe.length;d++){const p=Pe[d];a.set(p,m),m+=p.length}return a},j.Hash=class se{clone(){return this._cloneInto()}};const ce={}.toString;j.checkOpts=function ae(Pe,C){if(void 0!==C&&"[object Object]"!==ce.call(C))throw new Error("Options should be object or undefined");return Object.assign(Pe,C)},j.wrapConstructor=function fe(Pe){const C=d=>Pe().update(Z(d)).digest(),a=Pe();return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=()=>Pe(),C},j.wrapConstructorWithOpts=function he(Pe){const C=(d,m)=>Pe(m).update(Z(d)).digest(),a=Pe({});return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=d=>Pe(d),C},j.wrapXOFConstructorWithOpts=function we(Pe){const C=(d,m)=>Pe(m).update(Z(d)).digest(),a=Pe({});return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=d=>Pe(d),C},j.randomBytes=function Me(Pe=32){if(b.crypto&&"function"==typeof b.crypto.getRandomValues)return b.crypto.getRandomValues(new Uint8Array(Pe));throw new Error("crypto.getRandomValues must be defined")}},42064:(Je,j,_)=>{j.Level=_(23963).BrowserLevel},20844:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.MissingRefError=j.ValidationError=j.CodeGen=j.Name=j.nil=j.stringify=j.str=j._=j.KeywordCxt=void 0;const y=_(35419),b=_(98496),P=_(86980),H=_(87577),w="https://json-schema.org/draft/2020-12/schema";class O extends y.default{constructor(G={}){super({...G,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),b.default.forEach(G=>this.addVocabulary(G)),this.opts.discriminator&&this.addKeyword(P.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:G,meta:L}=this.opts;L&&(H.default.call(this,G),this.refs["http://json-schema.org/schema"]=w)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(w)?w:void 0)}}Je.exports=j=O,Object.defineProperty(j,"__esModule",{value:!0}),j.default=O;var S=_(40339);Object.defineProperty(j,"KeywordCxt",{enumerable:!0,get:function(){return S.KeywordCxt}});var B=_(1038);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return B._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return B.str}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return B.stringify}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return B.nil}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return B.Name}}),Object.defineProperty(j,"CodeGen",{enumerable:!0,get:function(){return B.CodeGen}});var N=_(42467);Object.defineProperty(j,"ValidationError",{enumerable:!0,get:function(){return N.default}});var U=_(26288);Object.defineProperty(j,"MissingRefError",{enumerable:!0,get:function(){return U.default}})},33337:(Je,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.regexpCode=j.getEsmExportName=j.getProperty=j.safeStringify=j.stringify=j.strConcat=j.addCodeArg=j.str=j._=j.nil=j._Code=j.Name=j.IDENTIFIER=j._CodeOrName=void 0;class _{}j._CodeOrName=_,j.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class y extends _{constructor(Z){if(super(),!j.IDENTIFIER.test(Z))throw new Error("CodeGen: name must be a valid identifier");this.str=Z}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}j.Name=y;class b extends _{constructor(Z){super(),this._items="string"==typeof Z?[Z]:Z}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const Z=this._items[0];return""===Z||'""'===Z}get str(){var Z;return null!==(Z=this._str)&&void 0!==Z?Z:this._str=this._items.reduce((J,se)=>`${J}${se}`,"")}get names(){var Z;return null!==(Z=this._names)&&void 0!==Z?Z:this._names=this._items.reduce((J,se)=>(se instanceof y&&(J[se.str]=(J[se.str]||0)+1),J),{})}}function P(q,...Z){const J=[q[0]];let se=0;for(;se<Z.length;)O(J,Z[se]),J.push(q[++se]);return new b(J)}j._Code=b,j.nil=new b(""),j._=P;const H=new b("+");function w(q,...Z){const J=[G(q[0])];let se=0;for(;se<Z.length;)J.push(H),O(J,Z[se]),J.push(H,G(q[++se]));return function S(q){let Z=1;for(;Z<q.length-1;){if(q[Z]===H){const J=B(q[Z-1],q[Z+1]);if(void 0!==J){q.splice(Z-1,3,J);continue}q[Z++]="+"}Z++}}(J),new b(J)}function O(q,Z){Z instanceof b?q.push(...Z._items):q.push(Z instanceof y?Z:function U(q){return"number"==typeof q||"boolean"==typeof q||null===q?q:G(Array.isArray(q)?q.join(","):q)}(Z))}function B(q,Z){return'""'===Z?q:'""'===q?Z:"string"==typeof q?Z instanceof y||'"'!==q[q.length-1]?void 0:"string"!=typeof Z?`${q.slice(0,-1)}${Z}"`:'"'===Z[0]?q.slice(0,-1)+Z.slice(1):void 0:"string"!=typeof Z||'"'!==Z[0]||q instanceof y?void 0:`"${q}${Z.slice(1)}`}function G(q){return JSON.stringify(q).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}j.str=w,j.addCodeArg=O,j.strConcat=function N(q,Z){return Z.emptyStr()?q:q.emptyStr()?Z:w`${q}${Z}`},j.stringify=function A(q){return new b(G(q))},j.safeStringify=G,j.getProperty=function L(q){return"string"==typeof q&&j.IDENTIFIER.test(q)?new b(`.${q}`):P`[${q}]`},j.getEsmExportName=function z(q){if("string"==typeof q&&j.IDENTIFIER.test(q))return new b(`${q}`);throw new Error(`CodeGen: invalid export name: ${q}, use explicit $id name mapping`)},j.regexpCode=function ee(q){return new b(q.toString())}},1038:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.or=j.and=j.not=j.CodeGen=j.operators=j.varKinds=j.ValueScopeName=j.ValueScope=j.Scope=j.Name=j.regexpCode=j.stringify=j.getProperty=j.nil=j.strConcat=j.str=j._=void 0;const y=_(33337),b=_(85934);var P=_(33337);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return P._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return P.str}}),Object.defineProperty(j,"strConcat",{enumerable:!0,get:function(){return P.strConcat}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return P.nil}}),Object.defineProperty(j,"getProperty",{enumerable:!0,get:function(){return P.getProperty}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return P.stringify}}),Object.defineProperty(j,"regexpCode",{enumerable:!0,get:function(){return P.regexpCode}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return P.Name}});var H=_(85934);Object.defineProperty(j,"Scope",{enumerable:!0,get:function(){return H.Scope}}),Object.defineProperty(j,"ValueScope",{enumerable:!0,get:function(){return H.ValueScope}}),Object.defineProperty(j,"ValueScopeName",{enumerable:!0,get:function(){return H.ValueScopeName}}),Object.defineProperty(j,"varKinds",{enumerable:!0,get:function(){return H.varKinds}}),j.operators={GT:new y._Code(">"),GTE:new y._Code(">="),LT:new y._Code("<"),LTE:new y._Code("<="),EQ:new y._Code("==="),NEQ:new y._Code("!=="),NOT:new y._Code("!"),OR:new y._Code("||"),AND:new y._Code("&&"),ADD:new y._Code("+")};class w{optimizeNodes(){return this}optimizeNames(Q,de){return this}}class O extends w{constructor(Q,de,Ce){super(),this.varKind=Q,this.name=de,this.rhs=Ce}render({es5:Q,_n:de}){return`${Q?b.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+de}optimizeNames(Q,de){if(Q[this.name.str])return this.rhs&&(this.rhs=m(this.rhs,Q,de)),this}get names(){return this.rhs instanceof y._CodeOrName?this.rhs.names:{}}}class S extends w{constructor(Q,de,Ce){super(),this.lhs=Q,this.rhs=de,this.sideEffects=Ce}render({_n:Q}){return`${this.lhs} = ${this.rhs};`+Q}optimizeNames(Q,de){if(!(this.lhs instanceof y.Name)||Q[this.lhs.str]||this.sideEffects)return this.rhs=m(this.rhs,Q,de),this}get names(){return d(this.lhs instanceof y.Name?{}:{...this.lhs.names},this.rhs)}}class B extends S{constructor(Q,de,Ce,Re){super(Q,Ce,Re),this.op=de}render({_n:Q}){return`${this.lhs} ${this.op}= ${this.rhs};`+Q}}class N extends w{constructor(Q){super(),this.label=Q,this.names={}}render({_n:Q}){return`${this.label}:`+Q}}class U extends w{constructor(Q){super(),this.label=Q,this.names={}}render({_n:Q}){return`break${this.label?` ${this.label}`:""};`+Q}}class A extends w{constructor(Q){super(),this.error=Q}render({_n:Q}){return`throw ${this.error};`+Q}get names(){return this.error.names}}class G extends w{constructor(Q){super(),this.code=Q}render({_n:Q}){return`${this.code};`+Q}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Q,de){return this.code=m(this.code,Q,de),this}get names(){return this.code instanceof y._CodeOrName?this.code.names:{}}}class L extends w{constructor(Q=[]){super(),this.nodes=Q}render(Q){return this.nodes.reduce((de,Ce)=>de+Ce.render(Q),"")}optimizeNodes(){const{nodes:Q}=this;let de=Q.length;for(;de--;){const Ce=Q[de].optimizeNodes();Array.isArray(Ce)?Q.splice(de,1,...Ce):Ce?Q[de]=Ce:Q.splice(de,1)}return Q.length>0?this:void 0}optimizeNames(Q,de){const{nodes:Ce}=this;let Re=Ce.length;for(;Re--;){const Ve=Ce[Re];Ve.optimizeNames(Q,de)||(p(Q,Ve.names),Ce.splice(Re,1))}return Ce.length>0?this:void 0}get names(){return this.nodes.reduce((Q,de)=>a(Q,de.names),{})}}class z extends L{render(Q){return"{"+Q._n+super.render(Q)+"}"+Q._n}}class ee extends L{}let q=(()=>{class F extends z{}return F.kind="else",F})(),Z=(()=>{class F extends z{constructor(de,Ce){super(Ce),this.condition=de}render(de){let Ce=`if(${this.condition})`+super.render(de);return this.else&&(Ce+="else "+this.else.render(de)),Ce}optimizeNodes(){super.optimizeNodes();const de=this.condition;if(!0===de)return this.nodes;let Ce=this.else;if(Ce){const Re=Ce.optimizeNodes();Ce=this.else=Array.isArray(Re)?new q(Re):Re}return Ce?!1===de?Ce instanceof F?Ce:Ce.nodes:this.nodes.length?this:new F(E(de),Ce instanceof F?[Ce]:Ce.nodes):!1!==de&&this.nodes.length?this:void 0}optimizeNames(de,Ce){var Re;if(this.else=null===(Re=this.else)||void 0===Re?void 0:Re.optimizeNames(de,Ce),super.optimizeNames(de,Ce)||this.else)return this.condition=m(this.condition,de,Ce),this}get names(){const de=super.names;return d(de,this.condition),this.else&&a(de,this.else.names),de}}return F.kind="if",F})(),J=(()=>{class F extends z{}return F.kind="for",F})();class se extends J{constructor(Q){super(),this.iteration=Q}render(Q){return`for(${this.iteration})`+super.render(Q)}optimizeNames(Q,de){if(super.optimizeNames(Q,de))return this.iteration=m(this.iteration,Q,de),this}get names(){return a(super.names,this.iteration.names)}}class ce extends J{constructor(Q,de,Ce,Re){super(),this.varKind=Q,this.name=de,this.from=Ce,this.to=Re}render(Q){const de=Q.es5?b.varKinds.var:this.varKind,{name:Ce,from:Re,to:Ve}=this;return`for(${de} ${Ce}=${Re}; ${Ce}<${Ve}; ${Ce}++)`+super.render(Q)}get names(){const Q=d(super.names,this.from);return d(Q,this.to)}}class ae extends J{constructor(Q,de,Ce,Re){super(),this.loop=Q,this.varKind=de,this.name=Ce,this.iterable=Re}render(Q){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Q)}optimizeNames(Q,de){if(super.optimizeNames(Q,de))return this.iterable=m(this.iterable,Q,de),this}get names(){return a(super.names,this.iterable.names)}}let fe=(()=>{class F extends z{constructor(de,Ce,Re){super(),this.name=de,this.args=Ce,this.async=Re}render(de){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(de)}}return F.kind="func",F})(),he=(()=>{class F extends L{render(de){return"return "+super.render(de)}}return F.kind="return",F})();class we extends z{render(Q){let de="try"+super.render(Q);return this.catch&&(de+=this.catch.render(Q)),this.finally&&(de+=this.finally.render(Q)),de}optimizeNodes(){var Q,de;return super.optimizeNodes(),null===(Q=this.catch)||void 0===Q||Q.optimizeNodes(),null===(de=this.finally)||void 0===de||de.optimizeNodes(),this}optimizeNames(Q,de){var Ce,Re;return super.optimizeNames(Q,de),null===(Ce=this.catch)||void 0===Ce||Ce.optimizeNames(Q,de),null===(Re=this.finally)||void 0===Re||Re.optimizeNames(Q,de),this}get names(){const Q=super.names;return this.catch&&a(Q,this.catch.names),this.finally&&a(Q,this.finally.names),Q}}let Me=(()=>{class F extends z{constructor(de){super(),this.error=de}render(de){return`catch(${this.error})`+super.render(de)}}return F.kind="catch",F})(),Pe=(()=>{class F extends z{render(de){return"finally"+super.render(de)}}return F.kind="finally",F})();function a(F,Q){for(const de in Q)F[de]=(F[de]||0)+(Q[de]||0);return F}function d(F,Q){return Q instanceof y._CodeOrName?a(F,Q.names):F}function m(F,Q,de){return F instanceof y.Name?Ce(F):function Re(Ve){return Ve instanceof y._Code&&Ve._items.some(Ee=>Ee instanceof y.Name&&1===Q[Ee.str]&&void 0!==de[Ee.str])}(F)?new y._Code(F._items.reduce((Ve,Ee)=>(Ee instanceof y.Name&&(Ee=Ce(Ee)),Ee instanceof y._Code?Ve.push(...Ee._items):Ve.push(Ee),Ve),[])):F;function Ce(Ve){const Ee=de[Ve.str];return void 0===Ee||1!==Q[Ve.str]?Ve:(delete Q[Ve.str],Ee)}}function p(F,Q){for(const de in Q)F[de]=(F[de]||0)-(Q[de]||0)}function E(F){return"boolean"==typeof F||"number"==typeof F||null===F?!F:y._`!${$(F)}`}j.CodeGen=class C{constructor(Q,de={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...de,_n:de.lines?"\n":""},this._extScope=Q,this._scope=new b.Scope({parent:Q}),this._nodes=[new ee]}toString(){return this._root.render(this.opts)}name(Q){return this._scope.name(Q)}scopeName(Q){return this._extScope.name(Q)}scopeValue(Q,de){const Ce=this._extScope.value(Q,de);return(this._values[Ce.prefix]||(this._values[Ce.prefix]=new Set)).add(Ce),Ce}getScopeValue(Q,de){return this._extScope.getValue(Q,de)}scopeRefs(Q){return this._extScope.scopeRefs(Q,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Q,de,Ce,Re){const Ve=this._scope.toName(de);return void 0!==Ce&&Re&&(this._constants[Ve.str]=Ce),this._leafNode(new O(Q,Ve,Ce)),Ve}const(Q,de,Ce){return this._def(b.varKinds.const,Q,de,Ce)}let(Q,de,Ce){return this._def(b.varKinds.let,Q,de,Ce)}var(Q,de,Ce){return this._def(b.varKinds.var,Q,de,Ce)}assign(Q,de,Ce){return this._leafNode(new S(Q,de,Ce))}add(Q,de){return this._leafNode(new B(Q,j.operators.ADD,de))}code(Q){return"function"==typeof Q?Q():Q!==y.nil&&this._leafNode(new G(Q)),this}object(...Q){const de=["{"];for(const[Ce,Re]of Q)de.length>1&&de.push(","),de.push(Ce),(Ce!==Re||this.opts.es5)&&(de.push(":"),(0,y.addCodeArg)(de,Re));return de.push("}"),new y._Code(de)}if(Q,de,Ce){if(this._blockNode(new Z(Q)),de&&Ce)this.code(de).else().code(Ce).endIf();else if(de)this.code(de).endIf();else if(Ce)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(Q){return this._elseNode(new Z(Q))}else(){return this._elseNode(new q)}endIf(){return this._endBlockNode(Z,q)}_for(Q,de){return this._blockNode(Q),de&&this.code(de).endFor(),this}for(Q,de){return this._for(new se(Q),de)}forRange(Q,de,Ce,Re,Ve=(this.opts.es5?b.varKinds.var:b.varKinds.let)){const Ee=this._scope.toName(Q);return this._for(new ce(Ve,Ee,de,Ce),()=>Re(Ee))}forOf(Q,de,Ce,Re=b.varKinds.const){const Ve=this._scope.toName(Q);if(this.opts.es5){const Ee=de instanceof y.Name?de:this.var("_arr",de);return this.forRange("_i",0,y._`${Ee}.length`,_e=>{this.var(Ve,y._`${Ee}[${_e}]`),Ce(Ve)})}return this._for(new ae("of",Re,Ve,de),()=>Ce(Ve))}forIn(Q,de,Ce,Re=(this.opts.es5?b.varKinds.var:b.varKinds.const)){if(this.opts.ownProperties)return this.forOf(Q,y._`Object.keys(${de})`,Ce);const Ve=this._scope.toName(Q);return this._for(new ae("in",Re,Ve,de),()=>Ce(Ve))}endFor(){return this._endBlockNode(J)}label(Q){return this._leafNode(new N(Q))}break(Q){return this._leafNode(new U(Q))}return(Q){const de=new he;if(this._blockNode(de),this.code(Q),1!==de.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(he)}try(Q,de,Ce){if(!de&&!Ce)throw new Error('CodeGen: "try" without "catch" and "finally"');const Re=new we;if(this._blockNode(Re),this.code(Q),de){const Ve=this.name("e");this._currNode=Re.catch=new Me(Ve),de(Ve)}return Ce&&(this._currNode=Re.finally=new Pe,this.code(Ce)),this._endBlockNode(Me,Pe)}throw(Q){return this._leafNode(new A(Q))}block(Q,de){return this._blockStarts.push(this._nodes.length),Q&&this.code(Q).endBlock(de),this}endBlock(Q){const de=this._blockStarts.pop();if(void 0===de)throw new Error("CodeGen: not in self-balancing block");const Ce=this._nodes.length-de;if(Ce<0||void 0!==Q&&Ce!==Q)throw new Error(`CodeGen: wrong number of nodes: ${Ce} vs ${Q} expected`);return this._nodes.length=de,this}func(Q,de=y.nil,Ce,Re){return this._blockNode(new fe(Q,de,Ce)),Re&&this.code(Re).endFunc(),this}endFunc(){return this._endBlockNode(fe)}optimize(Q=1){for(;Q-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Q){return this._currNode.nodes.push(Q),this}_blockNode(Q){this._currNode.nodes.push(Q),this._nodes.push(Q)}_endBlockNode(Q,de){const Ce=this._currNode;if(Ce instanceof Q||de&&Ce instanceof de)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${de?`${Q.kind}/${de.kind}`:Q.kind}"`)}_elseNode(Q){const de=this._currNode;if(!(de instanceof Z))throw new Error('CodeGen: "else" without "if"');return this._currNode=de.else=Q,this}get _root(){return this._nodes[0]}get _currNode(){const Q=this._nodes;return Q[Q.length-1]}set _currNode(Q){const de=this._nodes;de[de.length-1]=Q}},j.not=E;const D=v(j.operators.AND);j.and=function R(...F){return F.reduce(D)};const x=v(j.operators.OR);function v(F){return(Q,de)=>Q===y.nil?de:de===y.nil?Q:y._`${$(Q)} ${F} ${$(de)}`}function $(F){return F instanceof y.Name?F:y._`(${F})`}j.or=function s(...F){return F.reduce(x)}},85934:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ValueScope=j.ValueScopeName=j.Scope=j.varKinds=j.UsedValueState=void 0;const y=_(33337);class b extends Error{constructor(N){super(`CodeGen: "code" for ${N} not defined`),this.value=N.value}}var P,B;(B=P=j.UsedValueState||(j.UsedValueState={}))[B.Started=0]="Started",B[B.Completed=1]="Completed",j.varKinds={const:new y.Name("const"),let:new y.Name("let"),var:new y.Name("var")};class H{constructor({prefixes:N,parent:U}={}){this._names={},this._prefixes=N,this._parent=U}toName(N){return N instanceof y.Name?N:this.name(N)}name(N){return new y.Name(this._newName(N))}_newName(N){return`${N}${(this._names[N]||this._nameGroup(N)).index++}`}_nameGroup(N){var U,A;if(null!==(A=null===(U=this._parent)||void 0===U?void 0:U._prefixes)&&void 0!==A&&A.has(N)||this._prefixes&&!this._prefixes.has(N))throw new Error(`CodeGen: prefix "${N}" is not allowed in this scope`);return this._names[N]={prefix:N,index:0}}}j.Scope=H;class w extends y.Name{constructor(N,U){super(U),this.prefix=N}setValue(N,{property:U,itemIndex:A}){this.value=N,this.scopePath=y._`.${new y.Name(U)}[${A}]`}}j.ValueScopeName=w;const O=y._`\n`;j.ValueScope=class S extends H{constructor(N){super(N),this._values={},this._scope=N.scope,this.opts={...N,_n:N.lines?O:y.nil}}get(){return this._scope}name(N){return new w(N,this._newName(N))}value(N,U){var A;if(void 0===U.ref)throw new Error("CodeGen: ref must be passed in value");const G=this.toName(N),{prefix:L}=G,z=null!==(A=U.key)&&void 0!==A?A:U.ref;let ee=this._values[L];if(ee){const J=ee.get(z);if(J)return J}else ee=this._values[L]=new Map;ee.set(z,G);const q=this._scope[L]||(this._scope[L]=[]),Z=q.length;return q[Z]=U.ref,G.setValue(U,{property:L,itemIndex:Z}),G}getValue(N,U){const A=this._values[N];if(A)return A.get(U)}scopeRefs(N,U=this._values){return this._reduceValues(U,A=>{if(void 0===A.scopePath)throw new Error(`CodeGen: name "${A}" has no value`);return y._`${N}${A.scopePath}`})}scopeCode(N=this._values,U,A){return this._reduceValues(N,G=>{if(void 0===G.value)throw new Error(`CodeGen: name "${G}" has no value`);return G.value.code},U,A)}_reduceValues(N,U,A={},G){let L=y.nil;for(const z in N){const ee=N[z];if(!ee)continue;const q=A[z]=A[z]||new Map;ee.forEach(Z=>{if(q.has(Z))return;q.set(Z,P.Started);let J=U(Z);if(J)L=y._`${L}${this.opts.es5?j.varKinds.var:j.varKinds.const} ${Z} = ${J};${this.opts._n}`;else{if(!(J=G?.(Z)))throw new b(Z);L=y._`${L}${J}${this.opts._n}`}q.set(Z,P.Completed)})}return L}}},53421:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.extendErrors=j.resetErrorsCount=j.reportExtraError=j.reportError=j.keyword$DataError=j.keywordError=void 0;const y=_(1038),b=_(27006),P=_(23432);function B(q,Z){const J=q.const("err",Z);q.if(y._`${P.default.vErrors} === null`,()=>q.assign(P.default.vErrors,y._`[${J}]`),y._`${P.default.vErrors}.push(${J})`),q.code(y._`${P.default.errors}++`)}function N(q,Z){const{gen:J,validateName:se,schemaEnv:ce}=q;ce.$async?J.throw(y._`new ${q.ValidationError}(${Z})`):(J.assign(y._`${se}.errors`,Z),J.return(!1))}j.keywordError={message:({keyword:q})=>y.str`must pass "${q}" keyword validation`},j.keyword$DataError={message:({keyword:q,schemaType:Z})=>Z?y.str`"${q}" keyword must be ${Z} ($data)`:y.str`"${q}" keyword is invalid ($data)`},j.reportError=function H(q,Z=j.keywordError,J,se){const{it:ce}=q,{gen:ae,compositeRule:fe,allErrors:he}=ce,we=A(q,Z,J);se??(fe||he)?B(ae,we):N(ce,y._`[${we}]`)},j.reportExtraError=function w(q,Z=j.keywordError,J){const{it:se}=q,{gen:ce,compositeRule:ae,allErrors:fe}=se;B(ce,A(q,Z,J)),ae||fe||N(se,P.default.vErrors)},j.resetErrorsCount=function O(q,Z){q.assign(P.default.errors,Z),q.if(y._`${P.default.vErrors} !== null`,()=>q.if(Z,()=>q.assign(y._`${P.default.vErrors}.length`,Z),()=>q.assign(P.default.vErrors,null)))},j.extendErrors=function S({gen:q,keyword:Z,schemaValue:J,data:se,errsCount:ce,it:ae}){if(void 0===ce)throw new Error("ajv implementation error");const fe=q.name("err");q.forRange("i",ce,P.default.errors,he=>{q.const(fe,y._`${P.default.vErrors}[${he}]`),q.if(y._`${fe}.instancePath === undefined`,()=>q.assign(y._`${fe}.instancePath`,(0,y.strConcat)(P.default.instancePath,ae.errorPath))),q.assign(y._`${fe}.schemaPath`,y.str`${ae.errSchemaPath}/${Z}`),ae.opts.verbose&&(q.assign(y._`${fe}.schema`,J),q.assign(y._`${fe}.data`,se))})};const U={keyword:new y.Name("keyword"),schemaPath:new y.Name("schemaPath"),params:new y.Name("params"),propertyName:new y.Name("propertyName"),message:new y.Name("message"),schema:new y.Name("schema"),parentSchema:new y.Name("parentSchema")};function A(q,Z,J){const{createErrors:se}=q.it;return!1===se?y._`{}`:function G(q,Z,J={}){const{gen:se,it:ce}=q,ae=[L(ce,J),z(q,J)];return function ee(q,{params:Z,message:J},se){const{keyword:ce,data:ae,schemaValue:fe,it:he}=q,{opts:we,propertyName:Me,topSchemaRef:Pe,schemaPath:C}=he;se.push([U.keyword,ce],[U.params,"function"==typeof Z?Z(q):Z||y._`{}`]),we.messages&&se.push([U.message,"function"==typeof J?J(q):J]),we.verbose&&se.push([U.schema,fe],[U.parentSchema,y._`${Pe}${C}`],[P.default.data,ae]),Me&&se.push([U.propertyName,Me])}(q,Z,ae),se.object(...ae)}(q,Z,J)}function L({errorPath:q},{instancePath:Z}){const J=Z?y.str`${q}${(0,b.getErrorPath)(Z,b.Type.Str)}`:q;return[P.default.instancePath,(0,y.strConcat)(P.default.instancePath,J)]}function z({keyword:q,it:{errSchemaPath:Z}},{schemaPath:J,parentSchema:se}){let ce=se?Z:y.str`${Z}/${q}`;return J&&(ce=y.str`${ce}${(0,b.getErrorPath)(J,b.Type.Str)}`),[U.schemaPath,ce]}},97692:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.resolveSchema=j.getCompilingSchema=j.resolveRef=j.compileSchema=j.SchemaEnv=void 0;const y=_(1038),b=_(42467),P=_(23432),H=_(77172),w=_(27006),O=_(40339);class S{constructor(J){var se;let ce;this.refs={},this.dynamicAnchors={},"object"==typeof J.schema&&(ce=J.schema),this.schema=J.schema,this.schemaId=J.schemaId,this.root=J.root||this,this.baseId=null!==(se=J.baseId)&&void 0!==se?se:(0,H.normalizeId)(ce?.[J.schemaId||"$id"]),this.schemaPath=J.schemaPath,this.localRefs=J.localRefs,this.meta=J.meta,this.$async=ce?.$async,this.refs={}}}function B(Z){const J=A.call(this,Z);if(J)return J;const se=(0,H.getFullPath)(this.opts.uriResolver,Z.root.baseId),{es5:ce,lines:ae}=this.opts.code,{ownProperties:fe}=this.opts,he=new y.CodeGen(this.scope,{es5:ce,lines:ae,ownProperties:fe});let we;Z.$async&&(we=he.scopeValue("Error",{ref:b.default,code:y._`require("ajv/dist/runtime/validation_error").default`}));const Me=he.scopeName("validate");Z.validateName=Me;const Pe={gen:he,allErrors:this.opts.allErrors,data:P.default.data,parentData:P.default.parentData,parentDataProperty:P.default.parentDataProperty,dataNames:[P.default.data],dataPathArr:[y.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:he.scopeValue("schema",!0===this.opts.code.source?{ref:Z.schema,code:(0,y.stringify)(Z.schema)}:{ref:Z.schema}),validateName:Me,ValidationError:we,schema:Z.schema,schemaEnv:Z,rootId:se,baseId:Z.baseId||se,schemaPath:y.nil,errSchemaPath:Z.schemaPath||(this.opts.jtd?"":"#"),errorPath:y._`""`,opts:this.opts,self:this};let C;try{this._compilations.add(Z),(0,O.validateFunctionCode)(Pe),he.optimize(this.opts.code.optimize);const a=he.toString();C=`${he.scopeRefs(P.default.scope)}return ${a}`,this.opts.code.process&&(C=this.opts.code.process(C,Z));const m=new Function(`${P.default.self}`,`${P.default.scope}`,C)(this,this.scope.get());if(this.scope.value(Me,{ref:m}),m.errors=null,m.schema=Z.schema,m.schemaEnv=Z,Z.$async&&(m.$async=!0),!0===this.opts.code.source&&(m.source={validateName:Me,validateCode:a,scopeValues:he._values}),this.opts.unevaluated){const{props:p,items:E}=Pe;m.evaluated={props:p instanceof y.Name?void 0:p,items:E instanceof y.Name?void 0:E,dynamicProps:p instanceof y.Name,dynamicItems:E instanceof y.Name},m.source&&(m.source.evaluated=(0,y.stringify)(m.evaluated))}return Z.validate=m,Z}catch(a){throw delete Z.validate,delete Z.validateName,C&&this.logger.error("Error compiling schema, function code:",C),a}finally{this._compilations.delete(Z)}}function U(Z){return(0,H.inlineRef)(Z.schema,this.opts.inlineRefs)?Z.schema:Z.validate?Z:B.call(this,Z)}function A(Z){for(const J of this._compilations)if(G(J,Z))return J}function G(Z,J){return Z.schema===J.schema&&Z.root===J.root&&Z.baseId===J.baseId}function L(Z,J){let se;for(;"string"==typeof(se=this.refs[J]);)J=se;return se||this.schemas[J]||z.call(this,Z,J)}function z(Z,J){const se=this.opts.uriResolver.parse(J),ce=(0,H._getFullPath)(this.opts.uriResolver,se);let ae=(0,H.getFullPath)(this.opts.uriResolver,Z.baseId,void 0);if(Object.keys(Z.schema).length>0&&ce===ae)return q.call(this,se,Z);const fe=(0,H.normalizeId)(ce),he=this.refs[fe]||this.schemas[fe];if("string"==typeof he){const we=z.call(this,Z,he);return"object"!=typeof we?.schema?void 0:q.call(this,se,we)}if("object"==typeof he?.schema){if(he.validate||B.call(this,he),fe===(0,H.normalizeId)(J)){const{schema:we}=he,{schemaId:Me}=this.opts,Pe=we[Me];return Pe&&(ae=(0,H.resolveUrl)(this.opts.uriResolver,ae,Pe)),new S({schema:we,schemaId:Me,root:Z,baseId:ae})}return q.call(this,se,he)}}j.SchemaEnv=S,j.compileSchema=B,j.resolveRef=function N(Z,J,se){var ce;se=(0,H.resolveUrl)(this.opts.uriResolver,J,se);const ae=Z.refs[se];if(ae)return ae;let fe=L.call(this,Z,se);if(void 0===fe){const he=null===(ce=Z.localRefs)||void 0===ce?void 0:ce[se],{schemaId:we}=this.opts;he&&(fe=new S({schema:he,schemaId:we,root:Z,baseId:J}))}return void 0!==fe?Z.refs[se]=U.call(this,fe):void 0},j.getCompilingSchema=A,j.resolveSchema=z;const ee=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function q(Z,{baseId:J,schema:se,root:ce}){var ae;if("/"!==(null===(ae=Z.fragment)||void 0===ae?void 0:ae[0]))return;for(const we of Z.fragment.slice(1).split("/")){if("boolean"==typeof se)return;const Me=se[(0,w.unescapeFragment)(we)];if(void 0===Me)return;const Pe="object"==typeof(se=Me)&&se[this.opts.schemaId];!ee.has(we)&&Pe&&(J=(0,H.resolveUrl)(this.opts.uriResolver,J,Pe))}let fe;if("boolean"!=typeof se&&se.$ref&&!(0,w.schemaHasRulesButRef)(se,this.RULES)){const we=(0,H.resolveUrl)(this.opts.uriResolver,J,se.$ref);fe=z.call(this,ce,we)}const{schemaId:he}=this.opts;return fe=fe||new S({schema:se,schemaId:he,root:ce,baseId:J}),fe.schema!==fe.root.schema?fe:void 0}},23432:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b={data:new y.Name("data"),valCxt:new y.Name("valCxt"),instancePath:new y.Name("instancePath"),parentData:new y.Name("parentData"),parentDataProperty:new y.Name("parentDataProperty"),rootData:new y.Name("rootData"),dynamicAnchors:new y.Name("dynamicAnchors"),vErrors:new y.Name("vErrors"),errors:new y.Name("errors"),this:new y.Name("this"),self:new y.Name("self"),scope:new y.Name("scope"),json:new y.Name("json"),jsonPos:new y.Name("jsonPos"),jsonLen:new y.Name("jsonLen"),jsonPart:new y.Name("jsonPart")};j.default=b},26288:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(77172);class b extends Error{constructor(H,w,O,S){super(S||`can't resolve reference ${O} from id ${w}`),this.missingRef=(0,y.resolveUrl)(H,w,O),this.missingSchema=(0,y.normalizeId)((0,y.getFullPath)(H,this.missingRef))}}j.default=b},77172:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getSchemaRefs=j.resolveUrl=j.normalizeId=j._getFullPath=j.getFullPath=j.inlineRef=void 0;const y=_(27006),b=_(40362),P=_(44331),H=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);j.inlineRef=function w(q,Z=!0){return"boolean"==typeof q||(!0===Z?!S(q):!!Z&&B(q)<=Z)};const O=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function S(q){for(const Z in q){if(O.has(Z))return!0;const J=q[Z];if(Array.isArray(J)&&J.some(S)||"object"==typeof J&&S(J))return!0}return!1}function B(q){let Z=0;for(const J in q){if("$ref"===J)return 1/0;if(Z++,!H.has(J)&&("object"==typeof q[J]&&(0,y.eachItem)(q[J],se=>Z+=B(se)),Z===1/0))return 1/0}return Z}function N(q,Z="",J){!1!==J&&(Z=G(Z));const se=q.parse(Z);return U(q,se)}function U(q,Z){return q.serialize(Z).split("#")[0]+"#"}j.getFullPath=N,j._getFullPath=U;const A=/#\/?$/;function G(q){return q?q.replace(A,""):""}j.normalizeId=G,j.resolveUrl=function L(q,Z,J){return J=G(J),q.resolve(Z,J)};const z=/^[a-z_][-a-z0-9._]*$/i;j.getSchemaRefs=function ee(q,Z){if("boolean"==typeof q)return{};const{schemaId:J,uriResolver:se}=this.opts,ce=G(q[J]||Z),ae={"":ce},fe=N(se,ce,!1),he={},we=new Set;return P(q,{allKeys:!0},(C,a,d,m)=>{if(void 0===m)return;const p=fe+a;let E=ae[m];function D(x){if(x=G(E?(0,this.opts.uriResolver.resolve)(E,x):x),we.has(x))throw Pe(x);we.add(x);let v=this.refs[x];return"string"==typeof v&&(v=this.refs[v]),"object"==typeof v?Me(C,v.schema,x):x!==G(p)&&("#"===x[0]?(Me(C,he[x],x),he[x]=C):this.refs[x]=p),x}function R(x){if("string"==typeof x){if(!z.test(x))throw new Error(`invalid anchor "${x}"`);D.call(this,`#${x}`)}}"string"==typeof C[J]&&(E=D.call(this,C[J])),R.call(this,C.$anchor),R.call(this,C.$dynamicAnchor),ae[a]=E}),he;function Me(C,a,d){if(void 0!==a&&!b(C,a))throw Pe(d)}function Pe(C){return new Error(`reference "${C}" resolves to more than one schema`)}}},32203:(Je,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getRules=j.isJSONType=void 0;const y=new Set(["string","number","integer","boolean","null","object","array"]);j.isJSONType=function b(H){return"string"==typeof H&&y.has(H)},j.getRules=function P(){const H={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...H,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},H.number,H.string,H.array,H.object],post:{rules:[]},all:{},keywords:{}}}},27006:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.checkStrictMode=j.getErrorPath=j.Type=j.useFunc=j.setEvaluated=j.evaluatedPropsToName=j.mergeEvaluated=j.eachItem=j.unescapeJsonPointer=j.escapeJsonPointer=j.escapeFragment=j.unescapeFragment=j.schemaRefOrVal=j.schemaHasRulesButRef=j.schemaHasRules=j.checkUnknownRules=j.alwaysValidSchema=j.toHash=void 0;const y=_(1038),b=_(33337);function w(fe,he=fe.schema){const{opts:we,self:Me}=fe;if(!we.strictSchema||"boolean"==typeof he)return;const Pe=Me.RULES.keywords;for(const C in he)Pe[C]||ae(fe,`unknown keyword: "${C}"`)}function O(fe,he){if("boolean"==typeof fe)return!fe;for(const we in fe)if(he[we])return!0;return!1}function A(fe){return"number"==typeof fe?`${fe}`:fe.replace(/~/g,"~0").replace(/\//g,"~1")}function G(fe){return fe.replace(/~1/g,"/").replace(/~0/g,"~")}function z({mergeNames:fe,mergeToName:he,mergeValues:we,resultToName:Me}){return(Pe,C,a,d)=>{const m=void 0===a?C:a instanceof y.Name?(C instanceof y.Name?fe(Pe,C,a):he(Pe,C,a),a):C instanceof y.Name?(he(Pe,a,C),C):we(C,a);return d!==y.Name||m instanceof y.Name?m:Me(Pe,m)}}function ee(fe,he){if(!0===he)return fe.var("props",!0);const we=fe.var("props",y._`{}`);return void 0!==he&&q(fe,we,he),we}function q(fe,he,we){Object.keys(we).forEach(Me=>fe.assign(y._`${he}${(0,y.getProperty)(Me)}`,!0))}j.toHash=function P(fe){const he={};for(const we of fe)he[we]=!0;return he},j.alwaysValidSchema=function H(fe,he){return"boolean"==typeof he?he:0===Object.keys(he).length||(w(fe,he),!O(he,fe.self.RULES.all))},j.checkUnknownRules=w,j.schemaHasRules=O,j.schemaHasRulesButRef=function S(fe,he){if("boolean"==typeof fe)return!fe;for(const we in fe)if("$ref"!==we&&he.all[we])return!0;return!1},j.schemaRefOrVal=function B({topSchemaRef:fe,schemaPath:he},we,Me,Pe){if(!Pe){if("number"==typeof we||"boolean"==typeof we)return we;if("string"==typeof we)return y._`${we}`}return y._`${fe}${he}${(0,y.getProperty)(Me)}`},j.unescapeFragment=function N(fe){return G(decodeURIComponent(fe))},j.escapeFragment=function U(fe){return encodeURIComponent(A(fe))},j.escapeJsonPointer=A,j.unescapeJsonPointer=G,j.eachItem=function L(fe,he){if(Array.isArray(fe))for(const we of fe)he(we);else he(fe)},j.mergeEvaluated={props:z({mergeNames:(fe,he,we)=>fe.if(y._`${we} !== true && ${he} !== undefined`,()=>{fe.if(y._`${he} === true`,()=>fe.assign(we,!0),()=>fe.assign(we,y._`${we} || {}`).code(y._`Object.assign(${we}, ${he})`))}),mergeToName:(fe,he,we)=>fe.if(y._`${we} !== true`,()=>{!0===he?fe.assign(we,!0):(fe.assign(we,y._`${we} || {}`),q(fe,we,he))}),mergeValues:(fe,he)=>!0===fe||{...fe,...he},resultToName:ee}),items:z({mergeNames:(fe,he,we)=>fe.if(y._`${we} !== true && ${he} !== undefined`,()=>fe.assign(we,y._`${he} === true ? true : ${we} > ${he} ? ${we} : ${he}`)),mergeToName:(fe,he,we)=>fe.if(y._`${we} !== true`,()=>fe.assign(we,!0===he||y._`${we} > ${he} ? ${we} : ${he}`)),mergeValues:(fe,he)=>!0===fe||Math.max(fe,he),resultToName:(fe,he)=>fe.var("items",he)})},j.evaluatedPropsToName=ee,j.setEvaluated=q;const Z={};var se,fe;function ae(fe,he,we=fe.opts.strictSchema){if(we){if(he=`strict mode: ${he}`,!0===we)throw new Error(he);fe.self.logger.warn(he)}}j.useFunc=function J(fe,he){return fe.scopeValue("func",{ref:he,code:Z[he.code]||(Z[he.code]=new b._Code(he.code))})},(fe=se=j.Type||(j.Type={}))[fe.Num=0]="Num",fe[fe.Str=1]="Str",j.getErrorPath=function ce(fe,he,we){if(fe instanceof y.Name){const Me=he===se.Num;return we?Me?y._`"[" + ${fe} + "]"`:y._`"['" + ${fe} + "']"`:Me?y._`"/" + ${fe}`:y._`"/" + ${fe}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return we?(0,y.getProperty)(fe).toString():"/"+A(fe)},j.checkStrictMode=ae},22650:(Je,j)=>{"use strict";function y(P,H){return H.rules.some(w=>b(P,w))}function b(P,H){var w;return void 0!==P[H.keyword]||(null===(w=H.definition.implements)||void 0===w?void 0:w.some(O=>void 0!==P[O]))}Object.defineProperty(j,"__esModule",{value:!0}),j.shouldUseRule=j.shouldUseGroup=j.schemaHasRulesForType=void 0,j.schemaHasRulesForType=function _({schema:P,self:H},w){const O=H.RULES.types[w];return O&&!0!==O&&y(P,O)},j.shouldUseGroup=y,j.shouldUseRule=b},37864:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.boolOrEmptySchema=j.topBoolOrEmptySchema=void 0;const y=_(53421),b=_(1038),P=_(23432),H={message:"boolean schema is false"};function S(B,N){const{gen:U,data:A}=B;(0,y.reportError)({gen:U,keyword:"false schema",data:A,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:B},H,void 0,N)}j.topBoolOrEmptySchema=function w(B){const{gen:N,schema:U,validateName:A}=B;!1===U?S(B,!1):"object"==typeof U&&!0===U.$async?N.return(P.default.data):(N.assign(b._`${A}.errors`,null),N.return(!0))},j.boolOrEmptySchema=function O(B,N){const{gen:U,schema:A}=B;!1===A?(U.var(N,!1),S(B)):U.var(N,!0)}},55999:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.reportTypeError=j.checkDataTypes=j.checkDataType=j.coerceAndCheckDataType=j.getJSONTypes=j.getSchemaTypes=j.DataType=void 0;const y=_(32203),b=_(22650),P=_(53421),H=_(1038),w=_(27006);var O,se;function B(se){const ce=Array.isArray(se)?se:se?[se]:[];if(ce.every(y.isJSONType))return ce;throw new Error("type must be JSONType or JSONType[]: "+ce.join(","))}(se=O=j.DataType||(j.DataType={}))[se.Correct=0]="Correct",se[se.Wrong=1]="Wrong",j.getSchemaTypes=function S(se){const ce=B(se.type);if(ce.includes("null")){if(!1===se.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!ce.length&&void 0!==se.nullable)throw new Error('"nullable" cannot be used without "type"');!0===se.nullable&&ce.push("null")}return ce},j.getJSONTypes=B,j.coerceAndCheckDataType=function N(se,ce){const{gen:ae,data:fe,opts:he}=se,we=function A(se,ce){return ce?se.filter(ae=>U.has(ae)||"array"===ce&&"array"===ae):[]}(ce,he.coerceTypes),Me=ce.length>0&&!(0===we.length&&1===ce.length&&(0,b.schemaHasRulesForType)(se,ce[0]));if(Me){const Pe=ee(ce,fe,he.strictNumbers,O.Wrong);ae.if(Pe,()=>{we.length?function G(se,ce,ae){const{gen:fe,data:he,opts:we}=se,Me=fe.let("dataType",H._`typeof ${he}`),Pe=fe.let("coerced",H._`undefined`);"array"===we.coerceTypes&&fe.if(H._`${Me} == 'object' && Array.isArray(${he}) && ${he}.length == 1`,()=>fe.assign(he,H._`${he}[0]`).assign(Me,H._`typeof ${he}`).if(ee(ce,he,we.strictNumbers),()=>fe.assign(Pe,he))),fe.if(H._`${Pe} !== undefined`);for(const a of ae)(U.has(a)||"array"===a&&"array"===we.coerceTypes)&&C(a);function C(a){switch(a){case"string":return void fe.elseIf(H._`${Me} == "number" || ${Me} == "boolean"`).assign(Pe,H._`"" + ${he}`).elseIf(H._`${he} === null`).assign(Pe,H._`""`);case"number":return void fe.elseIf(H._`${Me} == "boolean" || ${he} === null
              || (${Me} == "string" && ${he} && ${he} == +${he})`).assign(Pe,H._`+${he}`);case"integer":return void fe.elseIf(H._`${Me} === "boolean" || ${he} === null
              || (${Me} === "string" && ${he} && ${he} == +${he} && !(${he} % 1))`).assign(Pe,H._`+${he}`);case"boolean":return void fe.elseIf(H._`${he} === "false" || ${he} === 0 || ${he} === null`).assign(Pe,!1).elseIf(H._`${he} === "true" || ${he} === 1`).assign(Pe,!0);case"null":return fe.elseIf(H._`${he} === "" || ${he} === 0 || ${he} === false`),void fe.assign(Pe,null);case"array":fe.elseIf(H._`${Me} === "string" || ${Me} === "number"
              || ${Me} === "boolean" || ${he} === null`).assign(Pe,H._`[${he}]`)}}fe.else(),Z(se),fe.endIf(),fe.if(H._`${Pe} !== undefined`,()=>{fe.assign(he,Pe),function L({gen:se,parentData:ce,parentDataProperty:ae},fe){se.if(H._`${ce} !== undefined`,()=>se.assign(H._`${ce}[${ae}]`,fe))}(se,Pe)})}(se,ce,we):Z(se)})}return Me};const U=new Set(["string","number","integer","boolean","null"]);function z(se,ce,ae,fe=O.Correct){const he=fe===O.Correct?H.operators.EQ:H.operators.NEQ;let we;switch(se){case"null":return H._`${ce} ${he} null`;case"array":we=H._`Array.isArray(${ce})`;break;case"object":we=H._`${ce} && typeof ${ce} == "object" && !Array.isArray(${ce})`;break;case"integer":we=Me(H._`!(${ce} % 1) && !isNaN(${ce})`);break;case"number":we=Me();break;default:return H._`typeof ${ce} ${he} ${se}`}return fe===O.Correct?we:(0,H.not)(we);function Me(Pe=H.nil){return(0,H.and)(H._`typeof ${ce} == "number"`,Pe,ae?H._`isFinite(${ce})`:H.nil)}}function ee(se,ce,ae,fe){if(1===se.length)return z(se[0],ce,ae,fe);let he;const we=(0,w.toHash)(se);if(we.array&&we.object){const Me=H._`typeof ${ce} != "object"`;he=we.null?Me:H._`!${ce} || ${Me}`,delete we.null,delete we.array,delete we.object}else he=H.nil;we.number&&delete we.integer;for(const Me in we)he=(0,H.and)(he,z(Me,ce,ae,fe));return he}j.checkDataType=z,j.checkDataTypes=ee;const q={message:({schema:se})=>`must be ${se}`,params:({schema:se,schemaValue:ce})=>"string"==typeof se?H._`{type: ${se}}`:H._`{type: ${ce}}`};function Z(se){const ce=function J(se){const{gen:ce,data:ae,schema:fe}=se,he=(0,w.schemaRefOrVal)(se,fe,"type");return{gen:ce,keyword:"type",data:ae,schema:fe.type,schemaCode:he,schemaValue:he,parentSchema:fe,params:{},it:se}}(se);(0,P.reportError)(ce,q)}j.reportTypeError=Z},48733:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.assignDefaults=void 0;const y=_(1038),b=_(27006);function H(w,O,S){const{gen:B,compositeRule:N,data:U,opts:A}=w;if(void 0===S)return;const G=y._`${U}${(0,y.getProperty)(O)}`;if(N)return void(0,b.checkStrictMode)(w,`default is ignored for: ${G}`);let L=y._`${G} === undefined`;"empty"===A.useDefaults&&(L=y._`${L} || ${G} === null || ${G} === ""`),B.if(L,y._`${G} = ${(0,y.stringify)(S)}`)}j.assignDefaults=function P(w,O){const{properties:S,items:B}=w.schema;if("object"===O&&S)for(const N in S)H(w,N,S[N].default);else"array"===O&&Array.isArray(B)&&B.forEach((N,U)=>H(w,U,N.default))}},40339:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getData=j.KeywordCxt=j.validateFunctionCode=void 0;const y=_(37864),b=_(55999),P=_(22650),H=_(55999),w=_(48733),O=_(76800),S=_(16334),B=_(1038),N=_(23432),U=_(77172),A=_(27006),G=_(53421);function z({gen:be,validateName:Ae,schema:ge,schemaEnv:me,opts:te},ne){te.code.es5?be.func(Ae,B._`${N.default.data}, ${N.default.valCxt}`,me.$async,()=>{be.code(B._`"use strict"; ${se(ge,te)}`),function q(be,Ae){be.if(N.default.valCxt,()=>{be.var(N.default.instancePath,B._`${N.default.valCxt}.${N.default.instancePath}`),be.var(N.default.parentData,B._`${N.default.valCxt}.${N.default.parentData}`),be.var(N.default.parentDataProperty,B._`${N.default.valCxt}.${N.default.parentDataProperty}`),be.var(N.default.rootData,B._`${N.default.valCxt}.${N.default.rootData}`),Ae.dynamicRef&&be.var(N.default.dynamicAnchors,B._`${N.default.valCxt}.${N.default.dynamicAnchors}`)},()=>{be.var(N.default.instancePath,B._`""`),be.var(N.default.parentData,B._`undefined`),be.var(N.default.parentDataProperty,B._`undefined`),be.var(N.default.rootData,N.default.data),Ae.dynamicRef&&be.var(N.default.dynamicAnchors,B._`{}`)})}(be,te),be.code(ne)}):be.func(Ae,B._`${N.default.data}, ${function ee(be){return B._`{${N.default.instancePath}="", ${N.default.parentData}, ${N.default.parentDataProperty}, ${N.default.rootData}=${N.default.data}${be.dynamicRef?B._`, ${N.default.dynamicAnchors}={}`:B.nil}}={}`}(te)}`,me.$async,()=>be.code(se(ge,te)).code(ne))}function se(be,Ae){const ge="object"==typeof be&&be[Ae.schemaId];return ge&&(Ae.code.source||Ae.code.process)?B._`/*# sourceURL=${ge} */`:B.nil}function ae({schema:be,self:Ae}){if("boolean"==typeof be)return!be;for(const ge in be)if(Ae.RULES.all[ge])return!0;return!1}function fe(be){return"boolean"!=typeof be.schema}function we(be){(0,A.checkUnknownRules)(be),function Pe(be){const{schema:Ae,errSchemaPath:ge,opts:me,self:te}=be;Ae.$ref&&me.ignoreKeywordsWithRef&&(0,A.schemaHasRulesButRef)(Ae,te.RULES)&&te.logger.warn(`$ref: keywords ignored in schema at path "${ge}"`)}(be)}function Me(be,Ae){if(be.opts.jtd)return D(be,[],!1,Ae);const ge=(0,b.getSchemaTypes)(be.schema);D(be,ge,!(0,b.coerceAndCheckDataType)(be,ge),Ae)}function m({gen:be,schemaEnv:Ae,schema:ge,errSchemaPath:me,opts:te}){const ne=ge.$comment;if(!0===te.$comment)be.code(B._`${N.default.self}.logger.log(${ne})`);else if("function"==typeof te.$comment){const ue=B.str`${me}/$comment`,De=be.scopeValue("root",{ref:Ae.root});be.code(B._`${N.default.self}.opts.$comment(${ne}, ${ue}, ${De}.schema)`)}}function D(be,Ae,ge,me){const{gen:te,schema:ne,data:ue,allErrors:De,opts:Be,self:Qe}=be,{RULES:ze}=Qe;function Dt(Xe){(0,P.shouldUseGroup)(ne,Xe)&&(Xe.type?(te.if((0,H.checkDataType)(Xe.type,ue,Be.strictNumbers)),R(be,Xe),1===Ae.length&&Ae[0]===Xe.type&&ge&&(te.else(),(0,H.reportTypeError)(be)),te.endIf()):R(be,Xe),De||te.if(B._`${N.default.errors} === ${me||0}`))}!ne.$ref||!Be.ignoreKeywordsWithRef&&(0,A.schemaHasRulesButRef)(ne,ze)?(Be.jtd||function x(be,Ae){be.schemaEnv.meta||!be.opts.strictTypes||(function s(be,Ae){if(Ae.length){if(!be.dataTypes.length)return void(be.dataTypes=Ae);Ae.forEach(ge=>{Q(be.dataTypes,ge)||Ce(be,`type "${ge}" not allowed by context "${be.dataTypes.join(",")}"`)}),function de(be,Ae){const ge=[];for(const me of be.dataTypes)Q(Ae,me)?ge.push(me):Ae.includes("integer")&&"number"===me&&ge.push("integer");be.dataTypes=ge}(be,Ae)}}(be,Ae),be.opts.allowUnionTypes||function v(be,Ae){Ae.length>1&&(2!==Ae.length||!Ae.includes("null"))&&Ce(be,"use allowUnionTypes to allow union type keyword")}(be,Ae),function $(be,Ae){const ge=be.self.RULES.all;for(const me in ge){const te=ge[me];if("object"==typeof te&&(0,P.shouldUseRule)(be.schema,te)){const{type:ne}=te.definition;ne.length&&!ne.some(ue=>F(Ae,ue))&&Ce(be,`missing type "${ne.join(",")}" for keyword "${me}"`)}}}(be,be.dataTypes))}(be,Ae),te.block(()=>{for(const Xe of ze.rules)Dt(Xe);Dt(ze.post)})):te.block(()=>Ve(be,"$ref",ze.all.$ref.definition))}function R(be,Ae){const{gen:ge,schema:me,opts:{useDefaults:te}}=be;te&&(0,w.assignDefaults)(be,Ae.type),ge.block(()=>{for(const ne of Ae.rules)(0,P.shouldUseRule)(me,ne)&&Ve(be,ne.keyword,ne.definition,Ae.type)})}function F(be,Ae){return be.includes(Ae)||"number"===Ae&&be.includes("integer")}function Q(be,Ae){return be.includes(Ae)||"integer"===Ae&&be.includes("number")}function Ce(be,Ae){(0,A.checkStrictMode)(be,Ae+=` at "${be.schemaEnv.baseId+be.errSchemaPath}" (strictTypes)`,be.opts.strictTypes)}j.validateFunctionCode=function L(be){fe(be)&&(we(be),ae(be))?function Z(be){const{schema:Ae,opts:ge,gen:me}=be;z(be,()=>{ge.$comment&&Ae.$comment&&m(be),function C(be){const{schema:Ae,opts:ge}=be;void 0!==Ae.default&&ge.useDefaults&&ge.strictSchema&&(0,A.checkStrictMode)(be,"default is ignored in the schema root")}(be),me.let(N.default.vErrors,null),me.let(N.default.errors,0),ge.unevaluated&&function J(be){const{gen:Ae,validateName:ge}=be;be.evaluated=Ae.const("evaluated",B._`${ge}.evaluated`),Ae.if(B._`${be.evaluated}.dynamicProps`,()=>Ae.assign(B._`${be.evaluated}.props`,B._`undefined`)),Ae.if(B._`${be.evaluated}.dynamicItems`,()=>Ae.assign(B._`${be.evaluated}.items`,B._`undefined`))}(be),Me(be),function p(be){const{gen:Ae,schemaEnv:ge,validateName:me,ValidationError:te,opts:ne}=be;ge.$async?Ae.if(B._`${N.default.errors} === 0`,()=>Ae.return(N.default.data),()=>Ae.throw(B._`new ${te}(${N.default.vErrors})`)):(Ae.assign(B._`${me}.errors`,N.default.vErrors),ne.unevaluated&&function E({gen:be,evaluated:Ae,props:ge,items:me}){ge instanceof B.Name&&be.assign(B._`${Ae}.props`,ge),me instanceof B.Name&&be.assign(B._`${Ae}.items`,me)}(be),Ae.return(B._`${N.default.errors} === 0`))}(be)})}(be):z(be,()=>(0,y.topBoolOrEmptySchema)(be))};class Re{constructor(Ae,ge,me){if((0,O.validateKeywordUsage)(Ae,ge,me),this.gen=Ae.gen,this.allErrors=Ae.allErrors,this.keyword=me,this.data=Ae.data,this.schema=Ae.schema[me],this.$data=ge.$data&&Ae.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,A.schemaRefOrVal)(Ae,this.schema,me,this.$data),this.schemaType=ge.schemaType,this.parentSchema=Ae.schema,this.params={},this.it=Ae,this.def=ge,this.$data)this.schemaCode=Ae.gen.const("vSchema",Fe(this.$data,Ae));else if(this.schemaCode=this.schemaValue,!(0,O.validSchemaType)(this.schema,ge.schemaType,ge.allowUndefined))throw new Error(`${me} value must be ${JSON.stringify(ge.schemaType)}`);("code"in ge?ge.trackErrors:!1!==ge.errors)&&(this.errsCount=Ae.gen.const("_errs",N.default.errors))}result(Ae,ge,me){this.failResult((0,B.not)(Ae),ge,me)}failResult(Ae,ge,me){this.gen.if(Ae),me?me():this.error(),ge?(this.gen.else(),ge(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Ae,ge){this.failResult((0,B.not)(Ae),void 0,ge)}fail(Ae){if(void 0===Ae)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Ae),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Ae){if(!this.$data)return this.fail(Ae);const{schemaCode:ge}=this;this.fail(B._`${ge} !== undefined && (${(0,B.or)(this.invalid$data(),Ae)})`)}error(Ae,ge,me){if(ge)return this.setParams(ge),this._error(Ae,me),void this.setParams({});this._error(Ae,me)}_error(Ae,ge){(Ae?G.reportExtraError:G.reportError)(this,this.def.error,ge)}$dataError(){(0,G.reportError)(this,this.def.$dataError||G.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,G.resetErrorsCount)(this.gen,this.errsCount)}ok(Ae){this.allErrors||this.gen.if(Ae)}setParams(Ae,ge){ge?Object.assign(this.params,Ae):this.params=Ae}block$data(Ae,ge,me=B.nil){this.gen.block(()=>{this.check$data(Ae,me),ge()})}check$data(Ae=B.nil,ge=B.nil){if(!this.$data)return;const{gen:me,schemaCode:te,schemaType:ne,def:ue}=this;me.if((0,B.or)(B._`${te} === undefined`,ge)),Ae!==B.nil&&me.assign(Ae,!0),(ne.length||ue.validateSchema)&&(me.elseIf(this.invalid$data()),this.$dataError(),Ae!==B.nil&&me.assign(Ae,!1)),me.else()}invalid$data(){const{gen:Ae,schemaCode:ge,schemaType:me,def:te,it:ne}=this;return(0,B.or)(function ue(){if(me.length){if(!(ge instanceof B.Name))throw new Error("ajv implementation error");const Be=Array.isArray(me)?me:[me];return B._`${(0,H.checkDataTypes)(Be,ge,ne.opts.strictNumbers,H.DataType.Wrong)}`}return B.nil}(),function De(){if(te.validateSchema){const Be=Ae.scopeValue("validate$data",{ref:te.validateSchema});return B._`!${Be}(${ge})`}return B.nil}())}subschema(Ae,ge){const me=(0,S.getSubschema)(this.it,Ae);(0,S.extendSubschemaData)(me,this.it,Ae),(0,S.extendSubschemaMode)(me,Ae);const te={...this.it,...me,items:void 0,props:void 0};return function ce(be,Ae){fe(be)&&(we(be),ae(be))?function he(be,Ae){const{schema:ge,gen:me,opts:te}=be;te.$comment&&ge.$comment&&m(be),function a(be){const Ae=be.schema[be.opts.schemaId];Ae&&(be.baseId=(0,U.resolveUrl)(be.opts.uriResolver,be.baseId,Ae))}(be),function d(be){if(be.schema.$async&&!be.schemaEnv.$async)throw new Error("async schema in sync schema")}(be);const ne=me.const("_errs",N.default.errors);Me(be,ne),me.var(Ae,B._`${ne} === ${N.default.errors}`)}(be,Ae):(0,y.boolOrEmptySchema)(be,Ae)}(te,ge),te}mergeEvaluated(Ae,ge){const{it:me,gen:te}=this;me.opts.unevaluated&&(!0!==me.props&&void 0!==Ae.props&&(me.props=A.mergeEvaluated.props(te,Ae.props,me.props,ge)),!0!==me.items&&void 0!==Ae.items&&(me.items=A.mergeEvaluated.items(te,Ae.items,me.items,ge)))}mergeValidEvaluated(Ae,ge){const{it:me,gen:te}=this;if(me.opts.unevaluated&&(!0!==me.props||!0!==me.items))return te.if(ge,()=>this.mergeEvaluated(Ae,B.Name)),!0}}function Ve(be,Ae,ge,me){const te=new Re(be,ge,Ae);"code"in ge?ge.code(te,me):te.$data&&ge.validate?(0,O.funcKeywordCode)(te,ge):"macro"in ge?(0,O.macroKeywordCode)(te,ge):(ge.compile||ge.validate)&&(0,O.funcKeywordCode)(te,ge)}j.KeywordCxt=Re;const Ee=/^\/(?:[^~]|~0|~1)*$/,_e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Fe(be,{dataLevel:Ae,dataNames:ge,dataPathArr:me}){let te,ne;if(""===be)return N.default.rootData;if("/"===be[0]){if(!Ee.test(be))throw new Error(`Invalid JSON-pointer: ${be}`);te=be,ne=N.default.rootData}else{const Qe=_e.exec(be);if(!Qe)throw new Error(`Invalid JSON-pointer: ${be}`);const ze=+Qe[1];if(te=Qe[2],"#"===te){if(ze>=Ae)throw new Error(Be("property/index",ze));return me[Ae-ze]}if(ze>Ae)throw new Error(Be("data",ze));if(ne=ge[Ae-ze],!te)return ne}let ue=ne;const De=te.split("/");for(const Qe of De)Qe&&(ne=B._`${ne}${(0,B.getProperty)((0,A.unescapeJsonPointer)(Qe))}`,ue=B._`${ue} && ${ne}`);return ue;function Be(Qe,ze){return`Cannot access ${Qe} ${ze} levels up, current level is ${Ae}`}}j.getData=Fe},76800:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateKeywordUsage=j.validSchemaType=j.funcKeywordCode=j.macroKeywordCode=void 0;const y=_(1038),b=_(23432),P=_(42406),H=_(53421);function S(L){const{gen:z,data:ee,it:q}=L;z.if(q.parentData,()=>z.assign(ee,y._`${q.parentData}[${q.parentDataProperty}]`))}function U(L,z,ee){if(void 0===ee)throw new Error(`keyword "${z}" failed to compile`);return L.scopeValue("keyword","function"==typeof ee?{ref:ee}:{ref:ee,code:(0,y.stringify)(ee)})}j.macroKeywordCode=function w(L,z){const{gen:ee,keyword:q,schema:Z,parentSchema:J,it:se}=L,ce=z.macro.call(se.self,Z,J,se),ae=U(ee,q,ce);!1!==se.opts.validateSchema&&se.self.validateSchema(ce,!0);const fe=ee.name("valid");L.subschema({schema:ce,schemaPath:y.nil,errSchemaPath:`${se.errSchemaPath}/${q}`,topSchemaRef:ae,compositeRule:!0},fe),L.pass(fe,()=>L.error(!0))},j.funcKeywordCode=function O(L,z){var ee;const{gen:q,keyword:Z,schema:J,parentSchema:se,$data:ce,it:ae}=L;!function N({schemaEnv:L},z){if(z.async&&!L.$async)throw new Error("async keyword in sync schema")}(ae,z);const fe=!ce&&z.compile?z.compile.call(ae.self,J,se,ae):z.validate,he=U(q,Z,fe),we=q.let("valid");function a(m=(z.async?y._`await `:y.nil)){q.assign(we,y._`${m}${(0,P.callValidateCode)(L,he,ae.opts.passContext?b.default.this:b.default.self,!("compile"in z&&!ce||!1===z.schema))}`,z.modifying)}function d(m){var p;q.if((0,y.not)(null!==(p=z.valid)&&void 0!==p?p:we),m)}L.block$data(we,function Me(){if(!1===z.errors)a(),z.modifying&&S(L),d(()=>L.error());else{const m=z.async?function Pe(){const m=q.let("ruleErrs",null);return q.try(()=>a(y._`await `),p=>q.assign(we,!1).if(y._`${p} instanceof ${ae.ValidationError}`,()=>q.assign(m,y._`${p}.errors`),()=>q.throw(p))),m}():function C(){const m=y._`${he}.errors`;return q.assign(m,null),a(y.nil),m}();z.modifying&&S(L),d(()=>function B(L,z){const{gen:ee}=L;ee.if(y._`Array.isArray(${z})`,()=>{ee.assign(b.default.vErrors,y._`${b.default.vErrors} === null ? ${z} : ${b.default.vErrors}.concat(${z})`).assign(b.default.errors,y._`${b.default.vErrors}.length`),(0,H.extendErrors)(L)},()=>L.error())}(L,m))}}),L.ok(null!==(ee=z.valid)&&void 0!==ee?ee:we)},j.validSchemaType=function A(L,z,ee=!1){return!z.length||z.some(q=>"array"===q?Array.isArray(L):"object"===q?L&&"object"==typeof L&&!Array.isArray(L):typeof L==q||ee&&typeof L>"u")},j.validateKeywordUsage=function G({schema:L,opts:z,self:ee,errSchemaPath:q},Z,J){if(Array.isArray(Z.keyword)?!Z.keyword.includes(J):Z.keyword!==J)throw new Error("ajv implementation error");const se=Z.dependencies;if(se?.some(ce=>!Object.prototype.hasOwnProperty.call(L,ce)))throw new Error(`parent schema must have dependencies of ${J}: ${se.join(",")}`);if(Z.validateSchema&&!Z.validateSchema(L[J])){const ae=`keyword "${J}" value is invalid at path "${q}": `+ee.errorsText(Z.validateSchema.errors);if("log"!==z.validateSchema)throw new Error(ae);ee.logger.error(ae)}}},16334:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.extendSubschemaMode=j.extendSubschemaData=j.getSubschema=void 0;const y=_(1038),b=_(27006);j.getSubschema=function P(O,{keyword:S,schemaProp:B,schema:N,schemaPath:U,errSchemaPath:A,topSchemaRef:G}){if(void 0!==S&&void 0!==N)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==S){const L=O.schema[S];return void 0===B?{schema:L,schemaPath:y._`${O.schemaPath}${(0,y.getProperty)(S)}`,errSchemaPath:`${O.errSchemaPath}/${S}`}:{schema:L[B],schemaPath:y._`${O.schemaPath}${(0,y.getProperty)(S)}${(0,y.getProperty)(B)}`,errSchemaPath:`${O.errSchemaPath}/${S}/${(0,b.escapeFragment)(B)}`}}if(void 0!==N){if(void 0===U||void 0===A||void 0===G)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:N,schemaPath:U,topSchemaRef:G,errSchemaPath:A}}throw new Error('either "keyword" or "schema" must be passed')},j.extendSubschemaData=function H(O,S,{dataProp:B,dataPropType:N,data:U,dataTypes:A,propertyName:G}){if(void 0!==U&&void 0!==B)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:L}=S;if(void 0!==B){const{errorPath:ee,dataPathArr:q,opts:Z}=S;z(L.let("data",y._`${S.data}${(0,y.getProperty)(B)}`,!0)),O.errorPath=y.str`${ee}${(0,b.getErrorPath)(B,N,Z.jsPropertySyntax)}`,O.parentDataProperty=y._`${B}`,O.dataPathArr=[...q,O.parentDataProperty]}function z(ee){O.data=ee,O.dataLevel=S.dataLevel+1,O.dataTypes=[],S.definedProperties=new Set,O.parentData=S.data,O.dataNames=[...S.dataNames,ee]}void 0!==U&&(z(U instanceof y.Name?U:L.let("data",U,!0)),void 0!==G&&(O.propertyName=G)),A&&(O.dataTypes=A)},j.extendSubschemaMode=function w(O,{jtdDiscriminator:S,jtdMetadata:B,compositeRule:N,createErrors:U,allErrors:A}){void 0!==N&&(O.compositeRule=N),void 0!==U&&(O.createErrors=U),void 0!==A&&(O.allErrors=A),O.jtdDiscriminator=S,O.jtdMetadata=B}},35419:(Je,j,_)=>{"use strict";var y=_(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.CodeGen=j.Name=j.nil=j.stringify=j.str=j._=j.KeywordCxt=void 0;var b=_(40339);Object.defineProperty(j,"KeywordCxt",{enumerable:!0,get:function(){return b.KeywordCxt}});var P=_(1038);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return P._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return P.str}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return P.stringify}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return P.nil}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return P.Name}}),Object.defineProperty(j,"CodeGen",{enumerable:!0,get:function(){return P.CodeGen}});const H=_(42467),w=_(26288),O=_(32203),S=_(97692),B=_(1038),N=_(77172),U=_(55999),A=_(27006),G=_(83813),L=_(13203),z=(v,$)=>new RegExp(v,$);z.code="new RegExp";const ee=["removeAdditional","useDefaults","coerceTypes"],q=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Z={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},J={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function ce(v){var $,F,Q,de,Ce,Re,Ve,Ee,_e,Fe,be,Ae,ge,me,te,ne,ue,De,Be,Qe,ze,Dt,Xe,Ue,mt;const K=v.strict,T=null===($=v.code)||void 0===$?void 0:$.optimize,M=!0===T||void 0===T?1:T||0,Y=null!==(Q=null===(F=v.code)||void 0===F?void 0:F.regExp)&&void 0!==Q?Q:z,pe=null!==(de=v.uriResolver)&&void 0!==de?de:L.default;return{strictSchema:null===(Re=null!==(Ce=v.strictSchema)&&void 0!==Ce?Ce:K)||void 0===Re||Re,strictNumbers:null===(Ee=null!==(Ve=v.strictNumbers)&&void 0!==Ve?Ve:K)||void 0===Ee||Ee,strictTypes:null!==(Fe=null!==(_e=v.strictTypes)&&void 0!==_e?_e:K)&&void 0!==Fe?Fe:"log",strictTuples:null!==(Ae=null!==(be=v.strictTuples)&&void 0!==be?be:K)&&void 0!==Ae?Ae:"log",strictRequired:null!==(me=null!==(ge=v.strictRequired)&&void 0!==ge?ge:K)&&void 0!==me&&me,code:v.code?{...v.code,optimize:M,regExp:Y}:{optimize:M,regExp:Y},loopRequired:null!==(te=v.loopRequired)&&void 0!==te?te:200,loopEnum:null!==(ne=v.loopEnum)&&void 0!==ne?ne:200,meta:null===(ue=v.meta)||void 0===ue||ue,messages:null===(De=v.messages)||void 0===De||De,inlineRefs:null===(Be=v.inlineRefs)||void 0===Be||Be,schemaId:null!==(Qe=v.schemaId)&&void 0!==Qe?Qe:"$id",addUsedSchema:null===(ze=v.addUsedSchema)||void 0===ze||ze,validateSchema:null===(Dt=v.validateSchema)||void 0===Dt||Dt,validateFormats:null===(Xe=v.validateFormats)||void 0===Xe||Xe,unicodeRegExp:null===(Ue=v.unicodeRegExp)||void 0===Ue||Ue,int32range:null===(mt=v.int32range)||void 0===mt||mt,uriResolver:pe}}class ae{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts={...$,...ce($)};const{es5:F,lines:Q}=this.opts.code;this.scope=new B.ValueScope({scope:{},prefixes:q,es5:F,lines:Q}),this.logger=function d(v){if(!1===v)return a;if(void 0===v)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}($.logger);const de=$.validateFormats;$.validateFormats=!1,this.RULES=(0,O.getRules)(),fe.call(this,Z,$,"NOT SUPPORTED"),fe.call(this,J,$,"DEPRECATED","warn"),this._metaOpts=C.call(this),$.formats&&Me.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&Pe.call(this,$.keywords),"object"==typeof $.meta&&this.addMetaSchema($.meta),we.call(this),$.validateFormats=de}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:F,schemaId:Q}=this.opts;let de=G;"id"===Q&&(de={...G},de.id=de.$id,delete de.$id),F&&$&&this.addMetaSchema(de,de[Q],!1)}defaultMeta(){const{meta:$,schemaId:F}=this.opts;return this.opts.defaultMeta="object"==typeof $?$[F]||$:void 0}validate($,F){let Q;if("string"==typeof $){if(Q=this.getSchema($),!Q)throw new Error(`no schema with key or ref "${$}"`)}else Q=this.compile($);const de=Q(F);return"$async"in Q||(this.errors=Q.errors),de}compile($,F){const Q=this._addSchema($,F);return Q.validate||this._compileSchemaEnv(Q)}compileAsync($,F){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:Q}=this.opts;return de.call(this,$,F);function de(te,ne){return Ce.apply(this,arguments)}function Ce(){return(Ce=y(function*(te,ne){yield Re.call(this,te.$schema);const ue=this._addSchema(te,ne);return ue.validate||Ee.call(this,ue)})).apply(this,arguments)}function Re(te){return Ve.apply(this,arguments)}function Ve(){return(Ve=y(function*(te){te&&!this.getSchema(te)&&(yield de.call(this,{$ref:te},!0))})).apply(this,arguments)}function Ee(te){return _e.apply(this,arguments)}function _e(){return(_e=y(function*(te){try{return this._compileSchemaEnv(te)}catch(ne){if(!(ne instanceof w.default))throw ne;return Fe.call(this,ne),yield be.call(this,ne.missingSchema),Ee.call(this,te)}})).apply(this,arguments)}function Fe({missingSchema:te,missingRef:ne}){if(this.refs[te])throw new Error(`AnySchema ${te} is loaded but ${ne} cannot be resolved`)}function be(te){return Ae.apply(this,arguments)}function Ae(){return(Ae=y(function*(te){const ne=yield ge.call(this,te);this.refs[te]||(yield Re.call(this,ne.$schema)),this.refs[te]||this.addSchema(ne,te,F)})).apply(this,arguments)}function ge(te){return me.apply(this,arguments)}function me(){return(me=y(function*(te){const ne=this._loading[te];if(ne)return ne;try{return yield this._loading[te]=Q(te)}finally{delete this._loading[te]}})).apply(this,arguments)}}addSchema($,F,Q,de=this.opts.validateSchema){if(Array.isArray($)){for(const Re of $)this.addSchema(Re,void 0,Q,de);return this}let Ce;if("object"==typeof $){const{schemaId:Re}=this.opts;if(Ce=$[Re],void 0!==Ce&&"string"!=typeof Ce)throw new Error(`schema ${Re} must be string`)}return F=(0,N.normalizeId)(F||Ce),this._checkUnique(F),this.schemas[F]=this._addSchema($,Q,F,de,!0),this}addMetaSchema($,F,Q=this.opts.validateSchema){return this.addSchema($,F,!0,Q),this}validateSchema($,F){if("boolean"==typeof $)return!0;let Q;if(Q=$.$schema,void 0!==Q&&"string"!=typeof Q)throw new Error("$schema must be a string");if(Q=Q||this.opts.defaultMeta||this.defaultMeta(),!Q)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const de=this.validate(Q,$);if(!de&&F){const Ce="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(Ce);this.logger.error(Ce)}return de}getSchema($){let F;for(;"string"==typeof(F=he.call(this,$));)$=F;if(void 0===F){const{schemaId:Q}=this.opts,de=new S.SchemaEnv({schema:{},schemaId:Q});if(F=S.resolveSchema.call(this,de,$),!F)return;this.refs[$]=F}return F.validate||this._compileSchemaEnv(F)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const F=he.call(this,$);return"object"==typeof F&&this._cache.delete(F.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{this._cache.delete($);let Q=$[this.opts.schemaId];return Q&&(Q=(0,N.normalizeId)(Q),delete this.schemas[Q],delete this.refs[Q]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const F of $)this.addKeyword(F);return this}addKeyword($,F){let Q;if("string"==typeof $)Q=$,"object"==typeof F&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),F.keyword=Q);else{if("object"!=typeof $||void 0!==F)throw new Error("invalid addKeywords parameters");if(Q=(F=$).keyword,Array.isArray(Q)&&!Q.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(p.call(this,Q,F),!F)return(0,A.eachItem)(Q,Ce=>E.call(this,Ce)),this;R.call(this,F);const de={...F,type:(0,U.getJSONTypes)(F.type),schemaType:(0,U.getJSONTypes)(F.schemaType)};return(0,A.eachItem)(Q,0===de.type.length?Ce=>E.call(this,Ce,de):Ce=>de.type.forEach(Re=>E.call(this,Ce,de,Re))),this}getKeyword($){const F=this.RULES.all[$];return"object"==typeof F?F.definition:!!F}removeKeyword($){const{RULES:F}=this;delete F.keywords[$],delete F.all[$];for(const Q of F.rules){const de=Q.rules.findIndex(Ce=>Ce.keyword===$);de>=0&&Q.rules.splice(de,1)}return this}addFormat($,F){return"string"==typeof F&&(F=new RegExp(F)),this.formats[$]=F,this}errorsText($=this.errors,{separator:F=", ",dataVar:Q="data"}={}){return $&&0!==$.length?$.map(de=>`${Q}${de.instancePath} ${de.message}`).reduce((de,Ce)=>de+F+Ce):"No errors"}$dataMetaSchema($,F){const Q=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const de of F){const Ce=de.split("/").slice(1);let Re=$;for(const Ve of Ce)Re=Re[Ve];for(const Ve in Q){const Ee=Q[Ve];if("object"!=typeof Ee)continue;const{$data:_e}=Ee.definition,Fe=Re[Ve];_e&&Fe&&(Re[Ve]=s(Fe))}}return $}_removeAllSchemas($,F){for(const Q in $){const de=$[Q];(!F||F.test(Q))&&("string"==typeof de?delete $[Q]:de&&!de.meta&&(this._cache.delete(de.schema),delete $[Q]))}}_addSchema($,F,Q,de=this.opts.validateSchema,Ce=this.opts.addUsedSchema){let Re;const{schemaId:Ve}=this.opts;if("object"==typeof $)Re=$[Ve];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof $)throw new Error("schema must be object or boolean")}let Ee=this._cache.get($);if(void 0!==Ee)return Ee;Q=(0,N.normalizeId)(Re||Q);const _e=N.getSchemaRefs.call(this,$,Q);return Ee=new S.SchemaEnv({schema:$,schemaId:Ve,meta:F,baseId:Q,localRefs:_e}),this._cache.set(Ee.schema,Ee),Ce&&!Q.startsWith("#")&&(Q&&this._checkUnique(Q),this.refs[Q]=Ee),de&&this.validateSchema($,!0),Ee}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):S.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const F=this.opts;this.opts=this._metaOpts;try{S.compileSchema.call(this,$)}finally{this.opts=F}}}function fe(v,$,F,Q="error"){for(const de in v)de in $&&this.logger[Q](`${F}: option ${de}. ${v[de]}`)}function he(v){return v=(0,N.normalizeId)(v),this.schemas[v]||this.refs[v]}function we(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const $ in v)this.addSchema(v[$],$)}function Me(){for(const v in this.opts.formats){const $=this.opts.formats[v];$&&this.addFormat(v,$)}}function Pe(v){if(Array.isArray(v))this.addVocabulary(v);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in v){const F=v[$];F.keyword||(F.keyword=$),this.addKeyword(F)}}}function C(){const v={...this.opts};for(const $ of ee)delete v[$];return v}j.default=ae,ae.ValidationError=H.default,ae.MissingRefError=w.default;const a={log(){},warn(){},error(){}},m=/^[a-z_$][a-z0-9_$:-]*$/i;function p(v,$){const{RULES:F}=this;if((0,A.eachItem)(v,Q=>{if(F.keywords[Q])throw new Error(`Keyword ${Q} is already defined`);if(!m.test(Q))throw new Error(`Keyword ${Q} has invalid name`)}),$&&$.$data&&!("code"in $)&&!("validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function E(v,$,F){var Q;const de=$?.post;if(F&&de)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Ce}=this;let Re=de?Ce.post:Ce.rules.find(({type:Ee})=>Ee===F);if(Re||(Re={type:F,rules:[]},Ce.rules.push(Re)),Ce.keywords[v]=!0,!$)return;const Ve={keyword:v,definition:{...$,type:(0,U.getJSONTypes)($.type),schemaType:(0,U.getJSONTypes)($.schemaType)}};$.before?D.call(this,Re,Ve,$.before):Re.rules.push(Ve),Ce.all[v]=Ve,null===(Q=$.implements)||void 0===Q||Q.forEach(Ee=>this.addKeyword(Ee))}function D(v,$,F){const Q=v.rules.findIndex(de=>de.keyword===F);Q>=0?v.rules.splice(Q,0,$):(v.rules.push($),this.logger.warn(`rule ${F} is not defined`))}function R(v){let{metaSchema:$}=v;void 0!==$&&(v.$data&&this.opts.$data&&($=s($)),v.validateSchema=this.compile($,!0))}const x={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function s(v){return{anyOf:[v,x]}}},87577:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(6438),b=_(59608),P=_(8307),H=_(11082),w=_(93406),O=_(14516),S=_(3059),B=_(18738),N=["/properties"];j.default=function U(A){return[y,b,P,H,w,G(this,O),S,G(this,B)].forEach(L=>this.addMetaSchema(L,void 0,!1)),this;function G(L,z){return A?L.$dataMetaSchema(z,N):z}}},92281:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(40362);y.code='require("ajv/dist/runtime/equal").default',j.default=y},26488:(Je,j)=>{"use strict";function _(y){const b=y.length;let w,P=0,H=0;for(;H<b;)P++,w=y.charCodeAt(H++),w>=55296&&w<=56319&&H<b&&(w=y.charCodeAt(H),56320==(64512&w)&&H++);return P}Object.defineProperty(j,"__esModule",{value:!0}),j.default=_,_.code='require("ajv/dist/runtime/ucs2length").default'},13203:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(95568);y.code='require("ajv/dist/runtime/uri").default',j.default=y},42467:(Je,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});class _ extends Error{constructor(b){super("validation failed"),this.errors=b,this.ajv=this.validation=!0}}j.default=_},46934:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateAdditionalItems=void 0;const y=_(1038),b=_(27006),H={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:O}})=>y.str`must NOT have more than ${O} items`,params:({params:{len:O}})=>y._`{limit: ${O}}`},code(O){const{parentSchema:S,it:B}=O,{items:N}=S;Array.isArray(N)?w(O,N):(0,b.checkStrictMode)(B,'"additionalItems" is ignored when "items" is not an array of schemas')}};function w(O,S){const{gen:B,schema:N,data:U,keyword:A,it:G}=O;G.items=!0;const L=B.const("len",y._`${U}.length`);if(!1===N)O.setParams({len:S.length}),O.pass(y._`${L} <= ${S.length}`);else if("object"==typeof N&&!(0,b.alwaysValidSchema)(G,N)){const ee=B.var("valid",y._`${L} <= ${S.length}`);B.if((0,y.not)(ee),()=>function z(ee){B.forRange("i",S.length,L,q=>{O.subschema({keyword:A,dataProp:q,dataPropType:b.Type.Num},ee),G.allErrors||B.if((0,y.not)(ee),()=>B.break())})}(ee)),O.ok(ee)}}j.validateAdditionalItems=w,j.default=H},18445:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(42406),b=_(1038),P=_(23432),H=_(27006);j.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:S})=>b._`{additionalProperty: ${S.additionalProperty}}`},code(S){const{gen:B,schema:N,parentSchema:U,data:A,errsCount:G,it:L}=S;if(!G)throw new Error("ajv implementation error");const{allErrors:z,opts:ee}=L;if(L.props=!0,"all"!==ee.removeAdditional&&(0,H.alwaysValidSchema)(L,N))return;const q=(0,y.allSchemaProperties)(U.properties),Z=(0,y.allSchemaProperties)(U.patternProperties);function ce(he){B.code(b._`delete ${A}[${he}]`)}function ae(he){if("all"===ee.removeAdditional||ee.removeAdditional&&!1===N)ce(he);else{if(!1===N)return S.setParams({additionalProperty:he}),S.error(),void(z||B.break());if("object"==typeof N&&!(0,H.alwaysValidSchema)(L,N)){const we=B.name("valid");"failing"===ee.removeAdditional?(fe(he,we,!1),B.if((0,b.not)(we),()=>{S.reset(),ce(he)})):(fe(he,we),z||B.if((0,b.not)(we),()=>B.break()))}}}function fe(he,we,Me){const Pe={keyword:"additionalProperties",dataProp:he,dataPropType:H.Type.Str};!1===Me&&Object.assign(Pe,{compositeRule:!0,createErrors:!1,allErrors:!1}),S.subschema(Pe,we)}(function J(){B.forIn("key",A,he=>{q.length||Z.length?B.if(function se(he){let we;if(q.length>8){const Me=(0,H.schemaRefOrVal)(L,U.properties,"properties");we=(0,y.isOwnProperty)(B,Me,he)}else we=q.length?(0,b.or)(...q.map(Me=>b._`${he} === ${Me}`)):b.nil;return Z.length&&(we=(0,b.or)(we,...Z.map(Me=>b._`${(0,y.usePattern)(S,Me)}.test(${he})`))),(0,b.not)(we)}(he),()=>ae(he)):ae(he)})})(),S.ok(b._`${G} === ${P.default.errors}`)}}},77783:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(27006);j.default={keyword:"allOf",schemaType:"array",code(P){const{gen:H,schema:w,it:O}=P;if(!Array.isArray(w))throw new Error("ajv implementation error");const S=H.name("valid");w.forEach((B,N)=>{if((0,y.alwaysValidSchema)(O,B))return;const U=P.subschema({keyword:"allOf",schemaProp:N},S);P.ok(S),P.mergeEvaluated(U)})}}},60922:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const b={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_(42406).validateUnion,error:{message:"must match a schema in anyOf"}};j.default=b},57568:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006);j.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:w,max:O}})=>void 0===O?y.str`must contain at least ${w} valid item(s)`:y.str`must contain at least ${w} and no more than ${O} valid item(s)`,params:({params:{min:w,max:O}})=>void 0===O?y._`{minContains: ${w}}`:y._`{minContains: ${w}, maxContains: ${O}}`},code(w){const{gen:O,schema:S,parentSchema:B,data:N,it:U}=w;let A,G;const{minContains:L,maxContains:z}=B;U.opts.next?(A=void 0===L?1:L,G=z):A=1;const ee=O.const("len",y._`${N}.length`);if(w.setParams({min:A,max:G}),void 0===G&&0===A)return void(0,b.checkStrictMode)(U,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==G&&A>G)return(0,b.checkStrictMode)(U,'"minContains" > "maxContains" is always invalid'),void w.fail();if((0,b.alwaysValidSchema)(U,S)){let ce=y._`${ee} >= ${A}`;return void 0!==G&&(ce=y._`${ce} && ${ee} <= ${G}`),void w.pass(ce)}U.items=!0;const q=O.name("valid");function Z(){const ce=O.name("_valid"),ae=O.let("count",0);J(ce,()=>O.if(ce,()=>function se(ce){O.code(y._`${ce}++`),void 0===G?O.if(y._`${ce} >= ${A}`,()=>O.assign(q,!0).break()):(O.if(y._`${ce} > ${G}`,()=>O.assign(q,!1).break()),1===A?O.assign(q,!0):O.if(y._`${ce} >= ${A}`,()=>O.assign(q,!0)))}(ae)))}function J(ce,ae){O.forRange("i",0,ee,fe=>{w.subschema({keyword:"contains",dataProp:fe,dataPropType:b.Type.Num,compositeRule:!0},ce),ae()})}void 0===G&&1===A?J(q,()=>O.if(q,()=>O.break())):0===A?(O.let(q,!0),void 0!==G&&O.if(y._`${N}.length > 0`,Z)):(O.let(q,!1),Z()),w.result(q,()=>w.reset())}}},68032:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateSchemaDeps=j.validatePropertyDeps=j.error=void 0;const y=_(1038),b=_(27006),P=_(42406);j.error={message:({params:{property:B,depsCount:N,deps:U}})=>y.str`must have ${1===N?"property":"properties"} ${U} when property ${B} is present`,params:({params:{property:B,depsCount:N,deps:U,missingProperty:A}})=>y._`{property: ${B},
    missingProperty: ${A},
    depsCount: ${N},
    deps: ${U}}`};const H={keyword:"dependencies",type:"object",schemaType:"object",error:j.error,code(B){const[N,U]=function w({schema:B}){const N={},U={};for(const A in B)"__proto__"!==A&&((Array.isArray(B[A])?N:U)[A]=B[A]);return[N,U]}(B);O(B,N),S(B,U)}};function O(B,N=B.schema){const{gen:U,data:A,it:G}=B;if(0===Object.keys(N).length)return;const L=U.let("missing");for(const z in N){const ee=N[z];if(0===ee.length)continue;const q=(0,P.propertyInData)(U,A,z,G.opts.ownProperties);B.setParams({property:z,depsCount:ee.length,deps:ee.join(", ")}),G.allErrors?U.if(q,()=>{for(const Z of ee)(0,P.checkReportMissingProp)(B,Z)}):(U.if(y._`${q} && (${(0,P.checkMissingProp)(B,ee,L)})`),(0,P.reportMissingProp)(B,L),U.else())}}function S(B,N=B.schema){const{gen:U,data:A,keyword:G,it:L}=B,z=U.name("valid");for(const ee in N)(0,b.alwaysValidSchema)(L,N[ee])||(U.if((0,P.propertyInData)(U,A,ee,L.opts.ownProperties),()=>{const q=B.subschema({keyword:G,schemaProp:ee},z);B.mergeValidEvaluated(q,z)},()=>U.var(z,!0)),B.ok(z))}j.validatePropertyDeps=O,j.validateSchemaDeps=S,j.default=H},85164:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(68032);j.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:P=>(0,y.validateSchemaDeps)(P)}},45226:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006);function w(O,S){const B=O.schema[S];return void 0!==B&&!(0,b.alwaysValidSchema)(O,B)}j.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:O})=>y.str`must match "${O.ifClause}" schema`,params:({params:O})=>y._`{failingKeyword: ${O.ifClause}}`},code(O){const{gen:S,parentSchema:B,it:N}=O;void 0===B.then&&void 0===B.else&&(0,b.checkStrictMode)(N,'"if" without "then" and "else" is ignored');const U=w(N,"then"),A=w(N,"else");if(!U&&!A)return;const G=S.let("valid",!0),L=S.name("_valid");if(function z(){const q=O.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},L);O.mergeEvaluated(q)}(),O.reset(),U&&A){const q=S.let("ifClause");O.setParams({ifClause:q}),S.if(L,ee("then",q),ee("else",q))}else U?S.if(L,ee("then")):S.if((0,y.not)(L),ee("else"));function ee(q,Z){return()=>{const J=O.subschema({keyword:q},L);S.assign(G,L),O.mergeValidEvaluated(J,G),Z?S.assign(Z,y._`${q}`):O.setParams({ifClause:q})}}O.pass(G,()=>O.error(!0))}}},68261:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(46934),b=_(96537),P=_(2941),H=_(5261),w=_(57568),O=_(68032),S=_(36474),B=_(18445),N=_(34032),U=_(17330),A=_(3408),G=_(60922),L=_(88388),z=_(77783),ee=_(45226),q=_(98779);j.default=function Z(J=!1){const se=[A.default,G.default,L.default,z.default,ee.default,q.default,S.default,B.default,O.default,N.default,U.default];return J?se.push(b.default,H.default):se.push(y.default,P.default),se.push(w.default),se}},2941:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateTuple=void 0;const y=_(1038),b=_(27006),P=_(42406),H={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(O){const{schema:S,it:B}=O;if(Array.isArray(S))return w(O,"additionalItems",S);B.items=!0,!(0,b.alwaysValidSchema)(B,S)&&O.ok((0,P.validateArray)(O))}};function w(O,S,B=O.schema){const{gen:N,parentSchema:U,data:A,keyword:G,it:L}=O;(function q(Z){const{opts:J,errSchemaPath:se}=L,ce=B.length;J.strictTuples&&!(ce===Z.minItems&&(ce===Z.maxItems||!1===Z[S]))&&(0,b.checkStrictMode)(L,`"${G}" is ${ce}-tuple, but minItems or maxItems/${S} are not specified or different at path "${se}"`,J.strictTuples)})(U),L.opts.unevaluated&&B.length&&!0!==L.items&&(L.items=b.mergeEvaluated.items(N,B.length,L.items));const z=N.name("valid"),ee=N.const("len",y._`${A}.length`);B.forEach((Z,J)=>{(0,b.alwaysValidSchema)(L,Z)||(N.if(y._`${ee} > ${J}`,()=>O.subschema({keyword:G,schemaProp:J,dataProp:J},z)),O.ok(z))})}j.validateTuple=w,j.default=H},5261:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006),P=_(42406),H=_(46934);j.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:S}})=>y.str`must NOT have more than ${S} items`,params:({params:{len:S}})=>y._`{limit: ${S}}`},code(S){const{schema:B,parentSchema:N,it:U}=S,{prefixItems:A}=N;U.items=!0,!(0,b.alwaysValidSchema)(U,B)&&(A?(0,H.validateAdditionalItems)(S,A):S.ok((0,P.validateArray)(S)))}}},3408:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(27006);j.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(P){const{gen:H,schema:w,it:O}=P;if((0,y.alwaysValidSchema)(O,w))return void P.fail();const S=H.name("valid");P.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},S),P.failResult(S,()=>P.reset(),()=>P.error())},error:{message:"must NOT be valid"}}},88388:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006);j.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:w})=>y._`{passingSchemas: ${w.passing}}`},code(w){const{gen:O,schema:S,parentSchema:B,it:N}=w;if(!Array.isArray(S))throw new Error("ajv implementation error");if(N.opts.discriminator&&B.discriminator)return;const U=S,A=O.let("valid",!1),G=O.let("passing",null),L=O.name("_valid");w.setParams({passing:G}),O.block(function z(){U.forEach((ee,q)=>{let Z;(0,b.alwaysValidSchema)(N,ee)?O.var(L,!0):Z=w.subschema({keyword:"oneOf",schemaProp:q,compositeRule:!0},L),q>0&&O.if(y._`${L} && ${A}`).assign(A,!1).assign(G,y._`[${G}, ${q}]`).else(),O.if(L,()=>{O.assign(A,!0),O.assign(G,q),Z&&w.mergeEvaluated(Z,y.Name)})})}),w.result(A,()=>w.reset(),()=>w.error(!0))}}},17330:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(42406),b=_(1038),P=_(27006),H=_(27006);j.default={keyword:"patternProperties",type:"object",schemaType:"object",code(O){const{gen:S,schema:B,data:N,parentSchema:U,it:A}=O,{opts:G}=A,L=(0,y.allSchemaProperties)(B),z=L.filter(ae=>(0,P.alwaysValidSchema)(A,B[ae]));if(0===L.length||z.length===L.length&&(!A.opts.unevaluated||!0===A.props))return;const ee=G.strictSchema&&!G.allowMatchingProperties&&U.properties,q=S.name("valid");!0!==A.props&&!(A.props instanceof b.Name)&&(A.props=(0,H.evaluatedPropsToName)(S,A.props));const{props:Z}=A;function se(ae){for(const fe in ee)new RegExp(ae).test(fe)&&(0,P.checkStrictMode)(A,`property ${fe} matches pattern ${ae} (use allowMatchingProperties)`)}function ce(ae){S.forIn("key",N,fe=>{S.if(b._`${(0,y.usePattern)(O,ae)}.test(${fe})`,()=>{const he=z.includes(ae);he||O.subschema({keyword:"patternProperties",schemaProp:ae,dataProp:fe,dataPropType:H.Type.Str},q),A.opts.unevaluated&&!0!==Z?S.assign(b._`${Z}[${fe}]`,!0):!he&&!A.allErrors&&S.if((0,b.not)(q),()=>S.break())})})}!function J(){for(const ae of L)ee&&se(ae),A.allErrors?ce(ae):(S.var(q,!0),ce(ae),S.if(q))}()}}},96537:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(2941);j.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:P=>(0,y.validateTuple)(P,"items")}},34032:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(40339),b=_(42406),P=_(27006),H=_(18445);j.default={keyword:"properties",type:"object",schemaType:"object",code(O){const{gen:S,schema:B,parentSchema:N,data:U,it:A}=O;"all"===A.opts.removeAdditional&&void 0===N.additionalProperties&&H.default.code(new y.KeywordCxt(A,H.default,"additionalProperties"));const G=(0,b.allSchemaProperties)(B);for(const Z of G)A.definedProperties.add(Z);A.opts.unevaluated&&G.length&&!0!==A.props&&(A.props=P.mergeEvaluated.props(S,(0,P.toHash)(G),A.props));const L=G.filter(Z=>!(0,P.alwaysValidSchema)(A,B[Z]));if(0===L.length)return;const z=S.name("valid");for(const Z of L)ee(Z)?q(Z):(S.if((0,b.propertyInData)(S,U,Z,A.opts.ownProperties)),q(Z),A.allErrors||S.else().var(z,!0),S.endIf()),O.it.definedProperties.add(Z),O.ok(z);function ee(Z){return A.opts.useDefaults&&!A.compositeRule&&void 0!==B[Z].default}function q(Z){O.subschema({keyword:"properties",schemaProp:Z,dataProp:Z},z)}}}},36474:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006);j.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:w})=>y._`{propertyName: ${w.propertyName}}`},code(w){const{gen:O,schema:S,data:B,it:N}=w;if((0,b.alwaysValidSchema)(N,S))return;const U=O.name("valid");O.forIn("key",B,A=>{w.setParams({propertyName:A}),w.subschema({keyword:"propertyNames",data:A,dataTypes:["string"],propertyName:A,compositeRule:!0},U),O.if((0,y.not)(U),()=>{w.error(!0),N.allErrors||O.break()})}),w.ok(U)}}},98779:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(27006);j.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:P,parentSchema:H,it:w}){void 0===H.if&&(0,y.checkStrictMode)(w,`"${P}" without "if" is ignored`)}}},42406:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateUnion=j.validateArray=j.usePattern=j.callValidateCode=j.schemaProperties=j.allSchemaProperties=j.noPropertyInData=j.propertyInData=j.isOwnProperty=j.hasPropFunc=j.reportMissingProp=j.checkMissingProp=j.checkReportMissingProp=void 0;const y=_(1038),b=_(27006),P=_(23432),H=_(27006);function B(se){return se.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:y._`Object.prototype.hasOwnProperty`})}function N(se,ce,ae){return y._`${B(se)}.call(${ce}, ${ae})`}function A(se,ce,ae,fe){const he=y._`${ce}${(0,y.getProperty)(ae)} === undefined`;return fe?(0,y.or)(he,(0,y.not)(N(se,ce,ae))):he}function G(se){return se?Object.keys(se).filter(ce=>"__proto__"!==ce):[]}j.checkReportMissingProp=function w(se,ce){const{gen:ae,data:fe,it:he}=se;ae.if(A(ae,fe,ce,he.opts.ownProperties),()=>{se.setParams({missingProperty:y._`${ce}`},!0),se.error()})},j.checkMissingProp=function O({gen:se,data:ce,it:{opts:ae}},fe,he){return(0,y.or)(...fe.map(we=>(0,y.and)(A(se,ce,we,ae.ownProperties),y._`${he} = ${we}`)))},j.reportMissingProp=function S(se,ce){se.setParams({missingProperty:ce},!0),se.error()},j.hasPropFunc=B,j.isOwnProperty=N,j.propertyInData=function U(se,ce,ae,fe){const he=y._`${ce}${(0,y.getProperty)(ae)} !== undefined`;return fe?y._`${he} && ${N(se,ce,ae)}`:he},j.noPropertyInData=A,j.allSchemaProperties=G,j.schemaProperties=function L(se,ce){return G(ce).filter(ae=>!(0,b.alwaysValidSchema)(se,ce[ae]))},j.callValidateCode=function z({schemaCode:se,data:ce,it:{gen:ae,topSchemaRef:fe,schemaPath:he,errorPath:we},it:Me},Pe,C,a){const d=a?y._`${se}, ${ce}, ${fe}${he}`:ce,m=[[P.default.instancePath,(0,y.strConcat)(P.default.instancePath,we)],[P.default.parentData,Me.parentData],[P.default.parentDataProperty,Me.parentDataProperty],[P.default.rootData,P.default.rootData]];Me.opts.dynamicRef&&m.push([P.default.dynamicAnchors,P.default.dynamicAnchors]);const p=y._`${d}, ${ae.object(...m)}`;return C!==y.nil?y._`${Pe}.call(${C}, ${p})`:y._`${Pe}(${p})`};const ee=y._`new RegExp`;j.usePattern=function q({gen:se,it:{opts:ce}},ae){const fe=ce.unicodeRegExp?"u":"",{regExp:he}=ce.code,we=he(ae,fe);return se.scopeValue("pattern",{key:we.toString(),ref:we,code:y._`${"new RegExp"===he.code?ee:(0,H.useFunc)(se,he)}(${ae}, ${fe})`})},j.validateArray=function Z(se){const{gen:ce,data:ae,keyword:fe,it:he}=se,we=ce.name("valid");if(he.allErrors){const Pe=ce.let("valid",!0);return Me(()=>ce.assign(Pe,!1)),Pe}return ce.var(we,!0),Me(()=>ce.break()),we;function Me(Pe){const C=ce.const("len",y._`${ae}.length`);ce.forRange("i",0,C,a=>{se.subschema({keyword:fe,dataProp:a,dataPropType:b.Type.Num},we),ce.if((0,y.not)(we),Pe)})}},j.validateUnion=function J(se){const{gen:ce,schema:ae,keyword:fe,it:he}=se;if(!Array.isArray(ae))throw new Error("ajv implementation error");if(ae.some(C=>(0,b.alwaysValidSchema)(he,C))&&!he.opts.unevaluated)return;const Me=ce.let("valid",!1),Pe=ce.name("_valid");ce.block(()=>ae.forEach((C,a)=>{const d=se.subschema({keyword:fe,schemaProp:a,compositeRule:!0},Pe);ce.assign(Me,y._`${Me} || ${Pe}`),se.mergeValidEvaluated(d,Pe)||ce.if((0,y.not)(Me))})),se.result(Me,()=>se.reset(),()=>se.error(!0))}},36846:(Je,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(36846),b=_(84862);j.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",y.default,b.default]},84862:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.callRef=j.getValidate=void 0;const y=_(26288),b=_(42406),P=_(1038),H=_(23432),w=_(97692),O=_(27006),S={keyword:"$ref",schemaType:"string",code(U){const{gen:A,schema:G,it:L}=U,{baseId:z,schemaEnv:ee,validateName:q,opts:Z,self:J}=L,{root:se}=ee;if(("#"===G||"#/"===G)&&z===se.baseId)return function ae(){if(ee===se)return N(U,q,ee,ee.$async);const we=A.scopeValue("root",{ref:se});return N(U,P._`${we}.validate`,se,se.$async)}();const ce=w.resolveRef.call(J,se,z,G);if(void 0===ce)throw new y.default(L.opts.uriResolver,z,G);return ce instanceof w.SchemaEnv?function fe(we){const Me=B(U,we);N(U,Me,we,we.$async)}(ce):function he(we){const Me=A.scopeValue("schema",!0===Z.code.source?{ref:we,code:(0,P.stringify)(we)}:{ref:we}),Pe=A.name("valid"),C=U.subschema({schema:we,dataTypes:[],schemaPath:P.nil,topSchemaRef:Me,errSchemaPath:G},Pe);U.mergeEvaluated(C),U.ok(Pe)}(ce)}};function B(U,A){const{gen:G}=U;return A.validate?G.scopeValue("validate",{ref:A.validate}):P._`${G.scopeValue("wrapper",{ref:A})}.validate`}function N(U,A,G,L){const{gen:z,it:ee}=U,{allErrors:q,schemaEnv:Z,opts:J}=ee,se=J.passContext?H.default.this:P.nil;function fe(we){const Me=P._`${we}.errors`;z.assign(H.default.vErrors,P._`${H.default.vErrors} === null ? ${Me} : ${H.default.vErrors}.concat(${Me})`),z.assign(H.default.errors,P._`${H.default.vErrors}.length`)}function he(we){var Me;if(!ee.opts.unevaluated)return;const Pe=null===(Me=G?.validate)||void 0===Me?void 0:Me.evaluated;if(!0!==ee.props)if(Pe&&!Pe.dynamicProps)void 0!==Pe.props&&(ee.props=O.mergeEvaluated.props(z,Pe.props,ee.props));else{const C=z.var("props",P._`${we}.evaluated.props`);ee.props=O.mergeEvaluated.props(z,C,ee.props,P.Name)}if(!0!==ee.items)if(Pe&&!Pe.dynamicItems)void 0!==Pe.items&&(ee.items=O.mergeEvaluated.items(z,Pe.items,ee.items));else{const C=z.var("items",P._`${we}.evaluated.items`);ee.items=O.mergeEvaluated.items(z,C,ee.items,P.Name)}}L?function ce(){if(!Z.$async)throw new Error("async schema referenced by sync schema");const we=z.let("valid");z.try(()=>{z.code(P._`await ${(0,b.callValidateCode)(U,A,se)}`),he(A),q||z.assign(we,!0)},Me=>{z.if(P._`!(${Me} instanceof ${ee.ValidationError})`,()=>z.throw(Me)),fe(Me),q||z.assign(we,!1)}),U.ok(we)}():function ae(){U.result((0,b.callValidateCode)(U,A,se),()=>he(A),()=>fe(A))}()}j.getValidate=B,j.callRef=N,j.default=S},86980:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(22145),P=_(97692),H=_(27006);j.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:S,tagName:B}})=>S===b.DiscrError.Tag?`tag "${B}" must be string`:`value of tag "${B}" must be in oneOf`,params:({params:{discrError:S,tag:B,tagName:N}})=>y._`{error: ${S}, tag: ${N}, tagValue: ${B}}`},code(S){const{gen:B,data:N,schema:U,parentSchema:A,it:G}=S,{oneOf:L}=A;if(!G.opts.discriminator)throw new Error("discriminator: requires discriminator option");const z=U.propertyName;if("string"!=typeof z)throw new Error("discriminator: requires propertyName");if(U.mapping)throw new Error("discriminator: mapping is not supported");if(!L)throw new Error("discriminator: requires oneOf keyword");const ee=B.let("valid",!1),q=B.const("tag",y._`${N}${(0,y.getProperty)(z)}`);function J(ce){const ae=B.name("valid"),fe=S.subschema({keyword:"oneOf",schemaProp:ce},ae);return S.mergeEvaluated(fe,y.Name),ae}B.if(y._`typeof ${q} == "string"`,()=>function Z(){const ce=function se(){var ce;const ae={},fe=we(A);let he=!0;for(let C=0;C<L.length;C++){let a=L[C];a?.$ref&&!(0,H.schemaHasRulesButRef)(a,G.self.RULES)&&(a=P.resolveRef.call(G.self,G.schemaEnv.root,G.baseId,a?.$ref),a instanceof P.SchemaEnv&&(a=a.schema));const d=null===(ce=a?.properties)||void 0===ce?void 0:ce[z];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${z}"`);he=he&&(fe||we(a)),Me(d,C)}if(!he)throw new Error(`discriminator: "${z}" must be required`);return ae;function we({required:C}){return Array.isArray(C)&&C.includes(z)}function Me(C,a){if(C.const)Pe(C.const,a);else{if(!C.enum)throw new Error(`discriminator: "properties/${z}" must have "const" or "enum"`);for(const d of C.enum)Pe(d,a)}}function Pe(C,a){if("string"!=typeof C||C in ae)throw new Error(`discriminator: "${z}" values must be unique strings`);ae[C]=a}}();B.if(!1);for(const ae in ce)B.elseIf(y._`${q} === ${ae}`),B.assign(ee,J(ce[ae]));B.else(),S.error(!1,{discrError:b.DiscrError.Mapping,tag:q,tagName:z}),B.endIf()}(),()=>S.error(!1,{discrError:b.DiscrError.Tag,tag:q,tagName:z})),S.ok(ee)}}},22145:(Je,j)=>{"use strict";var y;Object.defineProperty(j,"__esModule",{value:!0}),j.DiscrError=void 0,(y=j.DiscrError||(j.DiscrError={})).Tag="tag",y.Mapping="mapping"},98496:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(11867),b=_(64023),P=_(68261),H=_(79745),w=_(54458),O=_(77616),S=_(23463),B=_(3462),N=[H.default,y.default,b.default,(0,P.default)(!0),S.default,B.metadataVocabulary,B.contentVocabulary,w.default,O.default];j.default=N},61281:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.dynamicAnchor=void 0;const y=_(1038),b=_(23432),P=_(97692),H=_(84862),w={keyword:"$dynamicAnchor",schemaType:"string",code:B=>O(B,B.schema)};function O(B,N){const{gen:U,it:A}=B;A.schemaEnv.root.dynamicAnchors[N]=!0;const G=y._`${b.default.dynamicAnchors}${(0,y.getProperty)(N)}`,L="#"===A.errSchemaPath?A.validateName:function S(B){const{schemaEnv:N,schema:U,self:A}=B.it,{root:G,baseId:L,localRefs:z,meta:ee}=N.root,{schemaId:q}=A.opts,Z=new P.SchemaEnv({schema:U,schemaId:q,root:G,baseId:L,localRefs:z,meta:ee});return P.compileSchema.call(A,Z),(0,H.getValidate)(B,Z)}(B);U.if(y._`!${G}`,()=>U.assign(G,L))}j.dynamicAnchor=O,j.default=w},35207:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.dynamicRef=void 0;const y=_(1038),b=_(23432),P=_(84862),H={keyword:"$dynamicRef",schemaType:"string",code:O=>w(O,O.schema)};function w(O,S){const{gen:B,keyword:N,it:U}=O;if("#"!==S[0])throw new Error(`"${N}" only supports hash fragment reference`);const A=S.slice(1);if(U.allErrors)G();else{const z=B.let("valid",!1);G(z),O.ok(z)}function G(z){if(U.schemaEnv.root.dynamicAnchors[A]){const ee=B.let("_v",y._`${b.default.dynamicAnchors}${(0,y.getProperty)(A)}`);B.if(ee,L(ee,z),L(U.validateName,z))}else L(U.validateName,z)()}function L(z,ee){return ee?()=>B.block(()=>{(0,P.callRef)(O,z),B.let(ee,!0)}):()=>(0,P.callRef)(O,z)}}j.dynamicRef=w,j.default=H},79745:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(61281),b=_(35207),P=_(34028),H=_(65684);j.default=[y.default,b.default,P.default,H.default]},34028:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(61281),b=_(27006);j.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(H){H.schema?(0,y.dynamicAnchor)(H,""):(0,b.checkStrictMode)(H.it,"$recursiveAnchor: false is ignored")}}},65684:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(35207);j.default={keyword:"$recursiveRef",schemaType:"string",code:P=>(0,y.dynamicRef)(P,P.schema)}},98140:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038);j.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:H})=>y.str`must match format "${H}"`,params:({schemaCode:H})=>y._`{format: ${H}}`},code(H,w){const{gen:O,data:S,$data:B,schema:N,schemaCode:U,it:A}=H,{opts:G,errSchemaPath:L,schemaEnv:z,self:ee}=A;G.validateFormats&&(B?function q(){const J=O.scopeValue("formats",{ref:ee.formats,code:G.code.formats}),se=O.const("fDef",y._`${J}[${U}]`),ce=O.let("fType"),ae=O.let("format");O.if(y._`typeof ${se} == "object" && !(${se} instanceof RegExp)`,()=>O.assign(ce,y._`${se}.type || "string"`).assign(ae,y._`${se}.validate`),()=>O.assign(ce,y._`"string"`).assign(ae,se)),H.fail$data((0,y.or)(function fe(){return!1===G.strictSchema?y.nil:y._`${U} && !${ae}`}(),function he(){const we=z.$async?y._`(${se}.async ? await ${ae}(${S}) : ${ae}(${S}))`:y._`${ae}(${S})`,Me=y._`(typeof ${ae} == "function" ? ${we} : ${ae}.test(${S}))`;return y._`${ae} && ${ae} !== true && ${ce} === ${w} && !${Me}`}()))}():function Z(){const J=ee.formats[N];if(!J)return void function fe(){if(!1!==G.strictSchema)throw new Error(Me());function Me(){return`unknown format "${N}" ignored in schema at path "${L}"`}ee.logger.warn(Me())}();if(!0===J)return;const[se,ce,ae]=function he(Me){const Pe=Me instanceof RegExp?(0,y.regexpCode)(Me):G.code.formats?y._`${G.code.formats}${(0,y.getProperty)(N)}`:void 0,C=O.scopeValue("formats",{key:N,ref:Me,code:Pe});return"object"!=typeof Me||Me instanceof RegExp?["string",Me,C]:[Me.type||"string",Me.validate,y._`${C}.validate`]}(J);se===w&&H.pass(function we(){if("object"==typeof J&&!(J instanceof RegExp)&&J.async){if(!z.$async)throw new Error("async format in sync schema");return y._`await ${ae}(${S})`}return"function"==typeof ce?y._`${ae}(${S})`:y._`${ae}.test(${S})`}())}())}}},23463:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const b=[_(98140).default];j.default=b},3462:(Je,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.contentVocabulary=j.metadataVocabulary=void 0,j.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],j.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(53037),b=_(85164),P=_(22705);j.default=[y.default,b.default,P.default]},77616:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(40425),b=_(89826);j.default=[y.default,b.default]},89826:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006);j.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:w}})=>y.str`must NOT have more than ${w} items`,params:({params:{len:w}})=>y._`{limit: ${w}}`},code(w){const{gen:O,schema:S,data:B,it:N}=w,U=N.items||0;if(!0===U)return;const A=O.const("len",y._`${B}.length`);if(!1===S)w.setParams({len:U}),w.fail(y._`${A} > ${U}`);else if("object"==typeof S&&!(0,b.alwaysValidSchema)(N,S)){const L=O.var("valid",y._`${A} <= ${U}`);O.if((0,y.not)(L),()=>function G(L,z){O.forRange("i",z,A,ee=>{w.subschema({keyword:"unevaluatedItems",dataProp:ee,dataPropType:b.Type.Num},L),N.allErrors||O.if((0,y.not)(L),()=>O.break())})}(L,U)),w.ok(L)}N.items=!0}}},40425:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006),P=_(23432);j.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:O})=>y._`{unevaluatedProperty: ${O.unevaluatedProperty}}`},code(O){const{gen:S,schema:B,data:N,errsCount:U,it:A}=O;if(!U)throw new Error("ajv implementation error");const{allErrors:G,props:L}=A;function z(Z){if(!1===B)return O.setParams({unevaluatedProperty:Z}),O.error(),void(G||S.break());if(!(0,b.alwaysValidSchema)(A,B)){const J=S.name("valid");O.subschema({keyword:"unevaluatedProperties",dataProp:Z,dataPropType:b.Type.Str},J),G||S.if((0,y.not)(J),()=>S.break())}}L instanceof y.Name?S.if(y._`${L} !== true`,()=>S.forIn("key",N,Z=>S.if(function ee(Z,J){return y._`!${Z} || !${Z}[${J}]`}(L,Z),()=>z(Z)))):!0!==L&&S.forIn("key",N,Z=>void 0===L?z(Z):S.if(function q(Z,J){const se=[];for(const ce in Z)!0===Z[ce]&&se.push(y._`${J} !== ${ce}`);return(0,y.and)(...se)}(L,Z),()=>z(Z))),A.props=!0,O.ok(y._`${U} === ${P.default.errors}`)}}},90796:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006),P=_(92281);j.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:O})=>y._`{allowedValue: ${O}}`},code(O){const{gen:S,data:B,$data:N,schemaCode:U,schema:A}=O;N||A&&"object"==typeof A?O.fail$data(y._`!${(0,b.useFunc)(S,P.default)}(${B}, ${U})`):O.fail(y._`${A} !== ${B}`)}}},53037:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(68032);j.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:y.error,code:P=>(0,y.validatePropertyDeps)(P)}},65266:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006),P=_(92281);j.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:O})=>y._`{allowedValues: ${O}}`},code(O){const{gen:S,data:B,$data:N,schema:U,schemaCode:A,it:G}=O;if(!N&&0===U.length)throw new Error("enum must have non-empty array");let z;const ee=()=>z??(z=(0,b.useFunc)(S,P.default));let q;if(U.length>=G.opts.loopEnum||N)q=S.let("valid"),O.block$data(q,function Z(){S.assign(q,!1),S.forOf("v",A,se=>S.if(y._`${ee()}(${B}, ${se})`,()=>S.assign(q,!0).break()))});else{if(!Array.isArray(U))throw new Error("ajv implementation error");const se=S.const("vSchema",A);q=(0,y.or)(...U.map((ce,ae)=>function J(se,ce){const ae=U[ce];return"object"==typeof ae&&null!==ae?y._`${ee()}(${B}, ${se}[${ce}])`:y._`${B} === ${ae}`}(se,ae)))}O.pass(q)}}},64023:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(78665),b=_(30554),P=_(13972),H=_(68753),w=_(99169),O=_(56454),S=_(85962),B=_(16598),N=_(90796),U=_(65266);j.default=[y.default,b.default,P.default,H.default,w.default,O.default,S.default,B.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},N.default,U.default]},22705:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(27006);j.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:P,parentSchema:H,it:w}){void 0===H.contains&&(0,y.checkStrictMode)(w,`"${P}" without "contains" is ignored`)}}},85962:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038);j.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:w})=>y.str`must NOT have ${"maxItems"===H?"more":"fewer"} than ${w} items`,params:({schemaCode:H})=>y._`{limit: ${H}}`},code(H){const{keyword:w,data:O,schemaCode:S}=H;H.fail$data(y._`${O}.length ${"maxItems"===w?y.operators.GT:y.operators.LT} ${S}`)}}},13972:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006),P=_(26488);j.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:O,schemaCode:S})=>y.str`must NOT have ${"maxLength"===O?"more":"fewer"} than ${S} characters`,params:({schemaCode:O})=>y._`{limit: ${O}}`},code(O){const{keyword:S,data:B,schemaCode:N,it:U}=O,A="maxLength"===S?y.operators.GT:y.operators.LT,G=!1===U.opts.unicode?y._`${B}.length`:y._`${(0,b.useFunc)(O.gen,P.default)}(${B})`;O.fail$data(y._`${G} ${A} ${N}`)}}},78665:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=y.operators,P={maximum:{okStr:"<=",ok:b.LTE,fail:b.GT},minimum:{okStr:">=",ok:b.GTE,fail:b.LT},exclusiveMaximum:{okStr:"<",ok:b.LT,fail:b.GTE},exclusiveMinimum:{okStr:">",ok:b.GT,fail:b.LTE}},H={message:({keyword:O,schemaCode:S})=>y.str`must be ${P[O].okStr} ${S}`,params:({keyword:O,schemaCode:S})=>y._`{comparison: ${P[O].okStr}, limit: ${S}}`},w={keyword:Object.keys(P),type:"number",schemaType:"number",$data:!0,error:H,code(O){const{keyword:S,data:B,schemaCode:N}=O;O.fail$data(y._`${B} ${P[S].fail} ${N} || isNaN(${B})`)}};j.default=w},99169:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038);j.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:w})=>y.str`must NOT have ${"maxProperties"===H?"more":"fewer"} than ${w} properties`,params:({schemaCode:H})=>y._`{limit: ${H}}`},code(H){const{keyword:w,data:O,schemaCode:S}=H;H.fail$data(y._`Object.keys(${O}).length ${"maxProperties"===w?y.operators.GT:y.operators.LT} ${S}`)}}},30554:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038);j.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:H})=>y.str`must be multiple of ${H}`,params:({schemaCode:H})=>y._`{multipleOf: ${H}}`},code(H){const{gen:w,data:O,schemaCode:S,it:B}=H,N=B.opts.multipleOfPrecision,U=w.let("res"),A=N?y._`Math.abs(Math.round(${U}) - ${U}) > 1e-${N}`:y._`${U} !== parseInt(${U})`;H.fail$data(y._`(${S} === 0 || (${U} = ${O}/${S}, ${A}))`)}}},68753:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(42406),b=_(1038);j.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:w})=>b.str`must match pattern "${w}"`,params:({schemaCode:w})=>b._`{pattern: ${w}}`},code(w){const{data:O,$data:S,schema:B,schemaCode:N,it:U}=w,G=S?b._`(new RegExp(${N}, ${U.opts.unicodeRegExp?"u":""}))`:(0,y.usePattern)(w,B);w.fail$data(b._`!${G}.test(${O})`)}}},56454:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(42406),b=_(1038),P=_(27006);j.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:O}})=>b.str`must have required property '${O}'`,params:({params:{missingProperty:O}})=>b._`{missingProperty: ${O}}`},code(O){const{gen:S,schema:B,schemaCode:N,data:U,$data:A,it:G}=O,{opts:L}=G;if(!A&&0===B.length)return;const z=B.length>=L.loopRequired;if(G.allErrors?function ee(){if(z||A)O.block$data(b.nil,Z);else for(const se of B)(0,y.checkReportMissingProp)(O,se)}():function q(){const se=S.let("missing");if(z||A){const ce=S.let("valid",!0);O.block$data(ce,()=>function J(se,ce){O.setParams({missingProperty:se}),S.forOf(se,N,()=>{S.assign(ce,(0,y.propertyInData)(S,U,se,L.ownProperties)),S.if((0,b.not)(ce),()=>{O.error(),S.break()})},b.nil)}(se,ce)),O.ok(ce)}else S.if((0,y.checkMissingProp)(O,B,se)),(0,y.reportMissingProp)(O,se),S.else()}(),L.strictRequired){const se=O.parentSchema.properties,{definedProperties:ce}=O.it;for(const ae of B)void 0!==se?.[ae]||ce.has(ae)||(0,P.checkStrictMode)(G,`required property "${ae}" is not defined at "${G.schemaEnv.baseId+G.errSchemaPath}" (strictRequired)`,G.opts.strictRequired)}function Z(){S.forOf("prop",N,se=>{O.setParams({missingProperty:se}),S.if((0,y.noPropertyInData)(S,U,se,L.ownProperties),()=>O.error())})}}}},16598:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(55999),b=_(1038),P=_(27006),H=_(92281);j.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:S,j:B}})=>b.str`must NOT have duplicate items (items ## ${B} and ${S} are identical)`,params:({params:{i:S,j:B}})=>b._`{i: ${S}, j: ${B}}`},code(S){const{gen:B,data:N,$data:U,schema:A,parentSchema:G,schemaCode:L,it:z}=S;if(!U&&!A)return;const ee=B.let("valid"),q=G.items?(0,y.getSchemaTypes)(G.items):[];function se(ae,fe){const he=B.name("item"),we=(0,y.checkDataTypes)(q,he,z.opts.strictNumbers,y.DataType.Wrong),Me=B.const("indices",b._`{}`);B.for(b._`;${ae}--;`,()=>{B.let(he,b._`${N}[${ae}]`),B.if(we,b._`continue`),q.length>1&&B.if(b._`typeof ${he} == "string"`,b._`${he} += "_"`),B.if(b._`typeof ${Me}[${he}] == "number"`,()=>{B.assign(fe,b._`${Me}[${he}]`),S.error(),B.assign(ee,!1).break()}).code(b._`${Me}[${he}] = ${ae}`)})}function ce(ae,fe){const he=(0,P.useFunc)(B,H.default),we=B.name("outer");B.label(we).for(b._`;${ae}--;`,()=>B.for(b._`${fe} = ${ae}; ${fe}--;`,()=>B.if(b._`${he}(${N}[${ae}], ${N}[${fe}])`,()=>{S.error(),B.assign(ee,!1).break(we)})))}S.block$data(ee,function Z(){const ae=B.let("i",b._`${N}.length`),fe=B.let("j");S.setParams({i:ae,j:fe}),B.assign(ee,!0),B.if(b._`${ae} > 1`,()=>(function J(){return q.length>0&&!q.some(ae=>"object"===ae||"array"===ae)}()?se:ce)(ae,fe))},b._`${L} === false`),S.ok(ee)}}},68316:(Je,j,_)=>{"use strict";const y=_(13981),b=_(22020),P="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function J(K){return+K!=K&&(K=0),S.alloc(+K)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function O(K){if(K>H)throw new RangeError('The value "'+K+'" is invalid for option "size"');const T=new Uint8Array(K);return Object.setPrototypeOf(T,S.prototype),T}function S(K,T,M){if("number"==typeof K){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return A(K)}return B(K,T,M)}function B(K,T,M){if("string"==typeof K)return function G(K,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!S.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const M=0|se(K,T);let Y=O(M);const pe=Y.write(K,T);return pe!==M&&(Y=Y.slice(0,pe)),Y}(K,T);if(ArrayBuffer.isView(K))return function z(K){if(ze(K,Uint8Array)){const T=new Uint8Array(K);return ee(T.buffer,T.byteOffset,T.byteLength)}return L(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ze(K,ArrayBuffer)||K&&ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(K,SharedArrayBuffer)||K&&ze(K.buffer,SharedArrayBuffer)))return ee(K,T,M);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=K.valueOf&&K.valueOf();if(null!=Y&&Y!==K)return S.from(Y,T,M);const pe=function q(K){if(S.isBuffer(K)){const T=0|Z(K.length),M=O(T);return 0===M.length||K.copy(M,0,0,T),M}return void 0!==K.length?"number"!=typeof K.length||Dt(K.length)?O(0):L(K):"Buffer"===K.type&&Array.isArray(K.data)?L(K.data):void 0}(K);if(pe)return pe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return S.from(K[Symbol.toPrimitive]("string"),T,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function N(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function A(K){return N(K),O(K<0?0:0|Z(K))}function L(K){const T=K.length<0?0:0|Z(K.length),M=O(T);for(let Y=0;Y<T;Y+=1)M[Y]=255&K[Y];return M}function ee(K,T,M){if(T<0||K.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<T+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return Y=void 0===T&&void 0===M?new Uint8Array(K):void 0===M?new Uint8Array(K,T):new Uint8Array(K,T,M),Object.setPrototypeOf(Y,S.prototype),Y}function Z(K){if(K>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|K}function se(K,T){if(S.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const M=K.length,Y=arguments.length>2&&!0===arguments[2];if(!Y&&0===M)return 0;let pe=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ne(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Be(K).length;default:if(pe)return Y?-1:ne(K).length;T=(""+T).toLowerCase(),pe=!0}}function ce(K,T,M){let Y=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(T>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return x(this,T,M);case"utf8":case"utf-8":return m(this,T,M);case"ascii":return D(this,T,M);case"latin1":case"binary":return R(this,T,M);case"base64":return d(this,T,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,T,M);default:if(Y)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Y=!0}}function ae(K,T,M){const Y=K[T];K[T]=K[M],K[M]=Y}function fe(K,T,M,Y,pe){if(0===K.length)return-1;if("string"==typeof M?(Y=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=pe?0:K.length-1),M<0&&(M=K.length+M),M>=K.length){if(pe)return-1;M=K.length-1}else if(M<0){if(!pe)return-1;M=0}if("string"==typeof T&&(T=S.from(T,Y)),S.isBuffer(T))return 0===T.length?-1:he(K,T,M,Y,pe);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call(K,T,M):Uint8Array.prototype.lastIndexOf.call(K,T,M):he(K,[T],M,Y,pe);throw new TypeError("val must be string, number or Buffer")}function he(K,T,M,Y,pe){let It,ke=1,Ne=K.length,lt=T.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(K.length<2||T.length<2)return-1;ke=2,Ne/=2,lt/=2,M/=2}function en(Kt,rn){return 1===ke?Kt[rn]:Kt.readUInt16BE(rn*ke)}if(pe){let Kt=-1;for(It=M;It<Ne;It++)if(en(K,It)===en(T,-1===Kt?0:It-Kt)){if(-1===Kt&&(Kt=It),It-Kt+1===lt)return Kt*ke}else-1!==Kt&&(It-=It-Kt),Kt=-1}else for(M+lt>Ne&&(M=Ne-lt),It=M;It>=0;It--){let Kt=!0;for(let rn=0;rn<lt;rn++)if(en(K,It+rn)!==en(T,rn)){Kt=!1;break}if(Kt)return It}return-1}function we(K,T,M,Y){M=Number(M)||0;const pe=K.length-M;Y?(Y=Number(Y))>pe&&(Y=pe):Y=pe;const ke=T.length;let Ne;for(Y>ke/2&&(Y=ke/2),Ne=0;Ne<Y;++Ne){const lt=parseInt(T.substr(2*Ne,2),16);if(Dt(lt))return Ne;K[M+Ne]=lt}return Ne}function Me(K,T,M,Y){return Qe(ne(T,K.length-M),K,M,Y)}function Pe(K,T,M,Y){return Qe(function ue(K){const T=[];for(let M=0;M<K.length;++M)T.push(255&K.charCodeAt(M));return T}(T),K,M,Y)}function C(K,T,M,Y){return Qe(Be(T),K,M,Y)}function a(K,T,M,Y){return Qe(function De(K,T){let M,Y,pe;const ke=[];for(let Ne=0;Ne<K.length&&!((T-=2)<0);++Ne)M=K.charCodeAt(Ne),Y=M>>8,pe=M%256,ke.push(pe),ke.push(Y);return ke}(T,K.length-M),K,M,Y)}function d(K,T,M){return y.fromByteArray(0===T&&M===K.length?K:K.slice(T,M))}function m(K,T,M){M=Math.min(K.length,M);const Y=[];let pe=T;for(;pe<M;){const ke=K[pe];let Ne=null,lt=ke>239?4:ke>223?3:ke>191?2:1;if(pe+lt<=M){let en,It,Kt,rn;switch(lt){case 1:ke<128&&(Ne=ke);break;case 2:en=K[pe+1],128==(192&en)&&(rn=(31&ke)<<6|63&en,rn>127&&(Ne=rn));break;case 3:en=K[pe+1],It=K[pe+2],128==(192&en)&&128==(192&It)&&(rn=(15&ke)<<12|(63&en)<<6|63&It,rn>2047&&(rn<55296||rn>57343)&&(Ne=rn));break;case 4:en=K[pe+1],It=K[pe+2],Kt=K[pe+3],128==(192&en)&&128==(192&It)&&128==(192&Kt)&&(rn=(15&ke)<<18|(63&en)<<12|(63&It)<<6|63&Kt,rn>65535&&rn<1114112&&(Ne=rn))}}null===Ne?(Ne=65533,lt=1):Ne>65535&&(Ne-=65536,Y.push(Ne>>>10&1023|55296),Ne=56320|1023&Ne),Y.push(Ne),pe+=lt}return function E(K){const T=K.length;if(T<=p)return String.fromCharCode.apply(String,K);let M="",Y=0;for(;Y<T;)M+=String.fromCharCode.apply(String,K.slice(Y,Y+=p));return M}(Y)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function w(){try{const K=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(K,T),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(K,T,M){return B(K,T,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(K,T,M){return function U(K,T,M){return N(K),K<=0?O(K):void 0!==T?"string"==typeof M?O(K).fill(T,M):O(K).fill(T):O(K)}(K,T,M)},S.allocUnsafe=function(K){return A(K)},S.allocUnsafeSlow=function(K){return A(K)},S.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==S.prototype},S.compare=function(T,M){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),ze(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(T)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===M)return 0;let Y=T.length,pe=M.length;for(let ke=0,Ne=Math.min(Y,pe);ke<Ne;++ke)if(T[ke]!==M[ke]){Y=T[ke],pe=M[ke];break}return Y<pe?-1:pe<Y?1:0},S.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(T,M){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return S.alloc(0);let Y;if(void 0===M)for(M=0,Y=0;Y<T.length;++Y)M+=T[Y].length;const pe=S.allocUnsafe(M);let ke=0;for(Y=0;Y<T.length;++Y){let Ne=T[Y];if(ze(Ne,Uint8Array))ke+Ne.length>pe.length?(S.isBuffer(Ne)||(Ne=S.from(Ne)),Ne.copy(pe,ke)):Uint8Array.prototype.set.call(pe,Ne,ke);else{if(!S.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(pe,ke)}ke+=Ne.length}return pe},S.byteLength=se,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<T;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<T;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<T;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ce.apply(this,arguments)},S.prototype.equals=function(T){if(!S.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===S.compare(this,T)},S.prototype.inspect=function(){let T="";const M=j.INSPECT_MAX_BYTES;return T=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(T+=" ... "),"<Buffer "+T+">"},P&&(S.prototype[P]=S.prototype.inspect),S.prototype.compare=function(T,M,Y,pe,ke){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),!S.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===M&&(M=0),void 0===Y&&(Y=T?T.length:0),void 0===pe&&(pe=0),void 0===ke&&(ke=this.length),M<0||Y>T.length||pe<0||ke>this.length)throw new RangeError("out of range index");if(pe>=ke&&M>=Y)return 0;if(pe>=ke)return-1;if(M>=Y)return 1;if(this===T)return 0;let Ne=(ke>>>=0)-(pe>>>=0),lt=(Y>>>=0)-(M>>>=0);const en=Math.min(Ne,lt),It=this.slice(pe,ke),Kt=T.slice(M,Y);for(let rn=0;rn<en;++rn)if(It[rn]!==Kt[rn]){Ne=It[rn],lt=Kt[rn];break}return Ne<lt?-1:lt<Ne?1:0},S.prototype.includes=function(T,M,Y){return-1!==this.indexOf(T,M,Y)},S.prototype.indexOf=function(T,M,Y){return fe(this,T,M,Y,!0)},S.prototype.lastIndexOf=function(T,M,Y){return fe(this,T,M,Y,!1)},S.prototype.write=function(T,M,Y,pe){if(void 0===M)pe="utf8",Y=this.length,M=0;else if(void 0===Y&&"string"==typeof M)pe=M,Y=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(Y)?(Y>>>=0,void 0===pe&&(pe="utf8")):(pe=Y,Y=void 0)}const ke=this.length-M;if((void 0===Y||Y>ke)&&(Y=ke),T.length>0&&(Y<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let Ne=!1;for(;;)switch(pe){case"hex":return we(this,T,M,Y);case"utf8":case"utf-8":return Me(this,T,M,Y);case"ascii":case"latin1":case"binary":return Pe(this,T,M,Y);case"base64":return C(this,T,M,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,T,M,Y);default:if(Ne)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ne=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(127&K[pe]);return Y}function R(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(K[pe]);return Y}function x(K,T,M){const Y=K.length;(!T||T<0)&&(T=0),(!M||M<0||M>Y)&&(M=Y);let pe="";for(let ke=T;ke<M;++ke)pe+=Xe[K[ke]];return pe}function s(K,T,M){const Y=K.slice(T,M);let pe="";for(let ke=0;ke<Y.length-1;ke+=2)pe+=String.fromCharCode(Y[ke]+256*Y[ke+1]);return pe}function v(K,T,M){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+T>M)throw new RangeError("Trying to access beyond buffer length")}function $(K,T,M,Y,pe,ke){if(!S.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>pe||T<ke)throw new RangeError('"value" argument is out of bounds');if(M+Y>K.length)throw new RangeError("Index out of range")}function F(K,T,M,Y,pe){be(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,M}function Q(K,T,M,Y,pe){be(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M+7]=ke,ke>>=8,K[M+6]=ke,ke>>=8,K[M+5]=ke,ke>>=8,K[M+4]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M+3]=Ne,Ne>>=8,K[M+2]=Ne,Ne>>=8,K[M+1]=Ne,Ne>>=8,K[M]=Ne,M+8}function de(K,T,M,Y,pe,ke){if(M+Y>K.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function Ce(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,4),b.write(K,T,M,Y,23,4),M+4}function Re(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,8),b.write(K,T,M,Y,52,8),M+8}S.prototype.slice=function(T,M){const Y=this.length;(T=~~T)<0?(T+=Y)<0&&(T=0):T>Y&&(T=Y),(M=void 0===M?Y:~~M)<0?(M+=Y)<0&&(M=0):M>Y&&(M=Y),M<T&&(M=T);const pe=this.subarray(T,M);return Object.setPrototypeOf(pe,S.prototype),pe},S.prototype.readUintLE=S.prototype.readUIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return pe},S.prototype.readUintBE=S.prototype.readUIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T+--M],ke=1;for(;M>0&&(ke*=256);)pe+=this[T+--M]*ke;return pe},S.prototype.readUint8=S.prototype.readUInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),this[T]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]|this[T+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]<<8|this[T+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},S.prototype.readBigUInt64LE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M+256*this[++T]+65536*this[++T]+this[++T]*2**24,ke=this[++T]+256*this[++T]+65536*this[++T]+Y*2**24;return BigInt(pe)+(BigInt(ke)<<BigInt(32))}),S.prototype.readBigUInt64BE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M*2**24+65536*this[++T]+256*this[++T]+this[++T],ke=this[++T]*2**24+65536*this[++T]+256*this[++T]+Y;return(BigInt(pe)<<BigInt(32))+BigInt(ke)}),S.prototype.readIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return ke*=128,pe>=ke&&(pe-=Math.pow(2,8*M)),pe},S.prototype.readIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=M,ke=1,Ne=this[T+--pe];for(;pe>0&&(ke*=256);)Ne+=this[T+--pe]*ke;return ke*=128,Ne>=ke&&(Ne-=Math.pow(2,8*M)),Ne},S.prototype.readInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},S.prototype.readInt16LE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T]|this[T+1]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt16BE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T+1]|this[T]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},S.prototype.readInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},S.prototype.readBigInt64LE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];return(void 0===M||void 0===Y)&&ge(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Y<<24))<<BigInt(32))+BigInt(M+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),S.prototype.readBigInt64BE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=(M<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(pe)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Y)}),S.prototype.readFloatLE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!0,23,4)},S.prototype.readFloatBE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!1,23,4)},S.prototype.readDoubleLE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!0,52,8)},S.prototype.readDoubleBE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=1,Ne=0;for(this[M]=255&T;++Ne<Y&&(ke*=256);)this[M+Ne]=T/ke&255;return M+Y},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=Y-1,Ne=1;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)this[M+ke]=T/Ne&255;return M+Y},S.prototype.writeUint8=S.prototype.writeUInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,255,0),this[M]=255&T,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M+3]=T>>>24,this[M+2]=T>>>16,this[M+1]=T>>>8,this[M]=255&T,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigUInt64LE=Ue(function(T,M=0){return F(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Ue(function(T,M=0){return Q(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=0,Ne=1,lt=0;for(this[M]=255&T;++ke<Y&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke-1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeIntBE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=Y-1,Ne=1,lt=0;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke+1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,127,-128),T<0&&(T=255+T+1),this[M]=255&T,M+1},S.prototype.writeInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),this[M]=255&T,this[M+1]=T>>>8,this[M+2]=T>>>16,this[M+3]=T>>>24,M+4},S.prototype.writeInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigInt64LE=Ue(function(T,M=0){return F(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Ue(function(T,M=0){return Q(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(T,M,Y){return Ce(this,T,M,!0,Y)},S.prototype.writeFloatBE=function(T,M,Y){return Ce(this,T,M,!1,Y)},S.prototype.writeDoubleLE=function(T,M,Y){return Re(this,T,M,!0,Y)},S.prototype.writeDoubleBE=function(T,M,Y){return Re(this,T,M,!1,Y)},S.prototype.copy=function(T,M,Y,pe){if(!S.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!pe&&0!==pe&&(pe=this.length),M>=T.length&&(M=T.length),M||(M=0),pe>0&&pe<Y&&(pe=Y),pe===Y||0===T.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),T.length-M<pe-Y&&(pe=T.length-M+Y);const ke=pe-Y;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,Y,pe):Uint8Array.prototype.set.call(T,this.subarray(Y,pe),M),ke},S.prototype.fill=function(T,M,Y,pe){if("string"==typeof T){if("string"==typeof M?(pe=M,M=0,Y=this.length):"string"==typeof Y&&(pe=Y,Y=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!S.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(1===T.length){const Ne=T.charCodeAt(0);("utf8"===pe&&Ne<128||"latin1"===pe)&&(T=Ne)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(M<0||this.length<M||this.length<Y)throw new RangeError("Out of range index");if(Y<=M)return this;let ke;if(M>>>=0,Y=void 0===Y?this.length:Y>>>0,T||(T=0),"number"==typeof T)for(ke=M;ke<Y;++ke)this[ke]=T;else{const Ne=S.isBuffer(T)?T:S.from(T,pe),lt=Ne.length;if(0===lt)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ke=0;ke<Y-M;++ke)this[ke+M]=Ne[ke%lt]}return this};const Ve={};function Ee(K,T,M){Ve[K]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function _e(K){let T="",M=K.length;const Y="-"===K[0]?1:0;for(;M>=Y+4;M-=3)T=`_${K.slice(M-3,M)}${T}`;return`${K.slice(0,M)}${T}`}function be(K,T,M,Y,pe,ke){if(K>M||K<T){const Ne="bigint"==typeof T?"n":"";let lt;throw lt=ke>3?0===T||T===BigInt(0)?`>= 0${Ne} and < 2${Ne} ** ${8*(ke+1)}${Ne}`:`>= -(2${Ne} ** ${8*(ke+1)-1}${Ne}) and < 2 ** ${8*(ke+1)-1}${Ne}`:`>= ${T}${Ne} and <= ${M}${Ne}`,new Ve.ERR_OUT_OF_RANGE("value",lt,K)}!function Fe(K,T,M){Ae(T,"offset"),(void 0===K[T]||void 0===K[T+M])&&ge(T,K.length-(M+1))}(Y,pe,ke)}function Ae(K,T){if("number"!=typeof K)throw new Ve.ERR_INVALID_ARG_TYPE(T,"number",K)}function ge(K,T,M){throw Math.floor(K)!==K?(Ae(K,M),new Ve.ERR_OUT_OF_RANGE(M||"offset","an integer",K)):T<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${T}`,K)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(K,T){return`The "${K}" argument must be of type number. Received type ${typeof T}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(K,T,M){let Y=`The value of "${K}" is out of range.`,pe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?pe=_e(String(M)):"bigint"==typeof M&&(pe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(pe=_e(pe)),pe+="n"),Y+=` It must be ${T}. Received ${pe}`,Y},RangeError);const me=/[^+/0-9A-Za-z-_]/g;function ne(K,T){let M;T=T||1/0;const Y=K.length;let pe=null;const ke=[];for(let Ne=0;Ne<Y;++Ne){if(M=K.charCodeAt(Ne),M>55295&&M<57344){if(!pe){if(M>56319){(T-=3)>-1&&ke.push(239,191,189);continue}if(Ne+1===Y){(T-=3)>-1&&ke.push(239,191,189);continue}pe=M;continue}if(M<56320){(T-=3)>-1&&ke.push(239,191,189),pe=M;continue}M=65536+(pe-55296<<10|M-56320)}else pe&&(T-=3)>-1&&ke.push(239,191,189);if(pe=null,M<128){if((T-=1)<0)break;ke.push(M)}else if(M<2048){if((T-=2)<0)break;ke.push(M>>6|192,63&M|128)}else if(M<65536){if((T-=3)<0)break;ke.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;ke.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return ke}function Be(K){return y.toByteArray(function te(K){if((K=(K=K.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Qe(K,T,M,Y){let pe;for(pe=0;pe<Y&&!(pe+M>=T.length||pe>=K.length);++pe)T[pe+M]=K[pe];return pe}function ze(K,T){return K instanceof T||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===T.name}function Dt(K){return K!=K}const Xe=function(){const K="0123456789abcdef",T=new Array(256);for(let M=0;M<16;++M){const Y=16*M;for(let pe=0;pe<16;++pe)T[Y+pe]=K[M]+K[pe]}return T}();function Ue(K){return typeof BigInt>"u"?mt:K}function mt(){throw new Error("BigInt not supported")}},14078:Je=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}Je.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},57062:(Je,j,_)=>{"use strict";const{SymbolDispose:y}=_(56389),{AbortError:b,codes:P}=_(68154),{isNodeStream:H,isWebStream:w,kControllerErrorFunction:O}=_(32924),S=_(46017),{ERR_INVALID_ARG_TYPE:B}=P;let N;Je.exports.addAbortSignal=function(G,L){if(((A,G)=>{if("object"!=typeof A||!("aborted"in A))throw new B("signal","AbortSignal",A)})(G),!H(L)&&!w(L))throw new B("stream",["ReadableStream","WritableStream","Stream"],L);return Je.exports.addAbortSignalNoValidate(G,L)},Je.exports.addAbortSignalNoValidate=function(A,G){if("object"!=typeof A||!("aborted"in A))return G;const L=H(G)?()=>{G.destroy(new b(void 0,{cause:A.reason}))}:()=>{G[O](new b(void 0,{cause:A.reason}))};if(A.aborted)L();else{N=N||_(13509).addAbortListener;const z=N(A,L);S(G,z[y])}return G}},16630:(Je,j,_)=>{"use strict";const{StringPrototypeSlice:y,SymbolIterator:b,TypedArrayPrototypeSet:P,Uint8Array:H}=_(56389),{Buffer:w}=_(68316),{inspect:O}=_(13509);Je.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(B){const N={data:B,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length}unshift(B){const N={data:B,next:this.head};0===this.length&&(this.tail=N),this.head=N,++this.length}shift(){if(0===this.length)return;const B=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,B}clear(){this.head=this.tail=null,this.length=0}join(B){if(0===this.length)return"";let N=this.head,U=""+N.data;for(;null!==(N=N.next);)U+=B+N.data;return U}concat(B){if(0===this.length)return w.alloc(0);const N=w.allocUnsafe(B>>>0);let U=this.head,A=0;for(;U;)P(N,U.data,A),A+=U.data.length,U=U.next;return N}consume(B,N){const U=this.head.data;if(B<U.length){const A=U.slice(0,B);return this.head.data=U.slice(B),A}return B===U.length?this.shift():N?this._getString(B):this._getBuffer(B)}first(){return this.head.data}*[b](){for(let B=this.head;B;B=B.next)yield B.data}_getString(B){let N="",U=this.head,A=0;do{const G=U.data;if(!(B>G.length)){B===G.length?(N+=G,++A,this.head=U.next?U.next:this.tail=null):(N+=y(G,0,B),this.head=U,U.data=y(G,B));break}N+=G,B-=G.length,++A}while(null!==(U=U.next));return this.length-=A,N}_getBuffer(B){const N=w.allocUnsafe(B),U=B;let A=this.head,G=0;do{const L=A.data;if(!(B>L.length)){B===L.length?(P(N,L,U-B),++G,this.head=A.next?A.next:this.tail=null):(P(N,new H(L.buffer,L.byteOffset,B),U-B),this.head=A,A.data=L.slice(B));break}P(N,L,U-B),B-=L.length,++G}while(null!==(A=A.next));return this.length-=G,N}[Symbol.for("nodejs.util.inspect.custom")](B,N){return O(this,{...N,depth:0,customInspect:!1})}}},373:(Je,j,_)=>{"use strict";var y=_(29293).default;const{pipeline:b}=_(67843),P=_(13323),{destroyer:H}=_(96507),{isNodeStream:w,isReadable:O,isWritable:S,isWebStream:B,isTransformStream:N,isWritableStream:U,isReadableStream:A}=_(32924),{AbortError:G,codes:{ERR_INVALID_ARG_VALUE:L,ERR_MISSING_ARGS:z}}=_(68154),ee=_(46017);Je.exports=function(...Z){if(0===Z.length)throw new z("streams");if(1===Z.length)return P.from(Z[0]);const J=[...Z];if("function"==typeof Z[0]&&(Z[0]=P.from(Z[0])),"function"==typeof Z[Z.length-1]){const d=Z.length-1;Z[d]=P.from(Z[d])}for(let d=0;d<Z.length;++d)if(w(Z[d])||B(Z[d])){if(d<Z.length-1&&!(O(Z[d])||A(Z[d])||N(Z[d])))throw new L(`streams[${d}]`,J[d],"must be readable");if(d>0&&!(S(Z[d])||U(Z[d])||N(Z[d])))throw new L(`streams[${d}]`,J[d],"must be writable")}let se,ce,ae,fe,he;const Me=Z[0],Pe=b(Z,function we(d){const m=fe;fe=null,m?m(d):d?he.destroy(d):!a&&!C&&he.destroy()}),C=!!(S(Me)||U(Me)||N(Me)),a=!!(O(Pe)||A(Pe)||N(Pe));if(he=new P({writableObjectMode:!(null==Me||!Me.writableObjectMode),readableObjectMode:!(null==Pe||!Pe.readableObjectMode),writable:C,readable:a}),C){if(w(Me))he._write=function(m,p,E){Me.write(m,p)?E():se=E},he._final=function(m){Me.end(),ce=m},Me.on("drain",function(){if(se){const m=se;se=null,m()}});else if(B(Me)){const p=(N(Me)?Me.writable:Me).getWriter();he._write=function(){var E=y(function*(D,R,x){try{yield p.ready,p.write(D).catch(()=>{}),x()}catch(s){x(s)}});return function(D,R,x){return E.apply(this,arguments)}}(),he._final=function(){var E=y(function*(D){try{yield p.ready,p.close().catch(()=>{}),ce=D}catch(R){D(R)}});return function(D){return E.apply(this,arguments)}}()}const d=N(Pe)?Pe.readable:Pe;ee(d,()=>{if(ce){const m=ce;ce=null,m()}})}if(a)if(w(Pe))Pe.on("readable",function(){if(ae){const d=ae;ae=null,d()}}),Pe.on("end",function(){he.push(null)}),he._read=function(){for(;;){const d=Pe.read();if(null===d)return void(ae=he._read);if(!he.push(d))return}};else if(B(Pe)){const m=(N(Pe)?Pe.readable:Pe).getReader();he._read=y(function*(){for(;;)try{const{value:p,done:E}=yield m.read();if(!he.push(p))return;if(E)return void he.push(null)}catch{return}})}return he._destroy=function(d,m){!d&&null!==fe&&(d=new G),ae=null,se=null,ce=null,null===fe?m(d):(fe=m,w(Pe)&&H(Pe,d))},he}},96507:(Je,j,_)=>{"use strict";const y=_(40573),{aggregateTwoErrors:b,codes:{ERR_MULTIPLE_CALLBACK:P},AbortError:H}=_(68154),{Symbol:w}=_(56389),{kIsDestroyed:O,isDestroyed:S,isFinished:B,isServerRequest:N}=_(32924),U=w("kDestroy"),A=w("kConstruct");function G(C,a,d){C&&(a&&!a.errored&&(a.errored=C),d&&!d.errored&&(d.errored=C))}function z(C,a,d){let m=!1;function p(E){if(m)return;m=!0;const D=C._readableState,R=C._writableState;G(E,R,D),R&&(R.closed=!0),D&&(D.closed=!0),"function"==typeof d&&d(E),E?y.nextTick(ee,C,E):y.nextTick(q,C)}try{C._destroy(a||null,p)}catch(E){p(E)}}function ee(C,a){Z(C,a),q(C)}function q(C){const a=C._readableState,d=C._writableState;d&&(d.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=d&&d.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function Z(C,a){const d=C._readableState,m=C._writableState;null!=m&&m.errorEmitted||null!=d&&d.errorEmitted||(m&&(m.errorEmitted=!0),d&&(d.errorEmitted=!0),C.emit("error",a))}function se(C,a,d){const m=C._readableState,p=C._writableState;if(null!=p&&p.destroyed||null!=m&&m.destroyed)return this;null!=m&&m.autoDestroy||null!=p&&p.autoDestroy?C.destroy(a):a&&(p&&!p.errored&&(p.errored=a),m&&!m.errored&&(m.errored=a),d?y.nextTick(Z,C,a):Z(C,a))}function ae(C){let a=!1;function d(m){if(a)return void se(C,m??new P);a=!0;const p=C._readableState,E=C._writableState,D=E||p;p&&(p.constructed=!0),E&&(E.constructed=!0),D.destroyed?C.emit(U,m):m?se(C,m,!0):y.nextTick(fe,C)}try{C._construct(m=>{y.nextTick(d,m)})}catch(m){y.nextTick(d,m)}}function fe(C){C.emit(A)}function he(C){return C?.setHeader&&"function"==typeof C.abort}function we(C){C.emit("close")}function Me(C,a){C.emit("error",a),y.nextTick(we,C)}Je.exports={construct:function ce(C,a){if("function"!=typeof C._construct)return;const d=C._readableState,m=C._writableState;d&&(d.constructed=!1),m&&(m.constructed=!1),C.once(A,a),!(C.listenerCount(A)>1)&&y.nextTick(ae,C)},destroyer:function Pe(C,a){!C||S(C)||(!a&&!B(C)&&(a=new H),N(C)?(C.socket=null,C.destroy(a)):he(C)?C.abort():he(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?y.nextTick(Me,C,a):y.nextTick(we,C),C.destroyed||(C[O]=!0))},destroy:function L(C,a){const d=this._readableState,m=this._writableState,p=m||d;return null!=m&&m.destroyed||null!=d&&d.destroyed?("function"==typeof a&&a(),this):(G(C,m,d),m&&(m.destroyed=!0),d&&(d.destroyed=!0),p.constructed?z(this,C,a):this.once(U,function(E){z(this,b(E,C),a)}),this)},undestroy:function J(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:se}},13323:(Je,j,_)=>{"use strict";const{ObjectDefineProperties:y,ObjectGetOwnPropertyDescriptor:b,ObjectKeys:P,ObjectSetPrototypeOf:H}=_(56389);Je.exports=S;const w=_(84553),O=_(30009);H(S.prototype,w.prototype),H(S,w);{const A=P(O.prototype);for(let G=0;G<A.length;G++){const L=A[G];S.prototype[L]||(S.prototype[L]=O.prototype[L])}}function S(A){if(!(this instanceof S))return new S(A);w.call(this,A),O.call(this,A),A?(this.allowHalfOpen=!1!==A.allowHalfOpen,!1===A.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===A.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let B,U;function N(){return void 0===B&&(B={}),B}y(S.prototype,{writable:{__proto__:null,...b(O.prototype,"writable")},writableHighWaterMark:{__proto__:null,...b(O.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...b(O.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...b(O.prototype,"writableBuffer")},writableLength:{__proto__:null,...b(O.prototype,"writableLength")},writableFinished:{__proto__:null,...b(O.prototype,"writableFinished")},writableCorked:{__proto__:null,...b(O.prototype,"writableCorked")},writableEnded:{__proto__:null,...b(O.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...b(O.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(A){this._readableState&&this._writableState&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}}),S.fromWeb=function(A,G){return N().newStreamDuplexFromReadableWritablePair(A,G)},S.toWeb=function(A){return N().newReadableWritablePairFromDuplex(A)},S.from=function(A){return U||(U=_(44425)),U(A,"body")}},44425:(Je,j,_)=>{var y=_(29293).default,b=_(53344).default,P=_(42958).default;const H=_(40573),w=_(68316),{isReadable:O,isWritable:S,isIterable:B,isNodeStream:N,isReadableNodeStream:U,isWritableNodeStream:A,isDuplexNodeStream:G,isReadableStream:L,isWritableStream:z}=_(32924),ee=_(46017),{AbortError:q,codes:{ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_RETURN_VALUE:J}}=_(68154),{destroyer:se}=_(96507),ce=_(13323),ae=_(84553),fe=_(30009),{createDeferredPromise:he}=_(13509),we=_(45737),Me=globalThis.Blob||w.Blob,Pe=typeof Me<"u"?function(D){return D instanceof Me}:function(D){return!1},C=globalThis.AbortController||_(9465).AbortController,{FunctionPrototypeCall:a}=_(56389);class d extends ce{constructor(D){super(D),!1===D?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function p(E){const D=E.readable&&"function"!=typeof E.readable.read?ae.wrap(E.readable):E.readable,R=E.writable;let v,$,F,Q,de,x=!!O(D),s=!!S(R);function Ce(Re){const Ve=Q;Q=null,Ve?Ve(Re):Re&&de.destroy(Re)}return de=new d({readableObjectMode:!(null==D||!D.readableObjectMode),writableObjectMode:!(null==R||!R.writableObjectMode),readable:x,writable:s}),s&&(ee(R,Re=>{s=!1,Re&&se(D,Re),Ce(Re)}),de._write=function(Re,Ve,Ee){R.write(Re,Ve)?Ee():v=Ee},de._final=function(Re){R.end(),$=Re},R.on("drain",function(){if(v){const Re=v;v=null,Re()}}),R.on("finish",function(){if($){const Re=$;$=null,Re()}})),x&&(ee(D,Re=>{x=!1,Re&&se(D,Re),Ce(Re)}),D.on("readable",function(){if(F){const Re=F;F=null,Re()}}),D.on("end",function(){de.push(null)}),de._read=function(){for(;;){const Re=D.read();if(null===Re)return void(F=de._read);if(!de.push(Re))return}}),de._destroy=function(Re,Ve){!Re&&null!==Q&&(Re=new q),F=null,v=null,$=null,null===Q?Ve(Re):(Q=Ve,se(R,Re),se(D,Re))},de}Je.exports=function E(D,R){if(G(D))return D;if(U(D))return p({readable:D});if(A(D))return p({writable:D});if(N(D))return p({writable:!1,readable:!1});if(L(D))return p({readable:ae.fromWeb(D)});if(z(D))return p({writable:fe.fromWeb(D)});if("function"==typeof D){const{value:s,write:v,final:$,destroy:F}=function m(E){let{promise:D,resolve:R}=he();const x=new C,s=x.signal;return{value:E(P(function*(){for(;;){const $=D;D=null;const{chunk:F,done:Q,cb:de}=yield b($);if(H.nextTick(de),Q)return;if(s.aborted)throw new q(void 0,{cause:s.reason});({promise:D,resolve:R}=he()),yield F}})(),{signal:s}),write($,F,Q){const de=R;R=null,de({chunk:$,done:!1,cb:Q})},final($){const F=R;R=null,F({done:!0,cb:$})},destroy($,F){x.abort(),F($)}}}(D);if(B(s))return we(d,s,{objectMode:!0,write:v,final:$,destroy:F});const Q=s?.then;if("function"==typeof Q){let de;const Ce=a(Q,s,Re=>{if(null!=Re)throw new J("nully","body",Re)},Re=>{se(de,Re)});return de=new d({objectMode:!0,readable:!1,write:v,final(Re){$(y(function*(){try{yield Ce,H.nextTick(Re,null)}catch(Ve){H.nextTick(Re,Ve)}}))},destroy:F})}throw new J("Iterable, AsyncIterable or AsyncFunction",R,s)}if(Pe(D))return E(D.arrayBuffer());if(B(D))return we(d,D,{objectMode:!0,writable:!1});if(L(D?.readable)&&z(D?.writable))return d.fromWeb(D);if("object"==typeof D?.writable||"object"==typeof D?.readable)return p({readable:null!=D&&D.readable?U(D?.readable)?D?.readable:E(D.readable):void 0,writable:null!=D&&D.writable?A(D?.writable)?D?.writable:E(D.writable):void 0});const x=D?.then;if("function"==typeof x){let s;return a(x,D,v=>{null!=v&&s.push(v),s.push(null)},v=>{se(s,v)}),s=new d({objectMode:!0,writable:!1,read(){}})}throw new Z(R,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],D)}},46017:(Je,j,_)=>{const y=_(40573),{AbortError:b,codes:P}=_(68154),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:w}=P,{kEmptyObject:O,once:S}=_(13509),{validateAbortSignal:B,validateFunction:N,validateObject:U,validateBoolean:A}=_(99852),{Promise:G,PromisePrototypeThen:L,SymbolDispose:z}=_(56389),{isClosed:ee,isReadable:q,isReadableNodeStream:Z,isReadableStream:J,isReadableFinished:se,isReadableErrored:ce,isWritable:ae,isWritableNodeStream:fe,isWritableStream:he,isWritableFinished:we,isWritableErrored:Me,isNodeStream:Pe,willEmitClose:C,kIsClosedPromise:a}=_(32924);let d;const p=()=>{};function E(x,s,v){var $,F;if(2===arguments.length?(v=s,s=O):null==s?s=O:U(s,"options"),N(v,"callback"),B(s.signal,"options.signal"),v=S(v),J(x)||he(x))return function D(x,s,v){let $=!1,F=p;if(s.signal)if(F=()=>{$=!0,v.call(x,new b(void 0,{cause:s.signal.reason}))},s.signal.aborted)y.nextTick(F);else{d=d||_(13509).addAbortListener;const de=d(s.signal,F),Ce=v;v=S((...Re)=>{de[z](),Ce.apply(x,Re)})}const Q=(...de)=>{$||y.nextTick(()=>v.apply(x,de))};return L(x[a].promise,Q,Q),p}(x,s,v);if(!Pe(x))throw new H("stream",["ReadableStream","WritableStream","Stream"],x);const Q=null!==($=s.readable)&&void 0!==$?$:Z(x),de=null!==(F=s.writable)&&void 0!==F?F:fe(x),Ce=x._writableState,Re=x._readableState,Ve=()=>{x.writable||Fe()};let Ee=C(x)&&Z(x)===Q&&fe(x)===de,_e=we(x,!1);const Fe=()=>{_e=!0,x.destroyed&&(Ee=!1),(!Ee||x.readable&&!Q)&&(!Q||be)&&v.call(x)};let be=se(x,!1);const Ae=()=>{be=!0,x.destroyed&&(Ee=!1),(!Ee||x.writable&&!de)&&(!de||_e)&&v.call(x)},ge=Be=>{v.call(x,Be)};let me=ee(x);const te=()=>{me=!0;const Be=Me(x)||ce(x);return Be&&"boolean"!=typeof Be?v.call(x,Be):Q&&!be&&Z(x,!0)&&!se(x,!1)?v.call(x,new w):!de||_e||we(x,!1)?void v.call(x):v.call(x,new w)},ne=()=>{me=!0;const Be=Me(x)||ce(x);if(Be&&"boolean"!=typeof Be)return v.call(x,Be);v.call(x)},ue=()=>{x.req.on("finish",Fe)};!function m(x){return x.setHeader&&"function"==typeof x.abort}(x)?de&&!Ce&&(x.on("end",Ve),x.on("close",Ve)):(x.on("complete",Fe),Ee||x.on("abort",te),x.req?ue():x.on("request",ue)),!Ee&&"boolean"==typeof x.aborted&&x.on("aborted",te),x.on("end",Ae),x.on("finish",Fe),!1!==s.error&&x.on("error",ge),x.on("close",te),me?y.nextTick(te):null!=Ce&&Ce.errorEmitted||null!=Re&&Re.errorEmitted?Ee||y.nextTick(ne):(!Q&&(!Ee||q(x))&&(_e||!1===ae(x))||!de&&(!Ee||ae(x))&&(be||!1===q(x))||Re&&x.req&&x.aborted)&&y.nextTick(ne);const De=()=>{v=p,x.removeListener("aborted",te),x.removeListener("complete",Fe),x.removeListener("abort",te),x.removeListener("request",ue),x.req&&x.req.removeListener("finish",Fe),x.removeListener("end",Ve),x.removeListener("close",Ve),x.removeListener("finish",Fe),x.removeListener("end",Ae),x.removeListener("error",ge),x.removeListener("close",te)};if(s.signal&&!me){const Be=()=>{const Qe=v;De(),Qe.call(x,new b(void 0,{cause:s.signal.reason}))};if(s.signal.aborted)y.nextTick(Be);else{d=d||_(13509).addAbortListener;const Qe=d(s.signal,Be),ze=v;v=S((...Dt)=>{Qe[z](),ze.apply(x,Dt)})}}return De}Je.exports=E,Je.exports.finished=function R(x,s){var v;let $=!1;return null===s&&(s=O),null!==(v=s)&&void 0!==v&&v.cleanup&&(A(s.cleanup,"cleanup"),$=s.cleanup),new G((F,Q)=>{const de=E(x,s,Ce=>{$&&de(),Ce?Q(Ce):F()})})}},45737:(Je,j,_)=>{"use strict";var y=_(29293).default;const b=_(40573),{PromisePrototypeThen:P,SymbolAsyncIterator:H,SymbolIterator:w}=_(56389),{Buffer:O}=_(68316),{ERR_INVALID_ARG_TYPE:S,ERR_STREAM_NULL_VALUES:B}=_(68154).codes;Je.exports=function N(U,A,G){let L,z;if("string"==typeof A||A instanceof O)return new U({objectMode:!0,...G,read(){this.push(A),this.push(null)}});if(A&&A[H])z=!0,L=A[H]();else{if(!A||!A[w])throw new S("iterable",["Iterable"],A);z=!1,L=A[w]()}const ee=new U({objectMode:!0,highWaterMark:1,...G});let q=!1;function J(){return(J=y(function*(ae){if(null!=ae&&"function"==typeof L.throw){const{value:we,done:Me}=yield L.throw(ae);if(yield we,Me)return}if("function"==typeof L.return){const{value:we}=yield L.return();yield we}})).apply(this,arguments)}function ce(){return(ce=y(function*(){for(;;){try{const{value:ae,done:fe}=z?yield L.next():L.next();if(fe)ee.push(null);else{const he=ae&&"function"==typeof ae.then?yield ae:ae;if(null===he)throw q=!1,new B;if(ee.push(he))continue;q=!1}}catch(ae){ee.destroy(ae)}break}})).apply(this,arguments)}return ee._read=function(){q||(q=!0,function se(){ce.apply(this,arguments)}())},ee._destroy=function(ae,fe){P(function Z(ae){return J.apply(this,arguments)}(ae),()=>b.nextTick(fe,ae),he=>b.nextTick(fe,he||ae))},ee}},91242:(Je,j,_)=>{"use strict";const{ArrayIsArray:y,ObjectSetPrototypeOf:b}=_(56389),{EventEmitter:P}=_(44356);function H(O){P.call(this,O)}function w(O,S,B){if("function"==typeof O.prependListener)return O.prependListener(S,B);O._events&&O._events[S]?y(O._events[S])?O._events[S].unshift(B):O._events[S]=[B,O._events[S]]:O.on(S,B)}b(H.prototype,P.prototype),b(H,P),H.prototype.pipe=function(O,S){const B=this;function N(q){O.writable&&!1===O.write(q)&&B.pause&&B.pause()}function U(){B.readable&&B.resume&&B.resume()}B.on("data",N),O.on("drain",U),!O._isStdio&&(!S||!1!==S.end)&&(B.on("end",G),B.on("close",L));let A=!1;function G(){A||(A=!0,O.end())}function L(){A||(A=!0,"function"==typeof O.destroy&&O.destroy())}function z(q){ee(),0===P.listenerCount(this,"error")&&this.emit("error",q)}function ee(){B.removeListener("data",N),O.removeListener("drain",U),B.removeListener("end",G),B.removeListener("close",L),B.removeListener("error",z),O.removeListener("error",z),B.removeListener("end",ee),B.removeListener("close",ee),O.removeListener("close",ee)}return w(B,"error",z),w(O,"error",z),B.on("end",ee),B.on("close",ee),O.on("close",ee),O.emit("pipe",B),O},Je.exports={Stream:H,prependListener:w}},21840:(Je,j,_)=>{"use strict";var y=_(29293).default,b=_(93513).default,P=_(82881).default,H=_(53344).default,w=_(42958).default;const O=globalThis.AbortController||_(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:S,ERR_INVALID_ARG_TYPE:B,ERR_MISSING_ARGS:N,ERR_OUT_OF_RANGE:U},AbortError:A}=_(68154),{validateAbortSignal:G,validateInteger:L,validateObject:z}=_(99852),ee=_(56389).Symbol("kWeak"),q=_(56389).Symbol("kResistStopPropagation"),{finished:Z}=_(46017),J=_(373),{addAbortSignalNoValidate:se}=_(57062),{isWritable:ce,isNodeStream:ae}=_(32924),{deprecate:fe}=_(13509),{ArrayPrototypePush:he,Boolean:we,MathFloor:Me,Number:Pe,NumberIsNaN:C,Promise:a,PromiseReject:d,PromiseResolve:m,PromisePrototypeThen:p,Symbol:E}=_(56389),D=E("kEmpty"),R=E("kEof");function s(Be,Qe){if("function"!=typeof Be)throw new B("fn",["Function","AsyncFunction"],Be);null!=Qe&&z(Qe,"options"),null!=Qe?.signal&&G(Qe.signal,"options.signal");let ze=1;null!=Qe?.concurrency&&(ze=Me(Qe.concurrency));let Dt=ze-1;return null!=Qe?.highWaterMark&&(Dt=Me(Qe.highWaterMark)),L(ze,"options.concurrency",1),L(Dt,"options.highWaterMark",0),Dt+=ze,function(){var Xe=w(function*(){const mt=_(13509).AbortSignalAny([Qe?.signal].filter(we)),K=this,T=[],M={signal:mt};let Y,pe,ke=!1,Ne=0;function lt(){ke=!0,en()}function en(){Ne-=1,It()}function It(){pe&&!ke&&Ne<ze&&T.length<Dt&&(pe(),pe=null)}function rn(){return(rn=y(function*(){try{var sr,vn=!1,un=!1;try{for(var cn,Cn=P(K);vn=!(cn=yield Cn.next()).done;vn=!1){let qt=cn.value;if(ke)return;if(mt.aborted)throw new A;try{if(qt=Be(qt,M),qt===D)continue;qt=m(qt)}catch(bt){qt=d(bt)}Ne+=1,p(qt,en,lt),T.push(qt),Y&&(Y(),Y=null),!ke&&(T.length>=Dt||Ne>=ze)&&(yield new a(bt=>{pe=bt}))}}catch(qt){un=!0,sr=qt}finally{try{vn&&null!=Cn.return&&(yield Cn.return())}finally{if(un)throw sr}}T.push(R)}catch(qt){const bt=d(qt);p(bt,en,lt),T.push(bt)}finally{ke=!0,Y&&(Y(),Y=null)}})).apply(this,arguments)}!function Kt(){rn.apply(this,arguments)}();try{for(;;){for(;T.length>0;){const vn=yield H(T[0]);if(vn===R)return;if(mt.aborted)throw new A;vn!==D&&(yield vn),T.shift(),It()}yield H(new a(vn=>{Y=vn}))}}finally{ke=!0,pe&&(pe(),pe=null)}});return function Ue(){return Xe.apply(this,arguments)}}().call(this)}function $(Be){return F.apply(this,arguments)}function F(){return(F=y(function*(Be,Qe=void 0){var Xe,ze=!1,Dt=!1;try{for(var Ue=P(_e.call(this,Be,Qe));ze=!(yield Ue.next()).done;ze=!1)return!0}catch(K){Dt=!0,Xe=K}finally{try{ze&&null!=Ue.return&&(yield Ue.return())}finally{if(Dt)throw Xe}}return!1})).apply(this,arguments)}function de(){return(de=y(function*(Be,Qe=void 0){if("function"!=typeof Be)throw new B("fn",["Function","AsyncFunction"],Be);return!(yield $.call(this,y(function*(...ze){return!(yield Be(...ze))}),Qe))})).apply(this,arguments)}function Re(){return(Re=y(function*(Be,Qe){var Xe,ze=!1,Dt=!1;try{for(var mt,Ue=P(_e.call(this,Be,Qe));ze=!(mt=yield Ue.next()).done;ze=!1)return mt.value}catch(K){Dt=!0,Xe=K}finally{try{ze&&null!=Ue.return&&(yield Ue.return())}finally{if(Dt)throw Xe}}})).apply(this,arguments)}function Ee(){return Ee=y(function*(Be,Qe){if("function"!=typeof Be)throw new B("fn",["Function","AsyncFunction"],Be);function Dt(){return(Dt=y(function*(M,Y){return yield Be(M,Y),D})).apply(this,arguments)}var mt,Xe=!1,Ue=!1;try{for(var K=P(s.call(this,function ze(M,Y){return Dt.apply(this,arguments)},Qe));Xe=!(yield K.next()).done;Xe=!1);}catch(M){Ue=!0,mt=M}finally{try{Xe&&null!=K.return&&(yield K.return())}finally{if(Ue)throw mt}}}),Ee.apply(this,arguments)}function _e(Be,Qe){if("function"!=typeof Be)throw new B("fn",["Function","AsyncFunction"],Be);function Dt(){return(Dt=y(function*(Xe,Ue){return(yield Be(Xe,Ue))?Xe:D})).apply(this,arguments)}return s.call(this,function ze(Xe,Ue){return Dt.apply(this,arguments)},Qe)}class Fe extends N{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Ae(){return Ae=y(function*(Be,Qe,ze){var Dt;if("function"!=typeof Be)throw new B("reducer",["Function","AsyncFunction"],Be);null!=ze&&z(ze,"options"),null!=ze?.signal&&G(ze.signal,"options.signal");let Xe=arguments.length>1;if(null!=ze&&null!==(Dt=ze.signal)&&void 0!==Dt&&Dt.aborted){const lt=new A(void 0,{cause:ze.signal.reason});throw this.once("error",()=>{}),yield Z(this.destroy(lt)),lt}const Ue=new O,mt=Ue.signal;null!=ze&&ze.signal&&ze.signal.addEventListener("abort",()=>Ue.abort(),{once:!0,[ee]:this,[q]:!0});let K=!1;try{var Y,T=!1,M=!1;try{for(var ke,pe=P(this);T=!(ke=yield pe.next()).done;T=!1){const lt=ke.value;var Ne;if(K=!0,null!=ze&&null!==(Ne=ze.signal)&&void 0!==Ne&&Ne.aborted)throw new A;Xe?Qe=yield Be(Qe,lt,{signal:mt}):(Qe=lt,Xe=!0)}}catch(lt){M=!0,Y=lt}finally{try{T&&null!=pe.return&&(yield pe.return())}finally{if(M)throw Y}}if(!K&&!Xe)throw new Fe}finally{Ue.abort()}return Qe}),Ae.apply(this,arguments)}function me(){return(me=y(function*(Be){null!=Be&&z(Be,"options"),null!=Be?.signal&&G(Be.signal,"options.signal");const Qe=[];var Xe,ze=!1,Dt=!1;try{for(var mt,Ue=P(this);ze=!(mt=yield Ue.next()).done;ze=!1){const T=mt.value;var K;if(null!=Be&&null!==(K=Be.signal)&&void 0!==K&&K.aborted)throw new A(void 0,{cause:Be.signal.reason});he(Qe,T)}}catch(T){Dt=!0,Xe=T}finally{try{ze&&null!=Ue.return&&(yield Ue.return())}finally{if(Dt)throw Xe}}return Qe})).apply(this,arguments)}function ne(Be){if(Be=Pe(Be),C(Be))return 0;if(Be<0)throw new U("number",">= 0",Be);return Be}Je.exports.streamReturningOperators={asIndexedPairs:fe(function v(Be=void 0){return null!=Be&&z(Be,"options"),null!=Be?.signal&&G(Be.signal,"options.signal"),function(){var Qe=w(function*(){let Dt=0;var mt,Xe=!1,Ue=!1;try{for(var T,K=P(this);Xe=!(T=yield H(K.next())).done;Xe=!1){const Y=T.value;var M;if(null!=Be&&null!==(M=Be.signal)&&void 0!==M&&M.aborted)throw new A({cause:Be.signal.reason});yield[Dt++,Y]}}catch(Y){Ue=!0,mt=Y}finally{try{Xe&&null!=K.return&&(yield H(K.return()))}finally{if(Ue)throw mt}}});return function ze(){return Qe.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function ue(Be,Qe=void 0){return null!=Qe&&z(Qe,"options"),null!=Qe?.signal&&G(Qe.signal,"options.signal"),Be=ne(Be),function(){var ze=w(function*(){var Xe;if(null!=Qe&&null!==(Xe=Qe.signal)&&void 0!==Xe&&Xe.aborted)throw new A;var K,Ue=!1,mt=!1;try{for(var M,T=P(this);Ue=!(M=yield H(T.next())).done;Ue=!1){const pe=M.value;var Y;if(null!=Qe&&null!==(Y=Qe.signal)&&void 0!==Y&&Y.aborted)throw new A;Be--<=0&&(yield pe)}}catch(pe){mt=!0,K=pe}finally{try{Ue&&null!=T.return&&(yield H(T.return()))}finally{if(mt)throw K}}});return function Dt(){return ze.apply(this,arguments)}}().call(this)},filter:_e,flatMap:function te(Be,Qe){const ze=s.call(this,Be,Qe);return function(){var Dt=w(function*(){var K,Ue=!1,mt=!1;try{for(var M,T=P(ze);Ue=!(M=yield H(T.next())).done;Ue=!1){const Y=M.value;yield*b(P(Y),H)}}catch(Y){mt=!0,K=Y}finally{try{Ue&&null!=T.return&&(yield H(T.return()))}finally{if(mt)throw K}}});return function Xe(){return Dt.apply(this,arguments)}}().call(this)},map:s,take:function De(Be,Qe=void 0){return null!=Qe&&z(Qe,"options"),null!=Qe?.signal&&G(Qe.signal,"options.signal"),Be=ne(Be),function(){var ze=w(function*(){var Xe;if(null!=Qe&&null!==(Xe=Qe.signal)&&void 0!==Xe&&Xe.aborted)throw new A;var K,Ue=!1,mt=!1;try{for(var M,T=P(this);Ue=!(M=yield H(T.next())).done;Ue=!1){const pe=M.value;var Y;if(null!=Qe&&null!==(Y=Qe.signal)&&void 0!==Y&&Y.aborted)throw new A;if(Be-- >0&&(yield pe),Be<=0)return}}catch(pe){mt=!0,K=pe}finally{try{Ue&&null!=T.return&&(yield H(T.return()))}finally{if(mt)throw K}}});return function Dt(){return ze.apply(this,arguments)}}().call(this)},compose:function x(Be,Qe){if(null!=Qe&&z(Qe,"options"),null!=Qe?.signal&&G(Qe.signal,"options.signal"),ae(Be)&&!ce(Be))throw new S("stream",Be,"must be writable");const ze=J(this,Be);return null!=Qe&&Qe.signal&&se(Qe.signal,ze),ze}},Je.exports.promiseReturningOperators={every:function Q(Be){return de.apply(this,arguments)},forEach:function Ve(Be,Qe){return Ee.apply(this,arguments)},reduce:function be(Be,Qe,ze){return Ae.apply(this,arguments)},toArray:function ge(Be){return me.apply(this,arguments)},some:$,find:function Ce(Be,Qe){return Re.apply(this,arguments)}}},59447:(Je,j,_)=>{"use strict";const{ObjectSetPrototypeOf:y}=_(56389);Je.exports=P;const b=_(71981);function P(H){if(!(this instanceof P))return new P(H);b.call(this,H)}y(P.prototype,b.prototype),y(P,b),P.prototype._transform=function(H,w,O){O(null,H)}},67843:(Je,j,_)=>{var y=_(29293).default,b=_(42958).default,P=_(53344).default,H=_(93513).default,w=_(82881).default;const O=_(40573),{ArrayIsArray:S,Promise:B,SymbolAsyncIterator:N,SymbolDispose:U}=_(56389),A=_(46017),{once:G}=_(13509),L=_(96507),z=_(13323),{aggregateTwoErrors:ee,codes:{ERR_INVALID_ARG_TYPE:q,ERR_INVALID_RETURN_VALUE:Z,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:se,ERR_STREAM_PREMATURE_CLOSE:ce},AbortError:ae}=_(68154),{validateFunction:fe,validateAbortSignal:he}=_(99852),{isIterable:we,isReadable:Me,isReadableNodeStream:Pe,isNodeStream:C,isTransformStream:a,isWebStream:d,isReadableStream:m,isReadableFinished:p}=_(32924),E=globalThis.AbortController||_(9465).AbortController;let D,R,x;function s(be,Ae,ge){let me=!1;return be.on("close",()=>{me=!0}),{destroy:ne=>{me||(me=!0,L.destroyer(be,ne||new se("pipe")))},cleanup:A(be,{readable:Ae,writable:ge},ne=>{me=!ne})}}function $(be){if(we(be))return be;if(Pe(be))return function F(be){return Q.apply(this,arguments)}(be);throw new q("val",["Readable","Iterable","AsyncIterable"],be)}function Q(){return(Q=b(function*(be){R||(R=_(84553)),yield*H(w(R.prototype[N].call(be)),P)})).apply(this,arguments)}function de(be,Ae,ge,me){return Ce.apply(this,arguments)}function Ce(){return(Ce=y(function*(be,Ae,ge,{end:me}){let te,ne=null;const ue=mt=>{if(mt&&(te=mt),ne){const K=ne;ne=null,K()}},De=()=>new B((mt,K)=>{te?K(te):ne=()=>{te?K(te):mt()}});Ae.on("drain",ue);const Be=A(Ae,{readable:!1},ue);try{Ae.writableNeedDrain&&(yield De());var Dt,Qe=!1,ze=!1;try{for(var Ue,Xe=w(be);Qe=!(Ue=yield Xe.next()).done;Qe=!1)Ae.write(Ue.value)||(yield De())}catch(mt){ze=!0,Dt=mt}finally{try{Qe&&null!=Xe.return&&(yield Xe.return())}finally{if(ze)throw Dt}}me&&(Ae.end(),yield De()),ge()}catch(mt){ge(te!==mt?ee(te,mt):mt)}finally{Be(),Ae.off("drain",ue)}})).apply(this,arguments)}function Re(be,Ae,ge,me){return Ve.apply(this,arguments)}function Ve(){return(Ve=y(function*(be,Ae,ge,{end:me}){a(Ae)&&(Ae=Ae.writable);const te=Ae.getWriter();try{var De,ne=!1,ue=!1;try{for(var Qe,Be=w(be);ne=!(Qe=yield Be.next()).done;ne=!1){const ze=Qe.value;yield te.ready,te.write(ze).catch(()=>{})}}catch(ze){ue=!0,De=ze}finally{try{ne&&null!=Be.return&&(yield Be.return())}finally{if(ue)throw De}}yield te.ready,me&&(yield te.close()),ge()}catch(ze){try{yield te.abort(ze),ge(ze)}catch(Dt){ge(Dt)}}})).apply(this,arguments)}function _e(be,Ae,ge){if(1===be.length&&S(be[0])&&(be=be[0]),be.length<2)throw new J("streams");const me=new E,te=me.signal,ne=ge?.signal,ue=[];function De(){mt(new ae)}let Be,Qe,ze;he(ne,"options.signal"),x=x||_(13509).addAbortListener,ne&&(Be=x(ne,De));const Dt=[];let K,Xe=0;function Ue(pe){mt(pe,0==--Xe)}function mt(pe,ke){var Ne;if(pe&&(!Qe||"ERR_STREAM_PREMATURE_CLOSE"===Qe.code)&&(Qe=pe),Qe||ke){for(;Dt.length;)Dt.shift()(Qe);null===(Ne=Be)||void 0===Ne||Ne[U](),me.abort(),ke&&(Qe||ue.forEach(lt=>lt()),O.nextTick(Ae,Qe,ze))}}for(let pe=0;pe<be.length;pe++){const ke=be[pe],Ne=pe<be.length-1,lt=pe>0,en=Ne||!1!==ge?.end,It=pe===be.length-1;if(C(ke)){let Kt=function(rn){rn&&"AbortError"!==rn.name&&"ERR_STREAM_PREMATURE_CLOSE"!==rn.code&&Ue(rn)};if(en){const{destroy:rn,cleanup:vn}=s(ke,Ne,lt);Dt.push(rn),Me(ke)&&It&&ue.push(vn)}ke.on("error",Kt),Me(ke)&&It&&ue.push(()=>{ke.removeListener("error",Kt)})}if(0===pe)if("function"==typeof ke){if(K=ke({signal:te}),!we(K))throw new Z("Iterable, AsyncIterable or Stream","source",K)}else K=we(ke)||Pe(ke)||a(ke)?ke:z.from(ke);else if("function"==typeof ke){var T;if(K=a(K)?$(null===(T=K)||void 0===T?void 0:T.readable):$(K),K=ke(K,{signal:te}),Ne){if(!we(K,!0))throw new Z("AsyncIterable",`transform[${pe-1}]`,K)}else{var M;D||(D=_(59447));const Kt=new D({objectMode:!0}),rn=null===(M=K)||void 0===M?void 0:M.then;if("function"==typeof rn)Xe++,rn.call(K,sr=>{ze=sr,null!=sr&&Kt.write(sr),en&&Kt.end(),O.nextTick(Ue)},sr=>{Kt.destroy(sr),O.nextTick(Ue,sr)});else if(we(K,!0))Xe++,de(K,Kt,Ue,{end:en});else{if(!m(K)&&!a(K))throw new Z("AsyncIterable or Promise","destination",K);Xe++,de(K.readable||K,Kt,Ue,{end:en})}K=Kt;const{destroy:vn,cleanup:un}=s(K,!1,!0);Dt.push(vn),It&&ue.push(un)}}else if(C(ke)){if(Pe(K)){Xe+=2;const Kt=Fe(K,ke,Ue,{end:en});Me(ke)&&It&&ue.push(Kt)}else if(a(K)||m(K))Xe++,de(K.readable||K,ke,Ue,{end:en});else{if(!we(K))throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],K);Xe++,de(K,ke,Ue,{end:en})}K=ke}else if(d(ke)){if(Pe(K))Xe++,Re($(K),ke,Ue,{end:en});else if(m(K)||we(K))Xe++,Re(K,ke,Ue,{end:en});else{if(!a(K))throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],K);Xe++,Re(K.readable,ke,Ue,{end:en})}K=ke}else K=z.from(ke)}return(null!=te&&te.aborted||null!=ne&&ne.aborted)&&O.nextTick(De),K}function Fe(be,Ae,ge,{end:me}){let te=!1;if(Ae.on("close",()=>{te||ge(new ce)}),be.pipe(Ae,{end:!1}),me){let ue=function(){te=!0,Ae.end()};p(be)?O.nextTick(ue):be.once("end",ue)}else ge();return A(be,{readable:!0,writable:!1},ue=>{const De=be._readableState;ue&&"ERR_STREAM_PREMATURE_CLOSE"===ue.code&&De&&De.ended&&!De.errored&&!De.errorEmitted?be.once("end",ge).once("error",ge):ge(ue)}),A(Ae,{readable:!1,writable:!0},ge)}Je.exports={pipelineImpl:_e,pipeline:function Ee(...be){return _e(be,G(function v(be){return fe(be[be.length-1],"streams[stream.length - 1]"),be.pop()}(be)))}}},84553:(Je,j,_)=>{var y=_(53344).default,b=_(42958).default;const P=_(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:w,NumberIsNaN:O,NumberParseInt:S,ObjectDefineProperties:B,ObjectKeys:N,ObjectSetPrototypeOf:U,Promise:A,SafeSet:G,SymbolAsyncDispose:L,SymbolAsyncIterator:z,Symbol:ee}=_(56389);Je.exports=Ue,Ue.ReadableState=Xe;const{EventEmitter:q}=_(44356),{Stream:Z,prependListener:J}=_(91242),{Buffer:se}=_(68316),{addAbortSignal:ce}=_(57062),ae=_(46017);let fe=_(13509).debuglog("stream",yt=>{fe=yt});const he=_(16630),we=_(96507),{getHighWaterMark:Me,getDefaultHighWaterMark:Pe}=_(18212),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:a,ERR_METHOD_NOT_IMPLEMENTED:d,ERR_OUT_OF_RANGE:m,ERR_STREAM_PUSH_AFTER_EOF:p,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:E},AbortError:D}=_(68154),{validateObject:R}=_(99852),x=ee("kPaused"),{StringDecoder:s}=_(78454),v=_(45737);U(Ue.prototype,Z.prototype),U(Ue,Z);const $=()=>{},{errorOrDestroy:F}=we,Q=1,Ve=16,Ee=32,_e=64,me=2048,te=4096,Be=65536;function Dt(yt){return{enumerable:!1,get(){return!!(this.state&yt)},set(_t){_t?this.state|=yt:this.state&=~yt}}}function Xe(yt,_t,xt){"boolean"!=typeof xt&&(xt=_t instanceof _(13323)),this.state=me|te|Ve|Ee,yt&&yt.objectMode&&(this.state|=Q),xt&&yt&&yt.readableObjectMode&&(this.state|=Q),this.highWaterMark=yt?Me(this,yt,"readableHighWaterMark",xt):Pe(!1),this.buffer=new he,this.length=0,this.pipes=[],this.flowing=null,this[x]=null,yt&&!1===yt.emitClose&&(this.state&=~me),yt&&!1===yt.autoDestroy&&(this.state&=~te),this.errored=null,this.defaultEncoding=yt&&yt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,yt&&yt.encoding&&(this.decoder=new s(yt.encoding),this.encoding=yt.encoding)}function Ue(yt){if(!(this instanceof Ue))return new Ue(yt);const _t=this instanceof _(13323);this._readableState=new Xe(yt,this,_t),yt&&("function"==typeof yt.read&&(this._read=yt.read),"function"==typeof yt.destroy&&(this._destroy=yt.destroy),"function"==typeof yt.construct&&(this._construct=yt.construct),yt.signal&&!_t&&ce(yt.signal,this)),Z.call(this,yt),we.construct(this,()=>{this._readableState.needReadable&&lt(this,this._readableState)})}function mt(yt,_t,xt,qe){fe("readableAddChunk",_t);const tt=yt._readableState;let Wt;if(tt.state&Q||("string"==typeof _t?tt.encoding!==(xt=xt||tt.defaultEncoding)&&(qe&&tt.encoding?_t=se.from(_t,xt).toString(tt.encoding):(_t=se.from(_t,xt),xt="")):_t instanceof se?xt="":Z._isUint8Array(_t)?(_t=Z._uint8ArrayToBuffer(_t),xt=""):null!=_t&&(Wt=new a("chunk",["string","Buffer","Uint8Array"],_t))),Wt)F(yt,Wt);else if(null===_t)tt.state&=-9,function pe(yt,_t){if(fe("onEofChunk"),!_t.ended){if(_t.decoder){const xt=_t.decoder.end();xt&&xt.length&&(_t.buffer.push(xt),_t.length+=_t.objectMode?1:xt.length)}_t.ended=!0,_t.sync?ke(yt):(_t.needReadable=!1,_t.emittedReadable=!0,Ne(yt))}}(yt,tt);else if(tt.state&Q||_t&&_t.length>0)if(qe)if(4&tt.state)F(yt,new E);else{if(tt.destroyed||tt.errored)return!1;K(yt,tt,_t,!0)}else if(tt.ended)F(yt,new p);else{if(tt.destroyed||tt.errored)return!1;tt.state&=-9,tt.decoder&&!xt?(_t=tt.decoder.write(_t),tt.objectMode||0!==_t.length?K(yt,tt,_t,!1):lt(yt,tt)):K(yt,tt,_t,!1)}else qe||(tt.state&=-9,lt(yt,tt));return!tt.ended&&(tt.length<tt.highWaterMark||0===tt.length)}function K(yt,_t,xt,qe){_t.flowing&&0===_t.length&&!_t.sync&&yt.listenerCount("data")>0?(_t.state&Be?_t.awaitDrainWriters.clear():_t.awaitDrainWriters=null,_t.dataEmitted=!0,yt.emit("data",xt)):(_t.length+=_t.objectMode?1:xt.length,qe?_t.buffer.unshift(xt):_t.buffer.push(xt),_t.state&_e&&ke(yt)),lt(yt,_t)}function Y(yt,_t){return yt<=0||0===_t.length&&_t.ended?0:_t.state&Q?1:O(yt)?_t.flowing&&_t.length?_t.buffer.first().length:_t.length:yt<=_t.length?yt:_t.ended?_t.length:0}function ke(yt){const _t=yt._readableState;fe("emitReadable",_t.needReadable,_t.emittedReadable),_t.needReadable=!1,_t.emittedReadable||(fe("emitReadable",_t.flowing),_t.emittedReadable=!0,P.nextTick(Ne,yt))}function Ne(yt){const _t=yt._readableState;fe("emitReadable_",_t.destroyed,_t.length,_t.ended),!_t.destroyed&&!_t.errored&&(_t.length||_t.ended)&&(yt.emit("readable"),_t.emittedReadable=!1),_t.needReadable=!_t.flowing&&!_t.ended&&_t.length<=_t.highWaterMark,sr(yt)}function lt(yt,_t){!_t.readingMore&&_t.constructed&&(_t.readingMore=!0,P.nextTick(en,yt,_t))}function en(yt,_t){for(;!_t.reading&&!_t.ended&&(_t.length<_t.highWaterMark||_t.flowing&&0===_t.length);){const xt=_t.length;if(fe("maybeReadMore read 0"),yt.read(0),xt===_t.length)break}_t.readingMore=!1}function Kt(yt){const _t=yt._readableState;_t.readableListening=yt.listenerCount("readable")>0,_t.resumeScheduled&&!1===_t[x]?_t.flowing=!0:yt.listenerCount("data")>0?yt.resume():_t.readableListening||(_t.flowing=null)}function rn(yt){fe("readable nexttick read 0"),yt.read(0)}function un(yt,_t){fe("resume",_t.reading),_t.reading||yt.read(0),_t.resumeScheduled=!1,yt.emit("resume"),sr(yt),_t.flowing&&!_t.reading&&yt.read(0)}function sr(yt){const _t=yt._readableState;for(fe("flow",_t.flowing);_t.flowing&&null!==yt.read(););}function Cn(yt,_t){"function"!=typeof yt.read&&(yt=Ue.wrap(yt,{objectMode:!0}));const xt=function cn(yt,_t){return qt.apply(this,arguments)}(yt,_t);return xt.stream=yt,xt}function qt(){return(qt=b(function*(yt,_t){let tt,xt=$;function qe(Ft){this===yt?(xt(),xt=$):xt=Ft}yt.on("readable",qe);const Wt=ae(yt,{writable:!1},Ft=>{tt=Ft?C(tt,Ft):null,xt(),xt=$});try{for(;;){const Ft=yt.destroyed?null:yt.read();if(null!==Ft)yield Ft;else{if(tt)throw tt;if(null===tt)return;yield y(new A(qe))}}}catch(Ft){throw tt=C(tt,Ft),tt}finally{!tt&&!1===_t?.destroyOnReturn||void 0!==tt&&!yt._readableState.autoDestroy?(yt.off("readable",qe),Wt()):we.destroyer(yt,null)}})).apply(this,arguments)}function bt(yt,_t){if(0===_t.length)return null;let xt;return _t.objectMode?xt=_t.buffer.shift():!yt||yt>=_t.length?(xt=_t.decoder?_t.buffer.join(""):1===_t.buffer.length?_t.buffer.first():_t.buffer.concat(_t.length),_t.buffer.clear()):xt=_t.buffer.consume(yt,_t.decoder),xt}function ut(yt){const _t=yt._readableState;fe("endReadable",_t.endEmitted),_t.endEmitted||(_t.ended=!0,P.nextTick(Gt,_t,yt))}function Gt(yt,_t){if(fe("endReadableNT",yt.endEmitted,yt.length),!yt.errored&&!yt.closeEmitted&&!yt.endEmitted&&0===yt.length)if(yt.endEmitted=!0,_t.emit("end"),_t.writable&&!1===_t.allowHalfOpen)P.nextTick(nn,_t);else if(yt.autoDestroy){const xt=_t._writableState;(!xt||xt.autoDestroy&&(xt.finished||!1===xt.writable))&&_t.destroy()}}function nn(yt){yt.writable&&!yt.writableEnded&&!yt.destroyed&&yt.end()}let pn;function ur(){return void 0===pn&&(pn={}),pn}B(Xe.prototype,{objectMode:Dt(Q),ended:Dt(2),endEmitted:Dt(4),reading:Dt(8),constructed:Dt(Ve),sync:Dt(Ee),needReadable:Dt(_e),emittedReadable:Dt(128),readableListening:Dt(256),resumeScheduled:Dt(512),errorEmitted:Dt(1024),emitClose:Dt(me),autoDestroy:Dt(te),destroyed:Dt(8192),closed:Dt(16384),closeEmitted:Dt(32768),multiAwaitDrain:Dt(Be),readingMore:Dt(1<<17),dataEmitted:Dt(1<<18)}),Ue.prototype.destroy=we.destroy,Ue.prototype._undestroy=we.undestroy,Ue.prototype._destroy=function(yt,_t){_t(yt)},Ue.prototype[q.captureRejectionSymbol]=function(yt){this.destroy(yt)},Ue.prototype[L]=function(){let yt;return this.destroyed||(yt=this.readableEnded?null:new D,this.destroy(yt)),new A((_t,xt)=>ae(this,qe=>qe&&qe!==yt?xt(qe):_t(null)))},Ue.prototype.push=function(yt,_t){return mt(this,yt,_t,!1)},Ue.prototype.unshift=function(yt,_t){return mt(this,yt,_t,!0)},Ue.prototype.isPaused=function(){const yt=this._readableState;return!0===yt[x]||!1===yt.flowing},Ue.prototype.setEncoding=function(yt){const _t=new s(yt);this._readableState.decoder=_t,this._readableState.encoding=this._readableState.decoder.encoding;const xt=this._readableState.buffer;let qe="";for(const tt of xt)qe+=_t.write(tt);return xt.clear(),""!==qe&&xt.push(qe),this._readableState.length=qe.length,this},Ue.prototype.read=function(yt){fe("read",yt),void 0===yt?yt=NaN:w(yt)||(yt=S(yt,10));const _t=this._readableState,xt=yt;if(yt>_t.highWaterMark&&(_t.highWaterMark=function M(yt){if(yt>1073741824)throw new m("size","<= 1GiB",yt);return yt--,yt|=yt>>>1,yt|=yt>>>2,yt|=yt>>>4,yt|=yt>>>8,yt|=yt>>>16,++yt}(yt)),0!==yt&&(_t.state&=-129),0===yt&&_t.needReadable&&((0!==_t.highWaterMark?_t.length>=_t.highWaterMark:_t.length>0)||_t.ended))return fe("read: emitReadable",_t.length,_t.ended),0===_t.length&&_t.ended?ut(this):ke(this),null;if(0===(yt=Y(yt,_t))&&_t.ended)return 0===_t.length&&ut(this),null;let tt,qe=!!(_t.state&_e);if(fe("need readable",qe),(0===_t.length||_t.length-yt<_t.highWaterMark)&&(qe=!0,fe("length less than watermark",qe)),_t.ended||_t.reading||_t.destroyed||_t.errored||!_t.constructed)qe=!1,fe("reading, ended or constructing",qe);else if(qe){fe("do read"),_t.state|=8|Ee,0===_t.length&&(_t.state|=_e);try{this._read(_t.highWaterMark)}catch(Wt){F(this,Wt)}_t.state&=~Ee,_t.reading||(yt=Y(xt,_t))}return tt=yt>0?bt(yt,_t):null,null===tt?(_t.needReadable=_t.length<=_t.highWaterMark,yt=0):(_t.length-=yt,_t.multiAwaitDrain?_t.awaitDrainWriters.clear():_t.awaitDrainWriters=null),0===_t.length&&(_t.ended||(_t.needReadable=!0),xt!==yt&&_t.ended&&ut(this)),null!==tt&&!_t.errorEmitted&&!_t.closeEmitted&&(_t.dataEmitted=!0,this.emit("data",tt)),tt},Ue.prototype._read=function(yt){throw new d("_read()")},Ue.prototype.pipe=function(yt,_t){const xt=this,qe=this._readableState;1===qe.pipes.length&&(qe.multiAwaitDrain||(qe.multiAwaitDrain=!0,qe.awaitDrainWriters=new G(qe.awaitDrainWriters?[qe.awaitDrainWriters]:[]))),qe.pipes.push(yt),fe("pipe count=%d opts=%j",qe.pipes.length,_t);const Wt=_t&&!1===_t.end||yt===P.stdout||yt===P.stderr?He:mn;function mn(){fe("onend"),yt.end()}qe.endEmitted?P.nextTick(Wt):xt.once("end",Wt),yt.on("unpipe",function Ft(ct,Zt){fe("onunpipe"),ct===xt&&Zt&&!1===Zt.hasUnpiped&&(Zt.hasUnpiped=!0,function Tn(){fe("cleanup"),yt.removeListener("close",Ln),yt.removeListener("finish",at),zn&&yt.removeListener("drain",zn),yt.removeListener("error",Nn),yt.removeListener("unpipe",Ft),xt.removeListener("end",mn),xt.removeListener("end",He),xt.removeListener("data",ir),wn=!0,zn&&qe.awaitDrainWriters&&(!yt._writableState||yt._writableState.needDrain)&&zn()}())});let zn,wn=!1;function vr(){wn||(1===qe.pipes.length&&qe.pipes[0]===yt?(fe("false write response, pause",0),qe.awaitDrainWriters=yt,qe.multiAwaitDrain=!1):qe.pipes.length>1&&qe.pipes.includes(yt)&&(fe("false write response, pause",qe.awaitDrainWriters.size),qe.awaitDrainWriters.add(yt)),xt.pause()),zn||(zn=function It(yt,_t){return function(){const qe=yt._readableState;qe.awaitDrainWriters===_t?(fe("pipeOnDrain",1),qe.awaitDrainWriters=null):qe.multiAwaitDrain&&(fe("pipeOnDrain",qe.awaitDrainWriters.size),qe.awaitDrainWriters.delete(_t)),(!qe.awaitDrainWriters||0===qe.awaitDrainWriters.size)&&yt.listenerCount("data")&&yt.resume()}}(xt,yt),yt.on("drain",zn))}function ir(ct){fe("ondata");const Zt=yt.write(ct);fe("dest.write",Zt),!1===Zt&&vr()}function Nn(ct){if(fe("onerror",ct),He(),yt.removeListener("error",Nn),0===yt.listenerCount("error")){const Zt=yt._writableState||yt._readableState;Zt&&!Zt.errorEmitted?F(yt,ct):yt.emit("error",ct)}}function Ln(){yt.removeListener("finish",at),He()}function at(){fe("onfinish"),yt.removeListener("close",Ln),He()}function He(){fe("unpipe"),xt.unpipe(yt)}return xt.on("data",ir),J(yt,"error",Nn),yt.once("close",Ln),yt.once("finish",at),yt.emit("pipe",xt),!0===yt.writableNeedDrain?vr():qe.flowing||(fe("pipe resume"),xt.resume()),yt},Ue.prototype.unpipe=function(yt){const _t=this._readableState;if(0===_t.pipes.length)return this;if(!yt){const tt=_t.pipes;_t.pipes=[],this.pause();for(let Wt=0;Wt<tt.length;Wt++)tt[Wt].emit("unpipe",this,{hasUnpiped:!1});return this}const qe=H(_t.pipes,yt);return-1===qe||(_t.pipes.splice(qe,1),0===_t.pipes.length&&this.pause(),yt.emit("unpipe",this,{hasUnpiped:!1})),this},Ue.prototype.addListener=Ue.prototype.on=function(yt,_t){const xt=Z.prototype.on.call(this,yt,_t),qe=this._readableState;return"data"===yt?(qe.readableListening=this.listenerCount("readable")>0,!1!==qe.flowing&&this.resume()):"readable"===yt&&!qe.endEmitted&&!qe.readableListening&&(qe.readableListening=qe.needReadable=!0,qe.flowing=!1,qe.emittedReadable=!1,fe("on readable",qe.length,qe.reading),qe.length?ke(this):qe.reading||P.nextTick(rn,this)),xt},Ue.prototype.off=Ue.prototype.removeListener=function(yt,_t){const xt=Z.prototype.removeListener.call(this,yt,_t);return"readable"===yt&&P.nextTick(Kt,this),xt},Ue.prototype.removeAllListeners=function(yt){const _t=Z.prototype.removeAllListeners.apply(this,arguments);return("readable"===yt||void 0===yt)&&P.nextTick(Kt,this),_t},Ue.prototype.resume=function(){const yt=this._readableState;return yt.flowing||(fe("resume"),yt.flowing=!yt.readableListening,function vn(yt,_t){_t.resumeScheduled||(_t.resumeScheduled=!0,P.nextTick(un,yt,_t))}(this,yt)),yt[x]=!1,this},Ue.prototype.pause=function(){return fe("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(fe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[x]=!0,this},Ue.prototype.wrap=function(yt){let _t=!1;yt.on("data",qe=>{!this.push(qe)&&yt.pause&&(_t=!0,yt.pause())}),yt.on("end",()=>{this.push(null)}),yt.on("error",qe=>{F(this,qe)}),yt.on("close",()=>{this.destroy()}),yt.on("destroy",()=>{this.destroy()}),this._read=()=>{_t&&yt.resume&&(_t=!1,yt.resume())};const xt=N(yt);for(let qe=1;qe<xt.length;qe++){const tt=xt[qe];void 0===this[tt]&&"function"==typeof yt[tt]&&(this[tt]=yt[tt].bind(yt))}return this},Ue.prototype[z]=function(){return Cn(this)},Ue.prototype.iterator=function(yt){return void 0!==yt&&R(yt,"options"),Cn(this,yt)},B(Ue.prototype,{readable:{__proto__:null,get(){const yt=this._readableState;return!(!yt||!1===yt.readable||yt.destroyed||yt.errorEmitted||yt.endEmitted)},set(yt){this._readableState&&(this._readableState.readable=!!yt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(yt){this._readableState&&(this._readableState.flowing=yt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(yt){this._readableState&&(this._readableState.destroyed=yt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),B(Xe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[x]},set(yt){this[x]=!!yt}}}),Ue._fromList=bt,Ue.from=function(yt,_t){return v(Ue,yt,_t)},Ue.fromWeb=function(yt,_t){return ur().newStreamReadableFromReadableStream(yt,_t)},Ue.toWeb=function(yt,_t){return ur().newReadableStreamFromStreamReadable(yt,_t)},Ue.wrap=function(yt,_t){var xt,qe;return new Ue({objectMode:null===(xt=null!==(qe=yt.readableObjectMode)&&void 0!==qe?qe:yt.objectMode)||void 0===xt||xt,..._t,destroy(tt,Wt){we.destroyer(yt,tt),Wt(tt)}}).wrap(yt)}},18212:(Je,j,_)=>{"use strict";const{MathFloor:y,NumberIsInteger:b}=_(56389),{validateInteger:P}=_(99852),{ERR_INVALID_ARG_VALUE:H}=_(68154).codes;let w=16384,O=16;function B(A){return A?O:w}Je.exports={getHighWaterMark:function U(A,G,L,z){const ee=function S(A,G,L){return null!=A.highWaterMark?A.highWaterMark:G?A[L]:null}(G,z,L);if(null!=ee){if(!b(ee)||ee<0)throw new H(z?`options.${L}`:"options.highWaterMark",ee);return y(ee)}return B(A.objectMode)},getDefaultHighWaterMark:B,setDefaultHighWaterMark:function N(A,G){P(G,"value",0),A?O=G:w=G}}},71981:(Je,j,_)=>{"use strict";const{ObjectSetPrototypeOf:y,Symbol:b}=_(56389);Je.exports=S;const{ERR_METHOD_NOT_IMPLEMENTED:P}=_(68154).codes,H=_(13323),{getHighWaterMark:w}=_(18212);y(S.prototype,H.prototype),y(S,H);const O=b("kCallback");function S(U){if(!(this instanceof S))return new S(U);const A=U?w(this,U,"readableHighWaterMark",!0):null;0===A&&(U={...U,highWaterMark:null,readableHighWaterMark:A,writableHighWaterMark:U.writableHighWaterMark||0}),H.call(this,U),this._readableState.sync=!1,this[O]=null,U&&("function"==typeof U.transform&&(this._transform=U.transform),"function"==typeof U.flush&&(this._flush=U.flush)),this.on("prefinish",N)}function B(U){"function"!=typeof this._flush||this.destroyed?(this.push(null),U&&U()):this._flush((A,G)=>{A?U?U(A):this.destroy(A):(null!=G&&this.push(G),this.push(null),U&&U())})}function N(){this._final!==B&&B.call(this)}S.prototype._final=B,S.prototype._transform=function(U,A,G){throw new P("_transform()")},S.prototype._write=function(U,A,G){const L=this._readableState,z=this._writableState,ee=L.length;this._transform(U,A,(q,Z)=>{q?G(q):(null!=Z&&this.push(Z),z.ended||ee===L.length||L.length<L.highWaterMark?G():this[O]=G)})},S.prototype._read=function(){if(this[O]){const U=this[O];this[O]=null,U()}}},32924:(Je,j,_)=>{"use strict";const{SymbolAsyncIterator:y,SymbolIterator:b,SymbolFor:P}=_(56389),H=P("nodejs.stream.destroyed"),w=P("nodejs.stream.errored"),O=P("nodejs.stream.readable"),S=P("nodejs.stream.writable"),B=P("nodejs.stream.disturbed"),N=P("nodejs.webstream.isClosedPromise"),U=P("nodejs.webstream.controllerErrorFunction");function A(v,$=!1){var F;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||$&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(F=v._readableState)||void 0===F?void 0:F.readable)||v._writableState&&!v._readableState)}function G(v){var $;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===($=v._writableState)||void 0===$?void 0:$.writable))}function z(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function ee(v){return!(!v||z(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function q(v){return!(!v||z(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function Z(v){return!(!v||z(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ce(v){if(!z(v))return null;const Q=v._writableState||v._readableState;return!!(v.destroyed||v[H]||null!=Q&&Q.destroyed)}function ae(v){if(!G(v))return null;if(!0===v.writableEnded)return!0;const $=v._writableState;return(null==$||!$.errored)&&("boolean"!=typeof $?.ended?null:$.ended)}function we(v,$){if(!A(v))return null;const F=v._readableState;return(null==F||!F.errored)&&("boolean"!=typeof F?.endEmitted?null:!!(F.endEmitted||!1===$&&!0===F.ended&&0===F.length))}function Me(v){return v&&null!=v[O]?v[O]:"boolean"!=typeof v?.readable?null:!ce(v)&&A(v)&&v.readable&&!we(v)}function Pe(v){return v&&null!=v[S]?v[S]:"boolean"!=typeof v?.writable?null:!ce(v)&&G(v)&&v.writable&&!ae(v)}function p(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function E(v){return"boolean"==typeof v._sent100&&p(v)}Je.exports={isDestroyed:ce,kIsDestroyed:H,isDisturbed:function x(v){var $;return!(!v||!(null!==($=v[B])&&void 0!==$?$:v.readableDidRead||v.readableAborted))},kIsDisturbed:B,isErrored:function s(v){var $,F,Q,de,Ce,Re,Ve,Ee,_e,Fe;return!(!v||!(null!==($=null!==(F=null!==(Q=null!==(de=null!==(Ce=null!==(Re=v[w])&&void 0!==Re?Re:v.readableErrored)&&void 0!==Ce?Ce:v.writableErrored)&&void 0!==de?de:null===(Ve=v._readableState)||void 0===Ve?void 0:Ve.errorEmitted)&&void 0!==Q?Q:null===(Ee=v._writableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==F?F:null===(_e=v._readableState)||void 0===_e?void 0:_e.errored)&&void 0!==$?$:null!==(Fe=v._writableState)&&void 0!==Fe&&Fe.errored))},kIsErrored:w,isReadable:Me,kIsReadable:O,kIsClosedPromise:N,kControllerErrorFunction:U,kIsWritable:S,isClosed:function m(v){if(!z(v))return null;if("boolean"==typeof v.closed)return v.closed;const $=v._writableState,F=v._readableState;return"boolean"==typeof $?.closed||"boolean"==typeof F?.closed?$?.closed||F?.closed:"boolean"==typeof v._closed&&p(v)?v._closed:null},isDuplexNodeStream:function L(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,$){return z(v)?!!ce(v)||!(!1!==$?.readable&&Me(v)||!1!==$?.writable&&Pe(v)):null},isIterable:function se(v,$){return null!=v&&(!0===$?"function"==typeof v[y]:!1===$?"function"==typeof v[b]:"function"==typeof v[y]||"function"==typeof v[b])},isReadableNodeStream:A,isReadableStream:ee,isReadableEnded:function he(v){if(!A(v))return null;if(!0===v.readableEnded)return!0;const $=v._readableState;return!(!$||$.errored)&&("boolean"!=typeof $?.ended?null:$.ended)},isReadableFinished:we,isReadableErrored:function d(v){var $,F;return z(v)?v.readableErrored?v.readableErrored:null!==($=null===(F=v._readableState)||void 0===F?void 0:F.errored)&&void 0!==$?$:null:null},isNodeStream:z,isWebStream:function J(v){return ee(v)||q(v)||Z(v)},isWritable:Pe,isWritableNodeStream:G,isWritableStream:q,isWritableEnded:ae,isWritableFinished:function fe(v,$){if(!G(v))return null;if(!0===v.writableFinished)return!0;const F=v._writableState;return(null==F||!F.errored)&&("boolean"!=typeof F?.finished?null:!!(F.finished||!1===$&&!0===F.ended&&0===F.length))},isWritableErrored:function a(v){var $,F;return z(v)?v.writableErrored?v.writableErrored:null!==($=null===(F=v._writableState)||void 0===F?void 0:F.errored)&&void 0!==$?$:null:null},isServerRequest:function D(v){var $;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===($=v.req)||void 0===$?void 0:$.upgradeOrConnect)},isServerResponse:E,willEmitClose:function R(v){if(!z(v))return null;const Q=v._writableState||v._readableState;return!Q&&E(v)||!!(Q&&Q.autoDestroy&&Q.emitClose&&!1===Q.closed)},isTransformStream:Z}},30009:(Je,j,_)=>{const y=_(40573),{ArrayPrototypeSlice:b,Error:P,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:w,ObjectDefineProperties:O,ObjectSetPrototypeOf:S,StringPrototypeToLowerCase:B,Symbol:N,SymbolHasInstance:U}=_(56389);Je.exports=E,E.WritableState=m;const{EventEmitter:A}=_(44356),G=_(91242).Stream,{Buffer:L}=_(68316),z=_(96507),{addAbortSignal:ee}=_(57062),{getHighWaterMark:q,getDefaultHighWaterMark:Z}=_(18212),{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:se,ERR_MULTIPLE_CALLBACK:ce,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:fe,ERR_STREAM_ALREADY_FINISHED:he,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:Me,ERR_UNKNOWN_ENCODING:Pe}=_(68154).codes,{errorOrDestroy:C}=z;function a(){}S(E.prototype,G.prototype),S(E,G);const d=N("kOnFinished");function m(ge,me,te){"boolean"!=typeof te&&(te=me instanceof _(13323)),this.objectMode=!(!ge||!ge.objectMode),te&&(this.objectMode=this.objectMode||!(!ge||!ge.writableObjectMode)),this.highWaterMark=ge?q(this,ge,"writableHighWaterMark",te):Z(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(ge&&!1===ge.decodeStrings),this.defaultEncoding=ge&&ge.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,me),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,p(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ge||!1!==ge.emitClose,this.autoDestroy=!ge||!1!==ge.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[d]=[]}function p(ge){ge.buffered=[],ge.bufferedIndex=0,ge.allBuffers=!0,ge.allNoop=!0}function E(ge){const me=this instanceof _(13323);if(!me&&!H(E,this))return new E(ge);this._writableState=new m(ge,this,me),ge&&("function"==typeof ge.write&&(this._write=ge.write),"function"==typeof ge.writev&&(this._writev=ge.writev),"function"==typeof ge.destroy&&(this._destroy=ge.destroy),"function"==typeof ge.final&&(this._final=ge.final),"function"==typeof ge.construct&&(this._construct=ge.construct),ge.signal&&ee(ge.signal,this)),G.call(this,ge),z.construct(this,()=>{const te=this._writableState;te.writing||de(this,te),Ee(this,te)})}function D(ge,me,te,ne){const ue=ge._writableState;if("function"==typeof te)ne=te,te=ue.defaultEncoding;else{if(te){if("buffer"!==te&&!L.isEncoding(te))throw new Pe(te)}else te=ue.defaultEncoding;"function"!=typeof ne&&(ne=a)}if(null===me)throw new we;if(!ue.objectMode)if("string"==typeof me)!1!==ue.decodeStrings&&(me=L.from(me,te),te="buffer");else if(me instanceof L)te="buffer";else{if(!G._isUint8Array(me))throw new J("chunk",["string","Buffer","Uint8Array"],me);me=G._uint8ArrayToBuffer(me),te="buffer"}let De;return ue.ending?De=new Me:ue.destroyed&&(De=new fe("write")),De?(y.nextTick(ne,De),C(ge,De,!0),De):(ue.pendingcb++,function R(ge,me,te,ne,ue){const De=me.objectMode?1:te.length;me.length+=De;const Be=me.length<me.highWaterMark;return Be||(me.needDrain=!0),me.writing||me.corked||me.errored||!me.constructed?(me.buffered.push({chunk:te,encoding:ne,callback:ue}),me.allBuffers&&"buffer"!==ne&&(me.allBuffers=!1),me.allNoop&&ue!==a&&(me.allNoop=!1)):(me.writelen=De,me.writecb=ue,me.writing=!0,me.sync=!0,ge._write(te,ne,me.onwrite),me.sync=!1),Be&&!me.errored&&!me.destroyed}(ge,ue,me,te,ne))}function x(ge,me,te,ne,ue,De,Be){me.writelen=ne,me.writecb=Be,me.writing=!0,me.sync=!0,me.destroyed?me.onwrite(new fe("write")):te?ge._writev(ue,me.onwrite):ge._write(ue,De,me.onwrite),me.sync=!1}function s(ge,me,te,ne){--me.pendingcb,ne(te),Q(me),C(ge,te)}function v(ge,me){const te=ge._writableState,ne=te.sync,ue=te.writecb;"function"==typeof ue?(te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0,me?(te.errored||(te.errored=me),ge._readableState&&!ge._readableState.errored&&(ge._readableState.errored=me),ne?y.nextTick(s,ge,te,me,ue):s(ge,te,me,ue)):(te.buffered.length>te.bufferedIndex&&de(ge,te),ne?null!==te.afterWriteTickInfo&&te.afterWriteTickInfo.cb===ue?te.afterWriteTickInfo.count++:(te.afterWriteTickInfo={count:1,cb:ue,stream:ge,state:te},y.nextTick($,te.afterWriteTickInfo)):F(ge,te,1,ue))):C(ge,new ce)}function $({stream:ge,state:me,count:te,cb:ne}){return me.afterWriteTickInfo=null,F(ge,me,te,ne)}function F(ge,me,te,ne){for(!me.ending&&!ge.destroyed&&0===me.length&&me.needDrain&&(me.needDrain=!1,ge.emit("drain"));te-- >0;)me.pendingcb--,ne();me.destroyed&&Q(me),Ee(ge,me)}function Q(ge){if(ge.writing)return;for(let ue=ge.bufferedIndex;ue<ge.buffered.length;++ue){var me;const{chunk:De,callback:Be}=ge.buffered[ue];ge.length-=ge.objectMode?1:De.length,Be(null!==(me=ge.errored)&&void 0!==me?me:new fe("write"))}const te=ge[d].splice(0);for(let ue=0;ue<te.length;ue++){var ne;te[ue](null!==(ne=ge.errored)&&void 0!==ne?ne:new fe("end"))}p(ge)}function de(ge,me){if(me.corked||me.bufferProcessing||me.destroyed||!me.constructed)return;const{buffered:te,bufferedIndex:ne,objectMode:ue}=me,De=te.length-ne;if(!De)return;let Be=ne;if(me.bufferProcessing=!0,De>1&&ge._writev){me.pendingcb-=De-1;const Qe=me.allNoop?a:Dt=>{for(let Xe=Be;Xe<te.length;++Xe)te[Xe].callback(Dt)},ze=me.allNoop&&0===Be?te:b(te,Be);ze.allBuffers=me.allBuffers,x(ge,me,!0,me.length,ze,"",Qe),p(me)}else{do{const{chunk:Qe,encoding:ze,callback:Dt}=te[Be];te[Be++]=null,x(ge,me,!1,ue?1:Qe.length,Qe,ze,Dt)}while(Be<te.length&&!me.writing);Be===te.length?p(me):Be>256?(te.splice(0,Be),me.bufferedIndex=0):me.bufferedIndex=Be}me.bufferProcessing=!1}function Ce(ge){return ge.ending&&!ge.destroyed&&ge.constructed&&0===ge.length&&!ge.errored&&0===ge.buffered.length&&!ge.finished&&!ge.writing&&!ge.errorEmitted&&!ge.closeEmitted}function Ee(ge,me,te){Ce(me)&&(function Ve(ge,me){!me.prefinished&&!me.finalCalled&&("function"!=typeof ge._final||me.destroyed?(me.prefinished=!0,ge.emit("prefinish")):(me.finalCalled=!0,function Re(ge,me){let te=!1;function ne(ue){if(te)C(ge,ue??ce());else if(te=!0,me.pendingcb--,ue){const De=me[d].splice(0);for(let Be=0;Be<De.length;Be++)De[Be](ue);C(ge,ue,me.sync)}else Ce(me)&&(me.prefinished=!0,ge.emit("prefinish"),me.pendingcb++,y.nextTick(_e,ge,me))}me.sync=!0,me.pendingcb++;try{ge._final(ne)}catch(ue){ne(ue)}me.sync=!1}(ge,me)))}(ge,me),0===me.pendingcb&&(te?(me.pendingcb++,y.nextTick((ne,ue)=>{Ce(ue)?_e(ne,ue):ue.pendingcb--},ge,me)):Ce(me)&&(me.pendingcb++,_e(ge,me))))}function _e(ge,me){me.pendingcb--,me.finished=!0;const te=me[d].splice(0);for(let ne=0;ne<te.length;ne++)te[ne]();if(ge.emit("finish"),me.autoDestroy){const ne=ge._readableState;(!ne||ne.autoDestroy&&(ne.endEmitted||!1===ne.readable))&&ge.destroy()}}m.prototype.getBuffer=function(){return b(this.buffered,this.bufferedIndex)},w(m.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),w(E,U,{__proto__:null,value:function(ge){return!!H(this,ge)||this===E&&ge&&ge._writableState instanceof m}}),E.prototype.pipe=function(){C(this,new ae)},E.prototype.write=function(ge,me,te){return!0===D(this,ge,me,te)},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){const ge=this._writableState;ge.corked&&(ge.corked--,ge.writing||de(this,ge))},E.prototype.setDefaultEncoding=function(me){if("string"==typeof me&&(me=B(me)),!L.isEncoding(me))throw new Pe(me);return this._writableState.defaultEncoding=me,this},E.prototype._write=function(ge,me,te){if(!this._writev)throw new se("_write()");this._writev([{chunk:ge,encoding:me}],te)},E.prototype._writev=null,E.prototype.end=function(ge,me,te){const ne=this._writableState;let ue;if("function"==typeof ge?(te=ge,ge=null,me=null):"function"==typeof me&&(te=me,me=null),null!=ge){const De=D(this,ge,me);De instanceof P&&(ue=De)}return ne.corked&&(ne.corked=1,this.uncork()),ue||(ne.errored||ne.ending?ne.finished?ue=new he("end"):ne.destroyed&&(ue=new fe("end")):(ne.ending=!0,Ee(this,ne,!0),ne.ended=!0)),"function"==typeof te&&(ue||ne.finished?y.nextTick(te,ue):ne[d].push(te)),this},O(E.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(ge){this._writableState&&(this._writableState.destroyed=ge)}},writable:{__proto__:null,get(){const ge=this._writableState;return!(!ge||!1===ge.writable||ge.destroyed||ge.errored||ge.ending||ge.ended)},set(ge){this._writableState&&(this._writableState.writable=!!ge)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const ge=this._writableState;return!!ge&&!ge.destroyed&&!ge.ending&&ge.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Fe=z.destroy;let be;function Ae(){return void 0===be&&(be={}),be}E.prototype.destroy=function(ge,me){const te=this._writableState;return!te.destroyed&&(te.bufferedIndex<te.buffered.length||te[d].length)&&y.nextTick(Q,te),Fe.call(this,ge,me),this},E.prototype._undestroy=z.undestroy,E.prototype._destroy=function(ge,me){me(ge)},E.prototype[A.captureRejectionSymbol]=function(ge){this.destroy(ge)},E.fromWeb=function(ge,me){return Ae().newStreamWritableFromWritableStream(ge,me)},E.toWeb=function(ge){return Ae().newWritableStreamFromStreamWritable(ge)}},99852:(Je,j,_)=>{"use strict";const{ArrayIsArray:y,ArrayPrototypeIncludes:b,ArrayPrototypeJoin:P,ArrayPrototypeMap:H,NumberIsInteger:w,NumberIsNaN:O,NumberMAX_SAFE_INTEGER:S,NumberMIN_SAFE_INTEGER:B,NumberParseInt:N,ObjectPrototypeHasOwnProperty:U,RegExpPrototypeExec:A,String:G,StringPrototypeToUpperCase:L,StringPrototypeTrim:z}=_(56389),{hideStackFrames:ee,codes:{ERR_SOCKET_BAD_PORT:q,ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_ARG_VALUE:J,ERR_OUT_OF_RANGE:se,ERR_UNKNOWN_SIGNAL:ce}}=_(68154),{normalizeEncoding:ae}=_(13509),{isAsyncFunction:fe,isArrayBufferView:he}=_(13509).types,we={},C=/^[0-7]+$/,m=ee((Be,Qe,ze=B,Dt=S)=>{if("number"!=typeof Be)throw new Z(Qe,"number",Be);if(!w(Be))throw new se(Qe,"an integer",Be);if(Be<ze||Be>Dt)throw new se(Qe,`>= ${ze} && <= ${Dt}`,Be)}),p=ee((Be,Qe,ze=-2147483648,Dt=2147483647)=>{if("number"!=typeof Be)throw new Z(Qe,"number",Be);if(!w(Be))throw new se(Qe,"an integer",Be);if(Be<ze||Be>Dt)throw new se(Qe,`>= ${ze} && <= ${Dt}`,Be)}),E=ee((Be,Qe,ze=!1)=>{if("number"!=typeof Be)throw new Z(Qe,"number",Be);if(!w(Be))throw new se(Qe,"an integer",Be);const Dt=ze?1:0,Xe=4294967295;if(Be<Dt||Be>Xe)throw new se(Qe,`>= ${Dt} && <= ${Xe}`,Be)});function D(Be,Qe){if("string"!=typeof Be)throw new Z(Qe,"string",Be)}const x=ee((Be,Qe,ze)=>{if(!b(ze,Be)){const Xe="must be one of: "+P(H(ze,Ue=>"string"==typeof Ue?`'${Ue}'`:G(Ue)),", ");throw new J(Qe,Be,Xe)}});function s(Be,Qe){if("boolean"!=typeof Be)throw new Z(Qe,"boolean",Be)}function v(Be,Qe,ze){return null!=Be&&U(Be,Qe)?Be[Qe]:ze}const $=ee((Be,Qe,ze=null)=>{const Dt=v(ze,"allowArray",!1),Xe=v(ze,"allowFunction",!1);if(!v(ze,"nullable",!1)&&null===Be||!Dt&&y(Be)||"object"!=typeof Be&&(!Xe||"function"!=typeof Be))throw new Z(Qe,"Object",Be)}),F=ee((Be,Qe)=>{if(null!=Be&&"object"!=typeof Be&&"function"!=typeof Be)throw new Z(Qe,"a dictionary",Be)}),Q=ee((Be,Qe,ze=0)=>{if(!y(Be))throw new Z(Qe,"Array",Be);if(Be.length<ze)throw new J(Qe,Be,`must be longer than ${ze}`)}),Ee=ee((Be,Qe="buffer")=>{if(!he(Be))throw new Z(Qe,["Buffer","TypedArray","DataView"],Be)}),be=ee((Be,Qe)=>{if(void 0!==Be&&(null===Be||"object"!=typeof Be||!("aborted"in Be)))throw new Z(Qe,"AbortSignal",Be)}),Ae=ee((Be,Qe)=>{if("function"!=typeof Be)throw new Z(Qe,"Function",Be)}),ge=ee((Be,Qe)=>{if("function"!=typeof Be||fe(Be))throw new Z(Qe,"Function",Be)}),me=ee((Be,Qe)=>{if(void 0!==Be)throw new Z(Qe,"undefined",Be)}),ne=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ue(Be,Qe){if(typeof Be>"u"||!A(ne,Be))throw new J(Qe,Be,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Je.exports={isInt32:function Me(Be){return Be===(0|Be)},isUint32:function Pe(Be){return Be===Be>>>0},parseFileMode:function d(Be,Qe,ze){if(typeof Be>"u"&&(Be=ze),"string"==typeof Be){if(null===A(C,Be))throw new J(Qe,Be,"must be a 32-bit unsigned integer or an octal string");Be=N(Be,8)}return E(Be,Qe),Be},validateArray:Q,validateStringArray:function de(Be,Qe){Q(Be,Qe);for(let ze=0;ze<Be.length;ze++)D(Be[ze],`${Qe}[${ze}]`)},validateBooleanArray:function Ce(Be,Qe){Q(Be,Qe);for(let ze=0;ze<Be.length;ze++)s(Be[ze],`${Qe}[${ze}]`)},validateAbortSignalArray:function Re(Be,Qe){Q(Be,Qe);for(let ze=0;ze<Be.length;ze++){const Dt=Be[ze],Xe=`${Qe}[${ze}]`;if(null==Dt)throw new Z(Xe,"AbortSignal",Dt);be(Dt,Xe)}},validateBoolean:s,validateBuffer:Ee,validateDictionary:F,validateEncoding:function _e(Be,Qe){const ze=ae(Qe),Dt=Be.length;if("hex"===ze&&Dt%2!=0)throw new J("encoding",Qe,`is invalid for data of length ${Dt}`)},validateFunction:Ae,validateInt32:p,validateInteger:m,validateNumber:function R(Be,Qe,ze=void 0,Dt){if("number"!=typeof Be)throw new Z(Qe,"number",Be);if(null!=ze&&Be<ze||null!=Dt&&Be>Dt||(null!=ze||null!=Dt)&&O(Be))throw new se(Qe,`${null!=ze?`>= ${ze}`:""}${null!=ze&&null!=Dt?" && ":""}${null!=Dt?`<= ${Dt}`:""}`,Be)},validateObject:$,validateOneOf:x,validatePlainFunction:ge,validatePort:function Fe(Be,Qe="Port",ze=!0){if("number"!=typeof Be&&"string"!=typeof Be||"string"==typeof Be&&0===z(Be).length||+Be!=+Be>>>0||Be>65535||0===Be&&!ze)throw new q(Qe,Be,ze);return 0|Be},validateSignalName:function Ve(Be,Qe="signal"){if(D(Be,Qe),void 0===we[Be])throw void 0!==we[L(Be)]?new ce(Be+" (signals must use all capital letters)"):new ce(Be)},validateString:D,validateUint32:E,validateUndefined:me,validateUnion:function te(Be,Qe,ze){if(!b(ze,Be))throw new Z(Qe,`('${P(ze,"|")}')`,Be)},validateAbortSignal:be,validateLinkHeaderValue:function De(Be){if("string"==typeof Be)return ue(Be,"hints"),Be;if(y(Be)){const Qe=Be.length;let ze="";if(0===Qe)return ze;for(let Dt=0;Dt<Qe;Dt++){const Xe=Be[Dt];ue(Xe,"hints"),ze+=Xe,Dt!==Qe-1&&(ze+=", ")}return ze}throw new J("hints",Be,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:(Je,j,_)=>{"use strict";const y=_(33885),b=_(74870),P=y.Readable.destroy;Je.exports=y.Readable,Je.exports._uint8ArrayToBuffer=y._uint8ArrayToBuffer,Je.exports._isUint8Array=y._isUint8Array,Je.exports.isDisturbed=y.isDisturbed,Je.exports.isErrored=y.isErrored,Je.exports.isReadable=y.isReadable,Je.exports.Readable=y.Readable,Je.exports.Writable=y.Writable,Je.exports.Duplex=y.Duplex,Je.exports.Transform=y.Transform,Je.exports.PassThrough=y.PassThrough,Je.exports.addAbortSignal=y.addAbortSignal,Je.exports.finished=y.finished,Je.exports.destroy=y.destroy,Je.exports.destroy=P,Je.exports.pipeline=y.pipeline,Je.exports.compose=y.compose,Object.defineProperty(y,"promises",{configurable:!0,enumerable:!0,get:()=>b}),Je.exports.Stream=y.Stream,Je.exports.default=Je.exports},68154:(Je,j,_)=>{"use strict";const{format:y,inspect:b,AggregateError:P}=_(13509),H=globalThis.AggregateError||P,w=Symbol("kIsNodeError"),O=["string","function","number","object","Function","Object","boolean","bigint","symbol"],S=/^([A-Z][a-z0-9]*)+$/,N={};function U(Z,J){if(!Z)throw new N.ERR_INTERNAL_ASSERTION(J)}function A(Z){let J="",se=Z.length;const ce="-"===Z[0]?1:0;for(;se>=ce+4;se-=3)J=`_${Z.slice(se-3,se)}${J}`;return`${Z.slice(0,se)}${J}`}function L(Z,J,se){se||(se=Error);class ce extends se{constructor(...fe){super(function G(Z,J,se){if("function"==typeof J)return U(J.length<=se.length,`Code: ${Z}; The provided arguments length (${se.length}) does not match the required ones (${J.length}).`),J(...se);const ce=(J.match(/%[dfijoOs]/g)||[]).length;return U(ce===se.length,`Code: ${Z}; The provided arguments length (${se.length}) does not match the required ones (${ce}).`),0===se.length?J:y(J,...se)}(Z,J,fe))}toString(){return`${this.name} [${Z}]: ${this.message}`}}Object.defineProperties(ce.prototype,{name:{value:se.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Z}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ce.prototype.code=Z,ce.prototype[w]=!0,N[Z]=ce}function z(Z){return Object.defineProperty(Z,"name",{value:"__node_internal_"+Z.name}),Z}class q extends Error{constructor(J="The operation was aborted",se=void 0){if(void 0!==se&&"object"!=typeof se)throw new N.ERR_INVALID_ARG_TYPE("options","Object",se);super(J,se),this.code="ABORT_ERR",this.name="AbortError"}}L("ERR_ASSERTION","%s",Error),L("ERR_INVALID_ARG_TYPE",(Z,J,se)=>{U("string"==typeof Z,"'name' must be a string"),Array.isArray(J)||(J=[J]);let ce="The ";Z.endsWith(" argument")?ce+=`${Z} `:ce+=`"${Z}" ${Z.includes(".")?"property":"argument"} `,ce+="must be ";const ae=[],fe=[],he=[];for(const Me of J)U("string"==typeof Me,"All expected entries have to be of type string"),O.includes(Me)?ae.push(Me.toLowerCase()):S.test(Me)?fe.push(Me):(U("object"!==Me,'The value "object" should be written as "Object"'),he.push(Me));if(fe.length>0){const Me=ae.indexOf("object");-1!==Me&&(ae.splice(ae,Me,1),fe.push("Object"))}if(ae.length>0){switch(ae.length){case 1:ce+=`of type ${ae[0]}`;break;case 2:ce+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const Me=ae.pop();ce+=`one of type ${ae.join(", ")}, or ${Me}`}}(fe.length>0||he.length>0)&&(ce+=" or ")}if(fe.length>0){switch(fe.length){case 1:ce+=`an instance of ${fe[0]}`;break;case 2:ce+=`an instance of ${fe[0]} or ${fe[1]}`;break;default:{const Me=fe.pop();ce+=`an instance of ${fe.join(", ")}, or ${Me}`}}he.length>0&&(ce+=" or ")}switch(he.length){case 0:break;case 1:he[0].toLowerCase()!==he[0]&&(ce+="an "),ce+=`${he[0]}`;break;case 2:ce+=`one of ${he[0]} or ${he[1]}`;break;default:{const Me=he.pop();ce+=`one of ${he.join(", ")}, or ${Me}`}}if(null==se)ce+=`. Received ${se}`;else if("function"==typeof se&&se.name)ce+=`. Received function ${se.name}`;else if("object"==typeof se){var we;null!==(we=se.constructor)&&void 0!==we&&we.name?ce+=`. Received an instance of ${se.constructor.name}`:ce+=`. Received ${b(se,{depth:-1})}`}else{let Me=b(se,{colors:!1});Me.length>25&&(Me=`${Me.slice(0,25)}...`),ce+=`. Received type ${typeof se} (${Me})`}return ce},TypeError),L("ERR_INVALID_ARG_VALUE",(Z,J,se="is invalid")=>{let ce=b(J);return ce.length>128&&(ce=ce.slice(0,128)+"..."),`The ${Z.includes(".")?"property":"argument"} '${Z}' ${se}. Received ${ce}`},TypeError),L("ERR_INVALID_RETURN_VALUE",(Z,J,se)=>{var ce;return`Expected ${Z} to be returned from the "${J}" function but got ${null!=se&&null!==(ce=se.constructor)&&void 0!==ce&&ce.name?`instance of ${se.constructor.name}`:"type "+typeof se}.`},TypeError),L("ERR_MISSING_ARGS",(...Z)=>{let J;U(Z.length>0,"At least one arg needs to be specified");const se=Z.length;switch(Z=(Array.isArray(Z)?Z:[Z]).map(ce=>`"${ce}"`).join(" or "),se){case 1:J+=`The ${Z[0]} argument`;break;case 2:J+=`The ${Z[0]} and ${Z[1]} arguments`;break;default:{const ce=Z.pop();J+=`The ${Z.join(", ")}, and ${ce} arguments`}}return`${J} must be specified`},TypeError),L("ERR_OUT_OF_RANGE",(Z,J,se)=>{let ce;return U(J,'Missing "range" argument'),Number.isInteger(se)&&Math.abs(se)>2**32?ce=A(String(se)):"bigint"==typeof se?(ce=String(se),(se>2n**32n||se<-(2n**32n))&&(ce=A(ce)),ce+="n"):ce=b(se),`The value of "${Z}" is out of range. It must be ${J}. Received ${ce}`},RangeError),L("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),L("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),L("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),L("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),L("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),L("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),L("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),L("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),L("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),L("ERR_STREAM_WRITE_AFTER_END","write after end",Error),L("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Je.exports={AbortError:q,aggregateTwoErrors:z(function ee(Z,J){if(Z&&J&&Z!==J){if(Array.isArray(J.errors))return J.errors.push(Z),J;const se=new H([J,Z],J.message);return se.code=J.code,se}return Z||J}),hideStackFrames:z,codes:N}},56389:Je=>{"use strict";Je.exports={ArrayIsArray:j=>Array.isArray(j),ArrayPrototypeIncludes:(j,_)=>j.includes(_),ArrayPrototypeIndexOf:(j,_)=>j.indexOf(_),ArrayPrototypeJoin:(j,_)=>j.join(_),ArrayPrototypeMap:(j,_)=>j.map(_),ArrayPrototypePop:(j,_)=>j.pop(_),ArrayPrototypePush:(j,_)=>j.push(_),ArrayPrototypeSlice:(j,_,y)=>j.slice(_,y),Error,FunctionPrototypeCall:(j,_,...y)=>j.call(_,...y),FunctionPrototypeSymbolHasInstance:(j,_)=>Function.prototype[Symbol.hasInstance].call(j,_),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(j,_)=>Object.defineProperties(j,_),ObjectDefineProperty:(j,_,y)=>Object.defineProperty(j,_,y),ObjectGetOwnPropertyDescriptor:(j,_)=>Object.getOwnPropertyDescriptor(j,_),ObjectKeys:j=>Object.keys(j),ObjectSetPrototypeOf:(j,_)=>Object.setPrototypeOf(j,_),Promise,PromisePrototypeCatch:(j,_)=>j.catch(_),PromisePrototypeThen:(j,_,y)=>j.then(_,y),PromiseReject:j=>Promise.reject(j),PromiseResolve:j=>Promise.resolve(j),ReflectApply:Reflect.apply,RegExpPrototypeTest:(j,_)=>j.test(_),SafeSet:Set,String,StringPrototypeSlice:(j,_,y)=>j.slice(_,y),StringPrototypeToLowerCase:j=>j.toLowerCase(),StringPrototypeToUpperCase:j=>j.toUpperCase(),StringPrototypeTrim:j=>j.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(j,_,y)=>j.set(_,y),Boolean,Uint8Array}},13509:(Je,j,_)=>{"use strict";var y=_(29293).default;const b=_(68316),{kResistStopPropagation:P,SymbolDispose:H}=_(56389),w=globalThis.AbortSignal||_(9465).AbortSignal,O=globalThis.AbortController||_(9465).AbortController,S=Object.getPrototypeOf(y(function*(){})).constructor,B=globalThis.Blob||b.Blob,N=typeof B<"u"?function(z){return z instanceof B}:function(z){return!1},U=(L,z)=>{if(void 0!==L&&(null===L||"object"!=typeof L||!("aborted"in L)))throw new ERR_INVALID_ARG_TYPE(z,"AbortSignal",L)};class G extends Error{constructor(z){if(!Array.isArray(z))throw new TypeError("Expected input to be an Array, got "+typeof z);let ee="";for(let q=0;q<z.length;q++)ee+=`    ${z[q].stack}\n`;super(ee),this.name="AggregateError",this.errors=z}}Je.exports={AggregateError:G,kEmptyObject:Object.freeze({}),once(L){let z=!1;return function(...ee){z||(z=!0,L.apply(this,ee))}},createDeferredPromise:function(){let L,z;return{promise:new Promise((q,Z)=>{L=q,z=Z}),resolve:L,reject:z}},promisify:L=>new Promise((z,ee)=>{L((q,...Z)=>q?ee(q):z(...Z))}),debuglog:()=>function(){},format:(L,...z)=>L.replace(/%([sdifj])/g,function(...[ee,q]){const Z=z.shift();return"f"===q?Z.toFixed(6):"j"===q?JSON.stringify(Z):"s"===q&&"object"==typeof Z?`${Z.constructor!==Object?Z.constructor.name:""} {}`.trim():Z.toString()}),inspect(L){switch(typeof L){case"string":if(L.includes("'")){if(!L.includes('"'))return`"${L}"`;if(!L.includes("`")&&!L.includes("${"))return`\`${L}\``}return`'${L}'`;case"number":return isNaN(L)?"NaN":Object.is(L,-0)?String(L):L;case"bigint":return`${String(L)}n`;case"boolean":case"undefined":return String(L);case"object":return"{}"}},types:{isAsyncFunction:L=>L instanceof S,isArrayBufferView:L=>ArrayBuffer.isView(L)},isBlob:N,deprecate:(L,z)=>L,addAbortListener:_(44356).addAbortListener||function(z,ee){if(void 0===z)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",z);let q;return U(z,"signal"),((L,z)=>{if("function"!=typeof L)throw new ERR_INVALID_ARG_TYPE("listener","Function",L)})(ee),z.aborted?queueMicrotask(()=>ee()):(z.addEventListener("abort",ee,{__proto__:null,once:!0,[P]:!0}),q=()=>{z.removeEventListener("abort",ee)}),{__proto__:null,[H](){var Z;null===(Z=q)||void 0===Z||Z()}}},AbortSignalAny:w.any||function(z){if(1===z.length)return z[0];const ee=new O,q=()=>ee.abort();return z.forEach(Z=>{U(Z,"signals"),Z.addEventListener("abort",q,{once:!0})}),ee.signal.addEventListener("abort",()=>{z.forEach(Z=>Z.removeEventListener("abort",q))},{once:!0}),ee.signal}},Je.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:(Je,j,_)=>{const{Buffer:y}=_(68316),{ObjectDefineProperty:b,ObjectKeys:P,ReflectApply:H}=_(56389),{promisify:{custom:w}}=_(13509),{streamReturningOperators:O,promiseReturningOperators:S}=_(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:B}}=_(68154),N=_(373),{setDefaultHighWaterMark:U,getDefaultHighWaterMark:A}=_(18212),{pipeline:G}=_(67843),{destroyer:L}=_(96507),z=_(46017),q=_(74870),Z=_(32924),J=Je.exports=_(91242).Stream;J.isDestroyed=Z.isDestroyed,J.isDisturbed=Z.isDisturbed,J.isErrored=Z.isErrored,J.isReadable=Z.isReadable,J.isWritable=Z.isWritable,J.Readable=_(84553);for(const ae of P(O)){let he=function(...we){if(new.target)throw B();return J.Readable.from(H(fe,this,we))};const fe=O[ae];b(he,"name",{__proto__:null,value:fe.name}),b(he,"length",{__proto__:null,value:fe.length}),b(J.Readable.prototype,ae,{__proto__:null,value:he,enumerable:!1,configurable:!0,writable:!0})}for(const ae of P(S)){let he=function(...Me){if(new.target)throw B();return H(fe,this,Me)};const fe=S[ae];b(he,"name",{__proto__:null,value:fe.name}),b(he,"length",{__proto__:null,value:fe.length}),b(J.Readable.prototype,ae,{__proto__:null,value:he,enumerable:!1,configurable:!0,writable:!0})}J.Writable=_(30009),J.Duplex=_(13323),J.Transform=_(71981),J.PassThrough=_(59447),J.pipeline=G;const{addAbortSignal:se}=_(57062);J.addAbortSignal=se,J.finished=z,J.destroy=L,J.compose=N,J.setDefaultHighWaterMark=U,J.getDefaultHighWaterMark=A,b(J,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>q}),b(G,w,{__proto__:null,enumerable:!0,get:()=>q.pipeline}),b(z,w,{__proto__:null,enumerable:!0,get:()=>q.finished}),J.Stream=J,J._isUint8Array=function(fe){return fe instanceof Uint8Array},J._uint8ArrayToBuffer=function(fe){return y.from(fe.buffer,fe.byteOffset,fe.byteLength)}},74870:(Je,j,_)=>{"use strict";const{ArrayPrototypePop:y,Promise:b}=_(56389),{isIterable:P,isNodeStream:H,isWebStream:w}=_(32924),{pipelineImpl:O}=_(67843),{finished:S}=_(46017);_(33885),Je.exports={finished:S,pipeline:function B(...N){return new b((U,A)=>{let G,L;const z=N[N.length-1];if(z&&"object"==typeof z&&!H(z)&&!P(z)&&!w(z)){const ee=y(N);G=ee.signal,L=ee.end}O(N,(ee,q)=>{ee?A(ee):U(q)},{signal:G,end:L})})}}},94787:(Je,j,_)=>{j.Level=_(23963).BrowserLevel},81447:Je=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}Je.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},1424:(Je,j,_)=>{_(23963)},44514:Je=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}Je.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},89565:(Je,j,_)=>{"use strict";const y=_(13981),b=_(22020),P="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function J(K){return+K!=K&&(K=0),S.alloc(+K)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function O(K){if(K>H)throw new RangeError('The value "'+K+'" is invalid for option "size"');const T=new Uint8Array(K);return Object.setPrototypeOf(T,S.prototype),T}function S(K,T,M){if("number"==typeof K){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return A(K)}return B(K,T,M)}function B(K,T,M){if("string"==typeof K)return function G(K,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!S.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const M=0|se(K,T);let Y=O(M);const pe=Y.write(K,T);return pe!==M&&(Y=Y.slice(0,pe)),Y}(K,T);if(ArrayBuffer.isView(K))return function z(K){if(ze(K,Uint8Array)){const T=new Uint8Array(K);return ee(T.buffer,T.byteOffset,T.byteLength)}return L(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ze(K,ArrayBuffer)||K&&ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(K,SharedArrayBuffer)||K&&ze(K.buffer,SharedArrayBuffer)))return ee(K,T,M);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=K.valueOf&&K.valueOf();if(null!=Y&&Y!==K)return S.from(Y,T,M);const pe=function q(K){if(S.isBuffer(K)){const T=0|Z(K.length),M=O(T);return 0===M.length||K.copy(M,0,0,T),M}return void 0!==K.length?"number"!=typeof K.length||Dt(K.length)?O(0):L(K):"Buffer"===K.type&&Array.isArray(K.data)?L(K.data):void 0}(K);if(pe)return pe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return S.from(K[Symbol.toPrimitive]("string"),T,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function N(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function A(K){return N(K),O(K<0?0:0|Z(K))}function L(K){const T=K.length<0?0:0|Z(K.length),M=O(T);for(let Y=0;Y<T;Y+=1)M[Y]=255&K[Y];return M}function ee(K,T,M){if(T<0||K.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<T+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return Y=void 0===T&&void 0===M?new Uint8Array(K):void 0===M?new Uint8Array(K,T):new Uint8Array(K,T,M),Object.setPrototypeOf(Y,S.prototype),Y}function Z(K){if(K>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|K}function se(K,T){if(S.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const M=K.length,Y=arguments.length>2&&!0===arguments[2];if(!Y&&0===M)return 0;let pe=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ne(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Be(K).length;default:if(pe)return Y?-1:ne(K).length;T=(""+T).toLowerCase(),pe=!0}}function ce(K,T,M){let Y=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(T>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return x(this,T,M);case"utf8":case"utf-8":return m(this,T,M);case"ascii":return D(this,T,M);case"latin1":case"binary":return R(this,T,M);case"base64":return d(this,T,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,T,M);default:if(Y)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Y=!0}}function ae(K,T,M){const Y=K[T];K[T]=K[M],K[M]=Y}function fe(K,T,M,Y,pe){if(0===K.length)return-1;if("string"==typeof M?(Y=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=pe?0:K.length-1),M<0&&(M=K.length+M),M>=K.length){if(pe)return-1;M=K.length-1}else if(M<0){if(!pe)return-1;M=0}if("string"==typeof T&&(T=S.from(T,Y)),S.isBuffer(T))return 0===T.length?-1:he(K,T,M,Y,pe);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call(K,T,M):Uint8Array.prototype.lastIndexOf.call(K,T,M):he(K,[T],M,Y,pe);throw new TypeError("val must be string, number or Buffer")}function he(K,T,M,Y,pe){let It,ke=1,Ne=K.length,lt=T.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(K.length<2||T.length<2)return-1;ke=2,Ne/=2,lt/=2,M/=2}function en(Kt,rn){return 1===ke?Kt[rn]:Kt.readUInt16BE(rn*ke)}if(pe){let Kt=-1;for(It=M;It<Ne;It++)if(en(K,It)===en(T,-1===Kt?0:It-Kt)){if(-1===Kt&&(Kt=It),It-Kt+1===lt)return Kt*ke}else-1!==Kt&&(It-=It-Kt),Kt=-1}else for(M+lt>Ne&&(M=Ne-lt),It=M;It>=0;It--){let Kt=!0;for(let rn=0;rn<lt;rn++)if(en(K,It+rn)!==en(T,rn)){Kt=!1;break}if(Kt)return It}return-1}function we(K,T,M,Y){M=Number(M)||0;const pe=K.length-M;Y?(Y=Number(Y))>pe&&(Y=pe):Y=pe;const ke=T.length;let Ne;for(Y>ke/2&&(Y=ke/2),Ne=0;Ne<Y;++Ne){const lt=parseInt(T.substr(2*Ne,2),16);if(Dt(lt))return Ne;K[M+Ne]=lt}return Ne}function Me(K,T,M,Y){return Qe(ne(T,K.length-M),K,M,Y)}function Pe(K,T,M,Y){return Qe(function ue(K){const T=[];for(let M=0;M<K.length;++M)T.push(255&K.charCodeAt(M));return T}(T),K,M,Y)}function C(K,T,M,Y){return Qe(Be(T),K,M,Y)}function a(K,T,M,Y){return Qe(function De(K,T){let M,Y,pe;const ke=[];for(let Ne=0;Ne<K.length&&!((T-=2)<0);++Ne)M=K.charCodeAt(Ne),Y=M>>8,pe=M%256,ke.push(pe),ke.push(Y);return ke}(T,K.length-M),K,M,Y)}function d(K,T,M){return y.fromByteArray(0===T&&M===K.length?K:K.slice(T,M))}function m(K,T,M){M=Math.min(K.length,M);const Y=[];let pe=T;for(;pe<M;){const ke=K[pe];let Ne=null,lt=ke>239?4:ke>223?3:ke>191?2:1;if(pe+lt<=M){let en,It,Kt,rn;switch(lt){case 1:ke<128&&(Ne=ke);break;case 2:en=K[pe+1],128==(192&en)&&(rn=(31&ke)<<6|63&en,rn>127&&(Ne=rn));break;case 3:en=K[pe+1],It=K[pe+2],128==(192&en)&&128==(192&It)&&(rn=(15&ke)<<12|(63&en)<<6|63&It,rn>2047&&(rn<55296||rn>57343)&&(Ne=rn));break;case 4:en=K[pe+1],It=K[pe+2],Kt=K[pe+3],128==(192&en)&&128==(192&It)&&128==(192&Kt)&&(rn=(15&ke)<<18|(63&en)<<12|(63&It)<<6|63&Kt,rn>65535&&rn<1114112&&(Ne=rn))}}null===Ne?(Ne=65533,lt=1):Ne>65535&&(Ne-=65536,Y.push(Ne>>>10&1023|55296),Ne=56320|1023&Ne),Y.push(Ne),pe+=lt}return function E(K){const T=K.length;if(T<=p)return String.fromCharCode.apply(String,K);let M="",Y=0;for(;Y<T;)M+=String.fromCharCode.apply(String,K.slice(Y,Y+=p));return M}(Y)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function w(){try{const K=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(K,T),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(K,T,M){return B(K,T,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(K,T,M){return function U(K,T,M){return N(K),K<=0?O(K):void 0!==T?"string"==typeof M?O(K).fill(T,M):O(K).fill(T):O(K)}(K,T,M)},S.allocUnsafe=function(K){return A(K)},S.allocUnsafeSlow=function(K){return A(K)},S.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==S.prototype},S.compare=function(T,M){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),ze(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(T)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===M)return 0;let Y=T.length,pe=M.length;for(let ke=0,Ne=Math.min(Y,pe);ke<Ne;++ke)if(T[ke]!==M[ke]){Y=T[ke],pe=M[ke];break}return Y<pe?-1:pe<Y?1:0},S.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(T,M){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return S.alloc(0);let Y;if(void 0===M)for(M=0,Y=0;Y<T.length;++Y)M+=T[Y].length;const pe=S.allocUnsafe(M);let ke=0;for(Y=0;Y<T.length;++Y){let Ne=T[Y];if(ze(Ne,Uint8Array))ke+Ne.length>pe.length?(S.isBuffer(Ne)||(Ne=S.from(Ne)),Ne.copy(pe,ke)):Uint8Array.prototype.set.call(pe,Ne,ke);else{if(!S.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(pe,ke)}ke+=Ne.length}return pe},S.byteLength=se,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<T;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<T;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<T;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ce.apply(this,arguments)},S.prototype.equals=function(T){if(!S.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===S.compare(this,T)},S.prototype.inspect=function(){let T="";const M=j.INSPECT_MAX_BYTES;return T=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(T+=" ... "),"<Buffer "+T+">"},P&&(S.prototype[P]=S.prototype.inspect),S.prototype.compare=function(T,M,Y,pe,ke){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),!S.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===M&&(M=0),void 0===Y&&(Y=T?T.length:0),void 0===pe&&(pe=0),void 0===ke&&(ke=this.length),M<0||Y>T.length||pe<0||ke>this.length)throw new RangeError("out of range index");if(pe>=ke&&M>=Y)return 0;if(pe>=ke)return-1;if(M>=Y)return 1;if(this===T)return 0;let Ne=(ke>>>=0)-(pe>>>=0),lt=(Y>>>=0)-(M>>>=0);const en=Math.min(Ne,lt),It=this.slice(pe,ke),Kt=T.slice(M,Y);for(let rn=0;rn<en;++rn)if(It[rn]!==Kt[rn]){Ne=It[rn],lt=Kt[rn];break}return Ne<lt?-1:lt<Ne?1:0},S.prototype.includes=function(T,M,Y){return-1!==this.indexOf(T,M,Y)},S.prototype.indexOf=function(T,M,Y){return fe(this,T,M,Y,!0)},S.prototype.lastIndexOf=function(T,M,Y){return fe(this,T,M,Y,!1)},S.prototype.write=function(T,M,Y,pe){if(void 0===M)pe="utf8",Y=this.length,M=0;else if(void 0===Y&&"string"==typeof M)pe=M,Y=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(Y)?(Y>>>=0,void 0===pe&&(pe="utf8")):(pe=Y,Y=void 0)}const ke=this.length-M;if((void 0===Y||Y>ke)&&(Y=ke),T.length>0&&(Y<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let Ne=!1;for(;;)switch(pe){case"hex":return we(this,T,M,Y);case"utf8":case"utf-8":return Me(this,T,M,Y);case"ascii":case"latin1":case"binary":return Pe(this,T,M,Y);case"base64":return C(this,T,M,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,T,M,Y);default:if(Ne)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ne=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(127&K[pe]);return Y}function R(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(K[pe]);return Y}function x(K,T,M){const Y=K.length;(!T||T<0)&&(T=0),(!M||M<0||M>Y)&&(M=Y);let pe="";for(let ke=T;ke<M;++ke)pe+=Xe[K[ke]];return pe}function s(K,T,M){const Y=K.slice(T,M);let pe="";for(let ke=0;ke<Y.length-1;ke+=2)pe+=String.fromCharCode(Y[ke]+256*Y[ke+1]);return pe}function v(K,T,M){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+T>M)throw new RangeError("Trying to access beyond buffer length")}function $(K,T,M,Y,pe,ke){if(!S.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>pe||T<ke)throw new RangeError('"value" argument is out of bounds');if(M+Y>K.length)throw new RangeError("Index out of range")}function F(K,T,M,Y,pe){be(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,M}function Q(K,T,M,Y,pe){be(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M+7]=ke,ke>>=8,K[M+6]=ke,ke>>=8,K[M+5]=ke,ke>>=8,K[M+4]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M+3]=Ne,Ne>>=8,K[M+2]=Ne,Ne>>=8,K[M+1]=Ne,Ne>>=8,K[M]=Ne,M+8}function de(K,T,M,Y,pe,ke){if(M+Y>K.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function Ce(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,4),b.write(K,T,M,Y,23,4),M+4}function Re(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,8),b.write(K,T,M,Y,52,8),M+8}S.prototype.slice=function(T,M){const Y=this.length;(T=~~T)<0?(T+=Y)<0&&(T=0):T>Y&&(T=Y),(M=void 0===M?Y:~~M)<0?(M+=Y)<0&&(M=0):M>Y&&(M=Y),M<T&&(M=T);const pe=this.subarray(T,M);return Object.setPrototypeOf(pe,S.prototype),pe},S.prototype.readUintLE=S.prototype.readUIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return pe},S.prototype.readUintBE=S.prototype.readUIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T+--M],ke=1;for(;M>0&&(ke*=256);)pe+=this[T+--M]*ke;return pe},S.prototype.readUint8=S.prototype.readUInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),this[T]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]|this[T+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]<<8|this[T+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},S.prototype.readBigUInt64LE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M+256*this[++T]+65536*this[++T]+this[++T]*2**24,ke=this[++T]+256*this[++T]+65536*this[++T]+Y*2**24;return BigInt(pe)+(BigInt(ke)<<BigInt(32))}),S.prototype.readBigUInt64BE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M*2**24+65536*this[++T]+256*this[++T]+this[++T],ke=this[++T]*2**24+65536*this[++T]+256*this[++T]+Y;return(BigInt(pe)<<BigInt(32))+BigInt(ke)}),S.prototype.readIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return ke*=128,pe>=ke&&(pe-=Math.pow(2,8*M)),pe},S.prototype.readIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=M,ke=1,Ne=this[T+--pe];for(;pe>0&&(ke*=256);)Ne+=this[T+--pe]*ke;return ke*=128,Ne>=ke&&(Ne-=Math.pow(2,8*M)),Ne},S.prototype.readInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},S.prototype.readInt16LE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T]|this[T+1]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt16BE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T+1]|this[T]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},S.prototype.readInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},S.prototype.readBigInt64LE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];return(void 0===M||void 0===Y)&&ge(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Y<<24))<<BigInt(32))+BigInt(M+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),S.prototype.readBigInt64BE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=(M<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(pe)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Y)}),S.prototype.readFloatLE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!0,23,4)},S.prototype.readFloatBE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!1,23,4)},S.prototype.readDoubleLE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!0,52,8)},S.prototype.readDoubleBE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=1,Ne=0;for(this[M]=255&T;++Ne<Y&&(ke*=256);)this[M+Ne]=T/ke&255;return M+Y},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=Y-1,Ne=1;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)this[M+ke]=T/Ne&255;return M+Y},S.prototype.writeUint8=S.prototype.writeUInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,255,0),this[M]=255&T,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M+3]=T>>>24,this[M+2]=T>>>16,this[M+1]=T>>>8,this[M]=255&T,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigUInt64LE=Ue(function(T,M=0){return F(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Ue(function(T,M=0){return Q(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=0,Ne=1,lt=0;for(this[M]=255&T;++ke<Y&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke-1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeIntBE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=Y-1,Ne=1,lt=0;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke+1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,127,-128),T<0&&(T=255+T+1),this[M]=255&T,M+1},S.prototype.writeInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),this[M]=255&T,this[M+1]=T>>>8,this[M+2]=T>>>16,this[M+3]=T>>>24,M+4},S.prototype.writeInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigInt64LE=Ue(function(T,M=0){return F(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Ue(function(T,M=0){return Q(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(T,M,Y){return Ce(this,T,M,!0,Y)},S.prototype.writeFloatBE=function(T,M,Y){return Ce(this,T,M,!1,Y)},S.prototype.writeDoubleLE=function(T,M,Y){return Re(this,T,M,!0,Y)},S.prototype.writeDoubleBE=function(T,M,Y){return Re(this,T,M,!1,Y)},S.prototype.copy=function(T,M,Y,pe){if(!S.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!pe&&0!==pe&&(pe=this.length),M>=T.length&&(M=T.length),M||(M=0),pe>0&&pe<Y&&(pe=Y),pe===Y||0===T.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),T.length-M<pe-Y&&(pe=T.length-M+Y);const ke=pe-Y;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,Y,pe):Uint8Array.prototype.set.call(T,this.subarray(Y,pe),M),ke},S.prototype.fill=function(T,M,Y,pe){if("string"==typeof T){if("string"==typeof M?(pe=M,M=0,Y=this.length):"string"==typeof Y&&(pe=Y,Y=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!S.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(1===T.length){const Ne=T.charCodeAt(0);("utf8"===pe&&Ne<128||"latin1"===pe)&&(T=Ne)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(M<0||this.length<M||this.length<Y)throw new RangeError("Out of range index");if(Y<=M)return this;let ke;if(M>>>=0,Y=void 0===Y?this.length:Y>>>0,T||(T=0),"number"==typeof T)for(ke=M;ke<Y;++ke)this[ke]=T;else{const Ne=S.isBuffer(T)?T:S.from(T,pe),lt=Ne.length;if(0===lt)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ke=0;ke<Y-M;++ke)this[ke+M]=Ne[ke%lt]}return this};const Ve={};function Ee(K,T,M){Ve[K]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function _e(K){let T="",M=K.length;const Y="-"===K[0]?1:0;for(;M>=Y+4;M-=3)T=`_${K.slice(M-3,M)}${T}`;return`${K.slice(0,M)}${T}`}function be(K,T,M,Y,pe,ke){if(K>M||K<T){const Ne="bigint"==typeof T?"n":"";let lt;throw lt=ke>3?0===T||T===BigInt(0)?`>= 0${Ne} and < 2${Ne} ** ${8*(ke+1)}${Ne}`:`>= -(2${Ne} ** ${8*(ke+1)-1}${Ne}) and < 2 ** ${8*(ke+1)-1}${Ne}`:`>= ${T}${Ne} and <= ${M}${Ne}`,new Ve.ERR_OUT_OF_RANGE("value",lt,K)}!function Fe(K,T,M){Ae(T,"offset"),(void 0===K[T]||void 0===K[T+M])&&ge(T,K.length-(M+1))}(Y,pe,ke)}function Ae(K,T){if("number"!=typeof K)throw new Ve.ERR_INVALID_ARG_TYPE(T,"number",K)}function ge(K,T,M){throw Math.floor(K)!==K?(Ae(K,M),new Ve.ERR_OUT_OF_RANGE(M||"offset","an integer",K)):T<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${T}`,K)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(K,T){return`The "${K}" argument must be of type number. Received type ${typeof T}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(K,T,M){let Y=`The value of "${K}" is out of range.`,pe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?pe=_e(String(M)):"bigint"==typeof M&&(pe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(pe=_e(pe)),pe+="n"),Y+=` It must be ${T}. Received ${pe}`,Y},RangeError);const me=/[^+/0-9A-Za-z-_]/g;function ne(K,T){let M;T=T||1/0;const Y=K.length;let pe=null;const ke=[];for(let Ne=0;Ne<Y;++Ne){if(M=K.charCodeAt(Ne),M>55295&&M<57344){if(!pe){if(M>56319){(T-=3)>-1&&ke.push(239,191,189);continue}if(Ne+1===Y){(T-=3)>-1&&ke.push(239,191,189);continue}pe=M;continue}if(M<56320){(T-=3)>-1&&ke.push(239,191,189),pe=M;continue}M=65536+(pe-55296<<10|M-56320)}else pe&&(T-=3)>-1&&ke.push(239,191,189);if(pe=null,M<128){if((T-=1)<0)break;ke.push(M)}else if(M<2048){if((T-=2)<0)break;ke.push(M>>6|192,63&M|128)}else if(M<65536){if((T-=3)<0)break;ke.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;ke.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return ke}function Be(K){return y.toByteArray(function te(K){if((K=(K=K.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Qe(K,T,M,Y){let pe;for(pe=0;pe<Y&&!(pe+M>=T.length||pe>=K.length);++pe)T[pe+M]=K[pe];return pe}function ze(K,T){return K instanceof T||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===T.name}function Dt(K){return K!=K}const Xe=function(){const K="0123456789abcdef",T=new Array(256);for(let M=0;M<16;++M){const Y=16*M;for(let pe=0;pe<16;++pe)T[Y+pe]=K[M]+K[pe]}return T}();function Ue(K){return typeof BigInt>"u"?mt:K}function mt(){throw new Error("BigInt not supported")}},24785:(Je,j,_)=>{"use strict";const{AbortError:y,codes:b}=_(65109),{isNodeStream:P,isWebStream:H,kControllerErrorFunction:w}=_(51233),O=_(44268),{ERR_INVALID_ARG_TYPE:S}=b;Je.exports.addAbortSignal=function(U,A){if(((N,U)=>{if("object"!=typeof N||!("aborted"in N))throw new S("signal","AbortSignal",N)})(U),!P(A)&&!H(A))throw new S("stream",["ReadableStream","WritableStream","Stream"],A);return Je.exports.addAbortSignalNoValidate(U,A)},Je.exports.addAbortSignalNoValidate=function(N,U){if("object"!=typeof N||!("aborted"in N))return U;const A=P(U)?()=>{U.destroy(new y(void 0,{cause:N.reason}))}:()=>{U[w](new y(void 0,{cause:N.reason}))};return N.aborted?A():(N.addEventListener("abort",A),O(U,()=>N.removeEventListener("abort",A))),U}},58579:(Je,j,_)=>{"use strict";const{StringPrototypeSlice:y,SymbolIterator:b,TypedArrayPrototypeSet:P,Uint8Array:H}=_(43856),{Buffer:w}=_(89565),{inspect:O}=_(55830);Je.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(B){const N={data:B,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length}unshift(B){const N={data:B,next:this.head};0===this.length&&(this.tail=N),this.head=N,++this.length}shift(){if(0===this.length)return;const B=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,B}clear(){this.head=this.tail=null,this.length=0}join(B){if(0===this.length)return"";let N=this.head,U=""+N.data;for(;null!==(N=N.next);)U+=B+N.data;return U}concat(B){if(0===this.length)return w.alloc(0);const N=w.allocUnsafe(B>>>0);let U=this.head,A=0;for(;U;)P(N,U.data,A),A+=U.data.length,U=U.next;return N}consume(B,N){const U=this.head.data;if(B<U.length){const A=U.slice(0,B);return this.head.data=U.slice(B),A}return B===U.length?this.shift():N?this._getString(B):this._getBuffer(B)}first(){return this.head.data}*[b](){for(let B=this.head;B;B=B.next)yield B.data}_getString(B){let N="",U=this.head,A=0;do{const G=U.data;if(!(B>G.length)){B===G.length?(N+=G,++A,this.head=U.next?U.next:this.tail=null):(N+=y(G,0,B),this.head=U,U.data=y(G,B));break}N+=G,B-=G.length,++A}while(null!==(U=U.next));return this.length-=A,N}_getBuffer(B){const N=w.allocUnsafe(B),U=B;let A=this.head,G=0;do{const L=A.data;if(!(B>L.length)){B===L.length?(P(N,L,U-B),++G,this.head=A.next?A.next:this.tail=null):(P(N,new H(L.buffer,L.byteOffset,B),U-B),this.head=A,A.data=L.slice(B));break}P(N,L,U-B),B-=L.length,++G}while(null!==(A=A.next));return this.length-=G,N}[Symbol.for("nodejs.util.inspect.custom")](B,N){return O(this,{...N,depth:0,customInspect:!1})}}},5464:(Je,j,_)=>{"use strict";var y=_(29293).default;const{pipeline:b}=_(96208),P=_(97464),{destroyer:H}=_(45078),{isNodeStream:w,isReadable:O,isWritable:S,isWebStream:B,isTransformStream:N,isWritableStream:U,isReadableStream:A}=_(51233),{AbortError:G,codes:{ERR_INVALID_ARG_VALUE:L,ERR_MISSING_ARGS:z}}=_(65109),ee=_(44268);Je.exports=function(...Z){if(0===Z.length)throw new z("streams");if(1===Z.length)return P.from(Z[0]);const J=[...Z];if("function"==typeof Z[0]&&(Z[0]=P.from(Z[0])),"function"==typeof Z[Z.length-1]){const d=Z.length-1;Z[d]=P.from(Z[d])}for(let d=0;d<Z.length;++d)if(w(Z[d])||B(Z[d])){if(d<Z.length-1&&!(O(Z[d])||A(Z[d])||N(Z[d])))throw new L(`streams[${d}]`,J[d],"must be readable");if(d>0&&!(S(Z[d])||U(Z[d])||N(Z[d])))throw new L(`streams[${d}]`,J[d],"must be writable")}let se,ce,ae,fe,he;const Me=Z[0],Pe=b(Z,function we(d){const m=fe;fe=null,m?m(d):d?he.destroy(d):!a&&!C&&he.destroy()}),C=!!(S(Me)||U(Me)||N(Me)),a=!!(O(Pe)||A(Pe)||N(Pe));if(he=new P({writableObjectMode:!(null==Me||!Me.writableObjectMode),readableObjectMode:!(null==Pe||!Pe.writableObjectMode),writable:C,readable:a}),C){if(w(Me))he._write=function(m,p,E){Me.write(m,p)?E():se=E},he._final=function(m){Me.end(),ce=m},Me.on("drain",function(){if(se){const m=se;se=null,m()}});else if(B(Me)){const p=(N(Me)?Me.writable:Me).getWriter();he._write=function(){var E=y(function*(D,R,x){try{yield p.ready,p.write(D).catch(()=>{}),x()}catch(s){x(s)}});return function(D,R,x){return E.apply(this,arguments)}}(),he._final=function(){var E=y(function*(D){try{yield p.ready,p.close().catch(()=>{}),ce=D}catch(R){D(R)}});return function(D){return E.apply(this,arguments)}}()}const d=N(Pe)?Pe.readable:Pe;ee(d,()=>{if(ce){const m=ce;ce=null,m()}})}if(a)if(w(Pe))Pe.on("readable",function(){if(ae){const d=ae;ae=null,d()}}),Pe.on("end",function(){he.push(null)}),he._read=function(){for(;;){const d=Pe.read();if(null===d)return void(ae=he._read);if(!he.push(d))return}};else if(B(Pe)){const m=(N(Pe)?Pe.readable:Pe).getReader();he._read=y(function*(){for(;;)try{const{value:p,done:E}=yield m.read();if(!he.push(p))return;if(E)return void he.push(null)}catch{return}})}return he._destroy=function(d,m){!d&&null!==fe&&(d=new G),ae=null,se=null,ce=null,null===fe?m(d):(fe=m,w(Pe)&&H(Pe,d))},he}},45078:(Je,j,_)=>{"use strict";const y=_(40573),{aggregateTwoErrors:b,codes:{ERR_MULTIPLE_CALLBACK:P},AbortError:H}=_(65109),{Symbol:w}=_(43856),{kDestroyed:O,isDestroyed:S,isFinished:B,isServerRequest:N}=_(51233),U=w("kDestroy"),A=w("kConstruct");function G(C,a,d){C&&(a&&!a.errored&&(a.errored=C),d&&!d.errored&&(d.errored=C))}function z(C,a,d){let m=!1;function p(E){if(m)return;m=!0;const D=C._readableState,R=C._writableState;G(E,R,D),R&&(R.closed=!0),D&&(D.closed=!0),"function"==typeof d&&d(E),E?y.nextTick(ee,C,E):y.nextTick(q,C)}try{C._destroy(a||null,p)}catch(E){p(E)}}function ee(C,a){Z(C,a),q(C)}function q(C){const a=C._readableState,d=C._writableState;d&&(d.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=d&&d.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function Z(C,a){const d=C._readableState,m=C._writableState;null!=m&&m.errorEmitted||null!=d&&d.errorEmitted||(m&&(m.errorEmitted=!0),d&&(d.errorEmitted=!0),C.emit("error",a))}function se(C,a,d){const m=C._readableState,p=C._writableState;if(null!=p&&p.destroyed||null!=m&&m.destroyed)return this;null!=m&&m.autoDestroy||null!=p&&p.autoDestroy?C.destroy(a):a&&(p&&!p.errored&&(p.errored=a),m&&!m.errored&&(m.errored=a),d?y.nextTick(Z,C,a):Z(C,a))}function ae(C){let a=!1;function d(m){if(a)return void se(C,m??new P);a=!0;const p=C._readableState,E=C._writableState,D=E||p;p&&(p.constructed=!0),E&&(E.constructed=!0),D.destroyed?C.emit(U,m):m?se(C,m,!0):y.nextTick(fe,C)}try{C._construct(m=>{y.nextTick(d,m)})}catch(m){y.nextTick(d,m)}}function fe(C){C.emit(A)}function he(C){return C?.setHeader&&"function"==typeof C.abort}function we(C){C.emit("close")}function Me(C,a){C.emit("error",a),y.nextTick(we,C)}Je.exports={construct:function ce(C,a){if("function"!=typeof C._construct)return;const d=C._readableState,m=C._writableState;d&&(d.constructed=!1),m&&(m.constructed=!1),C.once(A,a),!(C.listenerCount(A)>1)&&y.nextTick(ae,C)},destroyer:function Pe(C,a){!C||S(C)||(!a&&!B(C)&&(a=new H),N(C)?(C.socket=null,C.destroy(a)):he(C)?C.abort():he(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?y.nextTick(Me,C,a):y.nextTick(we,C),C.destroyed||(C[O]=!0))},destroy:function L(C,a){const d=this._readableState,m=this._writableState,p=m||d;return null!=m&&m.destroyed||null!=d&&d.destroyed?("function"==typeof a&&a(),this):(G(C,m,d),m&&(m.destroyed=!0),d&&(d.destroyed=!0),p.constructed?z(this,C,a):this.once(U,function(E){z(this,b(E,C),a)}),this)},undestroy:function J(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:se}},97464:(Je,j,_)=>{"use strict";const{ObjectDefineProperties:y,ObjectGetOwnPropertyDescriptor:b,ObjectKeys:P,ObjectSetPrototypeOf:H}=_(43856);Je.exports=S;const w=_(29710),O=_(40258);H(S.prototype,w.prototype),H(S,w);{const A=P(O.prototype);for(let G=0;G<A.length;G++){const L=A[G];S.prototype[L]||(S.prototype[L]=O.prototype[L])}}function S(A){if(!(this instanceof S))return new S(A);w.call(this,A),O.call(this,A),A?(this.allowHalfOpen=!1!==A.allowHalfOpen,!1===A.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===A.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let B,U;function N(){return void 0===B&&(B={}),B}y(S.prototype,{writable:{__proto__:null,...b(O.prototype,"writable")},writableHighWaterMark:{__proto__:null,...b(O.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...b(O.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...b(O.prototype,"writableBuffer")},writableLength:{__proto__:null,...b(O.prototype,"writableLength")},writableFinished:{__proto__:null,...b(O.prototype,"writableFinished")},writableCorked:{__proto__:null,...b(O.prototype,"writableCorked")},writableEnded:{__proto__:null,...b(O.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...b(O.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(A){this._readableState&&this._writableState&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}}),S.fromWeb=function(A,G){return N().newStreamDuplexFromReadableWritablePair(A,G)},S.toWeb=function(A){return N().newReadableWritablePairFromDuplex(A)},S.from=function(A){return U||(U=_(56840)),U(A,"body")}},56840:(Je,j,_)=>{var y=_(29293).default,b=_(53344).default,P=_(42958).default;const H=_(40573),w=_(89565),{isReadable:O,isWritable:S,isIterable:B,isNodeStream:N,isReadableNodeStream:U,isWritableNodeStream:A,isDuplexNodeStream:G}=_(51233),L=_(44268),{AbortError:z,codes:{ERR_INVALID_ARG_TYPE:ee,ERR_INVALID_RETURN_VALUE:q}}=_(65109),{destroyer:Z}=_(45078),J=_(97464),se=_(29710),{createDeferredPromise:ce}=_(55830),ae=_(24246),fe=globalThis.Blob||w.Blob,he=typeof fe<"u"?function(m){return m instanceof fe}:function(m){return!1},we=globalThis.AbortController||_(9465).AbortController,{FunctionPrototypeCall:Me}=_(43856);class Pe extends J{constructor(m){super(m),!1===m?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===m?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function a(d){const m=d.readable&&"function"!=typeof d.readable.read?se.wrap(d.readable):d.readable,p=d.writable;let R,x,s,v,$,E=!!O(m),D=!!S(p);function F(Q){const de=v;v=null,de?de(Q):Q&&$.destroy(Q)}return $=new Pe({readableObjectMode:!(null==m||!m.readableObjectMode),writableObjectMode:!(null==p||!p.writableObjectMode),readable:E,writable:D}),D&&(L(p,Q=>{D=!1,Q&&Z(m,Q),F(Q)}),$._write=function(Q,de,Ce){p.write(Q,de)?Ce():R=Ce},$._final=function(Q){p.end(),x=Q},p.on("drain",function(){if(R){const Q=R;R=null,Q()}}),p.on("finish",function(){if(x){const Q=x;x=null,Q()}})),E&&(L(m,Q=>{E=!1,Q&&Z(m,Q),F(Q)}),m.on("readable",function(){if(s){const Q=s;s=null,Q()}}),m.on("end",function(){$.push(null)}),$._read=function(){for(;;){const Q=m.read();if(null===Q)return void(s=$._read);if(!$.push(Q))return}}),$._destroy=function(Q,de){!Q&&null!==v&&(Q=new z),s=null,R=null,x=null,null===v?de(Q):(v=de,Z(p,Q),Z(m,Q))},$}Je.exports=function d(m,p){if(G(m))return m;if(U(m))return a({readable:m});if(A(m))return a({writable:m});if(N(m))return a({writable:!1,readable:!1});if("function"==typeof m){const{value:D,write:R,final:x,destroy:s}=function C(d){let{promise:m,resolve:p}=ce();const E=new we,D=E.signal;return{value:d(P(function*(){for(;;){const x=m;m=null;const{chunk:s,done:v,cb:$}=yield b(x);if(H.nextTick($),v)return;if(D.aborted)throw new z(void 0,{cause:D.reason});({promise:m,resolve:p}=ce()),yield s}})(),{signal:D}),write(x,s,v){const $=p;p=null,$({chunk:x,done:!1,cb:v})},final(x){const s=p;p=null,s({done:!0,cb:x})},destroy(x,s){E.abort(),s(x)}}}(m);if(B(D))return ae(Pe,D,{objectMode:!0,write:R,final:x,destroy:s});const v=D?.then;if("function"==typeof v){let $;const F=Me(v,D,Q=>{if(null!=Q)throw new q("nully","body",Q)},Q=>{Z($,Q)});return $=new Pe({objectMode:!0,readable:!1,write:R,final(Q){x(y(function*(){try{yield F,H.nextTick(Q,null)}catch(de){H.nextTick(Q,de)}}))},destroy:s})}throw new q("Iterable, AsyncIterable or AsyncFunction",p,D)}if(he(m))return d(m.arrayBuffer());if(B(m))return ae(Pe,m,{objectMode:!0,writable:!1});if("object"==typeof m?.writable||"object"==typeof m?.readable)return a({readable:null!=m&&m.readable?U(m?.readable)?m?.readable:d(m.readable):void 0,writable:null!=m&&m.writable?A(m?.writable)?m?.writable:d(m.writable):void 0});const E=m?.then;if("function"==typeof E){let D;return Me(E,m,R=>{null!=R&&D.push(R),D.push(null)},R=>{Z(D,R)}),D=new Pe({objectMode:!0,writable:!1,read(){}})}throw new ee(p,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],m)}},44268:(Je,j,_)=>{const y=_(40573),{AbortError:b,codes:P}=_(65109),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:w}=P,{kEmptyObject:O,once:S}=_(55830),{validateAbortSignal:B,validateFunction:N,validateObject:U,validateBoolean:A}=_(44323),{Promise:G,PromisePrototypeThen:L}=_(43856),{isClosed:z,isReadable:ee,isReadableNodeStream:q,isReadableStream:Z,isReadableFinished:J,isReadableErrored:se,isWritable:ce,isWritableNodeStream:ae,isWritableStream:fe,isWritableFinished:he,isWritableErrored:we,isNodeStream:Me,willEmitClose:Pe,kIsClosedPromise:C}=_(51233),d=()=>{};function m(D,R,x){var s,v;if(2===arguments.length?(x=R,R=O):null==R?R=O:U(R,"options"),N(x,"callback"),B(R.signal,"options.signal"),x=S(x),Z(D)||fe(D))return function p(D,R,x){let s=!1,v=d;if(R.signal)if(v=()=>{s=!0,x.call(D,new b(void 0,{cause:R.signal.reason}))},R.signal.aborted)y.nextTick(v);else{const F=x;x=S((...Q)=>{R.signal.removeEventListener("abort",v),F.apply(D,Q)}),R.signal.addEventListener("abort",v)}const $=(...F)=>{s||y.nextTick(()=>x.apply(D,F))};return L(D[C].promise,$,$),d}(D,R,x);if(!Me(D))throw new H("stream",["ReadableStream","WritableStream","Stream"],D);const $=null!==(s=R.readable)&&void 0!==s?s:q(D),F=null!==(v=R.writable)&&void 0!==v?v:ae(D),Q=D._writableState,de=D._readableState,Ce=()=>{D.writable||Ee()};let Re=Pe(D)&&q(D)===$&&ae(D)===F,Ve=he(D,!1);const Ee=()=>{Ve=!0,D.destroyed&&(Re=!1),(!Re||D.readable&&!$)&&(!$||_e)&&x.call(D)};let _e=J(D,!1);const Fe=()=>{_e=!0,D.destroyed&&(Re=!1),(!Re||D.writable&&!F)&&(!F||Ve)&&x.call(D)},be=ue=>{x.call(D,ue)};let Ae=z(D);const ge=()=>{Ae=!0;const ue=we(D)||se(D);return ue&&"boolean"!=typeof ue?x.call(D,ue):$&&!_e&&q(D,!0)&&!J(D,!1)?x.call(D,new w):!F||Ve||he(D,!1)?void x.call(D):x.call(D,new w)},me=()=>{Ae=!0;const ue=we(D)||se(D);if(ue&&"boolean"!=typeof ue)return x.call(D,ue);x.call(D)},te=()=>{D.req.on("finish",Ee)};!function a(D){return D.setHeader&&"function"==typeof D.abort}(D)?F&&!Q&&(D.on("end",Ce),D.on("close",Ce)):(D.on("complete",Ee),Re||D.on("abort",ge),D.req?te():D.on("request",te)),!Re&&"boolean"==typeof D.aborted&&D.on("aborted",ge),D.on("end",Fe),D.on("finish",Ee),!1!==R.error&&D.on("error",be),D.on("close",ge),Ae?y.nextTick(ge):null!=Q&&Q.errorEmitted||null!=de&&de.errorEmitted?Re||y.nextTick(me):(!$&&(!Re||ee(D))&&(Ve||!1===ce(D))||!F&&(!Re||ce(D))&&(_e||!1===ee(D))||de&&D.req&&D.aborted)&&y.nextTick(me);const ne=()=>{x=d,D.removeListener("aborted",ge),D.removeListener("complete",Ee),D.removeListener("abort",ge),D.removeListener("request",te),D.req&&D.req.removeListener("finish",Ee),D.removeListener("end",Ce),D.removeListener("close",Ce),D.removeListener("finish",Ee),D.removeListener("end",Fe),D.removeListener("error",be),D.removeListener("close",ge)};if(R.signal&&!Ae){const ue=()=>{const De=x;ne(),De.call(D,new b(void 0,{cause:R.signal.reason}))};if(R.signal.aborted)y.nextTick(ue);else{const De=x;x=S((...Be)=>{R.signal.removeEventListener("abort",ue),De.apply(D,Be)}),R.signal.addEventListener("abort",ue)}}return ne}Je.exports=m,Je.exports.finished=function E(D,R){var x;let s=!1;return null===R&&(R=O),null!==(x=R)&&void 0!==x&&x.cleanup&&(A(R.cleanup,"cleanup"),s=R.cleanup),new G((v,$)=>{const F=m(D,R,Q=>{s&&F(),Q?$(Q):v()})})}},24246:(Je,j,_)=>{"use strict";var y=_(29293).default;const b=_(40573),{PromisePrototypeThen:P,SymbolAsyncIterator:H,SymbolIterator:w}=_(43856),{Buffer:O}=_(89565),{ERR_INVALID_ARG_TYPE:S,ERR_STREAM_NULL_VALUES:B}=_(65109).codes;Je.exports=function N(U,A,G){let L,z;if("string"==typeof A||A instanceof O)return new U({objectMode:!0,...G,read(){this.push(A),this.push(null)}});if(A&&A[H])z=!0,L=A[H]();else{if(!A||!A[w])throw new S("iterable",["Iterable"],A);z=!1,L=A[w]()}const ee=new U({objectMode:!0,highWaterMark:1,...G});let q=!1;function J(){return(J=y(function*(ae){if(null!=ae&&"function"==typeof L.throw){const{value:we,done:Me}=yield L.throw(ae);if(yield we,Me)return}if("function"==typeof L.return){const{value:we}=yield L.return();yield we}})).apply(this,arguments)}function ce(){return(ce=y(function*(){for(;;){try{const{value:ae,done:fe}=z?yield L.next():L.next();if(fe)ee.push(null);else{const he=ae&&"function"==typeof ae.then?yield ae:ae;if(null===he)throw q=!1,new B;if(ee.push(he))continue;q=!1}}catch(ae){ee.destroy(ae)}break}})).apply(this,arguments)}return ee._read=function(){q||(q=!0,function se(){ce.apply(this,arguments)}())},ee._destroy=function(ae,fe){P(function Z(ae){return J.apply(this,arguments)}(ae),()=>b.nextTick(fe,ae),he=>b.nextTick(fe,he||ae))},ee}},2649:(Je,j,_)=>{"use strict";const{ArrayIsArray:y,ObjectSetPrototypeOf:b}=_(43856),{EventEmitter:P}=_(44356);function H(O){P.call(this,O)}function w(O,S,B){if("function"==typeof O.prependListener)return O.prependListener(S,B);O._events&&O._events[S]?y(O._events[S])?O._events[S].unshift(B):O._events[S]=[B,O._events[S]]:O.on(S,B)}b(H.prototype,P.prototype),b(H,P),H.prototype.pipe=function(O,S){const B=this;function N(q){O.writable&&!1===O.write(q)&&B.pause&&B.pause()}function U(){B.readable&&B.resume&&B.resume()}B.on("data",N),O.on("drain",U),!O._isStdio&&(!S||!1!==S.end)&&(B.on("end",G),B.on("close",L));let A=!1;function G(){A||(A=!0,O.end())}function L(){A||(A=!0,"function"==typeof O.destroy&&O.destroy())}function z(q){ee(),0===P.listenerCount(this,"error")&&this.emit("error",q)}function ee(){B.removeListener("data",N),O.removeListener("drain",U),B.removeListener("end",G),B.removeListener("close",L),B.removeListener("error",z),O.removeListener("error",z),B.removeListener("end",ee),B.removeListener("close",ee),O.removeListener("close",ee)}return w(B,"error",z),w(O,"error",z),B.on("end",ee),B.on("close",ee),O.on("close",ee),O.emit("pipe",B),O},Je.exports={Stream:H,prependListener:w}},37325:(Je,j,_)=>{"use strict";var y=_(29293).default,b=_(93513).default,P=_(82881).default,H=_(53344).default,w=_(42958).default;const O=globalThis.AbortController||_(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:S,ERR_INVALID_ARG_TYPE:B,ERR_MISSING_ARGS:N,ERR_OUT_OF_RANGE:U},AbortError:A}=_(65109),{validateAbortSignal:G,validateInteger:L,validateObject:z}=_(44323),ee=_(43856).Symbol("kWeak"),{finished:q}=_(44268),Z=_(5464),{addAbortSignalNoValidate:J}=_(24785),{isWritable:se,isNodeStream:ce}=_(51233),{ArrayPrototypePush:ae,MathFloor:fe,Number:he,NumberIsNaN:we,Promise:Me,PromiseReject:Pe,PromisePrototypeThen:C,Symbol:a}=_(43856),d=a("kEmpty"),m=a("kEof");function E(te,ne){if("function"!=typeof te)throw new B("fn",["Function","AsyncFunction"],te);null!=ne&&z(ne,"options"),null!=ne?.signal&&G(ne.signal,"options.signal");let ue=1;return null!=ne?.concurrency&&(ue=fe(ne.concurrency)),L(ue,"concurrency",1),function(){var De=w(function*(){var Qe,ze;const Dt=new O,Xe=this,Ue=[],mt=Dt.signal,K={signal:mt},T=()=>Dt.abort();null!=ne&&null!==(Qe=ne.signal)&&void 0!==Qe&&Qe.aborted&&T(),null==ne||null===(ze=ne.signal)||void 0===ze||ze.addEventListener("abort",T);let M,Y,pe=!1;function ke(){pe=!0}function lt(){return(lt=y(function*(){try{var Kt,en=!1,It=!1;try{for(var vn,rn=P(Xe);en=!(vn=yield rn.next()).done;en=!1){let Cn=vn.value;var un;if(pe)return;if(mt.aborted)throw new A;try{Cn=te(Cn,K)}catch(cn){Cn=Pe(cn)}Cn!==d&&("function"==typeof(null===(un=Cn)||void 0===un?void 0:un.catch)&&Cn.catch(ke),Ue.push(Cn),M&&(M(),M=null),!pe&&Ue.length&&Ue.length>=ue&&(yield new Me(cn=>{Y=cn})))}}catch(Cn){It=!0,Kt=Cn}finally{try{en&&null!=rn.return&&(yield rn.return())}finally{if(It)throw Kt}}Ue.push(m)}catch(Cn){const cn=Pe(Cn);C(cn,void 0,ke),Ue.push(cn)}finally{var sr;pe=!0,M&&(M(),M=null),null==ne||null===(sr=ne.signal)||void 0===sr||sr.removeEventListener("abort",T)}})).apply(this,arguments)}!function Ne(){lt.apply(this,arguments)}();try{for(;;){for(;Ue.length>0;){const en=yield H(Ue[0]);if(en===m)return;if(mt.aborted)throw new A;en!==d&&(yield en),Ue.shift(),Y&&(Y(),Y=null)}yield H(new Me(en=>{M=en}))}}finally{Dt.abort(),pe=!0,Y&&(Y(),Y=null)}});return function Be(){return De.apply(this,arguments)}}().call(this)}function R(te){return x.apply(this,arguments)}function x(){return(x=y(function*(te,ne=void 0){var Be,ue=!1,De=!1;try{for(var Qe=P(Ce.call(this,te,ne));ue=!(yield Qe.next()).done;ue=!1)return!0}catch(Dt){De=!0,Be=Dt}finally{try{ue&&null!=Qe.return&&(yield Qe.return())}finally{if(De)throw Be}}return!1})).apply(this,arguments)}function v(){return(v=y(function*(te,ne=void 0){if("function"!=typeof te)throw new B("fn",["Function","AsyncFunction"],te);return!(yield R.call(this,y(function*(...ue){return!(yield te(...ue))}),ne))})).apply(this,arguments)}function F(){return(F=y(function*(te,ne){var Be,ue=!1,De=!1;try{for(var ze,Qe=P(Ce.call(this,te,ne));ue=!(ze=yield Qe.next()).done;ue=!1)return ze.value}catch(Dt){De=!0,Be=Dt}finally{try{ue&&null!=Qe.return&&(yield Qe.return())}finally{if(De)throw Be}}})).apply(this,arguments)}function de(){return de=y(function*(te,ne){if("function"!=typeof te)throw new B("fn",["Function","AsyncFunction"],te);function De(){return(De=y(function*(Ue,mt){return yield te(Ue,mt),d})).apply(this,arguments)}var ze,Be=!1,Qe=!1;try{for(var Dt=P(E.call(this,function ue(Ue,mt){return De.apply(this,arguments)},ne));Be=!(yield Dt.next()).done;Be=!1);}catch(Ue){Qe=!0,ze=Ue}finally{try{Be&&null!=Dt.return&&(yield Dt.return())}finally{if(Qe)throw ze}}}),de.apply(this,arguments)}function Ce(te,ne){if("function"!=typeof te)throw new B("fn",["Function","AsyncFunction"],te);function De(){return(De=y(function*(Be,Qe){return(yield te(Be,Qe))?Be:d})).apply(this,arguments)}return E.call(this,function ue(Be,Qe){return De.apply(this,arguments)},ne)}class Re extends N{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Ee(){return Ee=y(function*(te,ne,ue){var De;if("function"!=typeof te)throw new B("reducer",["Function","AsyncFunction"],te);null!=ue&&z(ue,"options"),null!=ue?.signal&&G(ue.signal,"options.signal");let Be=arguments.length>1;if(null!=ue&&null!==(De=ue.signal)&&void 0!==De&&De.aborted){const Y=new A(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),yield q(this.destroy(Y)),Y}const Qe=new O,ze=Qe.signal;null!=ue&&ue.signal&&ue.signal.addEventListener("abort",()=>Qe.abort(),{once:!0,[ee]:this});let Dt=!1;try{var mt,Xe=!1,Ue=!1;try{for(var T,K=P(this);Xe=!(T=yield K.next()).done;Xe=!1){const Y=T.value;var M;if(Dt=!0,null!=ue&&null!==(M=ue.signal)&&void 0!==M&&M.aborted)throw new A;Be?ne=yield te(ne,Y,{signal:ze}):(ne=Y,Be=!0)}}catch(Y){Ue=!0,mt=Y}finally{try{Xe&&null!=K.return&&(yield K.return())}finally{if(Ue)throw mt}}if(!Dt&&!Be)throw new Re}finally{Qe.abort()}return ne}),Ee.apply(this,arguments)}function Fe(){return(Fe=y(function*(te){null!=te&&z(te,"options"),null!=te?.signal&&G(te.signal,"options.signal");const ne=[];var Be,ue=!1,De=!1;try{for(var ze,Qe=P(this);ue=!(ze=yield Qe.next()).done;ue=!1){const Xe=ze.value;var Dt;if(null!=te&&null!==(Dt=te.signal)&&void 0!==Dt&&Dt.aborted)throw new A(void 0,{cause:te.signal.reason});ae(ne,Xe)}}catch(Xe){De=!0,Be=Xe}finally{try{ue&&null!=Qe.return&&(yield Qe.return())}finally{if(De)throw Be}}return ne})).apply(this,arguments)}function Ae(te){if(te=he(te),we(te))return 0;if(te<0)throw new U("number",">= 0",te);return te}Je.exports.streamReturningOperators={asIndexedPairs:function D(te=void 0){return null!=te&&z(te,"options"),null!=te?.signal&&G(te.signal,"options.signal"),function(){var ne=w(function*(){let De=0;var ze,Be=!1,Qe=!1;try{for(var Xe,Dt=P(this);Be=!(Xe=yield H(Dt.next())).done;Be=!1){const mt=Xe.value;var Ue;if(null!=te&&null!==(Ue=te.signal)&&void 0!==Ue&&Ue.aborted)throw new A({cause:te.signal.reason});yield[De++,mt]}}catch(mt){Qe=!0,ze=mt}finally{try{Be&&null!=Dt.return&&(yield H(Dt.return()))}finally{if(Qe)throw ze}}});return function ue(){return ne.apply(this,arguments)}}().call(this)},drop:function ge(te,ne=void 0){return null!=ne&&z(ne,"options"),null!=ne?.signal&&G(ne.signal,"options.signal"),te=Ae(te),function(){var ue=w(function*(){var Be;if(null!=ne&&null!==(Be=ne.signal)&&void 0!==Be&&Be.aborted)throw new A;var Dt,Qe=!1,ze=!1;try{for(var Ue,Xe=P(this);Qe=!(Ue=yield H(Xe.next())).done;Qe=!1){const K=Ue.value;var mt;if(null!=ne&&null!==(mt=ne.signal)&&void 0!==mt&&mt.aborted)throw new A;te--<=0&&(yield K)}}catch(K){ze=!0,Dt=K}finally{try{Qe&&null!=Xe.return&&(yield H(Xe.return()))}finally{if(ze)throw Dt}}});return function De(){return ue.apply(this,arguments)}}().call(this)},filter:Ce,flatMap:function be(te,ne){const ue=E.call(this,te,ne);return function(){var De=w(function*(){var Dt,Qe=!1,ze=!1;try{for(var Ue,Xe=P(ue);Qe=!(Ue=yield H(Xe.next())).done;Qe=!1){const mt=Ue.value;yield*b(P(mt),H)}}catch(mt){ze=!0,Dt=mt}finally{try{Qe&&null!=Xe.return&&(yield H(Xe.return()))}finally{if(ze)throw Dt}}});return function Be(){return De.apply(this,arguments)}}().call(this)},map:E,take:function me(te,ne=void 0){return null!=ne&&z(ne,"options"),null!=ne?.signal&&G(ne.signal,"options.signal"),te=Ae(te),function(){var ue=w(function*(){var Be;if(null!=ne&&null!==(Be=ne.signal)&&void 0!==Be&&Be.aborted)throw new A;var Dt,Qe=!1,ze=!1;try{for(var Ue,Xe=P(this);Qe=!(Ue=yield H(Xe.next())).done;Qe=!1){const K=Ue.value;var mt;if(null!=ne&&null!==(mt=ne.signal)&&void 0!==mt&&mt.aborted)throw new A;if(!(te-- >0))return;yield K}}catch(K){ze=!0,Dt=K}finally{try{Qe&&null!=Xe.return&&(yield H(Xe.return()))}finally{if(ze)throw Dt}}});return function De(){return ue.apply(this,arguments)}}().call(this)},compose:function p(te,ne){if(null!=ne&&z(ne,"options"),null!=ne?.signal&&G(ne.signal,"options.signal"),ce(te)&&!se(te))throw new S("stream",te,"must be writable");const ue=Z(this,te);return null!=ne&&ne.signal&&J(ne.signal,ue),ue}},Je.exports.promiseReturningOperators={every:function s(te){return v.apply(this,arguments)},forEach:function Q(te,ne){return de.apply(this,arguments)},reduce:function Ve(te,ne,ue){return Ee.apply(this,arguments)},toArray:function _e(te){return Fe.apply(this,arguments)},some:R,find:function $(te,ne){return F.apply(this,arguments)}}},70874:(Je,j,_)=>{"use strict";const{ObjectSetPrototypeOf:y}=_(43856);Je.exports=P;const b=_(66344);function P(H){if(!(this instanceof P))return new P(H);b.call(this,H)}y(P.prototype,b.prototype),y(P,b),P.prototype._transform=function(H,w,O){O(null,H)}},96208:(Je,j,_)=>{var y=_(29293).default,b=_(42958).default,P=_(53344).default,H=_(93513).default,w=_(82881).default;const O=_(40573),{ArrayIsArray:S,Promise:B,SymbolAsyncIterator:N}=_(43856),U=_(44268),{once:A}=_(55830),G=_(45078),L=_(97464),{aggregateTwoErrors:z,codes:{ERR_INVALID_ARG_TYPE:ee,ERR_INVALID_RETURN_VALUE:q,ERR_MISSING_ARGS:Z,ERR_STREAM_DESTROYED:J,ERR_STREAM_PREMATURE_CLOSE:se},AbortError:ce}=_(65109),{validateFunction:ae,validateAbortSignal:fe}=_(44323),{isIterable:he,isReadable:we,isReadableNodeStream:Me,isNodeStream:Pe,isTransformStream:C,isWebStream:a,isReadableStream:d,isReadableEnded:m}=_(51233),p=globalThis.AbortController||_(9465).AbortController;let E,D;function R(_e,Fe,be){let Ae=!1;return _e.on("close",()=>{Ae=!0}),{destroy:me=>{Ae||(Ae=!0,G.destroyer(_e,me||new J("pipe")))},cleanup:U(_e,{readable:Fe,writable:be},me=>{Ae=!me})}}function s(_e){if(he(_e))return _e;if(Me(_e))return function v(_e){return $.apply(this,arguments)}(_e);throw new ee("val",["Readable","Iterable","AsyncIterable"],_e)}function $(){return($=b(function*(_e){D||(D=_(29710)),yield*H(w(D.prototype[N].call(_e)),P)})).apply(this,arguments)}function F(_e,Fe,be,Ae){return Q.apply(this,arguments)}function Q(){return(Q=y(function*(_e,Fe,be,{end:Ae}){let ge,me=null;const te=Xe=>{if(Xe&&(ge=Xe),me){const Ue=me;me=null,Ue()}},ne=()=>new B((Xe,Ue)=>{ge?Ue(ge):me=()=>{ge?Ue(ge):Xe()}});Fe.on("drain",te);const ue=U(Fe,{readable:!1},te);try{Fe.writableNeedDrain&&(yield ne());var Qe,De=!1,Be=!1;try{for(var Dt,ze=w(_e);De=!(Dt=yield ze.next()).done;De=!1)Fe.write(Dt.value)||(yield ne())}catch(Xe){Be=!0,Qe=Xe}finally{try{De&&null!=ze.return&&(yield ze.return())}finally{if(Be)throw Qe}}Ae&&Fe.end(),yield ne(),be()}catch(Xe){be(ge!==Xe?z(ge,Xe):Xe)}finally{ue(),Fe.off("drain",te)}})).apply(this,arguments)}function de(_e,Fe,be,Ae){return Ce.apply(this,arguments)}function Ce(){return(Ce=y(function*(_e,Fe,be,{end:Ae}){C(Fe)&&(Fe=Fe.writable);const ge=Fe.getWriter();try{var ne,me=!1,te=!1;try{for(var De,ue=w(_e);me=!(De=yield ue.next()).done;me=!1){const Be=De.value;yield ge.ready,ge.write(Be).catch(()=>{})}}catch(Be){te=!0,ne=Be}finally{try{me&&null!=ue.return&&(yield ue.return())}finally{if(te)throw ne}}yield ge.ready,Ae&&(yield ge.close()),be()}catch(Be){try{yield ge.abort(Be),be(Be)}catch(Qe){be(Qe)}}})).apply(this,arguments)}function Ve(_e,Fe,be){if(1===_e.length&&S(_e[0])&&(_e=_e[0]),_e.length<2)throw new Z("streams");const Ae=new p,ge=Ae.signal,me=be?.signal,te=[];function ne(){Dt(new ce)}let ue,De;fe(me,"options.signal"),me?.addEventListener("abort",ne);const Be=[];let Xe,Qe=0;function ze(T){Dt(T,0==--Qe)}function Dt(T,M){if(T&&(!ue||"ERR_STREAM_PREMATURE_CLOSE"===ue.code)&&(ue=T),ue||M){for(;Be.length;)Be.shift()(ue);me?.removeEventListener("abort",ne),Ae.abort(),M&&(ue||te.forEach(Y=>Y()),O.nextTick(Fe,ue,De))}}for(let T=0;T<_e.length;T++){const M=_e[T],Y=T<_e.length-1,pe=T>0,ke=Y||!1!==be?.end,Ne=T===_e.length-1;if(Pe(M)){let lt=function(en){en&&"AbortError"!==en.name&&"ERR_STREAM_PREMATURE_CLOSE"!==en.code&&ze(en)};if(ke){const{destroy:en,cleanup:It}=R(M,Y,pe);Be.push(en),we(M)&&Ne&&te.push(It)}M.on("error",lt),we(M)&&Ne&&te.push(()=>{M.removeListener("error",lt)})}if(0===T)if("function"==typeof M){if(Xe=M({signal:ge}),!he(Xe))throw new q("Iterable, AsyncIterable or Stream","source",Xe)}else Xe=he(M)||Me(M)||C(M)?M:L.from(M);else if("function"==typeof M){var Ue;if(Xe=C(Xe)?s(null===(Ue=Xe)||void 0===Ue?void 0:Ue.readable):s(Xe),Xe=M(Xe,{signal:ge}),Y){if(!he(Xe,!0))throw new q("AsyncIterable",`transform[${T-1}]`,Xe)}else{var mt;E||(E=_(70874));const lt=new E({objectMode:!0}),en=null===(mt=Xe)||void 0===mt?void 0:mt.then;if("function"==typeof en)Qe++,en.call(Xe,rn=>{De=rn,null!=rn&&lt.write(rn),ke&&lt.end(),O.nextTick(ze)},rn=>{lt.destroy(rn),O.nextTick(ze,rn)});else if(he(Xe,!0))Qe++,F(Xe,lt,ze,{end:ke});else{if(!d(Xe)&&!C(Xe))throw new q("AsyncIterable or Promise","destination",Xe);Qe++,F(Xe.readable||Xe,lt,ze,{end:ke})}Xe=lt;const{destroy:It,cleanup:Kt}=R(Xe,!1,!0);Be.push(It),Ne&&te.push(Kt)}}else if(Pe(M)){if(Me(Xe)){Qe+=2;const lt=Ee(Xe,M,ze,{end:ke});we(M)&&Ne&&te.push(lt)}else if(C(Xe)||d(Xe))Qe++,F(Xe.readable||Xe,M,ze,{end:ke});else{if(!he(Xe))throw new ee("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Xe);Qe++,F(Xe,M,ze,{end:ke})}Xe=M}else if(a(M)){if(Me(Xe))Qe++,de(s(Xe),M,ze,{end:ke});else if(d(Xe)||he(Xe))Qe++,de(Xe,M,ze,{end:ke});else{if(!C(Xe))throw new ee("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Xe);Qe++,de(Xe.readable,M,ze,{end:ke})}Xe=M}else Xe=L.from(M)}return(null!=ge&&ge.aborted||null!=me&&me.aborted)&&O.nextTick(ne),Xe}function Ee(_e,Fe,be,{end:Ae}){let ge=!1;if(Fe.on("close",()=>{ge||be(new se)}),_e.pipe(Fe,{end:!1}),Ae){let te=function(){ge=!0,Fe.end()};m(_e)?O.nextTick(te):_e.once("end",te)}else be();return U(_e,{readable:!0,writable:!1},te=>{const ne=_e._readableState;te&&"ERR_STREAM_PREMATURE_CLOSE"===te.code&&ne&&ne.ended&&!ne.errored&&!ne.errorEmitted?_e.once("end",be).once("error",be):be(te)}),U(Fe,{readable:!1,writable:!0},be)}Je.exports={pipelineImpl:Ve,pipeline:function Re(..._e){return Ve(_e,A(function x(_e){return ae(_e[_e.length-1],"streams[stream.length - 1]"),_e.pop()}(_e)))}}},29710:(Je,j,_)=>{var y=_(53344).default,b=_(42958).default;const P=_(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:w,NumberIsNaN:O,NumberParseInt:S,ObjectDefineProperties:B,ObjectKeys:N,ObjectSetPrototypeOf:U,Promise:A,SafeSet:G,SymbolAsyncIterator:L,Symbol:z}=_(43856);Je.exports=F,F.ReadableState=$;const{EventEmitter:ee}=_(44356),{Stream:q,prependListener:Z}=_(2649),{Buffer:J}=_(89565),{addAbortSignal:se}=_(24785),ce=_(44268);let ae=_(55830).debuglog("stream",M=>{ae=M});const fe=_(58579),he=_(45078),{getHighWaterMark:we,getDefaultHighWaterMark:Me}=_(31081),{aggregateTwoErrors:Pe,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:a,ERR_OUT_OF_RANGE:d,ERR_STREAM_PUSH_AFTER_EOF:m,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:p}}=_(65109),{validateObject:E}=_(44323),D=z("kPaused"),{StringDecoder:R}=_(78454),x=_(24246);U(F.prototype,q.prototype),U(F,q);const s=()=>{},{errorOrDestroy:v}=he;function $(M,Y,pe){"boolean"!=typeof pe&&(pe=Y instanceof _(97464)),this.objectMode=!(!M||!M.objectMode),pe&&(this.objectMode=this.objectMode||!(!M||!M.readableObjectMode)),this.highWaterMark=M?we(this,M,"readableHighWaterMark",pe):Me(!1),this.buffer=new fe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[D]=null,this.errorEmitted=!1,this.emitClose=!M||!1!==M.emitClose,this.autoDestroy=!M||!1!==M.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,M&&M.encoding&&(this.decoder=new R(M.encoding),this.encoding=M.encoding)}function F(M){if(!(this instanceof F))return new F(M);const Y=this instanceof _(97464);this._readableState=new $(M,this,Y),M&&("function"==typeof M.read&&(this._read=M.read),"function"==typeof M.destroy&&(this._destroy=M.destroy),"function"==typeof M.construct&&(this._construct=M.construct),M.signal&&!Y&&se(M.signal,this)),q.call(this,M),he.construct(this,()=>{this._readableState.needReadable&&be(this,this._readableState)})}function Q(M,Y,pe,ke){ae("readableAddChunk",Y);const Ne=M._readableState;let lt;if(Ne.objectMode||("string"==typeof Y?Ne.encoding!==(pe=pe||Ne.defaultEncoding)&&(ke&&Ne.encoding?Y=J.from(Y,pe).toString(Ne.encoding):(Y=J.from(Y,pe),pe="")):Y instanceof J?pe="":q._isUint8Array(Y)?(Y=q._uint8ArrayToBuffer(Y),pe=""):null!=Y&&(lt=new C("chunk",["string","Buffer","Uint8Array"],Y))),lt)v(M,lt);else if(null===Y)Ne.reading=!1,function Ee(M,Y){if(ae("onEofChunk"),!Y.ended){if(Y.decoder){const pe=Y.decoder.end();pe&&pe.length&&(Y.buffer.push(pe),Y.length+=Y.objectMode?1:pe.length)}Y.ended=!0,Y.sync?_e(M):(Y.needReadable=!1,Y.emittedReadable=!0,Fe(M))}}(M,Ne);else if(Ne.objectMode||Y&&Y.length>0)if(ke)if(Ne.endEmitted)v(M,new p);else{if(Ne.destroyed||Ne.errored)return!1;de(M,Ne,Y,!0)}else if(Ne.ended)v(M,new m);else{if(Ne.destroyed||Ne.errored)return!1;Ne.reading=!1,Ne.decoder&&!pe?(Y=Ne.decoder.write(Y),Ne.objectMode||0!==Y.length?de(M,Ne,Y,!1):be(M,Ne)):de(M,Ne,Y,!1)}else ke||(Ne.reading=!1,be(M,Ne));return!Ne.ended&&(Ne.length<Ne.highWaterMark||0===Ne.length)}function de(M,Y,pe,ke){Y.flowing&&0===Y.length&&!Y.sync&&M.listenerCount("data")>0?(Y.multiAwaitDrain?Y.awaitDrainWriters.clear():Y.awaitDrainWriters=null,Y.dataEmitted=!0,M.emit("data",pe)):(Y.length+=Y.objectMode?1:pe.length,ke?Y.buffer.unshift(pe):Y.buffer.push(pe),Y.needReadable&&_e(M)),be(M,Y)}function Ve(M,Y){return M<=0||0===Y.length&&Y.ended?0:Y.objectMode?1:O(M)?Y.flowing&&Y.length?Y.buffer.first().length:Y.length:M<=Y.length?M:Y.ended?Y.length:0}function _e(M){const Y=M._readableState;ae("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,Y.emittedReadable||(ae("emitReadable",Y.flowing),Y.emittedReadable=!0,P.nextTick(Fe,M))}function Fe(M){const Y=M._readableState;ae("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&!Y.errored&&(Y.length||Y.ended)&&(M.emit("readable"),Y.emittedReadable=!1),Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,De(M)}function be(M,Y){!Y.readingMore&&Y.constructed&&(Y.readingMore=!0,P.nextTick(Ae,M,Y))}function Ae(M,Y){for(;!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&0===Y.length);){const pe=Y.length;if(ae("maybeReadMore read 0"),M.read(0),pe===Y.length)break}Y.readingMore=!1}function me(M){const Y=M._readableState;Y.readableListening=M.listenerCount("readable")>0,Y.resumeScheduled&&!1===Y[D]?Y.flowing=!0:M.listenerCount("data")>0?M.resume():Y.readableListening||(Y.flowing=null)}function te(M){ae("readable nexttick read 0"),M.read(0)}function ue(M,Y){ae("resume",Y.reading),Y.reading||M.read(0),Y.resumeScheduled=!1,M.emit("resume"),De(M),Y.flowing&&!Y.reading&&M.read(0)}function De(M){const Y=M._readableState;for(ae("flow",Y.flowing);Y.flowing&&null!==M.read(););}function Be(M,Y){"function"!=typeof M.read&&(M=F.wrap(M,{objectMode:!0}));const pe=function Qe(M,Y){return ze.apply(this,arguments)}(M,Y);return pe.stream=M,pe}function ze(){return(ze=b(function*(M,Y){let Ne,pe=s;function ke(en){this===M?(pe(),pe=s):pe=en}M.on("readable",ke);const lt=ce(M,{writable:!1},en=>{Ne=en?Pe(Ne,en):null,pe(),pe=s});try{for(;;){const en=M.destroyed?null:M.read();if(null!==en)yield en;else{if(Ne)throw Ne;if(null===Ne)return;yield y(new A(ke))}}}catch(en){throw Ne=Pe(Ne,en),Ne}finally{!Ne&&!1===Y?.destroyOnReturn||void 0!==Ne&&!M._readableState.autoDestroy?(M.off("readable",ke),lt()):he.destroyer(M,null)}})).apply(this,arguments)}function Dt(M,Y){if(0===Y.length)return null;let pe;return Y.objectMode?pe=Y.buffer.shift():!M||M>=Y.length?(pe=Y.decoder?Y.buffer.join(""):1===Y.buffer.length?Y.buffer.first():Y.buffer.concat(Y.length),Y.buffer.clear()):pe=Y.buffer.consume(M,Y.decoder),pe}function Xe(M){const Y=M._readableState;ae("endReadable",Y.endEmitted),Y.endEmitted||(Y.ended=!0,P.nextTick(Ue,Y,M))}function Ue(M,Y){if(ae("endReadableNT",M.endEmitted,M.length),!M.errored&&!M.closeEmitted&&!M.endEmitted&&0===M.length)if(M.endEmitted=!0,Y.emit("end"),Y.writable&&!1===Y.allowHalfOpen)P.nextTick(mt,Y);else if(M.autoDestroy){const pe=Y._writableState;(!pe||pe.autoDestroy&&(pe.finished||!1===pe.writable))&&Y.destroy()}}function mt(M){M.writable&&!M.writableEnded&&!M.destroyed&&M.end()}let K;function T(){return void 0===K&&(K={}),K}F.prototype.destroy=he.destroy,F.prototype._undestroy=he.undestroy,F.prototype._destroy=function(M,Y){Y(M)},F.prototype[ee.captureRejectionSymbol]=function(M){this.destroy(M)},F.prototype.push=function(M,Y){return Q(this,M,Y,!1)},F.prototype.unshift=function(M,Y){return Q(this,M,Y,!0)},F.prototype.isPaused=function(){const M=this._readableState;return!0===M[D]||!1===M.flowing},F.prototype.setEncoding=function(M){const Y=new R(M);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;const pe=this._readableState.buffer;let ke="";for(const Ne of pe)ke+=Y.write(Ne);return pe.clear(),""!==ke&&pe.push(ke),this._readableState.length=ke.length,this},F.prototype.read=function(M){ae("read",M),void 0===M?M=NaN:w(M)||(M=S(M,10));const Y=this._readableState,pe=M;if(M>Y.highWaterMark&&(Y.highWaterMark=function Re(M){if(M>1073741824)throw new d("size","<= 1GiB",M);return M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,++M}(M)),0!==M&&(Y.emittedReadable=!1),0===M&&Y.needReadable&&((0!==Y.highWaterMark?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended))return ae("read: emitReadable",Y.length,Y.ended),0===Y.length&&Y.ended?Xe(this):_e(this),null;if(0===(M=Ve(M,Y))&&Y.ended)return 0===Y.length&&Xe(this),null;let Ne,ke=Y.needReadable;if(ae("need readable",ke),(0===Y.length||Y.length-M<Y.highWaterMark)&&(ke=!0,ae("length less than watermark",ke)),Y.ended||Y.reading||Y.destroyed||Y.errored||!Y.constructed)ke=!1,ae("reading, ended or constructing",ke);else if(ke){ae("do read"),Y.reading=!0,Y.sync=!0,0===Y.length&&(Y.needReadable=!0);try{this._read(Y.highWaterMark)}catch(lt){v(this,lt)}Y.sync=!1,Y.reading||(M=Ve(pe,Y))}return Ne=M>0?Dt(M,Y):null,null===Ne?(Y.needReadable=Y.length<=Y.highWaterMark,M=0):(Y.length-=M,Y.multiAwaitDrain?Y.awaitDrainWriters.clear():Y.awaitDrainWriters=null),0===Y.length&&(Y.ended||(Y.needReadable=!0),pe!==M&&Y.ended&&Xe(this)),null!==Ne&&!Y.errorEmitted&&!Y.closeEmitted&&(Y.dataEmitted=!0,this.emit("data",Ne)),Ne},F.prototype._read=function(M){throw new a("_read()")},F.prototype.pipe=function(M,Y){const pe=this,ke=this._readableState;1===ke.pipes.length&&(ke.multiAwaitDrain||(ke.multiAwaitDrain=!0,ke.awaitDrainWriters=new G(ke.awaitDrainWriters?[ke.awaitDrainWriters]:[]))),ke.pipes.push(M),ae("pipe count=%d opts=%j",ke.pipes.length,Y);const lt=Y&&!1===Y.end||M===P.stdout||M===P.stderr?bt:It;function It(){ae("onend"),M.end()}ke.endEmitted?P.nextTick(lt):pe.once("end",lt),M.on("unpipe",function en(ut,Gt){ae("onunpipe"),ut===pe&&Gt&&!1===Gt.hasUnpiped&&(Gt.hasUnpiped=!0,function vn(){ae("cleanup"),M.removeListener("close",cn),M.removeListener("finish",qt),Kt&&M.removeListener("drain",Kt),M.removeListener("error",Cn),M.removeListener("unpipe",en),pe.removeListener("end",It),pe.removeListener("end",bt),pe.removeListener("data",sr),rn=!0,Kt&&ke.awaitDrainWriters&&(!M._writableState||M._writableState.needDrain)&&Kt()}())});let Kt,rn=!1;function un(){rn||(1===ke.pipes.length&&ke.pipes[0]===M?(ae("false write response, pause",0),ke.awaitDrainWriters=M,ke.multiAwaitDrain=!1):ke.pipes.length>1&&ke.pipes.includes(M)&&(ae("false write response, pause",ke.awaitDrainWriters.size),ke.awaitDrainWriters.add(M)),pe.pause()),Kt||(Kt=function ge(M,Y){return function(){const ke=M._readableState;ke.awaitDrainWriters===Y?(ae("pipeOnDrain",1),ke.awaitDrainWriters=null):ke.multiAwaitDrain&&(ae("pipeOnDrain",ke.awaitDrainWriters.size),ke.awaitDrainWriters.delete(Y)),(!ke.awaitDrainWriters||0===ke.awaitDrainWriters.size)&&M.listenerCount("data")&&M.resume()}}(pe,M),M.on("drain",Kt))}function sr(ut){ae("ondata");const Gt=M.write(ut);ae("dest.write",Gt),!1===Gt&&un()}function Cn(ut){if(ae("onerror",ut),bt(),M.removeListener("error",Cn),0===M.listenerCount("error")){const Gt=M._writableState||M._readableState;Gt&&!Gt.errorEmitted?v(M,ut):M.emit("error",ut)}}function cn(){M.removeListener("finish",qt),bt()}function qt(){ae("onfinish"),M.removeListener("close",cn),bt()}function bt(){ae("unpipe"),pe.unpipe(M)}return pe.on("data",sr),Z(M,"error",Cn),M.once("close",cn),M.once("finish",qt),M.emit("pipe",pe),!0===M.writableNeedDrain?ke.flowing&&un():ke.flowing||(ae("pipe resume"),pe.resume()),M},F.prototype.unpipe=function(M){const Y=this._readableState;if(0===Y.pipes.length)return this;if(!M){const Ne=Y.pipes;Y.pipes=[],this.pause();for(let lt=0;lt<Ne.length;lt++)Ne[lt].emit("unpipe",this,{hasUnpiped:!1});return this}const ke=H(Y.pipes,M);return-1===ke||(Y.pipes.splice(ke,1),0===Y.pipes.length&&this.pause(),M.emit("unpipe",this,{hasUnpiped:!1})),this},F.prototype.addListener=F.prototype.on=function(M,Y){const pe=q.prototype.on.call(this,M,Y),ke=this._readableState;return"data"===M?(ke.readableListening=this.listenerCount("readable")>0,!1!==ke.flowing&&this.resume()):"readable"===M&&!ke.endEmitted&&!ke.readableListening&&(ke.readableListening=ke.needReadable=!0,ke.flowing=!1,ke.emittedReadable=!1,ae("on readable",ke.length,ke.reading),ke.length?_e(this):ke.reading||P.nextTick(te,this)),pe},F.prototype.off=F.prototype.removeListener=function(M,Y){const pe=q.prototype.removeListener.call(this,M,Y);return"readable"===M&&P.nextTick(me,this),pe},F.prototype.removeAllListeners=function(M){const Y=q.prototype.removeAllListeners.apply(this,arguments);return("readable"===M||void 0===M)&&P.nextTick(me,this),Y},F.prototype.resume=function(){const M=this._readableState;return M.flowing||(ae("resume"),M.flowing=!M.readableListening,function ne(M,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,P.nextTick(ue,M,Y))}(this,M)),M[D]=!1,this},F.prototype.pause=function(){return ae("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ae("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},F.prototype.wrap=function(M){let Y=!1;M.on("data",ke=>{!this.push(ke)&&M.pause&&(Y=!0,M.pause())}),M.on("end",()=>{this.push(null)}),M.on("error",ke=>{v(this,ke)}),M.on("close",()=>{this.destroy()}),M.on("destroy",()=>{this.destroy()}),this._read=()=>{Y&&M.resume&&(Y=!1,M.resume())};const pe=N(M);for(let ke=1;ke<pe.length;ke++){const Ne=pe[ke];void 0===this[Ne]&&"function"==typeof M[Ne]&&(this[Ne]=M[Ne].bind(M))}return this},F.prototype[L]=function(){return Be(this)},F.prototype.iterator=function(M){return void 0!==M&&E(M,"options"),Be(this,M)},B(F.prototype,{readable:{__proto__:null,get(){const M=this._readableState;return!(!M||!1===M.readable||M.destroyed||M.errorEmitted||M.endEmitted)},set(M){this._readableState&&(this._readableState.readable=!!M)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(M){this._readableState&&(this._readableState.destroyed=M)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),B($.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(M){this[D]=!!M}}}),F._fromList=Dt,F.from=function(M,Y){return x(F,M,Y)},F.fromWeb=function(M,Y){return T().newStreamReadableFromReadableStream(M,Y)},F.toWeb=function(M,Y){return T().newReadableStreamFromStreamReadable(M,Y)},F.wrap=function(M,Y){var pe,ke;return new F({objectMode:null===(pe=null!==(ke=M.readableObjectMode)&&void 0!==ke?ke:M.objectMode)||void 0===pe||pe,...Y,destroy(Ne,lt){he.destroyer(M,Ne),lt(Ne)}}).wrap(M)}},31081:(Je,j,_)=>{"use strict";const{MathFloor:y,NumberIsInteger:b}=_(43856),{ERR_INVALID_ARG_VALUE:P}=_(65109).codes;function w(S){return S?16:16384}Je.exports={getHighWaterMark:function O(S,B,N,U){const A=function H(S,B,N){return null!=S.highWaterMark?S.highWaterMark:B?S[N]:null}(B,U,N);if(null!=A){if(!b(A)||A<0)throw new P(U?`options.${N}`:"options.highWaterMark",A);return y(A)}return w(S.objectMode)},getDefaultHighWaterMark:w}},66344:(Je,j,_)=>{"use strict";const{ObjectSetPrototypeOf:y,Symbol:b}=_(43856);Je.exports=S;const{ERR_METHOD_NOT_IMPLEMENTED:P}=_(65109).codes,H=_(97464),{getHighWaterMark:w}=_(31081);y(S.prototype,H.prototype),y(S,H);const O=b("kCallback");function S(U){if(!(this instanceof S))return new S(U);const A=U?w(this,U,"readableHighWaterMark",!0):null;0===A&&(U={...U,highWaterMark:null,readableHighWaterMark:A,writableHighWaterMark:U.writableHighWaterMark||0}),H.call(this,U),this._readableState.sync=!1,this[O]=null,U&&("function"==typeof U.transform&&(this._transform=U.transform),"function"==typeof U.flush&&(this._flush=U.flush)),this.on("prefinish",N)}function B(U){"function"!=typeof this._flush||this.destroyed?(this.push(null),U&&U()):this._flush((A,G)=>{A?U?U(A):this.destroy(A):(null!=G&&this.push(G),this.push(null),U&&U())})}function N(){this._final!==B&&B.call(this)}S.prototype._final=B,S.prototype._transform=function(U,A,G){throw new P("_transform()")},S.prototype._write=function(U,A,G){const L=this._readableState,z=this._writableState,ee=L.length;this._transform(U,A,(q,Z)=>{q?G(q):(null!=Z&&this.push(Z),z.ended||ee===L.length||L.length<L.highWaterMark?G():this[O]=G)})},S.prototype._read=function(){if(this[O]){const U=this[O];this[O]=null,U()}}},51233:(Je,j,_)=>{"use strict";const{Symbol:y,SymbolAsyncIterator:b,SymbolIterator:P,SymbolFor:H}=_(43856),w=y("kDestroyed"),O=y("kIsErrored"),S=y("kIsReadable"),B=y("kIsDisturbed"),N=H("nodejs.webstream.isClosedPromise"),U=H("nodejs.webstream.controllerErrorFunction");function A(v,$=!1){var F;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||$&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(F=v._readableState)||void 0===F?void 0:F.readable)||v._writableState&&!v._readableState)}function G(v){var $;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===($=v._writableState)||void 0===$?void 0:$.writable))}function z(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function ee(v){return!(!v||z(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function q(v){return!(!v||z(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function Z(v){return!(!v||z(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ce(v){if(!z(v))return null;const Q=v._writableState||v._readableState;return!!(v.destroyed||v[w]||null!=Q&&Q.destroyed)}function ae(v){if(!G(v))return null;if(!0===v.writableEnded)return!0;const $=v._writableState;return(null==$||!$.errored)&&("boolean"!=typeof $?.ended?null:$.ended)}function we(v,$){if(!A(v))return null;const F=v._readableState;return(null==F||!F.errored)&&("boolean"!=typeof F?.endEmitted?null:!!(F.endEmitted||!1===$&&!0===F.ended&&0===F.length))}function Me(v){return v&&null!=v[S]?v[S]:"boolean"!=typeof v?.readable?null:!ce(v)&&A(v)&&v.readable&&!we(v)}function Pe(v){return"boolean"!=typeof v?.writable?null:!ce(v)&&G(v)&&v.writable&&!ae(v)}function p(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function E(v){return"boolean"==typeof v._sent100&&p(v)}Je.exports={kDestroyed:w,isDisturbed:function x(v){var $;return!(!v||!(null!==($=v[B])&&void 0!==$?$:v.readableDidRead||v.readableAborted))},kIsDisturbed:B,isErrored:function s(v){var $,F,Q,de,Ce,Re,Ve,Ee,_e,Fe;return!(!v||!(null!==($=null!==(F=null!==(Q=null!==(de=null!==(Ce=null!==(Re=v[O])&&void 0!==Re?Re:v.readableErrored)&&void 0!==Ce?Ce:v.writableErrored)&&void 0!==de?de:null===(Ve=v._readableState)||void 0===Ve?void 0:Ve.errorEmitted)&&void 0!==Q?Q:null===(Ee=v._writableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==F?F:null===(_e=v._readableState)||void 0===_e?void 0:_e.errored)&&void 0!==$?$:null!==(Fe=v._writableState)&&void 0!==Fe&&Fe.errored))},kIsErrored:O,isReadable:Me,kIsReadable:S,kIsClosedPromise:N,kControllerErrorFunction:U,isClosed:function m(v){if(!z(v))return null;if("boolean"==typeof v.closed)return v.closed;const $=v._writableState,F=v._readableState;return"boolean"==typeof $?.closed||"boolean"==typeof F?.closed?$?.closed||F?.closed:"boolean"==typeof v._closed&&p(v)?v._closed:null},isDestroyed:ce,isDuplexNodeStream:function L(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,$){return z(v)?!!ce(v)||!(!1!==$?.readable&&Me(v)||!1!==$?.writable&&Pe(v)):null},isIterable:function se(v,$){return null!=v&&(!0===$?"function"==typeof v[b]:!1===$?"function"==typeof v[P]:"function"==typeof v[b]||"function"==typeof v[P])},isReadableNodeStream:A,isReadableStream:ee,isReadableEnded:function he(v){if(!A(v))return null;if(!0===v.readableEnded)return!0;const $=v._readableState;return!(!$||$.errored)&&("boolean"!=typeof $?.ended?null:$.ended)},isReadableFinished:we,isReadableErrored:function d(v){var $,F;return z(v)?v.readableErrored?v.readableErrored:null!==($=null===(F=v._readableState)||void 0===F?void 0:F.errored)&&void 0!==$?$:null:null},isNodeStream:z,isWebStream:function J(v){return ee(v)||q(v)||Z(v)},isWritable:Pe,isWritableNodeStream:G,isWritableStream:q,isWritableEnded:ae,isWritableFinished:function fe(v,$){if(!G(v))return null;if(!0===v.writableFinished)return!0;const F=v._writableState;return(null==F||!F.errored)&&("boolean"!=typeof F?.finished?null:!!(F.finished||!1===$&&!0===F.ended&&0===F.length))},isWritableErrored:function a(v){var $,F;return z(v)?v.writableErrored?v.writableErrored:null!==($=null===(F=v._writableState)||void 0===F?void 0:F.errored)&&void 0!==$?$:null:null},isServerRequest:function D(v){var $;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===($=v.req)||void 0===$?void 0:$.upgradeOrConnect)},isServerResponse:E,willEmitClose:function R(v){if(!z(v))return null;const Q=v._writableState||v._readableState;return!Q&&E(v)||!!(Q&&Q.autoDestroy&&Q.emitClose&&!1===Q.closed)},isTransformStream:Z}},40258:(Je,j,_)=>{const y=_(40573),{ArrayPrototypeSlice:b,Error:P,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:w,ObjectDefineProperties:O,ObjectSetPrototypeOf:S,StringPrototypeToLowerCase:B,Symbol:N,SymbolHasInstance:U}=_(43856);Je.exports=E,E.WritableState=m;const{EventEmitter:A}=_(44356),G=_(2649).Stream,{Buffer:L}=_(89565),z=_(45078),{addAbortSignal:ee}=_(24785),{getHighWaterMark:q,getDefaultHighWaterMark:Z}=_(31081),{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:se,ERR_MULTIPLE_CALLBACK:ce,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:fe,ERR_STREAM_ALREADY_FINISHED:he,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:Me,ERR_UNKNOWN_ENCODING:Pe}=_(65109).codes,{errorOrDestroy:C}=z;function a(){}S(E.prototype,G.prototype),S(E,G);const d=N("kOnFinished");function m(ge,me,te){"boolean"!=typeof te&&(te=me instanceof _(97464)),this.objectMode=!(!ge||!ge.objectMode),te&&(this.objectMode=this.objectMode||!(!ge||!ge.writableObjectMode)),this.highWaterMark=ge?q(this,ge,"writableHighWaterMark",te):Z(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(ge&&!1===ge.decodeStrings),this.defaultEncoding=ge&&ge.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,me),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,p(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ge||!1!==ge.emitClose,this.autoDestroy=!ge||!1!==ge.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[d]=[]}function p(ge){ge.buffered=[],ge.bufferedIndex=0,ge.allBuffers=!0,ge.allNoop=!0}function E(ge){const me=this instanceof _(97464);if(!me&&!H(E,this))return new E(ge);this._writableState=new m(ge,this,me),ge&&("function"==typeof ge.write&&(this._write=ge.write),"function"==typeof ge.writev&&(this._writev=ge.writev),"function"==typeof ge.destroy&&(this._destroy=ge.destroy),"function"==typeof ge.final&&(this._final=ge.final),"function"==typeof ge.construct&&(this._construct=ge.construct),ge.signal&&ee(ge.signal,this)),G.call(this,ge),z.construct(this,()=>{const te=this._writableState;te.writing||de(this,te),Ee(this,te)})}function D(ge,me,te,ne){const ue=ge._writableState;if("function"==typeof te)ne=te,te=ue.defaultEncoding;else{if(te){if("buffer"!==te&&!L.isEncoding(te))throw new Pe(te)}else te=ue.defaultEncoding;"function"!=typeof ne&&(ne=a)}if(null===me)throw new we;if(!ue.objectMode)if("string"==typeof me)!1!==ue.decodeStrings&&(me=L.from(me,te),te="buffer");else if(me instanceof L)te="buffer";else{if(!G._isUint8Array(me))throw new J("chunk",["string","Buffer","Uint8Array"],me);me=G._uint8ArrayToBuffer(me),te="buffer"}let De;return ue.ending?De=new Me:ue.destroyed&&(De=new fe("write")),De?(y.nextTick(ne,De),C(ge,De,!0),De):(ue.pendingcb++,function R(ge,me,te,ne,ue){const De=me.objectMode?1:te.length;me.length+=De;const Be=me.length<me.highWaterMark;return Be||(me.needDrain=!0),me.writing||me.corked||me.errored||!me.constructed?(me.buffered.push({chunk:te,encoding:ne,callback:ue}),me.allBuffers&&"buffer"!==ne&&(me.allBuffers=!1),me.allNoop&&ue!==a&&(me.allNoop=!1)):(me.writelen=De,me.writecb=ue,me.writing=!0,me.sync=!0,ge._write(te,ne,me.onwrite),me.sync=!1),Be&&!me.errored&&!me.destroyed}(ge,ue,me,te,ne))}function x(ge,me,te,ne,ue,De,Be){me.writelen=ne,me.writecb=Be,me.writing=!0,me.sync=!0,me.destroyed?me.onwrite(new fe("write")):te?ge._writev(ue,me.onwrite):ge._write(ue,De,me.onwrite),me.sync=!1}function s(ge,me,te,ne){--me.pendingcb,ne(te),Q(me),C(ge,te)}function v(ge,me){const te=ge._writableState,ne=te.sync,ue=te.writecb;"function"==typeof ue?(te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0,me?(te.errored||(te.errored=me),ge._readableState&&!ge._readableState.errored&&(ge._readableState.errored=me),ne?y.nextTick(s,ge,te,me,ue):s(ge,te,me,ue)):(te.buffered.length>te.bufferedIndex&&de(ge,te),ne?null!==te.afterWriteTickInfo&&te.afterWriteTickInfo.cb===ue?te.afterWriteTickInfo.count++:(te.afterWriteTickInfo={count:1,cb:ue,stream:ge,state:te},y.nextTick($,te.afterWriteTickInfo)):F(ge,te,1,ue))):C(ge,new ce)}function $({stream:ge,state:me,count:te,cb:ne}){return me.afterWriteTickInfo=null,F(ge,me,te,ne)}function F(ge,me,te,ne){for(!me.ending&&!ge.destroyed&&0===me.length&&me.needDrain&&(me.needDrain=!1,ge.emit("drain"));te-- >0;)me.pendingcb--,ne();me.destroyed&&Q(me),Ee(ge,me)}function Q(ge){if(ge.writing)return;for(let ue=ge.bufferedIndex;ue<ge.buffered.length;++ue){var me;const{chunk:De,callback:Be}=ge.buffered[ue];ge.length-=ge.objectMode?1:De.length,Be(null!==(me=ge.errored)&&void 0!==me?me:new fe("write"))}const te=ge[d].splice(0);for(let ue=0;ue<te.length;ue++){var ne;te[ue](null!==(ne=ge.errored)&&void 0!==ne?ne:new fe("end"))}p(ge)}function de(ge,me){if(me.corked||me.bufferProcessing||me.destroyed||!me.constructed)return;const{buffered:te,bufferedIndex:ne,objectMode:ue}=me,De=te.length-ne;if(!De)return;let Be=ne;if(me.bufferProcessing=!0,De>1&&ge._writev){me.pendingcb-=De-1;const Qe=me.allNoop?a:Dt=>{for(let Xe=Be;Xe<te.length;++Xe)te[Xe].callback(Dt)},ze=me.allNoop&&0===Be?te:b(te,Be);ze.allBuffers=me.allBuffers,x(ge,me,!0,me.length,ze,"",Qe),p(me)}else{do{const{chunk:Qe,encoding:ze,callback:Dt}=te[Be];te[Be++]=null,x(ge,me,!1,ue?1:Qe.length,Qe,ze,Dt)}while(Be<te.length&&!me.writing);Be===te.length?p(me):Be>256?(te.splice(0,Be),me.bufferedIndex=0):me.bufferedIndex=Be}me.bufferProcessing=!1}function Ce(ge){return ge.ending&&!ge.destroyed&&ge.constructed&&0===ge.length&&!ge.errored&&0===ge.buffered.length&&!ge.finished&&!ge.writing&&!ge.errorEmitted&&!ge.closeEmitted}function Ee(ge,me,te){Ce(me)&&(function Ve(ge,me){!me.prefinished&&!me.finalCalled&&("function"!=typeof ge._final||me.destroyed?(me.prefinished=!0,ge.emit("prefinish")):(me.finalCalled=!0,function Re(ge,me){let te=!1;function ne(ue){if(te)C(ge,ue??ce());else if(te=!0,me.pendingcb--,ue){const De=me[d].splice(0);for(let Be=0;Be<De.length;Be++)De[Be](ue);C(ge,ue,me.sync)}else Ce(me)&&(me.prefinished=!0,ge.emit("prefinish"),me.pendingcb++,y.nextTick(_e,ge,me))}me.sync=!0,me.pendingcb++;try{ge._final(ne)}catch(ue){ne(ue)}me.sync=!1}(ge,me)))}(ge,me),0===me.pendingcb&&(te?(me.pendingcb++,y.nextTick((ne,ue)=>{Ce(ue)?_e(ne,ue):ue.pendingcb--},ge,me)):Ce(me)&&(me.pendingcb++,_e(ge,me))))}function _e(ge,me){me.pendingcb--,me.finished=!0;const te=me[d].splice(0);for(let ne=0;ne<te.length;ne++)te[ne]();if(ge.emit("finish"),me.autoDestroy){const ne=ge._readableState;(!ne||ne.autoDestroy&&(ne.endEmitted||!1===ne.readable))&&ge.destroy()}}m.prototype.getBuffer=function(){return b(this.buffered,this.bufferedIndex)},w(m.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),w(E,U,{__proto__:null,value:function(ge){return!!H(this,ge)||this===E&&ge&&ge._writableState instanceof m}}),E.prototype.pipe=function(){C(this,new ae)},E.prototype.write=function(ge,me,te){return!0===D(this,ge,me,te)},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){const ge=this._writableState;ge.corked&&(ge.corked--,ge.writing||de(this,ge))},E.prototype.setDefaultEncoding=function(me){if("string"==typeof me&&(me=B(me)),!L.isEncoding(me))throw new Pe(me);return this._writableState.defaultEncoding=me,this},E.prototype._write=function(ge,me,te){if(!this._writev)throw new se("_write()");this._writev([{chunk:ge,encoding:me}],te)},E.prototype._writev=null,E.prototype.end=function(ge,me,te){const ne=this._writableState;let ue;if("function"==typeof ge?(te=ge,ge=null,me=null):"function"==typeof me&&(te=me,me=null),null!=ge){const De=D(this,ge,me);De instanceof P&&(ue=De)}return ne.corked&&(ne.corked=1,this.uncork()),ue||(ne.errored||ne.ending?ne.finished?ue=new he("end"):ne.destroyed&&(ue=new fe("end")):(ne.ending=!0,Ee(this,ne,!0),ne.ended=!0)),"function"==typeof te&&(ue||ne.finished?y.nextTick(te,ue):ne[d].push(te)),this},O(E.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(ge){this._writableState&&(this._writableState.destroyed=ge)}},writable:{__proto__:null,get(){const ge=this._writableState;return!(!ge||!1===ge.writable||ge.destroyed||ge.errored||ge.ending||ge.ended)},set(ge){this._writableState&&(this._writableState.writable=!!ge)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const ge=this._writableState;return!!ge&&!ge.destroyed&&!ge.ending&&ge.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Fe=z.destroy;let be;function Ae(){return void 0===be&&(be={}),be}E.prototype.destroy=function(ge,me){const te=this._writableState;return!te.destroyed&&(te.bufferedIndex<te.buffered.length||te[d].length)&&y.nextTick(Q,te),Fe.call(this,ge,me),this},E.prototype._undestroy=z.undestroy,E.prototype._destroy=function(ge,me){me(ge)},E.prototype[A.captureRejectionSymbol]=function(ge){this.destroy(ge)},E.fromWeb=function(ge,me){return Ae().newStreamWritableFromWritableStream(ge,me)},E.toWeb=function(ge){return Ae().newWritableStreamFromStreamWritable(ge)}},44323:(Je,j,_)=>{"use strict";const{ArrayIsArray:y,ArrayPrototypeIncludes:b,ArrayPrototypeJoin:P,ArrayPrototypeMap:H,NumberIsInteger:w,NumberIsNaN:O,NumberMAX_SAFE_INTEGER:S,NumberMIN_SAFE_INTEGER:B,NumberParseInt:N,ObjectPrototypeHasOwnProperty:U,RegExpPrototypeExec:A,String:G,StringPrototypeToUpperCase:L,StringPrototypeTrim:z}=_(43856),{hideStackFrames:ee,codes:{ERR_SOCKET_BAD_PORT:q,ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_ARG_VALUE:J,ERR_OUT_OF_RANGE:se,ERR_UNKNOWN_SIGNAL:ce}}=_(65109),{normalizeEncoding:ae}=_(55830),{isAsyncFunction:fe,isArrayBufferView:he}=_(55830).types,we={},C=/^[0-7]+$/,m=ee((De,Be,Qe=B,ze=S)=>{if("number"!=typeof De)throw new Z(Be,"number",De);if(!w(De))throw new se(Be,"an integer",De);if(De<Qe||De>ze)throw new se(Be,`>= ${Qe} && <= ${ze}`,De)}),p=ee((De,Be,Qe=-2147483648,ze=2147483647)=>{if("number"!=typeof De)throw new Z(Be,"number",De);if(!w(De))throw new se(Be,"an integer",De);if(De<Qe||De>ze)throw new se(Be,`>= ${Qe} && <= ${ze}`,De)}),E=ee((De,Be,Qe=!1)=>{if("number"!=typeof De)throw new Z(Be,"number",De);if(!w(De))throw new se(Be,"an integer",De);const ze=Qe?1:0,Dt=4294967295;if(De<ze||De>Dt)throw new se(Be,`>= ${ze} && <= ${Dt}`,De)});function D(De,Be){if("string"!=typeof De)throw new Z(Be,"string",De)}const x=ee((De,Be,Qe)=>{if(!b(Qe,De)){const Dt="must be one of: "+P(H(Qe,Xe=>"string"==typeof Xe?`'${Xe}'`:G(Xe)),", ");throw new J(Be,De,Dt)}});function s(De,Be){if("boolean"!=typeof De)throw new Z(Be,"boolean",De)}function v(De,Be,Qe){return null!=De&&U(De,Be)?De[Be]:Qe}const $=ee((De,Be,Qe=null)=>{const ze=v(Qe,"allowArray",!1),Dt=v(Qe,"allowFunction",!1);if(!v(Qe,"nullable",!1)&&null===De||!ze&&y(De)||"object"!=typeof De&&(!Dt||"function"!=typeof De))throw new Z(Be,"Object",De)}),F=ee((De,Be)=>{if(null!=De&&"object"!=typeof De&&"function"!=typeof De)throw new Z(Be,"a dictionary",De)}),Q=ee((De,Be,Qe=0)=>{if(!y(De))throw new Z(Be,"Array",De);if(De.length<Qe)throw new J(Be,De,`must be longer than ${Qe}`)}),Ve=ee((De,Be="buffer")=>{if(!he(De))throw new Z(Be,["Buffer","TypedArray","DataView"],De)}),Fe=ee((De,Be)=>{if(void 0!==De&&(null===De||"object"!=typeof De||!("aborted"in De)))throw new Z(Be,"AbortSignal",De)}),be=ee((De,Be)=>{if("function"!=typeof De)throw new Z(Be,"Function",De)}),Ae=ee((De,Be)=>{if("function"!=typeof De||fe(De))throw new Z(Be,"Function",De)}),ge=ee((De,Be)=>{if(void 0!==De)throw new Z(Be,"undefined",De)}),te=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ne(De,Be){if(typeof De>"u"||!A(te,De))throw new J(Be,De,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Je.exports={isInt32:function Me(De){return De===(0|De)},isUint32:function Pe(De){return De===De>>>0},parseFileMode:function d(De,Be,Qe){if(typeof De>"u"&&(De=Qe),"string"==typeof De){if(null===A(C,De))throw new J(Be,De,"must be a 32-bit unsigned integer or an octal string");De=N(De,8)}return E(De,Be),De},validateArray:Q,validateStringArray:function de(De,Be){Q(De,Be);for(let Qe=0;Qe<De.length;Qe++)D(De[Qe],`${Be}[${Qe}]`)},validateBooleanArray:function Ce(De,Be){Q(De,Be);for(let Qe=0;Qe<De.length;Qe++)s(De[Qe],`${Be}[${Qe}]`)},validateBoolean:s,validateBuffer:Ve,validateDictionary:F,validateEncoding:function Ee(De,Be){const Qe=ae(Be),ze=De.length;if("hex"===Qe&&ze%2!=0)throw new J("encoding",Be,`is invalid for data of length ${ze}`)},validateFunction:be,validateInt32:p,validateInteger:m,validateNumber:function R(De,Be,Qe=void 0,ze){if("number"!=typeof De)throw new Z(Be,"number",De);if(null!=Qe&&De<Qe||null!=ze&&De>ze||(null!=Qe||null!=ze)&&O(De))throw new se(Be,`${null!=Qe?`>= ${Qe}`:""}${null!=Qe&&null!=ze?" && ":""}${null!=ze?`<= ${ze}`:""}`,De)},validateObject:$,validateOneOf:x,validatePlainFunction:Ae,validatePort:function _e(De,Be="Port",Qe=!0){if("number"!=typeof De&&"string"!=typeof De||"string"==typeof De&&0===z(De).length||+De!=+De>>>0||De>65535||0===De&&!Qe)throw new q(Be,De,Qe);return 0|De},validateSignalName:function Re(De,Be="signal"){if(D(De,Be),void 0===we[De])throw void 0!==we[L(De)]?new ce(De+" (signals must use all capital letters)"):new ce(De)},validateString:D,validateUint32:E,validateUndefined:ge,validateUnion:function me(De,Be,Qe){if(!b(Qe,De))throw new Z(Be,`('${P(Qe,"|")}')`,De)},validateAbortSignal:Fe,validateLinkHeaderValue:function ue(De){if("string"==typeof De)return ne(De,"hints"),De;if(y(De)){const Be=De.length;let Qe="";if(0===Be)return Qe;for(let ze=0;ze<Be;ze++){const Dt=De[ze];ne(Dt,"hints"),Qe+=Dt,ze!==Be-1&&(Qe+=", ")}return Qe}throw new J("hints",De,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:(Je,j,_)=>{"use strict";const y=_(3052),b=_(19905),P=y.Readable.destroy;Je.exports=y.Readable,Je.exports._uint8ArrayToBuffer=y._uint8ArrayToBuffer,Je.exports._isUint8Array=y._isUint8Array,Je.exports.isDisturbed=y.isDisturbed,Je.exports.isErrored=y.isErrored,Je.exports.isReadable=y.isReadable,Je.exports.Readable=y.Readable,Je.exports.Writable=y.Writable,Je.exports.Duplex=y.Duplex,Je.exports.Transform=y.Transform,Je.exports.PassThrough=y.PassThrough,Je.exports.addAbortSignal=y.addAbortSignal,Je.exports.finished=y.finished,Je.exports.destroy=y.destroy,Je.exports.destroy=P,Je.exports.pipeline=y.pipeline,Je.exports.compose=y.compose,Object.defineProperty(y,"promises",{configurable:!0,enumerable:!0,get:()=>b}),Je.exports.Stream=y.Stream,Je.exports.default=Je.exports},65109:(Je,j,_)=>{"use strict";const{format:y,inspect:b,AggregateError:P}=_(55830),H=globalThis.AggregateError||P,w=Symbol("kIsNodeError"),O=["string","function","number","object","Function","Object","boolean","bigint","symbol"],S=/^([A-Z][a-z0-9]*)+$/,N={};function U(Z,J){if(!Z)throw new N.ERR_INTERNAL_ASSERTION(J)}function A(Z){let J="",se=Z.length;const ce="-"===Z[0]?1:0;for(;se>=ce+4;se-=3)J=`_${Z.slice(se-3,se)}${J}`;return`${Z.slice(0,se)}${J}`}function L(Z,J,se){se||(se=Error);class ce extends se{constructor(...fe){super(function G(Z,J,se){if("function"==typeof J)return U(J.length<=se.length,`Code: ${Z}; The provided arguments length (${se.length}) does not match the required ones (${J.length}).`),J(...se);const ce=(J.match(/%[dfijoOs]/g)||[]).length;return U(ce===se.length,`Code: ${Z}; The provided arguments length (${se.length}) does not match the required ones (${ce}).`),0===se.length?J:y(J,...se)}(Z,J,fe))}toString(){return`${this.name} [${Z}]: ${this.message}`}}Object.defineProperties(ce.prototype,{name:{value:se.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Z}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ce.prototype.code=Z,ce.prototype[w]=!0,N[Z]=ce}function z(Z){return Object.defineProperty(Z,"name",{value:"__node_internal_"+Z.name}),Z}class q extends Error{constructor(J="The operation was aborted",se=void 0){if(void 0!==se&&"object"!=typeof se)throw new N.ERR_INVALID_ARG_TYPE("options","Object",se);super(J,se),this.code="ABORT_ERR",this.name="AbortError"}}L("ERR_ASSERTION","%s",Error),L("ERR_INVALID_ARG_TYPE",(Z,J,se)=>{U("string"==typeof Z,"'name' must be a string"),Array.isArray(J)||(J=[J]);let ce="The ";Z.endsWith(" argument")?ce+=`${Z} `:ce+=`"${Z}" ${Z.includes(".")?"property":"argument"} `,ce+="must be ";const ae=[],fe=[],he=[];for(const Me of J)U("string"==typeof Me,"All expected entries have to be of type string"),O.includes(Me)?ae.push(Me.toLowerCase()):S.test(Me)?fe.push(Me):(U("object"!==Me,'The value "object" should be written as "Object"'),he.push(Me));if(fe.length>0){const Me=ae.indexOf("object");-1!==Me&&(ae.splice(ae,Me,1),fe.push("Object"))}if(ae.length>0){switch(ae.length){case 1:ce+=`of type ${ae[0]}`;break;case 2:ce+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const Me=ae.pop();ce+=`one of type ${ae.join(", ")}, or ${Me}`}}(fe.length>0||he.length>0)&&(ce+=" or ")}if(fe.length>0){switch(fe.length){case 1:ce+=`an instance of ${fe[0]}`;break;case 2:ce+=`an instance of ${fe[0]} or ${fe[1]}`;break;default:{const Me=fe.pop();ce+=`an instance of ${fe.join(", ")}, or ${Me}`}}he.length>0&&(ce+=" or ")}switch(he.length){case 0:break;case 1:he[0].toLowerCase()!==he[0]&&(ce+="an "),ce+=`${he[0]}`;break;case 2:ce+=`one of ${he[0]} or ${he[1]}`;break;default:{const Me=he.pop();ce+=`one of ${he.join(", ")}, or ${Me}`}}if(null==se)ce+=`. Received ${se}`;else if("function"==typeof se&&se.name)ce+=`. Received function ${se.name}`;else if("object"==typeof se){var we;null!==(we=se.constructor)&&void 0!==we&&we.name?ce+=`. Received an instance of ${se.constructor.name}`:ce+=`. Received ${b(se,{depth:-1})}`}else{let Me=b(se,{colors:!1});Me.length>25&&(Me=`${Me.slice(0,25)}...`),ce+=`. Received type ${typeof se} (${Me})`}return ce},TypeError),L("ERR_INVALID_ARG_VALUE",(Z,J,se="is invalid")=>{let ce=b(J);return ce.length>128&&(ce=ce.slice(0,128)+"..."),`The ${Z.includes(".")?"property":"argument"} '${Z}' ${se}. Received ${ce}`},TypeError),L("ERR_INVALID_RETURN_VALUE",(Z,J,se)=>{var ce;return`Expected ${Z} to be returned from the "${J}" function but got ${null!=se&&null!==(ce=se.constructor)&&void 0!==ce&&ce.name?`instance of ${se.constructor.name}`:"type "+typeof se}.`},TypeError),L("ERR_MISSING_ARGS",(...Z)=>{let J;U(Z.length>0,"At least one arg needs to be specified");const se=Z.length;switch(Z=(Array.isArray(Z)?Z:[Z]).map(ce=>`"${ce}"`).join(" or "),se){case 1:J+=`The ${Z[0]} argument`;break;case 2:J+=`The ${Z[0]} and ${Z[1]} arguments`;break;default:{const ce=Z.pop();J+=`The ${Z.join(", ")}, and ${ce} arguments`}}return`${J} must be specified`},TypeError),L("ERR_OUT_OF_RANGE",(Z,J,se)=>{let ce;return U(J,'Missing "range" argument'),Number.isInteger(se)&&Math.abs(se)>2**32?ce=A(String(se)):"bigint"==typeof se?(ce=String(se),(se>2n**32n||se<-(2n**32n))&&(ce=A(ce)),ce+="n"):ce=b(se),`The value of "${Z}" is out of range. It must be ${J}. Received ${ce}`},RangeError),L("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),L("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),L("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),L("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),L("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),L("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),L("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),L("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),L("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),L("ERR_STREAM_WRITE_AFTER_END","write after end",Error),L("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Je.exports={AbortError:q,aggregateTwoErrors:z(function ee(Z,J){if(Z&&J&&Z!==J){if(Array.isArray(J.errors))return J.errors.push(Z),J;const se=new H([J,Z],J.message);return se.code=J.code,se}return Z||J}),hideStackFrames:z,codes:N}},43856:Je=>{"use strict";Je.exports={ArrayIsArray:j=>Array.isArray(j),ArrayPrototypeIncludes:(j,_)=>j.includes(_),ArrayPrototypeIndexOf:(j,_)=>j.indexOf(_),ArrayPrototypeJoin:(j,_)=>j.join(_),ArrayPrototypeMap:(j,_)=>j.map(_),ArrayPrototypePop:(j,_)=>j.pop(_),ArrayPrototypePush:(j,_)=>j.push(_),ArrayPrototypeSlice:(j,_,y)=>j.slice(_,y),Error,FunctionPrototypeCall:(j,_,...y)=>j.call(_,...y),FunctionPrototypeSymbolHasInstance:(j,_)=>Function.prototype[Symbol.hasInstance].call(j,_),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(j,_)=>Object.defineProperties(j,_),ObjectDefineProperty:(j,_,y)=>Object.defineProperty(j,_,y),ObjectGetOwnPropertyDescriptor:(j,_)=>Object.getOwnPropertyDescriptor(j,_),ObjectKeys:j=>Object.keys(j),ObjectSetPrototypeOf:(j,_)=>Object.setPrototypeOf(j,_),Promise,PromisePrototypeCatch:(j,_)=>j.catch(_),PromisePrototypeThen:(j,_,y)=>j.then(_,y),PromiseReject:j=>Promise.reject(j),ReflectApply:Reflect.apply,RegExpPrototypeTest:(j,_)=>j.test(_),SafeSet:Set,String,StringPrototypeSlice:(j,_,y)=>j.slice(_,y),StringPrototypeToLowerCase:j=>j.toLowerCase(),StringPrototypeToUpperCase:j=>j.toUpperCase(),StringPrototypeTrim:j=>j.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(j,_,y)=>j.set(_,y),Uint8Array}},55830:(Je,j,_)=>{"use strict";var y=_(29293).default;const b=_(89565),P=Object.getPrototypeOf(y(function*(){})).constructor,H=globalThis.Blob||b.Blob,w=typeof H<"u"?function(B){return B instanceof H}:function(B){return!1};class O extends Error{constructor(B){if(!Array.isArray(B))throw new TypeError("Expected input to be an Array, got "+typeof B);let N="";for(let U=0;U<B.length;U++)N+=`    ${B[U].stack}\n`;super(N),this.name="AggregateError",this.errors=B}}Je.exports={AggregateError:O,kEmptyObject:Object.freeze({}),once(S){let B=!1;return function(...N){B||(B=!0,S.apply(this,N))}},createDeferredPromise:function(){let S,B;return{promise:new Promise((U,A)=>{S=U,B=A}),resolve:S,reject:B}},promisify:S=>new Promise((B,N)=>{S((U,...A)=>U?N(U):B(...A))}),debuglog:()=>function(){},format:(S,...B)=>S.replace(/%([sdifj])/g,function(...[N,U]){const A=B.shift();return"f"===U?A.toFixed(6):"j"===U?JSON.stringify(A):"s"===U&&"object"==typeof A?`${A.constructor!==Object?A.constructor.name:""} {}`.trim():A.toString()}),inspect(S){switch(typeof S){case"string":if(S.includes("'")){if(!S.includes('"'))return`"${S}"`;if(!S.includes("`")&&!S.includes("${"))return`\`${S}\``}return`'${S}'`;case"number":return isNaN(S)?"NaN":Object.is(S,-0)?String(S):S;case"bigint":return`${String(S)}n`;case"boolean":case"undefined":return String(S);case"object":return"{}"}},types:{isAsyncFunction:S=>S instanceof P,isArrayBufferView:S=>ArrayBuffer.isView(S)},isBlob:w},Je.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(Je,j,_)=>{const{Buffer:y}=_(89565),{ObjectDefineProperty:b,ObjectKeys:P,ReflectApply:H}=_(43856),{promisify:{custom:w}}=_(55830),{streamReturningOperators:O,promiseReturningOperators:S}=_(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:B}}=_(65109),N=_(5464),{pipeline:U}=_(96208),{destroyer:A}=_(45078),G=_(44268),z=_(19905),ee=_(51233),q=Je.exports=_(2649).Stream;q.isDisturbed=ee.isDisturbed,q.isErrored=ee.isErrored,q.isReadable=ee.isReadable,q.Readable=_(29710);for(const se of P(O)){let ae=function(...fe){if(new.target)throw B();return q.Readable.from(H(ce,this,fe))};const ce=O[se];b(ae,"name",{__proto__:null,value:ce.name}),b(ae,"length",{__proto__:null,value:ce.length}),b(q.Readable.prototype,se,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}for(const se of P(S)){let ae=function(...he){if(new.target)throw B();return H(ce,this,he)};const ce=S[se];b(ae,"name",{__proto__:null,value:ce.name}),b(ae,"length",{__proto__:null,value:ce.length}),b(q.Readable.prototype,se,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}q.Writable=_(40258),q.Duplex=_(97464),q.Transform=_(66344),q.PassThrough=_(70874),q.pipeline=U;const{addAbortSignal:Z}=_(24785);q.addAbortSignal=Z,q.finished=G,q.destroy=A,q.compose=N,b(q,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>z}),b(U,w,{__proto__:null,enumerable:!0,get:()=>z.pipeline}),b(G,w,{__proto__:null,enumerable:!0,get:()=>z.finished}),q.Stream=q,q._isUint8Array=function(ce){return ce instanceof Uint8Array},q._uint8ArrayToBuffer=function(ce){return y.from(ce.buffer,ce.byteOffset,ce.byteLength)}},19905:(Je,j,_)=>{"use strict";const{ArrayPrototypePop:y,Promise:b}=_(43856),{isIterable:P,isNodeStream:H,isWebStream:w}=_(51233),{pipelineImpl:O}=_(96208),{finished:S}=_(44268);_(3052),Je.exports={finished:S,pipeline:function B(...N){return new b((U,A)=>{let G,L;const z=N[N.length-1];if(z&&"object"==typeof z&&!H(z)&&!P(z)&&!w(z)){const ee=y(N);G=ee.signal,L=ee.end}O(N,(ee,q)=>{ee?A(ee):U(q)},{signal:G,end:L})})}}},37477:(Je,j,_)=>{_(23963)},62108:Je=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}Je.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},13138:(Je,j,_)=>{j.Level=_(23963).BrowserLevel},64284:Je=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}Je.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},67449:(Je,j,_)=>{j.Level=_(23963).BrowserLevel},97829:Je=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}Je.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},9465:Je=>{"use strict";const{AbortController:j,AbortSignal:_}=typeof self<"u"?self:typeof window<"u"?window:void 0;Je.exports=j,Je.exports.AbortSignal=_,Je.exports.default=j},91463:(Je,j,_)=>{"use strict";const{fromCallback:y}=_(42381),b=_(61747),{getCallback:P,getOptions:H}=_(10475),w=Symbol("promise"),O=Symbol("status"),S=Symbol("operations"),B=Symbol("finishClose"),N=Symbol("closeCallbacks");j.AbstractChainedBatch=class U{constructor(G){if("object"!=typeof G||null===G)throw new TypeError("The first argument must be an abstract-level database, received "+(null===G?"null":typeof G));this[S]=[],this[N]=[],this[O]="open",this[B]=this[B].bind(this),this.db=G,this.db.attachResource(this),this.nextTick=G.nextTick}get length(){return this[S].length}put(G,L,z){if("open"!==this[O])throw new b("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const ee=this.db._checkKey(G)||this.db._checkValue(L);if(ee)throw ee;const q=z&&null!=z.sublevel?z.sublevel:this.db,Z=z,J=q.keyEncoding(z&&z.keyEncoding),se=q.valueEncoding(z&&z.valueEncoding),ce=J.format;z={...z,keyEncoding:ce,valueEncoding:se.format},q!==this.db&&(z.sublevel=null);const ae=q.prefixKey(J.encode(G),ce),fe=se.encode(L);return this._put(ae,fe,z),this[S].push({...Z,type:"put",key:G,value:L}),this}_put(G,L,z){}del(G,L){if("open"!==this[O])throw new b("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const z=this.db._checkKey(G);if(z)throw z;const ee=L&&null!=L.sublevel?L.sublevel:this.db,q=L,Z=ee.keyEncoding(L&&L.keyEncoding),J=Z.format;return L={...L,keyEncoding:J},ee!==this.db&&(L.sublevel=null),this._del(ee.prefixKey(Z.encode(G),J),L),this[S].push({...q,type:"del",key:G}),this}_del(G,L){}clear(){if("open"!==this[O])throw new b("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[S]=[],this}_clear(){}write(G,L){return L=P(G,L),L=y(L,w),G=H(G),"open"!==this[O]?this.nextTick(L,new b("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(L):(this[O]="writing",this._write(G,z=>{this[O]="closing",this[N].push(()=>L(z)),z||this.db.emit("batch",this[S]),this._close(this[B])})),L[w]}_write(G,L){}close(G){return G=y(G,w),"closing"===this[O]?this[N].push(G):"closed"===this[O]?this.nextTick(G):(this[N].push(G),"writing"!==this[O]&&(this[O]="closing",this._close(this[B]))),G[w]}_close(G){this.nextTick(G)}[B](){this[O]="closed",this.db.detachResource(this);const G=this[N];this[N]=[];for(const L of G)L()}}},63294:(Je,j,_)=>{"use strict";var y=_(53344).default,b=_(42958).default;const{fromCallback:P}=_(42381),H=_(61747),{getOptions:w,getCallback:O}=_(10475),S=Symbol("promise"),B=Symbol("callback"),N=Symbol("working"),U=Symbol("handleOne"),A=Symbol("handleMany"),G=Symbol("autoClose"),L=Symbol("finishWork"),z=Symbol("returnMany"),ee=Symbol("closing"),q=Symbol("handleClose"),Z=Symbol("closed"),J=Symbol("closeCallbacks"),se=Symbol("keyEncoding"),ce=Symbol("valueEncoding"),ae=Symbol("abortOnClose"),fe=Symbol("legacy"),he=Symbol("keys"),we=Symbol("values"),Me=Symbol("limit"),Pe=Symbol("count"),C=Object.freeze({}),a=()=>{};let d=!1;class m{constructor(s,v,$){if("object"!=typeof s||null===s)throw new TypeError("The first argument must be an abstract-level database, received "+(null===s?"null":typeof s));if("object"!=typeof v||null===v)throw new TypeError("The second argument must be an options object");this[Z]=!1,this[J]=[],this[N]=!1,this[ee]=!1,this[G]=!1,this[B]=null,this[U]=this[U].bind(this),this[A]=this[A].bind(this),this[q]=this[q].bind(this),this[se]=v[se],this[ce]=v[ce],this[fe]=$,this[Me]=Number.isInteger(v.limit)&&v.limit>=0?v.limit:1/0,this[Pe]=0,this[ae]=!!v.abortOnClose,this.db=s,this.db.attachResource(this),this.nextTick=s.nextTick}get count(){return this[Pe]}get limit(){return this[Me]}next(s){let v;if(void 0===s)v=new Promise(($,F)=>{s=(Q,de,Ce)=>{Q?F(Q):this[fe]?void 0===de&&void 0===Ce?$():$([de,Ce]):$(de)}});else if("function"!=typeof s)throw new TypeError("Callback must be a function");return this[ee]?this.nextTick(s,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[N]?this.nextTick(s,new H("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[N]=!0,this[B]=s,this[Pe]>=this[Me]?this.nextTick(this[U],null):this._next(this[U])),v}_next(s){this.nextTick(s)}nextv(s,v,$){return $=O(v,$),$=P($,S),v=w(v,C),Number.isInteger(s)?(this[ee]?this.nextTick($,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[N]?this.nextTick($,new H("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(s<1&&(s=1),this[Me]<1/0&&(s=Math.min(s,this[Me]-this[Pe])),this[N]=!0,this[B]=$,s<=0?this.nextTick(this[A],null,[]):this._nextv(s,v,this[A])),$[S]):(this.nextTick($,new TypeError("The first argument 'size' must be an integer")),$[S])}_nextv(s,v,$){const F=[],Q=(de,Ce,Re)=>de?$(de):(this[fe]?void 0===Ce&&void 0===Re:void 0===Ce)?$(null,F):(F.push(this[fe]?[Ce,Re]:Ce),void(F.length===s?$(null,F):this._next(Q)));this._next(Q)}all(s,v){return v=O(s,v),v=P(v,S),s=w(s,C),this[ee]?this.nextTick(v,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[N]?this.nextTick(v,new H("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[N]=!0,this[B]=v,this[G]=!0,this[Pe]>=this[Me]?this.nextTick(this[A],null,[]):this._all(s,this[A])),v[S]}_all(s,v){let $=this[Pe];const F=[],Q=()=>{const Ce=this[Me]<1/0?Math.min(1e3,this[Me]-$):1e3;Ce<=0?this.nextTick(v,null,F):this._nextv(Ce,C,de)},de=(Ce,Re)=>{Ce?v(Ce):0===Re.length?v(null,F):(F.push.apply(F,Re),$+=Re.length,Q())};Q()}[L](){const s=this[B];return this[ae]&&null===s?a:(this[N]=!1,this[B]=null,this[ee]&&this._close(this[q]),s)}[z](s,v,$){this[G]?this.close(s.bind(null,v,$)):s(v,$)}seek(s,v){if(v=w(v,C),!this[ee]){if(this[N])throw new H("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const $=this.db.keyEncoding(v.keyEncoding||this[se]),F=$.format;v.keyEncoding!==F&&(v={...v,keyEncoding:F});const Q=this.db.prefixKey($.encode(s),F);this._seek(Q,v)}}}_seek(s,v){throw new H("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(s){return s=P(s,S),this[Z]?this.nextTick(s):this[ee]?this[J].push(s):(this[ee]=!0,this[J].push(s),this[N]?this[ae]&&this[L]()(new H("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[q])),s[S]}_close(s){this.nextTick(s)}[q](){this[Z]=!0,this.db.detachResource(this);const s=this[J];this[J]=[];for(const v of s)v()}[Symbol.asyncIterator](){var s=this;return b(function*(){try{let v;for(;void 0!==(v=yield y(s.next()));)yield v}finally{s[Z]||(yield y(s.close()))}})()}}class p extends m{constructor(s,v){super(s,v,!0),this[he]=!1!==v.keys,this[we]=!1!==v.values}[U](s,v,$){const F=this[L]();if(s)return F(s);try{v=this[he]&&void 0!==v?this[se].decode(v):void 0,$=this[we]&&void 0!==$?this[ce].decode($):void 0}catch(Q){return F(new R("entry",Q))}void 0===v&&void 0===$||this[Pe]++,F(null,v,$)}[A](s,v){const $=this[L]();if(s)return this[z]($,s);try{for(const F of v){const Q=F[0],de=F[1];F[0]=this[he]&&void 0!==Q?this[se].decode(Q):void 0,F[1]=this[we]&&void 0!==de?this[ce].decode(de):void 0}}catch(F){return this[z]($,new R("entries",F))}this[Pe]+=v.length,this[z]($,null,v)}end(s){return!d&&typeof console<"u"&&(d=!0,console.warn(new H("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(s)}}class R extends H{constructor(s,v){super(`Iterator could not decode ${s}`,{code:"LEVEL_DECODE_ERROR",cause:v})}}for(const x of["_ended property","_nexting property","_end method"])Object.defineProperty(p.prototype,x.split(" ")[0],{get(){throw new H(`The ${x} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new H(`The ${x} has been removed`,{code:"LEVEL_LEGACY"})}});p.keyEncoding=se,p.valueEncoding=ce,j.AbstractIterator=p,j.AbstractKeyIterator=class E extends m{constructor(s,v){super(s,v,!1)}[U](s,v){const $=this[L]();if(s)return $(s);try{v=void 0!==v?this[se].decode(v):void 0}catch(F){return $(new R("key",F))}void 0!==v&&this[Pe]++,$(null,v)}[A](s,v){const $=this[L]();if(s)return this[z]($,s);try{for(let F=0;F<v.length;F++){const Q=v[F];v[F]=void 0!==Q?this[se].decode(Q):void 0}}catch(F){return this[z]($,new R("keys",F))}this[Pe]+=v.length,this[z]($,null,v)}},j.AbstractValueIterator=class D extends m{constructor(s,v){super(s,v,!1)}[U](s,v){const $=this[L]();if(s)return $(s);try{v=void 0!==v?this[ce].decode(v):void 0}catch(F){return $(new R("value",F))}void 0!==v&&this[Pe]++,$(null,v)}[A](s,v){const $=this[L]();if(s)return this[z]($,s);try{for(let F=0;F<v.length;F++){const Q=v[F];v[F]=void 0!==Q?this[ce].decode(Q):void 0}}catch(F){return this[z]($,new R("values",F))}this[Pe]+=v.length,this[z]($,null,v)}}},83764:(Je,j,_)=>{"use strict";const{supports:y}=_(89061),{Transcoder:b}=_(25006),{EventEmitter:P}=_(44356),{fromCallback:H}=_(42381),w=_(61747),{AbstractIterator:O}=_(63294),{DefaultKeyIterator:S,DefaultValueIterator:B}=_(48335),{DeferredIterator:N,DeferredKeyIterator:U,DeferredValueIterator:A}=_(92745),{DefaultChainedBatch:G}=_(45776),{getCallback:L,getOptions:z}=_(10475),ee=_(4287),q=Symbol("promise"),Z=Symbol("landed"),J=Symbol("resources"),se=Symbol("closeResources"),ce=Symbol("operations"),ae=Symbol("undefer"),fe=Symbol("deferOpen"),he=Symbol("options"),we=Symbol("status"),Me=Symbol("defaultOptions"),Pe=Symbol("transcoder"),C=Symbol("keyEncoding"),a=Symbol("valueEncoding"),d=()=>{};class m extends P{constructor(x,s){if(super(),"object"!=typeof x||null===x)throw new TypeError("The first argument 'manifest' must be an object");s=z(s);const{keyEncoding:v,valueEncoding:$,passive:F,...Q}=s;this[J]=new Set,this[ce]=[],this[fe]=!0,this[he]=Q,this[we]="opening",this.supports=y(x,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==x.snapshots,permanence:!1!==x.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:x.encodings||{},events:Object.assign({},x.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Pe]=new b(D(this)),this[C]=this[Pe].encoding(v||"utf8"),this[a]=this[Pe].encoding($||"utf8");for(const de of this[Pe].encodings())this.supports.encodings[de.commonName]||(this.supports.encodings[de.commonName]=!0);this[Me]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[C].commonName,valueEncoding:this[a].commonName}),key:Object.freeze({keyEncoding:this[C].commonName})},this.nextTick(()=>{this[fe]&&this.open({passive:!1},d)})}get status(){return this[we]}keyEncoding(x){return this[Pe].encoding(x??this[C])}valueEncoding(x){return this[Pe].encoding(x??this[a])}open(x,s){s=L(x,s),s=H(s,q),(x={...this[he],...z(x)}).createIfMissing=!1!==x.createIfMissing,x.errorIfExists=!!x.errorIfExists;const v=$=>{"closing"===this[we]||"opening"===this[we]?this.once(Z,$?()=>v($):v):"open"!==this[we]?s(new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:$})):s()};return x.passive?"opening"===this[we]?this.once(Z,v):this.nextTick(v):"closed"===this[we]||this[fe]?(this[fe]=!1,this[we]="opening",this.emit("opening"),this._open(x,$=>{if($)return this[we]="closed",this[se](()=>{this.emit(Z),v($)}),void this[ae]();this[we]="open",this[ae](),this.emit(Z),"open"===this[we]&&this.emit("open"),"open"===this[we]&&this.emit("ready"),v()})):"open"===this[we]?this.nextTick(v):this.once(Z,()=>this.open(x,s)),s[q]}_open(x,s){this.nextTick(s)}close(x){x=H(x,q);const s=v=>{"opening"===this[we]||"closing"===this[we]?this.once(Z,v?s(v):s):"closed"!==this[we]?x(new w("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:v})):x()};if("open"===this[we]){this[we]="closing",this.emit("closing");const v=$=>{this[we]="open",this[ae](),this.emit(Z),s($)};this[se](()=>{this._close($=>{if($)return v($);this[we]="closed",this[ae](),this.emit(Z),"closed"===this[we]&&this.emit("closed"),s()})})}else"closed"===this[we]?this.nextTick(s):this.once(Z,()=>this.close(x));return x[q]}[se](x){if(0===this[J].size)return this.nextTick(x);let s=this[J].size,v=!0;const $=()=>{0==--s&&(v?this.nextTick(x):x())};for(const F of this[J])F.close($);v=!1,this[J].clear()}_close(x){this.nextTick(x)}get(x,s,v){if(v=L(s,v),v=H(v,q),s=z(s,this[Me].entry),"opening"===this[we])return this.defer(()=>this.get(x,s,v)),v[q];if(E(this,v))return v[q];const $=this._checkKey(x);if($)return this.nextTick(v,$),v[q];const F=this.keyEncoding(s.keyEncoding),Q=this.valueEncoding(s.valueEncoding),de=F.format,Ce=Q.format;return(s.keyEncoding!==de||s.valueEncoding!==Ce)&&(s=Object.assign({},s,{keyEncoding:de,valueEncoding:Ce})),this._get(this.prefixKey(F.encode(x),de),s,(Re,Ve)=>{if(Re)return("LEVEL_NOT_FOUND"===Re.code||Re.notFound||/NotFound/i.test(Re))&&(Re.code||(Re.code="LEVEL_NOT_FOUND"),Re.notFound||(Re.notFound=!0),Re.status||(Re.status=404)),v(Re);try{Ve=Q.decode(Ve)}catch(Ee){return v(new w("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:Ee}))}v(null,Ve)}),v[q]}_get(x,s,v){this.nextTick(v,new Error("NotFound"))}getMany(x,s,v){if(v=L(s,v),v=H(v,q),s=z(s,this[Me].entry),"opening"===this[we])return this.defer(()=>this.getMany(x,s,v)),v[q];if(E(this,v))return v[q];if(!Array.isArray(x))return this.nextTick(v,new TypeError("The first argument 'keys' must be an array")),v[q];if(0===x.length)return this.nextTick(v,null,[]),v[q];const $=this.keyEncoding(s.keyEncoding),F=this.valueEncoding(s.valueEncoding),Q=$.format,de=F.format;(s.keyEncoding!==Q||s.valueEncoding!==de)&&(s=Object.assign({},s,{keyEncoding:Q,valueEncoding:de}));const Ce=new Array(x.length);for(let Re=0;Re<x.length;Re++){const Ve=x[Re],Ee=this._checkKey(Ve);if(Ee)return this.nextTick(v,Ee),v[q];Ce[Re]=this.prefixKey($.encode(Ve),Q)}return this._getMany(Ce,s,(Re,Ve)=>{if(Re)return v(Re);try{for(let Ee=0;Ee<Ve.length;Ee++)void 0!==Ve[Ee]&&(Ve[Ee]=F.decode(Ve[Ee]))}catch(Ee){return v(new w(`Could not decode one or more of ${Ve.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:Ee}))}v(null,Ve)}),v[q]}_getMany(x,s,v){this.nextTick(v,null,new Array(x.length).fill(void 0))}put(x,s,v,$){if($=L(v,$),$=H($,q),v=z(v,this[Me].entry),"opening"===this[we])return this.defer(()=>this.put(x,s,v,$)),$[q];if(E(this,$))return $[q];const F=this._checkKey(x)||this._checkValue(s);if(F)return this.nextTick($,F),$[q];const Q=this.keyEncoding(v.keyEncoding),de=this.valueEncoding(v.valueEncoding),Ce=Q.format,Re=de.format;(v.keyEncoding!==Ce||v.valueEncoding!==Re)&&(v=Object.assign({},v,{keyEncoding:Ce,valueEncoding:Re}));const Ve=this.prefixKey(Q.encode(x),Ce),Ee=de.encode(s);return this._put(Ve,Ee,v,_e=>{if(_e)return $(_e);this.emit("put",x,s),$()}),$[q]}_put(x,s,v,$){this.nextTick($)}del(x,s,v){if(v=L(s,v),v=H(v,q),s=z(s,this[Me].key),"opening"===this[we])return this.defer(()=>this.del(x,s,v)),v[q];if(E(this,v))return v[q];const $=this._checkKey(x);if($)return this.nextTick(v,$),v[q];const F=this.keyEncoding(s.keyEncoding),Q=F.format;return s.keyEncoding!==Q&&(s=Object.assign({},s,{keyEncoding:Q})),this._del(this.prefixKey(F.encode(x),Q),s,de=>{if(de)return v(de);this.emit("del",x),v()}),v[q]}_del(x,s,v){this.nextTick(v)}batch(x,s,v){if(!arguments.length){if("opening"===this[we])return new G(this);if("open"!==this[we])throw new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(v="function"==typeof x?x:L(s,v),v=H(v,q),s=z(s,this[Me].empty),"opening"===this[we])return this.defer(()=>this.batch(x,s,v)),v[q];if(E(this,v))return v[q];if(!Array.isArray(x))return this.nextTick(v,new TypeError("The first argument 'operations' must be an array")),v[q];if(0===x.length)return this.nextTick(v),v[q];const $=new Array(x.length),{keyEncoding:F,valueEncoding:Q,...de}=s;for(let Ce=0;Ce<x.length;Ce++){if("object"!=typeof x[Ce]||null===x[Ce])return this.nextTick(v,new TypeError("A batch operation must be an object")),v[q];const Re=Object.assign({},x[Ce]);if("put"!==Re.type&&"del"!==Re.type)return this.nextTick(v,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),v[q];const Ve=this._checkKey(Re.key);if(Ve)return this.nextTick(v,Ve),v[q];const Ee=null!=Re.sublevel?Re.sublevel:this,_e=Ee.keyEncoding(Re.keyEncoding||F),Fe=_e.format;if(Re.key=Ee.prefixKey(_e.encode(Re.key),Fe),Re.keyEncoding=Fe,"put"===Re.type){const be=this._checkValue(Re.value);if(be)return this.nextTick(v,be),v[q];const Ae=Ee.valueEncoding(Re.valueEncoding||Q);Re.value=Ae.encode(Re.value),Re.valueEncoding=Ae.format}Ee!==this&&(Re.sublevel=null),$[Ce]=Re}return this._batch($,de,Ce=>{if(Ce)return v(Ce);this.emit("batch",x),v()}),v[q]}_batch(x,s,v){this.nextTick(v)}sublevel(x,s){return this._sublevel(x,p.defaults(s))}_sublevel(x,s){return new p(this,x,s)}prefixKey(x,s){return x}clear(x,s){if(s=L(x,s),s=H(s,q),x=z(x,this[Me].empty),"opening"===this[we])return this.defer(()=>this.clear(x,s)),s[q];if(E(this,s))return s[q];const v=x,$=this.keyEncoding(x.keyEncoding);return(x=ee(x,$)).keyEncoding=$.format,0===x.limit?this.nextTick(s):this._clear(x,F=>{if(F)return s(F);this.emit("clear",v),s()}),s[q]}_clear(x,s){this.nextTick(s)}iterator(x){const s=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=ee(x,s)).keys=!1!==x.keys,x.values=!1!==x.values,x[O.keyEncoding]=s,x[O.valueEncoding]=v,x.keyEncoding=s.format,x.valueEncoding=v.format,"opening"===this[we])return new N(this,x);if("open"!==this[we])throw new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(x)}_iterator(x){return new O(this,x)}keys(x){const s=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=ee(x,s))[O.keyEncoding]=s,x[O.valueEncoding]=v,x.keyEncoding=s.format,x.valueEncoding=v.format,"opening"===this[we])return new U(this,x);if("open"!==this[we])throw new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(x)}_keys(x){return new S(this,x)}values(x){const s=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=ee(x,s))[O.keyEncoding]=s,x[O.valueEncoding]=v,x.keyEncoding=s.format,x.valueEncoding=v.format,"opening"===this[we])return new A(this,x);if("open"!==this[we])throw new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(x)}_values(x){return new B(this,x)}defer(x){if("function"!=typeof x)throw new TypeError("The first argument must be a function");this[ce].push(x)}[ae](){if(0===this[ce].length)return;const x=this[ce];this[ce]=[];for(const s of x)s()}attachResource(x){if("object"!=typeof x||null===x||"function"!=typeof x.close)throw new TypeError("The first argument must be a resource object");this[J].add(x)}detachResource(x){this[J].delete(x)}_chainedBatch(){return new G(this)}_checkKey(x){if(null==x)return new w("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(x){if(null==x)return new w("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}m.prototype.nextTick=_(24585);const{AbstractSublevel:p}=_(25416)({AbstractLevel:m});j.AbstractLevel=m,j.AbstractSublevel=p;const E=function(R,x){return"open"!==R[we]&&(R.nextTick(x,new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},D=function(R){return Object.keys(R.supports.encodings).filter(x=>!!R.supports.encodings[x])}},75929:(Je,j,_)=>{"use strict";j.AbstractLevel=_(83764).AbstractLevel,j.AbstractSublevel=_(83764).AbstractSublevel,j.AbstractIterator=_(63294).AbstractIterator,j.AbstractKeyIterator=_(63294).AbstractKeyIterator,j.AbstractValueIterator=_(63294).AbstractValueIterator,j.AbstractChainedBatch=_(91463).AbstractChainedBatch},47519:(Je,j,_)=>{"use strict";const{AbstractIterator:y,AbstractKeyIterator:b,AbstractValueIterator:P}=_(63294),H=Symbol("unfix"),w=Symbol("iterator"),O=Symbol("handleOne"),S=Symbol("handleMany"),B=Symbol("callback");class N extends y{constructor(L,z,ee,q){super(L,z),this[w]=ee,this[H]=q,this[O]=this[O].bind(this),this[S]=this[S].bind(this),this[B]=null}[O](L,z,ee){const q=this[B];if(L)return q(L);void 0!==z&&(z=this[H](z)),q(L,z,ee)}[S](L,z){const ee=this[B];if(L)return ee(L);for(const q of z){const Z=q[0];void 0!==Z&&(q[0]=this[H](Z))}ee(L,z)}}class U extends b{constructor(L,z,ee,q){super(L,z),this[w]=ee,this[H]=q,this[O]=this[O].bind(this),this[S]=this[S].bind(this),this[B]=null}[O](L,z){const ee=this[B];if(L)return ee(L);void 0!==z&&(z=this[H](z)),ee(L,z)}[S](L,z){const ee=this[B];if(L)return ee(L);for(let q=0;q<z.length;q++){const Z=z[q];void 0!==Z&&(z[q]=this[H](Z))}ee(L,z)}}class A extends P{constructor(L,z,ee){super(L,z),this[w]=ee}}for(const G of[N,U])G.prototype._next=function(L){this[B]=L,this[w].next(this[O])},G.prototype._nextv=function(L,z,ee){this[B]=ee,this[w].nextv(L,z,this[S])},G.prototype._all=function(L,z){this[B]=z,this[w].all(L,this[S])};for(const G of[A])G.prototype._next=function(L){this[w].next(L)},G.prototype._nextv=function(L,z,ee){this[w].nextv(L,z,ee)},G.prototype._all=function(L,z){this[w].all(L,z)};for(const G of[N,U,A])G.prototype._seek=function(L,z){this[w].seek(L,z)},G.prototype._close=function(L){this[w].close(L)};j.AbstractSublevelIterator=N,j.AbstractSublevelKeyIterator=U,j.AbstractSublevelValueIterator=A},25416:(Je,j,_)=>{"use strict";const y=_(61747),{Buffer:b}=_(1067)||{},{AbstractSublevelIterator:P,AbstractSublevelKeyIterator:H,AbstractSublevelValueIterator:w}=_(47519),O=Symbol("prefix"),S=Symbol("upperBound"),B=Symbol("prefixRange"),N=Symbol("parent"),U=Symbol("unfix"),A=new TextEncoder,G={separator:"!"};Je.exports=function({AbstractLevel:J}){class se extends J{static defaults(ae){if("string"==typeof ae)throw new y("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(ae&&ae.open)throw new y("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==ae?G:ae.separator?ae:{...ae,separator:"!"}}constructor(ae,fe,he){const{separator:we,manifest:Me,...Pe}=se.defaults(he);fe=Z(fe,we);const C=we.charCodeAt(0)+1,a=ae[N]||ae;if(!A.encode(fe).every(p=>p>C&&p<127))throw new y(`Prefix must use bytes > ${C} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(L(a,Me),Pe);const d=(ae.prefix||"")+we+fe+we,m=d.slice(0,-1)+String.fromCharCode(C);this[N]=a,this[O]=new ee(d),this[S]=new ee(m),this[U]=new q,this.nextTick=a.nextTick}prefixKey(ae,fe){if("utf8"===fe)return this[O].utf8+ae;if(0===ae.byteLength)return this[O][fe];if("view"===fe){const he=this[O].view,we=new Uint8Array(he.byteLength+ae.byteLength);return we.set(he,0),we.set(ae,he.byteLength),we}{const he=this[O].buffer;return b.concat([he,ae],he.byteLength+ae.byteLength)}}[B](ae,fe){void 0!==ae.gte?ae.gte=this.prefixKey(ae.gte,fe):void 0!==ae.gt?ae.gt=this.prefixKey(ae.gt,fe):ae.gte=this[O][fe],void 0!==ae.lte?ae.lte=this.prefixKey(ae.lte,fe):void 0!==ae.lt?ae.lt=this.prefixKey(ae.lt,fe):ae.lte=this[S][fe]}get prefix(){return this[O].utf8}get db(){return this[N]}_open(ae,fe){this[N].open({passive:!0},fe)}_put(ae,fe,he,we){this[N].put(ae,fe,he,we)}_get(ae,fe,he){this[N].get(ae,fe,he)}_getMany(ae,fe,he){this[N].getMany(ae,fe,he)}_del(ae,fe,he){this[N].del(ae,fe,he)}_batch(ae,fe,he){this[N].batch(ae,fe,he)}_clear(ae,fe){this[B](ae,ae.keyEncoding),this[N].clear(ae,fe)}_iterator(ae){this[B](ae,ae.keyEncoding);const fe=this[N].iterator(ae),he=this[U].get(this[O].utf8.length,ae.keyEncoding);return new P(this,ae,fe,he)}_keys(ae){this[B](ae,ae.keyEncoding);const fe=this[N].keys(ae),he=this[U].get(this[O].utf8.length,ae.keyEncoding);return new H(this,ae,fe,he)}_values(ae){this[B](ae,ae.keyEncoding);const fe=this[N].values(ae);return new w(this,ae,fe)}}return{AbstractSublevel:se}};const L=function(J,se){return{...J.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...se,encodings:{utf8:z(J,"utf8"),buffer:z(J,"buffer"),view:z(J,"view")}}},z=function(J,se){return!!J.supports.encodings[se]&&J.keyEncoding(se).name===se};class ee{constructor(se){this.utf8=se,this.view=A.encode(se),this.buffer=b?b.from(this.view.buffer,0,this.view.byteLength):{}}}class q{constructor(){this.cache=new Map}get(se,ce){let ae=this.cache.get(ce);return void 0===ae&&(ae="view"===ce?function(fe,he){return he.subarray(fe)}.bind(null,se):function(fe,he){return he.slice(fe)}.bind(null,se),this.cache.set(ce,ae)),ae}}const Z=function(J,se){let ce=0,ae=J.length;for(;ce<ae&&J[ce]===se;)ce++;for(;ae>ce&&J[ae-1]===se;)ae--;return J.slice(ce,ae)}},10475:(Je,j)=>{"use strict";j.getCallback=function(_,y){return"function"==typeof _?_:y},j.getOptions=function(_,y){return"object"==typeof _&&null!==_?_:void 0!==y?y:{}}},45776:(Je,j,_)=>{"use strict";const{AbstractChainedBatch:y}=_(91463),b=_(61747),P=Symbol("encoded");j.DefaultChainedBatch=class H extends y{constructor(O){super(O),this[P]=[]}_put(O,S,B){this[P].push({...B,type:"put",key:O,value:S})}_del(O,S){this[P].push({...S,type:"del",key:O})}_clear(){this[P]=[]}_write(O,S){"opening"===this.db.status?this.db.defer(()=>this._write(O,S)):"open"===this.db.status?0===this[P].length?this.nextTick(S):this.db._batch(this[P],O,S):this.nextTick(S,new b("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:(Je,j,_)=>{"use strict";const{AbstractKeyIterator:y,AbstractValueIterator:b}=_(63294),P=Symbol("iterator"),H=Symbol("callback"),w=Symbol("handleOne"),O=Symbol("handleMany");class S extends y{constructor(U,A){super(U,A),this[P]=U.iterator({...A,keys:!0,values:!1}),this[w]=this[w].bind(this),this[O]=this[O].bind(this)}}class B extends b{constructor(U,A){super(U,A),this[P]=U.iterator({...A,keys:!1,values:!0}),this[w]=this[w].bind(this),this[O]=this[O].bind(this)}}for(const N of[S,B]){const U=N===S,A=U?G=>G[0]:G=>G[1];N.prototype._next=function(G){this[H]=G,this[P].next(this[w])},N.prototype[w]=function(G,L,z){const ee=this[H];G?ee(G):ee(null,U?L:z)},N.prototype._nextv=function(G,L,z){this[H]=z,this[P].nextv(G,L,this[O])},N.prototype._all=function(G,L){this[H]=L,this[P].all(G,this[O])},N.prototype[O]=function(G,L){const z=this[H];G?z(G):z(null,L.map(A))},N.prototype._seek=function(G,L){this[P].seek(G,L)},N.prototype._close=function(G){this[P].close(G)}}j.DefaultKeyIterator=S,j.DefaultValueIterator=B},92745:(Je,j,_)=>{"use strict";const{AbstractIterator:y,AbstractKeyIterator:b,AbstractValueIterator:P}=_(63294),H=_(61747),w=Symbol("nut"),O=Symbol("undefer"),S=Symbol("factory");class B extends y{constructor(G,L){super(G,L),this[w]=null,this[S]=()=>G.iterator(L),this.db.defer(()=>this[O]())}}class N extends b{constructor(G,L){super(G,L),this[w]=null,this[S]=()=>G.keys(L),this.db.defer(()=>this[O]())}}class U extends P{constructor(G,L){super(G,L),this[w]=null,this[S]=()=>G.values(L),this.db.defer(()=>this[O]())}}for(const A of[B,N,U])A.prototype[O]=function(){"open"===this.db.status&&(this[w]=this[S]())},A.prototype._next=function(G){null!==this[w]?this[w].next(G):"opening"===this.db.status?this.db.defer(()=>this._next(G)):this.nextTick(G,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._nextv=function(G,L,z){null!==this[w]?this[w].nextv(G,L,z):"opening"===this.db.status?this.db.defer(()=>this._nextv(G,L,z)):this.nextTick(z,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._all=function(G,L){null!==this[w]?this[w].all(L):"opening"===this.db.status?this.db.defer(()=>this._all(G,L)):this.nextTick(L,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._seek=function(G,L){null!==this[w]?this[w]._seek(G,L):"opening"===this.db.status&&this.db.defer(()=>this._seek(G,L))},A.prototype._close=function(G){null!==this[w]?this[w].close(G):"opening"===this.db.status?this.db.defer(()=>this._close(G)):this.nextTick(G)};j.DeferredIterator=B,j.DeferredKeyIterator=N,j.DeferredValueIterator=U},24585:(Je,j,_)=>{"use strict";const y=_(24515);Je.exports=function(b,...P){y(0===P.length?b:()=>b(...P))}},4287:(Je,j,_)=>{"use strict";const y=_(61747),b=Object.prototype.hasOwnProperty,P=new Set(["lt","lte","gt","gte"]);Je.exports=function(H,w){const O={};for(const S in H)if(b.call(H,S)&&"keyEncoding"!==S&&"valueEncoding"!==S){if("start"===S||"end"===S)throw new y(`The legacy range option '${S}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===S)throw new y("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});O[S]=P.has(S)?w.encode(H[S]):H[S]}return O.reverse=!!O.reverse,O.limit=Number.isInteger(O.limit)&&O.limit>=0?O.limit:-1,O}},1067:(Je,j,_)=>{"use strict";const y=_(13981),b=_(22020),P="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function J(K){return+K!=K&&(K=0),S.alloc(+K)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function O(K){if(K>H)throw new RangeError('The value "'+K+'" is invalid for option "size"');const T=new Uint8Array(K);return Object.setPrototypeOf(T,S.prototype),T}function S(K,T,M){if("number"==typeof K){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return A(K)}return B(K,T,M)}function B(K,T,M){if("string"==typeof K)return function G(K,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!S.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const M=0|se(K,T);let Y=O(M);const pe=Y.write(K,T);return pe!==M&&(Y=Y.slice(0,pe)),Y}(K,T);if(ArrayBuffer.isView(K))return function z(K){if(ze(K,Uint8Array)){const T=new Uint8Array(K);return ee(T.buffer,T.byteOffset,T.byteLength)}return L(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ze(K,ArrayBuffer)||K&&ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(K,SharedArrayBuffer)||K&&ze(K.buffer,SharedArrayBuffer)))return ee(K,T,M);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=K.valueOf&&K.valueOf();if(null!=Y&&Y!==K)return S.from(Y,T,M);const pe=function q(K){if(S.isBuffer(K)){const T=0|Z(K.length),M=O(T);return 0===M.length||K.copy(M,0,0,T),M}return void 0!==K.length?"number"!=typeof K.length||Dt(K.length)?O(0):L(K):"Buffer"===K.type&&Array.isArray(K.data)?L(K.data):void 0}(K);if(pe)return pe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return S.from(K[Symbol.toPrimitive]("string"),T,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function N(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function A(K){return N(K),O(K<0?0:0|Z(K))}function L(K){const T=K.length<0?0:0|Z(K.length),M=O(T);for(let Y=0;Y<T;Y+=1)M[Y]=255&K[Y];return M}function ee(K,T,M){if(T<0||K.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<T+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return Y=void 0===T&&void 0===M?new Uint8Array(K):void 0===M?new Uint8Array(K,T):new Uint8Array(K,T,M),Object.setPrototypeOf(Y,S.prototype),Y}function Z(K){if(K>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|K}function se(K,T){if(S.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const M=K.length,Y=arguments.length>2&&!0===arguments[2];if(!Y&&0===M)return 0;let pe=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ne(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Be(K).length;default:if(pe)return Y?-1:ne(K).length;T=(""+T).toLowerCase(),pe=!0}}function ce(K,T,M){let Y=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(T>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return x(this,T,M);case"utf8":case"utf-8":return m(this,T,M);case"ascii":return D(this,T,M);case"latin1":case"binary":return R(this,T,M);case"base64":return d(this,T,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,T,M);default:if(Y)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Y=!0}}function ae(K,T,M){const Y=K[T];K[T]=K[M],K[M]=Y}function fe(K,T,M,Y,pe){if(0===K.length)return-1;if("string"==typeof M?(Y=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=pe?0:K.length-1),M<0&&(M=K.length+M),M>=K.length){if(pe)return-1;M=K.length-1}else if(M<0){if(!pe)return-1;M=0}if("string"==typeof T&&(T=S.from(T,Y)),S.isBuffer(T))return 0===T.length?-1:he(K,T,M,Y,pe);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call(K,T,M):Uint8Array.prototype.lastIndexOf.call(K,T,M):he(K,[T],M,Y,pe);throw new TypeError("val must be string, number or Buffer")}function he(K,T,M,Y,pe){let It,ke=1,Ne=K.length,lt=T.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(K.length<2||T.length<2)return-1;ke=2,Ne/=2,lt/=2,M/=2}function en(Kt,rn){return 1===ke?Kt[rn]:Kt.readUInt16BE(rn*ke)}if(pe){let Kt=-1;for(It=M;It<Ne;It++)if(en(K,It)===en(T,-1===Kt?0:It-Kt)){if(-1===Kt&&(Kt=It),It-Kt+1===lt)return Kt*ke}else-1!==Kt&&(It-=It-Kt),Kt=-1}else for(M+lt>Ne&&(M=Ne-lt),It=M;It>=0;It--){let Kt=!0;for(let rn=0;rn<lt;rn++)if(en(K,It+rn)!==en(T,rn)){Kt=!1;break}if(Kt)return It}return-1}function we(K,T,M,Y){M=Number(M)||0;const pe=K.length-M;Y?(Y=Number(Y))>pe&&(Y=pe):Y=pe;const ke=T.length;let Ne;for(Y>ke/2&&(Y=ke/2),Ne=0;Ne<Y;++Ne){const lt=parseInt(T.substr(2*Ne,2),16);if(Dt(lt))return Ne;K[M+Ne]=lt}return Ne}function Me(K,T,M,Y){return Qe(ne(T,K.length-M),K,M,Y)}function Pe(K,T,M,Y){return Qe(function ue(K){const T=[];for(let M=0;M<K.length;++M)T.push(255&K.charCodeAt(M));return T}(T),K,M,Y)}function C(K,T,M,Y){return Qe(Be(T),K,M,Y)}function a(K,T,M,Y){return Qe(function De(K,T){let M,Y,pe;const ke=[];for(let Ne=0;Ne<K.length&&!((T-=2)<0);++Ne)M=K.charCodeAt(Ne),Y=M>>8,pe=M%256,ke.push(pe),ke.push(Y);return ke}(T,K.length-M),K,M,Y)}function d(K,T,M){return y.fromByteArray(0===T&&M===K.length?K:K.slice(T,M))}function m(K,T,M){M=Math.min(K.length,M);const Y=[];let pe=T;for(;pe<M;){const ke=K[pe];let Ne=null,lt=ke>239?4:ke>223?3:ke>191?2:1;if(pe+lt<=M){let en,It,Kt,rn;switch(lt){case 1:ke<128&&(Ne=ke);break;case 2:en=K[pe+1],128==(192&en)&&(rn=(31&ke)<<6|63&en,rn>127&&(Ne=rn));break;case 3:en=K[pe+1],It=K[pe+2],128==(192&en)&&128==(192&It)&&(rn=(15&ke)<<12|(63&en)<<6|63&It,rn>2047&&(rn<55296||rn>57343)&&(Ne=rn));break;case 4:en=K[pe+1],It=K[pe+2],Kt=K[pe+3],128==(192&en)&&128==(192&It)&&128==(192&Kt)&&(rn=(15&ke)<<18|(63&en)<<12|(63&It)<<6|63&Kt,rn>65535&&rn<1114112&&(Ne=rn))}}null===Ne?(Ne=65533,lt=1):Ne>65535&&(Ne-=65536,Y.push(Ne>>>10&1023|55296),Ne=56320|1023&Ne),Y.push(Ne),pe+=lt}return function E(K){const T=K.length;if(T<=p)return String.fromCharCode.apply(String,K);let M="",Y=0;for(;Y<T;)M+=String.fromCharCode.apply(String,K.slice(Y,Y+=p));return M}(Y)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function w(){try{const K=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(K,T),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(K,T,M){return B(K,T,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(K,T,M){return function U(K,T,M){return N(K),K<=0?O(K):void 0!==T?"string"==typeof M?O(K).fill(T,M):O(K).fill(T):O(K)}(K,T,M)},S.allocUnsafe=function(K){return A(K)},S.allocUnsafeSlow=function(K){return A(K)},S.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==S.prototype},S.compare=function(T,M){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),ze(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(T)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===M)return 0;let Y=T.length,pe=M.length;for(let ke=0,Ne=Math.min(Y,pe);ke<Ne;++ke)if(T[ke]!==M[ke]){Y=T[ke],pe=M[ke];break}return Y<pe?-1:pe<Y?1:0},S.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(T,M){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return S.alloc(0);let Y;if(void 0===M)for(M=0,Y=0;Y<T.length;++Y)M+=T[Y].length;const pe=S.allocUnsafe(M);let ke=0;for(Y=0;Y<T.length;++Y){let Ne=T[Y];if(ze(Ne,Uint8Array))ke+Ne.length>pe.length?(S.isBuffer(Ne)||(Ne=S.from(Ne)),Ne.copy(pe,ke)):Uint8Array.prototype.set.call(pe,Ne,ke);else{if(!S.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(pe,ke)}ke+=Ne.length}return pe},S.byteLength=se,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<T;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<T;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<T;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ce.apply(this,arguments)},S.prototype.equals=function(T){if(!S.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===S.compare(this,T)},S.prototype.inspect=function(){let T="";const M=j.INSPECT_MAX_BYTES;return T=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(T+=" ... "),"<Buffer "+T+">"},P&&(S.prototype[P]=S.prototype.inspect),S.prototype.compare=function(T,M,Y,pe,ke){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),!S.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===M&&(M=0),void 0===Y&&(Y=T?T.length:0),void 0===pe&&(pe=0),void 0===ke&&(ke=this.length),M<0||Y>T.length||pe<0||ke>this.length)throw new RangeError("out of range index");if(pe>=ke&&M>=Y)return 0;if(pe>=ke)return-1;if(M>=Y)return 1;if(this===T)return 0;let Ne=(ke>>>=0)-(pe>>>=0),lt=(Y>>>=0)-(M>>>=0);const en=Math.min(Ne,lt),It=this.slice(pe,ke),Kt=T.slice(M,Y);for(let rn=0;rn<en;++rn)if(It[rn]!==Kt[rn]){Ne=It[rn],lt=Kt[rn];break}return Ne<lt?-1:lt<Ne?1:0},S.prototype.includes=function(T,M,Y){return-1!==this.indexOf(T,M,Y)},S.prototype.indexOf=function(T,M,Y){return fe(this,T,M,Y,!0)},S.prototype.lastIndexOf=function(T,M,Y){return fe(this,T,M,Y,!1)},S.prototype.write=function(T,M,Y,pe){if(void 0===M)pe="utf8",Y=this.length,M=0;else if(void 0===Y&&"string"==typeof M)pe=M,Y=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(Y)?(Y>>>=0,void 0===pe&&(pe="utf8")):(pe=Y,Y=void 0)}const ke=this.length-M;if((void 0===Y||Y>ke)&&(Y=ke),T.length>0&&(Y<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let Ne=!1;for(;;)switch(pe){case"hex":return we(this,T,M,Y);case"utf8":case"utf-8":return Me(this,T,M,Y);case"ascii":case"latin1":case"binary":return Pe(this,T,M,Y);case"base64":return C(this,T,M,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,T,M,Y);default:if(Ne)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ne=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(127&K[pe]);return Y}function R(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(K[pe]);return Y}function x(K,T,M){const Y=K.length;(!T||T<0)&&(T=0),(!M||M<0||M>Y)&&(M=Y);let pe="";for(let ke=T;ke<M;++ke)pe+=Xe[K[ke]];return pe}function s(K,T,M){const Y=K.slice(T,M);let pe="";for(let ke=0;ke<Y.length-1;ke+=2)pe+=String.fromCharCode(Y[ke]+256*Y[ke+1]);return pe}function v(K,T,M){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+T>M)throw new RangeError("Trying to access beyond buffer length")}function $(K,T,M,Y,pe,ke){if(!S.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>pe||T<ke)throw new RangeError('"value" argument is out of bounds');if(M+Y>K.length)throw new RangeError("Index out of range")}function F(K,T,M,Y,pe){be(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,M}function Q(K,T,M,Y,pe){be(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M+7]=ke,ke>>=8,K[M+6]=ke,ke>>=8,K[M+5]=ke,ke>>=8,K[M+4]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M+3]=Ne,Ne>>=8,K[M+2]=Ne,Ne>>=8,K[M+1]=Ne,Ne>>=8,K[M]=Ne,M+8}function de(K,T,M,Y,pe,ke){if(M+Y>K.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function Ce(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,4),b.write(K,T,M,Y,23,4),M+4}function Re(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,8),b.write(K,T,M,Y,52,8),M+8}S.prototype.slice=function(T,M){const Y=this.length;(T=~~T)<0?(T+=Y)<0&&(T=0):T>Y&&(T=Y),(M=void 0===M?Y:~~M)<0?(M+=Y)<0&&(M=0):M>Y&&(M=Y),M<T&&(M=T);const pe=this.subarray(T,M);return Object.setPrototypeOf(pe,S.prototype),pe},S.prototype.readUintLE=S.prototype.readUIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return pe},S.prototype.readUintBE=S.prototype.readUIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T+--M],ke=1;for(;M>0&&(ke*=256);)pe+=this[T+--M]*ke;return pe},S.prototype.readUint8=S.prototype.readUInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),this[T]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]|this[T+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]<<8|this[T+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},S.prototype.readBigUInt64LE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M+256*this[++T]+65536*this[++T]+this[++T]*2**24,ke=this[++T]+256*this[++T]+65536*this[++T]+Y*2**24;return BigInt(pe)+(BigInt(ke)<<BigInt(32))}),S.prototype.readBigUInt64BE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M*2**24+65536*this[++T]+256*this[++T]+this[++T],ke=this[++T]*2**24+65536*this[++T]+256*this[++T]+Y;return(BigInt(pe)<<BigInt(32))+BigInt(ke)}),S.prototype.readIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return ke*=128,pe>=ke&&(pe-=Math.pow(2,8*M)),pe},S.prototype.readIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=M,ke=1,Ne=this[T+--pe];for(;pe>0&&(ke*=256);)Ne+=this[T+--pe]*ke;return ke*=128,Ne>=ke&&(Ne-=Math.pow(2,8*M)),Ne},S.prototype.readInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},S.prototype.readInt16LE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T]|this[T+1]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt16BE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T+1]|this[T]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},S.prototype.readInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},S.prototype.readBigInt64LE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];return(void 0===M||void 0===Y)&&ge(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Y<<24))<<BigInt(32))+BigInt(M+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),S.prototype.readBigInt64BE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=(M<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(pe)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Y)}),S.prototype.readFloatLE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!0,23,4)},S.prototype.readFloatBE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!1,23,4)},S.prototype.readDoubleLE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!0,52,8)},S.prototype.readDoubleBE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=1,Ne=0;for(this[M]=255&T;++Ne<Y&&(ke*=256);)this[M+Ne]=T/ke&255;return M+Y},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=Y-1,Ne=1;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)this[M+ke]=T/Ne&255;return M+Y},S.prototype.writeUint8=S.prototype.writeUInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,255,0),this[M]=255&T,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M+3]=T>>>24,this[M+2]=T>>>16,this[M+1]=T>>>8,this[M]=255&T,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigUInt64LE=Ue(function(T,M=0){return F(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Ue(function(T,M=0){return Q(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=0,Ne=1,lt=0;for(this[M]=255&T;++ke<Y&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke-1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeIntBE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=Y-1,Ne=1,lt=0;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke+1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,127,-128),T<0&&(T=255+T+1),this[M]=255&T,M+1},S.prototype.writeInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),this[M]=255&T,this[M+1]=T>>>8,this[M+2]=T>>>16,this[M+3]=T>>>24,M+4},S.prototype.writeInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigInt64LE=Ue(function(T,M=0){return F(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Ue(function(T,M=0){return Q(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(T,M,Y){return Ce(this,T,M,!0,Y)},S.prototype.writeFloatBE=function(T,M,Y){return Ce(this,T,M,!1,Y)},S.prototype.writeDoubleLE=function(T,M,Y){return Re(this,T,M,!0,Y)},S.prototype.writeDoubleBE=function(T,M,Y){return Re(this,T,M,!1,Y)},S.prototype.copy=function(T,M,Y,pe){if(!S.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!pe&&0!==pe&&(pe=this.length),M>=T.length&&(M=T.length),M||(M=0),pe>0&&pe<Y&&(pe=Y),pe===Y||0===T.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),T.length-M<pe-Y&&(pe=T.length-M+Y);const ke=pe-Y;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,Y,pe):Uint8Array.prototype.set.call(T,this.subarray(Y,pe),M),ke},S.prototype.fill=function(T,M,Y,pe){if("string"==typeof T){if("string"==typeof M?(pe=M,M=0,Y=this.length):"string"==typeof Y&&(pe=Y,Y=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!S.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(1===T.length){const Ne=T.charCodeAt(0);("utf8"===pe&&Ne<128||"latin1"===pe)&&(T=Ne)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(M<0||this.length<M||this.length<Y)throw new RangeError("Out of range index");if(Y<=M)return this;let ke;if(M>>>=0,Y=void 0===Y?this.length:Y>>>0,T||(T=0),"number"==typeof T)for(ke=M;ke<Y;++ke)this[ke]=T;else{const Ne=S.isBuffer(T)?T:S.from(T,pe),lt=Ne.length;if(0===lt)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ke=0;ke<Y-M;++ke)this[ke+M]=Ne[ke%lt]}return this};const Ve={};function Ee(K,T,M){Ve[K]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function _e(K){let T="",M=K.length;const Y="-"===K[0]?1:0;for(;M>=Y+4;M-=3)T=`_${K.slice(M-3,M)}${T}`;return`${K.slice(0,M)}${T}`}function be(K,T,M,Y,pe,ke){if(K>M||K<T){const Ne="bigint"==typeof T?"n":"";let lt;throw lt=ke>3?0===T||T===BigInt(0)?`>= 0${Ne} and < 2${Ne} ** ${8*(ke+1)}${Ne}`:`>= -(2${Ne} ** ${8*(ke+1)-1}${Ne}) and < 2 ** ${8*(ke+1)-1}${Ne}`:`>= ${T}${Ne} and <= ${M}${Ne}`,new Ve.ERR_OUT_OF_RANGE("value",lt,K)}!function Fe(K,T,M){Ae(T,"offset"),(void 0===K[T]||void 0===K[T+M])&&ge(T,K.length-(M+1))}(Y,pe,ke)}function Ae(K,T){if("number"!=typeof K)throw new Ve.ERR_INVALID_ARG_TYPE(T,"number",K)}function ge(K,T,M){throw Math.floor(K)!==K?(Ae(K,M),new Ve.ERR_OUT_OF_RANGE(M||"offset","an integer",K)):T<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${T}`,K)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(K,T){return`The "${K}" argument must be of type number. Received type ${typeof T}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(K,T,M){let Y=`The value of "${K}" is out of range.`,pe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?pe=_e(String(M)):"bigint"==typeof M&&(pe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(pe=_e(pe)),pe+="n"),Y+=` It must be ${T}. Received ${pe}`,Y},RangeError);const me=/[^+/0-9A-Za-z-_]/g;function ne(K,T){let M;T=T||1/0;const Y=K.length;let pe=null;const ke=[];for(let Ne=0;Ne<Y;++Ne){if(M=K.charCodeAt(Ne),M>55295&&M<57344){if(!pe){if(M>56319){(T-=3)>-1&&ke.push(239,191,189);continue}if(Ne+1===Y){(T-=3)>-1&&ke.push(239,191,189);continue}pe=M;continue}if(M<56320){(T-=3)>-1&&ke.push(239,191,189),pe=M;continue}M=65536+(pe-55296<<10|M-56320)}else pe&&(T-=3)>-1&&ke.push(239,191,189);if(pe=null,M<128){if((T-=1)<0)break;ke.push(M)}else if(M<2048){if((T-=2)<0)break;ke.push(M>>6|192,63&M|128)}else if(M<65536){if((T-=3)<0)break;ke.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;ke.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return ke}function Be(K){return y.toByteArray(function te(K){if((K=(K=K.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Qe(K,T,M,Y){let pe;for(pe=0;pe<Y&&!(pe+M>=T.length||pe>=K.length);++pe)T[pe+M]=K[pe];return pe}function ze(K,T){return K instanceof T||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===T.name}function Dt(K){return K!=K}const Xe=function(){const K="0123456789abcdef",T=new Array(256);for(let M=0;M<16;++M){const Y=16*M;for(let pe=0;pe<16;++pe)T[Y+pe]=K[M]+K[pe]}return T}();function Ue(K){return typeof BigInt>"u"?mt:K}function mt(){throw new Error("BigInt not supported")}},49609:(Je,j,_)=>{var y=j;y.bignum=_(96867),y.define=_(16626).define,y.base=_(15066),y.constants=_(47740),y.decoders=_(91558),y.encoders=_(22714)},16626:(Je,j,_)=>{var y=_(49609),b=_(71993);function H(w,O){this.name=w,this.body=O,this.decoders={},this.encoders={}}j.define=function(O,S){return new H(O,S)},H.prototype._createNamed=function(O){var S;try{S=Object(function(){var N=new Error("Cannot find module 'vm'");throw N.code="MODULE_NOT_FOUND",N}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{S=function(N){this._initNamed(N)}}return b(S,O),S.prototype._initNamed=function(N){O.call(this,N)},new S(this)},H.prototype._getDecoder=function(O){return this.decoders.hasOwnProperty(O=O||"der")||(this.decoders[O]=this._createNamed(y.decoders[O])),this.decoders[O]},H.prototype.decode=function(O,S,B){return this._getDecoder(S).decode(O,B)},H.prototype._getEncoder=function(O){return this.encoders.hasOwnProperty(O=O||"der")||(this.encoders[O]=this._createNamed(y.encoders[O])),this.encoders[O]},H.prototype.encode=function(O,S,B){return this._getEncoder(S).encode(O,B)}},97290:(Je,j,_)=>{var y=_(71993),b=_(15066).Reporter,P=_(83838).Buffer;function H(O,S){b.call(this,S),P.isBuffer(O)?(this.base=O,this.offset=0,this.length=O.length):this.error("Input not Buffer")}function w(O,S){if(Array.isArray(O))this.length=0,this.value=O.map(function(B){return B instanceof w||(B=new w(B,S)),this.length+=B.length,B},this);else if("number"==typeof O){if(!(0<=O&&O<=255))return S.error("non-byte EncoderBuffer value");this.value=O,this.length=1}else if("string"==typeof O)this.value=O,this.length=P.byteLength(O);else{if(!P.isBuffer(O))return S.error("Unsupported type: "+typeof O);this.value=O,this.length=O.length}}y(H,b),j.t=H,H.prototype.save=function(){return{offset:this.offset,reporter:b.prototype.save.call(this)}},H.prototype.restore=function(S){var B=new H(this.base);return B.offset=S.offset,B.length=this.offset,this.offset=S.offset,b.prototype.restore.call(this,S.reporter),B},H.prototype.isEmpty=function(){return this.offset===this.length},H.prototype.readUInt8=function(S){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(S||"DecoderBuffer overrun")},H.prototype.skip=function(S,B){if(!(this.offset+S<=this.length))return this.error(B||"DecoderBuffer overrun");var N=new H(this.base);return N._reporterState=this._reporterState,N.offset=this.offset,N.length=this.offset+S,this.offset+=S,N},H.prototype.raw=function(S){return this.base.slice(S?S.offset:this.offset,this.length)},j.d=w,w.prototype.join=function(S,B){return S||(S=new P(this.length)),B||(B=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(N){N.join(S,B),B+=N.length}):("number"==typeof this.value?S[B]=this.value:"string"==typeof this.value?S.write(this.value,B):P.isBuffer(this.value)&&this.value.copy(S,B),B+=this.length)),S}},15066:(Je,j,_)=>{var y=j;y.Reporter=_(85697).a,y.DecoderBuffer=_(97290).t,y.EncoderBuffer=_(97290).d,y.Node=_(34320)},34320:(Je,j,_)=>{var y=_(15066).Reporter,b=_(15066).EncoderBuffer,P=_(15066).DecoderBuffer,H=_(39210),w=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],O=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(w);function B(U,A){var G={};this._baseState=G,G.enc=U,G.parent=A||null,G.children=null,G.tag=null,G.args=null,G.reverseArgs=null,G.choice=null,G.optional=!1,G.any=!1,G.obj=!1,G.use=null,G.useDecoder=null,G.key=null,G.default=null,G.explicit=null,G.implicit=null,G.contains=null,G.parent||(G.children=[],this._wrap())}Je.exports=B;var N=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];B.prototype.clone=function(){var A=this._baseState,G={};N.forEach(function(z){G[z]=A[z]});var L=new this.constructor(G.parent);return L._baseState=G,L},B.prototype._wrap=function(){var A=this._baseState;O.forEach(function(G){this[G]=function(){var z=new this.constructor(this);return A.children.push(z),z[G].apply(z,arguments)}},this)},B.prototype._init=function(A){var G=this._baseState;H(null===G.parent),A.call(this),G.children=G.children.filter(function(L){return L._baseState.parent===this},this),H.equal(G.children.length,1,"Root node can have only one child")},B.prototype._useArgs=function(A){var G=this._baseState,L=A.filter(function(z){return z instanceof this.constructor},this);A=A.filter(function(z){return!(z instanceof this.constructor)},this),0!==L.length&&(H(null===G.children),G.children=L,L.forEach(function(z){z._baseState.parent=this},this)),0!==A.length&&(H(null===G.args),G.args=A,G.reverseArgs=A.map(function(z){if("object"!=typeof z||z.constructor!==Object)return z;var ee={};return Object.keys(z).forEach(function(q){q==(0|q)&&(q|=0),ee[z[q]]=q}),ee}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(U){B.prototype[U]=function(){throw new Error(U+" not implemented for encoding: "+this._baseState.enc)}}),w.forEach(function(U){B.prototype[U]=function(){var G=this._baseState,L=Array.prototype.slice.call(arguments);return H(null===G.tag),G.tag=U,this._useArgs(L),this}}),B.prototype.use=function(A){H(A);var G=this._baseState;return H(null===G.use),G.use=A,this},B.prototype.optional=function(){return this._baseState.optional=!0,this},B.prototype.def=function(A){var G=this._baseState;return H(null===G.default),G.default=A,G.optional=!0,this},B.prototype.explicit=function(A){var G=this._baseState;return H(null===G.explicit&&null===G.implicit),G.explicit=A,this},B.prototype.implicit=function(A){var G=this._baseState;return H(null===G.explicit&&null===G.implicit),G.implicit=A,this},B.prototype.obj=function(){var A=this._baseState,G=Array.prototype.slice.call(arguments);return A.obj=!0,0!==G.length&&this._useArgs(G),this},B.prototype.key=function(A){var G=this._baseState;return H(null===G.key),G.key=A,this},B.prototype.any=function(){return this._baseState.any=!0,this},B.prototype.choice=function(A){var G=this._baseState;return H(null===G.choice),G.choice=A,this._useArgs(Object.keys(A).map(function(L){return A[L]})),this},B.prototype.contains=function(A){var G=this._baseState;return H(null===G.use),G.contains=A,this},B.prototype._decode=function(A,G){var L=this._baseState;if(null===L.parent)return A.wrapResult(L.children[0]._decode(A,G));var se,z=L.default,ee=!0,q=null;if(null!==L.key&&(q=A.enterKey(L.key)),L.optional){var Z=null;if(null!==L.explicit?Z=L.explicit:null!==L.implicit?Z=L.implicit:null!==L.tag&&(Z=L.tag),null!==Z||L.any){if(ee=this._peekTag(A,Z,L.any),A.isError(ee))return ee}else{var J=A.save();try{null===L.choice?this._decodeGeneric(L.tag,A,G):this._decodeChoice(A,G),ee=!0}catch{ee=!1}A.restore(J)}}if(L.obj&&ee&&(se=A.enterObject()),ee){if(null!==L.explicit){var ce=this._decodeTag(A,L.explicit);if(A.isError(ce))return ce;A=ce}var ae=A.offset;if(null===L.use&&null===L.choice){L.any&&(J=A.save());var fe=this._decodeTag(A,null!==L.implicit?L.implicit:L.tag,L.any);if(A.isError(fe))return fe;L.any?z=A.raw(J):A=fe}if(G&&G.track&&null!==L.tag&&G.track(A.path(),ae,A.length,"tagged"),G&&G.track&&null!==L.tag&&G.track(A.path(),A.offset,A.length,"content"),L.any||(z=null===L.choice?this._decodeGeneric(L.tag,A,G):this._decodeChoice(A,G)),A.isError(z))return z;if(!L.any&&null===L.choice&&null!==L.children&&L.children.forEach(function(Me){Me._decode(A,G)}),L.contains&&("octstr"===L.tag||"bitstr"===L.tag)){var he=new P(z);z=this._getUse(L.contains,A._reporterState.obj)._decode(he,G)}}return L.obj&&ee&&(z=A.leaveObject(se)),null===L.key||null===z&&!0!==ee?null!==q&&A.exitKey(q):A.leaveKey(q,L.key,z),z},B.prototype._decodeGeneric=function(A,G,L){var z=this._baseState;return"seq"===A||"set"===A?null:"seqof"===A||"setof"===A?this._decodeList(G,A,z.args[0],L):/str$/.test(A)?this._decodeStr(G,A,L):"objid"===A&&z.args?this._decodeObjid(G,z.args[0],z.args[1],L):"objid"===A?this._decodeObjid(G,null,null,L):"gentime"===A||"utctime"===A?this._decodeTime(G,A,L):"null_"===A?this._decodeNull(G,L):"bool"===A?this._decodeBool(G,L):"objDesc"===A?this._decodeStr(G,A,L):"int"===A||"enum"===A?this._decodeInt(G,z.args&&z.args[0],L):null!==z.use?this._getUse(z.use,G._reporterState.obj)._decode(G,L):G.error("unknown tag: "+A)},B.prototype._getUse=function(A,G){var L=this._baseState;return L.useDecoder=this._use(A,G),H(null===L.useDecoder._baseState.parent),L.useDecoder=L.useDecoder._baseState.children[0],L.implicit!==L.useDecoder._baseState.implicit&&(L.useDecoder=L.useDecoder.clone(),L.useDecoder._baseState.implicit=L.implicit),L.useDecoder},B.prototype._decodeChoice=function(A,G){var L=this._baseState,z=null,ee=!1;return Object.keys(L.choice).some(function(q){var Z=A.save(),J=L.choice[q];try{var se=J._decode(A,G);if(A.isError(se))return!1;z={type:q,value:se},ee=!0}catch{return A.restore(Z),!1}return!0},this),ee?z:A.error("Choice not matched")},B.prototype._createEncoderBuffer=function(A){return new b(A,this.reporter)},B.prototype._encode=function(A,G,L){var z=this._baseState;if(null===z.default||z.default!==A){var ee=this._encodeValue(A,G,L);if(void 0!==ee&&!this._skipDefault(ee,G,L))return ee}},B.prototype._encodeValue=function(A,G,L){var z=this._baseState;if(null===z.parent)return z.children[0]._encode(A,G||new y);var J=null;if(this.reporter=G,z.optional&&void 0===A){if(null===z.default)return;A=z.default}var ee=null,q=!1;if(z.any)J=this._createEncoderBuffer(A);else if(z.choice)J=this._encodeChoice(A,G);else if(z.contains)ee=this._getUse(z.contains,L)._encode(A,G),q=!0;else if(z.children)ee=z.children.map(function(ae){if("null_"===ae._baseState.tag)return ae._encode(null,G,A);if(null===ae._baseState.key)return G.error("Child should have a key");var fe=G.enterKey(ae._baseState.key);if("object"!=typeof A)return G.error("Child expected, but input is not object");var he=ae._encode(A[ae._baseState.key],G,A);return G.leaveKey(fe),he},this).filter(function(ae){return ae}),ee=this._createEncoderBuffer(ee);else if("seqof"===z.tag||"setof"===z.tag){if(!z.args||1!==z.args.length)return G.error("Too many args for : "+z.tag);if(!Array.isArray(A))return G.error("seqof/setof, but data is not Array");var Z=this.clone();Z._baseState.implicit=null,ee=this._createEncoderBuffer(A.map(function(ae){return this._getUse(this._baseState.args[0],A)._encode(ae,G)},Z))}else null!==z.use?J=this._getUse(z.use,L)._encode(A,G):(ee=this._encodePrimitive(z.tag,A),q=!0);if(!z.any&&null===z.choice){var se=null!==z.implicit?z.implicit:z.tag,ce=null===z.implicit?"universal":"context";null===se?null===z.use&&G.error("Tag could be omitted only for .use()"):null===z.use&&(J=this._encodeComposite(se,q,ce,ee))}return null!==z.explicit&&(J=this._encodeComposite(z.explicit,!1,"context",J)),J},B.prototype._encodeChoice=function(A,G){var L=this._baseState,z=L.choice[A.type];return z||H(!1,A.type+" not found in "+JSON.stringify(Object.keys(L.choice))),z._encode(A.value,G)},B.prototype._encodePrimitive=function(A,G){var L=this._baseState;if(/str$/.test(A))return this._encodeStr(G,A);if("objid"===A&&L.args)return this._encodeObjid(G,L.reverseArgs[0],L.args[1]);if("objid"===A)return this._encodeObjid(G,null,null);if("gentime"===A||"utctime"===A)return this._encodeTime(G,A);if("null_"===A)return this._encodeNull();if("int"===A||"enum"===A)return this._encodeInt(G,L.args&&L.reverseArgs[0]);if("bool"===A)return this._encodeBool(G);if("objDesc"===A)return this._encodeStr(G,A);throw new Error("Unsupported tag: "+A)},B.prototype._isNumstr=function(A){return/^[0-9 ]*$/.test(A)},B.prototype._isPrintstr=function(A){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(A)}},85697:(Je,j,_)=>{var y=_(71993);function b(H){this._reporterState={obj:null,path:[],options:H||{},errors:[]}}function P(H,w){this.path=H,this.rethrow(w)}j.a=b,b.prototype.isError=function(w){return w instanceof P},b.prototype.save=function(){var w=this._reporterState;return{obj:w.obj,pathLen:w.path.length}},b.prototype.restore=function(w){var O=this._reporterState;O.obj=w.obj,O.path=O.path.slice(0,w.pathLen)},b.prototype.enterKey=function(w){return this._reporterState.path.push(w)},b.prototype.exitKey=function(w){var O=this._reporterState;O.path=O.path.slice(0,w-1)},b.prototype.leaveKey=function(w,O,S){var B=this._reporterState;this.exitKey(w),null!==B.obj&&(B.obj[O]=S)},b.prototype.path=function(){return this._reporterState.path.join("/")},b.prototype.enterObject=function(){var w=this._reporterState,O=w.obj;return w.obj={},O},b.prototype.leaveObject=function(w){var O=this._reporterState,S=O.obj;return O.obj=w,S},b.prototype.error=function(w){var O,S=this._reporterState,B=w instanceof P;if(O=B?w:new P(S.path.map(function(N){return"["+JSON.stringify(N)+"]"}).join(""),w.message||w,w.stack),!S.options.partial)throw O;return B||S.errors.push(O),O},b.prototype.wrapResult=function(w){var O=this._reporterState;return O.options.partial?{result:this.isError(w)?null:w,errors:O.errors}:w},y(P,Error),P.prototype.rethrow=function(w){if(this.message=w+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,P),!this.stack)try{throw new Error(this.message)}catch(O){this.stack=O.stack}return this}},36283:(Je,j,_)=>{var y=_(47740);j.tagClass={0:"universal",1:"application",2:"context",3:"private"},j.tagClassByName=y._reverse(j.tagClass),j.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},j.tagByName=y._reverse(j.tag)},47740:(Je,j,_)=>{var y=j;y._reverse=function(P){var H={};return Object.keys(P).forEach(function(w){(0|w)==w&&(w|=0),H[P[w]]=w}),H},y.der=_(36283)},55941:(Je,j,_)=>{var y=_(71993),b=_(49609),P=b.base,H=b.bignum,w=b.constants.der;function O(U){this.enc="der",this.name=U.name,this.entity=U,this.tree=new S,this.tree._init(U.body)}function S(U){P.Node.call(this,"der",U)}function B(U,A){var G=U.readUInt8(A);if(U.isError(G))return G;var L=w.tagClass[G>>6],z=!(32&G);if(31&~G)G&=31;else{var ee=G;for(G=0;!(128&~ee);){if(ee=U.readUInt8(A),U.isError(ee))return ee;G<<=7,G|=127&ee}}return{cls:L,primitive:z,tag:G,tagStr:w.tag[G]}}function N(U,A,G){var L=U.readUInt8(G);if(U.isError(L))return L;if(!A&&128===L)return null;if(!(128&L))return L;var z=127&L;if(z>4)return U.error("length octect is too long");L=0;for(var ee=0;ee<z;ee++){L<<=8;var q=U.readUInt8(G);if(U.isError(q))return q;L|=q}return L}Je.exports=O,O.prototype.decode=function(A,G){return A instanceof P.DecoderBuffer||(A=new P.DecoderBuffer(A,G)),this.tree._decode(A,G)},y(S,P.Node),S.prototype._peekTag=function(A,G,L){if(A.isEmpty())return!1;var z=A.save(),ee=B(A,'Failed to peek tag: "'+G+'"');return A.isError(ee)?ee:(A.restore(z),ee.tag===G||ee.tagStr===G||ee.tagStr+"of"===G||L)},S.prototype._decodeTag=function(A,G,L){var z=B(A,'Failed to decode tag of "'+G+'"');if(A.isError(z))return z;var ee=N(A,z.primitive,'Failed to get length of "'+G+'"');if(A.isError(ee))return ee;if(!L&&z.tag!==G&&z.tagStr!==G&&z.tagStr+"of"!==G)return A.error('Failed to match tag: "'+G+'"');if(z.primitive||null!==ee)return A.skip(ee,'Failed to match body of: "'+G+'"');var q=A.save(),Z=this._skipUntilEnd(A,'Failed to skip indefinite length body: "'+this.tag+'"');return A.isError(Z)?Z:(ee=A.offset-q.offset,A.restore(q),A.skip(ee,'Failed to match body of: "'+G+'"'))},S.prototype._skipUntilEnd=function(A,G){for(;;){var L=B(A,G);if(A.isError(L))return L;var ee,z=N(A,L.primitive,G);if(A.isError(z))return z;if(ee=L.primitive||null!==z?A.skip(z):this._skipUntilEnd(A,G),A.isError(ee))return ee;if("end"===L.tagStr)break}},S.prototype._decodeList=function(A,G,L,z){for(var ee=[];!A.isEmpty();){var q=this._peekTag(A,"end");if(A.isError(q))return q;var Z=L.decode(A,"der",z);if(A.isError(Z)&&q)break;ee.push(Z)}return ee},S.prototype._decodeStr=function(A,G){if("bitstr"===G){var L=A.readUInt8();return A.isError(L)?L:{unused:L,data:A.raw()}}if("bmpstr"===G){var z=A.raw();if(z.length%2==1)return A.error("Decoding of string type: bmpstr length mismatch");for(var ee="",q=0;q<z.length/2;q++)ee+=String.fromCharCode(z.readUInt16BE(2*q));return ee}if("numstr"===G){var Z=A.raw().toString("ascii");return this._isNumstr(Z)?Z:A.error("Decoding of string type: numstr unsupported characters")}if("octstr"===G)return A.raw();if("objDesc"===G)return A.raw();if("printstr"===G){var J=A.raw().toString("ascii");return this._isPrintstr(J)?J:A.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(G)?A.raw().toString():A.error("Decoding of string type: "+G+" unsupported")},S.prototype._decodeObjid=function(A,G,L){for(var z,ee=[],q=0;!A.isEmpty();){var Z=A.readUInt8();q<<=7,q|=127&Z,128&Z||(ee.push(q),q=0)}if(128&Z&&ee.push(q),z=L?ee:[ee[0]/40|0,ee[0]%40].concat(ee.slice(1)),G){var ce=G[z.join(" ")];void 0===ce&&(ce=G[z.join(".")]),void 0!==ce&&(z=ce)}return z},S.prototype._decodeTime=function(A,G){var L=A.raw().toString();if("gentime"===G)var z=0|L.slice(0,4),ee=0|L.slice(4,6),q=0|L.slice(6,8),Z=0|L.slice(8,10),J=0|L.slice(10,12),se=0|L.slice(12,14);else{if("utctime"!==G)return A.error("Decoding "+G+" time is not supported yet");z=0|L.slice(0,2),ee=0|L.slice(2,4),q=0|L.slice(4,6),Z=0|L.slice(6,8),J=0|L.slice(8,10),se=0|L.slice(10,12),z=z<70?2e3+z:1900+z}return Date.UTC(z,ee-1,q,Z,J,se,0)},S.prototype._decodeNull=function(A){return null},S.prototype._decodeBool=function(A){var G=A.readUInt8();return A.isError(G)?G:0!==G},S.prototype._decodeInt=function(A,G){var L=A.raw(),z=new H(L);return G&&(z=G[z.toString(10)]||z),z},S.prototype._use=function(A,G){return"function"==typeof A&&(A=A(G)),A._getDecoder("der").tree}},91558:(Je,j,_)=>{var y=j;y.der=_(55941),y.pem=_(59316)},59316:(Je,j,_)=>{var y=_(71993),b=_(83838).Buffer,P=_(55941);function H(w){P.call(this,w),this.enc="pem"}y(H,P),Je.exports=H,H.prototype.decode=function(O,S){for(var B=O.toString().split(/[\r\n]+/g),N=S.label.toUpperCase(),U=/^-----(BEGIN|END) ([^-]+)-----$/,A=-1,G=-1,L=0;L<B.length;L++){var z=B[L].match(U);if(null!==z&&z[2]===N){if(-1!==A){if("END"!==z[1])break;G=L;break}if("BEGIN"!==z[1])break;A=L}}if(-1===A||-1===G)throw new Error("PEM section not found for: "+N);var ee=B.slice(A+1,G).join("");ee.replace(/[^a-z0-9\+\/=]+/gi,"");var q=new b(ee,"base64");return P.prototype.decode.call(this,q,S)}},72193:(Je,j,_)=>{var y=_(71993),b=_(83838).Buffer,P=_(49609),H=P.base,w=P.constants.der;function O(U){this.enc="der",this.name=U.name,this.entity=U,this.tree=new S,this.tree._init(U.body)}function S(U){H.Node.call(this,"der",U)}function B(U){return U<10?"0"+U:U}Je.exports=O,O.prototype.encode=function(A,G){return this.tree._encode(A,G).join()},y(S,H.Node),S.prototype._encodeComposite=function(A,G,L,z){var J,ee=function N(U,A,G,L){var z;if("seqof"===U?U="seq":"setof"===U&&(U="set"),w.tagByName.hasOwnProperty(U))z=w.tagByName[U];else{if("number"!=typeof U||(0|U)!==U)return L.error("Unknown tag: "+U);z=U}return z>=31?L.error("Multi-octet tag encoding unsupported"):(A||(z|=32),z|=w.tagClassByName[G||"universal"]<<6)}(A,G,L,this.reporter);if(z.length<128)return(J=new b(2))[0]=ee,J[1]=z.length,this._createEncoderBuffer([J,z]);for(var q=1,Z=z.length;Z>=256;Z>>=8)q++;(J=new b(2+q))[0]=ee,J[1]=128|q,Z=1+q;for(var se=z.length;se>0;Z--,se>>=8)J[Z]=255&se;return this._createEncoderBuffer([J,z])},S.prototype._encodeStr=function(A,G){if("bitstr"===G)return this._createEncoderBuffer([0|A.unused,A.data]);if("bmpstr"===G){for(var L=new b(2*A.length),z=0;z<A.length;z++)L.writeUInt16BE(A.charCodeAt(z),2*z);return this._createEncoderBuffer(L)}return"numstr"===G?this._isNumstr(A)?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===G?this._isPrintstr(A)?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(G)||"objDesc"===G?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: "+G+" unsupported")},S.prototype._encodeObjid=function(A,G,L){if("string"==typeof A){if(!G)return this.reporter.error("string objid given, but no values map found");if(!G.hasOwnProperty(A))return this.reporter.error("objid not found in values map");A=G[A].split(/[\s\.]+/g);for(var z=0;z<A.length;z++)A[z]|=0}else if(Array.isArray(A))for(A=A.slice(),z=0;z<A.length;z++)A[z]|=0;if(!Array.isArray(A))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(A));if(!L){if(A[1]>=40)return this.reporter.error("Second objid identifier OOB");A.splice(0,2,40*A[0]+A[1])}var ee=0;for(z=0;z<A.length;z++){var q=A[z];for(ee++;q>=128;q>>=7)ee++}var Z=new b(ee),J=Z.length-1;for(z=A.length-1;z>=0;z--)for(Z[J--]=127&(q=A[z]);(q>>=7)>0;)Z[J--]=128|127&q;return this._createEncoderBuffer(Z)},S.prototype._encodeTime=function(A,G){var L,z=new Date(A);return"gentime"===G?L=[B(z.getFullYear()),B(z.getUTCMonth()+1),B(z.getUTCDate()),B(z.getUTCHours()),B(z.getUTCMinutes()),B(z.getUTCSeconds()),"Z"].join(""):"utctime"===G?L=[B(z.getFullYear()%100),B(z.getUTCMonth()+1),B(z.getUTCDate()),B(z.getUTCHours()),B(z.getUTCMinutes()),B(z.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+G+" time is not supported yet"),this._encodeStr(L,"octstr")},S.prototype._encodeNull=function(){return this._createEncoderBuffer("")},S.prototype._encodeInt=function(A,G){if("string"==typeof A){if(!G)return this.reporter.error("String int or enum given, but no values map");if(!G.hasOwnProperty(A))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(A));A=G[A]}if("number"!=typeof A&&!b.isBuffer(A)){var L=A.toArray();!A.sign&&128&L[0]&&L.unshift(0),A=new b(L)}if(b.isBuffer(A)){var z=A.length;0===A.length&&z++;var q=new b(z);return A.copy(q),0===A.length&&(q[0]=0),this._createEncoderBuffer(q)}if(A<128)return this._createEncoderBuffer(A);if(A<256)return this._createEncoderBuffer([0,A]);z=1;for(var ee=A;ee>=256;ee>>=8)z++;for(ee=(q=new Array(z)).length-1;ee>=0;ee--)q[ee]=255&A,A>>=8;return 128&q[0]&&q.unshift(0),this._createEncoderBuffer(new b(q))},S.prototype._encodeBool=function(A){return this._createEncoderBuffer(A?255:0)},S.prototype._use=function(A,G){return"function"==typeof A&&(A=A(G)),A._getEncoder("der").tree},S.prototype._skipDefault=function(A,G,L){var ee,z=this._baseState;if(null===z.default)return!1;var q=A.join();if(void 0===z.defaultBuffer&&(z.defaultBuffer=this._encodeValue(z.default,G,L).join()),q.length!==z.defaultBuffer.length)return!1;for(ee=0;ee<q.length;ee++)if(q[ee]!==z.defaultBuffer[ee])return!1;return!0}},22714:(Je,j,_)=>{var y=j;y.der=_(72193),y.pem=_(24816)},24816:(Je,j,_)=>{var y=_(71993),b=_(72193);function P(H){b.call(this,H),this.enc="pem"}y(P,b),Je.exports=P,P.prototype.encode=function(w,O){for(var B=b.prototype.encode.call(this,w).toString("base64"),N=["-----BEGIN "+O.label+"-----"],U=0;U<B.length;U+=64)N.push(B.slice(U,U+64));return N.push("-----END "+O.label+"-----"),N.join("\n")}},96867:function(Je,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(78982).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],Ce=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],be=8191&Fe,Ae=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],ue=8191&ne,De=ne>>>13,Be=0|p[6],Qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],vn=8191&rn,un=rn>>>13,sr=0|E[3],Cn=8191&sr,cn=sr>>>13,qt=0|E[4],bt=8191&qt,ut=qt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,ur=0|E[6],yt=8191&ur,_t=ur>>>13,xt=0|E[7],qe=8191&xt,tt=xt>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,zn=0|E[9],wn=8191&zn,Tn=zn>>>13;m.negative=a.negative^d.negative,m.length=19;var vr=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(vr>>>26)|0,vr&=67108863,x=Math.imul(Ce,Ne),s=(s=Math.imul(Ce,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var ir=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(Ce,It)|0,s=(s=s+Math.imul(Ce,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,vn)|0)|0)+((8191&(s=(s=s+Math.imul(F,un)|0)+Math.imul(Q,vn)|0))<<13)|0;R=((v=v+Math.imul(Q,un)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(be,Ne),s=(s=Math.imul(be,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(Ce,vn)|0,s=(s=s+Math.imul(Ce,un)|0)+Math.imul(Re,vn)|0,v=v+Math.imul(Re,un)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(be,It)|0,s=(s=s+Math.imul(be,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(Ee,vn)|0,s=(s=s+Math.imul(Ee,un)|0)+Math.imul(_e,vn)|0,v=v+Math.imul(_e,un)|0,x=x+Math.imul(Ce,Cn)|0,s=(s=s+Math.imul(Ce,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,bt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,bt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(ue,Ne),s=(s=Math.imul(ue,lt))+Math.imul(De,Ne)|0,v=Math.imul(De,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(be,vn)|0,s=(s=s+Math.imul(be,un)|0)+Math.imul(Ae,vn)|0,v=v+Math.imul(Ae,un)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(Ce,bt)|0,s=(s=s+Math.imul(Ce,ut)|0)+Math.imul(Re,bt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(Qe,Ne),s=(s=Math.imul(Qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(ue,It)|0,s=(s=s+Math.imul(ue,Kt)|0)+Math.imul(De,It)|0,v=v+Math.imul(De,Kt)|0,x=x+Math.imul(me,vn)|0,s=(s=s+Math.imul(me,un)|0)+Math.imul(te,vn)|0,v=v+Math.imul(te,un)|0,x=x+Math.imul(be,Cn)|0,s=(s=s+Math.imul(be,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(Ee,bt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,bt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(Ce,nn)|0,s=(s=s+Math.imul(Ce,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,_t)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,_t)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(Qe,It)|0,s=(s=s+Math.imul(Qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(ue,vn)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(De,vn)|0,v=v+Math.imul(De,un)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(be,bt)|0,s=(s=s+Math.imul(be,ut)|0)+Math.imul(Ae,bt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(Ce,yt)|0,s=(s=s+Math.imul(Ce,_t)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,_t)|0;var Zt=(R+(x=x+Math.imul(F,qe)|0)|0)+((8191&(s=(s=s+Math.imul(F,tt)|0)+Math.imul(Q,qe)|0))<<13)|0;R=((v=v+Math.imul(Q,tt)|0)+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(Qe,vn)|0,s=(s=s+Math.imul(Qe,un)|0)+Math.imul(ze,vn)|0,v=v+Math.imul(ze,un)|0,x=x+Math.imul(ue,Cn)|0,s=(s=s+Math.imul(ue,cn)|0)+Math.imul(De,Cn)|0,v=v+Math.imul(De,cn)|0,x=x+Math.imul(me,bt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,bt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(be,nn)|0,s=(s=s+Math.imul(be,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,_t)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,_t)|0,x=x+Math.imul(Ce,qe)|0,s=(s=s+Math.imul(Ce,tt)|0)+Math.imul(Re,qe)|0,v=v+Math.imul(Re,tt)|0;var xn=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(xn>>>26)|0,xn&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,vn)|0,s=(s=s+Math.imul(Xe,un)|0)+Math.imul(Ue,vn)|0,v=v+Math.imul(Ue,un)|0,x=x+Math.imul(Qe,Cn)|0,s=(s=s+Math.imul(Qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(ue,bt)|0,s=(s=s+Math.imul(ue,ut)|0)+Math.imul(De,bt)|0,v=v+Math.imul(De,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(be,yt)|0,s=(s=s+Math.imul(be,_t)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,_t)|0,x=x+Math.imul(Ee,qe)|0,s=(s=s+Math.imul(Ee,tt)|0)+Math.imul(_e,qe)|0,v=v+Math.imul(_e,tt)|0,x=x+Math.imul(Ce,Ft)|0,s=(s=s+Math.imul(Ce,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var Hn=(R+(x=x+Math.imul(F,wn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Tn)|0)+Math.imul(Q,wn)|0))<<13)|0;R=((v=v+Math.imul(Q,Tn)|0)+(s>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,vn)|0,s=(s=s+Math.imul(K,un)|0)+Math.imul(T,vn)|0,v=v+Math.imul(T,un)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(Qe,bt)|0,s=(s=s+Math.imul(Qe,ut)|0)+Math.imul(ze,bt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(ue,nn)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(De,nn)|0,v=v+Math.imul(De,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,_t)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,_t)|0,x=x+Math.imul(be,qe)|0,s=(s=s+Math.imul(be,tt)|0)+Math.imul(Ae,qe)|0,v=v+Math.imul(Ae,tt)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(Ce,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ce,Tn)|0)+Math.imul(Re,wn)|0))<<13)|0;R=((v=v+Math.imul(Re,Tn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,vn),s=(s=Math.imul(Y,un))+Math.imul(pe,vn)|0,v=Math.imul(pe,un),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,bt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,bt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(Qe,nn)|0,s=(s=s+Math.imul(Qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(ue,yt)|0,s=(s=s+Math.imul(ue,_t)|0)+Math.imul(De,yt)|0,v=v+Math.imul(De,_t)|0,x=x+Math.imul(me,qe)|0,s=(s=s+Math.imul(me,tt)|0)+Math.imul(te,qe)|0,v=v+Math.imul(te,tt)|0,x=x+Math.imul(be,Ft)|0,s=(s=s+Math.imul(be,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var hr=(R+(x=x+Math.imul(Ee,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Tn)|0)+Math.imul(_e,wn)|0))<<13)|0;R=((v=v+Math.imul(_e,Tn)|0)+(s>>>13)|0)+(hr>>>26)|0,hr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,bt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,bt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(Qe,yt)|0,s=(s=s+Math.imul(Qe,_t)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,_t)|0,x=x+Math.imul(ue,qe)|0,s=(s=s+Math.imul(ue,tt)|0)+Math.imul(De,qe)|0,v=v+Math.imul(De,tt)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Nr=(R+(x=x+Math.imul(be,wn)|0)|0)+((8191&(s=(s=s+Math.imul(be,Tn)|0)+Math.imul(Ae,wn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Tn)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(Y,bt),s=(s=Math.imul(Y,ut))+Math.imul(pe,bt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,_t)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,_t)|0,x=x+Math.imul(Qe,qe)|0,s=(s=s+Math.imul(Qe,tt)|0)+Math.imul(ze,qe)|0,v=v+Math.imul(ze,tt)|0,x=x+Math.imul(ue,Ft)|0,s=(s=s+Math.imul(ue,mn)|0)+Math.imul(De,Ft)|0,v=v+Math.imul(De,mn)|0;var Cr=(R+(x=x+Math.imul(me,wn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Tn)|0)+Math.imul(te,wn)|0))<<13)|0;R=((v=v+Math.imul(te,Tn)|0)+(s>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,_t)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,_t)|0,x=x+Math.imul(Xe,qe)|0,s=(s=s+Math.imul(Xe,tt)|0)+Math.imul(Ue,qe)|0,v=v+Math.imul(Ue,tt)|0,x=x+Math.imul(Qe,Ft)|0,s=(s=s+Math.imul(Qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Ur=(R+(x=x+Math.imul(ue,wn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,Tn)|0)+Math.imul(De,wn)|0))<<13)|0;R=((v=v+Math.imul(De,Tn)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,_t))+Math.imul(pe,yt)|0,v=Math.imul(pe,_t),x=x+Math.imul(K,qe)|0,s=(s=s+Math.imul(K,tt)|0)+Math.imul(T,qe)|0,v=v+Math.imul(T,tt)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Lr=(R+(x=x+Math.imul(Qe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Qe,Tn)|0)+Math.imul(ze,wn)|0))<<13)|0;R=((v=v+Math.imul(ze,Tn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,qe),s=(s=Math.imul(Y,tt))+Math.imul(pe,qe)|0,v=Math.imul(pe,tt),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var oi=(R+(x=x+Math.imul(Xe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Tn)|0)+Math.imul(Ue,wn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Tn)|0)+(s>>>13)|0)+(oi>>>26)|0,oi&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,wn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Tn)|0)+Math.imul(T,wn)|0))<<13)|0;R=((v=v+Math.imul(T,Tn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var _n=(R+(x=Math.imul(Y,wn))|0)+((8191&(s=(s=Math.imul(Y,Tn))+Math.imul(pe,wn)|0))<<13)|0;return R=((v=Math.imul(pe,Tn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,D[0]=vr,D[1]=ir,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Zt,D[8]=xn,D[9]=Hn,D[10]=er,D[11]=hr,D[12]=Nr,D[13]=Cr,D[14]=Ur,D[15]=Lr,D[16]=oi,D[17]=on,D[18]=_n,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var Ce=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=Ce+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=Ce-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var Ce=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=Ce}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,Ce=0;0!==de.cmp(D);Ce++)de=de.redSqr();P(Ce<Q);var Re=this.pow(v,new w(1).iushln(Q-Ce-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=Ce}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Je=_.nmd(Je),this)},13981:(Je,j)=>{"use strict";j.byteLength=function S(L){var z=O(L),q=z[1];return 3*(z[0]+q)/4-q},j.toByteArray=function N(L){var z,ae,ee=O(L),q=ee[0],Z=ee[1],J=new b(function B(L,z,ee){return 3*(z+ee)/4-ee}(0,q,Z)),se=0,ce=Z>0?q-4:q;for(ae=0;ae<ce;ae+=4)z=y[L.charCodeAt(ae)]<<18|y[L.charCodeAt(ae+1)]<<12|y[L.charCodeAt(ae+2)]<<6|y[L.charCodeAt(ae+3)],J[se++]=z>>16&255,J[se++]=z>>8&255,J[se++]=255&z;return 2===Z&&(z=y[L.charCodeAt(ae)]<<2|y[L.charCodeAt(ae+1)]>>4,J[se++]=255&z),1===Z&&(z=y[L.charCodeAt(ae)]<<10|y[L.charCodeAt(ae+1)]<<4|y[L.charCodeAt(ae+2)]>>2,J[se++]=z>>8&255,J[se++]=255&z),J},j.fromByteArray=function G(L){for(var z,ee=L.length,q=ee%3,Z=[],J=16383,se=0,ce=ee-q;se<ce;se+=J)Z.push(A(L,se,se+J>ce?ce:se+J));return 1===q?Z.push(_[(z=L[ee-1])>>2]+_[z<<4&63]+"=="):2===q&&Z.push(_[(z=(L[ee-2]<<8)+L[ee-1])>>10]+_[z>>4&63]+_[z<<2&63]+"="),Z.join("")};for(var _=[],y=[],b=typeof Uint8Array<"u"?Uint8Array:Array,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=0;H<64;++H)_[H]=P[H],y[P.charCodeAt(H)]=H;function O(L){var z=L.length;if(z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ee=L.indexOf("=");return-1===ee&&(ee=z),[ee,ee===z?0:4-ee%4]}function U(L){return _[L>>18&63]+_[L>>12&63]+_[L>>6&63]+_[63&L]}function A(L,z,ee){for(var Z=[],J=z;J<ee;J+=3)Z.push(U((L[J]<<16&16711680)+(L[J+1]<<8&65280)+(255&L[J+2])));return Z.join("")}y[45]=62,y[95]=63},917:function(Je,j,_){!function(y,b){"use strict";function P(m,p){if(!m)throw new Error(p||"Assertion failed")}function H(m,p){m.super_=p;var E=function(){};E.prototype=p.prototype,m.prototype=new E,m.prototype.constructor=m}function w(m,p,E){if(w.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,null!==m&&(("le"===p||"be"===p)&&(E=p,p=10),this._init(m||0,p||10,E||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(47790).Buffer}catch{}function S(m,p){var E=m.charCodeAt(p);return E>=48&&E<=57?E-48:E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:void P(!1,"Invalid character in "+m)}function B(m,p,E){var D=S(m,E);return E-1>=p&&(D|=S(m,E-1)<<4),D}function N(m,p,E,D){for(var R=0,x=0,s=Math.min(m.length,E),v=p;v<s;v++){var $=m.charCodeAt(v)-48;R*=D,x=$>=49?$-49+10:$>=17?$-17+10:$,P($>=0&&x<D,"Invalid character"),R+=x}return R}function U(m,p){m.words=p.words,m.length=p.length,m.negative=p.negative,m.red=p.red}if(w.isBN=function(p){return p instanceof w||null!==p&&"object"==typeof p&&p.constructor.wordSize===w.wordSize&&Array.isArray(p.words)},w.max=function(p,E){return p.cmp(E)>0?p:E},w.min=function(p,E){return p.cmp(E)<0?p:E},w.prototype._init=function(p,E,D){if("number"==typeof p)return this._initNumber(p,E,D);if("object"==typeof p)return this._initArray(p,E,D);"hex"===E&&(E=16),P(E===(0|E)&&E>=2&&E<=36);var R=0;"-"===(p=p.toString().replace(/\s+/g,""))[0]&&(R++,this.negative=1),R<p.length&&(16===E?this._parseHex(p,R,D):(this._parseBase(p,E,R),"le"===D&&this._initArray(this.toArray(),E,D)))},w.prototype._initNumber=function(p,E,D){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[67108863&p],this.length=1):p<4503599627370496?(this.words=[67108863&p,p/67108864&67108863],this.length=2):(P(p<9007199254740992),this.words=[67108863&p,p/67108864&67108863,1],this.length=3),"le"===D&&this._initArray(this.toArray(),E,D)},w.prototype._initArray=function(p,E,D){if(P("number"==typeof p.length),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var x,s,v=0;if("be"===D)for(R=p.length-1,x=0;R>=0;R-=3)this.words[x]|=(s=p[R]|p[R-1]<<8|p[R-2]<<16)<<v&67108863,this.words[x+1]=s>>>26-v&67108863,(v+=24)>=26&&(v-=26,x++);else if("le"===D)for(R=0,x=0;R<p.length;R+=3)this.words[x]|=(s=p[R]|p[R+1]<<8|p[R+2]<<16)<<v&67108863,this.words[x+1]=s>>>26-v&67108863,(v+=24)>=26&&(v-=26,x++);return this._strip()},w.prototype._parseHex=function(p,E,D){this.length=Math.ceil((p.length-E)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var v,x=0,s=0;if("be"===D)for(R=p.length-1;R>=E;R-=2)v=B(p,E,R)<<x,this.words[s]|=67108863&v,x>=18?(x-=18,this.words[s+=1]|=v>>>26):x+=8;else for(R=(p.length-E)%2==0?E+1:E;R<p.length;R+=2)v=B(p,E,R)<<x,this.words[s]|=67108863&v,x>=18?(x-=18,this.words[s+=1]|=v>>>26):x+=8;this._strip()},w.prototype._parseBase=function(p,E,D){this.words=[0],this.length=1;for(var R=0,x=1;x<=67108863;x*=E)R++;R--,x=x/E|0;for(var s=p.length-D,v=s%R,$=Math.min(s,s-v)+D,F=0,Q=D;Q<$;Q+=R)F=N(p,Q,Q+R,E),this.imuln(x),this.words[0]+F<67108864?this.words[0]+=F:this._iaddn(F);if(0!==v){var de=1;for(F=N(p,Q,p.length,E),Q=0;Q<v;Q++)de*=E;this.imuln(de),this.words[0]+F<67108864?this.words[0]+=F:this._iaddn(F)}this._strip()},w.prototype.copy=function(p){p.words=new Array(this.length);for(var E=0;E<this.length;E++)p.words[E]=this.words[E];p.length=this.length,p.negative=this.negative,p.red=this.red},w.prototype._move=function(p){U(p,this)},w.prototype.clone=function(){var p=new w(null);return this.copy(p),p},w.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},w.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{w.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{w.prototype.inspect=A}else w.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var G=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],L=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(m,p,E){E.negative=p.negative^m.negative;var D=m.length+p.length|0;E.length=D,D=D-1|0;var R=0|m.words[0],x=0|p.words[0],s=R*x,$=s/67108864|0;E.words[0]=67108863&s;for(var F=1;F<D;F++){for(var Q=$>>>26,de=67108863&$,Ce=Math.min(F,p.length-1),Re=Math.max(0,F-m.length+1);Re<=Ce;Re++)Q+=(s=(R=0|m.words[F-Re|0])*(x=0|p.words[Re])+de)/67108864|0,de=67108863&s;E.words[F]=0|de,$=0|Q}return 0!==$?E.words[F]=0|$:E.length--,E._strip()}w.prototype.toString=function(p,E){var D;if(E=0|E||1,16===(p=p||10)||"hex"===p){D="";for(var R=0,x=0,s=0;s<this.length;s++){var v=this.words[s],$=(16777215&(v<<R|x)).toString(16);x=v>>>24-R&16777215,(R+=2)>=26&&(R-=26,s--),D=0!==x||s!==this.length-1?G[6-$.length]+$+D:$+D}for(0!==x&&(D=x.toString(16)+D);D.length%E!=0;)D="0"+D;return 0!==this.negative&&(D="-"+D),D}if(p===(0|p)&&p>=2&&p<=36){var F=L[p],Q=z[p];D="";var de=this.clone();for(de.negative=0;!de.isZero();){var Ce=de.modrn(Q).toString(p);D=(de=de.idivn(Q)).isZero()?Ce+D:G[F-Ce.length]+Ce+D}for(this.isZero()&&(D="0"+D);D.length%E!=0;)D="0"+D;return 0!==this.negative&&(D="-"+D),D}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var p=this.words[0];return 2===this.length?p+=67108864*this.words[1]:3===this.length&&1===this.words[2]?p+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-p:p},w.prototype.toJSON=function(){return this.toString(16,2)},O&&(w.prototype.toBuffer=function(p,E){return this.toArrayLike(O,p,E)}),w.prototype.toArray=function(p,E){return this.toArrayLike(Array,p,E)},w.prototype.toArrayLike=function(p,E,D){this._strip();var R=this.byteLength(),x=D||Math.max(1,R);P(R<=x,"byte array longer than desired length"),P(x>0,"Requested array length <= 0");var s=function(p,E){return p.allocUnsafe?p.allocUnsafe(E):new p(E)}(p,x);return this["_toArrayLike"+("le"===E?"LE":"BE")](s,R),s},w.prototype._toArrayLikeLE=function(p,E){for(var D=0,R=0,x=0,s=0;x<this.length;x++){var v=this.words[x]<<s|R;p[D++]=255&v,D<p.length&&(p[D++]=v>>8&255),D<p.length&&(p[D++]=v>>16&255),6===s?(D<p.length&&(p[D++]=v>>24&255),R=0,s=0):(R=v>>>24,s+=2)}if(D<p.length)for(p[D++]=R;D<p.length;)p[D++]=0},w.prototype._toArrayLikeBE=function(p,E){for(var D=p.length-1,R=0,x=0,s=0;x<this.length;x++){var v=this.words[x]<<s|R;p[D--]=255&v,D>=0&&(p[D--]=v>>8&255),D>=0&&(p[D--]=v>>16&255),6===s?(D>=0&&(p[D--]=v>>24&255),R=0,s=0):(R=v>>>24,s+=2)}if(D>=0)for(p[D--]=R;D>=0;)p[D--]=0},w.prototype._countBits=Math.clz32?function(p){return 32-Math.clz32(p)}:function(p){var E=p,D=0;return E>=4096&&(D+=13,E>>>=13),E>=64&&(D+=7,E>>>=7),E>=8&&(D+=4,E>>>=4),E>=2&&(D+=2,E>>>=2),D+E},w.prototype._zeroBits=function(p){if(0===p)return 26;var E=p,D=0;return 8191&E||(D+=13,E>>>=13),127&E||(D+=7,E>>>=7),15&E||(D+=4,E>>>=4),3&E||(D+=2,E>>>=2),1&E||D++,D},w.prototype.bitLength=function(){var E=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+E},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,E=0;E<this.length;E++){var D=this._zeroBits(this.words[E]);if(p+=D,26!==D)break}return p},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(p){return 0!==this.negative?this.abs().inotn(p).iaddn(1):this.clone()},w.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var E=0;E<p.length;E++)this.words[E]=this.words[E]|p.words[E];return this._strip()},w.prototype.ior=function(p){return P(!(this.negative|p.negative)),this.iuor(p)},w.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},w.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},w.prototype.iuand=function(p){var E;E=this.length>p.length?p:this;for(var D=0;D<E.length;D++)this.words[D]=this.words[D]&p.words[D];return this.length=E.length,this._strip()},w.prototype.iand=function(p){return P(!(this.negative|p.negative)),this.iuand(p)},w.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},w.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},w.prototype.iuxor=function(p){var E,D;this.length>p.length?(E=this,D=p):(E=p,D=this);for(var R=0;R<D.length;R++)this.words[R]=E.words[R]^D.words[R];if(this!==E)for(;R<E.length;R++)this.words[R]=E.words[R];return this.length=E.length,this._strip()},w.prototype.ixor=function(p){return P(!(this.negative|p.negative)),this.iuxor(p)},w.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},w.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},w.prototype.inotn=function(p){P("number"==typeof p&&p>=0);var E=0|Math.ceil(p/26),D=p%26;this._expand(E),D>0&&E--;for(var R=0;R<E;R++)this.words[R]=67108863&~this.words[R];return D>0&&(this.words[R]=~this.words[R]&67108863>>26-D),this._strip()},w.prototype.notn=function(p){return this.clone().inotn(p)},w.prototype.setn=function(p,E){P("number"==typeof p&&p>=0);var D=p/26|0,R=p%26;return this._expand(D+1),this.words[D]=E?this.words[D]|1<<R:this.words[D]&~(1<<R),this._strip()},w.prototype.iadd=function(p){var E,D,R;if(0!==this.negative&&0===p.negative)return this.negative=0,E=this.isub(p),this.negative^=1,this._normSign();if(0===this.negative&&0!==p.negative)return p.negative=0,E=this.isub(p),p.negative=1,E._normSign();this.length>p.length?(D=this,R=p):(D=p,R=this);for(var x=0,s=0;s<R.length;s++)this.words[s]=67108863&(E=(0|D.words[s])+(0|R.words[s])+x),x=E>>>26;for(;0!==x&&s<D.length;s++)this.words[s]=67108863&(E=(0|D.words[s])+x),x=E>>>26;if(this.length=D.length,0!==x)this.words[this.length]=x,this.length++;else if(D!==this)for(;s<D.length;s++)this.words[s]=D.words[s];return this},w.prototype.add=function(p){var E;return 0!==p.negative&&0===this.negative?(p.negative=0,E=this.sub(p),p.negative^=1,E):0===p.negative&&0!==this.negative?(this.negative=0,E=p.sub(this),this.negative=1,E):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},w.prototype.isub=function(p){if(0!==p.negative){p.negative=0;var E=this.iadd(p);return p.negative=1,E._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var R,x,D=this.cmp(p);if(0===D)return this.negative=0,this.length=1,this.words[0]=0,this;D>0?(R=this,x=p):(R=p,x=this);for(var s=0,v=0;v<x.length;v++)s=(E=(0|R.words[v])-(0|x.words[v])+s)>>26,this.words[v]=67108863&E;for(;0!==s&&v<R.length;v++)s=(E=(0|R.words[v])+s)>>26,this.words[v]=67108863&E;if(0===s&&v<R.length&&R!==this)for(;v<R.length;v++)this.words[v]=R.words[v];return this.length=Math.max(this.length,v),R!==this&&(this.negative=1),this._strip()},w.prototype.sub=function(p){return this.clone().isub(p)};var J=function(p,E,D){var $,F,Q,R=p.words,x=E.words,s=D.words,v=0,de=0|R[0],Ce=8191&de,Re=de>>>13,Ve=0|R[1],Ee=8191&Ve,_e=Ve>>>13,Fe=0|R[2],be=8191&Fe,Ae=Fe>>>13,ge=0|R[3],me=8191&ge,te=ge>>>13,ne=0|R[4],ue=8191&ne,De=ne>>>13,Be=0|R[5],Qe=8191&Be,ze=Be>>>13,Dt=0|R[6],Xe=8191&Dt,Ue=Dt>>>13,mt=0|R[7],K=8191&mt,T=mt>>>13,M=0|R[8],Y=8191&M,pe=M>>>13,ke=0|R[9],Ne=8191&ke,lt=ke>>>13,en=0|x[0],It=8191&en,Kt=en>>>13,rn=0|x[1],vn=8191&rn,un=rn>>>13,sr=0|x[2],Cn=8191&sr,cn=sr>>>13,qt=0|x[3],bt=8191&qt,ut=qt>>>13,Gt=0|x[4],nn=8191&Gt,pn=Gt>>>13,ur=0|x[5],yt=8191&ur,_t=ur>>>13,xt=0|x[6],qe=8191&xt,tt=xt>>>13,Wt=0|x[7],Ft=8191&Wt,mn=Wt>>>13,zn=0|x[8],wn=8191&zn,Tn=zn>>>13,vr=0|x[9],ir=8191&vr,Nn=vr>>>13;D.negative=p.negative^E.negative,D.length=19;var Ln=(v+($=Math.imul(Ce,It))|0)+((8191&(F=(F=Math.imul(Ce,Kt))+Math.imul(Re,It)|0))<<13)|0;v=((Q=Math.imul(Re,Kt))+(F>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,$=Math.imul(Ee,It),F=(F=Math.imul(Ee,Kt))+Math.imul(_e,It)|0,Q=Math.imul(_e,Kt);var at=(v+($=$+Math.imul(Ce,vn)|0)|0)+((8191&(F=(F=F+Math.imul(Ce,un)|0)+Math.imul(Re,vn)|0))<<13)|0;v=((Q=Q+Math.imul(Re,un)|0)+(F>>>13)|0)+(at>>>26)|0,at&=67108863,$=Math.imul(be,It),F=(F=Math.imul(be,Kt))+Math.imul(Ae,It)|0,Q=Math.imul(Ae,Kt),$=$+Math.imul(Ee,vn)|0,F=(F=F+Math.imul(Ee,un)|0)+Math.imul(_e,vn)|0,Q=Q+Math.imul(_e,un)|0;var He=(v+($=$+Math.imul(Ce,Cn)|0)|0)+((8191&(F=(F=F+Math.imul(Ce,cn)|0)+Math.imul(Re,Cn)|0))<<13)|0;v=((Q=Q+Math.imul(Re,cn)|0)+(F>>>13)|0)+(He>>>26)|0,He&=67108863,$=Math.imul(me,It),F=(F=Math.imul(me,Kt))+Math.imul(te,It)|0,Q=Math.imul(te,Kt),$=$+Math.imul(be,vn)|0,F=(F=F+Math.imul(be,un)|0)+Math.imul(Ae,vn)|0,Q=Q+Math.imul(Ae,un)|0,$=$+Math.imul(Ee,Cn)|0,F=(F=F+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,Q=Q+Math.imul(_e,cn)|0;var ct=(v+($=$+Math.imul(Ce,bt)|0)|0)+((8191&(F=(F=F+Math.imul(Ce,ut)|0)+Math.imul(Re,bt)|0))<<13)|0;v=((Q=Q+Math.imul(Re,ut)|0)+(F>>>13)|0)+(ct>>>26)|0,ct&=67108863,$=Math.imul(ue,It),F=(F=Math.imul(ue,Kt))+Math.imul(De,It)|0,Q=Math.imul(De,Kt),$=$+Math.imul(me,vn)|0,F=(F=F+Math.imul(me,un)|0)+Math.imul(te,vn)|0,Q=Q+Math.imul(te,un)|0,$=$+Math.imul(be,Cn)|0,F=(F=F+Math.imul(be,cn)|0)+Math.imul(Ae,Cn)|0,Q=Q+Math.imul(Ae,cn)|0,$=$+Math.imul(Ee,bt)|0,F=(F=F+Math.imul(Ee,ut)|0)+Math.imul(_e,bt)|0,Q=Q+Math.imul(_e,ut)|0;var Zt=(v+($=$+Math.imul(Ce,nn)|0)|0)+((8191&(F=(F=F+Math.imul(Ce,pn)|0)+Math.imul(Re,nn)|0))<<13)|0;v=((Q=Q+Math.imul(Re,pn)|0)+(F>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,$=Math.imul(Qe,It),F=(F=Math.imul(Qe,Kt))+Math.imul(ze,It)|0,Q=Math.imul(ze,Kt),$=$+Math.imul(ue,vn)|0,F=(F=F+Math.imul(ue,un)|0)+Math.imul(De,vn)|0,Q=Q+Math.imul(De,un)|0,$=$+Math.imul(me,Cn)|0,F=(F=F+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,Q=Q+Math.imul(te,cn)|0,$=$+Math.imul(be,bt)|0,F=(F=F+Math.imul(be,ut)|0)+Math.imul(Ae,bt)|0,Q=Q+Math.imul(Ae,ut)|0,$=$+Math.imul(Ee,nn)|0,F=(F=F+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,Q=Q+Math.imul(_e,pn)|0;var xn=(v+($=$+Math.imul(Ce,yt)|0)|0)+((8191&(F=(F=F+Math.imul(Ce,_t)|0)+Math.imul(Re,yt)|0))<<13)|0;v=((Q=Q+Math.imul(Re,_t)|0)+(F>>>13)|0)+(xn>>>26)|0,xn&=67108863,$=Math.imul(Xe,It),F=(F=Math.imul(Xe,Kt))+Math.imul(Ue,It)|0,Q=Math.imul(Ue,Kt),$=$+Math.imul(Qe,vn)|0,F=(F=F+Math.imul(Qe,un)|0)+Math.imul(ze,vn)|0,Q=Q+Math.imul(ze,un)|0,$=$+Math.imul(ue,Cn)|0,F=(F=F+Math.imul(ue,cn)|0)+Math.imul(De,Cn)|0,Q=Q+Math.imul(De,cn)|0,$=$+Math.imul(me,bt)|0,F=(F=F+Math.imul(me,ut)|0)+Math.imul(te,bt)|0,Q=Q+Math.imul(te,ut)|0,$=$+Math.imul(be,nn)|0,F=(F=F+Math.imul(be,pn)|0)+Math.imul(Ae,nn)|0,Q=Q+Math.imul(Ae,pn)|0,$=$+Math.imul(Ee,yt)|0,F=(F=F+Math.imul(Ee,_t)|0)+Math.imul(_e,yt)|0,Q=Q+Math.imul(_e,_t)|0;var Hn=(v+($=$+Math.imul(Ce,qe)|0)|0)+((8191&(F=(F=F+Math.imul(Ce,tt)|0)+Math.imul(Re,qe)|0))<<13)|0;v=((Q=Q+Math.imul(Re,tt)|0)+(F>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,$=Math.imul(K,It),F=(F=Math.imul(K,Kt))+Math.imul(T,It)|0,Q=Math.imul(T,Kt),$=$+Math.imul(Xe,vn)|0,F=(F=F+Math.imul(Xe,un)|0)+Math.imul(Ue,vn)|0,Q=Q+Math.imul(Ue,un)|0,$=$+Math.imul(Qe,Cn)|0,F=(F=F+Math.imul(Qe,cn)|0)+Math.imul(ze,Cn)|0,Q=Q+Math.imul(ze,cn)|0,$=$+Math.imul(ue,bt)|0,F=(F=F+Math.imul(ue,ut)|0)+Math.imul(De,bt)|0,Q=Q+Math.imul(De,ut)|0,$=$+Math.imul(me,nn)|0,F=(F=F+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,Q=Q+Math.imul(te,pn)|0,$=$+Math.imul(be,yt)|0,F=(F=F+Math.imul(be,_t)|0)+Math.imul(Ae,yt)|0,Q=Q+Math.imul(Ae,_t)|0,$=$+Math.imul(Ee,qe)|0,F=(F=F+Math.imul(Ee,tt)|0)+Math.imul(_e,qe)|0,Q=Q+Math.imul(_e,tt)|0;var er=(v+($=$+Math.imul(Ce,Ft)|0)|0)+((8191&(F=(F=F+Math.imul(Ce,mn)|0)+Math.imul(Re,Ft)|0))<<13)|0;v=((Q=Q+Math.imul(Re,mn)|0)+(F>>>13)|0)+(er>>>26)|0,er&=67108863,$=Math.imul(Y,It),F=(F=Math.imul(Y,Kt))+Math.imul(pe,It)|0,Q=Math.imul(pe,Kt),$=$+Math.imul(K,vn)|0,F=(F=F+Math.imul(K,un)|0)+Math.imul(T,vn)|0,Q=Q+Math.imul(T,un)|0,$=$+Math.imul(Xe,Cn)|0,F=(F=F+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,Q=Q+Math.imul(Ue,cn)|0,$=$+Math.imul(Qe,bt)|0,F=(F=F+Math.imul(Qe,ut)|0)+Math.imul(ze,bt)|0,Q=Q+Math.imul(ze,ut)|0,$=$+Math.imul(ue,nn)|0,F=(F=F+Math.imul(ue,pn)|0)+Math.imul(De,nn)|0,Q=Q+Math.imul(De,pn)|0,$=$+Math.imul(me,yt)|0,F=(F=F+Math.imul(me,_t)|0)+Math.imul(te,yt)|0,Q=Q+Math.imul(te,_t)|0,$=$+Math.imul(be,qe)|0,F=(F=F+Math.imul(be,tt)|0)+Math.imul(Ae,qe)|0,Q=Q+Math.imul(Ae,tt)|0,$=$+Math.imul(Ee,Ft)|0,F=(F=F+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,Q=Q+Math.imul(_e,mn)|0;var hr=(v+($=$+Math.imul(Ce,wn)|0)|0)+((8191&(F=(F=F+Math.imul(Ce,Tn)|0)+Math.imul(Re,wn)|0))<<13)|0;v=((Q=Q+Math.imul(Re,Tn)|0)+(F>>>13)|0)+(hr>>>26)|0,hr&=67108863,$=Math.imul(Ne,It),F=(F=Math.imul(Ne,Kt))+Math.imul(lt,It)|0,Q=Math.imul(lt,Kt),$=$+Math.imul(Y,vn)|0,F=(F=F+Math.imul(Y,un)|0)+Math.imul(pe,vn)|0,Q=Q+Math.imul(pe,un)|0,$=$+Math.imul(K,Cn)|0,F=(F=F+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,Q=Q+Math.imul(T,cn)|0,$=$+Math.imul(Xe,bt)|0,F=(F=F+Math.imul(Xe,ut)|0)+Math.imul(Ue,bt)|0,Q=Q+Math.imul(Ue,ut)|0,$=$+Math.imul(Qe,nn)|0,F=(F=F+Math.imul(Qe,pn)|0)+Math.imul(ze,nn)|0,Q=Q+Math.imul(ze,pn)|0,$=$+Math.imul(ue,yt)|0,F=(F=F+Math.imul(ue,_t)|0)+Math.imul(De,yt)|0,Q=Q+Math.imul(De,_t)|0,$=$+Math.imul(me,qe)|0,F=(F=F+Math.imul(me,tt)|0)+Math.imul(te,qe)|0,Q=Q+Math.imul(te,tt)|0,$=$+Math.imul(be,Ft)|0,F=(F=F+Math.imul(be,mn)|0)+Math.imul(Ae,Ft)|0,Q=Q+Math.imul(Ae,mn)|0,$=$+Math.imul(Ee,wn)|0,F=(F=F+Math.imul(Ee,Tn)|0)+Math.imul(_e,wn)|0,Q=Q+Math.imul(_e,Tn)|0;var Nr=(v+($=$+Math.imul(Ce,ir)|0)|0)+((8191&(F=(F=F+Math.imul(Ce,Nn)|0)+Math.imul(Re,ir)|0))<<13)|0;v=((Q=Q+Math.imul(Re,Nn)|0)+(F>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,$=Math.imul(Ne,vn),F=(F=Math.imul(Ne,un))+Math.imul(lt,vn)|0,Q=Math.imul(lt,un),$=$+Math.imul(Y,Cn)|0,F=(F=F+Math.imul(Y,cn)|0)+Math.imul(pe,Cn)|0,Q=Q+Math.imul(pe,cn)|0,$=$+Math.imul(K,bt)|0,F=(F=F+Math.imul(K,ut)|0)+Math.imul(T,bt)|0,Q=Q+Math.imul(T,ut)|0,$=$+Math.imul(Xe,nn)|0,F=(F=F+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,Q=Q+Math.imul(Ue,pn)|0,$=$+Math.imul(Qe,yt)|0,F=(F=F+Math.imul(Qe,_t)|0)+Math.imul(ze,yt)|0,Q=Q+Math.imul(ze,_t)|0,$=$+Math.imul(ue,qe)|0,F=(F=F+Math.imul(ue,tt)|0)+Math.imul(De,qe)|0,Q=Q+Math.imul(De,tt)|0,$=$+Math.imul(me,Ft)|0,F=(F=F+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,Q=Q+Math.imul(te,mn)|0,$=$+Math.imul(be,wn)|0,F=(F=F+Math.imul(be,Tn)|0)+Math.imul(Ae,wn)|0,Q=Q+Math.imul(Ae,Tn)|0;var Cr=(v+($=$+Math.imul(Ee,ir)|0)|0)+((8191&(F=(F=F+Math.imul(Ee,Nn)|0)+Math.imul(_e,ir)|0))<<13)|0;v=((Q=Q+Math.imul(_e,Nn)|0)+(F>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,$=Math.imul(Ne,Cn),F=(F=Math.imul(Ne,cn))+Math.imul(lt,Cn)|0,Q=Math.imul(lt,cn),$=$+Math.imul(Y,bt)|0,F=(F=F+Math.imul(Y,ut)|0)+Math.imul(pe,bt)|0,Q=Q+Math.imul(pe,ut)|0,$=$+Math.imul(K,nn)|0,F=(F=F+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,Q=Q+Math.imul(T,pn)|0,$=$+Math.imul(Xe,yt)|0,F=(F=F+Math.imul(Xe,_t)|0)+Math.imul(Ue,yt)|0,Q=Q+Math.imul(Ue,_t)|0,$=$+Math.imul(Qe,qe)|0,F=(F=F+Math.imul(Qe,tt)|0)+Math.imul(ze,qe)|0,Q=Q+Math.imul(ze,tt)|0,$=$+Math.imul(ue,Ft)|0,F=(F=F+Math.imul(ue,mn)|0)+Math.imul(De,Ft)|0,Q=Q+Math.imul(De,mn)|0,$=$+Math.imul(me,wn)|0,F=(F=F+Math.imul(me,Tn)|0)+Math.imul(te,wn)|0,Q=Q+Math.imul(te,Tn)|0;var Ur=(v+($=$+Math.imul(be,ir)|0)|0)+((8191&(F=(F=F+Math.imul(be,Nn)|0)+Math.imul(Ae,ir)|0))<<13)|0;v=((Q=Q+Math.imul(Ae,Nn)|0)+(F>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,$=Math.imul(Ne,bt),F=(F=Math.imul(Ne,ut))+Math.imul(lt,bt)|0,Q=Math.imul(lt,ut),$=$+Math.imul(Y,nn)|0,F=(F=F+Math.imul(Y,pn)|0)+Math.imul(pe,nn)|0,Q=Q+Math.imul(pe,pn)|0,$=$+Math.imul(K,yt)|0,F=(F=F+Math.imul(K,_t)|0)+Math.imul(T,yt)|0,Q=Q+Math.imul(T,_t)|0,$=$+Math.imul(Xe,qe)|0,F=(F=F+Math.imul(Xe,tt)|0)+Math.imul(Ue,qe)|0,Q=Q+Math.imul(Ue,tt)|0,$=$+Math.imul(Qe,Ft)|0,F=(F=F+Math.imul(Qe,mn)|0)+Math.imul(ze,Ft)|0,Q=Q+Math.imul(ze,mn)|0,$=$+Math.imul(ue,wn)|0,F=(F=F+Math.imul(ue,Tn)|0)+Math.imul(De,wn)|0,Q=Q+Math.imul(De,Tn)|0;var Lr=(v+($=$+Math.imul(me,ir)|0)|0)+((8191&(F=(F=F+Math.imul(me,Nn)|0)+Math.imul(te,ir)|0))<<13)|0;v=((Q=Q+Math.imul(te,Nn)|0)+(F>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,$=Math.imul(Ne,nn),F=(F=Math.imul(Ne,pn))+Math.imul(lt,nn)|0,Q=Math.imul(lt,pn),$=$+Math.imul(Y,yt)|0,F=(F=F+Math.imul(Y,_t)|0)+Math.imul(pe,yt)|0,Q=Q+Math.imul(pe,_t)|0,$=$+Math.imul(K,qe)|0,F=(F=F+Math.imul(K,tt)|0)+Math.imul(T,qe)|0,Q=Q+Math.imul(T,tt)|0,$=$+Math.imul(Xe,Ft)|0,F=(F=F+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,Q=Q+Math.imul(Ue,mn)|0,$=$+Math.imul(Qe,wn)|0,F=(F=F+Math.imul(Qe,Tn)|0)+Math.imul(ze,wn)|0,Q=Q+Math.imul(ze,Tn)|0;var oi=(v+($=$+Math.imul(ue,ir)|0)|0)+((8191&(F=(F=F+Math.imul(ue,Nn)|0)+Math.imul(De,ir)|0))<<13)|0;v=((Q=Q+Math.imul(De,Nn)|0)+(F>>>13)|0)+(oi>>>26)|0,oi&=67108863,$=Math.imul(Ne,yt),F=(F=Math.imul(Ne,_t))+Math.imul(lt,yt)|0,Q=Math.imul(lt,_t),$=$+Math.imul(Y,qe)|0,F=(F=F+Math.imul(Y,tt)|0)+Math.imul(pe,qe)|0,Q=Q+Math.imul(pe,tt)|0,$=$+Math.imul(K,Ft)|0,F=(F=F+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,Q=Q+Math.imul(T,mn)|0,$=$+Math.imul(Xe,wn)|0,F=(F=F+Math.imul(Xe,Tn)|0)+Math.imul(Ue,wn)|0,Q=Q+Math.imul(Ue,Tn)|0;var on=(v+($=$+Math.imul(Qe,ir)|0)|0)+((8191&(F=(F=F+Math.imul(Qe,Nn)|0)+Math.imul(ze,ir)|0))<<13)|0;v=((Q=Q+Math.imul(ze,Nn)|0)+(F>>>13)|0)+(on>>>26)|0,on&=67108863,$=Math.imul(Ne,qe),F=(F=Math.imul(Ne,tt))+Math.imul(lt,qe)|0,Q=Math.imul(lt,tt),$=$+Math.imul(Y,Ft)|0,F=(F=F+Math.imul(Y,mn)|0)+Math.imul(pe,Ft)|0,Q=Q+Math.imul(pe,mn)|0,$=$+Math.imul(K,wn)|0,F=(F=F+Math.imul(K,Tn)|0)+Math.imul(T,wn)|0,Q=Q+Math.imul(T,Tn)|0;var _n=(v+($=$+Math.imul(Xe,ir)|0)|0)+((8191&(F=(F=F+Math.imul(Xe,Nn)|0)+Math.imul(Ue,ir)|0))<<13)|0;v=((Q=Q+Math.imul(Ue,Nn)|0)+(F>>>13)|0)+(_n>>>26)|0,_n&=67108863,$=Math.imul(Ne,Ft),F=(F=Math.imul(Ne,mn))+Math.imul(lt,Ft)|0,Q=Math.imul(lt,mn),$=$+Math.imul(Y,wn)|0,F=(F=F+Math.imul(Y,Tn)|0)+Math.imul(pe,wn)|0,Q=Q+Math.imul(pe,Tn)|0;var Dn=(v+($=$+Math.imul(K,ir)|0)|0)+((8191&(F=(F=F+Math.imul(K,Nn)|0)+Math.imul(T,ir)|0))<<13)|0;v=((Q=Q+Math.imul(T,Nn)|0)+(F>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,$=Math.imul(Ne,wn),F=(F=Math.imul(Ne,Tn))+Math.imul(lt,wn)|0,Q=Math.imul(lt,Tn);var Wn=(v+($=$+Math.imul(Y,ir)|0)|0)+((8191&(F=(F=F+Math.imul(Y,Nn)|0)+Math.imul(pe,ir)|0))<<13)|0;v=((Q=Q+Math.imul(pe,Nn)|0)+(F>>>13)|0)+(Wn>>>26)|0,Wn&=67108863;var Gn=(v+($=Math.imul(Ne,ir))|0)+((8191&(F=(F=Math.imul(Ne,Nn))+Math.imul(lt,ir)|0))<<13)|0;return v=((Q=Math.imul(lt,Nn))+(F>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,s[0]=Ln,s[1]=at,s[2]=He,s[3]=ct,s[4]=Zt,s[5]=xn,s[6]=Hn,s[7]=er,s[8]=hr,s[9]=Nr,s[10]=Cr,s[11]=Ur,s[12]=Lr,s[13]=oi,s[14]=on,s[15]=_n,s[16]=Dn,s[17]=Wn,s[18]=Gn,0!==v&&(s[19]=v,D.length++),D};function se(m,p,E){E.negative=p.negative^m.negative,E.length=m.length+p.length;for(var D=0,R=0,x=0;x<E.length-1;x++){var s=R;R=0;for(var v=67108863&D,$=Math.min(x,p.length-1),F=Math.max(0,x-m.length+1);F<=$;F++){var Re=(0|m.words[x-F])*(0|p.words[F]),Ve=67108863&Re;v=67108863&(Ve=Ve+v|0),R+=(s=(s=s+(Re/67108864|0)|0)+(Ve>>>26)|0)>>>26,s&=67108863}E.words[x]=v,D=s,s=R}return 0!==D?E.words[x]=D:E.length--,E._strip()}function ce(m,p,E){return se(m,p,E)}function ae(m,p){this.x=m,this.y=p}Math.imul||(J=Z),w.prototype.mulTo=function(p,E){var R=this.length+p.length;return 10===this.length&&10===p.length?J(this,p,E):R<63?Z(this,p,E):R<1024?se(this,p,E):ce(this,p,E)},ae.prototype.makeRBT=function(p){for(var E=new Array(p),D=w.prototype._countBits(p)-1,R=0;R<p;R++)E[R]=this.revBin(R,D,p);return E},ae.prototype.revBin=function(p,E,D){if(0===p||p===D-1)return p;for(var R=0,x=0;x<E;x++)R|=(1&p)<<E-x-1,p>>=1;return R},ae.prototype.permute=function(p,E,D,R,x,s){for(var v=0;v<s;v++)R[v]=E[p[v]],x[v]=D[p[v]]},ae.prototype.transform=function(p,E,D,R,x,s){this.permute(s,p,E,D,R,x);for(var v=1;v<x;v<<=1)for(var $=v<<1,F=Math.cos(2*Math.PI/$),Q=Math.sin(2*Math.PI/$),de=0;de<x;de+=$)for(var Ce=F,Re=Q,Ve=0;Ve<v;Ve++){var Ee=D[de+Ve],_e=R[de+Ve],Fe=D[de+Ve+v],be=R[de+Ve+v],Ae=Ce*Fe-Re*be;be=Ce*be+Re*Fe,D[de+Ve]=Ee+(Fe=Ae),R[de+Ve]=_e+be,D[de+Ve+v]=Ee-Fe,R[de+Ve+v]=_e-be,Ve!==$&&(Ae=F*Ce-Q*Re,Re=F*Re+Q*Ce,Ce=Ae)}},ae.prototype.guessLen13b=function(p,E){var D=1|Math.max(E,p),R=1&D,x=0;for(D=D/2|0;D;D>>>=1)x++;return 1<<x+1+R},ae.prototype.conjugate=function(p,E,D){if(!(D<=1))for(var R=0;R<D/2;R++){var x=p[R];p[R]=p[D-R-1],p[D-R-1]=x,x=E[R],E[R]=-E[D-R-1],E[D-R-1]=-x}},ae.prototype.normalize13b=function(p,E){for(var D=0,R=0;R<E/2;R++){var x=8192*Math.round(p[2*R+1]/E)+Math.round(p[2*R]/E)+D;p[R]=67108863&x,D=x<67108864?0:x/67108864|0}return p},ae.prototype.convert13b=function(p,E,D,R){for(var x=0,s=0;s<E;s++)D[2*s]=8191&(x+=0|p[s]),D[2*s+1]=8191&(x>>>=13),x>>>=13;for(s=2*E;s<R;++s)D[s]=0;P(0===x),P(!(-8192&x))},ae.prototype.stub=function(p){for(var E=new Array(p),D=0;D<p;D++)E[D]=0;return E},ae.prototype.mulp=function(p,E,D){var R=2*this.guessLen13b(p.length,E.length),x=this.makeRBT(R),s=this.stub(R),v=new Array(R),$=new Array(R),F=new Array(R),Q=new Array(R),de=new Array(R),Ce=new Array(R),Re=D.words;Re.length=R,this.convert13b(p.words,p.length,v,R),this.convert13b(E.words,E.length,Q,R),this.transform(v,s,$,F,R,x),this.transform(Q,s,de,Ce,R,x);for(var Ve=0;Ve<R;Ve++){var Ee=$[Ve]*de[Ve]-F[Ve]*Ce[Ve];F[Ve]=$[Ve]*Ce[Ve]+F[Ve]*de[Ve],$[Ve]=Ee}return this.conjugate($,F,R),this.transform($,F,Re,s,R,x),this.conjugate(Re,s,R),this.normalize13b(Re,R),D.negative=p.negative^E.negative,D.length=p.length+E.length,D._strip()},w.prototype.mul=function(p){var E=new w(null);return E.words=new Array(this.length+p.length),this.mulTo(p,E)},w.prototype.mulf=function(p){var E=new w(null);return E.words=new Array(this.length+p.length),ce(this,p,E)},w.prototype.imul=function(p){return this.clone().mulTo(p,this)},w.prototype.imuln=function(p){var E=p<0;E&&(p=-p),P("number"==typeof p),P(p<67108864);for(var D=0,R=0;R<this.length;R++){var x=(0|this.words[R])*p,s=(67108863&x)+(67108863&D);D>>=26,D+=x/67108864|0,D+=s>>>26,this.words[R]=67108863&s}return 0!==D&&(this.words[R]=D,this.length++),E?this.ineg():this},w.prototype.muln=function(p){return this.clone().imuln(p)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(p){var E=function q(m){for(var p=new Array(m.bitLength()),E=0;E<p.length;E++)p[E]=m.words[E/26|0]>>>E%26&1;return p}(p);if(0===E.length)return new w(1);for(var D=this,R=0;R<E.length&&0===E[R];R++,D=D.sqr());if(++R<E.length)for(var x=D.sqr();R<E.length;R++,x=x.sqr())0!==E[R]&&(D=D.mul(x));return D},w.prototype.iushln=function(p){P("number"==typeof p&&p>=0);var x,E=p%26,D=(p-E)/26,R=67108863>>>26-E<<26-E;if(0!==E){var s=0;for(x=0;x<this.length;x++){var v=this.words[x]&R;this.words[x]=(0|this.words[x])-v<<E|s,s=v>>>26-E}s&&(this.words[x]=s,this.length++)}if(0!==D){for(x=this.length-1;x>=0;x--)this.words[x+D]=this.words[x];for(x=0;x<D;x++)this.words[x]=0;this.length+=D}return this._strip()},w.prototype.ishln=function(p){return P(0===this.negative),this.iushln(p)},w.prototype.iushrn=function(p,E,D){var R;P("number"==typeof p&&p>=0),R=E?(E-E%26)/26:0;var x=p%26,s=Math.min((p-x)/26,this.length),v=67108863^67108863>>>x<<x,$=D;if(R-=s,R=Math.max(0,R),$){for(var F=0;F<s;F++)$.words[F]=this.words[F];$.length=s}if(0!==s)if(this.length>s)for(this.length-=s,F=0;F<this.length;F++)this.words[F]=this.words[F+s];else this.words[0]=0,this.length=1;var Q=0;for(F=this.length-1;F>=0&&(0!==Q||F>=R);F--){var de=0|this.words[F];this.words[F]=Q<<26-x|de>>>x,Q=de&v}return $&&0!==Q&&($.words[$.length++]=Q),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},w.prototype.ishrn=function(p,E,D){return P(0===this.negative),this.iushrn(p,E,D)},w.prototype.shln=function(p){return this.clone().ishln(p)},w.prototype.ushln=function(p){return this.clone().iushln(p)},w.prototype.shrn=function(p){return this.clone().ishrn(p)},w.prototype.ushrn=function(p){return this.clone().iushrn(p)},w.prototype.testn=function(p){P("number"==typeof p&&p>=0);var E=p%26,D=(p-E)/26;return!(this.length<=D||!(this.words[D]&1<<E))},w.prototype.imaskn=function(p){P("number"==typeof p&&p>=0);var E=p%26,D=(p-E)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=D?this:(0!==E&&D++,this.length=Math.min(D,this.length),0!==E&&(this.words[this.length-1]&=67108863^67108863>>>E<<E),this._strip())},w.prototype.maskn=function(p){return this.clone().imaskn(p)},w.prototype.iaddn=function(p){return P("number"==typeof p),P(p<67108864),p<0?this.isubn(-p):0!==this.negative?1===this.length&&(0|this.words[0])<=p?(this.words[0]=p-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},w.prototype._iaddn=function(p){this.words[0]+=p;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},w.prototype.isubn=function(p){if(P("number"==typeof p),P(p<67108864),p<0)return this.iaddn(-p);if(0!==this.negative)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},w.prototype.addn=function(p){return this.clone().iaddn(p)},w.prototype.subn=function(p){return this.clone().isubn(p)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(p,E,D){var x;this._expand(p.length+D);var s,v=0;for(x=0;x<p.length;x++){s=(0|this.words[x+D])+v;var $=(0|p.words[x])*E;v=((s-=67108863&$)>>26)-($/67108864|0),this.words[x+D]=67108863&s}for(;x<this.length-D;x++)v=(s=(0|this.words[x+D])+v)>>26,this.words[x+D]=67108863&s;if(0===v)return this._strip();for(P(-1===v),v=0,x=0;x<this.length;x++)v=(s=-(0|this.words[x])+v)>>26,this.words[x]=67108863&s;return this.negative=1,this._strip()},w.prototype._wordDiv=function(p,E){var D,R=this.clone(),x=p,s=0|x.words[x.length-1];0!=(D=26-this._countBits(s))&&(x=x.ushln(D),R.iushln(D),s=0|x.words[x.length-1]);var F,$=R.length-x.length;if("mod"!==E){(F=new w(null)).length=$+1,F.words=new Array(F.length);for(var Q=0;Q<F.length;Q++)F.words[Q]=0}var de=R.clone()._ishlnsubmul(x,1,$);0===de.negative&&(R=de,F&&(F.words[$]=1));for(var Ce=$-1;Ce>=0;Ce--){var Re=67108864*(0|R.words[x.length+Ce])+(0|R.words[x.length+Ce-1]);for(Re=Math.min(Re/s|0,67108863),R._ishlnsubmul(x,Re,Ce);0!==R.negative;)Re--,R.negative=0,R._ishlnsubmul(x,1,Ce),R.isZero()||(R.negative^=1);F&&(F.words[Ce]=Re)}return F&&F._strip(),R._strip(),"div"!==E&&0!==D&&R.iushrn(D),{div:F||null,mod:R}},w.prototype.divmod=function(p,E,D){return P(!p.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===p.negative?(s=this.neg().divmod(p,E),"mod"!==E&&(R=s.div.neg()),"div"!==E&&(x=s.mod.neg(),D&&0!==x.negative&&x.iadd(p)),{div:R,mod:x}):0===this.negative&&0!==p.negative?(s=this.divmod(p.neg(),E),"mod"!==E&&(R=s.div.neg()),{div:R,mod:s.mod}):this.negative&p.negative?(s=this.neg().divmod(p.neg(),E),"div"!==E&&(x=s.mod.neg(),D&&0!==x.negative&&x.isub(p)),{div:s.div,mod:x}):p.length>this.length||this.cmp(p)<0?{div:new w(0),mod:this}:1===p.length?"div"===E?{div:this.divn(p.words[0]),mod:null}:"mod"===E?{div:null,mod:new w(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new w(this.modrn(p.words[0]))}:this._wordDiv(p,E);var R,x,s},w.prototype.div=function(p){return this.divmod(p,"div",!1).div},w.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},w.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},w.prototype.divRound=function(p){var E=this.divmod(p);if(E.mod.isZero())return E.div;var D=0!==E.div.negative?E.mod.isub(p):E.mod,R=p.ushrn(1),x=p.andln(1),s=D.cmp(R);return s<0||1===x&&0===s?E.div:0!==E.div.negative?E.div.isubn(1):E.div.iaddn(1)},w.prototype.modrn=function(p){var E=p<0;E&&(p=-p),P(p<=67108863);for(var D=(1<<26)%p,R=0,x=this.length-1;x>=0;x--)R=(D*R+(0|this.words[x]))%p;return E?-R:R},w.prototype.modn=function(p){return this.modrn(p)},w.prototype.idivn=function(p){var E=p<0;E&&(p=-p),P(p<=67108863);for(var D=0,R=this.length-1;R>=0;R--){var x=(0|this.words[R])+67108864*D;this.words[R]=x/p|0,D=x%p}return this._strip(),E?this.ineg():this},w.prototype.divn=function(p){return this.clone().idivn(p)},w.prototype.egcd=function(p){P(0===p.negative),P(!p.isZero());var E=this,D=p.clone();E=0!==E.negative?E.umod(p):E.clone();for(var R=new w(1),x=new w(0),s=new w(0),v=new w(1),$=0;E.isEven()&&D.isEven();)E.iushrn(1),D.iushrn(1),++$;for(var F=D.clone(),Q=E.clone();!E.isZero();){for(var de=0,Ce=1;!(E.words[0]&Ce)&&de<26;++de,Ce<<=1);if(de>0)for(E.iushrn(de);de-- >0;)(R.isOdd()||x.isOdd())&&(R.iadd(F),x.isub(Q)),R.iushrn(1),x.iushrn(1);for(var Re=0,Ve=1;!(D.words[0]&Ve)&&Re<26;++Re,Ve<<=1);if(Re>0)for(D.iushrn(Re);Re-- >0;)(s.isOdd()||v.isOdd())&&(s.iadd(F),v.isub(Q)),s.iushrn(1),v.iushrn(1);E.cmp(D)>=0?(E.isub(D),R.isub(s),x.isub(v)):(D.isub(E),s.isub(R),v.isub(x))}return{a:s,b:v,gcd:D.iushln($)}},w.prototype._invmp=function(p){P(0===p.negative),P(!p.isZero());var de,E=this,D=p.clone();E=0!==E.negative?E.umod(p):E.clone();for(var R=new w(1),x=new w(0),s=D.clone();E.cmpn(1)>0&&D.cmpn(1)>0;){for(var v=0,$=1;!(E.words[0]&$)&&v<26;++v,$<<=1);if(v>0)for(E.iushrn(v);v-- >0;)R.isOdd()&&R.iadd(s),R.iushrn(1);for(var F=0,Q=1;!(D.words[0]&Q)&&F<26;++F,Q<<=1);if(F>0)for(D.iushrn(F);F-- >0;)x.isOdd()&&x.iadd(s),x.iushrn(1);E.cmp(D)>=0?(E.isub(D),R.isub(x)):(D.isub(E),x.isub(R))}return(de=0===E.cmpn(1)?R:x).cmpn(0)<0&&de.iadd(p),de},w.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var E=this.clone(),D=p.clone();E.negative=0,D.negative=0;for(var R=0;E.isEven()&&D.isEven();R++)E.iushrn(1),D.iushrn(1);for(;;){for(;E.isEven();)E.iushrn(1);for(;D.isEven();)D.iushrn(1);var x=E.cmp(D);if(x<0){var s=E;E=D,D=s}else if(0===x||0===D.cmpn(1))break;E.isub(D)}return D.iushln(R)},w.prototype.invm=function(p){return this.egcd(p).a.umod(p)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(p){return this.words[0]&p},w.prototype.bincn=function(p){P("number"==typeof p);var E=p%26,D=(p-E)/26,R=1<<E;if(this.length<=D)return this._expand(D+1),this.words[D]|=R,this;for(var x=R,s=D;0!==x&&s<this.length;s++){var v=0|this.words[s];x=(v+=x)>>>26,this.words[s]=v&=67108863}return 0!==x&&(this.words[s]=x,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(p){var D,E=p<0;if(0!==this.negative&&!E)return-1;if(0===this.negative&&E)return 1;if(this._strip(),this.length>1)D=1;else{E&&(p=-p),P(p<=67108863,"Number is too big");var R=0|this.words[0];D=R===p?0:R<p?-1:1}return 0!==this.negative?0|-D:D},w.prototype.cmp=function(p){if(0!==this.negative&&0===p.negative)return-1;if(0===this.negative&&0!==p.negative)return 1;var E=this.ucmp(p);return 0!==this.negative?0|-E:E},w.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var E=0,D=this.length-1;D>=0;D--){var R=0|this.words[D],x=0|p.words[D];if(R!==x){R<x?E=-1:R>x&&(E=1);break}}return E},w.prototype.gtn=function(p){return 1===this.cmpn(p)},w.prototype.gt=function(p){return 1===this.cmp(p)},w.prototype.gten=function(p){return this.cmpn(p)>=0},w.prototype.gte=function(p){return this.cmp(p)>=0},w.prototype.ltn=function(p){return-1===this.cmpn(p)},w.prototype.lt=function(p){return-1===this.cmp(p)},w.prototype.lten=function(p){return this.cmpn(p)<=0},w.prototype.lte=function(p){return this.cmp(p)<=0},w.prototype.eqn=function(p){return 0===this.cmpn(p)},w.prototype.eq=function(p){return 0===this.cmp(p)},w.red=function(p){return new a(p)},w.prototype.toRed=function(p){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),p.convertTo(this)._forceRed(p)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(p){return this.red=p,this},w.prototype.forceRed=function(p){return P(!this.red,"Already a number in reduction context"),this._forceRed(p)},w.prototype.redAdd=function(p){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},w.prototype.redIAdd=function(p){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},w.prototype.redSub=function(p){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},w.prototype.redISub=function(p){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},w.prototype.redShl=function(p){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},w.prototype.redMul=function(p){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},w.prototype.redIMul=function(p){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(p){return P(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var fe={k256:null,p224:null,p192:null,p25519:null};function he(m,p){this.name=m,this.p=new w(p,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function we(){he.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Me(){he.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Pe(){he.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){he.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function a(m){if("string"==typeof m){var p=w._prime(m);this.m=p.p,this.prime=p}else P(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function d(m){a.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}he.prototype._tmp=function(){var p=new w(null);return p.words=new Array(Math.ceil(this.n/13)),p},he.prototype.ireduce=function(p){var D,E=p;do{this.split(E,this.tmp),D=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength()}while(D>this.n);var R=D<this.n?-1:E.ucmp(this.p);return 0===R?(E.words[0]=0,E.length=1):R>0?E.isub(this.p):void 0!==E.strip?E.strip():E._strip(),E},he.prototype.split=function(p,E){p.iushrn(this.n,0,E)},he.prototype.imulK=function(p){return p.imul(this.k)},H(we,he),we.prototype.split=function(p,E){for(var D=4194303,R=Math.min(p.length,9),x=0;x<R;x++)E.words[x]=p.words[x];if(E.length=R,p.length<=9)return p.words[0]=0,void(p.length=1);var s=p.words[9];for(E.words[E.length++]=s&D,x=10;x<p.length;x++){var v=0|p.words[x];p.words[x-10]=(v&D)<<4|s>>>22,s=v}p.words[x-10]=s>>>=22,p.length-=0===s&&p.length>10?10:9},we.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var E=0,D=0;D<p.length;D++){var R=0|p.words[D];p.words[D]=67108863&(E+=977*R),E=64*R+(E/67108864|0)}return 0===p.words[p.length-1]&&(p.length--,0===p.words[p.length-1]&&p.length--),p},H(Me,he),H(Pe,he),H(C,he),C.prototype.imulK=function(p){for(var E=0,D=0;D<p.length;D++){var R=19*(0|p.words[D])+E,x=67108863&R;R>>>=26,p.words[D]=x,E=R}return 0!==E&&(p.words[p.length++]=E),p},w._prime=function(p){if(fe[p])return fe[p];var E;if("k256"===p)E=new we;else if("p224"===p)E=new Me;else if("p192"===p)E=new Pe;else{if("p25519"!==p)throw new Error("Unknown prime "+p);E=new C}return fe[p]=E,E},a.prototype._verify1=function(p){P(0===p.negative,"red works only with positives"),P(p.red,"red works only with red numbers")},a.prototype._verify2=function(p,E){P(!(p.negative|E.negative),"red works only with positives"),P(p.red&&p.red===E.red,"red works only with red numbers")},a.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(U(p,p.umod(this.m)._forceRed(this)),p)},a.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},a.prototype.add=function(p,E){this._verify2(p,E);var D=p.add(E);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},a.prototype.iadd=function(p,E){this._verify2(p,E);var D=p.iadd(E);return D.cmp(this.m)>=0&&D.isub(this.m),D},a.prototype.sub=function(p,E){this._verify2(p,E);var D=p.sub(E);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},a.prototype.isub=function(p,E){this._verify2(p,E);var D=p.isub(E);return D.cmpn(0)<0&&D.iadd(this.m),D},a.prototype.shl=function(p,E){return this._verify1(p),this.imod(p.ushln(E))},a.prototype.imul=function(p,E){return this._verify2(p,E),this.imod(p.imul(E))},a.prototype.mul=function(p,E){return this._verify2(p,E),this.imod(p.mul(E))},a.prototype.isqr=function(p){return this.imul(p,p.clone())},a.prototype.sqr=function(p){return this.mul(p,p)},a.prototype.sqrt=function(p){if(p.isZero())return p.clone();var E=this.m.andln(3);if(P(E%2==1),3===E){var D=this.m.add(new w(1)).iushrn(2);return this.pow(p,D)}for(var R=this.m.subn(1),x=0;!R.isZero()&&0===R.andln(1);)x++,R.iushrn(1);P(!R.isZero());var s=new w(1).toRed(this),v=s.redNeg(),$=this.m.subn(1).iushrn(1),F=this.m.bitLength();for(F=new w(2*F*F).toRed(this);0!==this.pow(F,$).cmp(v);)F.redIAdd(v);for(var Q=this.pow(F,R),de=this.pow(p,R.addn(1).iushrn(1)),Ce=this.pow(p,R),Re=x;0!==Ce.cmp(s);){for(var Ve=Ce,Ee=0;0!==Ve.cmp(s);Ee++)Ve=Ve.redSqr();P(Ee<Re);var _e=this.pow(Q,new w(1).iushln(Re-Ee-1));de=de.redMul(_e),Q=_e.redSqr(),Ce=Ce.redMul(Q),Re=Ee}return de},a.prototype.invm=function(p){var E=p._invmp(this.m);return 0!==E.negative?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},a.prototype.pow=function(p,E){if(E.isZero())return new w(1).toRed(this);if(0===E.cmpn(1))return p.clone();var R=new Array(16);R[0]=new w(1).toRed(this),R[1]=p;for(var x=2;x<R.length;x++)R[x]=this.mul(R[x-1],p);var s=R[0],v=0,$=0,F=E.bitLength()%26;for(0===F&&(F=26),x=E.length-1;x>=0;x--){for(var Q=E.words[x],de=F-1;de>=0;de--){var Ce=Q>>de&1;s!==R[0]&&(s=this.sqr(s)),0!==Ce||0!==v?(v<<=1,v|=Ce,(4==++$||0===x&&0===de)&&(s=this.mul(s,R[v]),$=0,v=0)):$=0}F=26}return s},a.prototype.convertTo=function(p){var E=p.umod(this.m);return E===p?E.clone():E},a.prototype.convertFrom=function(p){var E=p.clone();return E.red=null,E},w.mont=function(p){return new d(p)},H(d,a),d.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},d.prototype.convertFrom=function(p){var E=this.imod(p.mul(this.rinv));return E.red=null,E},d.prototype.imul=function(p,E){if(p.isZero()||E.isZero())return p.words[0]=0,p.length=1,p;var D=p.imul(E),R=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=D.isub(R).iushrn(this.shift),s=x;return x.cmp(this.m)>=0?s=x.isub(this.m):x.cmpn(0)<0&&(s=x.iadd(this.m)),s._forceRed(this)},d.prototype.mul=function(p,E){if(p.isZero()||E.isZero())return new w(0)._forceRed(this);var D=p.mul(E),R=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=D.isub(R).iushrn(this.shift),s=x;return x.cmp(this.m)>=0?s=x.isub(this.m):x.cmpn(0)<0&&(s=x.iadd(this.m)),s._forceRed(this)},d.prototype.invm=function(p){return this.imod(p._invmp(this.m).mul(this.r2))._forceRed(this)}}(Je=_.nmd(Je),this)},35294:(Je,j,_)=>{var y;function b(H){this.rand=H}if(Je.exports=function(w){return y||(y=new b(null)),y.generate(w)},Je.exports.Rand=b,b.prototype.generate=function(w){return this._rand(w)},b.prototype._rand=function(w){if(this.rand.getBytes)return this.rand.getBytes(w);for(var O=new Uint8Array(w),S=0;S<O.length;S++)O[S]=this.rand.getByte();return O},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?b.prototype._rand=function(w){var O=new Uint8Array(w);return self.crypto.getRandomValues(O),O}:self.msCrypto&&self.msCrypto.getRandomValues?b.prototype._rand=function(w){var O=new Uint8Array(w);return self.msCrypto.getRandomValues(O),O}:"object"==typeof window&&(b.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var P=_(91426);if("function"!=typeof P.randomBytes)throw new Error("Not supported");b.prototype._rand=function(w){return P.randomBytes(w)}}catch{}},23963:(Je,j,_)=>{"use strict";const{AbstractLevel:y}=_(75929),b=_(61747),P=_(81725),{fromCallback:H}=_(42381),{Iterator:w}=_(18229),O=_(97899),S=_(19857),B=_(57059),N="level-js-",U=Symbol("idb"),A=Symbol("namePrefix"),G=Symbol("location"),L=Symbol("version"),z=Symbol("store"),ee=Symbol("onComplete"),q=Symbol("promise");j.BrowserLevel=(()=>{class J extends y{constructor(ce,ae,fe){if("function"==typeof ae||"function"==typeof fe)throw new b("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:he,version:we,...Me}=ae||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},Me),"string"!=typeof ce)throw new Error("constructor requires a location string argument");this[G]=ce,this[A]=he??N,this[L]=parseInt(we||1,10),this[U]=null}get location(){return this[G]}get namePrefix(){return this[A]}get version(){return this[L]}get db(){return this[U]}get type(){return"browser-level"}_open(ce,ae){const fe=indexedDB.open(this[A]+this[G],this[L]);fe.onerror=function(){ae(fe.error||new Error("unknown error"))},fe.onsuccess=()=>{this[U]=fe.result,ae()},fe.onupgradeneeded=he=>{const we=he.target.result;we.objectStoreNames.contains(this[G])||we.createObjectStore(this[G])}}[z](ce){return this[U].transaction([this[G]],ce).objectStore(this[G])}[ee](ce,ae){const fe=ce.transaction;fe.onabort=function(){ae(fe.error||new Error("aborted by user"))},fe.oncomplete=function(){ae(null,ce.result)}}_get(ce,ae,fe){const he=this[z]("readonly");let we;try{we=he.get(ce)}catch(Me){return this.nextTick(fe,Me)}this[ee](we,function(Me,Pe){return Me?fe(Me):void 0===Pe?fe(new b("Entry not found",{code:"LEVEL_NOT_FOUND"})):void fe(null,O(Pe))})}_getMany(ce,ae,fe){const he=this[z]("readonly"),we=ce.map(Me=>Pe=>{let C;try{C=he.get(Me)}catch(a){return Pe(a)}C.onsuccess=()=>{const a=C.result;Pe(null,void 0===a?a:O(a))},C.onerror=a=>{a.stopPropagation(),Pe(C.error)}});P(we,16,fe)}_del(ce,ae,fe){const he=this[z]("readwrite");let we;try{we=he.delete(ce)}catch(Me){return this.nextTick(fe,Me)}this[ee](we,fe)}_put(ce,ae,fe,he){const we=this[z]("readwrite");let Me;try{Me=we.put(ae,ce)}catch(Pe){return this.nextTick(he,Pe)}this[ee](Me,he)}_iterator(ce){return new w(this,this[G],ce)}_batch(ce,ae,fe){const he=this[z]("readwrite"),we=he.transaction;let Pe,Me=0;we.onabort=function(){fe(Pe||we.error||new Error("aborted by user"))},we.oncomplete=function(){fe()},function C(){const a=ce[Me++],d=a.key;let m;try{m="del"===a.type?he.delete(d):he.put(a.value,d)}catch(p){return Pe=p,void we.abort()}Me<ce.length?m.onsuccess=C:"function"==typeof we.commit&&we.commit()}()}_clear(ce,ae){let fe,he;try{fe=B(ce)}catch{return this.nextTick(ae)}if(ce.limit>=0)return S(this,this[G],fe,ce,ae);try{const we=this[z]("readwrite");he=fe?we.delete(fe):we.clear()}catch(we){return this.nextTick(ae,we)}this[ee](he,ae)}_close(ce){this[U].close(),this.nextTick(ce)}}return J.destroy=function(se,ce,ae){"function"==typeof ce&&(ae=ce,ce=N),ae=H(ae,q);const fe=indexedDB.deleteDatabase(ce+se);return fe.onsuccess=function(){ae()},fe.onerror=function(he){ae(he)},ae[q]},J})()},18229:(Je,j,_)=>{"use strict";const{AbstractIterator:y}=_(75929),b=_(57059),P=_(97899),H=Symbol("cache"),w=Symbol("finished"),O=Symbol("options"),S=Symbol("currentOptions"),B=Symbol("position"),N=Symbol("location"),U=Symbol("first"),A={};function L(z){"function"==typeof z.commit&&z.commit()}j.Iterator=class G extends y{constructor(ee,q,Z){super(ee,Z),this[H]=[],this[w]=0===this.limit,this[O]=Z,this[S]={...Z},this[B]=void 0,this[N]=q,this[U]=!0}_nextv(ee,q,Z){if(this[U]=!1,this[w])return this.nextTick(Z,null,[]);if(this[H].length>0)return ee=Math.min(ee,this[H].length),this.nextTick(Z,null,this[H].splice(0,ee));let J;void 0!==this[B]&&(this[O].reverse?(this[S].lt=this[B],this[S].lte=void 0):(this[S].gt=this[B],this[S].gte=void 0));try{J=b(this[S])}catch{return this[w]=!0,this.nextTick(Z,null,[])}const se=this.db.db.transaction([this[N]],"readonly"),ce=se.objectStore(this[N]),ae=[];if(this[O].reverse)ce[!this[O].values&&ce.openKeyCursor?"openKeyCursor":"openCursor"](J,"prev").onsuccess=he=>{const we=he.target.result;if(we){const{key:Me,value:Pe}=we;this[B]=Me,ae.push([this[O].keys&&void 0!==Me?P(Me):void 0,this[O].values&&void 0!==Pe?P(Pe):void 0]),ae.length<ee?we.continue():L(se)}else this[w]=!0};else{let fe,he;const we=()=>{if(void 0===fe||void 0===he)return;const Me=Math.max(fe.length,he.length);0===Me||ee===1/0?this[w]=!0:this[B]=fe[Me-1],ae.length=Me;for(let Pe=0;Pe<Me;Pe++){const C=fe[Pe],a=he[Pe];ae[Pe]=[this[O].keys&&void 0!==C?P(C):void 0,this[O].values&&void 0!==a?P(a):void 0]}L(se)};this[O].keys||ee<1/0?ce.getAllKeys(J,ee<1/0?ee:void 0).onsuccess=Me=>{fe=Me.target.result,we()}:(fe=[],this.nextTick(we)),this[O].values?ce.getAll(J,ee<1/0?ee:void 0).onsuccess=Me=>{he=Me.target.result,we()}:(he=[],this.nextTick(we))}se.onabort=()=>{Z(se.error||new Error("aborted by user")),Z=null},se.oncomplete=()=>{Z(null,ae),Z=null}}_next(ee){if(this[H].length>0){const[q,Z]=this[H].shift();this.nextTick(ee,null,q,Z)}else if(this[w])this.nextTick(ee);else{let q=Math.min(100,this.limit-this.count);this[U]&&(this[U]=!1,q=1),this._nextv(q,A,(Z,J)=>{if(Z)return ee(Z);this[H]=J,this._next(ee)})}}_all(ee,q){this[U]=!1;const Z=this[H].splice(0,this[H].length),J=this.limit-this.count-Z.length;if(J<=0)return this.nextTick(q,null,Z);this._nextv(J,A,(se,ce)=>{if(se)return q(se);Z.length>0&&(ce=Z.concat(ce)),q(null,ce)})}_seek(ee,q){let Z;this[U]=!0,this[H]=[],this[w]=!1,this[B]=void 0,this[S]={...this[O]};try{Z=b(this[O])}catch{return void(this[w]=!0)}null===Z||Z.includes(ee)?this[O].reverse?this[S].lte=ee:this[S].gte=ee:this[w]=!0}}},19857:Je=>{"use strict";Je.exports=function(_,y,b,P,H){if(0===P.limit)return _.nextTick(H);const w=_.db.transaction([y],"readwrite"),O=w.objectStore(y);let S=0;w.oncomplete=function(){H()},w.onabort=function(){H(w.error||new Error("aborted by user"))},O[O.openKeyCursor?"openKeyCursor":"openCursor"](b,P.reverse?"prev":"next").onsuccess=function(U){const A=U.target.result;A&&(O.delete(A.key).onsuccess=function(){(P.limit<=0||++S<P.limit)&&A.continue()})}}},97899:Je=>{"use strict";const j=new TextEncoder;Je.exports=function(_){return _ instanceof Uint8Array?_:_ instanceof ArrayBuffer?new Uint8Array(_):j.encode(_)}},57059:Je=>{"use strict";Je.exports=function(_){const y=void 0!==_.gte?_.gte:void 0!==_.gt?_.gt:void 0,b=void 0!==_.lte?_.lte:void 0!==_.lt?_.lt:void 0,P=void 0===_.gte,H=void 0===_.lte;return void 0!==y&&void 0!==b?IDBKeyRange.bound(y,b,P,H):void 0!==y?IDBKeyRange.lowerBound(y,P):void 0!==b?IDBKeyRange.upperBound(b,H):null}},12375:(Je,j,_)=>{var y=_(27054).Buffer;function b(B){y.isBuffer(B)||(B=y.from(B));for(var N=B.length/4|0,U=new Array(N),A=0;A<N;A++)U[A]=B.readUInt32BE(4*A);return U}function P(B){for(;0<B.length;B++)B[0]=0}function H(B,N,U,A,G){for(var ae,fe,he,we,L=U[0],z=U[1],ee=U[2],q=U[3],Z=B[0]^N[0],J=B[1]^N[1],se=B[2]^N[2],ce=B[3]^N[3],Me=4,Pe=1;Pe<G;Pe++)ae=L[Z>>>24]^z[J>>>16&255]^ee[se>>>8&255]^q[255&ce]^N[Me++],fe=L[J>>>24]^z[se>>>16&255]^ee[ce>>>8&255]^q[255&Z]^N[Me++],he=L[se>>>24]^z[ce>>>16&255]^ee[Z>>>8&255]^q[255&J]^N[Me++],we=L[ce>>>24]^z[Z>>>16&255]^ee[J>>>8&255]^q[255&se]^N[Me++],Z=ae,J=fe,se=he,ce=we;return ae=(A[Z>>>24]<<24|A[J>>>16&255]<<16|A[se>>>8&255]<<8|A[255&ce])^N[Me++],fe=(A[J>>>24]<<24|A[se>>>16&255]<<16|A[ce>>>8&255]<<8|A[255&Z])^N[Me++],he=(A[se>>>24]<<24|A[ce>>>16&255]<<16|A[Z>>>8&255]<<8|A[255&J])^N[Me++],we=(A[ce>>>24]<<24|A[Z>>>16&255]<<16|A[J>>>8&255]<<8|A[255&se])^N[Me++],[ae>>>=0,fe>>>=0,he>>>=0,we>>>=0]}var w=[0,1,2,4,8,16,32,64,128,27,54],O=function(){for(var B=new Array(256),N=0;N<256;N++)B[N]=N<128?N<<1:N<<1^283;for(var U=[],A=[],G=[[],[],[],[]],L=[[],[],[],[]],z=0,ee=0,q=0;q<256;++q){var Z=ee^ee<<1^ee<<2^ee<<3^ee<<4;U[z]=Z=Z>>>8^255&Z^99,A[Z]=z;var J=B[z],se=B[J],ce=B[se],ae=257*B[Z]^16843008*Z;G[0][z]=ae<<24|ae>>>8,G[1][z]=ae<<16|ae>>>16,G[2][z]=ae<<8|ae>>>24,G[3][z]=ae,L[0][Z]=(ae=16843009*ce^65537*se^257*J^16843008*z)<<24|ae>>>8,L[1][Z]=ae<<16|ae>>>16,L[2][Z]=ae<<8|ae>>>24,L[3][Z]=ae,0===z?z=ee=1:(z=J^B[B[B[ce^J]]],ee^=B[B[ee]])}return{SBOX:U,INV_SBOX:A,SUB_MIX:G,INV_SUB_MIX:L}}();function S(B){this._key=b(B),this._reset()}S.blockSize=16,S.keySize=32,S.prototype.blockSize=S.blockSize,S.prototype.keySize=S.keySize,S.prototype._reset=function(){for(var B=this._key,N=B.length,U=N+6,A=4*(U+1),G=[],L=0;L<N;L++)G[L]=B[L];for(L=N;L<A;L++){var z=G[L-1];L%N==0?(z=O.SBOX[(z=z<<8|z>>>24)>>>24]<<24|O.SBOX[z>>>16&255]<<16|O.SBOX[z>>>8&255]<<8|O.SBOX[255&z],z^=w[L/N|0]<<24):N>6&&L%N==4&&(z=O.SBOX[z>>>24]<<24|O.SBOX[z>>>16&255]<<16|O.SBOX[z>>>8&255]<<8|O.SBOX[255&z]),G[L]=G[L-N]^z}for(var ee=[],q=0;q<A;q++){var Z=A-q,J=G[Z-(q%4?0:4)];ee[q]=q<4||Z<=4?J:O.INV_SUB_MIX[0][O.SBOX[J>>>24]]^O.INV_SUB_MIX[1][O.SBOX[J>>>16&255]]^O.INV_SUB_MIX[2][O.SBOX[J>>>8&255]]^O.INV_SUB_MIX[3][O.SBOX[255&J]]}this._nRounds=U,this._keySchedule=G,this._invKeySchedule=ee},S.prototype.encryptBlockRaw=function(B){return H(B=b(B),this._keySchedule,O.SUB_MIX,O.SBOX,this._nRounds)},S.prototype.encryptBlock=function(B){var N=this.encryptBlockRaw(B),U=y.allocUnsafe(16);return U.writeUInt32BE(N[0],0),U.writeUInt32BE(N[1],4),U.writeUInt32BE(N[2],8),U.writeUInt32BE(N[3],12),U},S.prototype.decryptBlock=function(B){var N=(B=b(B))[1];B[1]=B[3],B[3]=N;var U=H(B,this._invKeySchedule,O.INV_SUB_MIX,O.INV_SBOX,this._nRounds),A=y.allocUnsafe(16);return A.writeUInt32BE(U[0],0),A.writeUInt32BE(U[3],4),A.writeUInt32BE(U[2],8),A.writeUInt32BE(U[1],12),A},S.prototype.scrub=function(){P(this._keySchedule),P(this._invKeySchedule),P(this._key)},Je.exports.AES=S},19307:(Je,j,_)=>{var y=_(12375),b=_(27054).Buffer,P=_(3247),H=_(71993),w=_(85917),O=_(13546),S=_(95725);function U(A,G,L,z){P.call(this);var ee=b.alloc(4,0);this._cipher=new y.AES(G);var q=this._cipher.encryptBlock(ee);this._ghash=new w(q),L=function N(A,G,L){if(12===G.length)return A._finID=b.concat([G,b.from([0,0,0,1])]),b.concat([G,b.from([0,0,0,2])]);var z=new w(L),ee=G.length,q=ee%16;z.update(G),q&&z.update(b.alloc(q=16-q,0)),z.update(b.alloc(8,0));var Z=8*ee,J=b.alloc(8);J.writeUIntBE(Z,0,8),z.update(J),A._finID=z.state;var se=b.from(A._finID);return S(se),se}(this,L,q),this._prev=b.from(L),this._cache=b.allocUnsafe(0),this._secCache=b.allocUnsafe(0),this._decrypt=z,this._alen=0,this._len=0,this._mode=A,this._authTag=null,this._called=!1}H(U,P),U.prototype._update=function(A){if(!this._called&&this._alen){var G=16-this._alen%16;G<16&&(G=b.alloc(G,0),this._ghash.update(G))}this._called=!0;var L=this._mode.encrypt(this,A);return this._ghash.update(this._decrypt?A:L),this._len+=A.length,L},U.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var A=O(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function B(A,G){var L=0;A.length!==G.length&&L++;for(var z=Math.min(A.length,G.length),ee=0;ee<z;++ee)L+=A[ee]^G[ee];return L}(A,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=A,this._cipher.scrub()},U.prototype.getAuthTag=function(){if(this._decrypt||!b.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},U.prototype.setAuthTag=function(G){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=G},U.prototype.setAAD=function(G){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(G),this._alen+=G.length},Je.exports=U},43388:(Je,j,_)=>{var y=_(350),b=_(60102),P=_(3219);j.createCipher=j.Cipher=y.createCipher,j.createCipheriv=j.Cipheriv=y.createCipheriv,j.createDecipher=j.Decipher=b.createDecipher,j.createDecipheriv=j.Decipheriv=b.createDecipheriv,j.listCiphers=j.getCiphers=function H(){return Object.keys(P)}},60102:(Je,j,_)=>{var y=_(19307),b=_(27054).Buffer,P=_(60503),H=_(91821),w=_(3247),O=_(12375),S=_(18211);function N(z,ee,q){w.call(this),this._cache=new U,this._last=void 0,this._cipher=new O.AES(ee),this._prev=b.from(q),this._mode=z,this._autopadding=!0}function U(){this.cache=b.allocUnsafe(0)}function G(z,ee,q){var Z=P[z.toLowerCase()];if(!Z)throw new TypeError("invalid suite type");if("string"==typeof q&&(q=b.from(q)),"GCM"!==Z.mode&&q.length!==Z.iv)throw new TypeError("invalid iv length "+q.length);if("string"==typeof ee&&(ee=b.from(ee)),ee.length!==Z.key/8)throw new TypeError("invalid key length "+ee.length);return"stream"===Z.type?new H(Z.module,ee,q,!0):"auth"===Z.type?new y(Z.module,ee,q,!0):new N(Z.module,ee,q)}_(71993)(N,w),N.prototype._update=function(z){this._cache.add(z);for(var ee,q,Z=[];ee=this._cache.get(this._autopadding);)q=this._mode.decrypt(this,ee),Z.push(q);return b.concat(Z)},N.prototype._final=function(){var z=this._cache.flush();if(this._autopadding)return function A(z){var ee=z[15];if(ee<1||ee>16)throw new Error("unable to decrypt data");for(var q=-1;++q<ee;)if(z[q+(16-ee)]!==ee)throw new Error("unable to decrypt data");if(16!==ee)return z.slice(0,16-ee)}(this._mode.decrypt(this,z));if(z)throw new Error("data not multiple of block length")},N.prototype.setAutoPadding=function(z){return this._autopadding=!!z,this},U.prototype.add=function(z){this.cache=b.concat([this.cache,z])},U.prototype.get=function(z){var ee;if(z){if(this.cache.length>16)return ee=this.cache.slice(0,16),this.cache=this.cache.slice(16),ee}else if(this.cache.length>=16)return ee=this.cache.slice(0,16),this.cache=this.cache.slice(16),ee;return null},U.prototype.flush=function(){if(this.cache.length)return this.cache},j.createDecipher=function L(z,ee){var q=P[z.toLowerCase()];if(!q)throw new TypeError("invalid suite type");var Z=S(ee,!1,q.key,q.iv);return G(z,Z.key,Z.iv)},j.createDecipheriv=G},350:(Je,j,_)=>{var y=_(60503),b=_(19307),P=_(27054).Buffer,H=_(91821),w=_(3247),O=_(12375),S=_(18211);function N(z,ee,q){w.call(this),this._cache=new A,this._cipher=new O.AES(ee),this._prev=P.from(q),this._mode=z,this._autopadding=!0}_(71993)(N,w),N.prototype._update=function(z){this._cache.add(z);for(var ee,q,Z=[];ee=this._cache.get();)q=this._mode.encrypt(this,ee),Z.push(q);return P.concat(Z)};var U=P.alloc(16,16);function A(){this.cache=P.allocUnsafe(0)}function G(z,ee,q){var Z=y[z.toLowerCase()];if(!Z)throw new TypeError("invalid suite type");if("string"==typeof ee&&(ee=P.from(ee)),ee.length!==Z.key/8)throw new TypeError("invalid key length "+ee.length);if("string"==typeof q&&(q=P.from(q)),"GCM"!==Z.mode&&q.length!==Z.iv)throw new TypeError("invalid iv length "+q.length);return"stream"===Z.type?new H(Z.module,ee,q):"auth"===Z.type?new b(Z.module,ee,q):new N(Z.module,ee,q)}N.prototype._final=function(){var z=this._cache.flush();if(this._autopadding)return z=this._mode.encrypt(this,z),this._cipher.scrub(),z;if(!z.equals(U))throw this._cipher.scrub(),new Error("data not multiple of block length")},N.prototype.setAutoPadding=function(z){return this._autopadding=!!z,this},A.prototype.add=function(z){this.cache=P.concat([this.cache,z])},A.prototype.get=function(){if(this.cache.length>15){var z=this.cache.slice(0,16);return this.cache=this.cache.slice(16),z}return null},A.prototype.flush=function(){for(var z=16-this.cache.length,ee=P.allocUnsafe(z),q=-1;++q<z;)ee.writeUInt8(z,q);return P.concat([this.cache,ee])},j.createCipheriv=G,j.createCipher=function L(z,ee){var q=y[z.toLowerCase()];if(!q)throw new TypeError("invalid suite type");var Z=S(ee,!1,q.key,q.iv);return G(z,Z.key,Z.iv)}},85917:(Je,j,_)=>{var y=_(27054).Buffer,b=y.alloc(16,0);function H(O){var S=y.allocUnsafe(16);return S.writeUInt32BE(O[0]>>>0,0),S.writeUInt32BE(O[1]>>>0,4),S.writeUInt32BE(O[2]>>>0,8),S.writeUInt32BE(O[3]>>>0,12),S}function w(O){this.h=O,this.state=y.alloc(16,0),this.cache=y.allocUnsafe(0)}w.prototype.ghash=function(O){for(var S=-1;++S<O.length;)this.state[S]^=O[S];this._multiply()},w.prototype._multiply=function(){for(var B,U,O=function P(O){return[O.readUInt32BE(0),O.readUInt32BE(4),O.readUInt32BE(8),O.readUInt32BE(12)]}(this.h),S=[0,0,0,0],A=-1;++A<128;){for(!!(this.state[~~(A/8)]&1<<7-A%8)&&(S[0]^=O[0],S[1]^=O[1],S[2]^=O[2],S[3]^=O[3]),U=!!(1&O[3]),B=3;B>0;B--)O[B]=O[B]>>>1|(1&O[B-1])<<31;O[0]=O[0]>>>1,U&&(O[0]=O[0]^225<<24)}this.state=H(S)},w.prototype.update=function(O){this.cache=y.concat([this.cache,O]);for(var S;this.cache.length>=16;)S=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(S)},w.prototype.final=function(O,S){return this.cache.length&&this.ghash(y.concat([this.cache,b],16)),this.ghash(H([0,O,0,S])),this.state},Je.exports=w},95725:Je=>{Je.exports=function j(_){for(var b,y=_.length;y--;){if(255!==(b=_.readUInt8(y))){b++,_.writeUInt8(b,y);break}_.writeUInt8(0,y)}}},34133:(Je,j,_)=>{var y=_(13546);j.encrypt=function(b,P){var H=y(P,b._prev);return b._prev=b._cipher.encryptBlock(H),b._prev},j.decrypt=function(b,P){var H=b._prev;b._prev=P;var w=b._cipher.decryptBlock(P);return y(w,H)}},17090:(Je,j,_)=>{var y=_(27054).Buffer,b=_(13546);function P(H,w,O){var S=w.length,B=b(w,H._cache);return H._cache=H._cache.slice(S),H._prev=y.concat([H._prev,O?w:B]),B}j.encrypt=function(H,w,O){for(var B,S=y.allocUnsafe(0);w.length;){if(0===H._cache.length&&(H._cache=H._cipher.encryptBlock(H._prev),H._prev=y.allocUnsafe(0)),!(H._cache.length<=w.length)){S=y.concat([S,P(H,w,O)]);break}S=y.concat([S,P(H,w.slice(0,B=H._cache.length),O)]),w=w.slice(B)}return S}},71039:(Je,j,_)=>{var y=_(27054).Buffer;function b(H,w,O){for(var A,G,B=-1,U=0;++B<8;)U+=(128&(G=H._cipher.encryptBlock(H._prev)[0]^(A=w&1<<7-B?128:0)))>>B%8,H._prev=P(H._prev,O?A:G);return U}function P(H,w){var O=H.length,S=-1,B=y.allocUnsafe(H.length);for(H=y.concat([H,y.from([w])]);++S<O;)B[S]=H[S]<<1|H[S+1]>>7;return B}j.encrypt=function(H,w,O){for(var S=w.length,B=y.allocUnsafe(S),N=-1;++N<S;)B[N]=b(H,w[N],O);return B}},72576:(Je,j,_)=>{var y=_(27054).Buffer;function b(P,H,w){var S=P._cipher.encryptBlock(P._prev)[0]^H;return P._prev=y.concat([P._prev.slice(1),y.from([w?H:S])]),S}j.encrypt=function(P,H,w){for(var O=H.length,S=y.allocUnsafe(O),B=-1;++B<O;)S[B]=b(P,H[B],w);return S}},70336:(Je,j,_)=>{var y=_(13546),b=_(27054).Buffer,P=_(95725);function H(O){var S=O._cipher.encryptBlockRaw(O._prev);return P(O._prev),S}j.encrypt=function(O,S){var B=Math.ceil(S.length/16),N=O._cache.length;O._cache=b.concat([O._cache,b.allocUnsafe(16*B)]);for(var U=0;U<B;U++){var A=H(O),G=N+16*U;O._cache.writeUInt32BE(A[0],G+0),O._cache.writeUInt32BE(A[1],G+4),O._cache.writeUInt32BE(A[2],G+8),O._cache.writeUInt32BE(A[3],G+12)}var L=O._cache.slice(0,S.length);return O._cache=O._cache.slice(S.length),y(S,L)}},37513:(Je,j)=>{j.encrypt=function(_,y){return _._cipher.encryptBlock(y)},j.decrypt=function(_,y){return _._cipher.decryptBlock(y)}},60503:(Je,j,_)=>{var y={ECB:_(37513),CBC:_(34133),CFB:_(17090),CFB8:_(72576),CFB1:_(71039),OFB:_(46854),CTR:_(70336),GCM:_(70336)},b=_(3219);for(var P in b)b[P].module=y[b[P].mode];Je.exports=b},46854:(Je,j,_)=>{var y=_(13546);function b(P){return P._prev=P._cipher.encryptBlock(P._prev),P._prev}j.encrypt=function(P,H){for(;P._cache.length<H.length;)P._cache=Buffer.concat([P._cache,b(P)]);var w=P._cache.slice(0,H.length);return P._cache=P._cache.slice(H.length),y(H,w)}},91821:(Je,j,_)=>{var y=_(12375),b=_(27054).Buffer,P=_(3247);function w(O,S,B,N){P.call(this),this._cipher=new y.AES(S),this._prev=b.from(B),this._cache=b.allocUnsafe(0),this._secCache=b.allocUnsafe(0),this._decrypt=N,this._mode=O}_(71993)(w,P),w.prototype._update=function(O){return this._mode.encrypt(this,O,this._decrypt)},w.prototype._final=function(){this._cipher.scrub()},Je.exports=w},88862:(Je,j,_)=>{var y=_(39799),b=_(43388),P=_(60503),H=_(59571),w=_(18211);function B(A,G,L){if(A=A.toLowerCase(),P[A])return b.createCipheriv(A,G,L);if(H[A])return new y({key:G,iv:L,mode:A});throw new TypeError("invalid suite type")}function N(A,G,L){if(A=A.toLowerCase(),P[A])return b.createDecipheriv(A,G,L);if(H[A])return new y({key:G,iv:L,mode:A,decrypt:!0});throw new TypeError("invalid suite type")}j.createCipher=j.Cipher=function O(A,G){var L,z;if(A=A.toLowerCase(),P[A])L=P[A].key,z=P[A].iv;else{if(!H[A])throw new TypeError("invalid suite type");L=8*H[A].key,z=H[A].iv}var ee=w(G,!1,L,z);return B(A,ee.key,ee.iv)},j.createCipheriv=j.Cipheriv=B,j.createDecipher=j.Decipher=function S(A,G){var L,z;if(A=A.toLowerCase(),P[A])L=P[A].key,z=P[A].iv;else{if(!H[A])throw new TypeError("invalid suite type");L=8*H[A].key,z=H[A].iv}var ee=w(G,!1,L,z);return N(A,ee.key,ee.iv)},j.createDecipheriv=j.Decipheriv=N,j.listCiphers=j.getCiphers=function U(){return Object.keys(H).concat(b.getCiphers())}},39799:(Je,j,_)=>{var y=_(3247),b=_(71549),P=_(71993),H=_(27054).Buffer,w={"des-ede3-cbc":b.CBC.instantiate(b.EDE),"des-ede3":b.EDE,"des-ede-cbc":b.CBC.instantiate(b.EDE),"des-ede":b.EDE,"des-cbc":b.CBC.instantiate(b.DES),"des-ecb":b.DES};function O(S){y.call(this);var U,B=S.mode.toLowerCase(),N=w[B];U=S.decrypt?"decrypt":"encrypt";var A=S.key;H.isBuffer(A)||(A=H.from(A)),("des-ede"===B||"des-ede-cbc"===B)&&(A=H.concat([A,A.slice(0,8)]));var G=S.iv;H.isBuffer(G)||(G=H.from(G)),this._des=N.create({key:A,iv:G,type:U})}w.des=w["des-cbc"],w.des3=w["des-ede3-cbc"],Je.exports=O,P(O,y),O.prototype._update=function(S){return H.from(this._des.update(S))},O.prototype._final=function(){return H.from(this._des.final())}},59571:(Je,j)=>{j["des-ecb"]={key:8,iv:0},j["des-cbc"]=j.des={key:8,iv:8},j["des-ede3-cbc"]=j.des3={key:24,iv:8},j["des-ede3"]={key:24,iv:0},j["des-ede-cbc"]={key:16,iv:8},j["des-ede"]={key:16,iv:0}},14105:(Je,j,_)=>{var y=_(917),b=_(3342);function H(O){var B,S=O.modulus.byteLength();do{B=new y(b(S))}while(B.cmp(O.modulus)>=0||!B.umod(O.prime1)||!B.umod(O.prime2));return B}function w(O,S){var B=function P(O){var S=H(O);return{blinder:S.toRed(y.mont(O.modulus)).redPow(new y(O.publicExponent)).fromRed(),unblinder:S.invm(O.modulus)}}(S),N=S.modulus.byteLength(),U=new y(O).mul(B.blinder).umod(S.modulus),A=U.toRed(y.mont(S.prime1)),G=U.toRed(y.mont(S.prime2)),L=S.coefficient,z=S.prime1,ee=S.prime2,q=A.redPow(S.exponent1).fromRed(),Z=G.redPow(S.exponent2).fromRed(),J=q.isub(Z).imul(L).umod(z).imul(ee);return Z.iadd(J).imul(B.unblinder).umod(S.modulus).toArrayLike(Buffer,"be",N)}w.getr=H,Je.exports=w},99560:(Je,j,_)=>{"use strict";Je.exports=_(62951)},79143:(Je,j,_)=>{"use strict";var y=_(27054).Buffer,b=_(67211),P=_(64670),H=_(71993),w=_(43150),O=_(74754),S=_(62951);function B(G){P.Writable.call(this);var L=S[G];if(!L)throw new Error("Unknown message digest");this._hashType=L.hash,this._hash=b(L.hash),this._tag=L.id,this._signType=L.sign}function N(G){P.Writable.call(this);var L=S[G];if(!L)throw new Error("Unknown message digest");this._hash=b(L.hash),this._tag=L.id,this._signType=L.sign}function U(G){return new B(G)}function A(G){return new N(G)}Object.keys(S).forEach(function(G){S[G].id=y.from(S[G].id,"hex"),S[G.toLowerCase()]=S[G]}),H(B,P.Writable),B.prototype._write=function(L,z,ee){this._hash.update(L),ee()},B.prototype.update=function(L,z){return this._hash.update("string"==typeof L?y.from(L,z):L),this},B.prototype.sign=function(L,z){this.end();var ee=this._hash.digest(),q=w(ee,L,this._hashType,this._signType,this._tag);return z?q.toString(z):q},H(N,P.Writable),N.prototype._write=function(L,z,ee){this._hash.update(L),ee()},N.prototype.update=function(L,z){return this._hash.update("string"==typeof L?y.from(L,z):L),this},N.prototype.verify=function(L,z,ee){var q="string"==typeof z?y.from(z,ee):z;this.end();var Z=this._hash.digest();return O(q,Z,L,this._signType,this._tag)},Je.exports={Sign:U,Verify:A,createSign:U,createVerify:A}},43150:(Je,j,_)=>{"use strict";var y=_(27054).Buffer,b=_(56432),P=_(14105),H=_(90518).ec,w=_(917),O=_(65667),S=_(64589);function L(J,se,ce,ae){if((J=y.from(J.toArray())).length<se.byteLength()){var fe=y.alloc(se.byteLength()-J.length);J=y.concat([fe,J])}var he=ce.length,we=function ee(J,se){J=(J=z(J,se)).mod(se);var ce=y.from(J.toArray());if(ce.length<se.byteLength()){var ae=y.alloc(se.byteLength()-ce.length);ce=y.concat([ae,ce])}return ce}(ce,se),Me=y.alloc(he);Me.fill(1);var Pe=y.alloc(he);return Pe=b(ae,Pe).update(Me).update(y.from([0])).update(J).update(we).digest(),Me=b(ae,Pe).update(Me).digest(),{k:Pe=b(ae,Pe).update(Me).update(y.from([1])).update(J).update(we).digest(),v:Me=b(ae,Pe).update(Me).digest()}}function z(J,se){var ce=new w(J),ae=(J.length<<3)-se.bitLength();return ae>0&&ce.ishrn(ae),ce}function q(J,se,ce){var ae,fe;do{for(ae=y.alloc(0);8*ae.length<J.bitLength();)se.v=b(ce,se.k).update(se.v).digest(),ae=y.concat([ae,se.v]);fe=z(ae,J),se.k=b(ce,se.k).update(se.v).update(y.from([0])).digest(),se.v=b(ce,se.k).update(se.v).digest()}while(-1!==fe.cmp(J));return fe}function Z(J,se,ce,ae){return J.toRed(w.mont(ce)).redPow(se).fromRed().mod(ae)}Je.exports=function N(J,se,ce,ae,fe){var he=O(se);if(he.curve){if("ecdsa"!==ae&&"ecdsa/rsa"!==ae)throw new Error("wrong private key type");return function U(J,se){var ce=S[se.curve.join(".")];if(!ce)throw new Error("unknown curve "+se.curve.join("."));var he=new H(ce).keyFromPrivate(se.privateKey).sign(J);return y.from(he.toDER())}(J,he)}if("dsa"===he.type){if("dsa"!==ae)throw new Error("wrong private key type");return function A(J,se,ce){for(var Pe,ae=se.params.priv_key,fe=se.params.p,he=se.params.q,we=se.params.g,Me=new w(0),C=z(J,he).mod(he),a=!1,d=L(ae,he,J,ce);!1===a;)Me=Z(we,Pe=q(he,d,ce),fe,he),0===(a=Pe.invm(he).imul(C.add(ae.mul(Me))).mod(he)).cmpn(0)&&(a=!1,Me=new w(0));return function G(J,se){J=J.toArray(),se=se.toArray(),128&J[0]&&(J=[0].concat(J)),128&se[0]&&(se=[0].concat(se));var ae=[48,J.length+se.length+4,2,J.length];return ae=ae.concat(J,[2,se.length],se),y.from(ae)}(Me,a)}(J,he,ce)}if("rsa"!==ae&&"ecdsa/rsa"!==ae)throw new Error("wrong private key type");if(void 0!==se.padding&&1!==se.padding)throw new Error("illegal or unsupported padding mode");J=y.concat([fe,J]);for(var we=he.modulus.byteLength(),Me=[0,1];J.length+Me.length+1<we;)Me.push(255);Me.push(0);for(var Pe=-1;++Pe<J.length;)Me.push(J[Pe]);return P(Me,he)},Je.exports.getKey=L,Je.exports.makeKey=q},74754:(Je,j,_)=>{"use strict";var y=_(27054).Buffer,b=_(917),P=_(90518).ec,H=_(65667),w=_(64589);function N(U,A){if(U.cmpn(0)<=0)throw new Error("invalid sig");if(U.cmp(A)>=0)throw new Error("invalid sig")}Je.exports=function O(U,A,G,L,z){var ee=H(G);if("ec"===ee.type){if("ecdsa"!==L&&"ecdsa/rsa"!==L)throw new Error("wrong public key type");return function S(U,A,G){var L=w[G.data.algorithm.curve.join(".")];if(!L)throw new Error("unknown curve "+G.data.algorithm.curve.join("."));return new P(L).verify(A,U,G.data.subjectPrivateKey.data)}(U,A,ee)}if("dsa"===ee.type){if("dsa"!==L)throw new Error("wrong public key type");return function B(U,A,G){var L=G.data.p,z=G.data.q,ee=G.data.g,q=G.data.pub_key,Z=H.signature.decode(U,"der"),J=Z.s,se=Z.r;N(J,z),N(se,z);var ce=b.mont(L),ae=J.invm(z);return 0===ee.toRed(ce).redPow(new b(A).mul(ae).mod(z)).fromRed().mul(q.toRed(ce).redPow(se.mul(ae).mod(z)).fromRed()).mod(L).mod(z).cmp(se)}(U,A,ee)}if("rsa"!==L&&"ecdsa/rsa"!==L)throw new Error("wrong public key type");A=y.concat([z,A]);for(var q=ee.modulus.byteLength(),Z=[1],J=0;A.length+Z.length+2<q;)Z.push(255),J+=1;Z.push(0);for(var se=-1;++se<A.length;)Z.push(A[se]);Z=y.from(Z);var ce=b.mont(ee.modulus);U=(U=new b(U).toRed(ce)).redPow(new b(ee.publicExponent)),U=y.from(U.fromRed().toArray());var ae=J<8?1:0;for(q=Math.min(U.length,Z.length),U.length!==Z.length&&(ae=1),se=-1;++se<q;)ae|=U[se]^Z[se];return 0===ae}},23827:(Je,j,_)=>{"use strict";var y=_(9656),b=Object.keys||function(G){var L=[];for(var z in G)L.push(z);return L};Je.exports=N;var P=Object.create(_(27637));P.inherits=_(71993);var H=_(81217),w=_(14817);P.inherits(N,H);for(var O=b(w.prototype),S=0;S<O.length;S++){var B=O[S];N.prototype[B]||(N.prototype[B]=w.prototype[B])}function N(G){if(!(this instanceof N))return new N(G);H.call(this,G),w.call(this,G),G&&!1===G.readable&&(this.readable=!1),G&&!1===G.writable&&(this.writable=!1),this.allowHalfOpen=!0,G&&!1===G.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",U)}function U(){this.allowHalfOpen||this._writableState.ended||y.nextTick(A,this)}function A(G){G.end()}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(N.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(G){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=G,this._writableState.destroyed=G)}}),N.prototype._destroy=function(G,L){this.push(null),this.end(),y.nextTick(L,G)}},75519:(Je,j,_)=>{"use strict";Je.exports=P;var y=_(93045),b=Object.create(_(27637));function P(H){if(!(this instanceof P))return new P(H);y.call(this,H)}b.inherits=_(71993),b.inherits(P,y),P.prototype._transform=function(H,w,O){O(null,H)}},81217:(Je,j,_)=>{"use strict";var y=_(40573),b=_(9656);Je.exports=ae;var H,P=_(20053);ae.ReadableState=ce,_(44356);var O=function(_e,Fe){return _e.listeners(Fe).length},S=_(62078),B=_(29783).Buffer,N=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},G=Object.create(_(27637));G.inherits=_(71993);var L=_(92668),z=void 0;z=L&&L.debuglog?L.debuglog("stream"):function(){};var Z,ee=_(10793),q=_(43357);G.inherits(ae,S);var J=["error","close","destroy","pause","resume"];function ce(_e,Fe){var be=Fe instanceof(H=H||_(23827));this.objectMode=!!(_e=_e||{}).objectMode,be&&(this.objectMode=this.objectMode||!!_e.readableObjectMode);var Ae=_e.highWaterMark,ge=_e.readableHighWaterMark;this.highWaterMark=Ae||0===Ae?Ae:be&&(ge||0===ge)?ge:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ee,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_e.encoding&&(Z||(Z=_(49937).I),this.decoder=new Z(_e.encoding),this.encoding=_e.encoding)}function ae(_e){if(H=H||_(23827),!(this instanceof ae))return new ae(_e);this._readableState=new ce(_e,this),this.readable=!0,_e&&("function"==typeof _e.read&&(this._read=_e.read),"function"==typeof _e.destroy&&(this._destroy=_e.destroy)),S.call(this)}function fe(_e,Fe,be,Ae,ge){var te,me=_e._readableState;return null===Fe?(me.reading=!1,function d(_e,Fe){if(!Fe.ended){if(Fe.decoder){var be=Fe.decoder.end();be&&be.length&&(Fe.buffer.push(be),Fe.length+=Fe.objectMode?1:be.length)}Fe.ended=!0,m(_e)}}(_e,me)):(ge||(te=function we(_e,Fe){var be;return!function A(_e){return B.isBuffer(_e)||_e instanceof N}(Fe)&&"string"!=typeof Fe&&void 0!==Fe&&!_e.objectMode&&(be=new TypeError("Invalid non-string/buffer chunk")),be}(me,Fe)),te?_e.emit("error",te):me.objectMode||Fe&&Fe.length>0?("string"!=typeof Fe&&!me.objectMode&&Object.getPrototypeOf(Fe)!==B.prototype&&(Fe=function U(_e){return B.from(_e)}(Fe)),Ae?me.endEmitted?_e.emit("error",new Error("stream.unshift() after end event")):he(_e,me,Fe,!0):me.ended?_e.emit("error",new Error("stream.push() after EOF")):(me.reading=!1,me.decoder&&!be?(Fe=me.decoder.write(Fe),me.objectMode||0!==Fe.length?he(_e,me,Fe,!1):E(_e,me)):he(_e,me,Fe,!1))):Ae||(me.reading=!1)),function Me(_e){return!_e.ended&&(_e.needReadable||_e.length<_e.highWaterMark||0===_e.length)}(me)}function he(_e,Fe,be,Ae){Fe.flowing&&0===Fe.length&&!Fe.sync?(_e.emit("data",be),_e.read(0)):(Fe.length+=Fe.objectMode?1:be.length,Ae?Fe.buffer.unshift(be):Fe.buffer.push(be),Fe.needReadable&&m(_e)),E(_e,Fe)}Object.defineProperty(ae.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(_e){this._readableState&&(this._readableState.destroyed=_e)}}),ae.prototype.destroy=q.destroy,ae.prototype._undestroy=q.undestroy,ae.prototype._destroy=function(_e,Fe){this.push(null),Fe(_e)},ae.prototype.push=function(_e,Fe){var Ae,be=this._readableState;return be.objectMode?Ae=!0:"string"==typeof _e&&((Fe=Fe||be.defaultEncoding)!==be.encoding&&(_e=B.from(_e,Fe),Fe=""),Ae=!0),fe(this,_e,Fe,!1,Ae)},ae.prototype.unshift=function(_e){return fe(this,_e,null,!0,!1)},ae.prototype.isPaused=function(){return!1===this._readableState.flowing},ae.prototype.setEncoding=function(_e){return Z||(Z=_(49937).I),this._readableState.decoder=new Z(_e),this._readableState.encoding=_e,this};function a(_e,Fe){return _e<=0||0===Fe.length&&Fe.ended?0:Fe.objectMode?1:_e!=_e?Fe.flowing&&Fe.length?Fe.buffer.head.data.length:Fe.length:(_e>Fe.highWaterMark&&(Fe.highWaterMark=function C(_e){return _e>=8388608?_e=8388608:(_e--,_e|=_e>>>1,_e|=_e>>>2,_e|=_e>>>4,_e|=_e>>>8,_e|=_e>>>16,_e++),_e}(_e)),_e<=Fe.length?_e:Fe.ended?Fe.length:(Fe.needReadable=!0,0))}function m(_e){var Fe=_e._readableState;Fe.needReadable=!1,Fe.emittedReadable||(z("emitReadable",Fe.flowing),Fe.emittedReadable=!0,Fe.sync?b.nextTick(p,_e):p(_e))}function p(_e){z("emit readable"),_e.emit("readable"),$(_e)}function E(_e,Fe){Fe.readingMore||(Fe.readingMore=!0,b.nextTick(D,_e,Fe))}function D(_e,Fe){for(var be=Fe.length;!Fe.reading&&!Fe.flowing&&!Fe.ended&&Fe.length<Fe.highWaterMark&&(z("maybeReadMore read 0"),_e.read(0),be!==Fe.length);)be=Fe.length;Fe.readingMore=!1}function x(_e){z("readable nexttick read 0"),_e.read(0)}function v(_e,Fe){Fe.reading||(z("resume read 0"),_e.read(0)),Fe.resumeScheduled=!1,Fe.awaitDrain=0,_e.emit("resume"),$(_e),Fe.flowing&&!Fe.reading&&_e.read(0)}function $(_e){var Fe=_e._readableState;for(z("flow",Fe.flowing);Fe.flowing&&null!==_e.read(););}function F(_e,Fe){return 0===Fe.length?null:(Fe.objectMode?be=Fe.buffer.shift():!_e||_e>=Fe.length?(be=Fe.decoder?Fe.buffer.join(""):1===Fe.buffer.length?Fe.buffer.head.data:Fe.buffer.concat(Fe.length),Fe.buffer.clear()):be=function Q(_e,Fe,be){var Ae;return _e<Fe.head.data.length?(Ae=Fe.head.data.slice(0,_e),Fe.head.data=Fe.head.data.slice(_e)):Ae=_e===Fe.head.data.length?Fe.shift():be?function de(_e,Fe){var be=Fe.head,Ae=1,ge=be.data;for(_e-=ge.length;be=be.next;){var me=be.data,te=_e>me.length?me.length:_e;if(ge+=te===me.length?me:me.slice(0,_e),0==(_e-=te)){te===me.length?(++Ae,Fe.head=be.next?be.next:Fe.tail=null):(Fe.head=be,be.data=me.slice(te));break}++Ae}return Fe.length-=Ae,ge}(_e,Fe):function Ce(_e,Fe){var be=B.allocUnsafe(_e),Ae=Fe.head,ge=1;for(Ae.data.copy(be),_e-=Ae.data.length;Ae=Ae.next;){var me=Ae.data,te=_e>me.length?me.length:_e;if(me.copy(be,be.length-_e,0,te),0==(_e-=te)){te===me.length?(++ge,Fe.head=Ae.next?Ae.next:Fe.tail=null):(Fe.head=Ae,Ae.data=me.slice(te));break}++ge}return Fe.length-=ge,be}(_e,Fe),Ae}(_e,Fe.buffer,Fe.decoder),be);var be}function Re(_e){var Fe=_e._readableState;if(Fe.length>0)throw new Error('"endReadable()" called on non-empty stream');Fe.endEmitted||(Fe.ended=!0,b.nextTick(Ve,Fe,_e))}function Ve(_e,Fe){!_e.endEmitted&&0===_e.length&&(_e.endEmitted=!0,Fe.readable=!1,Fe.emit("end"))}function Ee(_e,Fe){for(var be=0,Ae=_e.length;be<Ae;be++)if(_e[be]===Fe)return be;return-1}ae.prototype.read=function(_e){z("read",_e),_e=parseInt(_e,10);var Fe=this._readableState,be=_e;if(0!==_e&&(Fe.emittedReadable=!1),0===_e&&Fe.needReadable&&(Fe.length>=Fe.highWaterMark||Fe.ended))return z("read: emitReadable",Fe.length,Fe.ended),0===Fe.length&&Fe.ended?Re(this):m(this),null;if(0===(_e=a(_e,Fe))&&Fe.ended)return 0===Fe.length&&Re(this),null;var ge,Ae=Fe.needReadable;return z("need readable",Ae),(0===Fe.length||Fe.length-_e<Fe.highWaterMark)&&z("length less than watermark",Ae=!0),Fe.ended||Fe.reading?z("reading or ended",Ae=!1):Ae&&(z("do read"),Fe.reading=!0,Fe.sync=!0,0===Fe.length&&(Fe.needReadable=!0),this._read(Fe.highWaterMark),Fe.sync=!1,Fe.reading||(_e=a(be,Fe))),null===(ge=_e>0?F(_e,Fe):null)?(Fe.needReadable=!0,_e=0):Fe.length-=_e,0===Fe.length&&(Fe.ended||(Fe.needReadable=!0),be!==_e&&Fe.ended&&Re(this)),null!==ge&&this.emit("data",ge),ge},ae.prototype._read=function(_e){this.emit("error",new Error("_read() is not implemented"))},ae.prototype.pipe=function(_e,Fe){var be=this,Ae=this._readableState;switch(Ae.pipesCount){case 0:Ae.pipes=_e;break;case 1:Ae.pipes=[Ae.pipes,_e];break;default:Ae.pipes.push(_e)}Ae.pipesCount+=1,z("pipe count=%d opts=%j",Ae.pipesCount,Fe);var me=Fe&&!1===Fe.end||_e===y.stdout||_e===y.stderr?mt:ne;function ne(){z("onend"),_e.end()}Ae.endEmitted?b.nextTick(me):be.once("end",me),_e.on("unpipe",function te(K,T){z("onunpipe"),K===be&&T&&!1===T.hasUnpiped&&(T.hasUnpiped=!0,function Be(){z("cleanup"),_e.removeListener("close",Xe),_e.removeListener("finish",Ue),_e.removeListener("drain",ue),_e.removeListener("error",Dt),_e.removeListener("unpipe",te),be.removeListener("end",ne),be.removeListener("end",mt),be.removeListener("data",ze),De=!0,Ae.awaitDrain&&(!_e._writableState||_e._writableState.needDrain)&&ue()}())});var ue=function R(_e){return function(){var Fe=_e._readableState;z("pipeOnDrain",Fe.awaitDrain),Fe.awaitDrain&&Fe.awaitDrain--,0===Fe.awaitDrain&&O(_e,"data")&&(Fe.flowing=!0,$(_e))}}(be);_e.on("drain",ue);var De=!1,Qe=!1;function ze(K){z("ondata"),Qe=!1,!1===_e.write(K)&&!Qe&&((1===Ae.pipesCount&&Ae.pipes===_e||Ae.pipesCount>1&&-1!==Ee(Ae.pipes,_e))&&!De&&(z("false write response, pause",Ae.awaitDrain),Ae.awaitDrain++,Qe=!0),be.pause())}function Dt(K){z("onerror",K),mt(),_e.removeListener("error",Dt),0===O(_e,"error")&&_e.emit("error",K)}function Xe(){_e.removeListener("finish",Ue),mt()}function Ue(){z("onfinish"),_e.removeListener("close",Xe),mt()}function mt(){z("unpipe"),be.unpipe(_e)}return be.on("data",ze),function se(_e,Fe,be){if("function"==typeof _e.prependListener)return _e.prependListener(Fe,be);_e._events&&_e._events[Fe]?P(_e._events[Fe])?_e._events[Fe].unshift(be):_e._events[Fe]=[be,_e._events[Fe]]:_e.on(Fe,be)}(_e,"error",Dt),_e.once("close",Xe),_e.once("finish",Ue),_e.emit("pipe",be),Ae.flowing||(z("pipe resume"),be.resume()),_e},ae.prototype.unpipe=function(_e){var Fe=this._readableState,be={hasUnpiped:!1};if(0===Fe.pipesCount)return this;if(1===Fe.pipesCount)return _e&&_e!==Fe.pipes||(_e||(_e=Fe.pipes),Fe.pipes=null,Fe.pipesCount=0,Fe.flowing=!1,_e&&_e.emit("unpipe",this,be)),this;if(!_e){var Ae=Fe.pipes,ge=Fe.pipesCount;Fe.pipes=null,Fe.pipesCount=0,Fe.flowing=!1;for(var me=0;me<ge;me++)Ae[me].emit("unpipe",this,{hasUnpiped:!1});return this}var te=Ee(Fe.pipes,_e);return-1===te||(Fe.pipes.splice(te,1),Fe.pipesCount-=1,1===Fe.pipesCount&&(Fe.pipes=Fe.pipes[0]),_e.emit("unpipe",this,be)),this},ae.prototype.addListener=ae.prototype.on=function(_e,Fe){var be=S.prototype.on.call(this,_e,Fe);if("data"===_e)!1!==this._readableState.flowing&&this.resume();else if("readable"===_e){var Ae=this._readableState;!Ae.endEmitted&&!Ae.readableListening&&(Ae.readableListening=Ae.needReadable=!0,Ae.emittedReadable=!1,Ae.reading?Ae.length&&m(this):b.nextTick(x,this))}return be},ae.prototype.resume=function(){var _e=this._readableState;return _e.flowing||(z("resume"),_e.flowing=!0,function s(_e,Fe){Fe.resumeScheduled||(Fe.resumeScheduled=!0,b.nextTick(v,_e,Fe))}(this,_e)),this},ae.prototype.pause=function(){return z("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(z("pause"),this._readableState.flowing=!1,this.emit("pause")),this},ae.prototype.wrap=function(_e){var Fe=this,be=this._readableState,Ae=!1;for(var ge in _e.on("end",function(){if(z("wrapped end"),be.decoder&&!be.ended){var te=be.decoder.end();te&&te.length&&Fe.push(te)}Fe.push(null)}),_e.on("data",function(te){z("wrapped data"),be.decoder&&(te=be.decoder.write(te)),be.objectMode&&null==te||!(be.objectMode||te&&te.length)||Fe.push(te)||(Ae=!0,_e.pause())}),_e)void 0===this[ge]&&"function"==typeof _e[ge]&&(this[ge]=function(te){return function(){return _e[te].apply(_e,arguments)}}(ge));for(var me=0;me<J.length;me++)_e.on(J[me],this.emit.bind(this,J[me]));return this._read=function(te){z("wrapped _read",te),Ae&&(Ae=!1,_e.resume())},this},Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),ae._fromList=F},93045:(Je,j,_)=>{"use strict";Je.exports=H;var y=_(23827),b=Object.create(_(27637));function P(S,B){var N=this._transformState;N.transforming=!1;var U=N.writecb;if(!U)return this.emit("error",new Error("write callback called multiple times"));N.writechunk=null,N.writecb=null,null!=B&&this.push(B),U(S);var A=this._readableState;A.reading=!1,(A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}function H(S){if(!(this instanceof H))return new H(S);y.call(this,S),this._transformState={afterTransform:P.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&("function"==typeof S.transform&&(this._transform=S.transform),"function"==typeof S.flush&&(this._flush=S.flush)),this.on("prefinish",w)}function w(){var S=this;"function"==typeof this._flush?this._flush(function(B,N){O(S,B,N)}):O(this,null,null)}function O(S,B,N){if(B)return S.emit("error",B);if(null!=N&&S.push(N),S._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(S._transformState.transforming)throw new Error("Calling transform done when still transforming");return S.push(null)}b.inherits=_(71993),b.inherits(H,y),H.prototype.push=function(S,B){return this._transformState.needTransform=!1,y.prototype.push.call(this,S,B)},H.prototype._transform=function(S,B,N){throw new Error("_transform() is not implemented")},H.prototype._write=function(S,B,N){var U=this._transformState;if(U.writecb=N,U.writechunk=S,U.writeencoding=B,!U.transforming){var A=this._readableState;(U.needTransform||A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}},H.prototype._read=function(S){var B=this._transformState;null!==B.writechunk&&B.writecb&&!B.transforming?(B.transforming=!0,this._transform(B.writechunk,B.writeencoding,B.afterTransform)):B.needTransform=!0},H.prototype._destroy=function(S,B){var N=this;y.prototype._destroy.call(this,S,function(U){B(U),N.emit("close")})}},14817:(Je,j,_)=>{"use strict";var y=_(40573),b=_(9656);function H(s){var v=this;this.next=null,this.entry=null,this.finish=function(){!function x(s,v,$){var F=s.entry;for(s.entry=null;F;){var Q=F.callback;v.pendingcb--,Q($),F=F.next}v.corkedRequestsFree.next=s}(v,s)}}Je.exports=J;var O,w=!y.browser&&["v0.10","v0.9."].indexOf(y.version.slice(0,5))>-1?setImmediate:b.nextTick;J.WritableState=q;var S=Object.create(_(27637));S.inherits=_(71993);var Z,B={deprecate:_(3398)},N=_(62078),U=_(29783).Buffer,A=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},z=_(43357);function ee(){}function q(s,v){O=O||_(23827);var $=v instanceof O;this.objectMode=!!(s=s||{}).objectMode,$&&(this.objectMode=this.objectMode||!!s.writableObjectMode);var F=s.highWaterMark,Q=s.writableHighWaterMark;this.highWaterMark=F||0===F?F:$&&(Q||0===Q)?Q:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===s.decodeStrings),this.defaultEncoding=s.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Re){!function Pe(s,v){var $=s._writableState,F=$.sync,Q=$.writecb;if(function Me(s){s.writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0}($),v)!function we(s,v,$,F,Q){--v.pendingcb,$?(b.nextTick(Q,F),b.nextTick(D,s,v),s._writableState.errorEmitted=!0,s.emit("error",F)):(Q(F),s._writableState.errorEmitted=!0,s.emit("error",F),D(s,v))}(s,$,F,v,Q);else{var de=m($);!de&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&d(s,$),F?w(C,s,$,de,Q):C(s,$,de,Q)}}(v,Re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new H(this)}function J(s){if(O=O||_(23827),!(Z.call(J,this)||this instanceof O))return new J(s);this._writableState=new q(s,this),this.writable=!0,s&&("function"==typeof s.write&&(this._write=s.write),"function"==typeof s.writev&&(this._writev=s.writev),"function"==typeof s.destroy&&(this._destroy=s.destroy),"function"==typeof s.final&&(this._final=s.final)),N.call(this)}function he(s,v,$,F,Q,de,Ce){v.writelen=F,v.writecb=Ce,v.writing=!0,v.sync=!0,$?s._writev(Q,v.onwrite):s._write(Q,de,v.onwrite),v.sync=!1}function C(s,v,$,F){$||function a(s,v){0===v.length&&v.needDrain&&(v.needDrain=!1,s.emit("drain"))}(s,v),v.pendingcb--,F(),D(s,v)}function d(s,v){v.bufferProcessing=!0;var $=v.bufferedRequest;if(s._writev&&$&&$.next){var Q=new Array(v.bufferedRequestCount),de=v.corkedRequestsFree;de.entry=$;for(var Ce=0,Re=!0;$;)Q[Ce]=$,$.isBuf||(Re=!1),$=$.next,Ce+=1;Q.allBuffers=Re,he(s,v,!0,v.length,Q,"",de.finish),v.pendingcb++,v.lastBufferedRequest=null,de.next?(v.corkedRequestsFree=de.next,de.next=null):v.corkedRequestsFree=new H(v),v.bufferedRequestCount=0}else{for(;$;){var Ve=$.chunk;if(he(s,v,!1,v.objectMode?1:Ve.length,Ve,$.encoding,$.callback),$=$.next,v.bufferedRequestCount--,v.writing)break}null===$&&(v.lastBufferedRequest=null)}v.bufferedRequest=$,v.bufferProcessing=!1}function m(s){return s.ending&&0===s.length&&null===s.bufferedRequest&&!s.finished&&!s.writing}function p(s,v){s._final(function($){v.pendingcb--,$&&s.emit("error",$),v.prefinished=!0,s.emit("prefinish"),D(s,v)})}function D(s,v){var $=m(v);return $&&(function E(s,v){!v.prefinished&&!v.finalCalled&&("function"==typeof s._final?(v.pendingcb++,v.finalCalled=!0,b.nextTick(p,s,v)):(v.prefinished=!0,s.emit("prefinish")))}(s,v),0===v.pendingcb&&(v.finished=!0,s.emit("finish"))),$}S.inherits(J,N),q.prototype.getBuffer=function(){for(var v=this.bufferedRequest,$=[];v;)$.push(v),v=v.next;return $},function(){try{Object.defineProperty(q.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(s){return!!Z.call(this,s)||this===J&&s&&s._writableState instanceof q}})):Z=function(s){return s instanceof this},J.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},J.prototype.write=function(s,v,$){var F=this._writableState,Q=!1,de=!F.objectMode&&function L(s){return U.isBuffer(s)||s instanceof A}(s);return de&&!U.isBuffer(s)&&(s=function G(s){return U.from(s)}(s)),"function"==typeof v&&($=v,v=null),de?v="buffer":v||(v=F.defaultEncoding),"function"!=typeof $&&($=ee),F.ended?function se(s,v){var $=new Error("write after end");s.emit("error",$),b.nextTick(v,$)}(this,$):(de||function ce(s,v,$,F){var Q=!0,de=!1;return null===$?de=new TypeError("May not write null values to stream"):"string"!=typeof $&&void 0!==$&&!v.objectMode&&(de=new TypeError("Invalid non-string/buffer chunk")),de&&(s.emit("error",de),b.nextTick(F,de),Q=!1),Q}(this,F,s,$))&&(F.pendingcb++,Q=function fe(s,v,$,F,Q,de){if(!$){var Ce=function ae(s,v,$){return!s.objectMode&&!1!==s.decodeStrings&&"string"==typeof v&&(v=U.from(v,$)),v}(v,F,Q);F!==Ce&&($=!0,Q="buffer",F=Ce)}var Re=v.objectMode?1:F.length;v.length+=Re;var Ve=v.length<v.highWaterMark;if(Ve||(v.needDrain=!0),v.writing||v.corked){var Ee=v.lastBufferedRequest;v.lastBufferedRequest={chunk:F,encoding:Q,isBuf:$,callback:de,next:null},Ee?Ee.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else he(s,v,!1,Re,F,Q,de);return Ve}(this,F,de,s,v,$)),Q},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var s=this._writableState;s.corked&&(s.corked--,!s.writing&&!s.corked&&!s.bufferProcessing&&s.bufferedRequest&&d(this,s))},J.prototype.setDefaultEncoding=function(v){if("string"==typeof v&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),J.prototype._write=function(s,v,$){$(new Error("_write() is not implemented"))},J.prototype._writev=null,J.prototype.end=function(s,v,$){var F=this._writableState;"function"==typeof s?($=s,s=null,v=null):"function"==typeof v&&($=v,v=null),null!=s&&this.write(s,v),F.corked&&(F.corked=1,this.uncork()),F.ending||function R(s,v,$){v.ending=!0,D(s,v),$&&(v.finished?b.nextTick($):s.once("finish",$)),v.ended=!0,s.writable=!1}(this,F,$)},Object.defineProperty(J.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(s){this._writableState&&(this._writableState.destroyed=s)}}),J.prototype.destroy=z.destroy,J.prototype._undestroy=z.undestroy,J.prototype._destroy=function(s,v){this.end(),v(s)}},10793:(Je,j,_)=>{"use strict";var b=_(29783).Buffer,P=_(21638);function H(w,O,S){w.copy(O,S)}Je.exports=function(){function w(){(function y(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")})(this,w),this.head=null,this.tail=null,this.length=0}return w.prototype.push=function(S){var B={data:S,next:null};this.length>0?this.tail.next=B:this.head=B,this.tail=B,++this.length},w.prototype.unshift=function(S){var B={data:S,next:this.head};0===this.length&&(this.tail=B),this.head=B,++this.length},w.prototype.shift=function(){if(0!==this.length){var S=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,S}},w.prototype.clear=function(){this.head=this.tail=null,this.length=0},w.prototype.join=function(S){if(0===this.length)return"";for(var B=this.head,N=""+B.data;B=B.next;)N+=S+B.data;return N},w.prototype.concat=function(S){if(0===this.length)return b.alloc(0);for(var B=b.allocUnsafe(S>>>0),N=this.head,U=0;N;)H(N.data,B,U),U+=N.data.length,N=N.next;return B},w}(),P&&P.inspect&&P.inspect.custom&&(Je.exports.prototype[P.inspect.custom]=function(){var w=P.inspect({length:this.length});return this.constructor.name+" "+w})},43357:(Je,j,_)=>{"use strict";var y=_(9656);function H(w,O){w.emit("error",O)}Je.exports={destroy:function b(w,O){var S=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(O?O(w):w&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,y.nextTick(H,this,w)):y.nextTick(H,this,w)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(w||null,function(U){!O&&U?S._writableState?S._writableState.errorEmitted||(S._writableState.errorEmitted=!0,y.nextTick(H,S,U)):y.nextTick(H,S,U):O&&O(U)}),this)},undestroy:function P(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:(Je,j,_)=>{Je.exports=_(44356).EventEmitter},29783:(Je,j,_)=>{var y=_(83838),b=y.Buffer;function P(w,O){for(var S in w)O[S]=w[S]}function H(w,O,S){return b(w,O,S)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?Je.exports=y:(P(y,j),j.Buffer=H),P(b,H),H.from=function(w,O,S){if("number"==typeof w)throw new TypeError("Argument must not be a number");return b(w,O,S)},H.alloc=function(w,O,S){if("number"!=typeof w)throw new TypeError("Argument must be a number");var B=b(w);return void 0!==O?"string"==typeof S?B.fill(O,S):B.fill(O):B.fill(0),B},H.allocUnsafe=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return b(w)},H.allocUnsafeSlow=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return y.SlowBuffer(w)}},64670:(Je,j,_)=>{(j=Je.exports=_(81217)).Stream=j,j.Readable=j,j.Writable=_(14817),j.Duplex=_(23827),j.Transform=_(93045),j.PassThrough=_(75519)},49937:(Je,j,_)=>{"use strict";var y=_(37656).Buffer,b=y.isEncoding||function(J){switch((J=""+J)&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function w(J){var se;switch(this.encoding=function H(J){var se=function P(J){if(!J)return"utf8";for(var se;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(se)return;J=(""+J).toLowerCase(),se=!0}}(J);if("string"!=typeof se&&(y.isEncoding===b||!b(J)))throw new Error("Unknown encoding: "+J);return se||J}(J),this.encoding){case"utf16le":this.text=G,this.end=L,se=4;break;case"utf8":this.fillLast=N,se=4;break;case"base64":this.text=z,this.end=ee,se=3;break;default:return this.write=q,void(this.end=Z)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(se)}function O(J){return J<=127?0:J>>5==6?2:J>>4==14?3:J>>3==30?4:J>>6==2?-1:-2}function N(J){var se=this.lastTotal-this.lastNeed,ce=function B(J,se,ce){if(128!=(192&se[0]))return J.lastNeed=0,"\ufffd";if(J.lastNeed>1&&se.length>1){if(128!=(192&se[1]))return J.lastNeed=1,"\ufffd";if(J.lastNeed>2&&se.length>2&&128!=(192&se[2]))return J.lastNeed=2,"\ufffd"}}(this,J);return void 0!==ce?ce:this.lastNeed<=J.length?(J.copy(this.lastChar,se,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(J.copy(this.lastChar,se,0,J.length),void(this.lastNeed-=J.length))}function G(J,se){if((J.length-se)%2==0){var ce=J.toString("utf16le",se);if(ce){var ae=ce.charCodeAt(ce.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],ce.slice(0,-1)}return ce}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",se,J.length-1)}function L(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):se}function z(J,se){var ce=(J.length-se)%3;return 0===ce?J.toString("base64",se):(this.lastNeed=3-ce,this.lastTotal=3,1===ce?this.lastChar[0]=J[J.length-1]:(this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1]),J.toString("base64",se,J.length-ce))}function ee(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+this.lastChar.toString("base64",0,3-this.lastNeed):se}function q(J){return J.toString(this.encoding)}function Z(J){return J&&J.length?this.write(J):""}j.I=w,w.prototype.write=function(J){if(0===J.length)return"";var se,ce;if(this.lastNeed){if(void 0===(se=this.fillLast(J)))return"";ce=this.lastNeed,this.lastNeed=0}else ce=0;return ce<J.length?se?se+this.text(J,ce):this.text(J,ce):se||""},w.prototype.end=function A(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+"\ufffd":se},w.prototype.text=function U(J,se){var ce=function S(J,se,ce){var ae=se.length-1;if(ae<ce)return 0;var fe=O(se[ae]);return fe>=0?(fe>0&&(J.lastNeed=fe-1),fe):--ae<ce||-2===fe?0:(fe=O(se[ae]))>=0?(fe>0&&(J.lastNeed=fe-2),fe):--ae<ce||-2===fe?0:(fe=O(se[ae]))>=0?(fe>0&&(2===fe?fe=0:J.lastNeed=fe-3),fe):0}(this,J,se);if(!this.lastNeed)return J.toString("utf8",se);this.lastTotal=ce;var ae=J.length-(ce-this.lastNeed);return J.copy(this.lastChar,0,ae),J.toString("utf8",se,ae)},w.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length}},37656:(Je,j,_)=>{var y=_(83838),b=y.Buffer;function P(w,O){for(var S in w)O[S]=w[S]}function H(w,O,S){return b(w,O,S)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?Je.exports=y:(P(y,j),j.Buffer=H),P(b,H),H.from=function(w,O,S){if("number"==typeof w)throw new TypeError("Argument must not be a number");return b(w,O,S)},H.alloc=function(w,O,S){if("number"!=typeof w)throw new TypeError("Argument must be a number");var B=b(w);return void 0!==O?"string"==typeof S?B.fill(O,S):B.fill(O):B.fill(0),B},H.allocUnsafe=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return b(w)},H.allocUnsafeSlow=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return y.SlowBuffer(w)}},13546:Je=>{Je.exports=function(_,y){for(var b=Math.min(_.length,y.length),P=new Buffer(b),H=0;H<b;++H)P[H]=_[H]^y[H];return P}},83838:(Je,j,_)=>{"use strict";var y=_(13981),b=_(22020),P="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function J(te){return+te!=te&&(te=0),S.alloc(+te)},j.INSPECT_MAX_BYTES=50;var H=2147483647;function O(te){if(te>H)throw new RangeError('The value "'+te+'" is invalid for option "size"');var ne=new Uint8Array(te);return Object.setPrototypeOf(ne,S.prototype),ne}function S(te,ne,ue){if("number"==typeof te){if("string"==typeof ne)throw new TypeError('The "string" argument must be of type string. Received type number');return A(te)}return B(te,ne,ue)}function B(te,ne,ue){if("string"==typeof te)return function G(te,ne){if(("string"!=typeof ne||""===ne)&&(ne="utf8"),!S.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);var ue=0|se(te,ne),De=O(ue),Be=De.write(te,ne);return Be!==ue&&(De=De.slice(0,Be)),De}(te,ne);if(ArrayBuffer.isView(te))return function z(te){if(Ae(te,Uint8Array)){var ne=new Uint8Array(te);return ee(ne.buffer,ne.byteOffset,ne.byteLength)}return L(te)}(te);if(null==te)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(Ae(te,ArrayBuffer)||te&&Ae(te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(te,SharedArrayBuffer)||te&&Ae(te.buffer,SharedArrayBuffer)))return ee(te,ne,ue);if("number"==typeof te)throw new TypeError('The "value" argument must not be of type number. Received type number');var De=te.valueOf&&te.valueOf();if(null!=De&&De!==te)return S.from(De,ne,ue);var Be=function q(te){if(S.isBuffer(te)){var ne=0|Z(te.length),ue=O(ne);return 0===ue.length||te.copy(ue,0,0,ne),ue}return void 0!==te.length?"number"!=typeof te.length||ge(te.length)?O(0):L(te):"Buffer"===te.type&&Array.isArray(te.data)?L(te.data):void 0}(te);if(Be)return Be;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof te[Symbol.toPrimitive])return S.from(te[Symbol.toPrimitive]("string"),ne,ue);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}function N(te){if("number"!=typeof te)throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function A(te){return N(te),O(te<0?0:0|Z(te))}function L(te){for(var ne=te.length<0?0:0|Z(te.length),ue=O(ne),De=0;De<ne;De+=1)ue[De]=255&te[De];return ue}function ee(te,ne,ue){if(ne<0||te.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<ne+(ue||0))throw new RangeError('"length" is outside of buffer bounds');var De;return De=void 0===ne&&void 0===ue?new Uint8Array(te):void 0===ue?new Uint8Array(te,ne):new Uint8Array(te,ne,ue),Object.setPrototypeOf(De,S.prototype),De}function Z(te){if(te>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|te}function se(te,ne){if(S.isBuffer(te))return te.length;if(ArrayBuffer.isView(te)||Ae(te,ArrayBuffer))return te.byteLength;if("string"!=typeof te)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);var ue=te.length,De=arguments.length>2&&!0===arguments[2];if(!De&&0===ue)return 0;for(var Be=!1;;)switch(ne){case"ascii":case"latin1":case"binary":return ue;case"utf8":case"utf-8":return Ve(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ue;case"hex":return ue>>>1;case"base64":return Fe(te).length;default:if(Be)return De?-1:Ve(te).length;ne=(""+ne).toLowerCase(),Be=!0}}function ce(te,ne,ue){var De=!1;if((void 0===ne||ne<0)&&(ne=0),ne>this.length||((void 0===ue||ue>this.length)&&(ue=this.length),ue<=0)||(ue>>>=0)<=(ne>>>=0))return"";for(te||(te="utf8");;)switch(te){case"hex":return x(this,ne,ue);case"utf8":case"utf-8":return m(this,ne,ue);case"ascii":return D(this,ne,ue);case"latin1":case"binary":return R(this,ne,ue);case"base64":return d(this,ne,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,ne,ue);default:if(De)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),De=!0}}function ae(te,ne,ue){var De=te[ne];te[ne]=te[ue],te[ue]=De}function fe(te,ne,ue,De,Be){if(0===te.length)return-1;if("string"==typeof ue?(De=ue,ue=0):ue>2147483647?ue=2147483647:ue<-2147483648&&(ue=-2147483648),ge(ue=+ue)&&(ue=Be?0:te.length-1),ue<0&&(ue=te.length+ue),ue>=te.length){if(Be)return-1;ue=te.length-1}else if(ue<0){if(!Be)return-1;ue=0}if("string"==typeof ne&&(ne=S.from(ne,De)),S.isBuffer(ne))return 0===ne.length?-1:he(te,ne,ue,De,Be);if("number"==typeof ne)return ne&=255,"function"==typeof Uint8Array.prototype.indexOf?Be?Uint8Array.prototype.indexOf.call(te,ne,ue):Uint8Array.prototype.lastIndexOf.call(te,ne,ue):he(te,[ne],ue,De,Be);throw new TypeError("val must be string, number or Buffer")}function he(te,ne,ue,De,Be){var Ue,Qe=1,ze=te.length,Dt=ne.length;if(void 0!==De&&("ucs2"===(De=String(De).toLowerCase())||"ucs-2"===De||"utf16le"===De||"utf-16le"===De)){if(te.length<2||ne.length<2)return-1;Qe=2,ze/=2,Dt/=2,ue/=2}function Xe(M,Y){return 1===Qe?M[Y]:M.readUInt16BE(Y*Qe)}if(Be){var mt=-1;for(Ue=ue;Ue<ze;Ue++)if(Xe(te,Ue)===Xe(ne,-1===mt?0:Ue-mt)){if(-1===mt&&(mt=Ue),Ue-mt+1===Dt)return mt*Qe}else-1!==mt&&(Ue-=Ue-mt),mt=-1}else for(ue+Dt>ze&&(ue=ze-Dt),Ue=ue;Ue>=0;Ue--){for(var K=!0,T=0;T<Dt;T++)if(Xe(te,Ue+T)!==Xe(ne,T)){K=!1;break}if(K)return Ue}return-1}function we(te,ne,ue,De){ue=Number(ue)||0;var Be=te.length-ue;De?(De=Number(De))>Be&&(De=Be):De=Be;var Qe=ne.length;De>Qe/2&&(De=Qe/2);for(var ze=0;ze<De;++ze){var Dt=parseInt(ne.substr(2*ze,2),16);if(ge(Dt))return ze;te[ue+ze]=Dt}return ze}function Me(te,ne,ue,De){return be(Ve(ne,te.length-ue),te,ue,De)}function Pe(te,ne,ue,De){return be(function Ee(te){for(var ne=[],ue=0;ue<te.length;++ue)ne.push(255&te.charCodeAt(ue));return ne}(ne),te,ue,De)}function C(te,ne,ue,De){return be(Fe(ne),te,ue,De)}function a(te,ne,ue,De){return be(function _e(te,ne){for(var ue,De,Qe=[],ze=0;ze<te.length&&!((ne-=2)<0);++ze)De=(ue=te.charCodeAt(ze))>>8,Qe.push(ue%256),Qe.push(De);return Qe}(ne,te.length-ue),te,ue,De)}function d(te,ne,ue){return y.fromByteArray(0===ne&&ue===te.length?te:te.slice(ne,ue))}function m(te,ne,ue){ue=Math.min(te.length,ue);for(var De=[],Be=ne;Be<ue;){var Xe,Ue,mt,K,Qe=te[Be],ze=null,Dt=Qe>239?4:Qe>223?3:Qe>191?2:1;if(Be+Dt<=ue)switch(Dt){case 1:Qe<128&&(ze=Qe);break;case 2:128==(192&(Xe=te[Be+1]))&&(K=(31&Qe)<<6|63&Xe)>127&&(ze=K);break;case 3:Ue=te[Be+2],128==(192&(Xe=te[Be+1]))&&128==(192&Ue)&&(K=(15&Qe)<<12|(63&Xe)<<6|63&Ue)>2047&&(K<55296||K>57343)&&(ze=K);break;case 4:Ue=te[Be+2],mt=te[Be+3],128==(192&(Xe=te[Be+1]))&&128==(192&Ue)&&128==(192&mt)&&(K=(15&Qe)<<18|(63&Xe)<<12|(63&Ue)<<6|63&mt)>65535&&K<1114112&&(ze=K)}null===ze?(ze=65533,Dt=1):ze>65535&&(De.push((ze-=65536)>>>10&1023|55296),ze=56320|1023&ze),De.push(ze),Be+=Dt}return function E(te){var ne=te.length;if(ne<=p)return String.fromCharCode.apply(String,te);for(var ue="",De=0;De<ne;)ue+=String.fromCharCode.apply(String,te.slice(De,De+=p));return ue}(De)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function w(){try{var te=new Uint8Array(1),ne={foo:function(){return 42}};return Object.setPrototypeOf(ne,Uint8Array.prototype),Object.setPrototypeOf(te,ne),42===te.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(te,ne,ue){return B(te,ne,ue)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(te,ne,ue){return function U(te,ne,ue){return N(te),te<=0?O(te):void 0!==ne?"string"==typeof ue?O(te).fill(ne,ue):O(te).fill(ne):O(te)}(te,ne,ue)},S.allocUnsafe=function(te){return A(te)},S.allocUnsafeSlow=function(te){return A(te)},S.isBuffer=function(ne){return null!=ne&&!0===ne._isBuffer&&ne!==S.prototype},S.compare=function(ne,ue){if(Ae(ne,Uint8Array)&&(ne=S.from(ne,ne.offset,ne.byteLength)),Ae(ue,Uint8Array)&&(ue=S.from(ue,ue.offset,ue.byteLength)),!S.isBuffer(ne)||!S.isBuffer(ue))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ne===ue)return 0;for(var De=ne.length,Be=ue.length,Qe=0,ze=Math.min(De,Be);Qe<ze;++Qe)if(ne[Qe]!==ue[Qe]){De=ne[Qe],Be=ue[Qe];break}return De<Be?-1:Be<De?1:0},S.isEncoding=function(ne){switch(String(ne).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(ne,ue){if(!Array.isArray(ne))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ne.length)return S.alloc(0);var De;if(void 0===ue)for(ue=0,De=0;De<ne.length;++De)ue+=ne[De].length;var Be=S.allocUnsafe(ue),Qe=0;for(De=0;De<ne.length;++De){var ze=ne[De];if(Ae(ze,Uint8Array))Qe+ze.length>Be.length?S.from(ze).copy(Be,Qe):Uint8Array.prototype.set.call(Be,ze,Qe);else{if(!S.isBuffer(ze))throw new TypeError('"list" argument must be an Array of Buffers');ze.copy(Be,Qe)}Qe+=ze.length}return Be},S.byteLength=se,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var ne=this.length;if(ne%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ue=0;ue<ne;ue+=2)ae(this,ue,ue+1);return this},S.prototype.swap32=function(){var ne=this.length;if(ne%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ue=0;ue<ne;ue+=4)ae(this,ue,ue+3),ae(this,ue+1,ue+2);return this},S.prototype.swap64=function(){var ne=this.length;if(ne%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ue=0;ue<ne;ue+=8)ae(this,ue,ue+7),ae(this,ue+1,ue+6),ae(this,ue+2,ue+5),ae(this,ue+3,ue+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){var ne=this.length;return 0===ne?"":0===arguments.length?m(this,0,ne):ce.apply(this,arguments)},S.prototype.equals=function(ne){if(!S.isBuffer(ne))throw new TypeError("Argument must be a Buffer");return this===ne||0===S.compare(this,ne)},S.prototype.inspect=function(){var ne="",ue=j.INSPECT_MAX_BYTES;return ne=this.toString("hex",0,ue).replace(/(.{2})/g,"$1 ").trim(),this.length>ue&&(ne+=" ... "),"<Buffer "+ne+">"},P&&(S.prototype[P]=S.prototype.inspect),S.prototype.compare=function(ne,ue,De,Be,Qe){if(Ae(ne,Uint8Array)&&(ne=S.from(ne,ne.offset,ne.byteLength)),!S.isBuffer(ne))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ne);if(void 0===ue&&(ue=0),void 0===De&&(De=ne?ne.length:0),void 0===Be&&(Be=0),void 0===Qe&&(Qe=this.length),ue<0||De>ne.length||Be<0||Qe>this.length)throw new RangeError("out of range index");if(Be>=Qe&&ue>=De)return 0;if(Be>=Qe)return-1;if(ue>=De)return 1;if(this===ne)return 0;for(var ze=(Qe>>>=0)-(Be>>>=0),Dt=(De>>>=0)-(ue>>>=0),Xe=Math.min(ze,Dt),Ue=this.slice(Be,Qe),mt=ne.slice(ue,De),K=0;K<Xe;++K)if(Ue[K]!==mt[K]){ze=Ue[K],Dt=mt[K];break}return ze<Dt?-1:Dt<ze?1:0},S.prototype.includes=function(ne,ue,De){return-1!==this.indexOf(ne,ue,De)},S.prototype.indexOf=function(ne,ue,De){return fe(this,ne,ue,De,!0)},S.prototype.lastIndexOf=function(ne,ue,De){return fe(this,ne,ue,De,!1)},S.prototype.write=function(ne,ue,De,Be){if(void 0===ue)Be="utf8",De=this.length,ue=0;else if(void 0===De&&"string"==typeof ue)Be=ue,De=this.length,ue=0;else{if(!isFinite(ue))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ue>>>=0,isFinite(De)?(De>>>=0,void 0===Be&&(Be="utf8")):(Be=De,De=void 0)}var Qe=this.length-ue;if((void 0===De||De>Qe)&&(De=Qe),ne.length>0&&(De<0||ue<0)||ue>this.length)throw new RangeError("Attempt to write outside buffer bounds");Be||(Be="utf8");for(var ze=!1;;)switch(Be){case"hex":return we(this,ne,ue,De);case"utf8":case"utf-8":return Me(this,ne,ue,De);case"ascii":case"latin1":case"binary":return Pe(this,ne,ue,De);case"base64":return C(this,ne,ue,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,ne,ue,De);default:if(ze)throw new TypeError("Unknown encoding: "+Be);Be=(""+Be).toLowerCase(),ze=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var p=4096;function D(te,ne,ue){var De="";ue=Math.min(te.length,ue);for(var Be=ne;Be<ue;++Be)De+=String.fromCharCode(127&te[Be]);return De}function R(te,ne,ue){var De="";ue=Math.min(te.length,ue);for(var Be=ne;Be<ue;++Be)De+=String.fromCharCode(te[Be]);return De}function x(te,ne,ue){var De=te.length;(!ne||ne<0)&&(ne=0),(!ue||ue<0||ue>De)&&(ue=De);for(var Be="",Qe=ne;Qe<ue;++Qe)Be+=me[te[Qe]];return Be}function s(te,ne,ue){for(var De=te.slice(ne,ue),Be="",Qe=0;Qe<De.length-1;Qe+=2)Be+=String.fromCharCode(De[Qe]+256*De[Qe+1]);return Be}function v(te,ne,ue){if(te%1!=0||te<0)throw new RangeError("offset is not uint");if(te+ne>ue)throw new RangeError("Trying to access beyond buffer length")}function $(te,ne,ue,De,Be,Qe){if(!S.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne>Be||ne<Qe)throw new RangeError('"value" argument is out of bounds');if(ue+De>te.length)throw new RangeError("Index out of range")}function F(te,ne,ue,De,Be,Qe){if(ue+De>te.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("Index out of range")}function Q(te,ne,ue,De,Be){return ne=+ne,ue>>>=0,Be||F(te,0,ue,4),b.write(te,ne,ue,De,23,4),ue+4}function de(te,ne,ue,De,Be){return ne=+ne,ue>>>=0,Be||F(te,0,ue,8),b.write(te,ne,ue,De,52,8),ue+8}S.prototype.slice=function(ne,ue){var De=this.length;(ne=~~ne)<0?(ne+=De)<0&&(ne=0):ne>De&&(ne=De),(ue=void 0===ue?De:~~ue)<0?(ue+=De)<0&&(ue=0):ue>De&&(ue=De),ue<ne&&(ue=ne);var Be=this.subarray(ne,ue);return Object.setPrototypeOf(Be,S.prototype),Be},S.prototype.readUintLE=S.prototype.readUIntLE=function(ne,ue,De){ne>>>=0,ue>>>=0,De||v(ne,ue,this.length);for(var Be=this[ne],Qe=1,ze=0;++ze<ue&&(Qe*=256);)Be+=this[ne+ze]*Qe;return Be},S.prototype.readUintBE=S.prototype.readUIntBE=function(ne,ue,De){ne>>>=0,ue>>>=0,De||v(ne,ue,this.length);for(var Be=this[ne+--ue],Qe=1;ue>0&&(Qe*=256);)Be+=this[ne+--ue]*Qe;return Be},S.prototype.readUint8=S.prototype.readUInt8=function(ne,ue){return ne>>>=0,ue||v(ne,1,this.length),this[ne]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(ne,ue){return ne>>>=0,ue||v(ne,2,this.length),this[ne]|this[ne+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(ne,ue){return ne>>>=0,ue||v(ne,2,this.length),this[ne]<<8|this[ne+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(ne,ue){return ne>>>=0,ue||v(ne,4,this.length),(this[ne]|this[ne+1]<<8|this[ne+2]<<16)+16777216*this[ne+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(ne,ue){return ne>>>=0,ue||v(ne,4,this.length),16777216*this[ne]+(this[ne+1]<<16|this[ne+2]<<8|this[ne+3])},S.prototype.readIntLE=function(ne,ue,De){ne>>>=0,ue>>>=0,De||v(ne,ue,this.length);for(var Be=this[ne],Qe=1,ze=0;++ze<ue&&(Qe*=256);)Be+=this[ne+ze]*Qe;return Be>=(Qe*=128)&&(Be-=Math.pow(2,8*ue)),Be},S.prototype.readIntBE=function(ne,ue,De){ne>>>=0,ue>>>=0,De||v(ne,ue,this.length);for(var Be=ue,Qe=1,ze=this[ne+--Be];Be>0&&(Qe*=256);)ze+=this[ne+--Be]*Qe;return ze>=(Qe*=128)&&(ze-=Math.pow(2,8*ue)),ze},S.prototype.readInt8=function(ne,ue){return ne>>>=0,ue||v(ne,1,this.length),128&this[ne]?-1*(255-this[ne]+1):this[ne]},S.prototype.readInt16LE=function(ne,ue){ne>>>=0,ue||v(ne,2,this.length);var De=this[ne]|this[ne+1]<<8;return 32768&De?4294901760|De:De},S.prototype.readInt16BE=function(ne,ue){ne>>>=0,ue||v(ne,2,this.length);var De=this[ne+1]|this[ne]<<8;return 32768&De?4294901760|De:De},S.prototype.readInt32LE=function(ne,ue){return ne>>>=0,ue||v(ne,4,this.length),this[ne]|this[ne+1]<<8|this[ne+2]<<16|this[ne+3]<<24},S.prototype.readInt32BE=function(ne,ue){return ne>>>=0,ue||v(ne,4,this.length),this[ne]<<24|this[ne+1]<<16|this[ne+2]<<8|this[ne+3]},S.prototype.readFloatLE=function(ne,ue){return ne>>>=0,ue||v(ne,4,this.length),b.read(this,ne,!0,23,4)},S.prototype.readFloatBE=function(ne,ue){return ne>>>=0,ue||v(ne,4,this.length),b.read(this,ne,!1,23,4)},S.prototype.readDoubleLE=function(ne,ue){return ne>>>=0,ue||v(ne,8,this.length),b.read(this,ne,!0,52,8)},S.prototype.readDoubleBE=function(ne,ue){return ne>>>=0,ue||v(ne,8,this.length),b.read(this,ne,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(ne,ue,De,Be){ne=+ne,ue>>>=0,De>>>=0,Be||$(this,ne,ue,De,Math.pow(2,8*De)-1,0);var ze=1,Dt=0;for(this[ue]=255&ne;++Dt<De&&(ze*=256);)this[ue+Dt]=ne/ze&255;return ue+De},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(ne,ue,De,Be){ne=+ne,ue>>>=0,De>>>=0,Be||$(this,ne,ue,De,Math.pow(2,8*De)-1,0);var ze=De-1,Dt=1;for(this[ue+ze]=255&ne;--ze>=0&&(Dt*=256);)this[ue+ze]=ne/Dt&255;return ue+De},S.prototype.writeUint8=S.prototype.writeUInt8=function(ne,ue,De){return ne=+ne,ue>>>=0,De||$(this,ne,ue,1,255,0),this[ue]=255&ne,ue+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(ne,ue,De){return ne=+ne,ue>>>=0,De||$(this,ne,ue,2,65535,0),this[ue]=255&ne,this[ue+1]=ne>>>8,ue+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(ne,ue,De){return ne=+ne,ue>>>=0,De||$(this,ne,ue,2,65535,0),this[ue]=ne>>>8,this[ue+1]=255&ne,ue+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(ne,ue,De){return ne=+ne,ue>>>=0,De||$(this,ne,ue,4,4294967295,0),this[ue+3]=ne>>>24,this[ue+2]=ne>>>16,this[ue+1]=ne>>>8,this[ue]=255&ne,ue+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(ne,ue,De){return ne=+ne,ue>>>=0,De||$(this,ne,ue,4,4294967295,0),this[ue]=ne>>>24,this[ue+1]=ne>>>16,this[ue+2]=ne>>>8,this[ue+3]=255&ne,ue+4},S.prototype.writeIntLE=function(ne,ue,De,Be){if(ne=+ne,ue>>>=0,!Be){var Qe=Math.pow(2,8*De-1);$(this,ne,ue,De,Qe-1,-Qe)}var ze=0,Dt=1,Xe=0;for(this[ue]=255&ne;++ze<De&&(Dt*=256);)ne<0&&0===Xe&&0!==this[ue+ze-1]&&(Xe=1),this[ue+ze]=(ne/Dt|0)-Xe&255;return ue+De},S.prototype.writeIntBE=function(ne,ue,De,Be){if(ne=+ne,ue>>>=0,!Be){var Qe=Math.pow(2,8*De-1);$(this,ne,ue,De,Qe-1,-Qe)}var ze=De-1,Dt=1,Xe=0;for(this[ue+ze]=255&ne;--ze>=0&&(Dt*=256);)ne<0&&0===Xe&&0!==this[ue+ze+1]&&(Xe=1),this[ue+ze]=(ne/Dt|0)-Xe&255;return ue+De},S.prototype.writeInt8=function(ne,ue,De){return ne=+ne,ue>>>=0,De||$(this,ne,ue,1,127,-128),ne<0&&(ne=255+ne+1),this[ue]=255&ne,ue+1},S.prototype.writeInt16LE=function(ne,ue,De){return ne=+ne,ue>>>=0,De||$(this,ne,ue,2,32767,-32768),this[ue]=255&ne,this[ue+1]=ne>>>8,ue+2},S.prototype.writeInt16BE=function(ne,ue,De){return ne=+ne,ue>>>=0,De||$(this,ne,ue,2,32767,-32768),this[ue]=ne>>>8,this[ue+1]=255&ne,ue+2},S.prototype.writeInt32LE=function(ne,ue,De){return ne=+ne,ue>>>=0,De||$(this,ne,ue,4,2147483647,-2147483648),this[ue]=255&ne,this[ue+1]=ne>>>8,this[ue+2]=ne>>>16,this[ue+3]=ne>>>24,ue+4},S.prototype.writeInt32BE=function(ne,ue,De){return ne=+ne,ue>>>=0,De||$(this,ne,ue,4,2147483647,-2147483648),ne<0&&(ne=4294967295+ne+1),this[ue]=ne>>>24,this[ue+1]=ne>>>16,this[ue+2]=ne>>>8,this[ue+3]=255&ne,ue+4},S.prototype.writeFloatLE=function(ne,ue,De){return Q(this,ne,ue,!0,De)},S.prototype.writeFloatBE=function(ne,ue,De){return Q(this,ne,ue,!1,De)},S.prototype.writeDoubleLE=function(ne,ue,De){return de(this,ne,ue,!0,De)},S.prototype.writeDoubleBE=function(ne,ue,De){return de(this,ne,ue,!1,De)},S.prototype.copy=function(ne,ue,De,Be){if(!S.isBuffer(ne))throw new TypeError("argument should be a Buffer");if(De||(De=0),!Be&&0!==Be&&(Be=this.length),ue>=ne.length&&(ue=ne.length),ue||(ue=0),Be>0&&Be<De&&(Be=De),Be===De||0===ne.length||0===this.length)return 0;if(ue<0)throw new RangeError("targetStart out of bounds");if(De<0||De>=this.length)throw new RangeError("Index out of range");if(Be<0)throw new RangeError("sourceEnd out of bounds");Be>this.length&&(Be=this.length),ne.length-ue<Be-De&&(Be=ne.length-ue+De);var Qe=Be-De;return this===ne&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ue,De,Be):Uint8Array.prototype.set.call(ne,this.subarray(De,Be),ue),Qe},S.prototype.fill=function(ne,ue,De,Be){if("string"==typeof ne){if("string"==typeof ue?(Be=ue,ue=0,De=this.length):"string"==typeof De&&(Be=De,De=this.length),void 0!==Be&&"string"!=typeof Be)throw new TypeError("encoding must be a string");if("string"==typeof Be&&!S.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);if(1===ne.length){var Qe=ne.charCodeAt(0);("utf8"===Be&&Qe<128||"latin1"===Be)&&(ne=Qe)}}else"number"==typeof ne?ne&=255:"boolean"==typeof ne&&(ne=Number(ne));if(ue<0||this.length<ue||this.length<De)throw new RangeError("Out of range index");if(De<=ue)return this;var ze;if(ue>>>=0,De=void 0===De?this.length:De>>>0,ne||(ne=0),"number"==typeof ne)for(ze=ue;ze<De;++ze)this[ze]=ne;else{var Dt=S.isBuffer(ne)?ne:S.from(ne,Be),Xe=Dt.length;if(0===Xe)throw new TypeError('The value "'+ne+'" is invalid for argument "value"');for(ze=0;ze<De-ue;++ze)this[ze+ue]=Dt[ze%Xe]}return this};var Ce=/[^+/0-9A-Za-z-_]/g;function Ve(te,ne){ne=ne||1/0;for(var ue,De=te.length,Be=null,Qe=[],ze=0;ze<De;++ze){if((ue=te.charCodeAt(ze))>55295&&ue<57344){if(!Be){if(ue>56319){(ne-=3)>-1&&Qe.push(239,191,189);continue}if(ze+1===De){(ne-=3)>-1&&Qe.push(239,191,189);continue}Be=ue;continue}if(ue<56320){(ne-=3)>-1&&Qe.push(239,191,189),Be=ue;continue}ue=65536+(Be-55296<<10|ue-56320)}else Be&&(ne-=3)>-1&&Qe.push(239,191,189);if(Be=null,ue<128){if((ne-=1)<0)break;Qe.push(ue)}else if(ue<2048){if((ne-=2)<0)break;Qe.push(ue>>6|192,63&ue|128)}else if(ue<65536){if((ne-=3)<0)break;Qe.push(ue>>12|224,ue>>6&63|128,63&ue|128)}else{if(!(ue<1114112))throw new Error("Invalid code point");if((ne-=4)<0)break;Qe.push(ue>>18|240,ue>>12&63|128,ue>>6&63|128,63&ue|128)}}return Qe}function Fe(te){return y.toByteArray(function Re(te){if((te=(te=te.split("=")[0]).trim().replace(Ce,"")).length<2)return"";for(;te.length%4!=0;)te+="=";return te}(te))}function be(te,ne,ue,De){for(var Be=0;Be<De&&!(Be+ue>=ne.length||Be>=te.length);++Be)ne[Be+ue]=te[Be];return Be}function Ae(te,ne){return te instanceof ne||null!=te&&null!=te.constructor&&null!=te.constructor.name&&te.constructor.name===ne.name}function ge(te){return te!=te}var me=function(){for(var te="0123456789abcdef",ne=new Array(256),ue=0;ue<16;++ue)for(var De=16*ue,Be=0;Be<16;++Be)ne[De+Be]=te[ue]+te[Be];return ne}()},28846:Je=>{"use strict";Je.exports=function j(_){if("number"==typeof _&&isNaN(_))throw new Error("NaN is not allowed");if("number"==typeof _&&!isFinite(_))throw new Error("Infinity is not allowed");return null===_||"object"!=typeof _?JSON.stringify(_):_.toJSON instanceof Function?j(_.toJSON()):Array.isArray(_)?`[${_.reduce((P,H,w)=>`${P}${0===w?"":","}${j(void 0===H||"symbol"==typeof H?null:H)}`,"")}]`:`{${Object.keys(_).sort().reduce((b,P)=>void 0===_[P]||"symbol"==typeof _[P]?b:`${b}${0===b.length?"":","}${j(P)}:${j(_[P])}`,"")}}`}},42381:(Je,j,_)=>{"use strict";var y=_(78341);j.fromCallback=function(b,P){if(void 0===b){var H=new Promise(function(w,O){b=function(S,B){S?O(S):w(B)}});b[void 0!==P?P:"promise"]=H}else if("function"!=typeof b)throw new TypeError("Callback must be a function");return b},j.fromPromise=function(b,P){if(void 0===P)return b;b.then(function(H){y(()=>P(null,H))}).catch(function(H){y(()=>P(H))})}},78341:Je=>{Je.exports="function"==typeof queueMicrotask?queueMicrotask:j=>Promise.resolve().then(j)},3247:(Je,j,_)=>{var y=_(27054).Buffer,b=_(7045).Transform,P=_(78454).StringDecoder;function w(O){b.call(this),this.hashMode="string"==typeof O,this.hashMode?this[O]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}_(71993)(w,b),w.prototype.update=function(O,S,B){"string"==typeof O&&(O=y.from(O,S));var N=this._update(O);return this.hashMode?this:(B&&(N=this._toString(N,B)),N)},w.prototype.setAutoPadding=function(){},w.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},w.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},w.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},w.prototype._transform=function(O,S,B){var N;try{this.hashMode?this._update(O):this.push(this._update(O))}catch(U){N=U}finally{B(N)}},w.prototype._flush=function(O){var S;try{this.push(this.__final())}catch(B){S=B}O(S)},w.prototype._finalOrDigest=function(O){var S=this.__final()||y.alloc(0);return O&&(S=this._toString(S,O,!0)),S},w.prototype._toString=function(O,S,B){if(this._decoder||(this._decoder=new P(S),this._encoding=S),this._encoding!==S)throw new Error("can't switch encodings");var N=this._decoder.write(O);return B&&(N+=this._decoder.end()),N},Je.exports=w},27637:(Je,j,_)=>{function ee(q){return Object.prototype.toString.call(q)}j.isArray=function y(q){return Array.isArray?Array.isArray(q):"[object Array]"===ee(q)},j.isBoolean=function b(q){return"boolean"==typeof q},j.isNull=function P(q){return null===q},j.isNullOrUndefined=function H(q){return null==q},j.isNumber=function w(q){return"number"==typeof q},j.isString=function O(q){return"string"==typeof q},j.isSymbol=function S(q){return"symbol"==typeof q},j.isUndefined=function B(q){return void 0===q},j.isRegExp=function N(q){return"[object RegExp]"===ee(q)},j.isObject=function U(q){return"object"==typeof q&&null!==q},j.isDate=function A(q){return"[object Date]"===ee(q)},j.isError=function G(q){return"[object Error]"===ee(q)||q instanceof Error},j.isFunction=function L(q){return"function"==typeof q},j.isPrimitive=function z(q){return null===q||"boolean"==typeof q||"number"==typeof q||"string"==typeof q||"symbol"==typeof q||typeof q>"u"},j.isBuffer=_(83838).Buffer.isBuffer},87303:(Je,j,_)=>{var y=_(90518),b=_(89606);Je.exports=function(S){return new H(S)};var P={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function H(O){this.curveType=P[O],this.curveType||(this.curveType={name:O}),this.curve=new y.ec(this.curveType.name),this.keys=void 0}function w(O,S,B){Array.isArray(O)||(O=O.toArray());var N=new Buffer(O);if(B&&N.length<B){var U=new Buffer(B-N.length);U.fill(0),N=Buffer.concat([U,N])}return S?N.toString(S):N}P.p224=P.secp224r1,P.p256=P.secp256r1=P.prime256v1,P.p192=P.secp192r1=P.prime192v1,P.p384=P.secp384r1,P.p521=P.secp521r1,H.prototype.generateKeys=function(O,S){return this.keys=this.curve.genKeyPair(),this.getPublicKey(O,S)},H.prototype.computeSecret=function(O,S,B){return S=S||"utf8",Buffer.isBuffer(O)||(O=new Buffer(O,S)),w(this.curve.keyFromPublic(O).getPublic().mul(this.keys.getPrivate()).getX(),B,this.curveType.byteLength)},H.prototype.getPublicKey=function(O,S){var B=this.keys.getPublic("compressed"===S,!0);return"hybrid"===S&&(B[0]=B[B.length-1]%2?7:6),w(B,O)},H.prototype.getPrivateKey=function(O){return w(this.keys.getPrivate(),O)},H.prototype.setPublicKey=function(O,S){return S=S||"utf8",Buffer.isBuffer(O)||(O=new Buffer(O,S)),this.keys._importPublic(O),this},H.prototype.setPrivateKey=function(O,S){S=S||"utf8",Buffer.isBuffer(O)||(O=new Buffer(O,S));var B=new b(O);return B=B.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(B),this}},89606:function(Je,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(77965).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],Ce=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],be=8191&Fe,Ae=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],ue=8191&ne,De=ne>>>13,Be=0|p[6],Qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],vn=8191&rn,un=rn>>>13,sr=0|E[3],Cn=8191&sr,cn=sr>>>13,qt=0|E[4],bt=8191&qt,ut=qt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,ur=0|E[6],yt=8191&ur,_t=ur>>>13,xt=0|E[7],qe=8191&xt,tt=xt>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,zn=0|E[9],wn=8191&zn,Tn=zn>>>13;m.negative=a.negative^d.negative,m.length=19;var vr=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(vr>>>26)|0,vr&=67108863,x=Math.imul(Ce,Ne),s=(s=Math.imul(Ce,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var ir=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(Ce,It)|0,s=(s=s+Math.imul(Ce,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,vn)|0)|0)+((8191&(s=(s=s+Math.imul(F,un)|0)+Math.imul(Q,vn)|0))<<13)|0;R=((v=v+Math.imul(Q,un)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(be,Ne),s=(s=Math.imul(be,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(Ce,vn)|0,s=(s=s+Math.imul(Ce,un)|0)+Math.imul(Re,vn)|0,v=v+Math.imul(Re,un)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(be,It)|0,s=(s=s+Math.imul(be,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(Ee,vn)|0,s=(s=s+Math.imul(Ee,un)|0)+Math.imul(_e,vn)|0,v=v+Math.imul(_e,un)|0,x=x+Math.imul(Ce,Cn)|0,s=(s=s+Math.imul(Ce,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,bt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,bt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(ue,Ne),s=(s=Math.imul(ue,lt))+Math.imul(De,Ne)|0,v=Math.imul(De,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(be,vn)|0,s=(s=s+Math.imul(be,un)|0)+Math.imul(Ae,vn)|0,v=v+Math.imul(Ae,un)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(Ce,bt)|0,s=(s=s+Math.imul(Ce,ut)|0)+Math.imul(Re,bt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(Qe,Ne),s=(s=Math.imul(Qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(ue,It)|0,s=(s=s+Math.imul(ue,Kt)|0)+Math.imul(De,It)|0,v=v+Math.imul(De,Kt)|0,x=x+Math.imul(me,vn)|0,s=(s=s+Math.imul(me,un)|0)+Math.imul(te,vn)|0,v=v+Math.imul(te,un)|0,x=x+Math.imul(be,Cn)|0,s=(s=s+Math.imul(be,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(Ee,bt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,bt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(Ce,nn)|0,s=(s=s+Math.imul(Ce,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,_t)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,_t)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(Qe,It)|0,s=(s=s+Math.imul(Qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(ue,vn)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(De,vn)|0,v=v+Math.imul(De,un)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(be,bt)|0,s=(s=s+Math.imul(be,ut)|0)+Math.imul(Ae,bt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(Ce,yt)|0,s=(s=s+Math.imul(Ce,_t)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,_t)|0;var Zt=(R+(x=x+Math.imul(F,qe)|0)|0)+((8191&(s=(s=s+Math.imul(F,tt)|0)+Math.imul(Q,qe)|0))<<13)|0;R=((v=v+Math.imul(Q,tt)|0)+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(Qe,vn)|0,s=(s=s+Math.imul(Qe,un)|0)+Math.imul(ze,vn)|0,v=v+Math.imul(ze,un)|0,x=x+Math.imul(ue,Cn)|0,s=(s=s+Math.imul(ue,cn)|0)+Math.imul(De,Cn)|0,v=v+Math.imul(De,cn)|0,x=x+Math.imul(me,bt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,bt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(be,nn)|0,s=(s=s+Math.imul(be,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,_t)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,_t)|0,x=x+Math.imul(Ce,qe)|0,s=(s=s+Math.imul(Ce,tt)|0)+Math.imul(Re,qe)|0,v=v+Math.imul(Re,tt)|0;var xn=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(xn>>>26)|0,xn&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,vn)|0,s=(s=s+Math.imul(Xe,un)|0)+Math.imul(Ue,vn)|0,v=v+Math.imul(Ue,un)|0,x=x+Math.imul(Qe,Cn)|0,s=(s=s+Math.imul(Qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(ue,bt)|0,s=(s=s+Math.imul(ue,ut)|0)+Math.imul(De,bt)|0,v=v+Math.imul(De,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(be,yt)|0,s=(s=s+Math.imul(be,_t)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,_t)|0,x=x+Math.imul(Ee,qe)|0,s=(s=s+Math.imul(Ee,tt)|0)+Math.imul(_e,qe)|0,v=v+Math.imul(_e,tt)|0,x=x+Math.imul(Ce,Ft)|0,s=(s=s+Math.imul(Ce,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var Hn=(R+(x=x+Math.imul(F,wn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Tn)|0)+Math.imul(Q,wn)|0))<<13)|0;R=((v=v+Math.imul(Q,Tn)|0)+(s>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,vn)|0,s=(s=s+Math.imul(K,un)|0)+Math.imul(T,vn)|0,v=v+Math.imul(T,un)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(Qe,bt)|0,s=(s=s+Math.imul(Qe,ut)|0)+Math.imul(ze,bt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(ue,nn)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(De,nn)|0,v=v+Math.imul(De,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,_t)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,_t)|0,x=x+Math.imul(be,qe)|0,s=(s=s+Math.imul(be,tt)|0)+Math.imul(Ae,qe)|0,v=v+Math.imul(Ae,tt)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(Ce,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ce,Tn)|0)+Math.imul(Re,wn)|0))<<13)|0;R=((v=v+Math.imul(Re,Tn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,vn),s=(s=Math.imul(Y,un))+Math.imul(pe,vn)|0,v=Math.imul(pe,un),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,bt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,bt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(Qe,nn)|0,s=(s=s+Math.imul(Qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(ue,yt)|0,s=(s=s+Math.imul(ue,_t)|0)+Math.imul(De,yt)|0,v=v+Math.imul(De,_t)|0,x=x+Math.imul(me,qe)|0,s=(s=s+Math.imul(me,tt)|0)+Math.imul(te,qe)|0,v=v+Math.imul(te,tt)|0,x=x+Math.imul(be,Ft)|0,s=(s=s+Math.imul(be,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var hr=(R+(x=x+Math.imul(Ee,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Tn)|0)+Math.imul(_e,wn)|0))<<13)|0;R=((v=v+Math.imul(_e,Tn)|0)+(s>>>13)|0)+(hr>>>26)|0,hr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,bt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,bt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(Qe,yt)|0,s=(s=s+Math.imul(Qe,_t)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,_t)|0,x=x+Math.imul(ue,qe)|0,s=(s=s+Math.imul(ue,tt)|0)+Math.imul(De,qe)|0,v=v+Math.imul(De,tt)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Nr=(R+(x=x+Math.imul(be,wn)|0)|0)+((8191&(s=(s=s+Math.imul(be,Tn)|0)+Math.imul(Ae,wn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Tn)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(Y,bt),s=(s=Math.imul(Y,ut))+Math.imul(pe,bt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,_t)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,_t)|0,x=x+Math.imul(Qe,qe)|0,s=(s=s+Math.imul(Qe,tt)|0)+Math.imul(ze,qe)|0,v=v+Math.imul(ze,tt)|0,x=x+Math.imul(ue,Ft)|0,s=(s=s+Math.imul(ue,mn)|0)+Math.imul(De,Ft)|0,v=v+Math.imul(De,mn)|0;var Cr=(R+(x=x+Math.imul(me,wn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Tn)|0)+Math.imul(te,wn)|0))<<13)|0;R=((v=v+Math.imul(te,Tn)|0)+(s>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,_t)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,_t)|0,x=x+Math.imul(Xe,qe)|0,s=(s=s+Math.imul(Xe,tt)|0)+Math.imul(Ue,qe)|0,v=v+Math.imul(Ue,tt)|0,x=x+Math.imul(Qe,Ft)|0,s=(s=s+Math.imul(Qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Ur=(R+(x=x+Math.imul(ue,wn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,Tn)|0)+Math.imul(De,wn)|0))<<13)|0;R=((v=v+Math.imul(De,Tn)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,_t))+Math.imul(pe,yt)|0,v=Math.imul(pe,_t),x=x+Math.imul(K,qe)|0,s=(s=s+Math.imul(K,tt)|0)+Math.imul(T,qe)|0,v=v+Math.imul(T,tt)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Lr=(R+(x=x+Math.imul(Qe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Qe,Tn)|0)+Math.imul(ze,wn)|0))<<13)|0;R=((v=v+Math.imul(ze,Tn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,qe),s=(s=Math.imul(Y,tt))+Math.imul(pe,qe)|0,v=Math.imul(pe,tt),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var oi=(R+(x=x+Math.imul(Xe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Tn)|0)+Math.imul(Ue,wn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Tn)|0)+(s>>>13)|0)+(oi>>>26)|0,oi&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,wn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Tn)|0)+Math.imul(T,wn)|0))<<13)|0;R=((v=v+Math.imul(T,Tn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var _n=(R+(x=Math.imul(Y,wn))|0)+((8191&(s=(s=Math.imul(Y,Tn))+Math.imul(pe,wn)|0))<<13)|0;return R=((v=Math.imul(pe,Tn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,D[0]=vr,D[1]=ir,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Zt,D[8]=xn,D[9]=Hn,D[10]=er,D[11]=hr,D[12]=Nr,D[13]=Cr,D[14]=Ur,D[15]=Lr,D[16]=oi,D[17]=on,D[18]=_n,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var Ce=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=Ce+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=Ce-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var Ce=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=Ce}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,Ce=0;0!==de.cmp(D);Ce++)de=de.redSqr();P(Ce<Q);var Re=this.pow(v,new w(1).iushln(Q-Ce-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=Ce}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Je=_.nmd(Je),this)},67211:(Je,j,_)=>{"use strict";var y=_(71993),b=_(34725),P=_(36636),H=_(25443),w=_(3247);function O(S){w.call(this,"digest"),this._hash=S}y(O,w),O.prototype._update=function(S){this._hash.update(S)},O.prototype._final=function(){return this._hash.digest()},Je.exports=function(B){return"md5"===(B=B.toLowerCase())?new b:"rmd160"===B||"ripemd160"===B?new P:new O(H(B))}},83407:(Je,j,_)=>{var y=_(34725);Je.exports=function(b){return(new y).update(b).digest()}},56432:(Je,j,_)=>{"use strict";var y=_(71993),b=_(90509),P=_(3247),H=_(27054).Buffer,w=_(83407),O=_(36636),S=_(25443),B=H.alloc(128);function N(U,A){P.call(this,"digest"),"string"==typeof A&&(A=H.from(A));var G="sha512"===U||"sha384"===U?128:64;this._alg=U,this._key=A,A.length>G?A=("rmd160"===U?new O:S(U)).update(A).digest():A.length<G&&(A=H.concat([A,B],G));for(var z=this._ipad=H.allocUnsafe(G),ee=this._opad=H.allocUnsafe(G),q=0;q<G;q++)z[q]=54^A[q],ee[q]=92^A[q];this._hash="rmd160"===U?new O:S(U),this._hash.update(z)}y(N,P),N.prototype._update=function(U){this._hash.update(U)},N.prototype._final=function(){var U=this._hash.digest();return("rmd160"===this._alg?new O:S(this._alg)).update(this._opad).update(U).digest()},Je.exports=function(A,G){return"rmd160"===(A=A.toLowerCase())||"ripemd160"===A?new N("rmd160",G):"md5"===A?new b(w,G):new N(A,G)}},90509:(Je,j,_)=>{"use strict";var y=_(71993),b=_(27054).Buffer,P=_(3247),H=b.alloc(128),w=64;function O(S,B){P.call(this,"digest"),"string"==typeof B&&(B=b.from(B)),this._alg=S,this._key=B,B.length>w?B=S(B):B.length<w&&(B=b.concat([B,H],w));for(var N=this._ipad=b.allocUnsafe(w),U=this._opad=b.allocUnsafe(w),A=0;A<w;A++)N[A]=54^B[A],U[A]=92^B[A];this._hash=[N]}y(O,P),O.prototype._update=function(S){this._hash.push(S)},O.prototype._final=function(){var S=this._alg(b.concat(this._hash));return this._alg(b.concat([this._opad,S]))},Je.exports=O},91426:(Je,j,_)=>{"use strict";j.randomBytes=j.rng=j.pseudoRandomBytes=j.prng=_(3342),j.createHash=j.Hash=_(67211),j.createHmac=j.Hmac=_(56432);var y=_(99560),b=Object.keys(y),P=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(b);j.getHashes=function(){return P};var H=_(93397);j.pbkdf2=H.pbkdf2,j.pbkdf2Sync=H.pbkdf2Sync;var w=_(88862);j.Cipher=w.Cipher,j.createCipher=w.createCipher,j.Cipheriv=w.Cipheriv,j.createCipheriv=w.createCipheriv,j.Decipher=w.Decipher,j.createDecipher=w.createDecipher,j.Decipheriv=w.Decipheriv,j.createDecipheriv=w.createDecipheriv,j.getCiphers=w.getCiphers,j.listCiphers=w.listCiphers;var O=_(4377);j.DiffieHellmanGroup=O.DiffieHellmanGroup,j.createDiffieHellmanGroup=O.createDiffieHellmanGroup,j.getDiffieHellman=O.getDiffieHellman,j.createDiffieHellman=O.createDiffieHellman,j.DiffieHellman=O.DiffieHellman;var S=_(79143);j.createSign=S.createSign,j.Sign=S.Sign,j.createVerify=S.createVerify,j.Verify=S.Verify,j.createECDH=_(87303);var B=_(52965);j.publicEncrypt=B.publicEncrypt,j.privateEncrypt=B.privateEncrypt,j.publicDecrypt=B.publicDecrypt,j.privateDecrypt=B.privateDecrypt;var N=_(9682);j.randomFill=N.randomFill,j.randomFillSync=N.randomFillSync,j.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},j.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:(Je,j,_)=>{"use strict";j.utils=_(85671),j.Cipher=_(10219),j.DES=_(64166),j.CBC=_(88800),j.EDE=_(62122)},88800:(Je,j,_)=>{"use strict";var y=_(39210),b=_(71993),P={};function H(O){y.equal(O.length,8,"Invalid IV length"),this.iv=new Array(8);for(var S=0;S<this.iv.length;S++)this.iv[S]=O[S]}j.instantiate=function w(O){function S(A){O.call(this,A),this._cbcInit()}b(S,O);for(var B=Object.keys(P),N=0;N<B.length;N++){var U=B[N];S.prototype[U]=P[U]}return S.create=function(G){return new S(G)},S},P._cbcInit=function(){var S=new H(this.options.iv);this._cbcState=S},P._update=function(S,B,N,U){var G=this.constructor.super_.prototype,L=this._cbcState.iv;if("encrypt"===this.type){for(var z=0;z<this.blockSize;z++)L[z]^=S[B+z];for(G._update.call(this,L,0,N,U),z=0;z<this.blockSize;z++)L[z]=N[U+z]}else{for(G._update.call(this,S,B,N,U),z=0;z<this.blockSize;z++)N[U+z]^=L[z];for(z=0;z<this.blockSize;z++)L[z]=S[B+z]}}},10219:(Je,j,_)=>{"use strict";var y=_(39210);function b(P){this.options=P,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==P.padding}Je.exports=b,b.prototype._init=function(){},b.prototype.update=function(H){return 0===H.length?[]:"decrypt"===this.type?this._updateDecrypt(H):this._updateEncrypt(H)},b.prototype._buffer=function(H,w){for(var O=Math.min(this.buffer.length-this.bufferOff,H.length-w),S=0;S<O;S++)this.buffer[this.bufferOff+S]=H[w+S];return this.bufferOff+=O,O},b.prototype._flushBuffer=function(H,w){return this._update(this.buffer,0,H,w),this.bufferOff=0,this.blockSize},b.prototype._updateEncrypt=function(H){var w=0,O=0,B=new Array(((this.bufferOff+H.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(w+=this._buffer(H,w),this.bufferOff===this.buffer.length&&(O+=this._flushBuffer(B,O)));for(var N=H.length-(H.length-w)%this.blockSize;w<N;w+=this.blockSize)this._update(H,w,B,O),O+=this.blockSize;for(;w<H.length;w++,this.bufferOff++)this.buffer[this.bufferOff]=H[w];return B},b.prototype._updateDecrypt=function(H){for(var w=0,O=0,S=Math.ceil((this.bufferOff+H.length)/this.blockSize)-1,B=new Array(S*this.blockSize);S>0;S--)w+=this._buffer(H,w),O+=this._flushBuffer(B,O);return w+=this._buffer(H,w),B},b.prototype.final=function(H){var w,O;return H&&(w=this.update(H)),O="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),w?w.concat(O):O},b.prototype._pad=function(H,w){if(0===w)return!1;for(;w<H.length;)H[w++]=0;return!0},b.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var H=new Array(this.blockSize);return this._update(this.buffer,0,H,0),H},b.prototype._unpad=function(H){return H},b.prototype._finalDecrypt=function(){y.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var H=new Array(this.blockSize);return this._flushBuffer(H,0),this._unpad(H)}},64166:(Je,j,_)=>{"use strict";var y=_(39210),b=_(71993),P=_(85671),H=_(10219);function w(){this.tmp=new Array(2),this.keys=null}function O(B){H.call(this,B);var N=new w;this._desState=N,this.deriveKeys(N,B.key)}b(O,H),Je.exports=O,O.create=function(N){return new O(N)};var S=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];O.prototype.deriveKeys=function(N,U){N.keys=new Array(32),y.equal(U.length,this.blockSize,"Invalid key length");var A=P.readUInt32BE(U,0),G=P.readUInt32BE(U,4);P.pc1(A,G,N.tmp,0),A=N.tmp[0],G=N.tmp[1];for(var L=0;L<N.keys.length;L+=2){var z=S[L>>>1];A=P.r28shl(A,z),G=P.r28shl(G,z),P.pc2(A,G,N.keys,L)}},O.prototype._update=function(N,U,A,G){var L=this._desState,z=P.readUInt32BE(N,U),ee=P.readUInt32BE(N,U+4);P.ip(z,ee,L.tmp,0),z=L.tmp[0],ee=L.tmp[1],"encrypt"===this.type?this._encrypt(L,z,ee,L.tmp,0):this._decrypt(L,z,ee,L.tmp,0),ee=L.tmp[1],P.writeUInt32BE(A,z=L.tmp[0],G),P.writeUInt32BE(A,ee,G+4)},O.prototype._pad=function(N,U){if(!1===this.padding)return!1;for(var A=N.length-U,G=U;G<N.length;G++)N[G]=A;return!0},O.prototype._unpad=function(N){if(!1===this.padding)return N;for(var U=N[N.length-1],A=N.length-U;A<N.length;A++)y.equal(N[A],U);return N.slice(0,N.length-U)},O.prototype._encrypt=function(N,U,A,G,L){for(var z=U,ee=A,q=0;q<N.keys.length;q+=2){var Z=N.keys[q],J=N.keys[q+1];P.expand(ee,N.tmp,0);var se=P.substitute(Z^=N.tmp[0],J^=N.tmp[1]),ae=ee;ee=(z^P.permute(se))>>>0,z=ae}P.rip(ee,z,G,L)},O.prototype._decrypt=function(N,U,A,G,L){for(var z=A,ee=U,q=N.keys.length-2;q>=0;q-=2){var Z=N.keys[q],J=N.keys[q+1];P.expand(z,N.tmp,0);var se=P.substitute(Z^=N.tmp[0],J^=N.tmp[1]),ae=z;z=(ee^P.permute(se))>>>0,ee=ae}P.rip(z,ee,G,L)}},62122:(Je,j,_)=>{"use strict";var y=_(39210),b=_(71993),P=_(10219),H=_(64166);function w(S,B){y.equal(B.length,24,"Invalid key length");var N=B.slice(0,8),U=B.slice(8,16),A=B.slice(16,24);this.ciphers="encrypt"===S?[H.create({type:"encrypt",key:N}),H.create({type:"decrypt",key:U}),H.create({type:"encrypt",key:A})]:[H.create({type:"decrypt",key:A}),H.create({type:"encrypt",key:U}),H.create({type:"decrypt",key:N})]}function O(S){P.call(this,S);var B=new w(this.type,this.options.key);this._edeState=B}b(O,P),Je.exports=O,O.create=function(B){return new O(B)},O.prototype._update=function(B,N,U,A){var G=this._edeState;G.ciphers[0]._update(B,N,U,A),G.ciphers[1]._update(U,A,U,A),G.ciphers[2]._update(U,A,U,A)},O.prototype._pad=H.prototype._pad,O.prototype._unpad=H.prototype._unpad},85671:(Je,j)=>{"use strict";j.readUInt32BE=function(H,w){return(H[0+w]<<24|H[1+w]<<16|H[2+w]<<8|H[3+w])>>>0},j.writeUInt32BE=function(H,w,O){H[0+O]=w>>>24,H[1+O]=w>>>16&255,H[2+O]=w>>>8&255,H[3+O]=255&w},j.ip=function(H,w,O,S){for(var B=0,N=0,U=6;U>=0;U-=2){for(var A=0;A<=24;A+=8)B<<=1,B|=w>>>A+U&1;for(A=0;A<=24;A+=8)B<<=1,B|=H>>>A+U&1}for(U=6;U>=0;U-=2){for(A=1;A<=25;A+=8)N<<=1,N|=w>>>A+U&1;for(A=1;A<=25;A+=8)N<<=1,N|=H>>>A+U&1}O[S+0]=B>>>0,O[S+1]=N>>>0},j.rip=function(H,w,O,S){for(var B=0,N=0,U=0;U<4;U++)for(var A=24;A>=0;A-=8)B<<=1,B|=w>>>A+U&1,B<<=1,B|=H>>>A+U&1;for(U=4;U<8;U++)for(A=24;A>=0;A-=8)N<<=1,N|=w>>>A+U&1,N<<=1,N|=H>>>A+U&1;O[S+0]=B>>>0,O[S+1]=N>>>0},j.pc1=function(H,w,O,S){for(var B=0,N=0,U=7;U>=5;U--){for(var A=0;A<=24;A+=8)B<<=1,B|=w>>A+U&1;for(A=0;A<=24;A+=8)B<<=1,B|=H>>A+U&1}for(A=0;A<=24;A+=8)B<<=1,B|=w>>A+U&1;for(U=1;U<=3;U++){for(A=0;A<=24;A+=8)N<<=1,N|=w>>A+U&1;for(A=0;A<=24;A+=8)N<<=1,N|=H>>A+U&1}for(A=0;A<=24;A+=8)N<<=1,N|=H>>A+U&1;O[S+0]=B>>>0,O[S+1]=N>>>0},j.r28shl=function(H,w){return H<<w&268435455|H>>>28-w};var _=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];j.pc2=function(H,w,O,S){for(var B=0,N=0,U=_.length>>>1,A=0;A<U;A++)B<<=1,B|=H>>>_[A]&1;for(A=U;A<_.length;A++)N<<=1,N|=w>>>_[A]&1;O[S+0]=B>>>0,O[S+1]=N>>>0},j.expand=function(H,w,O){var S=0,B=0;S=(1&H)<<5|H>>>27;for(var N=23;N>=15;N-=4)S<<=6,S|=H>>>N&63;for(N=11;N>=3;N-=4)B|=H>>>N&63,B<<=6;B|=(31&H)<<1|H>>>31,w[O+0]=S>>>0,w[O+1]=B>>>0};var y=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];j.substitute=function(H,w){for(var O=0,S=0;S<4;S++)O<<=4,O|=y[64*S+(H>>>18-6*S&63)];for(S=0;S<4;S++)O<<=4,O|=y[256+64*S+(w>>>18-6*S&63)];return O>>>0};var b=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];j.permute=function(H){for(var w=0,O=0;O<b.length;O++)w<<=1,w|=H>>>b[O]&1;return w>>>0},j.padSplit=function(H,w,O){for(var S=H.toString(2);S.length<w;)S="0"+S;for(var B=[],N=0;N<w;N+=O)B.push(S.slice(N,N+O));return B.join(" ")}},4377:(Je,j,_)=>{var y=_(12727),b=_(23241),P=_(94593),w={binary:!0,hex:!0,base64:!0};j.DiffieHellmanGroup=j.createDiffieHellmanGroup=j.getDiffieHellman=function H(S){var B=new Buffer(b[S].prime,"hex"),N=new Buffer(b[S].gen,"hex");return new P(B,N)},j.createDiffieHellman=j.DiffieHellman=function O(S,B,N,U){return Buffer.isBuffer(B)||void 0===w[B]?O(S,"binary",B,N):(B=B||"binary",U=U||"binary",N=N||new Buffer([2]),Buffer.isBuffer(N)||(N=new Buffer(N,U)),"number"==typeof S?new P(y(S,N),N,!0):(Buffer.isBuffer(S)||(S=new Buffer(S,B)),new P(S,N,!0)))}},94593:(Je,j,_)=>{var y=_(38280),P=new(_(53459)),H=new y(24),w=new y(11),O=new y(10),S=new y(3),B=new y(7),N=_(12727),U=_(3342);function A(Z,J){return J=J||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,J)),this._pub=new y(Z),this}function G(Z,J){return J=J||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,J)),this._priv=new y(Z),this}Je.exports=ee;var L={};function ee(Z,J,se){this.setGenerator(J),this.__prime=new y(Z),this._prime=y.mont(this.__prime),this._primeLen=Z.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,se?(this.setPublicKey=A,this.setPrivateKey=G):this._primeCode=8}function q(Z,J){var se=new Buffer(Z.toArray());return J?se.toString(J):se}Object.defineProperty(ee.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function z(Z,J){var se=J.toString("hex"),ce=[se,Z.toString(16)].join("_");if(ce in L)return L[ce];var fe,ae=0;if(Z.isEven()||!N.simpleSieve||!N.fermatTest(Z)||!P.test(Z))return ae+=1,L[ce]=ae+="02"===se||"05"===se?8:4,ae;switch(P.test(Z.shrn(1))||(ae+=2),se){case"02":Z.mod(H).cmp(w)&&(ae+=8);break;case"05":(fe=Z.mod(O)).cmp(S)&&fe.cmp(B)&&(ae+=8);break;default:ae+=4}return L[ce]=ae,ae}(this.__prime,this.__gen)),this._primeCode}}),ee.prototype.generateKeys=function(){return this._priv||(this._priv=new y(U(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},ee.prototype.computeSecret=function(Z){var J=(Z=(Z=new y(Z)).toRed(this._prime)).redPow(this._priv).fromRed(),se=new Buffer(J.toArray()),ce=this.getPrime();if(se.length<ce.length){var ae=new Buffer(ce.length-se.length);ae.fill(0),se=Buffer.concat([ae,se])}return se},ee.prototype.getPublicKey=function(J){return q(this._pub,J)},ee.prototype.getPrivateKey=function(J){return q(this._priv,J)},ee.prototype.getPrime=function(Z){return q(this.__prime,Z)},ee.prototype.getGenerator=function(Z){return q(this._gen,Z)},ee.prototype.setGenerator=function(Z,J){return J=J||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,J)),this.__gen=Z,this._gen=new y(Z),this}},12727:(Je,j,_)=>{var y=_(3342);Je.exports=ae,ae.simpleSieve=se,ae.fermatTest=ce;var b=_(38280),P=new b(24),w=new(_(53459)),O=new b(1),S=new b(2),B=new b(5),A=(new b(16),new b(8),new b(10)),G=new b(3),z=(new b(7),new b(11)),ee=new b(4),Z=(new b(12),null);function se(fe){for(var he=function J(){if(null!==Z)return Z;var he=[];he[0]=2;for(var we=1,Me=3;Me<1048576;Me+=2){for(var Pe=Math.ceil(Math.sqrt(Me)),C=0;C<we&&he[C]<=Pe&&Me%he[C]!=0;C++);we!==C&&he[C]<=Pe||(he[we++]=Me)}return Z=he,he}(),we=0;we<he.length;we++)if(0===fe.modn(he[we]))return 0===fe.cmpn(he[we]);return!0}function ce(fe){var he=b.mont(fe);return 0===S.toRed(he).redPow(fe.subn(1)).fromRed().cmpn(1)}function ae(fe,he){if(fe<16)return new b(2===he||5===he?[140,123]:[140,39]);he=new b(he);for(var we,Me;;){for(we=new b(y(Math.ceil(fe/8)));we.bitLength()>fe;)we.ishrn(1);if(we.isEven()&&we.iadd(O),we.testn(1)||we.iadd(S),he.cmp(S)){if(!he.cmp(B))for(;we.mod(A).cmp(G);)we.iadd(ee)}else for(;we.mod(P).cmp(z);)we.iadd(ee);if(se(Me=we.shrn(1))&&se(we)&&ce(Me)&&ce(we)&&w.test(Me)&&w.test(we))return we}}},38280:function(Je,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(66089).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],Ce=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],be=8191&Fe,Ae=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],ue=8191&ne,De=ne>>>13,Be=0|p[6],Qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],vn=8191&rn,un=rn>>>13,sr=0|E[3],Cn=8191&sr,cn=sr>>>13,qt=0|E[4],bt=8191&qt,ut=qt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,ur=0|E[6],yt=8191&ur,_t=ur>>>13,xt=0|E[7],qe=8191&xt,tt=xt>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,zn=0|E[9],wn=8191&zn,Tn=zn>>>13;m.negative=a.negative^d.negative,m.length=19;var vr=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(vr>>>26)|0,vr&=67108863,x=Math.imul(Ce,Ne),s=(s=Math.imul(Ce,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var ir=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(Ce,It)|0,s=(s=s+Math.imul(Ce,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,vn)|0)|0)+((8191&(s=(s=s+Math.imul(F,un)|0)+Math.imul(Q,vn)|0))<<13)|0;R=((v=v+Math.imul(Q,un)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(be,Ne),s=(s=Math.imul(be,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(Ce,vn)|0,s=(s=s+Math.imul(Ce,un)|0)+Math.imul(Re,vn)|0,v=v+Math.imul(Re,un)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(be,It)|0,s=(s=s+Math.imul(be,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(Ee,vn)|0,s=(s=s+Math.imul(Ee,un)|0)+Math.imul(_e,vn)|0,v=v+Math.imul(_e,un)|0,x=x+Math.imul(Ce,Cn)|0,s=(s=s+Math.imul(Ce,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,bt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,bt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(ue,Ne),s=(s=Math.imul(ue,lt))+Math.imul(De,Ne)|0,v=Math.imul(De,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(be,vn)|0,s=(s=s+Math.imul(be,un)|0)+Math.imul(Ae,vn)|0,v=v+Math.imul(Ae,un)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(Ce,bt)|0,s=(s=s+Math.imul(Ce,ut)|0)+Math.imul(Re,bt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(Qe,Ne),s=(s=Math.imul(Qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(ue,It)|0,s=(s=s+Math.imul(ue,Kt)|0)+Math.imul(De,It)|0,v=v+Math.imul(De,Kt)|0,x=x+Math.imul(me,vn)|0,s=(s=s+Math.imul(me,un)|0)+Math.imul(te,vn)|0,v=v+Math.imul(te,un)|0,x=x+Math.imul(be,Cn)|0,s=(s=s+Math.imul(be,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(Ee,bt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,bt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(Ce,nn)|0,s=(s=s+Math.imul(Ce,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,_t)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,_t)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(Qe,It)|0,s=(s=s+Math.imul(Qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(ue,vn)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(De,vn)|0,v=v+Math.imul(De,un)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(be,bt)|0,s=(s=s+Math.imul(be,ut)|0)+Math.imul(Ae,bt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(Ce,yt)|0,s=(s=s+Math.imul(Ce,_t)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,_t)|0;var Zt=(R+(x=x+Math.imul(F,qe)|0)|0)+((8191&(s=(s=s+Math.imul(F,tt)|0)+Math.imul(Q,qe)|0))<<13)|0;R=((v=v+Math.imul(Q,tt)|0)+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(Qe,vn)|0,s=(s=s+Math.imul(Qe,un)|0)+Math.imul(ze,vn)|0,v=v+Math.imul(ze,un)|0,x=x+Math.imul(ue,Cn)|0,s=(s=s+Math.imul(ue,cn)|0)+Math.imul(De,Cn)|0,v=v+Math.imul(De,cn)|0,x=x+Math.imul(me,bt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,bt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(be,nn)|0,s=(s=s+Math.imul(be,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,_t)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,_t)|0,x=x+Math.imul(Ce,qe)|0,s=(s=s+Math.imul(Ce,tt)|0)+Math.imul(Re,qe)|0,v=v+Math.imul(Re,tt)|0;var xn=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(xn>>>26)|0,xn&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,vn)|0,s=(s=s+Math.imul(Xe,un)|0)+Math.imul(Ue,vn)|0,v=v+Math.imul(Ue,un)|0,x=x+Math.imul(Qe,Cn)|0,s=(s=s+Math.imul(Qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(ue,bt)|0,s=(s=s+Math.imul(ue,ut)|0)+Math.imul(De,bt)|0,v=v+Math.imul(De,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(be,yt)|0,s=(s=s+Math.imul(be,_t)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,_t)|0,x=x+Math.imul(Ee,qe)|0,s=(s=s+Math.imul(Ee,tt)|0)+Math.imul(_e,qe)|0,v=v+Math.imul(_e,tt)|0,x=x+Math.imul(Ce,Ft)|0,s=(s=s+Math.imul(Ce,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var Hn=(R+(x=x+Math.imul(F,wn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Tn)|0)+Math.imul(Q,wn)|0))<<13)|0;R=((v=v+Math.imul(Q,Tn)|0)+(s>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,vn)|0,s=(s=s+Math.imul(K,un)|0)+Math.imul(T,vn)|0,v=v+Math.imul(T,un)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(Qe,bt)|0,s=(s=s+Math.imul(Qe,ut)|0)+Math.imul(ze,bt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(ue,nn)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(De,nn)|0,v=v+Math.imul(De,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,_t)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,_t)|0,x=x+Math.imul(be,qe)|0,s=(s=s+Math.imul(be,tt)|0)+Math.imul(Ae,qe)|0,v=v+Math.imul(Ae,tt)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(Ce,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ce,Tn)|0)+Math.imul(Re,wn)|0))<<13)|0;R=((v=v+Math.imul(Re,Tn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,vn),s=(s=Math.imul(Y,un))+Math.imul(pe,vn)|0,v=Math.imul(pe,un),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,bt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,bt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(Qe,nn)|0,s=(s=s+Math.imul(Qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(ue,yt)|0,s=(s=s+Math.imul(ue,_t)|0)+Math.imul(De,yt)|0,v=v+Math.imul(De,_t)|0,x=x+Math.imul(me,qe)|0,s=(s=s+Math.imul(me,tt)|0)+Math.imul(te,qe)|0,v=v+Math.imul(te,tt)|0,x=x+Math.imul(be,Ft)|0,s=(s=s+Math.imul(be,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var hr=(R+(x=x+Math.imul(Ee,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Tn)|0)+Math.imul(_e,wn)|0))<<13)|0;R=((v=v+Math.imul(_e,Tn)|0)+(s>>>13)|0)+(hr>>>26)|0,hr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,bt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,bt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(Qe,yt)|0,s=(s=s+Math.imul(Qe,_t)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,_t)|0,x=x+Math.imul(ue,qe)|0,s=(s=s+Math.imul(ue,tt)|0)+Math.imul(De,qe)|0,v=v+Math.imul(De,tt)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Nr=(R+(x=x+Math.imul(be,wn)|0)|0)+((8191&(s=(s=s+Math.imul(be,Tn)|0)+Math.imul(Ae,wn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Tn)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(Y,bt),s=(s=Math.imul(Y,ut))+Math.imul(pe,bt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,_t)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,_t)|0,x=x+Math.imul(Qe,qe)|0,s=(s=s+Math.imul(Qe,tt)|0)+Math.imul(ze,qe)|0,v=v+Math.imul(ze,tt)|0,x=x+Math.imul(ue,Ft)|0,s=(s=s+Math.imul(ue,mn)|0)+Math.imul(De,Ft)|0,v=v+Math.imul(De,mn)|0;var Cr=(R+(x=x+Math.imul(me,wn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Tn)|0)+Math.imul(te,wn)|0))<<13)|0;R=((v=v+Math.imul(te,Tn)|0)+(s>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,_t)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,_t)|0,x=x+Math.imul(Xe,qe)|0,s=(s=s+Math.imul(Xe,tt)|0)+Math.imul(Ue,qe)|0,v=v+Math.imul(Ue,tt)|0,x=x+Math.imul(Qe,Ft)|0,s=(s=s+Math.imul(Qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Ur=(R+(x=x+Math.imul(ue,wn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,Tn)|0)+Math.imul(De,wn)|0))<<13)|0;R=((v=v+Math.imul(De,Tn)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,_t))+Math.imul(pe,yt)|0,v=Math.imul(pe,_t),x=x+Math.imul(K,qe)|0,s=(s=s+Math.imul(K,tt)|0)+Math.imul(T,qe)|0,v=v+Math.imul(T,tt)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Lr=(R+(x=x+Math.imul(Qe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Qe,Tn)|0)+Math.imul(ze,wn)|0))<<13)|0;R=((v=v+Math.imul(ze,Tn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,qe),s=(s=Math.imul(Y,tt))+Math.imul(pe,qe)|0,v=Math.imul(pe,tt),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var oi=(R+(x=x+Math.imul(Xe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Tn)|0)+Math.imul(Ue,wn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Tn)|0)+(s>>>13)|0)+(oi>>>26)|0,oi&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,wn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Tn)|0)+Math.imul(T,wn)|0))<<13)|0;R=((v=v+Math.imul(T,Tn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var _n=(R+(x=Math.imul(Y,wn))|0)+((8191&(s=(s=Math.imul(Y,Tn))+Math.imul(pe,wn)|0))<<13)|0;return R=((v=Math.imul(pe,Tn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,D[0]=vr,D[1]=ir,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Zt,D[8]=xn,D[9]=Hn,D[10]=er,D[11]=hr,D[12]=Nr,D[13]=Cr,D[14]=Ur,D[15]=Lr,D[16]=oi,D[17]=on,D[18]=_n,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var Ce=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=Ce+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=Ce-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var Ce=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=Ce}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,Ce=0;0!==de.cmp(D);Ce++)de=de.redSqr();P(Ce<Q);var Re=this.pow(v,new w(1).iushln(Q-Ce-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=Ce}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Je=_.nmd(Je),this)},48967:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ephemeralKeySize=j.symmetricNonceLength=j.symmetricAlgorithm=j.isHkdfKeyCompressed=j.isEphemeralKeyCompressed=j.ellipticCurve=j.ECIES_CONFIG=void 0;var y=_(29277);j.ECIES_CONFIG=new(function(){return function N(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),j.ellipticCurve=function(){return j.ECIES_CONFIG.ellipticCurve},j.isEphemeralKeyCompressed=function(){return j.ECIES_CONFIG.isEphemeralKeyCompressed},j.isHkdfKeyCompressed=function(){return j.ECIES_CONFIG.isHkdfKeyCompressed},j.symmetricAlgorithm=function(){return j.ECIES_CONFIG.symmetricAlgorithm},j.symmetricNonceLength=function(){return j.ECIES_CONFIG.symmetricNonceLength},j.ephemeralKeySize=function(){var N={secp256k1:j.ECIES_CONFIG.isEphemeralKeyCompressed?y.COMPRESSED_PUBLIC_KEY_SIZE:y.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:y.CURVE25519_PUBLIC_KEY_SIZE,ed25519:y.CURVE25519_PUBLIC_KEY_SIZE};if(j.ECIES_CONFIG.ellipticCurve in N)return N[j.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:(Je,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.AEAD_TAG_LENGTH=j.XCHACHA20_NONCE_LENGTH=j.CURVE25519_PUBLIC_KEY_SIZE=j.ETH_PUBLIC_KEY_SIZE=j.UNCOMPRESSED_PUBLIC_KEY_SIZE=j.COMPRESSED_PUBLIC_KEY_SIZE=j.SECRET_KEY_LENGTH=void 0,j.SECRET_KEY_LENGTH=32,j.COMPRESSED_PUBLIC_KEY_SIZE=33,j.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,j.ETH_PUBLIC_KEY_SIZE=64,j.CURVE25519_PUBLIC_KEY_SIZE=32,j.XCHACHA20_NONCE_LENGTH=24,j.AEAD_TAG_LENGTH=16},63397:(Je,j,_)=>{"use strict";j.VV=j.Yc=j.w=void 0;var b=_(23790),P=_(48967),H=_(40774),w=_(77399);j.w=function O(U,A){var q,G=new H.PrivateKey,L=U instanceof Uint8Array?new H.PublicKey(U):H.PublicKey.fromHex(U),z=G.encapsulate(L),ee=(0,w.aesEncrypt)(z,A);return q=(0,P.isEphemeralKeyCompressed)()?G.publicKey.compressed:G.publicKey.uncompressed,Buffer.from((0,b.concatBytes)(q,ee))},j.Yc=function S(U,A){var G=U instanceof Uint8Array?new H.PrivateKey(U):H.PrivateKey.fromHex(U),L=(0,P.ephemeralKeySize)(),z=new H.PublicKey(A.subarray(0,L)),ee=A.subarray(L),q=z.decapsulate(G);return Buffer.from((0,w.aesDecrypt)(q,ee))};var B=_(48967);Object.defineProperty(j,"VV",{enumerable:!0,get:function(){return B.ECIES_CONFIG}});_(40774)},1210:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PrivateKey=void 0;var y=_(23790),b=_(48967),P=_(77399),H=_(40762),w=function(){function O(S){var B=void 0===S?(0,P.getValidSecret)():S;if(!(0,P.isValidPrivateKey)(B))throw new Error("Invalid private key");this.data=B,this.publicKey=new H.PublicKey((0,P.getPublicKey)(B))}return O.fromHex=function(S){return new O((0,P.decodeHex)(S))},Object.defineProperty(O.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),O.prototype.toHex=function(){return(0,y.bytesToHex)(this.data)},O.prototype.encapsulate=function(S){var B,N;return(0,b.isHkdfKeyCompressed)()?(B=this.publicKey.compressed,N=this.multiply(S,!0)):(B=this.publicKey.uncompressed,N=this.multiply(S,!1)),(0,P.getSharedKey)(B,N)},O.prototype.multiply=function(S,B){return void 0===B&&(B=!1),(0,P.getSharedPoint)(this.data,S.compressed,B)},O.prototype.equals=function(S){return(0,y.equalBytes)(this.data,S.data)},O}();j.PrivateKey=w},40762:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PublicKey=void 0;var y=_(23790),b=_(48967),P=_(77399),H=function(){function w(O){this.data=(0,P.convertPublicKeyFormat)(O,!0)}return w.fromHex=function(O){return new w((0,P.hexToPublicKey)(O))},Object.defineProperty(w.prototype,"uncompressed",{get:function(){return Buffer.from((0,P.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),w.prototype.toHex=function(O){return void 0===O&&(O=!0),(0,y.bytesToHex)(O?this.data:this.uncompressed)},w.prototype.decapsulate=function(O){var S,B;return(0,b.isHkdfKeyCompressed)()?(S=this.data,B=O.multiply(this,!0)):(S=this.uncompressed,B=O.multiply(this,!1)),(0,P.getSharedKey)(S,B)},w.prototype.equals=function(O){return(0,y.equalBytes)(this.data,O.data)},w}();j.PublicKey=H},40774:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PublicKey=j.PrivateKey=void 0;var y=_(1210);Object.defineProperty(j,"PrivateKey",{enumerable:!0,get:function(){return y.PrivateKey}});var b=_(40762);Object.defineProperty(j,"PublicKey",{enumerable:!0,get:function(){return b.PublicKey}})},1849:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.aes256gcm=void 0;var y=_(23790),b=_(91426),P=_(29277);j.aes256gcm=function H(w,O,S){return{tagLength:P.AEAD_TAG_LENGTH,encrypt:function(U){var A=(0,b.createCipheriv)("aes-256-gcm",w,O);S&&A.setAAD(S);var G=A.update(U),L=A.final();return(0,y.concatBytes)(G,L,A.getAuthTag())},decrypt:function(U){var A=U.subarray(0,U.length-P.AEAD_TAG_LENGTH),G=U.subarray(-P.AEAD_TAG_LENGTH),L=(0,b.createDecipheriv)("aes-256-gcm",w,O);S&&L.setAAD(S),L.setAuthTag(G);var z=L.update(A),ee=L.final();return(0,y.concatBytes)(z,ee)}}}},77553:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hexToPublicKey=j.convertPublicKeyFormat=j.getSharedPoint=j.getSharedKey=j.getPublicKey=j.isValidPrivateKey=j.getValidSecret=void 0;var y=_(23790),b=_(42098),P=_(57340),H=_(91717),w=_(48967),O=_(29277),S=_(99666),B=_(63364);function U(Z){return q(function(J){return J.utils.isValidPrivateKey(Z)},function(){return!0},function(){return!0})}function q(Z,J,se){if("secp256k1"===(0,w.ellipticCurve)())return Z(H.secp256k1);if("x25519"===(0,w.ellipticCurve)())return J(P.x25519);if("ed25519"===(0,w.ellipticCurve)())return se(P.ed25519);throw new Error("Not implemented")}j.getValidSecret=function N(){var Z;do{Z=(0,b.randomBytes)(O.SECRET_KEY_LENGTH)}while(!U(Z));return Z},j.isValidPrivateKey=U,j.getPublicKey=function A(Z){return q(function(J){return J.getPublicKey(Z)},function(J){return J.getPublicKey(Z)},function(J){return J.getPublicKey(Z)})},j.getSharedKey=function G(Z,J){return(0,B.deriveKey)((0,y.concatBytes)(Z,J))},j.getSharedPoint=function L(Z,J,se){return q(function(ce){return ce.getSharedSecret(Z,J,se)},function(ce){return ce.getSharedSecret(Z,J)},function(ce){var ae=ce.utils.getExtendedPublicKey(Z).scalar;return ce.ExtendedPoint.fromHex(J).multiply(ae).toRawBytes()})},j.convertPublicKeyFormat=function z(Z,J){return q(function(se){return se.getSharedSecret(BigInt(1),Z,J)},function(){return Z},function(){return Z})},j.hexToPublicKey=function ee(Z){var J=(0,S.decodeHex)(Z);return q(function(){if(J.length===O.ETH_PUBLIC_KEY_SIZE){var se=new Uint8Array(1+J.length);return se.set([4]),se.set(J,1),se}return J},function(){return J},function(){return J})}},99666:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.decodeHex=j.remove0x=void 0;var y=_(23790);function b(H){return H.startsWith("0x")||H.startsWith("0X")?H.slice(2):H}j.remove0x=b,j.decodeHex=function P(H){return(0,y.hexToBytes)(b(H))}},77399:function(Je,j,_){"use strict";var y=this&&this.__createBinding||(Object.create?function(P,H,w,O){void 0===O&&(O=w);var S=Object.getOwnPropertyDescriptor(H,w);(!S||("get"in S?!H.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return H[w]}}),Object.defineProperty(P,O,S)}:function(P,H,w,O){void 0===O&&(O=w),P[O]=H[w]}),b=this&&this.__exportStar||function(P,H){for(var w in P)"default"!==w&&!Object.prototype.hasOwnProperty.call(H,w)&&y(H,P,w)};Object.defineProperty(j,"__esModule",{value:!0}),b(_(77553),j),b(_(99666),j),b(_(63364),j)},63364:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.deriveKey=j.aesDecrypt=j.aesEncrypt=void 0;var y=_(59219),b=_(23790),P=_(42098),H=_(57334),w=_(1806),O=_(48967),S=_(29277),B=_(1849);function G(ee,q,Z){var J=(0,O.symmetricAlgorithm)(),se=ee?L:z;if("aes-256-gcm"===J)return se(B.aes256gcm,q,Z,(0,O.symmetricNonceLength)());if("xchacha20"===J)return se(y.xchacha20poly1305,q,Z,S.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function L(ee,q,Z,J){var se=(0,P.randomBytes)(J),ae=ee(q,se).encrypt(Z),fe=ae.subarray(0,ae.length-S.AEAD_TAG_LENGTH),he=ae.subarray(-S.AEAD_TAG_LENGTH);return(0,b.concatBytes)(se,he,fe)}function z(ee,q,Z,J){var se=J+S.AEAD_TAG_LENGTH,ce=Z.subarray(0,J),ae=Z.subarray(J,se),fe=Z.subarray(se),he=ee(q,Uint8Array.from(ce)),we=(0,b.concatBytes)(fe,ae);return he.decrypt(we)}j.aesEncrypt=function N(ee,q){return G(!0,ee,q)},j.aesDecrypt=function U(ee,q){return G(!1,ee,q)},j.deriveKey=function A(ee){return(0,H.hkdf)(w.sha256,ee,void 0,void 0,32)}},32856:(Je,j)=>{"use strict";function _(S){if(!Number.isSafeInteger(S)||S<0)throw new Error(`Wrong positive integer: ${S}`)}function y(S){if("boolean"!=typeof S)throw new Error(`Expected boolean, not ${S}`)}function b(S,...B){if(!(S instanceof Uint8Array))throw new Error("Expected Uint8Array");if(B.length>0&&!B.includes(S.length))throw new Error(`Expected Uint8Array of length ${B}, not of length=${S.length}`)}function P(S){if("function"!=typeof S||"function"!=typeof S.create)throw new Error("hash must be wrapped by utils.wrapConstructor");_(S.outputLen),_(S.blockLen)}function H(S,B=!0){if(S.destroyed)throw new Error("Hash instance has been destroyed");if(B&&S.finished)throw new Error("Hash#digest() has already been called")}function w(S,B){b(S);const N=B.outputLen;if(S.length<N)throw new Error(`digestInto() expects output buffer of length at least ${N}`)}Object.defineProperty(j,"__esModule",{value:!0}),j.output=j.exists=j.hash=j.bytes=j.bool=j.number=void 0,j.number=_,j.bool=y,j.bytes=b,j.hash=P,j.exists=H,j.output=w,j.default={number:_,bool:y,bytes:b,hash:P,exists:H,output:w}},17035:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.poly1305=j.wrapConstructorWithKey=void 0;const y=_(23790),b=_(32856),P=(O,S)=>255&O[S++]|(255&O[S++])<<8;class H{constructor(S){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,S=(0,y.toBytes)(S),(0,y.ensureBytes)(S,32);const B=P(S,0),N=P(S,2),U=P(S,4),A=P(S,6),G=P(S,8),L=P(S,10),z=P(S,12),ee=P(S,14);this.r[0]=8191&B,this.r[1]=8191&(B>>>13|N<<3),this.r[2]=7939&(N>>>10|U<<6),this.r[3]=8191&(U>>>7|A<<9),this.r[4]=255&(A>>>4|G<<12),this.r[5]=G>>>1&8190,this.r[6]=8191&(G>>>14|L<<2),this.r[7]=8065&(L>>>11|z<<5),this.r[8]=8191&(z>>>8|ee<<8),this.r[9]=ee>>>5&127;for(let q=0;q<8;q++)this.pad[q]=P(S,16+2*q)}process(S,B,N=!1){const U=N?0:2048,{h:A,r:G}=this,L=G[0],z=G[1],ee=G[2],q=G[3],Z=G[4],J=G[5],se=G[6],ce=G[7],ae=G[8],fe=G[9],he=P(S,B+0),we=P(S,B+2),Me=P(S,B+4),Pe=P(S,B+6),C=P(S,B+8),a=P(S,B+10),d=P(S,B+12),m=P(S,B+14);let p=A[0]+(8191&he),E=A[1]+(8191&(he>>>13|we<<3)),D=A[2]+(8191&(we>>>10|Me<<6)),R=A[3]+(8191&(Me>>>7|Pe<<9)),x=A[4]+(8191&(Pe>>>4|C<<12)),s=A[5]+(C>>>1&8191),v=A[6]+(8191&(C>>>14|a<<2)),$=A[7]+(8191&(a>>>11|d<<5)),F=A[8]+(8191&(d>>>8|m<<8)),Q=A[9]+(m>>>5|U),de=0,Ce=de+p*L+E*(5*fe)+D*(5*ae)+R*(5*ce)+x*(5*se);de=Ce>>>13,Ce&=8191,Ce+=s*(5*J)+v*(5*Z)+$*(5*q)+F*(5*ee)+Q*(5*z),de+=Ce>>>13,Ce&=8191;let Re=de+p*z+E*L+D*(5*fe)+R*(5*ae)+x*(5*ce);de=Re>>>13,Re&=8191,Re+=s*(5*se)+v*(5*J)+$*(5*Z)+F*(5*q)+Q*(5*ee),de+=Re>>>13,Re&=8191;let Ve=de+p*ee+E*z+D*L+R*(5*fe)+x*(5*ae);de=Ve>>>13,Ve&=8191,Ve+=s*(5*ce)+v*(5*se)+$*(5*J)+F*(5*Z)+Q*(5*q),de+=Ve>>>13,Ve&=8191;let Ee=de+p*q+E*ee+D*z+R*L+x*(5*fe);de=Ee>>>13,Ee&=8191,Ee+=s*(5*ae)+v*(5*ce)+$*(5*se)+F*(5*J)+Q*(5*Z),de+=Ee>>>13,Ee&=8191;let _e=de+p*Z+E*q+D*ee+R*z+x*L;de=_e>>>13,_e&=8191,_e+=s*(5*fe)+v*(5*ae)+$*(5*ce)+F*(5*se)+Q*(5*J),de+=_e>>>13,_e&=8191;let Fe=de+p*J+E*Z+D*q+R*ee+x*z;de=Fe>>>13,Fe&=8191,Fe+=s*L+v*(5*fe)+$*(5*ae)+F*(5*ce)+Q*(5*se),de+=Fe>>>13,Fe&=8191;let be=de+p*se+E*J+D*Z+R*q+x*ee;de=be>>>13,be&=8191,be+=s*z+v*L+$*(5*fe)+F*(5*ae)+Q*(5*ce),de+=be>>>13,be&=8191;let Ae=de+p*ce+E*se+D*J+R*Z+x*q;de=Ae>>>13,Ae&=8191,Ae+=s*ee+v*z+$*L+F*(5*fe)+Q*(5*ae),de+=Ae>>>13,Ae&=8191;let ge=de+p*ae+E*ce+D*se+R*J+x*Z;de=ge>>>13,ge&=8191,ge+=s*q+v*ee+$*z+F*L+Q*(5*fe),de+=ge>>>13,ge&=8191;let me=de+p*fe+E*ae+D*ce+R*se+x*J;de=me>>>13,me&=8191,me+=s*Z+v*q+$*ee+F*z+Q*L,de+=me>>>13,me&=8191,de=(de<<2)+de|0,de=de+Ce|0,Ce=8191&de,de>>>=13,Re+=de,A[0]=Ce,A[1]=Re,A[2]=Ve,A[3]=Ee,A[4]=_e,A[5]=Fe,A[6]=be,A[7]=Ae,A[8]=ge,A[9]=me}finalize(){const{h:S,pad:B}=this,N=new Uint16Array(10);let U=S[1]>>>13;S[1]&=8191;for(let L=2;L<10;L++)S[L]+=U,U=S[L]>>>13,S[L]&=8191;S[0]+=5*U,U=S[0]>>>13,S[0]&=8191,S[1]+=U,U=S[1]>>>13,S[1]&=8191,S[2]+=U,N[0]=S[0]+5,U=N[0]>>>13,N[0]&=8191;for(let L=1;L<10;L++)N[L]=S[L]+U,U=N[L]>>>13,N[L]&=8191;N[9]-=8192;let A=(1^U)-1;for(let L=0;L<10;L++)N[L]&=A;A=~A;for(let L=0;L<10;L++)S[L]=S[L]&A|N[L];S[0]=65535&(S[0]|S[1]<<13),S[1]=65535&(S[1]>>>3|S[2]<<10),S[2]=65535&(S[2]>>>6|S[3]<<7),S[3]=65535&(S[3]>>>9|S[4]<<4),S[4]=65535&(S[4]>>>12|S[5]<<1|S[6]<<14),S[5]=65535&(S[6]>>>2|S[7]<<11),S[6]=65535&(S[7]>>>5|S[8]<<8),S[7]=65535&(S[8]>>>8|S[9]<<5);let G=S[0]+B[0];S[0]=65535&G;for(let L=1;L<8;L++)G=(S[L]+B[L]|0)+(G>>>16)|0,S[L]=65535&G}update(S){b.default.exists(this);const{buffer:B,blockLen:N}=this,U=(S=(0,y.toBytes)(S)).length;for(let A=0;A<U;){const G=Math.min(N-this.pos,U-A);if(G!==N)B.set(S.subarray(A,A+G),this.pos),this.pos+=G,A+=G,this.pos===N&&(this.process(B,0,!1),this.pos=0);else for(;N<=U-A;A+=N)this.process(S,A)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(S){b.default.exists(this),b.default.output(S,this),this.finished=!0;const{buffer:B,h:N}=this;let{pos:U}=this;if(U){for(B[U++]=1;U<16;U++)B[U]=0;this.process(B,0,!0)}this.finalize();let A=0;for(let G=0;G<8;G++)S[A++]=N[G]>>>0,S[A++]=N[G]>>>8;return S}digest(){const{buffer:S,outputLen:B}=this;this.digestInto(S);const N=S.slice(0,B);return this.destroy(),N}}function w(O){const S=(N,U)=>O(U).update((0,y.toBytes)(N)).digest(),B=O(new Uint8Array(32));return S.outputLen=B.outputLen,S.blockLen=B.blockLen,S.create=N=>O(N),S}j.wrapConstructorWithKey=w,j.poly1305=w(O=>new H(O))},70580:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.salsaBasic=void 0;const y=_(32856),b=_(23790),P=(0,b.utf8ToBytes)("expand 16-byte k"),H=(0,b.utf8ToBytes)("expand 32-byte k"),w=(0,b.u32)(P),O=(0,b.u32)(H),S=N=>!(N.byteOffset%4);j.salsaBasic=N=>{const{core:U,rounds:A,counterRight:G,counterLen:L,allow128bitKeys:z,extendNonceFn:ee,blockLen:q}=(0,b.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},N);y.default.number(L),y.default.number(A),y.default.number(q),y.default.bool(G),y.default.bool(z);const Z=q/4;if(q%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(J,se,ce,ae,fe=0)=>{if(y.default.bytes(J),y.default.bytes(se),y.default.bytes(ce),ae||(ae=new Uint8Array(ce.length)),y.default.bytes(ae),y.default.number(fe),fe<0||fe>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(ae.length<ce.length)throw new Error(`Salsa/ChaCha: output (${ae.length}) is shorter than data (${ce.length})`);const he=[];let we,Me;if(32===J.length)S(J)?we=J:(we=J.slice(),he.push(we)),Me=O;else{if(16!==J.length||!z)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${J.length}`);we=new Uint8Array(32),we.set(J),we.set(J,16),Me=w,he.push(we)}if(S(se)||(se=se.slice(),he.push(se)),ee){if(se.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");we=ee(Me,we,se.subarray(0,16),new Uint8Array(32)),he.push(we),se=se.subarray(16)}const Pe=16-L;if(se.length!==Pe)throw new Error(`Salsa/ChaCha: nonce must be ${Pe} or 16 bytes`);if(12!==Pe){const R=new Uint8Array(12);R.set(se,G?0:12-se.length),he.push(se=R)}const C=new Uint8Array(q),a=(0,b.u32)(C),d=(0,b.u32)(we),m=(0,b.u32)(se),p=S(ce)&&(0,b.u32)(ce),E=S(ae)&&(0,b.u32)(ae);he.push(a);const D=ce.length;for(let R=0,x=fe;R<D;x++){if(U(Me,d,m,a,x,A),x>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const s=Math.min(q,D-R);if(s===q&&E&&p){const v=R/4;if(R%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let $=0;$<Z;$++)E[v+$]=p[v+$]^a[$];R+=q}else{for(let v=0;v<s;v++)ae[R+v]=ce[R+v]^C[v];R+=s}}for(let R=0;R<he.length;R++)he[R].fill(0);return ae}}},59219:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.xchacha20poly1305=j.chacha20poly1305=j._poly1305_aead=j.chacha12=j.chacha8=j.xchacha20=j.chacha20=j.chacha20orig=j.hchacha=void 0;const y=_(23790),b=_(17035),P=_(70580),H=(A,G)=>A<<G|A>>>32-G;function w(A,G,L,z,ee,q=20){let Z=A[0],J=A[1],se=A[2],ce=A[3],ae=G[0],fe=G[1],he=G[2],we=G[3],Me=G[4],Pe=G[5],C=G[6],a=G[7],d=ee,m=L[0],p=L[1],E=L[2],D=Z,R=J,x=se,s=ce,v=ae,$=fe,F=he,Q=we,de=Me,Ce=Pe,Re=C,Ve=a,Ee=d,_e=m,Fe=p,be=E;for(let ge=0;ge<q;ge+=2)D=D+v|0,Ee=H(Ee^D,16),de=de+Ee|0,v=H(v^de,12),D=D+v|0,Ee=H(Ee^D,8),de=de+Ee|0,v=H(v^de,7),R=R+$|0,_e=H(_e^R,16),Ce=Ce+_e|0,$=H($^Ce,12),R=R+$|0,_e=H(_e^R,8),Ce=Ce+_e|0,$=H($^Ce,7),x=x+F|0,Fe=H(Fe^x,16),Re=Re+Fe|0,F=H(F^Re,12),x=x+F|0,Fe=H(Fe^x,8),Re=Re+Fe|0,F=H(F^Re,7),s=s+Q|0,be=H(be^s,16),Ve=Ve+be|0,Q=H(Q^Ve,12),s=s+Q|0,be=H(be^s,8),Ve=Ve+be|0,Q=H(Q^Ve,7),D=D+$|0,be=H(be^D,16),Re=Re+be|0,$=H($^Re,12),D=D+$|0,be=H(be^D,8),Re=Re+be|0,$=H($^Re,7),R=R+F|0,Ee=H(Ee^R,16),Ve=Ve+Ee|0,F=H(F^Ve,12),R=R+F|0,Ee=H(Ee^R,8),Ve=Ve+Ee|0,F=H(F^Ve,7),x=x+Q|0,_e=H(_e^x,16),de=de+_e|0,Q=H(Q^de,12),x=x+Q|0,_e=H(_e^x,8),de=de+_e|0,Q=H(Q^de,7),s=s+v|0,Fe=H(Fe^s,16),Ce=Ce+Fe|0,v=H(v^Ce,12),s=s+v|0,Fe=H(Fe^s,8),Ce=Ce+Fe|0,v=H(v^Ce,7);let Ae=0;z[Ae++]=Z+D|0,z[Ae++]=J+R|0,z[Ae++]=se+x|0,z[Ae++]=ce+s|0,z[Ae++]=ae+v|0,z[Ae++]=fe+$|0,z[Ae++]=he+F|0,z[Ae++]=we+Q|0,z[Ae++]=Me+de|0,z[Ae++]=Pe+Ce|0,z[Ae++]=C+Re|0,z[Ae++]=a+Ve|0,z[Ae++]=d+Ee|0,z[Ae++]=m+_e|0,z[Ae++]=p+Fe|0,z[Ae++]=E+be|0}function O(A,G,L,z){const ee=(0,y.u32)(G),q=(0,y.u32)(L),Z=(0,y.u32)(z);let J=A[0],se=A[1],ce=A[2],ae=A[3],fe=ee[0],he=ee[1],we=ee[2],Me=ee[3],Pe=ee[4],C=ee[5],a=ee[6],d=ee[7],m=q[0],p=q[1],E=q[2],D=q[3];for(let R=0;R<20;R+=2)J=J+fe|0,m=H(m^J,16),Pe=Pe+m|0,fe=H(fe^Pe,12),J=J+fe|0,m=H(m^J,8),Pe=Pe+m|0,fe=H(fe^Pe,7),se=se+he|0,p=H(p^se,16),C=C+p|0,he=H(he^C,12),se=se+he|0,p=H(p^se,8),C=C+p|0,he=H(he^C,7),ce=ce+we|0,E=H(E^ce,16),a=a+E|0,we=H(we^a,12),ce=ce+we|0,E=H(E^ce,8),a=a+E|0,we=H(we^a,7),ae=ae+Me|0,D=H(D^ae,16),d=d+D|0,Me=H(Me^d,12),ae=ae+Me|0,D=H(D^ae,8),d=d+D|0,Me=H(Me^d,7),J=J+he|0,D=H(D^J,16),a=a+D|0,he=H(he^a,12),J=J+he|0,D=H(D^J,8),a=a+D|0,he=H(he^a,7),se=se+we|0,m=H(m^se,16),d=d+m|0,we=H(we^d,12),se=se+we|0,m=H(m^se,8),d=d+m|0,we=H(we^d,7),ce=ce+Me|0,p=H(p^ce,16),Pe=Pe+p|0,Me=H(Me^Pe,12),ce=ce+Me|0,p=H(p^ce,8),Pe=Pe+p|0,Me=H(Me^Pe,7),ae=ae+fe|0,E=H(E^ae,16),C=C+E|0,fe=H(fe^C,12),ae=ae+fe|0,E=H(E^ae,8),C=C+E|0,fe=H(fe^C,7);return Z[0]=J,Z[1]=se,Z[2]=ce,Z[3]=ae,Z[4]=m,Z[5]=p,Z[6]=E,Z[7]=D,z}j.hchacha=O,j.chacha20orig=(0,P.salsaBasic)({core:w,counterRight:!1,counterLen:8}),j.chacha20=(0,P.salsaBasic)({core:w,counterRight:!1,counterLen:4,allow128bitKeys:!1}),j.xchacha20=(0,P.salsaBasic)({core:w,counterRight:!1,counterLen:8,extendNonceFn:O,allow128bitKeys:!1}),j.chacha8=(0,P.salsaBasic)({core:w,counterRight:!1,counterLen:4,rounds:8}),j.chacha12=(0,P.salsaBasic)({core:w,counterRight:!1,counterLen:4,rounds:12});const S=new Uint8Array(16),B=(A,G)=>{A.update(G);const L=G.length%16;L&&A.update(S.subarray(L))},N=(A,G,L,z,ee)=>{const q=A(G,L,new Uint8Array(32)),Z=b.poly1305.create(q);ee&&B(Z,ee),B(Z,z);const J=new Uint8Array(16),se=(0,y.createView)(J);(0,y.setBigUint64)(se,0,BigInt(ee?ee.length:0),!0),(0,y.setBigUint64)(se,8,BigInt(z.length),!0),Z.update(J);const ce=Z.digest();return q.fill(0),ce};j._poly1305_aead=A=>(G,L,z)=>((0,y.ensureBytes)(G,32),(0,y.ensureBytes)(L),{tagLength:16,encrypt:(q,Z)=>{const J=q.length,se=J+16;Z?(0,y.ensureBytes)(Z,se):Z=new Uint8Array(se),A(G,L,q,Z,1);const ce=N(A,G,L,Z.subarray(0,-16),z);return Z.set(ce,J),Z},decrypt:(q,Z)=>{const J=q.length,se=J-16;if(J<16)throw new Error("encrypted data must be at least 16 bytes");Z?(0,y.ensureBytes)(Z,se):Z=new Uint8Array(se);const ce=q.subarray(0,-16),ae=q.subarray(-16),fe=N(A,G,L,ce,z);if(!(0,y.equalBytes)(ae,fe))throw new Error("invalid tag");return A(G,L,ce,Z,1),Z}}),j.chacha20poly1305=(0,j._poly1305_aead)(j.chacha20),j.xchacha20poly1305=(0,j._poly1305_aead)(j.xchacha20)},23790:(Je,j,_)=>{"use strict";var y=_(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.setBigUint64=j.Hash=j.equalBytes=j.ensureBytes=j.checkOpts=j.concatBytes=j.toBytes=j.bytesToUtf8=j.utf8ToBytes=j.asyncLoop=j.nextTick=j.hexToBytes=j.bytesToHex=j.isLE=j.createView=j.u32=j.u16=j.u8=void 0;const b=he=>he instanceof Uint8Array;if(j.u8=he=>new Uint8Array(he.buffer,he.byteOffset,he.byteLength),j.u16=he=>new Uint16Array(he.buffer,he.byteOffset,Math.floor(he.byteLength/2)),j.u32=he=>new Uint32Array(he.buffer,he.byteOffset,Math.floor(he.byteLength/4)),j.createView=he=>new DataView(he.buffer,he.byteOffset,he.byteLength),j.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!j.isLE)throw new Error("Non little-endian hardware is not supported");const S=Array.from({length:256},(he,we)=>we.toString(16).padStart(2,"0"));function G(){return(G=y(function*(he,we,Me){let Pe=Date.now();for(let C=0;C<he;C++){Me(C);const a=Date.now()-Pe;a>=0&&a<we||(yield(0,j.nextTick)(),Pe+=a)}})).apply(this,arguments)}function L(he){if("string"!=typeof he)throw new Error("utf8ToBytes expected string, got "+typeof he);return new Uint8Array((new TextEncoder).encode(he))}j.bytesToHex=function B(he){if(!b(he))throw new Error("Uint8Array expected");let we="";for(let Me=0;Me<he.length;Me++)we+=S[he[Me]];return we},j.hexToBytes=function N(he){if("string"!=typeof he)throw new Error("hex string expected, got "+typeof he);const we=he.length;if(we%2)throw new Error("padded hex string expected, got unpadded hex of length "+we);const Me=new Uint8Array(we/2);for(let Pe=0;Pe<Me.length;Pe++){const C=2*Pe,a=he.slice(C,C+2),d=Number.parseInt(a,16);if(Number.isNaN(d)||d<0)throw new Error("Invalid byte sequence");Me[Pe]=d}return Me},j.nextTick=function(){var he=y(function*(){});return function(){return he.apply(this,arguments)}}(),j.asyncLoop=function A(he,we,Me){return G.apply(this,arguments)},j.utf8ToBytes=L,j.bytesToUtf8=function z(he){return(new TextDecoder).decode(he)},j.toBytes=function ee(he){if("string"==typeof he&&(he=L(he)),!b(he))throw new Error("expected Uint8Array, got "+typeof he);return he},j.concatBytes=function q(...he){const we=new Uint8Array(he.reduce((Pe,C)=>Pe+C.length,0));let Me=0;return he.forEach(Pe=>{if(!b(Pe))throw new Error("Uint8Array expected");we.set(Pe,Me),Me+=Pe.length}),we},j.checkOpts=function J(he,we){if(void 0!==we&&("object"!=typeof we||!(he=>"[object Object]"===Object.prototype.toString.call(he)&&he.constructor===Object)(we)))throw new Error("options must be object or undefined");return Object.assign(he,we)},j.ensureBytes=function se(he,we){if(!(he instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof we&&he.length!==we)throw new Error(`Uint8Array length ${we} expected`)},j.equalBytes=function ce(he,we){if(he.length!==we.length)throw new Error("equalBytes: Different size of Uint8Arrays");let Me=!0;for(let Pe=0;Pe<he.length;Pe++)Me&&(Me=he[Pe]===we[Pe]);return Me},j.Hash=class ae{},j.setBigUint64=function fe(he,we,Me,Pe){if("function"==typeof he.setBigUint64)return he.setBigUint64(we,Me,Pe);const C=BigInt(32),a=BigInt(4294967295),d=Number(Me>>C&a),m=Number(Me&a),E=Pe?0:4;he.setUint32(we+(Pe?4:0),d,Pe),he.setUint32(we+E,m,Pe)}},89742:(Je,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.crypto=void 0,j.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:(Je,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getWebcryptoSubtle=j.randomBytes=void 0;const y=_(89742);j.randomBytes=function b(H=32){if(y.crypto&&"function"==typeof y.crypto.getRandomValues)return y.crypto.getRandomValues(new Uint8Array(H));throw new Error("crypto.getRandomValues must be defined")},j.getWebcryptoSubtle=function P(){if(y.crypto&&"object"==typeof y.crypto.subtle&&null!=y.crypto.subtle)return y.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:(Je,j,_)=>{"use strict";var y=j;y.version=_(1636).rE,y.utils=_(3136),y.rand=_(35294),y.curve=_(8729),y.curves=_(23401),y.ec=_(29042),y.eddsa=_(83045)},98828:(Je,j,_)=>{"use strict";var y=_(88723),b=_(3136),P=b.getNAF,H=b.getJSF,w=b.assert;function O(B,N){this.type=B,this.p=new y(N.p,16),this.red=N.prime?y.red(N.prime):y.mont(this.p),this.zero=new y(0).toRed(this.red),this.one=new y(1).toRed(this.red),this.two=new y(2).toRed(this.red),this.n=N.n&&new y(N.n,16),this.g=N.g&&this.pointFromJSON(N.g,N.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var U=this.n&&this.p.div(this.n);!U||U.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function S(B,N){this.curve=B,this.type=N,this.precomputed=null}Je.exports=O,O.prototype.point=function(){throw new Error("Not implemented")},O.prototype.validate=function(){throw new Error("Not implemented")},O.prototype._fixedNafMul=function(N,U){w(N.precomputed);var A=N._getDoubles(),G=P(U,1,this._bitLength),L=(1<<A.step+1)-(A.step%2==0?2:1);L/=3;var ee,q,z=[];for(ee=0;ee<G.length;ee+=A.step){q=0;for(var Z=ee+A.step-1;Z>=ee;Z--)q=(q<<1)+G[Z];z.push(q)}for(var J=this.jpoint(null,null,null),se=this.jpoint(null,null,null),ce=L;ce>0;ce--){for(ee=0;ee<z.length;ee++)(q=z[ee])===ce?se=se.mixedAdd(A.points[ee]):q===-ce&&(se=se.mixedAdd(A.points[ee].neg()));J=J.add(se)}return J.toP()},O.prototype._wnafMul=function(N,U){for(var A=4,G=N._getNAFPoints(A),L=G.points,z=P(U,A=G.wnd,this._bitLength),ee=this.jpoint(null,null,null),q=z.length-1;q>=0;q--){for(var Z=0;q>=0&&0===z[q];q--)Z++;if(q>=0&&Z++,ee=ee.dblp(Z),q<0)break;var J=z[q];w(0!==J),ee="affine"===N.type?ee.mixedAdd(J>0?L[J-1>>1]:L[-J-1>>1].neg()):ee.add(J>0?L[J-1>>1]:L[-J-1>>1].neg())}return"affine"===N.type?ee.toP():ee},O.prototype._wnafMulAdd=function(N,U,A,G,L){var J,se,ce,z=this._wnafT1,ee=this._wnafT2,q=this._wnafT3,Z=0;for(J=0;J<G;J++){var ae=(ce=U[J])._getNAFPoints(N);z[J]=ae.wnd,ee[J]=ae.points}for(J=G-1;J>=1;J-=2){var fe=J-1,he=J;if(1===z[fe]&&1===z[he]){var we=[U[fe],null,null,U[he]];0===U[fe].y.cmp(U[he].y)?(we[1]=U[fe].add(U[he]),we[2]=U[fe].toJ().mixedAdd(U[he].neg())):0===U[fe].y.cmp(U[he].y.redNeg())?(we[1]=U[fe].toJ().mixedAdd(U[he]),we[2]=U[fe].add(U[he].neg())):(we[1]=U[fe].toJ().mixedAdd(U[he]),we[2]=U[fe].toJ().mixedAdd(U[he].neg()));var Me=[-3,-1,-5,-7,0,7,5,1,3],Pe=H(A[fe],A[he]);for(Z=Math.max(Pe[0].length,Z),q[fe]=new Array(Z),q[he]=new Array(Z),se=0;se<Z;se++)q[fe][se]=Me[3*(1+(0|Pe[0][se]))+(1+(0|Pe[1][se]))],q[he][se]=0,ee[fe]=we}else q[fe]=P(A[fe],z[fe],this._bitLength),q[he]=P(A[he],z[he],this._bitLength),Z=Math.max(q[fe].length,Z),Z=Math.max(q[he].length,Z)}var d=this.jpoint(null,null,null),m=this._wnafT4;for(J=Z;J>=0;J--){for(var p=0;J>=0;){var E=!0;for(se=0;se<G;se++)m[se]=0|q[se][J],0!==m[se]&&(E=!1);if(!E)break;p++,J--}if(J>=0&&p++,d=d.dblp(p),J<0)break;for(se=0;se<G;se++){var D=m[se];0!==D&&(D>0?ce=ee[se][D-1>>1]:D<0&&(ce=ee[se][-D-1>>1].neg()),d="affine"===ce.type?d.mixedAdd(ce):d.add(ce))}}for(J=0;J<G;J++)ee[J]=null;return L?d:d.toP()},O.BasePoint=S,S.prototype.eq=function(){throw new Error("Not implemented")},S.prototype.validate=function(){return this.curve.validate(this)},O.prototype.decodePoint=function(N,U){N=b.toArray(N,U);var A=this.p.byteLength();if((4===N[0]||6===N[0]||7===N[0])&&N.length-1==2*A)return 6===N[0]?w(N[N.length-1]%2==0):7===N[0]&&w(N[N.length-1]%2==1),this.point(N.slice(1,1+A),N.slice(1+A,1+2*A));if((2===N[0]||3===N[0])&&N.length-1===A)return this.pointFromX(N.slice(1,1+A),3===N[0]);throw new Error("Unknown point format")},S.prototype.encodeCompressed=function(N){return this.encode(N,!0)},S.prototype._encode=function(N){var U=this.curve.p.byteLength(),A=this.getX().toArray("be",U);return N?[this.getY().isEven()?2:3].concat(A):[4].concat(A,this.getY().toArray("be",U))},S.prototype.encode=function(N,U){return b.encode(this._encode(U),N)},S.prototype.precompute=function(N){if(this.precomputed)return this;var U={doubles:null,naf:null,beta:null};return U.naf=this._getNAFPoints(8),U.doubles=this._getDoubles(4,N),U.beta=this._getBeta(),this.precomputed=U,this},S.prototype._hasDoubles=function(N){if(!this.precomputed)return!1;var U=this.precomputed.doubles;return!!U&&U.points.length>=Math.ceil((N.bitLength()+1)/U.step)},S.prototype._getDoubles=function(N,U){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var A=[this],G=this,L=0;L<U;L+=N){for(var z=0;z<N;z++)G=G.dbl();A.push(G)}return{step:N,points:A}},S.prototype._getNAFPoints=function(N){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var U=[this],A=(1<<N)-1,G=1===A?null:this.dbl(),L=1;L<A;L++)U[L]=U[L-1].add(G);return{wnd:N,points:U}},S.prototype._getBeta=function(){return null},S.prototype.dblp=function(N){for(var U=this,A=0;A<N;A++)U=U.dbl();return U}},55537:(Je,j,_)=>{"use strict";var y=_(3136),b=_(88723),P=_(71993),H=_(98828),w=y.assert;function O(B){this.twisted=1!=(0|B.a),this.mOneA=this.twisted&&-1==(0|B.a),this.extended=this.mOneA,H.call(this,"edwards",B),this.a=new b(B.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new b(B.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new b(B.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),w(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|B.c)}function S(B,N,U,A,G){H.BasePoint.call(this,B,"projective"),null===N&&null===U&&null===A?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new b(N,16),this.y=new b(U,16),this.z=A?new b(A,16):this.curve.one,this.t=G&&new b(G,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}P(O,H),Je.exports=O,O.prototype._mulA=function(N){return this.mOneA?N.redNeg():this.a.redMul(N)},O.prototype._mulC=function(N){return this.oneC?N:this.c.redMul(N)},O.prototype.jpoint=function(N,U,A,G){return this.point(N,U,A,G)},O.prototype.pointFromX=function(N,U){(N=new b(N,16)).red||(N=N.toRed(this.red));var A=N.redSqr(),G=this.c2.redSub(this.a.redMul(A)),L=this.one.redSub(this.c2.redMul(this.d).redMul(A)),z=G.redMul(L.redInvm()),ee=z.redSqrt();if(0!==ee.redSqr().redSub(z).cmp(this.zero))throw new Error("invalid point");var q=ee.fromRed().isOdd();return(U&&!q||!U&&q)&&(ee=ee.redNeg()),this.point(N,ee)},O.prototype.pointFromY=function(N,U){(N=new b(N,16)).red||(N=N.toRed(this.red));var A=N.redSqr(),G=A.redSub(this.c2),L=A.redMul(this.d).redMul(this.c2).redSub(this.a),z=G.redMul(L.redInvm());if(0===z.cmp(this.zero)){if(U)throw new Error("invalid point");return this.point(this.zero,N)}var ee=z.redSqrt();if(0!==ee.redSqr().redSub(z).cmp(this.zero))throw new Error("invalid point");return ee.fromRed().isOdd()!==U&&(ee=ee.redNeg()),this.point(ee,N)},O.prototype.validate=function(N){if(N.isInfinity())return!0;N.normalize();var U=N.x.redSqr(),A=N.y.redSqr(),G=U.redMul(this.a).redAdd(A),L=this.c2.redMul(this.one.redAdd(this.d.redMul(U).redMul(A)));return 0===G.cmp(L)},P(S,H.BasePoint),O.prototype.pointFromJSON=function(N){return S.fromJSON(this,N)},O.prototype.point=function(N,U,A,G){return new S(this,N,U,A,G)},S.fromJSON=function(N,U){return new S(N,U[0],U[1],U[2])},S.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},S.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},S.prototype._extDbl=function(){var N=this.x.redSqr(),U=this.y.redSqr(),A=this.z.redSqr();A=A.redIAdd(A);var G=this.curve._mulA(N),L=this.x.redAdd(this.y).redSqr().redISub(N).redISub(U),z=G.redAdd(U),ee=z.redSub(A),q=G.redSub(U),Z=L.redMul(ee),J=z.redMul(q),se=L.redMul(q),ce=ee.redMul(z);return this.curve.point(Z,J,ce,se)},S.prototype._projDbl=function(){var G,L,z,ee,q,Z,N=this.x.redAdd(this.y).redSqr(),U=this.x.redSqr(),A=this.y.redSqr();if(this.curve.twisted){var J=(ee=this.curve._mulA(U)).redAdd(A);this.zOne?(G=N.redSub(U).redSub(A).redMul(J.redSub(this.curve.two)),L=J.redMul(ee.redSub(A)),z=J.redSqr().redSub(J).redSub(J)):(q=this.z.redSqr(),Z=J.redSub(q).redISub(q),G=N.redSub(U).redISub(A).redMul(Z),L=J.redMul(ee.redSub(A)),z=J.redMul(Z))}else ee=U.redAdd(A),q=this.curve._mulC(this.z).redSqr(),Z=ee.redSub(q).redSub(q),G=this.curve._mulC(N.redISub(ee)).redMul(Z),L=this.curve._mulC(ee).redMul(U.redISub(A)),z=ee.redMul(Z);return this.curve.point(G,L,z)},S.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},S.prototype._extAdd=function(N){var U=this.y.redSub(this.x).redMul(N.y.redSub(N.x)),A=this.y.redAdd(this.x).redMul(N.y.redAdd(N.x)),G=this.t.redMul(this.curve.dd).redMul(N.t),L=this.z.redMul(N.z.redAdd(N.z)),z=A.redSub(U),ee=L.redSub(G),q=L.redAdd(G),Z=A.redAdd(U),J=z.redMul(ee),se=q.redMul(Z),ce=z.redMul(Z),ae=ee.redMul(q);return this.curve.point(J,se,ae,ce)},S.prototype._projAdd=function(N){var se,ce,U=this.z.redMul(N.z),A=U.redSqr(),G=this.x.redMul(N.x),L=this.y.redMul(N.y),z=this.curve.d.redMul(G).redMul(L),ee=A.redSub(z),q=A.redAdd(z),Z=this.x.redAdd(this.y).redMul(N.x.redAdd(N.y)).redISub(G).redISub(L),J=U.redMul(ee).redMul(Z);return this.curve.twisted?(se=U.redMul(q).redMul(L.redSub(this.curve._mulA(G))),ce=ee.redMul(q)):(se=U.redMul(q).redMul(L.redSub(G)),ce=this.curve._mulC(ee).redMul(q)),this.curve.point(J,se,ce)},S.prototype.add=function(N){return this.isInfinity()?N:N.isInfinity()?this:this.curve.extended?this._extAdd(N):this._projAdd(N)},S.prototype.mul=function(N){return this._hasDoubles(N)?this.curve._fixedNafMul(this,N):this.curve._wnafMul(this,N)},S.prototype.mulAdd=function(N,U,A){return this.curve._wnafMulAdd(1,[this,U],[N,A],2,!1)},S.prototype.jmulAdd=function(N,U,A){return this.curve._wnafMulAdd(1,[this,U],[N,A],2,!0)},S.prototype.normalize=function(){if(this.zOne)return this;var N=this.z.redInvm();return this.x=this.x.redMul(N),this.y=this.y.redMul(N),this.t&&(this.t=this.t.redMul(N)),this.z=this.curve.one,this.zOne=!0,this},S.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},S.prototype.getX=function(){return this.normalize(),this.x.fromRed()},S.prototype.getY=function(){return this.normalize(),this.y.fromRed()},S.prototype.eq=function(N){return this===N||0===this.getX().cmp(N.getX())&&0===this.getY().cmp(N.getY())},S.prototype.eqXToP=function(N){var U=N.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(U))return!0;for(var A=N.clone(),G=this.curve.redN.redMul(this.z);;){if(A.iadd(this.curve.n),A.cmp(this.curve.p)>=0)return!1;if(U.redIAdd(G),0===this.x.cmp(U))return!0}},S.prototype.toP=S.prototype.normalize,S.prototype.mixedAdd=S.prototype.add},8729:(Je,j,_)=>{"use strict";var y=j;y.base=_(98828),y.short=_(68075),y.mont=_(64947),y.edwards=_(55537)},64947:(Je,j,_)=>{"use strict";var y=_(88723),b=_(71993),P=_(98828),H=_(3136);function w(S){P.call(this,"mont",S),this.a=new y(S.a,16).toRed(this.red),this.b=new y(S.b,16).toRed(this.red),this.i4=new y(4).toRed(this.red).redInvm(),this.two=new y(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function O(S,B,N){P.BasePoint.call(this,S,"projective"),null===B&&null===N?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new y(B,16),this.z=new y(N,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}b(w,P),Je.exports=w,w.prototype.validate=function(B){var N=B.normalize().x,U=N.redSqr(),A=U.redMul(N).redAdd(U.redMul(this.a)).redAdd(N);return 0===A.redSqrt().redSqr().cmp(A)},b(O,P.BasePoint),w.prototype.decodePoint=function(B,N){return this.point(H.toArray(B,N),1)},w.prototype.point=function(B,N){return new O(this,B,N)},w.prototype.pointFromJSON=function(B){return O.fromJSON(this,B)},O.prototype.precompute=function(){},O.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},O.fromJSON=function(B,N){return new O(B,N[0],N[1]||B.one)},O.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},O.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},O.prototype.dbl=function(){var N=this.x.redAdd(this.z).redSqr(),A=this.x.redSub(this.z).redSqr(),G=N.redSub(A),L=N.redMul(A),z=G.redMul(A.redAdd(this.curve.a24.redMul(G)));return this.curve.point(L,z)},O.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},O.prototype.diffAdd=function(B,N){var U=this.x.redAdd(this.z),A=this.x.redSub(this.z),G=B.x.redAdd(B.z),z=B.x.redSub(B.z).redMul(U),ee=G.redMul(A),q=N.z.redMul(z.redAdd(ee).redSqr()),Z=N.x.redMul(z.redISub(ee).redSqr());return this.curve.point(q,Z)},O.prototype.mul=function(B){for(var N=B.clone(),U=this,A=this.curve.point(null,null),L=[];0!==N.cmpn(0);N.iushrn(1))L.push(N.andln(1));for(var z=L.length-1;z>=0;z--)0===L[z]?(U=U.diffAdd(A,this),A=A.dbl()):(A=U.diffAdd(A,this),U=U.dbl());return A},O.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},O.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},O.prototype.eq=function(B){return 0===this.getX().cmp(B.getX())},O.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},O.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:(Je,j,_)=>{"use strict";var y=_(3136),b=_(88723),P=_(71993),H=_(98828),w=y.assert;function O(N){H.call(this,"short",N),this.a=new b(N.a,16).toRed(this.red),this.b=new b(N.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(N),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function S(N,U,A,G){H.BasePoint.call(this,N,"affine"),null===U&&null===A?(this.x=null,this.y=null,this.inf=!0):(this.x=new b(U,16),this.y=new b(A,16),G&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function B(N,U,A,G){H.BasePoint.call(this,N,"jacobian"),null===U&&null===A&&null===G?(this.x=this.curve.one,this.y=this.curve.one,this.z=new b(0)):(this.x=new b(U,16),this.y=new b(A,16),this.z=new b(G,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}P(O,H),Je.exports=O,O.prototype._getEndomorphism=function(U){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var A,G;if(U.beta)A=new b(U.beta,16).toRed(this.red);else{var L=this._getEndoRoots(this.p);A=(A=L[0].cmp(L[1])<0?L[0]:L[1]).toRed(this.red)}if(U.lambda)G=new b(U.lambda,16);else{var z=this._getEndoRoots(this.n);0===this.g.mul(z[0]).x.cmp(this.g.x.redMul(A))?G=z[0]:w(0===this.g.mul(G=z[1]).x.cmp(this.g.x.redMul(A)))}return{beta:A,lambda:G,basis:U.basis?U.basis.map(function(q){return{a:new b(q.a,16),b:new b(q.b,16)}}):this._getEndoBasis(G)}}},O.prototype._getEndoRoots=function(U){var A=U===this.p?this.red:b.mont(U),G=new b(2).toRed(A).redInvm(),L=G.redNeg(),z=new b(3).toRed(A).redNeg().redSqrt().redMul(G);return[L.redAdd(z).fromRed(),L.redSub(z).fromRed()]},O.prototype._getEndoBasis=function(U){for(var J,se,ce,ae,fe,he,we,Pe,C,A=this.n.ushrn(Math.floor(this.n.bitLength()/2)),G=U,L=this.n.clone(),z=new b(1),ee=new b(0),q=new b(0),Z=new b(1),Me=0;0!==G.cmpn(0);){var a=L.div(G);Pe=L.sub(a.mul(G)),C=q.sub(a.mul(z));var d=Z.sub(a.mul(ee));if(!ce&&Pe.cmp(A)<0)J=we.neg(),se=z,ce=Pe.neg(),ae=C;else if(ce&&2==++Me)break;we=Pe,L=G,G=Pe,q=z,z=C,Z=ee,ee=d}fe=Pe.neg(),he=C;var m=ce.sqr().add(ae.sqr());return fe.sqr().add(he.sqr()).cmp(m)>=0&&(fe=J,he=se),ce.negative&&(ce=ce.neg(),ae=ae.neg()),fe.negative&&(fe=fe.neg(),he=he.neg()),[{a:ce,b:ae},{a:fe,b:he}]},O.prototype._endoSplit=function(U){var A=this.endo.basis,G=A[0],L=A[1],z=L.b.mul(U).divRound(this.n),ee=G.b.neg().mul(U).divRound(this.n),q=z.mul(G.a),Z=ee.mul(L.a),J=z.mul(G.b),se=ee.mul(L.b);return{k1:U.sub(q).sub(Z),k2:J.add(se).neg()}},O.prototype.pointFromX=function(U,A){(U=new b(U,16)).red||(U=U.toRed(this.red));var G=U.redSqr().redMul(U).redIAdd(U.redMul(this.a)).redIAdd(this.b),L=G.redSqrt();if(0!==L.redSqr().redSub(G).cmp(this.zero))throw new Error("invalid point");var z=L.fromRed().isOdd();return(A&&!z||!A&&z)&&(L=L.redNeg()),this.point(U,L)},O.prototype.validate=function(U){if(U.inf)return!0;var A=U.x,G=U.y,L=this.a.redMul(A),z=A.redSqr().redMul(A).redIAdd(L).redIAdd(this.b);return 0===G.redSqr().redISub(z).cmpn(0)},O.prototype._endoWnafMulAdd=function(U,A,G){for(var L=this._endoWnafT1,z=this._endoWnafT2,ee=0;ee<U.length;ee++){var q=this._endoSplit(A[ee]),Z=U[ee],J=Z._getBeta();q.k1.negative&&(q.k1.ineg(),Z=Z.neg(!0)),q.k2.negative&&(q.k2.ineg(),J=J.neg(!0)),L[2*ee]=Z,L[2*ee+1]=J,z[2*ee]=q.k1,z[2*ee+1]=q.k2}for(var se=this._wnafMulAdd(1,L,z,2*ee,G),ce=0;ce<2*ee;ce++)L[ce]=null,z[ce]=null;return se},P(S,H.BasePoint),O.prototype.point=function(U,A,G){return new S(this,U,A,G)},O.prototype.pointFromJSON=function(U,A){return S.fromJSON(this,U,A)},S.prototype._getBeta=function(){if(this.curve.endo){var U=this.precomputed;if(U&&U.beta)return U.beta;var A=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(U){var G=this.curve,L=function(z){return G.point(z.x.redMul(G.endo.beta),z.y)};U.beta=A,A.precomputed={beta:null,naf:U.naf&&{wnd:U.naf.wnd,points:U.naf.points.map(L)},doubles:U.doubles&&{step:U.doubles.step,points:U.doubles.points.map(L)}}}return A}},S.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},S.fromJSON=function(U,A,G){"string"==typeof A&&(A=JSON.parse(A));var L=U.point(A[0],A[1],G);if(!A[2])return L;function z(q){return U.point(q[0],q[1],G)}var ee=A[2];return L.precomputed={beta:null,doubles:ee.doubles&&{step:ee.doubles.step,points:[L].concat(ee.doubles.points.map(z))},naf:ee.naf&&{wnd:ee.naf.wnd,points:[L].concat(ee.naf.points.map(z))}},L},S.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},S.prototype.isInfinity=function(){return this.inf},S.prototype.add=function(U){if(this.inf)return U;if(U.inf)return this;if(this.eq(U))return this.dbl();if(this.neg().eq(U))return this.curve.point(null,null);if(0===this.x.cmp(U.x))return this.curve.point(null,null);var A=this.y.redSub(U.y);0!==A.cmpn(0)&&(A=A.redMul(this.x.redSub(U.x).redInvm()));var G=A.redSqr().redISub(this.x).redISub(U.x),L=A.redMul(this.x.redSub(G)).redISub(this.y);return this.curve.point(G,L)},S.prototype.dbl=function(){if(this.inf)return this;var U=this.y.redAdd(this.y);if(0===U.cmpn(0))return this.curve.point(null,null);var A=this.curve.a,G=this.x.redSqr(),L=U.redInvm(),z=G.redAdd(G).redIAdd(G).redIAdd(A).redMul(L),ee=z.redSqr().redISub(this.x.redAdd(this.x)),q=z.redMul(this.x.redSub(ee)).redISub(this.y);return this.curve.point(ee,q)},S.prototype.getX=function(){return this.x.fromRed()},S.prototype.getY=function(){return this.y.fromRed()},S.prototype.mul=function(U){return U=new b(U,16),this.isInfinity()?this:this._hasDoubles(U)?this.curve._fixedNafMul(this,U):this.curve.endo?this.curve._endoWnafMulAdd([this],[U]):this.curve._wnafMul(this,U)},S.prototype.mulAdd=function(U,A,G){var L=[this,A],z=[U,G];return this.curve.endo?this.curve._endoWnafMulAdd(L,z):this.curve._wnafMulAdd(1,L,z,2)},S.prototype.jmulAdd=function(U,A,G){var L=[this,A],z=[U,G];return this.curve.endo?this.curve._endoWnafMulAdd(L,z,!0):this.curve._wnafMulAdd(1,L,z,2,!0)},S.prototype.eq=function(U){return this===U||this.inf===U.inf&&(this.inf||0===this.x.cmp(U.x)&&0===this.y.cmp(U.y))},S.prototype.neg=function(U){if(this.inf)return this;var A=this.curve.point(this.x,this.y.redNeg());if(U&&this.precomputed){var G=this.precomputed,L=function(z){return z.neg()};A.precomputed={naf:G.naf&&{wnd:G.naf.wnd,points:G.naf.points.map(L)},doubles:G.doubles&&{step:G.doubles.step,points:G.doubles.points.map(L)}}}return A},S.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},P(B,H.BasePoint),O.prototype.jpoint=function(U,A,G){return new B(this,U,A,G)},B.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var U=this.z.redInvm(),A=U.redSqr(),G=this.x.redMul(A),L=this.y.redMul(A).redMul(U);return this.curve.point(G,L)},B.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},B.prototype.add=function(U){if(this.isInfinity())return U;if(U.isInfinity())return this;var A=U.z.redSqr(),G=this.z.redSqr(),L=this.x.redMul(A),z=U.x.redMul(G),ee=this.y.redMul(A.redMul(U.z)),q=U.y.redMul(G.redMul(this.z)),Z=L.redSub(z),J=ee.redSub(q);if(0===Z.cmpn(0))return 0!==J.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var se=Z.redSqr(),ce=se.redMul(Z),ae=L.redMul(se),fe=J.redSqr().redIAdd(ce).redISub(ae).redISub(ae),he=J.redMul(ae.redISub(fe)).redISub(ee.redMul(ce)),we=this.z.redMul(U.z).redMul(Z);return this.curve.jpoint(fe,he,we)},B.prototype.mixedAdd=function(U){if(this.isInfinity())return U.toJ();if(U.isInfinity())return this;var A=this.z.redSqr(),G=this.x,L=U.x.redMul(A),z=this.y,ee=U.y.redMul(A).redMul(this.z),q=G.redSub(L),Z=z.redSub(ee);if(0===q.cmpn(0))return 0!==Z.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var J=q.redSqr(),se=J.redMul(q),ce=G.redMul(J),ae=Z.redSqr().redIAdd(se).redISub(ce).redISub(ce),fe=Z.redMul(ce.redISub(ae)).redISub(z.redMul(se)),he=this.z.redMul(q);return this.curve.jpoint(ae,fe,he)},B.prototype.dblp=function(U){if(0===U)return this;if(this.isInfinity())return this;if(!U)return this.dbl();var A;if(this.curve.zeroA||this.curve.threeA){var G=this;for(A=0;A<U;A++)G=G.dbl();return G}var L=this.curve.a,z=this.curve.tinv,ee=this.x,q=this.y,Z=this.z,J=Z.redSqr().redSqr(),se=q.redAdd(q);for(A=0;A<U;A++){var ce=ee.redSqr(),ae=se.redSqr(),fe=ae.redSqr(),he=ce.redAdd(ce).redIAdd(ce).redIAdd(L.redMul(J)),we=ee.redMul(ae),Me=he.redSqr().redISub(we.redAdd(we)),Pe=we.redISub(Me),C=he.redMul(Pe);C=C.redIAdd(C).redISub(fe);var a=se.redMul(Z);A+1<U&&(J=J.redMul(fe)),ee=Me,Z=a,se=C}return this.curve.jpoint(ee,se.redMul(z),Z)},B.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},B.prototype._zeroDbl=function(){var U,A,G;if(this.zOne){var L=this.x.redSqr(),z=this.y.redSqr(),ee=z.redSqr(),q=this.x.redAdd(z).redSqr().redISub(L).redISub(ee);q=q.redIAdd(q);var Z=L.redAdd(L).redIAdd(L),J=Z.redSqr().redISub(q).redISub(q),se=ee.redIAdd(ee);se=(se=se.redIAdd(se)).redIAdd(se),U=J,A=Z.redMul(q.redISub(J)).redISub(se),G=this.y.redAdd(this.y)}else{var ce=this.x.redSqr(),ae=this.y.redSqr(),fe=ae.redSqr(),he=this.x.redAdd(ae).redSqr().redISub(ce).redISub(fe);he=he.redIAdd(he);var we=ce.redAdd(ce).redIAdd(ce),Me=we.redSqr(),Pe=fe.redIAdd(fe);Pe=(Pe=Pe.redIAdd(Pe)).redIAdd(Pe),U=Me.redISub(he).redISub(he),A=we.redMul(he.redISub(U)).redISub(Pe),G=(G=this.y.redMul(this.z)).redIAdd(G)}return this.curve.jpoint(U,A,G)},B.prototype._threeDbl=function(){var U,A,G;if(this.zOne){var L=this.x.redSqr(),z=this.y.redSqr(),ee=z.redSqr(),q=this.x.redAdd(z).redSqr().redISub(L).redISub(ee);q=q.redIAdd(q);var Z=L.redAdd(L).redIAdd(L).redIAdd(this.curve.a),J=Z.redSqr().redISub(q).redISub(q);U=J;var se=ee.redIAdd(ee);se=(se=se.redIAdd(se)).redIAdd(se),A=Z.redMul(q.redISub(J)).redISub(se),G=this.y.redAdd(this.y)}else{var ce=this.z.redSqr(),ae=this.y.redSqr(),fe=this.x.redMul(ae),he=this.x.redSub(ce).redMul(this.x.redAdd(ce));he=he.redAdd(he).redIAdd(he);var we=fe.redIAdd(fe),Me=(we=we.redIAdd(we)).redAdd(we);U=he.redSqr().redISub(Me),G=this.y.redAdd(this.z).redSqr().redISub(ae).redISub(ce);var Pe=ae.redSqr();Pe=(Pe=(Pe=Pe.redIAdd(Pe)).redIAdd(Pe)).redIAdd(Pe),A=he.redMul(we.redISub(U)).redISub(Pe)}return this.curve.jpoint(U,A,G)},B.prototype._dbl=function(){var U=this.curve.a,A=this.x,G=this.y,L=this.z,z=L.redSqr().redSqr(),ee=A.redSqr(),q=G.redSqr(),Z=ee.redAdd(ee).redIAdd(ee).redIAdd(U.redMul(z)),J=A.redAdd(A),se=(J=J.redIAdd(J)).redMul(q),ce=Z.redSqr().redISub(se.redAdd(se)),ae=se.redISub(ce),fe=q.redSqr();fe=(fe=(fe=fe.redIAdd(fe)).redIAdd(fe)).redIAdd(fe);var he=Z.redMul(ae).redISub(fe),we=G.redAdd(G).redMul(L);return this.curve.jpoint(ce,he,we)},B.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var U=this.x.redSqr(),A=this.y.redSqr(),G=this.z.redSqr(),L=A.redSqr(),z=U.redAdd(U).redIAdd(U),ee=z.redSqr(),q=this.x.redAdd(A).redSqr().redISub(U).redISub(L),Z=(q=(q=(q=q.redIAdd(q)).redAdd(q).redIAdd(q)).redISub(ee)).redSqr(),J=L.redIAdd(L);J=(J=(J=J.redIAdd(J)).redIAdd(J)).redIAdd(J);var se=z.redIAdd(q).redSqr().redISub(ee).redISub(Z).redISub(J),ce=A.redMul(se);ce=(ce=ce.redIAdd(ce)).redIAdd(ce);var ae=this.x.redMul(Z).redISub(ce);ae=(ae=ae.redIAdd(ae)).redIAdd(ae);var fe=this.y.redMul(se.redMul(J.redISub(se)).redISub(q.redMul(Z)));fe=(fe=(fe=fe.redIAdd(fe)).redIAdd(fe)).redIAdd(fe);var he=this.z.redAdd(q).redSqr().redISub(G).redISub(Z);return this.curve.jpoint(ae,fe,he)},B.prototype.mul=function(U,A){return U=new b(U,A),this.curve._wnafMul(this,U)},B.prototype.eq=function(U){if("affine"===U.type)return this.eq(U.toJ());if(this===U)return!0;var A=this.z.redSqr(),G=U.z.redSqr();if(0!==this.x.redMul(G).redISub(U.x.redMul(A)).cmpn(0))return!1;var L=A.redMul(this.z),z=G.redMul(U.z);return 0===this.y.redMul(z).redISub(U.y.redMul(L)).cmpn(0)},B.prototype.eqXToP=function(U){var A=this.z.redSqr(),G=U.toRed(this.curve.red).redMul(A);if(0===this.x.cmp(G))return!0;for(var L=U.clone(),z=this.curve.redN.redMul(A);;){if(L.iadd(this.curve.n),L.cmp(this.curve.p)>=0)return!1;if(G.redIAdd(z),0===this.x.cmp(G))return!0}},B.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},B.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:(Je,j,_)=>{"use strict";var B,y=j,b=_(52529),P=_(8729),w=_(3136).assert;function O(N){this.curve="short"===N.type?new P.short(N):"edwards"===N.type?new P.edwards(N):new P.mont(N),this.g=this.curve.g,this.n=this.curve.n,this.hash=N.hash,w(this.g.validate(),"Invalid curve"),w(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function S(N,U){Object.defineProperty(y,N,{configurable:!0,enumerable:!0,get:function(){var A=new O(U);return Object.defineProperty(y,N,{configurable:!0,enumerable:!0,value:A}),A}})}y.PresetCurve=O,S("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:b.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),S("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:b.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),S("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:b.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),S("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:b.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),S("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:b.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),S("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:b.sha256,gRed:!1,g:["9"]}),S("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:b.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{B=_(51416)}catch{B=void 0}S("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:b.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",B]})},29042:(Je,j,_)=>{"use strict";var y=_(88723),b=_(33556),P=_(3136),H=_(23401),w=_(35294),O=P.assert,S=_(60541),B=_(40484);function N(U){if(!(this instanceof N))return new N(U);"string"==typeof U&&(O(Object.prototype.hasOwnProperty.call(H,U),"Unknown curve "+U),U=H[U]),U instanceof H.PresetCurve&&(U={curve:U}),this.curve=U.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=U.curve.g,this.g.precompute(U.curve.n.bitLength()+1),this.hash=U.hash||U.curve.hash}Je.exports=N,N.prototype.keyPair=function(A){return new S(this,A)},N.prototype.keyFromPrivate=function(A,G){return S.fromPrivate(this,A,G)},N.prototype.keyFromPublic=function(A,G){return S.fromPublic(this,A,G)},N.prototype.genKeyPair=function(A){A||(A={});for(var G=new b({hash:this.hash,pers:A.pers,persEnc:A.persEnc||"utf8",entropy:A.entropy||w(this.hash.hmacStrength),entropyEnc:A.entropy&&A.entropyEnc||"utf8",nonce:this.n.toArray()}),L=this.n.byteLength(),z=this.n.sub(new y(2));;){var ee=new y(G.generate(L));if(!(ee.cmp(z)>0))return ee.iaddn(1),this.keyFromPrivate(ee)}},N.prototype._truncateToN=function(A,G){var L=8*A.byteLength()-this.n.bitLength();return L>0&&(A=A.ushrn(L)),!G&&A.cmp(this.n)>=0?A.sub(this.n):A},N.prototype.sign=function(A,G,L,z){"object"==typeof L&&(z=L,L=null),z||(z={}),G=this.keyFromPrivate(G,L),A=this._truncateToN(new y(A,16));for(var ee=this.n.byteLength(),q=G.getPrivate().toArray("be",ee),Z=A.toArray("be",ee),J=new b({hash:this.hash,entropy:q,nonce:Z,pers:z.pers,persEnc:z.persEnc||"utf8"}),se=this.n.sub(new y(1)),ce=0;;ce++){var ae=z.k?z.k(ce):new y(J.generate(this.n.byteLength()));if(!((ae=this._truncateToN(ae,!0)).cmpn(1)<=0||ae.cmp(se)>=0)){var fe=this.g.mul(ae);if(!fe.isInfinity()){var he=fe.getX(),we=he.umod(this.n);if(0!==we.cmpn(0)){var Me=ae.invm(this.n).mul(we.mul(G.getPrivate()).iadd(A));if(0!==(Me=Me.umod(this.n)).cmpn(0)){var Pe=(fe.getY().isOdd()?1:0)|(0!==he.cmp(we)?2:0);return z.canonical&&Me.cmp(this.nh)>0&&(Me=this.n.sub(Me),Pe^=1),new B({r:we,s:Me,recoveryParam:Pe})}}}}}},N.prototype.verify=function(A,G,L,z){A=this._truncateToN(new y(A,16)),L=this.keyFromPublic(L,z);var ee=(G=new B(G,"hex")).r,q=G.s;if(ee.cmpn(1)<0||ee.cmp(this.n)>=0||q.cmpn(1)<0||q.cmp(this.n)>=0)return!1;var ce,Z=q.invm(this.n),J=Z.mul(A).umod(this.n),se=Z.mul(ee).umod(this.n);return this.curve._maxwellTrick?!(ce=this.g.jmulAdd(J,L.getPublic(),se)).isInfinity()&&ce.eqXToP(ee):!(ce=this.g.mulAdd(J,L.getPublic(),se)).isInfinity()&&0===ce.getX().umod(this.n).cmp(ee)},N.prototype.recoverPubKey=function(U,A,G,L){O((3&G)===G,"The recovery param is more than two bits"),A=new B(A,L);var z=this.n,ee=new y(U),q=A.r,Z=A.s,J=1&G,se=G>>1;if(q.cmp(this.curve.p.umod(this.curve.n))>=0&&se)throw new Error("Unable to find sencond key candinate");q=this.curve.pointFromX(se?q.add(this.curve.n):q,J);var ce=A.r.invm(z),ae=z.sub(ee).mul(ce).umod(z),fe=Z.mul(ce).umod(z);return this.g.mulAdd(ae,q,fe)},N.prototype.getKeyRecoveryParam=function(U,A,G,L){if(null!==(A=new B(A,L)).recoveryParam)return A.recoveryParam;for(var z=0;z<4;z++){var ee;try{ee=this.recoverPubKey(U,A,z)}catch{continue}if(ee.eq(G))return z}throw new Error("Unable to find valid recovery factor")}},60541:(Je,j,_)=>{"use strict";var y=_(88723),P=_(3136).assert;function H(w,O){this.ec=w,this.priv=null,this.pub=null,O.priv&&this._importPrivate(O.priv,O.privEnc),O.pub&&this._importPublic(O.pub,O.pubEnc)}Je.exports=H,H.fromPublic=function(O,S,B){return S instanceof H?S:new H(O,{pub:S,pubEnc:B})},H.fromPrivate=function(O,S,B){return S instanceof H?S:new H(O,{priv:S,privEnc:B})},H.prototype.validate=function(){var O=this.getPublic();return O.isInfinity()?{result:!1,reason:"Invalid public key"}:O.validate()?O.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},H.prototype.getPublic=function(O,S){return"string"==typeof O&&(S=O,O=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),S?this.pub.encode(S,O):this.pub},H.prototype.getPrivate=function(O){return"hex"===O?this.priv.toString(16,2):this.priv},H.prototype._importPrivate=function(O,S){this.priv=new y(O,S||16),this.priv=this.priv.umod(this.ec.curve.n)},H.prototype._importPublic=function(O,S){if(O.x||O.y)return"mont"===this.ec.curve.type?P(O.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&P(O.x&&O.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(O.x,O.y));this.pub=this.ec.curve.decodePoint(O,S)},H.prototype.derive=function(O){return O.validate()||P(O.validate(),"public point not validated"),O.mul(this.priv).getX()},H.prototype.sign=function(O,S,B){return this.ec.sign(O,this,S,B)},H.prototype.verify=function(O,S){return this.ec.verify(O,S,this)},H.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:(Je,j,_)=>{"use strict";var y=_(88723),b=_(3136),P=b.assert;function H(N,U){if(N instanceof H)return N;this._importDER(N,U)||(P(N.r&&N.s,"Signature without r or s"),this.r=new y(N.r,16),this.s=new y(N.s,16),this.recoveryParam=void 0===N.recoveryParam?null:N.recoveryParam)}function w(){this.place=0}function O(N,U){var A=N[U.place++];if(!(128&A))return A;var G=15&A;if(0===G||G>4)return!1;for(var L=0,z=0,ee=U.place;z<G;z++,ee++)L<<=8,L|=N[ee],L>>>=0;return!(L<=127)&&(U.place=ee,L)}function S(N){for(var U=0,A=N.length-1;!N[U]&&!(128&N[U+1])&&U<A;)U++;return 0===U?N:N.slice(U)}function B(N,U){if(U<128)N.push(U);else{var A=1+(Math.log(U)/Math.LN2>>>3);for(N.push(128|A);--A;)N.push(U>>>(A<<3)&255);N.push(U)}}Je.exports=H,H.prototype._importDER=function(U,A){U=b.toArray(U,A);var G=new w;if(48!==U[G.place++])return!1;var L=O(U,G);if(!1===L||L+G.place!==U.length||2!==U[G.place++])return!1;var z=O(U,G);if(!1===z)return!1;var ee=U.slice(G.place,z+G.place);if(G.place+=z,2!==U[G.place++])return!1;var q=O(U,G);if(!1===q||U.length!==q+G.place)return!1;var Z=U.slice(G.place,q+G.place);if(0===ee[0]){if(!(128&ee[1]))return!1;ee=ee.slice(1)}if(0===Z[0]){if(!(128&Z[1]))return!1;Z=Z.slice(1)}return this.r=new y(ee),this.s=new y(Z),this.recoveryParam=null,!0},H.prototype.toDER=function(U){var A=this.r.toArray(),G=this.s.toArray();for(128&A[0]&&(A=[0].concat(A)),128&G[0]&&(G=[0].concat(G)),A=S(A),G=S(G);!(G[0]||128&G[1]);)G=G.slice(1);var L=[2];B(L,A.length),(L=L.concat(A)).push(2),B(L,G.length);var z=L.concat(G),ee=[48];return B(ee,z.length),ee=ee.concat(z),b.encode(ee,U)}},83045:(Je,j,_)=>{"use strict";var y=_(52529),b=_(23401),P=_(3136),H=P.assert,w=P.parseBytes,O=_(87222),S=_(5451);function B(N){if(H("ed25519"===N,"only tested with ed25519 so far"),!(this instanceof B))return new B(N);this.curve=N=b[N].curve,this.g=N.g,this.g.precompute(N.n.bitLength()+1),this.pointClass=N.point().constructor,this.encodingLength=Math.ceil(N.n.bitLength()/8),this.hash=y.sha512}Je.exports=B,B.prototype.sign=function(U,A){U=w(U);var G=this.keyFromSecret(A),L=this.hashInt(G.messagePrefix(),U),z=this.g.mul(L),ee=this.encodePoint(z),q=this.hashInt(ee,G.pubBytes(),U).mul(G.priv()),Z=L.add(q).umod(this.curve.n);return this.makeSignature({R:z,S:Z,Rencoded:ee})},B.prototype.verify=function(U,A,G){U=w(U),A=this.makeSignature(A);var L=this.keyFromPublic(G),z=this.hashInt(A.Rencoded(),L.pubBytes(),U),ee=this.g.mul(A.S());return A.R().add(L.pub().mul(z)).eq(ee)},B.prototype.hashInt=function(){for(var U=this.hash(),A=0;A<arguments.length;A++)U.update(arguments[A]);return P.intFromLE(U.digest()).umod(this.curve.n)},B.prototype.keyFromPublic=function(U){return O.fromPublic(this,U)},B.prototype.keyFromSecret=function(U){return O.fromSecret(this,U)},B.prototype.makeSignature=function(U){return U instanceof S?U:new S(this,U)},B.prototype.encodePoint=function(U){var A=U.getY().toArray("le",this.encodingLength);return A[this.encodingLength-1]|=U.getX().isOdd()?128:0,A},B.prototype.decodePoint=function(U){var A=(U=P.parseBytes(U)).length-1,G=U.slice(0,A).concat(-129&U[A]),L=!!(128&U[A]),z=P.intFromLE(G);return this.curve.pointFromY(z,L)},B.prototype.encodeInt=function(U){return U.toArray("le",this.encodingLength)},B.prototype.decodeInt=function(U){return P.intFromLE(U)},B.prototype.isPoint=function(U){return U instanceof this.pointClass}},87222:(Je,j,_)=>{"use strict";var y=_(3136),b=y.assert,P=y.parseBytes,H=y.cachedProperty;function w(O,S){this.eddsa=O,this._secret=P(S.secret),O.isPoint(S.pub)?this._pub=S.pub:this._pubBytes=P(S.pub)}w.fromPublic=function(S,B){return B instanceof w?B:new w(S,{pub:B})},w.fromSecret=function(S,B){return B instanceof w?B:new w(S,{secret:B})},w.prototype.secret=function(){return this._secret},H(w,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),H(w,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),H(w,"privBytes",function(){var S=this.eddsa,B=this.hash(),N=S.encodingLength-1,U=B.slice(0,S.encodingLength);return U[0]&=248,U[N]&=127,U[N]|=64,U}),H(w,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),H(w,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),H(w,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),w.prototype.sign=function(S){return b(this._secret,"KeyPair can only verify"),this.eddsa.sign(S,this)},w.prototype.verify=function(S,B){return this.eddsa.verify(S,B,this)},w.prototype.getSecret=function(S){return b(this._secret,"KeyPair is public only"),y.encode(this.secret(),S)},w.prototype.getPublic=function(S){return y.encode(this.pubBytes(),S)},Je.exports=w},5451:(Je,j,_)=>{"use strict";var y=_(88723),b=_(3136),P=b.assert,H=b.cachedProperty,w=b.parseBytes;function O(S,B){this.eddsa=S,"object"!=typeof B&&(B=w(B)),Array.isArray(B)&&(B={R:B.slice(0,S.encodingLength),S:B.slice(S.encodingLength)}),P(B.R&&B.S,"Signature without R or S"),S.isPoint(B.R)&&(this._R=B.R),B.S instanceof y&&(this._S=B.S),this._Rencoded=Array.isArray(B.R)?B.R:B.Rencoded,this._Sencoded=Array.isArray(B.S)?B.S:B.Sencoded}H(O,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),H(O,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),H(O,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),H(O,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),O.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},O.prototype.toHex=function(){return b.encode(this.toBytes(),"hex").toUpperCase()},Je.exports=O},51416:Je=>{Je.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:(Je,j,_)=>{"use strict";var y=j,b=_(88723),P=_(39210),H=_(21832);y.assert=P,y.toArray=H.toArray,y.zero2=H.zero2,y.toHex=H.toHex,y.encode=H.encode,y.getNAF=function w(U,A,G){var z,L=new Array(Math.max(U.bitLength(),G)+1);for(z=0;z<L.length;z+=1)L[z]=0;var ee=1<<A+1,q=U.clone();for(z=0;z<L.length;z++){var Z,J=q.andln(ee-1);q.isOdd()?q.isubn(Z=J>(ee>>1)-1?(ee>>1)-J:J):Z=0,L[z]=Z,q.iushrn(1)}return L},y.getJSF=function O(U,A){var G=[[],[]];U=U.clone(),A=A.clone();for(var ee,L=0,z=0;U.cmpn(-L)>0||A.cmpn(-z)>0;){var J,se,q=U.andln(3)+L&3,Z=A.andln(3)+z&3;3===q&&(q=-1),3===Z&&(Z=-1),J=1&q?3!=(ee=U.andln(7)+L&7)&&5!==ee||2!==Z?q:-q:0,G[0].push(J),se=1&Z?3!=(ee=A.andln(7)+z&7)&&5!==ee||2!==q?Z:-Z:0,G[1].push(se),2*L===J+1&&(L=1-L),2*z===se+1&&(z=1-z),U.iushrn(1),A.iushrn(1)}return G},y.cachedProperty=function S(U,A,G){var L="_"+A;U.prototype[A]=function(){return void 0!==this[L]?this[L]:this[L]=G.call(this)}},y.parseBytes=function B(U){return"string"==typeof U?y.toArray(U,"hex"):U},y.intFromLE=function N(U){return new b(U,"hex","le")}},88723:function(Je,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(79368).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],Ce=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],be=8191&Fe,Ae=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],ue=8191&ne,De=ne>>>13,Be=0|p[6],Qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],vn=8191&rn,un=rn>>>13,sr=0|E[3],Cn=8191&sr,cn=sr>>>13,qt=0|E[4],bt=8191&qt,ut=qt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,ur=0|E[6],yt=8191&ur,_t=ur>>>13,xt=0|E[7],qe=8191&xt,tt=xt>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,zn=0|E[9],wn=8191&zn,Tn=zn>>>13;m.negative=a.negative^d.negative,m.length=19;var vr=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(vr>>>26)|0,vr&=67108863,x=Math.imul(Ce,Ne),s=(s=Math.imul(Ce,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var ir=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(Ce,It)|0,s=(s=s+Math.imul(Ce,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,vn)|0)|0)+((8191&(s=(s=s+Math.imul(F,un)|0)+Math.imul(Q,vn)|0))<<13)|0;R=((v=v+Math.imul(Q,un)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(be,Ne),s=(s=Math.imul(be,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(Ce,vn)|0,s=(s=s+Math.imul(Ce,un)|0)+Math.imul(Re,vn)|0,v=v+Math.imul(Re,un)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(be,It)|0,s=(s=s+Math.imul(be,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(Ee,vn)|0,s=(s=s+Math.imul(Ee,un)|0)+Math.imul(_e,vn)|0,v=v+Math.imul(_e,un)|0,x=x+Math.imul(Ce,Cn)|0,s=(s=s+Math.imul(Ce,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,bt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,bt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(ue,Ne),s=(s=Math.imul(ue,lt))+Math.imul(De,Ne)|0,v=Math.imul(De,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(be,vn)|0,s=(s=s+Math.imul(be,un)|0)+Math.imul(Ae,vn)|0,v=v+Math.imul(Ae,un)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(Ce,bt)|0,s=(s=s+Math.imul(Ce,ut)|0)+Math.imul(Re,bt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(Qe,Ne),s=(s=Math.imul(Qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(ue,It)|0,s=(s=s+Math.imul(ue,Kt)|0)+Math.imul(De,It)|0,v=v+Math.imul(De,Kt)|0,x=x+Math.imul(me,vn)|0,s=(s=s+Math.imul(me,un)|0)+Math.imul(te,vn)|0,v=v+Math.imul(te,un)|0,x=x+Math.imul(be,Cn)|0,s=(s=s+Math.imul(be,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(Ee,bt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,bt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(Ce,nn)|0,s=(s=s+Math.imul(Ce,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,_t)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,_t)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(Qe,It)|0,s=(s=s+Math.imul(Qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(ue,vn)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(De,vn)|0,v=v+Math.imul(De,un)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(be,bt)|0,s=(s=s+Math.imul(be,ut)|0)+Math.imul(Ae,bt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(Ce,yt)|0,s=(s=s+Math.imul(Ce,_t)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,_t)|0;var Zt=(R+(x=x+Math.imul(F,qe)|0)|0)+((8191&(s=(s=s+Math.imul(F,tt)|0)+Math.imul(Q,qe)|0))<<13)|0;R=((v=v+Math.imul(Q,tt)|0)+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(Qe,vn)|0,s=(s=s+Math.imul(Qe,un)|0)+Math.imul(ze,vn)|0,v=v+Math.imul(ze,un)|0,x=x+Math.imul(ue,Cn)|0,s=(s=s+Math.imul(ue,cn)|0)+Math.imul(De,Cn)|0,v=v+Math.imul(De,cn)|0,x=x+Math.imul(me,bt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,bt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(be,nn)|0,s=(s=s+Math.imul(be,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,_t)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,_t)|0,x=x+Math.imul(Ce,qe)|0,s=(s=s+Math.imul(Ce,tt)|0)+Math.imul(Re,qe)|0,v=v+Math.imul(Re,tt)|0;var xn=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(xn>>>26)|0,xn&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,vn)|0,s=(s=s+Math.imul(Xe,un)|0)+Math.imul(Ue,vn)|0,v=v+Math.imul(Ue,un)|0,x=x+Math.imul(Qe,Cn)|0,s=(s=s+Math.imul(Qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(ue,bt)|0,s=(s=s+Math.imul(ue,ut)|0)+Math.imul(De,bt)|0,v=v+Math.imul(De,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(be,yt)|0,s=(s=s+Math.imul(be,_t)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,_t)|0,x=x+Math.imul(Ee,qe)|0,s=(s=s+Math.imul(Ee,tt)|0)+Math.imul(_e,qe)|0,v=v+Math.imul(_e,tt)|0,x=x+Math.imul(Ce,Ft)|0,s=(s=s+Math.imul(Ce,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var Hn=(R+(x=x+Math.imul(F,wn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Tn)|0)+Math.imul(Q,wn)|0))<<13)|0;R=((v=v+Math.imul(Q,Tn)|0)+(s>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,vn)|0,s=(s=s+Math.imul(K,un)|0)+Math.imul(T,vn)|0,v=v+Math.imul(T,un)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(Qe,bt)|0,s=(s=s+Math.imul(Qe,ut)|0)+Math.imul(ze,bt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(ue,nn)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(De,nn)|0,v=v+Math.imul(De,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,_t)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,_t)|0,x=x+Math.imul(be,qe)|0,s=(s=s+Math.imul(be,tt)|0)+Math.imul(Ae,qe)|0,v=v+Math.imul(Ae,tt)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(Ce,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ce,Tn)|0)+Math.imul(Re,wn)|0))<<13)|0;R=((v=v+Math.imul(Re,Tn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,vn),s=(s=Math.imul(Y,un))+Math.imul(pe,vn)|0,v=Math.imul(pe,un),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,bt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,bt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(Qe,nn)|0,s=(s=s+Math.imul(Qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(ue,yt)|0,s=(s=s+Math.imul(ue,_t)|0)+Math.imul(De,yt)|0,v=v+Math.imul(De,_t)|0,x=x+Math.imul(me,qe)|0,s=(s=s+Math.imul(me,tt)|0)+Math.imul(te,qe)|0,v=v+Math.imul(te,tt)|0,x=x+Math.imul(be,Ft)|0,s=(s=s+Math.imul(be,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var hr=(R+(x=x+Math.imul(Ee,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Tn)|0)+Math.imul(_e,wn)|0))<<13)|0;R=((v=v+Math.imul(_e,Tn)|0)+(s>>>13)|0)+(hr>>>26)|0,hr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,bt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,bt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(Qe,yt)|0,s=(s=s+Math.imul(Qe,_t)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,_t)|0,x=x+Math.imul(ue,qe)|0,s=(s=s+Math.imul(ue,tt)|0)+Math.imul(De,qe)|0,v=v+Math.imul(De,tt)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Nr=(R+(x=x+Math.imul(be,wn)|0)|0)+((8191&(s=(s=s+Math.imul(be,Tn)|0)+Math.imul(Ae,wn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Tn)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(Y,bt),s=(s=Math.imul(Y,ut))+Math.imul(pe,bt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,_t)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,_t)|0,x=x+Math.imul(Qe,qe)|0,s=(s=s+Math.imul(Qe,tt)|0)+Math.imul(ze,qe)|0,v=v+Math.imul(ze,tt)|0,x=x+Math.imul(ue,Ft)|0,s=(s=s+Math.imul(ue,mn)|0)+Math.imul(De,Ft)|0,v=v+Math.imul(De,mn)|0;var Cr=(R+(x=x+Math.imul(me,wn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Tn)|0)+Math.imul(te,wn)|0))<<13)|0;R=((v=v+Math.imul(te,Tn)|0)+(s>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,_t)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,_t)|0,x=x+Math.imul(Xe,qe)|0,s=(s=s+Math.imul(Xe,tt)|0)+Math.imul(Ue,qe)|0,v=v+Math.imul(Ue,tt)|0,x=x+Math.imul(Qe,Ft)|0,s=(s=s+Math.imul(Qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Ur=(R+(x=x+Math.imul(ue,wn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,Tn)|0)+Math.imul(De,wn)|0))<<13)|0;R=((v=v+Math.imul(De,Tn)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,_t))+Math.imul(pe,yt)|0,v=Math.imul(pe,_t),x=x+Math.imul(K,qe)|0,s=(s=s+Math.imul(K,tt)|0)+Math.imul(T,qe)|0,v=v+Math.imul(T,tt)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Lr=(R+(x=x+Math.imul(Qe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Qe,Tn)|0)+Math.imul(ze,wn)|0))<<13)|0;R=((v=v+Math.imul(ze,Tn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,qe),s=(s=Math.imul(Y,tt))+Math.imul(pe,qe)|0,v=Math.imul(pe,tt),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var oi=(R+(x=x+Math.imul(Xe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Tn)|0)+Math.imul(Ue,wn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Tn)|0)+(s>>>13)|0)+(oi>>>26)|0,oi&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,wn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Tn)|0)+Math.imul(T,wn)|0))<<13)|0;R=((v=v+Math.imul(T,Tn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var _n=(R+(x=Math.imul(Y,wn))|0)+((8191&(s=(s=Math.imul(Y,Tn))+Math.imul(pe,wn)|0))<<13)|0;return R=((v=Math.imul(pe,Tn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,D[0]=vr,D[1]=ir,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Zt,D[8]=xn,D[9]=Hn,D[10]=er,D[11]=hr,D[12]=Nr,D[13]=Cr,D[14]=Ur,D[15]=Lr,D[16]=oi,D[17]=on,D[18]=_n,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var Ce=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=Ce+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=Ce-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var Ce=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=Ce}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,Ce=0;0!==de.cmp(D);Ce++)de=de.redSqr();P(Ce<Q);var Re=this.pow(v,new w(1).iushln(Q-Ce-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=Ce}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Je=_.nmd(Je),this)},44356:Je=>{"use strict";var y,j="object"==typeof Reflect?Reflect:null,_=j&&"function"==typeof j.apply?j.apply:function(ce,ae,fe){return Function.prototype.apply.call(ce,ae,fe)};y=j&&"function"==typeof j.ownKeys?j.ownKeys:Object.getOwnPropertySymbols?function(ce){return Object.getOwnPropertyNames(ce).concat(Object.getOwnPropertySymbols(ce))}:function(ce){return Object.getOwnPropertyNames(ce)};var P=Number.isNaN||function(ce){return ce!=ce};function H(){H.init.call(this)}Je.exports=H,Je.exports.once=function q(se,ce){return new Promise(function(ae,fe){function he(Me){se.removeListener(ce,we),fe(Me)}function we(){"function"==typeof se.removeListener&&se.removeListener("error",he),ae([].slice.call(arguments))}J(se,ce,we,{once:!0}),"error"!==ce&&function Z(se,ce,ae){"function"==typeof se.on&&J(se,"error",ce,ae)}(se,he,{once:!0})})},H.EventEmitter=H,H.prototype._events=void 0,H.prototype._eventsCount=0,H.prototype._maxListeners=void 0;var w=10;function O(se){if("function"!=typeof se)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof se)}function S(se){return void 0===se._maxListeners?H.defaultMaxListeners:se._maxListeners}function B(se,ce,ae,fe){var he,we,Me;if(O(ae),void 0===(we=se._events)?(we=se._events=Object.create(null),se._eventsCount=0):(void 0!==we.newListener&&(se.emit("newListener",ce,ae.listener?ae.listener:ae),we=se._events),Me=we[ce]),void 0===Me)Me=we[ce]=ae,++se._eventsCount;else if("function"==typeof Me?Me=we[ce]=fe?[ae,Me]:[Me,ae]:fe?Me.unshift(ae):Me.push(ae),(he=S(se))>0&&Me.length>he&&!Me.warned){Me.warned=!0;var Pe=new Error("Possible EventEmitter memory leak detected. "+Me.length+" "+String(ce)+" listeners added. Use emitter.setMaxListeners() to increase limit");Pe.name="MaxListenersExceededWarning",Pe.emitter=se,Pe.type=ce,Pe.count=Me.length,function b(se){console&&console.warn&&console.warn(se)}(Pe)}return se}function N(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function U(se,ce,ae){var fe={fired:!1,wrapFn:void 0,target:se,type:ce,listener:ae},he=N.bind(fe);return he.listener=ae,fe.wrapFn=he,he}function A(se,ce,ae){var fe=se._events;if(void 0===fe)return[];var he=fe[ce];return void 0===he?[]:"function"==typeof he?ae?[he.listener||he]:[he]:ae?function ee(se){for(var ce=new Array(se.length),ae=0;ae<ce.length;++ae)ce[ae]=se[ae].listener||se[ae];return ce}(he):L(he,he.length)}function G(se){var ce=this._events;if(void 0!==ce){var ae=ce[se];if("function"==typeof ae)return 1;if(void 0!==ae)return ae.length}return 0}function L(se,ce){for(var ae=new Array(ce),fe=0;fe<ce;++fe)ae[fe]=se[fe];return ae}function J(se,ce,ae,fe){if("function"==typeof se.on)fe.once?se.once(ce,ae):se.on(ce,ae);else{if("function"!=typeof se.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof se);se.addEventListener(ce,function he(we){fe.once&&se.removeEventListener(ce,he),ae(we)})}}Object.defineProperty(H,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(se){if("number"!=typeof se||se<0||P(se))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+se+".");w=se}}),H.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},H.prototype.setMaxListeners=function(ce){if("number"!=typeof ce||ce<0||P(ce))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ce+".");return this._maxListeners=ce,this},H.prototype.getMaxListeners=function(){return S(this)},H.prototype.emit=function(ce){for(var ae=[],fe=1;fe<arguments.length;fe++)ae.push(arguments[fe]);var he="error"===ce,we=this._events;if(void 0!==we)he=he&&void 0===we.error;else if(!he)return!1;if(he){var Me;if(ae.length>0&&(Me=ae[0]),Me instanceof Error)throw Me;var Pe=new Error("Unhandled error."+(Me?" ("+Me.message+")":""));throw Pe.context=Me,Pe}var C=we[ce];if(void 0===C)return!1;if("function"==typeof C)_(C,this,ae);else{var a=C.length,d=L(C,a);for(fe=0;fe<a;++fe)_(d[fe],this,ae)}return!0},H.prototype.on=H.prototype.addListener=function(ce,ae){return B(this,ce,ae,!1)},H.prototype.prependListener=function(ce,ae){return B(this,ce,ae,!0)},H.prototype.once=function(ce,ae){return O(ae),this.on(ce,U(this,ce,ae)),this},H.prototype.prependOnceListener=function(ce,ae){return O(ae),this.prependListener(ce,U(this,ce,ae)),this},H.prototype.off=H.prototype.removeListener=function(ce,ae){var fe,he,we,Me,Pe;if(O(ae),void 0===(he=this._events))return this;if(void 0===(fe=he[ce]))return this;if(fe===ae||fe.listener===ae)0==--this._eventsCount?this._events=Object.create(null):(delete he[ce],he.removeListener&&this.emit("removeListener",ce,fe.listener||ae));else if("function"!=typeof fe){for(we=-1,Me=fe.length-1;Me>=0;Me--)if(fe[Me]===ae||fe[Me].listener===ae){Pe=fe[Me].listener,we=Me;break}if(we<0)return this;0===we?fe.shift():function z(se,ce){for(;ce+1<se.length;ce++)se[ce]=se[ce+1];se.pop()}(fe,we),1===fe.length&&(he[ce]=fe[0]),void 0!==he.removeListener&&this.emit("removeListener",ce,Pe||ae)}return this},H.prototype.removeAllListeners=function(ce){var ae,fe,he;if(void 0===(fe=this._events))return this;if(void 0===fe.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==fe[ce]&&(0==--this._eventsCount?this._events=Object.create(null):delete fe[ce]),this;if(0===arguments.length){var Me,we=Object.keys(fe);for(he=0;he<we.length;++he)"removeListener"!==(Me=we[he])&&this.removeAllListeners(Me);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ae=fe[ce]))this.removeListener(ce,ae);else if(void 0!==ae)for(he=ae.length-1;he>=0;he--)this.removeListener(ce,ae[he]);return this},H.prototype.listeners=function(ce){return A(this,ce,!0)},H.prototype.rawListeners=function(ce){return A(this,ce,!1)},H.listenerCount=function(se,ce){return"function"==typeof se.listenerCount?se.listenerCount(ce):G.call(se,ce)},H.prototype.listenerCount=G,H.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]}},18211:(Je,j,_)=>{var y=_(27054).Buffer,b=_(34725);Je.exports=function P(H,w,O,S){if(y.isBuffer(H)||(H=y.from(H,"binary")),w&&(y.isBuffer(w)||(w=y.from(w,"binary")),8!==w.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var B=O/8,N=y.alloc(B),U=y.alloc(S||0),A=y.alloc(0);B>0||S>0;){var G=new b;G.update(A),G.update(H),w&&G.update(w),A=G.digest();var L=0;if(B>0){var z=N.length-B;L=Math.min(B,A.length),A.copy(N,z,0,L),B-=L}if(L<A.length&&S>0){var ee=U.length-S,q=Math.min(S,A.length-L);A.copy(U,ee,L,L+q),S-=q}}return A.fill(0),{key:N,iv:U}}},40362:Je=>{"use strict";Je.exports=function j(_,y){if(_===y)return!0;if(_&&y&&"object"==typeof _&&"object"==typeof y){if(_.constructor!==y.constructor)return!1;var b,P,H;if(Array.isArray(_)){if((b=_.length)!=y.length)return!1;for(P=b;0!=P--;)if(!j(_[P],y[P]))return!1;return!0}if(_.constructor===RegExp)return _.source===y.source&&_.flags===y.flags;if(_.valueOf!==Object.prototype.valueOf)return _.valueOf()===y.valueOf();if(_.toString!==Object.prototype.toString)return _.toString()===y.toString();if((b=(H=Object.keys(_)).length)!==Object.keys(y).length)return!1;for(P=b;0!=P--;)if(!Object.prototype.hasOwnProperty.call(y,H[P]))return!1;for(P=b;0!=P--;){var w=H[P];if(!j(_[w],y[w]))return!1}return!0}return _!=_&&y!=y}},13686:(Je,j,_)=>{"use strict";var y=_(27054).Buffer,b=_(7045).Transform;function w(O){b.call(this),this._block=y.allocUnsafe(O),this._blockSize=O,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}_(71993)(w,b),w.prototype._transform=function(O,S,B){var N=null;try{this.update(O,S)}catch(U){N=U}B(N)},w.prototype._flush=function(O){var S=null;try{this.push(this.digest())}catch(B){S=B}O(S)},w.prototype.update=function(O,S){if(function H(O,S){if(!y.isBuffer(O)&&"string"!=typeof O)throw new TypeError(S+" must be a string or a buffer")}(O,"Data"),this._finalized)throw new Error("Digest already called");y.isBuffer(O)||(O=y.from(O,S));for(var B=this._block,N=0;this._blockOffset+O.length-N>=this._blockSize;){for(var U=this._blockOffset;U<this._blockSize;)B[U++]=O[N++];this._update(),this._blockOffset=0}for(;N<O.length;)B[this._blockOffset++]=O[N++];for(var A=0,G=8*O.length;G>0;++A)this._length[A]+=G,(G=this._length[A]/4294967296|0)>0&&(this._length[A]-=4294967296*G);return this},w.prototype._update=function(){throw new Error("_update is not implemented")},w.prototype.digest=function(O){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var S=this._digest();void 0!==O&&(S=S.toString(O)),this._block.fill(0),this._blockOffset=0;for(var B=0;B<4;++B)this._length[B]=0;return S},w.prototype._digest=function(){throw new Error("_digest is not implemented")},Je.exports=w},52529:(Je,j,_)=>{var y=j;y.utils=_(68283),y.common=_(12901),y.sha=_(78528),y.ripemd=_(15283),y.hmac=_(37163),y.sha1=y.sha.sha1,y.sha256=y.sha.sha256,y.sha224=y.sha.sha224,y.sha384=y.sha.sha384,y.sha512=y.sha.sha512,y.ripemd160=y.ripemd.ripemd160},12901:(Je,j,_)=>{"use strict";var y=_(68283),b=_(39210);function P(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}j.BlockHash=P,P.prototype.update=function(w,O){if(w=y.toArray(w,O),this.pending=this.pending?this.pending.concat(w):w,this.pendingTotal+=w.length,this.pending.length>=this._delta8){var S=(w=this.pending).length%this._delta8;this.pending=w.slice(w.length-S,w.length),0===this.pending.length&&(this.pending=null),w=y.join32(w,0,w.length-S,this.endian);for(var B=0;B<w.length;B+=this._delta32)this._update(w,B,B+this._delta32)}return this},P.prototype.digest=function(w){return this.update(this._pad()),b(null===this.pending),this._digest(w)},P.prototype._pad=function(){var w=this.pendingTotal,O=this._delta8,S=O-(w+this.padLength)%O,B=new Array(S+this.padLength);B[0]=128;for(var N=1;N<S;N++)B[N]=0;if(w<<=3,"big"===this.endian){for(var U=8;U<this.padLength;U++)B[N++]=0;B[N++]=0,B[N++]=0,B[N++]=0,B[N++]=0,B[N++]=w>>>24&255,B[N++]=w>>>16&255,B[N++]=w>>>8&255,B[N++]=255&w}else for(B[N++]=255&w,B[N++]=w>>>8&255,B[N++]=w>>>16&255,B[N++]=w>>>24&255,B[N++]=0,B[N++]=0,B[N++]=0,B[N++]=0,U=8;U<this.padLength;U++)B[N++]=0;return B}},37163:(Je,j,_)=>{"use strict";var y=_(68283),b=_(39210);function P(H,w,O){if(!(this instanceof P))return new P(H,w,O);this.Hash=H,this.blockSize=H.blockSize/8,this.outSize=H.outSize/8,this.inner=null,this.outer=null,this._init(y.toArray(w,O))}Je.exports=P,P.prototype._init=function(w){w.length>this.blockSize&&(w=(new this.Hash).update(w).digest()),b(w.length<=this.blockSize);for(var O=w.length;O<this.blockSize;O++)w.push(0);for(O=0;O<w.length;O++)w[O]^=54;for(this.inner=(new this.Hash).update(w),O=0;O<w.length;O++)w[O]^=106;this.outer=(new this.Hash).update(w)},P.prototype.update=function(w,O){return this.inner.update(w,O),this},P.prototype.digest=function(w){return this.outer.update(this.inner.digest()),this.outer.digest(w)}},15283:(Je,j,_)=>{"use strict";var y=_(68283),b=_(12901),P=y.rotl32,H=y.sum32,w=y.sum32_3,O=y.sum32_4,S=b.BlockHash;function B(){if(!(this instanceof B))return new B;S.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function N(q,Z,J,se){return q<=15?Z^J^se:q<=31?Z&J|~Z&se:q<=47?(Z|~J)^se:q<=63?Z&se|J&~se:Z^(J|~se)}function A(q){return q<=15?1352829926:q<=31?1548603684:q<=47?1836072691:q<=63?2053994217:0}y.inherits(B,S),j.ripemd160=B,B.blockSize=512,B.outSize=160,B.hmacStrength=192,B.padLength=64,B.prototype._update=function(Z,J){for(var se=this.h[0],ce=this.h[1],ae=this.h[2],fe=this.h[3],he=this.h[4],we=se,Me=ce,Pe=ae,C=fe,a=he,d=0;d<80;d++){var m=H(P(O(se,N(d,ce,ae,fe),Z[G[d]+J],(q=d)<=15?0:q<=31?1518500249:q<=47?1859775393:q<=63?2400959708:2840853838),z[d]),he);se=he,he=fe,fe=P(ae,10),ae=ce,ce=m,m=H(P(O(we,N(79-d,Me,Pe,C),Z[L[d]+J],A(d)),ee[d]),a),we=a,a=C,C=P(Pe,10),Pe=Me,Me=m}var q;m=w(this.h[1],ae,C),this.h[1]=w(this.h[2],fe,a),this.h[2]=w(this.h[3],he,we),this.h[3]=w(this.h[4],se,Me),this.h[4]=w(this.h[0],ce,Pe),this.h[0]=m},B.prototype._digest=function(Z){return"hex"===Z?y.toHex32(this.h,"little"):y.split32(this.h,"little")};var G=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],L=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],z=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ee=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:(Je,j,_)=>{"use strict";j.sha1=_(33468),j.sha224=_(5563),j.sha256=_(27138),j.sha384=_(93898),j.sha512=_(10827)},33468:(Je,j,_)=>{"use strict";var y=_(68283),b=_(12901),P=_(95542),H=y.rotl32,w=y.sum32,O=y.sum32_5,S=P.ft_1,B=b.BlockHash,N=[1518500249,1859775393,2400959708,3395469782];function U(){if(!(this instanceof U))return new U;B.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}y.inherits(U,B),Je.exports=U,U.blockSize=512,U.outSize=160,U.hmacStrength=80,U.padLength=64,U.prototype._update=function(G,L){for(var z=this.W,ee=0;ee<16;ee++)z[ee]=G[L+ee];for(;ee<z.length;ee++)z[ee]=H(z[ee-3]^z[ee-8]^z[ee-14]^z[ee-16],1);var q=this.h[0],Z=this.h[1],J=this.h[2],se=this.h[3],ce=this.h[4];for(ee=0;ee<z.length;ee++){var ae=~~(ee/20),fe=O(H(q,5),S(ae,Z,J,se),ce,z[ee],N[ae]);ce=se,se=J,J=H(Z,30),Z=q,q=fe}this.h[0]=w(this.h[0],q),this.h[1]=w(this.h[1],Z),this.h[2]=w(this.h[2],J),this.h[3]=w(this.h[3],se),this.h[4]=w(this.h[4],ce)},U.prototype._digest=function(G){return"hex"===G?y.toHex32(this.h,"big"):y.split32(this.h,"big")}},5563:(Je,j,_)=>{"use strict";var y=_(68283),b=_(27138);function P(){if(!(this instanceof P))return new P;b.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}y.inherits(P,b),Je.exports=P,P.blockSize=512,P.outSize=224,P.hmacStrength=192,P.padLength=64,P.prototype._digest=function(w){return"hex"===w?y.toHex32(this.h.slice(0,7),"big"):y.split32(this.h.slice(0,7),"big")}},27138:(Je,j,_)=>{"use strict";var y=_(68283),b=_(12901),P=_(95542),H=_(39210),w=y.sum32,O=y.sum32_4,S=y.sum32_5,B=P.ch32,N=P.maj32,U=P.s0_256,A=P.s1_256,G=P.g0_256,L=P.g1_256,z=b.BlockHash,ee=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function q(){if(!(this instanceof q))return new q;z.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ee,this.W=new Array(64)}y.inherits(q,z),Je.exports=q,q.blockSize=512,q.outSize=256,q.hmacStrength=192,q.padLength=64,q.prototype._update=function(J,se){for(var ce=this.W,ae=0;ae<16;ae++)ce[ae]=J[se+ae];for(;ae<ce.length;ae++)ce[ae]=O(L(ce[ae-2]),ce[ae-7],G(ce[ae-15]),ce[ae-16]);var fe=this.h[0],he=this.h[1],we=this.h[2],Me=this.h[3],Pe=this.h[4],C=this.h[5],a=this.h[6],d=this.h[7];for(H(this.k.length===ce.length),ae=0;ae<ce.length;ae++){var m=S(d,A(Pe),B(Pe,C,a),this.k[ae],ce[ae]),p=w(U(fe),N(fe,he,we));d=a,a=C,C=Pe,Pe=w(Me,m),Me=we,we=he,he=fe,fe=w(m,p)}this.h[0]=w(this.h[0],fe),this.h[1]=w(this.h[1],he),this.h[2]=w(this.h[2],we),this.h[3]=w(this.h[3],Me),this.h[4]=w(this.h[4],Pe),this.h[5]=w(this.h[5],C),this.h[6]=w(this.h[6],a),this.h[7]=w(this.h[7],d)},q.prototype._digest=function(J){return"hex"===J?y.toHex32(this.h,"big"):y.split32(this.h,"big")}},93898:(Je,j,_)=>{"use strict";var y=_(68283),b=_(10827);function P(){if(!(this instanceof P))return new P;b.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}y.inherits(P,b),Je.exports=P,P.blockSize=1024,P.outSize=384,P.hmacStrength=192,P.padLength=128,P.prototype._digest=function(w){return"hex"===w?y.toHex32(this.h.slice(0,12),"big"):y.split32(this.h.slice(0,12),"big")}},10827:(Je,j,_)=>{"use strict";var y=_(68283),b=_(12901),P=_(39210),H=y.rotr64_hi,w=y.rotr64_lo,O=y.shr64_hi,S=y.shr64_lo,B=y.sum64,N=y.sum64_hi,U=y.sum64_lo,A=y.sum64_4_hi,G=y.sum64_4_lo,L=y.sum64_5_hi,z=y.sum64_5_lo,ee=b.BlockHash,q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(){if(!(this instanceof Z))return new Z;ee.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=q,this.W=new Array(160)}function J(m,p,E,D,R){var x=m&E^~m&R;return x<0&&(x+=4294967296),x}function se(m,p,E,D,R,x){var s=p&D^~p&x;return s<0&&(s+=4294967296),s}function ce(m,p,E,D,R){var x=m&E^m&R^E&R;return x<0&&(x+=4294967296),x}function ae(m,p,E,D,R,x){var s=p&D^p&x^D&x;return s<0&&(s+=4294967296),s}function fe(m,p){var x=H(m,p,28)^H(p,m,2)^H(p,m,7);return x<0&&(x+=4294967296),x}function he(m,p){var x=w(m,p,28)^w(p,m,2)^w(p,m,7);return x<0&&(x+=4294967296),x}function we(m,p){var x=H(m,p,14)^H(m,p,18)^H(p,m,9);return x<0&&(x+=4294967296),x}function Me(m,p){var x=w(m,p,14)^w(m,p,18)^w(p,m,9);return x<0&&(x+=4294967296),x}function Pe(m,p){var x=H(m,p,1)^H(m,p,8)^O(m,p,7);return x<0&&(x+=4294967296),x}function C(m,p){var x=w(m,p,1)^w(m,p,8)^S(m,p,7);return x<0&&(x+=4294967296),x}function a(m,p){var x=H(m,p,19)^H(p,m,29)^O(m,p,6);return x<0&&(x+=4294967296),x}function d(m,p){var x=w(m,p,19)^w(p,m,29)^S(m,p,6);return x<0&&(x+=4294967296),x}y.inherits(Z,ee),Je.exports=Z,Z.blockSize=1024,Z.outSize=512,Z.hmacStrength=192,Z.padLength=128,Z.prototype._prepareBlock=function(p,E){for(var D=this.W,R=0;R<32;R++)D[R]=p[E+R];for(;R<D.length;R+=2){var x=a(D[R-4],D[R-3]),s=d(D[R-4],D[R-3]),v=D[R-14],$=D[R-13],F=Pe(D[R-30],D[R-29]),Q=C(D[R-30],D[R-29]),de=D[R-32],Ce=D[R-31];D[R]=A(x,s,v,$,F,Q,de,Ce),D[R+1]=G(x,s,v,$,F,Q,de,Ce)}},Z.prototype._update=function(p,E){this._prepareBlock(p,E);var D=this.W,R=this.h[0],x=this.h[1],s=this.h[2],v=this.h[3],$=this.h[4],F=this.h[5],Q=this.h[6],de=this.h[7],Ce=this.h[8],Re=this.h[9],Ve=this.h[10],Ee=this.h[11],_e=this.h[12],Fe=this.h[13],be=this.h[14],Ae=this.h[15];P(this.k.length===D.length);for(var ge=0;ge<D.length;ge+=2){var me=be,te=Ae,ne=we(Ce,Re),ue=Me(Ce,Re),De=J(Ce,0,Ve,0,_e),Be=se(0,Re,0,Ee,0,Fe),Qe=this.k[ge],ze=this.k[ge+1],Dt=D[ge],Xe=D[ge+1],Ue=L(me,te,ne,ue,De,Be,Qe,ze,Dt,Xe),mt=z(me,te,ne,ue,De,Be,Qe,ze,Dt,Xe);me=fe(R,x),te=he(R,x),ne=ce(R,0,s,0,$),ue=ae(0,x,0,v,0,F);var K=N(me,te,ne,ue),T=U(me,te,ne,ue);be=_e,Ae=Fe,_e=Ve,Fe=Ee,Ve=Ce,Ee=Re,Ce=N(Q,de,Ue,mt),Re=U(de,de,Ue,mt),Q=$,de=F,$=s,F=v,s=R,v=x,R=N(Ue,mt,K,T),x=U(Ue,mt,K,T)}B(this.h,0,R,x),B(this.h,2,s,v),B(this.h,4,$,F),B(this.h,6,Q,de),B(this.h,8,Ce,Re),B(this.h,10,Ve,Ee),B(this.h,12,_e,Fe),B(this.h,14,be,Ae)},Z.prototype._digest=function(p){return"hex"===p?y.toHex32(this.h,"big"):y.split32(this.h,"big")}},95542:(Je,j,_)=>{"use strict";var b=_(68283).rotr32;function H(A,G,L){return A&G^~A&L}function w(A,G,L){return A&G^A&L^G&L}function O(A,G,L){return A^G^L}j.ft_1=function P(A,G,L,z){return 0===A?H(G,L,z):1===A||3===A?O(G,L,z):2===A?w(G,L,z):void 0},j.ch32=H,j.maj32=w,j.p32=O,j.s0_256=function S(A){return b(A,2)^b(A,13)^b(A,22)},j.s1_256=function B(A){return b(A,6)^b(A,11)^b(A,25)},j.g0_256=function N(A){return b(A,7)^b(A,18)^A>>>3},j.g1_256=function U(A){return b(A,17)^b(A,19)^A>>>10}},68283:(Je,j,_)=>{"use strict";var y=_(39210),b=_(71993);function P(d,m){return!(55296!=(64512&d.charCodeAt(m))||m<0||m+1>=d.length)&&56320==(64512&d.charCodeAt(m+1))}function O(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function B(d){return 1===d.length?"0"+d:d}function N(d){return 7===d.length?"0"+d:6===d.length?"00"+d:5===d.length?"000"+d:4===d.length?"0000"+d:3===d.length?"00000"+d:2===d.length?"000000"+d:1===d.length?"0000000"+d:d}j.inherits=b,j.toArray=function H(d,m){if(Array.isArray(d))return d.slice();if(!d)return[];var p=[];if("string"==typeof d)if(m){if("hex"===m)for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),D=0;D<d.length;D+=2)p.push(parseInt(d[D]+d[D+1],16))}else for(var E=0,D=0;D<d.length;D++){var R=d.charCodeAt(D);R<128?p[E++]=R:R<2048?(p[E++]=R>>6|192,p[E++]=63&R|128):P(d,D)?(R=65536+((1023&R)<<10)+(1023&d.charCodeAt(++D)),p[E++]=R>>18|240,p[E++]=R>>12&63|128,p[E++]=R>>6&63|128,p[E++]=63&R|128):(p[E++]=R>>12|224,p[E++]=R>>6&63|128,p[E++]=63&R|128)}else for(D=0;D<d.length;D++)p[D]=0|d[D];return p},j.toHex=function w(d){for(var m="",p=0;p<d.length;p++)m+=B(d[p].toString(16));return m},j.htonl=O,j.toHex32=function S(d,m){for(var p="",E=0;E<d.length;E++){var D=d[E];"little"===m&&(D=O(D)),p+=N(D.toString(16))}return p},j.zero2=B,j.zero8=N,j.join32=function U(d,m,p,E){var D=p-m;y(D%4==0);for(var R=new Array(D/4),x=0,s=m;x<R.length;x++,s+=4)R[x]=("big"===E?d[s]<<24|d[s+1]<<16|d[s+2]<<8|d[s+3]:d[s+3]<<24|d[s+2]<<16|d[s+1]<<8|d[s])>>>0;return R},j.split32=function A(d,m){for(var p=new Array(4*d.length),E=0,D=0;E<d.length;E++,D+=4){var R=d[E];"big"===m?(p[D]=R>>>24,p[D+1]=R>>>16&255,p[D+2]=R>>>8&255,p[D+3]=255&R):(p[D+3]=R>>>24,p[D+2]=R>>>16&255,p[D+1]=R>>>8&255,p[D]=255&R)}return p},j.rotr32=function G(d,m){return d>>>m|d<<32-m},j.rotl32=function L(d,m){return d<<m|d>>>32-m},j.sum32=function z(d,m){return d+m>>>0},j.sum32_3=function ee(d,m,p){return d+m+p>>>0},j.sum32_4=function q(d,m,p,E){return d+m+p+E>>>0},j.sum32_5=function Z(d,m,p,E,D){return d+m+p+E+D>>>0},j.sum64=function J(d,m,p,E){var x=E+d[m+1]>>>0;d[m]=(x<E?1:0)+p+d[m]>>>0,d[m+1]=x},j.sum64_hi=function se(d,m,p,E){return(m+E>>>0<m?1:0)+d+p>>>0},j.sum64_lo=function ce(d,m,p,E){return m+E>>>0},j.sum64_4_hi=function ae(d,m,p,E,D,R,x,s){var v=0,$=m;return v+=($=$+E>>>0)<m?1:0,v+=($=$+R>>>0)<R?1:0,d+p+D+x+(v+=($=$+s>>>0)<s?1:0)>>>0},j.sum64_4_lo=function fe(d,m,p,E,D,R,x,s){return m+E+R+s>>>0},j.sum64_5_hi=function he(d,m,p,E,D,R,x,s,v,$){var F=0,Q=m;return F+=(Q=Q+E>>>0)<m?1:0,F+=(Q=Q+R>>>0)<R?1:0,F+=(Q=Q+s>>>0)<s?1:0,d+p+D+x+v+(F+=(Q=Q+$>>>0)<$?1:0)>>>0},j.sum64_5_lo=function we(d,m,p,E,D,R,x,s,v,$){return m+E+R+s+$>>>0},j.rotr64_hi=function Me(d,m,p){return(m<<32-p|d>>>p)>>>0},j.rotr64_lo=function Pe(d,m,p){return(d<<32-p|m>>>p)>>>0},j.shr64_hi=function C(d,m,p){return d>>>p},j.shr64_lo=function a(d,m,p){return(d<<32-p|m>>>p)>>>0}},33556:(Je,j,_)=>{"use strict";var y=_(52529),b=_(21832),P=_(39210);function H(w){if(!(this instanceof H))return new H(w);this.hash=w.hash,this.predResist=!!w.predResist,this.outLen=this.hash.outSize,this.minEntropy=w.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var O=b.toArray(w.entropy,w.entropyEnc||"hex"),S=b.toArray(w.nonce,w.nonceEnc||"hex"),B=b.toArray(w.pers,w.persEnc||"hex");P(O.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(O,S,B)}Je.exports=H,H.prototype._init=function(O,S,B){var N=O.concat(S).concat(B);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var U=0;U<this.V.length;U++)this.K[U]=0,this.V[U]=1;this._update(N),this._reseed=1,this.reseedInterval=281474976710656},H.prototype._hmac=function(){return new y.hmac(this.hash,this.K)},H.prototype._update=function(O){var S=this._hmac().update(this.V).update([0]);O&&(S=S.update(O)),this.K=S.digest(),this.V=this._hmac().update(this.V).digest(),O&&(this.K=this._hmac().update(this.V).update([1]).update(O).digest(),this.V=this._hmac().update(this.V).digest())},H.prototype.reseed=function(O,S,B,N){"string"!=typeof S&&(N=B,B=S,S=null),O=b.toArray(O,S),B=b.toArray(B,N),P(O.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(O.concat(B||[])),this._reseed=1},H.prototype.generate=function(O,S,B,N){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof S&&(N=B,B=S,S=null),B&&(B=b.toArray(B,N||"hex"),this._update(B));for(var U=[];U.length<O;)this.V=this._hmac().update(this.V).digest(),U=U.concat(this.V);var A=U.slice(0,O);return this._update(B),this._reseed++,b.encode(A,S)}},22020:(Je,j)=>{j.read=function(_,y,b,P,H){var w,O,S=8*H-P-1,B=(1<<S)-1,N=B>>1,U=-7,A=b?H-1:0,G=b?-1:1,L=_[y+A];for(A+=G,w=L&(1<<-U)-1,L>>=-U,U+=S;U>0;w=256*w+_[y+A],A+=G,U-=8);for(O=w&(1<<-U)-1,w>>=-U,U+=P;U>0;O=256*O+_[y+A],A+=G,U-=8);if(0===w)w=1-N;else{if(w===B)return O?NaN:1/0*(L?-1:1);O+=Math.pow(2,P),w-=N}return(L?-1:1)*O*Math.pow(2,w-P)},j.write=function(_,y,b,P,H,w){var O,S,B,N=8*w-H-1,U=(1<<N)-1,A=U>>1,G=23===H?Math.pow(2,-24)-Math.pow(2,-77):0,L=P?0:w-1,z=P?1:-1,ee=y<0||0===y&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(S=isNaN(y)?1:0,O=U):(O=Math.floor(Math.log(y)/Math.LN2),y*(B=Math.pow(2,-O))<1&&(O--,B*=2),(y+=O+A>=1?G/B:G*Math.pow(2,1-A))*B>=2&&(O++,B/=2),O+A>=U?(S=0,O=U):O+A>=1?(S=(y*B-1)*Math.pow(2,H),O+=A):(S=y*Math.pow(2,A-1)*Math.pow(2,H),O=0));H>=8;_[b+L]=255&S,L+=z,S/=256,H-=8);for(O=O<<H|S,N+=H;N>0;_[b+L]=255&O,L+=z,O/=256,N-=8);_[b+L-z]|=128*ee}},71993:Je=>{Je.exports="function"==typeof Object.create?function(_,y){y&&(_.super_=y,_.prototype=Object.create(y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}))}:function(_,y){if(y){_.super_=y;var b=function(){};b.prototype=y.prototype,_.prototype=new b,_.prototype.constructor=_}}},42853:Je=>{"use strict";function j(y,b){for(const P in b)Object.defineProperty(y,P,{value:b[P],enumerable:!0,configurable:!0});return y}Je.exports=function _(y,b,P){if(!y||"string"==typeof y)throw new TypeError("Please pass an Error to err-code");P||(P={}),"object"==typeof b&&(P=b,b=""),b&&(P.code=b);try{return j(y,P)}catch{P.message=y.message,P.stack=y.stack;const w=function(){};return w.prototype=Object.create(Object.getPrototypeOf(y)),j(new w,P)}}},5014:Je=>{"use strict";function j(y,b){for(const P in b)Object.defineProperty(y,P,{value:b[P],enumerable:!0,configurable:!0});return y}Je.exports=function _(y,b,P){if(!y||"string"==typeof y)throw new TypeError("Please pass an Error to err-code");P||(P={}),"object"==typeof b&&(P=b,b=""),b&&(P.code=b);try{return j(y,P)}catch{P.message=y.message,P.stack=y.stack;const w=function(){};return w.prototype=Object.create(Object.getPrototypeOf(y)),j(new w,P)}}},3087:Je=>{"use strict";function j(y,b){for(const P in b)Object.defineProperty(y,P,{value:b[P],enumerable:!0,configurable:!0});return y}Je.exports=function _(y,b,P){if(!y||"string"==typeof y)throw new TypeError("Please pass an Error to err-code");P||(P={}),"object"==typeof b&&(P=b,b=""),b&&(P.code=b);try{return j(y,P)}catch{P.message=y.message,P.stack=y.stack;const w=function(){};return w.prototype=Object.create(Object.getPrototypeOf(y)),j(new w,P)}}},20053:Je=>{var j={}.toString;Je.exports=Array.isArray||function(_){return"[object Array]"==j.call(_)}},89994:function(Je){Je.exports=function(){"use strict";var j=Math.imul,_=Math.clz32;function y(he){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(we){return typeof we}:function(we){return we&&"function"==typeof Symbol&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(he)}function P(he,we){for(var Me,Pe=0;Pe<we.length;Pe++)(Me=we[Pe]).enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(he,Me.key,Me)}function O(he){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(we){return we.__proto__||Object.getPrototypeOf(we)})(he)}function S(he,we){return(S=Object.setPrototypeOf||function(Me,Pe){return Me.__proto__=Pe,Me})(he,we)}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(){return(N=B()?Reflect.construct:function(he,we,Me){var Pe=[null];Pe.push.apply(Pe,we);var a=new(Function.bind.apply(he,Pe));return Me&&S(a,Me.prototype),a}).apply(null,arguments)}function A(he){var we="function"==typeof Map?new Map:void 0;return A=function(Me){function Pe(){return N(Me,arguments,O(this).constructor)}if(null===Me||!function U(he){return-1!==Function.toString.call(he).indexOf("[native code]")}(Me))return Me;if("function"!=typeof Me)throw new TypeError("Super expression must either be null or a function");if(typeof we<"u"){if(we.has(Me))return we.get(Me);we.set(Me,Pe)}return Pe.prototype=Object.create(Me.prototype,{constructor:{value:Pe,enumerable:!1,writable:!0,configurable:!0}}),S(Pe,Me)},A(he)}function G(he){if(void 0===he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he}function z(he){var we=B();return function(){var Me,Pe=O(he);if(we){var C=O(this).constructor;Me=Reflect.construct(Pe,arguments,C)}else Me=Pe.apply(this,arguments);return function L(he,we){if(we&&("object"==typeof we||"function"==typeof we))return we;if(void 0!==we)throw new TypeError("Derived constructors may only return object or undefined");return G(he)}(this,Me)}}function ee(he,we){return function q(he){if(Array.isArray(he))return he}(he)||function Z(he,we){var Me=null==he?null:typeof Symbol<"u"&&he[Symbol.iterator]||he["@@iterator"];if(null!=Me){var Pe,C,a=[],d=!0,m=!1;try{for(Me=Me.call(he);!(d=(Pe=Me.next()).done)&&(a.push(Pe.value),!we||a.length!==we);d=!0);}catch(p){m=!0,C=p}finally{try{d||null==Me.return||Me.return()}finally{if(m)throw C}}return a}}(he,we)||J(he,we)||function ce(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(he,we){if(he){if("string"==typeof he)return se(he,we);var Me=Object.prototype.toString.call(he).slice(8,-1);return"Object"===Me&&he.constructor&&(Me=he.constructor.name),"Map"===Me||"Set"===Me?Array.from(he):"Arguments"===Me||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me)?se(he,we):void 0}}function se(he,we){(null==we||we>he.length)&&(we=he.length);for(var Me=0,Pe=Array(we);Me<we;Me++)Pe[Me]=he[Me];return Pe}var fe=function(he){var we=Math.abs,Me=Math.max,Pe=Math.floor;function C(d,m){var p;if(function b(he,we){if(!(he instanceof we))throw new TypeError("Cannot call a class as a function")}(this,C),(p=a.call(this,d)).sign=m,Object.setPrototypeOf(G(p),C.prototype),d>C.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return p}!function w(he,we){if("function"!=typeof we&&null!==we)throw new TypeError("Super expression must either be null or a function");he.prototype=Object.create(we&&we.prototype,{constructor:{value:he,writable:!0,configurable:!0}}),Object.defineProperty(he,"prototype",{writable:!1}),we&&S(he,we)}(C,he);var a=z(C);return function H(he,we,Me){return we&&P(he.prototype,we),Me&&P(he,Me),Object.defineProperty(he,"prototype",{writable:!1}),he}(C,[{key:"toDebugString",value:function(){var d,m=["BigInt["],p=function ae(he,we){var Me=typeof Symbol<"u"&&he[Symbol.iterator]||he["@@iterator"];if(!Me){if(Array.isArray(he)||(Me=J(he))||we&&he&&"number"==typeof he.length){Me&&(he=Me);var Pe=0,C=function(){};return{s:C,n:function(){return Pe>=he.length?{done:!0}:{done:!1,value:he[Pe++]}},e:function(p){throw p},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,d=!0,m=!1;return{s:function(){Me=Me.call(he)},n:function(){var p=Me.next();return d=p.done,p},e:function(p){m=!0,a=p},f:function(){try{d||null==Me.return||Me.return()}finally{if(m)throw a}}}}(this);try{for(p.s();!(d=p.n()).done;){var E=d.value;m.push((E&&(E>>>0).toString(16))+", ")}}catch(D){p.e(D)}finally{p.f()}return m.push("]"),m.join("")}},{key:"toString",value:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>d||36<d)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":d&d-1?C.__toStringGeneric(this,d,!1):C.__toStringBasePowerOfTwo(this,d)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var d=new C(this.length,this.sign),m=0;m<this.length;m++)d[m]=this[m];return d}},{key:"__trim",value:function(){for(var d=this.length,m=this[d-1];0===m;)m=this[--d-1],this.pop();return 0===d&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var d=0;d<this.length;d++)this[d]=0}},{key:"__clzmsd",value:function(){return C.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(d,m,p){p>this.length&&(p=this.length);for(var E=32767&d,D=d>>>15,R=0,x=m,s=0;s<p;s++){var v=this.__digit(s),$=32767&v,F=v>>>15,Q=C.__imul($,E),de=C.__imul($,D),Ce=C.__imul(F,E),Ve=x+Q+R;R=Ve>>>30,Ve&=1073741823,R+=(Ve+=((32767&de)<<15)+((32767&Ce)<<15))>>>30,x=C.__imul(F,D)+(de>>>15)+(Ce>>>15),this.__setDigit(s,1073741823&Ve)}if(0!==R||0!==x)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(d,m,p){for(var E,D=0,R=0;R<p;R++)D=(E=this.__halfDigit(m+R)+d.__halfDigit(R)+D)>>>15,this.__setHalfDigit(m+R,32767&E);return D}},{key:"__inplaceSub",value:function(d,m,p){var E=0;if(1&m){for(var D=this.__digit(m>>=1),R=32767&D,x=0;x<p-1>>>1;x++){var s=d.__digit(x),v=(D>>>15)-(32767&s)-E;E=1&v>>>15,this.__setDigit(m+x,(32767&v)<<15|32767&R),E=1&(R=(32767&(D=this.__digit(m+x+1)))-(s>>>15)-E)>>>15}var $=d.__digit(x),F=(D>>>15)-(32767&$)-E;if(E=1&F>>>15,this.__setDigit(m+x,(32767&F)<<15|32767&R),m+x+1>=this.length)throw new RangeError("out of bounds");!(1&p)&&(E=1&(R=(32767&(D=this.__digit(m+x+1)))-($>>>15)-E)>>>15,this.__setDigit(m+d.length,1073709056&D|32767&R))}else{m>>=1;for(var Q=0;Q<d.length-1;Q++){var de=this.__digit(m+Q),Ce=d.__digit(Q),Re=(32767&de)-(32767&Ce)-E,Ve=(de>>>15)-(Ce>>>15)-(E=1&Re>>>15);E=1&Ve>>>15,this.__setDigit(m+Q,(32767&Ve)<<15|32767&Re)}var Ee=this.__digit(m+Q),_e=d.__digit(Q),Fe=(32767&Ee)-(32767&_e)-E;E=1&Fe>>>15;var be=0;!(1&p)&&(E=1&(be=(Ee>>>15)-(_e>>>15)-E)>>>15),this.__setDigit(m+Q,(32767&be)<<15|32767&Fe)}return E}},{key:"__inplaceRightShift",value:function(d){if(0!==d){for(var m,p=this.__digit(0)>>>d,E=this.length-1,D=0;D<E;D++)m=this.__digit(D+1),this.__setDigit(D,1073741823&m<<30-d|p),p=m>>>d;this.__setDigit(E,p)}}},{key:"__digit",value:function(d){return this[d]}},{key:"__unsignedDigit",value:function(d){return this[d]>>>0}},{key:"__setDigit",value:function(d,m){this[d]=0|m}},{key:"__setDigitGrow",value:function(d,m){this[d]=0|m}},{key:"__halfDigitLength",value:function(){var d=this.length;return 32767>=this.__unsignedDigit(d-1)?2*d-1:2*d}},{key:"__halfDigit",value:function(d){return 32767&this[d>>>1]>>>15*(1&d)}},{key:"__setHalfDigit",value:function(d,m){var p=d>>>1,E=this.__digit(p);this.__setDigit(p,1&d?32767&E|m<<15:1073709056&E|32767&m)}}],[{key:"BigInt",value:function(d){var m=Number.isFinite;if("number"==typeof d){if(0===d)return C.__zero();if(C.__isOneDigitInt(d))return 0>d?C.__oneDigit(-d,!0):C.__oneDigit(d,!1);if(!m(d)||Pe(d)!==d)throw new RangeError("The number "+d+" cannot be converted to BigInt because it is not an integer");return C.__fromDouble(d)}if("string"==typeof d){var p=C.__fromString(d);if(null===p)throw new SyntaxError("Cannot convert "+d+" to a BigInt");return p}if("boolean"==typeof d)return!0===d?C.__oneDigit(1,!1):C.__zero();if("object"===y(d)){if(d.constructor===C)return d;var E=C.__toPrimitive(d);return C.BigInt(E)}throw new TypeError("Cannot convert "+d+" to a BigInt")}},{key:"toNumber",value:function(d){var m=d.length;if(0===m)return 0;if(1===m){var p=d.__unsignedDigit(0);return d.sign?-p:p}var E=d.__digit(m-1),D=C.__clz30(E),R=30*m-D;if(1024<R)return d.sign?-1/0:1/0;var x=R-1,s=E,v=m-1,$=D+3,F=32===$?0:s<<$;F>>>=12;var Q=$-12,de=12<=$?0:s<<20+$,Ce=20+$;for(0<Q&&0<v&&(v--,F|=(s=d.__digit(v))>>>30-Q,de=s<<Q+2,Ce=Q+2);0<Ce&&0<v;)v--,s=d.__digit(v),de|=30<=Ce?s<<Ce-30:s>>>30-Ce,Ce-=30;var Re=C.__decideRounding(d,Ce,v,s);return 1!==Re&&(0!==Re||1&~de)||0!=(de=de+1>>>0)||!(++F>>>20!=0&&(F=0,1023<++x))?(C.__kBitConversionInts[1]=(d.sign?-2147483648:0)|(x=x+1023<<20)|F,C.__kBitConversionInts[0]=de,C.__kBitConversionDouble[0]):d.sign?-1/0:1/0}},{key:"unaryMinus",value:function(d){if(0===d.length)return d;var m=d.__copy();return m.sign=!d.sign,m}},{key:"bitwiseNot",value:function(d){return d.sign?C.__absoluteSubOne(d).__trim():C.__absoluteAddOne(d,!0)}},{key:"exponentiate",value:function(d,m){if(m.sign)throw new RangeError("Exponent must be positive");if(0===m.length)return C.__oneDigit(1,!1);if(0===d.length)return d;if(1===d.length&&1===d.__digit(0))return!d.sign||1&m.__digit(0)?d:C.unaryMinus(d);if(1<m.length)throw new RangeError("BigInt too big");var p=m.__unsignedDigit(0);if(1===p)return d;if(p>=C.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===d.length&&2===d.__digit(0)){var E=1+(0|p/30),R=new C(E,d.sign&&!!(1&p));return R.__initializeDigits(),R.__setDigit(E-1,1<<p%30),R}var s=null,v=d;for(1&p&&(s=d),p>>=1;0!==p;p>>=1)v=C.multiply(v,v),1&p&&(s=null===s?v:C.multiply(s,v));return s}},{key:"multiply",value:function(d,m){if(0===d.length)return d;if(0===m.length)return m;var p=d.length+m.length;30<=d.__clzmsd()+m.__clzmsd()&&p--;var E=new C(p,d.sign!==m.sign);E.__initializeDigits();for(var D=0;D<d.length;D++)C.__multiplyAccumulate(m,d.__digit(D),E,D);return E.__trim()}},{key:"divide",value:function(d,m){if(0===m.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(d,m))return C.__zero();var p,E=d.sign!==m.sign,D=m.__unsignedDigit(0);if(1===m.length&&32767>=D){if(1===D)return E===d.sign?d:C.unaryMinus(d);p=C.__absoluteDivSmall(d,D,null)}else p=C.__absoluteDivLarge(d,m,!0,!1);return p.sign=E,p.__trim()}},{key:"remainder",value:function(m,p){if(0===p.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(m,p))return m;var E=p.__unsignedDigit(0);if(1===p.length&&32767>=E){if(1===E)return C.__zero();var D=C.__absoluteModSmall(m,E);return 0===D?C.__zero():C.__oneDigit(D,m.sign)}var R=C.__absoluteDivLarge(m,p,!1,!0);return R.sign=m.sign,R.__trim()}},{key:"add",value:function(d,m){var p=d.sign;return p===m.sign?C.__absoluteAdd(d,m,p):0<=C.__absoluteCompare(d,m)?C.__absoluteSub(d,m,p):C.__absoluteSub(m,d,!p)}},{key:"subtract",value:function(d,m){var p=d.sign;return p===m.sign?0<=C.__absoluteCompare(d,m)?C.__absoluteSub(d,m,p):C.__absoluteSub(m,d,!p):C.__absoluteAdd(d,m,p)}},{key:"leftShift",value:function(d,m){return 0===m.length||0===d.length?d:m.sign?C.__rightShiftByAbsolute(d,m):C.__leftShiftByAbsolute(d,m)}},{key:"signedRightShift",value:function(d,m){return 0===m.length||0===d.length?d:m.sign?C.__leftShiftByAbsolute(d,m):C.__rightShiftByAbsolute(d,m)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(d,m){return 0>C.__compareToBigInt(d,m)}},{key:"lessThanOrEqual",value:function(d,m){return 0>=C.__compareToBigInt(d,m)}},{key:"greaterThan",value:function(d,m){return 0<C.__compareToBigInt(d,m)}},{key:"greaterThanOrEqual",value:function(d,m){return 0<=C.__compareToBigInt(d,m)}},{key:"equal",value:function(d,m){if(d.sign!==m.sign||d.length!==m.length)return!1;for(var p=0;p<d.length;p++)if(d.__digit(p)!==m.__digit(p))return!1;return!0}},{key:"notEqual",value:function(d,m){return!C.equal(d,m)}},{key:"bitwiseAnd",value:function(d,m){if(!d.sign&&!m.sign)return C.__absoluteAnd(d,m).__trim();if(d.sign&&m.sign){var p=Me(d.length,m.length)+1,E=C.__absoluteSubOne(d,p),D=C.__absoluteSubOne(m);return E=C.__absoluteOr(E,D,E),C.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var R=[m,d];d=R[0],m=R[1]}return C.__absoluteAndNot(d,C.__absoluteSubOne(m)).__trim()}},{key:"bitwiseXor",value:function(d,m){if(!d.sign&&!m.sign)return C.__absoluteXor(d,m).__trim();if(d.sign&&m.sign){var p=Me(d.length,m.length),E=C.__absoluteSubOne(d,p),D=C.__absoluteSubOne(m);return C.__absoluteXor(E,D,E).__trim()}var R=Me(d.length,m.length)+1;if(d.sign){var x=[m,d];d=x[0],m=x[1]}var s=C.__absoluteSubOne(m,R);return s=C.__absoluteXor(s,d,s),C.__absoluteAddOne(s,!0,s).__trim()}},{key:"bitwiseOr",value:function(d,m){var p=Me(d.length,m.length);if(!d.sign&&!m.sign)return C.__absoluteOr(d,m).__trim();if(d.sign&&m.sign){var E=C.__absoluteSubOne(d,p),D=C.__absoluteSubOne(m);return E=C.__absoluteAnd(E,D,E),C.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var R=[m,d];d=R[0],m=R[1]}var x=C.__absoluteSubOne(m,p);return x=C.__absoluteAndNot(x,d,x),C.__absoluteAddOne(x,!0,x).__trim()}},{key:"asIntN",value:function(d,m){if(0===m.length)return m;if(0>(d=Pe(d)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===d)return C.__zero();if(d>=C.__kMaxLengthBits)return m;var p=0|(d+29)/30;if(m.length<p)return m;var E=m.__unsignedDigit(p-1),D=1<<(d-1)%30;if(m.length===p&&E<D)return m;if((E&D)!==D)return C.__truncateToNBits(d,m);if(!m.sign)return C.__truncateAndSubFromPowerOfTwo(d,m,!0);if(!(E&D-1)){for(var R=p-2;0<=R;R--)if(0!==m.__digit(R))return C.__truncateAndSubFromPowerOfTwo(d,m,!1);return m.length===p&&E===D?m:C.__truncateToNBits(d,m)}return C.__truncateAndSubFromPowerOfTwo(d,m,!1)}},{key:"asUintN",value:function(d,m){if(0===m.length)return m;if(0>(d=Pe(d)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===d)return C.__zero();if(m.sign){if(d>C.__kMaxLengthBits)throw new RangeError("BigInt too big");return C.__truncateAndSubFromPowerOfTwo(d,m,!1)}if(d>=C.__kMaxLengthBits)return m;var p=0|(d+29)/30;if(m.length<p)return m;var E=d%30;if(m.length==p){if(0===E)return m;if(!(m.__digit(p-1)>>>E))return m}return C.__truncateToNBits(d,m)}},{key:"ADD",value:function(d,m){if(d=C.__toPrimitive(d),m=C.__toPrimitive(m),"string"==typeof d)return"string"!=typeof m&&(m=m.toString()),d+m;if("string"==typeof m)return d.toString()+m;if(d=C.__toNumeric(d),m=C.__toNumeric(m),C.__isBigInt(d)&&C.__isBigInt(m))return C.add(d,m);if("number"==typeof d&&"number"==typeof m)return d+m;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(d,m){return C.__compare(d,m,0)}},{key:"LE",value:function(d,m){return C.__compare(d,m,1)}},{key:"GT",value:function(d,m){return C.__compare(d,m,2)}},{key:"GE",value:function(d,m){return C.__compare(d,m,3)}},{key:"EQ",value:function(d,m){for(;;){if(C.__isBigInt(d))return C.__isBigInt(m)?C.equal(d,m):C.EQ(m,d);if("number"==typeof d){if(C.__isBigInt(m))return C.__equalToNumber(m,d);if("object"!==y(m))return d==m;m=C.__toPrimitive(m)}else if("string"==typeof d){if(C.__isBigInt(m))return null!==(d=C.__fromString(d))&&C.equal(d,m);if("object"!==y(m))return d==m;m=C.__toPrimitive(m)}else if("boolean"==typeof d){if(C.__isBigInt(m))return C.__equalToNumber(m,+d);if("object"!==y(m))return d==m;m=C.__toPrimitive(m)}else if("symbol"===y(d)){if(C.__isBigInt(m))return!1;if("object"!==y(m))return d==m;m=C.__toPrimitive(m)}else{if("object"!==y(d))return d==m;if("object"===y(m)&&m.constructor!==C)return d==m;d=C.__toPrimitive(d)}}}},{key:"NE",value:function(d,m){return!C.EQ(d,m)}},{key:"DataViewGetBigInt64",value:function(d,m){return C.asIntN(64,C.DataViewGetBigUint64(d,m,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]&&arguments[2],D=ee(p?[4,0]:[0,4],2),x=D[1],s=d.getUint32(m+D[0],p),v=d.getUint32(m+x,p),$=new C(3,!1);return $.__setDigit(0,1073741823&v),$.__setDigit(1,(268435455&s)<<2|v>>>30),$.__setDigit(2,s>>>28),$.__trim()}},{key:"DataViewSetBigInt64",value:function(d,m,p){C.DataViewSetBigUint64(d,m,p,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(d,m,p){var E=3<arguments.length&&void 0!==arguments[3]&&arguments[3],D=0,R=0;if(0<(p=C.asUintN(64,p)).length&&(R=p.__digit(0),1<p.length)){var x=p.__digit(1);R|=x<<30,D=x>>>2,2<p.length&&(D|=p.__digit(2)<<28)}var v=ee(E?[4,0]:[0,4],2),F=v[1];d.setUint32(m+v[0],D,E),d.setUint32(m+F,R,E)}},{key:"__zero",value:function(){return new C(0,!1)}},{key:"__oneDigit",value:function(d,m){var p=new C(1,m);return p.__setDigit(0,d),p}},{key:"__decideRounding",value:function(d,m,p,E){if(0<m)return-1;var D;if(0>m)D=-m-1;else{if(0===p)return-1;p--,E=d.__digit(p),D=29}var R=1<<D;if(!(E&R))return-1;if(E&(R-=1))return 1;for(;0<p;)if(p--,0!==d.__digit(p))return 1;return 0}},{key:"__fromDouble",value:function(d){C.__kBitConversionDouble[0]=d;var m,E=(2047&C.__kBitConversionInts[1]>>>20)-1023,D=1+(0|E/30),R=new C(D,0>d),x=1048575&C.__kBitConversionInts[1]|1048576,s=C.__kBitConversionInts[0],$=E%30,F=0;if($<20){var Q=20-$;F=Q+32,m=x>>>Q,x=x<<32-Q|s>>>Q,s<<=32-Q}else if(20===$)F=32,m=x,x=s,s=0;else{var de=$-20;F=32-de,m=x<<de|s>>>32-de,x=s<<de,s=0}R.__setDigit(D-1,m);for(var Ce=D-2;0<=Ce;Ce--)0<F?(F-=30,m=x>>>2,x=x<<30|s>>>2,s<<=30):m=0,R.__setDigit(Ce,m);return R.__trim()}},{key:"__isWhitespace",value:function(d){return 13>=d&&9<=d||(159>=d?32==d:131071>=d?160==d||5760==d:196607>=d?10>=(d&=131071)||40==d||41==d||47==d||95==d||4096==d:65279==d)}},{key:"__fromString",value:function(d){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,p=0,E=d.length,D=0;if(D===E)return C.__zero();for(var R=d.charCodeAt(D);C.__isWhitespace(R);){if(++D===E)return C.__zero();R=d.charCodeAt(D)}if(43===R){if(++D===E)return null;R=d.charCodeAt(D),p=1}else if(45===R){if(++D===E)return null;R=d.charCodeAt(D),p=-1}if(0===m){if(m=10,48===R){if(++D===E)return C.__zero();if(88===(R=d.charCodeAt(D))||120===R){if(m=16,++D===E)return null;R=d.charCodeAt(D)}else if(79===R||111===R){if(m=8,++D===E)return null;R=d.charCodeAt(D)}else if(66===R||98===R){if(m=2,++D===E)return null;R=d.charCodeAt(D)}}}else if(16===m&&48===R){if(++D===E)return C.__zero();if(88===(R=d.charCodeAt(D))||120===R){if(++D===E)return null;R=d.charCodeAt(D)}}if(0!==p&&10!==m)return null;for(;48===R;){if(++D===E)return C.__zero();R=d.charCodeAt(D)}var x=E-D,s=C.__kMaxBitsPerChar[m],v=C.__kBitsPerCharTableMultiplier-1;if(x>1073741824/s)return null;var F=new C(0|(29+(s*x+v>>>C.__kBitsPerCharTableShift))/30,!1),Q=10>m?m:10,de=10<m?m-10:0;if(m&m-1){F.__initializeDigits();var be=!1,Ae=0;do{for(var ge,me=0,te=1;;){if(ge=void 0,R-48>>>0<Q)ge=R-48;else{if(!((32|R)-97>>>0<de)){be=!0;break}ge=(32|R)-87}var ne=te*m;if(1073741823<ne)break;if(te=ne,me=me*m+ge,Ae++,++D===E){be=!0;break}R=d.charCodeAt(D)}F.__inplaceMultiplyAdd(te,me,0|(s*Ae+(v=30*C.__kBitsPerCharTableMultiplier-1)>>>C.__kBitsPerCharTableShift)/30)}while(!be)}else{s>>=C.__kBitsPerCharTableShift;var Ce=[],Re=[],Ve=!1;do{for(var Ee,_e=0,Fe=0;;){if(Ee=void 0,R-48>>>0<Q)Ee=R-48;else{if(!((32|R)-97>>>0<de)){Ve=!0;break}Ee=(32|R)-87}if(Fe+=s,_e=_e<<s|Ee,++D===E){Ve=!0;break}if(R=d.charCodeAt(D),30<Fe+s)break}Ce.push(_e),Re.push(Fe)}while(!Ve);C.__fillFromParts(F,Ce,Re)}if(D!==E){if(!C.__isWhitespace(R))return null;for(D++;D<E;D++)if(R=d.charCodeAt(D),!C.__isWhitespace(R))return null}return F.sign=-1===p,F.__trim()}},{key:"__fillFromParts",value:function(d,m,p){for(var E=0,D=0,R=0,x=m.length-1;0<=x;x--){var s=m[x],v=p[x];D|=s<<R,30===(R+=v)?(d.__setDigit(E++,D),R=0,D=0):30<R&&(d.__setDigit(E++,1073741823&D),D=s>>>v-(R-=30))}if(0!==D){if(E>=d.length)throw new Error("implementation bug");d.__setDigit(E++,D)}for(;E<d.length;E++)d.__setDigit(E,0)}},{key:"__toStringBasePowerOfTwo",value:function(d,m){var p=d.length,E=m-1,D=E=(15&(E=(51&(E=(85&E>>>1)+(85&E))>>>2)+(51&E))>>>4)+(15&E),R=m-1,x=d.__digit(p-1),v=0|(30*p-C.__clz30(x)+D-1)/D;if(d.sign&&v++,268435456<v)throw new Error("string too long");for(var $=Array(v),F=v-1,Q=0,de=0,Ce=0;Ce<p-1;Ce++){var Re=d.__digit(Ce);$[F--]=C.__kConversionChars[(Q|Re<<de)&R];var Ee=D-de;for(Q=Re>>>Ee,de=30-Ee;de>=D;)$[F--]=C.__kConversionChars[Q&R],Q>>>=D,de-=D}for($[F--]=C.__kConversionChars[(Q|x<<de)&R],Q=x>>>D-de;0!==Q;)$[F--]=C.__kConversionChars[Q&R],Q>>>=D;if(d.sign&&($[F--]="-"),-1!==F)throw new Error("implementation bug");return $.join("")}},{key:"__toStringGeneric",value:function(d,m,p){var E=d.length;if(0===E)return"";if(1===E){var D=d.__unsignedDigit(0).toString(m);return!1===p&&d.sign&&(D="-"+D),D}var $,F,R=30*E-C.__clz30(d.__digit(E-1)),s=C.__kMaxBitsPerChar[m]-1,v=R*C.__kBitsPerCharTableMultiplier,Q=1+(v=0|(v+=s-1)/s)>>1,de=C.exponentiate(C.__oneDigit(m,!1),C.__oneDigit(Q,!1)),Ce=de.__unsignedDigit(0);if(1===de.length&&32767>=Ce){($=new C(d.length,!1)).__initializeDigits();for(var Re,Ve=0,Ee=2*d.length-1;0<=Ee;Ee--)Re=Ve<<15|d.__halfDigit(Ee),$.__setHalfDigit(Ee,0|Re/Ce),Ve=0|Re%Ce;F=Ve.toString(m)}else{var _e=C.__absoluteDivLarge(d,de,!0,!0);$=_e.quotient;var Fe=_e.remainder.__trim();F=C.__toStringGeneric(Fe,m,!0)}$.__trim();for(var be=C.__toStringGeneric($,m,!0);F.length<Q;)F="0"+F;return!1===p&&d.sign&&(be="-"+be),be+F}},{key:"__unequalSign",value:function(d){return d?-1:1}},{key:"__absoluteGreater",value:function(d){return d?-1:1}},{key:"__absoluteLess",value:function(d){return d?1:-1}},{key:"__compareToBigInt",value:function(d,m){var p=d.sign;if(p!==m.sign)return C.__unequalSign(p);var E=C.__absoluteCompare(d,m);return 0<E?C.__absoluteGreater(p):0>E?C.__absoluteLess(p):0}},{key:"__compareToNumber",value:function(d,m){if(C.__isOneDigitInt(m)){var p=d.sign,E=0>m;if(p!==E)return C.__unequalSign(p);if(0===d.length){if(E)throw new Error("implementation bug");return 0===m?0:-1}if(1<d.length)return C.__absoluteGreater(p);var D=we(m),R=d.__unsignedDigit(0);return R>D?C.__absoluteGreater(p):R<D?C.__absoluteLess(p):0}return C.__compareToDouble(d,m)}},{key:"__compareToDouble",value:function(d,m){if(m!=m)return m;if(m===1/0)return-1;if(m===-1/0)return 1;var p=d.sign;if(p!==0>m)return C.__unequalSign(p);if(0===m)throw new Error("implementation bug: should be handled elsewhere");if(0===d.length)return-1;C.__kBitConversionDouble[0]=m;var E=2047&C.__kBitConversionInts[1]>>>20;if(2047==E)throw new Error("implementation bug: handled elsewhere");var D=E-1023;if(0>D)return C.__absoluteGreater(p);var R=d.length,x=d.__digit(R-1),s=C.__clz30(x),v=30*R-s,$=D+1;if(v<$)return C.__absoluteLess(p);if(v>$)return C.__absoluteGreater(p);var F=1048576|1048575&C.__kBitConversionInts[1],Q=C.__kBitConversionInts[0],Ce=29-s;if(Ce!==(0|(v-1)%30))throw new Error("implementation bug");var Re,Ve=0;if(Ce<20){var Ee=20-Ce;Ve=Ee+32,Re=F>>>Ee,F=F<<32-Ee|Q>>>Ee,Q<<=32-Ee}else if(20===Ce)Ve=32,Re=F,F=Q,Q=0;else{var _e=Ce-20;Ve=32-_e,Re=F<<_e|Q>>>32-_e,F=Q<<_e,Q=0}if((x>>>=0)>(Re>>>=0))return C.__absoluteGreater(p);if(x<Re)return C.__absoluteLess(p);for(var Fe=R-2;0<=Fe;Fe--){0<Ve?(Ve-=30,Re=F>>>2,F=F<<30|Q>>>2,Q<<=30):Re=0;var be=d.__unsignedDigit(Fe);if(be>Re)return C.__absoluteGreater(p);if(be<Re)return C.__absoluteLess(p)}if(0!==F||0!==Q){if(0===Ve)throw new Error("implementation bug");return C.__absoluteLess(p)}return 0}},{key:"__equalToNumber",value:function(d,m){return C.__isOneDigitInt(m)?0===m?0===d.length:1===d.length&&d.sign===0>m&&d.__unsignedDigit(0)===we(m):0===C.__compareToDouble(d,m)}},{key:"__comparisonResultToBool",value:function(d,m){return 0===m?0>d:1===m?0>=d:2===m?0<d:3===m?0<=d:void 0}},{key:"__compare",value:function(d,m,p){if(d=C.__toPrimitive(d),m=C.__toPrimitive(m),"string"==typeof d&&"string"==typeof m)switch(p){case 0:return d<m;case 1:return d<=m;case 2:return d>m;case 3:return d>=m}if(C.__isBigInt(d)&&"string"==typeof m)return null!==(m=C.__fromString(m))&&C.__comparisonResultToBool(C.__compareToBigInt(d,m),p);if("string"==typeof d&&C.__isBigInt(m))return null!==(d=C.__fromString(d))&&C.__comparisonResultToBool(C.__compareToBigInt(d,m),p);if(d=C.__toNumeric(d),m=C.__toNumeric(m),C.__isBigInt(d)){if(C.__isBigInt(m))return C.__comparisonResultToBool(C.__compareToBigInt(d,m),p);if("number"!=typeof m)throw new Error("implementation bug");return C.__comparisonResultToBool(C.__compareToNumber(d,m),p)}if("number"!=typeof d)throw new Error("implementation bug");if(C.__isBigInt(m))return C.__comparisonResultToBool(C.__compareToNumber(m,d),2^p);if("number"!=typeof m)throw new Error("implementation bug");return 0===p?d<m:1===p?d<=m:2===p?d>m:3===p?d>=m:void 0}},{key:"__absoluteAdd",value:function(d,m,p){if(d.length<m.length)return C.__absoluteAdd(m,d,p);if(0===d.length)return d;if(0===m.length)return d.sign===p?d:C.unaryMinus(d);var E=d.length;(0===d.__clzmsd()||m.length===d.length&&0===m.__clzmsd())&&E++;for(var D,R=new C(E,p),x=0,s=0;s<m.length;s++)x=(D=d.__digit(s)+m.__digit(s)+x)>>>30,R.__setDigit(s,1073741823&D);for(;s<d.length;s++){var v=d.__digit(s)+x;x=v>>>30,R.__setDigit(s,1073741823&v)}return s<R.length&&R.__setDigit(s,x),R.__trim()}},{key:"__absoluteSub",value:function(d,m,p){if(0===d.length)return d;if(0===m.length)return d.sign===p?d:C.unaryMinus(d);for(var E,D=new C(d.length,p),R=0,x=0;x<m.length;x++)R=1&(E=d.__digit(x)-m.__digit(x)-R)>>>30,D.__setDigit(x,1073741823&E);for(;x<d.length;x++){var s=d.__digit(x)-R;R=1&s>>>30,D.__setDigit(x,1073741823&s)}return D.__trim()}},{key:"__absoluteAddOne",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=d.length;null===p?p=new C(E,m):p.sign=m;for(var D,R=1,x=0;x<E;x++)R=(D=d.__digit(x)+R)>>>30,p.__setDigit(x,1073741823&D);return 0!==R&&p.__setDigitGrow(E,1),p}},{key:"__absoluteSubOne",value:function(d,m){for(var E,p=d.length,D=new C(m=m||p,!1),R=1,x=0;x<p;x++)R=1&(E=d.__digit(x)-R)>>>30,D.__setDigit(x,1073741823&E);if(0!==R)throw new Error("implementation bug");for(var s=p;s<m;s++)D.__setDigit(s,0);return D}},{key:"__absoluteAnd",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=d.length,D=m.length,R=D;if(E<D){R=E;var x=d,s=E;d=m,E=D,m=x,D=s}var v=R;null===p?p=new C(v,!1):v=p.length;for(var $=0;$<R;$++)p.__setDigit($,d.__digit($)&m.__digit($));for(;$<v;$++)p.__setDigit($,0);return p}},{key:"__absoluteAndNot",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=d.length,D=m.length,R=D;E<D&&(R=E);var x=E;null===p?p=new C(x,!1):x=p.length;for(var s=0;s<R;s++)p.__setDigit(s,d.__digit(s)&~m.__digit(s));for(;s<E;s++)p.__setDigit(s,d.__digit(s));for(;s<x;s++)p.__setDigit(s,0);return p}},{key:"__absoluteOr",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=d.length,D=m.length,R=D;if(E<D){R=E;var x=d,s=E;d=m,E=D,m=x,D=s}var v=E;null===p?p=new C(v,!1):v=p.length;for(var $=0;$<R;$++)p.__setDigit($,d.__digit($)|m.__digit($));for(;$<E;$++)p.__setDigit($,d.__digit($));for(;$<v;$++)p.__setDigit($,0);return p}},{key:"__absoluteXor",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=d.length,D=m.length,R=D;if(E<D){R=E;var x=d,s=E;d=m,E=D,m=x,D=s}var v=E;null===p?p=new C(v,!1):v=p.length;for(var $=0;$<R;$++)p.__setDigit($,d.__digit($)^m.__digit($));for(;$<E;$++)p.__setDigit($,d.__digit($));for(;$<v;$++)p.__setDigit($,0);return p}},{key:"__absoluteCompare",value:function(d,m){var p=d.length-m.length;if(0!=p)return p;for(var E=d.length-1;0<=E&&d.__digit(E)===m.__digit(E);)E--;return 0>E?0:d.__unsignedDigit(E)>m.__unsignedDigit(E)?1:-1}},{key:"__multiplyAccumulate",value:function(d,m,p,E){if(0!==m){for(var D=32767&m,R=m>>>15,x=0,s=0,v=0;v<d.length;v++,E++){var $=p.__digit(E),F=d.__digit(v),Q=32767&F,de=F>>>15,Ce=C.__imul(Q,D),Re=C.__imul(Q,R),Ve=C.__imul(de,D);x=($+=s+Ce+x)>>>30,$&=1073741823,x+=($+=((32767&Re)<<15)+((32767&Ve)<<15))>>>30,s=C.__imul(de,R)+(Re>>>15)+(Ve>>>15),p.__setDigit(E,1073741823&$)}for(;0!==x||0!==s;E++){var _e=p.__digit(E);_e+=x+s,s=0,x=_e>>>30,p.__setDigit(E,1073741823&_e)}}}},{key:"__internalMultiplyAdd",value:function(d,m,p,E,D){for(var R=p,x=0,s=0;s<E;s++){var v=d.__digit(s),$=C.__imul(32767&v,m),F=C.__imul(v>>>15,m),Q=$+((32767&F)<<15)+x+R;R=Q>>>30,x=F>>>15,D.__setDigit(s,1073741823&Q)}if(D.length>E)for(D.__setDigit(E++,R+x);E<D.length;)D.__setDigit(E++,0);else if(R+x!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===p&&(p=new C(d.length,!1));for(var E=0,D=2*d.length-1;0<=D;D-=2){var R=(E<<15|d.__halfDigit(D))>>>0,x=0|R/m;E=0|(R=((E=0|R%m)<<15|d.__halfDigit(D-1))>>>0)%m,p.__setDigit(D>>>1,x<<15|R/m)}return p}},{key:"__absoluteModSmall",value:function(d,m){for(var E=0,D=2*d.length-1;0<=D;D--)E=0|((E<<15|d.__halfDigit(D))>>>0)%m;return E}},{key:"__absoluteDivLarge",value:function(d,m,p,E){var D=m.__halfDigitLength(),R=m.length,x=d.__halfDigitLength()-D,s=null;p&&(s=new C(x+2>>>1,!1)).__initializeDigits();var v=new C(D+2>>>1,!1);v.__initializeDigits();var $=C.__clz15(m.__halfDigit(D-1));0<$&&(m=C.__specialLeftShift(m,$,0));for(var F=C.__specialLeftShift(d,$,1),Q=m.__halfDigit(D-1),de=0,Ce=x;0<=Ce;Ce--){var Re=32767,Ve=F.__halfDigit(Ce+D);if(Ve!==Q){var Ee=(Ve<<15|F.__halfDigit(Ce+D-1))>>>0;Re=0|Ee/Q;for(var _e=0|Ee%Q,Fe=m.__halfDigit(D-2),be=F.__halfDigit(Ce+D-2);C.__imul(Re,Fe)>>>0>(_e<<16|be)>>>0&&(Re--,!(32767<(_e+=Q))););}C.__internalMultiplyAdd(m,Re,0,R,v);var Ae=F.__inplaceSub(v,Ce,D+1);0!==Ae&&(Ae=F.__inplaceAdd(m,Ce,D),F.__setHalfDigit(Ce+D,32767&F.__halfDigit(Ce+D)+Ae),Re--),p&&(1&Ce?de=Re<<15:s.__setDigit(Ce>>>1,de|Re))}if(E)return F.__inplaceRightShift($),p?{quotient:s,remainder:F}:F;if(p)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(d){return C.__clz30(d)-15}},{key:"__specialLeftShift",value:function(d,m,p){var E=d.length,D=new C(E+p,!1);if(0===m){for(var R=0;R<E;R++)D.__setDigit(R,d.__digit(R));return 0<p&&D.__setDigit(E,0),D}for(var x,s=0,v=0;v<E;v++)x=d.__digit(v),D.__setDigit(v,1073741823&x<<m|s),s=x>>>30-m;return 0<p&&D.__setDigit(E,s),D}},{key:"__leftShiftByAbsolute",value:function(d,m){var p=C.__toShiftAmount(m);if(0>p)throw new RangeError("BigInt too big");var E=0|p/30,D=p%30,R=d.length,x=0!==D&&d.__digit(R-1)>>>30-D!=0,s=R+E+(x?1:0),v=new C(s,d.sign);if(0===D){for(var $=0;$<E;$++)v.__setDigit($,0);for(;$<s;$++)v.__setDigit($,d.__digit($-E))}else{for(var F=0,Q=0;Q<E;Q++)v.__setDigit(Q,0);for(var de,Ce=0;Ce<R;Ce++)de=d.__digit(Ce),v.__setDigit(Ce+E,1073741823&de<<D|F),F=de>>>30-D;if(x)v.__setDigit(R+E,F);else if(0!==F)throw new Error("implementation bug")}return v.__trim()}},{key:"__rightShiftByAbsolute",value:function(d,m){var p=d.length,E=d.sign,D=C.__toShiftAmount(m);if(0>D)return C.__rightShiftByMaximum(E);var R=0|D/30,x=D%30,s=p-R;if(0>=s)return C.__rightShiftByMaximum(E);var v=!1;if(E)if(d.__digit(R)&(1<<x)-1)v=!0;else for(var $=0;$<R;$++)if(0!==d.__digit($)){v=!0;break}v&&0===x&&!~d.__digit(p-1)&&s++;var Q=new C(s,E);if(0===x){Q.__setDigit(s-1,0);for(var de=R;de<p;de++)Q.__setDigit(de-R,d.__digit(de))}else{for(var Ce,Re=d.__digit(R)>>>x,Ve=p-R-1,Ee=0;Ee<Ve;Ee++)Ce=d.__digit(Ee+R+1),Q.__setDigit(Ee,1073741823&Ce<<30-x|Re),Re=Ce>>>x;Q.__setDigit(Ve,Re)}return v&&(Q=C.__absoluteAddOne(Q,!0,Q)),Q.__trim()}},{key:"__rightShiftByMaximum",value:function(d){return d?C.__oneDigit(1,!0):C.__zero()}},{key:"__toShiftAmount",value:function(d){if(1<d.length)return-1;var m=d.__unsignedDigit(0);return m>C.__kMaxLengthBits?-1:m}},{key:"__toPrimitive",value:function(d){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==y(d)||d.constructor===C)return d;if(typeof Symbol<"u"&&"symbol"===y(Symbol.toPrimitive)){var p=d[Symbol.toPrimitive];if(p){var E=p(m);if("object"!==y(E))return E;throw new TypeError("Cannot convert object to primitive value")}}var D=d.valueOf;if(D){var R=D.call(d);if("object"!==y(R))return R}var x=d.toString;if(x){var s=x.call(d);if("object"!==y(s))return s}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(d){return C.__isBigInt(d)?d:+d}},{key:"__isBigInt",value:function(d){return"object"===y(d)&&null!==d&&d.constructor===C}},{key:"__truncateToNBits",value:function(d,m){for(var p=0|(d+29)/30,E=new C(p,m.sign),D=p-1,R=0;R<D;R++)E.__setDigit(R,m.__digit(R));var x=m.__digit(D);if(d%30!=0){var s=32-d%30;x=x<<s>>>s}return E.__setDigit(D,x),E.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(d,m,p){for(var D,E=Math.min,R=0|(d+29)/30,x=new C(R,p),s=0,v=R-1,$=0,F=E(v,m.length);s<F;s++)$=1&(D=0-m.__digit(s)-$)>>>30,x.__setDigit(s,1073741823&D);for(;s<v;s++)x.__setDigit(s,1073741823&-$);var Q,de=v<m.length?m.__digit(v):0,Ce=d%30;if(0===Ce)Q=0-de-$,Q&=1073741823;else{var Re=32-Ce,Ve=1<<32-Re;Q=Ve-(de=de<<Re>>>Re)-$,Q&=Ve-1}return x.__setDigit(v,Q),x.__trim()}},{key:"__digitPow",value:function(d,m){for(var p=1;0<m;)1&m&&(p*=d),m>>>=1,d*=d;return p}},{key:"__isOneDigitInt",value:function(d){return(1073741823&d)===d}}]),C}(A(Array));return fe.__kMaxLength=33554432,fe.__kMaxLengthBits=fe.__kMaxLength<<5,fe.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],fe.__kBitsPerCharTableShift=5,fe.__kBitsPerCharTableMultiplier=1<<fe.__kBitsPerCharTableShift,fe.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],fe.__kBitConversionBuffer=new ArrayBuffer(8),fe.__kBitConversionDouble=new Float64Array(fe.__kBitConversionBuffer),fe.__kBitConversionInts=new Int32Array(fe.__kBitConversionBuffer),fe.__clz30=_?function(he){return _(he)-2}:function(he){var we=Math.LN2,Me=Math.log;return 0===he?30:0|29-(0|Me(he>>>0)/we)},fe.__imul=j||function(he,we){return 0|he*we},fe}()},44331:Je=>{"use strict";var j=Je.exports=function(b,P,H){"function"==typeof P&&(H=P,P={}),_(P,"function"==typeof(H=P.cb||H)?H:H.pre||function(){},H.post||function(){},b,"",b)};function _(b,P,H,w,O,S,B,N,U,A){if(w&&"object"==typeof w&&!Array.isArray(w)){for(var G in P(w,O,S,B,N,U,A),w){var L=w[G];if(Array.isArray(L)){if(G in j.arrayKeywords)for(var z=0;z<L.length;z++)_(b,P,H,L[z],O+"/"+G+"/"+z,S,O,G,w,z)}else if(G in j.propsKeywords){if(L&&"object"==typeof L)for(var ee in L)_(b,P,H,L[ee],O+"/"+G+"/"+y(ee),S,O,G,w,ee)}else(G in j.keywords||b.allKeys&&!(G in j.skipKeywords))&&_(b,P,H,L,O+"/"+G,S,O,G,w)}H(w,O,S,B,N,U,A)}}function y(b){return b.replace(/~/g,"~0").replace(/\//g,"~1")}j.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},j.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},j.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},j.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:(Je,j)=>{"use strict";j.supports=function(...y){const b=y.reduce((P,H)=>Object.assign(P,H),{});return Object.assign(b,{snapshots:b.snapshots||!1,permanence:b.permanence||!1,seek:b.seek||!1,clear:b.clear||!1,getMany:b.getMany||!1,keyIterator:b.keyIterator||!1,valueIterator:b.valueIterator||!1,iteratorNextv:b.iteratorNextv||!1,iteratorAll:b.iteratorAll||!1,status:b.status||!1,createIfMissing:b.createIfMissing||!1,errorIfExists:b.errorIfExists||!1,deferredOpen:b.deferredOpen||!1,promises:b.promises||!1,streams:b.streams||!1,encodings:Object.assign({},b.encodings),events:Object.assign({},b.events),additionalMethods:Object.assign({},b.additionalMethods)})}},25006:(Je,j,_)=>{"use strict";const y=_(61747),b=_(40080),{Encoding:P}=_(15045),{BufferFormat:H,ViewFormat:w,UTF8Format:O}=_(48262),S=Symbol("formats"),B=Symbol("encodings"),N=new Set(["buffer","view","utf8"]);j.Transcoder=class U{constructor(Z){if(!Array.isArray(Z))throw new TypeError("The first argument 'formats' must be an array");if(!Z.every(J=>N.has(J)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[B]=new Map,this[S]=new Set(Z);for(const J in b)try{this.encoding(J)}catch(se){if("LEVEL_ENCODING_NOT_SUPPORTED"!==se.code)throw se}}encodings(){return Array.from(new Set(this[B].values()))}encoding(Z){let J=this[B].get(Z);if(void 0===J){if("string"==typeof Z&&""!==Z){if(J=z[Z],!J)throw new y(`Encoding '${Z}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof Z||null===Z)throw new TypeError("First argument 'encoding' must be a string or object");J=function A(q){if(q instanceof P)return q;const J=q.name||("type"in q&&"string"==typeof q.type?q.type:void 0)||"anonymous-"+ee++;switch(function G(q){return"format"in q&&void 0!==q.format?q.format:"buffer"in q&&"boolean"==typeof q.buffer?q.buffer?"buffer":"utf8":"code"in q&&Number.isInteger(q.code)?"view":"buffer"}(q)){case"view":return new w({...q,name:J});case"utf8":return new O({...q,name:J});case"buffer":return new H({...q,name:J});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(Z)}const{name:se,format:ce}=J;if(!this[S].has(ce))if(this[S].has("view"))J=J.createViewTranscoder();else if(this[S].has("buffer"))J=J.createBufferTranscoder();else{if(!this[S].has("utf8"))throw new y(`Encoding '${se}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});J=J.createUTF8Transcoder()}for(const ae of[Z,se,J.name,J.commonName])this[B].set(ae,J)}return J}};const L={binary:b.buffer,"utf-8":b.utf8},z={...b,...L};let ee=0},15045:(Je,j,_)=>{"use strict";const y=_(61747),b=new Set(["buffer","view","utf8"]);j.Encoding=class P{constructor(w){if(this.encode=w.encode||this.encode,this.decode=w.decode||this.decode,this.name=w.name||this.name,this.format=w.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!b.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");w.createViewTranscoder&&(this.createViewTranscoder=w.createViewTranscoder),w.createBufferTranscoder&&(this.createBufferTranscoder=w.createBufferTranscoder),w.createUTF8Transcoder&&(this.createUTF8Transcoder=w.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new y(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new y(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new y(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:(Je,j,_)=>{"use strict";const{Buffer:y}=_(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:b,textDecoder:P}=_(33619)(),{BufferFormat:H,ViewFormat:w,UTF8Format:O}=_(48262),S=B=>B;j.utf8=new O({encode:function(B){return y.isBuffer(B)?B.toString("utf8"):ArrayBuffer.isView(B)?P.decode(B):String(B)},decode:S,name:"utf8",createViewTranscoder(){return new w({encode:function(B){return ArrayBuffer.isView(B)?B:b.encode(B)},decode:function(B){return P.decode(B)},name:`${this.name}+view`})},createBufferTranscoder(){return new H({encode:function(B){return y.isBuffer(B)?B:ArrayBuffer.isView(B)?y.from(B.buffer,B.byteOffset,B.byteLength):y.from(String(B),"utf8")},decode:function(B){return B.toString("utf8")},name:`${this.name}+buffer`})}}),j.json=new O({encode:JSON.stringify,decode:JSON.parse,name:"json"}),j.buffer=new H({encode:function(B){return y.isBuffer(B)?B:ArrayBuffer.isView(B)?y.from(B.buffer,B.byteOffset,B.byteLength):y.from(String(B),"utf8")},decode:S,name:"buffer",createViewTranscoder(){return new w({encode:function(B){return ArrayBuffer.isView(B)?B:y.from(String(B),"utf8")},decode:function(B){return y.from(B.buffer,B.byteOffset,B.byteLength)},name:`${this.name}+view`})}}),j.view=new w({encode:function(B){return ArrayBuffer.isView(B)?B:b.encode(B)},decode:S,name:"view",createBufferTranscoder(){return new H({encode:function(B){return y.isBuffer(B)?B:ArrayBuffer.isView(B)?y.from(B.buffer,B.byteOffset,B.byteLength):y.from(String(B),"utf8")},decode:S,name:`${this.name}+buffer`})}}),j.hex=new H({encode:function(B){return y.isBuffer(B)?B:y.from(String(B),"hex")},decode:function(B){return B.toString("hex")},name:"hex"}),j.base64=new H({encode:function(B){return y.isBuffer(B)?B:y.from(String(B),"base64")},decode:function(B){return B.toString("base64")},name:"base64"})},48262:(Je,j,_)=>{"use strict";const{Buffer:y}=_(484)||{},{Encoding:b}=_(15045),P=_(33619);class H extends b{constructor(B){super({...B,format:"buffer"})}createViewTranscoder(){return new w({encode:this.encode,decode:B=>this.decode(y.from(B.buffer,B.byteOffset,B.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class w extends b{constructor(B){super({...B,format:"view"})}createBufferTranscoder(){return new H({encode:B=>{const N=this.encode(B);return y.from(N.buffer,N.byteOffset,N.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}j.BufferFormat=H,j.ViewFormat=w,j.UTF8Format=class O extends b{constructor(B){super({...B,format:"utf8"})}createBufferTranscoder(){return new H({encode:B=>y.from(this.encode(B),"utf8"),decode:B=>this.decode(B.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:B,textDecoder:N}=P();return new w({encode:U=>B.encode(this.encode(U)),decode:U=>this.decode(N.decode(U)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:Je=>{"use strict";let j=null;Je.exports=function(){return null===j&&(j={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),j}},484:(Je,j,_)=>{"use strict";const y=_(13981),b=_(22020),P="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function J(K){return+K!=K&&(K=0),S.alloc(+K)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function O(K){if(K>H)throw new RangeError('The value "'+K+'" is invalid for option "size"');const T=new Uint8Array(K);return Object.setPrototypeOf(T,S.prototype),T}function S(K,T,M){if("number"==typeof K){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return A(K)}return B(K,T,M)}function B(K,T,M){if("string"==typeof K)return function G(K,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!S.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const M=0|se(K,T);let Y=O(M);const pe=Y.write(K,T);return pe!==M&&(Y=Y.slice(0,pe)),Y}(K,T);if(ArrayBuffer.isView(K))return function z(K){if(ze(K,Uint8Array)){const T=new Uint8Array(K);return ee(T.buffer,T.byteOffset,T.byteLength)}return L(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ze(K,ArrayBuffer)||K&&ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(K,SharedArrayBuffer)||K&&ze(K.buffer,SharedArrayBuffer)))return ee(K,T,M);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=K.valueOf&&K.valueOf();if(null!=Y&&Y!==K)return S.from(Y,T,M);const pe=function q(K){if(S.isBuffer(K)){const T=0|Z(K.length),M=O(T);return 0===M.length||K.copy(M,0,0,T),M}return void 0!==K.length?"number"!=typeof K.length||Dt(K.length)?O(0):L(K):"Buffer"===K.type&&Array.isArray(K.data)?L(K.data):void 0}(K);if(pe)return pe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return S.from(K[Symbol.toPrimitive]("string"),T,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function N(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function A(K){return N(K),O(K<0?0:0|Z(K))}function L(K){const T=K.length<0?0:0|Z(K.length),M=O(T);for(let Y=0;Y<T;Y+=1)M[Y]=255&K[Y];return M}function ee(K,T,M){if(T<0||K.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<T+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return Y=void 0===T&&void 0===M?new Uint8Array(K):void 0===M?new Uint8Array(K,T):new Uint8Array(K,T,M),Object.setPrototypeOf(Y,S.prototype),Y}function Z(K){if(K>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|K}function se(K,T){if(S.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const M=K.length,Y=arguments.length>2&&!0===arguments[2];if(!Y&&0===M)return 0;let pe=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ne(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Be(K).length;default:if(pe)return Y?-1:ne(K).length;T=(""+T).toLowerCase(),pe=!0}}function ce(K,T,M){let Y=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(T>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return x(this,T,M);case"utf8":case"utf-8":return m(this,T,M);case"ascii":return D(this,T,M);case"latin1":case"binary":return R(this,T,M);case"base64":return d(this,T,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,T,M);default:if(Y)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Y=!0}}function ae(K,T,M){const Y=K[T];K[T]=K[M],K[M]=Y}function fe(K,T,M,Y,pe){if(0===K.length)return-1;if("string"==typeof M?(Y=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=pe?0:K.length-1),M<0&&(M=K.length+M),M>=K.length){if(pe)return-1;M=K.length-1}else if(M<0){if(!pe)return-1;M=0}if("string"==typeof T&&(T=S.from(T,Y)),S.isBuffer(T))return 0===T.length?-1:he(K,T,M,Y,pe);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call(K,T,M):Uint8Array.prototype.lastIndexOf.call(K,T,M):he(K,[T],M,Y,pe);throw new TypeError("val must be string, number or Buffer")}function he(K,T,M,Y,pe){let It,ke=1,Ne=K.length,lt=T.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(K.length<2||T.length<2)return-1;ke=2,Ne/=2,lt/=2,M/=2}function en(Kt,rn){return 1===ke?Kt[rn]:Kt.readUInt16BE(rn*ke)}if(pe){let Kt=-1;for(It=M;It<Ne;It++)if(en(K,It)===en(T,-1===Kt?0:It-Kt)){if(-1===Kt&&(Kt=It),It-Kt+1===lt)return Kt*ke}else-1!==Kt&&(It-=It-Kt),Kt=-1}else for(M+lt>Ne&&(M=Ne-lt),It=M;It>=0;It--){let Kt=!0;for(let rn=0;rn<lt;rn++)if(en(K,It+rn)!==en(T,rn)){Kt=!1;break}if(Kt)return It}return-1}function we(K,T,M,Y){M=Number(M)||0;const pe=K.length-M;Y?(Y=Number(Y))>pe&&(Y=pe):Y=pe;const ke=T.length;let Ne;for(Y>ke/2&&(Y=ke/2),Ne=0;Ne<Y;++Ne){const lt=parseInt(T.substr(2*Ne,2),16);if(Dt(lt))return Ne;K[M+Ne]=lt}return Ne}function Me(K,T,M,Y){return Qe(ne(T,K.length-M),K,M,Y)}function Pe(K,T,M,Y){return Qe(function ue(K){const T=[];for(let M=0;M<K.length;++M)T.push(255&K.charCodeAt(M));return T}(T),K,M,Y)}function C(K,T,M,Y){return Qe(Be(T),K,M,Y)}function a(K,T,M,Y){return Qe(function De(K,T){let M,Y,pe;const ke=[];for(let Ne=0;Ne<K.length&&!((T-=2)<0);++Ne)M=K.charCodeAt(Ne),Y=M>>8,pe=M%256,ke.push(pe),ke.push(Y);return ke}(T,K.length-M),K,M,Y)}function d(K,T,M){return y.fromByteArray(0===T&&M===K.length?K:K.slice(T,M))}function m(K,T,M){M=Math.min(K.length,M);const Y=[];let pe=T;for(;pe<M;){const ke=K[pe];let Ne=null,lt=ke>239?4:ke>223?3:ke>191?2:1;if(pe+lt<=M){let en,It,Kt,rn;switch(lt){case 1:ke<128&&(Ne=ke);break;case 2:en=K[pe+1],128==(192&en)&&(rn=(31&ke)<<6|63&en,rn>127&&(Ne=rn));break;case 3:en=K[pe+1],It=K[pe+2],128==(192&en)&&128==(192&It)&&(rn=(15&ke)<<12|(63&en)<<6|63&It,rn>2047&&(rn<55296||rn>57343)&&(Ne=rn));break;case 4:en=K[pe+1],It=K[pe+2],Kt=K[pe+3],128==(192&en)&&128==(192&It)&&128==(192&Kt)&&(rn=(15&ke)<<18|(63&en)<<12|(63&It)<<6|63&Kt,rn>65535&&rn<1114112&&(Ne=rn))}}null===Ne?(Ne=65533,lt=1):Ne>65535&&(Ne-=65536,Y.push(Ne>>>10&1023|55296),Ne=56320|1023&Ne),Y.push(Ne),pe+=lt}return function E(K){const T=K.length;if(T<=p)return String.fromCharCode.apply(String,K);let M="",Y=0;for(;Y<T;)M+=String.fromCharCode.apply(String,K.slice(Y,Y+=p));return M}(Y)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function w(){try{const K=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(K,T),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(K,T,M){return B(K,T,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(K,T,M){return function U(K,T,M){return N(K),K<=0?O(K):void 0!==T?"string"==typeof M?O(K).fill(T,M):O(K).fill(T):O(K)}(K,T,M)},S.allocUnsafe=function(K){return A(K)},S.allocUnsafeSlow=function(K){return A(K)},S.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==S.prototype},S.compare=function(T,M){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),ze(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(T)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===M)return 0;let Y=T.length,pe=M.length;for(let ke=0,Ne=Math.min(Y,pe);ke<Ne;++ke)if(T[ke]!==M[ke]){Y=T[ke],pe=M[ke];break}return Y<pe?-1:pe<Y?1:0},S.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(T,M){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return S.alloc(0);let Y;if(void 0===M)for(M=0,Y=0;Y<T.length;++Y)M+=T[Y].length;const pe=S.allocUnsafe(M);let ke=0;for(Y=0;Y<T.length;++Y){let Ne=T[Y];if(ze(Ne,Uint8Array))ke+Ne.length>pe.length?(S.isBuffer(Ne)||(Ne=S.from(Ne)),Ne.copy(pe,ke)):Uint8Array.prototype.set.call(pe,Ne,ke);else{if(!S.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(pe,ke)}ke+=Ne.length}return pe},S.byteLength=se,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<T;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<T;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<T;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ce.apply(this,arguments)},S.prototype.equals=function(T){if(!S.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===S.compare(this,T)},S.prototype.inspect=function(){let T="";const M=j.INSPECT_MAX_BYTES;return T=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(T+=" ... "),"<Buffer "+T+">"},P&&(S.prototype[P]=S.prototype.inspect),S.prototype.compare=function(T,M,Y,pe,ke){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),!S.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===M&&(M=0),void 0===Y&&(Y=T?T.length:0),void 0===pe&&(pe=0),void 0===ke&&(ke=this.length),M<0||Y>T.length||pe<0||ke>this.length)throw new RangeError("out of range index");if(pe>=ke&&M>=Y)return 0;if(pe>=ke)return-1;if(M>=Y)return 1;if(this===T)return 0;let Ne=(ke>>>=0)-(pe>>>=0),lt=(Y>>>=0)-(M>>>=0);const en=Math.min(Ne,lt),It=this.slice(pe,ke),Kt=T.slice(M,Y);for(let rn=0;rn<en;++rn)if(It[rn]!==Kt[rn]){Ne=It[rn],lt=Kt[rn];break}return Ne<lt?-1:lt<Ne?1:0},S.prototype.includes=function(T,M,Y){return-1!==this.indexOf(T,M,Y)},S.prototype.indexOf=function(T,M,Y){return fe(this,T,M,Y,!0)},S.prototype.lastIndexOf=function(T,M,Y){return fe(this,T,M,Y,!1)},S.prototype.write=function(T,M,Y,pe){if(void 0===M)pe="utf8",Y=this.length,M=0;else if(void 0===Y&&"string"==typeof M)pe=M,Y=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(Y)?(Y>>>=0,void 0===pe&&(pe="utf8")):(pe=Y,Y=void 0)}const ke=this.length-M;if((void 0===Y||Y>ke)&&(Y=ke),T.length>0&&(Y<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let Ne=!1;for(;;)switch(pe){case"hex":return we(this,T,M,Y);case"utf8":case"utf-8":return Me(this,T,M,Y);case"ascii":case"latin1":case"binary":return Pe(this,T,M,Y);case"base64":return C(this,T,M,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,T,M,Y);default:if(Ne)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ne=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(127&K[pe]);return Y}function R(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(K[pe]);return Y}function x(K,T,M){const Y=K.length;(!T||T<0)&&(T=0),(!M||M<0||M>Y)&&(M=Y);let pe="";for(let ke=T;ke<M;++ke)pe+=Xe[K[ke]];return pe}function s(K,T,M){const Y=K.slice(T,M);let pe="";for(let ke=0;ke<Y.length-1;ke+=2)pe+=String.fromCharCode(Y[ke]+256*Y[ke+1]);return pe}function v(K,T,M){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+T>M)throw new RangeError("Trying to access beyond buffer length")}function $(K,T,M,Y,pe,ke){if(!S.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>pe||T<ke)throw new RangeError('"value" argument is out of bounds');if(M+Y>K.length)throw new RangeError("Index out of range")}function F(K,T,M,Y,pe){be(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,M}function Q(K,T,M,Y,pe){be(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M+7]=ke,ke>>=8,K[M+6]=ke,ke>>=8,K[M+5]=ke,ke>>=8,K[M+4]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M+3]=Ne,Ne>>=8,K[M+2]=Ne,Ne>>=8,K[M+1]=Ne,Ne>>=8,K[M]=Ne,M+8}function de(K,T,M,Y,pe,ke){if(M+Y>K.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function Ce(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,4),b.write(K,T,M,Y,23,4),M+4}function Re(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,8),b.write(K,T,M,Y,52,8),M+8}S.prototype.slice=function(T,M){const Y=this.length;(T=~~T)<0?(T+=Y)<0&&(T=0):T>Y&&(T=Y),(M=void 0===M?Y:~~M)<0?(M+=Y)<0&&(M=0):M>Y&&(M=Y),M<T&&(M=T);const pe=this.subarray(T,M);return Object.setPrototypeOf(pe,S.prototype),pe},S.prototype.readUintLE=S.prototype.readUIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return pe},S.prototype.readUintBE=S.prototype.readUIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T+--M],ke=1;for(;M>0&&(ke*=256);)pe+=this[T+--M]*ke;return pe},S.prototype.readUint8=S.prototype.readUInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),this[T]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]|this[T+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]<<8|this[T+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},S.prototype.readBigUInt64LE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M+256*this[++T]+65536*this[++T]+this[++T]*2**24,ke=this[++T]+256*this[++T]+65536*this[++T]+Y*2**24;return BigInt(pe)+(BigInt(ke)<<BigInt(32))}),S.prototype.readBigUInt64BE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M*2**24+65536*this[++T]+256*this[++T]+this[++T],ke=this[++T]*2**24+65536*this[++T]+256*this[++T]+Y;return(BigInt(pe)<<BigInt(32))+BigInt(ke)}),S.prototype.readIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return ke*=128,pe>=ke&&(pe-=Math.pow(2,8*M)),pe},S.prototype.readIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=M,ke=1,Ne=this[T+--pe];for(;pe>0&&(ke*=256);)Ne+=this[T+--pe]*ke;return ke*=128,Ne>=ke&&(Ne-=Math.pow(2,8*M)),Ne},S.prototype.readInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},S.prototype.readInt16LE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T]|this[T+1]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt16BE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T+1]|this[T]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},S.prototype.readInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},S.prototype.readBigInt64LE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];return(void 0===M||void 0===Y)&&ge(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Y<<24))<<BigInt(32))+BigInt(M+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),S.prototype.readBigInt64BE=Ue(function(T){Ae(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=(M<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(pe)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Y)}),S.prototype.readFloatLE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!0,23,4)},S.prototype.readFloatBE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!1,23,4)},S.prototype.readDoubleLE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!0,52,8)},S.prototype.readDoubleBE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=1,Ne=0;for(this[M]=255&T;++Ne<Y&&(ke*=256);)this[M+Ne]=T/ke&255;return M+Y},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=Y-1,Ne=1;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)this[M+ke]=T/Ne&255;return M+Y},S.prototype.writeUint8=S.prototype.writeUInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,255,0),this[M]=255&T,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M+3]=T>>>24,this[M+2]=T>>>16,this[M+1]=T>>>8,this[M]=255&T,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigUInt64LE=Ue(function(T,M=0){return F(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Ue(function(T,M=0){return Q(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=0,Ne=1,lt=0;for(this[M]=255&T;++ke<Y&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke-1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeIntBE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=Y-1,Ne=1,lt=0;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke+1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,127,-128),T<0&&(T=255+T+1),this[M]=255&T,M+1},S.prototype.writeInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),this[M]=255&T,this[M+1]=T>>>8,this[M+2]=T>>>16,this[M+3]=T>>>24,M+4},S.prototype.writeInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigInt64LE=Ue(function(T,M=0){return F(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Ue(function(T,M=0){return Q(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(T,M,Y){return Ce(this,T,M,!0,Y)},S.prototype.writeFloatBE=function(T,M,Y){return Ce(this,T,M,!1,Y)},S.prototype.writeDoubleLE=function(T,M,Y){return Re(this,T,M,!0,Y)},S.prototype.writeDoubleBE=function(T,M,Y){return Re(this,T,M,!1,Y)},S.prototype.copy=function(T,M,Y,pe){if(!S.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!pe&&0!==pe&&(pe=this.length),M>=T.length&&(M=T.length),M||(M=0),pe>0&&pe<Y&&(pe=Y),pe===Y||0===T.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),T.length-M<pe-Y&&(pe=T.length-M+Y);const ke=pe-Y;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,Y,pe):Uint8Array.prototype.set.call(T,this.subarray(Y,pe),M),ke},S.prototype.fill=function(T,M,Y,pe){if("string"==typeof T){if("string"==typeof M?(pe=M,M=0,Y=this.length):"string"==typeof Y&&(pe=Y,Y=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!S.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(1===T.length){const Ne=T.charCodeAt(0);("utf8"===pe&&Ne<128||"latin1"===pe)&&(T=Ne)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(M<0||this.length<M||this.length<Y)throw new RangeError("Out of range index");if(Y<=M)return this;let ke;if(M>>>=0,Y=void 0===Y?this.length:Y>>>0,T||(T=0),"number"==typeof T)for(ke=M;ke<Y;++ke)this[ke]=T;else{const Ne=S.isBuffer(T)?T:S.from(T,pe),lt=Ne.length;if(0===lt)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ke=0;ke<Y-M;++ke)this[ke+M]=Ne[ke%lt]}return this};const Ve={};function Ee(K,T,M){Ve[K]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function _e(K){let T="",M=K.length;const Y="-"===K[0]?1:0;for(;M>=Y+4;M-=3)T=`_${K.slice(M-3,M)}${T}`;return`${K.slice(0,M)}${T}`}function be(K,T,M,Y,pe,ke){if(K>M||K<T){const Ne="bigint"==typeof T?"n":"";let lt;throw lt=ke>3?0===T||T===BigInt(0)?`>= 0${Ne} and < 2${Ne} ** ${8*(ke+1)}${Ne}`:`>= -(2${Ne} ** ${8*(ke+1)-1}${Ne}) and < 2 ** ${8*(ke+1)-1}${Ne}`:`>= ${T}${Ne} and <= ${M}${Ne}`,new Ve.ERR_OUT_OF_RANGE("value",lt,K)}!function Fe(K,T,M){Ae(T,"offset"),(void 0===K[T]||void 0===K[T+M])&&ge(T,K.length-(M+1))}(Y,pe,ke)}function Ae(K,T){if("number"!=typeof K)throw new Ve.ERR_INVALID_ARG_TYPE(T,"number",K)}function ge(K,T,M){throw Math.floor(K)!==K?(Ae(K,M),new Ve.ERR_OUT_OF_RANGE(M||"offset","an integer",K)):T<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${T}`,K)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(K,T){return`The "${K}" argument must be of type number. Received type ${typeof T}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(K,T,M){let Y=`The value of "${K}" is out of range.`,pe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?pe=_e(String(M)):"bigint"==typeof M&&(pe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(pe=_e(pe)),pe+="n"),Y+=` It must be ${T}. Received ${pe}`,Y},RangeError);const me=/[^+/0-9A-Za-z-_]/g;function ne(K,T){let M;T=T||1/0;const Y=K.length;let pe=null;const ke=[];for(let Ne=0;Ne<Y;++Ne){if(M=K.charCodeAt(Ne),M>55295&&M<57344){if(!pe){if(M>56319){(T-=3)>-1&&ke.push(239,191,189);continue}if(Ne+1===Y){(T-=3)>-1&&ke.push(239,191,189);continue}pe=M;continue}if(M<56320){(T-=3)>-1&&ke.push(239,191,189),pe=M;continue}M=65536+(pe-55296<<10|M-56320)}else pe&&(T-=3)>-1&&ke.push(239,191,189);if(pe=null,M<128){if((T-=1)<0)break;ke.push(M)}else if(M<2048){if((T-=2)<0)break;ke.push(M>>6|192,63&M|128)}else if(M<65536){if((T-=3)<0)break;ke.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;ke.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return ke}function Be(K){return y.toByteArray(function te(K){if((K=(K=K.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Qe(K,T,M,Y){let pe;for(pe=0;pe<Y&&!(pe+M>=T.length||pe>=K.length);++pe)T[pe+M]=K[pe];return pe}function ze(K,T){return K instanceof T||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===T.name}function Dt(K){return K!=K}const Xe=function(){const K="0123456789abcdef",T=new Array(256);for(let M=0;M<16;++M){const Y=16*M;for(let pe=0;pe<16;++pe)T[Y+pe]=K[M]+K[pe]}return T}();function Ue(K){return typeof BigInt>"u"?mt:K}function mt(){throw new Error("BigInt not supported")}},54626:(Je,j,_)=>{j.Level=_(23963).BrowserLevel},8516:(Je,j,_)=>{var y=_(81464);Je.exports=y.Symbol},61057:(Je,j,_)=>{var y=_(8516),b=_(8488),P=_(53327),O=y?y.toStringTag:void 0;Je.exports=function S(B){return null==B?void 0===B?"[object Undefined]":"[object Null]":O&&O in Object(B)?b(B):P(B)}},78657:Je=>{var j="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;Je.exports=j},46902:(Je,j,_)=>{var b=_(72852)(Object.getPrototypeOf,Object);Je.exports=b},8488:(Je,j,_)=>{var y=_(8516),b=Object.prototype,P=b.hasOwnProperty,H=b.toString,w=y?y.toStringTag:void 0;Je.exports=function O(S){var B=P.call(S,w),N=S[w];try{S[w]=void 0;var U=!0}catch{}var A=H.call(S);return U&&(B?S[w]=N:delete S[w]),A}},53327:Je=>{var _=Object.prototype.toString;Je.exports=function y(b){return _.call(b)}},72852:Je=>{Je.exports=function j(_,y){return function(b){return _(y(b))}}},81464:(Je,j,_)=>{var y=_(78657),b="object"==typeof self&&self&&self.Object===Object&&self,P=y||b||Function("return this")();Je.exports=P},57433:Je=>{Je.exports=function j(_){return null!=_&&"object"==typeof _}},49970:(Je,j,_)=>{var y=_(61057),b=_(46902),P=_(57433),S=Function.prototype.toString,B=Object.prototype.hasOwnProperty,N=S.call(Object);Je.exports=function U(A){if(!P(A)||"[object Object]"!=y(A))return!1;var G=b(A);if(null===G)return!0;var L=B.call(G,"constructor")&&G.constructor;return"function"==typeof L&&L instanceof L&&S.call(L)==N}},34725:(Je,j,_)=>{"use strict";var y=_(71993),b=_(13686),P=_(27054).Buffer,H=new Array(16);function w(){b.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function O(A,G){return A<<G|A>>>32-G}function S(A,G,L,z,ee,q,Z){return O(A+(G&L|~G&z)+ee+q|0,Z)+G|0}function B(A,G,L,z,ee,q,Z){return O(A+(G&z|L&~z)+ee+q|0,Z)+G|0}function N(A,G,L,z,ee,q,Z){return O(A+(G^L^z)+ee+q|0,Z)+G|0}function U(A,G,L,z,ee,q,Z){return O(A+(L^(G|~z))+ee+q|0,Z)+G|0}y(w,b),w.prototype._update=function(){for(var A=H,G=0;G<16;++G)A[G]=this._block.readInt32LE(4*G);var L=this._a,z=this._b,ee=this._c,q=this._d;L=S(L,z,ee,q,A[0],3614090360,7),q=S(q,L,z,ee,A[1],3905402710,12),ee=S(ee,q,L,z,A[2],606105819,17),z=S(z,ee,q,L,A[3],3250441966,22),L=S(L,z,ee,q,A[4],4118548399,7),q=S(q,L,z,ee,A[5],1200080426,12),ee=S(ee,q,L,z,A[6],2821735955,17),z=S(z,ee,q,L,A[7],4249261313,22),L=S(L,z,ee,q,A[8],1770035416,7),q=S(q,L,z,ee,A[9],2336552879,12),ee=S(ee,q,L,z,A[10],4294925233,17),z=S(z,ee,q,L,A[11],2304563134,22),L=S(L,z,ee,q,A[12],1804603682,7),q=S(q,L,z,ee,A[13],4254626195,12),ee=S(ee,q,L,z,A[14],2792965006,17),L=B(L,z=S(z,ee,q,L,A[15],1236535329,22),ee,q,A[1],4129170786,5),q=B(q,L,z,ee,A[6],3225465664,9),ee=B(ee,q,L,z,A[11],643717713,14),z=B(z,ee,q,L,A[0],3921069994,20),L=B(L,z,ee,q,A[5],3593408605,5),q=B(q,L,z,ee,A[10],38016083,9),ee=B(ee,q,L,z,A[15],3634488961,14),z=B(z,ee,q,L,A[4],3889429448,20),L=B(L,z,ee,q,A[9],568446438,5),q=B(q,L,z,ee,A[14],3275163606,9),ee=B(ee,q,L,z,A[3],4107603335,14),z=B(z,ee,q,L,A[8],1163531501,20),L=B(L,z,ee,q,A[13],2850285829,5),q=B(q,L,z,ee,A[2],4243563512,9),ee=B(ee,q,L,z,A[7],1735328473,14),L=N(L,z=B(z,ee,q,L,A[12],2368359562,20),ee,q,A[5],4294588738,4),q=N(q,L,z,ee,A[8],2272392833,11),ee=N(ee,q,L,z,A[11],1839030562,16),z=N(z,ee,q,L,A[14],4259657740,23),L=N(L,z,ee,q,A[1],2763975236,4),q=N(q,L,z,ee,A[4],1272893353,11),ee=N(ee,q,L,z,A[7],4139469664,16),z=N(z,ee,q,L,A[10],3200236656,23),L=N(L,z,ee,q,A[13],681279174,4),q=N(q,L,z,ee,A[0],3936430074,11),ee=N(ee,q,L,z,A[3],3572445317,16),z=N(z,ee,q,L,A[6],76029189,23),L=N(L,z,ee,q,A[9],3654602809,4),q=N(q,L,z,ee,A[12],3873151461,11),ee=N(ee,q,L,z,A[15],530742520,16),L=U(L,z=N(z,ee,q,L,A[2],3299628645,23),ee,q,A[0],4096336452,6),q=U(q,L,z,ee,A[7],1126891415,10),ee=U(ee,q,L,z,A[14],2878612391,15),z=U(z,ee,q,L,A[5],4237533241,21),L=U(L,z,ee,q,A[12],1700485571,6),q=U(q,L,z,ee,A[3],2399980690,10),ee=U(ee,q,L,z,A[10],4293915773,15),z=U(z,ee,q,L,A[1],2240044497,21),L=U(L,z,ee,q,A[8],1873313359,6),q=U(q,L,z,ee,A[15],4264355552,10),ee=U(ee,q,L,z,A[6],2734768916,15),z=U(z,ee,q,L,A[13],1309151649,21),L=U(L,z,ee,q,A[4],4149444226,6),q=U(q,L,z,ee,A[11],3174756917,10),ee=U(ee,q,L,z,A[2],718787259,15),z=U(z,ee,q,L,A[9],3951481745,21),this._a=this._a+L|0,this._b=this._b+z|0,this._c=this._c+ee|0,this._d=this._d+q|0},w.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=P.allocUnsafe(16);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A},Je.exports=w},53459:(Je,j,_)=>{var y=_(57223),b=_(35294);function P(H){this.rand=H||new b.Rand}Je.exports=P,P.create=function(w){return new P(w)},P.prototype._randbelow=function(w){var O=w.bitLength(),S=Math.ceil(O/8);do{var B=new y(this.rand.generate(S))}while(B.cmp(w)>=0);return B},P.prototype._randrange=function(w,O){var S=O.sub(w);return w.add(this._randbelow(S))},P.prototype.test=function(w,O,S){var B=w.bitLength(),N=y.mont(w),U=new y(1).toRed(N);O||(O=Math.max(1,B/48|0));for(var A=w.subn(1),G=0;!A.testn(G);G++);for(var L=w.shrn(G),z=A.toRed(N);O>0;O--){var q=this._randrange(new y(2),A);S&&S(q);var Z=q.toRed(N).redPow(L);if(0!==Z.cmp(U)&&0!==Z.cmp(z)){for(var J=1;J<G;J++){if(0===(Z=Z.redSqr()).cmp(U))return!1;if(0===Z.cmp(z))break}if(J===G)return!1}}return!0},P.prototype.getDivisor=function(w,O){var S=w.bitLength(),B=y.mont(w),N=new y(1).toRed(B);O||(O=Math.max(1,S/48|0));for(var U=w.subn(1),A=0;!U.testn(A);A++);for(var G=w.shrn(A),L=U.toRed(B);O>0;O--){var z=this._randrange(new y(2),U),ee=w.gcd(z);if(0!==ee.cmpn(1))return ee;var q=z.toRed(B).redPow(G);if(0!==q.cmp(N)&&0!==q.cmp(L)){for(var Z=1;Z<A;Z++){if(0===(q=q.redSqr()).cmp(N))return q.fromRed().subn(1).gcd(w);if(0===q.cmp(L))break}if(Z===A)return(q=q.redSqr()).fromRed().subn(1).gcd(w)}}return!1}},57223:function(Je,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(64688).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],Ce=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],be=8191&Fe,Ae=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],ue=8191&ne,De=ne>>>13,Be=0|p[6],Qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],vn=8191&rn,un=rn>>>13,sr=0|E[3],Cn=8191&sr,cn=sr>>>13,qt=0|E[4],bt=8191&qt,ut=qt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,ur=0|E[6],yt=8191&ur,_t=ur>>>13,xt=0|E[7],qe=8191&xt,tt=xt>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,zn=0|E[9],wn=8191&zn,Tn=zn>>>13;m.negative=a.negative^d.negative,m.length=19;var vr=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(vr>>>26)|0,vr&=67108863,x=Math.imul(Ce,Ne),s=(s=Math.imul(Ce,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var ir=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(Ce,It)|0,s=(s=s+Math.imul(Ce,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,vn)|0)|0)+((8191&(s=(s=s+Math.imul(F,un)|0)+Math.imul(Q,vn)|0))<<13)|0;R=((v=v+Math.imul(Q,un)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(be,Ne),s=(s=Math.imul(be,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(Ce,vn)|0,s=(s=s+Math.imul(Ce,un)|0)+Math.imul(Re,vn)|0,v=v+Math.imul(Re,un)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(be,It)|0,s=(s=s+Math.imul(be,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(Ee,vn)|0,s=(s=s+Math.imul(Ee,un)|0)+Math.imul(_e,vn)|0,v=v+Math.imul(_e,un)|0,x=x+Math.imul(Ce,Cn)|0,s=(s=s+Math.imul(Ce,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,bt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,bt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(ue,Ne),s=(s=Math.imul(ue,lt))+Math.imul(De,Ne)|0,v=Math.imul(De,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(be,vn)|0,s=(s=s+Math.imul(be,un)|0)+Math.imul(Ae,vn)|0,v=v+Math.imul(Ae,un)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(Ce,bt)|0,s=(s=s+Math.imul(Ce,ut)|0)+Math.imul(Re,bt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(Qe,Ne),s=(s=Math.imul(Qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(ue,It)|0,s=(s=s+Math.imul(ue,Kt)|0)+Math.imul(De,It)|0,v=v+Math.imul(De,Kt)|0,x=x+Math.imul(me,vn)|0,s=(s=s+Math.imul(me,un)|0)+Math.imul(te,vn)|0,v=v+Math.imul(te,un)|0,x=x+Math.imul(be,Cn)|0,s=(s=s+Math.imul(be,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(Ee,bt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,bt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(Ce,nn)|0,s=(s=s+Math.imul(Ce,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,_t)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,_t)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(Qe,It)|0,s=(s=s+Math.imul(Qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(ue,vn)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(De,vn)|0,v=v+Math.imul(De,un)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(be,bt)|0,s=(s=s+Math.imul(be,ut)|0)+Math.imul(Ae,bt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(Ce,yt)|0,s=(s=s+Math.imul(Ce,_t)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,_t)|0;var Zt=(R+(x=x+Math.imul(F,qe)|0)|0)+((8191&(s=(s=s+Math.imul(F,tt)|0)+Math.imul(Q,qe)|0))<<13)|0;R=((v=v+Math.imul(Q,tt)|0)+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(Qe,vn)|0,s=(s=s+Math.imul(Qe,un)|0)+Math.imul(ze,vn)|0,v=v+Math.imul(ze,un)|0,x=x+Math.imul(ue,Cn)|0,s=(s=s+Math.imul(ue,cn)|0)+Math.imul(De,Cn)|0,v=v+Math.imul(De,cn)|0,x=x+Math.imul(me,bt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,bt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(be,nn)|0,s=(s=s+Math.imul(be,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,_t)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,_t)|0,x=x+Math.imul(Ce,qe)|0,s=(s=s+Math.imul(Ce,tt)|0)+Math.imul(Re,qe)|0,v=v+Math.imul(Re,tt)|0;var xn=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(xn>>>26)|0,xn&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,vn)|0,s=(s=s+Math.imul(Xe,un)|0)+Math.imul(Ue,vn)|0,v=v+Math.imul(Ue,un)|0,x=x+Math.imul(Qe,Cn)|0,s=(s=s+Math.imul(Qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(ue,bt)|0,s=(s=s+Math.imul(ue,ut)|0)+Math.imul(De,bt)|0,v=v+Math.imul(De,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(be,yt)|0,s=(s=s+Math.imul(be,_t)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,_t)|0,x=x+Math.imul(Ee,qe)|0,s=(s=s+Math.imul(Ee,tt)|0)+Math.imul(_e,qe)|0,v=v+Math.imul(_e,tt)|0,x=x+Math.imul(Ce,Ft)|0,s=(s=s+Math.imul(Ce,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var Hn=(R+(x=x+Math.imul(F,wn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Tn)|0)+Math.imul(Q,wn)|0))<<13)|0;R=((v=v+Math.imul(Q,Tn)|0)+(s>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,vn)|0,s=(s=s+Math.imul(K,un)|0)+Math.imul(T,vn)|0,v=v+Math.imul(T,un)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(Qe,bt)|0,s=(s=s+Math.imul(Qe,ut)|0)+Math.imul(ze,bt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(ue,nn)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(De,nn)|0,v=v+Math.imul(De,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,_t)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,_t)|0,x=x+Math.imul(be,qe)|0,s=(s=s+Math.imul(be,tt)|0)+Math.imul(Ae,qe)|0,v=v+Math.imul(Ae,tt)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(Ce,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ce,Tn)|0)+Math.imul(Re,wn)|0))<<13)|0;R=((v=v+Math.imul(Re,Tn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,vn),s=(s=Math.imul(Y,un))+Math.imul(pe,vn)|0,v=Math.imul(pe,un),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,bt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,bt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(Qe,nn)|0,s=(s=s+Math.imul(Qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(ue,yt)|0,s=(s=s+Math.imul(ue,_t)|0)+Math.imul(De,yt)|0,v=v+Math.imul(De,_t)|0,x=x+Math.imul(me,qe)|0,s=(s=s+Math.imul(me,tt)|0)+Math.imul(te,qe)|0,v=v+Math.imul(te,tt)|0,x=x+Math.imul(be,Ft)|0,s=(s=s+Math.imul(be,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var hr=(R+(x=x+Math.imul(Ee,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Tn)|0)+Math.imul(_e,wn)|0))<<13)|0;R=((v=v+Math.imul(_e,Tn)|0)+(s>>>13)|0)+(hr>>>26)|0,hr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,bt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,bt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(Qe,yt)|0,s=(s=s+Math.imul(Qe,_t)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,_t)|0,x=x+Math.imul(ue,qe)|0,s=(s=s+Math.imul(ue,tt)|0)+Math.imul(De,qe)|0,v=v+Math.imul(De,tt)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Nr=(R+(x=x+Math.imul(be,wn)|0)|0)+((8191&(s=(s=s+Math.imul(be,Tn)|0)+Math.imul(Ae,wn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Tn)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(Y,bt),s=(s=Math.imul(Y,ut))+Math.imul(pe,bt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,_t)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,_t)|0,x=x+Math.imul(Qe,qe)|0,s=(s=s+Math.imul(Qe,tt)|0)+Math.imul(ze,qe)|0,v=v+Math.imul(ze,tt)|0,x=x+Math.imul(ue,Ft)|0,s=(s=s+Math.imul(ue,mn)|0)+Math.imul(De,Ft)|0,v=v+Math.imul(De,mn)|0;var Cr=(R+(x=x+Math.imul(me,wn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Tn)|0)+Math.imul(te,wn)|0))<<13)|0;R=((v=v+Math.imul(te,Tn)|0)+(s>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,_t)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,_t)|0,x=x+Math.imul(Xe,qe)|0,s=(s=s+Math.imul(Xe,tt)|0)+Math.imul(Ue,qe)|0,v=v+Math.imul(Ue,tt)|0,x=x+Math.imul(Qe,Ft)|0,s=(s=s+Math.imul(Qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Ur=(R+(x=x+Math.imul(ue,wn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,Tn)|0)+Math.imul(De,wn)|0))<<13)|0;R=((v=v+Math.imul(De,Tn)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,_t))+Math.imul(pe,yt)|0,v=Math.imul(pe,_t),x=x+Math.imul(K,qe)|0,s=(s=s+Math.imul(K,tt)|0)+Math.imul(T,qe)|0,v=v+Math.imul(T,tt)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Lr=(R+(x=x+Math.imul(Qe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Qe,Tn)|0)+Math.imul(ze,wn)|0))<<13)|0;R=((v=v+Math.imul(ze,Tn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,qe),s=(s=Math.imul(Y,tt))+Math.imul(pe,qe)|0,v=Math.imul(pe,tt),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var oi=(R+(x=x+Math.imul(Xe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Tn)|0)+Math.imul(Ue,wn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Tn)|0)+(s>>>13)|0)+(oi>>>26)|0,oi&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,wn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Tn)|0)+Math.imul(T,wn)|0))<<13)|0;R=((v=v+Math.imul(T,Tn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var _n=(R+(x=Math.imul(Y,wn))|0)+((8191&(s=(s=Math.imul(Y,Tn))+Math.imul(pe,wn)|0))<<13)|0;return R=((v=Math.imul(pe,Tn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,D[0]=vr,D[1]=ir,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Zt,D[8]=xn,D[9]=Hn,D[10]=er,D[11]=hr,D[12]=Nr,D[13]=Cr,D[14]=Ur,D[15]=Lr,D[16]=oi,D[17]=on,D[18]=_n,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var Ce=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=Ce+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=Ce-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var Ce=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=Ce}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,Ce=0;0!==de.cmp(D);Ce++)de=de.redSqr();P(Ce<Q);var Re=this.pow(v,new w(1).iushln(Q-Ce-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=Ce}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Je=_.nmd(Je),this)},39210:Je=>{function j(_,y){if(!_)throw new Error(y||"Assertion failed")}Je.exports=j,j.equal=function(y,b,P){if(y!=b)throw new Error(P||"Assertion failed: "+y+" != "+b)}},21832:(Je,j)=>{"use strict";var _=j;function b(H){return 1===H.length?"0"+H:H}function P(H){for(var w="",O=0;O<H.length;O++)w+=b(H[O].toString(16));return w}_.toArray=function y(H,w){if(Array.isArray(H))return H.slice();if(!H)return[];var O=[];if("string"!=typeof H){for(var S=0;S<H.length;S++)O[S]=0|H[S];return O}if("hex"===w)for((H=H.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(H="0"+H),S=0;S<H.length;S+=2)O.push(parseInt(H[S]+H[S+1],16));else for(S=0;S<H.length;S++){var B=H.charCodeAt(S),N=B>>8,U=255&B;N?O.push(N,U):O.push(U)}return O},_.zero2=b,_.toHex=P,_.encode=function(w,O){return"hex"===O?P(w):w}},61747:Je=>{"use strict";Je.exports=class extends Error{constructor(_,y){super(_||""),"object"==typeof y&&null!==y&&(y.code&&(this.code=String(y.code)),y.expected&&(this.expected=!0),y.transient&&(this.transient=!0),y.cause&&(this.cause=y.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:(Je,j,_)=>{Je.exports=_(3116)},3116:function(Je,j){!function(_,y){"use strict";var b={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function P(L){if(!Array.isArray(L)&&!ArrayBuffer.isView(L))return!1;for(var z=0;z<L.length;z++)if(!Number.isInteger(L[z])||L[z]<0||L[z]>255)return!1;return!0}function H(L,z){return(65535&L)*z+(((L>>>16)*z&65535)<<16)}function w(L,z){return L<<z|L>>>32-z}function O(L){return L=H(L^=L>>>16,2246822507),(L=H(L^=L>>>13,3266489909))^L>>>16}function S(L,z){var ee=[0,0,0,0];return ee[3]+=(L=[L[0]>>>16,65535&L[0],L[1]>>>16,65535&L[1]])[3]+(z=[z[0]>>>16,65535&z[0],z[1]>>>16,65535&z[1]])[3],ee[2]+=ee[3]>>>16,ee[3]&=65535,ee[2]+=L[2]+z[2],ee[1]+=ee[2]>>>16,ee[2]&=65535,ee[1]+=L[1]+z[1],ee[0]+=ee[1]>>>16,ee[1]&=65535,ee[0]+=L[0]+z[0],ee[0]&=65535,[ee[0]<<16|ee[1],ee[2]<<16|ee[3]]}function B(L,z){var ee=[0,0,0,0];return ee[3]+=(L=[L[0]>>>16,65535&L[0],L[1]>>>16,65535&L[1]])[3]*(z=[z[0]>>>16,65535&z[0],z[1]>>>16,65535&z[1]])[3],ee[2]+=ee[3]>>>16,ee[3]&=65535,ee[2]+=L[2]*z[3],ee[1]+=ee[2]>>>16,ee[2]&=65535,ee[2]+=L[3]*z[2],ee[1]+=ee[2]>>>16,ee[2]&=65535,ee[1]+=L[1]*z[3],ee[0]+=ee[1]>>>16,ee[1]&=65535,ee[1]+=L[2]*z[2],ee[0]+=ee[1]>>>16,ee[1]&=65535,ee[1]+=L[3]*z[1],ee[0]+=ee[1]>>>16,ee[1]&=65535,ee[0]+=L[0]*z[3]+L[1]*z[2]+L[2]*z[1]+L[3]*z[0],ee[0]&=65535,[ee[0]<<16|ee[1],ee[2]<<16|ee[3]]}function N(L,z){return 32==(z%=64)?[L[1],L[0]]:z<32?[L[0]<<z|L[1]>>>32-z,L[1]<<z|L[0]>>>32-z]:[L[1]<<(z-=32)|L[0]>>>32-z,L[0]<<z|L[1]>>>32-z]}function U(L,z){return 0==(z%=64)?L:z<32?[L[0]<<z|L[1]>>>32-z,L[1]<<z]:[L[1]<<z-32,0]}function A(L,z){return[L[0]^z[0],L[1]^z[1]]}function G(L){return L=A(L,[0,L[0]>>>1]),L=A(L=B(L,[4283543511,3981806797]),[0,L[0]>>>1]),A(L=B(L,[3301882366,444984403]),[0,L[0]>>>1])}b.x86.hash32=function(L,z){if(b.inputValidation&&!P(L))return y;for(var ee=L.length%4,q=L.length-ee,Z=z=z||0,J=0,se=3432918353,ce=461845907,ae=0;ae<q;ae+=4)J=H(J=L[ae]|L[ae+1]<<8|L[ae+2]<<16|L[ae+3]<<24,se),J=H(J=w(J,15),ce),Z=H(Z=w(Z^=J,13),5)+3864292196;switch(J=0,ee){case 3:J^=L[ae+2]<<16;case 2:J^=L[ae+1]<<8;case 1:J=H(J^=L[ae],se),Z^=J=H(J=w(J,15),ce)}return(Z=O(Z^=L.length))>>>0},b.x86.hash128=function(L,z){if(b.inputValidation&&!P(L))return y;for(var ee=L.length%16,q=L.length-ee,Z=z=z||0,J=z,se=z,ce=z,ae=0,fe=0,he=0,we=0,Me=597399067,Pe=2869860233,C=951274213,a=2716044179,d=0;d<q;d+=16)fe=L[d+4]|L[d+5]<<8|L[d+6]<<16|L[d+7]<<24,he=L[d+8]|L[d+9]<<8|L[d+10]<<16|L[d+11]<<24,we=L[d+12]|L[d+13]<<8|L[d+14]<<16|L[d+15]<<24,ae=w(ae=H(ae=L[d]|L[d+1]<<8|L[d+2]<<16|L[d+3]<<24,Me),15),Z=w(Z^=ae=H(ae,Pe),19),Z=H(Z+=J,5)+1444728091,fe=w(fe=H(fe,Pe),16),J=w(J^=fe=H(fe,C),17),J=H(J+=se,5)+197830471,he=w(he=H(he,C),17),se=w(se^=he=H(he,a),15),se=H(se+=ce,5)+2530024501,we=w(we=H(we,a),18),ce=w(ce^=we=H(we,Me),13),ce=H(ce+=Z,5)+850148119;switch(ae=0,fe=0,he=0,we=0,ee){case 15:we^=L[d+14]<<16;case 14:we^=L[d+13]<<8;case 13:we=H(we^=L[d+12],a),ce^=we=H(we=w(we,18),Me);case 12:he^=L[d+11]<<24;case 11:he^=L[d+10]<<16;case 10:he^=L[d+9]<<8;case 9:he=H(he^=L[d+8],C),se^=he=H(he=w(he,17),a);case 8:fe^=L[d+7]<<24;case 7:fe^=L[d+6]<<16;case 6:fe^=L[d+5]<<8;case 5:fe=H(fe^=L[d+4],Pe),J^=fe=H(fe=w(fe,16),C);case 4:ae^=L[d+3]<<24;case 3:ae^=L[d+2]<<16;case 2:ae^=L[d+1]<<8;case 1:ae=H(ae^=L[d],Me),Z^=ae=H(ae=w(ae,15),Pe)}return Z^=L.length,Z+=J^=L.length,Z+=se^=L.length,J+=Z+=ce^=L.length,se+=Z,ce+=Z,Z=O(Z),Z+=J=O(J),Z+=se=O(se),J+=Z+=ce=O(ce),se+=Z,ce+=Z,("00000000"+(Z>>>0).toString(16)).slice(-8)+("00000000"+(J>>>0).toString(16)).slice(-8)+("00000000"+(se>>>0).toString(16)).slice(-8)+("00000000"+(ce>>>0).toString(16)).slice(-8)},b.x64.hash128=function(L,z){if(b.inputValidation&&!P(L))return y;for(var ee=L.length%16,q=L.length-ee,Z=[0,z=z||0],J=[0,z],se=[0,0],ce=[0,0],ae=[2277735313,289559509],fe=[1291169091,658871167],he=0;he<q;he+=16)ce=[L[he+12]|L[he+13]<<8|L[he+14]<<16|L[he+15]<<24,L[he+8]|L[he+9]<<8|L[he+10]<<16|L[he+11]<<24],se=N(se=B(se=[L[he+4]|L[he+5]<<8|L[he+6]<<16|L[he+7]<<24,L[he]|L[he+1]<<8|L[he+2]<<16|L[he+3]<<24],ae),31),Z=S(Z=N(Z=A(Z,se=B(se,fe)),27),J),Z=S(B(Z,[0,5]),[0,1390208809]),ce=N(ce=B(ce,fe),33),J=S(J=N(J=A(J,ce=B(ce,ae)),31),Z),J=S(B(J,[0,5]),[0,944331445]);switch(se=[0,0],ce=[0,0],ee){case 15:ce=A(ce,U([0,L[he+14]],48));case 14:ce=A(ce,U([0,L[he+13]],40));case 13:ce=A(ce,U([0,L[he+12]],32));case 12:ce=A(ce,U([0,L[he+11]],24));case 11:ce=A(ce,U([0,L[he+10]],16));case 10:ce=A(ce,U([0,L[he+9]],8));case 9:ce=B(ce=A(ce,[0,L[he+8]]),fe),J=A(J,ce=B(ce=N(ce,33),ae));case 8:se=A(se,U([0,L[he+7]],56));case 7:se=A(se,U([0,L[he+6]],48));case 6:se=A(se,U([0,L[he+5]],40));case 5:se=A(se,U([0,L[he+4]],32));case 4:se=A(se,U([0,L[he+3]],24));case 3:se=A(se,U([0,L[he+2]],16));case 2:se=A(se,U([0,L[he+1]],8));case 1:se=B(se=A(se,[0,L[he]]),ae),Z=A(Z,se=B(se=N(se,31),fe))}return Z=S(Z=A(Z,[0,L.length]),J=A(J,[0,L.length])),J=S(J,Z),Z=S(Z=G(Z),J=G(J)),J=S(J,Z),("00000000"+(Z[0]>>>0).toString(16)).slice(-8)+("00000000"+(Z[1]>>>0).toString(16)).slice(-8)+("00000000"+(J[0]>>>0).toString(16)).slice(-8)+("00000000"+(J[1]>>>0).toString(16)).slice(-8)},Je.exports&&(j=Je.exports=b),j.murmurHash3=b}()},50233:Je=>{"use strict";var j=Object.prototype.hasOwnProperty,_="~";function y(){}function b(O,S,B){this.fn=O,this.context=S,this.once=B||!1}function P(O,S,B,N,U){if("function"!=typeof B)throw new TypeError("The listener must be a function");var A=new b(B,N||O,U),G=_?_+S:S;return O._events[G]?O._events[G].fn?O._events[G]=[O._events[G],A]:O._events[G].push(A):(O._events[G]=A,O._eventsCount++),O}function H(O,S){0==--O._eventsCount?O._events=new y:delete O._events[S]}function w(){this._events=new y,this._eventsCount=0}Object.create&&(y.prototype=Object.create(null),(new y).__proto__||(_=!1)),w.prototype.eventNames=function(){var B,N,S=[];if(0===this._eventsCount)return S;for(N in B=this._events)j.call(B,N)&&S.push(_?N.slice(1):N);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(B)):S},w.prototype.listeners=function(S){var N=this._events[_?_+S:S];if(!N)return[];if(N.fn)return[N.fn];for(var U=0,A=N.length,G=new Array(A);U<A;U++)G[U]=N[U].fn;return G},w.prototype.listenerCount=function(S){var N=this._events[_?_+S:S];return N?N.fn?1:N.length:0},w.prototype.emit=function(S,B,N,U,A,G){var L=_?_+S:S;if(!this._events[L])return!1;var q,Z,z=this._events[L],ee=arguments.length;if(z.fn){switch(z.once&&this.removeListener(S,z.fn,void 0,!0),ee){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,B),!0;case 3:return z.fn.call(z.context,B,N),!0;case 4:return z.fn.call(z.context,B,N,U),!0;case 5:return z.fn.call(z.context,B,N,U,A),!0;case 6:return z.fn.call(z.context,B,N,U,A,G),!0}for(Z=1,q=new Array(ee-1);Z<ee;Z++)q[Z-1]=arguments[Z];z.fn.apply(z.context,q)}else{var se,J=z.length;for(Z=0;Z<J;Z++)switch(z[Z].once&&this.removeListener(S,z[Z].fn,void 0,!0),ee){case 1:z[Z].fn.call(z[Z].context);break;case 2:z[Z].fn.call(z[Z].context,B);break;case 3:z[Z].fn.call(z[Z].context,B,N);break;case 4:z[Z].fn.call(z[Z].context,B,N,U);break;default:if(!q)for(se=1,q=new Array(ee-1);se<ee;se++)q[se-1]=arguments[se];z[Z].fn.apply(z[Z].context,q)}}return!0},w.prototype.on=function(S,B,N){return P(this,S,B,N,!1)},w.prototype.once=function(S,B,N){return P(this,S,B,N,!0)},w.prototype.removeListener=function(S,B,N,U){var A=_?_+S:S;if(!this._events[A])return this;if(!B)return H(this,A),this;var G=this._events[A];if(G.fn)G.fn===B&&(!U||G.once)&&(!N||G.context===N)&&H(this,A);else{for(var L=0,z=[],ee=G.length;L<ee;L++)(G[L].fn!==B||U&&!G[L].once||N&&G[L].context!==N)&&z.push(G[L]);z.length?this._events[A]=1===z.length?z[0]:z:H(this,A)}return this},w.prototype.removeAllListeners=function(S){var B;return S?this._events[B=_?_+S:S]&&H(this,B):(this._events=new y,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=_,w.EventEmitter=w,Je.exports=w},83138:(Je,j,_)=>{"use strict";var y=_(49609);j.certificate=_(94772);var b=y.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});j.RSAPrivateKey=b;var P=y.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});j.RSAPublicKey=P;var H=y.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),w=y.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())});j.PublicKey=w;var O=y.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(H),this.key("subjectPrivateKey").octstr())});j.PrivateKey=O;var S=y.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});j.EncryptedPrivateKey=S;var B=y.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});j.DSAPrivateKey=B,j.DSAparam=y.define("DSAparam",function(){this.int()});var N=y.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),U=y.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(N),this.key("publicKey").optional().explicit(1).bitstr())});j.ECPrivateKey=U,j.signature=y.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:(Je,j,_)=>{"use strict";var y=_(49609),b=y.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),P=y.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),H=y.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),w=y.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())}),O=y.define("RelativeDistinguishedName",function(){this.setof(P)}),S=y.define("RDNSequence",function(){this.seqof(O)}),B=y.define("Name",function(){this.choice({rdnSequence:this.use(S)})}),N=y.define("Validity",function(){this.seq().obj(this.key("notBefore").use(b),this.key("notAfter").use(b))}),U=y.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),A=y.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(H),this.key("issuer").use(B),this.key("validity").use(N),this.key("subject").use(B),this.key("subjectPublicKeyInfo").use(w),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(U).optional())}),G=y.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(A),this.key("signatureAlgorithm").use(H),this.key("signatureValue").bitstr())});Je.exports=G},89472:(Je,j,_)=>{"use strict";var y=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,b=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,P=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,H=_(18211),w=_(43388),O=_(27054).Buffer;Je.exports=function(S,B){var A,N=S.toString(),U=N.match(y);if(U){var L="aes"+U[1],z=O.from(U[2],"hex"),ee=O.from(U[3].replace(/[\r\n]/g,""),"base64"),q=H(B,z.slice(0,8),parseInt(U[1],10)).key,Z=[],J=w.createDecipheriv(L,q,z);Z.push(J.update(ee)),Z.push(J.final()),A=O.concat(Z)}else{var G=N.match(P);A=O.from(G[2].replace(/[\r\n]/g,""),"base64")}return{tag:N.match(b)[1],data:A}}},65667:(Je,j,_)=>{"use strict";var y=_(83138),b=_(15579),P=_(89472),H=_(43388),w=_(93397),O=_(27054).Buffer;function B(N){var U;"object"==typeof N&&!O.isBuffer(N)&&(U=N.passphrase,N=N.key),"string"==typeof N&&(N=O.from(N));var z,ee,A=P(N,U),G=A.tag,L=A.data;switch(G){case"CERTIFICATE":ee=y.certificate.decode(L,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(ee||(ee=y.PublicKey.decode(L,"der")),z=ee.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return y.RSAPublicKey.decode(ee.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ee.subjectPrivateKey=ee.subjectPublicKey,{type:"ec",data:ee};case"1.2.840.10040.4.1":return ee.algorithm.params.pub_key=y.DSAparam.decode(ee.subjectPublicKey.data,"der"),{type:"dsa",data:ee.algorithm.params};default:throw new Error("unknown key id "+z)}case"ENCRYPTED PRIVATE KEY":L=function S(N,U){var A=N.algorithm.decrypt.kde.kdeparams.salt,G=parseInt(N.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=b[N.algorithm.decrypt.cipher.algo.join(".")],z=N.algorithm.decrypt.cipher.iv,ee=N.subjectPrivateKey,q=parseInt(L.split("-")[1],10)/8,Z=w.pbkdf2Sync(U,A,G,q,"sha1"),J=H.createDecipheriv(L,Z,z),se=[];return se.push(J.update(ee)),se.push(J.final()),O.concat(se)}(L=y.EncryptedPrivateKey.decode(L,"der"),U);case"PRIVATE KEY":switch(z=(ee=y.PrivateKey.decode(L,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return y.RSAPrivateKey.decode(ee.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ee.algorithm.curve,privateKey:y.ECPrivateKey.decode(ee.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ee.algorithm.params.priv_key=y.DSAparam.decode(ee.subjectPrivateKey,"der"),{type:"dsa",params:ee.algorithm.params};default:throw new Error("unknown key id "+z)}case"RSA PUBLIC KEY":return y.RSAPublicKey.decode(L,"der");case"RSA PRIVATE KEY":return y.RSAPrivateKey.decode(L,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:y.DSAPrivateKey.decode(L,"der")};case"EC PRIVATE KEY":return{curve:(L=y.ECPrivateKey.decode(L,"der")).parameters.value,privateKey:L.privateKey};default:throw new Error("unknown key type "+G)}}B.signature=y.signature,Je.exports=B},93397:(Je,j,_)=>{j.pbkdf2=_(82685),j.pbkdf2Sync=_(59111)},82685:(Je,j,_)=>{var O,A,y=_(27054).Buffer,b=_(86111),P=_(45392),H=_(59111),w=_(76643),S=globalThis.crypto&&globalThis.crypto.subtle,B={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},N=[];function G(){return A||(A=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function L(ee,q,Z,J,se){return S.importKey("raw",ee,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ce){return S.deriveBits({name:"PBKDF2",salt:q,iterations:Z,hash:{name:se}},ce,J<<3)}).then(function(ce){return y.from(ce)})}Je.exports=function(ee,q,Z,J,se,ce){"function"==typeof se&&(ce=se,se=void 0);var ae=B[(se=se||"sha1").toLowerCase()];if(ae&&"function"==typeof globalThis.Promise){if(b(Z,J),ee=w(ee,P,"Password"),q=w(q,P,"Salt"),"function"!=typeof ce)throw new Error("No callback provided to pbkdf2");!function z(ee,q){ee.then(function(Z){G()(function(){q(null,Z)})},function(Z){G()(function(){q(Z)})})}(function U(ee){if(globalThis.process&&!globalThis.process.browser||!S||!S.importKey||!S.deriveBits)return Promise.resolve(!1);if(void 0!==N[ee])return N[ee];var q=L(O=O||y.alloc(8),O,10,128,ee).then(function(){return!0}).catch(function(){return!1});return N[ee]=q,q}(ae).then(function(fe){return fe?L(ee,q,Z,J,ae):H(ee,q,Z,J,se)}),ce)}else G()(function(){var fe;try{fe=H(ee,q,Z,J,se)}catch(he){return ce(he)}ce(null,fe)})}},45392:(Je,j,_)=>{var b,y=_(40573);b=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(y.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",Je.exports=b},86111:Je=>{var j=Math.pow(2,30)-1;Je.exports=function(_,y){if("number"!=typeof _)throw new TypeError("Iterations not a number");if(_<0)throw new TypeError("Bad iterations");if("number"!=typeof y)throw new TypeError("Key length not a number");if(y<0||y>j||y!=y)throw new TypeError("Bad key length")}},59111:(Je,j,_)=>{var y=_(83407),b=_(36636),P=_(25443),H=_(27054).Buffer,w=_(86111),O=_(45392),S=_(76643),B=H.alloc(128),N={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function U(L,z,ee){var q=function A(L){return"rmd160"===L||"ripemd160"===L?function ee(q){return(new b).update(q).digest()}:"md5"===L?y:function z(q){return P(L).update(q).digest()}}(L),Z="sha512"===L||"sha384"===L?128:64;z.length>Z?z=q(z):z.length<Z&&(z=H.concat([z,B],Z));for(var J=H.allocUnsafe(Z+N[L]),se=H.allocUnsafe(Z+N[L]),ce=0;ce<Z;ce++)J[ce]=54^z[ce],se[ce]=92^z[ce];var ae=H.allocUnsafe(Z+ee+4);J.copy(ae,0,0,Z),this.ipad1=ae,this.ipad2=J,this.opad=se,this.alg=L,this.blocksize=Z,this.hash=q,this.size=N[L]}U.prototype.run=function(L,z){return L.copy(z,this.blocksize),this.hash(z).copy(this.opad,this.blocksize),this.hash(this.opad)},Je.exports=function G(L,z,ee,q,Z){w(ee,q);var J=new U(Z=Z||"sha1",L=S(L,O,"Password"),(z=S(z,O,"Salt")).length),se=H.allocUnsafe(q),ce=H.allocUnsafe(z.length+4);z.copy(ce,0,0,z.length);for(var ae=0,fe=N[Z],he=Math.ceil(q/fe),we=1;we<=he;we++){ce.writeUInt32BE(we,z.length);for(var Me=J.run(ce,J.ipad1),Pe=Me,C=1;C<ee;C++){Pe=J.run(Pe,J.ipad2);for(var a=0;a<fe;a++)Me[a]^=Pe[a]}Me.copy(se,ae),ae+=fe}return se}},76643:(Je,j,_)=>{var y=_(27054).Buffer;Je.exports=function(b,P,H){if(y.isBuffer(b))return b;if("string"==typeof b)return y.from(b,P);if(ArrayBuffer.isView(b))return y.from(b.buffer);throw new TypeError(H+" must be a string, a Buffer, a typed array or a DataView")}},9656:(Je,j,_)=>{"use strict";var y=_(40573);Je.exports=typeof y>"u"||!y.version||0===y.version.indexOf("v0.")||0===y.version.indexOf("v1.")&&0!==y.version.indexOf("v1.8.")?{nextTick:function b(P,H,w,O){if("function"!=typeof P)throw new TypeError('"callback" argument must be a function');var B,N,S=arguments.length;switch(S){case 0:case 1:return y.nextTick(P);case 2:return y.nextTick(function(){P.call(null,H)});case 3:return y.nextTick(function(){P.call(null,H,w)});case 4:return y.nextTick(function(){P.call(null,H,w,O)});default:for(B=new Array(S-1),N=0;N<B.length;)B[N++]=arguments[N];return y.nextTick(function(){P.apply(null,B)})}}}:y},40573:Je=>{var _,y,j=Je.exports={};function b(){throw new Error("setTimeout has not been defined")}function P(){throw new Error("clearTimeout has not been defined")}function H(z){if(_===setTimeout)return setTimeout(z,0);if((_===b||!_)&&setTimeout)return _=setTimeout,setTimeout(z,0);try{return _(z,0)}catch{try{return _.call(null,z,0)}catch{return _.call(this,z,0)}}}!function(){try{_="function"==typeof setTimeout?setTimeout:b}catch{_=b}try{y="function"==typeof clearTimeout?clearTimeout:P}catch{y=P}}();var B,O=[],S=!1,N=-1;function U(){!S||!B||(S=!1,B.length?O=B.concat(O):N=-1,O.length&&A())}function A(){if(!S){var z=H(U);S=!0;for(var ee=O.length;ee;){for(B=O,O=[];++N<ee;)B&&B[N].run();N=-1,ee=O.length}B=null,S=!1,function w(z){if(y===clearTimeout)return clearTimeout(z);if((y===P||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(z);try{return y(z)}catch{try{return y.call(null,z)}catch{return y.call(this,z)}}}(z)}}function G(z,ee){this.fun=z,this.array=ee}function L(){}j.nextTick=function(z){var ee=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)ee[q-1]=arguments[q];O.push(new G(z,ee)),1===O.length&&!S&&H(A)},G.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=L,j.addListener=L,j.once=L,j.off=L,j.removeListener=L,j.removeAllListeners=L,j.emit=L,j.prependListener=L,j.prependOnceListener=L,j.listeners=function(z){return[]},j.binding=function(z){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(z){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},52965:(Je,j,_)=>{j.publicEncrypt=_(87267),j.privateDecrypt=_(98613),j.privateEncrypt=function(b,P){return j.publicEncrypt(b,P,!0)},j.publicDecrypt=function(b,P){return j.privateDecrypt(b,P,!0)}},30715:(Je,j,_)=>{var y=_(67211),b=_(27054).Buffer;function P(H){var w=b.allocUnsafe(4);return w.writeUInt32BE(H,0),w}Je.exports=function(H,w){for(var B,O=b.alloc(0),S=0;O.length<w;)B=P(S++),O=b.concat([O,y("sha1").update(H).update(B).digest()]);return O.slice(0,w)}},16508:function(Je,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(51069).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],Ce=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],be=8191&Fe,Ae=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],ue=8191&ne,De=ne>>>13,Be=0|p[6],Qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],vn=8191&rn,un=rn>>>13,sr=0|E[3],Cn=8191&sr,cn=sr>>>13,qt=0|E[4],bt=8191&qt,ut=qt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,ur=0|E[6],yt=8191&ur,_t=ur>>>13,xt=0|E[7],qe=8191&xt,tt=xt>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,zn=0|E[9],wn=8191&zn,Tn=zn>>>13;m.negative=a.negative^d.negative,m.length=19;var vr=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(vr>>>26)|0,vr&=67108863,x=Math.imul(Ce,Ne),s=(s=Math.imul(Ce,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var ir=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(Ce,It)|0,s=(s=s+Math.imul(Ce,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,vn)|0)|0)+((8191&(s=(s=s+Math.imul(F,un)|0)+Math.imul(Q,vn)|0))<<13)|0;R=((v=v+Math.imul(Q,un)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(be,Ne),s=(s=Math.imul(be,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(Ce,vn)|0,s=(s=s+Math.imul(Ce,un)|0)+Math.imul(Re,vn)|0,v=v+Math.imul(Re,un)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(be,It)|0,s=(s=s+Math.imul(be,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(Ee,vn)|0,s=(s=s+Math.imul(Ee,un)|0)+Math.imul(_e,vn)|0,v=v+Math.imul(_e,un)|0,x=x+Math.imul(Ce,Cn)|0,s=(s=s+Math.imul(Ce,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,bt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,bt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(ue,Ne),s=(s=Math.imul(ue,lt))+Math.imul(De,Ne)|0,v=Math.imul(De,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(be,vn)|0,s=(s=s+Math.imul(be,un)|0)+Math.imul(Ae,vn)|0,v=v+Math.imul(Ae,un)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(Ce,bt)|0,s=(s=s+Math.imul(Ce,ut)|0)+Math.imul(Re,bt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(Qe,Ne),s=(s=Math.imul(Qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(ue,It)|0,s=(s=s+Math.imul(ue,Kt)|0)+Math.imul(De,It)|0,v=v+Math.imul(De,Kt)|0,x=x+Math.imul(me,vn)|0,s=(s=s+Math.imul(me,un)|0)+Math.imul(te,vn)|0,v=v+Math.imul(te,un)|0,x=x+Math.imul(be,Cn)|0,s=(s=s+Math.imul(be,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(Ee,bt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,bt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(Ce,nn)|0,s=(s=s+Math.imul(Ce,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,_t)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,_t)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(Qe,It)|0,s=(s=s+Math.imul(Qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(ue,vn)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(De,vn)|0,v=v+Math.imul(De,un)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(be,bt)|0,s=(s=s+Math.imul(be,ut)|0)+Math.imul(Ae,bt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(Ce,yt)|0,s=(s=s+Math.imul(Ce,_t)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,_t)|0;var Zt=(R+(x=x+Math.imul(F,qe)|0)|0)+((8191&(s=(s=s+Math.imul(F,tt)|0)+Math.imul(Q,qe)|0))<<13)|0;R=((v=v+Math.imul(Q,tt)|0)+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(Qe,vn)|0,s=(s=s+Math.imul(Qe,un)|0)+Math.imul(ze,vn)|0,v=v+Math.imul(ze,un)|0,x=x+Math.imul(ue,Cn)|0,s=(s=s+Math.imul(ue,cn)|0)+Math.imul(De,Cn)|0,v=v+Math.imul(De,cn)|0,x=x+Math.imul(me,bt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,bt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(be,nn)|0,s=(s=s+Math.imul(be,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,_t)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,_t)|0,x=x+Math.imul(Ce,qe)|0,s=(s=s+Math.imul(Ce,tt)|0)+Math.imul(Re,qe)|0,v=v+Math.imul(Re,tt)|0;var xn=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(xn>>>26)|0,xn&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,vn)|0,s=(s=s+Math.imul(Xe,un)|0)+Math.imul(Ue,vn)|0,v=v+Math.imul(Ue,un)|0,x=x+Math.imul(Qe,Cn)|0,s=(s=s+Math.imul(Qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(ue,bt)|0,s=(s=s+Math.imul(ue,ut)|0)+Math.imul(De,bt)|0,v=v+Math.imul(De,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(be,yt)|0,s=(s=s+Math.imul(be,_t)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,_t)|0,x=x+Math.imul(Ee,qe)|0,s=(s=s+Math.imul(Ee,tt)|0)+Math.imul(_e,qe)|0,v=v+Math.imul(_e,tt)|0,x=x+Math.imul(Ce,Ft)|0,s=(s=s+Math.imul(Ce,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var Hn=(R+(x=x+Math.imul(F,wn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Tn)|0)+Math.imul(Q,wn)|0))<<13)|0;R=((v=v+Math.imul(Q,Tn)|0)+(s>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,vn)|0,s=(s=s+Math.imul(K,un)|0)+Math.imul(T,vn)|0,v=v+Math.imul(T,un)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(Qe,bt)|0,s=(s=s+Math.imul(Qe,ut)|0)+Math.imul(ze,bt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(ue,nn)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(De,nn)|0,v=v+Math.imul(De,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,_t)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,_t)|0,x=x+Math.imul(be,qe)|0,s=(s=s+Math.imul(be,tt)|0)+Math.imul(Ae,qe)|0,v=v+Math.imul(Ae,tt)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(Ce,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ce,Tn)|0)+Math.imul(Re,wn)|0))<<13)|0;R=((v=v+Math.imul(Re,Tn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,vn),s=(s=Math.imul(Y,un))+Math.imul(pe,vn)|0,v=Math.imul(pe,un),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,bt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,bt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(Qe,nn)|0,s=(s=s+Math.imul(Qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(ue,yt)|0,s=(s=s+Math.imul(ue,_t)|0)+Math.imul(De,yt)|0,v=v+Math.imul(De,_t)|0,x=x+Math.imul(me,qe)|0,s=(s=s+Math.imul(me,tt)|0)+Math.imul(te,qe)|0,v=v+Math.imul(te,tt)|0,x=x+Math.imul(be,Ft)|0,s=(s=s+Math.imul(be,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var hr=(R+(x=x+Math.imul(Ee,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Tn)|0)+Math.imul(_e,wn)|0))<<13)|0;R=((v=v+Math.imul(_e,Tn)|0)+(s>>>13)|0)+(hr>>>26)|0,hr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,bt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,bt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(Qe,yt)|0,s=(s=s+Math.imul(Qe,_t)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,_t)|0,x=x+Math.imul(ue,qe)|0,s=(s=s+Math.imul(ue,tt)|0)+Math.imul(De,qe)|0,v=v+Math.imul(De,tt)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Nr=(R+(x=x+Math.imul(be,wn)|0)|0)+((8191&(s=(s=s+Math.imul(be,Tn)|0)+Math.imul(Ae,wn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Tn)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(Y,bt),s=(s=Math.imul(Y,ut))+Math.imul(pe,bt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,_t)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,_t)|0,x=x+Math.imul(Qe,qe)|0,s=(s=s+Math.imul(Qe,tt)|0)+Math.imul(ze,qe)|0,v=v+Math.imul(ze,tt)|0,x=x+Math.imul(ue,Ft)|0,s=(s=s+Math.imul(ue,mn)|0)+Math.imul(De,Ft)|0,v=v+Math.imul(De,mn)|0;var Cr=(R+(x=x+Math.imul(me,wn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Tn)|0)+Math.imul(te,wn)|0))<<13)|0;R=((v=v+Math.imul(te,Tn)|0)+(s>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,_t)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,_t)|0,x=x+Math.imul(Xe,qe)|0,s=(s=s+Math.imul(Xe,tt)|0)+Math.imul(Ue,qe)|0,v=v+Math.imul(Ue,tt)|0,x=x+Math.imul(Qe,Ft)|0,s=(s=s+Math.imul(Qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Ur=(R+(x=x+Math.imul(ue,wn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,Tn)|0)+Math.imul(De,wn)|0))<<13)|0;R=((v=v+Math.imul(De,Tn)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,_t))+Math.imul(pe,yt)|0,v=Math.imul(pe,_t),x=x+Math.imul(K,qe)|0,s=(s=s+Math.imul(K,tt)|0)+Math.imul(T,qe)|0,v=v+Math.imul(T,tt)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Lr=(R+(x=x+Math.imul(Qe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Qe,Tn)|0)+Math.imul(ze,wn)|0))<<13)|0;R=((v=v+Math.imul(ze,Tn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,qe),s=(s=Math.imul(Y,tt))+Math.imul(pe,qe)|0,v=Math.imul(pe,tt),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var oi=(R+(x=x+Math.imul(Xe,wn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Tn)|0)+Math.imul(Ue,wn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Tn)|0)+(s>>>13)|0)+(oi>>>26)|0,oi&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,wn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Tn)|0)+Math.imul(T,wn)|0))<<13)|0;R=((v=v+Math.imul(T,Tn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var _n=(R+(x=Math.imul(Y,wn))|0)+((8191&(s=(s=Math.imul(Y,Tn))+Math.imul(pe,wn)|0))<<13)|0;return R=((v=Math.imul(pe,Tn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,D[0]=vr,D[1]=ir,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Zt,D[8]=xn,D[9]=Hn,D[10]=er,D[11]=hr,D[12]=Nr,D[13]=Cr,D[14]=Ur,D[15]=Lr,D[16]=oi,D[17]=on,D[18]=_n,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var Ce=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=Ce+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=Ce-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var Ce=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=Ce}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,Ce=0;0!==de.cmp(D);Ce++)de=de.redSqr();P(Ce<Q);var Re=this.pow(v,new w(1).iushln(Q-Ce-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=Ce}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Je=_.nmd(Je),this)},98613:(Je,j,_)=>{var y=_(65667),b=_(30715),P=_(37196),H=_(16508),w=_(14105),O=_(67211),S=_(10568),B=_(27054).Buffer;Je.exports=function(L,z,ee){var q;q=L.padding?L.padding:ee?1:4;var se,Z=y(L),J=Z.modulus.byteLength();if(z.length>J||new H(z).cmp(Z.modulus)>=0)throw new Error("decryption error");se=ee?S(new H(z),Z):w(z,Z);var ce=B.alloc(J-se.length);if(se=B.concat([ce,se],J),4===q)return function N(G,L){var z=G.modulus.byteLength(),ee=O("sha1").update(B.alloc(0)).digest(),q=ee.length;if(0!==L[0])throw new Error("decryption error");var Z=L.slice(1,q+1),J=L.slice(q+1),se=P(Z,b(J,q)),ce=P(J,b(se,z-q-1));if(function A(G,L){G=B.from(G),L=B.from(L);var z=0,ee=G.length;G.length!==L.length&&(z++,ee=Math.min(G.length,L.length));for(var q=-1;++q<ee;)z+=G[q]^L[q];return z}(ee,ce.slice(0,q)))throw new Error("decryption error");for(var ae=q;0===ce[ae];)ae++;if(1!==ce[ae++])throw new Error("decryption error");return ce.slice(ae)}(Z,se);if(1===q)return function U(G,L,z){for(var ee=L.slice(0,2),q=2,Z=0;0!==L[q++];)if(q>=L.length){Z++;break}var J=L.slice(2,q-1);if(("0002"!==ee.toString("hex")&&!z||"0001"!==ee.toString("hex")&&z)&&Z++,J.length<8&&Z++,Z)throw new Error("decryption error");return L.slice(q)}(0,se,ee);if(3===q)return se;throw new Error("unknown padding")}},87267:(Je,j,_)=>{var y=_(65667),b=_(3342),P=_(67211),H=_(30715),w=_(37196),O=_(16508),S=_(10568),B=_(14105),N=_(27054).Buffer;Je.exports=function(z,ee,q){var Z;Z=z.padding?z.padding:q?1:4;var se,J=y(z);if(4===Z)se=function U(L,z){var ee=L.modulus.byteLength(),q=z.length,Z=P("sha1").update(N.alloc(0)).digest(),J=Z.length,se=2*J;if(q>ee-se-2)throw new Error("message too long");var ce=N.alloc(ee-q-se-2),ae=ee-J-1,fe=b(J),he=w(N.concat([Z,ce,N.alloc(1,1),z],ae),H(fe,ae)),we=w(fe,H(he,J));return new O(N.concat([N.alloc(1),we,he],ee))}(J,ee);else if(1===Z)se=function A(L,z,ee){var J,q=z.length,Z=L.modulus.byteLength();if(q>Z-11)throw new Error("message too long");return J=ee?N.alloc(Z-q-3,255):function G(L){for(var J,z=N.allocUnsafe(L),ee=0,q=b(2*L),Z=0;ee<L;)Z===q.length&&(q=b(2*L),Z=0),(J=q[Z++])&&(z[ee++]=J);return z}(Z-q-3),new O(N.concat([N.from([0,ee?1:2]),J,N.alloc(1),z],Z))}(J,ee,q);else{if(3!==Z)throw new Error("unknown padding");if((se=new O(ee)).cmp(J.modulus)>=0)throw new Error("data too long for modulus")}return q?B(se,J):S(se,J)}},10568:(Je,j,_)=>{var y=_(16508),b=_(27054).Buffer;Je.exports=function P(H,w){return b.from(H.toRed(y.mont(w.modulus)).redPow(new y(w.publicExponent)).fromRed().toArray())}},37196:Je=>{Je.exports=function(_,y){for(var b=_.length,P=-1;++P<b;)_[P]^=y[P];return _}},24515:Je=>{let j;Je.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):_=>(j||(j=Promise.resolve())).then(_).catch(y=>setTimeout(()=>{throw y},0))},3342:(Je,j,_)=>{"use strict";var y=_(40573),b=65536,w=_(27054).Buffer,O=globalThis.crypto||globalThis.msCrypto;Je.exports=O&&O.getRandomValues?function S(B,N){if(B>4294967295)throw new RangeError("requested too many random bytes");var U=w.allocUnsafe(B);if(B>0)if(B>b)for(var A=0;A<B;A+=b)O.getRandomValues(U.slice(A,A+b));else O.getRandomValues(U);return"function"==typeof N?y.nextTick(function(){N(null,U)}):U}:function H(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:(Je,j,_)=>{"use strict";var y=_(40573);function b(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var P=_(27054),H=_(3342),w=P.Buffer,O=P.kMaxLength,S=globalThis.crypto||globalThis.msCrypto,B=Math.pow(2,32)-1;function N(z,ee){if("number"!=typeof z||z!=z)throw new TypeError("offset must be a number");if(z>B||z<0)throw new TypeError("offset must be a uint32");if(z>O||z>ee)throw new RangeError("offset out of range")}function U(z,ee,q){if("number"!=typeof z||z!=z)throw new TypeError("size must be a number");if(z>B||z<0)throw new TypeError("size must be a uint32");if(z+ee>q||z>O)throw new RangeError("buffer too small")}function G(z,ee,q,Z){if(y.browser){var se=new Uint8Array(z.buffer,ee,q);return S.getRandomValues(se),Z?void y.nextTick(function(){Z(null,z)}):z}if(!Z)return H(q).copy(z,ee),z;H(q,function(ae,fe){if(ae)return Z(ae);fe.copy(z,ee),Z(null,z)})}S&&S.getRandomValues||!y.browser?(j.randomFill=function A(z,ee,q,Z){if(!(w.isBuffer(z)||z instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof ee)Z=ee,ee=0,q=z.length;else if("function"==typeof q)Z=q,q=z.length-ee;else if("function"!=typeof Z)throw new TypeError('"cb" argument must be a function');return N(ee,z.length),U(q,ee,z.length),G(z,ee,q,Z)},j.randomFillSync=function L(z,ee,q){if(typeof ee>"u"&&(ee=0),!(w.isBuffer(z)||z instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return N(ee,z.length),void 0===q&&(q=z.length-ee),U(q,ee,z.length),G(z,ee,q)}):(j.randomFill=b,j.randomFillSync=b)},26113:Je=>{"use strict";var _={};function y(O,S,B){B||(B=Error);var U=function(A){function G(L,z,ee){return A.call(this,function N(A,G,L){return"string"==typeof S?S:S(A,G,L)}(L,z,ee))||this}return function j(O,S){O.prototype=Object.create(S.prototype),O.prototype.constructor=O,O.__proto__=S}(G,A),G}(B);U.prototype.name=B.name,U.prototype.code=O,_[O]=U}function b(O,S){if(Array.isArray(O)){var B=O.length;return O=O.map(function(N){return String(N)}),B>2?"one of ".concat(S," ").concat(O.slice(0,B-1).join(", "),", or ")+O[B-1]:2===B?"one of ".concat(S," ").concat(O[0]," or ").concat(O[1]):"of ".concat(S," ").concat(O[0])}return"of ".concat(S," ").concat(String(O))}y("ERR_INVALID_OPT_VALUE",function(O,S){return'The value "'+S+'" is invalid for option "'+O+'"'},TypeError),y("ERR_INVALID_ARG_TYPE",function(O,S,B){var N,U;if("string"==typeof S&&function P(O,S,B){return O.substr(!B||B<0?0:+B,S.length)===S}(S,"not ")?(N="must not be",S=S.replace(/^not /,"")):N="must be",function H(O,S,B){return(void 0===B||B>O.length)&&(B=O.length),O.substring(B-S.length,B)===S}(O," argument"))U="The ".concat(O," ").concat(N," ").concat(b(S,"type"));else{var A=function w(O,S,B){return"number"!=typeof B&&(B=0),!(B+S.length>O.length)&&-1!==O.indexOf(S,B)}(O,".")?"property":"argument";U='The "'.concat(O,'" ').concat(A," ").concat(N," ").concat(b(S,"type"))}return U+". Received type ".concat(typeof B)},TypeError),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),y("ERR_METHOD_NOT_IMPLEMENTED",function(O){return"The "+O+" method is not implemented"}),y("ERR_STREAM_PREMATURE_CLOSE","Premature close"),y("ERR_STREAM_DESTROYED",function(O){return"Cannot call "+O+" after a stream was destroyed"}),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),y("ERR_STREAM_WRITE_AFTER_END","write after end"),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_UNKNOWN_ENCODING",function(O){return"Unknown encoding: "+O},TypeError),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Je.exports.F=_},74075:(Je,j,_)=>{"use strict";var y=_(40573),b=Object.keys||function(A){var G=[];for(var L in A)G.push(L);return G};Je.exports=B;var P=_(19609),H=_(47849);_(71993)(B,P);for(var w=b(H.prototype),O=0;O<w.length;O++){var S=w[O];B.prototype[S]||(B.prototype[S]=H.prototype[S])}function B(A){if(!(this instanceof B))return new B(A);P.call(this,A),H.call(this,A),this.allowHalfOpen=!0,A&&(!1===A.readable&&(this.readable=!1),!1===A.writable&&(this.writable=!1),!1===A.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",N)))}function N(){this._writableState.ended||y.nextTick(U,this)}function U(A){A.end()}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(G){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=G,this._writableState.destroyed=G)}})},18823:(Je,j,_)=>{"use strict";Je.exports=b;var y=_(2909);function b(P){if(!(this instanceof b))return new b(P);y.call(this,P)}_(71993)(b,y),b.prototype._transform=function(P,H,w){w(null,P)}},19609:(Je,j,_)=>{"use strict";var b,y=_(40573);Je.exports=a,a.ReadableState=C,_(44356);var A,H=function(me,te){return me.listeners(te).length},w=_(18342),O=_(83838).Buffer,S=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},U=_(79838);A=U&&U.debuglog?U.debuglog("stream"):function(){};var ae,fe,he,G=_(19588),L=_(21509),ee=_(42934).getHighWaterMark,q=_(26113).F,Z=q.ERR_INVALID_ARG_TYPE,J=q.ERR_STREAM_PUSH_AFTER_EOF,se=q.ERR_METHOD_NOT_IMPLEMENTED,ce=q.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;_(71993)(a,w);var we=L.errorOrDestroy,Me=["error","close","destroy","pause","resume"];function C(ge,me,te){b=b||_(74075),"boolean"!=typeof te&&(te=me instanceof b),this.objectMode=!!(ge=ge||{}).objectMode,te&&(this.objectMode=this.objectMode||!!ge.readableObjectMode),this.highWaterMark=ee(this,ge,"readableHighWaterMark",te),this.buffer=new G,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==ge.emitClose,this.autoDestroy=!!ge.autoDestroy,this.destroyed=!1,this.defaultEncoding=ge.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ge.encoding&&(ae||(ae=_(78454).StringDecoder),this.decoder=new ae(ge.encoding),this.encoding=ge.encoding)}function a(ge){if(b=b||_(74075),!(this instanceof a))return new a(ge);this._readableState=new C(ge,this,this instanceof b),this.readable=!0,ge&&("function"==typeof ge.read&&(this._read=ge.read),"function"==typeof ge.destroy&&(this._destroy=ge.destroy)),w.call(this)}function d(ge,me,te,ne,ue){A("readableAddChunk",me);var Be,De=ge._readableState;if(null===me)De.reading=!1,function x(ge,me){if(A("onEofChunk"),!me.ended){if(me.decoder){var te=me.decoder.end();te&&te.length&&(me.buffer.push(te),me.length+=me.objectMode?1:te.length)}me.ended=!0,me.sync?s(ge):(me.needReadable=!1,me.emittedReadable||(me.emittedReadable=!0,v(ge)))}}(ge,De);else if(ue||(Be=function p(ge,me){var te;return!function N(ge){return O.isBuffer(ge)||ge instanceof S}(me)&&"string"!=typeof me&&void 0!==me&&!ge.objectMode&&(te=new Z("chunk",["string","Buffer","Uint8Array"],me)),te}(De,me)),Be)we(ge,Be);else if(De.objectMode||me&&me.length>0)if("string"!=typeof me&&!De.objectMode&&Object.getPrototypeOf(me)!==O.prototype&&(me=function B(ge){return O.from(ge)}(me)),ne)De.endEmitted?we(ge,new ce):m(ge,De,me,!0);else if(De.ended)we(ge,new J);else{if(De.destroyed)return!1;De.reading=!1,De.decoder&&!te?(me=De.decoder.write(me),De.objectMode||0!==me.length?m(ge,De,me,!1):$(ge,De)):m(ge,De,me,!1)}else ne||(De.reading=!1,$(ge,De));return!De.ended&&(De.length<De.highWaterMark||0===De.length)}function m(ge,me,te,ne){me.flowing&&0===me.length&&!me.sync?(me.awaitDrain=0,ge.emit("data",te)):(me.length+=me.objectMode?1:te.length,ne?me.buffer.unshift(te):me.buffer.push(te),me.needReadable&&s(ge)),$(ge,me)}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(me){this._readableState&&(this._readableState.destroyed=me)}}),a.prototype.destroy=L.destroy,a.prototype._undestroy=L.undestroy,a.prototype._destroy=function(ge,me){me(ge)},a.prototype.push=function(ge,me){var ne,te=this._readableState;return te.objectMode?ne=!0:"string"==typeof ge&&((me=me||te.defaultEncoding)!==te.encoding&&(ge=O.from(ge,me),me=""),ne=!0),d(this,ge,me,!1,ne)},a.prototype.unshift=function(ge){return d(this,ge,null,!0,!1)},a.prototype.isPaused=function(){return!1===this._readableState.flowing},a.prototype.setEncoding=function(ge){ae||(ae=_(78454).StringDecoder);var me=new ae(ge);this._readableState.decoder=me,this._readableState.encoding=this._readableState.decoder.encoding;for(var te=this._readableState.buffer.head,ne="";null!==te;)ne+=me.write(te.data),te=te.next;return this._readableState.buffer.clear(),""!==ne&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var E=1073741824;function R(ge,me){return ge<=0||0===me.length&&me.ended?0:me.objectMode?1:ge!=ge?me.flowing&&me.length?me.buffer.head.data.length:me.length:(ge>me.highWaterMark&&(me.highWaterMark=function D(ge){return ge>=E?ge=E:(ge--,ge|=ge>>>1,ge|=ge>>>2,ge|=ge>>>4,ge|=ge>>>8,ge|=ge>>>16,ge++),ge}(ge)),ge<=me.length?ge:me.ended?me.length:(me.needReadable=!0,0))}function s(ge){var me=ge._readableState;A("emitReadable",me.needReadable,me.emittedReadable),me.needReadable=!1,me.emittedReadable||(A("emitReadable",me.flowing),me.emittedReadable=!0,y.nextTick(v,ge))}function v(ge){var me=ge._readableState;A("emitReadable_",me.destroyed,me.length,me.ended),!me.destroyed&&(me.length||me.ended)&&(ge.emit("readable"),me.emittedReadable=!1),me.needReadable=!me.flowing&&!me.ended&&me.length<=me.highWaterMark,Ee(ge)}function $(ge,me){me.readingMore||(me.readingMore=!0,y.nextTick(F,ge,me))}function F(ge,me){for(;!me.reading&&!me.ended&&(me.length<me.highWaterMark||me.flowing&&0===me.length);){var te=me.length;if(A("maybeReadMore read 0"),ge.read(0),te===me.length)break}me.readingMore=!1}function de(ge){var me=ge._readableState;me.readableListening=ge.listenerCount("readable")>0,me.resumeScheduled&&!me.paused?me.flowing=!0:ge.listenerCount("data")>0&&ge.resume()}function Ce(ge){A("readable nexttick read 0"),ge.read(0)}function Ve(ge,me){A("resume",me.reading),me.reading||ge.read(0),me.resumeScheduled=!1,ge.emit("resume"),Ee(ge),me.flowing&&!me.reading&&ge.read(0)}function Ee(ge){var me=ge._readableState;for(A("flow",me.flowing);me.flowing&&null!==ge.read(););}function _e(ge,me){return 0===me.length?null:(me.objectMode?te=me.buffer.shift():!ge||ge>=me.length?(te=me.decoder?me.buffer.join(""):1===me.buffer.length?me.buffer.first():me.buffer.concat(me.length),me.buffer.clear()):te=me.buffer.consume(ge,me.decoder),te);var te}function Fe(ge){var me=ge._readableState;A("endReadable",me.endEmitted),me.endEmitted||(me.ended=!0,y.nextTick(be,me,ge))}function be(ge,me){if(A("endReadableNT",ge.endEmitted,ge.length),!ge.endEmitted&&0===ge.length&&(ge.endEmitted=!0,me.readable=!1,me.emit("end"),ge.autoDestroy)){var te=me._writableState;(!te||te.autoDestroy&&te.finished)&&me.destroy()}}function Ae(ge,me){for(var te=0,ne=ge.length;te<ne;te++)if(ge[te]===me)return te;return-1}a.prototype.read=function(ge){A("read",ge),ge=parseInt(ge,10);var me=this._readableState,te=ge;if(0!==ge&&(me.emittedReadable=!1),0===ge&&me.needReadable&&((0!==me.highWaterMark?me.length>=me.highWaterMark:me.length>0)||me.ended))return A("read: emitReadable",me.length,me.ended),0===me.length&&me.ended?Fe(this):s(this),null;if(0===(ge=R(ge,me))&&me.ended)return 0===me.length&&Fe(this),null;var ue,ne=me.needReadable;return A("need readable",ne),(0===me.length||me.length-ge<me.highWaterMark)&&A("length less than watermark",ne=!0),me.ended||me.reading?A("reading or ended",ne=!1):ne&&(A("do read"),me.reading=!0,me.sync=!0,0===me.length&&(me.needReadable=!0),this._read(me.highWaterMark),me.sync=!1,me.reading||(ge=R(te,me))),null===(ue=ge>0?_e(ge,me):null)?(me.needReadable=me.length<=me.highWaterMark,ge=0):(me.length-=ge,me.awaitDrain=0),0===me.length&&(me.ended||(me.needReadable=!0),te!==ge&&me.ended&&Fe(this)),null!==ue&&this.emit("data",ue),ue},a.prototype._read=function(ge){we(this,new se("_read()"))},a.prototype.pipe=function(ge,me){var te=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=ge;break;case 1:ne.pipes=[ne.pipes,ge];break;default:ne.pipes.push(ge)}ne.pipesCount+=1,A("pipe count=%d opts=%j",ne.pipesCount,me);var De=me&&!1===me.end||ge===y.stdout||ge===y.stderr?M:Qe;function Qe(){A("onend"),ge.end()}ne.endEmitted?y.nextTick(De):te.once("end",De),ge.on("unpipe",function Be(Y,pe){A("onunpipe"),Y===te&&pe&&!1===pe.hasUnpiped&&(pe.hasUnpiped=!0,function Xe(){A("cleanup"),ge.removeListener("close",K),ge.removeListener("finish",T),ge.removeListener("drain",ze),ge.removeListener("error",mt),ge.removeListener("unpipe",Be),te.removeListener("end",Qe),te.removeListener("end",M),te.removeListener("data",Ue),Dt=!0,ne.awaitDrain&&(!ge._writableState||ge._writableState.needDrain)&&ze()}())});var ze=function Q(ge){return function(){var te=ge._readableState;A("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,0===te.awaitDrain&&H(ge,"data")&&(te.flowing=!0,Ee(ge))}}(te);ge.on("drain",ze);var Dt=!1;function Ue(Y){A("ondata");var pe=ge.write(Y);A("dest.write",pe),!1===pe&&((1===ne.pipesCount&&ne.pipes===ge||ne.pipesCount>1&&-1!==Ae(ne.pipes,ge))&&!Dt&&(A("false write response, pause",ne.awaitDrain),ne.awaitDrain++),te.pause())}function mt(Y){A("onerror",Y),M(),ge.removeListener("error",mt),0===H(ge,"error")&&we(ge,Y)}function K(){ge.removeListener("finish",T),M()}function T(){A("onfinish"),ge.removeListener("close",K),M()}function M(){A("unpipe"),te.unpipe(ge)}return te.on("data",Ue),function Pe(ge,me,te){if("function"==typeof ge.prependListener)return ge.prependListener(me,te);ge._events&&ge._events[me]?Array.isArray(ge._events[me])?ge._events[me].unshift(te):ge._events[me]=[te,ge._events[me]]:ge.on(me,te)}(ge,"error",mt),ge.once("close",K),ge.once("finish",T),ge.emit("pipe",te),ne.flowing||(A("pipe resume"),te.resume()),ge},a.prototype.unpipe=function(ge){var me=this._readableState,te={hasUnpiped:!1};if(0===me.pipesCount)return this;if(1===me.pipesCount)return ge&&ge!==me.pipes||(ge||(ge=me.pipes),me.pipes=null,me.pipesCount=0,me.flowing=!1,ge&&ge.emit("unpipe",this,te)),this;if(!ge){var ne=me.pipes,ue=me.pipesCount;me.pipes=null,me.pipesCount=0,me.flowing=!1;for(var De=0;De<ue;De++)ne[De].emit("unpipe",this,{hasUnpiped:!1});return this}var Be=Ae(me.pipes,ge);return-1===Be||(me.pipes.splice(Be,1),me.pipesCount-=1,1===me.pipesCount&&(me.pipes=me.pipes[0]),ge.emit("unpipe",this,te)),this},a.prototype.addListener=a.prototype.on=function(ge,me){var te=w.prototype.on.call(this,ge,me),ne=this._readableState;return"data"===ge?(ne.readableListening=this.listenerCount("readable")>0,!1!==ne.flowing&&this.resume()):"readable"===ge&&!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,A("on readable",ne.length,ne.reading),ne.length?s(this):ne.reading||y.nextTick(Ce,this)),te},a.prototype.removeListener=function(ge,me){var te=w.prototype.removeListener.call(this,ge,me);return"readable"===ge&&y.nextTick(de,this),te},a.prototype.removeAllListeners=function(ge){var me=w.prototype.removeAllListeners.apply(this,arguments);return("readable"===ge||void 0===ge)&&y.nextTick(de,this),me},a.prototype.resume=function(){var ge=this._readableState;return ge.flowing||(A("resume"),ge.flowing=!ge.readableListening,function Re(ge,me){me.resumeScheduled||(me.resumeScheduled=!0,y.nextTick(Ve,ge,me))}(this,ge)),ge.paused=!1,this},a.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},a.prototype.wrap=function(ge){var me=this,te=this._readableState,ne=!1;for(var ue in ge.on("end",function(){if(A("wrapped end"),te.decoder&&!te.ended){var Be=te.decoder.end();Be&&Be.length&&me.push(Be)}me.push(null)}),ge.on("data",function(Be){A("wrapped data"),te.decoder&&(Be=te.decoder.write(Be)),te.objectMode&&null==Be||!(te.objectMode||Be&&Be.length)||me.push(Be)||(ne=!0,ge.pause())}),ge)void 0===this[ue]&&"function"==typeof ge[ue]&&(this[ue]=function(Qe){return function(){return ge[Qe].apply(ge,arguments)}}(ue));for(var De=0;De<Me.length;De++)ge.on(Me[De],this.emit.bind(this,Me[De]));return this._read=function(Be){A("wrapped _read",Be),ne&&(ne=!1,ge.resume())},this},"function"==typeof Symbol&&(a.prototype[Symbol.asyncIterator]=function(){return void 0===fe&&(fe=_(6320)),fe(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(me){this._readableState&&(this._readableState.flowing=me)}}),a._fromList=_e,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(a.from=function(ge,me){return void 0===he&&(he=_(87654)),he(a,ge,me)})},2909:(Je,j,_)=>{"use strict";Je.exports=B;var y=_(26113).F,b=y.ERR_METHOD_NOT_IMPLEMENTED,P=y.ERR_MULTIPLE_CALLBACK,H=y.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=y.ERR_TRANSFORM_WITH_LENGTH_0,O=_(74075);function S(A,G){var L=this._transformState;L.transforming=!1;var z=L.writecb;if(null===z)return this.emit("error",new P);L.writechunk=null,L.writecb=null,null!=G&&this.push(G),z(A);var ee=this._readableState;ee.reading=!1,(ee.needReadable||ee.length<ee.highWaterMark)&&this._read(ee.highWaterMark)}function B(A){if(!(this instanceof B))return new B(A);O.call(this,A),this._transformState={afterTransform:S.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&("function"==typeof A.transform&&(this._transform=A.transform),"function"==typeof A.flush&&(this._flush=A.flush)),this.on("prefinish",N)}function N(){var A=this;"function"!=typeof this._flush||this._readableState.destroyed?U(this,null,null):this._flush(function(G,L){U(A,G,L)})}function U(A,G,L){if(G)return A.emit("error",G);if(null!=L&&A.push(L),A._writableState.length)throw new w;if(A._transformState.transforming)throw new H;return A.push(null)}_(71993)(B,O),B.prototype.push=function(A,G){return this._transformState.needTransform=!1,O.prototype.push.call(this,A,G)},B.prototype._transform=function(A,G,L){L(new b("_transform()"))},B.prototype._write=function(A,G,L){var z=this._transformState;if(z.writecb=L,z.writechunk=A,z.writeencoding=G,!z.transforming){var ee=this._readableState;(z.needTransform||ee.needReadable||ee.length<ee.highWaterMark)&&this._read(ee.highWaterMark)}},B.prototype._read=function(A){var G=this._transformState;null===G.writechunk||G.transforming?G.needTransform=!0:(G.transforming=!0,this._transform(G.writechunk,G.writeencoding,G.afterTransform))},B.prototype._destroy=function(A,G){O.prototype._destroy.call(this,A,function(L){G(L)})}},47849:(Je,j,_)=>{"use strict";var H,y=_(40573);function P(Ee){var _e=this;this.next=null,this.entry=null,this.finish=function(){!function Ve(Ee,_e,Fe){var be=Ee.entry;for(Ee.entry=null;be;){var Ae=be.callback;_e.pendingcb--,Ae(Fe),be=be.next}_e.corkedRequestsFree.next=Ee}(_e,Ee)}}Je.exports=C,C.WritableState=Me;var Pe,w={deprecate:_(3398)},O=_(18342),S=_(83838).Buffer,B=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},A=_(21509),L=_(42934).getHighWaterMark,z=_(26113).F,ee=z.ERR_INVALID_ARG_TYPE,q=z.ERR_METHOD_NOT_IMPLEMENTED,Z=z.ERR_MULTIPLE_CALLBACK,J=z.ERR_STREAM_CANNOT_PIPE,se=z.ERR_STREAM_DESTROYED,ce=z.ERR_STREAM_NULL_VALUES,ae=z.ERR_STREAM_WRITE_AFTER_END,fe=z.ERR_UNKNOWN_ENCODING,he=A.errorOrDestroy;function we(){}function Me(Ee,_e,Fe){H=H||_(74075),"boolean"!=typeof Fe&&(Fe=_e instanceof H),this.objectMode=!!(Ee=Ee||{}).objectMode,Fe&&(this.objectMode=this.objectMode||!!Ee.writableObjectMode),this.highWaterMark=L(this,Ee,"writableHighWaterMark",Fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ee.decodeStrings),this.defaultEncoding=Ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ae){!function x(Ee,_e){var Fe=Ee._writableState,be=Fe.sync,Ae=Fe.writecb;if("function"!=typeof Ae)throw new Z;if(function R(Ee){Ee.writing=!1,Ee.writecb=null,Ee.length-=Ee.writelen,Ee.writelen=0}(Fe),_e)!function D(Ee,_e,Fe,be,Ae){--_e.pendingcb,Fe?(y.nextTick(Ae,be),y.nextTick(Ce,Ee,_e),Ee._writableState.errorEmitted=!0,he(Ee,be)):(Ae(be),Ee._writableState.errorEmitted=!0,he(Ee,be),Ce(Ee,_e))}(Ee,Fe,be,_e,Ae);else{var ge=F(Fe)||Ee.destroyed;!ge&&!Fe.corked&&!Fe.bufferProcessing&&Fe.bufferedRequest&&$(Ee,Fe),be?y.nextTick(s,Ee,Fe,ge,Ae):s(Ee,Fe,ge,Ae)}}(_e,Ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ee.emitClose,this.autoDestroy=!!Ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}function C(Ee){var _e=this instanceof(H=H||_(74075));if(!_e&&!Pe.call(C,this))return new C(Ee);this._writableState=new Me(Ee,this,_e),this.writable=!0,Ee&&("function"==typeof Ee.write&&(this._write=Ee.write),"function"==typeof Ee.writev&&(this._writev=Ee.writev),"function"==typeof Ee.destroy&&(this._destroy=Ee.destroy),"function"==typeof Ee.final&&(this._final=Ee.final)),O.call(this)}function E(Ee,_e,Fe,be,Ae,ge,me){_e.writelen=be,_e.writecb=me,_e.writing=!0,_e.sync=!0,_e.destroyed?_e.onwrite(new se("write")):Fe?Ee._writev(Ae,_e.onwrite):Ee._write(Ae,ge,_e.onwrite),_e.sync=!1}function s(Ee,_e,Fe,be){Fe||function v(Ee,_e){0===_e.length&&_e.needDrain&&(_e.needDrain=!1,Ee.emit("drain"))}(Ee,_e),_e.pendingcb--,be(),Ce(Ee,_e)}function $(Ee,_e){_e.bufferProcessing=!0;var Fe=_e.bufferedRequest;if(Ee._writev&&Fe&&Fe.next){var Ae=new Array(_e.bufferedRequestCount),ge=_e.corkedRequestsFree;ge.entry=Fe;for(var me=0,te=!0;Fe;)Ae[me]=Fe,Fe.isBuf||(te=!1),Fe=Fe.next,me+=1;Ae.allBuffers=te,E(Ee,_e,!0,_e.length,Ae,"",ge.finish),_e.pendingcb++,_e.lastBufferedRequest=null,ge.next?(_e.corkedRequestsFree=ge.next,ge.next=null):_e.corkedRequestsFree=new P(_e),_e.bufferedRequestCount=0}else{for(;Fe;){var ne=Fe.chunk;if(E(Ee,_e,!1,_e.objectMode?1:ne.length,ne,Fe.encoding,Fe.callback),Fe=Fe.next,_e.bufferedRequestCount--,_e.writing)break}null===Fe&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=Fe,_e.bufferProcessing=!1}function F(Ee){return Ee.ending&&0===Ee.length&&null===Ee.bufferedRequest&&!Ee.finished&&!Ee.writing}function Q(Ee,_e){Ee._final(function(Fe){_e.pendingcb--,Fe&&he(Ee,Fe),_e.prefinished=!0,Ee.emit("prefinish"),Ce(Ee,_e)})}function Ce(Ee,_e){var Fe=F(_e);if(Fe&&(function de(Ee,_e){!_e.prefinished&&!_e.finalCalled&&("function"!=typeof Ee._final||_e.destroyed?(_e.prefinished=!0,Ee.emit("prefinish")):(_e.pendingcb++,_e.finalCalled=!0,y.nextTick(Q,Ee,_e)))}(Ee,_e),0===_e.pendingcb&&(_e.finished=!0,Ee.emit("finish"),_e.autoDestroy))){var be=Ee._readableState;(!be||be.autoDestroy&&be.endEmitted)&&Ee.destroy()}return Fe}_(71993)(C,O),Me.prototype.getBuffer=function(){for(var _e=this.bufferedRequest,Fe=[];_e;)Fe.push(_e),_e=_e.next;return Fe},function(){try{Object.defineProperty(Me.prototype,"buffer",{get:w.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Pe=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(_e){return!!Pe.call(this,_e)||this===C&&_e&&_e._writableState instanceof Me}})):Pe=function(_e){return _e instanceof this},C.prototype.pipe=function(){he(this,new J)},C.prototype.write=function(Ee,_e,Fe){var be=this._writableState,Ae=!1,ge=!be.objectMode&&function U(Ee){return S.isBuffer(Ee)||Ee instanceof B}(Ee);return ge&&!S.isBuffer(Ee)&&(Ee=function N(Ee){return S.from(Ee)}(Ee)),"function"==typeof _e&&(Fe=_e,_e=null),ge?_e="buffer":_e||(_e=be.defaultEncoding),"function"!=typeof Fe&&(Fe=we),be.ending?function a(Ee,_e){var Fe=new ae;he(Ee,Fe),y.nextTick(_e,Fe)}(this,Fe):(ge||function d(Ee,_e,Fe,be){var Ae;return null===Fe?Ae=new ce:"string"!=typeof Fe&&!_e.objectMode&&(Ae=new ee("chunk",["string","Buffer"],Fe)),!Ae||(he(Ee,Ae),y.nextTick(be,Ae),!1)}(this,be,Ee,Fe))&&(be.pendingcb++,Ae=function p(Ee,_e,Fe,be,Ae,ge){if(!Fe){var me=function m(Ee,_e,Fe){return!Ee.objectMode&&!1!==Ee.decodeStrings&&"string"==typeof _e&&(_e=S.from(_e,Fe)),_e}(_e,be,Ae);be!==me&&(Fe=!0,Ae="buffer",be=me)}var te=_e.objectMode?1:be.length;_e.length+=te;var ne=_e.length<_e.highWaterMark;if(ne||(_e.needDrain=!0),_e.writing||_e.corked){var ue=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:be,encoding:Ae,isBuf:Fe,callback:ge,next:null},ue?ue.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else E(Ee,_e,!1,te,be,Ae,ge);return ne}(this,be,ge,Ee,_e,Fe)),Ae},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var Ee=this._writableState;Ee.corked&&(Ee.corked--,!Ee.writing&&!Ee.corked&&!Ee.bufferProcessing&&Ee.bufferedRequest&&$(this,Ee))},C.prototype.setDefaultEncoding=function(_e){if("string"==typeof _e&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new fe(_e);return this._writableState.defaultEncoding=_e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(Ee,_e,Fe){Fe(new q("_write()"))},C.prototype._writev=null,C.prototype.end=function(Ee,_e,Fe){var be=this._writableState;return"function"==typeof Ee?(Fe=Ee,Ee=null,_e=null):"function"==typeof _e&&(Fe=_e,_e=null),null!=Ee&&this.write(Ee,_e),be.corked&&(be.corked=1,this.uncork()),be.ending||function Re(Ee,_e,Fe){_e.ending=!0,Ce(Ee,_e),Fe&&(_e.finished?y.nextTick(Fe):Ee.once("finish",Fe)),_e.ended=!0,Ee.writable=!1}(this,be,Fe),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(_e){this._writableState&&(this._writableState.destroyed=_e)}}),C.prototype.destroy=A.destroy,C.prototype._undestroy=A.undestroy,C.prototype._destroy=function(Ee,_e){_e(Ee)}},6320:(Je,j,_)=>{"use strict";var b,y=_(40573);function P(ae,fe,he){return fe=function H(ae){var fe=function w(ae,fe){if("object"!=typeof ae||null===ae)return ae;var he=ae[Symbol.toPrimitive];if(void 0!==he){var we=he.call(ae,fe||"default");if("object"!=typeof we)return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===fe?String:Number)(ae)}(ae,"string");return"symbol"==typeof fe?fe:String(fe)}(fe),fe in ae?Object.defineProperty(ae,fe,{value:he,enumerable:!0,configurable:!0,writable:!0}):ae[fe]=he,ae}var O=_(33139),S=Symbol("lastResolve"),B=Symbol("lastReject"),N=Symbol("error"),U=Symbol("ended"),A=Symbol("lastPromise"),G=Symbol("handlePromise"),L=Symbol("stream");function z(ae,fe){return{value:ae,done:fe}}function ee(ae){var fe=ae[S];if(null!==fe){var he=ae[L].read();null!==he&&(ae[A]=null,ae[S]=null,ae[B]=null,fe(z(he,!1)))}}function q(ae){y.nextTick(ee,ae)}var J=Object.getPrototypeOf(function(){}),se=Object.setPrototypeOf((P(b={get stream(){return this[L]},next:function(){var fe=this,he=this[N];if(null!==he)return Promise.reject(he);if(this[U])return Promise.resolve(z(void 0,!0));if(this[L].destroyed)return new Promise(function(C,a){y.nextTick(function(){fe[N]?a(fe[N]):C(z(void 0,!0))})});var Me,we=this[A];if(we)Me=new Promise(function Z(ae,fe){return function(he,we){ae.then(function(){fe[U]?he(z(void 0,!0)):fe[G](he,we)},we)}}(we,this));else{var Pe=this[L].read();if(null!==Pe)return Promise.resolve(z(Pe,!1));Me=new Promise(this[G])}return this[A]=Me,Me}},Symbol.asyncIterator,function(){return this}),P(b,"return",function(){var fe=this;return new Promise(function(he,we){fe[L].destroy(null,function(Me){Me?we(Me):he(z(void 0,!0))})})}),b),J);Je.exports=function(fe){var he,we=Object.create(se,(P(he={},L,{value:fe,writable:!0}),P(he,S,{value:null,writable:!0}),P(he,B,{value:null,writable:!0}),P(he,N,{value:null,writable:!0}),P(he,U,{value:fe._readableState.endEmitted,writable:!0}),P(he,G,{value:function(Pe,C){var a=we[L].read();a?(we[A]=null,we[S]=null,we[B]=null,Pe(z(a,!1))):(we[S]=Pe,we[B]=C)},writable:!0}),he));return we[A]=null,O(fe,function(Me){if(Me&&"ERR_STREAM_PREMATURE_CLOSE"!==Me.code){var Pe=we[B];return null!==Pe&&(we[A]=null,we[S]=null,we[B]=null,Pe(Me)),void(we[N]=Me)}var C=we[S];null!==C&&(we[A]=null,we[S]=null,we[B]=null,C(z(void 0,!0))),we[U]=!0}),fe.on("readable",q.bind(null,we)),we}},19588:(Je,j,_)=>{"use strict";function y(ee,q){var Z=Object.keys(ee);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(ee);q&&(J=J.filter(function(se){return Object.getOwnPropertyDescriptor(ee,se).enumerable})),Z.push.apply(Z,J)}return Z}function b(ee){for(var q=1;q<arguments.length;q++){var Z=null!=arguments[q]?arguments[q]:{};q%2?y(Object(Z),!0).forEach(function(J){P(ee,J,Z[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Z)):y(Object(Z)).forEach(function(J){Object.defineProperty(ee,J,Object.getOwnPropertyDescriptor(Z,J))})}return ee}function P(ee,q,Z){return(q=S(q))in ee?Object.defineProperty(ee,q,{value:Z,enumerable:!0,configurable:!0,writable:!0}):ee[q]=Z,ee}function w(ee,q){for(var Z=0;Z<q.length;Z++){var J=q[Z];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(ee,S(J.key),J)}}function S(ee){var q=function B(ee,q){if("object"!=typeof ee||null===ee)return ee;var Z=ee[Symbol.toPrimitive];if(void 0!==Z){var J=Z.call(ee,q||"default");if("object"!=typeof J)return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===q?String:Number)(ee)}(ee,"string");return"symbol"==typeof q?q:String(q)}var U=_(83838).Buffer,G=_(15340).inspect,L=G&&G.custom||"inspect";function z(ee,q,Z){U.prototype.copy.call(ee,q,Z)}Je.exports=function(){function ee(){(function H(ee,q){if(!(ee instanceof q))throw new TypeError("Cannot call a class as a function")})(this,ee),this.head=null,this.tail=null,this.length=0}return function O(ee,q,Z){q&&w(ee.prototype,q),Z&&w(ee,Z),Object.defineProperty(ee,"prototype",{writable:!1})}(ee,[{key:"push",value:function(Z){var J={data:Z,next:null};this.length>0?this.tail.next=J:this.head=J,this.tail=J,++this.length}},{key:"unshift",value:function(Z){var J={data:Z,next:this.head};0===this.length&&(this.tail=J),this.head=J,++this.length}},{key:"shift",value:function(){if(0!==this.length){var Z=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,Z}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Z){if(0===this.length)return"";for(var J=this.head,se=""+J.data;J=J.next;)se+=Z+J.data;return se}},{key:"concat",value:function(Z){if(0===this.length)return U.alloc(0);for(var J=U.allocUnsafe(Z>>>0),se=this.head,ce=0;se;)z(se.data,J,ce),ce+=se.data.length,se=se.next;return J}},{key:"consume",value:function(Z,J){var se;return Z<this.head.data.length?(se=this.head.data.slice(0,Z),this.head.data=this.head.data.slice(Z)):se=Z===this.head.data.length?this.shift():J?this._getString(Z):this._getBuffer(Z),se}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Z){var J=this.head,se=1,ce=J.data;for(Z-=ce.length;J=J.next;){var ae=J.data,fe=Z>ae.length?ae.length:Z;if(ce+=fe===ae.length?ae:ae.slice(0,Z),0==(Z-=fe)){fe===ae.length?(++se,this.head=J.next?J.next:this.tail=null):(this.head=J,J.data=ae.slice(fe));break}++se}return this.length-=se,ce}},{key:"_getBuffer",value:function(Z){var J=U.allocUnsafe(Z),se=this.head,ce=1;for(se.data.copy(J),Z-=se.data.length;se=se.next;){var ae=se.data,fe=Z>ae.length?ae.length:Z;if(ae.copy(J,J.length-Z,0,fe),0==(Z-=fe)){fe===ae.length?(++ce,this.head=se.next?se.next:this.tail=null):(this.head=se,se.data=ae.slice(fe));break}++ce}return this.length-=ce,J}},{key:L,value:function(Z,J){return G(this,b(b({},J),{},{depth:0,customInspect:!1}))}}]),ee}()},21509:(Je,j,_)=>{"use strict";var y=_(40573);function P(B,N){O(B,N),H(B)}function H(B){B._writableState&&!B._writableState.emitClose||B._readableState&&!B._readableState.emitClose||B.emit("close")}function O(B,N){B.emit("error",N)}Je.exports={destroy:function b(B,N){var U=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(N?N(B):B&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,y.nextTick(O,this,B)):y.nextTick(O,this,B)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(B||null,function(L){!N&&L?U._writableState?U._writableState.errorEmitted?y.nextTick(H,U):(U._writableState.errorEmitted=!0,y.nextTick(P,U,L)):y.nextTick(P,U,L):N?(y.nextTick(H,U),N(L)):y.nextTick(H,U)}),this)},undestroy:function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function S(B,N){var U=B._readableState,A=B._writableState;U&&U.autoDestroy||A&&A.autoDestroy?B.destroy(N):B.emit("error",N)}}},33139:(Je,j,_)=>{"use strict";var y=_(26113).F.ERR_STREAM_PREMATURE_CLOSE;function P(){}Je.exports=function w(O,S,B){if("function"==typeof S)return w(O,null,S);S||(S={}),B=function b(O){var S=!1;return function(){if(!S){S=!0;for(var B=arguments.length,N=new Array(B),U=0;U<B;U++)N[U]=arguments[U];O.apply(this,N)}}}(B||P);var N=S.readable||!1!==S.readable&&O.readable,U=S.writable||!1!==S.writable&&O.writable,A=function(){O.writable||L()},G=O._writableState&&O._writableState.finished,L=function(){U=!1,G=!0,N||B.call(O)},z=O._readableState&&O._readableState.endEmitted,ee=function(){N=!1,z=!0,U||B.call(O)},q=function(ce){B.call(O,ce)},Z=function(){var ce;return N&&!z?((!O._readableState||!O._readableState.ended)&&(ce=new y),B.call(O,ce)):U&&!G?((!O._writableState||!O._writableState.ended)&&(ce=new y),B.call(O,ce)):void 0},J=function(){O.req.on("finish",L)};return function H(O){return O.setHeader&&"function"==typeof O.abort}(O)?(O.on("complete",L),O.on("abort",Z),O.req?J():O.on("request",J)):U&&!O._writableState&&(O.on("end",A),O.on("close",A)),O.on("end",ee),O.on("finish",L),!1!==S.error&&O.on("error",q),O.on("close",Z),function(){O.removeListener("complete",L),O.removeListener("abort",Z),O.removeListener("request",J),O.req&&O.req.removeListener("finish",L),O.removeListener("end",A),O.removeListener("close",A),O.removeListener("finish",L),O.removeListener("end",ee),O.removeListener("error",q),O.removeListener("close",Z)}}},87654:Je=>{Je.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:(Je,j,_)=>{"use strict";var y,P=_(26113).F,H=P.ERR_MISSING_ARGS,w=P.ERR_STREAM_DESTROYED;function O(L){if(L)throw L}function N(L){L()}function U(L,z){return L.pipe(z)}Je.exports=function G(){for(var L=arguments.length,z=new Array(L),ee=0;ee<L;ee++)z[ee]=arguments[ee];var q=function A(L){return L.length&&"function"==typeof L[L.length-1]?L.pop():O}(z);if(Array.isArray(z[0])&&(z=z[0]),z.length<2)throw new H("streams");var Z,J=z.map(function(se,ce){var ae=ce<z.length-1;return function B(L,z,ee,q){q=function b(L){var z=!1;return function(){z||(z=!0,L.apply(void 0,arguments))}}(q);var Z=!1;L.on("close",function(){Z=!0}),void 0===y&&(y=_(33139)),y(L,{readable:z,writable:ee},function(se){if(se)return q(se);Z=!0,q()});var J=!1;return function(se){if(!Z&&!J){if(J=!0,function S(L){return L.setHeader&&"function"==typeof L.abort}(L))return L.abort();if("function"==typeof L.destroy)return L.destroy();q(se||new w("pipe"))}}}(se,ae,ce>0,function(he){Z||(Z=he),he&&J.forEach(N),!ae&&(J.forEach(N),q(Z))})});return z.reduce(U)}},42934:(Je,j,_)=>{"use strict";var y=_(26113).F.ERR_INVALID_OPT_VALUE;Je.exports={getHighWaterMark:function P(H,w,O,S){var B=function b(H,w,O){return null!=H.highWaterMark?H.highWaterMark:w?H[O]:null}(w,S,O);if(null!=B){if(!isFinite(B)||Math.floor(B)!==B||B<0)throw new y(S?O:"highWaterMark",B);return Math.floor(B)}return H.objectMode?16:16384}}},18342:(Je,j,_)=>{Je.exports=_(44356).EventEmitter},5942:(Je,j,_)=>{(j=Je.exports=_(19609)).Stream=j,j.Readable=j,j.Writable=_(47849),j.Duplex=_(74075),j.Transform=_(2909),j.PassThrough=_(18823),j.finished=_(33139),j.pipeline=_(96249)},85493:(Je,j,_)=>{"use strict";var b=_(29293).default;j.s=void 0;const P=_(5942);j.s=class H extends P.Readable{constructor(O){super(),this.bytesRead=0,this.released=!1,this.reader=O.getReader()}_read(){var O=this;return b(function*(){if(O.released)return void O.push(null);O.pendingRead=O.reader.read();const S=yield O.pendingRead;delete O.pendingRead,S.done||O.released?O.push(null):(O.bytesRead+=S.value.length,O.push(S.value))})()}waitForReadToComplete(){var O=this;return b(function*(){O.pendingRead&&(yield O.pendingRead)})()}close(){var O=this;return b(function*(){yield O.syncAndRelease()})()}syncAndRelease(){var O=this;return b(function*(){O.released=!0,yield O.waitForReadToComplete(),yield O.reader.releaseLock()})()}}},36636:(Je,j,_)=>{"use strict";var y=_(83838).Buffer,b=_(71993),P=_(13686),H=new Array(16),w=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],O=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],S=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],B=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],N=[0,1518500249,1859775393,2400959708,2840853838],U=[1352829926,1548603684,1836072691,2053994217,0];function A(){P.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function G(J,se){return J<<se|J>>>32-se}function L(J,se,ce,ae,fe,he,we,Me){return G(J+(se^ce^ae)+he+we|0,Me)+fe|0}function z(J,se,ce,ae,fe,he,we,Me){return G(J+(se&ce|~se&ae)+he+we|0,Me)+fe|0}function ee(J,se,ce,ae,fe,he,we,Me){return G(J+((se|~ce)^ae)+he+we|0,Me)+fe|0}function q(J,se,ce,ae,fe,he,we,Me){return G(J+(se&ae|ce&~ae)+he+we|0,Me)+fe|0}function Z(J,se,ce,ae,fe,he,we,Me){return G(J+(se^(ce|~ae))+he+we|0,Me)+fe|0}b(A,P),A.prototype._update=function(){for(var J=H,se=0;se<16;++se)J[se]=this._block.readInt32LE(4*se);for(var ce=0|this._a,ae=0|this._b,fe=0|this._c,he=0|this._d,we=0|this._e,Me=0|this._a,Pe=0|this._b,C=0|this._c,a=0|this._d,d=0|this._e,m=0;m<80;m+=1){var p,E;m<16?(p=L(ce,ae,fe,he,we,J[w[m]],N[0],S[m]),E=Z(Me,Pe,C,a,d,J[O[m]],U[0],B[m])):m<32?(p=z(ce,ae,fe,he,we,J[w[m]],N[1],S[m]),E=q(Me,Pe,C,a,d,J[O[m]],U[1],B[m])):m<48?(p=ee(ce,ae,fe,he,we,J[w[m]],N[2],S[m]),E=ee(Me,Pe,C,a,d,J[O[m]],U[2],B[m])):m<64?(p=q(ce,ae,fe,he,we,J[w[m]],N[3],S[m]),E=z(Me,Pe,C,a,d,J[O[m]],U[3],B[m])):(p=Z(ce,ae,fe,he,we,J[w[m]],N[4],S[m]),E=L(Me,Pe,C,a,d,J[O[m]],U[4],B[m])),ce=we,we=he,he=G(fe,10),fe=ae,ae=p,Me=d,d=a,a=G(C,10),C=Pe,Pe=E}var D=this._b+fe+a|0;this._b=this._c+he+d|0,this._c=this._d+we+Me|0,this._d=this._e+ce+Pe|0,this._e=this._a+ae+C|0,this._a=D},A.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var J=y.alloc?y.alloc(20):new y(20);return J.writeInt32LE(this._a,0),J.writeInt32LE(this._b,4),J.writeInt32LE(this._c,8),J.writeInt32LE(this._d,12),J.writeInt32LE(this._e,16),J},Je.exports=A},81725:(Je,j,_)=>{Je.exports=function b(P,H,w){if("number"!=typeof H)throw new Error("second argument must be a Number");let O,S,B,N,U,G,A=!0;function L(ee){function q(){w&&w(ee,O),w=null}A?y(q):q()}function z(ee,q,Z){if(O[ee]=Z,q&&(U=!0),0==--B||q)L(q);else if(!U&&G<S){let J;N?(J=N[G],G+=1,P[J](function(se,ce){z(J,se,ce)})):(J=G,G+=1,P[J](function(se,ce){z(J,se,ce)}))}}Array.isArray(P)?(O=[],B=S=P.length):(N=Object.keys(P),O={},B=S=N.length),G=H,B?N?N.some(function(ee,q){return P[ee](function(Z,J){z(ee,Z,J)}),q===H-1}):P.some(function(ee,q){return ee(function(Z,J){z(q,Z,J)}),q===H-1}):L(null),A=!1};const y=_(24515)},84412:(Je,j,_)=>{"use strict";_.d(j,{t:()=>b});var y=_(21413);class b extends y.B{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const w=super._subscribe(H);return!w.closed&&H.next(this._value),w}getValue(){const{hasError:H,thrownError:w,_value:O}=this;if(H)throw w;return this._throwIfClosed(),O}next(H){super.next(this._value=H)}}},71985:(Je,j,_)=>{"use strict";_.d(j,{c:()=>B});var y=_(47707),b=_(18359),P=_(3494),H=_(71203),w=_(41026),O=_(98071),S=_(49786);let B=(()=>{class G{constructor(z){z&&(this._subscribe=z)}lift(z){const ee=new G;return ee.source=this,ee.operator=z,ee}subscribe(z,ee,q){const Z=function A(G){return G&&G instanceof y.vU||function U(G){return G&&(0,O.T)(G.next)&&(0,O.T)(G.error)&&(0,O.T)(G.complete)}(G)&&(0,b.Uv)(G)}(z)?z:new y.Ms(z,ee,q);return(0,S.Y)(()=>{const{operator:J,source:se}=this;Z.add(J?J.call(Z,se):se?this._subscribe(Z):this._trySubscribe(Z))}),Z}_trySubscribe(z){try{return this._subscribe(z)}catch(ee){z.error(ee)}}forEach(z,ee){return new(ee=N(ee))((q,Z)=>{const J=new y.Ms({next:se=>{try{z(se)}catch(ce){Z(ce),J.unsubscribe()}},error:Z,complete:q});this.subscribe(J)})}_subscribe(z){var ee;return null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(z)}[P.s](){return this}pipe(...z){return(0,H.m)(z)(this)}toPromise(z){return new(z=N(z))((ee,q)=>{let Z;this.subscribe(J=>Z=J,J=>q(J),()=>ee(Z))})}}return G.create=L=>new G(L),G})();function N(G){var L;return null!==(L=G??w.$.Promise)&&void 0!==L?L:Promise}},92771:(Je,j,_)=>{"use strict";_.d(j,{m:()=>P});var y=_(21413),b=_(86129);class P extends y.B{constructor(w=1/0,O=1/0,S=b.U){super(),this._bufferSize=w,this._windowTime=O,this._timestampProvider=S,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=O===1/0,this._bufferSize=Math.max(1,w),this._windowTime=Math.max(1,O)}next(w){const{isStopped:O,_buffer:S,_infiniteTimeWindow:B,_timestampProvider:N,_windowTime:U}=this;O||(S.push(w),!B&&S.push(N.now()+U)),this._trimBuffer(),super.next(w)}_subscribe(w){this._throwIfClosed(),this._trimBuffer();const O=this._innerSubscribe(w),{_infiniteTimeWindow:S,_buffer:B}=this,N=B.slice();for(let U=0;U<N.length&&!w.closed;U+=S?1:2)w.next(N[U]);return this._checkFinalizedStatuses(w),O}_trimBuffer(){const{_bufferSize:w,_timestampProvider:O,_buffer:S,_infiniteTimeWindow:B}=this,N=(B?1:2)*w;if(w<1/0&&N<S.length&&S.splice(0,S.length-N),!B){const U=O.now();let A=0;for(let G=1;G<S.length&&S[G]<=U;G+=2)A=G;A&&S.splice(0,A+1)}}}},21413:(Je,j,_)=>{"use strict";_.d(j,{B:()=>S});var y=_(71985),b=_(18359);const H=(0,_(81853).L)(N=>function(){N(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var w=_(57908),O=_(49786);let S=(()=>{class N extends y.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(A){const G=new B(this,this);return G.operator=A,G}_throwIfClosed(){if(this.closed)throw new H}next(A){(0,O.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(A)}})}error(A){(0,O.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=A;const{observers:G}=this;for(;G.length;)G.shift().error(A)}})}complete(){(0,O.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:A}=this;for(;A.length;)A.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var A;return(null===(A=this.observers)||void 0===A?void 0:A.length)>0}_trySubscribe(A){return this._throwIfClosed(),super._trySubscribe(A)}_subscribe(A){return this._throwIfClosed(),this._checkFinalizedStatuses(A),this._innerSubscribe(A)}_innerSubscribe(A){const{hasError:G,isStopped:L,observers:z}=this;return G||L?b.Kn:(this.currentObservers=null,z.push(A),new b.yU(()=>{this.currentObservers=null,(0,w.o)(z,A)}))}_checkFinalizedStatuses(A){const{hasError:G,thrownError:L,isStopped:z}=this;G?A.error(L):z&&A.complete()}asObservable(){const A=new y.c;return A.source=this,A}}return N.create=(U,A)=>new B(U,A),N})();class B extends S{constructor(U,A){super(),this.destination=U,this.source=A}next(U){var A,G;null===(G=null===(A=this.destination)||void 0===A?void 0:A.next)||void 0===G||G.call(A,U)}error(U){var A,G;null===(G=null===(A=this.destination)||void 0===A?void 0:A.error)||void 0===G||G.call(A,U)}complete(){var U,A;null===(A=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===A||A.call(U)}_subscribe(U){var A,G;return null!==(G=null===(A=this.source)||void 0===A?void 0:A.subscribe(U))&&void 0!==G?G:b.Kn}}},47707:(Je,j,_)=>{"use strict";_.d(j,{Ms:()=>q,vU:()=>G});var y=_(98071),b=_(18359),P=_(41026),H=_(45334),w=_(85343);const O=N("C",void 0,void 0);function N(ae,fe,he){return{kind:ae,value:fe,error:he}}var U=_(19270),A=_(49786);class G extends b.yU{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,b.Uv)(fe)&&fe.add(this)):this.destination=ce}static create(fe,he,we){return new q(fe,he,we)}next(fe){this.isStopped?se(function B(ae){return N("N",ae,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?se(function S(ae){return N("E",void 0,ae)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?se(O,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const L=Function.prototype.bind;function z(ae,fe){return L.call(ae,fe)}class ee{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:he}=this;if(he.next)try{he.next(fe)}catch(we){Z(we)}}error(fe){const{partialObserver:he}=this;if(he.error)try{he.error(fe)}catch(we){Z(we)}else Z(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(he){Z(he)}}}class q extends G{constructor(fe,he,we){let Me;if(super(),(0,y.T)(fe)||!fe)Me={next:fe??void 0,error:he??void 0,complete:we??void 0};else{let Pe;this&&P.$.useDeprecatedNextContext?(Pe=Object.create(fe),Pe.unsubscribe=()=>this.unsubscribe(),Me={next:fe.next&&z(fe.next,Pe),error:fe.error&&z(fe.error,Pe),complete:fe.complete&&z(fe.complete,Pe)}):Me=fe}this.destination=new ee(Me)}}function Z(ae){P.$.useDeprecatedSynchronousErrorHandling?(0,A.l)(ae):(0,H.m)(ae)}function se(ae,fe){const{onStoppedNotification:he}=P.$;he&&U.f.setTimeout(()=>he(ae,fe))}const ce={closed:!0,next:w.l,error:function J(ae){throw ae},complete:w.l}},18359:(Je,j,_)=>{"use strict";_.d(j,{Kn:()=>O,yU:()=>w,Uv:()=>S});var y=_(98071);const P=(0,_(81853).L)(N=>function(A){N(this),this.message=A?`${A.length} errors occurred during unsubscription:\n${A.map((G,L)=>`${L+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=A});var H=_(57908);class w{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:A}=this;if(A)if(this._parentage=null,Array.isArray(A))for(const z of A)z.remove(this);else A.remove(this);const{initialTeardown:G}=this;if((0,y.T)(G))try{G()}catch(z){U=z instanceof P?z.errors:[z]}const{_finalizers:L}=this;if(L){this._finalizers=null;for(const z of L)try{B(z)}catch(ee){U=U??[],ee instanceof P?U=[...U,...ee.errors]:U.push(ee)}}if(U)throw new P(U)}}add(U){var A;if(U&&U!==this)if(this.closed)B(U);else{if(U instanceof w){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(A=this._finalizers)&&void 0!==A?A:[]).push(U)}}_hasParent(U){const{_parentage:A}=this;return A===U||Array.isArray(A)&&A.includes(U)}_addParent(U){const{_parentage:A}=this;this._parentage=Array.isArray(A)?(A.push(U),A):A?[A,U]:U}_removeParent(U){const{_parentage:A}=this;A===U?this._parentage=null:Array.isArray(A)&&(0,H.o)(A,U)}remove(U){const{_finalizers:A}=this;A&&(0,H.o)(A,U),U instanceof w&&U._removeParent(this)}}w.EMPTY=(()=>{const N=new w;return N.closed=!0,N})();const O=w.EMPTY;function S(N){return N instanceof w||N&&"closed"in N&&(0,y.T)(N.remove)&&(0,y.T)(N.add)&&(0,y.T)(N.unsubscribe)}function B(N){(0,y.T)(N)?N():N.unsubscribe()}},41026:(Je,j,_)=>{"use strict";_.d(j,{$:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(Je,j,_)=>{"use strict";_.d(j,{G:()=>O});var y=_(71985),b=_(18359),P=_(99898),H=_(54360),w=_(39974);class O extends y.c{constructor(B,N){super(),this.source=B,this.subjectFactory=N,this._subject=null,this._refCount=0,this._connection=null,(0,w.S)(B)&&(this.lift=B.lift)}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:B}=this;this._subject=this._connection=null,B?.unsubscribe()}connect(){let B=this._connection;if(!B){B=this._connection=new b.yU;const N=this.getSubject();B.add(this.source.subscribe((0,H._)(N,void 0,()=>{this._teardown(),N.complete()},U=>{this._teardown(),N.error(U)},()=>this._teardown()))),B.closed&&(this._connection=null,B=b.yU.EMPTY)}return B}refCount(){return(0,P.B)()(this)}}},84572:(Je,j,_)=>{"use strict";_.d(j,{z:()=>U});var y=_(71985),b=_(93073),P=_(86648),H=_(33669),w=_(6450),O=_(9326),S=_(58496),B=_(54360),N=_(45225);function U(...L){const z=(0,O.lI)(L),ee=(0,O.ms)(L),{args:q,keys:Z}=(0,b.D)(L);if(0===q.length)return(0,P.H)([],z);const J=new y.c(function A(L,z,ee=H.D){return q=>{G(z,()=>{const{length:Z}=L,J=new Array(Z);let se=Z,ce=Z;for(let ae=0;ae<Z;ae++)G(z,()=>{const fe=(0,P.H)(L[ae],z);let he=!1;fe.subscribe((0,B._)(q,we=>{J[ae]=we,he||(he=!0,ce--),ce||q.next(ee(J.slice()))},()=>{--se||q.complete()}))},q)},q)}}(q,z,Z?se=>(0,S.e)(Z,se):H.D));return ee?J.pipe((0,w.I)(ee)):J}function G(L,z,ee){L?(0,N.N)(ee,L,z):z()}},28793:(Je,j,_)=>{"use strict";_.d(j,{x:()=>w});var y=_(26365),P=_(9326),H=_(86648);function w(...O){return function b(){return(0,y.U)(1)}()((0,H.H)(O,(0,P.lI)(O)))}},59030:(Je,j,_)=>{"use strict";_.d(j,{v:()=>P});var y=_(71985),b=_(58750);function P(H){return new y.c(w=>{(0,b.Tg)(H()).subscribe(w)})}},983:(Je,j,_)=>{"use strict";_.d(j,{w:()=>b});const b=new(_(71985).c)(w=>w.complete())},27468:(Je,j,_)=>{"use strict";_.d(j,{p:()=>B});var y=_(71985),b=_(93073),P=_(58750),H=_(9326),w=_(54360),O=_(6450),S=_(58496);function B(...N){const U=(0,H.ms)(N),{args:A,keys:G}=(0,b.D)(N),L=new y.c(z=>{const{length:ee}=A;if(!ee)return void z.complete();const q=new Array(ee);let Z=ee,J=ee;for(let se=0;se<ee;se++){let ce=!1;(0,P.Tg)(A[se]).subscribe((0,w._)(z,ae=>{ce||(ce=!0,J--),q[se]=ae},()=>Z--,void 0,()=>{(!Z||!ce)&&(J||z.next(G?(0,S.e)(G,q):q),z.complete())}))}});return U?L.pipe((0,O.I)(U)):L}},86648:(Je,j,_)=>{"use strict";_.d(j,{H:()=>we});var y=_(58750),b=_(45225),P=_(39974),H=_(54360);function w(Me,Pe=0){return(0,P.N)((C,a)=>{C.subscribe((0,H._)(a,d=>(0,b.N)(a,Me,()=>a.next(d),Pe),()=>(0,b.N)(a,Me,()=>a.complete(),Pe),d=>(0,b.N)(a,Me,()=>a.error(d),Pe)))})}function O(Me,Pe=0){return(0,P.N)((C,a)=>{a.add(Me.schedule(()=>C.subscribe(a),Pe))})}var N=_(71985),A=_(4761),G=_(98071);function z(Me,Pe){if(!Me)throw new Error("Iterable cannot be null");return new N.c(C=>{(0,b.N)(C,Pe,()=>{const a=Me[Symbol.asyncIterator]();(0,b.N)(C,Pe,()=>{a.next().then(d=>{d.done?C.complete():C.next(d.value)})},0,!0)})})}var ee=_(55055),q=_(59858),Z=_(47441),J=_(85397),se=_(37953),ce=_(50591),ae=_(15196);function we(Me,Pe){return Pe?function he(Me,Pe){if(null!=Me){if((0,ee.l)(Me))return function S(Me,Pe){return(0,y.Tg)(Me).pipe(O(Pe),w(Pe))}(Me,Pe);if((0,Z.X)(Me))return function U(Me,Pe){return new N.c(C=>{let a=0;return Pe.schedule(function(){a===Me.length?C.complete():(C.next(Me[a++]),C.closed||this.schedule())})})}(Me,Pe);if((0,q.y)(Me))return function B(Me,Pe){return(0,y.Tg)(Me).pipe(O(Pe),w(Pe))}(Me,Pe);if((0,se.T)(Me))return z(Me,Pe);if((0,J.x)(Me))return function L(Me,Pe){return new N.c(C=>{let a;return(0,b.N)(C,Pe,()=>{a=Me[A.l](),(0,b.N)(C,Pe,()=>{let d,m;try{({value:d,done:m}=a.next())}catch(p){return void C.error(p)}m?C.complete():C.next(d)},0,!0)}),()=>(0,G.T)(a?.return)&&a.return()})}(Me,Pe);if((0,ae.U)(Me))return function fe(Me,Pe){return z((0,ae.C)(Me),Pe)}(Me,Pe)}throw(0,ce.L)(Me)}(Me,Pe):(0,y.Tg)(Me)}},33726:(Je,j,_)=>{"use strict";_.d(j,{R:()=>U});var y=_(58750),b=_(71985),P=_(31397),H=_(47441),w=_(98071),O=_(6450);const S=["addListener","removeListener"],B=["addEventListener","removeEventListener"],N=["on","off"];function U(ee,q,Z,J){if((0,w.T)(Z)&&(J=Z,Z=void 0),J)return U(ee,q,Z).pipe((0,O.I)(J));const[se,ce]=function z(ee){return(0,w.T)(ee.addEventListener)&&(0,w.T)(ee.removeEventListener)}(ee)?B.map(ae=>fe=>ee[ae](q,fe,Z)):function G(ee){return(0,w.T)(ee.addListener)&&(0,w.T)(ee.removeListener)}(ee)?S.map(A(ee,q)):function L(ee){return(0,w.T)(ee.on)&&(0,w.T)(ee.off)}(ee)?N.map(A(ee,q)):[];if(!se&&(0,H.X)(ee))return(0,P.Z)(ae=>U(ae,q,Z))((0,y.Tg)(ee));if(!se)throw new TypeError("Invalid event target");return new b.c(ae=>{const fe=(...he)=>ae.next(1<he.length?he:he[0]);return se(fe),()=>ce(fe)})}function A(ee,q){return Z=>J=>ee[Z](q,J)}},58750:(Je,j,_)=>{"use strict";_.d(j,{Tg:()=>L});var y=_(31635),b=_(47441),P=_(59858),H=_(71985),w=_(55055),O=_(37953),S=_(50591),B=_(85397),N=_(15196),U=_(98071),A=_(45334),G=_(3494);function L(ae){if(ae instanceof H.c)return ae;if(null!=ae){if((0,w.l)(ae))return function z(ae){return new H.c(fe=>{const he=ae[G.s]();if((0,U.T)(he.subscribe))return he.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,b.X)(ae))return function ee(ae){return new H.c(fe=>{for(let he=0;he<ae.length&&!fe.closed;he++)fe.next(ae[he]);fe.complete()})}(ae);if((0,P.y)(ae))return function q(ae){return new H.c(fe=>{ae.then(he=>{fe.closed||(fe.next(he),fe.complete())},he=>fe.error(he)).then(null,A.m)})}(ae);if((0,O.T)(ae))return J(ae);if((0,B.x)(ae))return function Z(ae){return new H.c(fe=>{for(const he of ae)if(fe.next(he),fe.closed)return;fe.complete()})}(ae);if((0,N.U)(ae))return function se(ae){return J((0,N.C)(ae))}(ae)}throw(0,S.L)(ae)}function J(ae){return new H.c(fe=>{(function ce(ae,fe){var he,we,Me,Pe;return(0,y.sH)(this,void 0,void 0,function*(){try{for(he=(0,y.xN)(ae);!(we=yield he.next()).done;)if(fe.next(we.value),fe.closed)return}catch(C){Me={error:C}}finally{try{we&&!we.done&&(Pe=he.return)&&(yield Pe.call(he))}finally{if(Me)throw Me.error}}fe.complete()})})(ae,fe).catch(he=>fe.error(he))})}},40605:(Je,j,_)=>{"use strict";_.d(j,{Y:()=>P});var y=_(43236),b=_(41584);function P(H=0,w=y.E){return H<0&&(H=0),(0,b.O)(H,H,w)}},57786:(Je,j,_)=>{"use strict";_.d(j,{h:()=>O});var y=_(26365),b=_(58750),P=_(983),H=_(9326),w=_(86648);function O(...S){const B=(0,H.lI)(S),N=(0,H.R0)(S,1/0),U=S;return U.length?1===U.length?(0,b.Tg)(U[0]):(0,y.U)(N)((0,w.H)(U,B)):P.w}},7673:(Je,j,_)=>{"use strict";_.d(j,{of:()=>P});var y=_(9326),b=_(86648);function P(...H){const w=(0,y.lI)(H);return(0,b.H)(H,w)}},18810:(Je,j,_)=>{"use strict";_.d(j,{$:()=>P});var y=_(71985),b=_(98071);function P(H,w){const O=(0,b.T)(H)?H:()=>H,S=B=>B.error(O());return new y.c(w?B=>w.schedule(S,0,B):S)}},41584:(Je,j,_)=>{"use strict";_.d(j,{O:()=>w});var y=_(71985),b=_(43236),P=_(79470);function w(O=0,S,B=b.b){let N=-1;return null!=S&&((0,P.m)(S)?B=S:N=S),new y.c(U=>{let A=function H(O){return O instanceof Date&&!isNaN(O)}(O)?+O-B.now():O;A<0&&(A=0);let G=0;return B.schedule(function(){U.closed||(U.next(G++),0<=N?this.schedule(void 0,N):U.complete())},A)})}},54360:(Je,j,_)=>{"use strict";_.d(j,{_:()=>b});var y=_(47707);function b(H,w,O,S,B){return new P(H,w,O,S,B)}class P extends y.vU{constructor(w,O,S,B,N,U){super(w),this.onFinalize=N,this.shouldUnsubscribe=U,this._next=O?function(A){try{O(A)}catch(G){w.error(G)}}:super._next,this._error=B?function(A){try{B(A)}catch(G){w.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch(A){w.error(A)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var w;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:O}=this;super.unsubscribe(),!O&&(null===(w=this.onFinalize)||void 0===w||w.call(this))}}}},99437:(Je,j,_)=>{"use strict";_.d(j,{W:()=>H});var y=_(58750),b=_(54360),P=_(39974);function H(w){return(0,P.N)((O,S)=>{let U,B=null,N=!1;B=O.subscribe((0,b._)(S,void 0,void 0,A=>{U=(0,y.Tg)(w(A,H(w)(O))),B?(B.unsubscribe(),B=null,U.subscribe(S)):N=!0})),N&&(B.unsubscribe(),B=null,U.subscribe(S))})}},70274:(Je,j,_)=>{"use strict";_.d(j,{H:()=>P});var y=_(31397),b=_(98071);function P(H,w){return(0,b.T)(w)?(0,y.Z)(H,w,1):(0,y.Z)(H,1)}},70152:(Je,j,_)=>{"use strict";_.d(j,{B:()=>H});var y=_(43236),b=_(39974),P=_(54360);function H(w,O=y.E){return(0,b.N)((S,B)=>{let N=null,U=null,A=null;const G=()=>{if(N){N.unsubscribe(),N=null;const z=U;U=null,B.next(z)}};function L(){const z=A+w,ee=O.now();if(ee<z)return N=this.schedule(void 0,z-ee),void B.add(N);G()}S.subscribe((0,P._)(B,z=>{U=z,A=O.now(),N||(N=O.schedule(L,w),B.add(N))},()=>{G(),B.complete()},void 0,()=>{U=N=null}))})}},91986:(Je,j,_)=>{"use strict";_.d(j,{c:()=>L});var y=_(43236),b=_(28793),P=_(96697),H=_(39974),w=_(54360),O=_(85343),B=_(73703),N=_(31397),U=_(58750);function A(z,ee){return ee?q=>(0,b.x)(ee.pipe((0,P.s)(1),function S(){return(0,H.N)((z,ee)=>{z.subscribe((0,w._)(ee,O.l))})}()),q.pipe(A(z))):(0,N.Z)((q,Z)=>(0,U.Tg)(z(q,Z)).pipe((0,P.s)(1),(0,B.u)(q)))}var G=_(41584);function L(z,ee=y.E){const q=(0,G.O)(z,ee);return A(()=>q)}},23294:(Je,j,_)=>{"use strict";_.d(j,{F:()=>H});var y=_(33669),b=_(39974),P=_(54360);function H(O,S=y.D){return O=O??w,(0,b.N)((B,N)=>{let U,A=!0;B.subscribe((0,P._)(N,G=>{const L=S(G);(A||!O(U,L))&&(A=!1,U=L,N.next(G))}))})}function w(O,S){return O===S}},5964:(Je,j,_)=>{"use strict";_.d(j,{p:()=>P});var y=_(39974),b=_(54360);function P(H,w){return(0,y.N)((O,S)=>{let B=0;O.subscribe((0,b._)(S,N=>H.call(w,N,B++)&&S.next(N)))})}},70980:(Je,j,_)=>{"use strict";_.d(j,{j:()=>b});var y=_(39974);function b(P){return(0,y.N)((H,w)=>{try{H.subscribe(w)}finally{w.add(P)}})}},96354:(Je,j,_)=>{"use strict";_.d(j,{T:()=>P});var y=_(39974),b=_(54360);function P(H,w){return(0,y.N)((O,S)=>{let B=0;O.subscribe((0,b._)(S,N=>{S.next(H.call(w,N,B++))}))})}},73703:(Je,j,_)=>{"use strict";_.d(j,{u:()=>b});var y=_(96354);function b(P){return(0,y.T)(()=>P)}},26365:(Je,j,_)=>{"use strict";_.d(j,{U:()=>P});var y=_(31397),b=_(33669);function P(H=1/0){return(0,y.Z)(b.D,H)}},31397:(Je,j,_)=>{"use strict";_.d(j,{Z:()=>B});var y=_(96354),b=_(58750),P=_(39974),H=_(45225),w=_(54360),S=_(98071);function B(N,U,A=1/0){return(0,S.T)(U)?B((G,L)=>(0,y.T)((z,ee)=>U(G,z,L,ee))((0,b.Tg)(N(G,L))),A):("number"==typeof U&&(A=U),(0,P.N)((G,L)=>function O(N,U,A,G,L,z,ee,q){const Z=[];let J=0,se=0,ce=!1;const ae=()=>{ce&&!Z.length&&!J&&U.complete()},fe=we=>J<G?he(we):Z.push(we),he=we=>{z&&U.next(we),J++;let Me=!1;(0,b.Tg)(A(we,se++)).subscribe((0,w._)(U,Pe=>{L?.(Pe),z?fe(Pe):U.next(Pe)},()=>{Me=!0},void 0,()=>{if(Me)try{for(J--;Z.length&&J<G;){const Pe=Z.shift();ee?(0,H.N)(U,ee,()=>he(Pe)):he(Pe)}ae()}catch(Pe){U.error(Pe)}}))};return N.subscribe((0,w._)(U,fe,()=>{ce=!0,ae()})),()=>{q?.()}}(G,L,N,A)))}},99898:(Je,j,_)=>{"use strict";_.d(j,{B:()=>P});var y=_(39974),b=_(54360);function P(){return(0,y.N)((H,w)=>{let O=null;H._refCount++;const S=(0,b._)(w,void 0,void 0,void 0,()=>{if(!H||H._refCount<=0||0<--H._refCount)return void(O=null);const B=H._connection,N=O;O=null,B&&(!N||B===N)&&B.unsubscribe(),w.unsubscribe()});H.subscribe(S),S.closed||(O=H.connect())})}},97647:(Je,j,_)=>{"use strict";_.d(j,{u:()=>w});var y=_(58750),b=_(21413),P=_(47707),H=_(39974);function w(S={}){const{connector:B=(()=>new b.B),resetOnError:N=!0,resetOnComplete:U=!0,resetOnRefCountZero:A=!0}=S;return G=>{let L,z,ee,q=0,Z=!1,J=!1;const se=()=>{z?.unsubscribe(),z=void 0},ce=()=>{se(),L=ee=void 0,Z=J=!1},ae=()=>{const fe=L;ce(),fe?.unsubscribe()};return(0,H.N)((fe,he)=>{q++,!J&&!Z&&se();const we=ee=ee??B();he.add(()=>{q--,0===q&&!J&&!Z&&(z=O(ae,A))}),we.subscribe(he),!L&&q>0&&(L=new P.Ms({next:Me=>we.next(Me),error:Me=>{J=!0,se(),z=O(ce,N,Me),we.error(Me)},complete:()=>{Z=!0,se(),z=O(ce,U),we.complete()}}),(0,y.Tg)(fe).subscribe(L))})(G)}}function O(S,B,...N){if(!0===B)return void S();if(!1===B)return;const U=new P.Ms({next:()=>{U.unsubscribe(),S()}});return(0,y.Tg)(B(...N)).subscribe(U)}},44668:(Je,j,_)=>{"use strict";_.d(j,{t:()=>P});var y=_(92771),b=_(97647);function P(H,w,O){let S,B=!1;return H&&"object"==typeof H?({bufferSize:S=1/0,windowTime:w=1/0,refCount:B=!1,scheduler:O}=H):S=H??1/0,(0,b.u)({connector:()=>new y.m(S,w,O),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:B})}},65245:(Je,j,_)=>{"use strict";_.d(j,{i:()=>b});var y=_(5964);function b(P){return(0,y.p)((H,w)=>P<=w)}},99172:(Je,j,_)=>{"use strict";_.d(j,{Z:()=>H});var y=_(28793),b=_(9326),P=_(39974);function H(...w){const O=(0,b.lI)(w);return(0,P.N)((S,B)=>{(O?(0,y.x)(w,S,O):(0,y.x)(w,S)).subscribe(B)})}},25558:(Je,j,_)=>{"use strict";_.d(j,{n:()=>H});var y=_(58750),b=_(39974),P=_(54360);function H(w,O){return(0,b.N)((S,B)=>{let N=null,U=0,A=!1;const G=()=>A&&!N&&B.complete();S.subscribe((0,P._)(B,L=>{N?.unsubscribe();let z=0;const ee=U++;(0,y.Tg)(w(L,ee)).subscribe(N=(0,P._)(B,q=>B.next(O?O(L,q,ee,z++):q),()=>{N=null,G()}))},()=>{A=!0,G()}))})}},96697:(Je,j,_)=>{"use strict";_.d(j,{s:()=>H});var y=_(983),b=_(39974),P=_(54360);function H(w){return w<=0?()=>y.w:(0,b.N)((O,S)=>{let B=0;O.subscribe((0,P._)(S,N=>{++B<=w&&(S.next(N),w<=B&&S.complete())}))})}},56977:(Je,j,_)=>{"use strict";_.d(j,{Q:()=>w});var y=_(39974),b=_(54360),P=_(58750),H=_(85343);function w(O){return(0,y.N)((S,B)=>{(0,P.Tg)(O).subscribe((0,b._)(B,()=>B.complete(),H.l)),!B.closed&&S.subscribe(B)})}},88141:(Je,j,_)=>{"use strict";_.d(j,{M:()=>w});var y=_(98071),b=_(39974),P=_(54360),H=_(33669);function w(O,S,B){const N=(0,y.T)(O)||S||B?{next:O,error:S,complete:B}:O;return N?(0,b.N)((U,A)=>{var G;null===(G=N.subscribe)||void 0===G||G.call(N);let L=!0;U.subscribe((0,P._)(A,z=>{var ee;null===(ee=N.next)||void 0===ee||ee.call(N,z),A.next(z)},()=>{var z;L=!1,null===(z=N.complete)||void 0===z||z.call(N),A.complete()},z=>{var ee;L=!1,null===(ee=N.error)||void 0===ee||ee.call(N,z),A.error(z)},()=>{var z,ee;L&&(null===(z=N.unsubscribe)||void 0===z||z.call(N)),null===(ee=N.finalize)||void 0===ee||ee.call(N)}))}):H.D}},96780:(Je,j,_)=>{"use strict";_.d(j,{R:()=>w});var y=_(18359);class b extends y.yU{constructor(S,B){super()}schedule(S,B=0){return this}}const P={setInterval(O,S,...B){const{delegate:N}=P;return N?.setInterval?N.setInterval(O,S,...B):setInterval(O,S,...B)},clearInterval(O){const{delegate:S}=P;return(S?.clearInterval||clearInterval)(O)},delegate:void 0};var H=_(57908);class w extends b{constructor(S,B){super(S,B),this.scheduler=S,this.work=B,this.pending=!1}schedule(S,B=0){var N;if(this.closed)return this;this.state=S;const U=this.id,A=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(A,U,B)),this.pending=!0,this.delay=B,this.id=null!==(N=this.id)&&void 0!==N?N:this.requestAsyncId(A,this.id,B),this}requestAsyncId(S,B,N=0){return P.setInterval(S.flush.bind(S,this),N)}recycleAsyncId(S,B,N=0){if(null!=N&&this.delay===N&&!1===this.pending)return B;null!=B&&P.clearInterval(B)}execute(S,B){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const N=this._execute(S,B);if(N)return N;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,B){let U,N=!1;try{this.work(S)}catch(A){N=!0,U=A||new Error("Scheduled action threw falsy error")}if(N)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:S,scheduler:B}=this,{actions:N}=B;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.o)(N,this),null!=S&&(this.id=this.recycleAsyncId(B,S,null)),this.delay=null,super.unsubscribe()}}}},39687:(Je,j,_)=>{"use strict";_.d(j,{q:()=>P});var y=_(86129);class b{constructor(w,O=b.now){this.schedulerActionCtor=w,this.now=O}schedule(w,O=0,S){return new this.schedulerActionCtor(this,w).schedule(S,O)}}b.now=y.U.now;class P extends b{constructor(w,O=b.now){super(w,O),this.actions=[],this._active=!1}flush(w){const{actions:O}=this;if(this._active)return void O.push(w);let S;this._active=!0;do{if(S=w.execute(w.state,w.delay))break}while(w=O.shift());if(this._active=!1,S){for(;w=O.shift();)w.unsubscribe();throw S}}}},30536:(Je,j,_)=>{"use strict";_.d(j,{X:()=>S});var y=_(96780),b=_(18359);const P={schedule(N){let U=requestAnimationFrame,A=cancelAnimationFrame;const{delegate:G}=P;G&&(U=G.requestAnimationFrame,A=G.cancelAnimationFrame);const L=U(z=>{A=void 0,N(z)});return new b.yU(()=>A?.(L))},requestAnimationFrame(...N){const{delegate:U}=P;return(U?.requestAnimationFrame||requestAnimationFrame)(...N)},cancelAnimationFrame(...N){const{delegate:U}=P;return(U?.cancelAnimationFrame||cancelAnimationFrame)(...N)},delegate:void 0};var w=_(39687);const S=new class O extends w.q{flush(U){this._active=!0;const A=this._scheduled;this._scheduled=void 0;const{actions:G}=this;let L;U=U||G.shift();do{if(L=U.execute(U.state,U.delay))break}while((U=G[0])&&U.id===A&&G.shift());if(this._active=!1,L){for(;(U=G[0])&&U.id===A&&G.shift();)U.unsubscribe();throw L}}}(class H extends y.R{constructor(U,A){super(U,A),this.scheduler=U,this.work=A}requestAsyncId(U,A,G=0){return null!==G&&G>0?super.requestAsyncId(U,A,G):(U.actions.push(this),U._scheduled||(U._scheduled=P.requestAnimationFrame(()=>U.flush(void 0))))}recycleAsyncId(U,A,G=0){var L;if(null!=G?G>0:this.delay>0)return super.recycleAsyncId(U,A,G);const{actions:z}=U;null!=A&&(null===(L=z[z.length-1])||void 0===L?void 0:L.id)!==A&&(P.cancelAnimationFrame(A),U._scheduled=void 0)}})},25007:(Je,j,_)=>{"use strict";_.d(j,{$:()=>z});var y=_(96780);let P,b=1;const H={};function w(q){return q in H&&(delete H[q],!0)}const O={setImmediate(q){const Z=b++;return H[Z]=!0,P||(P=Promise.resolve()),P.then(()=>w(Z)&&q()),Z},clearImmediate(q){w(q)}},{setImmediate:B,clearImmediate:N}=O,U={setImmediate(...q){const{delegate:Z}=U;return(Z?.setImmediate||B)(...q)},clearImmediate(q){const{delegate:Z}=U;return(Z?.clearImmediate||N)(q)},delegate:void 0};var G=_(39687);const z=new class L extends G.q{flush(Z){this._active=!0;const J=this._scheduled;this._scheduled=void 0;const{actions:se}=this;let ce;Z=Z||se.shift();do{if(ce=Z.execute(Z.state,Z.delay))break}while((Z=se[0])&&Z.id===J&&se.shift());if(this._active=!1,ce){for(;(Z=se[0])&&Z.id===J&&se.shift();)Z.unsubscribe();throw ce}}}(class A extends y.R{constructor(Z,J){super(Z,J),this.scheduler=Z,this.work=J}requestAsyncId(Z,J,se=0){return null!==se&&se>0?super.requestAsyncId(Z,J,se):(Z.actions.push(this),Z._scheduled||(Z._scheduled=U.setImmediate(Z.flush.bind(Z,void 0))))}recycleAsyncId(Z,J,se=0){var ce;if(null!=se?se>0:this.delay>0)return super.recycleAsyncId(Z,J,se);const{actions:ae}=Z;null!=J&&(null===(ce=ae[ae.length-1])||void 0===ce?void 0:ce.id)!==J&&(U.clearImmediate(J),Z._scheduled===J&&(Z._scheduled=void 0))}})},43236:(Je,j,_)=>{"use strict";_.d(j,{E:()=>P,b:()=>H});var y=_(96780);const P=new(_(39687).q)(y.R),H=P},86129:(Je,j,_)=>{"use strict";_.d(j,{U:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},19270:(Je,j,_)=>{"use strict";_.d(j,{f:()=>y});const y={setTimeout(b,P,...H){const{delegate:w}=y;return w?.setTimeout?w.setTimeout(b,P,...H):setTimeout(b,P,...H)},clearTimeout(b){const{delegate:P}=y;return(P?.clearTimeout||clearTimeout)(b)},delegate:void 0}},4761:(Je,j,_)=>{"use strict";_.d(j,{l:()=>b});const b=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Je,j,_)=>{"use strict";_.d(j,{s:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Je,j,_)=>{"use strict";_.d(j,{R0:()=>O,lI:()=>w,ms:()=>H});var y=_(98071),b=_(79470);function P(S){return S[S.length-1]}function H(S){return(0,y.T)(P(S))?S.pop():void 0}function w(S){return(0,b.m)(P(S))?S.pop():void 0}function O(S,B){return"number"==typeof P(S)?S.pop():B}},93073:(Je,j,_)=>{"use strict";_.d(j,{D:()=>w});const{isArray:y}=Array,{getPrototypeOf:b,prototype:P,keys:H}=Object;function w(S){if(1===S.length){const B=S[0];if(y(B))return{args:B,keys:null};if(function O(S){return S&&"object"==typeof S&&b(S)===P}(B)){const N=H(B);return{args:N.map(U=>B[U]),keys:N}}}return{args:S,keys:null}}},57908:(Je,j,_)=>{"use strict";function y(b,P){if(b){const H=b.indexOf(P);0<=H&&b.splice(H,1)}}_.d(j,{o:()=>y})},81853:(Je,j,_)=>{"use strict";function y(b){const H=b(w=>{Error.call(w),w.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}_.d(j,{L:()=>y})},58496:(Je,j,_)=>{"use strict";function y(b,P){return b.reduce((H,w,O)=>(H[w]=P[O],H),{})}_.d(j,{e:()=>y})},49786:(Je,j,_)=>{"use strict";_.d(j,{Y:()=>P,l:()=>H});var y=_(41026);let b=null;function P(w){if(y.$.useDeprecatedSynchronousErrorHandling){const O=!b;if(O&&(b={errorThrown:!1,error:null}),w(),O){const{errorThrown:S,error:B}=b;if(b=null,S)throw B}}else w()}function H(w){y.$.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=w)}},45225:(Je,j,_)=>{"use strict";function y(b,P,H,w=0,O=!1){const S=P.schedule(function(){H(),O?b.add(this.schedule(null,w)):this.unsubscribe()},w);if(b.add(S),!O)return S}_.d(j,{N:()=>y})},33669:(Je,j,_)=>{"use strict";function y(b){return b}_.d(j,{D:()=>y})},47441:(Je,j,_)=>{"use strict";_.d(j,{X:()=>y});const y=b=>b&&"number"==typeof b.length&&"function"!=typeof b},37953:(Je,j,_)=>{"use strict";_.d(j,{T:()=>b});var y=_(98071);function b(P){return Symbol.asyncIterator&&(0,y.T)(P?.[Symbol.asyncIterator])}},98071:(Je,j,_)=>{"use strict";function y(b){return"function"==typeof b}_.d(j,{T:()=>y})},55055:(Je,j,_)=>{"use strict";_.d(j,{l:()=>P});var y=_(3494),b=_(98071);function P(H){return(0,b.T)(H[y.s])}},85397:(Je,j,_)=>{"use strict";_.d(j,{x:()=>P});var y=_(4761),b=_(98071);function P(H){return(0,b.T)(H?.[y.l])}},74402:(Je,j,_)=>{"use strict";_.d(j,{A:()=>P});var y=_(71985),b=_(98071);function P(H){return!!H&&(H instanceof y.c||(0,b.T)(H.lift)&&(0,b.T)(H.subscribe))}},59858:(Je,j,_)=>{"use strict";_.d(j,{y:()=>b});var y=_(98071);function b(P){return(0,y.T)(P?.then)}},15196:(Je,j,_)=>{"use strict";_.d(j,{C:()=>P,U:()=>H});var y=_(31635),b=_(98071);function P(w){return(0,y.AQ)(this,arguments,function*(){const S=w.getReader();try{for(;;){const{value:B,done:N}=yield(0,y.N3)(S.read());if(N)return yield(0,y.N3)(void 0);yield yield(0,y.N3)(B)}}finally{S.releaseLock()}})}function H(w){return(0,b.T)(w?.getReader)}},79470:(Je,j,_)=>{"use strict";_.d(j,{m:()=>b});var y=_(98071);function b(P){return P&&(0,y.T)(P.schedule)}},39974:(Je,j,_)=>{"use strict";_.d(j,{N:()=>P,S:()=>b});var y=_(98071);function b(H){return(0,y.T)(H?.lift)}function P(H){return w=>{if(b(w))return w.lift(function(O){try{return H(O,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Je,j,_)=>{"use strict";_.d(j,{I:()=>H});var y=_(96354);const{isArray:b}=Array;function H(w){return(0,y.T)(O=>function P(w,O){return b(O)?w(...O):w(O)}(w,O))}},85343:(Je,j,_)=>{"use strict";function y(){}_.d(j,{l:()=>y})},71203:(Je,j,_)=>{"use strict";_.d(j,{F:()=>b,m:()=>P});var y=_(33669);function b(...H){return P(H)}function P(H){return 0===H.length?y.D:1===H.length?H[0]:function(O){return H.reduce((S,B)=>B(S),O)}}},45334:(Je,j,_)=>{"use strict";_.d(j,{m:()=>P});var y=_(41026),b=_(19270);function P(H){b.f.setTimeout(()=>{const{onUnhandledError:w}=y.$;if(!w)throw H;w(H)})}},50591:(Je,j,_)=>{"use strict";function y(b){return new TypeError(`You provided ${null!==b&&"object"==typeof b?"an invalid object":`'${b}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_.d(j,{L:()=>y})},27054:(Je,j,_)=>{var y=_(83838),b=y.Buffer;function P(w,O){for(var S in w)O[S]=w[S]}function H(w,O,S){return b(w,O,S)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?Je.exports=y:(P(y,j),j.Buffer=H),H.prototype=Object.create(b.prototype),P(b,H),H.from=function(w,O,S){if("number"==typeof w)throw new TypeError("Argument must not be a number");return b(w,O,S)},H.alloc=function(w,O,S){if("number"!=typeof w)throw new TypeError("Argument must be a number");var B=b(w);return void 0!==O?"string"==typeof S?B.fill(O,S):B.fill(O):B.fill(0),B},H.allocUnsafe=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return b(w)},H.allocUnsafeSlow=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return y.SlowBuffer(w)}},70463:(Je,j,_)=>{var y=_(27054).Buffer;function b(P,H){this._block=y.alloc(P),this._finalSize=H,this._blockSize=P,this._len=0}b.prototype.update=function(P,H){"string"==typeof P&&(P=y.from(P,H=H||"utf8"));for(var w=this._block,O=this._blockSize,S=P.length,B=this._len,N=0;N<S;){for(var U=B%O,A=Math.min(S-N,O-U),G=0;G<A;G++)w[U+G]=P[N+G];N+=A,(B+=A)%O==0&&this._update(w)}return this._len+=S,this},b.prototype.digest=function(P){var H=this._len%this._blockSize;this._block[H]=128,this._block.fill(0,H+1),H>=this._finalSize&&(this._update(this._block),this._block.fill(0));var w=8*this._len;if(w<=4294967295)this._block.writeUInt32BE(w,this._blockSize-4);else{var O=(4294967295&w)>>>0;this._block.writeUInt32BE((w-O)/4294967296,this._blockSize-8),this._block.writeUInt32BE(O,this._blockSize-4)}this._update(this._block);var B=this._hash();return P?B.toString(P):B},b.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Je.exports=b},25443:(Je,j,_)=>{var y=Je.exports=function(P){P=P.toLowerCase();var H=y[P];if(!H)throw new Error(P+" is not supported (we accept pull requests)");return new H};y.sha=_(48585),y.sha1=_(21270),y.sha224=_(42709),y.sha256=_(32148),y.sha384=_(51856),y.sha512=_(3121)},48585:(Je,j,_)=>{var y=_(71993),b=_(70463),P=_(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],w=new Array(80);function O(){this.init(),this._w=w,b.call(this,64,56)}function S(U){return U<<5|U>>>27}function B(U){return U<<30|U>>>2}function N(U,A,G,L){return 0===U?A&G|~A&L:2===U?A&G|A&L|G&L:A^G^L}y(O,b),O.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},O.prototype._update=function(U){for(var A=this._w,G=0|this._a,L=0|this._b,z=0|this._c,ee=0|this._d,q=0|this._e,Z=0;Z<16;++Z)A[Z]=U.readInt32BE(4*Z);for(;Z<80;++Z)A[Z]=A[Z-3]^A[Z-8]^A[Z-14]^A[Z-16];for(var J=0;J<80;++J){var se=~~(J/20),ce=S(G)+N(se,L,z,ee)+q+A[J]+H[se]|0;q=ee,ee=z,z=B(L),L=G,G=ce}this._a=G+this._a|0,this._b=L+this._b|0,this._c=z+this._c|0,this._d=ee+this._d|0,this._e=q+this._e|0},O.prototype._hash=function(){var U=P.allocUnsafe(20);return U.writeInt32BE(0|this._a,0),U.writeInt32BE(0|this._b,4),U.writeInt32BE(0|this._c,8),U.writeInt32BE(0|this._d,12),U.writeInt32BE(0|this._e,16),U},Je.exports=O},21270:(Je,j,_)=>{var y=_(71993),b=_(70463),P=_(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],w=new Array(80);function O(){this.init(),this._w=w,b.call(this,64,56)}function S(A){return A<<1|A>>>31}function B(A){return A<<5|A>>>27}function N(A){return A<<30|A>>>2}function U(A,G,L,z){return 0===A?G&L|~G&z:2===A?G&L|G&z|L&z:G^L^z}y(O,b),O.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},O.prototype._update=function(A){for(var G=this._w,L=0|this._a,z=0|this._b,ee=0|this._c,q=0|this._d,Z=0|this._e,J=0;J<16;++J)G[J]=A.readInt32BE(4*J);for(;J<80;++J)G[J]=S(G[J-3]^G[J-8]^G[J-14]^G[J-16]);for(var se=0;se<80;++se){var ce=~~(se/20),ae=B(L)+U(ce,z,ee,q)+Z+G[se]+H[ce]|0;Z=q,q=ee,ee=N(z),z=L,L=ae}this._a=L+this._a|0,this._b=z+this._b|0,this._c=ee+this._c|0,this._d=q+this._d|0,this._e=Z+this._e|0},O.prototype._hash=function(){var A=P.allocUnsafe(20);return A.writeInt32BE(0|this._a,0),A.writeInt32BE(0|this._b,4),A.writeInt32BE(0|this._c,8),A.writeInt32BE(0|this._d,12),A.writeInt32BE(0|this._e,16),A},Je.exports=O},42709:(Je,j,_)=>{var y=_(71993),b=_(32148),P=_(70463),H=_(27054).Buffer,w=new Array(64);function O(){this.init(),this._w=w,P.call(this,64,56)}y(O,b),O.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},O.prototype._hash=function(){var S=H.allocUnsafe(28);return S.writeInt32BE(this._a,0),S.writeInt32BE(this._b,4),S.writeInt32BE(this._c,8),S.writeInt32BE(this._d,12),S.writeInt32BE(this._e,16),S.writeInt32BE(this._f,20),S.writeInt32BE(this._g,24),S},Je.exports=O},32148:(Je,j,_)=>{var y=_(71993),b=_(70463),P=_(27054).Buffer,H=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],w=new Array(64);function O(){this.init(),this._w=w,b.call(this,64,56)}function S(L,z,ee){return ee^L&(z^ee)}function B(L,z,ee){return L&z|ee&(L|z)}function N(L){return(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10)}function U(L){return(L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7)}function A(L){return(L>>>7|L<<25)^(L>>>18|L<<14)^L>>>3}function G(L){return(L>>>17|L<<15)^(L>>>19|L<<13)^L>>>10}y(O,b),O.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},O.prototype._update=function(L){for(var z=this._w,ee=0|this._a,q=0|this._b,Z=0|this._c,J=0|this._d,se=0|this._e,ce=0|this._f,ae=0|this._g,fe=0|this._h,he=0;he<16;++he)z[he]=L.readInt32BE(4*he);for(;he<64;++he)z[he]=G(z[he-2])+z[he-7]+A(z[he-15])+z[he-16]|0;for(var we=0;we<64;++we){var Me=fe+U(se)+S(se,ce,ae)+H[we]+z[we]|0,Pe=N(ee)+B(ee,q,Z)|0;fe=ae,ae=ce,ce=se,se=J+Me|0,J=Z,Z=q,q=ee,ee=Me+Pe|0}this._a=ee+this._a|0,this._b=q+this._b|0,this._c=Z+this._c|0,this._d=J+this._d|0,this._e=se+this._e|0,this._f=ce+this._f|0,this._g=ae+this._g|0,this._h=fe+this._h|0},O.prototype._hash=function(){var L=P.allocUnsafe(32);return L.writeInt32BE(this._a,0),L.writeInt32BE(this._b,4),L.writeInt32BE(this._c,8),L.writeInt32BE(this._d,12),L.writeInt32BE(this._e,16),L.writeInt32BE(this._f,20),L.writeInt32BE(this._g,24),L.writeInt32BE(this._h,28),L},Je.exports=O},51856:(Je,j,_)=>{var y=_(71993),b=_(3121),P=_(70463),H=_(27054).Buffer,w=new Array(160);function O(){this.init(),this._w=w,P.call(this,128,112)}y(O,b),O.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},O.prototype._hash=function(){var S=H.allocUnsafe(48);function B(N,U,A){S.writeInt32BE(N,A),S.writeInt32BE(U,A+4)}return B(this._ah,this._al,0),B(this._bh,this._bl,8),B(this._ch,this._cl,16),B(this._dh,this._dl,24),B(this._eh,this._el,32),B(this._fh,this._fl,40),S},Je.exports=O},3121:(Je,j,_)=>{var y=_(71993),b=_(70463),P=_(27054).Buffer,H=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],w=new Array(160);function O(){this.init(),this._w=w,b.call(this,128,112)}function S(q,Z,J){return J^q&(Z^J)}function B(q,Z,J){return q&Z|J&(q|Z)}function N(q,Z){return(q>>>28|Z<<4)^(Z>>>2|q<<30)^(Z>>>7|q<<25)}function U(q,Z){return(q>>>14|Z<<18)^(q>>>18|Z<<14)^(Z>>>9|q<<23)}function A(q,Z){return(q>>>1|Z<<31)^(q>>>8|Z<<24)^q>>>7}function G(q,Z){return(q>>>1|Z<<31)^(q>>>8|Z<<24)^(q>>>7|Z<<25)}function L(q,Z){return(q>>>19|Z<<13)^(Z>>>29|q<<3)^q>>>6}function z(q,Z){return(q>>>19|Z<<13)^(Z>>>29|q<<3)^(q>>>6|Z<<26)}function ee(q,Z){return q>>>0<Z>>>0?1:0}y(O,b),O.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},O.prototype._update=function(q){for(var Z=this._w,J=0|this._ah,se=0|this._bh,ce=0|this._ch,ae=0|this._dh,fe=0|this._eh,he=0|this._fh,we=0|this._gh,Me=0|this._hh,Pe=0|this._al,C=0|this._bl,a=0|this._cl,d=0|this._dl,m=0|this._el,p=0|this._fl,E=0|this._gl,D=0|this._hl,R=0;R<32;R+=2)Z[R]=q.readInt32BE(4*R),Z[R+1]=q.readInt32BE(4*R+4);for(;R<160;R+=2){var x=Z[R-30],s=Z[R-30+1],v=A(x,s),$=G(s,x),F=L(x=Z[R-4],s=Z[R-4+1]),Q=z(s,x),Re=Z[R-32],Ve=Z[R-32+1],Ee=$+Z[R-14+1]|0,_e=v+Z[R-14]+ee(Ee,$)|0;_e=(_e=_e+F+ee(Ee=Ee+Q|0,Q)|0)+Re+ee(Ee=Ee+Ve|0,Ve)|0,Z[R]=_e,Z[R+1]=Ee}for(var Fe=0;Fe<160;Fe+=2){_e=Z[Fe],Ee=Z[Fe+1];var be=B(J,se,ce),Ae=B(Pe,C,a),ge=N(J,Pe),me=N(Pe,J),te=U(fe,m),ne=U(m,fe),ue=H[Fe],De=H[Fe+1],Be=S(fe,he,we),Qe=S(m,p,E),ze=D+ne|0,Dt=Me+te+ee(ze,D)|0;Dt=(Dt=(Dt=Dt+Be+ee(ze=ze+Qe|0,Qe)|0)+ue+ee(ze=ze+De|0,De)|0)+_e+ee(ze=ze+Ee|0,Ee)|0;var Xe=me+Ae|0,Ue=ge+be+ee(Xe,me)|0;Me=we,D=E,we=he,E=p,he=fe,p=m,fe=ae+Dt+ee(m=d+ze|0,d)|0,ae=ce,d=a,ce=se,a=C,se=J,C=Pe,J=Dt+Ue+ee(Pe=ze+Xe|0,ze)|0}this._al=this._al+Pe|0,this._bl=this._bl+C|0,this._cl=this._cl+a|0,this._dl=this._dl+d|0,this._el=this._el+m|0,this._fl=this._fl+p|0,this._gl=this._gl+E|0,this._hl=this._hl+D|0,this._ah=this._ah+J+ee(this._al,Pe)|0,this._bh=this._bh+se+ee(this._bl,C)|0,this._ch=this._ch+ce+ee(this._cl,a)|0,this._dh=this._dh+ae+ee(this._dl,d)|0,this._eh=this._eh+fe+ee(this._el,m)|0,this._fh=this._fh+he+ee(this._fl,p)|0,this._gh=this._gh+we+ee(this._gl,E)|0,this._hh=this._hh+Me+ee(this._hl,D)|0},O.prototype._hash=function(){var q=P.allocUnsafe(64);function Z(J,se,ce){q.writeInt32BE(J,ce),q.writeInt32BE(se,ce+4)}return Z(this._ah,this._al,0),Z(this._bh,this._bl,8),Z(this._ch,this._cl,16),Z(this._dh,this._dl,24),Z(this._eh,this._el,32),Z(this._fh,this._fl,40),Z(this._gh,this._gl,48),Z(this._hh,this._hl,56),q},Je.exports=O},18876:Je=>{"use strict";function _(H,w){return H+y(w)}function y(H){let w=H;return w-=w>>1&1431655765,w=(858993459&w)+(w>>2&858993459),16843009*(w+(w>>4)&252645135)>>24}function b(H,w){return H[0]-w[0]}function P(H){return H[1]}Je.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(w,O){let S=this._internalPositionFor(w,!1);if(void 0===O)-1!==S&&(this._unsetInternalPos(S),this._unsetBit(w),this._changedLength=!0,this._changedData=!0);else{let B=!1;-1===S?(S=this._data.length,this._setBit(w),this._changedData=!0):B=!0,this._setInternalPos(S,w,O,B),this._changedLength=!0}}unset(w){this.set(w,void 0)}get(w){this._sortData();const O=this._internalPositionFor(w,!0);if(-1!==O)return this._data[O][1]}push(w){return this.set(this.length,w),this.length}get length(){if(this._sortData(),this._changedLength){const w=this._data[this._data.length-1];this._length=w?w[0]+1:0,this._changedLength=!1}return this._length}forEach(w){let O=0;for(;O<this.length;)w(this.get(O),O,this),O++}map(w){let O=0,S=new Array(this.length);for(;O<this.length;)S[O]=w(this.get(O),O,this),O++;return S}reduce(w,O){let S=0,B=O;for(;S<this.length;)B=w(B,this.get(S),S),S++;return B}find(w){let S,B,O=0;for(;O<this.length&&!S;)B=this.get(O),S=w(B),O++;return S?B:void 0}_internalPositionFor(w,O){const S=this._bytePosFor(w,O);if(S>=this._bitArrays.length)return-1;const B=this._bitArrays[S],N=w-7*S;return(B&1<<N)>0?this._bitArrays.slice(0,S).reduce(_,0)+y(B&~(4294967295<<N+1))-1:-1}_bytePosFor(w,O){const S=Math.floor(w/7),B=S+1;for(;!O&&this._bitArrays.length<B;)this._bitArrays.push(0);return S}_setBit(w){const O=this._bytePosFor(w,!1);this._bitArrays[O]|=1<<w-7*O}_unsetBit(w){const O=this._bytePosFor(w,!1);this._bitArrays[O]&=~(1<<w-7*O)}_setInternalPos(w,O,S,B){const N=this._data,U=[O,S];if(B)this._sortData(),N[w]=U;else{if(N.length)if(N[N.length-1][0]>=O)N.push(U);else if(N[0][0]<=O)N.unshift(U);else{const A=Math.round(N.length/2);this._data=N.slice(0,A).concat(U).concat(N.slice(A))}else this._data.push(U);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(w){this._data.splice(w,1)}_sortData(){this._changedData&&this._data.sort(b),this._changedData=!1}bitField(){const w=[];let N,O=8,S=0,B=0;const U=this._bitArrays.slice();for(;U.length||S;){0===S&&(N=U.shift(),S=7);const G=Math.min(S,O);B|=(N&~(255<<G))<<8-O,N>>>=G,S-=G,O-=G,(!O||!S&&!U.length)&&(w.push(B),B=0,O=8)}for(var A=w.length-1;A>0&&0===w[A];A--)w.pop();return w}compactArray(){return this._sortData(),this._data.map(P)}}},7045:(Je,j,_)=>{Je.exports=P;var y=_(44356).EventEmitter;function P(){y.call(this)}_(71993)(P,y),P.Readable=_(19609),P.Writable=_(47849),P.Duplex=_(74075),P.Transform=_(2909),P.PassThrough=_(18823),P.finished=_(33139),P.pipeline=_(96249),P.Stream=P,P.prototype.pipe=function(H,w){var O=this;function S(z){H.writable&&!1===H.write(z)&&O.pause&&O.pause()}function B(){O.readable&&O.resume&&O.resume()}O.on("data",S),H.on("drain",B),!H._isStdio&&(!w||!1!==w.end)&&(O.on("end",U),O.on("close",A));var N=!1;function U(){N||(N=!0,H.end())}function A(){N||(N=!0,"function"==typeof H.destroy&&H.destroy())}function G(z){if(L(),0===y.listenerCount(this,"error"))throw z}function L(){O.removeListener("data",S),H.removeListener("drain",B),O.removeListener("end",U),O.removeListener("close",A),O.removeListener("error",G),H.removeListener("error",G),O.removeListener("end",L),O.removeListener("close",L),H.removeListener("close",L)}return O.on("error",G),H.on("error",G),O.on("end",L),O.on("close",L),H.on("close",L),H.emit("pipe",O),H}},78454:(Je,j,_)=>{"use strict";var y=_(27054).Buffer,b=y.isEncoding||function(J){switch((J=""+J)&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function w(J){var se;switch(this.encoding=function H(J){var se=function P(J){if(!J)return"utf8";for(var se;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(se)return;J=(""+J).toLowerCase(),se=!0}}(J);if("string"!=typeof se&&(y.isEncoding===b||!b(J)))throw new Error("Unknown encoding: "+J);return se||J}(J),this.encoding){case"utf16le":this.text=G,this.end=L,se=4;break;case"utf8":this.fillLast=N,se=4;break;case"base64":this.text=z,this.end=ee,se=3;break;default:return this.write=q,void(this.end=Z)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(se)}function O(J){return J<=127?0:J>>5==6?2:J>>4==14?3:J>>3==30?4:J>>6==2?-1:-2}function N(J){var se=this.lastTotal-this.lastNeed,ce=function B(J,se,ce){if(128!=(192&se[0]))return J.lastNeed=0,"\ufffd";if(J.lastNeed>1&&se.length>1){if(128!=(192&se[1]))return J.lastNeed=1,"\ufffd";if(J.lastNeed>2&&se.length>2&&128!=(192&se[2]))return J.lastNeed=2,"\ufffd"}}(this,J);return void 0!==ce?ce:this.lastNeed<=J.length?(J.copy(this.lastChar,se,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(J.copy(this.lastChar,se,0,J.length),void(this.lastNeed-=J.length))}function G(J,se){if((J.length-se)%2==0){var ce=J.toString("utf16le",se);if(ce){var ae=ce.charCodeAt(ce.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],ce.slice(0,-1)}return ce}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",se,J.length-1)}function L(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):se}function z(J,se){var ce=(J.length-se)%3;return 0===ce?J.toString("base64",se):(this.lastNeed=3-ce,this.lastTotal=3,1===ce?this.lastChar[0]=J[J.length-1]:(this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1]),J.toString("base64",se,J.length-ce))}function ee(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+this.lastChar.toString("base64",0,3-this.lastNeed):se}function q(J){return J.toString(this.encoding)}function Z(J){return J&&J.length?this.write(J):""}j.StringDecoder=w,w.prototype.write=function(J){if(0===J.length)return"";var se,ce;if(this.lastNeed){if(void 0===(se=this.fillLast(J)))return"";ce=this.lastNeed,this.lastNeed=0}else ce=0;return ce<J.length?se?se+this.text(J,ce):this.text(J,ce):se||""},w.prototype.end=function A(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+"\ufffd":se},w.prototype.text=function U(J,se){var ce=function S(J,se,ce){var ae=se.length-1;if(ae<ce)return 0;var fe=O(se[ae]);return fe>=0?(fe>0&&(J.lastNeed=fe-1),fe):--ae<ce||-2===fe?0:(fe=O(se[ae]))>=0?(fe>0&&(J.lastNeed=fe-2),fe):--ae<ce||-2===fe?0:(fe=O(se[ae]))>=0?(fe>0&&(2===fe?fe=0:J.lastNeed=fe-3),fe):0}(this,J,se);if(!this.lastNeed)return J.toString("utf8",se);this.lastTotal=ce;var ae=J.length-(ce-this.lastNeed);return J.copy(this.lastChar,0,ae),J.toString("utf8",se,ae)},w.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length}},95568:function(Je,j){!function(_){"use strict";function y(){for(var xt=arguments.length,qe=Array(xt),tt=0;tt<xt;tt++)qe[tt]=arguments[tt];if(qe.length>1){qe[0]=qe[0].slice(0,-1);for(var Wt=qe.length-1,Ft=1;Ft<Wt;++Ft)qe[Ft]=qe[Ft].slice(1,-1);return qe[Wt]=qe[Wt].slice(1),qe.join("")}return qe[0]}function b(xt){return"(?:"+xt+")"}function P(xt){return void 0===xt?"undefined":null===xt?"null":Object.prototype.toString.call(xt).split(" ").pop().split("]").shift().toLowerCase()}function H(xt){return xt.toUpperCase()}function S(xt){var qe="[A-Za-z]",Wt="[0-9]",mn=y(Wt,"[A-Fa-f]"),Tn=b(b("%[EFef]"+mn+"%"+mn+mn+"%"+mn+mn)+"|"+b("%[89A-Fa-f]"+mn+"%"+mn+mn)+"|"+b("%"+mn+mn)),ir="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Nn=y("[\\:\\/\\?\\#\\[\\]\\@]",ir),at=xt?"[\\uE000-\\uF8FF]":"[]",He=y(qe,Wt,"[\\-\\.\\_\\~]",xt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),ct=b(qe+y(qe,Wt,"[\\+\\-\\.]")+"*"),Zt=b(b(Tn+"|"+y(He,ir,"[\\:]"))+"*"),Hn=(b(b("25[0-5]")+"|"+b("2[0-4]"+Wt)+"|"+b("1"+Wt+Wt)+"|"+b("[1-9]"+Wt)+"|"+Wt),b(b("25[0-5]")+"|"+b("2[0-4]"+Wt)+"|"+b("1"+Wt+Wt)+"|"+b("0?[1-9]"+Wt)+"|0?0?"+Wt)),er=b(Hn+"\\."+Hn+"\\."+Hn+"\\."+Hn),hr=b(mn+"{1,4}"),Nr=b(b(hr+"\\:"+hr)+"|"+er),Cr=b(b(hr+"\\:")+"{6}"+Nr),Ur=b("\\:\\:"+b(hr+"\\:")+"{5}"+Nr),Lr=b(b(hr)+"?\\:\\:"+b(hr+"\\:")+"{4}"+Nr),oi=b(b(b(hr+"\\:")+"{0,1}"+hr)+"?\\:\\:"+b(hr+"\\:")+"{3}"+Nr),on=b(b(b(hr+"\\:")+"{0,2}"+hr)+"?\\:\\:"+b(hr+"\\:")+"{2}"+Nr),_n=b(b(b(hr+"\\:")+"{0,3}"+hr)+"?\\:\\:"+hr+"\\:"+Nr),Dn=b(b(b(hr+"\\:")+"{0,4}"+hr)+"?\\:\\:"+Nr),Wn=b(b(b(hr+"\\:")+"{0,5}"+hr)+"?\\:\\:"+hr),Gn=b(b(b(hr+"\\:")+"{0,6}"+hr)+"?\\:\\:"),wr=b([Cr,Ur,Lr,oi,on,_n,Dn,Wn,Gn].join("|")),xr=b(b(He+"|"+Tn)+"+"),Kr=(b(wr+"\\%25"+xr),b(wr+b("\\%25|\\%(?!"+mn+"{2})")+xr)),Ti=b("[vV]"+mn+"+\\."+y(He,ir,"[\\:]")+"+"),wo=b("\\["+b(Kr+"|"+wr+"|"+Ti)+"\\]"),si=b(b(Tn+"|"+y(He,ir))+"*"),ho=b(wo+"|"+er+"(?!"+si+")|"+si),yo=b(Wt+"*"),Io=b(b(Zt+"@")+"?"+ho+b("\\:"+yo)+"?"),pi=b(Tn+"|"+y(He,ir,"[\\:\\@]")),Li=b(pi+"*"),Ni=b(pi+"+"),Fa=b(b(Tn+"|"+y(He,ir,"[\\@]"))+"+"),Di=b(b("\\/"+Li)+"*"),Sn=b("\\/"+b(Ni+Di)+"?"),br=b(Fa+Di),dn=b(Ni+Di),Un="(?!"+pi+")",zr=(b(Di+"|"+Sn+"|"+br+"|"+dn+"|"+Un),b(b(pi+"|"+y("[\\/\\?]",at))+"*")),ti=b(b(pi+"|[\\/\\?]")+"*"),ps=b(b("\\/\\/"+Io+Di)+"|"+Sn+"|"+dn+"|"+Un),ns=b(ct+"\\:"+ps+b("\\?"+zr)+"?"+b("\\#"+ti)+"?"),Ga=b(b("\\/\\/"+Io+Di)+"|"+Sn+"|"+br+"|"+Un),ro=b(Ga+b("\\?"+zr)+"?"+b("\\#"+ti)+"?");return b(ns+"|"+ro),b(ct+"\\:"+ps+b("\\?"+zr)+"?"),b(b("\\/\\/("+b("("+Zt+")@")+"?("+ho+")"+b("\\:("+yo+")")+"?)")+"?("+Di+"|"+Sn+"|"+dn+"|"+Un+")"),b("\\?("+zr+")"),b("\\#("+ti+")"),b(b("\\/\\/("+b("("+Zt+")@")+"?("+ho+")"+b("\\:("+yo+")")+"?)")+"?("+Di+"|"+Sn+"|"+br+"|"+Un+")"),b("\\?("+zr+")"),b("\\#("+ti+")"),b(b("\\/\\/("+b("("+Zt+")@")+"?("+ho+")"+b("\\:("+yo+")")+"?)")+"?("+Di+"|"+Sn+"|"+dn+"|"+Un+")"),b("\\?("+zr+")"),b("\\#("+ti+")"),b("("+Zt+")@"),b("\\:("+yo+")"),{NOT_SCHEME:new RegExp(y("[^]",qe,Wt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(y("[^\\%\\:]",He,ir),"g"),NOT_HOST:new RegExp(y("[^\\%\\[\\]\\:]",He,ir),"g"),NOT_PATH:new RegExp(y("[^\\%\\/\\:\\@]",He,ir),"g"),NOT_PATH_NOSCHEME:new RegExp(y("[^\\%\\/\\@]",He,ir),"g"),NOT_QUERY:new RegExp(y("[^\\%]",He,ir,"[\\:\\@\\/\\?]",at),"g"),NOT_FRAGMENT:new RegExp(y("[^\\%]",He,ir,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(y("[^]",He,ir),"g"),UNRESERVED:new RegExp(He,"g"),OTHER_CHARS:new RegExp(y("[^\\%]",He,Nn),"g"),PCT_ENCODED:new RegExp(Tn,"g"),IPV4ADDRESS:new RegExp("^("+er+")$"),IPV6ADDRESS:new RegExp("^\\[?("+wr+")"+b(b("\\%25|\\%(?!"+mn+"{2})")+"("+xr+")")+"?\\]?$")}}var B=S(!1),N=S(!0),U=function(){return function(qe,tt){if(Array.isArray(qe))return qe;if(Symbol.iterator in Object(qe))return function xt(qe,tt){var Wt=[],Ft=!0,mn=!1,zn=void 0;try{for(var Tn,wn=qe[Symbol.iterator]();!(Ft=(Tn=wn.next()).done)&&(Wt.push(Tn.value),!tt||Wt.length!==tt);Ft=!0);}catch(vr){mn=!0,zn=vr}finally{try{!Ft&&wn.return&&wn.return()}finally{if(mn)throw zn}}return Wt}(qe,tt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),G=2147483647,L=36,ae=/^xn--/,fe=/[^\0-\x7E]/,he=/[\x2E\u3002\uFF0E\uFF61]/g,we={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Pe=Math.floor,C=String.fromCharCode;function a(xt){throw new RangeError(we[xt])}function m(xt,qe){var tt=xt.split("@"),Wt="";return tt.length>1&&(Wt=tt[0]+"@",xt=tt[1]),Wt+function d(xt,qe){for(var tt=[],Wt=xt.length;Wt--;)tt[Wt]=qe(xt[Wt]);return tt}((xt=xt.replace(he,".")).split("."),qe).join(".")}function p(xt){for(var qe=[],tt=0,Wt=xt.length;tt<Wt;){var Ft=xt.charCodeAt(tt++);if(Ft>=55296&&Ft<=56319&&tt<Wt){var mn=xt.charCodeAt(tt++);56320==(64512&mn)?qe.push(((1023&Ft)<<10)+(1023&mn)+65536):(qe.push(Ft),tt--)}else qe.push(Ft)}return qe}var D=function(qe){return qe-48<10?qe-22:qe-65<26?qe-65:qe-97<26?qe-97:L},R=function(qe,tt){return qe+22+75*(qe<26)-((0!=tt)<<5)},x=function(qe,tt,Wt){var Ft=0;for(qe=Wt?Pe(qe/700):qe>>1,qe+=Pe(qe/tt);qe>455;Ft+=L)qe=Pe(qe/35);return Pe(Ft+36*qe/(qe+38))},s=function(qe){var tt=[],Wt=qe.length,Ft=0,mn=128,zn=72,wn=qe.lastIndexOf("-");wn<0&&(wn=0);for(var Tn=0;Tn<wn;++Tn)qe.charCodeAt(Tn)>=128&&a("not-basic"),tt.push(qe.charCodeAt(Tn));for(var vr=wn>0?wn+1:0;vr<Wt;){for(var ir=Ft,Nn=1,Ln=L;;Ln+=L){vr>=Wt&&a("invalid-input");var at=D(qe.charCodeAt(vr++));(at>=L||at>Pe((G-Ft)/Nn))&&a("overflow"),Ft+=at*Nn;var He=Ln<=zn?1:Ln>=zn+26?26:Ln-zn;if(at<He)break;var ct=L-He;Nn>Pe(G/ct)&&a("overflow"),Nn*=ct}var Zt=tt.length+1;zn=x(Ft-ir,Zt,0==ir),Pe(Ft/Zt)>G-mn&&a("overflow"),mn+=Pe(Ft/Zt),Ft%=Zt,tt.splice(Ft++,0,mn)}return String.fromCodePoint.apply(String,tt)},v=function(qe){var tt=[],Wt=(qe=p(qe)).length,Ft=128,mn=0,zn=72,wn=!0,Tn=!1,vr=void 0;try{for(var Nn,ir=qe[Symbol.iterator]();!(wn=(Nn=ir.next()).done);wn=!0){var Ln=Nn.value;Ln<128&&tt.push(C(Ln))}}catch(Kr){Tn=!0,vr=Kr}finally{try{!wn&&ir.return&&ir.return()}finally{if(Tn)throw vr}}var at=tt.length,He=at;for(at&&tt.push("-");He<Wt;){var ct=G,Zt=!0,xn=!1,Hn=void 0;try{for(var hr,er=qe[Symbol.iterator]();!(Zt=(hr=er.next()).done);Zt=!0){var Nr=hr.value;Nr>=Ft&&Nr<ct&&(ct=Nr)}}catch(Kr){xn=!0,Hn=Kr}finally{try{!Zt&&er.return&&er.return()}finally{if(xn)throw Hn}}var Cr=He+1;ct-Ft>Pe((G-mn)/Cr)&&a("overflow"),mn+=(ct-Ft)*Cr,Ft=ct;var Ur=!0,Lr=!1,oi=void 0;try{for(var _n,on=qe[Symbol.iterator]();!(Ur=(_n=on.next()).done);Ur=!0){var Dn=_n.value;if(Dn<Ft&&++mn>G&&a("overflow"),Dn==Ft){for(var Wn=mn,Gn=L;;Gn+=L){var wr=Gn<=zn?1:Gn>=zn+26?26:Gn-zn;if(Wn<wr)break;var xr=Wn-wr,jr=L-wr;tt.push(C(R(wr+xr%jr,0))),Wn=Pe(xr/jr)}tt.push(C(R(Wn,0))),zn=x(mn,Cr,He==at),mn=0,++He}}}catch(Kr){Lr=!0,oi=Kr}finally{try{!Ur&&on.return&&on.return()}finally{if(Lr)throw oi}}++mn,++Ft}return tt.join("")},Q={version:"2.1.0",ucs2:{decode:p,encode:function(qe){return String.fromCodePoint.apply(String,function(xt){if(Array.isArray(xt)){for(var qe=0,tt=Array(xt.length);qe<xt.length;qe++)tt[qe]=xt[qe];return tt}return Array.from(xt)}(qe))}},decode:s,encode:v,toASCII:function(qe){return m(qe,function(tt){return fe.test(tt)?"xn--"+v(tt):tt})},toUnicode:function(qe){return m(qe,function(tt){return ae.test(tt)?s(tt.slice(4).toLowerCase()):tt})}},de={};function Ce(xt){var qe=xt.charCodeAt(0);return qe<16?"%0"+qe.toString(16).toUpperCase():qe<128?"%"+qe.toString(16).toUpperCase():qe<2048?"%"+(qe>>6|192).toString(16).toUpperCase()+"%"+(63&qe|128).toString(16).toUpperCase():"%"+(qe>>12|224).toString(16).toUpperCase()+"%"+(qe>>6&63|128).toString(16).toUpperCase()+"%"+(63&qe|128).toString(16).toUpperCase()}function Re(xt){for(var qe="",tt=0,Wt=xt.length;tt<Wt;){var Ft=parseInt(xt.substr(tt+1,2),16);if(Ft<128)qe+=String.fromCharCode(Ft),tt+=3;else if(Ft>=194&&Ft<224){if(Wt-tt>=6){var mn=parseInt(xt.substr(tt+4,2),16);qe+=String.fromCharCode((31&Ft)<<6|63&mn)}else qe+=xt.substr(tt,6);tt+=6}else if(Ft>=224){if(Wt-tt>=9){var zn=parseInt(xt.substr(tt+4,2),16),wn=parseInt(xt.substr(tt+7,2),16);qe+=String.fromCharCode((15&Ft)<<12|(63&zn)<<6|63&wn)}else qe+=xt.substr(tt,9);tt+=9}else qe+=xt.substr(tt,3),tt+=3}return qe}function Ve(xt,qe){function tt(Wt){var Ft=Re(Wt);return Ft.match(qe.UNRESERVED)?Ft:Wt}return xt.scheme&&(xt.scheme=String(xt.scheme).replace(qe.PCT_ENCODED,tt).toLowerCase().replace(qe.NOT_SCHEME,"")),void 0!==xt.userinfo&&(xt.userinfo=String(xt.userinfo).replace(qe.PCT_ENCODED,tt).replace(qe.NOT_USERINFO,Ce).replace(qe.PCT_ENCODED,H)),void 0!==xt.host&&(xt.host=String(xt.host).replace(qe.PCT_ENCODED,tt).toLowerCase().replace(qe.NOT_HOST,Ce).replace(qe.PCT_ENCODED,H)),void 0!==xt.path&&(xt.path=String(xt.path).replace(qe.PCT_ENCODED,tt).replace(xt.scheme?qe.NOT_PATH:qe.NOT_PATH_NOSCHEME,Ce).replace(qe.PCT_ENCODED,H)),void 0!==xt.query&&(xt.query=String(xt.query).replace(qe.PCT_ENCODED,tt).replace(qe.NOT_QUERY,Ce).replace(qe.PCT_ENCODED,H)),void 0!==xt.fragment&&(xt.fragment=String(xt.fragment).replace(qe.PCT_ENCODED,tt).replace(qe.NOT_FRAGMENT,Ce).replace(qe.PCT_ENCODED,H)),xt}function Ee(xt){return xt.replace(/^0*(.*)/,"$1")||"0"}function _e(xt,qe){var tt=xt.match(qe.IPV4ADDRESS)||[],Ft=U(tt,2)[1];return Ft?Ft.split(".").map(Ee).join("."):xt}function Fe(xt,qe){var tt=xt.match(qe.IPV6ADDRESS)||[],Wt=U(tt,3),Ft=Wt[1],mn=Wt[2];if(Ft){for(var zn=Ft.toLowerCase().split("::").reverse(),wn=U(zn,2),Tn=wn[0],vr=wn[1],ir=vr?vr.split(":").map(Ee):[],Nn=Tn.split(":").map(Ee),Ln=qe.IPV4ADDRESS.test(Nn[Nn.length-1]),at=Ln?7:8,He=Nn.length-at,ct=Array(at),Zt=0;Zt<at;++Zt)ct[Zt]=ir[Zt]||Nn[He+Zt]||"";Ln&&(ct[at-1]=_e(ct[at-1],qe));var Hn=ct.reduce(function(Cr,Ur,Lr){if(!Ur||"0"===Ur){var oi=Cr[Cr.length-1];oi&&oi.index+oi.length===Lr?oi.length++:Cr.push({index:Lr,length:1})}return Cr},[]).sort(function(Cr,Ur){return Ur.length-Cr.length})[0],er=void 0;if(Hn&&Hn.length>1){var hr=ct.slice(0,Hn.index),Nr=ct.slice(Hn.index+Hn.length);er=hr.join(":")+"::"+Nr.join(":")}else er=ct.join(":");return mn&&(er+="%"+mn),er}return xt}var be=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ae=void 0==="".match(/(){0}/)[1];function ge(xt){var qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tt={},Wt=!1!==qe.iri?N:B;"suffix"===qe.reference&&(xt=(qe.scheme?qe.scheme+":":"")+"//"+xt);var Ft=xt.match(be);if(Ft){Ae?(tt.scheme=Ft[1],tt.userinfo=Ft[3],tt.host=Ft[4],tt.port=parseInt(Ft[5],10),tt.path=Ft[6]||"",tt.query=Ft[7],tt.fragment=Ft[8],isNaN(tt.port)&&(tt.port=Ft[5])):(tt.scheme=Ft[1]||void 0,tt.userinfo=-1!==xt.indexOf("@")?Ft[3]:void 0,tt.host=-1!==xt.indexOf("//")?Ft[4]:void 0,tt.port=parseInt(Ft[5],10),tt.path=Ft[6]||"",tt.query=-1!==xt.indexOf("?")?Ft[7]:void 0,tt.fragment=-1!==xt.indexOf("#")?Ft[8]:void 0,isNaN(tt.port)&&(tt.port=xt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ft[4]:void 0)),tt.host&&(tt.host=Fe(_e(tt.host,Wt),Wt)),tt.reference=void 0!==tt.scheme||void 0!==tt.userinfo||void 0!==tt.host||void 0!==tt.port||tt.path||void 0!==tt.query?void 0===tt.scheme?"relative":void 0===tt.fragment?"absolute":"uri":"same-document",qe.reference&&"suffix"!==qe.reference&&qe.reference!==tt.reference&&(tt.error=tt.error||"URI is not a "+qe.reference+" reference.");var mn=de[(qe.scheme||tt.scheme||"").toLowerCase()];if(qe.unicodeSupport||mn&&mn.unicodeSupport)Ve(tt,Wt);else{if(tt.host&&(qe.domainHost||mn&&mn.domainHost))try{tt.host=Q.toASCII(tt.host.replace(Wt.PCT_ENCODED,Re).toLowerCase())}catch(zn){tt.error=tt.error||"Host's domain name can not be converted to ASCII via punycode: "+zn}Ve(tt,B)}mn&&mn.parse&&mn.parse(tt,qe)}else tt.error=tt.error||"URI can not be parsed.";return tt}var te=/^\.\.?\//,ne=/^\/\.(\/|$)/,ue=/^\/\.\.(\/|$)/,De=/^\/?(?:.|\n)*?(?=\/|$)/;function Be(xt){for(var qe=[];xt.length;)if(xt.match(te))xt=xt.replace(te,"");else if(xt.match(ne))xt=xt.replace(ne,"/");else if(xt.match(ue))xt=xt.replace(ue,"/"),qe.pop();else if("."===xt||".."===xt)xt="";else{var tt=xt.match(De);if(!tt)throw new Error("Unexpected dot segment condition");var Wt=tt[0];xt=xt.slice(Wt.length),qe.push(Wt)}return qe.join("")}function Qe(xt){var qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tt=qe.iri?N:B,Wt=[],Ft=de[(qe.scheme||xt.scheme||"").toLowerCase()];if(Ft&&Ft.serialize&&Ft.serialize(xt,qe),xt.host&&!tt.IPV6ADDRESS.test(xt.host)&&(qe.domainHost||Ft&&Ft.domainHost))try{xt.host=qe.iri?Q.toUnicode(xt.host):Q.toASCII(xt.host.replace(tt.PCT_ENCODED,Re).toLowerCase())}catch(wn){xt.error=xt.error||"Host's domain name can not be converted to "+(qe.iri?"Unicode":"ASCII")+" via punycode: "+wn}Ve(xt,tt),"suffix"!==qe.reference&&xt.scheme&&(Wt.push(xt.scheme),Wt.push(":"));var mn=function me(xt,qe){var tt=!1!==qe.iri?N:B,Wt=[];return void 0!==xt.userinfo&&(Wt.push(xt.userinfo),Wt.push("@")),void 0!==xt.host&&Wt.push(Fe(_e(String(xt.host),tt),tt).replace(tt.IPV6ADDRESS,function(Ft,mn,zn){return"["+mn+(zn?"%25"+zn:"")+"]"})),("number"==typeof xt.port||"string"==typeof xt.port)&&(Wt.push(":"),Wt.push(String(xt.port))),Wt.length?Wt.join(""):void 0}(xt,qe);if(void 0!==mn&&("suffix"!==qe.reference&&Wt.push("//"),Wt.push(mn),xt.path&&"/"!==xt.path.charAt(0)&&Wt.push("/")),void 0!==xt.path){var zn=xt.path;!qe.absolutePath&&(!Ft||!Ft.absolutePath)&&(zn=Be(zn)),void 0===mn&&(zn=zn.replace(/^\/\//,"/%2F")),Wt.push(zn)}return void 0!==xt.query&&(Wt.push("?"),Wt.push(xt.query)),void 0!==xt.fragment&&(Wt.push("#"),Wt.push(xt.fragment)),Wt.join("")}function ze(xt,qe){var tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ft={};return arguments[3]||(xt=ge(Qe(xt,tt),tt),qe=ge(Qe(qe,tt),tt)),!(tt=tt||{}).tolerant&&qe.scheme?(Ft.scheme=qe.scheme,Ft.userinfo=qe.userinfo,Ft.host=qe.host,Ft.port=qe.port,Ft.path=Be(qe.path||""),Ft.query=qe.query):(void 0!==qe.userinfo||void 0!==qe.host||void 0!==qe.port?(Ft.userinfo=qe.userinfo,Ft.host=qe.host,Ft.port=qe.port,Ft.path=Be(qe.path||""),Ft.query=qe.query):(qe.path?("/"===qe.path.charAt(0)?Ft.path=Be(qe.path):(Ft.path=void 0===xt.userinfo&&void 0===xt.host&&void 0===xt.port||xt.path?xt.path?xt.path.slice(0,xt.path.lastIndexOf("/")+1)+qe.path:qe.path:"/"+qe.path,Ft.path=Be(Ft.path)),Ft.query=qe.query):(Ft.path=xt.path,Ft.query=void 0!==qe.query?qe.query:xt.query),Ft.userinfo=xt.userinfo,Ft.host=xt.host,Ft.port=xt.port),Ft.scheme=xt.scheme),Ft.fragment=qe.fragment,Ft}function K(xt,qe){return xt&&xt.toString().replace(qe&&qe.iri?N.PCT_ENCODED:B.PCT_ENCODED,Re)}var T={scheme:"http",domainHost:!0,parse:function(qe,tt){return qe.host||(qe.error=qe.error||"HTTP URIs must have a host."),qe},serialize:function(qe,tt){var Wt="https"===String(qe.scheme).toLowerCase();return(qe.port===(Wt?443:80)||""===qe.port)&&(qe.port=void 0),qe.path||(qe.path="/"),qe}},M={scheme:"https",domainHost:T.domainHost,parse:T.parse,serialize:T.serialize};function Y(xt){return"boolean"==typeof xt.secure?xt.secure:"wss"===String(xt.scheme).toLowerCase()}var pe={scheme:"ws",domainHost:!0,parse:function(qe,tt){var Wt=qe;return Wt.secure=Y(Wt),Wt.resourceName=(Wt.path||"/")+(Wt.query?"?"+Wt.query:""),Wt.path=void 0,Wt.query=void 0,Wt},serialize:function(qe,tt){if((qe.port===(Y(qe)?443:80)||""===qe.port)&&(qe.port=void 0),"boolean"==typeof qe.secure&&(qe.scheme=qe.secure?"wss":"ws",qe.secure=void 0),qe.resourceName){var Wt=qe.resourceName.split("?"),Ft=U(Wt,2),mn=Ft[0],zn=Ft[1];qe.path=mn&&"/"!==mn?mn:void 0,qe.query=zn,qe.resourceName=void 0}return qe.fragment=void 0,qe}},ke={scheme:"wss",domainHost:pe.domainHost,parse:pe.parse,serialize:pe.serialize},Ne={},en="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",It="[0-9A-Fa-f]",Kt=b(b("%[EFef]"+It+"%"+It+It+"%"+It+It)+"|"+b("%[89A-Fa-f]"+It+"%"+It+It)+"|"+b("%"+It+It)),un=y("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Cn=new RegExp(en,"g"),cn=new RegExp(Kt,"g"),qt=new RegExp(y("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',un),"g"),bt=new RegExp(y("[^]",en,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ut=bt;function Gt(xt){var qe=Re(xt);return qe.match(Cn)?qe:xt}var nn={scheme:"mailto",parse:function(qe,tt){var Wt=qe,Ft=Wt.to=Wt.path?Wt.path.split(","):[];if(Wt.path=void 0,Wt.query){for(var mn=!1,zn={},wn=Wt.query.split("&"),Tn=0,vr=wn.length;Tn<vr;++Tn){var ir=wn[Tn].split("=");switch(ir[0]){case"to":for(var Nn=ir[1].split(","),Ln=0,at=Nn.length;Ln<at;++Ln)Ft.push(Nn[Ln]);break;case"subject":Wt.subject=K(ir[1],tt);break;case"body":Wt.body=K(ir[1],tt);break;default:mn=!0,zn[K(ir[0],tt)]=K(ir[1],tt)}}mn&&(Wt.headers=zn)}Wt.query=void 0;for(var He=0,ct=Ft.length;He<ct;++He){var Zt=Ft[He].split("@");if(Zt[0]=K(Zt[0]),tt.unicodeSupport)Zt[1]=K(Zt[1],tt).toLowerCase();else try{Zt[1]=Q.toASCII(K(Zt[1],tt).toLowerCase())}catch(xn){Wt.error=Wt.error||"Email address's domain name can not be converted to ASCII via punycode: "+xn}Ft[He]=Zt.join("@")}return Wt},serialize:function(qe,tt){var Wt=qe,Ft=function w(xt){return null!=xt?xt instanceof Array?xt:"number"!=typeof xt.length||xt.split||xt.setInterval||xt.call?[xt]:Array.prototype.slice.call(xt):[]}(qe.to);if(Ft){for(var mn=0,zn=Ft.length;mn<zn;++mn){var wn=String(Ft[mn]),Tn=wn.lastIndexOf("@"),vr=wn.slice(0,Tn).replace(cn,Gt).replace(cn,H).replace(qt,Ce),ir=wn.slice(Tn+1);try{ir=tt.iri?Q.toUnicode(ir):Q.toASCII(K(ir,tt).toLowerCase())}catch(He){Wt.error=Wt.error||"Email address's domain name can not be converted to "+(tt.iri?"Unicode":"ASCII")+" via punycode: "+He}Ft[mn]=vr+"@"+ir}Wt.path=Ft.join(",")}var Nn=qe.headers=qe.headers||{};qe.subject&&(Nn.subject=qe.subject),qe.body&&(Nn.body=qe.body);var Ln=[];for(var at in Nn)Nn[at]!==Ne[at]&&Ln.push(at.replace(cn,Gt).replace(cn,H).replace(bt,Ce)+"="+Nn[at].replace(cn,Gt).replace(cn,H).replace(ut,Ce));return Ln.length&&(Wt.query=Ln.join("&")),Wt}},pn=/^([^\:]+)\:(.*)/,ur={scheme:"urn",parse:function(qe,tt){var Wt=qe.path&&qe.path.match(pn),Ft=qe;if(Wt){var mn=tt.scheme||Ft.scheme||"urn",zn=Wt[1].toLowerCase(),wn=Wt[2],vr=de[mn+":"+(tt.nid||zn)];Ft.nid=zn,Ft.nss=wn,Ft.path=void 0,vr&&(Ft=vr.parse(Ft,tt))}else Ft.error=Ft.error||"URN can not be parsed.";return Ft},serialize:function(qe,tt){var Ft=qe.nid,zn=de[(tt.scheme||qe.scheme||"urn")+":"+(tt.nid||Ft)];zn&&(qe=zn.serialize(qe,tt));var wn=qe;return wn.path=(Ft||tt.nid)+":"+qe.nss,wn}},yt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,_t={scheme:"urn:uuid",parse:function(qe,tt){var Wt=qe;return Wt.uuid=Wt.nss,Wt.nss=void 0,!tt.tolerant&&(!Wt.uuid||!Wt.uuid.match(yt))&&(Wt.error=Wt.error||"UUID is not valid."),Wt},serialize:function(qe,tt){var Wt=qe;return Wt.nss=(qe.uuid||"").toLowerCase(),Wt}};de[T.scheme]=T,de[M.scheme]=M,de[pe.scheme]=pe,de[ke.scheme]=ke,de[nn.scheme]=nn,de[ur.scheme]=ur,de[_t.scheme]=_t,_.SCHEMES=de,_.pctEncChar=Ce,_.pctDecChars=Re,_.parse=ge,_.removeDotSegments=Be,_.serialize=Qe,_.resolveComponents=ze,_.resolve=function Dt(xt,qe,tt){var Wt=function O(xt,qe){var tt=xt;if(qe)for(var Wt in qe)tt[Wt]=qe[Wt];return tt}({scheme:"null"},tt);return Qe(ze(ge(xt,Wt),ge(qe,Wt),Wt,!0),Wt)},_.normalize=function Xe(xt,qe){return"string"==typeof xt?xt=Qe(ge(xt,qe),qe):"object"===P(xt)&&(xt=ge(Qe(xt,qe),qe)),xt},_.equal=function Ue(xt,qe,tt){return"string"==typeof xt?xt=Qe(ge(xt,tt),tt):"object"===P(xt)&&(xt=Qe(xt,tt)),"string"==typeof qe?qe=Qe(ge(qe,tt),tt):"object"===P(qe)&&(qe=Qe(qe,tt)),xt===qe},_.escapeComponent=function mt(xt,qe){return xt&&xt.toString().replace(qe&&qe.iri?N.ESCAPE:B.ESCAPE,Ce)},_.unescapeComponent=K,Object.defineProperty(_,"__esModule",{value:!0})}(j)},3398:Je=>{function _(y){try{if(!globalThis.localStorage)return!1}catch{return!1}var b=globalThis.localStorage[y];return null!=b&&"true"===String(b).toLowerCase()}Je.exports=function j(y,b){if(_("noDeprecation"))return y;var P=!1;return function H(){if(!P){if(_("throwDeprecation"))throw new Error(b);_("traceDeprecation")?console.trace(b):console.warn(b),P=!0}return y.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},25172:Je=>{Je.exports=function j(_,y){this.v=_,this.k=y},Je.exports.__esModule=!0,Je.exports.default=Je.exports},93513:(Je,j,_)=>{var y=_(25172);Je.exports=function b(P){var H={},w=!1;function O(S,B){return w=!0,B=new Promise(function(N){N(P[S](B))}),{done:!1,value:new y(B,1)}}return H[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},H.next=function(S){return w?(w=!1,S):O("next",S)},"function"==typeof P.throw&&(H.throw=function(S){if(w)throw w=!1,S;return O("throw",S)}),"function"==typeof P.return&&(H.return=function(S){return w?(w=!1,S):O("return",S)}),H},Je.exports.__esModule=!0,Je.exports.default=Je.exports},82881:Je=>{function _(y){function b(P){if(Object(P)!==P)return Promise.reject(new TypeError(P+" is not an object."));var H=P.done;return Promise.resolve(P.value).then(function(w){return{value:w,done:H}})}return(_=function(H){this.s=H,this.n=H.next}).prototype={s:null,n:null,next:function(){return b(this.n.apply(this.s,arguments))},return:function(H){var w=this.s.return;return void 0===w?Promise.resolve({value:H,done:!0}):b(w.apply(this.s,arguments))},throw:function(H){var w=this.s.return;return void 0===w?Promise.reject(H):b(w.apply(this.s,arguments))}},new _(y)}Je.exports=function j(y){var b,P,H,w=2;for(typeof Symbol<"u"&&(P=Symbol.asyncIterator,H=Symbol.iterator);w--;){if(P&&null!=(b=y[P]))return b.call(y);if(H&&null!=(b=y[H]))return new _(b.call(y));P="@@asyncIterator",H="@@iterator"}throw new TypeError("Object is not async iterable")},Je.exports.__esModule=!0,Je.exports.default=Je.exports},29293:Je=>{function j(y,b,P,H,w,O,S){try{var B=y[O](S),N=B.value}catch(U){return void P(U)}B.done?b(N):Promise.resolve(N).then(H,w)}Je.exports=function _(y){return function(){var b=this,P=arguments;return new Promise(function(H,w){var O=y.apply(b,P);function S(N){j(O,H,w,S,B,"next",N)}function B(N){j(O,H,w,S,B,"throw",N)}S(void 0)})}},Je.exports.__esModule=!0,Je.exports.default=Je.exports},53344:(Je,j,_)=>{var y=_(25172);Je.exports=function b(P){return new y(P,0)},Je.exports.__esModule=!0,Je.exports.default=Je.exports},42958:(Je,j,_)=>{var y=_(25172);function P(H){var w,O;function S(N,U){try{var A=H[N](U),G=A.value,L=G instanceof y;Promise.resolve(L?G.v:G).then(function(z){if(L){var ee="return"===N?"return":"next";if(!G.k||z.done)return S(ee,z);z=H[ee](z).value}B(A.done?"return":"normal",z)},function(z){S("throw",z)})}catch(z){B("throw",z)}}function B(N,U){switch(N){case"return":w.resolve({value:U,done:!0});break;case"throw":w.reject(U);break;default:w.resolve({value:U,done:!1})}(w=w.next)?S(w.key,w.arg):O=null}this._invoke=function(N,U){return new Promise(function(A,G){var L={key:N,arg:U,resolve:A,reject:G,next:null};O?O=O.next=L:(w=O=L,S(N,U))})},"function"!=typeof H.return&&(this.return=void 0)}P.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},P.prototype.next=function(H){return this._invoke("next",H)},P.prototype.throw=function(H){return this._invoke("throw",H)},P.prototype.return=function(H){return this._invoke("return",H)},Je.exports=function b(H){return function(){return new P(H.apply(this,arguments))}},Je.exports.__esModule=!0,Je.exports.default=Je.exports},49969:(Je,j,_)=>{"use strict";_.d(j,{FX:()=>Pe,If:()=>y,K2:()=>O,MA:()=>G,P:()=>z,hZ:()=>P,i0:()=>H,i7:()=>N,iF:()=>S,kY:()=>U,kp:()=>b,sf:()=>we,ui:()=>Me,wk:()=>B});var y=function(C){return C[C.State=0]="State",C[C.Transition=1]="Transition",C[C.Sequence=2]="Sequence",C[C.Group=3]="Group",C[C.Animate=4]="Animate",C[C.Keyframes=5]="Keyframes",C[C.Style=6]="Style",C[C.Trigger=7]="Trigger",C[C.Reference=8]="Reference",C[C.AnimateChild=9]="AnimateChild",C[C.AnimateRef=10]="AnimateRef",C[C.Query=11]="Query",C[C.Stagger=12]="Stagger",C}(y||{});const b="*";function P(C,a){return{type:y.Trigger,name:C,definitions:a,options:{}}}function H(C,a=null){return{type:y.Animate,styles:a,timings:C}}function O(C,a=null){return{type:y.Sequence,steps:C,options:a}}function S(C){return{type:y.Style,styles:C,offset:null}}function B(C,a,d){return{type:y.State,name:C,styles:a,options:d}}function N(C){return{type:y.Keyframes,steps:C}}function U(C,a,d=null){return{type:y.Transition,expr:C,animation:a,options:d}}function G(C=null){return{type:y.AnimateChild,options:C}}function z(C,a,d=null){return{type:y.Query,selector:C,animation:a,options:d}}class we{constructor(a=0,d=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=a+d}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const d="start"==a?this._onStartFns:this._onDoneFns;d.forEach(m=>m()),d.length=0}}class Me{constructor(a){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=a;let d=0,m=0,p=0;const E=this.players.length;0==E?queueMicrotask(()=>this._onFinish()):this.players.forEach(D=>{D.onDone(()=>{++d==E&&this._onFinish()}),D.onDestroy(()=>{++m==E&&this._onDestroy()}),D.onStart(()=>{++p==E&&this._onStart()})}),this.totalTime=this.players.reduce((D,R)=>Math.max(D,R.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const d=a*this.totalTime;this.players.forEach(m=>{const p=m.totalTime?Math.min(1,d/m.totalTime):1;m.setPosition(p)})}getPosition(){const a=this.players.reduce((d,m)=>null===d||m.totalTime>d.totalTime?m:d,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const d="start"==a?this._onStartFns:this._onDoneFns;d.forEach(m=>m()),d.length=0}}const Pe="!"},18617:(Je,j,_)=>{"use strict";_.d(j,{Ae:()=>ae,Ai:()=>Y,Au:()=>p,Bu:()=>E,FN:()=>en,GX:()=>be,Pd:()=>Cn,Q_:()=>sr,Z7:()=>R,_G:()=>De,px:()=>ce,vR:()=>It,vr:()=>C,w6:()=>Be});var y=_(60177),b=_(93953),P=_(36860),H=_(21413),w=_(18359),O=_(84412),S=_(7673),B=_(67336),N=_(88141),U=_(70152),A=_(5964),G=_(96354),L=_(65245),z=_(23294),ee=_(56977),q=_(72318),Z=_(14085),J=_(99327);const se=" ";function ce(cn,qt,bt){const ut=fe(cn,qt);bt=bt.trim(),!ut.some(Gt=>Gt.trim()===bt)&&(ut.push(bt),cn.setAttribute(qt,ut.join(se)))}function ae(cn,qt,bt){const ut=fe(cn,qt);bt=bt.trim();const Gt=ut.filter(nn=>nn!==bt);Gt.length?cn.setAttribute(qt,Gt.join(se)):cn.removeAttribute(qt)}function fe(cn,qt){return cn.getAttribute(qt)?.match(/\S+/g)??[]}const we="cdk-describedby-message",Me="cdk-describedby-host";let Pe=0,C=(()=>{class cn{constructor(bt,ut){this._platform=ut,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Pe++,this._document=bt,this._id=(0,b.WQX)(b.sZ2)+"-"+Pe++}describe(bt,ut,Gt){if(!this._canBeDescribed(bt,ut))return;const nn=a(ut,Gt);"string"!=typeof ut?(d(ut,this._id),this._messageRegistry.set(nn,{messageElement:ut,referenceCount:0})):this._messageRegistry.has(nn)||this._createMessageElement(ut,Gt),this._isElementDescribedByMessage(bt,nn)||this._addMessageReference(bt,nn)}removeDescription(bt,ut,Gt){if(!ut||!this._isElementNode(bt))return;const nn=a(ut,Gt);if(this._isElementDescribedByMessage(bt,nn)&&this._removeMessageReference(bt,nn),"string"==typeof ut){const pn=this._messageRegistry.get(nn);pn&&0===pn.referenceCount&&this._deleteMessageElement(nn)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const bt=this._document.querySelectorAll(`[${Me}="${this._id}"]`);for(let ut=0;ut<bt.length;ut++)this._removeCdkDescribedByReferenceIds(bt[ut]),bt[ut].removeAttribute(Me);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(bt,ut){const Gt=this._document.createElement("div");d(Gt,this._id),Gt.textContent=bt,ut&&Gt.setAttribute("role",ut),this._createMessagesContainer(),this._messagesContainer.appendChild(Gt),this._messageRegistry.set(a(bt,ut),{messageElement:Gt,referenceCount:0})}_deleteMessageElement(bt){this._messageRegistry.get(bt)?.messageElement?.remove(),this._messageRegistry.delete(bt)}_createMessagesContainer(){if(this._messagesContainer)return;const bt="cdk-describedby-message-container",ut=this._document.querySelectorAll(`.${bt}[platform="server"]`);for(let nn=0;nn<ut.length;nn++)ut[nn].remove();const Gt=this._document.createElement("div");Gt.style.visibility="hidden",Gt.classList.add(bt),Gt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Gt.setAttribute("platform","server"),this._document.body.appendChild(Gt),this._messagesContainer=Gt}_removeCdkDescribedByReferenceIds(bt){const ut=fe(bt,"aria-describedby").filter(Gt=>0!=Gt.indexOf(we));bt.setAttribute("aria-describedby",ut.join(" "))}_addMessageReference(bt,ut){const Gt=this._messageRegistry.get(ut);ce(bt,"aria-describedby",Gt.messageElement.id),bt.setAttribute(Me,this._id),Gt.referenceCount++}_removeMessageReference(bt,ut){const Gt=this._messageRegistry.get(ut);Gt.referenceCount--,ae(bt,"aria-describedby",Gt.messageElement.id),bt.removeAttribute(Me)}_isElementDescribedByMessage(bt,ut){const Gt=fe(bt,"aria-describedby"),nn=this._messageRegistry.get(ut),pn=nn&&nn.messageElement.id;return!!pn&&-1!=Gt.indexOf(pn)}_canBeDescribed(bt,ut){if(!this._isElementNode(bt))return!1;if(ut&&"object"==typeof ut)return!0;const Gt=null==ut?"":`${ut}`.trim(),nn=bt.getAttribute("aria-label");return!(!Gt||nn&&nn.trim()===Gt)}_isElementNode(bt){return bt.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(y.qQ),b.KVO(P.OD))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();function a(cn,qt){return"string"==typeof cn?`${qt||""}/${cn}`:cn}function d(cn,qt){cn.id||(cn.id=`${we}-${qt}-${Pe++}`)}class m{constructor(qt,bt){this._items=qt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new H.B,this._typeaheadSubscription=w.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ut=>ut.disabled,this._pressedLetters=[],this.tabOut=new H.B,this.change=new H.B,qt instanceof b.rOR?this._itemChangesSubscription=qt.changes.subscribe(ut=>this._itemsChanged(ut.toArray())):(0,b.Hps)(qt)&&(this._effectRef=(0,b.QZP)(()=>this._itemsChanged(qt()),{injector:bt}))}skipPredicate(qt){return this._skipPredicateFn=qt,this}withWrap(qt=!0){return this._wrap=qt,this}withVerticalOrientation(qt=!0){return this._vertical=qt,this}withHorizontalOrientation(qt){return this._horizontal=qt,this}withAllowedModifierKeys(qt){return this._allowedModifierKeys=qt,this}withTypeAhead(qt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,N.M)(bt=>this._pressedLetters.push(bt)),(0,U.B)(qt),(0,A.p)(()=>this._pressedLetters.length>0),(0,G.T)(()=>this._pressedLetters.join(""))).subscribe(bt=>{const ut=this._getItemsArray();for(let Gt=1;Gt<ut.length+1;Gt++){const nn=(this._activeItemIndex+Gt)%ut.length,pn=ut[nn];if(!this._skipPredicateFn(pn)&&0===pn.getLabel().toUpperCase().trim().indexOf(bt)){this.setActiveItem(nn);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(qt=!0){return this._homeAndEnd=qt,this}withPageUpDown(qt=!0,bt=10){return this._pageUpAndDown={enabled:qt,delta:bt},this}setActiveItem(qt){const bt=this._activeItem;this.updateActiveItem(qt),this._activeItem!==bt&&this.change.next(this._activeItemIndex)}onKeydown(qt){const bt=qt.keyCode,Gt=["altKey","ctrlKey","metaKey","shiftKey"].every(nn=>!qt[nn]||this._allowedModifierKeys.indexOf(nn)>-1);switch(bt){case B.wn:return void this.tabOut.next();case B.n6:if(this._vertical&&Gt){this.setNextItemActive();break}return;case B.i7:if(this._vertical&&Gt){this.setPreviousItemActive();break}return;case B.LE:if(this._horizontal&&Gt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case B.UQ:if(this._horizontal&&Gt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case B.yZ:if(this._homeAndEnd&&Gt){this.setFirstItemActive();break}return;case B.Kp:if(this._homeAndEnd&&Gt){this.setLastItemActive();break}return;case B.w_:if(this._pageUpAndDown.enabled&&Gt){const nn=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(nn>0?nn:0,1);break}return;case B.dB:if(this._pageUpAndDown.enabled&&Gt){const nn=this._activeItemIndex+this._pageUpAndDown.delta,pn=this._getItemsArray().length;this._setActiveItemByIndex(nn<pn?nn:pn-1,-1);break}return;default:return void((Gt||(0,B.rp)(qt,"shiftKey"))&&(qt.key&&1===qt.key.length?this._letterKeyStream.next(qt.key.toLocaleUpperCase()):(bt>=B.A&&bt<=B.Z||bt>=B.f2&&bt<=B.bn)&&this._letterKeyStream.next(String.fromCharCode(bt))))}this._pressedLetters=[],qt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(qt){const bt=this._getItemsArray(),ut="number"==typeof qt?qt:bt.indexOf(qt);this._activeItem=bt[ut]??null,this._activeItemIndex=ut}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(qt){this._wrap?this._setActiveInWrapMode(qt):this._setActiveInDefaultMode(qt)}_setActiveInWrapMode(qt){const bt=this._getItemsArray();for(let ut=1;ut<=bt.length;ut++){const Gt=(this._activeItemIndex+qt*ut+bt.length)%bt.length;if(!this._skipPredicateFn(bt[Gt]))return void this.setActiveItem(Gt)}}_setActiveInDefaultMode(qt){this._setActiveItemByIndex(this._activeItemIndex+qt,qt)}_setActiveItemByIndex(qt,bt){const ut=this._getItemsArray();if(ut[qt]){for(;this._skipPredicateFn(ut[qt]);)if(!ut[qt+=bt])return;this.setActiveItem(qt)}}_getItemsArray(){return(0,b.Hps)(this._items)?this._items():this._items instanceof b.rOR?this._items.toArray():this._items}_itemsChanged(qt){if(this._activeItem){const bt=qt.indexOf(this._activeItem);bt>-1&&bt!==this._activeItemIndex&&(this._activeItemIndex=bt)}}}class p extends m{setActiveItem(qt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(qt),this.activeItem&&this.activeItem.setActiveStyles()}}class E extends m{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(qt){return this._origin=qt,this}setActiveItem(qt){super.setActiveItem(qt),this.activeItem&&this.activeItem.focus(this._origin)}}let R=(()=>{class cn{constructor(bt){this._platform=bt}isDisabled(bt){return bt.hasAttribute("disabled")}isVisible(bt){return function s(cn){return!!(cn.offsetWidth||cn.offsetHeight||"function"==typeof cn.getClientRects&&cn.getClientRects().length)}(bt)&&"visible"===getComputedStyle(bt).visibility}isTabbable(bt){if(!this._platform.isBrowser)return!1;const ut=function x(cn){try{return cn.frameElement}catch{return null}}(function _e(cn){return cn.ownerDocument&&cn.ownerDocument.defaultView||window}(bt));if(ut&&(-1===Re(ut)||!this.isVisible(ut)))return!1;let Gt=bt.nodeName.toLowerCase(),nn=Re(bt);return bt.hasAttribute("contenteditable")?-1!==nn:!("iframe"===Gt||"object"===Gt||this._platform.WEBKIT&&this._platform.IOS&&!function Ve(cn){let qt=cn.nodeName.toLowerCase(),bt="input"===qt&&cn.type;return"text"===bt||"password"===bt||"select"===qt||"textarea"===qt}(bt))&&("audio"===Gt?!!bt.hasAttribute("controls")&&-1!==nn:"video"===Gt?-1!==nn&&(null!==nn||this._platform.FIREFOX||bt.hasAttribute("controls")):bt.tabIndex>=0)}isFocusable(bt,ut){return function Ee(cn){return!function $(cn){return function Q(cn){return"input"==cn.nodeName.toLowerCase()}(cn)&&"hidden"==cn.type}(cn)&&(function v(cn){let qt=cn.nodeName.toLowerCase();return"input"===qt||"select"===qt||"button"===qt||"textarea"===qt}(cn)||function F(cn){return function de(cn){return"a"==cn.nodeName.toLowerCase()}(cn)&&cn.hasAttribute("href")}(cn)||cn.hasAttribute("contenteditable")||Ce(cn))}(bt)&&!this.isDisabled(bt)&&(ut?.ignoreVisibility||this.isVisible(bt))}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(P.OD))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();function Ce(cn){if(!cn.hasAttribute("tabindex")||void 0===cn.tabIndex)return!1;let qt=cn.getAttribute("tabindex");return!(!qt||isNaN(parseInt(qt,10)))}function Re(cn){if(!Ce(cn))return null;const qt=parseInt(cn.getAttribute("tabindex")||"",10);return isNaN(qt)?-1:qt}class Fe{get enabled(){return this._enabled}set enabled(qt){this._enabled=qt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(qt,this._startAnchor),this._toggleAnchorTabIndex(qt,this._endAnchor))}constructor(qt,bt,ut,Gt,nn=!1,pn){this._element=qt,this._checker=bt,this._ngZone=ut,this._document=Gt,this._injector=pn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,nn||this.attachAnchors()}destroy(){const qt=this._startAnchor,bt=this._endAnchor;qt&&(qt.removeEventListener("focus",this.startAnchorListener),qt.remove()),bt&&(bt.removeEventListener("focus",this.endAnchorListener),bt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(qt){return new Promise(bt=>{this._executeOnStable(()=>bt(this.focusInitialElement(qt)))})}focusFirstTabbableElementWhenReady(qt){return new Promise(bt=>{this._executeOnStable(()=>bt(this.focusFirstTabbableElement(qt)))})}focusLastTabbableElementWhenReady(qt){return new Promise(bt=>{this._executeOnStable(()=>bt(this.focusLastTabbableElement(qt)))})}_getRegionBoundary(qt){const bt=this._element.querySelectorAll(`[cdk-focus-region-${qt}], [cdkFocusRegion${qt}], [cdk-focus-${qt}]`);return"start"==qt?bt.length?bt[0]:this._getFirstTabbableElement(this._element):bt.length?bt[bt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(qt){const bt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(bt){if(!this._checker.isFocusable(bt)){const ut=this._getFirstTabbableElement(bt);return ut?.focus(qt),!!ut}return bt.focus(qt),!0}return this.focusFirstTabbableElement(qt)}focusFirstTabbableElement(qt){const bt=this._getRegionBoundary("start");return bt&&bt.focus(qt),!!bt}focusLastTabbableElement(qt){const bt=this._getRegionBoundary("end");return bt&&bt.focus(qt),!!bt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(qt){if(this._checker.isFocusable(qt)&&this._checker.isTabbable(qt))return qt;const bt=qt.children;for(let ut=0;ut<bt.length;ut++){const Gt=bt[ut].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(bt[ut]):null;if(Gt)return Gt}return null}_getLastTabbableElement(qt){if(this._checker.isFocusable(qt)&&this._checker.isTabbable(qt))return qt;const bt=qt.children;for(let ut=bt.length-1;ut>=0;ut--){const Gt=bt[ut].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(bt[ut]):null;if(Gt)return Gt}return null}_createAnchor(){const qt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,qt),qt.classList.add("cdk-visually-hidden"),qt.classList.add("cdk-focus-trap-anchor"),qt.setAttribute("aria-hidden","true"),qt}_toggleAnchorTabIndex(qt,bt){qt?bt.setAttribute("tabindex","0"):bt.removeAttribute("tabindex")}toggleAnchors(qt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(qt,this._startAnchor),this._toggleAnchorTabIndex(qt,this._endAnchor))}_executeOnStable(qt){this._injector?(0,b.mal)(qt,{injector:this._injector}):setTimeout(qt)}}let be=(()=>{class cn{constructor(bt,ut,Gt){this._checker=bt,this._ngZone=ut,this._injector=(0,b.WQX)(b.zZn),this._document=Gt}create(bt,ut=!1){return new Fe(bt,this._checker,this._ngZone,this._document,ut,this._injector)}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(R),b.KVO(b.SKi),b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();function De(cn){return 0===cn.buttons||0===cn.detail}function Be(cn){const qt=cn.touches&&cn.touches[0]||cn.changedTouches&&cn.changedTouches[0];return!(!qt||-1!==qt.identifier||null!=qt.radiusX&&1!==qt.radiusX||null!=qt.radiusY&&1!==qt.radiusY)}const Qe=new b.nKC("cdk-input-modality-detector-options"),ze={ignoreKeys:[B.A$,B.W3,B.eg,B.Ge,B.FX]},Xe=(0,P.BQ)({passive:!0,capture:!0});let Ue=(()=>{class cn{get mostRecentModality(){return this._modality.value}constructor(bt,ut,Gt,nn){this._platform=bt,this._mostRecentTarget=null,this._modality=new O.t(null),this._lastTouchMs=0,this._onKeydown=pn=>{this._options?.ignoreKeys?.some(ur=>ur===pn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,P.Fb)(pn))},this._onMousedown=pn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(De(pn)?"keyboard":"mouse"),this._mostRecentTarget=(0,P.Fb)(pn))},this._onTouchstart=pn=>{Be(pn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,P.Fb)(pn))},this._options={...ze,...nn},this.modalityDetected=this._modality.pipe((0,L.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,z.F)()),bt.isBrowser&&ut.runOutsideAngular(()=>{Gt.addEventListener("keydown",this._onKeydown,Xe),Gt.addEventListener("mousedown",this._onMousedown,Xe),Gt.addEventListener("touchstart",this._onTouchstart,Xe)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xe),document.removeEventListener("mousedown",this._onMousedown,Xe),document.removeEventListener("touchstart",this._onTouchstart,Xe))}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(P.OD),b.KVO(b.SKi),b.KVO(y.qQ),b.KVO(Qe,8))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();const mt=new b.nKC("liveAnnouncerElement",{providedIn:"root",factory:function K(){return null}}),T=new b.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let M=0,Y=(()=>{class cn{constructor(bt,ut,Gt,nn){this._ngZone=ut,this._defaultOptions=nn,this._document=Gt,this._liveElement=bt||this._createLiveElement()}announce(bt,...ut){const Gt=this._defaultOptions;let nn,pn;return 1===ut.length&&"number"==typeof ut[0]?pn=ut[0]:[nn,pn]=ut,this.clear(),clearTimeout(this._previousTimeout),nn||(nn=Gt&&Gt.politeness?Gt.politeness:"polite"),null==pn&&Gt&&(pn=Gt.duration),this._liveElement.setAttribute("aria-live",nn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(ur=>this._currentResolve=ur)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=bt,"number"==typeof pn&&(this._previousTimeout=setTimeout(()=>this.clear(),pn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const bt="cdk-live-announcer-element",ut=this._document.getElementsByClassName(bt),Gt=this._document.createElement("div");for(let nn=0;nn<ut.length;nn++)ut[nn].remove();return Gt.classList.add(bt),Gt.classList.add("cdk-visually-hidden"),Gt.setAttribute("aria-atomic","true"),Gt.setAttribute("aria-live","polite"),Gt.id="cdk-live-announcer-"+M++,this._document.body.appendChild(Gt),Gt}_exposeAnnouncerToModals(bt){const ut=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Gt=0;Gt<ut.length;Gt++){const nn=ut[Gt],pn=nn.getAttribute("aria-owns");pn?-1===pn.indexOf(bt)&&nn.setAttribute("aria-owns",pn+" "+bt):nn.setAttribute("aria-owns",bt)}}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(mt,8),b.KVO(b.SKi),b.KVO(y.qQ),b.KVO(T,8))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();var ke=function(cn){return cn[cn.IMMEDIATE=0]="IMMEDIATE",cn[cn.EVENTUAL=1]="EVENTUAL",cn}(ke||{});const Ne=new b.nKC("cdk-focus-monitor-default-options"),lt=(0,P.BQ)({passive:!0,capture:!0});let en=(()=>{class cn{constructor(bt,ut,Gt,nn,pn){this._ngZone=bt,this._platform=ut,this._inputModalityDetector=Gt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new H.B,this._rootNodeFocusAndBlurListener=ur=>{for(let _t=(0,P.Fb)(ur);_t;_t=_t.parentElement)"focus"===ur.type?this._onFocus(ur,_t):this._onBlur(ur,_t)},this._document=nn,this._detectionMode=pn?.detectionMode||ke.IMMEDIATE}monitor(bt,ut=!1){const Gt=(0,Z.i8)(bt);if(!this._platform.isBrowser||1!==Gt.nodeType)return(0,S.of)();const nn=(0,P.KT)(Gt)||this._getDocument(),pn=this._elementInfo.get(Gt);if(pn)return ut&&(pn.checkChildren=!0),pn.subject;const ur={checkChildren:ut,subject:new H.B,rootNode:nn};return this._elementInfo.set(Gt,ur),this._registerGlobalListeners(ur),ur.subject}stopMonitoring(bt){const ut=(0,Z.i8)(bt),Gt=this._elementInfo.get(ut);Gt&&(Gt.subject.complete(),this._setClasses(ut),this._elementInfo.delete(ut),this._removeGlobalListeners(Gt))}focusVia(bt,ut,Gt){const nn=(0,Z.i8)(bt);nn===this._getDocument().activeElement?this._getClosestElementsInfo(nn).forEach(([ur,yt])=>this._originChanged(ur,ut,yt)):(this._setOrigin(ut),"function"==typeof nn.focus&&nn.focus(Gt))}ngOnDestroy(){this._elementInfo.forEach((bt,ut)=>this.stopMonitoring(ut))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(bt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(bt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:bt&&this._isLastInteractionFromInputLabel(bt)?"mouse":"program"}_shouldBeAttributedToTouch(bt){return this._detectionMode===ke.EVENTUAL||!!bt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(bt,ut){bt.classList.toggle("cdk-focused",!!ut),bt.classList.toggle("cdk-touch-focused","touch"===ut),bt.classList.toggle("cdk-keyboard-focused","keyboard"===ut),bt.classList.toggle("cdk-mouse-focused","mouse"===ut),bt.classList.toggle("cdk-program-focused","program"===ut)}_setOrigin(bt,ut=!1){this._ngZone.runOutsideAngular(()=>{this._origin=bt,this._originFromTouchInteraction="touch"===bt&&ut,this._detectionMode===ke.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(bt,ut){const Gt=this._elementInfo.get(ut),nn=(0,P.Fb)(bt);!Gt||!Gt.checkChildren&&ut!==nn||this._originChanged(ut,this._getFocusOrigin(nn),Gt)}_onBlur(bt,ut){const Gt=this._elementInfo.get(ut);!Gt||Gt.checkChildren&&bt.relatedTarget instanceof Node&&ut.contains(bt.relatedTarget)||(this._setClasses(ut),this._emitOrigin(Gt,null))}_emitOrigin(bt,ut){bt.subject.observers.length&&this._ngZone.run(()=>bt.subject.next(ut))}_registerGlobalListeners(bt){if(!this._platform.isBrowser)return;const ut=bt.rootNode,Gt=this._rootNodeFocusListenerCount.get(ut)||0;Gt||this._ngZone.runOutsideAngular(()=>{ut.addEventListener("focus",this._rootNodeFocusAndBlurListener,lt),ut.addEventListener("blur",this._rootNodeFocusAndBlurListener,lt)}),this._rootNodeFocusListenerCount.set(ut,Gt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ee.Q)(this._stopInputModalityDetector)).subscribe(nn=>{this._setOrigin(nn,!0)}))}_removeGlobalListeners(bt){const ut=bt.rootNode;if(this._rootNodeFocusListenerCount.has(ut)){const Gt=this._rootNodeFocusListenerCount.get(ut);Gt>1?this._rootNodeFocusListenerCount.set(ut,Gt-1):(ut.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lt),ut.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lt),this._rootNodeFocusListenerCount.delete(ut))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(bt,ut,Gt){this._setClasses(bt,ut),this._emitOrigin(Gt,ut),this._lastFocusOrigin=ut}_getClosestElementsInfo(bt){const ut=[];return this._elementInfo.forEach((Gt,nn)=>{(nn===bt||Gt.checkChildren&&nn.contains(bt))&&ut.push([nn,Gt])}),ut}_isLastInteractionFromInputLabel(bt){const{_mostRecentTarget:ut,mostRecentModality:Gt}=this._inputModalityDetector;if("mouse"!==Gt||!ut||ut===bt||"INPUT"!==bt.nodeName&&"TEXTAREA"!==bt.nodeName||bt.disabled)return!1;const nn=bt.labels;if(nn)for(let pn=0;pn<nn.length;pn++)if(nn[pn].contains(ut))return!0;return!1}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(b.SKi),b.KVO(P.OD),b.KVO(Ue),b.KVO(y.qQ,8),b.KVO(Ne,8))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})(),It=(()=>{class cn{constructor(bt,ut){this._elementRef=bt,this._focusMonitor=ut,this._focusOrigin=null,this.cdkFocusChange=new b.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const bt=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(bt,1===bt.nodeType&&bt.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ut=>{this._focusOrigin=ut,this.cdkFocusChange.emit(ut)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.rXU(b.aKT),b.rXU(en))};static#t=this.\u0275dir=b.FsC({type:cn,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return cn})();var Kt=function(cn){return cn[cn.NONE=0]="NONE",cn[cn.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",cn[cn.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",cn}(Kt||{});const rn="cdk-high-contrast-black-on-white",vn="cdk-high-contrast-white-on-black",un="cdk-high-contrast-active";let sr=(()=>{class cn{constructor(bt,ut){this._platform=bt,this._document=ut,this._breakpointSubscription=(0,b.WQX)(J.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Kt.NONE;const bt=this._document.createElement("div");bt.style.backgroundColor="rgb(1,2,3)",bt.style.position="absolute",this._document.body.appendChild(bt);const ut=this._document.defaultView||window,Gt=ut&&ut.getComputedStyle?ut.getComputedStyle(bt):null,nn=(Gt&&Gt.backgroundColor||"").replace(/ /g,"");switch(bt.remove(),nn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Kt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Kt.BLACK_ON_WHITE}return Kt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const bt=this._document.body.classList;bt.remove(un,rn,vn),this._hasCheckedHighContrastMode=!0;const ut=this.getHighContrastMode();ut===Kt.BLACK_ON_WHITE?bt.add(un,rn):ut===Kt.WHITE_ON_BLACK&&bt.add(un,vn)}}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(P.OD),b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})(),Cn=(()=>{class cn{constructor(bt){bt._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(sr))};static#t=this.\u0275mod=b.$C({type:cn});static#n=this.\u0275inj=b.G2t({imports:[q.w5]})}return cn})()},28203:(Je,j,_)=>{"use strict";_.d(j,{dS:()=>S,jI:()=>N});var y=_(93953),b=_(60177);const P=new y.nKC("cdk-dir-doc",{providedIn:"root",factory:function H(){return(0,y.WQX)(b.qQ)}}),w=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let S=(()=>{class U{constructor(G){this.value="ltr",this.change=new y.bkB,G&&(this.value=function O(U){const A=U?.toLowerCase()||"";return"auto"===A&&typeof navigator<"u"&&navigator?.language?w.test(navigator.language)?"rtl":"ltr":"rtl"===A?"rtl":"ltr"}((G.body?G.body.dir:null)||(G.documentElement?G.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(L){return new(L||U)(y.KVO(P,8))};static#t=this.\u0275prov=y.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),N=(()=>{class U{static#e=this.\u0275fac=function(L){return new(L||U)};static#t=this.\u0275mod=y.$C({type:U});static#n=this.\u0275inj=y.G2t({})}return U})()},14085:(Je,j,_)=>{"use strict";_.d(j,{FG:()=>w,OE:()=>P,a1:()=>O,he:()=>b,i8:()=>S,o1:()=>H});var y=_(93953);function b(N){return null!=N&&"false"!=`${N}`}function P(N,U=0){return H(N)?Number(N):U}function H(N){return!isNaN(parseFloat(N))&&!isNaN(Number(N))}function w(N){return Array.isArray(N)?N:[N]}function O(N){return null==N?"":"string"==typeof N?N:`${N}px`}function S(N){return N instanceof y.aKT?N.nativeElement:N}},45024:(Je,j,_)=>{"use strict";_.d(j,{CB:()=>L,DQ:()=>G,Q3:()=>N,qS:()=>O,sL:()=>U,xn:()=>A,y4:()=>S,zP:()=>ee});var y=_(30017),H=(_(74402),_(7673),_(21413)),w=_(93953);class O{}function S(q){return q&&"function"==typeof q.connect&&!(q instanceof y.G)}var N=function(q){return q[q.REPLACED=0]="REPLACED",q[q.INSERTED=1]="INSERTED",q[q.MOVED=2]="MOVED",q[q.REMOVED=3]="REMOVED",q}(N||{});const U=new w.nKC("_ViewRepeater");class A{applyChanges(Z,J,se,ce,ae){Z.forEachOperation((fe,he,we)=>{let Me,Pe;if(null==fe.previousIndex){const C=se(fe,he,we);Me=J.createEmbeddedView(C.templateRef,C.context,C.index),Pe=N.INSERTED}else null==we?(J.remove(he),Pe=N.REMOVED):(Me=J.get(he),J.move(Me,we),Pe=N.MOVED);ae&&ae({context:Me?.context,operation:Pe,record:fe})})}detach(){}}class G{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Z,J,se,ce,ae){Z.forEachOperation((fe,he,we)=>{let Me,Pe;null==fe.previousIndex?(Me=this._insertView(()=>se(fe,he,we),we,J,ce(fe)),Pe=Me?N.INSERTED:N.REPLACED):null==we?(this._detachAndCacheView(he,J),Pe=N.REMOVED):(Me=this._moveView(he,we,J,ce(fe)),Pe=N.MOVED),ae&&ae({context:Me?.context,operation:Pe,record:fe})})}detach(){for(const Z of this._viewCache)Z.destroy();this._viewCache=[]}_insertView(Z,J,se,ce){const ae=this._insertViewFromCache(J,se);if(ae)return void(ae.context.$implicit=ce);const fe=Z();return se.createEmbeddedView(fe.templateRef,fe.context,fe.index)}_detachAndCacheView(Z,J){const se=J.detach(Z);this._maybeCacheView(se,J)}_moveView(Z,J,se,ce){const ae=se.get(Z);return se.move(ae,J),ae.context.$implicit=ce,ae}_maybeCacheView(Z,J){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Z);else{const se=J.indexOf(Z);-1===se?Z.destroy():J.remove(se)}}_insertViewFromCache(Z,J){const se=this._viewCache.pop();return se&&J.insert(se,Z),se||null}}class L{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(Z=!1,J,se=!0,ce){this._multiple=Z,this._emitChanges=se,this.compareWith=ce,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new H.B,J&&J.length&&(Z?J.forEach(ae=>this._markSelected(ae)):this._markSelected(J[0]),this._selectedToEmit.length=0)}select(...Z){this._verifyValueAssignment(Z),Z.forEach(se=>this._markSelected(se));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}deselect(...Z){this._verifyValueAssignment(Z),Z.forEach(se=>this._unmarkSelected(se));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}setSelection(...Z){this._verifyValueAssignment(Z);const J=this.selected,se=new Set(Z);Z.forEach(ae=>this._markSelected(ae)),J.filter(ae=>!se.has(this._getConcreteValue(ae,se))).forEach(ae=>this._unmarkSelected(ae));const ce=this._hasQueuedChanges();return this._emitChangeEvent(),ce}toggle(Z){return this.isSelected(Z)?this.deselect(Z):this.select(Z)}clear(Z=!0){this._unmarkAll();const J=this._hasQueuedChanges();return Z&&this._emitChangeEvent(),J}isSelected(Z){return this._selection.has(this._getConcreteValue(Z))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Z){this._multiple&&this.selected&&this._selected.sort(Z)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Z){Z=this._getConcreteValue(Z),this.isSelected(Z)||(this._multiple||this._unmarkAll(),this.isSelected(Z)||this._selection.add(Z),this._emitChanges&&this._selectedToEmit.push(Z))}_unmarkSelected(Z){Z=this._getConcreteValue(Z),this.isSelected(Z)&&(this._selection.delete(Z),this._emitChanges&&this._deselectedToEmit.push(Z))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Z=>this._unmarkSelected(Z))}_verifyValueAssignment(Z){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(Z,J){if(this.compareWith){J=J??this._selection;for(let se of J)if(this.compareWith(Z,se))return se;return Z}return Z}}let ee=(()=>{class q{constructor(){this._listeners=[]}notify(J,se){for(let ce of this._listeners)ce(J,se)}listen(J){return this._listeners.push(J),()=>{this._listeners=this._listeners.filter(se=>J!==se)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(se){return new(se||q)};static#t=this.\u0275prov=w.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})()},67336:(Je,j,_)=>{"use strict";_.d(j,{A:()=>F,A$:()=>B,FX:()=>O,Fm:()=>w,Ge:()=>M,Kp:()=>ee,LE:()=>se,UQ:()=>Z,W3:()=>S,Z:()=>T,_f:()=>A,bn:()=>R,dB:()=>z,eg:()=>Gn,f2:()=>Me,i7:()=>J,n6:()=>ce,rp:()=>wr,t6:()=>G,w_:()=>L,wn:()=>P,yZ:()=>q});const P=9,w=13,O=16,S=17,B=18,A=27,G=32,L=33,z=34,ee=35,q=36,Z=37,J=38,se=39,ce=40,Me=48,R=57,F=65,T=90,M=91,Gn=224;function wr(xr,...jr){return jr.length?jr.some(Kr=>xr[Kr]):xr.altKey||xr.shiftKey||xr.ctrlKey||xr.metaKey}},99327:(Je,j,_)=>{"use strict";_.d(j,{QP:()=>ce,Rp:()=>fe});var y=_(93953),b=_(14085),P=_(21413),H=_(84572),w=_(28793),O=_(71985),S=_(96697),B=_(65245),N=_(70152),U=_(96354),A=_(99172),G=_(56977),L=_(36860);const ee=new Set;let q,Z=(()=>{class he{constructor(Me,Pe){this._platform=Me,this._nonce=Pe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):se}matchMedia(Me){return(this._platform.WEBKIT||this._platform.BLINK)&&function J(he,we){if(!ee.has(he))try{q||(q=document.createElement("style"),we&&q.setAttribute("nonce",we),q.setAttribute("type","text/css"),document.head.appendChild(q)),q.sheet&&(q.sheet.insertRule(`@media ${he} {body{ }}`,0),ee.add(he))}catch(Me){console.error(Me)}}(Me,this._nonce),this._matchMedia(Me)}static#e=this.\u0275fac=function(Pe){return new(Pe||he)(y.KVO(L.OD),y.KVO(y.BIS,8))};static#t=this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();function se(he){return{matches:"all"===he||""===he,media:he,addListener:()=>{},removeListener:()=>{}}}let ce=(()=>{class he{constructor(Me,Pe){this._mediaMatcher=Me,this._zone=Pe,this._queries=new Map,this._destroySubject=new P.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Me){return ae((0,b.FG)(Me)).some(C=>this._registerQuery(C).mql.matches)}observe(Me){const C=ae((0,b.FG)(Me)).map(d=>this._registerQuery(d).observable);let a=(0,H.z)(C);return a=(0,w.x)(a.pipe((0,S.s)(1)),a.pipe((0,B.i)(1),(0,N.B)(0))),a.pipe((0,U.T)(d=>{const m={matches:!1,breakpoints:{}};return d.forEach(({matches:p,query:E})=>{m.matches=m.matches||p,m.breakpoints[E]=p}),m}))}_registerQuery(Me){if(this._queries.has(Me))return this._queries.get(Me);const Pe=this._mediaMatcher.matchMedia(Me),a={observable:new O.c(d=>{const m=p=>this._zone.run(()=>d.next(p));return Pe.addListener(m),()=>{Pe.removeListener(m)}}).pipe((0,A.Z)(Pe),(0,U.T)(({matches:d})=>({query:Me,matches:d})),(0,G.Q)(this._destroySubject)),mql:Pe};return this._queries.set(Me,a),a}static#e=this.\u0275fac=function(Pe){return new(Pe||he)(y.KVO(Z),y.KVO(y.SKi))};static#t=this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();function ae(he){return he.map(we=>we.split(",")).reduce((we,Me)=>we.concat(Me)).map(we=>we.trim())}const fe={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},72318:(Je,j,_)=>{"use strict";_.d(j,{Wv:()=>A,w5:()=>G});var y=_(14085),b=_(93953),P=_(71985),H=_(21413),w=_(96354),O=_(5964),S=_(70152);let N=(()=>{class L{create(ee){return typeof MutationObserver>"u"?null:new MutationObserver(ee)}static#e=this.\u0275fac=function(q){return new(q||L)};static#t=this.\u0275prov=b.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),U=(()=>{class L{constructor(ee){this._mutationObserverFactory=ee,this._observedElements=new Map,this._ngZone=(0,b.WQX)(b.SKi)}ngOnDestroy(){this._observedElements.forEach((ee,q)=>this._cleanupObserver(q))}observe(ee){const q=(0,y.i8)(ee);return new P.c(Z=>{const se=this._observeElement(q).pipe((0,w.T)(ce=>ce.filter(ae=>!function B(L){if("characterData"===L.type&&L.target instanceof Comment)return!0;if("childList"===L.type){for(let z=0;z<L.addedNodes.length;z++)if(!(L.addedNodes[z]instanceof Comment))return!1;for(let z=0;z<L.removedNodes.length;z++)if(!(L.removedNodes[z]instanceof Comment))return!1;return!0}return!1}(ae))),(0,O.p)(ce=>!!ce.length)).subscribe(ce=>{this._ngZone.run(()=>{Z.next(ce)})});return()=>{se.unsubscribe(),this._unobserveElement(q)}})}_observeElement(ee){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(ee))this._observedElements.get(ee).count++;else{const q=new H.B,Z=this._mutationObserverFactory.create(J=>q.next(J));Z&&Z.observe(ee,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ee,{observer:Z,stream:q,count:1})}return this._observedElements.get(ee).stream})}_unobserveElement(ee){this._observedElements.has(ee)&&(this._observedElements.get(ee).count--,this._observedElements.get(ee).count||this._cleanupObserver(ee))}_cleanupObserver(ee){if(this._observedElements.has(ee)){const{observer:q,stream:Z}=this._observedElements.get(ee);q&&q.disconnect(),Z.complete(),this._observedElements.delete(ee)}}static#e=this.\u0275fac=function(q){return new(q||L)(b.KVO(N))};static#t=this.\u0275prov=b.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),A=(()=>{class L{get disabled(){return this._disabled}set disabled(ee){this._disabled=ee,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ee){this._debounce=(0,y.OE)(ee),this._subscribe()}constructor(ee,q){this._contentObserver=ee,this._elementRef=q,this.event=new b.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ee=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?ee.pipe((0,S.B)(this.debounce)):ee).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(q){return new(q||L)(b.rXU(U),b.rXU(b.aKT))};static#t=this.\u0275dir=b.FsC({type:L,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",b.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[b.GFd]})}return L})(),G=(()=>{class L{static#e=this.\u0275fac=function(q){return new(q||L)};static#t=this.\u0275mod=b.$C({type:L});static#n=this.\u0275inj=b.G2t({providers:[N]})}return L})()},98170:(Je,j,_)=>{"use strict";_.d(j,{a:()=>N});var y=_(93953),b=_(21413),P=_(71985),H=_(5964),w=_(44668),O=_(56977);class B{constructor(A){this._box=A,this._destroyed=new b.B,this._resizeSubject=new b.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(G=>this._resizeSubject.next(G)))}observe(A){return this._elementObservables.has(A)||this._elementObservables.set(A,new P.c(G=>{const L=this._resizeSubject.subscribe(G);return this._resizeObserver?.observe(A,{box:this._box}),()=>{this._resizeObserver?.unobserve(A),L.unsubscribe(),this._elementObservables.delete(A)}}).pipe((0,H.p)(G=>G.some(L=>L.target===A)),(0,w.t)({bufferSize:1,refCount:!0}),(0,O.Q)(this._destroyed))),this._elementObservables.get(A)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let N=(()=>{class U{constructor(){this._observers=new Map,this._ngZone=(0,y.WQX)(y.SKi)}ngOnDestroy(){for(const[,G]of this._observers)G.destroy();this._observers.clear()}observe(G,L){const z=L?.box||"content-box";return this._observers.has(z)||this._observers.set(z,new B(z)),this._observers.get(z).observe(G)}static#e=this.\u0275fac=function(L){return new(L||U)};static#t=this.\u0275prov=y.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},66969:(Je,j,_)=>{"use strict";_.d(j,{WB:()=>De,$Q:()=>ue,hJ:()=>me,rR:()=>Pe,z_:()=>ze});var y=_(67333),b=_(60177),P=_(93953),H=_(14085),w=_(36860),O=_(5964),S=_(56977),B=_(39974),N=_(54360),A=_(28203),G=_(76939),L=_(21413),z=_(18359),ee=_(57786),q=_(67336);const Z=(0,w.CZ)();class J{constructor(Ue,mt){this._viewportRuler=Ue,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=mt}attach(){}enable(){if(this._canBeEnabled()){const Ue=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Ue.style.left||"",this._previousHTMLStyles.top=Ue.style.top||"",Ue.style.left=(0,H.a1)(-this._previousScrollPosition.left),Ue.style.top=(0,H.a1)(-this._previousScrollPosition.top),Ue.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Ue=this._document.documentElement,K=Ue.style,T=this._document.body.style,M=K.scrollBehavior||"",Y=T.scrollBehavior||"";this._isEnabled=!1,K.left=this._previousHTMLStyles.left,K.top=this._previousHTMLStyles.top,Ue.classList.remove("cdk-global-scrollblock"),Z&&(K.scrollBehavior=T.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Z&&(K.scrollBehavior=M,T.scrollBehavior=Y)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const mt=this._document.body,K=this._viewportRuler.getViewportSize();return mt.scrollHeight>K.height||mt.scrollWidth>K.width}}class ce{constructor(Ue,mt,K,T){this._scrollDispatcher=Ue,this._ngZone=mt,this._viewportRuler=K,this._config=T,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Ue){this._overlayRef=Ue}enable(){if(this._scrollSubscription)return;const Ue=this._scrollDispatcher.scrolled(0).pipe((0,O.p)(mt=>!mt||!this._overlayRef.overlayElement.contains(mt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Ue.subscribe(()=>{const mt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(mt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Ue.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ae{enable(){}disable(){}attach(){}}function fe(Xe,Ue){return Ue.some(mt=>Xe.bottom<mt.top||Xe.top>mt.bottom||Xe.right<mt.left||Xe.left>mt.right)}function he(Xe,Ue){return Ue.some(mt=>Xe.top<mt.top||Xe.bottom>mt.bottom||Xe.left<mt.left||Xe.right>mt.right)}class we{constructor(Ue,mt,K,T){this._scrollDispatcher=Ue,this._viewportRuler=mt,this._ngZone=K,this._config=T,this._scrollSubscription=null}attach(Ue){this._overlayRef=Ue}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const mt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:K,height:T}=this._viewportRuler.getViewportSize();fe(mt,[{width:K,height:T,bottom:T,right:K,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Me=(()=>{class Xe{constructor(mt,K,T,M){this._scrollDispatcher=mt,this._viewportRuler=K,this._ngZone=T,this.noop=()=>new ae,this.close=Y=>new ce(this._scrollDispatcher,this._ngZone,this._viewportRuler,Y),this.block=()=>new J(this._viewportRuler,this._document),this.reposition=Y=>new we(this._scrollDispatcher,this._viewportRuler,this._ngZone,Y),this._document=M}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(y.R),P.KVO(y.Xj),P.KVO(P.SKi),P.KVO(b.qQ))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();class Pe{constructor(Ue){if(this.scrollStrategy=new ae,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Ue){const mt=Object.keys(Ue);for(const K of mt)void 0!==Ue[K]&&(this[K]=Ue[K])}}}class d{constructor(Ue,mt){this.connectionPair=Ue,this.scrollableViewProperties=mt}}let E=(()=>{class Xe{constructor(mt){this._attachedOverlays=[],this._document=mt}ngOnDestroy(){this.detach()}add(mt){this.remove(mt),this._attachedOverlays.push(mt)}remove(mt){const K=this._attachedOverlays.indexOf(mt);K>-1&&this._attachedOverlays.splice(K,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(b.qQ))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})(),D=(()=>{class Xe extends E{constructor(mt,K){super(mt),this._ngZone=K,this._keydownListener=T=>{const M=this._attachedOverlays;for(let Y=M.length-1;Y>-1;Y--)if(M[Y]._keydownEvents.observers.length>0){const pe=M[Y]._keydownEvents;this._ngZone?this._ngZone.run(()=>pe.next(T)):pe.next(T);break}}}add(mt){super.add(mt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(b.qQ),P.KVO(P.SKi,8))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})(),R=(()=>{class Xe extends E{constructor(mt,K,T){super(mt),this._platform=K,this._ngZone=T,this._cursorStyleIsSet=!1,this._pointerDownListener=M=>{this._pointerDownEventTarget=(0,w.Fb)(M)},this._clickListener=M=>{const Y=(0,w.Fb)(M),pe="click"===M.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Y;this._pointerDownEventTarget=null;const ke=this._attachedOverlays.slice();for(let Ne=ke.length-1;Ne>-1;Ne--){const lt=ke[Ne];if(lt._outsidePointerEvents.observers.length<1||!lt.hasAttached())continue;if(x(lt.overlayElement,Y)||x(lt.overlayElement,pe))break;const en=lt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>en.next(M)):en.next(M)}}}add(mt){if(super.add(mt),!this._isAttached){const K=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(K)):this._addEventListeners(K),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=K.style.cursor,K.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const mt=this._document.body;mt.removeEventListener("pointerdown",this._pointerDownListener,!0),mt.removeEventListener("click",this._clickListener,!0),mt.removeEventListener("auxclick",this._clickListener,!0),mt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(mt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(mt){mt.addEventListener("pointerdown",this._pointerDownListener,!0),mt.addEventListener("click",this._clickListener,!0),mt.addEventListener("auxclick",this._clickListener,!0),mt.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(b.qQ),P.KVO(w.OD),P.KVO(P.SKi,8))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();function x(Xe,Ue){const mt=typeof ShadowRoot<"u"&&ShadowRoot;let K=Ue;for(;K;){if(K===Xe)return!0;K=mt&&K instanceof ShadowRoot?K.host:K.parentNode}return!1}let s=(()=>{class Xe{constructor(mt,K){this._platform=K,this._document=mt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const mt="cdk-overlay-container";if(this._platform.isBrowser||(0,w.v8)()){const T=this._document.querySelectorAll(`.${mt}[platform="server"], .${mt}[platform="test"]`);for(let M=0;M<T.length;M++)T[M].remove()}const K=this._document.createElement("div");K.classList.add(mt),(0,w.v8)()?K.setAttribute("platform","test"):this._platform.isBrowser||K.setAttribute("platform","server"),this._document.body.appendChild(K),this._containerElement=K}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(b.qQ),P.KVO(w.OD))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();class v{constructor(Ue,mt,K,T,M,Y,pe,ke,Ne,lt=!1,en){this._portalOutlet=Ue,this._host=mt,this._pane=K,this._config=T,this._ngZone=M,this._keyboardDispatcher=Y,this._document=pe,this._location=ke,this._outsideClickDispatcher=Ne,this._animationsDisabled=lt,this._injector=en,this._backdropElement=null,this._backdropClick=new L.B,this._attachments=new L.B,this._detachments=new L.B,this._locationChanges=z.yU.EMPTY,this._backdropClickHandler=It=>this._backdropClick.next(It),this._backdropTransitionendHandler=It=>{this._disposeBackdrop(It.target)},this._keydownEvents=new L.B,this._outsidePointerEvents=new L.B,this._renders=new L.B,T.scrollStrategy&&(this._scrollStrategy=T.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=T.positionStrategy,this._afterRenderRef=(0,P.O8t)(()=>(0,P.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Ue){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const mt=this._portalOutlet.attach(Ue);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,P.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof mt?.onDestroy&&mt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),mt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Ue=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Ue}dispose(){const Ue=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Ue&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Ue){Ue!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Ue,this.hasAttached()&&(Ue.attach(this),this.updatePosition()))}updateSize(Ue){this._config={...this._config,...Ue},this._updateElementSize()}setDirection(Ue){this._config={...this._config,direction:Ue},this._updateElementDirection()}addPanelClass(Ue){this._pane&&this._toggleClasses(this._pane,Ue,!0)}removePanelClass(Ue){this._pane&&this._toggleClasses(this._pane,Ue,!1)}getDirection(){const Ue=this._config.direction;return Ue?"string"==typeof Ue?Ue:Ue.value:"ltr"}updateScrollStrategy(Ue){Ue!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Ue,this.hasAttached()&&(Ue.attach(this),Ue.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Ue=this._pane.style;Ue.width=(0,H.a1)(this._config.width),Ue.height=(0,H.a1)(this._config.height),Ue.minWidth=(0,H.a1)(this._config.minWidth),Ue.minHeight=(0,H.a1)(this._config.minHeight),Ue.maxWidth=(0,H.a1)(this._config.maxWidth),Ue.maxHeight=(0,H.a1)(this._config.maxHeight)}_togglePointerEvents(Ue){this._pane.style.pointerEvents=Ue?"":"none"}_attachBackdrop(){const Ue="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Ue)})}):this._backdropElement.classList.add(Ue)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Ue=this._backdropElement;if(Ue){if(this._animationsDisabled)return void this._disposeBackdrop(Ue);Ue.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Ue.addEventListener("transitionend",this._backdropTransitionendHandler)}),Ue.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Ue)},500))}}_toggleClasses(Ue,mt,K){const T=(0,H.FG)(mt||[]).filter(M=>!!M);T.length&&(K?Ue.classList.add(...T):Ue.classList.remove(...T))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Ue=this._renders.pipe((0,S.Q)((0,ee.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Ue.unsubscribe())})})}_disposeScrollStrategy(){const Ue=this._scrollStrategy;Ue&&(Ue.disable(),Ue.detach&&Ue.detach())}_disposeBackdrop(Ue){Ue&&(Ue.removeEventListener("click",this._backdropClickHandler),Ue.removeEventListener("transitionend",this._backdropTransitionendHandler),Ue.remove(),this._backdropElement===Ue&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const $="cdk-overlay-connected-position-bounding-box",F=/([A-Za-z%]+)$/;class Q{get positions(){return this._preferredPositions}constructor(Ue,mt,K,T,M){this._viewportRuler=mt,this._document=K,this._platform=T,this._overlayContainer=M,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new L.B,this._resizeSubscription=z.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Ue)}attach(Ue){this._validatePositions(),Ue.hostElement.classList.add($),this._overlayRef=Ue,this._boundingBox=Ue.hostElement,this._pane=Ue.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ue=this._originRect,mt=this._overlayRect,K=this._viewportRect,T=this._containerRect,M=[];let Y;for(let pe of this._preferredPositions){let ke=this._getOriginPoint(Ue,T,pe),Ne=this._getOverlayPoint(ke,mt,pe),lt=this._getOverlayFit(Ne,mt,K,pe);if(lt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(pe,ke);this._canFitWithFlexibleDimensions(lt,Ne,K)?M.push({position:pe,origin:ke,overlayRect:mt,boundingBoxRect:this._calculateBoundingBoxRect(ke,pe)}):(!Y||Y.overlayFit.visibleArea<lt.visibleArea)&&(Y={overlayFit:lt,overlayPoint:Ne,originPoint:ke,position:pe,overlayRect:mt})}if(M.length){let pe=null,ke=-1;for(const Ne of M){const lt=Ne.boundingBoxRect.width*Ne.boundingBoxRect.height*(Ne.position.weight||1);lt>ke&&(ke=lt,pe=Ne)}return this._isPushed=!1,void this._applyPosition(pe.position,pe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Y.position,Y.originPoint);this._applyPosition(Y.position,Y.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&de(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Ue=this._lastPosition;if(Ue){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const mt=this._getOriginPoint(this._originRect,this._containerRect,Ue);this._applyPosition(Ue,mt)}else this.apply()}withScrollableContainers(Ue){return this._scrollables=Ue,this}withPositions(Ue){return this._preferredPositions=Ue,-1===Ue.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Ue){return this._viewportMargin=Ue,this}withFlexibleDimensions(Ue=!0){return this._hasFlexibleDimensions=Ue,this}withGrowAfterOpen(Ue=!0){return this._growAfterOpen=Ue,this}withPush(Ue=!0){return this._canPush=Ue,this}withLockedPosition(Ue=!0){return this._positionLocked=Ue,this}setOrigin(Ue){return this._origin=Ue,this}withDefaultOffsetX(Ue){return this._offsetX=Ue,this}withDefaultOffsetY(Ue){return this._offsetY=Ue,this}withTransformOriginOn(Ue){return this._transformOriginSelector=Ue,this}_getOriginPoint(Ue,mt,K){let T,M;if("center"==K.originX)T=Ue.left+Ue.width/2;else{const Y=this._isRtl()?Ue.right:Ue.left,pe=this._isRtl()?Ue.left:Ue.right;T="start"==K.originX?Y:pe}return mt.left<0&&(T-=mt.left),M="center"==K.originY?Ue.top+Ue.height/2:"top"==K.originY?Ue.top:Ue.bottom,mt.top<0&&(M-=mt.top),{x:T,y:M}}_getOverlayPoint(Ue,mt,K){let T,M;return T="center"==K.overlayX?-mt.width/2:"start"===K.overlayX?this._isRtl()?-mt.width:0:this._isRtl()?0:-mt.width,M="center"==K.overlayY?-mt.height/2:"top"==K.overlayY?0:-mt.height,{x:Ue.x+T,y:Ue.y+M}}_getOverlayFit(Ue,mt,K,T){const M=Re(mt);let{x:Y,y:pe}=Ue,ke=this._getOffset(T,"x"),Ne=this._getOffset(T,"y");ke&&(Y+=ke),Ne&&(pe+=Ne);let It=0-pe,Kt=pe+M.height-K.height,rn=this._subtractOverflows(M.width,0-Y,Y+M.width-K.width),vn=this._subtractOverflows(M.height,It,Kt),un=rn*vn;return{visibleArea:un,isCompletelyWithinViewport:M.width*M.height===un,fitsInViewportVertically:vn===M.height,fitsInViewportHorizontally:rn==M.width}}_canFitWithFlexibleDimensions(Ue,mt,K){if(this._hasFlexibleDimensions){const T=K.bottom-mt.y,M=K.right-mt.x,Y=Ce(this._overlayRef.getConfig().minHeight),pe=Ce(this._overlayRef.getConfig().minWidth);return(Ue.fitsInViewportVertically||null!=Y&&Y<=T)&&(Ue.fitsInViewportHorizontally||null!=pe&&pe<=M)}return!1}_pushOverlayOnScreen(Ue,mt,K){if(this._previousPushAmount&&this._positionLocked)return{x:Ue.x+this._previousPushAmount.x,y:Ue.y+this._previousPushAmount.y};const T=Re(mt),M=this._viewportRect,Y=Math.max(Ue.x+T.width-M.width,0),pe=Math.max(Ue.y+T.height-M.height,0),ke=Math.max(M.top-K.top-Ue.y,0),Ne=Math.max(M.left-K.left-Ue.x,0);let lt=0,en=0;return lt=T.width<=M.width?Ne||-Y:Ue.x<this._viewportMargin?M.left-K.left-Ue.x:0,en=T.height<=M.height?ke||-pe:Ue.y<this._viewportMargin?M.top-K.top-Ue.y:0,this._previousPushAmount={x:lt,y:en},{x:Ue.x+lt,y:Ue.y+en}}_applyPosition(Ue,mt){if(this._setTransformOrigin(Ue),this._setOverlayElementStyles(mt,Ue),this._setBoundingBoxStyles(mt,Ue),Ue.panelClass&&this._addPanelClasses(Ue.panelClass),this._positionChanges.observers.length){const K=this._getScrollVisibility();if(Ue!==this._lastPosition||!this._lastScrollVisibility||!function Ve(Xe,Ue){return Xe===Ue||Xe.isOriginClipped===Ue.isOriginClipped&&Xe.isOriginOutsideView===Ue.isOriginOutsideView&&Xe.isOverlayClipped===Ue.isOverlayClipped&&Xe.isOverlayOutsideView===Ue.isOverlayOutsideView}(this._lastScrollVisibility,K)){const T=new d(Ue,K);this._positionChanges.next(T)}this._lastScrollVisibility=K}this._lastPosition=Ue,this._isInitialRender=!1}_setTransformOrigin(Ue){if(!this._transformOriginSelector)return;const mt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let K,T=Ue.overlayY;K="center"===Ue.overlayX?"center":this._isRtl()?"start"===Ue.overlayX?"right":"left":"start"===Ue.overlayX?"left":"right";for(let M=0;M<mt.length;M++)mt[M].style.transformOrigin=`${K} ${T}`}_calculateBoundingBoxRect(Ue,mt){const K=this._viewportRect,T=this._isRtl();let M,Y,pe,lt,en,It;if("top"===mt.overlayY)Y=Ue.y,M=K.height-Y+this._viewportMargin;else if("bottom"===mt.overlayY)pe=K.height-Ue.y+2*this._viewportMargin,M=K.height-pe+this._viewportMargin;else{const Kt=Math.min(K.bottom-Ue.y+K.top,Ue.y),rn=this._lastBoundingBoxSize.height;M=2*Kt,Y=Ue.y-Kt,M>rn&&!this._isInitialRender&&!this._growAfterOpen&&(Y=Ue.y-rn/2)}if("end"===mt.overlayX&&!T||"start"===mt.overlayX&&T)It=K.width-Ue.x+2*this._viewportMargin,lt=Ue.x-this._viewportMargin;else if("start"===mt.overlayX&&!T||"end"===mt.overlayX&&T)en=Ue.x,lt=K.right-Ue.x;else{const Kt=Math.min(K.right-Ue.x+K.left,Ue.x),rn=this._lastBoundingBoxSize.width;lt=2*Kt,en=Ue.x-Kt,lt>rn&&!this._isInitialRender&&!this._growAfterOpen&&(en=Ue.x-rn/2)}return{top:Y,left:en,bottom:pe,right:It,width:lt,height:M}}_setBoundingBoxStyles(Ue,mt){const K=this._calculateBoundingBoxRect(Ue,mt);!this._isInitialRender&&!this._growAfterOpen&&(K.height=Math.min(K.height,this._lastBoundingBoxSize.height),K.width=Math.min(K.width,this._lastBoundingBoxSize.width));const T={};if(this._hasExactPosition())T.top=T.left="0",T.bottom=T.right=T.maxHeight=T.maxWidth="",T.width=T.height="100%";else{const M=this._overlayRef.getConfig().maxHeight,Y=this._overlayRef.getConfig().maxWidth;T.height=(0,H.a1)(K.height),T.top=(0,H.a1)(K.top),T.bottom=(0,H.a1)(K.bottom),T.width=(0,H.a1)(K.width),T.left=(0,H.a1)(K.left),T.right=(0,H.a1)(K.right),T.alignItems="center"===mt.overlayX?"center":"end"===mt.overlayX?"flex-end":"flex-start",T.justifyContent="center"===mt.overlayY?"center":"bottom"===mt.overlayY?"flex-end":"flex-start",M&&(T.maxHeight=(0,H.a1)(M)),Y&&(T.maxWidth=(0,H.a1)(Y))}this._lastBoundingBoxSize=K,de(this._boundingBox.style,T)}_resetBoundingBoxStyles(){de(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){de(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Ue,mt){const K={},T=this._hasExactPosition(),M=this._hasFlexibleDimensions,Y=this._overlayRef.getConfig();if(T){const lt=this._viewportRuler.getViewportScrollPosition();de(K,this._getExactOverlayY(mt,Ue,lt)),de(K,this._getExactOverlayX(mt,Ue,lt))}else K.position="static";let pe="",ke=this._getOffset(mt,"x"),Ne=this._getOffset(mt,"y");ke&&(pe+=`translateX(${ke}px) `),Ne&&(pe+=`translateY(${Ne}px)`),K.transform=pe.trim(),Y.maxHeight&&(T?K.maxHeight=(0,H.a1)(Y.maxHeight):M&&(K.maxHeight="")),Y.maxWidth&&(T?K.maxWidth=(0,H.a1)(Y.maxWidth):M&&(K.maxWidth="")),de(this._pane.style,K)}_getExactOverlayY(Ue,mt,K){let T={top:"",bottom:""},M=this._getOverlayPoint(mt,this._overlayRect,Ue);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,K)),"bottom"===Ue.overlayY?T.bottom=this._document.documentElement.clientHeight-(M.y+this._overlayRect.height)+"px":T.top=(0,H.a1)(M.y),T}_getExactOverlayX(Ue,mt,K){let Y,T={left:"",right:""},M=this._getOverlayPoint(mt,this._overlayRect,Ue);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,K)),Y=this._isRtl()?"end"===Ue.overlayX?"left":"right":"end"===Ue.overlayX?"right":"left","right"===Y?T.right=this._document.documentElement.clientWidth-(M.x+this._overlayRect.width)+"px":T.left=(0,H.a1)(M.x),T}_getScrollVisibility(){const Ue=this._getOriginRect(),mt=this._pane.getBoundingClientRect(),K=this._scrollables.map(T=>T.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:he(Ue,K),isOriginOutsideView:fe(Ue,K),isOverlayClipped:he(mt,K),isOverlayOutsideView:fe(mt,K)}}_subtractOverflows(Ue,...mt){return mt.reduce((K,T)=>K-Math.max(T,0),Ue)}_getNarrowedViewportRect(){const Ue=this._document.documentElement.clientWidth,mt=this._document.documentElement.clientHeight,K=this._viewportRuler.getViewportScrollPosition();return{top:K.top+this._viewportMargin,left:K.left+this._viewportMargin,right:K.left+Ue-this._viewportMargin,bottom:K.top+mt-this._viewportMargin,width:Ue-2*this._viewportMargin,height:mt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Ue,mt){return"x"===mt?null==Ue.offsetX?this._offsetX:Ue.offsetX:null==Ue.offsetY?this._offsetY:Ue.offsetY}_validatePositions(){}_addPanelClasses(Ue){this._pane&&(0,H.FG)(Ue).forEach(mt=>{""!==mt&&-1===this._appliedPanelClasses.indexOf(mt)&&(this._appliedPanelClasses.push(mt),this._pane.classList.add(mt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Ue=>{this._pane.classList.remove(Ue)}),this._appliedPanelClasses=[])}_getOriginRect(){const Ue=this._origin;if(Ue instanceof P.aKT)return Ue.nativeElement.getBoundingClientRect();if(Ue instanceof Element)return Ue.getBoundingClientRect();const mt=Ue.width||0,K=Ue.height||0;return{top:Ue.y,bottom:Ue.y+K,left:Ue.x,right:Ue.x+mt,height:K,width:mt}}}function de(Xe,Ue){for(let mt in Ue)Ue.hasOwnProperty(mt)&&(Xe[mt]=Ue[mt]);return Xe}function Ce(Xe){if("number"!=typeof Xe&&null!=Xe){const[Ue,mt]=Xe.split(F);return mt&&"px"!==mt?null:parseFloat(Ue)}return Xe||null}function Re(Xe){return{top:Math.floor(Xe.top),right:Math.floor(Xe.right),bottom:Math.floor(Xe.bottom),left:Math.floor(Xe.left),width:Math.floor(Xe.width),height:Math.floor(Xe.height)}}const Fe="cdk-global-overlay-wrapper";class be{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Ue){const mt=Ue.getConfig();this._overlayRef=Ue,this._width&&!mt.width&&Ue.updateSize({width:this._width}),this._height&&!mt.height&&Ue.updateSize({height:this._height}),Ue.hostElement.classList.add(Fe),this._isDisposed=!1}top(Ue=""){return this._bottomOffset="",this._topOffset=Ue,this._alignItems="flex-start",this}left(Ue=""){return this._xOffset=Ue,this._xPosition="left",this}bottom(Ue=""){return this._topOffset="",this._bottomOffset=Ue,this._alignItems="flex-end",this}right(Ue=""){return this._xOffset=Ue,this._xPosition="right",this}start(Ue=""){return this._xOffset=Ue,this._xPosition="start",this}end(Ue=""){return this._xOffset=Ue,this._xPosition="end",this}width(Ue=""){return this._overlayRef?this._overlayRef.updateSize({width:Ue}):this._width=Ue,this}height(Ue=""){return this._overlayRef?this._overlayRef.updateSize({height:Ue}):this._height=Ue,this}centerHorizontally(Ue=""){return this.left(Ue),this._xPosition="center",this}centerVertically(Ue=""){return this.top(Ue),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Ue=this._overlayRef.overlayElement.style,mt=this._overlayRef.hostElement.style,K=this._overlayRef.getConfig(),{width:T,height:M,maxWidth:Y,maxHeight:pe}=K,ke=!("100%"!==T&&"100vw"!==T||Y&&"100%"!==Y&&"100vw"!==Y),Ne=!("100%"!==M&&"100vh"!==M||pe&&"100%"!==pe&&"100vh"!==pe),lt=this._xPosition,en=this._xOffset,It="rtl"===this._overlayRef.getConfig().direction;let Kt="",rn="",vn="";ke?vn="flex-start":"center"===lt?(vn="center",It?rn=en:Kt=en):It?"left"===lt||"end"===lt?(vn="flex-end",Kt=en):("right"===lt||"start"===lt)&&(vn="flex-start",rn=en):"left"===lt||"start"===lt?(vn="flex-start",Kt=en):("right"===lt||"end"===lt)&&(vn="flex-end",rn=en),Ue.position=this._cssPosition,Ue.marginLeft=ke?"0":Kt,Ue.marginTop=Ne?"0":this._topOffset,Ue.marginBottom=this._bottomOffset,Ue.marginRight=ke?"0":rn,mt.justifyContent=vn,mt.alignItems=Ne?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Ue=this._overlayRef.overlayElement.style,mt=this._overlayRef.hostElement,K=mt.style;mt.classList.remove(Fe),K.justifyContent=K.alignItems=Ue.marginTop=Ue.marginBottom=Ue.marginLeft=Ue.marginRight=Ue.position="",this._overlayRef=null,this._isDisposed=!0}}let Ae=(()=>{class Xe{constructor(mt,K,T,M){this._viewportRuler=mt,this._document=K,this._platform=T,this._overlayContainer=M}global(){return new be}flexibleConnectedTo(mt){return new Q(mt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(y.Xj),P.KVO(b.qQ),P.KVO(w.OD),P.KVO(s))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})(),ge=0,me=(()=>{class Xe{constructor(mt,K,T,M,Y,pe,ke,Ne,lt,en,It,Kt){this.scrollStrategies=mt,this._overlayContainer=K,this._componentFactoryResolver=T,this._positionBuilder=M,this._keyboardDispatcher=Y,this._injector=pe,this._ngZone=ke,this._document=Ne,this._directionality=lt,this._location=en,this._outsideClickDispatcher=It,this._animationsModuleType=Kt}create(mt){const K=this._createHostElement(),T=this._createPaneElement(K),M=this._createPortalOutlet(T),Y=new Pe(mt);return Y.direction=Y.direction||this._directionality.value,new v(M,K,T,Y,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(P.uvJ))}position(){return this._positionBuilder}_createPaneElement(mt){const K=this._document.createElement("div");return K.id="cdk-overlay-"+ge++,K.classList.add("cdk-overlay-pane"),mt.appendChild(K),K}_createHostElement(){const mt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(mt),mt}_createPortalOutlet(mt){return this._appRef||(this._appRef=this._injector.get(P.o8S)),new G.aI(mt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(Me),P.KVO(s),P.KVO(P.OM3),P.KVO(Ae),P.KVO(D),P.KVO(P.zZn),P.KVO(P.SKi),P.KVO(b.qQ),P.KVO(A.dS),P.KVO(b.aZ),P.KVO(R),P.KVO(P.bc$,8))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();const te=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ne=new P.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const Xe=(0,P.WQX)(me);return()=>Xe.scrollStrategies.reposition()}});let ue=(()=>{class Xe{constructor(mt){this.elementRef=mt}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.rXU(P.aKT))};static#t=this.\u0275dir=P.FsC({type:Xe,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Xe})(),De=(()=>{class Xe{get offsetX(){return this._offsetX}set offsetX(mt){this._offsetX=mt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(mt){this._offsetY=mt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(mt){this._disposeOnNavigation=mt}constructor(mt,K,T,M,Y){this._overlay=mt,this._dir=Y,this._backdropSubscription=z.yU.EMPTY,this._attachSubscription=z.yU.EMPTY,this._detachSubscription=z.yU.EMPTY,this._positionSubscription=z.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,P.WQX)(P.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new P.bkB,this.positionChange=new P.bkB,this.attach=new P.bkB,this.detach=new P.bkB,this.overlayKeydown=new P.bkB,this.overlayOutsideClick=new P.bkB,this._templatePortal=new G.VA(K,T),this._scrollStrategyFactory=M,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(mt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),mt.origin&&this.open&&this._position.apply()),mt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=te);const mt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=mt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=mt.detachments().subscribe(()=>this.detach.emit()),mt.keydownEvents().subscribe(K=>{this.overlayKeydown.next(K),K.keyCode===q._f&&!this.disableClose&&!(0,q.rp)(K)&&(K.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(K=>{const T=this._getOriginElement(),M=(0,w.Fb)(K);(!T||T!==M&&!T.contains(M))&&this.overlayOutsideClick.next(K)})}_buildConfig(){const mt=this._position=this.positionStrategy||this._createPositionStrategy(),K=new Pe({direction:this._dir,positionStrategy:mt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(K.width=this.width),(this.height||0===this.height)&&(K.height=this.height),(this.minWidth||0===this.minWidth)&&(K.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(K.minHeight=this.minHeight),this.backdropClass&&(K.backdropClass=this.backdropClass),this.panelClass&&(K.panelClass=this.panelClass),K}_updatePositionStrategy(mt){const K=this.positions.map(T=>({originX:T.originX,originY:T.originY,overlayX:T.overlayX,overlayY:T.overlayY,offsetX:T.offsetX||this.offsetX,offsetY:T.offsetY||this.offsetY,panelClass:T.panelClass||void 0}));return mt.setOrigin(this._getOrigin()).withPositions(K).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const mt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(mt),mt}_getOrigin(){return this.origin instanceof ue?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof ue?this.origin.elementRef.nativeElement:this.origin instanceof P.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(mt=>{this.backdropClick.emit(mt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function U(Xe,Ue=!1){return(0,B.N)((mt,K)=>{let T=0;mt.subscribe((0,N._)(K,M=>{const Y=Xe(M,T++);(Y||Ue)&&K.next(M),!Y&&K.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(mt=>{this._ngZone.run(()=>this.positionChange.emit(mt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.rXU(me),P.rXU(P.C4Q),P.rXU(P.c1b),P.rXU(ne),P.rXU(A.dS,8))};static#t=this.\u0275dir=P.FsC({type:Xe,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",P.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",P.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",P.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",P.L39],push:[2,"cdkConnectedOverlayPush","push",P.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",P.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[P.GFd,P.OA$]})}return Xe})();const Qe={provide:ne,deps:[me],useFactory:function Be(Xe){return()=>Xe.scrollStrategies.reposition()}};let ze=(()=>{class Xe{static#e=this.\u0275fac=function(K){return new(K||Xe)};static#t=this.\u0275mod=P.$C({type:Xe});static#n=this.\u0275inj=P.G2t({providers:[me,Qe],imports:[A.jI,G.jc,y.E9,y.E9]})}return Xe})()},36860:(Je,j,_)=>{"use strict";_.d(j,{BD:()=>q,BQ:()=>A,CZ:()=>ee,Fb:()=>ae,KT:()=>se,MU:()=>B,OD:()=>H,r5:()=>G,v8:()=>fe,vc:()=>ce});var y=_(93953),b=_(60177);let P;try{P=typeof Intl<"u"&&Intl.v8BreakIterator}catch{P=!1}let O,H=(()=>{class he{constructor(Me){this._platformId=Me,this.isBrowser=this._platformId?(0,b.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!P)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Pe){return new(Pe||he)(y.KVO(y.Agw))};static#t=this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();const S=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function B(){if(O)return O;if("object"!=typeof document||!document)return O=new Set(S),O;let he=document.createElement("input");return O=new Set(S.filter(we=>(he.setAttribute("type",we),he.type===we))),O}let N;function A(he){return function U(){if(null==N&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>N=!0}))}finally{N=N||!1}return N}()?he:!!he.capture}var G=function(he){return he[he.NORMAL=0]="NORMAL",he[he.NEGATED=1]="NEGATED",he[he.INVERTED=2]="INVERTED",he}(G||{});let L,z,Z;function ee(){if(null==z){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return z=!1,z;if("scrollBehavior"in document.documentElement.style)z=!0;else{const he=Element.prototype.scrollTo;z=!!he&&!/\{\s*\[native code\]\s*\}/.test(he.toString())}}return z}function q(){if("object"!=typeof document||!document)return G.NORMAL;if(null==L){const he=document.createElement("div"),we=he.style;he.dir="rtl",we.width="1px",we.overflow="auto",we.visibility="hidden",we.pointerEvents="none",we.position="absolute";const Me=document.createElement("div"),Pe=Me.style;Pe.width="2px",Pe.height="1px",he.appendChild(Me),document.body.appendChild(he),L=G.NORMAL,0===he.scrollLeft&&(he.scrollLeft=1,L=0===he.scrollLeft?G.NEGATED:G.INVERTED),he.remove()}return L}function se(he){if(function J(){if(null==Z){const he=typeof document<"u"?document.head:null;Z=!(!he||!he.createShadowRoot&&!he.attachShadow)}return Z}()){const we=he.getRootNode?he.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&we instanceof ShadowRoot)return we}return null}function ce(){let he=typeof document<"u"&&document?document.activeElement:null;for(;he&&he.shadowRoot;){const we=he.shadowRoot.activeElement;if(we===he)break;he=we}return he}function ae(he){return he.composedPath?he.composedPath()[0]:he.target}function fe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(Je,j,_)=>{"use strict";_.d(j,{A8:()=>U,I3:()=>se,VA:()=>A,aI:()=>ee,bV:()=>Z,jc:()=>ae,lb:()=>L});var y=_(93953),b=_(60177);class N{attach(we){return this._attachedHost=we,we.attach(this)}detach(){let we=this._attachedHost;null!=we&&(this._attachedHost=null,we.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(we){this._attachedHost=we}}class U extends N{constructor(we,Me,Pe,C,a){super(),this.component=we,this.viewContainerRef=Me,this.injector=Pe,this.componentFactoryResolver=C,this.projectableNodes=a}}class A extends N{constructor(we,Me,Pe,C){super(),this.templateRef=we,this.viewContainerRef=Me,this.context=Pe,this.injector=C}get origin(){return this.templateRef.elementRef}attach(we,Me=this.context){return this.context=Me,super.attach(we)}detach(){return this.context=void 0,super.detach()}}class G extends N{constructor(we){super(),this.element=we instanceof y.aKT?we.nativeElement:we}}class L{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(we){return we instanceof U?(this._attachedPortal=we,this.attachComponentPortal(we)):we instanceof A?(this._attachedPortal=we,this.attachTemplatePortal(we)):this.attachDomPortal&&we instanceof G?(this._attachedPortal=we,this.attachDomPortal(we)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(we){this._disposeFn=we}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ee extends L{constructor(we,Me,Pe,C,a){super(),this.outletElement=we,this._componentFactoryResolver=Me,this._appRef=Pe,this._defaultInjector=C,this.attachDomPortal=d=>{const m=d.element,p=this._document.createComment("dom-portal");m.parentNode.insertBefore(p,m),this.outletElement.appendChild(m),this._attachedPortal=d,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(m,p)})},this._document=a}attachComponentPortal(we){const Pe=(we.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(we.component);let C;return we.viewContainerRef?(C=we.viewContainerRef.createComponent(Pe,we.viewContainerRef.length,we.injector||we.viewContainerRef.injector,we.projectableNodes||void 0),this.setDisposeFn(()=>C.destroy())):(C=Pe.create(we.injector||this._defaultInjector||y.zZn.NULL),this._appRef.attachView(C.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(C.hostView),C.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(C)),this._attachedPortal=we,C}attachTemplatePortal(we){let Me=we.viewContainerRef,Pe=Me.createEmbeddedView(we.templateRef,we.context,{injector:we.injector});return Pe.rootNodes.forEach(C=>this.outletElement.appendChild(C)),Pe.detectChanges(),this.setDisposeFn(()=>{let C=Me.indexOf(Pe);-1!==C&&Me.remove(C)}),this._attachedPortal=we,Pe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(we){return we.hostView.rootNodes[0]}}let Z=(()=>{class he extends A{constructor(Me,Pe){super(Me,Pe)}static#e=this.\u0275fac=function(Pe){return new(Pe||he)(y.rXU(y.C4Q),y.rXU(y.c1b))};static#t=this.\u0275dir=y.FsC({type:he,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[y.Vt3]})}return he})(),se=(()=>{class he extends L{constructor(Me,Pe,C){super(),this._componentFactoryResolver=Me,this._viewContainerRef=Pe,this._isInitialized=!1,this.attached=new y.bkB,this.attachDomPortal=a=>{const d=a.element,m=this._document.createComment("dom-portal");a.setAttachedHost(this),d.parentNode.insertBefore(m,d),this._getRootNode().appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=C}get portal(){return this._attachedPortal}set portal(Me){this.hasAttached()&&!Me&&!this._isInitialized||(this.hasAttached()&&super.detach(),Me&&super.attach(Me),this._attachedPortal=Me||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Me){Me.setAttachedHost(this);const Pe=null!=Me.viewContainerRef?Me.viewContainerRef:this._viewContainerRef,a=(Me.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Me.component),d=Pe.createComponent(a,Pe.length,Me.injector||Pe.injector,Me.projectableNodes||void 0);return Pe!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=Me,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(Me){Me.setAttachedHost(this);const Pe=this._viewContainerRef.createEmbeddedView(Me.templateRef,Me.context,{injector:Me.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Me,this._attachedRef=Pe,this.attached.emit(Pe),Pe}_getRootNode(){const Me=this._viewContainerRef.element.nativeElement;return Me.nodeType===Me.ELEMENT_NODE?Me:Me.parentNode}static#e=this.\u0275fac=function(Pe){return new(Pe||he)(y.rXU(y.OM3),y.rXU(y.c1b),y.rXU(b.qQ))};static#t=this.\u0275dir=y.FsC({type:he,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[y.Vt3]})}return he})(),ae=(()=>{class he{static#e=this.\u0275fac=function(Pe){return new(Pe||he)};static#t=this.\u0275mod=y.$C({type:he});static#n=this.\u0275inj=y.G2t({})}return he})()},67333:(Je,j,_)=>{"use strict";_.d(j,{uv:()=>d,Gj:()=>de,R:()=>a,E9:()=>Ce,Xj:()=>p});var y=_(14085),b=_(93953),P=_(21413),H=_(7673),w=_(71985),O=_(33726),N=(_(30536),_(25007),_(43236)),U=_(39974),A=_(58750),G=_(54360),z=_(41584);function ee(Re,Ve=N.E){return function L(Re){return(0,U.N)((Ve,Ee)=>{let _e=!1,Fe=null,be=null,Ae=!1;const ge=()=>{if(be?.unsubscribe(),be=null,_e){_e=!1;const te=Fe;Fe=null,Ee.next(te)}Ae&&Ee.complete()},me=()=>{be=null,Ae&&Ee.complete()};Ve.subscribe((0,G._)(Ee,te=>{_e=!0,Fe=te,be||(0,A.Tg)(Re(te)).subscribe(be=(0,G._)(Ee,ge,me))},()=>{Ae=!0,(!_e||!be||be.closed)&&Ee.complete()}))})}(()=>(0,z.O)(Re,Ve))}var q=_(5964),Z=_(56977),J=_(36860),se=_(60177),ce=_(28203);let a=(()=>{class Re{constructor(Ee,_e,Fe){this._ngZone=Ee,this._platform=_e,this._scrolled=new P.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Fe}register(Ee){this.scrollContainers.has(Ee)||this.scrollContainers.set(Ee,Ee.elementScrolled().subscribe(()=>this._scrolled.next(Ee)))}deregister(Ee){const _e=this.scrollContainers.get(Ee);_e&&(_e.unsubscribe(),this.scrollContainers.delete(Ee))}scrolled(Ee=20){return this._platform.isBrowser?new w.c(_e=>{this._globalSubscription||this._addGlobalListener();const Fe=Ee>0?this._scrolled.pipe(ee(Ee)).subscribe(_e):this._scrolled.subscribe(_e);return this._scrolledCount++,()=>{Fe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,H.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ee,_e)=>this.deregister(_e)),this._scrolled.complete()}ancestorScrolled(Ee,_e){const Fe=this.getAncestorScrollContainers(Ee);return this.scrolled(_e).pipe((0,q.p)(be=>!be||Fe.indexOf(be)>-1))}getAncestorScrollContainers(Ee){const _e=[];return this.scrollContainers.forEach((Fe,be)=>{this._scrollableContainsElement(be,Ee)&&_e.push(be)}),_e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ee,_e){let Fe=(0,y.i8)(_e),be=Ee.getElementRef().nativeElement;do{if(Fe==be)return!0}while(Fe=Fe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ee=this._getWindow();return(0,O.R)(Ee.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(_e){return new(_e||Re)(b.KVO(b.SKi),b.KVO(J.OD),b.KVO(se.qQ,8))};static#t=this.\u0275prov=b.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})(),d=(()=>{class Re{constructor(Ee,_e,Fe,be){this.elementRef=Ee,this.scrollDispatcher=_e,this.ngZone=Fe,this.dir=be,this._destroyed=new P.B,this._elementScrolled=new w.c(Ae=>this.ngZone.runOutsideAngular(()=>(0,O.R)(this.elementRef.nativeElement,"scroll").pipe((0,Z.Q)(this._destroyed)).subscribe(Ae)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Ee){const _e=this.elementRef.nativeElement,Fe=this.dir&&"rtl"==this.dir.value;null==Ee.left&&(Ee.left=Fe?Ee.end:Ee.start),null==Ee.right&&(Ee.right=Fe?Ee.start:Ee.end),null!=Ee.bottom&&(Ee.top=_e.scrollHeight-_e.clientHeight-Ee.bottom),Fe&&(0,J.BD)()!=J.r5.NORMAL?(null!=Ee.left&&(Ee.right=_e.scrollWidth-_e.clientWidth-Ee.left),(0,J.BD)()==J.r5.INVERTED?Ee.left=Ee.right:(0,J.BD)()==J.r5.NEGATED&&(Ee.left=Ee.right?-Ee.right:Ee.right)):null!=Ee.right&&(Ee.left=_e.scrollWidth-_e.clientWidth-Ee.right),this._applyScrollToOptions(Ee)}_applyScrollToOptions(Ee){const _e=this.elementRef.nativeElement;(0,J.CZ)()?_e.scrollTo(Ee):(null!=Ee.top&&(_e.scrollTop=Ee.top),null!=Ee.left&&(_e.scrollLeft=Ee.left))}measureScrollOffset(Ee){const _e="left",be=this.elementRef.nativeElement;if("top"==Ee)return be.scrollTop;if("bottom"==Ee)return be.scrollHeight-be.clientHeight-be.scrollTop;const Ae=this.dir&&"rtl"==this.dir.value;return"start"==Ee?Ee=Ae?"right":_e:"end"==Ee&&(Ee=Ae?_e:"right"),Ae&&(0,J.BD)()==J.r5.INVERTED?Ee==_e?be.scrollWidth-be.clientWidth-be.scrollLeft:be.scrollLeft:Ae&&(0,J.BD)()==J.r5.NEGATED?Ee==_e?be.scrollLeft+be.scrollWidth-be.clientWidth:-be.scrollLeft:Ee==_e?be.scrollLeft:be.scrollWidth-be.clientWidth-be.scrollLeft}static#e=this.\u0275fac=function(_e){return new(_e||Re)(b.rXU(b.aKT),b.rXU(a),b.rXU(b.SKi),b.rXU(ce.dS,8))};static#t=this.\u0275dir=b.FsC({type:Re,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Re})(),p=(()=>{class Re{constructor(Ee,_e,Fe){this._platform=Ee,this._change=new P.B,this._changeListener=be=>{this._change.next(be)},this._document=Fe,_e.runOutsideAngular(()=>{if(Ee.isBrowser){const be=this._getWindow();be.addEventListener("resize",this._changeListener),be.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ee=this._getWindow();Ee.removeEventListener("resize",this._changeListener),Ee.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ee={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ee}getViewportRect(){const Ee=this.getViewportScrollPosition(),{width:_e,height:Fe}=this.getViewportSize();return{top:Ee.top,left:Ee.left,bottom:Ee.top+Fe,right:Ee.left+_e,height:Fe,width:_e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ee=this._document,_e=this._getWindow(),Fe=Ee.documentElement,be=Fe.getBoundingClientRect();return{top:-be.top||Ee.body.scrollTop||_e.scrollY||Fe.scrollTop||0,left:-be.left||Ee.body.scrollLeft||_e.scrollX||Fe.scrollLeft||0}}change(Ee=20){return Ee>0?this._change.pipe(ee(Ee)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ee=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ee.innerWidth,height:Ee.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(_e){return new(_e||Re)(b.KVO(J.OD),b.KVO(b.SKi),b.KVO(se.qQ,8))};static#t=this.\u0275prov=b.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})(),de=(()=>{class Re{static#e=this.\u0275fac=function(_e){return new(_e||Re)};static#t=this.\u0275mod=b.$C({type:Re});static#n=this.\u0275inj=b.G2t({})}return Re})(),Ce=(()=>{class Re{static#e=this.\u0275fac=function(_e){return new(_e||Re)};static#t=this.\u0275mod=b.$C({type:Re});static#n=this.\u0275inj=b.G2t({imports:[ce.jI,de,ce.jI,de]})}return Re})()},60177:(Je,j,_)=>{"use strict";_.d(j,{AJ:()=>Oc,Jj:()=>Fn,MD:()=>Rd,N0:()=>Ms,QT:()=>P,Sm:()=>q,Sq:()=>Dn,T3:()=>Ni,UE:()=>Xo,VF:()=>w,Vy:()=>Rc,Xr:()=>Ir,YU:()=>Lr,ZD:()=>H,_b:()=>Nr,aZ:()=>J,bT:()=>wr,fw:()=>Z,hb:()=>z,hj:()=>N,qQ:()=>S,vh:()=>To});var y=_(93953);let b=null;function P(){return b}function H(ot){b??=ot}class w{}const S=new y.nKC("");let B=(()=>{class ot{historyGo(vt){throw new Error("")}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)};static#t=this.\u0275prov=y.jDH({token:ot,factory:()=>(0,y.WQX)(U),providedIn:"platform"})}return ot})();const N=new y.nKC("");let U=(()=>{class ot extends B{constructor(){super(),this._doc=(0,y.WQX)(S),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(vt){const Vt=P().getGlobalEventTarget(this._doc,"window");return Vt.addEventListener("popstate",vt,!1),()=>Vt.removeEventListener("popstate",vt)}onHashChange(vt){const Vt=P().getGlobalEventTarget(this._doc,"window");return Vt.addEventListener("hashchange",vt,!1),()=>Vt.removeEventListener("hashchange",vt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(vt){this._location.pathname=vt}pushState(vt,Vt,yn){this._history.pushState(vt,Vt,yn)}replaceState(vt,Vt,yn){this._history.replaceState(vt,Vt,yn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(vt=0){this._history.go(vt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)};static#t=this.\u0275prov=y.jDH({token:ot,factory:()=>new ot,providedIn:"platform"})}return ot})();function A(ot,Xt){if(0==ot.length)return Xt;if(0==Xt.length)return ot;let vt=0;return ot.endsWith("/")&&vt++,Xt.startsWith("/")&&vt++,2==vt?ot+Xt.substring(1):1==vt?ot+Xt:ot+"/"+Xt}function G(ot){const Xt=ot.match(/#|\?|$/),vt=Xt&&Xt.index||ot.length;return ot.slice(0,vt-("/"===ot[vt-1]?1:0))+ot.slice(vt)}function L(ot){return ot&&"?"!==ot[0]?"?"+ot:ot}let z=(()=>{class ot{historyGo(vt){throw new Error("")}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)};static#t=this.\u0275prov=y.jDH({token:ot,factory:()=>(0,y.WQX)(q),providedIn:"root"})}return ot})();const ee=new y.nKC("");let q=(()=>{class ot extends z{constructor(vt,Vt){super(),this._platformLocation=vt,this._removeListenerFns=[],this._baseHref=Vt??this._platformLocation.getBaseHrefFromDOM()??(0,y.WQX)(S).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(vt){this._removeListenerFns.push(this._platformLocation.onPopState(vt),this._platformLocation.onHashChange(vt))}getBaseHref(){return this._baseHref}prepareExternalUrl(vt){return A(this._baseHref,vt)}path(vt=!1){const Vt=this._platformLocation.pathname+L(this._platformLocation.search),yn=this._platformLocation.hash;return yn&&vt?`${Vt}${yn}`:Vt}pushState(vt,Vt,yn,Yn){const Ye=this.prepareExternalUrl(yn+L(Yn));this._platformLocation.pushState(vt,Vt,Ye)}replaceState(vt,Vt,yn,Yn){const Ye=this.prepareExternalUrl(yn+L(Yn));this._platformLocation.replaceState(vt,Vt,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(vt=0){this._platformLocation.historyGo?.(vt)}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)(y.KVO(B),y.KVO(ee,8))};static#t=this.\u0275prov=y.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),Z=(()=>{class ot extends z{constructor(vt,Vt){super(),this._platformLocation=vt,this._baseHref="",this._removeListenerFns=[],null!=Vt&&(this._baseHref=Vt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(vt){this._removeListenerFns.push(this._platformLocation.onPopState(vt),this._platformLocation.onHashChange(vt))}getBaseHref(){return this._baseHref}path(vt=!1){const Vt=this._platformLocation.hash??"#";return Vt.length>0?Vt.substring(1):Vt}prepareExternalUrl(vt){const Vt=A(this._baseHref,vt);return Vt.length>0?"#"+Vt:Vt}pushState(vt,Vt,yn,Yn){let Ye=this.prepareExternalUrl(yn+L(Yn));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.pushState(vt,Vt,Ye)}replaceState(vt,Vt,yn,Yn){let Ye=this.prepareExternalUrl(yn+L(Yn));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.replaceState(vt,Vt,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(vt=0){this._platformLocation.historyGo?.(vt)}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)(y.KVO(B),y.KVO(ee,8))};static#t=this.\u0275prov=y.jDH({token:ot,factory:ot.\u0275fac})}return ot})(),J=(()=>{class ot{constructor(vt){this._subject=new y.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=vt;const Vt=this._locationStrategy.getBaseHref();this._basePath=function fe(ot){if(new RegExp("^(https?:)?//").test(ot)){const[,vt]=ot.split(/\/\/[^\/]+/);return vt}return ot}(G(ae(Vt))),this._locationStrategy.onPopState(yn=>{this._subject.emit({url:this.path(!0),pop:!0,state:yn.state,type:yn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(vt=!1){return this.normalize(this._locationStrategy.path(vt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(vt,Vt=""){return this.path()==this.normalize(vt+L(Vt))}normalize(vt){return ot.stripTrailingSlash(function ce(ot,Xt){if(!ot||!Xt.startsWith(ot))return Xt;const vt=Xt.substring(ot.length);return""===vt||["/",";","?","#"].includes(vt[0])?vt:Xt}(this._basePath,ae(vt)))}prepareExternalUrl(vt){return vt&&"/"!==vt[0]&&(vt="/"+vt),this._locationStrategy.prepareExternalUrl(vt)}go(vt,Vt="",yn=null){this._locationStrategy.pushState(yn,"",vt,Vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(vt+L(Vt)),yn)}replaceState(vt,Vt="",yn=null){this._locationStrategy.replaceState(yn,"",vt,Vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(vt+L(Vt)),yn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(vt=0){this._locationStrategy.historyGo?.(vt)}onUrlChange(vt){return this._urlChangeListeners.push(vt),this._urlChangeSubscription??=this.subscribe(Vt=>{this._notifyUrlChangeListeners(Vt.url,Vt.state)}),()=>{const Vt=this._urlChangeListeners.indexOf(vt);this._urlChangeListeners.splice(Vt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(vt="",Vt){this._urlChangeListeners.forEach(yn=>yn(vt,Vt))}subscribe(vt,Vt,yn){return this._subject.subscribe({next:vt,error:Vt,complete:yn})}static#e=this.normalizeQueryParams=L;static#t=this.joinWithSlash=A;static#n=this.stripTrailingSlash=G;static#f=this.\u0275fac=function(Vt){return new(Vt||ot)(y.KVO(z))};static#T=this.\u0275prov=y.jDH({token:ot,factory:()=>function se(){return new J((0,y.KVO)(z))}(),providedIn:"root"})}return ot})();function ae(ot){return ot.replace(/\/index.html$/,"")}var Pe=function(ot){return ot[ot.Format=0]="Format",ot[ot.Standalone=1]="Standalone",ot}(Pe||{}),C=function(ot){return ot[ot.Narrow=0]="Narrow",ot[ot.Abbreviated=1]="Abbreviated",ot[ot.Wide=2]="Wide",ot[ot.Short=3]="Short",ot}(C||{}),a=function(ot){return ot[ot.Short=0]="Short",ot[ot.Medium=1]="Medium",ot[ot.Long=2]="Long",ot[ot.Full=3]="Full",ot}(a||{});const d={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function $(ot,Xt){return te((0,y.H5H)(ot)[y.KH2.DateFormat],Xt)}function F(ot,Xt){return te((0,y.H5H)(ot)[y.KH2.TimeFormat],Xt)}function Q(ot,Xt){return te((0,y.H5H)(ot)[y.KH2.DateTimeFormat],Xt)}function de(ot,Xt){const vt=(0,y.H5H)(ot),Vt=vt[y.KH2.NumberSymbols][Xt];if(typeof Vt>"u"){if(Xt===d.CurrencyDecimal)return vt[y.KH2.NumberSymbols][d.Decimal];if(Xt===d.CurrencyGroup)return vt[y.KH2.NumberSymbols][d.Group]}return Vt}function be(ot){if(!ot[y.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ot[y.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function te(ot,Xt){for(let vt=Xt;vt>-1;vt--)if(typeof ot[vt]<"u")return ot[vt];throw new Error("Locale data API: locale data undefined")}function ne(ot){const[Xt,vt]=ot.split(":");return{hours:+Xt,minutes:+vt}}const Qe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ze={},Dt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xe=function(ot){return ot[ot.Short=0]="Short",ot[ot.ShortGMT=1]="ShortGMT",ot[ot.Long=2]="Long",ot[ot.Extended=3]="Extended",ot}(Xe||{}),Ue=function(ot){return ot[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot}(Ue||{}),mt=function(ot){return ot[ot.DayPeriods=0]="DayPeriods",ot[ot.Days=1]="Days",ot[ot.Months=2]="Months",ot[ot.Eras=3]="Eras",ot}(mt||{});function K(ot,Xt,vt,Vt){let yn=function pn(ot){if(yt(ot))return ot;if("number"==typeof ot&&!isNaN(ot))return new Date(ot);if("string"==typeof ot){if(ot=ot.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ot)){const[yn,Yn=1,Ye=1]=ot.split("-").map(Te=>+Te);return T(yn,Yn-1,Ye)}const vt=parseFloat(ot);if(!isNaN(ot-vt))return new Date(vt);let Vt;if(Vt=ot.match(Qe))return function ur(ot){const Xt=new Date(0);let vt=0,Vt=0;const yn=ot[8]?Xt.setUTCFullYear:Xt.setFullYear,Yn=ot[8]?Xt.setUTCHours:Xt.setHours;ot[9]&&(vt=Number(ot[9]+ot[10]),Vt=Number(ot[9]+ot[11])),yn.call(Xt,Number(ot[1]),Number(ot[2])-1,Number(ot[3]));const Ye=Number(ot[4]||0)-vt,Te=Number(ot[5]||0)-Vt,ve=Number(ot[6]||0),xe=Math.floor(1e3*parseFloat("0."+(ot[7]||0)));return Yn.call(Xt,Ye,Te,ve,xe),Xt}(Vt)}const Xt=new Date(ot);if(!yt(Xt))throw new Error(`Unable to convert "${ot}" into a date`);return Xt}(ot);Xt=M(vt,Xt)||Xt;let Te,Ye=[];for(;Xt;){if(Te=Dt.exec(Xt),!Te){Ye.push(Xt);break}{Ye=Ye.concat(Te.slice(1));const rt=Ye.pop();if(!rt)break;Xt=rt}}let ve=yn.getTimezoneOffset();Vt&&(ve=ut(Vt,ve),yn=function nn(ot,Xt,vt){const Vt=vt?-1:1,yn=ot.getTimezoneOffset();return function Gt(ot,Xt){return(ot=new Date(ot.getTime())).setMinutes(ot.getMinutes()+Xt),ot}(ot,Vt*(ut(Xt,yn)-yn))}(yn,Vt,!0));let xe="";return Ye.forEach(rt=>{const st=function bt(ot){if(qt[ot])return qt[ot];let Xt;switch(ot){case"G":case"GG":case"GGG":Xt=en(mt.Eras,C.Abbreviated);break;case"GGGG":Xt=en(mt.Eras,C.Wide);break;case"GGGGG":Xt=en(mt.Eras,C.Narrow);break;case"y":Xt=Ne(Ue.FullYear,1,0,!1,!0);break;case"yy":Xt=Ne(Ue.FullYear,2,0,!0,!0);break;case"yyy":Xt=Ne(Ue.FullYear,3,0,!1,!0);break;case"yyyy":Xt=Ne(Ue.FullYear,4,0,!1,!0);break;case"Y":Xt=cn(1);break;case"YY":Xt=cn(2,!0);break;case"YYY":Xt=cn(3);break;case"YYYY":Xt=cn(4);break;case"M":case"L":Xt=Ne(Ue.Month,1,1);break;case"MM":case"LL":Xt=Ne(Ue.Month,2,1);break;case"MMM":Xt=en(mt.Months,C.Abbreviated);break;case"MMMM":Xt=en(mt.Months,C.Wide);break;case"MMMMM":Xt=en(mt.Months,C.Narrow);break;case"LLL":Xt=en(mt.Months,C.Abbreviated,Pe.Standalone);break;case"LLLL":Xt=en(mt.Months,C.Wide,Pe.Standalone);break;case"LLLLL":Xt=en(mt.Months,C.Narrow,Pe.Standalone);break;case"w":Xt=Cn(1);break;case"ww":Xt=Cn(2);break;case"W":Xt=Cn(1,!0);break;case"d":Xt=Ne(Ue.Date,1);break;case"dd":Xt=Ne(Ue.Date,2);break;case"c":case"cc":Xt=Ne(Ue.Day,1);break;case"ccc":Xt=en(mt.Days,C.Abbreviated,Pe.Standalone);break;case"cccc":Xt=en(mt.Days,C.Wide,Pe.Standalone);break;case"ccccc":Xt=en(mt.Days,C.Narrow,Pe.Standalone);break;case"cccccc":Xt=en(mt.Days,C.Short,Pe.Standalone);break;case"E":case"EE":case"EEE":Xt=en(mt.Days,C.Abbreviated);break;case"EEEE":Xt=en(mt.Days,C.Wide);break;case"EEEEE":Xt=en(mt.Days,C.Narrow);break;case"EEEEEE":Xt=en(mt.Days,C.Short);break;case"a":case"aa":case"aaa":Xt=en(mt.DayPeriods,C.Abbreviated);break;case"aaaa":Xt=en(mt.DayPeriods,C.Wide);break;case"aaaaa":Xt=en(mt.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":Xt=en(mt.DayPeriods,C.Abbreviated,Pe.Standalone,!0);break;case"bbbb":Xt=en(mt.DayPeriods,C.Wide,Pe.Standalone,!0);break;case"bbbbb":Xt=en(mt.DayPeriods,C.Narrow,Pe.Standalone,!0);break;case"B":case"BB":case"BBB":Xt=en(mt.DayPeriods,C.Abbreviated,Pe.Format,!0);break;case"BBBB":Xt=en(mt.DayPeriods,C.Wide,Pe.Format,!0);break;case"BBBBB":Xt=en(mt.DayPeriods,C.Narrow,Pe.Format,!0);break;case"h":Xt=Ne(Ue.Hours,1,-12);break;case"hh":Xt=Ne(Ue.Hours,2,-12);break;case"H":Xt=Ne(Ue.Hours,1);break;case"HH":Xt=Ne(Ue.Hours,2);break;case"m":Xt=Ne(Ue.Minutes,1);break;case"mm":Xt=Ne(Ue.Minutes,2);break;case"s":Xt=Ne(Ue.Seconds,1);break;case"ss":Xt=Ne(Ue.Seconds,2);break;case"S":Xt=Ne(Ue.FractionalSeconds,1);break;case"SS":Xt=Ne(Ue.FractionalSeconds,2);break;case"SSS":Xt=Ne(Ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Xt=Kt(Xe.Short);break;case"ZZZZZ":Xt=Kt(Xe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Xt=Kt(Xe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Xt=Kt(Xe.Long);break;default:return null}return qt[ot]=Xt,Xt}(rt);xe+=st?st(yn,vt,ve):"''"===rt?"'":rt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),xe}function T(ot,Xt,vt){const Vt=new Date(0);return Vt.setFullYear(ot,Xt,vt),Vt.setHours(0,0,0),Vt}function M(ot,Xt){const vt=function p(ot){return(0,y.H5H)(ot)[y.KH2.LocaleId]}(ot);if(ze[vt]??={},ze[vt][Xt])return ze[vt][Xt];let Vt="";switch(Xt){case"shortDate":Vt=$(ot,a.Short);break;case"mediumDate":Vt=$(ot,a.Medium);break;case"longDate":Vt=$(ot,a.Long);break;case"fullDate":Vt=$(ot,a.Full);break;case"shortTime":Vt=F(ot,a.Short);break;case"mediumTime":Vt=F(ot,a.Medium);break;case"longTime":Vt=F(ot,a.Long);break;case"fullTime":Vt=F(ot,a.Full);break;case"short":const yn=M(ot,"shortTime"),Yn=M(ot,"shortDate");Vt=Y(Q(ot,a.Short),[yn,Yn]);break;case"medium":const Ye=M(ot,"mediumTime"),Te=M(ot,"mediumDate");Vt=Y(Q(ot,a.Medium),[Ye,Te]);break;case"long":const ve=M(ot,"longTime"),xe=M(ot,"longDate");Vt=Y(Q(ot,a.Long),[ve,xe]);break;case"full":const rt=M(ot,"fullTime"),st=M(ot,"fullDate");Vt=Y(Q(ot,a.Full),[rt,st])}return Vt&&(ze[vt][Xt]=Vt),Vt}function Y(ot,Xt){return Xt&&(ot=ot.replace(/\{([^}]+)}/g,function(vt,Vt){return null!=Xt&&Vt in Xt?Xt[Vt]:vt})),ot}function pe(ot,Xt,vt="-",Vt,yn){let Yn="";(ot<0||yn&&ot<=0)&&(yn?ot=1-ot:(ot=-ot,Yn=vt));let Ye=String(ot);for(;Ye.length<Xt;)Ye="0"+Ye;return Vt&&(Ye=Ye.slice(Ye.length-Xt)),Yn+Ye}function Ne(ot,Xt,vt=0,Vt=!1,yn=!1){return function(Yn,Ye){let Te=function lt(ot,Xt){switch(ot){case Ue.FullYear:return Xt.getFullYear();case Ue.Month:return Xt.getMonth();case Ue.Date:return Xt.getDate();case Ue.Hours:return Xt.getHours();case Ue.Minutes:return Xt.getMinutes();case Ue.Seconds:return Xt.getSeconds();case Ue.FractionalSeconds:return Xt.getMilliseconds();case Ue.Day:return Xt.getDay();default:throw new Error(`Unknown DateType value "${ot}".`)}}(ot,Yn);if((vt>0||Te>-vt)&&(Te+=vt),ot===Ue.Hours)0===Te&&-12===vt&&(Te=12);else if(ot===Ue.FractionalSeconds)return function ke(ot,Xt){return pe(ot,3).substring(0,Xt)}(Te,Xt);const ve=de(Ye,d.MinusSign);return pe(Te,Xt,ve,Vt,yn)}}function en(ot,Xt,vt=Pe.Format,Vt=!1){return function(yn,Yn){return function It(ot,Xt,vt,Vt,yn,Yn){switch(vt){case mt.Months:return function R(ot,Xt,vt){const Vt=(0,y.H5H)(ot),Yn=te([Vt[y.KH2.MonthsFormat],Vt[y.KH2.MonthsStandalone]],Xt);return te(Yn,vt)}(Xt,yn,Vt)[ot.getMonth()];case mt.Days:return function D(ot,Xt,vt){const Vt=(0,y.H5H)(ot),Yn=te([Vt[y.KH2.DaysFormat],Vt[y.KH2.DaysStandalone]],Xt);return te(Yn,vt)}(Xt,yn,Vt)[ot.getDay()];case mt.DayPeriods:const Ye=ot.getHours(),Te=ot.getMinutes();if(Yn){const xe=function Ae(ot){const Xt=(0,y.H5H)(ot);return be(Xt),(Xt[y.KH2.ExtraData][2]||[]).map(Vt=>"string"==typeof Vt?ne(Vt):[ne(Vt[0]),ne(Vt[1])])}(Xt),rt=function ge(ot,Xt,vt){const Vt=(0,y.H5H)(ot);be(Vt);const Yn=te([Vt[y.KH2.ExtraData][0],Vt[y.KH2.ExtraData][1]],Xt)||[];return te(Yn,vt)||[]}(Xt,yn,Vt),st=xe.findIndex(Mt=>{if(Array.isArray(Mt)){const[Jt,Mn]=Mt,Ie=Ye>=Jt.hours&&Te>=Jt.minutes,ie=Ye<Mn.hours||Ye===Mn.hours&&Te<Mn.minutes;if(Jt.hours<Mn.hours){if(Ie&&ie)return!0}else if(Ie||ie)return!0}else if(Mt.hours===Ye&&Mt.minutes===Te)return!0;return!1});if(-1!==st)return rt[st]}return function E(ot,Xt,vt){const Vt=(0,y.H5H)(ot),Yn=te([Vt[y.KH2.DayPeriodsFormat],Vt[y.KH2.DayPeriodsStandalone]],Xt);return te(Yn,vt)}(Xt,yn,Vt)[Ye<12?0:1];case mt.Eras:return function x(ot,Xt){return te((0,y.H5H)(ot)[y.KH2.Eras],Xt)}(Xt,Vt)[ot.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${vt}`)}}(yn,Yn,ot,Xt,vt,Vt)}}function Kt(ot){return function(Xt,vt,Vt){const yn=-1*Vt,Yn=de(vt,d.MinusSign),Ye=yn>0?Math.floor(yn/60):Math.ceil(yn/60);switch(ot){case Xe.Short:return(yn>=0?"+":"")+pe(Ye,2,Yn)+pe(Math.abs(yn%60),2,Yn);case Xe.ShortGMT:return"GMT"+(yn>=0?"+":"")+pe(Ye,1,Yn);case Xe.Long:return"GMT"+(yn>=0?"+":"")+pe(Ye,2,Yn)+":"+pe(Math.abs(yn%60),2,Yn);case Xe.Extended:return 0===Vt?"Z":(yn>=0?"+":"")+pe(Ye,2,Yn)+":"+pe(Math.abs(yn%60),2,Yn);default:throw new Error(`Unknown zone width "${ot}"`)}}}const rn=0,vn=4;function sr(ot){const Xt=ot.getDay(),vt=0===Xt?-3:vn-Xt;return T(ot.getFullYear(),ot.getMonth(),ot.getDate()+vt)}function Cn(ot,Xt=!1){return function(vt,Vt){let yn;if(Xt){const Yn=new Date(vt.getFullYear(),vt.getMonth(),1).getDay()-1,Ye=vt.getDate();yn=1+Math.floor((Ye+Yn)/7)}else{const Yn=sr(vt),Ye=function un(ot){const Xt=T(ot,rn,1).getDay();return T(ot,0,1+(Xt<=vn?vn:vn+7)-Xt)}(Yn.getFullYear()),Te=Yn.getTime()-Ye.getTime();yn=1+Math.round(Te/6048e5)}return pe(yn,ot,de(Vt,d.MinusSign))}}function cn(ot,Xt=!1){return function(vt,Vt){return pe(sr(vt).getFullYear(),ot,de(Vt,d.MinusSign),Xt)}}const qt={};function ut(ot,Xt){ot=ot.replace(/:/g,"");const vt=Date.parse("Jan 01, 1970 00:00:00 "+ot)/6e4;return isNaN(vt)?Xt:vt}function yt(ot){return ot instanceof Date&&!isNaN(ot.valueOf())}function Nr(ot,Xt){Xt=encodeURIComponent(Xt);for(const vt of ot.split(";")){const Vt=vt.indexOf("="),[yn,Yn]=-1==Vt?[vt,""]:[vt.slice(0,Vt),vt.slice(Vt+1)];if(yn.trim()===Xt)return decodeURIComponent(Yn)}return null}const Cr=/\s+/,Ur=[];let Lr=(()=>{class ot{constructor(vt,Vt){this._ngEl=vt,this._renderer=Vt,this.initialClasses=Ur,this.stateMap=new Map}set klass(vt){this.initialClasses=null!=vt?vt.trim().split(Cr):Ur}set ngClass(vt){this.rawClass="string"==typeof vt?vt.trim().split(Cr):vt}ngDoCheck(){for(const Vt of this.initialClasses)this._updateState(Vt,!0);const vt=this.rawClass;if(Array.isArray(vt)||vt instanceof Set)for(const Vt of vt)this._updateState(Vt,!0);else if(null!=vt)for(const Vt of Object.keys(vt))this._updateState(Vt,!!vt[Vt]);this._applyStateDiff()}_updateState(vt,Vt){const yn=this.stateMap.get(vt);void 0!==yn?(yn.enabled!==Vt&&(yn.changed=!0,yn.enabled=Vt),yn.touched=!0):this.stateMap.set(vt,{enabled:Vt,changed:!0,touched:!0})}_applyStateDiff(){for(const vt of this.stateMap){const Vt=vt[0],yn=vt[1];yn.changed?(this._toggleClass(Vt,yn.enabled),yn.changed=!1):yn.touched||(yn.enabled&&this._toggleClass(Vt,!1),this.stateMap.delete(Vt)),yn.touched=!1}}_toggleClass(vt,Vt){(vt=vt.trim()).length>0&&vt.split(Cr).forEach(yn=>{Vt?this._renderer.addClass(this._ngEl.nativeElement,yn):this._renderer.removeClass(this._ngEl.nativeElement,yn)})}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)(y.rXU(y.aKT),y.rXU(y.sFG))};static#t=this.\u0275dir=y.FsC({type:ot,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return ot})();class _n{constructor(Xt,vt,Vt,yn){this.$implicit=Xt,this.ngForOf=vt,this.index=Vt,this.count=yn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dn=(()=>{class ot{set ngForOf(vt){this._ngForOf=vt,this._ngForOfDirty=!0}set ngForTrackBy(vt){this._trackByFn=vt}get ngForTrackBy(){return this._trackByFn}constructor(vt,Vt,yn){this._viewContainer=vt,this._template=Vt,this._differs=yn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(vt){vt&&(this._template=vt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const vt=this._ngForOf;!this._differ&&vt&&(this._differ=this._differs.find(vt).create(this.ngForTrackBy))}if(this._differ){const vt=this._differ.diff(this._ngForOf);vt&&this._applyChanges(vt)}}_applyChanges(vt){const Vt=this._viewContainer;vt.forEachOperation((yn,Yn,Ye)=>{if(null==yn.previousIndex)Vt.createEmbeddedView(this._template,new _n(yn.item,this._ngForOf,-1,-1),null===Ye?void 0:Ye);else if(null==Ye)Vt.remove(null===Yn?void 0:Yn);else if(null!==Yn){const Te=Vt.get(Yn);Vt.move(Te,Ye),Wn(Te,yn)}});for(let yn=0,Yn=Vt.length;yn<Yn;yn++){const Te=Vt.get(yn).context;Te.index=yn,Te.count=Yn,Te.ngForOf=this._ngForOf}vt.forEachIdentityChange(yn=>{Wn(Vt.get(yn.currentIndex),yn)})}static ngTemplateContextGuard(vt,Vt){return!0}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)(y.rXU(y.c1b),y.rXU(y.C4Q),y.rXU(y._q3))};static#t=this.\u0275dir=y.FsC({type:ot,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return ot})();function Wn(ot,Xt){ot.context.$implicit=Xt.item}let wr=(()=>{class ot{constructor(vt,Vt){this._viewContainer=vt,this._context=new xr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Vt}set ngIf(vt){this._context.$implicit=this._context.ngIf=vt,this._updateView()}set ngIfThen(vt){jr("ngIfThen",vt),this._thenTemplateRef=vt,this._thenViewRef=null,this._updateView()}set ngIfElse(vt){jr("ngIfElse",vt),this._elseTemplateRef=vt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(vt,Vt){return!0}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)(y.rXU(y.c1b),y.rXU(y.C4Q))};static#t=this.\u0275dir=y.FsC({type:ot,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return ot})();class xr{constructor(){this.$implicit=null,this.ngIf=null}}function jr(ot,Xt){if(Xt&&!Xt.createEmbeddedView)throw new Error(`${ot} must be a TemplateRef, but received '${(0,y.Tbb)(Xt)}'.`)}let Ni=(()=>{class ot{constructor(vt){this._viewContainerRef=vt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(vt){if(this._shouldRecreateView(vt)){const Vt=this._viewContainerRef;if(this._viewRef&&Vt.remove(Vt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const yn=this._createContextForwardProxy();this._viewRef=Vt.createEmbeddedView(this.ngTemplateOutlet,yn,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(vt){return!!vt.ngTemplateOutlet||!!vt.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(vt,Vt,yn)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Vt,yn),get:(vt,Vt,yn)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Vt,yn)}})}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)(y.rXU(y.c1b))};static#t=this.\u0275dir=y.FsC({type:ot,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.OA$]})}return ot})();function Di(ot,Xt){return new y.wOt(2100,!1)}class Sn{createSubscription(Xt,vt){return(0,y.O8t)(()=>Xt.subscribe({next:vt,error:Vt=>{throw Vt}}))}dispose(Xt){(0,y.O8t)(()=>Xt.unsubscribe())}}class br{createSubscription(Xt,vt){return Xt.then(vt,Vt=>{throw Vt})}dispose(Xt){}}const dn=new br,Un=new Sn;let Fn=(()=>{class ot{constructor(vt){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=vt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(vt){if(!this._obj){if(vt)try{this.markForCheckOnValueUpdate=!1,this._subscribe(vt)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return vt!==this._obj?(this._dispose(),this.transform(vt)):this._latestValue}_subscribe(vt){this._obj=vt,this._strategy=this._selectStrategy(vt),this._subscription=this._strategy.createSubscription(vt,Vt=>this._updateLatestValue(vt,Vt))}_selectStrategy(vt){if((0,y.jNT)(vt))return dn;if((0,y.zjR)(vt))return Un;throw Di()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(vt,Vt){vt===this._obj&&(this._latestValue=Vt,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)(y.rXU(y.gRc,16))};static#t=this.\u0275pipe=y.EJ8({name:"async",type:ot,pure:!1,standalone:!0})}return ot})();const ro=new y.nKC(""),Bo=new y.nKC("");let To=(()=>{class ot{constructor(vt,Vt,yn){this.locale=vt,this.defaultTimezone=Vt,this.defaultOptions=yn}transform(vt,Vt,yn,Yn){if(null==vt||""===vt||vt!=vt)return null;try{return K(vt,Vt??this.defaultOptions?.dateFormat??"mediumDate",Yn||this.locale,yn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ye){throw Di()}}static#e=this.\u0275fac=function(Vt){return new(Vt||ot)(y.rXU(y.xe9,16),y.rXU(ro,24),y.rXU(Bo,24))};static#t=this.\u0275pipe=y.EJ8({name:"date",type:ot,pure:!0,standalone:!0})}return ot})(),Rd=(()=>{class ot{static#e=this.\u0275fac=function(Vt){return new(Vt||ot)};static#t=this.\u0275mod=y.$C({type:ot});static#n=this.\u0275inj=y.G2t({})}return ot})();const Oc="browser",xu="server";function Xo(ot){return ot===Oc}function Rc(ot){return ot===xu}let Ir=(()=>{class ot{static#e=this.\u0275prov=(0,y.jDH)({token:ot,providedIn:"root",factory:()=>Xo((0,y.WQX)(y.Agw))?new Ns((0,y.WQX)(S),window):new Ja})}return ot})();class Ns{constructor(Xt,vt){this.document=Xt,this.window=vt,this.offset=()=>[0,0]}setOffset(Xt){this.offset=Array.isArray(Xt)?()=>Xt:Xt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Xt){this.window.scrollTo(Xt[0],Xt[1])}scrollToAnchor(Xt){const vt=function So(ot,Xt){const vt=ot.getElementById(Xt)||ot.getElementsByName(Xt)[0];if(vt)return vt;if("function"==typeof ot.createTreeWalker&&ot.body&&"function"==typeof ot.body.attachShadow){const Vt=ot.createTreeWalker(ot.body,NodeFilter.SHOW_ELEMENT);let yn=Vt.currentNode;for(;yn;){const Yn=yn.shadowRoot;if(Yn){const Ye=Yn.getElementById(Xt)||Yn.querySelector(`[name="${Xt}"]`);if(Ye)return Ye}yn=Vt.nextNode()}}return null}(this.document,Xt);vt&&(this.scrollToElement(vt),vt.focus())}setHistoryScrollRestoration(Xt){this.window.history.scrollRestoration=Xt}scrollToElement(Xt){const vt=Xt.getBoundingClientRect(),Vt=vt.left+this.window.pageXOffset,yn=vt.top+this.window.pageYOffset,Yn=this.offset();this.window.scrollTo(Vt-Yn[0],yn-Yn[1])}}class Ja{setOffset(Xt){}getScrollPosition(){return[0,0]}scrollToPosition(Xt){}scrollToAnchor(Xt){}setHistoryScrollRestoration(Xt){}}class Ms{}},21626:(Je,j,_)=>{"use strict";_.d(j,{Qq:()=>Q,q1:()=>mn});var y=_(10467),b=_(93953),P=_(7673),H=_(71985),w=_(86648),O=_(70274),S=_(5964),B=_(96354),N=_(70980),U=_(25558),A=_(60177);class G{}class L{}class z{constructor(_n){this.normalizedNames=new Map,this.lazyUpdate=null,_n?"string"==typeof _n?this.lazyInit=()=>{this.headers=new Map,_n.split("\n").forEach(Dn=>{const Wn=Dn.indexOf(":");if(Wn>0){const Gn=Dn.slice(0,Wn),wr=Gn.toLowerCase(),xr=Dn.slice(Wn+1).trim();this.maybeSetNormalizedName(Gn,wr),this.headers.has(wr)?this.headers.get(wr).push(xr):this.headers.set(wr,[xr])}})}:typeof Headers<"u"&&_n instanceof Headers?(this.headers=new Map,_n.forEach((Dn,Wn)=>{this.setHeaderEntries(Wn,Dn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(_n).forEach(([Dn,Wn])=>{this.setHeaderEntries(Dn,Wn)})}:this.headers=new Map}has(_n){return this.init(),this.headers.has(_n.toLowerCase())}get(_n){this.init();const Dn=this.headers.get(_n.toLowerCase());return Dn&&Dn.length>0?Dn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_n){return this.init(),this.headers.get(_n.toLowerCase())||null}append(_n,Dn){return this.clone({name:_n,value:Dn,op:"a"})}set(_n,Dn){return this.clone({name:_n,value:Dn,op:"s"})}delete(_n,Dn){return this.clone({name:_n,value:Dn,op:"d"})}maybeSetNormalizedName(_n,Dn){this.normalizedNames.has(Dn)||this.normalizedNames.set(Dn,_n)}init(){this.lazyInit&&(this.lazyInit instanceof z?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_n=>this.applyUpdate(_n)),this.lazyUpdate=null))}copyFrom(_n){_n.init(),Array.from(_n.headers.keys()).forEach(Dn=>{this.headers.set(Dn,_n.headers.get(Dn)),this.normalizedNames.set(Dn,_n.normalizedNames.get(Dn))})}clone(_n){const Dn=new z;return Dn.lazyInit=this.lazyInit&&this.lazyInit instanceof z?this.lazyInit:this,Dn.lazyUpdate=(this.lazyUpdate||[]).concat([_n]),Dn}applyUpdate(_n){const Dn=_n.name.toLowerCase();switch(_n.op){case"a":case"s":let Wn=_n.value;if("string"==typeof Wn&&(Wn=[Wn]),0===Wn.length)return;this.maybeSetNormalizedName(_n.name,Dn);const Gn=("a"===_n.op?this.headers.get(Dn):void 0)||[];Gn.push(...Wn),this.headers.set(Dn,Gn);break;case"d":const wr=_n.value;if(wr){let xr=this.headers.get(Dn);if(!xr)return;xr=xr.filter(jr=>-1===wr.indexOf(jr)),0===xr.length?(this.headers.delete(Dn),this.normalizedNames.delete(Dn)):this.headers.set(Dn,xr)}else this.headers.delete(Dn),this.normalizedNames.delete(Dn)}}setHeaderEntries(_n,Dn){const Wn=(Array.isArray(Dn)?Dn:[Dn]).map(wr=>wr.toString()),Gn=_n.toLowerCase();this.headers.set(Gn,Wn),this.maybeSetNormalizedName(_n,Gn)}forEach(_n){this.init(),Array.from(this.normalizedNames.keys()).forEach(Dn=>_n(this.normalizedNames.get(Dn),this.headers.get(Dn)))}}class q{encodeKey(_n){return ce(_n)}encodeValue(_n){return ce(_n)}decodeKey(_n){return decodeURIComponent(_n)}decodeValue(_n){return decodeURIComponent(_n)}}const J=/%(\d[a-f0-9])/gi,se={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ce(on){return encodeURIComponent(on).replace(J,(_n,Dn)=>se[Dn]??_n)}function ae(on){return`${on}`}class fe{constructor(_n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_n.encoder||new q,_n.fromString){if(_n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Z(on,_n){const Dn=new Map;return on.length>0&&on.replace(/^\?/,"").split("&").forEach(Gn=>{const wr=Gn.indexOf("="),[xr,jr]=-1==wr?[_n.decodeKey(Gn),""]:[_n.decodeKey(Gn.slice(0,wr)),_n.decodeValue(Gn.slice(wr+1))],Kr=Dn.get(xr)||[];Kr.push(jr),Dn.set(xr,Kr)}),Dn}(_n.fromString,this.encoder)}else _n.fromObject?(this.map=new Map,Object.keys(_n.fromObject).forEach(Dn=>{const Wn=_n.fromObject[Dn],Gn=Array.isArray(Wn)?Wn.map(ae):[ae(Wn)];this.map.set(Dn,Gn)})):this.map=null}has(_n){return this.init(),this.map.has(_n)}get(_n){this.init();const Dn=this.map.get(_n);return Dn?Dn[0]:null}getAll(_n){return this.init(),this.map.get(_n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_n,Dn){return this.clone({param:_n,value:Dn,op:"a"})}appendAll(_n){const Dn=[];return Object.keys(_n).forEach(Wn=>{const Gn=_n[Wn];Array.isArray(Gn)?Gn.forEach(wr=>{Dn.push({param:Wn,value:wr,op:"a"})}):Dn.push({param:Wn,value:Gn,op:"a"})}),this.clone(Dn)}set(_n,Dn){return this.clone({param:_n,value:Dn,op:"s"})}delete(_n,Dn){return this.clone({param:_n,value:Dn,op:"d"})}toString(){return this.init(),this.keys().map(_n=>{const Dn=this.encoder.encodeKey(_n);return this.map.get(_n).map(Wn=>Dn+"="+this.encoder.encodeValue(Wn)).join("&")}).filter(_n=>""!==_n).join("&")}clone(_n){const Dn=new fe({encoder:this.encoder});return Dn.cloneFrom=this.cloneFrom||this,Dn.updates=(this.updates||[]).concat(_n),Dn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_n=>this.map.set(_n,this.cloneFrom.map.get(_n))),this.updates.forEach(_n=>{switch(_n.op){case"a":case"s":const Dn=("a"===_n.op?this.map.get(_n.param):void 0)||[];Dn.push(ae(_n.value)),this.map.set(_n.param,Dn);break;case"d":if(void 0===_n.value){this.map.delete(_n.param);break}{let Wn=this.map.get(_n.param)||[];const Gn=Wn.indexOf(ae(_n.value));-1!==Gn&&Wn.splice(Gn,1),Wn.length>0?this.map.set(_n.param,Wn):this.map.delete(_n.param)}}}),this.cloneFrom=this.updates=null)}}class we{constructor(){this.map=new Map}set(_n,Dn){return this.map.set(_n,Dn),this}get(_n){return this.map.has(_n)||this.map.set(_n,_n.defaultValue()),this.map.get(_n)}delete(_n){return this.map.delete(_n),this}has(_n){return this.map.has(_n)}keys(){return this.map.keys()}}function Pe(on){return typeof ArrayBuffer<"u"&&on instanceof ArrayBuffer}function C(on){return typeof Blob<"u"&&on instanceof Blob}function a(on){return typeof FormData<"u"&&on instanceof FormData}class m{constructor(_n,Dn,Wn,Gn){let wr;if(this.url=Dn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_n.toUpperCase(),function Me(on){switch(on){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Gn?(this.body=void 0!==Wn?Wn:null,wr=Gn):wr=Wn,wr&&(this.reportProgress=!!wr.reportProgress,this.withCredentials=!!wr.withCredentials,wr.responseType&&(this.responseType=wr.responseType),wr.headers&&(this.headers=wr.headers),wr.context&&(this.context=wr.context),wr.params&&(this.params=wr.params),this.transferCache=wr.transferCache),this.headers??=new z,this.context??=new we,this.params){const xr=this.params.toString();if(0===xr.length)this.urlWithParams=Dn;else{const jr=Dn.indexOf("?");this.urlWithParams=Dn+(-1===jr?"?":jr<Dn.length-1?"&":"")+xr}}else this.params=new fe,this.urlWithParams=Dn}serializeBody(){return null===this.body?null:"string"==typeof this.body||Pe(this.body)||C(this.body)||a(this.body)||function d(on){return typeof URLSearchParams<"u"&&on instanceof URLSearchParams}(this.body)?this.body:this.body instanceof fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||a(this.body)?null:C(this.body)?this.body.type||null:Pe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_n={}){const Dn=_n.method||this.method,Wn=_n.url||this.url,Gn=_n.responseType||this.responseType,wr=_n.transferCache??this.transferCache,xr=void 0!==_n.body?_n.body:this.body,jr=_n.withCredentials??this.withCredentials,Kr=_n.reportProgress??this.reportProgress;let Ti=_n.headers||this.headers,wo=_n.params||this.params;const si=_n.context??this.context;return void 0!==_n.setHeaders&&(Ti=Object.keys(_n.setHeaders).reduce((ho,yo)=>ho.set(yo,_n.setHeaders[yo]),Ti)),_n.setParams&&(wo=Object.keys(_n.setParams).reduce((ho,yo)=>ho.set(yo,_n.setParams[yo]),wo)),new m(Dn,Wn,xr,{params:wo,headers:Ti,context:si,reportProgress:Kr,responseType:Gn,withCredentials:jr,transferCache:wr})}}var p=function(on){return on[on.Sent=0]="Sent",on[on.UploadProgress=1]="UploadProgress",on[on.ResponseHeader=2]="ResponseHeader",on[on.DownloadProgress=3]="DownloadProgress",on[on.Response=4]="Response",on[on.User=5]="User",on}(p||{});class E{constructor(_n,Dn=200,Wn="OK"){this.headers=_n.headers||new z,this.status=void 0!==_n.status?_n.status:Dn,this.statusText=_n.statusText||Wn,this.url=_n.url||null,this.ok=this.status>=200&&this.status<300}}class D extends E{constructor(_n={}){super(_n),this.type=p.ResponseHeader}clone(_n={}){return new D({headers:_n.headers||this.headers,status:void 0!==_n.status?_n.status:this.status,statusText:_n.statusText||this.statusText,url:_n.url||this.url||void 0})}}class R extends E{constructor(_n={}){super(_n),this.type=p.Response,this.body=void 0!==_n.body?_n.body:null}clone(_n={}){return new R({body:void 0!==_n.body?_n.body:this.body,headers:_n.headers||this.headers,status:void 0!==_n.status?_n.status:this.status,statusText:_n.statusText||this.statusText,url:_n.url||this.url||void 0})}}class x extends E{constructor(_n){super(_n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_n.url||"(unknown url)"}`:`Http failure response for ${_n.url||"(unknown url)"}: ${_n.status} ${_n.statusText}`,this.error=_n.error||null}}function F(on,_n){return{body:_n,headers:on.headers,context:on.context,observe:on.observe,params:on.params,reportProgress:on.reportProgress,responseType:on.responseType,withCredentials:on.withCredentials,transferCache:on.transferCache}}let Q=(()=>{class on{constructor(Dn){this.handler=Dn}request(Dn,Wn,Gn={}){let wr;if(Dn instanceof m)wr=Dn;else{let Kr,Ti;Kr=Gn.headers instanceof z?Gn.headers:new z(Gn.headers),Gn.params&&(Ti=Gn.params instanceof fe?Gn.params:new fe({fromObject:Gn.params})),wr=new m(Dn,Wn,void 0!==Gn.body?Gn.body:null,{headers:Kr,context:Gn.context,params:Ti,reportProgress:Gn.reportProgress,responseType:Gn.responseType||"json",withCredentials:Gn.withCredentials,transferCache:Gn.transferCache})}const xr=(0,P.of)(wr).pipe((0,O.H)(Kr=>this.handler.handle(Kr)));if(Dn instanceof m||"events"===Gn.observe)return xr;const jr=xr.pipe((0,S.p)(Kr=>Kr instanceof R));switch(Gn.observe||"body"){case"body":switch(wr.responseType){case"arraybuffer":return jr.pipe((0,B.T)(Kr=>{if(null!==Kr.body&&!(Kr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Kr.body}));case"blob":return jr.pipe((0,B.T)(Kr=>{if(null!==Kr.body&&!(Kr.body instanceof Blob))throw new Error("Response is not a Blob.");return Kr.body}));case"text":return jr.pipe((0,B.T)(Kr=>{if(null!==Kr.body&&"string"!=typeof Kr.body)throw new Error("Response is not a string.");return Kr.body}));default:return jr.pipe((0,B.T)(Kr=>Kr.body))}case"response":return jr;default:throw new Error(`Unreachable: unhandled observe type ${Gn.observe}}`)}}delete(Dn,Wn={}){return this.request("DELETE",Dn,Wn)}get(Dn,Wn={}){return this.request("GET",Dn,Wn)}head(Dn,Wn={}){return this.request("HEAD",Dn,Wn)}jsonp(Dn,Wn){return this.request("JSONP",Dn,{params:(new fe).append(Wn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Dn,Wn={}){return this.request("OPTIONS",Dn,Wn)}patch(Dn,Wn,Gn={}){return this.request("PATCH",Dn,F(Gn,Wn))}post(Dn,Wn,Gn={}){return this.request("POST",Dn,F(Gn,Wn))}put(Dn,Wn,Gn={}){return this.request("PUT",Dn,F(Gn,Wn))}static#e=this.\u0275fac=function(Wn){return new(Wn||on)(b.KVO(G))};static#t=this.\u0275prov=b.jDH({token:on,factory:on.\u0275fac})}return on})();const de=/^\)\]\}',?\n/;function Re(on){if(on.url)return on.url;const _n="X-Request-URL".toLocaleLowerCase();return on.headers.get(_n)}let Ve=(()=>{class on{constructor(){this.fetchImpl=(0,b.WQX)(Ee,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,b.WQX)(b.SKi)}handle(Dn){return new H.c(Wn=>{const Gn=new AbortController;return this.doRequest(Dn,Gn.signal,Wn).then(_e,wr=>Wn.error(new x({error:wr}))),()=>Gn.abort()})}doRequest(Dn,Wn,Gn){var wr=this;return(0,y.A)(function*(){const xr=wr.createRequestInit(Dn);let jr;try{const Io=wr.ngZone.runOutsideAngular(()=>wr.fetchImpl(Dn.urlWithParams,{signal:Wn,...xr}));(function Fe(on){on.then(_e,_e)})(Io),Gn.next({type:p.Sent}),jr=yield Io}catch(Io){return void Gn.error(new x({error:Io,status:Io.status??0,statusText:Io.statusText,url:Dn.urlWithParams,headers:Io.headers}))}const Kr=new z(jr.headers),Ti=jr.statusText,wo=Re(jr)??Dn.urlWithParams;let si=jr.status,ho=null;if(Dn.reportProgress&&Gn.next(new D({headers:Kr,status:si,statusText:Ti,url:wo})),jr.body){const Io=jr.headers.get("content-length"),pi=[],Li=jr.body.getReader();let Fa,Di,Ni=0;const Sn=typeof Zone<"u"&&Zone.current;yield wr.ngZone.runOutsideAngular((0,y.A)(function*(){for(;;){const{done:dn,value:Un}=yield Li.read();if(dn)break;if(pi.push(Un),Ni+=Un.length,Dn.reportProgress){Di="text"===Dn.responseType?(Di??"")+(Fa??=new TextDecoder).decode(Un,{stream:!0}):void 0;const Fn=()=>Gn.next({type:p.DownloadProgress,total:Io?+Io:void 0,loaded:Ni,partialText:Di});Sn?Sn.run(Fn):Fn()}}}));const br=wr.concatChunks(pi,Ni);try{const dn=jr.headers.get("Content-Type")??"";ho=wr.parseBody(Dn,br,dn)}catch(dn){return void Gn.error(new x({error:dn,headers:new z(jr.headers),status:jr.status,statusText:jr.statusText,url:Re(jr)??Dn.urlWithParams}))}}0===si&&(si=ho?200:0),si>=200&&si<300?(Gn.next(new R({body:ho,headers:Kr,status:si,statusText:Ti,url:wo})),Gn.complete()):Gn.error(new x({error:ho,headers:Kr,status:si,statusText:Ti,url:wo}))})()}parseBody(Dn,Wn,Gn){switch(Dn.responseType){case"json":const wr=(new TextDecoder).decode(Wn).replace(de,"");return""===wr?null:JSON.parse(wr);case"text":return(new TextDecoder).decode(Wn);case"blob":return new Blob([Wn],{type:Gn});case"arraybuffer":return Wn.buffer}}createRequestInit(Dn){const Wn={},Gn=Dn.withCredentials?"include":void 0;if(Dn.headers.forEach((wr,xr)=>Wn[wr]=xr.join(",")),Dn.headers.has("Accept")||(Wn.Accept="application/json, text/plain, */*"),!Dn.headers.has("Content-Type")){const wr=Dn.detectContentTypeHeader();null!==wr&&(Wn["Content-Type"]=wr)}return{body:Dn.serializeBody(),method:Dn.method,headers:Wn,credentials:Gn}}concatChunks(Dn,Wn){const Gn=new Uint8Array(Wn);let wr=0;for(const xr of Dn)Gn.set(xr,wr),wr+=xr.length;return Gn}static#e=this.\u0275fac=function(Wn){return new(Wn||on)};static#t=this.\u0275prov=b.jDH({token:on,factory:on.\u0275fac})}return on})();class Ee{}function _e(){}function be(on,_n){return _n(on)}function Ae(on,_n){return(Dn,Wn)=>_n.intercept(Dn,{handle:Gn=>on(Gn,Wn)})}const me=new b.nKC(""),te=new b.nKC(""),ne=new b.nKC(""),ue=new b.nKC("",{providedIn:"root",factory:()=>!0});function De(){let on=null;return(_n,Dn)=>{null===on&&(on=((0,b.WQX)(me,{optional:!0})??[]).reduceRight(Ae,be));const Wn=(0,b.WQX)(b.TgB);if((0,b.WQX)(ue)){const wr=Wn.add();return on(_n,Dn).pipe((0,N.j)(()=>Wn.remove(wr)))}return on(_n,Dn)}}let ze=(()=>{class on extends G{constructor(Dn,Wn){super(),this.backend=Dn,this.injector=Wn,this.chain=null,this.pendingTasks=(0,b.WQX)(b.TgB),this.contributeToStability=(0,b.WQX)(ue)}handle(Dn){if(null===this.chain){const Wn=Array.from(new Set([...this.injector.get(te),...this.injector.get(ne,[])]));this.chain=Wn.reduceRight((Gn,wr)=>function ge(on,_n,Dn){return(Wn,Gn)=>(0,b.N4e)(Dn,()=>_n(Wn,wr=>on(wr,Gn)))}(Gn,wr,this.injector),be)}if(this.contributeToStability){const Wn=this.pendingTasks.add();return this.chain(Dn,Gn=>this.backend.handle(Gn)).pipe((0,N.j)(()=>this.pendingTasks.remove(Wn)))}return this.chain(Dn,Wn=>this.backend.handle(Wn))}static#e=this.\u0275fac=function(Wn){return new(Wn||on)(b.KVO(L),b.KVO(b.uvJ))};static#t=this.\u0275prov=b.jDH({token:on,factory:on.\u0275fac})}return on})();const lt=/^\)\]\}',?\n/;let It=(()=>{class on{constructor(Dn){this.xhrFactory=Dn}handle(Dn){if("JSONP"===Dn.method)throw new b.wOt(-2800,!1);const Wn=this.xhrFactory;return(Wn.\u0275loadImpl?(0,w.H)(Wn.\u0275loadImpl()):(0,P.of)(null)).pipe((0,U.n)(()=>new H.c(wr=>{const xr=Wn.build();if(xr.open(Dn.method,Dn.urlWithParams),Dn.withCredentials&&(xr.withCredentials=!0),Dn.headers.forEach((pi,Li)=>xr.setRequestHeader(pi,Li.join(","))),Dn.headers.has("Accept")||xr.setRequestHeader("Accept","application/json, text/plain, */*"),!Dn.headers.has("Content-Type")){const pi=Dn.detectContentTypeHeader();null!==pi&&xr.setRequestHeader("Content-Type",pi)}if(Dn.responseType){const pi=Dn.responseType.toLowerCase();xr.responseType="json"!==pi?pi:"text"}const jr=Dn.serializeBody();let Kr=null;const Ti=()=>{if(null!==Kr)return Kr;const pi=xr.statusText||"OK",Li=new z(xr.getAllResponseHeaders()),Ni=function en(on){return"responseURL"in on&&on.responseURL?on.responseURL:/^X-Request-URL:/m.test(on.getAllResponseHeaders())?on.getResponseHeader("X-Request-URL"):null}(xr)||Dn.url;return Kr=new D({headers:Li,status:xr.status,statusText:pi,url:Ni}),Kr},wo=()=>{let{headers:pi,status:Li,statusText:Ni,url:Fa}=Ti(),Di=null;204!==Li&&(Di=typeof xr.response>"u"?xr.responseText:xr.response),0===Li&&(Li=Di?200:0);let Sn=Li>=200&&Li<300;if("json"===Dn.responseType&&"string"==typeof Di){const br=Di;Di=Di.replace(lt,"");try{Di=""!==Di?JSON.parse(Di):null}catch(dn){Di=br,Sn&&(Sn=!1,Di={error:dn,text:Di})}}Sn?(wr.next(new R({body:Di,headers:pi,status:Li,statusText:Ni,url:Fa||void 0})),wr.complete()):wr.error(new x({error:Di,headers:pi,status:Li,statusText:Ni,url:Fa||void 0}))},si=pi=>{const{url:Li}=Ti(),Ni=new x({error:pi,status:xr.status||0,statusText:xr.statusText||"Unknown Error",url:Li||void 0});wr.error(Ni)};let ho=!1;const yo=pi=>{ho||(wr.next(Ti()),ho=!0);let Li={type:p.DownloadProgress,loaded:pi.loaded};pi.lengthComputable&&(Li.total=pi.total),"text"===Dn.responseType&&xr.responseText&&(Li.partialText=xr.responseText),wr.next(Li)},Io=pi=>{let Li={type:p.UploadProgress,loaded:pi.loaded};pi.lengthComputable&&(Li.total=pi.total),wr.next(Li)};return xr.addEventListener("load",wo),xr.addEventListener("error",si),xr.addEventListener("timeout",si),xr.addEventListener("abort",si),Dn.reportProgress&&(xr.addEventListener("progress",yo),null!==jr&&xr.upload&&xr.upload.addEventListener("progress",Io)),xr.send(jr),wr.next({type:p.Sent}),()=>{xr.removeEventListener("error",si),xr.removeEventListener("abort",si),xr.removeEventListener("load",wo),xr.removeEventListener("timeout",si),Dn.reportProgress&&(xr.removeEventListener("progress",yo),null!==jr&&xr.upload&&xr.upload.removeEventListener("progress",Io)),xr.readyState!==xr.DONE&&xr.abort()}})))}static#e=this.\u0275fac=function(Wn){return new(Wn||on)(b.KVO(A.N0))};static#t=this.\u0275prov=b.jDH({token:on,factory:on.\u0275fac})}return on})();const Kt=new b.nKC(""),vn=new b.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sr=new b.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Cn{}let cn=(()=>{class on{constructor(Dn,Wn,Gn){this.doc=Dn,this.platform=Wn,this.cookieName=Gn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Dn=this.doc.cookie||"";return Dn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,A._b)(Dn,this.cookieName),this.lastCookieString=Dn),this.lastToken}static#e=this.\u0275fac=function(Wn){return new(Wn||on)(b.KVO(A.qQ),b.KVO(b.Agw),b.KVO(vn))};static#t=this.\u0275prov=b.jDH({token:on,factory:on.\u0275fac})}return on})();function qt(on,_n){const Dn=on.url.toLowerCase();if(!(0,b.WQX)(Kt)||"GET"===on.method||"HEAD"===on.method||Dn.startsWith("http://")||Dn.startsWith("https://"))return _n(on);const Wn=(0,b.WQX)(Cn).getToken(),Gn=(0,b.WQX)(sr);return null!=Wn&&!on.headers.has(Gn)&&(on=on.clone({headers:on.headers.set(Gn,Wn)})),_n(on)}var ut=function(on){return on[on.Interceptors=0]="Interceptors",on[on.LegacyInterceptors=1]="LegacyInterceptors",on[on.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",on[on.NoXsrfProtection=3]="NoXsrfProtection",on[on.JsonpSupport=4]="JsonpSupport",on[on.RequestsMadeViaParent=5]="RequestsMadeViaParent",on[on.Fetch=6]="Fetch",on}(ut||{});function nn(...on){const _n=[Q,It,ze,{provide:G,useExisting:ze},{provide:L,useFactory:()=>(0,b.WQX)(Ve,{optional:!0})??(0,b.WQX)(It)},{provide:te,useValue:qt,multi:!0},{provide:Kt,useValue:!0},{provide:Cn,useClass:cn}];for(const Dn of on)_n.push(...Dn.\u0275providers);return(0,b.EmA)(_n)}const ur=new b.nKC("");function yt(){return function Gt(on,_n){return{\u0275kind:on,\u0275providers:_n}}(ut.LegacyInterceptors,[{provide:ur,useFactory:De},{provide:te,useExisting:ur,multi:!0}])}let mn=(()=>{class on{static#e=this.\u0275fac=function(Wn){return new(Wn||on)};static#t=this.\u0275mod=b.$C({type:on});static#n=this.\u0275inj=b.G2t({providers:[nn(yt())]})}return on})()},93953:(Je,j,_)=>{"use strict";function y(o,c){return Object.is(o,c)}_.d(j,{bc$:()=>Ts,iLQ:()=>Sc,sZ2:()=>Yb,hnV:()=>TI,wjH:()=>hd,o8S:()=>ai,BIS:()=>Fd,gRc:()=>KI,Ql9:()=>yP,OM3:()=>$w,Ocv:()=>MP,Z63:()=>Qr,aKT:()=>wg,uvJ:()=>wc,zcH:()=>nu,bkB:()=>wf,$GK:()=>oo,nKC:()=>Ui,zZn:()=>Fc,_q3:()=>sM,MKu:()=>aM,xe9:()=>Sp,Co$:()=>K2,Vns:()=>cp,SKi:()=>Ea,Xx1:()=>Mt,Agw:()=>xg,PLl:()=>Zb,rOR:()=>Fb,sFG:()=>q8,_9s:()=>OA,czy:()=>wy,WPN:()=>Qp,kdw:()=>Mn,C4Q:()=>Ef,NYb:()=>TR,giA:()=>MI,RxE:()=>e1,c1b:()=>Zg,gXe:()=>_s,mal:()=>VA,Tzd:()=>_2,L39:()=>E1,EWP:()=>pC,sbv:()=>ii,a0P:()=>XR,Ol2:()=>Ky,w6W:()=>_5,QZP:()=>yC,Rfq:()=>Ut,WQX:()=>yn,naY:()=>UI,Hps:()=>R2,QuC:()=>or,EmA:()=>rs,geq:()=>no,Udg:()=>bM,Jn2:()=>_P,HJs:()=>hO,N4e:()=>XM,vPA:()=>Tf,O8t:()=>lO,ebz:()=>_i,An2:()=>dh,H3F:()=>oP,zAP:()=>QI,H8p:()=>U1,KH2:()=>Eh,TgB:()=>Xp,wOt:()=>Ir,WHO:()=>hP,e01:()=>o1,lNU:()=>Ho,h9k:()=>vT,$MX:()=>lw,ZF7:()=>by,Kcf:()=>p3,e5t:()=>ih,UyX:()=>y3,cWb:()=>m3,osQ:()=>g3,H5H:()=>Gu,Zy3:()=>Ns,mq5:()=>mp,JZv:()=>Qi,TL3:()=>yM,LfX:()=>Mu,plB:()=>Sf,jNT:()=>SI,zjR:()=>Ch,ngT:()=>al,TL$:()=>n3,Tbb:()=>Uo,rcV:()=>rh,Vt3:()=>cm,GFd:()=>sD,OA$:()=>ds,Jv_:()=>xs,aNF:()=>Rm,R7$:()=>VT,BMQ:()=>Sd,HbH:()=>q2,ZvI:()=>Hu,AVh:()=>Mv,vxM:()=>A_,wni:()=>Ax,C6U:()=>w0,VBU:()=>mb,FsC:()=>et,jDH:()=>Eo,G2t:()=>td,$C:()=>Ge,EJ8:()=>pt,rXU:()=>Qh,nrm:()=>I_,eu8:()=>C_,bVm:()=>Cv,qex:()=>Iv,k0s:()=>Bf,j41:()=>Dv,RV6:()=>fl,xGo:()=>Nk,Mr5:()=>c0,pXf:()=>VD,KVO:()=>vt,kS0:()=>Ub,QTQ:()=>Mw,bIt:()=>km,lsd:()=>bp,joV:()=>Ak,qSk:()=>Ab,XpG:()=>JD,nI1:()=>Ep,bMT:()=>Ki,i5U:()=>Fi,SdG:()=>XD,NAR:()=>xx,Y8G:()=>Is,FS9:()=>Mx,lJ4:()=>Fv,eq3:()=>wp,l_i:()=>Lx,NyB:()=>F_,mGM:()=>Dx,sdS:()=>QD,Dyx:()=>Sm,Z7z:()=>sx,fX1:()=>Tv,Vm6:()=>pp,Njj:()=>vk,eBV:()=>gk,npT:()=>bT,B4B:()=>PE,n$t:()=>Pg,xc7:()=>v_,Kam:()=>Nv,zvX:()=>kv,DNE:()=>o_,C5r:()=>Y_,EFF:()=>Px,JRh:()=>gs,SpI:()=>$_,Lme:()=>Ox,DH7:()=>sI,mxI:()=>z_,R50:()=>Nx,GBs:()=>ZD,wEZ:()=>qD});let b=null,P=!1,H=1;const w=Symbol("SIGNAL");function O(o){const c=b;return b=o,c}const U={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function A(o){if(P)throw new Error("");if(null===b)return;b.consumerOnSignalRead(o);const c=b.nextProducerIndex++;we(b),c<b.producerNode.length&&b.producerNode[c]!==o&&he(b)&&fe(b.producerNode[c],b.producerIndexOfThis[c]),b.producerNode[c]!==o&&(b.producerNode[c]=o,b.producerIndexOfThis[c]=he(b)?ae(o,b,c):0),b.producerLastReadVersion[c]=o.version}function L(o){if((!he(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==H)){if(!o.producerMustRecompute(o)&&!se(o))return o.dirty=!1,void(o.lastCleanEpoch=H);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=H}}function z(o){if(void 0===o.liveConsumerNode)return;const c=P;P=!0;try{for(const g of o.liveConsumerNode)g.dirty||q(g)}finally{P=c}}function ee(){return!1!==b?.consumerAllowSignalWrites}function q(o){o.dirty=!0,z(o),o.consumerMarkedDirty?.(o)}function Z(o){return o&&(o.nextProducerIndex=0),O(o)}function J(o,c){if(O(c),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(he(o))for(let g=o.nextProducerIndex;g<o.producerNode.length;g++)fe(o.producerNode[g],o.producerIndexOfThis[g]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function se(o){we(o);for(let c=0;c<o.producerNode.length;c++){const g=o.producerNode[c],I=o.producerLastReadVersion[c];if(I!==g.version||(L(g),I!==g.version))return!0}return!1}function ce(o){if(we(o),he(o))for(let c=0;c<o.producerNode.length;c++)fe(o.producerNode[c],o.producerIndexOfThis[c]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function ae(o,c,g){if(Me(o),0===o.liveConsumerNode.length&&Pe(o))for(let I=0;I<o.producerNode.length;I++)o.producerIndexOfThis[I]=ae(o.producerNode[I],o,I);return o.liveConsumerIndexOfThis.push(g),o.liveConsumerNode.push(c)-1}function fe(o,c){if(Me(o),1===o.liveConsumerNode.length&&Pe(o))for(let I=0;I<o.producerNode.length;I++)fe(o.producerNode[I],o.producerIndexOfThis[I]);const g=o.liveConsumerNode.length-1;if(o.liveConsumerNode[c]=o.liveConsumerNode[g],o.liveConsumerIndexOfThis[c]=o.liveConsumerIndexOfThis[g],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,c<o.liveConsumerNode.length){const I=o.liveConsumerIndexOfThis[c],V=o.liveConsumerNode[c];we(V),V.producerIndexOfThis[I]=c}}function he(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function we(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function Me(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function Pe(o){return void 0!==o.producerNode}function C(o){const c=Object.create(p);c.computation=o;const g=()=>{if(L(c),A(c),c.value===m)throw c.error;return c.value};return g[w]=c,g}const a=Symbol("UNSET"),d=Symbol("COMPUTING"),m=Symbol("ERRORED"),p={...U,value:a,dirty:!0,error:null,equal:y,producerMustRecompute:o=>o.value===a||o.value===d,producerRecomputeValue(o){if(o.value===d)throw new Error("Detected cycle in computations.");const c=o.value;o.value=d;const g=Z(o);let I;try{I=o.computation()}catch(V){I=m,o.error=V}finally{J(o,g)}c!==a&&c!==m&&I!==m&&o.equal(c,I)?o.value=c:(o.value=I,o.version++)}};let D=function E(){throw new Error};function R(){D()}let s=null;function Q(o,c){ee()||R(),o.equal(o.value,c)||(o.value=c,function Ve(o){o.version++,function G(){H++}(),z(o),s?.()}(o))}const Re={...U,equal:y,value:void 0};const _e=()=>{},Fe={...U,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:_e};var Ae=_(84412),ge=_(21413),me=_(18359),te=_(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Ho="https://g.co/ng/security#xss";class Ir extends Error{constructor(c,g){super(Ns(c,g)),this.code=c}}function Ns(o,c){return`NG0${Math.abs(o)}${c?": "+c:""}`}const So=Symbol("InputSignalNode#UNSET"),Ja={...Re,transformFn:void 0,applyValueToInputSignal(o,c){Q(o,c)}};function io(o){return{toString:o}.toString()}const Us="__parameters__";function Dc(o,c,g){return io(()=>{const I=function Ao(o){return function(...g){if(o){const I=o(...g);for(const V in I)this[V]=I[V]}}}(c);function V(...le){if(this instanceof V)return I.apply(this,le),this;const Se=new V(...le);return Le.annotation=Se,Le;function Le(it,Ct,jt){const hn=it.hasOwnProperty(Us)?it[Us]:Object.defineProperty(it,Us,{value:[]})[Us];for(;hn.length<=jt;)hn.push(null);return(hn[jt]=hn[jt]||[]).push(Se),it}}return g&&(V.prototype=Object.create(g.prototype)),V.prototype.ngMetadataName=o,V.annotationCls=V,V})}const Qi=globalThis;function Do(o){for(let c in o)if(o[c]===Do)return c;throw Error("Could not find renamed property on target object.")}function Bc(o,c){for(const g in c)c.hasOwnProperty(g)&&!o.hasOwnProperty(g)&&(o[g]=c[g])}function Uo(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Uo).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const g=c.indexOf("\n");return-1===g?c:c.substring(0,g)}function vc(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const Da=Do({__forward_ref__:Do});function Ut(o){return o.__forward_ref__=Ut,o.toString=function(){return Uo(this())},o}function Lt(o){return At(o)?o():o}function At(o){return"function"==typeof o&&o.hasOwnProperty(Da)&&o.__forward_ref__===Ut}function dr(o,c,g){o!=c&&function kt(o,c,g,I){throw new Error(`ASSERTION ERROR: ${o}`+(null==I?"":` [Expected=> ${g} ${I} ${c} <=Actual]`))}(g,o,c,"==")}function Eo(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function td(o){return{providers:o.providers||[],imports:o.imports||[]}}function ca(o){return Su(o,Zd)||Su(o,Wo)}function Mu(o){return null!==ca(o)}function Su(o,c){return o.hasOwnProperty(c)?o[c]:null}function Bd(o){return o&&(o.hasOwnProperty(wa)||o.hasOwnProperty(ys))?o[wa]:null}const Zd=Do({\u0275prov:Do}),wa=Do({\u0275inj:Do}),Wo=Do({ngInjectableDef:Do}),ys=Do({ngInjectorDef:Do});class Ui{constructor(c,g){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof g?this.__NG_ELEMENT_ID__=g:void 0!==g&&(this.\u0275prov=Eo({token:this,providedIn:g.providedIn||"root",factory:g.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _a(o){return o&&!!o.\u0275providers}const Zo=Do({\u0275cmp:Do}),Du=Do({\u0275dir:Do}),ja=Do({\u0275pipe:Do}),Ji=Do({\u0275mod:Do}),bc=Do({\u0275fac:Do}),qr=Do({__NG_ELEMENT_ID__:Do}),Ya=Do({__NG_ENV_ID__:Do});function Xr(o){return"string"==typeof o?o:null==o?"":String(o)}function Za(o,c){throw new Ir(-201,!1)}var oo=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(oo||{});let Qd;function Ia(){return Qd}function Or(o){const c=Qd;return Qd=o,c}function Co(o,c,g){const I=ca(o);return I&&"root"==I.providedIn?void 0===I.value?I.value=I.factory():I.value:g&oo.Optional?null:void 0!==c?c:void Za()}const da={},rd="__NG_DI_FLAG__",kl="ngTempTokenPath",sf=/\n/gm,Pl="__source";let Nd;function ot(o){const c=Nd;return Nd=o,c}function Xt(o,c=oo.Default){if(void 0===Nd)throw new Ir(-203,!1);return null===Nd?Co(o,void 0,c):Nd.get(o,c&oo.Optional?null:void 0,c)}function vt(o,c=oo.Default){return(Ia()||Xt)(Lt(o),c)}function yn(o,c=oo.Default){return vt(o,Yn(c))}function Yn(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Ye(o){const c=[];for(let g=0;g<o.length;g++){const I=Lt(o[g]);if(Array.isArray(I)){if(0===I.length)throw new Ir(900,!1);let V,le=oo.Default;for(let Se=0;Se<I.length;Se++){const Le=I[Se],it=ve(Le);"number"==typeof it?-1===it?V=Le.token:le|=it:V=Le}c.push(vt(V,le))}else c.push(vt(I))}return c}function Te(o,c){return o[rd]=c,o.prototype[rd]=c,o}function ve(o){return o[rd]}const Mt=Te(Dc("Optional"),8),Mn=Te(Dc("SkipSelf"),4);function ie(o,c){return o.hasOwnProperty(bc)?o[bc]:null}function We(o,c){o.forEach(g=>Array.isArray(g)?We(g,c):c(g))}function Ze(o,c,g){c>=o.length?o.push(g):o.splice(c,0,g)}function ht(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function fr(o,c,g){let I=$r(o,c);return I>=0?o[1|I]=g:(I=~I,function dt(o,c,g,I){let V=o.length;if(V==c)o.push(g,I);else if(1===V)o.push(I,o[0]),o[0]=g;else{for(V--,o.push(o[V-1],o[V]);V>c;)o[V]=o[V-2],V--;o[c]=g,o[c+1]=I}}(o,I,c,g)),I}function lr(o,c){const g=$r(o,c);if(g>=0)return o[1|g]}function $r(o,c){return function ui(o,c,g){let I=0,V=o.length>>g;for(;V!==I;){const le=I+(V-I>>1),Se=o[le<<g];if(c===Se)return le<<g;Se>c?V=le:I=le+1}return~(V<<g)}(o,c,1)}const Ii={},Wr=[],Qr=new Ui(""),wi=new Ui("",-1),Mi=new Ui("");class Zr{get(c,g=da){if(g===da){const I=new Error(`NullInjectorError: No provider for ${Uo(c)}!`);throw I.name="NullInjectorError",I}return g}}var Lo=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Lo||{}),_s=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(_s||{}),cs=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(cs||{});function sc(o,c,g){let I=o.length;for(;;){const V=o.indexOf(c,g);if(-1===V)return V;if(0===V||o.charCodeAt(V-1)<=32){const le=c.length;if(V+le===I||o.charCodeAt(V+le)<=32)return V}g=V+1}}function Gf(o,c,g){let I=0;for(;I<g.length;){const V=g[I];if("number"==typeof V){if(0!==V)break;I++;const le=g[I++],Se=g[I++],Le=g[I++];o.setAttribute(c,Se,Le,le)}else{const le=V,Se=g[++I];Up(le)?o.setProperty(c,le,Se):o.setAttribute(c,le,Se),I++}}return I}function nl(o){return 3===o||4===o||6===o}function Up(o){return 64===o.charCodeAt(0)}function X0(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let g=-1;for(let I=0;I<c.length;I++){const V=c[I];"number"==typeof V?g=V:0===g||Lp(o,g,V,null,-1===g||2===g?c[++I]:null)}}return o}function Lp(o,c,g,I,V){let le=0,Se=o.length;if(-1===c)Se=-1;else for(;le<o.length;){const Le=o[le++];if("number"==typeof Le){if(Le===c){Se=-1;break}if(Le>c){Se=le-1;break}}}for(;le<o.length;){const Le=o[le];if("number"==typeof Le)break;if(Le===g){if(null===I)return void(null!==V&&(o[le+1]=V));if(I===o[le+1])return void(o[le+2]=V)}le++,null!==I&&le++,null!==V&&le++}-1!==Se&&(o.splice(Se,0,c),le=Se+1),o.splice(le++,0,g),null!==I&&o.splice(le++,0,I),null!==V&&o.splice(le++,0,V)}const fb="ng-template";function jM(o,c,g,I){let V=0;if(I){for(;V<c.length&&"string"==typeof c[V];V+=2)if("class"===c[V]&&-1!==sc(c[V+1].toLowerCase(),g,0))return!0}else if(Kh(o))return!1;if(V=c.indexOf(1,V),V>-1){let le;for(;++V<c.length&&"string"==typeof(le=c[V]);)if(le.toLowerCase()===g)return!0}return!1}function Kh(o){return 4===o.type&&o.value!==fb}function hb(o,c,g){return c===(4!==o.type||g?o.value:fb)}function $M(o,c,g){let I=4;const V=o.attrs,le=null!==V?function R1(o){for(let c=0;c<o.length;c++)if(nl(o[c]))return c;return o.length}(V):0;let Se=!1;for(let Le=0;Le<c.length;Le++){const it=c[Le];if("number"!=typeof it){if(!Se)if(4&I){if(I=2|1&I,""!==it&&!hb(o,it,g)||""===it&&1===c.length){if(vl(I))return!1;Se=!0}}else if(8&I){if(null===V||!jM(o,V,it,g)){if(vl(I))return!1;Se=!0}}else{const Ct=c[++Le],jt=Fh(it,V,Kh(o),g);if(-1===jt){if(vl(I))return!1;Se=!0;continue}if(""!==Ct){let hn;if(hn=jt>le?"":V[jt+1].toLowerCase(),2&I&&Ct!==hn){if(vl(I))return!1;Se=!0}}}}else{if(!Se&&!vl(I)&&!vl(it))return!1;if(Se&&vl(it))continue;Se=!1,I=it|1&I}}return vl(I)||Se}function vl(o){return!(1&o)}function Fh(o,c,g,I){if(null===c)return-1;let V=0;if(I||!g){let le=!1;for(;V<c.length;){const Se=c[V];if(Se===o)return V;if(3===Se||6===Se)le=!0;else{if(1===Se||2===Se){let Le=c[++V];for(;"string"==typeof Le;)Le=c[++V];continue}if(4===Se)break;if(0===Se){V+=4;continue}}V+=le?1:2}return-1}return function pb(o,c){let g=o.indexOf(4);if(g>-1)for(g++;g<o.length;){const I=o[g];if("number"==typeof I)return-1;if(I===c)return g;g++}return-1}(c,o)}function Y0(o,c,g=!1){for(let I=0;I<c.length;I++)if($M(o,c[I],g))return!0;return!1}function ny(o,c){e:for(let g=0;g<c.length;g++){const I=c[g];if(o.length===I.length){for(let V=0;V<o.length;V++)if(o[V]!==I[V])continue e;return!0}}return!1}function Ko(o,c){return o?":not("+c.trim()+")":c}function ac(o){let c=o[0],g=1,I=2,V="",le=!1;for(;g<o.length;){let Se=o[g];if("string"==typeof Se)if(2&I){const Le=o[++g];V+="["+Se+(Le.length>0?'="'+Le+'"':"")+"]"}else 8&I?V+="."+Se:4&I&&(V+=" "+Se);else""!==V&&!vl(Se)&&(c+=Ko(le,V),V=""),I=Se,le=le||!vl(I);g++}return""!==V&&(c+=Ko(le,V)),c}function mb(o){return io(()=>{const c=Rr(o),g={...c,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Lo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||_s.Emulated,styles:o.styles||Wr,_:null,schemas:o.schemas||null,tView:null,id:""};Pi(g);const I=o.dependencies;return g.directiveDefs=eo(I,!1),g.pipeDefs=eo(I,!0),g.id=function Yl(o){let c=0;const g=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const V of g)c=Math.imul(31,c)+V.charCodeAt(0)|0;return c+=2147483648,"c"+c}(g),g})}function id(o){return Pt(o)||sn(o)}function HM(o){return null!==o}function Ge(o){return io(()=>({type:o.type,bootstrap:o.bootstrap||Wr,declarations:o.declarations||Wr,imports:o.imports||Wr,exports:o.exports||Wr,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ft(o,c){if(null==o)return Ii;const g={};for(const I in o)if(o.hasOwnProperty(I)){const V=o[I];let le,Se,Le=cs.None;Array.isArray(V)?(Le=V[0],le=V[1],Se=V[2]??le):(le=V,Se=V),c?(g[le]=Le!==cs.None?[I,Le]:I,c[le]=Se):g[le]=I}return g}function et(o){return io(()=>{const c=Rr(o);return Pi(c),c})}function pt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Pt(o){return o[Zo]||null}function sn(o){return o[Du]||null}function En(o){return o[ja]||null}function or(o){const c=Pt(o)||sn(o)||En(o);return null!==c&&c.standalone}function $n(o,c){const g=o[Ji]||null;if(!g&&!0===c)throw new Error(`Type ${Uo(o)} does not have '\u0275mod' property.`);return g}function Rr(o){const c={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:o.inputs||Ii,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Wr,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ft(o.inputs,c),outputs:ft(o.outputs),debugInfo:null}}function Pi(o){o.features?.forEach(c=>c(o))}function eo(o,c){if(!o)return null;const g=c?En:id;return()=>("function"==typeof o?o():o).map(I=>g(I)).filter(HM)}function rs(o){return{\u0275providers:o}}function rl(...o){return{\u0275providers:od(0,o),\u0275fromNgModule:!0}}function od(o,...c){const g=[],I=new Set;let V;const le=Se=>{g.push(Se)};return We(c,Se=>{const Le=Se;ry(Le,le,[],I)&&(V||=[],V.push(Le))}),void 0!==V&&Uc(V,le),g}function Uc(o,c){for(let g=0;g<o.length;g++){const{ngModule:I,providers:V}=o[g];B1(V,le=>{c(le,I)})}}function ry(o,c,g,I){if(!(o=Lt(o)))return!1;let V=null,le=Bd(o);const Se=!le&&Pt(o);if(le||Se){if(Se&&!Se.standalone)return!1;V=o}else{const it=o.ngModule;if(le=Bd(it),!le)return!1;V=it}const Le=I.has(V);if(Se){if(Le)return!1;if(I.add(V),Se.dependencies){const it="function"==typeof Se.dependencies?Se.dependencies():Se.dependencies;for(const Ct of it)ry(Ct,c,g,I)}}else{if(!le)return!1;{if(null!=le.imports&&!Le){let Ct;I.add(V);try{We(le.imports,jt=>{ry(jt,c,g,I)&&(Ct||=[],Ct.push(jt))})}finally{}void 0!==Ct&&Uc(Ct,c)}if(!Le){const Ct=ie(V)||(()=>new V);c({provide:V,useFactory:Ct,deps:Wr},V),c({provide:Mi,useValue:V,multi:!0},V),c({provide:Qr,useValue:()=>vt(V),multi:!0},V)}const it=le.providers;if(null!=it&&!Le){const Ct=o;B1(it,jt=>{c(jt,Ct)})}}}return V!==o&&void 0!==o.providers}function B1(o,c){for(let g of o)_a(g)&&(g=g.\u0275providers),Array.isArray(g)?B1(g,c):c(g)}const WC=Do({provide:String,useValue:Do});function N1(o){return null!==o&&"object"==typeof o&&WC in o}function Zl(o){return"function"==typeof o}const U1=new Ui(""),Kp={},WM={};let L1;function yb(){return void 0===L1&&(L1=new Zr),L1}class wc{}class jh extends wc{get destroyed(){return this._destroyed}constructor(c,g,I,V){super(),this.parent=g,this.source=I,this.scopes=V,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gb(c,Se=>this.processProvider(Se)),this.records.set(wi,q0(void 0,this)),V.has("environment")&&this.records.set(wc,q0(void 0,this));const le=this.records.get(U1);null!=le&&"string"==typeof le.value&&this.scopes.add(le.value),this.injectorDefTypes=new Set(this.get(Mi,Wr,oo.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const c=O(null);try{for(const I of this._ngOnDestroyHooks)I.ngOnDestroy();const g=this._onDestroyHooks;this._onDestroyHooks=[];for(const I of g)I()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(c)}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const g=ot(this),I=Or(void 0);try{return c()}finally{ot(g),Or(I)}}get(c,g=da,I=oo.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(Ya))return c[Ya](this);I=Yn(I);const le=ot(this),Se=Or(void 0);try{if(!(I&oo.SkipSelf)){let it=this.records.get(c);if(void 0===it){const Ct=function JM(o){return"function"==typeof o||"object"==typeof o&&o instanceof Ui}(c)&&ca(c);it=Ct&&this.injectableDefInScope(Ct)?q0(K1(c),Kp):null,this.records.set(c,it)}if(null!=it)return this.hydrate(c,it)}return(I&oo.Self?yb():this.parent).get(c,g=I&oo.Optional&&g===da?null:g)}catch(Le){if("NullInjectorError"===Le.name){if((Le[kl]=Le[kl]||[]).unshift(Uo(c)),le)throw Le;return function xe(o,c,g,I){const V=o[kl];throw c[Pl]&&V.unshift(c[Pl]),o.message=function rt(o,c,g,I=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let V=Uo(c);if(Array.isArray(c))V=c.map(Uo).join(" -> ");else if("object"==typeof c){let le=[];for(let Se in c)if(c.hasOwnProperty(Se)){let Le=c[Se];le.push(Se+":"+("string"==typeof Le?JSON.stringify(Le):Uo(Le)))}V=`{${le.join(", ")}}`}return`${g}${I?"("+I+")":""}[${V}]: ${o.replace(sf,"\n  ")}`}("\n"+o.message,V,g,I),o.ngTokenPath=V,o[kl]=null,o}(Le,c,"R3InjectorError",this.source)}throw Le}finally{Or(Se),ot(le)}}resolveInjectorInitializers(){const c=O(null),g=ot(this),I=Or(void 0);try{const le=this.get(Qr,Wr,oo.Self);for(const Se of le)Se()}finally{ot(g),Or(I),O(c)}}toString(){const c=[],g=this.records;for(const I of g.keys())c.push(Uo(I));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ir(205,!1)}processProvider(c){let g=Zl(c=Lt(c))?c:Lt(c&&c.provide);const I=function ZO(o){return N1(o)?q0(void 0,o.useValue):q0(XC(o),Kp)}(c);if(!Zl(c)&&!0===c.multi){let V=this.records.get(g);V||(V=q0(void 0,Kp,!0),V.factory=()=>Ye(V.multi),this.records.set(g,V)),g=c,V.multi.push(c)}this.records.set(g,I)}hydrate(c,g){const I=O(null);try{return g.value===Kp&&(g.value=WM,g.value=g.factory()),"object"==typeof g.value&&g.value&&function GM(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(g.value)&&this._ngOnDestroyHooks.add(g.value),g.value}finally{O(I)}}injectableDefInScope(c){if(!c.providedIn)return!1;const g=Lt(c.providedIn);return"string"==typeof g?"any"===g||this.scopes.has(g):this.injectorDefTypes.has(g)}removeOnDestroy(c){const g=this._onDestroyHooks.indexOf(c);-1!==g&&this._onDestroyHooks.splice(g,1)}}function K1(o){const c=ca(o),g=null!==c?c.factory:ie(o);if(null!==g)return g;if(o instanceof Ui)throw new Ir(204,!1);if(o instanceof Function)return function JC(o){if(o.length>0)throw new Ir(204,!1);const g=function Xl(o){return o&&(o[Zd]||o[Wo])||null}(o);return null!==g?()=>g.factory(o):()=>new o}(o);throw new Ir(204,!1)}function XC(o,c,g){let I;if(Zl(o)){const V=Lt(o);return ie(V)||K1(V)}if(N1(o))I=()=>Lt(o.useValue);else if(function Ci(o){return!(!o||!o.useFactory)}(o))I=()=>o.useFactory(...Ye(o.deps||[]));else if(function Ar(o){return!(!o||!o.useExisting)}(o))I=()=>vt(Lt(o.useExisting));else{const V=Lt(o&&(o.useClass||o.provide));if(!function YC(o){return!!o.deps}(o))return ie(V)||K1(V);I=()=>new V(...Ye(o.deps))}return I}function q0(o,c,g=!1){return{factory:o,value:c,multi:g?[]:void 0}}function gb(o,c){for(const g of o)Array.isArray(g)?gb(g,c):g&&_a(g)?gb(g.\u0275providers,c):c(g)}function XM(o,c){o instanceof jh&&o.assertNotDestroyed();const I=ot(o),V=Or(void 0);try{return c()}finally{ot(I),Or(V)}}function YM(){return void 0!==Ia()||null!=function mi(){return Nd}()}function Q0(o){if(!YM())throw new Ir(-203,!1)}const ka=0,Vr=1,Oi=2,qa=3,ql=4,sd=5,ad=6,af=7,la=8,_c=9,cf=10,lo=11,tg=12,ng=13,Xf=14,Pa=15,ku=16,iy=17,Yf=18,oy=19,qM=20,$h=21,vb=22,cd=23,Si=25,F1=1,df=7,sy=9,Va=10;var Zf=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(Zf||{});function Kc(o){return Array.isArray(o)&&"object"==typeof o[F1]}function Ud(o){return Array.isArray(o)&&!0===o[F1]}function j1(o){return!!(4&o.flags)}function Vp(o){return o.componentOffset>-1}function wb(o){return!(1&~o.flags)}function Pu(o){return!!o.template}function zp(o){return!!(512&o[Oi])}class ak{constructor(c,g,I){this.previousValue=c,this.currentValue=g,this.firstChange=I}isFirstChange(){return this.firstChange}}function V1(o,c,g,I){null!==c?c.applyValueToInputSignal(c,I):o[g]=I}function ds(){return og}function og(o){return o.type.prototype.ngOnChanges&&(o.setInput=lf),ri}function ri(){const o=oS(this),c=o?.current;if(c){const g=o.previous;if(g===Ii)o.previous=c;else for(let I in c)g[I]=c[I];o.current=null,this.ngOnChanges(c)}}function lf(o,c,g,I,V){const le=this.declaredInputs[I],Se=oS(o)||function ck(o,c){return o[iS]=c}(o,{previous:Ii,current:null}),Le=Se.current||(Se.current={}),it=Se.previous,Ct=it[le];Le[le]=new ak(Ct&&Ct.currentValue,g,it===Ii),V1(o,c,V,g)}ds.ngInherit=!0;const iS="__ngSimpleChanges__";function oS(o){return o[iS]||null}const Rl=function(o,c,g){},qf="svg";function qo(o){for(;Array.isArray(o);)o=o[ka];return o}function sg(o,c){return qo(c[o])}function Ld(o,c){return qo(c[o.index])}function ag(o,c){return o.data[c]}function Hp(o,c){return o[c]}function Bl(o,c){const g=c[o];return Kc(g)?g:g[ka]}function ay(o){return!(128&~o[Oi])}function eu(o,c){return null==c?null:o[c]}function cy(o){o[iy]=0}function sS(o){1024&o[Oi]||(o[Oi]|=1024,ay(o)&&Eb(o))}function dg(o){return!!(9216&o[Oi]||o[cd]?.dirty)}function W1(o){o[cf].changeDetectionScheduler?.notify(7),64&o[Oi]&&(o[Oi]|=1024),dg(o)&&Eb(o)}function Eb(o){o[cf].changeDetectionScheduler?.notify(0);let c=Vh(o);for(;null!==c&&!(8192&c[Oi])&&(c[Oi]|=8192,ay(c));)c=Vh(c)}function xb(o,c){if(!(256&~o[Oi]))throw new Ir(911,!1);null===o[$h]&&(o[$h]=[]),o[$h].push(c)}function Vh(o){const c=o[qa];return Ud(c)?c[qa]:c}const uo={lFrame:lg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let uk=!1;function G1(){return uo.bindingsEnabled}function Wp(){return null!==uo.skipHydrationRootTNode}function mr(){return uo.lFrame.lView}function $o(){return uo.lFrame.tView}function gk(o){return uo.lFrame.contextLView=o,o[la]}function vk(o){return uo.lFrame.contextLView=null,o}function Ks(){let o=bk();for(;null!==o&&64===o.type;)o=o.parent;return o}function bk(){return uo.lFrame.currentTNode}function Mb(){const o=uo.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}function uf(o,c){const g=uo.lFrame;g.currentTNode=o,g.isParent=c}function fS(){return uo.lFrame.isParent}function ff(){uo.lFrame.isParent=!1}function pS(){return uk}function mS(o){uk=o}function Kd(){const o=uo.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}function tu(){return uo.lFrame.bindingIndex++}function Ou(o){const c=uo.lFrame,g=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,g}function gS(o){uo.lFrame.inI18n=o}function xk(o,c){const g=uo.lFrame;g.bindingIndex=g.bindingRootIndex=o,J1(c)}function J1(o){uo.lFrame.currentDirectiveIndex=o}function X1(o){const c=uo.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}function Y1(){return uo.lFrame.currentQueryIndex}function Sb(o){uo.lFrame.currentQueryIndex=o}function Sk(o){const c=o[Vr];return 2===c.type?c.declTNode:1===c.type?o[sd]:null}function vS(o,c,g){if(g&oo.SkipSelf){let V=c,le=o;for(;!(V=V.parent,null!==V||g&oo.Host||(V=Sk(le),null===V||(le=le[Xf],10&V.type))););if(null===V)return!1;c=V,o=le}const I=uo.lFrame=bS();return I.currentTNode=c,I.lView=o,!0}function Z1(o){const c=bS(),g=o[Vr];uo.lFrame=c,c.currentTNode=g.firstChild,c.lView=o,c.tView=g,c.contextLView=o,c.bindingIndex=g.bindingStartIndex,c.inI18n=!1}function bS(){const o=uo.lFrame,c=null===o?null:o.child;return null===c?lg(o):c}function lg(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function Tb(){const o=uo.lFrame;return uo.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const ug=Tb;function ly(){const o=Tb();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function dd(){return uo.lFrame.selectedIndex}function Gp(o){uo.lFrame.selectedIndex=o}function Fs(){const o=uo.lFrame;return ag(o.tView,o.selectedIndex)}function Ab(){uo.lFrame.currentNamespace=qf}function Ak(){!function wS(){uo.lFrame.currentNamespace=null}()}let Ec=!0;function fg(){return Ec}function hf(o){Ec=o}function zh(o,c){for(let g=c.directiveStart,I=c.directiveEnd;g<I;g++){const le=o.data[g].type.prototype,{ngAfterContentInit:Se,ngAfterContentChecked:Le,ngAfterViewInit:it,ngAfterViewChecked:Ct,ngOnDestroy:jt}=le;Se&&(o.contentHooks??=[]).push(-g,Se),Le&&((o.contentHooks??=[]).push(g,Le),(o.contentCheckHooks??=[]).push(g,Le)),it&&(o.viewHooks??=[]).push(-g,it),Ct&&((o.viewHooks??=[]).push(g,Ct),(o.viewCheckHooks??=[]).push(g,Ct)),null!=jt&&(o.destroyHooks??=[]).push(g,jt)}}function Ib(o,c,g){Q1(o,c,3,g)}function hg(o,c,g,I){(3&o[Oi])===g&&Q1(o,c,g,I)}function q1(o,c){let g=o[Oi];(3&g)===c&&(g&=16383,g+=1,o[Oi]=g)}function Q1(o,c,g,I){const le=I??-1,Se=c.length-1;let Le=0;for(let it=void 0!==I?65535&o[iy]:0;it<Se;it++)if("number"==typeof c[it+1]){if(Le=c[it],null!=I&&Le>=I)break}else c[it]<0&&(o[iy]+=65536),(Le<le||-1==le)&&(Ik(o,g,c,it),o[iy]=(4294901760&o[iy])+it+2),it++}function _S(o,c){Rl(4,o,c);const g=O(null);try{c.call(o)}finally{O(g),Rl(5,o,c)}}function Ik(o,c,g,I){const V=g[I]<0,le=g[I+1],Le=o[V?-g[I]:g[I]];V?o[Oi]>>14<o[iy]>>16&&(3&o[Oi])===c&&(o[Oi]+=16384,_S(Le,le)):_S(Le,le)}const uy=-1;class pg{constructor(c,g,I){this.factory=c,this.resolving=!1,this.canSeeViewProviders=g,this.injectImpl=I}}const mf={};class yf{constructor(c,g){this.injector=c,this.parentInjector=g}get(c,g,I){I=Yn(I);const V=this.injector.get(c,mf,I);return V!==mf||g===mf?V:this.parentInjector.get(c,g,I)}}function xc(o){return o!==uy}function Hh(o){return 32767&o}function ol(o,c){let g=function xS(o){return o>>16}(o),I=c;for(;g>0;)I=I[Xf],g--;return I}let yi=!0;function Qo(o){const c=yi;return yi=o,c}const Vo=255,mg=5;let Ob=0;const gf={};function yg(o,c){const g=Bb(o,c);if(-1!==g)return g;const I=c[Vr];I.firstCreatePass&&(o.injectorIndex=c.length,Rb(I.data,o),Rb(c,null),Rb(I.blueprint,null));const V=Ru(o,c),le=o.injectorIndex;if(xc(V)){const Se=Hh(V),Le=ol(V,c),it=Le[Vr].data;for(let Ct=0;Ct<8;Ct++)c[le+Ct]=Le[Se+Ct]|it[Se+Ct]}return c[le+8]=V,le}function Rb(o,c){o.push(0,0,0,0,0,0,0,0,c)}function Bb(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function Ru(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let g=0,I=null,V=c;for(;null!==V;){if(I=AS(V),null===I)return uy;if(g++,V=V[Xf],-1!==I.injectorIndex)return I.injectorIndex|g<<16}return uy}function gg(o,c,g){!function Ok(o,c,g){let I;"string"==typeof g?I=g.charCodeAt(0)||0:g.hasOwnProperty(qr)&&(I=g[qr]),null==I&&(I=g[qr]=Ob++);const V=I&Vo;c.data[o+(V>>mg)]|=1<<V}(o,c,g)}function tE(o,c,g){if(g&oo.Optional||void 0!==o)return o;Za()}function MS(o,c,g,I){if(g&oo.Optional&&void 0===I&&(I=null),!(g&(oo.Self|oo.Host))){const V=o[_c],le=Or(void 0);try{return V?V.get(c,I,g&oo.Optional):Co(c,I,g&oo.Optional)}finally{Or(le)}}return tE(I,0,g)}function nE(o,c,g,I=oo.Default,V){if(null!==o){if(2048&c[Oi]&&!(I&oo.Self)){const Se=function Uk(o,c,g,I,V){let le=o,Se=c;for(;null!==le&&null!==Se&&2048&Se[Oi]&&!(512&Se[Oi]);){const Le=rE(le,Se,g,I|oo.Self,gf);if(Le!==gf)return Le;let it=le.parent;if(!it){const Ct=Se[qM];if(Ct){const jt=Ct.get(g,gf,I);if(jt!==gf)return jt}it=AS(Se),Se=Se[Xf]}le=it}return V}(o,c,g,I,gf);if(Se!==gf)return Se}const le=rE(o,c,g,I,gf);if(le!==gf)return le}return MS(c,g,I,V)}function rE(o,c,g,I,V){const le=function Rk(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(qr)?o[qr]:void 0;return"number"==typeof c?c>=0?c&Vo:l8:c}(g);if("function"==typeof le){if(!vS(c,o,I))return I&oo.Host?tE(V,0,I):MS(c,g,I,V);try{let Se;if(Se=le(I),null!=Se||I&oo.Optional)return Se;Za()}finally{ug()}}else if("number"==typeof le){let Se=null,Le=Bb(o,c),it=uy,Ct=I&oo.Host?c[Pa][sd]:null;for((-1===Le||I&oo.SkipSelf)&&(it=-1===Le?Ru(o,c):c[Le+8],it!==uy&&Bk(I,!1)?(Se=c[Vr],Le=Hh(it),c=ol(it,c)):Le=-1);-1!==Le;){const jt=c[Vr];if(SS(le,Le,jt.data)){const hn=Nb(Le,c,g,Se,I,Ct);if(hn!==gf)return hn}it=c[Le+8],it!==uy&&Bk(I,c[Vr].data[Le+8]===Ct)&&SS(le,Le,c)?(Se=jt,Le=Hh(it),c=ol(it,c)):Le=-1}}return V}function Nb(o,c,g,I,V,le){const Se=c[Vr],Le=Se.data[o+8],jt=vf(Le,Se,g,null==I?Vp(Le)&&yi:I!=Se&&!!(3&Le.type),V&oo.Host&&le===Le);return null!==jt?Jp(c,Se,jt,Le):gf}function vf(o,c,g,I,V){const le=o.providerIndexes,Se=c.data,Le=1048575&le,it=o.directiveStart,jt=le>>20,On=V?Le+jt:o.directiveEnd;for(let kn=I?Le:Le+jt;kn<On;kn++){const Zn=Se[kn];if(kn<it&&g===Zn||kn>=it&&Zn.type===g)return kn}if(V){const kn=Se[it];if(kn&&Pu(kn)&&kn.type===g)return it}return null}function Jp(o,c,g,I){let V=o[g];const le=c.data;if(function Ck(o){return o instanceof pg}(V)){const Se=V;Se.resolving&&function jo(o,c){throw c&&c.join(" > "),new Ir(-200,o)}(function bi(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Xr(o)}(le[g]));const Le=Qo(Se.canSeeViewProviders);Se.resolving=!0;const Ct=Se.injectImpl?Or(Se.injectImpl):null;vS(o,I,oo.Default);try{V=o[g]=Se.factory(void 0,le,o,I),c.firstCreatePass&&g>=I.directiveStart&&function Dk(o,c,g){const{ngOnChanges:I,ngOnInit:V,ngDoCheck:le}=c.type.prototype;if(I){const Se=og(c);(g.preOrderHooks??=[]).push(o,Se),(g.preOrderCheckHooks??=[]).push(o,Se)}V&&(g.preOrderHooks??=[]).push(0-o,V),le&&((g.preOrderHooks??=[]).push(o,le),(g.preOrderCheckHooks??=[]).push(o,le))}(g,le[g],c)}finally{null!==Ct&&Or(Ct),Qo(Le),Se.resolving=!1,ug()}}return V}function SS(o,c,g){return!!(g[c+(o>>mg)]&1<<o)}function Bk(o,c){return!(o&oo.Self||o&oo.Host&&c)}class cc{constructor(c,g){this._tNode=c,this._lView=g}get(c,g,I){return nE(this._tNode,this._lView,c,Yn(I),g)}}function l8(){return new cc(Ks(),mr())}function Nk(o){return io(()=>{const c=o.prototype.constructor,g=c[bc]||TS(c),I=Object.prototype;let V=Object.getPrototypeOf(o.prototype).constructor;for(;V&&V!==I;){const le=V[bc]||TS(V);if(le&&le!==g)return le;V=Object.getPrototypeOf(V)}return le=>new le})}function TS(o){return At(o)?()=>{const c=TS(Lt(o));return c&&c()}:ie(o)}function AS(o){const c=o[Vr],g=c.type;return 2===g?c.declTNode:1===g?o[sd]:null}function Ub(o){return function d8(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const g=o.attrs;if(g){const I=g.length;let V=0;for(;V<I;){const le=g[V];if(nl(le))break;if(0===le)V+=2;else if("number"==typeof le)for(V++;V<I&&"string"==typeof g[V];)V++;else{if(le===c)return g[V+1];V+=2}}}return null}(Ks(),o)}function jk(o,c=null,g=null,I){const V=$k(o,c,g,I);return V.resolveInjectorInitializers(),V}function $k(o,c=null,g=null,I,V=new Set){const le=[g||Wr,rl(o)];return I=I||("object"==typeof o?void 0:Uo(o)),new jh(le,c||yb(),I||null,V)}class Fc{static#e=this.THROW_IF_NOT_FOUND=da;static#t=this.NULL=new Zr;static create(c,g){if(Array.isArray(c))return jk({name:""},g,c,"");{const I=c.name??"";return jk({name:I},c.parent,c.providers,I)}}static#n=this.\u0275prov=Eo({token:Fc,providedIn:"any",factory:()=>vt(wi)});static#f=this.__NG_ELEMENT_ID__=-1}new Ui("").__NG_ELEMENT_ID__=o=>{const c=Ks();if(null===c)throw new Ir(204,!1);if(2&c.type)return c.value;if(o&oo.Optional)return null;throw new Ir(204,!1)};function sE(o){return o.ngOriginalError}class nu{constructor(){this._console=console}handleError(c){const g=this._findOriginalError(c);this._console.error("ERROR",c),g&&this._console.error("ORIGINAL ERROR",g)}_findOriginalError(c){let g=c&&sE(c);for(;g&&sE(g);)g=sE(g);return g||null}}const PS=new Ui("",{providedIn:"root",factory:()=>yn(nu).handleError.bind(void 0)});let bg=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=OS;static#t=this.__NG_ENV_ID__=g=>g}return o})();class Vk extends bg{constructor(c){super(),this._lView=c}onDestroy(c){return xb(this._lView,c),()=>function cS(o,c){if(null===o[$h])return;const g=o[$h].indexOf(c);-1!==g&&o[$h].splice(g,1)}(this._lView,c)}}function OS(){return new Vk(mr())}class RS{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=yn(nu,{optional:!0}),this.destroyRef=yn(bg),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(c){if(this.destroyed)throw new Ir(953,!1);return(this.listeners??=[]).push(c),{unsubscribe:()=>{const g=this.listeners?.indexOf(c);void 0!==g&&-1!==g&&this.listeners?.splice(g,1)}}}emit(c){if(this.destroyed)throw new Ir(953,!1);if(null===this.listeners)return;const g=O(null);try{for(const I of this.listeners)try{I(c)}catch(V){this.errorHandler?.handleError(V)}}finally{O(g)}}}function Hk(){return hy(Ks(),mr())}function hy(o,c){return new wg(Ld(o,c))}let wg=(()=>{class o{constructor(g){this.nativeElement=g}static#e=this.__NG_ELEMENT_ID__=Hk}return o})();function NS(o){return o instanceof wg?o.nativeElement:o}let Xp=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ae.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const g=this.taskId++;return this.pendingTasks.add(g),g}remove(g){this.pendingTasks.delete(g),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Eo({token:o,providedIn:"root",factory:()=>new o})}return o})();const wf=class Wk extends ge.B{constructor(c=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=c,YM()&&(this.destroyRef=yn(bg,{optional:!0})??void 0,this.pendingTasks=yn(Xp,{optional:!0})??void 0)}emit(c){const g=O(null);try{super.next(c)}finally{O(g)}}subscribe(c,g,I){let V=c,le=g||(()=>null),Se=I;if(c&&"object"==typeof c){const it=c;V=it.next?.bind(it),le=it.error?.bind(it),Se=it.complete?.bind(it)}this.__isAsync&&(le=this.wrapInTimeout(le),V&&(V=this.wrapInTimeout(V)),Se&&(Se=this.wrapInTimeout(Se)));const Le=super.subscribe({next:V,error:le,complete:Se});return c instanceof me.yU&&c.add(Le),Le}wrapInTimeout(c){return g=>{const I=this.pendingTasks?.add();setTimeout(()=>{c(g),void 0!==I&&this.pendingTasks?.remove(I)})}}};function Gk(){return this._results[Symbol.iterator]()}class Fb{static#e=Symbol.iterator;get changes(){return this._changes??=new wf}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const g=Fb.prototype;g[Symbol.iterator]||(g[Symbol.iterator]=Gk)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,g){return this._results.reduce(c,g)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,g){this.dirty=!1;const I=function ye(o){return o.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function oe(o,c,g){if(o.length!==c.length)return!1;for(let I=0;I<o.length;I++){let V=o[I],le=c[I];if(g&&(V=g(V),le=g(le)),le!==V)return!1}return!0}(this._results,I,g))&&(this._results=I,this.length=I.length,this.last=I[this.length-1],this.first=I[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(c){this._onDirty=c}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function jb(o){return!(128&~o.flags)}const cE=new Map;let dE=0;const Vb="__ngContext__";function ld(o,c){Kc(c)?(o[Vb]=c[oy],function g8(o){cE.set(o[oy],o)}(c)):o[Vb]=c}function $S(o){return Yp(o[tg])}function my(o){return Yp(o[ql])}function Yp(o){for(;null!==o&&!Ud(o);)o=o[ql];return o}let Xb;function n3(o){Xb=o}function Xh(){if(void 0!==Xb)return Xb;if(typeof document<"u")return document;throw new Ir(210,!1)}const Yb=new Ui("",{providedIn:"root",factory:()=>yE}),yE="ng",Zb=new Ui(""),xg=new Ui("",{providedIn:"platform",factory:()=>"unknown"}),Ts=new Ui(""),Fd=new Ui("",{providedIn:"root",factory:()=>Xh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Yh=()=>null;function wE(o,c,g=!1){return Yh(o,c,g)}const aT=new Ui("",{providedIn:"root",factory:()=>!1});let aw,cw;function Qa(o){return function SE(){if(void 0===aw&&(aw=null,Qi.trustedTypes))try{aw=Qi.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return aw}()?.createHTML(o)||o}function dw(){if(void 0===cw&&(cw=null,Qi.trustedTypes))try{cw=Qi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return cw}function cT(o){return dw()?.createHTML(o)||o}function lT(o){return dw()?.createScriptURL(o)||o}class qp{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ho})`}}class d3 extends qp{getTypeName(){return"HTML"}}class Cg extends qp{getTypeName(){return"Style"}}class l3 extends qp{getTypeName(){return"Script"}}class u3 extends qp{getTypeName(){return"URL"}}class f3 extends qp{getTypeName(){return"ResourceURL"}}function rh(o){return o instanceof qp?o.changingThisBreaksApplicationSecurity:o}function by(o,c){const g=function h3(o){return o instanceof qp&&o.getTypeName()||null}(o);if(null!=g&&g!==c){if("ResourceURL"===g&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${g} (see ${Ho})`)}return g===c}function p3(o){return new d3(o)}function m3(o){return new Cg(o)}function y3(o){return new l3(o)}function g3(o){return new u3(o)}function ih(o){return new f3(o)}function uT(o){const c=new b3(o);return function w3(){try{return!!(new window.DOMParser).parseFromString(Qa(""),"text/html")}catch{return!1}}()?new v3(c):c}class v3{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const g=(new window.DOMParser).parseFromString(Qa(c),"text/html").body;return null===g?this.inertDocumentHelper.getInertBodyElement(c):(g.removeChild(g.firstChild),g)}catch{return null}}}class b3{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const g=this.inertDocument.createElement("template");return g.innerHTML=Qa(c),g}}const _3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lw(o){return(o=String(o)).match(_3)?o:"unsafe:"+o}function oh(o){const c={};for(const g of o.split(","))c[g]=!0;return c}function kg(...o){const c={};for(const g of o)for(const I in g)g.hasOwnProperty(I)&&(c[I]=!0);return c}const fT=oh("area,br,col,hr,img,wbr"),hT=oh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pT=oh("rp,rt"),TE=kg(fT,kg(hT,oh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kg(pT,oh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kg(pT,hT)),AE=oh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),DE=kg(AE,oh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),E3=oh("script,style,template");class x3{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let g=c.firstChild,I=!0,V=[];for(;g;)if(g.nodeType===Node.ELEMENT_NODE?I=this.startElement(g):g.nodeType===Node.TEXT_NODE?this.chars(g.nodeValue):this.sanitizedSomething=!0,I&&g.firstChild)V.push(g),g=S3(g);else for(;g;){g.nodeType===Node.ELEMENT_NODE&&this.endElement(g);let le=mT(g);if(le){g=le;break}g=V.pop()}return this.buf.join("")}startElement(c){const g=yT(c).toLowerCase();if(!TE.hasOwnProperty(g))return this.sanitizedSomething=!0,!E3.hasOwnProperty(g);this.buf.push("<"),this.buf.push(g);const I=c.attributes;for(let V=0;V<I.length;V++){const le=I.item(V),Se=le.name,Le=Se.toLowerCase();if(!DE.hasOwnProperty(Le)){this.sanitizedSomething=!0;continue}let it=le.value;AE[Le]&&(it=lw(it)),this.buf.push(" ",Se,'="',gT(it),'"')}return this.buf.push(">"),!0}endElement(c){const g=yT(c).toLowerCase();TE.hasOwnProperty(g)&&!fT.hasOwnProperty(g)&&(this.buf.push("</"),this.buf.push(g),this.buf.push(">"))}chars(c){this.buf.push(gT(c))}}function mT(o){const c=o.nextSibling;if(c&&o!==c.previousSibling)throw IE(c);return c}function S3(o){const c=o.firstChild;if(c&&function M3(o,c){return(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,c))throw IE(c);return c}function yT(o){const c=o.nodeName;return"string"==typeof c?c:"FORM"}function IE(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const CE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,T3=/([^\#-~ |!])/g;function gT(o){return o.replace(/&/g,"&amp;").replace(CE,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(T3,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uw;function vT(o,c){let g=null;try{uw=uw||uT(o);let I=c?String(c):"";g=uw.getInertBodyElement(I);let V=5,le=I;do{if(0===V)throw new Error("Failed to sanitize html because the input is unstable");V--,I=le,le=g.innerHTML,g=uw.getInertBodyElement(I)}while(I!==le);return Qa((new x3).sanitizeChildren(kE(g)||g))}finally{if(g){const I=kE(g)||g;for(;I.firstChild;)I.removeChild(I.firstChild)}}}function kE(o){return"content"in o&&function A3(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Qp=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Qp||{});function bT(o){const c=Og();return c?cT(c.sanitize(Qp.HTML,o)||""):by(o,"HTML")?cT(rh(o)):vT(Xh(),Xr(o))}function PE(o){const c=Og();return c?c.sanitize(Qp.URL,o)||"":by(o,"URL")?rh(o):lw(Xr(o))}function wT(o){const c=Og();if(c)return lT(c.sanitize(Qp.RESOURCE_URL,o)||"");if(by(o,"ResourceURL"))return lT(rh(o));throw new Ir(904,!1)}function Pg(o,c,g){return function hw(o,c){return"src"===c&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===c&&("base"===o||"link"===o)?wT:PE}(c,g)(o)}function Og(){const o=mr();return o&&o[cf].sanitizer}const BE=/^>|^->|<!--|-->|--!>|<!-$/g,_T=/(<|>)/g,C3="\u200b$1\u200b";function sl(o){return o instanceof Function?o():o}function Nl(o){return"browser"===(o??yn(Fc)).get(xg)}var wy=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(wy||{});let Rg;function jE(o,c){return Rg(o,c)}function sh(o,c,g,I,V){if(null!=I){let le,Se=!1;Ud(I)?le=I:Kc(I)&&(Se=!0,I=I[ka]);const Le=qo(I);0===o&&null!==g?null==V?_w(c,g,Le):ud(c,g,Le,V||null,!0):1===o&&null!==g?ud(c,g,Le,V||null,!0):2===o?function Ng(o,c,g){const I=Ew(o,c);I&&function Bg(o,c,g,I){o.removeChild(c,g,I)}(o,I,c,g)}(c,Le,Se):3===o&&c.destroyNode(Le),null!=le&&function V3(o,c,g,I,V){const le=g[df];le!==qo(g)&&sh(c,o,I,le,V);for(let Le=Va;Le<g.length;Le++){const it=g[Le];xw(it[Vr],it,o,c,I,le)}}(c,o,le,g,V)}}function tm(o,c){return o.createText(c)}function $E(o,c){return o.createComment(function NE(o){return o.replace(BE,c=>c.replace(_T,C3))}(c))}function yw(o,c,g){return o.createElement(c,g)}function gw(o,c){c[cf].changeDetectionScheduler?.notify(8),xw(o,c,c[lo],2,null,null)}function vw(o,c){const g=o[sy],I=c[qa];(Kc(I)||c[Pa]!==I[qa][Pa])&&(o[Oi]|=Zf.HasTransplantedViews),null===g?o[sy]=[c]:g.push(c)}function RT(o,c){const g=o[sy],I=g.indexOf(c);g.splice(I,1)}function bl(o,c){if(o.length<=Va)return;const g=Va+c,I=o[g];if(I){const V=I[ku];null!==V&&V!==o&&RT(V,I),c>0&&(o[g-1][ql]=I[ql]);const le=ht(o,Va+c);!function K3(o,c){gw(o,c),c[ka]=null,c[sd]=null}(I[Vr],I);const Se=le[Yf];null!==Se&&Se.detachView(le[Vr]),I[qa]=null,I[ql]=null,I[Oi]&=-129}return I}function nm(o,c){if(!(256&c[Oi])){const g=c[lo];g.destroyNode&&xw(o,c,g,3,null,null),function OT(o){let c=o[tg];if(!c)return bw(o[Vr],o);for(;c;){let g=null;if(Kc(c))g=c[tg];else{const I=c[Va];I&&(g=I)}if(!g){for(;c&&!c[ql]&&c!==o;)Kc(c)&&bw(c[Vr],c),c=c[qa];null===c&&(c=o),Kc(c)&&bw(c[Vr],c),g=c&&c[ql]}c=g}}(c)}}function bw(o,c){if(256&c[Oi])return;const g=O(null);try{c[Oi]&=-129,c[Oi]|=256,c[cd]&&ce(c[cd]),function j3(o,c){let g;if(null!=o&&null!=(g=o.destroyHooks))for(let I=0;I<g.length;I+=2){const V=c[g[I]];if(!(V instanceof pg)){const le=g[I+1];if(Array.isArray(le))for(let Se=0;Se<le.length;Se+=2){const Le=V[le[Se]],it=le[Se+1];Rl(4,Le,it);try{it.call(Le)}finally{Rl(5,Le,it)}}else{Rl(4,V,le);try{le.call(V)}finally{Rl(5,V,le)}}}}}(o,c),function BT(o,c){const g=o.cleanup,I=c[af];if(null!==g)for(let le=0;le<g.length-1;le+=2)if("string"==typeof g[le]){const Se=g[le+3];Se>=0?I[Se]():I[-Se].unsubscribe(),le+=2}else g[le].call(I[g[le+1]]);null!==I&&(c[af]=null);const V=c[$h];if(null!==V){c[$h]=null;for(let le=0;le<V.length;le++)(0,V[le])()}}(o,c),1===c[Vr].type&&c[lo].destroy();const I=c[ku];if(null!==I&&Ud(c[qa])){I!==c[qa]&&RT(I,c);const V=c[Yf];null!==V&&V.detachView(o)}!function US(o){cE.delete(o[oy])}(c)}finally{O(g)}}function ww(o,c,g){return zE(o,c.parent,g)}function zE(o,c,g){let I=c;for(;null!==I&&168&I.type;)I=(c=I).parent;if(null===I)return g[ka];{const{componentOffset:V}=I;if(V>-1){const{encapsulation:le}=o.data[I.directiveStart+V];if(le===_s.None||le===_s.Emulated)return null}return Ld(I,g)}}function ud(o,c,g,I,V){o.insertBefore(c,g,I,V)}function _w(o,c,g){o.appendChild(c,g)}function NT(o,c,g,I,V){null!==I?ud(o,c,g,I,V):_w(o,c,g)}function Ew(o,c){return o.parentNode(c)}function rm(o,c,g){return Nu(o,c,g)}function UT(o,c,g){return 40&o.type?Ld(o,g):null}let HE,Nu=UT;function LT(o,c){Nu=o,HE=c}function _y(o,c,g,I){const V=ww(o,I,c),le=c[lo],Le=rm(I.parent||c[sd],I,c);if(null!=V)if(Array.isArray(g))for(let it=0;it<g.length;it++)NT(le,V,g[it],Le,!1);else NT(le,V,g,Le,!1);void 0!==HE&&HE(le,I,c,g,V)}function im(o,c){if(null!==c){const g=c.type;if(3&g)return Ld(c,o);if(4&g)return WE(-1,o[c.index]);if(8&g){const I=c.child;if(null!==I)return im(o,I);{const V=o[c.index];return Ud(V)?WE(-1,V):qo(V)}}if(32&g)return jE(c,o)()||qo(o[c.index]);{const I=KT(o,c);return null!==I?Array.isArray(I)?I[0]:im(Vh(o[Pa]),I):im(o,c.next)}}return null}function KT(o,c){return null!==c?o[Pa][sd].projection[c.projection]:null}function WE(o,c){const g=Va+o+1;if(g<c.length){const I=c[g],V=I[Vr].firstChild;if(null!==V)return im(I,V)}return c[df]}function GE(o,c,g,I,V,le,Se){for(;null!=g;){if(128===g.type){g=g.next;continue}const Le=I[g.index],it=g.type;if(Se&&0===c&&(Le&&ld(qo(Le),I),g.flags|=2),32&~g.flags)if(8&it)GE(o,c,g.child,I,V,le,!1),sh(c,o,V,Le,le);else if(32&it){const Ct=jE(g,I);let jt;for(;jt=Ct();)sh(c,o,V,jt,le);sh(c,o,V,Le,le)}else 16&it?jT(o,c,I,g,V,le):sh(c,o,V,Le,le);g=Se?g.projectionNext:g.next}}function xw(o,c,g,I,V,le){GE(g,I,o.firstChild,c,V,le,!1)}function jT(o,c,g,I,V,le){const Se=g[Pa],it=Se[sd].projection[I.projection];if(Array.isArray(it))for(let Ct=0;Ct<it.length;Ct++)sh(c,o,V,it[Ct],le);else{let Ct=it;const jt=Se[qa];jb(I)&&(Ct.flags|=128),GE(o,c,Ct,jt,V,le,!0)}}function $T(o,c,g){""===g?o.removeAttribute(c,"class"):o.setAttribute(c,"class",g)}function W3(o,c,g){const{mergedAttrs:I,classes:V,styles:le}=g;null!==I&&Gf(o,c,I),null!==V&&$T(o,c,V),null!==le&&function H3(o,c,g){o.setAttribute(c,"style",g)}(o,c,le)}const vo={};function VT(o=1){Ey($o(),mr(),dd()+o,!1)}function Ey(o,c,g,I){if(!I)if(3&~c[Oi]){const le=o.preOrderHooks;null!==le&&hg(c,le,0,g)}else{const le=o.preOrderCheckHooks;null!==le&&Ib(c,le,g)}Gp(g)}function Qh(o,c=oo.Default){const g=mr();return null===g?vt(o,c):nE(Ks(),g,Lt(o),c)}function Mw(){throw new Error("invalid")}function Sw(o,c,g,I,V,le){const Se=O(null);try{let Le=null;V&cs.SignalBased&&(Le=c[I][w]),null!==Le&&void 0!==Le.transformFn&&(le=Le.transformFn(le)),V&cs.HasDecoratorInputTransform&&(le=o.inputTransforms[I].call(c,le)),null!==o.setInput?o.setInput(c,Le,le,g,I):V1(c,Le,I,le)}finally{O(Se)}}function JE(o,c,g,I,V,le,Se,Le,it,Ct,jt){const hn=c.blueprint.slice();return hn[ka]=V,hn[Oi]=204|I,(null!==Ct||o&&2048&o[Oi])&&(hn[Oi]|=2048),cy(hn),hn[qa]=hn[Xf]=o,hn[la]=g,hn[cf]=Se||o&&o[cf],hn[lo]=Le||o&&o[lo],hn[_c]=it||o&&o[_c]||null,hn[sd]=le,hn[oy]=function lE(){return dE++}(),hn[ad]=jt,hn[qM]=Ct,hn[Pa]=2==c.type?o[Pa]:hn,hn}function ep(o,c,g,I,V){let le=o.data[c];if(null===le)le=XE(o,c,g,I,V),function Ek(){return uo.lFrame.inI18n}()&&(le.flags|=32);else if(64&le.type){le.type=g,le.value=I,le.attrs=V;const Se=Mb();le.injectorIndex=null===Se?-1:Se.injectorIndex}return uf(le,!0),le}function XE(o,c,g,I,V){const le=bk(),Se=fS(),it=o.data[c]=function YT(o,c,g,I,V,le){let Se=c?c.injectorIndex:-1,Le=0;return Wp()&&(Le|=128),{type:g,index:I,insertBeforeIndex:null,injectorIndex:Se,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Le,providerIndexes:0,value:V,attrs:le,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Se?le:le&&le.parent,g,c,I,V);return null===o.firstChild&&(o.firstChild=it),null!==le&&(Se?null==le.child&&null!==it.parent&&(le.child=it):null===le.next&&(le.next=it,it.prev=le)),it}function om(o,c,g,I){if(0===g)return-1;const V=c.length;for(let le=0;le<g;le++)c.push(I),o.blueprint.push(I),o.data.push(null);return V}function J3(o,c,g,I,V){const le=dd(),Se=2&I;try{Gp(-1),Se&&c.length>Si&&Ey(o,c,Si,!1),Rl(Se?2:0,V),g(I,V)}finally{Gp(le),Rl(Se?3:1,V)}}function zT(o,c,g){if(j1(c)){const I=O(null);try{const le=c.directiveEnd;for(let Se=c.directiveStart;Se<le;Se++){const Le=o.data[Se];Le.contentQueries&&Le.contentQueries(1,g[Se],Se)}}finally{O(I)}}}function HT(o,c,g){G1()&&(function tp(o,c,g,I){const V=g.directiveStart,le=g.directiveEnd;Vp(g)&&function o6(o,c,g){const I=Ld(c,o),V=WT(g);let Se=16;g.signals?Se=4096:g.onPush&&(Se=64);const Le=Aw(o,JE(o,V,null,Se,I,c,null,o[cf].rendererFactory.createRenderer(I,g),null,null,null));o[c.index]=Le}(c,g,o.data[V+g.componentOffset]),o.firstCreatePass||yg(g,c),ld(I,c);const Se=g.initialInputs;for(let Le=V;Le<le;Le++){const it=o.data[Le],Ct=Jp(c,o,Le,g);ld(Ct,c),null!==Se&&s6(0,Le-V,Ct,it,0,Se),Pu(it)&&(Bl(g.index,c)[la]=Jp(c,o,Le,g))}}(o,c,g,Ld(g,c)),!(64&~g.flags)&&e6(o,c,g))}function YE(o,c,g=Ld){const I=c.localNames;if(null!==I){let V=c.index+1;for(let le=0;le<I.length;le+=2){const Se=I[le+1],Le=-1===Se?g(c,o):o[Se];o[V++]=Le}}}function WT(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=ZE(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):c}function ZE(o,c,g,I,V,le,Se,Le,it,Ct,jt){const hn=Si+I,On=hn+V,kn=function X3(o,c){const g=[];for(let I=0;I<c;I++)g.push(I<o?null:vo);return g}(hn,On),Zn="function"==typeof Ct?Ct():Ct;return kn[Vr]={type:o,blueprint:kn,template:g,queries:null,viewQuery:Le,declTNode:c,data:kn.slice().fill(null,hn),bindingStartIndex:hn,expandoStartIndex:On,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof le?le():le,pipeRegistry:"function"==typeof Se?Se():Se,firstChild:null,schemas:it,consts:Zn,incompleteFirstPass:!1,ssrId:jt}}let GT=()=>null;function ZT(o,c,g,I,V){for(let le in c){if(!c.hasOwnProperty(le))continue;const Se=c[le];if(void 0===Se)continue;I??={};let Le,it=cs.None;Array.isArray(Se)?(Le=Se[0],it=Se[1]):Le=Se;let Ct=le;if(null!==V){if(!V.hasOwnProperty(le))continue;Ct=V[le]}0===o?qT(I,g,Ct,Le,it):qT(I,g,Ct,Le)}return I}function qT(o,c,g,I,V){let le;o.hasOwnProperty(g)?(le=o[g]).push(c,I):le=o[g]=[c,I],void 0!==V&&le.push(V)}function Ul(o,c,g,I,V,le,Se,Le){const it=Ld(c,g);let jt,Ct=c.inputs;!Le&&null!=Ct&&(jt=Ct[I])?(e2(o,g,jt,I,V),Vp(c)&&function K8(o,c){const g=Bl(c,o);16&g[Oi]||(g[Oi]|=64)}(g,c.index)):3&c.type&&(I=function Tw(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(I),V=null!=Se?Se(V,c.value||"",I):V,le.setProperty(it,I,V))}function QT(o,c,g,I){if(G1()){const V=null===I?null:{"":-1},le=function eA(o,c){const g=o.directiveRegistry;let I=null,V=null;if(g)for(let le=0;le<g.length;le++){const Se=g[le];if(Y0(c,Se.selectors,!1))if(I||(I=[]),Pu(Se))if(null!==Se.findHostDirectiveDefs){const Le=[];V=V||new Map,Se.findHostDirectiveDefs(Se,Le,V),I.unshift(...Le,Se),qE(o,c,Le.length)}else I.unshift(Se),qE(o,c,0);else V=V||new Map,Se.findHostDirectiveDefs?.(Se,I,V),I.push(Se)}return null===I?null:[I,V]}(o,g);let Se,Le;null===le?Se=Le=null:[Se,Le]=le,null!==Se&&Q3(o,c,g,Se,V,Le),V&&function n6(o,c,g){if(c){const I=o.localNames=[];for(let V=0;V<c.length;V+=2){const le=g[c[V+1]];if(null==le)throw new Ir(-301,!1);I.push(c[V],le)}}}(g,I,V)}g.mergedAttrs=X0(g.mergedAttrs,g.attrs)}function Q3(o,c,g,I,V,le){for(let Ct=0;Ct<I.length;Ct++)gg(yg(g,c),o,I[Ct].type);!function tA(o,c,g){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+g,o.providerIndexes=c}(g,o.data.length,I.length);for(let Ct=0;Ct<I.length;Ct++){const jt=I[Ct];jt.providersResolver&&jt.providersResolver(jt)}let Se=!1,Le=!1,it=om(o,c,I.length,null);for(let Ct=0;Ct<I.length;Ct++){const jt=I[Ct];g.mergedAttrs=X0(g.mergedAttrs,jt.hostAttrs),i6(o,g,c,it,jt),r6(it,jt,V),null!==jt.contentQueries&&(g.flags|=4),(null!==jt.hostBindings||null!==jt.hostAttrs||0!==jt.hostVars)&&(g.flags|=64);const hn=jt.type.prototype;!Se&&(hn.ngOnChanges||hn.ngOnInit||hn.ngDoCheck)&&((o.preOrderHooks??=[]).push(g.index),Se=!0),!Le&&(hn.ngOnChanges||hn.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(g.index),Le=!0),it++}!function ah(o,c,g){const V=c.directiveEnd,le=o.data,Se=c.attrs,Le=[];let it=null,Ct=null;for(let jt=c.directiveStart;jt<V;jt++){const hn=le[jt],On=g?g.get(hn):null,Zn=On?On.outputs:null;it=ZT(0,hn.inputs,jt,it,On?On.inputs:null),Ct=ZT(1,hn.outputs,jt,Ct,Zn);const pr=null===it||null===Se||Kh(c)?null:a6(it,jt,Se);Le.push(pr)}null!==it&&(it.hasOwnProperty("class")&&(c.flags|=8),it.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=Le,c.inputs=it,c.outputs=Ct}(o,g,le)}function e6(o,c,g){const I=g.directiveStart,V=g.directiveEnd,le=g.index,Se=function Mk(){return uo.lFrame.currentDirectiveIndex}();try{Gp(le);for(let Le=I;Le<V;Le++){const it=o.data[Le],Ct=c[Le];J1(Le),(null!==it.hostBindings||0!==it.hostVars||null!==it.hostAttrs)&&t6(it,Ct)}}finally{Gp(-1),J1(Se)}}function t6(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function qE(o,c,g){c.componentOffset=g,(o.components??=[]).push(c.index)}function r6(o,c,g){if(g){if(c.exportAs)for(let I=0;I<c.exportAs.length;I++)g[c.exportAs[I]]=o;Pu(c)&&(g[""]=o)}}function i6(o,c,g,I,V){o.data[I]=V;const le=V.factory||(V.factory=ie(V.type)),Se=new pg(le,Pu(V),Qh);o.blueprint[I]=Se,g[I]=Se,function j8(o,c,g,I,V){const le=V.hostBindings;if(le){let Se=o.hostBindingOpCodes;null===Se&&(Se=o.hostBindingOpCodes=[]);const Le=~c.index;(function $8(o){let c=o.length;for(;c>0;){const g=o[--c];if("number"==typeof g&&g<0)return g}return 0})(Se)!=Le&&Se.push(Le),Se.push(g,I,le)}}(o,c,I,om(o,g,V.hostVars,vo),V)}function Uu(o,c,g,I,V,le){const Se=Ld(o,c);!function Ug(o,c,g,I,V,le,Se){if(null==le)o.removeAttribute(c,V,g);else{const Le=null==Se?Xr(le):Se(le,I||"",V);o.setAttribute(c,V,Le,g)}}(c[lo],Se,le,o.value,g,I,V)}function s6(o,c,g,I,V,le){const Se=le[c];if(null!==Se)for(let Le=0;Le<Se.length;)Sw(I,g,Se[Le++],Se[Le++],Se[Le++],Se[Le++])}function a6(o,c,g){let I=null,V=0;for(;V<g.length;){const le=g[V];if(0!==le)if(5!==le){if("number"==typeof le)break;if(o.hasOwnProperty(le)){null===I&&(I=[]);const Se=o[le];for(let Le=0;Le<Se.length;Le+=3)if(Se[Le]===c){I.push(le,Se[Le+1],Se[Le+2],g[V+1]);break}}V+=2}else V+=2;else V+=4}return I}function nA(o,c,g,I){return[o,!0,0,c,null,I,null,g,null,null]}function rA(o,c){const g=o.contentQueries;if(null!==g){const I=O(null);try{for(let V=0;V<g.length;V+=2){const Se=g[V+1];if(-1!==Se){const Le=o.data[Se];Sb(g[V]),Le.contentQueries(2,c[Se],Se)}}}finally{O(I)}}}function Aw(o,c){return o[tg]?o[ng][ql]=c:o[tg]=c,o[ng]=c,c}function QE(o,c,g){Sb(0);const I=O(null);try{c(o,g)}finally{O(I)}}function iA(o){return o[af]??=[]}function oA(o){return o.cleanup??=[]}function sA(o,c,g){return(null===o||Pu(o))&&(g=function H1(o){for(;Array.isArray(o);){if("object"==typeof o[F1])return o;o=o[ka]}return null}(g[c.index])),g[lo]}function Dw(o,c){const g=o[_c],I=g?g.get(nu,null):null;I&&I.handleError(c)}function e2(o,c,g,I,V){for(let le=0;le<g.length;){const Se=g[le++],Le=g[le++],it=g[le++];Sw(o.data[Se],c[Se],I,Le,it,V)}}function iu(o,c,g){const I=sg(c,o);!function PT(o,c,g){o.setValue(c,g)}(o[lo],I,g)}function t2(o,c){const g=Bl(c,o),I=g[Vr];!function Iw(o,c){for(let g=c.length;g<o.blueprint.length;g++)c.push(o.blueprint[g])}(I,g);const V=g[ka];null!==V&&null===g[ad]&&(g[ad]=wE(V,g[_c])),xy(I,g,g[la])}function xy(o,c,g){Z1(c);try{const I=o.viewQuery;null!==I&&QE(1,I,g);const V=o.template;null!==V&&J3(o,c,V,1,g),o.firstCreatePass&&(o.firstCreatePass=!1),c[Yf]?.finishViewCreation(o),o.staticContentQueries&&rA(o,c),o.staticViewQueries&&QE(2,o.viewQuery,g);const le=o.components;null!==le&&function n2(o,c){for(let g=0;g<c.length;g++)t2(o,c[g])}(c,le)}catch(I){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),I}finally{c[Oi]&=-5,ly()}}function My(o,c,g,I){const V=O(null);try{const le=c.tView,it=JE(o,le,g,4096&o[Oi]?4096:16,null,c,null,null,I?.injector??null,I?.embeddedViewInjector??null,I?.dehydratedView??null);it[ku]=o[c.index];const jt=o[Yf];return null!==jt&&(it[Yf]=jt.createEmbeddedView(le)),xy(le,it,g),it}finally{O(V)}}function aA(o,c){const g=Va+c;if(g<o.length)return o[g]}function ch(o,c){return!c||null===c.firstChild||jb(o)}function np(o,c,g,I=!0){const V=c[Vr];if(function F3(o,c,g,I){const V=Va+I,le=g.length;I>0&&(g[V-1][ql]=c),I<le-Va?(c[ql]=g[V],Ze(g,Va+I,c)):(g.push(c),c[ql]=null),c[qa]=g;const Se=c[ku];null!==Se&&g!==Se&&vw(Se,c);const Le=c[Yf];null!==Le&&Le.insertView(o),W1(c),c[Oi]|=128}(V,c,o,g),I){const Se=WE(g,o),Le=c[lo],it=Ew(Le,o[df]);null!==it&&function VE(o,c,g,I,V,le){I[ka]=V,I[sd]=c,xw(o,I,g,1,V,le)}(V,o[sd],Le,c,it,Se)}const le=c[ad];null!==le&&null!==le.firstChild&&(le.firstChild=null)}function cA(o,c){const g=bl(o,c);return void 0!==g&&nm(g[Vr],g),g}function Cw(o,c,g,I,V=!1){for(;null!==g;){if(128===g.type){g=V?g.projectionNext:g.next;continue}const le=c[g.index];null!==le&&I.push(qo(le)),Ud(le)&&r2(le,I);const Se=g.type;if(8&Se)Cw(o,c,g.child,I);else if(32&Se){const Le=jE(g,c);let it;for(;it=Le();)I.push(it)}else if(16&Se){const Le=KT(c,g);if(Array.isArray(Le))I.push(...Le);else{const it=Vh(c[Pa]);Cw(it[Vr],it,Le,I,!0)}}g=V?g.projectionNext:g.next}return I}function r2(o,c){for(let g=Va;g<o.length;g++){const I=o[g],V=I[Vr].firstChild;null!==V&&Cw(I[Vr],I,V,c)}o[df]!==o[ka]&&c.push(o[df])}let kw=[];const l6={...U,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Eb(o.lView)},consumerOnSignalRead(){this.lView[cd]=this}},u6={...U,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let c=Vh(o.lView);for(;c&&!o2(c[Vr]);)c=Vh(c);c&&sS(c)},consumerOnSignalRead(){this.lView[cd]=this}};function o2(o){return 2!==o.type}const f6=100;function Sy(o,c=!0,g=0){const I=o[cf],V=I.rendererFactory;V.begin?.();try{!function h6(o,c){const g=pS();try{mS(!0),s2(o,c);let I=0;for(;dg(o);){if(I===f6)throw new Ir(103,!1);I++,s2(o,1)}}finally{mS(g)}}(o,g)}catch(Se){throw c&&Dw(o,Se),Se}finally{V.end?.(),I.inlineEffectRunner?.flush()}}function p6(o,c,g,I){const V=c[Oi];if(!(256&~V))return;c[cf].inlineEffectRunner?.flush(),Z1(c);let Le=!0,it=null,Ct=null;o2(o)?(Ct=function fd(o){return o[cd]??function c6(o){const c=kw.pop()??Object.create(l6);return c.lView=o,c}(o)}(c),it=Z(Ct)):null===function S(){return b}()?(Le=!1,Ct=function Lg(o){const c=o[cd]??Object.create(u6);return c.lView=o,c}(c),it=Z(Ct)):c[cd]&&(ce(c[cd]),c[cd]=null);try{cy(c),function yS(o){return uo.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==g&&J3(o,c,g,2,I);const jt=!(3&~V);if(jt){const kn=o.preOrderCheckHooks;null!==kn&&Ib(c,kn,null)}else{const kn=o.preOrderHooks;null!==kn&&hg(c,kn,0,null),q1(c,0)}if(function dA(o){for(let c=$S(o);null!==c;c=my(c)){if(!(c[Oi]&Zf.HasTransplantedViews))continue;const g=c[sy];for(let I=0;I<g.length;I++)sS(g[I])}}(c),m6(c,0),null!==o.contentQueries&&rA(o,c),jt){const kn=o.contentCheckHooks;null!==kn&&Ib(c,kn)}else{const kn=o.contentHooks;null!==kn&&hg(c,kn,1),q1(c,1)}!function G3(o,c){const g=o.hostBindingOpCodes;if(null!==g)try{for(let I=0;I<g.length;I++){const V=g[I];if(V<0)Gp(~V);else{const le=V,Se=g[++I],Le=g[++I];xk(Se,le),Le(2,c[le])}}}finally{Gp(-1)}}(o,c);const hn=o.components;null!==hn&&y6(c,hn,0);const On=o.viewQuery;if(null!==On&&QE(2,On,I),jt){const kn=o.viewCheckHooks;null!==kn&&Ib(c,kn)}else{const kn=o.viewHooks;null!==kn&&hg(c,kn,2),q1(c,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[vb]){for(const kn of c[vb])kn();c[vb]=null}c[Oi]&=-73}catch(jt){throw Eb(c),jt}finally{null!==Ct&&(J(Ct,it),Le&&function d6(o){o.lView[cd]!==o&&(o.lView=null,kw.push(o))}(Ct)),ly()}}function m6(o,c){for(let g=$S(o);null!==g;g=my(g))for(let I=Va;I<g.length;I++)lA(g[I],c)}function z8(o,c,g){lA(Bl(c,o),g)}function lA(o,c){ay(o)&&s2(o,c)}function s2(o,c){const I=o[Vr],V=o[Oi],le=o[cd];let Se=!!(0===c&&16&V);if(Se||=!!(64&V&&0===c),Se||=!!(1024&V),Se||=!(!le?.dirty||!se(le)),Se||=!1,le&&(le.dirty=!1),o[Oi]&=-9217,Se)p6(I,o,I.template,o[la]);else if(8192&V){m6(o,1);const Le=I.components;null!==Le&&y6(o,Le,1)}}function y6(o,c,g){for(let I=0;I<c.length;I++)z8(o,c[I],g)}function Ow(o,c){const g=pS()?64:1088;for(o[cf].changeDetectionScheduler?.notify(c);o;){o[Oi]|=g;const I=Vh(o);if(zp(o)&&!I)return o;o=I}return null}class Kg{get rootNodes(){const c=this._lView,g=c[Vr];return Cw(g,c,g.firstChild,[])}constructor(c,g,I=!0){this._lView=c,this._cdRefInjectingView=g,this.notifyErrorHandler=I,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[la]}set context(c){this._lView[la]=c}get destroyed(){return!(256&~this._lView[Oi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[qa];if(Ud(c)){const g=c[8],I=g?g.indexOf(this):-1;I>-1&&(bl(c,I),ht(g,I))}this._attachedToViewContainer=!1}nm(this._lView[Vr],this._lView)}onDestroy(c){xb(this._lView,c)}markForCheck(){Ow(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Oi]&=-129}reattach(){W1(this._lView),this._lView[Oi]|=128}detectChanges(){this._lView[Oi]|=1024,Sy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ir(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const c=zp(this._lView),g=this._lView[ku];null!==g&&!c&&RT(g,this._lView),gw(this._lView[Vr],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Ir(902,!1);this._appRef=c;const g=zp(this._lView),I=this._lView[ku];null!==I&&!g&&vw(I,this._lView),W1(this._lView)}}let Ef=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=v6}return o})();const H8=Ef,g6=class extends H8{constructor(c,g,I){super(),this._declarationLView=c,this._declarationTContainer=g,this.elementRef=I}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,g){return this.createEmbeddedViewImpl(c,g)}createEmbeddedViewImpl(c,g,I){const V=My(this._declarationLView,this._declarationTContainer,c,{embeddedViewInjector:g,dehydratedView:I});return new Kg(V)}};function v6(){return Rw(Ks(),mr())}function Rw(o,c){return 4&o.type?new g6(c,o,hy(o,c)):null}function hA(o,c,g){const I=c.insertBeforeIndex,V=Array.isArray(I)?I[0]:I;return null===V?UT(o,0,g):qo(g[V])}function pA(o,c,g,I,V){const le=c.insertBeforeIndex;if(Array.isArray(le)){let Se=I,Le=null;if(3&c.type||(Le=Se,Se=V),null!==Se&&-1===c.componentOffset)for(let it=1;it<le.length;it++)ud(o,Se,g[le[it]],Le,!1)}}function Ay(o,c){if(o.push(c),o.length>1)for(let g=o.length-2;g>=0;g--){const I=o[g];mA(I)||A6(I,c)&&null===D6(I)&&I6(I,c.index)}}function mA(o){return!(64&o.type)}function A6(o,c){return mA(c)||o.index>c.index}function D6(o){const c=o.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function I6(o,c){const g=o.insertBeforeIndex;Array.isArray(g)?g[0]=c:(LT(hA,pA),o.insertBeforeIndex=c)}function P6(o,c,g){const I=XE(o,g,64,null,null);return Ay(c,I),I}function l2(o,c,g){o.index=0;const I=function Nw(o,c){const g=c[o.currentCaseLViewIndex];return null===g?g:g<0?~g:g}(c,g);o.removes=null!==I?c.remove[I]:Wr}function Uw(o){if(o.index<o.removes.length){const c=o.removes[o.index++];return c>0?o.lView[c]:(o.stack.push(o.index,o.removes),l2(o,o.lView[Vr].data[~c],o.lView),Uw(o))}return 0===o.stack.length?null:(o.removes=o.stack.pop(),o.index=o.stack.pop(),Uw(o))}function R6(){const o={stack:[],index:-1};return function c(g,I){for(o.lView=I;o.stack.length;)o.stack.pop();return l2(o,g.value,I),Uw.bind(null,o)}}let Kw=()=>{},jw=()=>null;function rp(o,c){return jw(o,c)}class dh{}const lc=new Ui("",{providedIn:"root",factory:()=>!1}),kA=new Ui("");class r5{}class ky{}class PA{resolveComponentFactory(c){throw function i5(o){const c=Error(`No component factory found for ${Uo(o)}.`);return c.ngComponent=o,c}(c)}}class $w{static#e=this.NULL=new PA}class OA{}let q8=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function RA(){const o=mr(),g=Bl(Ks().index,o);return(Kc(g)?g:o)[lo]}()}return o})(),BA=(()=>{class o{static#e=this.\u0275prov=Eo({token:o,providedIn:"root",factory:()=>null})}return o})();const Vw=new Set;function al(o){Vw.has(o)||(Vw.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function NA(o){let c=!0;return setTimeout(()=>{c&&(c=!1,o())}),"function"==typeof Qi.requestAnimationFrame&&Qi.requestAnimationFrame(()=>{c&&(c=!1,o())}),()=>{c=!1}}function UA(o){let c=!0;return queueMicrotask(()=>{c&&o()}),()=>{c=!1}}function wl(...o){}class Ea{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:g=!1,shouldCoalesceRunChangeDetection:I=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wf(!1),this.onMicrotaskEmpty=new wf(!1),this.onStable=new wf(!1),this.onError=new wf(!1),typeof Zone>"u")throw new Ir(908,!1);Zone.assertZonePatched();const V=this;V._nesting=0,V._outer=V._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(V._inner=V._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(V._inner=V._inner.fork(Zone.longStackTraceZoneSpec)),V.shouldCoalesceEventChangeDetection=!I&&g,V.shouldCoalesceRunChangeDetection=I,V.callbackScheduled=!1,function eR(o){const c=()=>{!function v2(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{NA(()=>{o.callbackScheduled=!1,b2(o),o.isCheckStableRunning=!0,zw(o),o.isCheckStableRunning=!1})}),b2(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(g,I,V,le,Se,Le)=>{if(function a5(o){return FA(o,"__ignore_ng_zone__")}(Le))return g.invokeTask(V,le,Se,Le);try{return LA(o),g.invokeTask(V,le,Se,Le)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===le.type||o.shouldCoalesceRunChangeDetection)&&c(),KA(o)}},onInvoke:(g,I,V,le,Se,Le,it)=>{try{return LA(o),g.invoke(V,le,Se,Le,it)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function c5(o){return FA(o,"__scheduler_tick__")}(Le)&&c(),KA(o)}},onHasTask:(g,I,V,le)=>{g.hasTask(V,le),I===V&&("microTask"==le.change?(o._hasPendingMicrotasks=le.microTask,b2(o),zw(o)):"macroTask"==le.change&&(o.hasPendingMacrotasks=le.macroTask))},onHandleError:(g,I,V,le)=>(g.handleError(V,le),o.runOutsideAngular(()=>o.onError.emit(le)),!1)})}(V)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ea.isInAngularZone())throw new Ir(909,!1)}static assertNotInAngularZone(){if(Ea.isInAngularZone())throw new Ir(909,!1)}run(c,g,I){return this._inner.run(c,g,I)}runTask(c,g,I,V){const le=this._inner,Se=le.scheduleEventTask("NgZoneEvent: "+V,c,s5,wl,wl);try{return le.runTask(Se,g,I)}finally{le.cancelTask(Se)}}runGuarded(c,g,I){return this._inner.runGuarded(c,g,I)}runOutsideAngular(c){return this._outer.run(c)}}const s5={};function zw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function b2(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function LA(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function KA(o){o._nesting--,zw(o)}class w2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wf,this.onMicrotaskEmpty=new wf,this.onStable=new wf,this.onError=new wf}run(c,g,I){return c.apply(g,I)}runGuarded(c,g,I){return c.apply(g,I)}runOutsideAngular(c){return c()}runTask(c,g,I,V){return c.apply(g,I)}}function FA(o,c){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[c]}var hd=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(hd||{});const $A={destroy(){}};function _2(o,c){!c&&Q0();const g=c?.injector??yn(Fc);return Nl(g)?(al("NgAfterRender"),E2(o,g,!1,c?.phase??hd.MixedReadWrite)):$A}function VA(o,c){!c&&Q0();const g=c?.injector??yn(Fc);return Nl(g)?(al("NgAfterNextRender"),E2(o,g,!0,c?.phase??hd.MixedReadWrite)):$A}function E2(o,c,g,I){const V=function d5(o,c){if(o instanceof Function)switch(c){case hd.EarlyRead:return{earlyRead:o};case hd.Write:return{write:o};case hd.MixedReadWrite:return{mixedReadWrite:o};case hd.Read:return{read:o}}return o}(o,I),le=c.get(Jg),Se=le.handler??=new l5,Le=[],it=[],Ct=()=>{for(const On of it)Se.unregister(On);jt()},jt=c.get(bg).onDestroy(Ct),hn=(On,kn)=>{if(!kn)return;const Zn=g?(...Br)=>{Ct(),kn(...Br)}:kn,pr=XM(c,()=>new x2(On,Le,Zn));Se.register(pr),it.push(pr)};return hn(hd.EarlyRead,V.earlyRead),hn(hd.Write,V.write),hn(hd.MixedReadWrite,V.mixedReadWrite),hn(hd.Read,V.read),{destroy:Ct}}class x2{constructor(c,g,I){this.phase=c,this.pipelinedArgs=g,this.callbackFn=I,this.zone=yn(Ea),this.errorHandler=yn(nu,{optional:!0}),yn(dh,{optional:!0})?.notify(6)}invoke(){try{const c=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,c)}catch(c){this.errorHandler?.handleError(c)}}}class l5{constructor(){this.executingCallbacks=!1,this.buckets={[hd.EarlyRead]:new Set,[hd.Write]:new Set,[hd.MixedReadWrite]:new Set,[hd.Read]:new Set},this.deferredCallbacks=new Set}register(c){(this.executingCallbacks?this.deferredCallbacks:this.buckets[c.phase]).add(c)}unregister(c){this.buckets[c.phase].delete(c),this.deferredCallbacks.delete(c)}execute(){this.executingCallbacks=!0;for(const c of Object.values(this.buckets))for(const g of c)g.invoke();this.executingCallbacks=!1;for(const c of this.deferredCallbacks)this.buckets[c.phase].add(c);this.deferredCallbacks.clear()}destroy(){for(const c of Object.values(this.buckets))c.clear();this.deferredCallbacks.clear()}}let Jg=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const g=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const I of g)I()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Eo({token:o,providedIn:"root",factory:()=>new o})}return o})();function Sf(o){return!!$n(o)}function Yg(o,c,g){let I=g?o.styles:null,V=g?o.classes:null,le=0;if(null!==c)for(let Se=0;Se<c.length;Se++){const Le=c[Se];"number"==typeof Le?le=Le:1==le?V=vc(V,Le):2==le&&(I=vc(I,Le+": "+c[++Se]+";"))}g?o.styles=I:o.stylesWithoutHost=I,g?o.classes=V:o.classesWithoutHost=V}class Yw extends $w{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const g=Pt(c);return new Zw(g,this.ngModule)}}function f5(o,c){const g=[];for(const I in o){if(!o.hasOwnProperty(I))continue;const V=o[I];if(void 0===V)continue;const le=Array.isArray(V),Se=le?V[0]:V;g.push(c?{propName:Se,templateName:I,isSignal:!!((le?V[1]:cs.None)&cs.SignalBased)}:{propName:Se,templateName:I})}return g}class Zw extends ky{get inputs(){const c=this.componentDef,g=c.inputTransforms,I=f5(c.inputs,!0);if(null!==g)for(const V of I)g.hasOwnProperty(V.propName)&&(V.transform=g[V.propName]);return I}get outputs(){return f5(this.componentDef.outputs,!1)}constructor(c,g){super(),this.componentDef=c,this.ngModule=g,this.componentType=c.type,this.selector=function VM(o){return o.map(ac).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!g}create(c,g,I,V){const le=O(null);try{let Se=(V=V||this.ngModule)instanceof wc?V:V?.injector;Se&&null!==this.componentDef.getStandaloneInjector&&(Se=this.componentDef.getStandaloneInjector(Se)||Se);const Le=Se?new yf(c,Se):c,it=Le.get(OA,null);if(null===it)throw new Ir(407,!1);const Ct=Le.get(BA,null),On={rendererFactory:it,sanitizer:Ct,inlineEffectRunner:null,afterRenderEventManager:Le.get(Jg,null),changeDetectionScheduler:Le.get(dh,null)},kn=it.createRenderer(null,this.componentDef),Zn=this.componentDef.selectors[0][0]||"div",pr=I?function Y3(o,c,g,I){const le=I.get(aT,!1)||g===_s.ShadowDom,Se=o.selectRootElement(c,le);return function Z3(o){GT(o)}(Se),Se}(kn,I,this.componentDef.encapsulation,Le):yw(kn,Zn,function S2(o){const c=o.toLowerCase();return"svg"===c?qf:"math"===c?"math":null}(Zn));let Br=512;this.componentDef.signals?Br|=4096:this.componentDef.onPush||(Br|=16);let Jr=null;null!==pr&&(Jr=wE(pr,Le,!0));const _r=ZE(0,null,null,1,0,null,null,null,null,null,null),ji=JE(null,_r,null,Br,null,null,On,kn,Le,null,Jr);let ts,Hs;Z1(ji);try{const kc=this.componentDef;let ma,wu=null;kc.findHostDirectiveDefs?(ma=[],wu=new Map,kc.findHostDirectiveDefs(kc,ma,wu),ma.push(kc)):ma=[kc];const Cp=function tR(o,c){const g=o[Vr],I=Si;return o[I]=c,ep(g,I,2,"#host",null)}(ji,pr),xM=function A2(o,c,g,I,V,le,Se){const Le=V[Vr];!function D2(o,c,g,I){for(const V of o)c.mergedAttrs=X0(c.mergedAttrs,V.hostAttrs);null!==c.mergedAttrs&&(Yg(c,c.mergedAttrs,!0),null!==g&&W3(I,g,c))}(I,o,c,Se);let it=null;null!==c&&(it=wE(c,V[_c]));const Ct=le.rendererFactory.createRenderer(c,g);let jt=16;g.signals?jt=4096:g.onPush&&(jt=64);const hn=JE(V,WT(g),null,jt,V[o.index],o,le,Ct,null,null,it);return Le.firstCreatePass&&qE(Le,o,I.length-1),Aw(V,hn),V[o.index]=hn}(Cp,pr,kc,ma,ji,On,kn);Hs=ag(_r,Si),pr&&function WA(o,c,g,I){if(I)Gf(o,g,["ng-version","18.1.0"]);else{const{attrs:V,classes:le}=function zM(o){const c=[],g=[];let I=1,V=2;for(;I<o.length;){let le=o[I];if("string"==typeof le)2===V?""!==le&&c.push(le,o[++I]):8===V&&g.push(le);else{if(!vl(V))break;V=le}I++}return{attrs:c,classes:g}}(c.selectors[0]);V&&Gf(o,g,V),le&&le.length>0&&$T(o,g,le.join(" "))}}(kn,kc,pr,I),void 0!==g&&function GA(o,c,g){const I=o.projection=[];for(let V=0;V<c.length;V++){const le=g[V];I.push(null!=le?Array.from(le):null)}}(Hs,this.ngContentSelectors,g),ts=function HA(o,c,g,I,V,le){const Se=Ks(),Le=V[Vr],it=Ld(Se,V);Q3(Le,V,Se,g,null,I);for(let jt=0;jt<g.length;jt++)ld(Jp(V,Le,Se.directiveStart+jt,Se),V);e6(Le,V,Se),it&&ld(it,V);const Ct=Jp(V,Le,Se.directiveStart+Se.componentOffset,Se);if(o[la]=V[la]=Ct,null!==le)for(const jt of le)jt(Ct,c);return zT(Le,Se,V),Ct}(xM,kc,ma,wu,ji,[pd]),xy(_r,ji,null)}finally{ly()}return new T2(this.componentType,ts,hy(Hs,ji),ji,Hs)}finally{O(le)}}}class T2 extends r5{constructor(c,g,I,V,le){super(),this.location=I,this._rootLView=V,this._tNode=le,this.previousInputValues=null,this.instance=g,this.hostView=this.changeDetectorRef=new Kg(V,void 0,!1),this.componentType=c}setInput(c,g){const I=this._tNode.inputs;let V;if(null!==I&&(V=I[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),g))return;const le=this._rootLView;e2(le[Vr],le,V,c,g),this.previousInputValues.set(c,g),Ow(Bl(this._tNode.index,le),1)}}get injector(){return new cc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function pd(){const o=Ks();zh(mr()[Vr],o)}let Zg=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=qg}return o})();function qg(){return I2(Ks(),mr())}const Qg=Zg,ev=class extends Qg{constructor(c,g,I){super(),this._lContainer=c,this._hostTNode=g,this._hostLView=I}get element(){return hy(this._hostTNode,this._hostLView)}get injector(){return new cc(this._hostTNode,this._hostLView)}get parentInjector(){const c=Ru(this._hostTNode,this._hostLView);if(xc(c)){const g=ol(c,this._hostLView),I=Hh(c);return new cc(g[Vr].data[I+8],g)}return new cc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const g=Py(this._lContainer);return null!==g&&g[c]||null}get length(){return this._lContainer.length-Va}createEmbeddedView(c,g,I){let V,le;"number"==typeof I?V=I:null!=I&&(V=I.index,le=I.injector);const Se=rp(this._lContainer,c.ssrId),Le=c.createEmbeddedViewImpl(g||{},le,Se);return this.insertImpl(Le,V,ch(this._hostTNode,Se)),Le}createComponent(c,g,I,V,le){const Se=c&&!function Cu(o){return"function"==typeof o}(c);let Le;if(Se)Le=g;else{const Zn=g||{};Le=Zn.index,I=Zn.injector,V=Zn.projectableNodes,le=Zn.environmentInjector||Zn.ngModuleRef}const it=Se?c:new Zw(Pt(c)),Ct=I||this.parentInjector;if(!le&&null==it.ngModule){const pr=(Se?Ct:this.parentInjector).get(wc,null);pr&&(le=pr)}const jt=Pt(it.componentType??{}),hn=rp(this._lContainer,jt?.id??null),kn=it.create(Ct,V,hn?.firstChild??null,le);return this.insertImpl(kn.hostView,Le,ch(this._hostTNode,hn)),kn}insert(c,g){return this.insertImpl(c,g,!0)}insertImpl(c,g,I){const V=c._lView;if(function lk(o){return Ud(o[qa])}(V)){const Le=this.indexOf(c);if(-1!==Le)this.detach(Le);else{const it=V[qa],Ct=new ev(it,it[sd],it[qa]);Ct.detach(Ct.indexOf(c))}}const le=this._adjustIndex(g),Se=this._lContainer;return np(Se,V,le,I),c.attachToViewContainerRef(),Ze(tv(Se),le,c),c}move(c,g){return this.insert(c,g)}indexOf(c){const g=Py(this._lContainer);return null!==g?g.indexOf(c):-1}remove(c){const g=this._adjustIndex(c,-1),I=bl(this._lContainer,g);I&&(ht(tv(this._lContainer),g),nm(I[Vr],I))}detach(c){const g=this._adjustIndex(c,-1),I=bl(this._lContainer,g);return I&&null!=ht(tv(this._lContainer),g)?new Kg(I):null}_adjustIndex(c,g=0){return c??this.length+g}};function Py(o){return o[8]}function tv(o){return o[8]||(o[8]=[])}function I2(o,c){let g;const I=c[o.index];return Ud(I)?g=I:(g=nA(I,c,null,o),c[o.index]=g,Aw(c,g)),op(g,c,o,I),new ev(g,o,c)}let op=function rv(o,c,g,I){if(o[df])return;let V;V=8&g.type?qo(I):function nv(o,c){const g=o[lo],I=g.createComment(""),V=Ld(c,o);return ud(g,Ew(g,V),I,function ru(o,c){return o.nextSibling(c)}(g,V),!1),I}(c,g),o[df]=V},JA=()=>!1;class Ry{constructor(c){this.queryList=c,this.matches=null}clone(){return new Ry(this.queryList)}setDirty(){this.queryList.setDirty()}}class k2{constructor(c=[]){this.queries=c}createEmbeddedView(c){const g=c.queries;if(null!==g){const I=null!==c.contentQueries?c.contentQueries[0]:g.length,V=[];for(let le=0;le<I;le++){const Se=g.getByIndex(le);V.push(this.queries[Se.indexInDeclarationView].clone())}return new k2(V)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}finishViewCreation(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let g=0;g<this.queries.length;g++)null!==O2(c,g).matches&&this.queries[g].setDirty()}}class cl{constructor(c,g,I=null){this.flags=g,this.read=I,this.predicate="string"==typeof c?function By(o){return o.split(",").map(c=>c.trim())}(c):c}}class su{constructor(c=[]){this.queries=c}elementStart(c,g){for(let I=0;I<this.queries.length;I++)this.queries[I].elementStart(c,g)}elementEnd(c){for(let g=0;g<this.queries.length;g++)this.queries[g].elementEnd(c)}embeddedTView(c){let g=null;for(let I=0;I<this.length;I++){const V=null!==g?g.length:0,le=this.getByIndex(I).embeddedTView(c,V);le&&(le.indexInDeclarationView=I,null!==g?g.push(le):g=[le])}return null!==g?new su(g):null}template(c,g){for(let I=0;I<this.queries.length;I++)this.queries[I].template(c,g)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Fr{constructor(c,g=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=g}elementStart(c,g){this.isApplyingToNode(g)&&this.matchTNode(c,g)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,g){this.elementStart(c,g)}embeddedTView(c,g){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,g),new Fr(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1&~this.metadata.flags){const g=this._declarationNodeIndex;let I=c.parent;for(;null!==I&&8&I.type&&I.index!==g;)I=I.parent;return g===(null!==I?I.index:-1)}return this._appliesToNextNode}matchTNode(c,g){const I=this.metadata.predicate;if(Array.isArray(I))for(let V=0;V<I.length;V++){const le=I[V];this.matchTNodeWithReadOption(c,g,h5(g,le)),this.matchTNodeWithReadOption(c,g,vf(g,c,le,!1,!1))}else I===Ef?4&g.type&&this.matchTNodeWithReadOption(c,g,-1):this.matchTNodeWithReadOption(c,g,vf(g,c,I,!1,!1))}matchTNodeWithReadOption(c,g,I){if(null!==I){const V=this.metadata.read;if(null!==V)if(V===wg||V===Zg||V===Ef&&4&g.type)this.addMatch(g.index,-2);else{const le=vf(g,c,V,!1,!1);null!==le&&this.addMatch(g.index,le)}else this.addMatch(g.index,I)}}addMatch(c,g){null===this.matches?this.matches=[c,g]:this.matches.push(c,g)}}function h5(o,c){const g=o.localNames;if(null!==g)for(let I=0;I<g.length;I+=2)if(g[I]===c)return g[I+1];return null}function Ll(o,c,g,I){return-1===g?function Lu(o,c){return 11&o.type?hy(o,c):4&o.type?Rw(o,c):null}(c,o):-2===g?function p5(o,c,g){return g===wg?hy(c,o):g===Ef?Rw(c,o):g===Zg?I2(c,o):void 0}(o,c,I):Jp(o,o[Vr],g,c)}function Vd(o,c,g,I){const V=c[Yf].queries[I];if(null===V.matches){const le=o.data,Se=g.matches,Le=[];for(let it=0;null!==Se&&it<Se.length;it+=2){const Ct=Se[it];Le.push(Ct<0?null:Ll(c,le[Ct],Se[it+1],g.metadata.read))}V.matches=Le}return V.matches}function P2(o,c,g,I){const V=o.queries.getByIndex(g),le=V.matches;if(null!==le){const Se=Vd(o,c,V,g);for(let Le=0;Le<le.length;Le+=2){const it=le[Le];if(it>0)I.push(Se[Le/2]);else{const Ct=le[Le+1],jt=c[-it];for(let hn=Va;hn<jt.length;hn++){const On=jt[hn];On[ku]===On[qa]&&P2(On[Vr],On,Ct,I)}if(null!==jt[sy]){const hn=jt[sy];for(let On=0;On<hn.length;On++){const kn=hn[On];P2(kn[Vr],kn,Ct,I)}}}}}return I}function Gi(o,c){return o[Yf].queries[c].queryList}function vi(o,c,g){const I=new Fb(!(4&~g));return function XT(o,c,g,I){const V=iA(c);V.push(g),o.firstCreatePass&&oA(o).push(I,V.length-1)}(o,c,I,I.destroy),(c[Yf]??=new k2).queries.push(new Ry(I))-1}function sp(o,c,g){const I=$o();return I.firstCreatePass&&(Ny(I,new cl(o,c,g),-1),!(2&~c)&&(I.staticViewQueries=!0)),vi(I,mr(),c)}function am(o,c,g,I){const V=$o();if(V.firstCreatePass){const le=Ks();Ny(V,new cl(c,g,I),le.index),function YA(o,c){const g=o.contentQueries||(o.contentQueries=[]);c!==(g.length?g[g.length-1]:-1)&&g.push(o.queries.length-1,c)}(V,o),!(2&~g)&&(V.staticContentQueries=!0)}return vi(V,mr(),g)}function Ny(o,c,g){null===o.queries&&(o.queries=new su),o.queries.track(new Fr(c,g))}function O2(o,c){return o.queries.getByIndex(c)}function qw(o,c){const g=o[Vr],I=O2(g,c);return I.crossesNgTemplate?P2(g,o,c,[]):Vd(g,o,I,c)}function R2(o){return"function"==typeof o&&void 0!==o[w]}function Tf(o,c){al("NgSignals");const g=function v(o){const c=Object.create(Re);c.value=o;const g=()=>(A(c),c.value);return g[w]=c,g}(o),I=g[w];return c?.equal&&(I.equal=c.equal),g.set=V=>Q(I,V),g.update=V=>function de(o,c){ee()||R(),Q(o,c(o.value))}(I,V),g.asReadonly=Qw.bind(g),g}function Qw(){const o=this[w];if(void 0===o.readonlyFn){const c=()=>this();c[w]=o,o.readonlyFn=c}return o.readonlyFn}function iv(o){return R2(o)&&"function"==typeof o.set}function md(o,c){let g;const I=C(()=>{g._dirtyCounter();const V=function kr(o,c){const g=o._lView,I=o._queryIndex;if(void 0===g||void 0===I||4&g[Oi])return c?void 0:Wr;const V=Gi(g,I),le=qw(g,I);return V.reset(le,NS),c?V.first:V._changesDetected||void 0===o._flatValue?o._flatValue=V.toArray():o._flatValue}(g,o);if(c&&void 0===V)throw new Ir(-951,!1);return V});return g=I[w],g._dirtyCounter=Tf(0),g._flatValue=void 0,I}function Bt(){return md(!0,!1)}function e_(){return md(!0,!0)}function js(o,c){const g=o[w];g._lView=mr(),g._queryIndex=c,g._queryList=Gi(g._lView,c),g._queryList.onDirty(()=>g._dirtyCounter.update(I=>I+1))}function B2(o,c){return Bt()}const _i=(B2.required=function qA(o,c){return e_()},B2);function Yr(o,c){return Bt()}const ii=(Yr.required=function ei(o,c){return e_()},Yr);function Xi(o){const c=Object.create(Ja),g=new RS;function I(){return A(c),Yi(c.value),c.value}return c.value=o,I[w]=c,I.asReadonly=Qw.bind(I),I.set=V=>{c.equal(c.value,V)||(Q(c,V),g.emit(V))},I.update=V=>{Yi(c.value),I.set(V(c.value))},I.subscribe=g.subscribe.bind(g),I.destroyRef=g.destroyRef,I}function Yi(o){if(o===So)throw new Ir(952,!1)}function Zi(o){return Xi(o)}const no=(Zi.required=function to(){return Xi(So)},Zi);function cm(o){let c=function U2(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),g=!0;const I=[o];for(;c;){let V;if(Pu(o))V=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Ir(903,!1);V=c.\u0275dir}if(V){if(g){I.push(V);const Se=o;Se.inputs=Uy(o.inputs),Se.inputTransforms=Uy(o.inputTransforms),Se.declaredInputs=Uy(o.declaredInputs),Se.outputs=Uy(o.outputs);const Le=V.hostBindings;Le&&tD(o,Le);const it=V.viewQuery,Ct=V.contentQueries;if(it&&v5(o,it),Ct&&eD(o,Ct),QA(o,V),Bc(o.outputs,V.outputs),Pu(V)&&V.data.animation){const jt=o.data;jt.animation=(jt.animation||[]).concat(V.data.animation)}}const le=V.features;if(le)for(let Se=0;Se<le.length;Se++){const Le=le[Se];Le&&Le.ngInherit&&Le(o),Le===cm&&(g=!1)}}c=Object.getPrototypeOf(c)}!function r_(o){let c=0,g=null;for(let I=o.length-1;I>=0;I--){const V=o[I];V.hostVars=c+=V.hostVars,V.hostAttrs=X0(V.hostAttrs,g=X0(g,V.hostAttrs))}}(I)}function QA(o,c){for(const g in c.inputs){if(!c.inputs.hasOwnProperty(g)||o.inputs.hasOwnProperty(g))continue;const I=c.inputs[g];if(void 0!==I&&(o.inputs[g]=I,o.declaredInputs[g]=c.declaredInputs[g],null!==c.inputTransforms)){const V=Array.isArray(I)?I[0]:I;if(!c.inputTransforms.hasOwnProperty(V))continue;o.inputTransforms??={},o.inputTransforms[V]=c.inputTransforms[V]}}}function Uy(o){return o===Ii?{}:o===Wr?[]:o}function v5(o,c){const g=o.viewQuery;o.viewQuery=g?(I,V)=>{c(I,V),g(I,V)}:c}function eD(o,c){const g=o.contentQueries;o.contentQueries=g?(I,V,le)=>{c(I,V,le),g(I,V,le)}:c}function tD(o,c){const g=o.hostBindings;o.hostBindings=g?(I,V)=>{c(I,V),g(I,V)}:c}function sD(o){const c=o.inputConfig,g={};for(const I in c)if(c.hasOwnProperty(I)){const V=c[I];Array.isArray(V)&&V[3]&&(g[I]=V[3])}o.inputTransforms=g}class cp{}class K2{}function _5(o,c){return new Es(o,c??null,[])}class Es extends cp{constructor(c,g,I){super(),this._parent=g,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yw(this);const V=$n(c);this._bootstrapComponents=sl(V.bootstrap),this._r3Injector=$k(c,g,[{provide:cp,useValue:this},{provide:$w,useValue:this.componentFactoryResolver},...I],Uo(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(g=>g()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Ed extends K2{constructor(c){super(),this.moduleType=c}create(c){return new Es(this.moduleType,c,[])}}class dp extends cp{constructor(c){super(),this.componentFactoryResolver=new Yw(this),this.instance=null;const g=new jh([...c.providers,{provide:cp,useValue:this},{provide:$w,useValue:this.componentFactoryResolver}],c.parent||yb(),c.debugName,new Set(["environment"]));this.injector=g,c.runEnvironmentInitializers&&g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Ky(o,c,g=null){return new dp({providers:o,parent:c,debugName:g,runEnvironmentInitializers:!0}).injector}function lp(o){return!!F2(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function F2(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Af(o,c,g){return o[c]=g}function ua(o,c,g){return!Object.is(o[c],g)&&(o[c]=g,!0)}function Wd(o,c,g,I){const V=ua(o,c,g);return ua(o,c+1,I)||V}function av(o,c,g,I,V,le,Se,Le,it,Ct){const jt=g+Si,hn=c.firstCreatePass?function Df(o,c,g,I,V,le,Se,Le,it){const Ct=c.consts,jt=ep(c,o,4,Se||null,Le||null);QT(c,g,jt,eu(Ct,it)),zh(c,jt);const hn=jt.tView=ZE(2,jt,I,V,le,c.directiveRegistry,c.pipeRegistry,null,c.schemas,Ct,null);return null!==c.queries&&(c.queries.template(c,jt),hn.queries=c.queries.embeddedTView(jt)),jt}(jt,c,o,I,V,le,Se,Le,it):c.data[jt];uf(hn,!1);const On=j2(c,o,hn,g);fg()&&_y(c,o,On,hn),ld(On,o);const kn=nA(On,o,On,hn);return o[jt]=kn,Aw(o,kn),function XA(o,c,g){return JA(o,c,g)}(kn,hn,o),wb(hn)&&HT(c,o,hn),null!=it&&YE(o,hn,Ct),hn}function o_(o,c,g,I,V,le,Se,Le){const it=mr(),Ct=$o();return av(it,Ct,o,c,g,I,V,eu(Ct.consts,le),Se,Le),o_}let j2=function Fu(o,c,g,I){return hf(!0),c[lo].createComment("")};function Sd(o,c,g,I){const V=mr();return ua(V,tu(),c)&&($o(),Uu(Fs(),V,o,c,g,I)),Sd}function Cf(o,c,g,I){return ua(o,tu(),g)?c+Xr(g)+I:vo}function wm(o,c,g,I,V,le){const Le=Wd(o,function th(){return uo.lFrame.bindingIndex}(),g,V);return Ou(2),Le?c+Xr(g)+I+Xr(V)+le:vo}function Qy(o,c){return o<<17|c<<2}function Pf(o){return o>>17&32767}function e0(o){return 2|o}function Of(o){return(131068&o)>>2}function t0(o,c){return-131069&o|c<<2}function Em(o){return 1|o}function X2(o,c,g,I){const V=o[g+1],le=null===c;let Se=I?Pf(V):Of(V),Le=!1;for(;0!==Se&&(!1===Le||le);){const Ct=o[Se+1];mh(o[Se],c)&&(Le=!0,o[Se+1]=I?Em(Ct):e0(Ct)),Se=I?Pf(Ct):Of(Ct)}Le&&(o[g+1]=I?e0(V):Em(V))}function mh(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&$r(o,c)>=0}const Ma={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xm(o){return o.substring(Ma.key,Ma.keyEnd)}function Y2(o,c){const g=Ma.textEnd;return g===c?-1:(c=Ma.keyEnd=function Z2(o,c,g){for(;c<g&&o.charCodeAt(c)>32;)c++;return c}(o,Ma.key=c,g),Jd(o,c,g))}function Jd(o,c,g){for(;c<g&&o.charCodeAt(c)<=32;)c++;return c}function Is(o,c,g){const I=mr();return ua(I,tu(),c)&&Ul($o(),Fs(),I,o,c,I[lo],g,!1),Is}function r0(o,c,g,I,V){const Se=V?"class":"style";e2(o,g,c.inputs[Se],Se,I)}function v_(o,c,g){return lu(o,c,g,!1),v_}function Mv(o,c){return lu(o,c,null,!0),Mv}function q2(o){Xd(yD,zu,o,!0)}function zu(o,c){for(let g=function Ev(o){return function g_(o){Ma.key=0,Ma.keyEnd=0,Ma.value=0,Ma.valueEnd=0,Ma.textEnd=o.length}(o),Y2(o,Jd(o,0,Ma.textEnd))}(c);g>=0;g=Y2(c,g))fr(o,xm(c),!0)}function lu(o,c,g,I){const V=mr(),le=$o(),Se=Ou(2);le.firstUpdatePass&&b_(le,o,Se,I),c!==vo&&ua(V,Se,c)&&vh(le,le.data[dd()],V,V[lo],o,V[Se+1]=function E_(o,c){return null==o||""===o||("string"==typeof c?o+=c:"object"==typeof o&&(o=Uo(rh(o)))),o}(c,g),I,Se)}function Xd(o,c,g,I){const V=$o(),le=Ou(2);V.firstUpdatePass&&b_(V,null,le,I);const Se=mr();if(g!==vo&&ua(Se,le,g)){const Le=V.data[dd()];if(tx(Le,I)&&!yh(V,le)){let it=I?Le.classesWithoutHost:Le.stylesWithoutHost;null!==it&&(g=vc(it,g||"")),r0(V,Le,Se,g,I)}else!function ex(o,c,g,I,V,le,Se,Le){V===vo&&(V=Wr);let it=0,Ct=0,jt=0<V.length?V[0]:null,hn=0<le.length?le[0]:null;for(;null!==jt||null!==hn;){const On=it<V.length?V[it+1]:void 0,kn=Ct<le.length?le[Ct+1]:void 0;let pr,Zn=null;jt===hn?(it+=2,Ct+=2,On!==kn&&(Zn=hn,pr=kn)):null===hn||null!==jt&&jt<hn?(it+=2,Zn=jt):(Ct+=2,Zn=hn,pr=kn),null!==Zn&&vh(o,c,g,I,Zn,pr,Se,Le),jt=it<V.length?V[it]:null,hn=Ct<le.length?le[Ct]:null}}(V,Le,Se,Se[lo],Se[le+1],Se[le+1]=function mD(o,c,g){if(null==g||""===g)return Wr;const I=[],V=rh(g);if(Array.isArray(V))for(let le=0;le<V.length;le++)o(I,V[le],!0);else if("object"==typeof V)for(const le in V)V.hasOwnProperty(le)&&o(I,le,V[le]);else"string"==typeof V&&c(I,V);return I}(o,c,g),I,le)}}function yh(o,c){return c>=o.expandoStartIndex}function b_(o,c,g,I){const V=o.data;if(null===V[g+1]){const le=V[dd()],Se=yh(o,g);tx(le,I)&&null===c&&!Se&&(c=!1),c=function gh(o,c,g,I){const V=X1(o);let le=I?c.residualClasses:c.residualStyles;if(null===V)0===(I?c.classBindings:c.styleBindings)&&(g=o0(g=__(null,o,c,g,I),c.attrs,I),le=null);else{const Se=c.directiveStylingLast;if(-1===Se||o[Se]!==V)if(g=__(V,o,c,g,I),null===le){let it=function w_(o,c,g){const I=g?c.classBindings:c.styleBindings;if(0!==Of(I))return o[Pf(I)]}(o,c,I);void 0!==it&&Array.isArray(it)&&(it=__(null,o,c,it[1],I),it=o0(it,c.attrs,I),function pD(o,c,g,I){o[Pf(g?c.classBindings:c.styleBindings)]=I}(o,c,I,it))}else le=function hp(o,c,g){let I;const V=c.directiveEnd;for(let le=1+c.directiveStylingLast;le<V;le++)I=o0(I,o[le].hostAttrs,g);return o0(I,c.attrs,g)}(o,c,I)}return void 0!==le&&(I?c.residualClasses=le:c.residualStyles=le),g}(V,le,c,I),function _v(o,c,g,I,V,le){let Se=le?c.classBindings:c.styleBindings,Le=Pf(Se),it=Of(Se);o[I]=g;let jt,Ct=!1;if(Array.isArray(g)?(jt=g[1],(null===jt||$r(g,jt)>0)&&(Ct=!0)):jt=g,V)if(0!==it){const On=Pf(o[Le+1]);o[I+1]=Qy(On,Le),0!==On&&(o[On+1]=t0(o[On+1],I)),o[Le+1]=function m_(o,c){return 131071&o|c<<17}(o[Le+1],I)}else o[I+1]=Qy(Le,0),0!==Le&&(o[Le+1]=t0(o[Le+1],I)),Le=I;else o[I+1]=Qy(it,0),0===Le?Le=I:o[it+1]=t0(o[it+1],I),it=I;Ct&&(o[I+1]=e0(o[I+1])),X2(o,jt,I,!0),X2(o,jt,I,!1),function y_(o,c,g,I,V){const le=V?o.residualClasses:o.residualStyles;null!=le&&"string"==typeof c&&$r(le,c)>=0&&(g[I+1]=Em(g[I+1]))}(c,jt,o,I,le),Se=Qy(Le,it),le?c.classBindings=Se:c.styleBindings=Se}(V,le,c,g,Se,I)}}function __(o,c,g,I,V){let le=null;const Se=g.directiveEnd;let Le=g.directiveStylingLast;for(-1===Le?Le=g.directiveStart:Le++;Le<Se&&(le=c[Le],I=o0(I,le.hostAttrs,V),le!==o);)Le++;return null!==o&&(g.directiveStylingLast=Le),I}function o0(o,c,g){const I=g?1:2;let V=-1;if(null!==c)for(let le=0;le<c.length;le++){const Se=c[le];"number"==typeof Se?V=Se:V===I&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),fr(o,Se,!!g||c[++le]))}return void 0===o?null:o}function yD(o,c,g){const I=String(c);""!==I&&!I.includes(" ")&&fr(o,I,g)}function vh(o,c,g,I,V,le,Se,Le){if(!(3&c.type))return;const it=o.data,Ct=it[Le+1],jt=function ul(o){return!(1&~o)}(Ct)?Rf(it,c,g,V,Of(Ct),Se):void 0;s0(jt)||(s0(le)||function J2(o){return!(2&~o)}(Ct)&&(le=Rf(it,null,g,V,Le,Se)),function z3(o,c,g,I,V){if(c)V?o.addClass(g,I):o.removeClass(g,I);else{let le=-1===I.indexOf("-")?void 0:wy.DashCase;null==V?o.removeStyle(g,I,le):("string"==typeof V&&V.endsWith("!important")&&(V=V.slice(0,-10),le|=wy.Important),o.setStyle(g,I,V,le))}}(I,Se,sg(dd(),g),V,le))}function Rf(o,c,g,I,V,le){const Se=null===c;let Le;for(;V>0;){const it=o[V],Ct=Array.isArray(it),jt=Ct?it[1]:it,hn=null===jt;let On=g[V+1];On===vo&&(On=hn?Wr:void 0);let kn=hn?lr(On,I):jt===I?On:void 0;if(Ct&&!s0(kn)&&(kn=lr(it,I)),s0(kn)&&(Le=kn,Se))return Le;const Zn=o[V+1];V=Se?Pf(Zn):Of(Zn)}if(null!==c){let it=le?c.residualClasses:c.residualStyles;null!=it&&(Le=lr(it,I))}return Le}function s0(o){return void 0!==o}function tx(o,c){return!!(o.flags&(c?8:16))}function Hu(o,c,g){Xd(fr,zu,Cf(mr(),o,c,g),!0)}class vD{destroy(c){}updateValue(c,g){}swap(c,g){const I=Math.min(c,g),V=Math.max(c,g),le=this.detach(V);if(V-I>1){const Se=this.detach(I);this.attach(I,le),this.attach(V,Se)}else this.attach(I,le)}move(c,g){this.attach(g,this.detach(c))}}function T_(o,c,g,I,V){return o===g&&Object.is(c,I)?1:Object.is(V(o,c),V(g,I))?-1:0}function hc(o,c,g,I){return!(void 0===c||!c.has(I)||(o.attach(g,c.get(I)),c.delete(I),0))}function Wu(o,c,g,I,V){if(hc(o,c,I,g(I,V)))o.updateValue(I,V);else{const le=o.create(I,V);o.attach(I,le)}}function ix(o,c,g,I){const V=new Set;for(let le=c;le<=g;le++)V.add(I(le,o.at(le)));return V}class Sv{constructor(){this.kvMap=new Map,this._vMap=void 0}has(c){return this.kvMap.has(c)}delete(c){if(!this.has(c))return!1;const g=this.kvMap.get(c);return void 0!==this._vMap&&this._vMap.has(g)?(this.kvMap.set(c,this._vMap.get(g)),this._vMap.delete(g)):this.kvMap.delete(c),!0}get(c){return this.kvMap.get(c)}set(c,g){if(this.kvMap.has(c)){let I=this.kvMap.get(c);void 0===this._vMap&&(this._vMap=new Map);const V=this._vMap;for(;V.has(I);)I=V.get(I);V.set(I,g)}else this.kvMap.set(c,g)}forEach(c){for(let[g,I]of this.kvMap)if(c(I,g),void 0!==this._vMap){const V=this._vMap;for(;V.has(I);)I=V.get(I),c(I,g)}}}function A_(o,c){al("NgControlFlow");const g=mr(),I=tu(),V=g[I]!==vo?g[I]:-1,le=-1!==V?Av(g,Si+V):void 0;if(ua(g,I,o)){const Le=O(null);try{if(void 0!==le&&cA(le,0),-1!==o){const it=Si+o,Ct=Av(g,it),jt=D_(g[Vr],it),hn=rp(Ct,jt.tView.ssrId);np(Ct,My(g,jt,c,{dehydratedView:hn}),0,ch(jt,hn))}}finally{O(Le)}}else if(void 0!==le){const Le=aA(le,0);void 0!==Le&&(Le[la]=c)}}class wD{constructor(c,g,I){this.lContainer=c,this.$implicit=g,this.$index=I}get $count(){return this.lContainer.length-Va}}function pp(o){return o}function Tv(o,c){return c}class ox{constructor(c,g,I){this.hasEmptyBlock=c,this.trackByFn=g,this.liveCollection=I}}function sx(o,c,g,I,V,le,Se,Le,it,Ct,jt,hn,On){al("NgControlFlow");const kn=mr(),Zn=$o(),pr=void 0!==it,Br=mr(),Jr=Le?Se.bind(Br[Pa][la]):Se,_r=new ox(pr,Jr);Br[Si+o]=_r,av(kn,Zn,o+1,c,g,I,V,eu(Zn.consts,le)),pr&&av(kn,Zn,o+2,it,Ct,jt,hn,eu(Zn.consts,On))}class xD extends vD{constructor(c,g,I){super(),this.lContainer=c,this.hostLView=g,this.templateTNode=I,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Va}at(c){return this.getLView(c)[la].$implicit}attach(c,g){const I=g[ad];this.needsIndexUpdate||=c!==this.length,np(this.lContainer,g,c,ch(this.templateTNode,I))}detach(c){return this.needsIndexUpdate||=c!==this.length-1,function MD(o,c){return bl(o,c)}(this.lContainer,c)}create(c,g){const I=rp(this.lContainer,this.templateTNode.tView.ssrId),V=My(this.hostLView,this.templateTNode,new wD(this.lContainer,g,c),{dehydratedView:I});return this.operationsCounter?.recordCreate(),V}destroy(c){nm(c[Vr],c),this.operationsCounter?.recordDestroy()}updateValue(c,g){this.getLView(c)[la].$implicit=g}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let c=0;c<this.length;c++)this.getLView(c)[la].$index=c}getLView(c){return function SD(o,c){return aA(o,c)}(this.lContainer,c)}}function Sm(o){const c=O(null),g=dd();try{const I=mr(),V=I[Vr],le=I[g],Se=g+1,Le=Av(I,Se);if(void 0===le.liveCollection){const Ct=D_(V,Se);le.liveCollection=new xD(Le,I,Ct)}else le.liveCollection.reset();const it=le.liveCollection;if(function bD(o,c,g){let I,V,le=0,Se=o.length-1;if(Array.isArray(c)){let it=c.length-1;for(;le<=Se&&le<=it;){const Ct=o.at(le),jt=c[le],hn=T_(le,Ct,le,jt,g);if(0!==hn){hn<0&&o.updateValue(le,jt),le++;continue}const On=o.at(Se),kn=c[it],Zn=T_(Se,On,it,kn,g);if(0!==Zn){Zn<0&&o.updateValue(Se,kn),Se--,it--;continue}const pr=g(le,Ct),Br=g(Se,On),Jr=g(le,jt);if(Object.is(Jr,Br)){const _r=g(it,kn);Object.is(_r,pr)?(o.swap(le,Se),o.updateValue(Se,kn),it--,Se--):o.move(Se,le),o.updateValue(le,jt),le++}else if(I??=new Sv,V??=ix(o,le,Se,g),hc(o,I,le,Jr))o.updateValue(le,jt),le++,Se++;else if(V.has(Jr))I.set(pr,o.detach(le)),Se--;else{const _r=o.create(le,c[le]);o.attach(le,_r),le++,Se++}}for(;le<=it;)Wu(o,I,g,le,c[le]),le++}else if(null!=c){const it=c[Symbol.iterator]();let Ct=it.next();for(;!Ct.done&&le<=Se;){const jt=o.at(le),hn=Ct.value,On=T_(le,jt,le,hn,g);if(0!==On)On<0&&o.updateValue(le,hn),le++,Ct=it.next();else{I??=new Sv,V??=ix(o,le,Se,g);const kn=g(le,hn);if(hc(o,I,le,kn))o.updateValue(le,hn),le++,Se++,Ct=it.next();else if(V.has(kn)){const Zn=g(le,jt);I.set(Zn,o.detach(le)),Se--}else o.attach(le,o.create(le,hn)),le++,Se++,Ct=it.next()}}for(;!Ct.done;)Wu(o,I,g,o.length,Ct.value),Ct=it.next()}for(;le<=Se;)o.destroy(o.detach(Se--));I?.forEach(it=>{o.destroy(it)})}(it,o,le.trackByFn),it.updateIndexes(),le.hasEmptyBlock){const Ct=tu(),jt=0===it.length;if(ua(I,Ct,jt)){const hn=g+2,On=Av(I,hn);if(jt){const kn=D_(V,hn),Zn=rp(On,kn.tView.ssrId);np(On,My(I,kn,void 0,{dehydratedView:Zn}),0,ch(kn,Zn))}else cA(On,0)}}}finally{O(c)}}function Av(o,c){return o[c]}function D_(o,c){return ag(o,c)}function Dv(o,c,g,I){const V=mr(),le=$o(),Se=Si+o,Le=V[lo],it=le.firstCreatePass?function TD(o,c,g,I,V,le){const Se=c.consts,it=ep(c,o,2,I,eu(Se,V));return QT(c,g,it,eu(Se,le)),null!==it.attrs&&Yg(it,it.attrs,!1),null!==it.mergedAttrs&&Yg(it,it.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,it),it}(Se,le,V,c,g,I):le.data[Se],Ct=ax(le,V,it,Le,c,o);V[Se]=Ct;const jt=wb(it);return uf(it,!0),W3(Le,Ct,it),!function Cc(o){return!(32&~o.flags)}(it)&&fg()&&_y(le,V,Ct,it),0===function fk(){return uo.lFrame.elementDepthCount}()&&ld(Ct,V),function hk(){uo.lFrame.elementDepthCount++}(),jt&&(HT(le,V,it),zT(le,it,V)),null!==I&&YE(V,it),Dv}function Bf(){let o=Ks();fS()?ff():(o=o.parent,uf(o,!1));const c=o;(function lS(o){return uo.skipHydrationRootTNode===o})(c)&&function eh(){uo.skipHydrationRootTNode=null}(),function pk(){uo.lFrame.elementDepthCount--}();const g=$o();return g.firstCreatePass&&(zh(g,o),j1(o)&&g.queries.elementEnd(o)),null!=c.classesWithoutHost&&function kb(o){return!!(8&o.flags)}(c)&&r0(g,c,mr(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function kk(o){return!!(16&o.flags)}(c)&&r0(g,c,mr(),c.stylesWithoutHost,!1),Bf}function I_(o,c,g,I){return Dv(o,c,g,I),Bf(),I_}let ax=(o,c,g,I,V,le)=>(hf(!0),yw(I,V,function Db(){return uo.lFrame.currentNamespace}()));function Iv(o,c,g){const I=mr(),V=$o(),le=o+Si,Se=V.firstCreatePass?function Fl(o,c,g,I,V){const le=c.consts,Se=eu(le,I),Le=ep(c,o,8,"ng-container",Se);return null!==Se&&Yg(Le,Se,!0),QT(c,g,Le,eu(le,V)),null!==c.queries&&c.queries.elementStart(c,Le),Le}(le,V,I,c,g):V.data[le];uf(Se,!0);const Le=lx(V,I,Se,o);return I[le]=Le,fg()&&_y(V,I,Le,Se),ld(Le,I),wb(Se)&&(HT(V,I,Se),zT(V,Se,I)),null!=g&&YE(I,Se),Iv}function Cv(){let o=Ks();const c=$o();return fS()?ff():(o=o.parent,uf(o,!1)),c.firstCreatePass&&(zh(c,o),j1(o)&&c.queries.elementEnd(o)),Cv}function C_(o,c,g){return Iv(o,c,g),Cv(),C_}let lx=(o,c,g,I)=>(hf(!0),$E(c[lo],""));function fl(){return mr()}function c0(o,c,g){const I=mr();return ua(I,tu(),c)&&Ul($o(),Fs(),I,o,c,I[lo],g,!0),c0}function kv(o,c,g){const I=mr();if(ua(I,tu(),c)){const le=$o(),Se=Fs();Ul(le,Se,I,o,c,sA(X1(le.data),Se,I),g,!0)}return kv}const wh=void 0;var Gc=["en",[["a","p"],["AM","PM"],wh],[["AM","PM"],wh,wh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wh,"{1} 'at' {0}",wh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function k_(o){const g=Math.floor(Math.abs(o)),I=o.toString().replace(/^[^.]*\.?/,"").length;return 1===g&&0===I?1:5}];let Tm={};function Gu(o){const c=function Pv(o){return o.toLowerCase().replace(/_/g,"-")}(o);let g=Dm(c);if(g)return g;const I=c.split("-")[0];if(g=Dm(I),g)return g;if("en"===I)return Gc;throw new Ir(701,!1)}function mp(o){return Gu(o)[Eh.PluralCase]}function Dm(o){return o in Tm||(Tm[o]=Qi.ng&&Qi.ng.common&&Qi.ng.common.locales&&Qi.ng.common.locales[o]),Tm[o]}var Eh=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Eh||{});const fu="en-US",xh={marker:"element"},Ju={marker:"ICU"};var pc=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}(pc||{});let Nf=fu;let u0=(o,c,g,I)=>(hf(!0),function fx(o,c,g){const I=o[lo];switch(g){case Node.COMMENT_NODE:return $E(I,c);case Node.TEXT_NODE:return tm(I,c);case Node.ELEMENT_NODE:return yw(I,c,null)}}(o,g,I));const m0=/\ufffd(\d+):?\d*\ufffd/gi,Rv=/\ufffd(\d+)\ufffd/,RD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Bv="\ufffd",A5=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,D5=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,I5=/\uE500/g;function Cm(o,c,g,I,V,le,Se){const Le=om(o,I,1,null);let it=Le<<pc.SHIFT,Ct=Mb();c===Ct&&(Ct=null),null===Ct&&(it|=pc.APPEND_EAGERLY),Se&&(it|=pc.COMMENT,function L3(o){void 0===Rg&&(Rg=o())}(R6)),V.push(it,null===le?"":le);const jt=XE(o,Le,Se?32:1,null===le?"":le,null);Ay(g,jt);const hn=jt.index;return uf(jt,!1),null!==Ct&&c!==Ct&&function k6(o,c){let g=o.insertBeforeIndex;null===g?(LT(hA,pA),g=o.insertBeforeIndex=[null,c]):(dr(Array.isArray(g),!0,"Expecting array here"),g.push(c))}(Ct,hn),jt}function ND(o,c,g,I,V,le,Se,Le){const it=Le.match(m0),jt=Cm(c,g,I,Se,V,it?null:Le,!1).index;it&&P_(le,Le,jt,null,0,null),o.push({kind:0,index:jt})}function P_(o,c,g,I,V,le){const Se=o.length,Le=Se+1;o.push(null,null);const it=Se+2,Ct=c.split(m0);let jt=0;for(let hn=0;hn<Ct.length;hn++){const On=Ct[hn];if(1&hn){const kn=V+parseInt(On,10);o.push(-1-kn),jt|=yx(kn)}else""!==On&&o.push(On)}return o.push(g<<2|(I?1:0)),I&&o.push(I,le),o[Se]=jt,o[Le]=o.length-it,jt}function yx(o){return 1<<Math.min(o,31)}function UD(o){let c,le,g="",I=0,V=!1;for(;null!==(c=A5.exec(o));)V?c[0]===`${Bv}/*${le}${Bv}`&&(I=c.index,V=!1):(g+=o.substring(I,c.index+c[0].length),le=c[1],V=!0);return g+=o.slice(I),g}function LD(o,c,g,I,V,le,Se){let Le=0;const it={type:le.type,currentCaseLViewIndex:om(c,g,1,null),anchorIdx:Se,cases:[],create:[],remove:[],update:[]};(function Jc(o,c,g){o.push(yx(c.mainBinding),2,-1-c.mainBinding,g<<2|2)})(I,le,Se),function C6(o,c,g){const I=o.data[c];null===I?o.data[c]=g:I.value=g}(c,Se,it);const Ct=le.values,jt=[];for(let hn=0;hn<Ct.length;hn++){const On=Ct[hn],kn=[];for(let pr=0;pr<On.length;pr++){const Br=On[pr];if("string"!=typeof Br){const Jr=kn.push(Br)-1;On[pr]=`\x3c!--\ufffd${Jr}\ufffd--\x3e`}}const Zn=[];jt.push(Zn),Le=vx(Zn,c,it,g,I,V,le.cases[hn],On.join(""),kn)|Le}Le&&function FD(o,c,g){o.push(c,1,g<<2|3)}(I,Le,Se),o.push({kind:3,index:Se,cases:jt,currentCaseLViewIndex:it.currentCaseLViewIndex})}function P5(o){const c=[],g=[];let I=1,V=0;const le=gx(o=o.replace(RD,function(Se,Le,it){return I="select"===it?0:1,V=parseInt(Le.slice(1),10),""}));for(let Se=0;Se<le.length;){let Le=le[Se++].trim();1===I&&(Le=Le.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Le.length&&c.push(Le);const it=gx(le[Se++]);c.length>g.length&&g.push(it)}return{type:I,mainBinding:V,cases:c,values:g}}function gx(o){if(!o)return[];let c=0;const g=[],I=[],V=/[{}]/g;let le;for(V.lastIndex=0;le=V.exec(o);){const Le=le.index;if("}"==le[0]){if(g.pop(),0==g.length){const it=o.substring(c,Le);RD.test(it)?I.push(P5(it)):I.push(it),c=Le+1}}else{if(0==g.length){const it=o.substring(c,Le);I.push(it),c=Le+1}g.push("{")}}const Se=o.substring(c);return I.push(Se),I}function vx(o,c,g,I,V,le,Se,Le,it){const Ct=[],jt=[],hn=[];g.cases.push(Se),g.create.push(Ct),g.remove.push(jt),g.update.push(hn);const kn=uT(Xh()).getInertBodyElement(Le),Zn=kE(kn)||kn;return Zn?O_(o,c,g,I,V,Ct,jt,hn,Zn,le,it,0):0}function O_(o,c,g,I,V,le,Se,Le,it,Ct,jt,hn){let On=0,kn=it.firstChild;for(;kn;){const Zn=om(c,I,1,null);switch(kn.nodeType){case Node.ELEMENT_NODE:const pr=kn,Br=pr.tagName.toLowerCase();if(TE.hasOwnProperty(Br)){Cs(le,xh,Br,Ct,Zn),c.data[Zn]=Br;const ts=pr.attributes;for(let kc=0;kc<ts.length;kc++){const ma=ts.item(kc),wu=ma.name.toLowerCase();ma.value.match(m0)?DE.hasOwnProperty(wu)&&P_(Le,ma.value,Zn,ma.name,0,AE[wu]?lw:null):pa(le,Zn,ma)}const Hs={kind:1,index:Zn,children:[]};o.push(Hs),On=O_(Hs.children,c,g,I,V,le,Se,Le,kn,Zn,jt,hn+1)|On,bx(Se,Zn,hn)}break;case Node.TEXT_NODE:const Jr=kn.textContent||"",_r=Jr.match(m0);Cs(le,null,_r?"":Jr,Ct,Zn),bx(Se,Zn,hn),_r&&(On=P_(Le,Jr,Zn,null,0,null)|On),o.push({kind:0,index:Zn});break;case Node.COMMENT_NODE:const ji=Rv.exec(kn.textContent||"");if(ji){const Hs=jt[parseInt(ji[1],10)];Cs(le,Ju,"",Ct,Zn),LD(o,c,I,V,Ct,Hs,Zn),KD(Se,Zn,hn)}}kn=kn.nextSibling}return On}function bx(o,c,g){0===g&&o.push(c)}function KD(o,c,g){0===g&&(o.push(~c),o.push(c))}function Cs(o,c,g,I,V){null!==c&&o.push(c),o.push(g,V,function O6(o,c,g){return o|c<<17|g<<1}(0,I,V))}function pa(o,c,g){o.push(c<<1|1,g.name,g.value)}function _x(o,c,g=-1){const I=$o(),V=mr(),le=Si+o,Se=eu(I.consts,c),Le=Mb();I.firstCreatePass&&function mx(o,c,g,I,V,le){const Se=Mb(),Le=[],it=[],Ct=[[]],jt=[[]];V=function k5(o,c){if(function vA(o){return-1===o}(c))return UD(o);{const g=o.indexOf(`:${c}${Bv}`)+2+c.toString().length,I=o.search(new RegExp(`${Bv}\\/\\*\\d+:${c}${Bv}`));return UD(o.substring(g,I))}}(V,le);const hn=function C5(o){return o.replace(I5," ")}(V).split(D5);for(let On=0;On<hn.length;On++){let kn=hn[On];if(1&On){const Zn=47===kn.charCodeAt(0),pr=kn.charCodeAt(Zn?1:0),Br=Si+Number.parseInt(kn.substring(Zn?2:1));if(Zn)Ct.shift(),jt.shift(),uf(Mb(),!1);else{const Jr=P6(o,Ct[0],Br);Ct.unshift([]),uf(Jr,!0);const _r={kind:2,index:Br,children:[],type:35===pr?0:1};jt[0].push(_r),jt.unshift(_r.children)}}else{const Zn=gx(kn);for(let pr=0;pr<Zn.length;pr++){let Br=Zn[pr];if(1&pr){const Jr=Br;if("object"!=typeof Jr)throw new Error(`Unable to parse ICU expression in "${V}" message.`);const ji=Cm(o,Se,Ct[0],g,Le,"",!0).index;LD(jt[0],o,g,it,c,Jr,ji)}else""!==Br&&ND(jt[0],o,Se,Ct[0],Le,it,g,Br)}}}o.data[I]={create:Le,update:it,ast:jt[0]}}(I,null===Le?0:Le.index,V,le,Se,g),2===I.type?V[Pa][Oi]|=32:V[Oi]|=32;const it=I.data[le],jt=zE(I,Le===V[sd]?null:Le,V),hn=Le&&8&Le.type?V[Le.index]:null;(function z6(o,c,g,I){Kw(o,c,g,I)})(V,le,Le,g),function f0(o,c,g,I){const V=o[lo];for(let le=0;le<c.length;le++){const Se=c[le++],Ct=(Se&pc.APPEND_EAGERLY)===pc.APPEND_EAGERLY,jt=Se>>>pc.SHIFT;let hn=o[jt],On=!1;null===hn&&(hn=o[jt]=u0(o,jt,c[le],(Se&pc.COMMENT)===pc.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),On=fg()),Ct&&null!==g&&On&&ud(V,g,hn,I,!1)}}(V,it.create,jt,hn),gS(!0)}function VD(o,c,g){_x(o,c,g),function $D(){gS(!1)}()}let HD=(o,c,g)=>{};function km(o,c,g,I){const V=mr(),le=$o(),Se=Ks();return Ex(le,V,V[lo],Se,o,c,I),km}function Nv(o,c){const g=Ks(),I=mr(),V=$o();return Ex(V,I,sA(X1(V.data),g,I),g,o,c),Nv}function Ex(o,c,g,I,V,le,Se){const Le=wb(I),Ct=o.firstCreatePass&&oA(o),jt=c[la],hn=iA(c);let On=!0;if(3&I.type||Se){const pr=Ld(I,c),Br=Se?Se(pr):pr,Jr=hn.length,_r=Se?ts=>Se(qo(ts[I.index])):I.index;let ji=null;if(!Se&&Le&&(ji=function U5(o,c,g,I){const V=o.cleanup;if(null!=V)for(let le=0;le<V.length-1;le+=2){const Se=V[le];if(Se===g&&V[le+1]===I){const Le=c[af],it=V[le+2];return Le.length>it?Le[it]:null}"string"==typeof Se&&(le+=2)}return null}(o,c,V,I.index)),null!==ji)(ji.__ngLastListenerFn__||ji).__ngNextListenerFn__=le,ji.__ngLastListenerFn__=le,On=!1;else{le=GD(I,c,jt,le),HD(pr,V,le);const ts=g.listen(Br,V,le);hn.push(le,ts),Ct&&Ct.push(V,_r,Jr,Jr+1)}}else le=GD(I,c,jt,le);const kn=I.outputs;let Zn;if(On&&null!==kn&&(Zn=kn[V])){const pr=Zn.length;if(pr)for(let Br=0;Br<pr;Br+=2){const Hs=c[Zn[Br]][Zn[Br+1]].subscribe(le),kc=hn.length;hn.push(le,Hs),Ct&&Ct.push(V,I.index,kc,-(kc+1))}}}function WD(o,c,g,I){const V=O(null);try{return Rl(6,c,g),!1!==g(I)}catch(le){return Dw(o,le),!1}finally{Rl(7,c,g),O(V)}}function GD(o,c,g,I){return function V(le){if(le===Function)return I;Ow(o.componentOffset>-1?Bl(o.index,c):c,5);let Le=WD(c,g,I,le),it=V.__ngNextListenerFn__;for(;it;)Le=WD(c,g,it,le)&&Le,it=it.__ngNextListenerFn__;return Le}}function JD(o=1){return function Tk(o){return(uo.lFrame.contextLView=function aS(o,c){for(;o>0;)c=c[Xf],o--;return c}(o,uo.lFrame.contextLView))[la]}(o)}function L5(o,c){let g=null;const I=function O1(o){const c=o.attrs;if(null!=c){const g=c.indexOf(5);if(!(1&g))return c[g+1]}return null}(o);for(let V=0;V<c.length;V++){const le=c[V];if("*"!==le){if(null===I?Y0(o,le,!0):ny(I,le))return V}else g=V}return g}function xx(o){const c=mr()[Pa][sd];if(!c.projection){const I=c.projection=function $t(o,c){const g=[];for(let I=0;I<o;I++)g.push(c);return g}(o?o.length:1,null),V=I.slice();let le=c.child;for(;null!==le;){if(128!==le.type){const Se=o?L5(le,o):0;null!==Se&&(V[Se]?V[Se].projectionNext=le:I[Se]=le,V[Se]=le)}le=le.next}}}function XD(o,c=0,g,I,V,le){const Se=mr(),Le=$o(),it=I?o+1:null;null!==it&&av(Se,Le,it,I,V,le,null,g);const Ct=ep(Le,Si+o,16,null,g||null);null===Ct.projection&&(Ct.projection=c),ff();const hn=!Se[ad]||Wp();null===Se[Pa][sd].projection[Ct.projection]&&null!==it?function K5(o,c,g){const I=Si+g,V=c.data[I],le=o[I],Se=rp(le,V.tView.ssrId);np(le,My(o,V,void 0,{dehydratedView:Se}),0,ch(V,Se))}(Se,Le,it):hn&&32&~Ct.flags&&function $3(o,c,g){jT(c[lo],0,c,g,ww(o,g,c),rm(g.parent||c[sd],g,c))}(Le,Se,Ct)}function Mx(o,c,g){return Pm(o,"",c,"",g),Mx}function Pm(o,c,g,I,V){const le=mr(),Se=Cf(le,c,g,I);return Se!==vo&&Ul($o(),Fs(),le,o,Se,le[lo],V,!1),Pm}function Ax(o,c,g,I){am(o,c,g,I)}function ZD(o,c,g){sp(o,c,g)}function Dx(o){const c=mr(),g=$o(),I=Y1();Sb(I+1);const V=O2(g,I);if(o.dirty&&function cg(o){return!(4&~o[Oi])}(c)===!(2&~V.metadata.flags)){if(null===V.matches)o.reset([]);else{const le=qw(c,I);o.reset(le,NS),o.notifyOnChanges()}return!0}return!1}function bp(){return Gi(mr(),Y1())}function w0(o,c,g,I,V){js(c,am(o,g,I,V))}function qD(o,c,g,I){js(o,sp(c,g,I))}function F_(o=1){Sb(Y1()+o)}function QD(o){return Hp(function wk(){return uo.lFrame.contextLView}(),Si+o)}function Px(o,c=""){const g=mr(),I=$o(),V=o+Si,le=I.firstCreatePass?ep(I,V,1,c,null):I.data[V],Se=Ah(I,g,le,c,o);g[V]=Se,fg()&&_y(I,g,Se,le),uf(le,!1)}let Ah=(o,c,g,I,V)=>(hf(!0),tm(c[lo],I));function gs(o){return $_("",o,""),gs}function $_(o,c,g){const I=mr(),V=Cf(I,o,c,g);return V!==vo&&iu(I,dd(),V),$_}function Ox(o,c,g,I,V){const le=mr(),Se=wm(le,o,c,g,I,V);return Se!==vo&&iu(le,dd(),Se),Ox}function Nx(o,c,g){iv(c)&&(c=c());const I=mr();return ua(I,tu(),c)&&Ul($o(),Fs(),I,o,c,I[lo],g,!1),Nx}function sI(o,c){const g=iv(o);return g&&o.set(c),g}function z_(o,c){const g=mr(),I=$o(),V=Ks();return Ex(I,g,g[lo],V,o,c),z_}function yc(o,c,g,I,V){if(o=Lt(o),Array.isArray(o))for(let le=0;le<o.length;le++)yc(o[le],c,g,I,V);else{const le=$o(),Se=mr(),Le=Ks();let it=Zl(o)?o:Lt(o.provide);const Ct=XC(o),jt=1048575&Le.providerIndexes,hn=Le.directiveStart,On=Le.providerIndexes>>20;if(Zl(o)||!o.multi){const kn=new pg(Ct,V,Qh),Zn=hl(it,c,V?jt:jt+On,hn);-1===Zn?(gg(yg(Le,Se),le,it),H_(le,o,c.length),c.push(it),Le.directiveStart++,Le.directiveEnd++,V&&(Le.providerIndexes+=1048576),g.push(kn),Se.push(kn)):(g[Zn]=kn,Se[Zn]=kn)}else{const kn=hl(it,c,jt+On,hn),Zn=hl(it,c,jt,jt+On),Br=Zn>=0&&g[Zn];if(V&&!Br||!V&&!(kn>=0&&g[kn])){gg(yg(Le,Se),le,it);const Jr=function W_(o,c,g,I,V){const le=new pg(o,g,Qh);return le.multi=[],le.index=c,le.componentProviders=0,dI(le,V,I&&!g),le}(V?z5:V5,g.length,V,I,Ct);!V&&Br&&(g[Zn].providerFactory=Jr),H_(le,o,c.length,0),c.push(it),Le.directiveStart++,Le.directiveEnd++,V&&(Le.providerIndexes+=1048576),g.push(Jr),Se.push(Jr)}else H_(le,o,kn>-1?kn:Zn,dI(g[V?Zn:kn],Ct,!V&&I));!V&&I&&Br&&g[Zn].componentProviders++}}}function H_(o,c,g,I){const V=Zl(c),le=function GC(o){return!!o.useClass}(c);if(V||le){const it=(le?Lt(c.useClass):c).prototype.ngOnDestroy;if(it){const Ct=o.destroyHooks||(o.destroyHooks=[]);if(!V&&c.multi){const jt=Ct.indexOf(g);-1===jt?Ct.push(g,[I,it]):Ct[jt+1].push(I,it)}else Ct.push(g,it)}}}function dI(o,c,g){return g&&o.componentProviders++,o.multi.push(c)-1}function hl(o,c,g,I){for(let V=g;V<I;V++)if(c[V]===o)return V;return-1}function V5(o,c,g,I){return Lv(this.multi,[])}function z5(o,c,g,I){const V=this.multi;let le;if(this.providerFactory){const Se=this.providerFactory.componentProviders,Le=Jp(g,g[Vr],this.providerFactory.index,I);le=Le.slice(0,Se),Lv(V,le);for(let it=Se;it<Le.length;it++)le.push(Le[it])}else le=[],Lv(V,le);return le}function Lv(o,c){for(let g=0;g<o.length;g++)c.push((0,o[g])());return c}function xs(o,c=[]){return g=>{g.providersResolver=(I,V)=>function T0(o,c,g){const I=$o();if(I.firstCreatePass){const V=Pu(o);yc(g,I.data,I.blueprint,V,!0),yc(c,I.data,I.blueprint,V,!1)}}(I,V?V(o):o,c)}}let Ux=(()=>{class o{constructor(g){this._injector=g,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(g){if(!g.standalone)return null;if(!this.cachedInjectors.has(g)){const I=od(0,g.type),V=I.length>0?Ky([I],this._injector,`Standalone[${g.type.name}]`):null;this.cachedInjectors.set(g,V)}return this.cachedInjectors.get(g)}ngOnDestroy(){try{for(const g of this.cachedInjectors.values())null!==g&&g.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Eo({token:o,providedIn:"environment",factory:()=>new o(vt(wc))})}return o})();function Rm(o){al("NgStandalone"),o.getStandaloneInjector=c=>c.get(Ux).getOrCreateStandaloneInjector(o)}function Fv(o,c,g){const I=Kd()+o,V=mr();return V[I]===vo?Af(V,I,g?c.call(g):c()):function As(o,c){return o[c]}(V,I)}function wp(o,c,g,I){return J_(mr(),Kd(),o,c,g,I)}function Lx(o,c,g,I,V){return A0(mr(),Kd(),o,c,g,I,V)}function Bm(o,c){const g=o[c];return g===vo?void 0:g}function J_(o,c,g,I,V,le){const Se=c+g;return ua(o,Se,V)?Af(o,Se+1,le?I.call(le,V):I(V)):Bm(o,Se+1)}function A0(o,c,g,I,V,le,Se){const Le=c+g;return Wd(o,Le,V,le)?Af(o,Le+2,Se?I.call(Se,V,le):I(V,le)):Bm(o,Le+2)}function Ep(o,c){const g=$o();let I;const V=o+Si;g.firstCreatePass?(I=function X_(o,c){if(c)for(let g=c.length-1;g>=0;g--){const I=c[g];if(o===I.name)return I}}(c,g.pipeRegistry),g.data[V]=I,I.onDestroy&&(g.destroyHooks??=[]).push(V,I.onDestroy)):I=g.data[V];const le=I.factory||(I.factory=ie(I.type)),Le=Or(Qh);try{const it=Qo(!1),Ct=le();return Qo(it),function Ix(o,c,g,I){g>=o.data.length&&(o.data[g]=null,o.blueprint[g]=null),c[g]=I}(g,mr(),V,Ct),Ct}finally{Or(Le)}}function Ki(o,c,g){const I=o+Si,V=mr(),le=Hp(V,I);return D0(V,I)?J_(V,Kd(),c,le.transform,g,le):le.transform(g)}function Fi(o,c,g,I){const V=o+Si,le=mr(),Se=Hp(le,V);return D0(le,V)?A0(le,Kd(),c,Se.transform,g,I,Se):Se.transform(g,I)}function D0(o,c){return o[Vr].data[c].pure}function Y_(o,c){return Rw(o,c)}class e1{constructor(c){this.full=c;const g=c.split(".");this.major=g[0],this.minor=g[1],this.patch=g.slice(2).join(".")}}let oP=(()=>{class o{log(g){console.log(g)}warn(g){console.warn(g)}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=Eo({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const hP=new Ui(""),o1=new Ui("");let Yx,TR=(()=>{class o{constructor(g,I,V){this._ngZone=g,this.registry=I,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Yx||(function Km(o){Yx=o}(V),V.addToWindow(I)),this._watchAngularEvents(),g.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ea.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let g=this._callbacks.pop();clearTimeout(g.timeoutId),g.doneCb()}});else{let g=this.getPendingTasks();this._callbacks=this._callbacks.filter(I=>!I.updateCb||!I.updateCb(g)||(clearTimeout(I.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(g=>({source:g.source,creationLocation:g.creationLocation,data:g.data})):[]}addCallback(g,I,V){let le=-1;I&&I>0&&(le=setTimeout(()=>{this._callbacks=this._callbacks.filter(Se=>Se.timeoutId!==le),g()},I)),this._callbacks.push({doneCb:g,timeoutId:le,updateCb:V})}whenStable(g,I,V){if(V&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(g,I,V),this._runCallbacksIfReady()}registerApplication(g){this.registry.registerApplication(g,this)}unregisterApplication(g){this.registry.unregisterApplication(g)}findProviders(g,I,V){return[]}static#e=this.\u0275fac=function(I){return new(I||o)(vt(Ea),vt(MI),vt(o1))};static#t=this.\u0275prov=Eo({token:o,factory:o.\u0275fac})}return o})(),MI=(()=>{class o{constructor(){this._applications=new Map}registerApplication(g,I){this._applications.set(g,I)}unregisterApplication(g){this._applications.delete(g)}unregisterAllApplications(){this._applications.clear()}getTestability(g){return this._applications.get(g)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(g,I=!0){return Yx?.findTestabilityInTree(this,g,I)??null}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=Eo({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function SI(o){return!!o&&"function"==typeof o.then}function Ch(o){return!!o&&"function"==typeof o.subscribe}const TI=new Ui("");let kh=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,I)=>{this.resolve=g,this.reject=I}),this.appInits=yn(TI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const g=[];for(const V of this.appInits){const le=V();if(SI(le))g.push(le);else if(Ch(le)){const Se=new Promise((Le,it)=>{le.subscribe({complete:Le,error:it})});g.push(Se)}}const I=()=>{this.done=!0,this.resolve()};Promise.all(g).then(()=>{I()}).catch(V=>{this.reject(V)}),0===g.length&&I(),this.initialized=!0}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=Eo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Sc=new Ui("");let ai=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=yn(PS),this.afterRenderEffectManager=yn(Jg),this.zonelessEnabled=yn(lc),this.externalTestViews=new Set,this.beforeRender=new ge.B,this.afterTick=new ge.B,this.componentTypes=[],this.components=[],this.isStable=yn(Xp).hasPendingTasks.pipe((0,te.T)(g=>!g)),this._injector=yn(wc)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(g,I){const V=g instanceof ky;if(!this._injector.get(kh).done)throw!V&&or(g),new Ir(405,!1);let Se;Se=V?g:this._injector.get($w).resolveComponentFactory(g),this.componentTypes.push(Se.componentType);const Le=function pP(o){return o.isBoundToModule}(Se)?void 0:this._injector.get(cp),Ct=Se.create(Fc.NULL,[],I||Se.selector,Le),jt=Ct.location.nativeElement,hn=Ct.injector.get(hP,null);return hn?.registerApplication(jt),Ct.onDestroy(()=>{this.detachView(Ct.hostView),R0(this.components,Ct),hn?.unregisterApplication(jt)}),this._loadComponent(Ct),Ct}tick(){this._tick(!0)}_tick(g){if(this._runningTick)throw new Ir(101,!1);const I=O(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(g)}catch(V){this.internalErrorHandler(V)}finally{this._runningTick=!1,O(I),this.afterTick.next()}}detectChangesInAttachedViews(g){let I=null;this._injector.destroyed||(I=this._injector.get(OA,null,{optional:!0}));let V=0;const le=this.afterRenderEffectManager;for(;V<10;){const Se=0===V;if(g||!Se){this.beforeRender.next(Se);for(let{_lView:Le,notifyErrorHandler:it}of this._views)kI(Le,it,Se,this.zonelessEnabled)}else I?.begin?.(),I?.end?.();if(V++,le.executeInternalCallbacks(),!this.allViews.some(({_lView:Le})=>dg(Le))&&(le.execute(),!this.allViews.some(({_lView:Le})=>dg(Le))))break}}attachView(g){const I=g;this._views.push(I),I.attachToAppRef(this)}detachView(g){const I=g;R0(this._views,I),I.detachFromAppRef()}_loadComponent(g){this.attachView(g.hostView),this.tick(),this.components.push(g);const I=this._injector.get(Sc,[]);[...this._bootstrapListeners,...I].forEach(V=>V(g))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(g=>g()),this._views.slice().forEach(g=>g.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(g){return this._destroyListeners.push(g),()=>R0(this._destroyListeners,g)}destroy(){if(this._destroyed)throw new Ir(406,!1);const g=this._injector;g.destroy&&!g.destroyed&&g.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=Eo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function R0(o,c){const g=o.indexOf(c);g>-1&&o.splice(g,1)}function kI(o,c,g,I){(g||dg(o))&&Sy(o,c,g&&!I?0:1)}class PI{constructor(c,g){this.ngModuleFactory=c,this.componentFactories=g}}let yP=(()=>{class o{compileModuleSync(g){return new Ed(g)}compileModuleAsync(g){return Promise.resolve(this.compileModuleSync(g))}compileModuleAndAllComponentsSync(g){const I=this.compileModuleSync(g),le=sl($n(g).declarations).reduce((Se,Le)=>{const it=Pt(Le);return it&&Se.push(new Zw(it)),Se},[]);return new PI(I,le)}compileModuleAndAllComponentsAsync(g){return Promise.resolve(this.compileModuleAndAllComponentsSync(g))}clearCache(){}clearCacheFor(g){}getModuleId(g){}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=Eo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),bP=(()=>{class o{constructor(){this.zone=yn(Ea),this.changeDetectionScheduler=yn(dh),this.applicationRef=yn(ai)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=Eo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const wP=new Ui("",{factory:()=>!1});function OI({ngZoneFactory:o,ignoreChangesOutsideZone:c}){return o??=()=>new Ea(a1()),[{provide:Ea,useFactory:o},{provide:Qr,multi:!0,useFactory:()=>{const g=yn(bP,{optional:!0});return()=>g.initialize()}},{provide:Qr,multi:!0,useFactory:()=>{const g=yn(EP);return()=>{g.initialize()}}},{provide:PS,useFactory:IR},!0===c?{provide:kA,useValue:!0}:[]]}function IR(){const o=yn(Ea),c=yn(nu);return g=>o.runOutsideAngular(()=>c.handleError(g))}function _P(o){const c=o?.ignoreChangesOutsideZone,g=OI({ngZoneFactory:()=>{const I=a1(o);return I.shouldCoalesceEventChangeDetection&&al("NgZone_CoalesceEvent"),new Ea(I)},ignoreChangesOutsideZone:c});return rs([{provide:wP,useValue:!0},{provide:lc,useValue:!1},g])}function a1(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}let EP=(()=>{class o{constructor(){this.subscription=new me.yU,this.initialized=!1,this.zone=yn(Ea),this.pendingTasks=yn(Xp)}initialize(){if(this.initialized)return;this.initialized=!0;let g=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(g=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ea.assertNotInAngularZone(),queueMicrotask(()=>{null!==g&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(g),g=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ea.assertInAngularZone(),g??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=Eo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Ph=(()=>{class o{constructor(){this.appRef=yn(ai),this.taskService=yn(Xp),this.ngZone=yn(Ea),this.zonelessEnabled=yn(lc),this.disableScheduling=yn(kA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new me.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof w2||!this.zoneIsDefined)}notify(g){if(!this.zonelessEnabled&&5===g)return;switch(g){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const I=this.useMicrotaskScheduler?UA:NA;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=I(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=I(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ea.isInAngularZone())}tick(g){if(this.runningTick||this.appRef.destroyed)return;const I=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(g)},void 0,this.schedulerTickApplyArgs)}catch(V){throw this.taskService.remove(I),V}finally{this.cleanup()}this.useMicrotaskScheduler=!0,UA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(I)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const g=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(g)}}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=Eo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Sp=new Ui("",{providedIn:"root",factory:()=>yn(Sp,oo.Optional|oo.SkipSelf)||function qx(){return typeof $localize<"u"&&$localize.locale||fu}()}),MP=new Ui("",{providedIn:"root",factory:()=>"USD"}),zl=new Ui("");let jm=null;function UI(){return!1}let KI=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Tp}return o})();function Tp(o){return function l1(o,c,g){if(Vp(o)&&!g){const I=Bl(o.index,c);return new Kg(I,I)}return 175&o.type?new Kg(c[Pa],c):null}(Ks(),mr(),!(16&~o))}class $I{constructor(){}supports(c){return lp(c)}create(c){return new Rh(c)}}const RP=(o,c)=>c;class Rh{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||RP}forEachItem(c){let g;for(g=this._itHead;null!==g;g=g._next)c(g)}forEachOperation(c){let g=this._itHead,I=this._removalsHead,V=0,le=null;for(;g||I;){const Se=!I||g&&g.currentIndex<zI(I,V,le)?g:I,Le=zI(Se,V,le),it=Se.currentIndex;if(Se===I)V--,I=I._nextRemoved;else if(g=g._next,null==Se.previousIndex)V++;else{le||(le=[]);const Ct=Le-V,jt=it-V;if(Ct!=jt){for(let On=0;On<Ct;On++){const kn=On<le.length?le[On]:le[On]=0,Zn=kn+On;jt<=Zn&&Zn<Ct&&(le[On]=kn+1)}le[Se.previousIndex]=jt-Ct}}Le!==it&&c(Se,Le,it)}}forEachPreviousItem(c){let g;for(g=this._previousItHead;null!==g;g=g._nextPrevious)c(g)}forEachAddedItem(c){let g;for(g=this._additionsHead;null!==g;g=g._nextAdded)c(g)}forEachMovedItem(c){let g;for(g=this._movesHead;null!==g;g=g._nextMoved)c(g)}forEachRemovedItem(c){let g;for(g=this._removalsHead;null!==g;g=g._nextRemoved)c(g)}forEachIdentityChange(c){let g;for(g=this._identityChangesHead;null!==g;g=g._nextIdentityChange)c(g)}diff(c){if(null==c&&(c=[]),!lp(c))throw new Ir(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let V,le,Se,g=this._itHead,I=!1;if(Array.isArray(c)){this.length=c.length;for(let Le=0;Le<this.length;Le++)le=c[Le],Se=this._trackByFn(Le,le),null!==g&&Object.is(g.trackById,Se)?(I&&(g=this._verifyReinsertion(g,le,Se,Le)),Object.is(g.item,le)||this._addIdentityChange(g,le)):(g=this._mismatch(g,le,Se,Le),I=!0),g=g._next}else V=0,function $c(o,c){if(Array.isArray(o))for(let g=0;g<o.length;g++)c(o[g]);else{const g=o[Symbol.iterator]();let I;for(;!(I=g.next()).done;)c(I.value)}}(c,Le=>{Se=this._trackByFn(V,Le),null!==g&&Object.is(g.trackById,Se)?(I&&(g=this._verifyReinsertion(g,Le,Se,V)),Object.is(g.item,Le)||this._addIdentityChange(g,Le)):(g=this._mismatch(g,Le,Se,V),I=!0),g=g._next,V++}),this.length=V;return this._truncate(g),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,g,I,V){let le;return null===c?le=this._itTail:(le=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(I,null))?(Object.is(c.item,g)||this._addIdentityChange(c,g),this._reinsertAfter(c,le,V)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(I,V))?(Object.is(c.item,g)||this._addIdentityChange(c,g),this._moveAfter(c,le,V)):c=this._addAfter(new OR(g,I),le,V),c}_verifyReinsertion(c,g,I,V){let le=null===this._unlinkedRecords?null:this._unlinkedRecords.get(I,null);return null!==le?c=this._reinsertAfter(le,c._prev,V):c.currentIndex!=V&&(c.currentIndex=V,this._addToMoves(c,V)),c}_truncate(c){for(;null!==c;){const g=c._next;this._addToRemovals(this._unlink(c)),c=g}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,g,I){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const V=c._prevRemoved,le=c._nextRemoved;return null===V?this._removalsHead=le:V._nextRemoved=le,null===le?this._removalsTail=V:le._prevRemoved=V,this._insertAfter(c,g,I),this._addToMoves(c,I),c}_moveAfter(c,g,I){return this._unlink(c),this._insertAfter(c,g,I),this._addToMoves(c,I),c}_addAfter(c,g,I){return this._insertAfter(c,g,I),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,g,I){const V=null===g?this._itHead:g._next;return c._next=V,c._prev=g,null===V?this._itTail=c:V._prev=c,null===g?this._itHead=c:g._next=c,null===this._linkedRecords&&(this._linkedRecords=new VI),this._linkedRecords.put(c),c.currentIndex=I,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const g=c._prev,I=c._next;return null===g?this._itHead=I:g._next=I,null===I?this._itTail=g:I._prev=g,c}_addToMoves(c,g){return c.previousIndex===g||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VI),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,g){return c.item=g,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class OR{constructor(c,g){this.item=c,this.trackById=g,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RR{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,g){let I;for(I=this._head;null!==I;I=I._nextDup)if((null===g||g<=I.currentIndex)&&Object.is(I.trackById,c))return I;return null}remove(c){const g=c._prevDup,I=c._nextDup;return null===g?this._head=I:g._nextDup=I,null===I?this._tail=g:I._prevDup=g,null===this._head}}class VI{constructor(){this.map=new Map}put(c){const g=c.trackById;let I=this.map.get(g);I||(I=new RR,this.map.set(g,I)),I.add(c)}get(c,g){const V=this.map.get(c);return V?V.get(c,g):null}remove(c){const g=c.trackById;return this.map.get(g).remove(c)&&this.map.delete(g),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zI(o,c,g){const I=o.previousIndex;if(null===I)return I;let V=0;return g&&I<g.length&&(V=g[I]),I+c+V}class HI{constructor(){}supports(c){return c instanceof Map||F2(c)}create(){return new BP}}class BP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let g;for(g=this._mapHead;null!==g;g=g._next)c(g)}forEachPreviousItem(c){let g;for(g=this._previousMapHead;null!==g;g=g._nextPrevious)c(g)}forEachChangedItem(c){let g;for(g=this._changesHead;null!==g;g=g._nextChanged)c(g)}forEachAddedItem(c){let g;for(g=this._additionsHead;null!==g;g=g._nextAdded)c(g)}forEachRemovedItem(c){let g;for(g=this._removalsHead;null!==g;g=g._nextRemoved)c(g)}diff(c){if(c){if(!(c instanceof Map||F2(c)))throw new Ir(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let g=this._mapHead;if(this._appendAfter=null,this._forEach(c,(I,V)=>{if(g&&g.key===V)this._maybeAddToChanges(g,I),this._appendAfter=g,g=g._next;else{const le=this._getOrCreateRecordForKey(V,I);g=this._insertBeforeOrAppend(g,le)}}),g){g._prev&&(g._prev._next=null),this._removalsHead=g;for(let I=g;null!==I;I=I._nextRemoved)I===this._mapHead&&(this._mapHead=null),this._records.delete(I.key),I._nextRemoved=I._next,I.previousValue=I.currentValue,I.currentValue=null,I._prev=null,I._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,g){if(c){const I=c._prev;return g._next=c,g._prev=I,c._prev=g,I&&(I._next=g),c===this._mapHead&&(this._mapHead=g),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=g,g._prev=this._appendAfter):this._mapHead=g,this._appendAfter=g,null}_getOrCreateRecordForKey(c,g){if(this._records.has(c)){const V=this._records.get(c);this._maybeAddToChanges(V,g);const le=V._prev,Se=V._next;return le&&(le._next=Se),Se&&(Se._prev=le),V._next=null,V._prev=null,V}const I=new NP(c);return this._records.set(c,I),I.currentValue=g,this._addToAdditions(I),I}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,g){Object.is(g,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=g,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,g){c instanceof Map?c.forEach(g):Object.keys(c).forEach(I=>g(c[I],I))}}class NP{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oM(){return new sM([new $I])}let sM=(()=>{class o{static#e=this.\u0275prov=Eo({token:o,providedIn:"root",factory:oM});constructor(g){this.factories=g}static create(g,I){if(null!=I){const V=I.factories.slice();g=g.concat(V)}return new o(g)}static extend(g){return{provide:o,useFactory:I=>o.create(g,I||oM()),deps:[[o,new Mn,new Mt]]}}find(g){const I=this.factories.find(V=>V.supports(g));if(null!=I)return I;throw new Ir(901,!1)}}return o})();function f1(){return new aM([new HI])}let aM=(()=>{class o{static#e=this.\u0275prov=Eo({token:o,providedIn:"root",factory:f1});constructor(g){this.factories=g}static create(g,I){if(I){const V=I.factories.slice();g=g.concat(V)}return new o(g)}static extend(g){return{provide:o,useFactory:I=>o.create(g,I||f1()),deps:[[o,new Mn,new Mt]]}}find(g){const I=this.factories.find(V=>V.supports(g));if(I)return I;throw new Ir(901,!1)}}return o})();function yM(o){try{const{rootComponent:c,appProviders:g,platformProviders:I}=o,V=function NI(o=[]){if(jm)return jm;const c=function BI(o=[],c){return Fc.create({name:c,providers:[{provide:U1,useValue:"platform"},{provide:zl,useValue:new Set([()=>jm=null])},...o]})}(o);return jm=c,function AI(){!function x(o){D=o}(()=>{throw new Ir(600,!1)})}(),function B0(o){o.get(Zb,null)?.forEach(g=>g())}(c),c}(I),le=[OI({}),{provide:dh,useExisting:Ph},...g||[]],Le=new dp({providers:le,parent:V,debugName:"",runEnvironmentInitializers:!1}).injector,it=Le.get(Ea);return it.run(()=>{Le.resolveInjectorInitializers();const Ct=Le.get(nu,null);let jt;it.runOutsideAngular(()=>{jt=it.onError.subscribe({next:kn=>{Ct.handleError(kn)}})});const hn=()=>Le.destroy(),On=V.get(zl);return On.add(hn),Le.onDestroy(()=>{jt.unsubscribe(),On.delete(hn)}),function DI(o,c,g){try{const I=g();return SI(I)?I.catch(V=>{throw c.runOutsideAngular(()=>o.handleError(V)),V}):I}catch(I){throw c.runOutsideAngular(()=>o.handleError(I)),I}}(Ct,it,()=>{const kn=Le.get(kh);return kn.runInitializers(),kn.donePromise.then(()=>{!function Xu(o){"string"==typeof o&&(Nf=o.toLowerCase().replace(/_/g,"-"))}(Le.get(Sp,fu)||fu);const pr=Le.get(ai);return void 0!==c&&pr.bootstrap(c),pr})})})}catch(c){return Promise.reject(c)}}const QI=new Ui("");function E1(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function bM(o,c=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?c:Number(o)}function pC(o,c){al("NgSignals");const g=C(o);return c?.equal&&(g[w].equal=c.equal),g}function lO(o){const c=O(null);try{return o()}finally{O(c)}}const mC=new Ui("",{providedIn:"root",factory:()=>yn(EM)});let EM=(()=>{class o{static#e=this.\u0275prov=Eo({token:o,providedIn:"root",factory:()=>new uO})}return o})();class uO{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=yn(Xp),this.taskId=null}scheduleEffect(c){if(this.enqueue(c),null===this.taskId){const g=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(g),this.taskId=null})}}enqueue(c){const g=c.creationZone;this.queues.has(g)||this.queues.set(g,new Set);const I=this.queues.get(g);I.has(c)||(this.queuedEffectCount++,I.add(c))}flush(){for(;this.queuedEffectCount>0;)for(const[c,g]of this.queues)null===c?this.flushQueue(g):c.run(()=>this.flushQueue(g))}flushQueue(c){for(const g of c)c.delete(g),this.queuedEffectCount--,g.run()}}class fO{constructor(c,g,I,V,le,Se){this.scheduler=c,this.effectFn=g,this.creationZone=I,this.injector=le,this.watcher=function Ee(o,c,g){const I=Object.create(Fe);g&&(I.consumerAllowSignalWrites=!0),I.fn=o,I.schedule=c;const V=it=>{I.cleanupFn=it};return I.ref={notify:()=>q(I),run:()=>{if(null===I.fn)return;if(function B(){return P}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(I.dirty=!1,I.hasRun&&!se(I))return;I.hasRun=!0;const it=Z(I);try{I.cleanupFn(),I.cleanupFn=_e,I.fn(V)}finally{J(I,it)}},cleanup:()=>I.cleanupFn(),destroy:()=>function Se(it){(function le(it){return null===it.fn&&null===it.schedule})(it)||(ce(it),it.cleanupFn(),it.fn=null,it.schedule=null,it.cleanupFn=_e)}(I),[w]:I},I.ref}(Le=>this.runEffect(Le),()=>this.schedule(),Se),this.unregisterOnDestroy=V?.onDestroy(()=>this.destroy())}runEffect(c){try{this.effectFn(c)}catch(g){this.injector.get(nu,null,{optional:!0})?.handleError(g)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function yC(o,c){al("NgSignals"),!c?.injector&&Q0();const g=c?.injector??yn(Fc),I=!0!==c?.manualCleanup?g.get(bg):null,V=new fO(g.get(mC),o,typeof Zone>"u"?null:Zone.current,I,g,c?.allowSignalWrites??!1),le=g.get(KI,null,{optional:!0});return le&&8&le._lView[Oi]?(le._lView[vb]??=[]).push(V.watcher.notify):V.watcher.notify(),V}function XR(o,c){const g=Pt(o),I=c.elementInjector||yb();return new Zw(g).create(I,c.projectableNodes,c.hostElement,c.environmentInjector)}function hO(o){const c=Pt(o);if(!c)return null;const g=new Zw(c);return{get selector(){return g.selector},get type(){return g.componentType},get inputs(){return g.inputs},get outputs(){return g.outputs},get ngContentSelectors(){return g.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},89417:(Je,j,_)=>{"use strict";_.d(j,{BC:()=>ue,JD:()=>Oc,MJ:()=>pi,X1:()=>Os,YN:()=>oc,cV:()=>ho,cb:()=>De,cz:()=>J,j4:()=>rc,k0:()=>ae,kq:()=>N,l_:()=>nc,me:()=>ee,ok:()=>Qn,qT:()=>ns,tU:()=>Da,v8:()=>Aa,vO:()=>ge,vS:()=>ps,xq:()=>va});var y=_(93953),b=_(60177),P=_(86648),H=_(27468),w=_(21413),O=_(96354);let S=(()=>{class Rt{constructor(gt,an){this._renderer=gt,this._elementRef=an,this.onChange=Bn=>{},this.onTouched=()=>{}}setProperty(gt,an){this._renderer.setProperty(this._elementRef.nativeElement,gt,an)}registerOnTouched(gt){this.onTouched=gt}registerOnChange(gt){this.onChange=gt}setDisabledState(gt){this.setProperty("disabled",gt)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(y.sFG),y.rXU(y.aKT))};static#t=this.\u0275dir=y.FsC({type:Rt})}return Rt})(),B=(()=>{class Rt extends S{static#e=this.\u0275fac=(()=>{let gt;return function(Bn){return(gt||(gt=y.xGo(Rt)))(Bn||Rt)}})();static#t=this.\u0275dir=y.FsC({type:Rt,features:[y.Vt3]})}return Rt})();const N=new y.nKC(""),G={provide:N,useExisting:(0,y.Rfq)(()=>ee),multi:!0},z=new y.nKC("");let ee=(()=>{class Rt extends S{constructor(gt,an,Bn){super(gt,an),this._compositionMode=Bn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function L(){const Rt=(0,b.QT)()?(0,b.QT)().getUserAgent():"";return/android (\d+)/.test(Rt.toLowerCase())}())}writeValue(gt){this.setProperty("value",gt??"")}_handleInput(gt){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(gt)}_compositionStart(){this._composing=!0}_compositionEnd(gt){this._composing=!1,this._compositionMode&&this.onChange(gt)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(y.sFG),y.rXU(y.aKT),y.rXU(z,8))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(an,Bn){1&an&&y.bIt("input",function(co){return Bn._handleInput(co.target.value)})("blur",function(){return Bn.onTouched()})("compositionstart",function(){return Bn._compositionStart()})("compositionend",function(co){return Bn._compositionEnd(co.target.value)})},features:[y.Jv_([G]),y.Vt3]})}return Rt})();function q(Rt){return null==Rt||("string"==typeof Rt||Array.isArray(Rt))&&0===Rt.length}function Z(Rt){return null!=Rt&&"number"==typeof Rt.length}const J=new y.nKC(""),se=new y.nKC(""),ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(kt){return function fe(Rt){return kt=>{if(q(kt.value)||q(Rt))return null;const gt=parseFloat(kt.value);return!isNaN(gt)&&gt<Rt?{min:{min:Rt,actual:kt.value}}:null}}(kt)}static max(kt){return function he(Rt){return kt=>{if(q(kt.value)||q(Rt))return null;const gt=parseFloat(kt.value);return!isNaN(gt)&&gt>Rt?{max:{max:Rt,actual:kt.value}}:null}}(kt)}static required(kt){return we(kt)}static requiredTrue(kt){return Me(kt)}static email(kt){return function Pe(Rt){return q(Rt.value)||ce.test(Rt.value)?null:{email:!0}}(kt)}static minLength(kt){return function C(Rt){return kt=>q(kt.value)||!Z(kt.value)?null:kt.value.length<Rt?{minlength:{requiredLength:Rt,actualLength:kt.value.length}}:null}(kt)}static maxLength(kt){return a(kt)}static pattern(kt){return function d(Rt){if(!Rt)return m;let kt,gt;return"string"==typeof Rt?(gt="","^"!==Rt.charAt(0)&&(gt+="^"),gt+=Rt,"$"!==Rt.charAt(Rt.length-1)&&(gt+="$"),kt=new RegExp(gt)):(gt=Rt.toString(),kt=Rt),an=>{if(q(an.value))return null;const Bn=an.value;return kt.test(Bn)?null:{pattern:{requiredPattern:gt,actualValue:Bn}}}}(kt)}static nullValidator(kt){return null}static compose(kt){return v(kt)}static composeAsync(kt){return F(kt)}}function we(Rt){return q(Rt.value)?{required:!0}:null}function Me(Rt){return!0===Rt.value?null:{required:!0}}function a(Rt){return kt=>Z(kt.value)&&kt.value.length>Rt?{maxlength:{requiredLength:Rt,actualLength:kt.value.length}}:null}function m(Rt){return null}function p(Rt){return null!=Rt}function E(Rt){return(0,y.jNT)(Rt)?(0,P.H)(Rt):Rt}function D(Rt){let kt={};return Rt.forEach(gt=>{kt=null!=gt?{...kt,...gt}:kt}),0===Object.keys(kt).length?null:kt}function R(Rt,kt){return kt.map(gt=>gt(Rt))}function s(Rt){return Rt.map(kt=>function x(Rt){return!Rt.validate}(kt)?kt:gt=>kt.validate(gt))}function v(Rt){if(!Rt)return null;const kt=Rt.filter(p);return 0==kt.length?null:function(gt){return D(R(gt,kt))}}function $(Rt){return null!=Rt?v(s(Rt)):null}function F(Rt){if(!Rt)return null;const kt=Rt.filter(p);return 0==kt.length?null:function(gt){const an=R(gt,kt).map(E);return(0,H.p)(an).pipe((0,O.T)(D))}}function Q(Rt){return null!=Rt?F(s(Rt)):null}function de(Rt,kt){return null===Rt?[kt]:Array.isArray(Rt)?[...Rt,kt]:[Rt,kt]}function Ce(Rt){return Rt._rawValidators}function Re(Rt){return Rt._rawAsyncValidators}function Ve(Rt){return Rt?Array.isArray(Rt)?Rt:[Rt]:[]}function Ee(Rt,kt){return Array.isArray(Rt)?Rt.includes(kt):Rt===kt}function _e(Rt,kt){const gt=Ve(kt);return Ve(Rt).forEach(Bn=>{Ee(gt,Bn)||gt.push(Bn)}),gt}function Fe(Rt,kt){return Ve(kt).filter(gt=>!Ee(Rt,gt))}class be{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(kt){this._rawValidators=kt||[],this._composedValidatorFn=$(this._rawValidators)}_setAsyncValidators(kt){this._rawAsyncValidators=kt||[],this._composedAsyncValidatorFn=Q(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(kt){this._onDestroyCallbacks.push(kt)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(kt=>kt()),this._onDestroyCallbacks=[]}reset(kt=void 0){this.control&&this.control.reset(kt)}hasError(kt,gt){return!!this.control&&this.control.hasError(kt,gt)}getError(kt,gt){return this.control?this.control.getError(kt,gt):null}}class Ae extends be{get formDirective(){return null}get path(){return null}}class ge extends be{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class me{constructor(kt){this._cd=kt}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let ue=(()=>{class Rt extends me{constructor(gt){super(gt)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(ge,2))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(an,Bn){2&an&&y.AVh("ng-untouched",Bn.isUntouched)("ng-touched",Bn.isTouched)("ng-pristine",Bn.isPristine)("ng-dirty",Bn.isDirty)("ng-valid",Bn.isValid)("ng-invalid",Bn.isInvalid)("ng-pending",Bn.isPending)},features:[y.Vt3]})}return Rt})(),De=(()=>{class Rt extends me{constructor(gt){super(gt)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(Ae,10))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(an,Bn){2&an&&y.AVh("ng-untouched",Bn.isUntouched)("ng-touched",Bn.isTouched)("ng-pristine",Bn.isPristine)("ng-dirty",Bn.isDirty)("ng-valid",Bn.isValid)("ng-invalid",Bn.isInvalid)("ng-pending",Bn.isPending)("ng-submitted",Bn.isSubmitted)},features:[y.Vt3]})}return Rt})();const rn="VALID",vn="INVALID",un="PENDING",sr="DISABLED";class Cn{}class cn extends Cn{constructor(kt,gt){super(),this.value=kt,this.source=gt}}class qt extends Cn{constructor(kt,gt){super(),this.pristine=kt,this.source=gt}}class bt extends Cn{constructor(kt,gt){super(),this.touched=kt,this.source=gt}}class ut extends Cn{constructor(kt,gt){super(),this.status=kt,this.source=gt}}class Gt extends Cn{constructor(kt){super(),this.source=kt}}class nn extends Cn{constructor(kt){super(),this.source=kt}}function pn(Rt){return(xt(Rt)?Rt.validators:Rt)||null}function yt(Rt,kt){return(xt(kt)?kt.asyncValidators:Rt)||null}function xt(Rt){return null!=Rt&&!Array.isArray(Rt)&&"object"==typeof Rt}function qe(Rt,kt,gt){const an=Rt.controls;if(!(kt?Object.keys(an):an).length)throw new y.wOt(1e3,"");if(!an[gt])throw new y.wOt(1001,"")}function tt(Rt,kt,gt){Rt._forEachChild((an,Bn)=>{if(void 0===gt[Bn])throw new y.wOt(1002,"")})}class Wt{constructor(kt,gt){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,y.EWP)(()=>this.statusReactive()),this.statusReactive=(0,y.vPA)(void 0),this._pristine=(0,y.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,y.vPA)(!0),this._touched=(0,y.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,y.vPA)(!1),this._events=new w.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(kt),this._assignAsyncValidators(gt)}get validator(){return this._composedValidatorFn}set validator(kt){this._rawValidators=this._composedValidatorFn=kt}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(kt){this._rawAsyncValidators=this._composedAsyncValidatorFn=kt}get parent(){return this._parent}get status(){return(0,y.O8t)(this.statusReactive)}set status(kt){(0,y.O8t)(()=>this.statusReactive.set(kt))}get valid(){return this.status===rn}get invalid(){return this.status===vn}get pending(){return this.status==un}get disabled(){return this.status===sr}get enabled(){return this.status!==sr}get pristine(){return(0,y.O8t)(this.pristineReactive)}set pristine(kt){(0,y.O8t)(()=>this.pristineReactive.set(kt))}get dirty(){return!this.pristine}get touched(){return(0,y.O8t)(this.touchedReactive)}set touched(kt){(0,y.O8t)(()=>this.touchedReactive.set(kt))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(kt){this._assignValidators(kt)}setAsyncValidators(kt){this._assignAsyncValidators(kt)}addValidators(kt){this.setValidators(_e(kt,this._rawValidators))}addAsyncValidators(kt){this.setAsyncValidators(_e(kt,this._rawAsyncValidators))}removeValidators(kt){this.setValidators(Fe(kt,this._rawValidators))}removeAsyncValidators(kt){this.setAsyncValidators(Fe(kt,this._rawAsyncValidators))}hasValidator(kt){return Ee(this._rawValidators,kt)}hasAsyncValidator(kt){return Ee(this._rawAsyncValidators,kt)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(kt={}){const gt=!1===this.touched;this.touched=!0;const an=kt.sourceControl??this;this._parent&&!kt.onlySelf&&this._parent.markAsTouched({...kt,sourceControl:an}),gt&&!1!==kt.emitEvent&&this._events.next(new bt(!0,an))}markAllAsTouched(kt={}){this.markAsTouched({onlySelf:!0,emitEvent:kt.emitEvent,sourceControl:this}),this._forEachChild(gt=>gt.markAllAsTouched(kt))}markAsUntouched(kt={}){const gt=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const an=kt.sourceControl??this;this._forEachChild(Bn=>{Bn.markAsUntouched({onlySelf:!0,emitEvent:kt.emitEvent,sourceControl:an})}),this._parent&&!kt.onlySelf&&this._parent._updateTouched(kt,an),gt&&!1!==kt.emitEvent&&this._events.next(new bt(!1,an))}markAsDirty(kt={}){const gt=!0===this.pristine;this.pristine=!1;const an=kt.sourceControl??this;this._parent&&!kt.onlySelf&&this._parent.markAsDirty({...kt,sourceControl:an}),gt&&!1!==kt.emitEvent&&this._events.next(new qt(!1,an))}markAsPristine(kt={}){const gt=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const an=kt.sourceControl??this;this._forEachChild(Bn=>{Bn.markAsPristine({onlySelf:!0,emitEvent:kt.emitEvent})}),this._parent&&!kt.onlySelf&&this._parent._updatePristine(kt,an),gt&&!1!==kt.emitEvent&&this._events.next(new qt(!0,an))}markAsPending(kt={}){this.status=un;const gt=kt.sourceControl??this;!1!==kt.emitEvent&&(this._events.next(new ut(this.status,gt)),this.statusChanges.emit(this.status)),this._parent&&!kt.onlySelf&&this._parent.markAsPending({...kt,sourceControl:gt})}disable(kt={}){const gt=this._parentMarkedDirty(kt.onlySelf);this.status=sr,this.errors=null,this._forEachChild(Bn=>{Bn.disable({...kt,onlySelf:!0})}),this._updateValue();const an=kt.sourceControl??this;!1!==kt.emitEvent&&(this._events.next(new cn(this.value,an)),this._events.next(new ut(this.status,an)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...kt,skipPristineCheck:gt},this),this._onDisabledChange.forEach(Bn=>Bn(!0))}enable(kt={}){const gt=this._parentMarkedDirty(kt.onlySelf);this.status=rn,this._forEachChild(an=>{an.enable({...kt,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:kt.emitEvent}),this._updateAncestors({...kt,skipPristineCheck:gt},this),this._onDisabledChange.forEach(an=>an(!1))}_updateAncestors(kt,gt){this._parent&&!kt.onlySelf&&(this._parent.updateValueAndValidity(kt),kt.skipPristineCheck||this._parent._updatePristine({},gt),this._parent._updateTouched({},gt))}setParent(kt){this._parent=kt}getRawValue(){return this.value}updateValueAndValidity(kt={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const an=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rn||this.status===un)&&this._runAsyncValidator(an,kt.emitEvent)}const gt=kt.sourceControl??this;!1!==kt.emitEvent&&(this._events.next(new cn(this.value,gt)),this._events.next(new ut(this.status,gt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!kt.onlySelf&&this._parent.updateValueAndValidity({...kt,sourceControl:gt})}_updateTreeValidity(kt={emitEvent:!0}){this._forEachChild(gt=>gt._updateTreeValidity(kt)),this.updateValueAndValidity({onlySelf:!0,emitEvent:kt.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sr:rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(kt,gt){if(this.asyncValidator){this.status=un,this._hasOwnPendingAsyncValidator={emitEvent:!1!==gt};const an=E(this.asyncValidator(this));this._asyncValidationSubscription=an.subscribe(Bn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Bn,{emitEvent:gt,shouldHaveEmitted:kt})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const kt=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,kt}return!1}setErrors(kt,gt={}){this.errors=kt,this._updateControlsErrors(!1!==gt.emitEvent,this,gt.shouldHaveEmitted)}get(kt){let gt=kt;return null==gt||(Array.isArray(gt)||(gt=gt.split(".")),0===gt.length)?null:gt.reduce((an,Bn)=>an&&an._find(Bn),this)}getError(kt,gt){const an=gt?this.get(gt):this;return an&&an.errors?an.errors[kt]:null}hasError(kt,gt){return!!this.getError(kt,gt)}get root(){let kt=this;for(;kt._parent;)kt=kt._parent;return kt}_updateControlsErrors(kt,gt,an){this.status=this._calculateStatus(),kt&&this.statusChanges.emit(this.status),(kt||an)&&this._events.next(new ut(this.status,gt)),this._parent&&this._parent._updateControlsErrors(kt,gt,an)}_initObservables(){this.valueChanges=new y.bkB,this.statusChanges=new y.bkB}_calculateStatus(){return this._allControlsDisabled()?sr:this.errors?vn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(un)?un:this._anyControlsHaveStatus(vn)?vn:rn}_anyControlsHaveStatus(kt){return this._anyControls(gt=>gt.status===kt)}_anyControlsDirty(){return this._anyControls(kt=>kt.dirty)}_anyControlsTouched(){return this._anyControls(kt=>kt.touched)}_updatePristine(kt,gt){const an=!this._anyControlsDirty(),Bn=this.pristine!==an;this.pristine=an,this._parent&&!kt.onlySelf&&this._parent._updatePristine(kt,gt),Bn&&this._events.next(new qt(this.pristine,gt))}_updateTouched(kt={},gt){this.touched=this._anyControlsTouched(),this._events.next(new bt(this.touched,gt)),this._parent&&!kt.onlySelf&&this._parent._updateTouched(kt,gt)}_registerOnCollectionChange(kt){this._onCollectionChange=kt}_setUpdateStrategy(kt){xt(kt)&&null!=kt.updateOn&&(this._updateOn=kt.updateOn)}_parentMarkedDirty(kt){return!kt&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(kt){return null}_assignValidators(kt){this._rawValidators=Array.isArray(kt)?kt.slice():kt,this._composedValidatorFn=function ur(Rt){return Array.isArray(Rt)?$(Rt):Rt||null}(this._rawValidators)}_assignAsyncValidators(kt){this._rawAsyncValidators=Array.isArray(kt)?kt.slice():kt,this._composedAsyncValidatorFn=function _t(Rt){return Array.isArray(Rt)?Q(Rt):Rt||null}(this._rawAsyncValidators)}}class Ft extends Wt{constructor(kt,gt,an){super(pn(gt),yt(an,gt)),this.controls=kt,this._initObservables(),this._setUpdateStrategy(gt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(kt,gt){return this.controls[kt]?this.controls[kt]:(this.controls[kt]=gt,gt.setParent(this),gt._registerOnCollectionChange(this._onCollectionChange),gt)}addControl(kt,gt,an={}){this.registerControl(kt,gt),this.updateValueAndValidity({emitEvent:an.emitEvent}),this._onCollectionChange()}removeControl(kt,gt={}){this.controls[kt]&&this.controls[kt]._registerOnCollectionChange(()=>{}),delete this.controls[kt],this.updateValueAndValidity({emitEvent:gt.emitEvent}),this._onCollectionChange()}setControl(kt,gt,an={}){this.controls[kt]&&this.controls[kt]._registerOnCollectionChange(()=>{}),delete this.controls[kt],gt&&this.registerControl(kt,gt),this.updateValueAndValidity({emitEvent:an.emitEvent}),this._onCollectionChange()}contains(kt){return this.controls.hasOwnProperty(kt)&&this.controls[kt].enabled}setValue(kt,gt={}){tt(this,0,kt),Object.keys(kt).forEach(an=>{qe(this,!0,an),this.controls[an].setValue(kt[an],{onlySelf:!0,emitEvent:gt.emitEvent})}),this.updateValueAndValidity(gt)}patchValue(kt,gt={}){null!=kt&&(Object.keys(kt).forEach(an=>{const Bn=this.controls[an];Bn&&Bn.patchValue(kt[an],{onlySelf:!0,emitEvent:gt.emitEvent})}),this.updateValueAndValidity(gt))}reset(kt={},gt={}){this._forEachChild((an,Bn)=>{an.reset(kt?kt[Bn]:null,{onlySelf:!0,emitEvent:gt.emitEvent})}),this._updatePristine(gt,this),this._updateTouched(gt,this),this.updateValueAndValidity(gt)}getRawValue(){return this._reduceChildren({},(kt,gt,an)=>(kt[an]=gt.getRawValue(),kt))}_syncPendingControls(){let kt=this._reduceChildren(!1,(gt,an)=>!!an._syncPendingControls()||gt);return kt&&this.updateValueAndValidity({onlySelf:!0}),kt}_forEachChild(kt){Object.keys(this.controls).forEach(gt=>{const an=this.controls[gt];an&&kt(an,gt)})}_setUpControls(){this._forEachChild(kt=>{kt.setParent(this),kt._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(kt){for(const[gt,an]of Object.entries(this.controls))if(this.contains(gt)&&kt(an))return!0;return!1}_reduceValue(){return this._reduceChildren({},(gt,an,Bn)=>((an.enabled||this.disabled)&&(gt[Bn]=an.value),gt))}_reduceChildren(kt,gt){let an=kt;return this._forEachChild((Bn,Hr)=>{an=gt(an,Bn,Hr)}),an}_allControlsDisabled(){for(const kt of Object.keys(this.controls))if(this.controls[kt].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(kt){return this.controls.hasOwnProperty(kt)?this.controls[kt]:null}}class Tn extends Ft{}const ir=new y.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Nn}),Nn="always";function Ln(Rt,kt){return[...kt.path,Rt]}function at(Rt,kt,gt=Nn){xn(Rt,kt),kt.valueAccessor.writeValue(Rt.value),(Rt.disabled||"always"===gt)&&kt.valueAccessor.setDisabledState?.(Rt.disabled),function er(Rt,kt){kt.valueAccessor.registerOnChange(gt=>{Rt._pendingValue=gt,Rt._pendingChange=!0,Rt._pendingDirty=!0,"change"===Rt.updateOn&&Nr(Rt,kt)})}(Rt,kt),function Cr(Rt,kt){const gt=(an,Bn)=>{kt.valueAccessor.writeValue(an),Bn&&kt.viewToModelUpdate(an)};Rt.registerOnChange(gt),kt._registerOnDestroy(()=>{Rt._unregisterOnChange(gt)})}(Rt,kt),function hr(Rt,kt){kt.valueAccessor.registerOnTouched(()=>{Rt._pendingTouched=!0,"blur"===Rt.updateOn&&Rt._pendingChange&&Nr(Rt,kt),"submit"!==Rt.updateOn&&Rt.markAsTouched()})}(Rt,kt),function Zt(Rt,kt){if(kt.valueAccessor.setDisabledState){const gt=an=>{kt.valueAccessor.setDisabledState(an)};Rt.registerOnDisabledChange(gt),kt._registerOnDestroy(()=>{Rt._unregisterOnDisabledChange(gt)})}}(Rt,kt)}function He(Rt,kt,gt=!0){const an=()=>{};kt.valueAccessor&&(kt.valueAccessor.registerOnChange(an),kt.valueAccessor.registerOnTouched(an)),Hn(Rt,kt),Rt&&(kt._invokeOnDestroyCallbacks(),Rt._registerOnCollectionChange(()=>{}))}function ct(Rt,kt){Rt.forEach(gt=>{gt.registerOnValidatorChange&&gt.registerOnValidatorChange(kt)})}function xn(Rt,kt){const gt=Ce(Rt);null!==kt.validator?Rt.setValidators(de(gt,kt.validator)):"function"==typeof gt&&Rt.setValidators([gt]);const an=Re(Rt);null!==kt.asyncValidator?Rt.setAsyncValidators(de(an,kt.asyncValidator)):"function"==typeof an&&Rt.setAsyncValidators([an]);const Bn=()=>Rt.updateValueAndValidity();ct(kt._rawValidators,Bn),ct(kt._rawAsyncValidators,Bn)}function Hn(Rt,kt){let gt=!1;if(null!==Rt){if(null!==kt.validator){const Bn=Ce(Rt);if(Array.isArray(Bn)&&Bn.length>0){const Hr=Bn.filter(co=>co!==kt.validator);Hr.length!==Bn.length&&(gt=!0,Rt.setValidators(Hr))}}if(null!==kt.asyncValidator){const Bn=Re(Rt);if(Array.isArray(Bn)&&Bn.length>0){const Hr=Bn.filter(co=>co!==kt.asyncValidator);Hr.length!==Bn.length&&(gt=!0,Rt.setAsyncValidators(Hr))}}}const an=()=>{};return ct(kt._rawValidators,an),ct(kt._rawAsyncValidators,an),gt}function Nr(Rt,kt){Rt._pendingDirty&&Rt.markAsDirty(),Rt.setValue(Rt._pendingValue,{emitModelToViewChange:!1}),kt.viewToModelUpdate(Rt._pendingValue),Rt._pendingChange=!1}function Ur(Rt,kt){xn(Rt,kt)}function Gn(Rt,kt){if(!Rt.hasOwnProperty("model"))return!1;const gt=Rt.model;return!!gt.isFirstChange()||!Object.is(kt,gt.currentValue)}function xr(Rt,kt){Rt._syncPendingControls(),kt.forEach(gt=>{const an=gt.control;"submit"===an.updateOn&&an._pendingChange&&(gt.viewToModelUpdate(an._pendingValue),an._pendingChange=!1)})}function jr(Rt,kt){if(!kt)return null;let gt,an,Bn;return Array.isArray(kt),kt.forEach(Hr=>{Hr.constructor===ee?gt=Hr:function wr(Rt){return Object.getPrototypeOf(Rt.constructor)===B}(Hr)?an=Hr:Bn=Hr}),Bn||an||gt||null}const wo={provide:Ae,useExisting:(0,y.Rfq)(()=>ho)},si=Promise.resolve();let ho=(()=>{class Rt extends Ae{get submitted(){return(0,y.O8t)(this.submittedReactive)}constructor(gt,an,Bn){super(),this.callSetDisabledState=Bn,this._submitted=(0,y.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,y.vPA)(!1),this._directives=new Set,this.ngSubmit=new y.bkB,this.form=new Ft({},$(gt),Q(an))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(gt){si.then(()=>{const an=this._findContainer(gt.path);gt.control=an.registerControl(gt.name,gt.control),at(gt.control,gt,this.callSetDisabledState),gt.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(gt)})}getControl(gt){return this.form.get(gt.path)}removeControl(gt){si.then(()=>{const an=this._findContainer(gt.path);an&&an.removeControl(gt.name),this._directives.delete(gt)})}addFormGroup(gt){si.then(()=>{const an=this._findContainer(gt.path),Bn=new Ft({});Ur(Bn,gt),an.registerControl(gt.name,Bn),Bn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(gt){si.then(()=>{const an=this._findContainer(gt.path);an&&an.removeControl(gt.name)})}getFormGroup(gt){return this.form.get(gt.path)}updateModel(gt,an){si.then(()=>{this.form.get(gt.path).setValue(an)})}setValue(gt){this.control.setValue(gt)}onSubmit(gt){return this.submittedReactive.set(!0),xr(this.form,this._directives),this.ngSubmit.emit(gt),"dialog"===gt?.target?.method}onReset(){this.resetForm()}resetForm(gt=void 0){this.form.reset(gt),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(gt){return gt.pop(),gt.length?this.form.get(gt):this.form}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(J,10),y.rXU(se,10),y.rXU(ir,8))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(an,Bn){1&an&&y.bIt("submit",function(co){return Bn.onSubmit(co)})("reset",function(){return Bn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y.Jv_([wo]),y.Vt3]})}return Rt})();function yo(Rt,kt){const gt=Rt.indexOf(kt);gt>-1&&Rt.splice(gt,1)}function Io(Rt){return"object"==typeof Rt&&null!==Rt&&2===Object.keys(Rt).length&&"value"in Rt&&"disabled"in Rt}const pi=class extends Wt{constructor(kt=null,gt,an){super(pn(gt),yt(an,gt)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(kt),this._setUpdateStrategy(gt),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xt(gt)&&(gt.nonNullable||gt.initialValueIsDefault)&&(this.defaultValue=Io(kt)?kt.value:kt)}setValue(kt,gt={}){this.value=this._pendingValue=kt,this._onChange.length&&!1!==gt.emitModelToViewChange&&this._onChange.forEach(an=>an(this.value,!1!==gt.emitViewToModelChange)),this.updateValueAndValidity(gt)}patchValue(kt,gt={}){this.setValue(kt,gt)}reset(kt=this.defaultValue,gt={}){this._applyFormState(kt),this.markAsPristine(gt),this.markAsUntouched(gt),this.setValue(this.value,gt),this._pendingChange=!1}_updateValue(){}_anyControls(kt){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(kt){this._onChange.push(kt)}_unregisterOnChange(kt){yo(this._onChange,kt)}registerOnDisabledChange(kt){this._onDisabledChange.push(kt)}_unregisterOnDisabledChange(kt){yo(this._onDisabledChange,kt)}_forEachChild(kt){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(kt){Io(kt)?(this.value=this._pendingValue=kt.value,kt.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=kt}};let Fa=(()=>{class Rt extends Ae{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ln(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let gt;return function(Bn){return(gt||(gt=y.xGo(Rt)))(Bn||Rt)}})();static#t=this.\u0275dir=y.FsC({type:Rt,features:[y.Vt3]})}return Rt})();const zr={provide:ge,useExisting:(0,y.Rfq)(()=>ps)},ti=Promise.resolve();let ps=(()=>{class Rt extends ge{constructor(gt,an,Bn,Hr,co,Eo){super(),this._changeDetectorRef=co,this.callSetDisabledState=Eo,this.control=new pi,this._registered=!1,this.name="",this.update=new y.bkB,this._parent=gt,this._setValidators(an),this._setAsyncValidators(Bn),this.valueAccessor=jr(0,Hr)}ngOnChanges(gt){if(this._checkForErrors(),!this._registered||"name"in gt){if(this._registered&&(this._checkName(),this.formDirective)){const an=gt.name.previousValue;this.formDirective.removeControl({name:an,path:this._getPath(an)})}this._setUpControl()}"isDisabled"in gt&&this._updateDisabled(gt),Gn(gt,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(gt){this.viewModel=gt,this.update.emit(gt)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){at(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(gt){ti.then(()=>{this.control.setValue(gt,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(gt){const an=gt.isDisabled.currentValue,Bn=0!==an&&(0,y.L39)(an);ti.then(()=>{Bn&&!this.control.disabled?this.control.disable():!Bn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(gt){return this._parent?Ln(gt,this._parent):[gt]}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(Ae,9),y.rXU(J,10),y.rXU(se,10),y.rXU(N,10),y.rXU(y.gRc,8),y.rXU(ir,8))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y.Jv_([zr]),y.Vt3,y.OA$]})}return Rt})(),ns=(()=>{class Rt{static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Rt})();const ga=new y.nKC(""),Pc={provide:ge,useExisting:(0,y.Rfq)(()=>nc)};let nc=(()=>{class Rt extends ge{set isDisabled(gt){}static#e=this._ngModelWarningSentOnce=!1;constructor(gt,an,Bn,Hr,co){super(),this._ngModelWarningConfig=Hr,this.callSetDisabledState=co,this.update=new y.bkB,this._ngModelWarningSent=!1,this._setValidators(gt),this._setAsyncValidators(an),this.valueAccessor=jr(0,Bn)}ngOnChanges(gt){if(this._isControlChanged(gt)){const an=gt.form.previousValue;an&&He(an,this,!1),at(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Gn(gt,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&He(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(gt){this.viewModel=gt,this.update.emit(gt)}_isControlChanged(gt){return gt.hasOwnProperty("form")}static#t=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(J,10),y.rXU(se,10),y.rXU(N,10),y.rXU(ga,8),y.rXU(ir,8))};static#n=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[y.Jv_([Pc]),y.Vt3,y.OA$]})}return Rt})();const oa={provide:Ae,useExisting:(0,y.Rfq)(()=>rc)};let rc=(()=>{class Rt extends Ae{get submitted(){return(0,y.O8t)(this._submittedReactive)}set submitted(gt){this._submittedReactive.set(gt)}constructor(gt,an,Bn){super(),this.callSetDisabledState=Bn,this._submitted=(0,y.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,y.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.bkB,this._setValidators(gt),this._setAsyncValidators(an)}ngOnChanges(gt){this._checkFormPresent(),gt.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(gt){const an=this.form.get(gt.path);return at(an,gt,this.callSetDisabledState),an.updateValueAndValidity({emitEvent:!1}),this.directives.push(gt),an}getControl(gt){return this.form.get(gt.path)}removeControl(gt){He(gt.control||null,gt,!1),function Kr(Rt,kt){const gt=Rt.indexOf(kt);gt>-1&&Rt.splice(gt,1)}(this.directives,gt)}addFormGroup(gt){this._setUpFormContainer(gt)}removeFormGroup(gt){this._cleanUpFormContainer(gt)}getFormGroup(gt){return this.form.get(gt.path)}addFormArray(gt){this._setUpFormContainer(gt)}removeFormArray(gt){this._cleanUpFormContainer(gt)}getFormArray(gt){return this.form.get(gt.path)}updateModel(gt,an){this.form.get(gt.path).setValue(an)}onSubmit(gt){return this._submittedReactive.set(!0),xr(this.form,this.directives),this.ngSubmit.emit(gt),this.form._events.next(new Gt(this.control)),"dialog"===gt?.target?.method}onReset(){this.resetForm()}resetForm(gt=void 0){this.form.reset(gt),this._submittedReactive.set(!1),this.form._events.next(new nn(this.form))}_updateDomValue(){this.directives.forEach(gt=>{const an=gt.control,Bn=this.form.get(gt.path);an!==Bn&&(He(an||null,gt),(Rt=>Rt instanceof pi)(Bn)&&(at(Bn,gt,this.callSetDisabledState),gt.control=Bn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(gt){const an=this.form.get(gt.path);Ur(an,gt),an.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(gt){if(this.form){const an=this.form.get(gt.path);an&&function Lr(Rt,kt){return Hn(Rt,kt)}(an,gt)&&an.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xn(this.form,this),this._oldForm&&Hn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(J,10),y.rXU(se,10),y.rXU(ir,8))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formGroup",""]],hostBindings:function(an,Bn){1&an&&y.bIt("submit",function(co){return Bn.onSubmit(co)})("reset",function(){return Bn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y.Jv_([oa]),y.Vt3,y.OA$]})}return Rt})();const Wi={provide:Ae,useExisting:(0,y.Rfq)(()=>sa)};let sa=(()=>{class Rt extends Fa{constructor(gt,an,Bn){super(),this.name=null,this._parent=gt,this._setValidators(an),this._setAsyncValidators(Bn)}_checkParentType(){No(this._parent)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(Ae,13),y.rXU(J,10),y.rXU(se,10))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[y.Jv_([Wi]),y.Vt3]})}return Rt})();const Ac={provide:Ae,useExisting:(0,y.Rfq)(()=>Aa)};let Aa=(()=>{class Rt extends Ae{constructor(gt,an,Bn){super(),this.name=null,this._parent=gt,this._setValidators(an),this._setAsyncValidators(Bn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ln(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){No(this._parent)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(Ae,13),y.rXU(J,10),y.rXU(se,10))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[y.Jv_([Ac]),y.Vt3]})}return Rt})();function No(Rt){return!(Rt instanceof sa||Rt instanceof rc||Rt instanceof Aa)}const Rd={provide:ge,useExisting:(0,y.Rfq)(()=>Oc)};let Oc=(()=>{class Rt extends ge{set isDisabled(gt){}static#e=this._ngModelWarningSentOnce=!1;constructor(gt,an,Bn,Hr,co){super(),this._ngModelWarningConfig=co,this._added=!1,this.name=null,this.update=new y.bkB,this._ngModelWarningSent=!1,this._parent=gt,this._setValidators(an),this._setAsyncValidators(Bn),this.valueAccessor=jr(0,Hr)}ngOnChanges(gt){this._added||this._setUpControl(),Gn(gt,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(gt){this.viewModel=gt,this.update.emit(gt)}get path(){return Ln(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(Ae,13),y.rXU(J,10),y.rXU(se,10),y.rXU(N,10),y.rXU(ga,8))};static#n=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[y.Jv_([Rd]),y.Vt3,y.OA$]})}return Rt})();let Us=(()=>{class Rt{constructor(){this._validator=m}ngOnChanges(gt){if(this.inputName in gt){const an=this.normalizeInput(gt[this.inputName].currentValue);this._enabled=this.enabled(an),this._validator=this._enabled?this.createValidator(an):m,this._onChange&&this._onChange()}}validate(gt){return this._validator(gt)}registerOnValidatorChange(gt){this._onChange=gt}enabled(gt){return null!=gt}static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275dir=y.FsC({type:Rt,features:[y.OA$]})}return Rt})();const Ls={provide:J,useExisting:(0,y.Rfq)(()=>ed),multi:!0},Qi={provide:J,useExisting:(0,y.Rfq)(()=>va),multi:!0};let ed=(()=>{class Rt extends Us{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.L39,this.createValidator=gt=>we}enabled(gt){return gt}static#e=this.\u0275fac=(()=>{let gt;return function(Bn){return(gt||(gt=y.xGo(Rt)))(Bn||Rt)}})();static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(an,Bn){2&an&&y.BMQ("required",Bn._enabled?"":null)},inputs:{required:"required"},features:[y.Jv_([Ls]),y.Vt3]})}return Rt})(),va=(()=>{class Rt extends ed{constructor(){super(...arguments),this.createValidator=gt=>Me}static#e=this.\u0275fac=(()=>{let gt;return function(Bn){return(gt||(gt=y.xGo(Rt)))(Bn||Rt)}})();static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(an,Bn){2&an&&y.BMQ("required",Bn._enabled?"":null)},features:[y.Jv_([Qi]),y.Vt3]})}return Rt})();const ba={provide:J,useExisting:(0,y.Rfq)(()=>Da),multi:!0};let Da=(()=>{class Rt extends Us{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=gt=>function io(Rt){return"number"==typeof Rt?Rt:parseInt(Rt,10)}(gt),this.createValidator=gt=>a(gt)}static#e=this.\u0275fac=(()=>{let gt;return function(Bn){return(gt||(gt=y.xGo(Rt)))(Bn||Rt)}})();static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(an,Bn){2&an&&y.BMQ("maxlength",Bn._enabled?Bn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[y.Jv_([ba]),y.Vt3]})}return Rt})(),gn=(()=>{class Rt{static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275mod=y.$C({type:Rt});static#n=this.\u0275inj=y.G2t({})}return Rt})();class Rn extends Wt{constructor(kt,gt,an){super(pn(gt),yt(an,gt)),this.controls=kt,this._initObservables(),this._setUpdateStrategy(gt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(kt){return this.controls[this._adjustIndex(kt)]}push(kt,gt={}){this.controls.push(kt),this._registerControl(kt),this.updateValueAndValidity({emitEvent:gt.emitEvent}),this._onCollectionChange()}insert(kt,gt,an={}){this.controls.splice(kt,0,gt),this._registerControl(gt),this.updateValueAndValidity({emitEvent:an.emitEvent})}removeAt(kt,gt={}){let an=this._adjustIndex(kt);an<0&&(an=0),this.controls[an]&&this.controls[an]._registerOnCollectionChange(()=>{}),this.controls.splice(an,1),this.updateValueAndValidity({emitEvent:gt.emitEvent})}setControl(kt,gt,an={}){let Bn=this._adjustIndex(kt);Bn<0&&(Bn=0),this.controls[Bn]&&this.controls[Bn]._registerOnCollectionChange(()=>{}),this.controls.splice(Bn,1),gt&&(this.controls.splice(Bn,0,gt),this._registerControl(gt)),this.updateValueAndValidity({emitEvent:an.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(kt,gt={}){tt(this,0,kt),kt.forEach((an,Bn)=>{qe(this,!1,Bn),this.at(Bn).setValue(an,{onlySelf:!0,emitEvent:gt.emitEvent})}),this.updateValueAndValidity(gt)}patchValue(kt,gt={}){null!=kt&&(kt.forEach((an,Bn)=>{this.at(Bn)&&this.at(Bn).patchValue(an,{onlySelf:!0,emitEvent:gt.emitEvent})}),this.updateValueAndValidity(gt))}reset(kt=[],gt={}){this._forEachChild((an,Bn)=>{an.reset(kt[Bn],{onlySelf:!0,emitEvent:gt.emitEvent})}),this._updatePristine(gt,this),this._updateTouched(gt,this),this.updateValueAndValidity(gt)}getRawValue(){return this.controls.map(kt=>kt.getRawValue())}clear(kt={}){this.controls.length<1||(this._forEachChild(gt=>gt._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:kt.emitEvent}))}_adjustIndex(kt){return kt<0?kt+this.length:kt}_syncPendingControls(){let kt=this.controls.reduce((gt,an)=>!!an._syncPendingControls()||gt,!1);return kt&&this.updateValueAndValidity({onlySelf:!0}),kt}_forEachChild(kt){this.controls.forEach((gt,an)=>{kt(gt,an)})}_updateValue(){this.value=this.controls.filter(kt=>kt.enabled||this.disabled).map(kt=>kt.value)}_anyControls(kt){return this.controls.some(gt=>gt.enabled&&kt(gt))}_setUpControls(){this._forEachChild(kt=>this._registerControl(kt))}_allControlsDisabled(){for(const kt of this.controls)if(kt.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(kt){kt.setParent(this),kt._registerOnCollectionChange(this._onCollectionChange)}_find(kt){return this.at(kt)??null}}function Mr(Rt){return!!Rt&&(void 0!==Rt.asyncValidators||void 0!==Rt.validators||void 0!==Rt.updateOn)}let Qn=(()=>{class Rt{constructor(){this.useNonNullable=!1}get nonNullable(){const gt=new Rt;return gt.useNonNullable=!0,gt}group(gt,an=null){const Bn=this._reduceControls(gt);let Hr={};return Mr(an)?Hr=an:null!==an&&(Hr.validators=an.validator,Hr.asyncValidators=an.asyncValidator),new Ft(Bn,Hr)}record(gt,an=null){const Bn=this._reduceControls(gt);return new Tn(Bn,an)}control(gt,an,Bn){let Hr={};return this.useNonNullable?(Mr(an)?Hr=an:(Hr.validators=an,Hr.asyncValidators=Bn),new pi(gt,{...Hr,nonNullable:!0})):new pi(gt,an,Bn)}array(gt,an,Bn){const Hr=gt.map(co=>this._createControl(co));return new Rn(Hr,an,Bn)}_reduceControls(gt){const an={};return Object.keys(gt).forEach(Bn=>{an[Bn]=this._createControl(gt[Bn])}),an}_createControl(gt){return gt instanceof pi||gt instanceof Wt?gt:Array.isArray(gt)?this.control(gt[0],gt.length>1?gt[1]:null,gt.length>2?gt[2]:null):this.control(gt)}static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275prov=y.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})(),oc=(()=>{class Rt{static withConfig(gt){return{ngModule:Rt,providers:[{provide:ir,useValue:gt.callSetDisabledState??Nn}]}}static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275mod=y.$C({type:Rt});static#n=this.\u0275inj=y.G2t({imports:[gn]})}return Rt})(),Os=(()=>{class Rt{static withConfig(gt){return{ngModule:Rt,providers:[{provide:ga,useValue:gt.warnOnNgModelWithFormControl??"always"},{provide:ir,useValue:gt.callSetDisabledState??Nn}]}}static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275mod=y.$C({type:Rt});static#n=this.\u0275inj=y.G2t({imports:[gn]})}return Rt})()},94073:()=>{"use strict";const Je=":";Error;const de=function(Ve,...Ee){if(de.translate){const Fe=de.translate(Ve,Ee);Ve=Fe[0],Ee=Fe[1]}let _e=Re(Ve[0],Ve.raw[0]);for(let Fe=1;Fe<Ve.length;Fe++)_e+=Ee[Fe-1]+Re(Ve[Fe],Ve.raw[Fe]);return _e},Ce=":";function Re(Ve,Ee){return Ee.charAt(0)===Ce?Ve.substring(function m(Ve,Ee){for(let _e=1,Fe=1;_e<Ve.length;_e++,Fe++)if("\\"===Ee[Fe])Fe++;else if(Ve[_e]===Je)return _e;throw new Error(`Unterminated $localize metadata block in "${Ee}".`)}(Ve,Ee)+1):Ve}globalThis.$localize=de},88834:(Je,j,_)=>{"use strict";_.d(j,{$z:()=>fe,Hl:()=>D,It:()=>he,iY:()=>p,pQ:()=>E});var y=_(36860),b=_(93953),P=_(18617),H=_(86600);const w=["mat-button",""],O=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],S=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],N=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",L=["mat-icon-button",""],z=["*"],q=new b.nKC("MAT_BUTTON_CONFIG"),J=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let se=(()=>{class R{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(s){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,s)}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=s,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(s){this._disabled=s,this._updateRippleDisabled()}constructor(s,v,$,F){this._elementRef=s,this._platform=v,this._ngZone=$,this._animationMode=F,this._focusMonitor=(0,b.WQX)(P.FN),this._rippleLoader=(0,b.WQX)(H.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Q=(0,b.WQX)(q,{optional:!0}),de=s.nativeElement,Ce=de.classList;this.disabledInteractive=Q?.disabledInteractive??!1,this.color=Q?.color??null,this._rippleLoader?.configureRipple(de,{className:"mat-mdc-button-ripple"});for(const{attribute:Re,mdcClasses:Ve}of J)de.hasAttribute(Re)&&Ce.add(...Ve)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(s="program",v){s?this._focusMonitor.focusVia(this._elementRef.nativeElement,s,v):this._elementRef.nativeElement.focus(v)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(v){b.QTQ()};static#t=this.\u0275dir=b.FsC({type:R,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",b.L39],disabled:[2,"disabled","disabled",b.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",b.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",b.L39]},features:[b.GFd]})}return R})(),ae=(()=>{class R extends se{constructor(s,v,$,F){super(s,v,$,F),this._haltDisabledEvents=Q=>{this.disabled&&(Q.preventDefault(),Q.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(v){b.QTQ()};static#t=this.\u0275dir=b.FsC({type:R,inputs:{tabIndex:[2,"tabIndex","tabIndex",s=>null==s?void 0:(0,b.Udg)(s)]},features:[b.GFd,b.Vt3]})}return R})(),fe=(()=>{class R extends se{constructor(s,v,$,F){super(s,v,$,F)}static#e=this.\u0275fac=function(v){return new(v||R)(b.rXU(b.aKT),b.rXU(y.OD),b.rXU(b.SKi),b.rXU(b.bc$,8))};static#t=this.\u0275cmp=b.VBU({type:R,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(v,$){2&v&&(b.BMQ("disabled",$._getDisabledAttribute())("aria-disabled",$._getAriaDisabled()),b.HbH($.color?"mat-"+$.color:""),b.AVh("mat-mdc-button-disabled",$.disabled)("mat-mdc-button-disabled-interactive",$.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===$._animationMode)("mat-unthemed",!$.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[b.Vt3,b.aNF],attrs:w,ngContentSelectors:S,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,$){1&v&&(b.NAR(O),b.nrm(0,"span",0),b.SdG(1),b.j41(2,"span",1),b.SdG(3,1),b.k0s(),b.SdG(4,2),b.nrm(5,"span",2)(6,"span",3)),2&v&&b.AVh("mdc-button__ripple",!$._isFab)("mdc-fab__ripple",$._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return R})(),he=(()=>{class R extends ae{constructor(s,v,$,F){super(s,v,$,F)}static#e=this.\u0275fac=function(v){return new(v||R)(b.rXU(b.aKT),b.rXU(y.OD),b.rXU(b.SKi),b.rXU(b.bc$,8))};static#t=this.\u0275cmp=b.VBU({type:R,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(v,$){2&v&&(b.BMQ("disabled",$._getDisabledAttribute())("tabindex",$.disabled&&!$.disabledInteractive?-1:$.tabIndex)("aria-disabled",$._getDisabledAttribute()),b.HbH($.color?"mat-"+$.color:""),b.AVh("mat-mdc-button-disabled",$.disabled)("mat-mdc-button-disabled-interactive",$.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===$._animationMode)("mat-unthemed",!$.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[b.Vt3,b.aNF],attrs:w,ngContentSelectors:S,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,$){1&v&&(b.NAR(O),b.nrm(0,"span",0),b.SdG(1),b.j41(2,"span",1),b.SdG(3,1),b.k0s(),b.SdG(4,2),b.nrm(5,"span",2)(6,"span",3)),2&v&&b.AVh("mdc-button__ripple",!$._isFab)("mdc-fab__ripple",$._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',N],encapsulation:2,changeDetection:0})}return R})(),p=(()=>{class R extends se{constructor(s,v,$,F){super(s,v,$,F),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(v){return new(v||R)(b.rXU(b.aKT),b.rXU(y.OD),b.rXU(b.SKi),b.rXU(b.bc$,8))};static#t=this.\u0275cmp=b.VBU({type:R,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(v,$){2&v&&(b.BMQ("disabled",$._getDisabledAttribute())("aria-disabled",$._getAriaDisabled()),b.HbH($.color?"mat-"+$.color:""),b.AVh("mat-mdc-button-disabled",$.disabled)("mat-mdc-button-disabled-interactive",$.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===$._animationMode)("mat-unthemed",!$.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[b.Vt3,b.aNF],attrs:L,ngContentSelectors:z,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,$){1&v&&(b.NAR(),b.nrm(0,"span",0),b.SdG(1),b.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',N],encapsulation:2,changeDetection:0})}return R})(),E=(()=>{class R extends ae{constructor(s,v,$,F){super(s,v,$,F)}static#e=this.\u0275fac=function(v){return new(v||R)(b.rXU(b.aKT),b.rXU(y.OD),b.rXU(b.SKi),b.rXU(b.bc$,8))};static#t=this.\u0275cmp=b.VBU({type:R,selectors:[["a","mat-icon-button",""]],hostVars:15,hostBindings:function(v,$){2&v&&(b.BMQ("disabled",$._getDisabledAttribute())("tabindex",$.disabled&&!$.disabledInteractive?-1:$.tabIndex)("aria-disabled",$._getDisabledAttribute()),b.HbH($.color?"mat-"+$.color:""),b.AVh("mat-mdc-button-disabled",$.disabled)("mat-mdc-button-disabled-interactive",$.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===$._animationMode)("mat-unthemed",!$.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[b.Vt3,b.aNF],attrs:L,ngContentSelectors:z,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,$){1&v&&(b.NAR(),b.nrm(0,"span",0),b.SdG(1),b.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',N],encapsulation:2,changeDetection:0})}return R})(),D=(()=>{class R{static#e=this.\u0275fac=function(v){return new(v||R)};static#t=this.\u0275mod=b.$C({type:R});static#n=this.\u0275inj=b.G2t({imports:[H.yE,H.pZ,H.yE]})}return R})()},25596:(Je,j,_)=>{"use strict";_.d(j,{Hu:()=>Me,Lc:()=>z,MM:()=>q,RN:()=>U,WQ:()=>Z,YY:()=>ee,dh:()=>A,kF:()=>J,m2:()=>L});var y=_(93953),b=_(60177),P=_(86600);const H=["*"],S=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],B=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],N=new y.nKC("MAT_CARD_CONFIG");let U=(()=>{class Pe{constructor(a){this.appearance=a?.appearance||"raised"}static#e=this.\u0275fac=function(d){return new(d||Pe)(y.rXU(N,8))};static#t=this.\u0275cmp=y.VBU({type:Pe,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(d,m){2&d&&y.AVh("mat-mdc-card-outlined","outlined"===m.appearance)("mdc-card--outlined","outlined"===m.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[y.aNF],ngContentSelectors:H,decls:1,vars:0,template:function(d,m){1&d&&(y.NAR(),y.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return Pe})(),A=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return Pe})(),L=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return Pe})(),z=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return Pe})(),ee=(()=>{class Pe{constructor(){this.align="start"}static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(d,m){2&d&&y.AVh("mat-mdc-card-actions-align-end","end"===m.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return Pe})(),q=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275cmp=y.VBU({type:Pe,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[y.aNF],ngContentSelectors:B,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(d,m){1&d&&(y.NAR(S),y.SdG(0),y.j41(1,"div",0),y.SdG(2,1),y.k0s(),y.SdG(3,2))},encapsulation:2,changeDetection:0})}return Pe})(),Z=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return Pe})(),J=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}return Pe})(),Me=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275mod=y.$C({type:Pe});static#n=this.\u0275inj=y.G2t({imports:[P.yE,b.MD,P.yE]})}return Pe})()},86600:(Je,j,_)=>{"use strict";_.d(j,{r5:()=>ae,ed:()=>fe,es:()=>be,QC:()=>en,is:()=>Ne,$E:()=>T,yE:()=>Me,Np:()=>te,wT:()=>vn,Sy:()=>Cn,wg:()=>pe,O5:()=>ke,r6:()=>M,Ej:()=>pn,pZ:()=>Y,ug:()=>mt,X0:()=>D,tO:()=>ur,jb:()=>un,TL:()=>sr});var y=_(93953),b=_(18617),P=_(28203),w=_(60177),O=_(36860),S=_(14085),B=_(21413),N=_(67336);const G=["text"],L=[[["mat-icon"]],"*"],z=["mat-icon","*"];function ee(yt,_t){if(1&yt&&y.nrm(0,"mat-pseudo-checkbox",1),2&yt){const xt=y.XpG();y.Y8G("disabled",xt.disabled)("state",xt.selected?"checked":"unchecked")}}function q(yt,_t){if(1&yt&&y.nrm(0,"mat-pseudo-checkbox",3),2&yt){const xt=y.XpG();y.Y8G("disabled",xt.disabled)}}function Z(yt,_t){if(1&yt&&(y.j41(0,"span",4),y.EFF(1),y.k0s()),2&yt){const xt=y.XpG();y.R7$(),y.SpI("(",xt.group.label,")")}}const J=["mat-internal-form-field",""],se=["*"];let ae=(()=>{class yt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return yt})(),fe=(()=>{class yt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return yt})();const we=new y.nKC("mat-sanity-checks",{providedIn:"root",factory:function he(){return!0}});let Me=(()=>{class yt{constructor(xt,qe,tt){this._sanityChecks=qe,this._document=tt,this._hasDoneGlobalChecks=!1,xt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(xt){return!(0,O.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[xt])}static#e=this.\u0275fac=function(qe){return new(qe||yt)(y.KVO(b.Q_),y.KVO(we,8),y.KVO(w.qQ))};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[P.jI,P.jI]})}return yt})();class D{constructor(_t,xt,qe,tt,Wt){this._defaultMatcher=_t,this.ngControl=xt,this._parentFormGroup=qe,this._parentForm=tt,this._stateChanges=Wt,this.errorState=!1}updateErrorState(){const _t=this.errorState,xt=this._parentFormGroup||this._parentForm,qe=this.matcher||this._defaultMatcher,tt=this.ngControl?this.ngControl.control:null,Wt=qe?.isErrorState(tt,xt)??!1;Wt!==_t&&(this.errorState=Wt,this._stateChanges.next())}}let be=(()=>{class yt{isErrorState(xt,qe){return!!(xt&&xt.invalid&&(xt.touched||qe&&qe.submitted))}static#e=this.\u0275fac=function(qe){return new(qe||yt)};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),te=(()=>{class yt{static#e=this.\u0275fac=function(qe){return new(qe||yt)};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[Me,Me]})}return yt})();var ne=function(yt){return yt[yt.FADING_IN=0]="FADING_IN",yt[yt.VISIBLE=1]="VISIBLE",yt[yt.FADING_OUT=2]="FADING_OUT",yt[yt.HIDDEN=3]="HIDDEN",yt}(ne||{});class ue{constructor(_t,xt,qe,tt=!1){this._renderer=_t,this.element=xt,this.config=qe,this._animationForciblyDisabledThroughCss=tt,this.state=ne.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const De=(0,O.BQ)({passive:!0,capture:!0});class Be{constructor(){this._events=new Map,this._delegateEventHandler=_t=>{const xt=(0,O.Fb)(_t);xt&&this._events.get(_t.type)?.forEach((qe,tt)=>{(tt===xt||tt.contains(xt))&&qe.forEach(Wt=>Wt.handleEvent(_t))})}}addHandler(_t,xt,qe,tt){const Wt=this._events.get(xt);if(Wt){const Ft=Wt.get(qe);Ft?Ft.add(tt):Wt.set(qe,new Set([tt]))}else this._events.set(xt,new Map([[qe,new Set([tt])]])),_t.runOutsideAngular(()=>{document.addEventListener(xt,this._delegateEventHandler,De)})}removeHandler(_t,xt,qe){const tt=this._events.get(_t);if(!tt)return;const Wt=tt.get(xt);Wt&&(Wt.delete(qe),0===Wt.size&&tt.delete(xt),0===tt.size&&(this._events.delete(_t),document.removeEventListener(_t,this._delegateEventHandler,De)))}}const Qe={enterDuration:225,exitDuration:150},Dt=(0,O.BQ)({passive:!0,capture:!0}),Xe=["mousedown","touchstart"],Ue=["mouseup","mouseleave","touchend","touchcancel"];class mt{static#e=this._eventManager=new Be;constructor(_t,xt,qe,tt){this._target=_t,this._ngZone=xt,this._platform=tt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,tt.isBrowser&&(this._containerElement=(0,S.i8)(qe))}fadeInRipple(_t,xt,qe={}){const tt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Wt={...Qe,...qe.animation};qe.centered&&(_t=tt.left+tt.width/2,xt=tt.top+tt.height/2);const Ft=qe.radius||function K(yt,_t,xt){const qe=Math.max(Math.abs(yt-xt.left),Math.abs(yt-xt.right)),tt=Math.max(Math.abs(_t-xt.top),Math.abs(_t-xt.bottom));return Math.sqrt(qe*qe+tt*tt)}(_t,xt,tt),mn=_t-tt.left,zn=xt-tt.top,wn=Wt.enterDuration,Tn=document.createElement("div");Tn.classList.add("mat-ripple-element"),Tn.style.left=mn-Ft+"px",Tn.style.top=zn-Ft+"px",Tn.style.height=2*Ft+"px",Tn.style.width=2*Ft+"px",null!=qe.color&&(Tn.style.backgroundColor=qe.color),Tn.style.transitionDuration=`${wn}ms`,this._containerElement.appendChild(Tn);const vr=window.getComputedStyle(Tn),Nn=vr.transitionDuration,Ln="none"===vr.transitionProperty||"0s"===Nn||"0s, 0s"===Nn||0===tt.width&&0===tt.height,at=new ue(this,Tn,qe,Ln);Tn.style.transform="scale3d(1, 1, 1)",at.state=ne.FADING_IN,qe.persistent||(this._mostRecentTransientRipple=at);let He=null;return!Ln&&(wn||Wt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ct=()=>{He&&(He.fallbackTimer=null),clearTimeout(xn),this._finishRippleTransition(at)},Zt=()=>this._destroyRipple(at),xn=setTimeout(Zt,wn+100);Tn.addEventListener("transitionend",ct),Tn.addEventListener("transitioncancel",Zt),He={onTransitionEnd:ct,onTransitionCancel:Zt,fallbackTimer:xn}}),this._activeRipples.set(at,He),(Ln||!wn)&&this._finishRippleTransition(at),at}fadeOutRipple(_t){if(_t.state===ne.FADING_OUT||_t.state===ne.HIDDEN)return;const xt=_t.element,qe={...Qe,..._t.config.animation};xt.style.transitionDuration=`${qe.exitDuration}ms`,xt.style.opacity="0",_t.state=ne.FADING_OUT,(_t._animationForciblyDisabledThroughCss||!qe.exitDuration)&&this._finishRippleTransition(_t)}fadeOutAll(){this._getActiveRipples().forEach(_t=>_t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(_t=>{_t.config.persistent||_t.fadeOut()})}setupTriggerEvents(_t){const xt=(0,S.i8)(_t);!this._platform.isBrowser||!xt||xt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=xt,Xe.forEach(qe=>{mt._eventManager.addHandler(this._ngZone,qe,xt,this)}))}handleEvent(_t){"mousedown"===_t.type?this._onMousedown(_t):"touchstart"===_t.type?this._onTouchStart(_t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ue.forEach(xt=>{this._triggerElement.addEventListener(xt,this,Dt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(_t){_t.state===ne.FADING_IN?this._startFadeOutTransition(_t):_t.state===ne.FADING_OUT&&this._destroyRipple(_t)}_startFadeOutTransition(_t){const xt=_t===this._mostRecentTransientRipple,{persistent:qe}=_t.config;_t.state=ne.VISIBLE,!qe&&(!xt||!this._isPointerDown)&&_t.fadeOut()}_destroyRipple(_t){const xt=this._activeRipples.get(_t)??null;this._activeRipples.delete(_t),this._activeRipples.size||(this._containerRect=null),_t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),_t.state=ne.HIDDEN,null!==xt&&(_t.element.removeEventListener("transitionend",xt.onTransitionEnd),_t.element.removeEventListener("transitioncancel",xt.onTransitionCancel),null!==xt.fallbackTimer&&clearTimeout(xt.fallbackTimer)),_t.element.remove()}_onMousedown(_t){const xt=(0,b._G)(_t),qe=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!xt&&!qe&&(this._isPointerDown=!0,this.fadeInRipple(_t.clientX,_t.clientY,this._target.rippleConfig))}_onTouchStart(_t){if(!this._target.rippleDisabled&&!(0,b.w6)(_t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const xt=_t.changedTouches;if(xt)for(let qe=0;qe<xt.length;qe++)this.fadeInRipple(xt[qe].clientX,xt[qe].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(_t=>{!_t.config.persistent&&(_t.state===ne.VISIBLE||_t.config.terminateOnPointerUp&&_t.state===ne.FADING_IN)&&_t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const _t=this._triggerElement;_t&&(Xe.forEach(xt=>mt._eventManager.removeHandler(xt,_t,this)),this._pointerUpEventsRegistered&&(Ue.forEach(xt=>_t.removeEventListener(xt,this,Dt)),this._pointerUpEventsRegistered=!1))}}const T=new y.nKC("mat-ripple-global-options");let M=(()=>{class yt{get disabled(){return this._disabled}set disabled(xt){xt&&this.fadeOutAllNonPersistent(),this._disabled=xt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(xt){this._trigger=xt,this._setupTriggerEventsIfEnabled()}constructor(xt,qe,tt,Wt,Ft){this._elementRef=xt,this._animationMode=Ft,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Wt||{},this._rippleRenderer=new mt(this,qe,xt,tt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(xt,qe=0,tt){return"number"==typeof xt?this._rippleRenderer.fadeInRipple(xt,qe,{...this.rippleConfig,...tt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...xt})}static#e=this.\u0275fac=function(qe){return new(qe||yt)(y.rXU(y.aKT),y.rXU(y.SKi),y.rXU(O.OD),y.rXU(T,8),y.rXU(y.bc$,8))};static#t=this.\u0275dir=y.FsC({type:yt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(qe,tt){2&qe&&y.AVh("mat-ripple-unbounded",tt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return yt})(),Y=(()=>{class yt{static#e=this.\u0275fac=function(qe){return new(qe||yt)};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[Me,Me]})}return yt})(),pe=(()=>{class yt{constructor(xt){this._animationMode=xt,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(qe){return new(qe||yt)(y.rXU(y.bc$,8))};static#t=this.\u0275cmp=y.VBU({type:yt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(qe,tt){2&qe&&y.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===tt.state)("mat-pseudo-checkbox-checked","checked"===tt.state)("mat-pseudo-checkbox-disabled",tt.disabled)("mat-pseudo-checkbox-minimal","minimal"===tt.appearance)("mat-pseudo-checkbox-full","full"===tt.appearance)("_mat-animation-noopable","NoopAnimations"===tt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[y.aNF],decls:0,vars:0,template:function(qe,tt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return yt})(),ke=(()=>{class yt{static#e=this.\u0275fac=function(qe){return new(qe||yt)};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[Me]})}return yt})();const Ne=new y.nKC("MAT_OPTION_PARENT_COMPONENT"),en=new y.nKC("MatOptgroup");let Kt=0;class rn{constructor(_t,xt=!1){this.source=_t,this.isUserInput=xt}}let vn=(()=>{class yt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(xt){this._disabled=xt}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(xt,qe,tt,Wt){this._element=xt,this._changeDetectorRef=qe,this._parent=tt,this.group=Wt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Kt++,this.onSelectionChange=new y.bkB,this._stateChanges=new B.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(xt=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),xt&&this._emitSelectionChangeEvent())}deselect(xt=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),xt&&this._emitSelectionChangeEvent())}focus(xt,qe){const tt=this._getHostElement();"function"==typeof tt.focus&&tt.focus(qe)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(xt){(xt.keyCode===N.Fm||xt.keyCode===N.t6)&&!(0,N.rp)(xt)&&(this._selectViaInteraction(),xt.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const xt=this.viewValue;xt!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=xt)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(xt=!1){this.onSelectionChange.emit(new rn(this,xt))}static#e=this.\u0275fac=function(qe){return new(qe||yt)(y.rXU(y.aKT),y.rXU(y.gRc),y.rXU(Ne,8),y.rXU(en,8))};static#t=this.\u0275cmp=y.VBU({type:yt,selectors:[["mat-option"]],viewQuery:function(qe,tt){if(1&qe&&y.GBs(G,7),2&qe){let Wt;y.mGM(Wt=y.lsd())&&(tt._text=Wt.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(qe,tt){1&qe&&y.bIt("click",function(){return tt._selectViaInteraction()})("keydown",function(Ft){return tt._handleKeydown(Ft)}),2&qe&&(y.Mr5("id",tt.id),y.BMQ("aria-selected",tt.selected)("aria-disabled",tt.disabled.toString()),y.AVh("mdc-list-item--selected",tt.selected)("mat-mdc-option-multiple",tt.multiple)("mat-mdc-option-active",tt.active)("mdc-list-item--disabled",tt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",y.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[y.GFd,y.aNF],ngContentSelectors:z,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(qe,tt){1&qe&&(y.NAR(L),y.DNE(0,ee,1,2,"mat-pseudo-checkbox",1),y.SdG(1),y.j41(2,"span",2,0),y.SdG(4,1),y.k0s(),y.DNE(5,q,1,1,"mat-pseudo-checkbox",3)(6,Z,2,1,"span",4),y.nrm(7,"div",5)),2&qe&&(y.vxM(tt.multiple?0:-1),y.R7$(5),y.vxM(tt.multiple||!tt.selected||tt.hideSingleSelectionIndicator?-1:5),y.R7$(),y.vxM(tt.group&&tt.group._inert?6:-1),y.R7$(),y.Y8G("matRippleTrigger",tt._getHostElement())("matRippleDisabled",tt.disabled||tt.disableRipple))},dependencies:[pe,M],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return yt})();function un(yt,_t,xt){if(xt.length){let qe=_t.toArray(),tt=xt.toArray(),Wt=0;for(let Ft=0;Ft<yt+1;Ft++)qe[Ft].group&&qe[Ft].group===tt[Wt]&&Wt++;return Wt}return 0}function sr(yt,_t,xt,qe){return yt<xt?yt:yt+_t>xt+qe?Math.max(0,yt-qe+_t):xt}let Cn=(()=>{class yt{static#e=this.\u0275fac=function(qe){return new(qe||yt)};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[Y,Me,ke]})}return yt})();const cn={capture:!0},qt=["focus","mousedown","mouseenter","touchstart"],bt="mat-ripple-loader-uninitialized",ut="mat-ripple-loader-class-name",Gt="mat-ripple-loader-centered",nn="mat-ripple-loader-disabled";let pn=(()=>{class yt{constructor(){this._document=(0,y.WQX)(w.qQ,{optional:!0}),this._animationMode=(0,y.WQX)(y.bc$,{optional:!0}),this._globalRippleOptions=(0,y.WQX)(T,{optional:!0}),this._platform=(0,y.WQX)(O.OD),this._ngZone=(0,y.WQX)(y.SKi),this._hosts=new Map,this._onInteraction=xt=>{const qe=(0,O.Fb)(xt);if(qe instanceof HTMLElement){const tt=qe.closest(`[${bt}="${this._globalRippleOptions?.namespace??""}"]`);tt&&this._createRipple(tt)}},this._ngZone.runOutsideAngular(()=>{for(const xt of qt)this._document?.addEventListener(xt,this._onInteraction,cn)})}ngOnDestroy(){const xt=this._hosts.keys();for(const qe of xt)this.destroyRipple(qe);for(const qe of qt)this._document?.removeEventListener(qe,this._onInteraction,cn)}configureRipple(xt,qe){xt.setAttribute(bt,this._globalRippleOptions?.namespace??""),(qe.className||!xt.hasAttribute(ut))&&xt.setAttribute(ut,qe.className||""),qe.centered&&xt.setAttribute(Gt,""),qe.disabled&&xt.setAttribute(nn,"")}getRipple(xt){return this._hosts.get(xt)||this._createRipple(xt)}setDisabled(xt,qe){const tt=this._hosts.get(xt);tt?tt.disabled=qe:qe?xt.setAttribute(nn,""):xt.removeAttribute(nn)}_createRipple(xt){if(!this._document)return;const qe=this._hosts.get(xt);if(qe)return qe;xt.querySelector(".mat-ripple")?.remove();const tt=this._document.createElement("span");tt.classList.add("mat-ripple",xt.getAttribute(ut)),xt.append(tt);const Wt=new M(new y.aKT(tt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Wt._isInitialized=!0,Wt.trigger=xt,Wt.centered=xt.hasAttribute(Gt),Wt.disabled=xt.hasAttribute(nn),this.attachRipple(xt,Wt),Wt}attachRipple(xt,qe){xt.removeAttribute(bt),this._hosts.set(xt,qe)}destroyRipple(xt){const qe=this._hosts.get(xt);qe&&(qe.ngOnDestroy(),this._hosts.delete(xt))}static#e=this.\u0275fac=function(qe){return new(qe||yt)};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),ur=(()=>{class yt{static#e=this.\u0275fac=function(qe){return new(qe||yt)};static#t=this.\u0275cmp=y.VBU({type:yt,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(qe,tt){2&qe&&y.AVh("mdc-form-field--align-end","before"===tt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[y.aNF],attrs:J,ngContentSelectors:se,decls:1,vars:0,template:function(qe,tt){1&qe&&(y.NAR(),y.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return yt})()},71997:(Je,j,_)=>{"use strict";_.d(j,{q:()=>H,w:()=>w});var y=_(93953),b=_(14085),P=_(86600);let H=(()=>{class O{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(B){this._vertical=(0,b.he)(B)}get inset(){return this._inset}set inset(B){this._inset=(0,b.he)(B)}static#e=this.\u0275fac=function(N){return new(N||O)};static#t=this.\u0275cmp=y.VBU({type:O,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(N,U){2&N&&(y.BMQ("aria-orientation",U.vertical?"vertical":"horizontal"),y.AVh("mat-divider-vertical",U.vertical)("mat-divider-horizontal",!U.vertical)("mat-divider-inset",U.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[y.aNF],decls:0,vars:0,template:function(N,U){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return O})(),w=(()=>{class O{static#e=this.\u0275fac=function(N){return new(N||O)};static#t=this.\u0275mod=y.$C({type:O});static#n=this.\u0275inj=y.G2t({imports:[P.yE,P.yE]})}return O})()},53719:(Je,j,_)=>{"use strict";_.d(j,{MV:()=>Ve,RG:()=>Ne,TL:()=>Ce,U$:()=>mt,nJ:()=>F,qT:()=>Qe,rl:()=>ke,xb:()=>Ue,yw:()=>be});var y=_(93953),b=_(28203),P=_(14085),H=_(36860),w=_(60177),O=_(18359),S=_(21413),B=_(57786),N=_(56977),U=_(98170),A=_(49969),G=_(72318),L=_(86600);const z=["notch"],ee=["matFormFieldNotchedOutline",""],q=["*"],Z=["textField"],J=["iconPrefixContainer"],se=["textPrefixContainer"],ce=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ae=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function fe(lt,en){1&lt&&y.nrm(0,"span",19)}function he(lt,en){if(1&lt&&(y.j41(0,"label",18),y.SdG(1,1),y.DNE(2,fe,1,0,"span",19),y.k0s()),2&lt){const It=y.XpG(2);y.Y8G("floating",It._shouldLabelFloat())("monitorResize",It._hasOutline())("id",It._labelId),y.BMQ("for",It._control.disableAutomaticLabeling?null:It._control.id),y.R7$(2),y.vxM(!It.hideRequiredMarker&&It._control.required?2:-1)}}function we(lt,en){if(1&lt&&y.DNE(0,he,3,5,"label",18),2&lt){const It=y.XpG();y.vxM(It._hasFloatingLabel()?0:-1)}}function Me(lt,en){1&lt&&y.nrm(0,"div",5)}function Pe(lt,en){}function C(lt,en){if(1&lt&&y.DNE(0,Pe,0,0,"ng-template",11),2&lt){y.XpG(2);const It=y.sdS(1);y.Y8G("ngTemplateOutlet",It)}}function a(lt,en){if(1&lt&&(y.j41(0,"div",7),y.DNE(1,C,1,1,null,11),y.k0s()),2&lt){const It=y.XpG();y.Y8G("matFormFieldNotchedOutlineOpen",It._shouldLabelFloat()),y.R7$(),y.vxM(It._forceDisplayInfixLabel()?-1:1)}}function d(lt,en){1&lt&&(y.j41(0,"div",8,2),y.SdG(2,2),y.k0s())}function m(lt,en){1&lt&&(y.j41(0,"div",9,3),y.SdG(2,3),y.k0s())}function p(lt,en){}function E(lt,en){if(1&lt&&y.DNE(0,p,0,0,"ng-template",11),2&lt){y.XpG();const It=y.sdS(1);y.Y8G("ngTemplateOutlet",It)}}function D(lt,en){1&lt&&(y.j41(0,"div",12),y.SdG(1,4),y.k0s())}function R(lt,en){1&lt&&(y.j41(0,"div",13),y.SdG(1,5),y.k0s())}function x(lt,en){1&lt&&y.nrm(0,"div",14)}function s(lt,en){if(1&lt&&(y.j41(0,"div",16),y.SdG(1,6),y.k0s()),2&lt){const It=y.XpG();y.Y8G("@transitionMessages",It._subscriptAnimationState)}}function v(lt,en){if(1&lt&&(y.j41(0,"mat-hint",20),y.EFF(1),y.k0s()),2&lt){const It=y.XpG(2);y.Y8G("id",It._hintLabelId),y.R7$(),y.JRh(It.hintLabel)}}function $(lt,en){if(1&lt&&(y.j41(0,"div",17),y.DNE(1,v,2,2,"mat-hint",20),y.SdG(2,7),y.nrm(3,"div",21),y.SdG(4,8),y.k0s()),2&lt){const It=y.XpG();y.Y8G("@transitionMessages",It._subscriptAnimationState),y.R7$(),y.vxM(It.hintLabel?1:-1)}}let F=(()=>{class lt{static#e=this.\u0275fac=function(Kt){return new(Kt||lt)};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["mat-label"]],standalone:!0})}return lt})(),Q=0;const de=new y.nKC("MatError");let Ce=(()=>{class lt{constructor(It,Kt){this.id="mat-mdc-error-"+Q++,It||Kt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)(y.kS0("aria-live"),y.rXU(y.aKT))};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Kt,rn){2&Kt&&y.Mr5("id",rn.id)},inputs:{id:"id"},standalone:!0,features:[y.Jv_([{provide:de,useExisting:lt}])]})}return lt})(),Re=0,Ve=(()=>{class lt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Re++}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Kt,rn){2&Kt&&(y.Mr5("id",rn.id),y.BMQ("align",null),y.AVh("mat-mdc-form-field-hint-end","end"===rn.align))},inputs:{align:"align",id:"id"},standalone:!0})}return lt})();const Ee=new y.nKC("MatPrefix"),Fe=new y.nKC("MatSuffix");let be=(()=>{class lt{constructor(){this._isText=!1}set _isTextSelector(It){this._isText=!0}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[y.Jv_([{provide:Fe,useExisting:lt}])]})}return lt})();const Ae=new y.nKC("FloatingLabelParent");let ge=(()=>{class lt{get floating(){return this._floating}set floating(It){this._floating=It,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(It){this._monitorResize=It,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(It){this._elementRef=It,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,y.WQX)(U.a),this._ngZone=(0,y.WQX)(y.SKi),this._parent=(0,y.WQX)(Ae),this._resizeSubscription=new O.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function me(lt){if(null!==lt.offsetParent)return lt.scrollWidth;const It=lt.cloneNode(!0);It.style.setProperty("position","absolute"),It.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(It);const Kt=It.scrollWidth;return It.remove(),Kt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)(y.rXU(y.aKT))};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Kt,rn){2&Kt&&y.AVh("mdc-floating-label--float-above",rn.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return lt})();const te="mdc-line-ripple--active",ne="mdc-line-ripple--deactivating";let ue=(()=>{class lt{constructor(It,Kt){this._elementRef=It,this._handleTransitionEnd=rn=>{const vn=this._elementRef.nativeElement.classList,un=vn.contains(ne);"opacity"===rn.propertyName&&un&&vn.remove(te,ne)},Kt.runOutsideAngular(()=>{It.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const It=this._elementRef.nativeElement.classList;It.remove(ne),It.add(te)}deactivate(){this._elementRef.nativeElement.classList.add(ne)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)(y.rXU(y.aKT),y.rXU(y.SKi))};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return lt})(),De=(()=>{class lt{constructor(It,Kt){this._elementRef=It,this._ngZone=Kt,this.open=!1}ngAfterViewInit(){const It=this._elementRef.nativeElement.querySelector(".mdc-floating-label");It?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(It.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>It.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(It){this._notch.nativeElement.style.width=this.open&&It?`calc(${It}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)(y.rXU(y.aKT),y.rXU(y.SKi))};static#t=this.\u0275cmp=y.VBU({type:lt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Kt,rn){if(1&Kt&&y.GBs(z,5),2&Kt){let vn;y.mGM(vn=y.lsd())&&(rn._notch=vn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Kt,rn){2&Kt&&y.AVh("mdc-notched-outline--notched",rn.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[y.aNF],attrs:ee,ngContentSelectors:q,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(Kt,rn){1&Kt&&(y.NAR(),y.nrm(0,"div",1),y.j41(1,"div",2,0),y.SdG(3),y.k0s(),y.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return lt})();const Be={transitionMessages:(0,A.hZ)("transitionMessages",[(0,A.wk)("enter",(0,A.iF)({opacity:1,transform:"translateY(0%)"})),(0,A.kY)("void => enter",[(0,A.iF)({opacity:0,transform:"translateY(-5px)"}),(0,A.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Qe=(()=>{class lt{static#e=this.\u0275fac=function(Kt){return new(Kt||lt)};static#t=this.\u0275dir=y.FsC({type:lt})}return lt})();const Ue=new y.nKC("MatFormField"),mt=new y.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let K=0;const T="fill",Y="fixed";let ke=(()=>{class lt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(It){this._hideRequiredMarker=(0,P.he)(It)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(It){It!==this._floatLabel&&(this._floatLabel=It,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(It){const Kt=this._appearance;this._appearance=It||this._defaults?.appearance||T,"outline"===this._appearance&&this._appearance!==Kt&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Y}set subscriptSizing(It){this._subscriptSizing=It||this._defaults?.subscriptSizing||Y}get hintLabel(){return this._hintLabel}set hintLabel(It){this._hintLabel=It,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(It){this._explicitFormFieldControl=It}constructor(It,Kt,rn,vn,un,sr,Cn,cn){this._elementRef=It,this._changeDetectorRef=Kt,this._dir=vn,this._platform=un,this._defaults=sr,this._animationMode=Cn,this._labelChild=(0,y.sbv)(F),this._hideRequiredMarker=!1,this.color="primary",this._appearance=T,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+K++,this._hintLabelId="mat-mdc-hint-"+K++,this._subscriptAnimationState="",this._destroyed=new S.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,y.WQX)(y.zZn),this.getLabelId=(0,y.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,y.EWP)(()=>!!this._labelChild()),sr&&(sr.appearance&&(this.appearance=sr.appearance),this._hideRequiredMarker=!!sr?.hideRequiredMarker,sr.color&&(this.color=sr.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const It=this._control;It.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${It.controlType}`),It.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),It.ngControl&&It.ngControl.valueChanges&&It.ngControl.valueChanges.pipe((0,N.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(It=>!It._isText),this._hasTextPrefix=!!this._prefixChildren.find(It=>It._isText),this._hasIconSuffix=!!this._suffixChildren.find(It=>!It._isText),this._hasTextSuffix=!!this._suffixChildren.find(It=>It._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,B.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,y.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,N.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(It){const Kt=this._control?this._control.ngControl:null;return Kt&&Kt[It]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let It=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&It.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Kt=this._hintChildren?this._hintChildren.find(vn=>"start"===vn.align):null,rn=this._hintChildren?this._hintChildren.find(vn=>"end"===vn.align):null;Kt?It.push(Kt.id):this._hintLabel&&It.push(this._hintLabelId),rn&&It.push(rn.id)}else this._errorChildren&&It.push(...this._errorChildren.map(Kt=>Kt.id));this._control.setDescribedByIds(It)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const It=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(It.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Kt=this._iconPrefixContainer?.nativeElement,rn=this._textPrefixContainer?.nativeElement,vn=Kt?.getBoundingClientRect().width??0,un=rn?.getBoundingClientRect().width??0;It.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${vn+un}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const It=this._elementRef.nativeElement;if(It.getRootNode){const Kt=It.getRootNode();return Kt&&Kt!==It}return document.documentElement.contains(It)}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)(y.rXU(y.aKT),y.rXU(y.gRc),y.rXU(y.SKi),y.rXU(b.dS),y.rXU(H.OD),y.rXU(mt,8),y.rXU(y.bc$,8),y.rXU(w.qQ))};static#t=this.\u0275cmp=y.VBU({type:lt,selectors:[["mat-form-field"]],contentQueries:function(Kt,rn,vn){if(1&Kt&&(y.C6U(vn,rn._labelChild,F,5),y.wni(vn,Qe,5),y.wni(vn,Ee,5),y.wni(vn,Fe,5),y.wni(vn,de,5),y.wni(vn,Ve,5)),2&Kt){let un;y.NyB(),y.mGM(un=y.lsd())&&(rn._formFieldControl=un.first),y.mGM(un=y.lsd())&&(rn._prefixChildren=un),y.mGM(un=y.lsd())&&(rn._suffixChildren=un),y.mGM(un=y.lsd())&&(rn._errorChildren=un),y.mGM(un=y.lsd())&&(rn._hintChildren=un)}},viewQuery:function(Kt,rn){if(1&Kt&&(y.GBs(Z,5),y.GBs(J,5),y.GBs(se,5),y.GBs(ge,5),y.GBs(De,5),y.GBs(ue,5)),2&Kt){let vn;y.mGM(vn=y.lsd())&&(rn._textField=vn.first),y.mGM(vn=y.lsd())&&(rn._iconPrefixContainer=vn.first),y.mGM(vn=y.lsd())&&(rn._textPrefixContainer=vn.first),y.mGM(vn=y.lsd())&&(rn._floatingLabel=vn.first),y.mGM(vn=y.lsd())&&(rn._notchedOutline=vn.first),y.mGM(vn=y.lsd())&&(rn._lineRipple=vn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Kt,rn){2&Kt&&y.AVh("mat-mdc-form-field-label-always-float",rn._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",rn._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",rn._hasIconSuffix)("mat-form-field-invalid",rn._control.errorState)("mat-form-field-disabled",rn._control.disabled)("mat-form-field-autofilled",rn._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===rn._animationMode)("mat-form-field-appearance-fill","fill"==rn.appearance)("mat-form-field-appearance-outline","outline"==rn.appearance)("mat-form-field-hide-placeholder",rn._hasFloatingLabel()&&!rn._shouldLabelFloat())("mat-focused",rn._control.focused)("mat-primary","accent"!==rn.color&&"warn"!==rn.color)("mat-accent","accent"===rn.color)("mat-warn","warn"===rn.color)("ng-untouched",rn._shouldForward("untouched"))("ng-touched",rn._shouldForward("touched"))("ng-pristine",rn._shouldForward("pristine"))("ng-dirty",rn._shouldForward("dirty"))("ng-valid",rn._shouldForward("valid"))("ng-invalid",rn._shouldForward("invalid"))("ng-pending",rn._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[y.Jv_([{provide:Ue,useExisting:lt},{provide:Ae,useExisting:lt}]),y.aNF],ngContentSelectors:ae,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Kt,rn){if(1&Kt){const vn=y.RV6();y.NAR(ce),y.DNE(0,we,1,1,"ng-template",null,0,y.C5r),y.j41(2,"div",4,1),y.bIt("click",function(sr){return y.eBV(vn),y.Njj(rn._control.onContainerClick(sr))}),y.DNE(4,Me,1,0,"div",5),y.j41(5,"div",6),y.DNE(6,a,2,2,"div",7)(7,d,3,0,"div",8)(8,m,3,0,"div",9),y.j41(9,"div",10),y.DNE(10,E,1,1,null,11),y.SdG(11),y.k0s(),y.DNE(12,D,2,0,"div",12)(13,R,2,0,"div",13),y.k0s(),y.DNE(14,x,1,0,"div",14),y.k0s(),y.j41(15,"div",15),y.DNE(16,s,2,1,"div",16)(17,$,5,2,"div",17),y.k0s()}if(2&Kt){let vn;y.R7$(2),y.AVh("mdc-text-field--filled",!rn._hasOutline())("mdc-text-field--outlined",rn._hasOutline())("mdc-text-field--no-label",!rn._hasFloatingLabel())("mdc-text-field--disabled",rn._control.disabled)("mdc-text-field--invalid",rn._control.errorState),y.R7$(2),y.vxM(rn._hasOutline()||rn._control.disabled?-1:4),y.R7$(2),y.vxM(rn._hasOutline()?6:-1),y.R7$(),y.vxM(rn._hasIconPrefix?7:-1),y.R7$(),y.vxM(rn._hasTextPrefix?8:-1),y.R7$(2),y.vxM(!rn._hasOutline()||rn._forceDisplayInfixLabel()?10:-1),y.R7$(2),y.vxM(rn._hasTextSuffix?12:-1),y.R7$(),y.vxM(rn._hasIconSuffix?13:-1),y.R7$(),y.vxM(rn._hasOutline()?-1:14),y.R7$(),y.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===rn.subscriptSizing),y.R7$(),y.vxM("error"===(vn=rn._getDisplayedMessages())?16:"hint"===vn?17:-1)}},dependencies:[ge,De,w.T3,ue,Ve],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Be.transitionMessages]},changeDetection:0})}return lt})(),Ne=(()=>{class lt{static#e=this.\u0275fac=function(Kt){return new(Kt||lt)};static#t=this.\u0275mod=y.$C({type:lt});static#n=this.\u0275inj=y.G2t({imports:[L.yE,w.MD,G.w5,L.yE]})}return lt})()},99213:(Je,j,_)=>{"use strict";_.d(j,{An:()=>v,m_:()=>$});var y=_(93953),b=_(86600),P=_(60177),H=_(7673),w=_(18810),O=_(27468),S=_(18359),B=_(88141),N=_(96354),U=_(99437),A=_(70980),G=_(97647),L=_(96697),z=_(21626),ee=_(345);const q=["*"];let Z;function se(F){return function J(){if(void 0===Z&&(Z=null,typeof window<"u")){const F=window;void 0!==F.trustedTypes&&(Z=F.trustedTypes.createPolicy("angular#components",{createHTML:Q=>Q}))}return Z}()?.createHTML(F)||F}function ce(F){return Error(`Unable to find icon with the name "${F}"`)}function fe(F){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${F}".`)}function he(F){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${F}".`)}class we{constructor(Q,de,Ce){this.url=Q,this.svgText=de,this.options=Ce}}let Me=(()=>{class F{constructor(de,Ce,Re,Ve){this._httpClient=de,this._sanitizer=Ce,this._errorHandler=Ve,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Re}addSvgIcon(de,Ce,Re){return this.addSvgIconInNamespace("",de,Ce,Re)}addSvgIconLiteral(de,Ce,Re){return this.addSvgIconLiteralInNamespace("",de,Ce,Re)}addSvgIconInNamespace(de,Ce,Re,Ve){return this._addSvgIconConfig(de,Ce,new we(Re,null,Ve))}addSvgIconResolver(de){return this._resolvers.push(de),this}addSvgIconLiteralInNamespace(de,Ce,Re,Ve){const Ee=this._sanitizer.sanitize(y.WPN.HTML,Re);if(!Ee)throw he(Re);const _e=se(Ee);return this._addSvgIconConfig(de,Ce,new we("",_e,Ve))}addSvgIconSet(de,Ce){return this.addSvgIconSetInNamespace("",de,Ce)}addSvgIconSetLiteral(de,Ce){return this.addSvgIconSetLiteralInNamespace("",de,Ce)}addSvgIconSetInNamespace(de,Ce,Re){return this._addSvgIconSetConfig(de,new we(Ce,null,Re))}addSvgIconSetLiteralInNamespace(de,Ce,Re){const Ve=this._sanitizer.sanitize(y.WPN.HTML,Ce);if(!Ve)throw he(Ce);const Ee=se(Ve);return this._addSvgIconSetConfig(de,new we("",Ee,Re))}registerFontClassAlias(de,Ce=de){return this._fontCssClassesByAlias.set(de,Ce),this}classNameForFontAlias(de){return this._fontCssClassesByAlias.get(de)||de}setDefaultFontSetClass(...de){return this._defaultFontSetClass=de,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(de){const Ce=this._sanitizer.sanitize(y.WPN.RESOURCE_URL,de);if(!Ce)throw fe(de);const Re=this._cachedIconsByUrl.get(Ce);return Re?(0,H.of)(a(Re)):this._loadSvgIconFromConfig(new we(de,null)).pipe((0,B.M)(Ve=>this._cachedIconsByUrl.set(Ce,Ve)),(0,N.T)(Ve=>a(Ve)))}getNamedSvgIcon(de,Ce=""){const Re=d(Ce,de);let Ve=this._svgIconConfigs.get(Re);if(Ve)return this._getSvgFromConfig(Ve);if(Ve=this._getIconConfigFromResolvers(Ce,de),Ve)return this._svgIconConfigs.set(Re,Ve),this._getSvgFromConfig(Ve);const Ee=this._iconSetConfigs.get(Ce);return Ee?this._getSvgFromIconSetConfigs(de,Ee):(0,w.$)(ce(Re))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(de){return de.svgText?(0,H.of)(a(this._svgElementFromConfig(de))):this._loadSvgIconFromConfig(de).pipe((0,N.T)(Ce=>a(Ce)))}_getSvgFromIconSetConfigs(de,Ce){const Re=this._extractIconWithNameFromAnySet(de,Ce);if(Re)return(0,H.of)(Re);const Ve=Ce.filter(Ee=>!Ee.svgText).map(Ee=>this._loadSvgIconSetFromConfig(Ee).pipe((0,U.W)(_e=>{const be=`Loading icon set URL: ${this._sanitizer.sanitize(y.WPN.RESOURCE_URL,Ee.url)} failed: ${_e.message}`;return this._errorHandler.handleError(new Error(be)),(0,H.of)(null)})));return(0,O.p)(Ve).pipe((0,N.T)(()=>{const Ee=this._extractIconWithNameFromAnySet(de,Ce);if(!Ee)throw ce(de);return Ee}))}_extractIconWithNameFromAnySet(de,Ce){for(let Re=Ce.length-1;Re>=0;Re--){const Ve=Ce[Re];if(Ve.svgText&&Ve.svgText.toString().indexOf(de)>-1){const Ee=this._svgElementFromConfig(Ve),_e=this._extractSvgIconFromSet(Ee,de,Ve.options);if(_e)return _e}}return null}_loadSvgIconFromConfig(de){return this._fetchIcon(de).pipe((0,B.M)(Ce=>de.svgText=Ce),(0,N.T)(()=>this._svgElementFromConfig(de)))}_loadSvgIconSetFromConfig(de){return de.svgText?(0,H.of)(null):this._fetchIcon(de).pipe((0,B.M)(Ce=>de.svgText=Ce))}_extractSvgIconFromSet(de,Ce,Re){const Ve=de.querySelector(`[id="${Ce}"]`);if(!Ve)return null;const Ee=Ve.cloneNode(!0);if(Ee.removeAttribute("id"),"svg"===Ee.nodeName.toLowerCase())return this._setSvgAttributes(Ee,Re);if("symbol"===Ee.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ee),Re);const _e=this._svgElementFromString(se("<svg></svg>"));return _e.appendChild(Ee),this._setSvgAttributes(_e,Re)}_svgElementFromString(de){const Ce=this._document.createElement("DIV");Ce.innerHTML=de;const Re=Ce.querySelector("svg");if(!Re)throw Error("<svg> tag not found");return Re}_toSvgElement(de){const Ce=this._svgElementFromString(se("<svg></svg>")),Re=de.attributes;for(let Ve=0;Ve<Re.length;Ve++){const{name:Ee,value:_e}=Re[Ve];"id"!==Ee&&Ce.setAttribute(Ee,_e)}for(let Ve=0;Ve<de.childNodes.length;Ve++)de.childNodes[Ve].nodeType===this._document.ELEMENT_NODE&&Ce.appendChild(de.childNodes[Ve].cloneNode(!0));return Ce}_setSvgAttributes(de,Ce){return de.setAttribute("fit",""),de.setAttribute("height","100%"),de.setAttribute("width","100%"),de.setAttribute("preserveAspectRatio","xMidYMid meet"),de.setAttribute("focusable","false"),Ce&&Ce.viewBox&&de.setAttribute("viewBox",Ce.viewBox),de}_fetchIcon(de){const{url:Ce,options:Re}=de,Ve=Re?.withCredentials??!1;if(!this._httpClient)throw function ae(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Ce)throw Error(`Cannot fetch icon from URL "${Ce}".`);const Ee=this._sanitizer.sanitize(y.WPN.RESOURCE_URL,Ce);if(!Ee)throw fe(Ce);const _e=this._inProgressUrlFetches.get(Ee);if(_e)return _e;const Fe=this._httpClient.get(Ee,{responseType:"text",withCredentials:Ve}).pipe((0,N.T)(be=>se(be)),(0,A.j)(()=>this._inProgressUrlFetches.delete(Ee)),(0,G.u)());return this._inProgressUrlFetches.set(Ee,Fe),Fe}_addSvgIconConfig(de,Ce,Re){return this._svgIconConfigs.set(d(de,Ce),Re),this}_addSvgIconSetConfig(de,Ce){const Re=this._iconSetConfigs.get(de);return Re?Re.push(Ce):this._iconSetConfigs.set(de,[Ce]),this}_svgElementFromConfig(de){if(!de.svgElement){const Ce=this._svgElementFromString(de.svgText);this._setSvgAttributes(Ce,de.options),de.svgElement=Ce}return de.svgElement}_getIconConfigFromResolvers(de,Ce){for(let Re=0;Re<this._resolvers.length;Re++){const Ve=this._resolvers[Re](Ce,de);if(Ve)return m(Ve)?new we(Ve.url,null,Ve.options):new we(Ve,null)}}static#e=this.\u0275fac=function(Ce){return new(Ce||F)(y.KVO(z.Qq,8),y.KVO(ee.up),y.KVO(P.qQ,8),y.KVO(y.zcH))};static#t=this.\u0275prov=y.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();function a(F){return F.cloneNode(!0)}function d(F,Q){return F+":"+Q}function m(F){return!(!F.url||!F.options)}const p=new y.nKC("MAT_ICON_DEFAULT_OPTIONS"),E=new y.nKC("mat-icon-location",{providedIn:"root",factory:function D(){const F=(0,y.WQX)(P.qQ),Q=F?F.location:null;return{getPathname:()=>Q?Q.pathname+Q.search:""}}}),R=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],x=R.map(F=>`[${F}]`).join(", "),s=/^url\(['"]?#(.*?)['"]?\)$/;let v=(()=>{class F{get color(){return this._color||this._defaultColor}set color(de){this._color=de}get svgIcon(){return this._svgIcon}set svgIcon(de){de!==this._svgIcon&&(de?this._updateSvgIcon(de):this._svgIcon&&this._clearSvgElement(),this._svgIcon=de)}get fontSet(){return this._fontSet}set fontSet(de){const Ce=this._cleanupFontValue(de);Ce!==this._fontSet&&(this._fontSet=Ce,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(de){const Ce=this._cleanupFontValue(de);Ce!==this._fontIcon&&(this._fontIcon=Ce,this._updateFontIconClasses())}constructor(de,Ce,Re,Ve,Ee,_e){this._elementRef=de,this._iconRegistry=Ce,this._location=Ve,this._errorHandler=Ee,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=S.yU.EMPTY,_e&&(_e.color&&(this.color=this._defaultColor=_e.color),_e.fontSet&&(this.fontSet=_e.fontSet)),Re||de.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(de){if(!de)return["",""];const Ce=de.split(":");switch(Ce.length){case 1:return["",Ce[0]];case 2:return Ce;default:throw Error(`Invalid icon name: "${de}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const de=this._elementsWithExternalReferences;if(de&&de.size){const Ce=this._location.getPathname();Ce!==this._previousPath&&(this._previousPath=Ce,this._prependPathToReferences(Ce))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(de){this._clearSvgElement();const Ce=this._location.getPathname();this._previousPath=Ce,this._cacheChildrenWithExternalReferences(de),this._prependPathToReferences(Ce),this._elementRef.nativeElement.appendChild(de)}_clearSvgElement(){const de=this._elementRef.nativeElement;let Ce=de.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Ce--;){const Re=de.childNodes[Ce];(1!==Re.nodeType||"svg"===Re.nodeName.toLowerCase())&&Re.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const de=this._elementRef.nativeElement,Ce=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Re=>Re.length>0);this._previousFontSetClass.forEach(Re=>de.classList.remove(Re)),Ce.forEach(Re=>de.classList.add(Re)),this._previousFontSetClass=Ce,this.fontIcon!==this._previousFontIconClass&&!Ce.includes("mat-ligature-font")&&(this._previousFontIconClass&&de.classList.remove(this._previousFontIconClass),this.fontIcon&&de.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(de){return"string"==typeof de?de.trim().split(" ")[0]:de}_prependPathToReferences(de){const Ce=this._elementsWithExternalReferences;Ce&&Ce.forEach((Re,Ve)=>{Re.forEach(Ee=>{Ve.setAttribute(Ee.name,`url('${de}#${Ee.value}')`)})})}_cacheChildrenWithExternalReferences(de){const Ce=de.querySelectorAll(x),Re=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ve=0;Ve<Ce.length;Ve++)R.forEach(Ee=>{const _e=Ce[Ve],Fe=_e.getAttribute(Ee),be=Fe?Fe.match(s):null;if(be){let Ae=Re.get(_e);Ae||(Ae=[],Re.set(_e,Ae)),Ae.push({name:Ee,value:be[1]})}})}_updateSvgIcon(de){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),de){const[Ce,Re]=this._splitIconName(de);Ce&&(this._svgNamespace=Ce),Re&&(this._svgName=Re),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Re,Ce).pipe((0,L.s)(1)).subscribe(Ve=>this._setSvgElement(Ve),Ve=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Ce}:${Re}! ${Ve.message}`))})}}static#e=this.\u0275fac=function(Ce){return new(Ce||F)(y.rXU(y.aKT),y.rXU(Me),y.kS0("aria-hidden"),y.rXU(E),y.rXU(y.zcH),y.rXU(p,8))};static#t=this.\u0275cmp=y.VBU({type:F,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(Ce,Re){2&Ce&&(y.BMQ("data-mat-icon-type",Re._usingFontIcon()?"font":"svg")("data-mat-icon-name",Re._svgName||Re.fontIcon)("data-mat-icon-namespace",Re._svgNamespace||Re.fontSet)("fontIcon",Re._usingFontIcon()?Re.fontIcon:null),y.HbH(Re.color?"mat-"+Re.color:""),y.AVh("mat-icon-inline",Re.inline)("mat-icon-no-color","primary"!==Re.color&&"accent"!==Re.color&&"warn"!==Re.color))},inputs:{color:"color",inline:[2,"inline","inline",y.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[y.GFd,y.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(Ce,Re){1&Ce&&(y.NAR(),y.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return F})(),$=(()=>{class F{static#e=this.\u0275fac=function(Ce){return new(Ce||F)};static#t=this.\u0275mod=y.$C({type:F});static#n=this.\u0275inj=y.G2t({imports:[b.yE,b.yE]})}return F})()},99631:(Je,j,_)=>{"use strict";_.d(j,{fg:()=>J,fS:()=>se});var y=_(14085),b=_(36860),P=_(93953),H=_(983),w=_(21413);const O=(0,b.BQ)({passive:!0});let S=(()=>{class ce{constructor(fe,he){this._platform=fe,this._ngZone=he,this._monitoredElements=new Map}monitor(fe){if(!this._platform.isBrowser)return H.w;const he=(0,y.i8)(fe),we=this._monitoredElements.get(he);if(we)return we.subject;const Me=new w.B,Pe="cdk-text-field-autofilled",C=a=>{"cdk-text-field-autofill-start"!==a.animationName||he.classList.contains(Pe)?"cdk-text-field-autofill-end"===a.animationName&&he.classList.contains(Pe)&&(he.classList.remove(Pe),this._ngZone.run(()=>Me.next({target:a.target,isAutofilled:!1}))):(he.classList.add(Pe),this._ngZone.run(()=>Me.next({target:a.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{he.addEventListener("animationstart",C,O),he.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(he,{subject:Me,unlisten:()=>{he.removeEventListener("animationstart",C,O)}}),Me}stopMonitoring(fe){const he=(0,y.i8)(fe),we=this._monitoredElements.get(he);we&&(we.unlisten(),we.subject.complete(),he.classList.remove("cdk-text-field-autofill-monitored"),he.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(he))}ngOnDestroy(){this._monitoredElements.forEach((fe,he)=>this.stopMonitoring(he))}static#e=this.\u0275fac=function(he){return new(he||ce)(P.KVO(b.OD),P.KVO(P.SKi))};static#t=this.\u0275prov=P.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),U=(()=>{class ce{static#e=this.\u0275fac=function(he){return new(he||ce)};static#t=this.\u0275mod=P.$C({type:ce});static#n=this.\u0275inj=P.G2t({})}return ce})();var A=_(89417),G=_(86600),L=_(53719);const ee=new P.nKC("MAT_INPUT_VALUE_ACCESSOR"),q=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Z=0,J=(()=>{class ce{get disabled(){return this._disabled}set disabled(fe){this._disabled=(0,y.he)(fe),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(fe){this._id=fe||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(A.k0.required)??!1}set required(fe){this._required=(0,y.he)(fe)}get type(){return this._type}set type(fe){this._type=fe||"text",this._validateType(),!this._isTextarea&&(0,b.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(fe){this._errorStateTracker.matcher=fe}get value(){return this._inputValueAccessor.value}set value(fe){fe!==this.value&&(this._inputValueAccessor.value=fe,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(fe){this._readonly=(0,y.he)(fe)}get errorState(){return this._errorStateTracker.errorState}set errorState(fe){this._errorStateTracker.errorState=fe}constructor(fe,he,we,Me,Pe,C,a,d,m,p){this._elementRef=fe,this._platform=he,this.ngControl=we,this._autofillMonitor=d,this._formField=p,this._uid="mat-input-"+Z++,this.focused=!1,this.stateChanges=new w.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(R=>(0,b.MU)().has(R)),this._iOSKeyupListener=R=>{const x=R.target;!x.value&&0===x.selectionStart&&0===x.selectionEnd&&(x.setSelectionRange(1,1),x.setSelectionRange(0,0))};const E=this._elementRef.nativeElement,D=E.nodeName.toLowerCase();this._inputValueAccessor=a||E,this._previousNativeValue=this.value,this.id=this.id,he.IOS&&m.runOutsideAngular(()=>{fe.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new G.X0(C,we,Pe,Me,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===D,this._isTextarea="textarea"===D,this._isInFormField=!!p,this._isNativeSelect&&(this.controlType=E.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(fe=>{this.autofilled=fe.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(fe){this._elementRef.nativeElement.focus(fe)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(fe){fe!==this.focused&&(this.focused=fe,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const fe=this._elementRef.nativeElement.value;this._previousNativeValue!==fe&&(this._previousNativeValue=fe,this.stateChanges.next())}_dirtyCheckPlaceholder(){const fe=this._getPlaceholder();if(fe!==this._previousPlaceholder){const he=this._elementRef.nativeElement;this._previousPlaceholder=fe,fe?he.setAttribute("placeholder",fe):he.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){q.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let fe=this._elementRef.nativeElement.validity;return fe&&fe.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const fe=this._elementRef.nativeElement,he=fe.options[0];return this.focused||fe.multiple||!this.empty||!!(fe.selectedIndex>-1&&he&&he.label)}return this.focused||!this.empty}setDescribedByIds(fe){fe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",fe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const fe=this._elementRef.nativeElement;return this._isNativeSelect&&(fe.multiple||fe.size>1)}static#e=this.\u0275fac=function(he){return new(he||ce)(P.rXU(P.aKT),P.rXU(b.OD),P.rXU(A.vO,10),P.rXU(A.cV,8),P.rXU(A.j4,8),P.rXU(G.es),P.rXU(ee,10),P.rXU(S),P.rXU(P.SKi),P.rXU(L.xb,8))};static#t=this.\u0275dir=P.FsC({type:ce,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(he,we){1&he&&P.bIt("focus",function(){return we._focusChanged(!0)})("blur",function(){return we._focusChanged(!1)})("input",function(){return we._onInput()}),2&he&&(P.Mr5("id",we.id)("disabled",we.disabled)("required",we.required),P.BMQ("name",we.name||null)("readonly",we.readonly&&!we._isNativeSelect||null)("aria-invalid",we.empty&&we.required?null:we.errorState)("aria-required",we.required)("id",we.id),P.AVh("mat-input-server",we._isServer)("mat-mdc-form-field-textarea-control",we._isInFormField&&we._isTextarea)("mat-mdc-form-field-input-control",we._isInFormField)("mdc-text-field__input",we._isInFormField)("mat-mdc-native-select-inline",we._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[P.Jv_([{provide:L.qT,useExisting:ce}]),P.OA$]})}return ce})(),se=(()=>{class ce{static#e=this.\u0275fac=function(he){return new(he||ce)};static#t=this.\u0275mod=P.$C({type:ce});static#n=this.\u0275inj=P.G2t({imports:[G.yE,L.RG,L.RG,U,G.yE]})}return ce})()},3902:(Je,j,_)=>{"use strict";_.d(j,{C_:()=>de,EI:()=>Be,Fg:()=>mt,YE:()=>ne,ZV:()=>Ee,_L:()=>ze,jt:()=>te,yE:()=>Q,zi:()=>Ve});var y=_(93953),b=_(14085),P=_(36860),H=_(86600),w=_(18359),O=_(57786),B=(_(21413),_(72318)),N=_(60177),U=_(71997);_(18617),_(45024),_(67336),_(89417),_(56977);const q=["*"],Z='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color);font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color);font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color);opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color);opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',J=["unscopedContent"],se=["text"],ce=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ae=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],F=new y.nKC("ListOption");let Q=(()=>{class K{constructor(M){this._elementRef=M}static#e=this.\u0275fac=function(Y){return new(Y||K)(y.rXU(y.aKT))};static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return K})(),de=(()=>{class K{constructor(M){this._elementRef=M}static#e=this.\u0275fac=function(Y){return new(Y||K)(y.rXU(y.aKT))};static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return K})(),Ce=(()=>{class K{static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return K})(),Re=(()=>{class K{constructor(M){this._listOption=M}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(Y){return new(Y||K)(y.rXU(F,8))};static#t=this.\u0275dir=y.FsC({type:K,hostVars:4,hostBindings:function(Y,pe){2&Y&&y.AVh("mdc-list-item__start",pe._isAlignedAtStart())("mdc-list-item__end",!pe._isAlignedAtStart())},standalone:!0})}return K})(),Ve=(()=>{class K extends Re{static#e=this.\u0275fac=(()=>{let M;return function(pe){return(M||(M=y.xGo(K)))(pe||K)}})();static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[y.Vt3]})}return K})(),Ee=(()=>{class K extends Re{static#e=this.\u0275fac=(()=>{let M;return function(pe){return(M||(M=y.xGo(K)))(pe||K)}})();static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[y.Vt3]})}return K})();const _e=new y.nKC("MAT_LIST_CONFIG");let Fe=(()=>{class K{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,y.WQX)(_e,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(M){this._disableRipple=(0,b.he)(M)}get disabled(){return this._disabled}set disabled(M){this._disabled=(0,b.he)(M)}static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275dir=y.FsC({type:K,hostVars:1,hostBindings:function(Y,pe){2&Y&&y.BMQ("aria-disabled",pe.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return K})(),be=(()=>{class K{set lines(M){this._explicitLines=(0,b.OE)(M,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(M){this._disableRipple=(0,b.he)(M)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(M){this._disabled=(0,b.he)(M)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(M,Y,pe,ke,Ne,lt){this._elementRef=M,this._ngZone=Y,this._listBase=pe,this._platform=ke,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new w.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=Ne||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===lt,pe&&!pe._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new H.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,O.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(M){if(!this._lines||!this._titles||!this._unscopedContent)return;M&&this._checkDomForUnscopedTextContent();const Y=this._explicitLines??this._inferLinesFromContent(),pe=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",Y<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",Y<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===Y),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===Y),this._hasUnscopedTextContent){const ke=0===this._titles.length&&1===Y;pe.classList.toggle("mdc-list-item__primary-text",ke),pe.classList.toggle("mdc-list-item__secondary-text",!ke)}else pe.classList.remove("mdc-list-item__primary-text"),pe.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let M=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(M+=1),M}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(M=>M.nodeType!==M.COMMENT_NODE).some(M=>!(!M.textContent||!M.textContent.trim()))}static#e=this.\u0275fac=function(Y){return new(Y||K)(y.rXU(y.aKT),y.rXU(y.SKi),y.rXU(Fe,8),y.rXU(P.OD),y.rXU(H.$E,8),y.rXU(y.bc$,8))};static#t=this.\u0275dir=y.FsC({type:K,contentQueries:function(Y,pe,ke){if(1&Y&&(y.wni(ke,Ve,4),y.wni(ke,Ee,4)),2&Y){let Ne;y.mGM(Ne=y.lsd())&&(pe._avatars=Ne),y.mGM(Ne=y.lsd())&&(pe._icons=Ne)}},hostVars:4,hostBindings:function(Y,pe){2&Y&&(y.BMQ("aria-disabled",pe.disabled)("disabled",pe._isButtonElement&&pe.disabled||null),y.AVh("mdc-list-item--disabled",pe.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return K})(),te=(()=>{class K extends Fe{static#e=this.\u0275fac=(()=>{let M;return function(pe){return(M||(M=y.xGo(K)))(pe||K)}})();static#t=this.\u0275cmp=y.VBU({type:K,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[y.Jv_([{provide:Fe,useExisting:K}]),y.Vt3,y.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(Y,pe){1&Y&&(y.NAR(),y.SdG(0))},styles:[Z],encapsulation:2,changeDetection:0})}return K})(),ne=(()=>{class K extends be{get activated(){return this._activated}set activated(M){this._activated=(0,b.he)(M)}constructor(M,Y,pe,ke,Ne,lt){super(M,Y,pe,ke,Ne,lt),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#e=this.\u0275fac=function(Y){return new(Y||K)(y.rXU(y.aKT),y.rXU(y.SKi),y.rXU(Fe,8),y.rXU(P.OD),y.rXU(H.$E,8),y.rXU(y.bc$,8))};static#t=this.\u0275cmp=y.VBU({type:K,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(Y,pe,ke){if(1&Y&&(y.wni(ke,de,5),y.wni(ke,Q,5),y.wni(ke,Ce,5)),2&Y){let Ne;y.mGM(Ne=y.lsd())&&(pe._lines=Ne),y.mGM(Ne=y.lsd())&&(pe._titles=Ne),y.mGM(Ne=y.lsd())&&(pe._meta=Ne)}},viewQuery:function(Y,pe){if(1&Y&&(y.GBs(J,5),y.GBs(se,5)),2&Y){let ke;y.mGM(ke=y.lsd())&&(pe._unscopedContent=ke.first),y.mGM(ke=y.lsd())&&(pe._itemText=ke.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(Y,pe){2&Y&&(y.BMQ("aria-current",pe._getAriaCurrent()),y.AVh("mdc-list-item--activated",pe.activated)("mdc-list-item--with-leading-avatar",0!==pe._avatars.length)("mdc-list-item--with-leading-icon",0!==pe._icons.length)("mdc-list-item--with-trailing-meta",0!==pe._meta.length)("mat-mdc-list-item-both-leading-and-trailing",pe._hasBothLeadingAndTrailing())("_mat-animation-noopable",pe._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[y.Vt3,y.aNF],ngContentSelectors:ae,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(Y,pe){if(1&Y){const ke=y.RV6();y.NAR(ce),y.SdG(0),y.j41(1,"span",1),y.SdG(2,1),y.SdG(3,2),y.j41(4,"span",2,0),y.bIt("cdkObserveContent",function(){return y.eBV(ke),y.Njj(pe._updateItemLines(!0))}),y.SdG(6,3),y.k0s()(),y.SdG(7,4),y.SdG(8,5),y.nrm(9,"div",3)}},dependencies:[B.Wv],encapsulation:2,changeDetection:0})}return K})(),Be=(()=>{class K{static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return K})(),ze=(()=>{class K extends Fe{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let M;return function(pe){return(M||(M=y.xGo(K)))(pe||K)}})();static#t=this.\u0275cmp=y.VBU({type:K,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[y.Jv_([{provide:Fe,useExisting:K}]),y.Vt3,y.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(Y,pe){1&Y&&(y.NAR(),y.SdG(0))},styles:[Z],encapsulation:2,changeDetection:0})}return K})(),mt=(()=>{class K{static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275mod=y.$C({type:K});static#n=this.\u0275inj=y.G2t({imports:[B.w5,N.MD,H.yE,H.pZ,H.O5,U.w]})}return K})()},59115:(Je,j,_)=>{"use strict";_.d(j,{Cn:()=>Ae,Cp:()=>be,fb:()=>m,kk:()=>Ce});var y=_(93953),b=_(18617),P=_(67336),H=_(21413),w=_(57786),O=_(18359),S=_(7673),B=_(25007),N=_(99172),U=_(25558),A=_(56977),G=_(5964),L=_(96697),z=_(91986),ee=_(60177),q=_(86600),Z=_(76939),J=_(49969),se=_(28203),ce=_(66969),ae=_(36860),fe=_(67333);const he=["mat-menu-item",""],we=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Me=["mat-icon, [matMenuItemIcon]","*"];function Pe(ge,me){1&ge&&(y.qSk(),y.j41(0,"svg",2),y.nrm(1,"polygon",3),y.k0s())}const C=["*"];function a(ge,me){if(1&ge){const te=y.RV6();y.j41(0,"div",0),y.bIt("keydown",function(ue){y.eBV(te);const De=y.XpG();return y.Njj(De._handleKeydown(ue))})("click",function(){y.eBV(te);const ue=y.XpG();return y.Njj(ue.closed.emit("click"))})("@transformMenu.start",function(ue){y.eBV(te);const De=y.XpG();return y.Njj(De._onAnimationStart(ue))})("@transformMenu.done",function(ue){y.eBV(te);const De=y.XpG();return y.Njj(De._onAnimationDone(ue))}),y.j41(1,"div",1),y.SdG(2),y.k0s()()}if(2&ge){const te=y.XpG();y.HbH(te._classList),y.Y8G("id",te.panelId)("@transformMenu",te._panelAnimationState),y.BMQ("aria-label",te.ariaLabel||null)("aria-labelledby",te.ariaLabelledby||null)("aria-describedby",te.ariaDescribedby||null)}}const d=new y.nKC("MAT_MENU_PANEL");let m=(()=>{class ge{constructor(te,ne,ue,De,Be){this._elementRef=te,this._document=ne,this._focusMonitor=ue,this._parentMenu=De,this._changeDetectorRef=Be,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new H.B,this._focused=new H.B,this._highlighted=!1,this._triggersSubmenu=!1,De?.addItem?.(this)}focus(te,ne){this._focusMonitor&&te?this._focusMonitor.focusVia(this._getHostElement(),te,ne):this._getHostElement().focus(ne),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(te){this.disabled&&(te.preventDefault(),te.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const te=this._elementRef.nativeElement.cloneNode(!0),ne=te.querySelectorAll("mat-icon, .material-icons");for(let ue=0;ue<ne.length;ue++)ne[ue].remove();return te.textContent?.trim()||""}_setHighlighted(te){this._highlighted=te,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(te){this._triggersSubmenu=te,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(ne){return new(ne||ge)(y.rXU(y.aKT),y.rXU(ee.qQ),y.rXU(b.FN),y.rXU(d,8),y.rXU(y.gRc))};static#t=this.\u0275cmp=y.VBU({type:ge,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(ne,ue){1&ne&&y.bIt("click",function(Be){return ue._checkDisabled(Be)})("mouseenter",function(){return ue._handleMouseEnter()}),2&ne&&(y.BMQ("role",ue.role)("tabindex",ue._getTabIndex())("aria-disabled",ue.disabled)("disabled",ue.disabled||null),y.AVh("mat-mdc-menu-item-highlighted",ue._highlighted)("mat-mdc-menu-item-submenu-trigger",ue._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",y.L39],disableRipple:[2,"disableRipple","disableRipple",y.L39]},exportAs:["matMenuItem"],standalone:!0,features:[y.GFd,y.aNF],attrs:he,ngContentSelectors:Me,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ne,ue){1&ne&&(y.NAR(we),y.SdG(0),y.j41(1,"span",0),y.SdG(2,1),y.k0s(),y.nrm(3,"div",1),y.DNE(4,Pe,2,0,":svg:svg",2)),2&ne&&(y.R7$(3),y.Y8G("matRippleDisabled",ue.disableRipple||ue.disabled)("matRippleTrigger",ue._getHostElement()),y.R7$(),y.vxM(ue._triggersSubmenu?4:-1))},dependencies:[q.r6],encapsulation:2,changeDetection:0})}return ge})();const R=new y.nKC("MatMenuContent"),s={transformMenu:(0,J.hZ)("transformMenu",[(0,J.wk)("void",(0,J.iF)({opacity:0,transform:"scale(0.8)"})),(0,J.kY)("void => enter",(0,J.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,J.iF)({opacity:1,transform:"scale(1)"}))),(0,J.kY)("* => void",(0,J.i0)("100ms 25ms linear",(0,J.iF)({opacity:0})))]),fadeInItems:(0,J.hZ)("fadeInItems",[(0,J.wk)("showing",(0,J.iF)({opacity:1})),(0,J.kY)("void => *",[(0,J.iF)({opacity:0}),(0,J.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let F=0;const Q=new y.nKC("mat-menu-default-options",{providedIn:"root",factory:function de(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ce=(()=>{class ge{get xPosition(){return this._xPosition}set xPosition(te){this._xPosition=te,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(te){this._yPosition=te,this.setPositionClasses()}set panelClass(te){const ne=this._previousPanelClass,ue={...this._classList};ne&&ne.length&&ne.split(" ").forEach(De=>{ue[De]=!1}),this._previousPanelClass=te,te&&te.length&&(te.split(" ").forEach(De=>{ue[De]=!0}),this._elementRef.nativeElement.className=""),this._classList=ue}get classList(){return this.panelClass}set classList(te){this.panelClass=te}constructor(te,ne,ue,De){this._elementRef=te,this._changeDetectorRef=De,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new y.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new H.B,this.closed=new y.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+F++,this._injector=(0,y.WQX)(y.zZn),this.overlayPanelClass=ue.overlayPanelClass||"",this._xPosition=ue.xPosition,this._yPosition=ue.yPosition,this.backdropClass=ue.backdropClass,this.overlapTrigger=ue.overlapTrigger,this.hasBackdrop=ue.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new b.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,N.Z)(this._directDescendantItems),(0,U.n)(te=>(0,w.h)(...te.map(ne=>ne._focused)))).subscribe(te=>this._keyManager.updateActiveItem(te)),this._directDescendantItems.changes.subscribe(te=>{const ne=this._keyManager;if("enter"===this._panelAnimationState&&ne.activeItem?._hasFocus()){const ue=te.toArray(),De=Math.max(0,Math.min(ue.length-1,ne.activeItemIndex||0));ue[De]&&!ue[De].disabled?ne.setActiveItem(De):ne.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,N.Z)(this._directDescendantItems),(0,U.n)(ne=>(0,w.h)(...ne.map(ue=>ue._hovered))))}addItem(te){}removeItem(te){}_handleKeydown(te){const ne=te.keyCode,ue=this._keyManager;switch(ne){case P._f:(0,P.rp)(te)||(te.preventDefault(),this.closed.emit("keydown"));break;case P.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case P.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(ne===P.i7||ne===P.n6)&&ue.setFocusOrigin("keyboard"),void ue.onKeydown(te)}te.stopPropagation()}focusFirstItem(te="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,y.mal)(()=>{let ne=null;if(this._directDescendantItems.length&&(ne=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!ne||!ne.contains(document.activeElement)){const ue=this._keyManager;ue.setFocusOrigin(te).setFirstItemActive(),!ue.activeItem&&ne&&ne.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(te){if(null===this._baseElevation){const Qe=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(Qe)}const ne=Math.min(this._baseElevation+te,24),ue=`${this._elevationPrefix}${ne}`,De=Object.keys(this._classList).find(Be=>Be.startsWith(this._elevationPrefix));if(!De||De===this._previousElevation){const Be={...this._classList};this._previousElevation&&(Be[this._previousElevation]=!1),Be[ue]=!0,this._previousElevation=ue,this._classList=Be}}setPositionClasses(te=this.xPosition,ne=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===te,"mat-menu-after":"after"===te,"mat-menu-above":"above"===ne,"mat-menu-below":"below"===ne},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(te){this._animationDone.next(te),this._isAnimating=!1}_onAnimationStart(te){this._isAnimating=!0,"enter"===te.toState&&0===this._keyManager.activeItemIndex&&(te.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,N.Z)(this._allItems)).subscribe(te=>{this._directDescendantItems.reset(te.filter(ne=>ne._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(ne){return new(ne||ge)(y.rXU(y.aKT),y.rXU(y.SKi),y.rXU(Q),y.rXU(y.gRc))};static#t=this.\u0275cmp=y.VBU({type:ge,selectors:[["mat-menu"]],contentQueries:function(ne,ue,De){if(1&ne&&(y.wni(De,R,5),y.wni(De,m,5),y.wni(De,m,4)),2&ne){let Be;y.mGM(Be=y.lsd())&&(ue.lazyContent=Be.first),y.mGM(Be=y.lsd())&&(ue._allItems=Be),y.mGM(Be=y.lsd())&&(ue.items=Be)}},viewQuery:function(ne,ue){if(1&ne&&y.GBs(y.C4Q,5),2&ne){let De;y.mGM(De=y.lsd())&&(ue.templateRef=De.first)}},hostVars:3,hostBindings:function(ne,ue){2&ne&&y.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",y.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",te=>null==te?null:(0,y.L39)(te)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[y.Jv_([{provide:d,useExisting:ge}]),y.GFd,y.aNF],ngContentSelectors:C,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(ne,ue){1&ne&&(y.NAR(),y.DNE(0,a,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[s.transformMenu,s.fadeInItems]},changeDetection:0})}return ge})();const Re=new y.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const ge=(0,y.WQX)(ce.hJ);return()=>ge.scrollStrategies.reposition()}}),Ee={provide:Re,deps:[ce.hJ],useFactory:function Ve(ge){return()=>ge.scrollStrategies.reposition()}},_e=(0,ae.BQ)({passive:!0});let be=(()=>{class ge{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(te){this.menu=te}get menu(){return this._menu}set menu(te){te!==this._menu&&(this._menu=te,this._menuCloseSubscription.unsubscribe(),te&&(this._menuCloseSubscription=te.close.subscribe(ne=>{this._destroyMenu(ne),("click"===ne||"tab"===ne)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(ne)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(te,ne,ue,De,Be,Qe,ze,Dt,Xe){this._overlay=te,this._element=ne,this._viewContainerRef=ue,this._menuItemInstance=Qe,this._dir=ze,this._focusMonitor=Dt,this._ngZone=Xe,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=O.yU.EMPTY,this._hoverSubscription=O.yU.EMPTY,this._menuCloseSubscription=O.yU.EMPTY,this._changeDetectorRef=(0,y.WQX)(y.gRc),this._handleTouchStart=Ue=>{(0,b.w6)(Ue)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new y.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new y.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=De,this._parentMaterialMenu=Be instanceof Ce?Be:void 0,ne.nativeElement.addEventListener("touchstart",this._handleTouchStart,_e)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_e),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const te=this.menu;if(this._menuOpen||!te)return;const ne=this._createOverlay(te),ue=ne.getConfig(),De=ue.positionStrategy;this._setPosition(te,De),ue.hasBackdrop=null==te.hasBackdrop?!this.triggersSubmenu():te.hasBackdrop,ne.attach(this._getPortal(te)),te.lazyContent&&te.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(te),te instanceof Ce&&(te._startAnimation(),te._directDescendantItems.changes.pipe((0,A.Q)(te.close)).subscribe(()=>{De.withLockedPosition(!1).reapplyLastPosition(),De.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(te,ne){this._focusMonitor&&te?this._focusMonitor.focusVia(this._element,te,ne):this._element.nativeElement.focus(ne)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(te){if(!this._overlayRef||!this.menuOpen)return;const ne=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===te||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,ne instanceof Ce?(ne._resetAnimation(),ne.lazyContent?ne._animationDone.pipe((0,G.p)(ue=>"void"===ue.toState),(0,L.s)(1),(0,A.Q)(ne.lazyContent._attached)).subscribe({next:()=>ne.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),ne?.lazyContent?.detach())}_initMenu(te){te.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,te.direction=this.dir,this._setMenuElevation(te),te.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(te){if(te.setElevation){let ne=0,ue=te.parentMenu;for(;ue;)ne++,ue=ue.parentMenu;te.setElevation(ne)}}_setIsMenuOpen(te){te!==this._menuOpen&&(this._menuOpen=te,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(te),this._changeDetectorRef.markForCheck())}_createOverlay(te){if(!this._overlayRef){const ne=this._getOverlayConfig(te);this._subscribeToPositions(te,ne.positionStrategy),this._overlayRef=this._overlay.create(ne),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(te){return new ce.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:te.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:te.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(te,ne){te.setPositionClasses&&ne.positionChanges.subscribe(ue=>{const De="start"===ue.connectionPair.overlayX?"after":"before",Be="top"===ue.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>te.setPositionClasses(De,Be)):te.setPositionClasses(De,Be)})}_setPosition(te,ne){let[ue,De]="before"===te.xPosition?["end","start"]:["start","end"],[Be,Qe]="above"===te.yPosition?["bottom","top"]:["top","bottom"],[ze,Dt]=[Be,Qe],[Xe,Ue]=[ue,De],mt=0;if(this.triggersSubmenu()){if(Ue=ue="before"===te.xPosition?"start":"end",De=Xe="end"===ue?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const K=this._parentMaterialMenu.items.first;this._parentInnerPadding=K?K._getHostElement().offsetTop:0}mt="bottom"===Be?this._parentInnerPadding:-this._parentInnerPadding}}else te.overlapTrigger||(ze="top"===Be?"bottom":"top",Dt="top"===Qe?"bottom":"top");ne.withPositions([{originX:ue,originY:ze,overlayX:Xe,overlayY:Be,offsetY:mt},{originX:De,originY:ze,overlayX:Ue,overlayY:Be,offsetY:mt},{originX:ue,originY:Dt,overlayX:Xe,overlayY:Qe,offsetY:-mt},{originX:De,originY:Dt,overlayX:Ue,overlayY:Qe,offsetY:-mt}])}_menuClosingActions(){const te=this._overlayRef.backdropClick(),ne=this._overlayRef.detachments(),ue=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,S.of)(),De=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,G.p)(Be=>Be!==this._menuItemInstance),(0,G.p)(()=>this._menuOpen)):(0,S.of)();return(0,w.h)(te,ue,De,ne)}_handleMousedown(te){(0,b._G)(te)||(this._openedBy=0===te.button?"mouse":void 0,this.triggersSubmenu()&&te.preventDefault())}_handleKeydown(te){const ne=te.keyCode;(ne===P.Fm||ne===P.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(ne===P.LE&&"ltr"===this.dir||ne===P.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(te){this.triggersSubmenu()?(te.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,G.p)(te=>te===this._menuItemInstance&&!te.disabled),(0,z.c)(0,B.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ce&&this.menu._isAnimating?this.menu._animationDone.pipe((0,L.s)(1),(0,z.c)(0,B.$),(0,A.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(te){return(!this._portal||this._portal.templateRef!==te.templateRef)&&(this._portal=new Z.VA(te.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(ne){return new(ne||ge)(y.rXU(ce.hJ),y.rXU(y.aKT),y.rXU(y.c1b),y.rXU(Re),y.rXU(d,8),y.rXU(m,10),y.rXU(se.dS,8),y.rXU(b.FN),y.rXU(y.SKi))};static#t=this.\u0275dir=y.FsC({type:ge,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(ne,ue){1&ne&&y.bIt("click",function(Be){return ue._handleClick(Be)})("mousedown",function(Be){return ue._handleMousedown(Be)})("keydown",function(Be){return ue._handleKeydown(Be)}),2&ne&&y.BMQ("aria-haspopup",ue.menu?"menu":null)("aria-expanded",ue.menuOpen)("aria-controls",ue.menuOpen?ue.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return ge})(),Ae=(()=>{class ge{static#e=this.\u0275fac=function(ne){return new(ne||ge)};static#t=this.\u0275mod=y.$C({type:ge});static#n=this.\u0275inj=y.G2t({providers:[Ee],imports:[ee.MD,q.pZ,q.yE,ce.z_,fe.Gj,q.yE]})}return ge})()},9183:(Je,j,_)=>{"use strict";_.d(j,{D6:()=>G,LG:()=>U});var y=_(93953),b=_(60177),P=_(86600);const H=["determinateSpinner"];function w(L,z){if(1&L&&(y.qSk(),y.j41(0,"svg",11),y.nrm(1,"circle",12),y.k0s()),2&L){const ee=y.XpG();y.BMQ("viewBox",ee._viewBox()),y.R7$(),y.xc7("stroke-dasharray",ee._strokeCircumference(),"px")("stroke-dashoffset",ee._strokeCircumference()/2,"px")("stroke-width",ee._circleStrokeWidth(),"%"),y.BMQ("r",ee._circleRadius())}}const O=new y.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function S(){return{diameter:B}}}),B=100;let U=(()=>{class L{get color(){return this._color||this._defaultColor}set color(ee){this._color=ee}constructor(ee,q,Z){this._elementRef=ee,this._defaultColor="primary",this._value=0,this._diameter=B,this._noopAnimations="NoopAnimations"===q&&!!Z&&!Z._forceAnimations,this.mode="mat-spinner"===ee.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",Z&&(Z.color&&(this.color=this._defaultColor=Z.color),Z.diameter&&(this.diameter=Z.diameter),Z.strokeWidth&&(this.strokeWidth=Z.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(ee){this._value=Math.max(0,Math.min(100,ee||0))}get diameter(){return this._diameter}set diameter(ee){this._diameter=ee||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(ee){this._strokeWidth=ee||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const ee=2*this._circleRadius()+this.strokeWidth;return`0 0 ${ee} ${ee}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(q){return new(q||L)(y.rXU(y.aKT),y.rXU(y.bc$,8),y.rXU(O))};static#t=this.\u0275cmp=y.VBU({type:L,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(q,Z){if(1&q&&y.GBs(H,5),2&q){let J;y.mGM(J=y.lsd())&&(Z._determinateCircle=J.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(q,Z){2&q&&(y.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===Z.mode?Z.value:null)("mode",Z.mode),y.HbH("mat-"+Z.color),y.xc7("width",Z.diameter,"px")("height",Z.diameter,"px")("--mdc-circular-progress-size",Z.diameter+"px")("--mdc-circular-progress-active-indicator-width",Z.diameter+"px"),y.AVh("_mat-animation-noopable",Z._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===Z.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",y.Udg],diameter:[2,"diameter","diameter",y.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",y.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[y.GFd,y.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(q,Z){if(1&q&&(y.DNE(0,w,2,8,"ng-template",null,0,y.C5r),y.j41(2,"div",2,1),y.qSk(),y.j41(4,"svg",3),y.nrm(5,"circle",4),y.k0s()(),y.joV(),y.j41(6,"div",5)(7,"div",6)(8,"div",7),y.eu8(9,8),y.k0s(),y.j41(10,"div",9),y.eu8(11,8),y.k0s(),y.j41(12,"div",10),y.eu8(13,8),y.k0s()()()),2&q){const J=y.sdS(1);y.R7$(4),y.BMQ("viewBox",Z._viewBox()),y.R7$(),y.xc7("stroke-dasharray",Z._strokeCircumference(),"px")("stroke-dashoffset",Z._strokeDashOffset(),"px")("stroke-width",Z._circleStrokeWidth(),"%"),y.BMQ("r",Z._circleRadius()),y.R7$(4),y.Y8G("ngTemplateOutlet",J),y.R7$(2),y.Y8G("ngTemplateOutlet",J),y.R7$(2),y.Y8G("ngTemplateOutlet",J)}},dependencies:[b.T3],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return L})(),G=(()=>{class L{static#e=this.\u0275fac=function(q){return new(q||L)};static#t=this.\u0275mod=y.$C({type:L});static#n=this.\u0275inj=y.G2t({imports:[b.MD,P.yE]})}return L})()},5951:(Je,j,_)=>{"use strict";_.d(j,{Wk:()=>J});var y=_(18617),b=_(45024),P=_(93953),w=(_(89417),_(86600)),O=_(60177);const S=["input"],B=["formField"],N=["*"];let U=0;class A{constructor(ce,ae){this.source=ce,this.value=ae}}const L=new P.nKC("MatRadioGroup"),z=new P.nKC("mat-radio-default-options",{providedIn:"root",factory:function ee(){return{color:"accent"}}});let Z=(()=>{class se{get checked(){return this._checked}set checked(ae){this._checked!==ae&&(this._checked=ae,ae&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!ae&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),ae&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(ae){this._value!==ae&&(this._value=ae,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===ae),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(ae){this._labelPosition=ae}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(ae){this._setDisabled(ae)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(ae){this._required=ae}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(ae){this._color=ae}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(ae,fe,he,we,Me,Pe,C,a){this._elementRef=fe,this._changeDetector=he,this._focusMonitor=we,this._radioDispatcher=Me,this._providerOverride=C,this._uniqueId="mat-radio-"+ ++U,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new P.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,P.WQX)(P.zZn),this.radioGroup=ae,this._noopAnimations="NoopAnimations"===Pe,a&&(this.tabIndex=(0,P.Udg)(a,0))}focus(ae,fe){fe?this._focusMonitor.focusVia(this._inputElement,fe,ae):this._inputElement.nativeElement.focus(ae)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((ae,fe)=>{ae!==this.id&&fe===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(ae=>{!ae&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new A(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(ae){ae.stopPropagation()}_onInputInteraction(ae){if(ae.stopPropagation(),!this.checked&&!this.disabled){const fe=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),fe&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(ae){this._onInputInteraction(ae),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(ae){this._disabled!==ae&&(this._disabled=ae,this._changeDetector.markForCheck())}_updateTabIndex(){const ae=this.radioGroup;let fe;if(fe=ae&&ae.selected&&!this.disabled?ae.selected===this?this.tabIndex:-1:this.tabIndex,fe!==this._previousTabIndex){const he=this._inputElement?.nativeElement;he&&(he.setAttribute("tabindex",fe+""),this._previousTabIndex=fe,(0,P.mal)(()=>{queueMicrotask(()=>{ae&&ae.selected&&ae.selected!==this&&document.activeElement===he&&(ae.selected?._inputElement.nativeElement.focus(),document.activeElement===he&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(fe){return new(fe||se)(P.rXU(L,8),P.rXU(P.aKT),P.rXU(P.gRc),P.rXU(y.FN),P.rXU(b.zP),P.rXU(P.bc$,8),P.rXU(z,8),P.kS0("tabindex"))};static#t=this.\u0275cmp=P.VBU({type:se,selectors:[["mat-radio-button"]],viewQuery:function(fe,he){if(1&fe&&(P.GBs(S,5),P.GBs(B,7,P.aKT)),2&fe){let we;P.mGM(we=P.lsd())&&(he._inputElement=we.first),P.mGM(we=P.lsd())&&(he._rippleTrigger=we.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(fe,he){1&fe&&P.bIt("focus",function(){return he._inputElement.nativeElement.focus()}),2&fe&&(P.BMQ("id",he.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),P.AVh("mat-primary","primary"===he.color)("mat-accent","accent"===he.color)("mat-warn","warn"===he.color)("mat-mdc-radio-checked",he.checked)("_mat-animation-noopable",he._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",P.L39],tabIndex:[2,"tabIndex","tabIndex",ae=>null==ae?0:(0,P.Udg)(ae)],checked:[2,"checked","checked",P.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",P.L39],required:[2,"required","required",P.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[P.GFd,P.aNF],ngContentSelectors:N,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(fe,he){if(1&fe){const we=P.RV6();P.NAR(),P.j41(0,"div",2,0)(2,"div",3)(3,"div",4),P.bIt("click",function(Pe){return P.eBV(we),P.Njj(he._onTouchTargetClick(Pe))}),P.k0s(),P.j41(4,"input",5,1),P.bIt("change",function(Pe){return P.eBV(we),P.Njj(he._onInputInteraction(Pe))}),P.k0s(),P.j41(6,"div",6),P.nrm(7,"div",7)(8,"div",8),P.k0s(),P.j41(9,"div",9),P.nrm(10,"div",10),P.k0s()(),P.j41(11,"label",11),P.SdG(12),P.k0s()()}2&fe&&(P.Y8G("labelPosition",he.labelPosition),P.R7$(2),P.AVh("mdc-radio--disabled",he.disabled),P.R7$(2),P.Y8G("id",he.inputId)("checked",he.checked)("disabled",he.disabled)("required",he.required),P.BMQ("name",he.name)("value",he.value)("aria-label",he.ariaLabel)("aria-labelledby",he.ariaLabelledby)("aria-describedby",he.ariaDescribedby),P.R7$(5),P.Y8G("matRippleTrigger",he._rippleTrigger.nativeElement)("matRippleDisabled",he._isRippleDisabled())("matRippleCentered",!0),P.R7$(2),P.Y8G("for",he.inputId))},dependencies:[w.r6,w.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return se})(),J=(()=>{class se{static#e=this.\u0275fac=function(fe){return new(fe||se)};static#t=this.\u0275mod=P.$C({type:se});static#n=this.\u0275inj=P.G2t({imports:[w.yE,O.MD,w.pZ,Z,w.yE]})}return se})()},82798:(Je,j,_)=>{"use strict";_.d(j,{VO:()=>Re,Ve:()=>Ee});var y=_(66969),b=_(60177),P=_(93953),H=_(86600),w=_(53719),O=_(67333),S=_(18617),B=_(28203),N=_(45024),U=_(67336),A=_(89417),G=_(21413),L=_(59030),z=_(57786),ee=_(99172),q=_(25558),Z=_(5964),J=_(96354),se=_(23294),ce=_(56977),ae=_(96697),fe=_(49969);const he=["trigger"],we=["panel"],Me=[[["mat-select-trigger"]],"*"],Pe=["mat-select-trigger","*"];function C(_e,Fe){if(1&_e&&(P.j41(0,"span",4),P.EFF(1),P.k0s()),2&_e){const be=P.XpG();P.R7$(),P.JRh(be.placeholder)}}function a(_e,Fe){1&_e&&P.SdG(0)}function d(_e,Fe){if(1&_e&&(P.j41(0,"span",11),P.EFF(1),P.k0s()),2&_e){const be=P.XpG(2);P.R7$(),P.JRh(be.triggerValue)}}function m(_e,Fe){if(1&_e&&(P.j41(0,"span",5),P.DNE(1,a,1,0)(2,d,2,1,"span",11),P.k0s()),2&_e){const be=P.XpG();P.R7$(),P.vxM(be.customTrigger?1:2)}}function p(_e,Fe){if(1&_e){const be=P.RV6();P.j41(0,"div",12,1),P.bIt("@transformPanel.done",function(ge){P.eBV(be);const me=P.XpG();return P.Njj(me._panelDoneAnimatingStream.next(ge.toState))})("keydown",function(ge){P.eBV(be);const me=P.XpG();return P.Njj(me._handleKeydown(ge))}),P.SdG(2,1),P.k0s()}if(2&_e){const be=P.XpG();P.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",be._getPanelTheme(),""),P.Y8G("ngClass",be.panelClass)("@transformPanel","showing"),P.BMQ("id",be.id+"-panel")("aria-multiselectable",be.multiple)("aria-label",be.ariaLabel||null)("aria-labelledby",be._getPanelAriaLabelledby())}}const E={transformPanelWrap:(0,fe.hZ)("transformPanelWrap",[(0,fe.kY)("* => void",(0,fe.P)("@transformPanel",[(0,fe.MA)()],{optional:!0}))]),transformPanel:(0,fe.hZ)("transformPanel",[(0,fe.wk)("void",(0,fe.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,fe.kY)("void => showing",(0,fe.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,fe.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,fe.kY)("* => void",(0,fe.i0)("100ms linear",(0,fe.iF)({opacity:0})))])};let s=0;const v=new P.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const _e=(0,P.WQX)(y.hJ);return()=>_e.scrollStrategies.reposition()}}),F=new P.nKC("MAT_SELECT_CONFIG"),Q={provide:v,deps:[y.hJ],useFactory:function $(_e){return()=>_e.scrollStrategies.reposition()}},de=new P.nKC("MatSelectTrigger");class Ce{constructor(Fe,be){this.source=Fe,this.value=be}}let Re=(()=>{class _e{_scrollOptionIntoView(be){const Ae=this.options.toArray()[be];if(Ae){const ge=this.panel.nativeElement,me=(0,H.jb)(be,this.options,this.optionGroups),te=Ae._getHostElement();ge.scrollTop=0===be&&1===me?0:(0,H.TL)(te.offsetTop,te.offsetHeight,ge.scrollTop,ge.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(be){return new Ce(this,be)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(be){this._hideSingleSelectionIndicator=be,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(be){this._placeholder=be,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(A.k0.required)??!1}set required(be){this._required=be,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(be){this._multiple=be}get compareWith(){return this._compareWith}set compareWith(be){this._compareWith=be,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(be){this._assignValue(be)&&this._onChange(be)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(be){this._errorStateTracker.matcher=be}get id(){return this._id}set id(be){this._id=be||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(be){this._errorStateTracker.errorState=be}constructor(be,Ae,ge,me,te,ne,ue,De,Be,Qe,ze,Dt,Xe,Ue){this._viewportRuler=be,this._changeDetectorRef=Ae,this._elementRef=te,this._dir=ne,this._parentFormField=Be,this.ngControl=Qe,this._liveAnnouncer=Xe,this._defaultOptions=Ue,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(mt,K)=>mt===K,this._uid="mat-select-"+s++,this._triggerAriaLabelledBy=null,this._destroy=new G.B,this.stateChanges=new G.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+s++,this._panelDoneAnimatingStream=new G.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new G.B,this.optionSelectionChanges=(0,L.v)(()=>{const mt=this.options;return mt?mt.changes.pipe((0,ee.Z)(mt),(0,q.n)(()=>(0,z.h)(...mt.map(K=>K.onSelectionChange)))):this._initialized.pipe((0,q.n)(()=>this.optionSelectionChanges))}),this.openedChange=new P.bkB,this._openedStream=this.openedChange.pipe((0,Z.p)(mt=>mt),(0,J.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,Z.p)(mt=>!mt),(0,J.T)(()=>{})),this.selectionChange=new P.bkB,this.valueChange=new P.bkB,this._trackedModal=null,this._skipPredicate=mt=>!this.panelOpen&&mt.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ue?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Ue.typeaheadDebounceInterval),this._errorStateTracker=new H.X0(me,Qe,De,ue,this.stateChanges),this._scrollStrategyFactory=Dt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ze)||0,this.id=this.id}ngOnInit(){this._selectionModel=new N.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,se.F)(),(0,ce.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,ce.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,ce.Q)(this._destroy)).subscribe(be=>{be.added.forEach(Ae=>Ae.select()),be.removed.forEach(Ae=>Ae.deselect())}),this.options.changes.pipe((0,ee.Z)(null),(0,ce.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const be=this._getTriggerAriaLabelledby(),Ae=this.ngControl;if(be!==this._triggerAriaLabelledBy){const ge=this._elementRef.nativeElement;this._triggerAriaLabelledBy=be,be?ge.setAttribute("aria-labelledby",be):ge.removeAttribute("aria-labelledby")}Ae&&(this._previousControl!==Ae.control&&(void 0!==this._previousControl&&null!==Ae.disabled&&Ae.disabled!==this.disabled&&(this.disabled=Ae.disabled),this._previousControl=Ae.control),this.updateErrorState())}ngOnChanges(be){(be.disabled||be.userAriaDescribedBy)&&this.stateChanges.next(),be.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const be=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!be)return;const Ae=`${this.id}-panel`;this._trackedModal&&(0,S.Ae)(this._trackedModal,"aria-owns",Ae),(0,S.px)(be,"aria-owns",Ae),this._trackedModal=be}_clearFromModal(){this._trackedModal&&((0,S.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(be){this._assignValue(be)}registerOnChange(be){this._onChange=be}registerOnTouched(be){this._onTouched=be}setDisabledState(be){this.disabled=be,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const be=this._selectionModel.selected.map(Ae=>Ae.viewValue);return this._isRtl()&&be.reverse(),be.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(be){this.disabled||(this.panelOpen?this._handleOpenKeydown(be):this._handleClosedKeydown(be))}_handleClosedKeydown(be){const Ae=be.keyCode,ge=Ae===U.n6||Ae===U.i7||Ae===U.UQ||Ae===U.LE,me=Ae===U.Fm||Ae===U.t6,te=this._keyManager;if(!te.isTyping()&&me&&!(0,U.rp)(be)||(this.multiple||be.altKey)&&ge)be.preventDefault(),this.open();else if(!this.multiple){const ne=this.selected;te.onKeydown(be);const ue=this.selected;ue&&ne!==ue&&this._liveAnnouncer.announce(ue.viewValue,1e4)}}_handleOpenKeydown(be){const Ae=this._keyManager,ge=be.keyCode,me=ge===U.n6||ge===U.i7,te=Ae.isTyping();if(me&&be.altKey)be.preventDefault(),this.close();else if(te||ge!==U.Fm&&ge!==U.t6||!Ae.activeItem||(0,U.rp)(be))if(!te&&this._multiple&&ge===U.A&&be.ctrlKey){be.preventDefault();const ne=this.options.some(ue=>!ue.disabled&&!ue.selected);this.options.forEach(ue=>{ue.disabled||(ne?ue.select():ue.deselect())})}else{const ne=Ae.activeItemIndex;Ae.onKeydown(be),this._multiple&&me&&be.shiftKey&&Ae.activeItem&&Ae.activeItemIndex!==ne&&Ae.activeItem._selectViaInteraction()}else be.preventDefault(),Ae.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ae.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(be){if(this.options.forEach(Ae=>Ae.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&be)Array.isArray(be),be.forEach(Ae=>this._selectOptionByValue(Ae)),this._sortValues();else{const Ae=this._selectOptionByValue(be);Ae?this._keyManager.updateActiveItem(Ae):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(be){const Ae=this.options.find(ge=>{if(this._selectionModel.isSelected(ge))return!1;try{return null!=ge.value&&this._compareWith(ge.value,be)}catch{return!1}});return Ae&&this._selectionModel.select(Ae),Ae}_assignValue(be){return!!(be!==this._value||this._multiple&&Array.isArray(be))&&(this.options&&this._setSelectionByValue(be),this._value=be,!0)}_getOverlayWidth(be){return"auto"===this.panelWidth?(be instanceof y.$Q?be.elementRef:be||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const be of this.options)be._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new S.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const be=(0,z.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,ce.Q)(be)).subscribe(Ae=>{this._onSelect(Ae.source,Ae.isUserInput),Ae.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,z.h)(...this.options.map(Ae=>Ae._stateChanges)).pipe((0,ce.Q)(be)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(be,Ae){const ge=this._selectionModel.isSelected(be);null!=be.value||this._multiple?(ge!==be.selected&&(be.selected?this._selectionModel.select(be):this._selectionModel.deselect(be)),Ae&&this._keyManager.setActiveItem(be),this.multiple&&(this._sortValues(),Ae&&this.focus())):(be.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(be.value)),ge!==this._selectionModel.isSelected(be)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const be=this.options.toArray();this._selectionModel.sort((Ae,ge)=>this.sortComparator?this.sortComparator(Ae,ge,be):be.indexOf(Ae)-be.indexOf(ge)),this.stateChanges.next()}}_propagateChanges(be){let Ae;Ae=this.multiple?this.selected.map(ge=>ge.value):this.selected?this.selected.value:be,this._value=Ae,this.valueChange.emit(Ae),this._onChange(Ae),this.selectionChange.emit(this._getChangeEvent(Ae)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let be=-1;for(let Ae=0;Ae<this.options.length;Ae++)if(!this.options.get(Ae).disabled){be=Ae;break}this._keyManager.setActiveItem(be)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(be){this._elementRef.nativeElement.focus(be)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const be=this._parentFormField?.getLabelId();return this.ariaLabelledby?(be?be+" ":"")+this.ariaLabelledby:be}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const be=this._parentFormField?.getLabelId();let Ae=(be?be+" ":"")+this._valueId;return this.ariaLabelledby&&(Ae+=" "+this.ariaLabelledby),Ae}_panelDoneAnimating(be){this.openedChange.emit(be)}setDescribedByIds(be){be.length?this._elementRef.nativeElement.setAttribute("aria-describedby",be.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Ae){return new(Ae||_e)(P.rXU(O.Xj),P.rXU(P.gRc),P.rXU(P.SKi),P.rXU(H.es),P.rXU(P.aKT),P.rXU(B.dS,8),P.rXU(A.cV,8),P.rXU(A.j4,8),P.rXU(w.xb,8),P.rXU(A.vO,10),P.kS0("tabindex"),P.rXU(v),P.rXU(S.Ai),P.rXU(F,8))};static#t=this.\u0275cmp=P.VBU({type:_e,selectors:[["mat-select"]],contentQueries:function(Ae,ge,me){if(1&Ae&&(P.wni(me,de,5),P.wni(me,H.wT,5),P.wni(me,H.QC,5)),2&Ae){let te;P.mGM(te=P.lsd())&&(ge.customTrigger=te.first),P.mGM(te=P.lsd())&&(ge.options=te),P.mGM(te=P.lsd())&&(ge.optionGroups=te)}},viewQuery:function(Ae,ge){if(1&Ae&&(P.GBs(he,5),P.GBs(we,5),P.GBs(y.WB,5)),2&Ae){let me;P.mGM(me=P.lsd())&&(ge.trigger=me.first),P.mGM(me=P.lsd())&&(ge.panel=me.first),P.mGM(me=P.lsd())&&(ge._overlayDir=me.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Ae,ge){1&Ae&&P.bIt("keydown",function(te){return ge._handleKeydown(te)})("focus",function(){return ge._onFocus()})("blur",function(){return ge._onBlur()}),2&Ae&&(P.BMQ("id",ge.id)("tabindex",ge.disabled?-1:ge.tabIndex)("aria-controls",ge.panelOpen?ge.id+"-panel":null)("aria-expanded",ge.panelOpen)("aria-label",ge.ariaLabel||null)("aria-required",ge.required.toString())("aria-disabled",ge.disabled.toString())("aria-invalid",ge.errorState)("aria-activedescendant",ge._getAriaActiveDescendant()),P.AVh("mat-mdc-select-disabled",ge.disabled)("mat-mdc-select-invalid",ge.errorState)("mat-mdc-select-required",ge.required)("mat-mdc-select-empty",ge.empty)("mat-mdc-select-multiple",ge.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",P.L39],disableRipple:[2,"disableRipple","disableRipple",P.L39],tabIndex:[2,"tabIndex","tabIndex",be=>null==be?0:(0,P.Udg)(be)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",P.L39],placeholder:"placeholder",required:[2,"required","required",P.L39],multiple:[2,"multiple","multiple",P.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",P.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",P.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[P.Jv_([{provide:w.qT,useExisting:_e},{provide:H.is,useExisting:_e}]),P.GFd,P.OA$,P.aNF],ngContentSelectors:Pe,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Ae,ge){if(1&Ae){const me=P.RV6();P.NAR(Me),P.j41(0,"div",2,0),P.bIt("click",function(){return P.eBV(me),P.Njj(ge.open())}),P.j41(3,"div",3),P.DNE(4,C,2,1,"span",4)(5,m,3,1,"span",5),P.k0s(),P.j41(6,"div",6)(7,"div",7),P.qSk(),P.j41(8,"svg",8),P.nrm(9,"path",9),P.k0s()()()(),P.DNE(10,p,3,9,"ng-template",10),P.bIt("backdropClick",function(){return P.eBV(me),P.Njj(ge.close())})("attach",function(){return P.eBV(me),P.Njj(ge._onAttached())})("detach",function(){return P.eBV(me),P.Njj(ge.close())})}if(2&Ae){const me=P.sdS(1);P.R7$(3),P.BMQ("id",ge._valueId),P.R7$(),P.vxM(ge.empty?4:5),P.R7$(6),P.Y8G("cdkConnectedOverlayPanelClass",ge._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",ge._scrollStrategy)("cdkConnectedOverlayOrigin",ge._preferredOverlayOrigin||me)("cdkConnectedOverlayOpen",ge.panelOpen)("cdkConnectedOverlayPositions",ge._positions)("cdkConnectedOverlayWidth",ge._overlayWidth)}},dependencies:[y.$Q,y.WB,b.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[E.transformPanel]},changeDetection:0})}return _e})(),Ee=(()=>{class _e{static#e=this.\u0275fac=function(Ae){return new(Ae||_e)};static#t=this.\u0275mod=P.$C({type:_e});static#n=this.\u0275inj=P.G2t({providers:[Q],imports:[b.MD,y.z_,H.Sy,H.yE,O.Gj,w.RG,H.Sy,H.yE]})}return _e})()},55911:(Je,j,_)=>{"use strict";_.d(j,{KQ:()=>B,s5:()=>U});var y=_(93953),b=_(86600),P=_(36860),H=_(60177);const w=["*",[["mat-toolbar-row"]]],O=["*","mat-toolbar-row"];let S=(()=>{class A{static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275dir=y.FsC({type:A,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return A})(),B=(()=>{class A{constructor(L,z,ee){this._elementRef=L,this._platform=z,this._document=ee}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(z){return new(z||A)(y.rXU(y.aKT),y.rXU(P.OD),y.rXU(H.qQ))};static#t=this.\u0275cmp=y.VBU({type:A,selectors:[["mat-toolbar"]],contentQueries:function(z,ee,q){if(1&z&&y.wni(q,S,5),2&z){let Z;y.mGM(Z=y.lsd())&&(ee._toolbarRows=Z)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(z,ee){2&z&&(y.HbH(ee.color?"mat-"+ee.color:""),y.AVh("mat-toolbar-multiple-rows",ee._toolbarRows.length>0)("mat-toolbar-single-row",0===ee._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[y.aNF],ngContentSelectors:O,decls:2,vars:0,template:function(z,ee){1&z&&(y.NAR(w),y.SdG(0),y.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return A})(),U=(()=>{class A{static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275mod=y.$C({type:A});static#n=this.\u0275inj=y.G2t({imports:[b.yE,b.yE]})}return A})()},14823:(Je,j,_)=>{"use strict";_.d(j,{oV:()=>m,uc:()=>D});var y=_(56977),b=_(14085),P=_(67336),H=_(93953),w=_(60177),O=_(36860),S=_(18617),B=_(28203),N=_(66969),U=_(67333),A=_(76939),G=_(21413),z=(_(49969),_(86600));const ee=["tooltip"],J=new H.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const R=(0,H.WQX)(N.hJ);return()=>R.scrollStrategies.reposition({scrollThrottle:20})}}),ce={provide:J,deps:[N.hJ],useFactory:function se(R){return()=>R.scrollStrategies.reposition({scrollThrottle:20})}},fe=new H.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function ae(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),we="tooltip-panel",Me=(0,O.BQ)({passive:!0});let m=(()=>{class R{get position(){return this._position}set position(s){s!==this._position&&(this._position=s,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(s){this._positionAtOrigin=(0,b.he)(s),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(s){this._disabled=(0,b.he)(s),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(s){this._showDelay=(0,b.OE)(s)}get hideDelay(){return this._hideDelay}set hideDelay(s){this._hideDelay=(0,b.OE)(s),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(s){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=s?String(s).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(s){this._tooltipClass=s,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(s,v,$,F,Q,de,Ce,Re,Ve,Ee,_e,Fe){this._overlay=s,this._elementRef=v,this._scrollDispatcher=$,this._viewContainerRef=F,this._ngZone=Q,this._platform=de,this._ariaDescriber=Ce,this._focusMonitor=Re,this._dir=Ee,this._defaultOptions=_e,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=p,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new G.B,this._injector=(0,H.WQX)(H.zZn),this._scrollStrategy=Ve,this._document=Fe,_e&&(this._showDelay=_e.showDelay,this._hideDelay=_e.hideDelay,_e.position&&(this.position=_e.position),_e.positionAtOrigin&&(this.positionAtOrigin=_e.positionAtOrigin),_e.touchGestures&&(this.touchGestures=_e.touchGestures)),Ee.change.pipe((0,y.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,y.Q)(this._destroyed)).subscribe(s=>{s?"keyboard"===s&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const s=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([v,$])=>{s.removeEventListener(v,$,Me)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(s,this.message,"tooltip"),this._focusMonitor.stopMonitoring(s)}show(s=this.showDelay,v){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const $=this._createOverlay(v);this._detach(),this._portal=this._portal||new A.A8(this._tooltipComponent,this._viewContainerRef);const F=this._tooltipInstance=$.attach(this._portal).instance;F._triggerElement=this._elementRef.nativeElement,F._mouseLeaveHideDelay=this._hideDelay,F.afterHidden().pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),F.show(s)}hide(s=this.hideDelay){const v=this._tooltipInstance;v&&(v.isVisible()?v.hide(s):(v._cancelPendingAnimations(),this._detach()))}toggle(s){this._isTooltipVisible()?this.hide():this.show(void 0,s)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(s){if(this._overlayRef){const F=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!s)&&F._origin instanceof H.aKT)return this._overlayRef;this._detach()}const v=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),$=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&s||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(v);return $.positionChanges.pipe((0,y.Q)(this._destroyed)).subscribe(F=>{this._updateCurrentPositionClass(F.connectionPair),this._tooltipInstance&&F.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:$,panelClass:`${this._cssClassPrefix}-${we}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,y.Q)(this._destroyed)).subscribe(F=>{this._isTooltipVisible()&&F.keyCode===P._f&&!(0,P.rp)(F)&&(F.preventDefault(),F.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(s){const v=s.getConfig().positionStrategy,$=this._getOrigin(),F=this._getOverlayPosition();v.withPositions([this._addOffset({...$.main,...F.main}),this._addOffset({...$.fallback,...F.fallback})])}_addOffset(s){const $=!this._dir||"ltr"==this._dir.value;return"top"===s.originY?s.offsetY=-8:"bottom"===s.originY?s.offsetY=8:"start"===s.originX?s.offsetX=$?-8:8:"end"===s.originX&&(s.offsetX=$?8:-8),s}_getOrigin(){const s=!this._dir||"ltr"==this._dir.value,v=this.position;let $;"above"==v||"below"==v?$={originX:"center",originY:"above"==v?"top":"bottom"}:"before"==v||"left"==v&&s||"right"==v&&!s?$={originX:"start",originY:"center"}:("after"==v||"right"==v&&s||"left"==v&&!s)&&($={originX:"end",originY:"center"});const{x:F,y:Q}=this._invertPosition($.originX,$.originY);return{main:$,fallback:{originX:F,originY:Q}}}_getOverlayPosition(){const s=!this._dir||"ltr"==this._dir.value,v=this.position;let $;"above"==v?$={overlayX:"center",overlayY:"bottom"}:"below"==v?$={overlayX:"center",overlayY:"top"}:"before"==v||"left"==v&&s||"right"==v&&!s?$={overlayX:"end",overlayY:"center"}:("after"==v||"right"==v&&s||"left"==v&&!s)&&($={overlayX:"start",overlayY:"center"});const{x:F,y:Q}=this._invertPosition($.overlayX,$.overlayY);return{main:$,fallback:{overlayX:F,overlayY:Q}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,H.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(s){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=s,this._tooltipInstance._markForCheck())}_invertPosition(s,v){return"above"===this.position||"below"===this.position?"top"===v?v="bottom":"bottom"===v&&(v="top"):"end"===s?s="start":"start"===s&&(s="end"),{x:s,y:v}}_updateCurrentPositionClass(s){const{overlayY:v,originX:$,originY:F}=s;let Q;if(Q="center"===v?this._dir&&"rtl"===this._dir.value?"end"===$?"left":"right":"start"===$?"left":"right":"bottom"===v&&"top"===F?"above":"below",Q!==this._currentPosition){const de=this._overlayRef;if(de){const Ce=`${this._cssClassPrefix}-${we}-`;de.removePanelClass(Ce+this._currentPosition),de.addPanelClass(Ce+Q)}this._currentPosition=Q}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",s=>{let v;this._setupPointerExitEventsIfNeeded(),void 0!==s.x&&void 0!==s.y&&(v=s),this.show(void 0,v)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",s=>{const v=s.targetTouches?.[0],$=v?{x:v.clientX,y:v.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,$),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const s=[];if(this._platformSupportsMouseEvents())s.push(["mouseleave",v=>{const $=v.relatedTarget;(!$||!this._overlayRef?.overlayElement.contains($))&&this.hide()}],["wheel",v=>this._wheelListener(v)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const v=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};s.push(["touchend",v],["touchcancel",v])}this._addListeners(s),this._passiveListeners.push(...s)}_addListeners(s){s.forEach(([v,$])=>{this._elementRef.nativeElement.addEventListener(v,$,Me)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(s){if(this._isTooltipVisible()){const v=this._document.elementFromPoint(s.clientX,s.clientY),$=this._elementRef.nativeElement;v!==$&&!$.contains(v)&&this.hide()}}_disableNativeGesturesIfNecessary(){const s=this.touchGestures;if("off"!==s){const v=this._elementRef.nativeElement,$=v.style;("on"===s||"INPUT"!==v.nodeName&&"TEXTAREA"!==v.nodeName)&&($.userSelect=$.msUserSelect=$.webkitUserSelect=$.MozUserSelect="none"),("on"===s||!v.draggable)&&($.webkitUserDrag="none"),$.touchAction="none",$.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(v){return new(v||R)(H.rXU(N.hJ),H.rXU(H.aKT),H.rXU(U.R),H.rXU(H.c1b),H.rXU(H.SKi),H.rXU(O.OD),H.rXU(S.vr),H.rXU(S.FN),H.rXU(J),H.rXU(B.dS),H.rXU(fe,8),H.rXU(w.qQ))};static#t=this.\u0275dir=H.FsC({type:R,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(v,$){2&v&&H.AVh("mat-mdc-tooltip-disabled",$.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return R})(),p=(()=>{class R{constructor(s,v,$){this._changeDetectorRef=s,this._elementRef=v,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new G.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===$}show(s){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},s)}hide(s){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},s)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:s}){(!s||!this._triggerElement.contains(s))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const s=this._elementRef.nativeElement.getBoundingClientRect();return s.height>24&&s.width>=200}_handleAnimationEnd({animationName:s}){(s===this._showAnimation||s===this._hideAnimation)&&this._finalizeAnimation(s===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(s){s?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(s){const v=this._tooltip.nativeElement,$=this._showAnimation,F=this._hideAnimation;if(v.classList.remove(s?F:$),v.classList.add(s?$:F),this._isVisible!==s&&(this._isVisible=s,this._changeDetectorRef.markForCheck()),s&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Q=getComputedStyle(v);("0s"===Q.getPropertyValue("animation-duration")||"none"===Q.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}s&&this._onShow(),this._animationsDisabled&&(v.classList.add("_mat-animation-noopable"),this._finalizeAnimation(s))}static#e=this.\u0275fac=function(v){return new(v||R)(H.rXU(H.gRc),H.rXU(H.aKT),H.rXU(H.bc$,8))};static#t=this.\u0275cmp=H.VBU({type:R,selectors:[["mat-tooltip-component"]],viewQuery:function(v,$){if(1&v&&H.GBs(ee,7),2&v){let F;H.mGM(F=H.lsd())&&($._tooltip=F.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(v,$){1&v&&H.bIt("mouseleave",function(Q){return $._handleMouseLeave(Q)}),2&v&&H.xc7("zoom",$.isVisible()?1:null)},standalone:!0,features:[H.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(v,$){if(1&v){const F=H.RV6();H.j41(0,"div",1,0),H.bIt("animationend",function(de){return H.eBV(F),H.Njj($._handleAnimationEnd(de))}),H.j41(2,"div",2),H.EFF(3),H.k0s()()}2&v&&(H.AVh("mdc-tooltip--multiline",$._isMultiline),H.Y8G("ngClass",$.tooltipClass),H.R7$(3),H.JRh($.message))},dependencies:[w.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return R})(),D=(()=>{class R{static#e=this.\u0275fac=function(v){return new(v||R)};static#t=this.\u0275mod=H.$C({type:R});static#n=this.\u0275inj=H.G2t({providers:[ce],imports:[S.Pd,w.MD,N.z_,z.yE,z.yE,U.Gj]})}return R})()},345:(Je,j,_)=>{"use strict";_.d(j,{B7:()=>Me,B8:()=>F,hE:()=>ue,up:()=>Ne});var y=_(60177),b=_(93953);class P extends y.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends P{static makeCurrent(){(0,y.ZD)(new H)}onAndCancel(bt,ut,Gt){return bt.addEventListener(ut,Gt),()=>{bt.removeEventListener(ut,Gt)}}dispatchEvent(bt,ut){bt.dispatchEvent(ut)}remove(bt){bt.parentNode&&bt.parentNode.removeChild(bt)}createElement(bt,ut){return(ut=ut||this.getDefaultDocument()).createElement(bt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(bt){return bt.nodeType===Node.ELEMENT_NODE}isShadowRoot(bt){return bt instanceof DocumentFragment}getGlobalEventTarget(bt,ut){return"window"===ut?window:"document"===ut?bt:"body"===ut?bt.body:null}getBaseHref(bt){const ut=function O(){return w=w||document.querySelector("base"),w?w.getAttribute("href"):null}();return null==ut?null:function S(qt){return new URL(qt,document.baseURI).pathname}(ut)}resetBaseElement(){w=null}getUserAgent(){return window.navigator.userAgent}getCookie(bt){return(0,y._b)(document.cookie,bt)}}let w=null,N=(()=>{class qt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Gt){return new(Gt||qt)};static#t=this.\u0275prov=b.jDH({token:qt,factory:qt.\u0275fac})}return qt})();const U=new b.nKC("");let A=(()=>{class qt{constructor(ut,Gt){this._zone=Gt,this._eventNameToPlugin=new Map,ut.forEach(nn=>{nn.manager=this}),this._plugins=ut.slice().reverse()}addEventListener(ut,Gt,nn){return this._findPluginFor(Gt).addEventListener(ut,Gt,nn)}getZone(){return this._zone}_findPluginFor(ut){let Gt=this._eventNameToPlugin.get(ut);if(Gt)return Gt;if(Gt=this._plugins.find(pn=>pn.supports(ut)),!Gt)throw new b.wOt(5101,!1);return this._eventNameToPlugin.set(ut,Gt),Gt}static#e=this.\u0275fac=function(Gt){return new(Gt||qt)(b.KVO(U),b.KVO(b.SKi))};static#t=this.\u0275prov=b.jDH({token:qt,factory:qt.\u0275fac})}return qt})();class G{constructor(bt){this._doc=bt}}const L="ng-app-id";let z=(()=>{class qt{constructor(ut,Gt,nn,pn={}){this.doc=ut,this.appId=Gt,this.nonce=nn,this.platformId=pn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,y.Vy)(pn),this.resetHostNodes()}addStyles(ut){for(const Gt of ut)1===this.changeUsageCount(Gt,1)&&this.onStyleAdded(Gt)}removeStyles(ut){for(const Gt of ut)this.changeUsageCount(Gt,-1)<=0&&this.onStyleRemoved(Gt)}ngOnDestroy(){const ut=this.styleNodesInDOM;ut&&(ut.forEach(Gt=>Gt.remove()),ut.clear());for(const Gt of this.getAllStyles())this.onStyleRemoved(Gt);this.resetHostNodes()}addHost(ut){this.hostNodes.add(ut);for(const Gt of this.getAllStyles())this.addStyleToHost(ut,Gt)}removeHost(ut){this.hostNodes.delete(ut)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ut){for(const Gt of this.hostNodes)this.addStyleToHost(Gt,ut)}onStyleRemoved(ut){const Gt=this.styleRef;Gt.get(ut)?.elements?.forEach(nn=>nn.remove()),Gt.delete(ut)}collectServerRenderedStyles(){const ut=this.doc.head?.querySelectorAll(`style[${L}="${this.appId}"]`);if(ut?.length){const Gt=new Map;return ut.forEach(nn=>{null!=nn.textContent&&Gt.set(nn.textContent,nn)}),Gt}return null}changeUsageCount(ut,Gt){const nn=this.styleRef;if(nn.has(ut)){const pn=nn.get(ut);return pn.usage+=Gt,pn.usage}return nn.set(ut,{usage:Gt,elements:[]}),Gt}getStyleElement(ut,Gt){const nn=this.styleNodesInDOM,pn=nn?.get(Gt);if(pn?.parentNode===ut)return nn.delete(Gt),pn.removeAttribute(L),pn;{const ur=this.doc.createElement("style");return this.nonce&&ur.setAttribute("nonce",this.nonce),ur.textContent=Gt,this.platformIsServer&&ur.setAttribute(L,this.appId),ut.appendChild(ur),ur}}addStyleToHost(ut,Gt){const nn=this.getStyleElement(ut,Gt),pn=this.styleRef,ur=pn.get(Gt)?.elements;ur?ur.push(nn):pn.set(Gt,{elements:[nn],usage:1})}resetHostNodes(){const ut=this.hostNodes;ut.clear(),ut.add(this.doc.head)}static#e=this.\u0275fac=function(Gt){return new(Gt||qt)(b.KVO(y.qQ),b.KVO(b.sZ2),b.KVO(b.BIS,8),b.KVO(b.Agw))};static#t=this.\u0275prov=b.jDH({token:qt,factory:qt.\u0275fac})}return qt})();const ee={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},q=/%COMP%/g,Z="%COMP%",J=`_nghost-${Z}`,se=`_ngcontent-${Z}`,ae=new b.nKC("",{providedIn:"root",factory:()=>!0});function we(qt,bt){return bt.map(ut=>ut.replace(q,qt))}let Me=(()=>{class qt{constructor(ut,Gt,nn,pn,ur,yt,_t,xt=null){this.eventManager=ut,this.sharedStylesHost=Gt,this.appId=nn,this.removeStylesOnCompDestroy=pn,this.doc=ur,this.platformId=yt,this.ngZone=_t,this.nonce=xt,this.rendererByCompId=new Map,this.platformIsServer=(0,y.Vy)(yt),this.defaultRenderer=new Pe(ut,ur,_t,this.platformIsServer)}createRenderer(ut,Gt){if(!ut||!Gt)return this.defaultRenderer;this.platformIsServer&&Gt.encapsulation===b.gXe.ShadowDom&&(Gt={...Gt,encapsulation:b.gXe.Emulated});const nn=this.getOrCreateRenderer(ut,Gt);return nn instanceof E?nn.applyToHost(ut):nn instanceof p&&nn.applyStyles(),nn}getOrCreateRenderer(ut,Gt){const nn=this.rendererByCompId;let pn=nn.get(Gt.id);if(!pn){const ur=this.doc,yt=this.ngZone,_t=this.eventManager,xt=this.sharedStylesHost,qe=this.removeStylesOnCompDestroy,tt=this.platformIsServer;switch(Gt.encapsulation){case b.gXe.Emulated:pn=new E(_t,xt,Gt,this.appId,qe,ur,yt,tt);break;case b.gXe.ShadowDom:return new m(_t,xt,ut,Gt,ur,yt,this.nonce,tt);default:pn=new p(_t,xt,Gt,qe,ur,yt,tt)}nn.set(Gt.id,pn)}return pn}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Gt){return new(Gt||qt)(b.KVO(A),b.KVO(z),b.KVO(b.sZ2),b.KVO(ae),b.KVO(y.qQ),b.KVO(b.Agw),b.KVO(b.SKi),b.KVO(b.BIS))};static#t=this.\u0275prov=b.jDH({token:qt,factory:qt.\u0275fac})}return qt})();class Pe{constructor(bt,ut,Gt,nn){this.eventManager=bt,this.doc=ut,this.ngZone=Gt,this.platformIsServer=nn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(bt,ut){return ut?this.doc.createElementNS(ee[ut]||ut,bt):this.doc.createElement(bt)}createComment(bt){return this.doc.createComment(bt)}createText(bt){return this.doc.createTextNode(bt)}appendChild(bt,ut){(d(bt)?bt.content:bt).appendChild(ut)}insertBefore(bt,ut,Gt){bt&&(d(bt)?bt.content:bt).insertBefore(ut,Gt)}removeChild(bt,ut){bt&&bt.removeChild(ut)}selectRootElement(bt,ut){let Gt="string"==typeof bt?this.doc.querySelector(bt):bt;if(!Gt)throw new b.wOt(-5104,!1);return ut||(Gt.textContent=""),Gt}parentNode(bt){return bt.parentNode}nextSibling(bt){return bt.nextSibling}setAttribute(bt,ut,Gt,nn){if(nn){ut=nn+":"+ut;const pn=ee[nn];pn?bt.setAttributeNS(pn,ut,Gt):bt.setAttribute(ut,Gt)}else bt.setAttribute(ut,Gt)}removeAttribute(bt,ut,Gt){if(Gt){const nn=ee[Gt];nn?bt.removeAttributeNS(nn,ut):bt.removeAttribute(`${Gt}:${ut}`)}else bt.removeAttribute(ut)}addClass(bt,ut){bt.classList.add(ut)}removeClass(bt,ut){bt.classList.remove(ut)}setStyle(bt,ut,Gt,nn){nn&(b.czy.DashCase|b.czy.Important)?bt.style.setProperty(ut,Gt,nn&b.czy.Important?"important":""):bt.style[ut]=Gt}removeStyle(bt,ut,Gt){Gt&b.czy.DashCase?bt.style.removeProperty(ut):bt.style[ut]=""}setProperty(bt,ut,Gt){null!=bt&&(bt[ut]=Gt)}setValue(bt,ut){bt.nodeValue=ut}listen(bt,ut,Gt){if("string"==typeof bt&&!(bt=(0,y.QT)().getGlobalEventTarget(this.doc,bt)))throw new Error(`Unsupported event target ${bt} for event ${ut}`);return this.eventManager.addEventListener(bt,ut,this.decoratePreventDefault(Gt))}decoratePreventDefault(bt){return ut=>{if("__ngUnwrap__"===ut)return bt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>bt(ut)):bt(ut))&&ut.preventDefault()}}}function d(qt){return"TEMPLATE"===qt.tagName&&void 0!==qt.content}class m extends Pe{constructor(bt,ut,Gt,nn,pn,ur,yt,_t){super(bt,pn,ur,_t),this.sharedStylesHost=ut,this.hostEl=Gt,this.shadowRoot=Gt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const xt=we(nn.id,nn.styles);for(const qe of xt){const tt=document.createElement("style");yt&&tt.setAttribute("nonce",yt),tt.textContent=qe,this.shadowRoot.appendChild(tt)}}nodeOrShadowRoot(bt){return bt===this.hostEl?this.shadowRoot:bt}appendChild(bt,ut){return super.appendChild(this.nodeOrShadowRoot(bt),ut)}insertBefore(bt,ut,Gt){return super.insertBefore(this.nodeOrShadowRoot(bt),ut,Gt)}removeChild(bt,ut){return super.removeChild(this.nodeOrShadowRoot(bt),ut)}parentNode(bt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(bt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class p extends Pe{constructor(bt,ut,Gt,nn,pn,ur,yt,_t){super(bt,pn,ur,yt),this.sharedStylesHost=ut,this.removeStylesOnCompDestroy=nn,this.styles=_t?we(_t,Gt.styles):Gt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class E extends p{constructor(bt,ut,Gt,nn,pn,ur,yt,_t){const xt=nn+"-"+Gt.id;super(bt,ut,Gt,pn,ur,yt,_t,xt),this.contentAttr=function fe(qt){return se.replace(q,qt)}(xt),this.hostAttr=function he(qt){return J.replace(q,qt)}(xt)}applyToHost(bt){this.applyStyles(),this.setAttribute(bt,this.hostAttr,"")}createElement(bt,ut){const Gt=super.createElement(bt,ut);return super.setAttribute(Gt,this.contentAttr,""),Gt}}let D=(()=>{class qt extends G{constructor(ut){super(ut)}supports(ut){return!0}addEventListener(ut,Gt,nn){return ut.addEventListener(Gt,nn,!1),()=>this.removeEventListener(ut,Gt,nn)}removeEventListener(ut,Gt,nn){return ut.removeEventListener(Gt,nn)}static#e=this.\u0275fac=function(Gt){return new(Gt||qt)(b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:qt,factory:qt.\u0275fac})}return qt})(),R=(()=>{class qt extends G{constructor(ut){super(ut),this.delegate=(0,b.WQX)(b.zAP,{optional:!0})}supports(ut){return!!this.delegate&&this.delegate.supports(ut)}addEventListener(ut,Gt,nn){return this.delegate.addEventListener(ut,Gt,nn)}removeEventListener(ut,Gt,nn){return this.delegate.removeEventListener(ut,Gt,nn)}static#e=this.\u0275fac=function(Gt){return new(Gt||qt)(b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:qt,factory:qt.\u0275fac})}return qt})();const x=["alt","control","meta","shift"],s={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v={alt:qt=>qt.altKey,control:qt=>qt.ctrlKey,meta:qt=>qt.metaKey,shift:qt=>qt.shiftKey};let $=(()=>{class qt extends G{constructor(ut){super(ut)}supports(ut){return null!=qt.parseEventName(ut)}addEventListener(ut,Gt,nn){const pn=qt.parseEventName(Gt),ur=qt.eventCallback(pn.fullKey,nn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.QT)().onAndCancel(ut,pn.domEventName,ur))}static parseEventName(ut){const Gt=ut.toLowerCase().split("."),nn=Gt.shift();if(0===Gt.length||"keydown"!==nn&&"keyup"!==nn)return null;const pn=qt._normalizeKey(Gt.pop());let ur="",yt=Gt.indexOf("code");if(yt>-1&&(Gt.splice(yt,1),ur="code."),x.forEach(xt=>{const qe=Gt.indexOf(xt);qe>-1&&(Gt.splice(qe,1),ur+=xt+".")}),ur+=pn,0!=Gt.length||0===pn.length)return null;const _t={};return _t.domEventName=nn,_t.fullKey=ur,_t}static matchEventFullKeyCode(ut,Gt){let nn=s[ut.key]||ut.key,pn="";return Gt.indexOf("code.")>-1&&(nn=ut.code,pn="code."),!(null==nn||!nn)&&(nn=nn.toLowerCase()," "===nn?nn="space":"."===nn&&(nn="dot"),x.forEach(ur=>{ur!==nn&&(0,v[ur])(ut)&&(pn+=ur+".")}),pn+=nn,pn===Gt)}static eventCallback(ut,Gt,nn){return pn=>{qt.matchEventFullKeyCode(pn,ut)&&nn.runGuarded(()=>Gt(pn))}}static _normalizeKey(ut){return"esc"===ut?"escape":ut}static#e=this.\u0275fac=function(Gt){return new(Gt||qt)(b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:qt,factory:qt.\u0275fac})}return qt})();function F(qt,bt){return(0,b.TL3)({rootComponent:qt,...de(bt)})}function de(qt){return{appProviders:[...ge,...qt?.providers??[]],platformProviders:_e}}const _e=[{provide:b.Agw,useValue:y.AJ},{provide:b.PLl,useValue:function Re(){H.makeCurrent()},multi:!0},{provide:y.qQ,useFactory:function Ee(){return(0,b.TL$)(document),document},deps:[]}],ge=[{provide:b.H8p,useValue:"root"},{provide:b.zcH,useFactory:function Ve(){return new b.zcH},deps:[]},{provide:U,useClass:D,multi:!0,deps:[y.qQ,b.SKi,b.Agw]},{provide:U,useClass:$,multi:!0,deps:[y.qQ]},{provide:U,useClass:R,multi:!0},Me,z,A,{provide:b._9s,useExisting:Me},{provide:y.N0,useClass:N,deps:[]},[]];let ue=(()=>{class qt{constructor(ut){this._doc=ut}getTitle(){return this._doc.title}setTitle(ut){this._doc.title=ut||""}static#e=this.\u0275fac=function(Gt){return new(Gt||qt)(b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"})}return qt})(),Ne=(()=>{class qt{static#e=this.\u0275fac=function(Gt){return new(Gt||qt)};static#t=this.\u0275prov=b.jDH({token:qt,factory:function(Gt){let nn=null;return nn=Gt?new(Gt||qt):b.KVO(lt),nn},providedIn:"root"})}return qt})(),lt=(()=>{class qt extends Ne{constructor(ut){super(),this._doc=ut}sanitize(ut,Gt){if(null==Gt)return null;switch(ut){case b.WPN.NONE:return Gt;case b.WPN.HTML:return(0,b.ZF7)(Gt,"HTML")?(0,b.rcV)(Gt):(0,b.h9k)(this._doc,String(Gt)).toString();case b.WPN.STYLE:return(0,b.ZF7)(Gt,"Style")?(0,b.rcV)(Gt):Gt;case b.WPN.SCRIPT:if((0,b.ZF7)(Gt,"Script"))return(0,b.rcV)(Gt);throw new b.wOt(5200,!1);case b.WPN.URL:return(0,b.ZF7)(Gt,"URL")?(0,b.rcV)(Gt):(0,b.$MX)(String(Gt));case b.WPN.RESOURCE_URL:if((0,b.ZF7)(Gt,"ResourceURL"))return(0,b.rcV)(Gt);throw new b.wOt(5201,!1);default:throw new b.wOt(5202,!1)}}bypassSecurityTrustHtml(ut){return(0,b.Kcf)(ut)}bypassSecurityTrustStyle(ut){return(0,b.cWb)(ut)}bypassSecurityTrustScript(ut){return(0,b.UyX)(ut)}bypassSecurityTrustUrl(ut){return(0,b.osQ)(ut)}bypassSecurityTrustResourceUrl(ut){return(0,b.e5t)(ut)}static#e=this.\u0275fac=function(Gt){return new(Gt||qt)(b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"})}return qt})()},18498:(Je,j,_)=>{"use strict";_.d(j,{nX:()=>Xo,wF:()=>jr,Z:()=>xr,Kp:()=>zt,Ix:()=>oe,Wk:()=>Ze,wQ:()=>ht,iI:()=>vl,n3:()=>Qc,lh:()=>$r,Sn:()=>nl});var y=_(10467),b=_(93953),P=_(74402),H=_(86648),w=_(7673),O=_(84412),S=_(84572);const N=(0,_(81853).L)(Ge=>function(){Ge(this),this.name="EmptyError",this.message="no elements in sequence"});var U=_(28793),A=_(59030),G=_(71203),L=_(18810),z=_(983),ee=_(30017),q=_(21413),Z=_(18359),J=_(60177),se=_(96354),ce=_(25558),ae=_(96697),fe=_(99172),he=_(5964),we=_(31397),Me=_(39974),Pe=_(54360);function C(Ge){return(0,Me.N)((ft,et)=>{let pt=!1;ft.subscribe((0,Pe._)(et,Pt=>{pt=!0,et.next(Pt)},()=>{pt||et.next(Ge),et.complete()}))})}function a(Ge=d){return(0,Me.N)((ft,et)=>{let pt=!1;ft.subscribe((0,Pe._)(et,Pt=>{pt=!0,et.next(Pt)},()=>pt?et.complete():et.error(Ge())))})}function d(){return new N}var m=_(33669);function p(Ge,ft){const et=arguments.length>=2;return pt=>pt.pipe(Ge?(0,he.p)((Pt,sn)=>Ge(Pt,sn,pt)):m.D,(0,ae.s)(1),et?C(ft):a(()=>new N))}var E=_(70274),D=_(88141),R=_(99437);function v(Ge){return Ge<=0?()=>z.w:(0,Me.N)((ft,et)=>{let pt=[];ft.subscribe((0,Pe._)(et,Pt=>{pt.push(Pt),Ge<pt.length&&pt.shift()},()=>{for(const Pt of pt)et.next(Pt);et.complete()},void 0,()=>{pt=null}))})}var F=_(73703),Q=_(70980),de=_(99898),Ce=_(56977),Re=_(26365),Ve=_(345);const Ee="primary",_e=Symbol("RouteTitle");class Fe{constructor(ft){this.params=ft||{}}has(ft){return Object.prototype.hasOwnProperty.call(this.params,ft)}get(ft){if(this.has(ft)){const et=this.params[ft];return Array.isArray(et)?et[0]:et}return null}getAll(ft){if(this.has(ft)){const et=this.params[ft];return Array.isArray(et)?et:[et]}return[]}get keys(){return Object.keys(this.params)}}function be(Ge){return new Fe(Ge)}function Ae(Ge,ft,et){const pt=et.path.split("/");if(pt.length>Ge.length||"full"===et.pathMatch&&(ft.hasChildren()||pt.length<Ge.length))return null;const Pt={};for(let sn=0;sn<pt.length;sn++){const En=pt[sn],or=Ge[sn];if(":"===En[0])Pt[En.substring(1)]=or;else if(En!==or.path)return null}return{consumed:Ge.slice(0,pt.length),posParams:Pt}}function me(Ge,ft){const et=Ge?te(Ge):void 0,pt=ft?te(ft):void 0;if(!et||!pt||et.length!=pt.length)return!1;let Pt;for(let sn=0;sn<et.length;sn++)if(Pt=et[sn],!ne(Ge[Pt],ft[Pt]))return!1;return!0}function te(Ge){return[...Object.keys(Ge),...Object.getOwnPropertySymbols(Ge)]}function ne(Ge,ft){if(Array.isArray(Ge)&&Array.isArray(ft)){if(Ge.length!==ft.length)return!1;const et=[...Ge].sort(),pt=[...ft].sort();return et.every((Pt,sn)=>pt[sn]===Pt)}return Ge===ft}function ue(Ge){return Ge.length>0?Ge[Ge.length-1]:null}function De(Ge){return(0,P.A)(Ge)?Ge:(0,b.jNT)(Ge)?(0,H.H)(Promise.resolve(Ge)):(0,w.of)(Ge)}const Be={exact:function Xe(Ge,ft,et){if(!Ne(Ge.segments,ft.segments)||!T(Ge.segments,ft.segments,et)||Ge.numberOfChildren!==ft.numberOfChildren)return!1;for(const pt in ft.children)if(!Ge.children[pt]||!Xe(Ge.children[pt],ft.children[pt],et))return!1;return!0},subset:mt},Qe={exact:function Dt(Ge,ft){return me(Ge,ft)},subset:function Ue(Ge,ft){return Object.keys(ft).length<=Object.keys(Ge).length&&Object.keys(ft).every(et=>ne(Ge[et],ft[et]))},ignored:()=>!0};function ze(Ge,ft,et){return Be[et.paths](Ge.root,ft.root,et.matrixParams)&&Qe[et.queryParams](Ge.queryParams,ft.queryParams)&&!("exact"===et.fragment&&Ge.fragment!==ft.fragment)}function mt(Ge,ft,et){return K(Ge,ft,ft.segments,et)}function K(Ge,ft,et,pt){if(Ge.segments.length>et.length){const Pt=Ge.segments.slice(0,et.length);return!(!Ne(Pt,et)||ft.hasChildren()||!T(Pt,et,pt))}if(Ge.segments.length===et.length){if(!Ne(Ge.segments,et)||!T(Ge.segments,et,pt))return!1;for(const Pt in ft.children)if(!Ge.children[Pt]||!mt(Ge.children[Pt],ft.children[Pt],pt))return!1;return!0}{const Pt=et.slice(0,Ge.segments.length),sn=et.slice(Ge.segments.length);return!!(Ne(Ge.segments,Pt)&&T(Ge.segments,Pt,pt)&&Ge.children[Ee])&&K(Ge.children[Ee],ft,sn,pt)}}function T(Ge,ft,et){return ft.every((pt,Pt)=>Qe[et](Ge[Pt].parameters,pt.parameters))}class M{constructor(ft=new Y([],{}),et={},pt=null){this.root=ft,this.queryParams=et,this.fragment=pt}get queryParamMap(){return this._queryParamMap??=be(this.queryParams),this._queryParamMap}toString(){return Kt.serialize(this)}}class Y{constructor(ft,et){this.segments=ft,this.children=et,this.parent=null,Object.values(et).forEach(pt=>pt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rn(this)}}class pe{constructor(ft,et){this.path=ft,this.parameters=et}get parameterMap(){return this._parameterMap??=be(this.parameters),this._parameterMap}toString(){return ut(this)}}function Ne(Ge,ft){return Ge.length===ft.length&&Ge.every((et,pt)=>et.path===ft[pt].path)}let en=(()=>{class Ge{static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:()=>new It,providedIn:"root"})}return Ge})();class It{parse(ft){const et=new Ft(ft);return new M(et.parseRootSegment(),et.parseQueryParams(),et.parseFragment())}serialize(ft){const et=`/${vn(ft.root,!0)}`,pt=function nn(Ge){const ft=Object.entries(Ge).map(([et,pt])=>Array.isArray(pt)?pt.map(Pt=>`${sr(et)}=${sr(Pt)}`).join("&"):`${sr(et)}=${sr(pt)}`).filter(et=>et);return ft.length?`?${ft.join("&")}`:""}(ft.queryParams);return`${et}${pt}${"string"==typeof ft.fragment?`#${function Cn(Ge){return encodeURI(Ge)}(ft.fragment)}`:""}`}}const Kt=new It;function rn(Ge){return Ge.segments.map(ft=>ut(ft)).join("/")}function vn(Ge,ft){if(!Ge.hasChildren())return rn(Ge);if(ft){const et=Ge.children[Ee]?vn(Ge.children[Ee],!1):"",pt=[];return Object.entries(Ge.children).forEach(([Pt,sn])=>{Pt!==Ee&&pt.push(`${Pt}:${vn(sn,!1)}`)}),pt.length>0?`${et}(${pt.join("//")})`:et}{const et=function lt(Ge,ft){let et=[];return Object.entries(Ge.children).forEach(([pt,Pt])=>{pt===Ee&&(et=et.concat(ft(Pt,pt)))}),Object.entries(Ge.children).forEach(([pt,Pt])=>{pt!==Ee&&(et=et.concat(ft(Pt,pt)))}),et}(Ge,(pt,Pt)=>Pt===Ee?[vn(Ge.children[Ee],!1)]:[`${Pt}:${vn(pt,!1)}`]);return 1===Object.keys(Ge.children).length&&null!=Ge.children[Ee]?`${rn(Ge)}/${et[0]}`:`${rn(Ge)}/(${et.join("//")})`}}function un(Ge){return encodeURIComponent(Ge).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sr(Ge){return un(Ge).replace(/%3B/gi,";")}function cn(Ge){return un(Ge).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qt(Ge){return decodeURIComponent(Ge)}function bt(Ge){return qt(Ge.replace(/\+/g,"%20"))}function ut(Ge){return`${cn(Ge.path)}${function Gt(Ge){return Object.entries(Ge).map(([ft,et])=>`;${cn(ft)}=${cn(et)}`).join("")}(Ge.parameters)}`}const pn=/^[^\/()?;#]+/;function ur(Ge){const ft=Ge.match(pn);return ft?ft[0]:""}const yt=/^[^\/()?;=#]+/,xt=/^[^=?&#]+/,tt=/^[^&#]+/;class Ft{constructor(ft){this.url=ft,this.remaining=ft}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){const ft={};if(this.consumeOptional("?"))do{this.parseQueryParam(ft)}while(this.consumeOptional("&"));return ft}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ft=[];for(this.peekStartsWith("(")||ft.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ft.push(this.parseSegment());let et={};this.peekStartsWith("/(")&&(this.capture("/"),et=this.parseParens(!0));let pt={};return this.peekStartsWith("(")&&(pt=this.parseParens(!1)),(ft.length>0||Object.keys(et).length>0)&&(pt[Ee]=new Y(ft,et)),pt}parseSegment(){const ft=ur(this.remaining);if(""===ft&&this.peekStartsWith(";"))throw new b.wOt(4009,!1);return this.capture(ft),new pe(qt(ft),this.parseMatrixParams())}parseMatrixParams(){const ft={};for(;this.consumeOptional(";");)this.parseParam(ft);return ft}parseParam(ft){const et=function _t(Ge){const ft=Ge.match(yt);return ft?ft[0]:""}(this.remaining);if(!et)return;this.capture(et);let pt="";if(this.consumeOptional("=")){const Pt=ur(this.remaining);Pt&&(pt=Pt,this.capture(pt))}ft[qt(et)]=qt(pt)}parseQueryParam(ft){const et=function qe(Ge){const ft=Ge.match(xt);return ft?ft[0]:""}(this.remaining);if(!et)return;this.capture(et);let pt="";if(this.consumeOptional("=")){const En=function Wt(Ge){const ft=Ge.match(tt);return ft?ft[0]:""}(this.remaining);En&&(pt=En,this.capture(pt))}const Pt=bt(et),sn=bt(pt);if(ft.hasOwnProperty(Pt)){let En=ft[Pt];Array.isArray(En)||(En=[En],ft[Pt]=En),En.push(sn)}else ft[Pt]=sn}parseParens(ft){const et={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const pt=ur(this.remaining),Pt=this.remaining[pt.length];if("/"!==Pt&&")"!==Pt&&";"!==Pt)throw new b.wOt(4010,!1);let sn;pt.indexOf(":")>-1?(sn=pt.slice(0,pt.indexOf(":")),this.capture(sn),this.capture(":")):ft&&(sn=Ee);const En=this.parseChildren();et[sn]=1===Object.keys(En).length?En[Ee]:new Y([],En),this.consumeOptional("//")}return et}peekStartsWith(ft){return this.remaining.startsWith(ft)}consumeOptional(ft){return!!this.peekStartsWith(ft)&&(this.remaining=this.remaining.substring(ft.length),!0)}capture(ft){if(!this.consumeOptional(ft))throw new b.wOt(4011,!1)}}function mn(Ge){return Ge.segments.length>0?new Y([],{[Ee]:Ge}):Ge}function zn(Ge){const ft={};for(const[pt,Pt]of Object.entries(Ge.children)){const sn=zn(Pt);if(pt===Ee&&0===sn.segments.length&&sn.hasChildren())for(const[En,or]of Object.entries(sn.children))ft[En]=or;else(sn.segments.length>0||sn.hasChildren())&&(ft[pt]=sn)}return function wn(Ge){if(1===Ge.numberOfChildren&&Ge.children[Ee]){const ft=Ge.children[Ee];return new Y(Ge.segments.concat(ft.segments),ft.children)}return Ge}(new Y(Ge.segments,ft))}function Tn(Ge){return Ge instanceof M}function ir(Ge){let ft;const Pt=mn(function et(sn){const En={};for(const $n of sn.children){const Rr=et($n);En[$n.outlet]=Rr}const or=new Y(sn.url,En);return sn===Ge&&(ft=or),or}(Ge.root));return ft??Pt}function Nn(Ge,ft,et,pt){let Pt=Ge;for(;Pt.parent;)Pt=Pt.parent;if(0===ft.length)return He(Pt,Pt,Pt,et,pt);const sn=function xn(Ge){if("string"==typeof Ge[0]&&1===Ge.length&&"/"===Ge[0])return new Zt(!0,0,Ge);let ft=0,et=!1;const pt=Ge.reduce((Pt,sn,En)=>{if("object"==typeof sn&&null!=sn){if(sn.outlets){const or={};return Object.entries(sn.outlets).forEach(([$n,Rr])=>{or[$n]="string"==typeof Rr?Rr.split("/"):Rr}),[...Pt,{outlets:or}]}if(sn.segmentPath)return[...Pt,sn.segmentPath]}return"string"!=typeof sn?[...Pt,sn]:0===En?(sn.split("/").forEach((or,$n)=>{0==$n&&"."===or||(0==$n&&""===or?et=!0:".."===or?ft++:""!=or&&Pt.push(or))}),Pt):[...Pt,sn]},[]);return new Zt(et,ft,pt)}(ft);if(sn.toRoot())return He(Pt,Pt,new Y([],{}),et,pt);const En=function er(Ge,ft,et){if(Ge.isAbsolute)return new Hn(ft,!0,0);if(!et)return new Hn(ft,!1,NaN);if(null===et.parent)return new Hn(et,!0,0);const pt=Ln(Ge.commands[0])?0:1;return function hr(Ge,ft,et){let pt=Ge,Pt=ft,sn=et;for(;sn>Pt;){if(sn-=Pt,pt=pt.parent,!pt)throw new b.wOt(4005,!1);Pt=pt.segments.length}return new Hn(pt,!1,Pt-sn)}(et,et.segments.length-1+pt,Ge.numberOfDoubleDots)}(sn,Pt,Ge),or=En.processChildren?Ur(En.segmentGroup,En.index,sn.commands):Cr(En.segmentGroup,En.index,sn.commands);return He(Pt,En.segmentGroup,or,et,pt)}function Ln(Ge){return"object"==typeof Ge&&null!=Ge&&!Ge.outlets&&!Ge.segmentPath}function at(Ge){return"object"==typeof Ge&&null!=Ge&&Ge.outlets}function He(Ge,ft,et,pt,Pt){let En,sn={};pt&&Object.entries(pt).forEach(([$n,Rr])=>{sn[$n]=Array.isArray(Rr)?Rr.map(Pi=>`${Pi}`):`${Rr}`}),En=Ge===ft?et:ct(Ge,ft,et);const or=mn(zn(En));return new M(or,sn,Pt)}function ct(Ge,ft,et){const pt={};return Object.entries(Ge.children).forEach(([Pt,sn])=>{pt[Pt]=sn===ft?et:ct(sn,ft,et)}),new Y(Ge.segments,pt)}class Zt{constructor(ft,et,pt){if(this.isAbsolute=ft,this.numberOfDoubleDots=et,this.commands=pt,ft&&pt.length>0&&Ln(pt[0]))throw new b.wOt(4003,!1);const Pt=pt.find(at);if(Pt&&Pt!==ue(pt))throw new b.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hn{constructor(ft,et,pt){this.segmentGroup=ft,this.processChildren=et,this.index=pt}}function Cr(Ge,ft,et){if(Ge??=new Y([],{}),0===Ge.segments.length&&Ge.hasChildren())return Ur(Ge,ft,et);const pt=function Lr(Ge,ft,et){let pt=0,Pt=ft;const sn={match:!1,pathIndex:0,commandIndex:0};for(;Pt<Ge.segments.length;){if(pt>=et.length)return sn;const En=Ge.segments[Pt],or=et[pt];if(at(or))break;const $n=`${or}`,Rr=pt<et.length-1?et[pt+1]:null;if(Pt>0&&void 0===$n)break;if($n&&Rr&&"object"==typeof Rr&&void 0===Rr.outlets){if(!Dn($n,Rr,En))return sn;pt+=2}else{if(!Dn($n,{},En))return sn;pt++}Pt++}return{match:!0,pathIndex:Pt,commandIndex:pt}}(Ge,ft,et),Pt=et.slice(pt.commandIndex);if(pt.match&&pt.pathIndex<Ge.segments.length){const sn=new Y(Ge.segments.slice(0,pt.pathIndex),{});return sn.children[Ee]=new Y(Ge.segments.slice(pt.pathIndex),Ge.children),Ur(sn,0,Pt)}return pt.match&&0===Pt.length?new Y(Ge.segments,{}):pt.match&&!Ge.hasChildren()?oi(Ge,ft,et):pt.match?Ur(Ge,0,Pt):oi(Ge,ft,et)}function Ur(Ge,ft,et){if(0===et.length)return new Y(Ge.segments,{});{const pt=function Nr(Ge){return at(Ge[0])?Ge[0].outlets:{[Ee]:Ge}}(et),Pt={};if(Object.keys(pt).some(sn=>sn!==Ee)&&Ge.children[Ee]&&1===Ge.numberOfChildren&&0===Ge.children[Ee].segments.length){const sn=Ur(Ge.children[Ee],ft,et);return new Y(Ge.segments,sn.children)}return Object.entries(pt).forEach(([sn,En])=>{"string"==typeof En&&(En=[En]),null!==En&&(Pt[sn]=Cr(Ge.children[sn],ft,En))}),Object.entries(Ge.children).forEach(([sn,En])=>{void 0===pt[sn]&&(Pt[sn]=En)}),new Y(Ge.segments,Pt)}}function oi(Ge,ft,et){const pt=Ge.segments.slice(0,ft);let Pt=0;for(;Pt<et.length;){const sn=et[Pt];if(at(sn)){const $n=on(sn.outlets);return new Y(pt,$n)}if(0===Pt&&Ln(et[0])){pt.push(new pe(Ge.segments[ft].path,_n(et[0]))),Pt++;continue}const En=at(sn)?sn.outlets[Ee]:`${sn}`,or=Pt<et.length-1?et[Pt+1]:null;En&&or&&Ln(or)?(pt.push(new pe(En,_n(or))),Pt+=2):(pt.push(new pe(En,{})),Pt++)}return new Y(pt,{})}function on(Ge){const ft={};return Object.entries(Ge).forEach(([et,pt])=>{"string"==typeof pt&&(pt=[pt]),null!==pt&&(ft[et]=oi(new Y([],{}),0,pt))}),ft}function _n(Ge){const ft={};return Object.entries(Ge).forEach(([et,pt])=>ft[et]=`${pt}`),ft}function Dn(Ge,ft,et){return Ge==et.path&&me(ft,et.parameters)}const Wn="imperative";var Gn=function(Ge){return Ge[Ge.NavigationStart=0]="NavigationStart",Ge[Ge.NavigationEnd=1]="NavigationEnd",Ge[Ge.NavigationCancel=2]="NavigationCancel",Ge[Ge.NavigationError=3]="NavigationError",Ge[Ge.RoutesRecognized=4]="RoutesRecognized",Ge[Ge.ResolveStart=5]="ResolveStart",Ge[Ge.ResolveEnd=6]="ResolveEnd",Ge[Ge.GuardsCheckStart=7]="GuardsCheckStart",Ge[Ge.GuardsCheckEnd=8]="GuardsCheckEnd",Ge[Ge.RouteConfigLoadStart=9]="RouteConfigLoadStart",Ge[Ge.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",Ge[Ge.ChildActivationStart=11]="ChildActivationStart",Ge[Ge.ChildActivationEnd=12]="ChildActivationEnd",Ge[Ge.ActivationStart=13]="ActivationStart",Ge[Ge.ActivationEnd=14]="ActivationEnd",Ge[Ge.Scroll=15]="Scroll",Ge[Ge.NavigationSkipped=16]="NavigationSkipped",Ge}(Gn||{});class wr{constructor(ft,et){this.id=ft,this.url=et}}class xr extends wr{constructor(ft,et,pt="imperative",Pt=null){super(ft,et),this.type=Gn.NavigationStart,this.navigationTrigger=pt,this.restoredState=Pt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jr extends wr{constructor(ft,et,pt){super(ft,et),this.urlAfterRedirects=pt,this.type=Gn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Kr=function(Ge){return Ge[Ge.Redirect=0]="Redirect",Ge[Ge.SupersededByNewNavigation=1]="SupersededByNewNavigation",Ge[Ge.NoDataFromResolver=2]="NoDataFromResolver",Ge[Ge.GuardRejected=3]="GuardRejected",Ge}(Kr||{}),Ti=function(Ge){return Ge[Ge.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",Ge[Ge.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",Ge}(Ti||{});class wo extends wr{constructor(ft,et,pt,Pt){super(ft,et),this.reason=pt,this.code=Pt,this.type=Gn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class si extends wr{constructor(ft,et,pt,Pt){super(ft,et),this.reason=pt,this.code=Pt,this.type=Gn.NavigationSkipped}}class ho extends wr{constructor(ft,et,pt,Pt){super(ft,et),this.error=pt,this.target=Pt,this.type=Gn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yo extends wr{constructor(ft,et,pt,Pt){super(ft,et),this.urlAfterRedirects=pt,this.state=Pt,this.type=Gn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io extends wr{constructor(ft,et,pt,Pt){super(ft,et),this.urlAfterRedirects=pt,this.state=Pt,this.type=Gn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends wr{constructor(ft,et,pt,Pt,sn){super(ft,et),this.urlAfterRedirects=pt,this.state=Pt,this.shouldActivate=sn,this.type=Gn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Li extends wr{constructor(ft,et,pt,Pt){super(ft,et),this.urlAfterRedirects=pt,this.state=Pt,this.type=Gn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni extends wr{constructor(ft,et,pt,Pt){super(ft,et),this.urlAfterRedirects=pt,this.state=Pt,this.type=Gn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa{constructor(ft){this.route=ft,this.type=Gn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Di{constructor(ft){this.route=ft,this.type=Gn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sn{constructor(ft){this.snapshot=ft,this.type=Gn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(ft){this.snapshot=ft,this.type=Gn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dn{constructor(ft){this.snapshot=ft,this.type=Gn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Un{constructor(ft){this.snapshot=ft,this.type=Gn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{constructor(ft,et,pt){this.routerEvent=ft,this.position=et,this.anchor=pt,this.type=Gn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zr{}class ti{constructor(ft,et){this.url=ft,this.navigationBehaviorOptions=et}}function ga(Ge){return Ge.outlet||Ee}function nc(Ge){if(!Ge)return null;if(Ge.routeConfig?._injector)return Ge.routeConfig._injector;for(let ft=Ge.parent;ft;ft=ft.parent){const et=ft.routeConfig;if(et?._loadedInjector)return et._loadedInjector;if(et?._injector)return et._injector}return null}class oa{get injector(){return nc(this.route?.snapshot)??this.rootInjector}set injector(ft){}constructor(ft){this.rootInjector=ft,this.outlet=null,this.route=null,this.children=new rc(this.rootInjector),this.attachRef=null}}let rc=(()=>{class Ge{constructor(et){this.rootInjector=et,this.contexts=new Map}onChildOutletCreated(et,pt){const Pt=this.getOrCreateContext(et);Pt.outlet=pt,this.contexts.set(et,Pt)}onChildOutletDestroyed(et){const pt=this.getContext(et);pt&&(pt.outlet=null,pt.attachRef=null)}onOutletDeactivated(){const et=this.contexts;return this.contexts=new Map,et}onOutletReAttached(et){this.contexts=et}getOrCreateContext(et){let pt=this.getContext(et);return pt||(pt=new oa(this.rootInjector),this.contexts.set(et,pt)),pt}getContext(et){return this.contexts.get(et)||null}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.KVO(b.uvJ))};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();class Wi{constructor(ft){this._root=ft}get root(){return this._root.value}parent(ft){const et=this.pathFromRoot(ft);return et.length>1?et[et.length-2]:null}children(ft){const et=sa(ft,this._root);return et?et.children.map(pt=>pt.value):[]}firstChild(ft){const et=sa(ft,this._root);return et&&et.children.length>0?et.children[0].value:null}siblings(ft){const et=Ac(ft,this._root);return et.length<2?[]:et[et.length-2].children.map(Pt=>Pt.value).filter(Pt=>Pt!==ft)}pathFromRoot(ft){return Ac(ft,this._root).map(et=>et.value)}}function sa(Ge,ft){if(Ge===ft.value)return ft;for(const et of ft.children){const pt=sa(Ge,et);if(pt)return pt}return null}function Ac(Ge,ft){if(Ge===ft.value)return[ft];for(const et of ft.children){const pt=Ac(Ge,et);if(pt.length)return pt.unshift(ft),pt}return[]}class Aa{constructor(ft,et){this.value=ft,this.children=et}toString(){return`TreeNode(${this.value})`}}function No(Ge){const ft={};return Ge&&Ge.children.forEach(et=>ft[et.value.outlet]=et),ft}class Rd extends Wi{constructor(ft,et){super(ft),this.snapshot=et,Ns(this,ft)}toString(){return this.snapshot.toString()}}function Oc(Ge){const ft=function xu(Ge){const sn=new Ho([],{},{},"",{},Ee,Ge,null,{});return new Ir("",new Aa(sn,[]))}(Ge),et=new O.t([new pe("",{})]),pt=new O.t({}),Pt=new O.t({}),sn=new O.t({}),En=new O.t(""),or=new Xo(et,pt,sn,En,Pt,Ee,Ge,ft.root);return or.snapshot=ft.root,new Rd(new Aa(or,[]),ft)}class Xo{constructor(ft,et,pt,Pt,sn,En,or,$n){this.urlSubject=ft,this.paramsSubject=et,this.queryParamsSubject=pt,this.fragmentSubject=Pt,this.dataSubject=sn,this.outlet=En,this.component=or,this._futureSnapshot=$n,this.title=this.dataSubject?.pipe((0,se.T)(Rr=>Rr[_e]))??(0,w.of)(void 0),this.url=ft,this.params=et,this.queryParams=pt,this.fragment=Pt,this.data=sn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,se.T)(ft=>be(ft))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,se.T)(ft=>be(ft))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rc(Ge,ft,et="emptyOnly"){let pt;const{routeConfig:Pt}=Ge;return pt=null===ft||"always"!==et&&""!==Pt?.path&&(ft.component||ft.routeConfig?.loadComponent)?{params:{...Ge.params},data:{...Ge.data},resolve:{...Ge.data,...Ge._resolvedData??{}}}:{params:{...ft.params,...Ge.params},data:{...ft.data,...Ge.data},resolve:{...Ge.data,...ft.data,...Pt?.data,...Ge._resolvedData}},Pt&&ss(Pt)&&(pt.resolve[_e]=Pt.title),pt}class Ho{get title(){return this.data?.[_e]}constructor(ft,et,pt,Pt,sn,En,or,$n,Rr){this.url=ft,this.params=et,this.queryParams=pt,this.fragment=Pt,this.data=sn,this.outlet=En,this.component=or,this.routeConfig=$n,this._resolve=Rr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=be(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=be(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(pt=>pt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ir extends Wi{constructor(ft,et){super(et),this.url=ft,Ns(this,et)}toString(){return So(this._root)}}function Ns(Ge,ft){ft.value._routerState=Ge,ft.children.forEach(et=>Ns(Ge,et))}function So(Ge){const ft=Ge.children.length>0?` { ${Ge.children.map(So).join(", ")} } `:"";return`${Ge.value}${ft}`}function Ja(Ge){if(Ge.snapshot){const ft=Ge.snapshot,et=Ge._futureSnapshot;Ge.snapshot=et,me(ft.queryParams,et.queryParams)||Ge.queryParamsSubject.next(et.queryParams),ft.fragment!==et.fragment&&Ge.fragmentSubject.next(et.fragment),me(ft.params,et.params)||Ge.paramsSubject.next(et.params),function ge(Ge,ft){if(Ge.length!==ft.length)return!1;for(let et=0;et<Ge.length;++et)if(!me(Ge[et],ft[et]))return!1;return!0}(ft.url,et.url)||Ge.urlSubject.next(et.url),me(ft.data,et.data)||Ge.dataSubject.next(et.data)}else Ge.snapshot=Ge._futureSnapshot,Ge.dataSubject.next(Ge._futureSnapshot.data)}function Ms(Ge,ft){const et=me(Ge.params,ft.params)&&function ke(Ge,ft){return Ne(Ge,ft)&&Ge.every((et,pt)=>me(et.parameters,ft[pt].parameters))}(Ge.url,ft.url);return et&&!(!Ge.parent!=!ft.parent)&&(!Ge.parent||Ms(Ge.parent,ft.parent))}function ss(Ge){return"string"==typeof Ge.title||null===Ge.title}let Qc=(()=>{class Ge{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new b.bkB,this.deactivateEvents=new b.bkB,this.attachEvents=new b.bkB,this.detachEvents=new b.bkB,this.parentContexts=(0,b.WQX)(rc),this.location=(0,b.WQX)(b.c1b),this.changeDetector=(0,b.WQX)(b.gRc),this.inputBinder=(0,b.WQX)(_o,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(et){if(et.name){const{firstChange:pt,previousValue:Pt}=et.name;if(pt)return;this.isTrackedInParentContexts(Pt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Pt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(et){return this.parentContexts.getContext(et)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const et=this.parentContexts.getContext(this.name);et?.route&&(et.attachRef?this.attach(et.attachRef,et.route):this.activateWith(et.route,et.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.wOt(4012,!1);this.location.detach();const et=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(et.instance),et}attach(et,pt){this.activated=et,this._activatedRoute=pt,this.location.insert(et.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(et.instance)}deactivate(){if(this.activated){const et=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(et)}}activateWith(et,pt){if(this.isActivated)throw new b.wOt(4013,!1);this._activatedRoute=et;const Pt=this.location,En=et.snapshot.component,or=this.parentContexts.getOrCreateContext(this.name).children,$n=new io(et,or,Pt.injector);this.activated=Pt.createComponent(En,{index:Pt.length,injector:$n,environmentInjector:pt}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275dir=b.FsC({type:Ge,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.OA$]})}return Ge})();class io{__ngOutletInjector(ft){return new io(this.route,this.childContexts,ft)}constructor(ft,et,pt){this.route=ft,this.childContexts=et,this.parent=pt}get(ft,et){return ft===Xo?this.route:ft===rc?this.childContexts:this.parent.get(ft,et)}}const _o=new b.nKC("");let Us=(()=>{class Ge{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(et){this.unsubscribeFromRouteData(et),this.subscribeToRouteData(et)}unsubscribeFromRouteData(et){this.outletDataSubscriptions.get(et)?.unsubscribe(),this.outletDataSubscriptions.delete(et)}subscribeToRouteData(et){const{activatedRoute:pt}=et,Pt=(0,S.z)([pt.queryParams,pt.params,pt.data]).pipe((0,ce.n)(([sn,En,or],$n)=>(or={...sn,...En,...or},0===$n?(0,w.of)(or):Promise.resolve(or)))).subscribe(sn=>{if(!et.isActivated||!et.activatedComponentRef||et.activatedRoute!==pt||null===pt.component)return void this.unsubscribeFromRouteData(et);const En=(0,b.HJs)(pt.component);if(En)for(const{templateName:or}of En.inputs)et.activatedComponentRef.setInput(or,sn[or]);else this.unsubscribeFromRouteData(et)});this.outletDataSubscriptions.set(et,Pt)}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function ic(Ge,ft,et){if(et&&Ge.shouldReuseRoute(ft.value,et.value.snapshot)){const pt=et.value;pt._futureSnapshot=ft.value;const Pt=function Ao(Ge,ft,et){return ft.children.map(pt=>{for(const Pt of et.children)if(Ge.shouldReuseRoute(pt.value,Pt.value.snapshot))return ic(Ge,pt,Pt);return ic(Ge,pt)})}(Ge,ft,et);return new Aa(pt,Pt)}{if(Ge.shouldAttach(ft.value)){const sn=Ge.retrieve(ft.value);if(null!==sn){const En=sn.route;return En.value._futureSnapshot=ft.value,En.children=ft.children.map(or=>ic(Ge,or)),En}}const pt=function Dc(Ge){return new Xo(new O.t(Ge.url),new O.t(Ge.params),new O.t(Ge.queryParams),new O.t(Ge.fragment),new O.t(Ge.data),Ge.outlet,Ge.component,Ge)}(ft.value),Pt=ft.children.map(sn=>ic(Ge,sn));return new Aa(pt,Pt)}}class Ls{constructor(ft,et){this.redirectTo=ft,this.navigationBehaviorOptions=et}}const Qi="ngNavigationCancelingError";function ed(Ge,ft){const{redirectTo:et,navigationBehaviorOptions:pt}=Tn(ft)?{redirectTo:ft,navigationBehaviorOptions:void 0}:ft,Pt=va(!1,Kr.Redirect);return Pt.url=et,Pt.navigationBehaviorOptions=pt,Pt}function va(Ge,ft){const et=new Error(`NavigationCancelingError: ${Ge||""}`);return et[Qi]=!0,et.cancellationCode=ft,et}function Bc(Ge){return!!Ge&&Ge[Qi]}class ba{constructor(ft,et,pt,Pt,sn){this.routeReuseStrategy=ft,this.futureState=et,this.currState=pt,this.forwardEvent=Pt,this.inputBindingEnabled=sn}activate(ft){const et=this.futureState._root,pt=this.currState?this.currState._root:null;this.deactivateChildRoutes(et,pt,ft),Ja(this.futureState.root),this.activateChildRoutes(et,pt,ft)}deactivateChildRoutes(ft,et,pt){const Pt=No(et);ft.children.forEach(sn=>{const En=sn.value.outlet;this.deactivateRoutes(sn,Pt[En],pt),delete Pt[En]}),Object.values(Pt).forEach(sn=>{this.deactivateRouteAndItsChildren(sn,pt)})}deactivateRoutes(ft,et,pt){const Pt=ft.value,sn=et?et.value:null;if(Pt===sn)if(Pt.component){const En=pt.getContext(Pt.outlet);En&&this.deactivateChildRoutes(ft,et,En.children)}else this.deactivateChildRoutes(ft,et,pt);else sn&&this.deactivateRouteAndItsChildren(et,pt)}deactivateRouteAndItsChildren(ft,et){ft.value.component&&this.routeReuseStrategy.shouldDetach(ft.value.snapshot)?this.detachAndStoreRouteSubtree(ft,et):this.deactivateRouteAndOutlet(ft,et)}detachAndStoreRouteSubtree(ft,et){const pt=et.getContext(ft.value.outlet),Pt=pt&&ft.value.component?pt.children:et,sn=No(ft);for(const En of Object.values(sn))this.deactivateRouteAndItsChildren(En,Pt);if(pt&&pt.outlet){const En=pt.outlet.detach(),or=pt.children.onOutletDeactivated();this.routeReuseStrategy.store(ft.value.snapshot,{componentRef:En,route:ft,contexts:or})}}deactivateRouteAndOutlet(ft,et){const pt=et.getContext(ft.value.outlet),Pt=pt&&ft.value.component?pt.children:et,sn=No(ft);for(const En of Object.values(sn))this.deactivateRouteAndItsChildren(En,Pt);pt&&(pt.outlet&&(pt.outlet.deactivate(),pt.children.onOutletDeactivated()),pt.attachRef=null,pt.route=null)}activateChildRoutes(ft,et,pt){const Pt=No(et);ft.children.forEach(sn=>{this.activateRoutes(sn,Pt[sn.value.outlet],pt),this.forwardEvent(new Un(sn.value.snapshot))}),ft.children.length&&this.forwardEvent(new br(ft.value.snapshot))}activateRoutes(ft,et,pt){const Pt=ft.value,sn=et?et.value:null;if(Ja(Pt),Pt===sn)if(Pt.component){const En=pt.getOrCreateContext(Pt.outlet);this.activateChildRoutes(ft,et,En.children)}else this.activateChildRoutes(ft,et,pt);else if(Pt.component){const En=pt.getOrCreateContext(Pt.outlet);if(this.routeReuseStrategy.shouldAttach(Pt.snapshot)){const or=this.routeReuseStrategy.retrieve(Pt.snapshot);this.routeReuseStrategy.store(Pt.snapshot,null),En.children.onOutletReAttached(or.contexts),En.attachRef=or.componentRef,En.route=or.route.value,En.outlet&&En.outlet.attach(or.componentRef,or.route.value),Ja(or.route.value),this.activateChildRoutes(ft,null,En.children)}else En.attachRef=null,En.route=Pt,En.outlet&&En.outlet.activateWith(Pt,En.injector),this.activateChildRoutes(ft,null,En.children)}else this.activateChildRoutes(ft,null,pt)}}class Da{constructor(ft){this.path=ft,this.route=this.path[this.path.length-1]}}class Ut{constructor(ft,et){this.component=ft,this.route=et}}function Lt(Ge,ft,et){const pt=Ge._root;return fn(pt,ft?ft._root:null,et,[pt.value])}function Tt(Ge,ft){const et=Symbol(),pt=ft.get(Ge,et);return pt===et?"function"!=typeof Ge||(0,b.LfX)(Ge)?ft.get(Ge):Ge:pt}function fn(Ge,ft,et,pt,Pt={canDeactivateChecks:[],canActivateChecks:[]}){const sn=No(ft);return Ge.children.forEach(En=>{(function gn(Ge,ft,et,pt,Pt={canDeactivateChecks:[],canActivateChecks:[]}){const sn=Ge.value,En=ft?ft.value:null,or=et?et.getContext(Ge.value.outlet):null;if(En&&sn.routeConfig===En.routeConfig){const $n=function Rn(Ge,ft,et){if("function"==typeof et)return et(Ge,ft);switch(et){case"pathParamsChange":return!Ne(Ge.url,ft.url);case"pathParamsOrQueryParamsChange":return!Ne(Ge.url,ft.url)||!me(Ge.queryParams,ft.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ms(Ge,ft)||!me(Ge.queryParams,ft.queryParams);default:return!Ms(Ge,ft)}}(En,sn,sn.routeConfig.runGuardsAndResolvers);$n?Pt.canActivateChecks.push(new Da(pt)):(sn.data=En.data,sn._resolvedData=En._resolvedData),fn(Ge,ft,sn.component?or?or.children:null:et,pt,Pt),$n&&or&&or.outlet&&or.outlet.isActivated&&Pt.canDeactivateChecks.push(new Ut(or.outlet.component,En))}else En&&dr(ft,or,Pt),Pt.canActivateChecks.push(new Da(pt)),fn(Ge,null,sn.component?or?or.children:null:et,pt,Pt)})(En,sn[En.value.outlet],et,pt.concat([En.value]),Pt),delete sn[En.value.outlet]}),Object.entries(sn).forEach(([En,or])=>dr(or,et.getContext(En),Pt)),Pt}function dr(Ge,ft,et){const pt=No(Ge),Pt=Ge.value;Object.entries(pt).forEach(([sn,En])=>{dr(En,Pt.component?ft?ft.children.getContext(sn):null:ft,et)}),et.canDeactivateChecks.push(new Ut(Pt.component&&ft&&ft.outlet&&ft.outlet.isActivated?ft.outlet.component:null,Pt))}function Tr(Ge){return"function"==typeof Ge}function Os(Ge){return Ge instanceof N||"EmptyError"===Ge?.name}const Rt=Symbol("INITIAL_VALUE");function kt(){return(0,ce.n)(Ge=>(0,S.z)(Ge.map(ft=>ft.pipe((0,ae.s)(1),(0,fe.Z)(Rt)))).pipe((0,se.T)(ft=>{for(const et of ft)if(!0!==et){if(et===Rt)return Rt;if(!1===et||gt(et))return et}return!0}),(0,he.p)(ft=>ft!==Rt),(0,ae.s)(1)))}function gt(Ge){return Tn(Ge)||Ge instanceof Ls}function Su(Ge){return(0,G.F)((0,D.M)(ft=>{if("boolean"!=typeof ft)throw ed(0,ft)}),(0,se.T)(ft=>!0===ft))}class Bd{constructor(ft){this.segmentGroup=ft||null}}class Zd extends Error{constructor(ft){super(),this.urlTree=ft}}function wa(Ge){return(0,L.$)(new Bd(Ge))}class tf{constructor(ft,et){this.urlSerializer=ft,this.urlTree=et}lineralizeSegments(ft,et){let pt=[],Pt=et.root;for(;;){if(pt=pt.concat(Pt.segments),0===Pt.numberOfChildren)return(0,w.of)(pt);if(Pt.numberOfChildren>1||!Pt.children[Ee])return(0,L.$)(new b.wOt(4e3,!1));Pt=Pt.children[Ee]}}applyRedirectCommands(ft,et,pt,Pt,sn){if("string"!=typeof et){const or=et,{queryParams:$n,fragment:Rr,routeConfig:Pi,url:eo,outlet:Oo,params:Yl,data:rs,title:rl}=Pt,od=(0,b.N4e)(sn,()=>or({params:Yl,data:rs,queryParams:$n,fragment:Rr,routeConfig:Pi,url:eo,outlet:Oo,title:rl}));if(od instanceof M)throw new Zd(od);et=od}const En=this.applyRedirectCreateUrlTree(et,this.urlSerializer.parse(et),ft,pt);if("/"===et[0])throw new Zd(En);return En}applyRedirectCreateUrlTree(ft,et,pt,Pt){const sn=this.createSegmentGroup(ft,et.root,pt,Pt);return new M(sn,this.createQueryParams(et.queryParams,this.urlTree.queryParams),et.fragment)}createQueryParams(ft,et){const pt={};return Object.entries(ft).forEach(([Pt,sn])=>{if("string"==typeof sn&&":"===sn[0]){const or=sn.substring(1);pt[Pt]=et[or]}else pt[Pt]=sn}),pt}createSegmentGroup(ft,et,pt,Pt){const sn=this.createSegments(ft,et.segments,pt,Pt);let En={};return Object.entries(et.children).forEach(([or,$n])=>{En[or]=this.createSegmentGroup(ft,$n,pt,Pt)}),new Y(sn,En)}createSegments(ft,et,pt,Pt){return et.map(sn=>":"===sn.path[0]?this.findPosParam(ft,sn,Pt):this.findOrReturn(sn,pt))}findPosParam(ft,et,pt){const Pt=pt[et.path.substring(1)];if(!Pt)throw new b.wOt(4001,!1);return Pt}findOrReturn(ft,et){let pt=0;for(const Pt of et){if(Pt.path===ft.path)return et.splice(pt),Pt;pt++}return ft}}const gl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xa(Ge,ft,et,pt,Pt){const sn=Tu(Ge,ft,et);return sn.matched?(pt=function ns(Ge,ft){return Ge.providers&&!Ge._injector&&(Ge._injector=(0,b.Ol2)(Ge.providers,ft,`Route: ${Ge.path}`)),Ge._injector??ft}(ft,pt),function Xl(Ge,ft,et,pt){const Pt=ft.canMatch;if(!Pt||0===Pt.length)return(0,w.of)(!0);const sn=Pt.map(En=>{const or=Tt(En,Ge);return De(function oc(Ge){return Ge&&Tr(Ge.canMatch)}(or)?or.canMatch(ft,et):(0,b.N4e)(Ge,()=>or(ft,et)))});return(0,w.of)(sn).pipe(kt(),Su())}(pt,ft,et).pipe((0,se.T)(En=>!0===En?sn:{...gl}))):(0,w.of)(sn)}function Tu(Ge,ft,et){if("**"===ft.path)return function nf(Ge){return{matched:!0,parameters:Ge.length>0?ue(Ge).parameters:{},consumedSegments:Ge,remainingSegments:[],positionalParamSegments:{}}}(et);if(""===ft.path)return"full"===ft.pathMatch&&(Ge.hasChildren()||et.length>0)?{...gl}:{matched:!0,consumedSegments:[],remainingSegments:et,parameters:{},positionalParamSegments:{}};const Pt=(ft.matcher||Ae)(et,Ge,ft);if(!Pt)return{...gl};const sn={};Object.entries(Pt.posParams??{}).forEach(([or,$n])=>{sn[or]=$n.path});const En=Pt.consumed.length>0?{...sn,...Pt.consumed[Pt.consumed.length-1].parameters}:sn;return{matched:!0,consumedSegments:Pt.consumed,remainingSegments:et.slice(Pt.consumed.length),parameters:En,positionalParamSegments:Pt.posParams??{}}}function Ss(Ge,ft,et,pt){return et.length>0&&function ws(Ge,ft,et){return et.some(pt=>_a(Ge,ft,pt)&&ga(pt)!==Ee)}(Ge,et,pt)?{segmentGroup:new Y(ft,Au(pt,new Y(et,Ge.children))),slicedSegments:[]}:0===et.length&&function Nc(Ge,ft,et){return et.some(pt=>_a(Ge,ft,pt))}(Ge,et,pt)?{segmentGroup:new Y(Ge.segments,qd(Ge,et,pt,Ge.children)),slicedSegments:et}:{segmentGroup:new Y(Ge.segments,Ge.children),slicedSegments:et}}function qd(Ge,ft,et,pt){const Pt={};for(const sn of et)if(_a(Ge,ft,sn)&&!pt[ga(sn)]){const En=new Y([],{});Pt[ga(sn)]=En}return{...pt,...Pt}}function Au(Ge,ft){const et={};et[Ee]=ft;for(const pt of Ge)if(""===pt.path&&ga(pt)!==Ee){const Pt=new Y([],{});et[ga(pt)]=Pt}return et}function _a(Ge,ft,et){return(!(Ge.hasChildren()||ft.length>0)||"full"!==et.pathMatch)&&""===et.path}class ja{}class qr{constructor(ft,et,pt,Pt,sn,En,or){this.injector=ft,this.configLoader=et,this.rootComponentType=pt,this.config=Pt,this.urlTree=sn,this.paramsInheritanceStrategy=En,this.urlSerializer=or,this.applyRedirects=new tf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ft){return new b.wOt(4002,`'${ft.segmentGroup}'`)}recognize(){const ft=Ss(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ft).pipe((0,se.T)(({children:et,rootSnapshot:pt})=>{const Pt=new Aa(pt,et),sn=new Ir("",Pt),En=function vr(Ge,ft,et=null,pt=null){return Nn(ir(Ge),ft,et,pt)}(pt,[],this.urlTree.queryParams,this.urlTree.fragment);return En.queryParams=this.urlTree.queryParams,sn.url=this.urlSerializer.serialize(En),{state:sn,tree:En}}))}match(ft){const et=new Ho([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,ft,Ee,et).pipe((0,se.T)(pt=>({children:pt,rootSnapshot:et})),(0,R.W)(pt=>{if(pt instanceof Zd)return this.urlTree=pt.urlTree,this.match(pt.urlTree.root);throw pt instanceof Bd?this.noMatchError(pt):pt}))}processSegmentGroup(ft,et,pt,Pt,sn){return 0===pt.segments.length&&pt.hasChildren()?this.processChildren(ft,et,pt,sn):this.processSegment(ft,et,pt,pt.segments,Pt,!0,sn).pipe((0,se.T)(En=>En instanceof Aa?[En]:[]))}processChildren(ft,et,pt,Pt){const sn=[];for(const En of Object.keys(pt.children))"primary"===En?sn.unshift(En):sn.push(En);return(0,H.H)(sn).pipe((0,E.H)(En=>{const or=pt.children[En],$n=function Pc(Ge,ft){const et=Ge.filter(pt=>ga(pt)===ft);return et.push(...Ge.filter(pt=>ga(pt)!==ft)),et}(et,En);return this.processSegmentGroup(ft,$n,or,En,Pt)}),function s(Ge,ft){return(0,Me.N)(function x(Ge,ft,et,pt,Pt){return(sn,En)=>{let or=et,$n=ft,Rr=0;sn.subscribe((0,Pe._)(En,Pi=>{const eo=Rr++;$n=or?Ge($n,Pi,eo):(or=!0,Pi),pt&&En.next($n)},Pt&&(()=>{or&&En.next($n),En.complete()})))}}(Ge,ft,arguments.length>=2,!0))}((En,or)=>(En.push(...or),En)),C(null),function $(Ge,ft){const et=arguments.length>=2;return pt=>pt.pipe(Ge?(0,he.p)((Pt,sn)=>Ge(Pt,sn,pt)):m.D,v(1),et?C(ft):a(()=>new N))}(),(0,we.Z)(En=>{if(null===En)return wa(pt);const or=bi(En);return function Ya(Ge){Ge.sort((ft,et)=>ft.value.outlet===Ee?-1:et.value.outlet===Ee?1:ft.value.outlet.localeCompare(et.value.outlet))}(or),(0,w.of)(or)}))}processSegment(ft,et,pt,Pt,sn,En,or){return(0,H.H)(et).pipe((0,E.H)($n=>this.processSegmentAgainstRoute($n._injector??ft,et,$n,pt,Pt,sn,En,or).pipe((0,R.W)(Rr=>{if(Rr instanceof Bd)return(0,w.of)(null);throw Rr}))),p($n=>!!$n),(0,R.W)($n=>{if(Os($n))return function Du(Ge,ft,et){return 0===ft.length&&!Ge.children[et]}(pt,Pt,sn)?(0,w.of)(new ja):wa(pt);throw $n}))}processSegmentAgainstRoute(ft,et,pt,Pt,sn,En,or,$n){return function Zo(Ge,ft,et,pt){return!!(ga(Ge)===pt||pt!==Ee&&_a(ft,et,Ge))&&Tu(ft,Ge,et).matched}(pt,Pt,sn,En)?void 0===pt.redirectTo?this.matchSegmentAgainstRoute(ft,Pt,pt,sn,En,$n):this.allowRedirects&&or?this.expandSegmentAgainstRouteUsingRedirect(ft,Pt,et,pt,sn,En,$n):wa(Pt):wa(Pt)}expandSegmentAgainstRouteUsingRedirect(ft,et,pt,Pt,sn,En,or){const{matched:$n,parameters:Rr,consumedSegments:Pi,positionalParamSegments:eo,remainingSegments:Oo}=Tu(et,Pt,sn);if(!$n)return wa(et);"string"==typeof Pt.redirectTo&&"/"===Pt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Yl=new Ho(sn,Rr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nd(Pt),ga(Pt),Pt.component??Pt._loadedComponent??null,Pt,jo(Pt)),rs=Rc(Yl,or,this.paramsInheritanceStrategy);Yl.params=Object.freeze(rs.params),Yl.data=Object.freeze(rs.data);const rl=this.applyRedirects.applyRedirectCommands(Pi,Pt.redirectTo,eo,Yl,ft);return this.applyRedirects.lineralizeSegments(Pt,rl).pipe((0,we.Z)(od=>this.processSegment(ft,pt,et,od.concat(Oo),En,!1,or)))}matchSegmentAgainstRoute(ft,et,pt,Pt,sn,En){const or=Xa(et,pt,Pt,ft);return"**"===pt.path&&(et.children={}),or.pipe((0,ce.n)($n=>$n.matched?this.getChildConfig(ft=pt._injector??ft,pt,Pt).pipe((0,ce.n)(({routes:Rr})=>{const Pi=pt._loadedInjector??ft,{parameters:eo,consumedSegments:Oo,remainingSegments:Yl}=$n,rs=new Ho(Oo,eo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nd(pt),ga(pt),pt.component??pt._loadedComponent??null,pt,jo(pt)),rl=Rc(rs,En,this.paramsInheritanceStrategy);rs.params=Object.freeze(rl.params),rs.data=Object.freeze(rl.data);const{segmentGroup:od,slicedSegments:Uc}=Ss(et,Oo,Yl,Rr);if(0===Uc.length&&od.hasChildren())return this.processChildren(Pi,Rr,od,rs).pipe((0,se.T)(Z0=>new Aa(rs,Z0)));if(0===Rr.length&&0===Uc.length)return(0,w.of)(new Aa(rs,[]));const ry=ga(pt)===sn;return this.processSegment(Pi,Rr,od,Uc,ry?Ee:sn,!0,rs).pipe((0,se.T)(Z0=>new Aa(rs,Z0 instanceof Aa?[Z0]:[])))})):wa(et)))}getChildConfig(ft,et,pt){return et.children?(0,w.of)({routes:et.children,injector:ft}):et.loadChildren?void 0!==et._loadedRoutes?(0,w.of)({routes:et._loadedRoutes,injector:et._loadedInjector}):function Mu(Ge,ft,et,pt){const Pt=ft.canLoad;if(void 0===Pt||0===Pt.length)return(0,w.of)(!0);const sn=Pt.map(En=>{const or=Tt(En,Ge);return De(function Qn(Ge){return Ge&&Tr(Ge.canLoad)}(or)?or.canLoad(ft,et):(0,b.N4e)(Ge,()=>or(ft,et)))});return(0,w.of)(sn).pipe(kt(),Su())}(ft,et,pt).pipe((0,we.Z)(Pt=>Pt?this.configLoader.loadChildren(ft,et).pipe((0,D.M)(sn=>{et._loadedRoutes=sn.routes,et._loadedInjector=sn.injector})):function Ui(Ge){return(0,L.$)(va(!1,Kr.GuardRejected))}())):(0,w.of)({routes:[],injector:ft})}}function Xr(Ge){const ft=Ge.value.routeConfig;return ft&&""===ft.path}function bi(Ge){const ft=[],et=new Set;for(const pt of Ge){if(!Xr(pt)){ft.push(pt);continue}const Pt=ft.find(sn=>pt.value.routeConfig===sn.value.routeConfig);void 0!==Pt?(Pt.children.push(...pt.children),et.add(Pt)):ft.push(pt)}for(const pt of et){const Pt=bi(pt.children);ft.push(new Aa(pt.value,Pt))}return ft.filter(pt=>!et.has(pt))}function nd(Ge){return Ge.data||{}}function jo(Ge){return Ge.resolve||{}}function Za(Ge){const ft=Ge.children.map(et=>Za(et)).flat();return[Ge,...ft]}function Or(Ge){return(0,ce.n)(ft=>{const et=Ge(ft);return et?(0,H.H)(et).pipe((0,se.T)(()=>ft)):(0,w.of)(ft)})}let Co=(()=>{class Ge{buildTitle(et){let pt,Pt=et.root;for(;void 0!==Pt;)pt=this.getResolvedTitleForRoute(Pt)??pt,Pt=Pt.children.find(sn=>sn.outlet===Ee);return pt}getResolvedTitleForRoute(et){return et.data[_e]}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:()=>(0,b.WQX)(J0),providedIn:"root"})}return Ge})(),J0=(()=>{class Ge extends Co{constructor(et){super(),this.title=et}updateTitle(et){const pt=this.buildTitle(et);void 0!==pt&&this.title.setTitle(pt)}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.KVO(Ve.hE))};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const Iu=new b.nKC("",{providedIn:"root",factory:()=>({})});let da=(()=>{class Ge{static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275cmp=b.VBU({type:Ge,selectors:[["ng-component"]],standalone:!0,features:[b.aNF],decls:1,vars:0,template:function(pt,Pt){1&pt&&b.nrm(0,"router-outlet")},dependencies:[Qc],encapsulation:2})}return Ge})();function rd(Ge){const ft=Ge.children&&Ge.children.map(rd),et=ft?{...Ge,children:ft}:{...Ge};return!et.component&&!et.loadComponent&&(ft||et.loadChildren)&&et.outlet&&et.outlet!==Ee&&(et.component=da),et}const kl=new b.nKC("");let el=(()=>{class Ge{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.WQX)(b.Ql9)}loadComponent(et){if(this.componentLoaders.get(et))return this.componentLoaders.get(et);if(et._loadedComponent)return(0,w.of)(et._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(et);const pt=De(et.loadComponent()).pipe((0,se.T)(Pl),(0,D.M)(sn=>{this.onLoadEndListener&&this.onLoadEndListener(et),et._loadedComponent=sn}),(0,Q.j)(()=>{this.componentLoaders.delete(et)})),Pt=new ee.G(pt,()=>new q.B).pipe((0,de.B)());return this.componentLoaders.set(et,Pt),Pt}loadChildren(et,pt){if(this.childrenLoaders.get(pt))return this.childrenLoaders.get(pt);if(pt._loadedRoutes)return(0,w.of)({routes:pt._loadedRoutes,injector:pt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(pt);const sn=function sf(Ge,ft,et,pt){return De(Ge.loadChildren()).pipe((0,se.T)(Pl),(0,we.Z)(Pt=>Pt instanceof b.Co$||Array.isArray(Pt)?(0,w.of)(Pt):(0,H.H)(ft.compileModuleAsync(Pt))),(0,se.T)(Pt=>{pt&&pt(Ge);let sn,En,or=!1;return Array.isArray(Pt)?(En=Pt,!0):(sn=Pt.create(et).injector,En=sn.get(kl,[],{optional:!0,self:!0}).flat()),{routes:En.map(rd),injector:sn}}))}(pt,this.compiler,et,this.onLoadEndListener).pipe((0,Q.j)(()=>{this.childrenLoaders.delete(pt)})),En=new ee.G(sn,()=>new q.B).pipe((0,de.B)());return this.childrenLoaders.set(pt,En),En}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function Pl(Ge){return function tl(Ge){return Ge&&"object"==typeof Ge&&"default"in Ge}(Ge)?Ge.default:Ge}let Nd=(()=>{class Ge{static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:()=>(0,b.WQX)(mi),providedIn:"root"})}return Ge})(),mi=(()=>{class Ge{shouldProcessUrl(et){return!0}extract(et){return et}merge(et,pt){return et}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const ot=new b.nKC(""),Xt=new b.nKC("");function vt(Ge,ft,et){const pt=Ge.get(Xt),Pt=Ge.get(J.qQ);return Ge.get(b.SKi).runOutsideAngular(()=>{if(!Pt.startViewTransition||pt.skipNextTransition)return pt.skipNextTransition=!1,new Promise(Rr=>setTimeout(Rr));let sn;const En=new Promise(Rr=>{sn=Rr}),or=Pt.startViewTransition(()=>(sn(),function Vt(Ge){return new Promise(ft=>{(0,b.mal)({read:()=>setTimeout(ft)},{injector:Ge})})}(Ge))),{onViewTransitionCreated:$n}=pt;return $n&&(0,b.N4e)(Ge,()=>$n({transition:or,from:ft,to:et})),En})}const yn=new b.nKC("");let Yn=(()=>{class Ge{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q.B,this.transitionAbortSubject=new q.B,this.configLoader=(0,b.WQX)(el),this.environmentInjector=(0,b.WQX)(b.uvJ),this.urlSerializer=(0,b.WQX)(en),this.rootContexts=(0,b.WQX)(rc),this.location=(0,b.WQX)(J.aZ),this.inputBindingEnabled=null!==(0,b.WQX)(_o,{optional:!0}),this.titleStrategy=(0,b.WQX)(Co),this.options=(0,b.WQX)(Iu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,b.WQX)(Nd),this.createViewTransition=(0,b.WQX)(ot,{optional:!0}),this.navigationErrorHandler=(0,b.WQX)(yn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,w.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Pt=>this.events.next(new Di(Pt)),this.configLoader.onLoadStartListener=Pt=>this.events.next(new Fa(Pt))}complete(){this.transitions?.complete()}handleNavigationRequest(et){const pt=++this.navigationId;this.transitions?.next({...this.transitions.value,...et,id:pt})}setupNavigations(et,pt,Pt){return this.transitions=new O.t({id:0,currentUrlTree:pt,currentRawUrl:pt,extractedUrl:this.urlHandlingStrategy.extract(pt),urlAfterRedirects:this.urlHandlingStrategy.extract(pt),rawUrl:pt,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Wn,restoredState:null,currentSnapshot:Pt.snapshot,targetSnapshot:null,currentRouterState:Pt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,he.p)(sn=>0!==sn.id),(0,se.T)(sn=>({...sn,extractedUrl:this.urlHandlingStrategy.extract(sn.rawUrl)})),(0,ce.n)(sn=>{let En=!1,or=!1;return(0,w.of)(sn).pipe((0,ce.n)($n=>{if(this.navigationId>sn.id)return this.cancelNavigationTransition(sn,"",Kr.SupersededByNewNavigation),z.w;this.currentTransition=sn,this.currentNavigation={id:$n.id,initialUrl:$n.rawUrl,extractedUrl:$n.extractedUrl,targetBrowserUrl:"string"==typeof $n.extras.browserUrl?this.urlSerializer.parse($n.extras.browserUrl):$n.extras.browserUrl,trigger:$n.source,extras:$n.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Rr=!et.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Rr&&"reload"!==($n.extras.onSameUrlNavigation??et.onSameUrlNavigation)){const eo="";return this.events.next(new si($n.id,this.urlSerializer.serialize($n.rawUrl),eo,Ti.IgnoredSameUrlNavigation)),$n.resolve(!1),z.w}if(this.urlHandlingStrategy.shouldProcessUrl($n.rawUrl))return(0,w.of)($n).pipe((0,ce.n)(eo=>{const Oo=this.transitions?.getValue();return this.events.next(new xr(eo.id,this.urlSerializer.serialize(eo.extractedUrl),eo.source,eo.restoredState)),Oo!==this.transitions?.getValue()?z.w:Promise.resolve(eo)}),function Np(Ge,ft,et,pt,Pt,sn){return(0,we.Z)(En=>function Ji(Ge,ft,et,pt,Pt,sn,En="emptyOnly"){return new qr(Ge,ft,et,pt,Pt,En,sn).recognize()}(Ge,ft,et,pt,En.extractedUrl,Pt,sn).pipe((0,se.T)(({state:or,tree:$n})=>({...En,targetSnapshot:or,urlAfterRedirects:$n}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,et.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,D.M)(eo=>{sn.targetSnapshot=eo.targetSnapshot,sn.urlAfterRedirects=eo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:eo.urlAfterRedirects};const Oo=new yo(eo.id,this.urlSerializer.serialize(eo.extractedUrl),this.urlSerializer.serialize(eo.urlAfterRedirects),eo.targetSnapshot);this.events.next(Oo)}));if(Rr&&this.urlHandlingStrategy.shouldProcessUrl($n.currentRawUrl)){const{id:eo,extractedUrl:Oo,source:Yl,restoredState:rs,extras:rl}=$n,od=new xr(eo,this.urlSerializer.serialize(Oo),Yl,rs);this.events.next(od);const Uc=Oc(this.rootComponentType).snapshot;return this.currentTransition=sn={...$n,targetSnapshot:Uc,urlAfterRedirects:Oo,extras:{...rl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Oo,(0,w.of)(sn)}{const eo="";return this.events.next(new si($n.id,this.urlSerializer.serialize($n.extractedUrl),eo,Ti.IgnoredByUrlHandlingStrategy)),$n.resolve(!1),z.w}}),(0,D.M)($n=>{const Rr=new Io($n.id,this.urlSerializer.serialize($n.extractedUrl),this.urlSerializer.serialize($n.urlAfterRedirects),$n.targetSnapshot);this.events.next(Rr)}),(0,se.T)($n=>(this.currentTransition=sn={...$n,guards:Lt($n.targetSnapshot,$n.currentSnapshot,this.rootContexts)},sn)),function an(Ge,ft){return(0,we.Z)(et=>{const{targetSnapshot:pt,currentSnapshot:Pt,guards:{canActivateChecks:sn,canDeactivateChecks:En}}=et;return 0===En.length&&0===sn.length?(0,w.of)({...et,guardsResult:!0}):function Bn(Ge,ft,et,pt){return(0,H.H)(Ge).pipe((0,we.Z)(Pt=>function ca(Ge,ft,et,pt,Pt){const sn=ft&&ft.routeConfig?ft.routeConfig.canDeactivate:null;if(!sn||0===sn.length)return(0,w.of)(!0);const En=sn.map(or=>{const $n=nc(ft)??Pt,Rr=Tt(or,$n);return De(function aa(Ge){return Ge&&Tr(Ge.canDeactivate)}(Rr)?Rr.canDeactivate(Ge,ft,et,pt):(0,b.N4e)($n,()=>Rr(Ge,ft,et,pt))).pipe(p())});return(0,w.of)(En).pipe(kt())}(Pt.component,Pt.route,et,ft,pt)),p(Pt=>!0!==Pt,!0))}(En,pt,Pt,Ge).pipe((0,we.Z)(or=>or&&function Mr(Ge){return"boolean"==typeof Ge}(or)?function Hr(Ge,ft,et,pt){return(0,H.H)(ft).pipe((0,E.H)(Pt=>(0,U.x)(function Eo(Ge,ft){return null!==Ge&&ft&&ft(new Sn(Ge)),(0,w.of)(!0)}(Pt.route.parent,pt),function co(Ge,ft){return null!==Ge&&ft&&ft(new dn(Ge)),(0,w.of)(!0)}(Pt.route,pt),function td(Ge,ft,et){const pt=ft[ft.length-1],sn=ft.slice(0,ft.length-1).reverse().map(En=>function At(Ge){const ft=Ge.routeConfig?Ge.routeConfig.canActivateChild:null;return ft&&0!==ft.length?{node:Ge,guards:ft}:null}(En)).filter(En=>null!==En).map(En=>(0,A.v)(()=>{const or=En.guards.map($n=>{const Rr=nc(En.node)??et,Pi=Tt($n,Rr);return De(function as(Ge){return Ge&&Tr(Ge.canActivateChild)}(Pi)?Pi.canActivateChild(pt,Ge):(0,b.N4e)(Rr,()=>Pi(pt,Ge))).pipe(p())});return(0,w.of)(or).pipe(kt())}));return(0,w.of)(sn).pipe(kt())}(Ge,Pt.path,et),function Js(Ge,ft,et){const pt=ft.routeConfig?ft.routeConfig.canActivate:null;if(!pt||0===pt.length)return(0,w.of)(!0);const Pt=pt.map(sn=>(0,A.v)(()=>{const En=nc(ft)??et,or=Tt(sn,En);return De(function cr(Ge){return Ge&&Tr(Ge.canActivate)}(or)?or.canActivate(ft,Ge):(0,b.N4e)(En,()=>or(ft,Ge))).pipe(p())}));return(0,w.of)(Pt).pipe(kt())}(Ge,Pt.route,et))),p(Pt=>!0!==Pt,!0))}(pt,sn,Ge,ft):(0,w.of)(or)),(0,se.T)(or=>({...et,guardsResult:or})))})}(this.environmentInjector,$n=>this.events.next($n)),(0,D.M)($n=>{if(sn.guardsResult=$n.guardsResult,$n.guardsResult&&"boolean"!=typeof $n.guardsResult)throw ed(0,$n.guardsResult);const Rr=new pi($n.id,this.urlSerializer.serialize($n.extractedUrl),this.urlSerializer.serialize($n.urlAfterRedirects),$n.targetSnapshot,!!$n.guardsResult);this.events.next(Rr)}),(0,he.p)($n=>!!$n.guardsResult||(this.cancelNavigationTransition($n,"",Kr.GuardRejected),!1)),Or($n=>{if($n.guards.canActivateChecks.length)return(0,w.of)($n).pipe((0,D.M)(Rr=>{const Pi=new Li(Rr.id,this.urlSerializer.serialize(Rr.extractedUrl),this.urlSerializer.serialize(Rr.urlAfterRedirects),Rr.targetSnapshot);this.events.next(Pi)}),(0,ce.n)(Rr=>{let Pi=!1;return(0,w.of)(Rr).pipe(function rf(Ge,ft){return(0,we.Z)(et=>{const{targetSnapshot:pt,guards:{canActivateChecks:Pt}}=et;if(!Pt.length)return(0,w.of)(et);const sn=new Set(Pt.map($n=>$n.route)),En=new Set;for(const $n of sn)if(!En.has($n))for(const Rr of Za($n))En.add(Rr);let or=0;return(0,H.H)(En).pipe((0,E.H)($n=>sn.has($n)?function oo(Ge,ft,et,pt){const Pt=Ge.routeConfig,sn=Ge._resolve;return void 0!==Pt?.title&&!ss(Pt)&&(sn[_e]=Pt.title),function Qd(Ge,ft,et,pt){const Pt=te(Ge);if(0===Pt.length)return(0,w.of)({});const sn={};return(0,H.H)(Pt).pipe((0,we.Z)(En=>function Ia(Ge,ft,et,pt){const Pt=nc(ft)??pt,sn=Tt(Ge,Pt);return De(sn.resolve?sn.resolve(ft,et):(0,b.N4e)(Pt,()=>sn(ft,et)))}(Ge[En],ft,et,pt).pipe(p(),(0,D.M)(or=>{if(or instanceof Ls)throw ed(new It,or);sn[En]=or}))),v(1),(0,F.u)(sn),(0,R.W)(En=>Os(En)?z.w:(0,L.$)(En)))}(sn,Ge,ft,pt).pipe((0,se.T)(En=>(Ge._resolvedData=En,Ge.data=Rc(Ge,Ge.parent,et).resolve,null)))}($n,pt,Ge,ft):($n.data=Rc($n,$n.parent,Ge).resolve,(0,w.of)(void 0))),(0,D.M)(()=>or++),v(1),(0,we.Z)($n=>or===En.size?(0,w.of)(et):z.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,D.M)({next:()=>Pi=!0,complete:()=>{Pi||this.cancelNavigationTransition(Rr,"",Kr.NoDataFromResolver)}}))}),(0,D.M)(Rr=>{const Pi=new Ni(Rr.id,this.urlSerializer.serialize(Rr.extractedUrl),this.urlSerializer.serialize(Rr.urlAfterRedirects),Rr.targetSnapshot);this.events.next(Pi)}))}),Or($n=>{const Rr=Pi=>{const eo=[];Pi.routeConfig?.loadComponent&&!Pi.routeConfig._loadedComponent&&eo.push(this.configLoader.loadComponent(Pi.routeConfig).pipe((0,D.M)(Oo=>{Pi.component=Oo}),(0,se.T)(()=>{})));for(const Oo of Pi.children)eo.push(...Rr(Oo));return eo};return(0,S.z)(Rr($n.targetSnapshot.root)).pipe(C(null),(0,ae.s)(1))}),Or(()=>this.afterPreactivation()),(0,ce.n)(()=>{const{currentSnapshot:$n,targetSnapshot:Rr}=sn,Pi=this.createViewTransition?.(this.environmentInjector,$n.root,Rr.root);return Pi?(0,H.H)(Pi).pipe((0,se.T)(()=>sn)):(0,w.of)(sn)}),(0,se.T)($n=>{const Rr=function Gs(Ge,ft,et){const pt=ic(Ge,ft._root,et?et._root:void 0);return new Rd(pt,ft)}(et.routeReuseStrategy,$n.targetSnapshot,$n.currentRouterState);return this.currentTransition=sn={...$n,targetRouterState:Rr},this.currentNavigation.targetRouterState=Rr,sn}),(0,D.M)(()=>{this.events.next(new zr)}),((Ge,ft,et,pt)=>(0,se.T)(Pt=>(new ba(ft,Pt.targetRouterState,Pt.currentRouterState,et,pt).activate(Ge),Pt)))(this.rootContexts,et.routeReuseStrategy,$n=>this.events.next($n),this.inputBindingEnabled),(0,ae.s)(1),(0,D.M)({next:$n=>{En=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jr($n.id,this.urlSerializer.serialize($n.extractedUrl),this.urlSerializer.serialize($n.urlAfterRedirects))),this.titleStrategy?.updateTitle($n.targetRouterState.snapshot),$n.resolve(!0)},complete:()=>{En=!0}}),(0,Ce.Q)(this.transitionAbortSubject.pipe((0,D.M)($n=>{throw $n}))),(0,Q.j)(()=>{!En&&!or&&this.cancelNavigationTransition(sn,"",Kr.SupersededByNewNavigation),this.currentTransition?.id===sn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,R.W)($n=>{if(or=!0,Bc($n))this.events.next(new wo(sn.id,this.urlSerializer.serialize(sn.extractedUrl),$n.message,$n.cancellationCode)),function Do(Ge){return Bc(Ge)&&Tn(Ge.url)}($n)?this.events.next(new ti($n.url,$n.navigationBehaviorOptions)):sn.resolve(!1);else{const Rr=new ho(sn.id,this.urlSerializer.serialize(sn.extractedUrl),$n,sn.targetSnapshot??void 0);try{const Pi=(0,b.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Rr));if(Pi instanceof Ls){const{message:eo,cancellationCode:Oo}=ed(0,Pi);this.events.next(new wo(sn.id,this.urlSerializer.serialize(sn.extractedUrl),eo,Oo)),this.events.next(new ti(Pi.redirectTo,Pi.navigationBehaviorOptions))}else{this.events.next(Rr);const eo=et.errorHandler($n);sn.resolve(!!eo)}}catch(Pi){this.options.resolveNavigationPromiseOnError?sn.resolve(!1):sn.reject(Pi)}}return z.w}))}))}cancelNavigationTransition(et,pt,Pt){const sn=new wo(et.id,this.urlSerializer.serialize(et.extractedUrl),pt,Pt);this.events.next(sn),et.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const et=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),pt=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return et.toString()!==pt?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function Ye(Ge){return Ge!==Wn}let Te=(()=>{class Ge{static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:()=>(0,b.WQX)(xe),providedIn:"root"})}return Ge})();class ve{shouldDetach(ft){return!1}store(ft,et){}shouldAttach(ft){return!1}retrieve(ft){return null}shouldReuseRoute(ft,et){return ft.routeConfig===et.routeConfig}}let xe=(()=>{class Ge extends ve{static#e=this.\u0275fac=(()=>{let et;return function(Pt){return(et||(et=b.xGo(Ge)))(Pt||Ge)}})();static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),rt=(()=>{class Ge{static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:()=>(0,b.WQX)(st),providedIn:"root"})}return Ge})(),st=(()=>{class Ge extends rt{constructor(){super(...arguments),this.location=(0,b.WQX)(J.aZ),this.urlSerializer=(0,b.WQX)(en),this.options=(0,b.WQX)(Iu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,b.WQX)(Nd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new M,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Oc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(et){return this.location.subscribe(pt=>{"popstate"===pt.type&&et(pt.url,pt.state)})}handleRouterEvent(et,pt){if(et instanceof xr)this.stateMemento=this.createStateMemento();else if(et instanceof si)this.rawUrlTree=pt.initialUrl;else if(et instanceof yo){if("eager"===this.urlUpdateStrategy&&!pt.extras.skipLocationChange){const Pt=this.urlHandlingStrategy.merge(pt.finalUrl,pt.initialUrl);this.setBrowserUrl(pt.targetBrowserUrl??Pt,pt)}}else et instanceof zr?(this.currentUrlTree=pt.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(pt.finalUrl,pt.initialUrl),this.routerState=pt.targetRouterState,"deferred"===this.urlUpdateStrategy&&!pt.extras.skipLocationChange&&this.setBrowserUrl(pt.targetBrowserUrl??this.rawUrlTree,pt)):et instanceof wo&&(et.code===Kr.GuardRejected||et.code===Kr.NoDataFromResolver)?this.restoreHistory(pt):et instanceof ho?this.restoreHistory(pt,!0):et instanceof jr&&(this.lastSuccessfulId=et.id,this.currentPageId=this.browserPageId)}setBrowserUrl(et,pt){const Pt=et instanceof M?this.urlSerializer.serialize(et):et;if(this.location.isCurrentPathEqualTo(Pt)||pt.extras.replaceUrl){const En={...pt.extras.state,...this.generateNgRouterState(pt.id,this.browserPageId)};this.location.replaceState(Pt,"",En)}else{const sn={...pt.extras.state,...this.generateNgRouterState(pt.id,this.browserPageId+1)};this.location.go(Pt,"",sn)}}restoreHistory(et,pt=!1){if("computed"===this.canceledNavigationResolution){const sn=this.currentPageId-this.browserPageId;0!==sn?this.location.historyGo(sn):this.currentUrlTree===et.finalUrl&&0===sn&&(this.resetState(et),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(pt&&this.resetState(et),this.resetUrlToCurrentUrlTree())}resetState(et){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,et.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(et,pt){return"computed"===this.canceledNavigationResolution?{navigationId:et,\u0275routerPageId:pt}:{navigationId:et}}static#e=this.\u0275fac=(()=>{let et;return function(Pt){return(et||(et=b.xGo(Ge)))(Pt||Ge)}})();static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();var Mt=function(Ge){return Ge[Ge.COMPLETE=0]="COMPLETE",Ge[Ge.FAILED=1]="FAILED",Ge[Ge.REDIRECTING=2]="REDIRECTING",Ge}(Mt||{});function Jt(Ge,ft){Ge.events.pipe((0,he.p)(et=>et instanceof jr||et instanceof wo||et instanceof ho||et instanceof si),(0,se.T)(et=>et instanceof jr||et instanceof si?Mt.COMPLETE:et instanceof wo&&(et.code===Kr.Redirect||et.code===Kr.SupersededByNewNavigation)?Mt.REDIRECTING:Mt.FAILED),(0,he.p)(et=>et!==Mt.REDIRECTING),(0,ae.s)(1)).subscribe(()=>{ft()})}function Mn(Ge){throw Ge}const Ie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oe=(()=>{class Ge{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,b.WQX)(b.H3F),this.stateManager=(0,b.WQX)(rt),this.options=(0,b.WQX)(Iu,{optional:!0})||{},this.pendingTasks=(0,b.WQX)(b.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,b.WQX)(Yn),this.urlSerializer=(0,b.WQX)(en),this.location=(0,b.WQX)(J.aZ),this.urlHandlingStrategy=(0,b.WQX)(Nd),this._events=new q.B,this.errorHandler=this.options.errorHandler||Mn,this.navigated=!1,this.routeReuseStrategy=(0,b.WQX)(Te),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,b.WQX)(kl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,b.WQX)(_o,{optional:!0}),this.eventsSubscription=new Z.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:et=>{this.console.warn(et)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const et=this.navigationTransitions.events.subscribe(pt=>{try{const Pt=this.navigationTransitions.currentTransition,sn=this.navigationTransitions.currentNavigation;if(null!==Pt&&null!==sn)if(this.stateManager.handleRouterEvent(pt,sn),pt instanceof wo&&pt.code!==Kr.Redirect&&pt.code!==Kr.SupersededByNewNavigation)this.navigated=!0;else if(pt instanceof jr)this.navigated=!0;else if(pt instanceof ti){const En=pt.navigationBehaviorOptions,or=this.urlHandlingStrategy.merge(pt.url,Pt.currentRawUrl),$n={browserUrl:Pt.extras.browserUrl,info:Pt.extras.info,skipLocationChange:Pt.extras.skipLocationChange,replaceUrl:Pt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Ye(Pt.source),...En};this.scheduleNavigation(or,Wn,null,$n,{resolve:Pt.resolve,reject:Pt.reject,promise:Pt.promise})}(function We(Ge){return!(Ge instanceof zr||Ge instanceof ti)})(pt)&&this._events.next(pt)}catch(Pt){this.navigationTransitions.transitionAbortSubject.next(Pt)}});this.eventsSubscription.add(et)}resetRootComponentType(et){this.routerState.root.component=et,this.navigationTransitions.rootComponentType=et}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((et,pt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(et,"popstate",pt)},0)})}navigateToSyncWithBrowser(et,pt,Pt){const sn={replaceUrl:!0},En=Pt?.navigationId?Pt:null;if(Pt){const $n={...Pt};delete $n.navigationId,delete $n.\u0275routerPageId,0!==Object.keys($n).length&&(sn.state=$n)}const or=this.parseUrl(et);this.scheduleNavigation(or,pt,En,sn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(et){this.config=et.map(rd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(et,pt={}){const{relativeTo:Pt,queryParams:sn,fragment:En,queryParamsHandling:or,preserveFragment:$n}=pt,Rr=$n?this.currentUrlTree.fragment:En;let eo,Pi=null;switch(or){case"merge":Pi={...this.currentUrlTree.queryParams,...sn};break;case"preserve":Pi=this.currentUrlTree.queryParams;break;default:Pi=sn||null}null!==Pi&&(Pi=this.removeEmptyProps(Pi));try{eo=ir(Pt?Pt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof et[0]||"/"!==et[0][0])&&(et=[]),eo=this.currentUrlTree.root}return Nn(eo,et,Pi,Rr??null)}navigateByUrl(et,pt={skipLocationChange:!1}){const Pt=Tn(et)?et:this.parseUrl(et),sn=this.urlHandlingStrategy.merge(Pt,this.rawUrlTree);return this.scheduleNavigation(sn,Wn,null,pt)}navigate(et,pt={skipLocationChange:!1}){return function ye(Ge){for(let ft=0;ft<Ge.length;ft++)if(null==Ge[ft])throw new b.wOt(4008,!1)}(et),this.navigateByUrl(this.createUrlTree(et,pt),pt)}serializeUrl(et){return this.urlSerializer.serialize(et)}parseUrl(et){try{return this.urlSerializer.parse(et)}catch{return this.urlSerializer.parse("/")}}isActive(et,pt){let Pt;if(Pt=!0===pt?{...Ie}:!1===pt?{...ie}:pt,Tn(et))return ze(this.currentUrlTree,et,Pt);const sn=this.parseUrl(et);return ze(this.currentUrlTree,sn,Pt)}removeEmptyProps(et){return Object.entries(et).reduce((pt,[Pt,sn])=>(null!=sn&&(pt[Pt]=sn),pt),{})}scheduleNavigation(et,pt,Pt,sn,En){if(this.disposed)return Promise.resolve(!1);let or,$n,Rr;En?(or=En.resolve,$n=En.reject,Rr=En.promise):Rr=new Promise((eo,Oo)=>{or=eo,$n=Oo});const Pi=this.pendingTasks.add();return Jt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Pi))}),this.navigationTransitions.handleNavigationRequest({source:pt,restoredState:Pt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:et,extras:sn,resolve:or,reject:$n,promise:Rr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rr.catch(eo=>Promise.reject(eo))}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Ze=(()=>{class Ge{constructor(et,pt,Pt,sn,En,or){this.router=et,this.route=pt,this.tabIndexAttribute=Pt,this.renderer=sn,this.el=En,this.locationStrategy=or,this.href=null,this.onChanges=new q.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const $n=En.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===$n||"area"===$n,this.isAnchorElement?this.subscription=et.events.subscribe(Rr=>{Rr instanceof jr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(et){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",et)}ngOnChanges(et){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(et){null==et?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Tn(et)||Array.isArray(et)?et:[et],this.setTabIndexIfNotOnNativeEl("0"))}onClick(et,pt,Pt,sn,En){const or=this.urlTree;return!!(null===or||this.isAnchorElement&&(0!==et||pt||Pt||sn||En||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(or,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const et=this.urlTree;this.href=null!==et&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(et)):null;const pt=null===this.href?null:(0,b.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",pt)}applyAttributeValue(et,pt){const Pt=this.renderer,sn=this.el.nativeElement;null!==pt?Pt.setAttribute(sn,et,pt):Pt.removeAttribute(sn,et)}get urlTree(){return null===this.routerLinkInput?null:Tn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.rXU(oe),b.rXU(Xo),b.kS0("tabindex"),b.rXU(b.sFG),b.rXU(b.aKT),b.rXU(J.hb))};static#t=this.\u0275dir=b.FsC({type:Ge,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(pt,Pt){1&pt&&b.bIt("click",function(En){return Pt.onClick(En.button,En.ctrlKey,En.shiftKey,En.altKey,En.metaKey)}),2&pt&&b.BMQ("target",Pt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",b.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",b.L39],replaceUrl:[2,"replaceUrl","replaceUrl",b.L39],routerLink:"routerLink"},standalone:!0,features:[b.GFd,b.OA$]})}return Ge})(),ht=(()=>{class Ge{get isActive(){return this._isActive}constructor(et,pt,Pt,sn,En){this.router=et,this.element=pt,this.renderer=Pt,this.cdr=sn,this.link=En,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new b.bkB,this.routerEventsSubscription=et.events.subscribe(or=>{or instanceof jr&&this.update()})}ngAfterContentInit(){(0,w.of)(this.links.changes,(0,w.of)(null)).pipe((0,Re.U)()).subscribe(et=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const et=[...this.links.toArray(),this.link].filter(pt=>!!pt).map(pt=>pt.onChanges);this.linkInputChangesSubscription=(0,H.H)(et).pipe((0,Re.U)()).subscribe(pt=>{this._isActive!==this.isLinkActive(this.router)(pt)&&this.update()})}set routerLinkActive(et){const pt=Array.isArray(et)?et:et.split(" ");this.classes=pt.filter(Pt=>!!Pt)}ngOnChanges(et){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const et=this.hasActiveLinks();this.classes.forEach(pt=>{et?this.renderer.addClass(this.element.nativeElement,pt):this.renderer.removeClass(this.element.nativeElement,pt)}),et&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==et&&(this._isActive=et,this.cdr.markForCheck(),this.isActiveChange.emit(et))})}isLinkActive(et){const pt=function $t(Ge){return!!Ge.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Pt=>{const sn=Pt.urlTree;return!!sn&&et.isActive(sn,pt)}}hasActiveLinks(){const et=this.isLinkActive(this.router);return this.link&&et(this.link)||this.links.some(et)}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.rXU(oe),b.rXU(b.aKT),b.rXU(b.sFG),b.rXU(b.gRc),b.rXU(Ze,8))};static#t=this.\u0275dir=b.FsC({type:Ge,selectors:[["","routerLinkActive",""]],contentQueries:function(pt,Pt,sn){if(1&pt&&b.wni(sn,Ze,5),2&pt){let En;b.mGM(En=b.lsd())&&(Pt.links=En)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[b.OA$]})}return Ge})();class bn{}let zt=(()=>{class Ge{preload(et,pt){return pt().pipe((0,R.W)(()=>(0,w.of)(null)))}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),tn=(()=>{class Ge{constructor(et,pt,Pt,sn,En){this.router=et,this.injector=Pt,this.preloadingStrategy=sn,this.loader=En}setUpPreloading(){this.subscription=this.router.events.pipe((0,he.p)(et=>et instanceof jr),(0,E.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(et,pt){const Pt=[];for(const sn of pt){sn.providers&&!sn._injector&&(sn._injector=(0,b.Ol2)(sn.providers,et,`Route: ${sn.path}`));const En=sn._injector??et,or=sn._loadedInjector??En;(sn.loadChildren&&!sn._loadedRoutes&&void 0===sn.canLoad||sn.loadComponent&&!sn._loadedComponent)&&Pt.push(this.preloadConfig(En,sn)),(sn.children||sn._loadedRoutes)&&Pt.push(this.processRoutes(or,sn.children??sn._loadedRoutes))}return(0,H.H)(Pt).pipe((0,Re.U)())}preloadConfig(et,pt){return this.preloadingStrategy.preload(pt,()=>{let Pt;Pt=pt.loadChildren&&void 0===pt.canLoad?this.loader.loadChildren(et,pt):(0,w.of)(null);const sn=Pt.pipe((0,we.Z)(En=>null===En?(0,w.of)(void 0):(pt._loadedRoutes=En.routes,pt._loadedInjector=En.injector,this.processRoutes(En.injector??et,En.routes))));if(pt.loadComponent&&!pt._loadedComponent){const En=this.loader.loadComponent(pt);return(0,H.H)([sn,En]).pipe((0,Re.U)())}return sn})}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.KVO(oe),b.KVO(b.Ql9),b.KVO(b.uvJ),b.KVO(bn),b.KVO(el))};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const fr=new b.nKC("");let lr=(()=>{class Ge{constructor(et,pt,Pt,sn,En={}){this.urlSerializer=et,this.transitions=pt,this.viewportScroller=Pt,this.zone=sn,this.options=En,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,b.WQX)(b.uvJ),En.scrollPositionRestoration||="disabled",En.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(et=>{et instanceof xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=et.navigationTrigger,this.restoredId=et.restoredState?et.restoredState.navigationId:0):et instanceof jr?(this.lastId=et.id,this.scheduleScrollEvent(et,this.urlSerializer.parse(et.urlAfterRedirects).fragment)):et instanceof si&&et.code===Ti.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(et,this.urlSerializer.parse(et.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(et=>{et instanceof Fn&&(et.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(et.position):et.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(et.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(et,pt){var Pt=this;this.zone.runOutsideAngular((0,y.A)(function*(){yield new Promise(sn=>{setTimeout(()=>{sn()}),(0,b.mal)(()=>{sn()},{injector:Pt.environmentInjector})}),Pt.zone.run(()=>{Pt.transitions.events.next(new Fn(et,"popstate"===Pt.lastSource?Pt.store[Pt.restoredId]:null,pt))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(pt){b.QTQ()};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function $r(Ge,...ft){return(0,b.EmA)([{provide:kl,multi:!0,useValue:Ge},[],{provide:Xo,useFactory:ni,deps:[oe]},{provide:b.iLQ,multi:!0,useFactory:Mi},ft.map(et=>et.\u0275providers)])}function ni(Ge){return Ge.routerState.root}function ui(Ge,ft){return{\u0275kind:Ge,\u0275providers:ft}}function Mi(){const Ge=(0,b.WQX)(b.zZn);return ft=>{const et=Ge.get(b.o8S);if(ft!==et.components[0])return;const pt=Ge.get(oe),Pt=Ge.get(Zr);1===Ge.get(Lo)&&pt.initialNavigation(),Ge.get(Gf,null,b.$GK.Optional)?.setUpPreloading(),Ge.get(fr,null,b.$GK.Optional)?.init(),pt.resetRootComponentType(et.componentTypes[0]),Pt.closed||(Pt.next(),Pt.complete(),Pt.unsubscribe())}}const Zr=new b.nKC("",{factory:()=>new q.B}),Lo=new b.nKC("",{providedIn:"root",factory:()=>1}),Gf=new b.nKC("");function nl(Ge){return ui(0,[{provide:Gf,useExisting:tn},{provide:bn,useExisting:Ge}])}function jM(Ge){return ui(9,[{provide:ot,useValue:vt},{provide:Xt,useValue:{skipNextTransition:!!Ge?.skipInitialTransition,...Ge}}])}const hb=new b.nKC("ROUTER_FORROOT_GUARD"),$M=[J.aZ,{provide:en,useClass:It},oe,rc,{provide:Xo,useFactory:ni,deps:[oe]},el,[]];let vl=(()=>{class Ge{constructor(et){}static forRoot(et,pt){return{ngModule:Ge,providers:[$M,[],{provide:kl,multi:!0,useValue:et},{provide:hb,useFactory:R1,deps:[[oe,new b.Xx1,new b.kdw]]},{provide:Iu,useValue:pt||{}},pt?.useHash?{provide:J.hb,useClass:J.fw}:{provide:J.hb,useClass:J.Sm},{provide:fr,useFactory:()=>{const Ge=(0,b.WQX)(J.Xr),ft=(0,b.WQX)(b.SKi),et=(0,b.WQX)(Iu),pt=(0,b.WQX)(Yn),Pt=(0,b.WQX)(en);return et.scrollOffset&&Ge.setOffset(et.scrollOffset),new lr(Pt,pt,Ge,ft,et)}},pt?.preloadingStrategy?nl(pt.preloadingStrategy).\u0275providers:[],pt?.initialNavigation?pb(pt):[],pt?.bindToComponentInputs?ui(8,[Us,{provide:_o,useExisting:Us}]).\u0275providers:[],pt?.enableViewTransitions?jM().\u0275providers:[],[{provide:ny,useFactory:Mi},{provide:b.iLQ,multi:!0,useExisting:ny}]]}}static forChild(et){return{ngModule:Ge,providers:[{provide:kl,multi:!0,useValue:et}]}}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.KVO(hb,8))};static#t=this.\u0275mod=b.$C({type:Ge});static#n=this.\u0275inj=b.G2t({})}return Ge})();function R1(Ge){return"guarded"}function pb(Ge){return["disabled"===Ge.initialNavigation?ui(3,[{provide:b.hnV,multi:!0,useFactory:()=>{const ft=(0,b.WQX)(oe);return()=>{ft.setUpLocationChangeListener()}}},{provide:Lo,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ge.initialNavigation?ui(2,[{provide:Lo,useValue:0},{provide:b.hnV,multi:!0,deps:[b.zZn],useFactory:ft=>{const et=ft.get(J.hj,Promise.resolve());return()=>et.then(()=>new Promise(pt=>{const Pt=ft.get(oe),sn=ft.get(Zr);Jt(Pt,()=>{pt(!0)}),ft.get(Yn).afterPreactivation=()=>(pt(!0),sn.closed?(0,w.of)(void 0):sn),Pt.initialNavigation()}))}}]).\u0275providers:[]]}const ny=new b.nKC("")},52039:(Je,j,_)=>{"use strict";_.d(j,{oU:()=>cn,Q2:()=>sr});class b extends Error{constructor(tt,Wt){super(`${tt}: ${Wt}`),this.code=tt,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class A{constructor(tt,Wt,Ft){this.name=tt,this.prefix=Wt,this.baseEncode=Ft}encode(tt){if(tt instanceof Uint8Array)return`${this.prefix}${this.baseEncode(tt)}`;throw Error("Unknown type, must be binary type")}}class G{constructor(tt,Wt,Ft){if(this.name=tt,this.prefix=Wt,void 0===Wt.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Wt.codePointAt(0),this.baseDecode=Ft}decode(tt){if("string"==typeof tt){if(tt.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(tt)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(tt.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(tt){return z(this,tt)}}class L{constructor(tt){this.decoders=tt}or(tt){return z(this,tt)}decode(tt){const Ft=this.decoders[tt[0]];if(Ft)return Ft.decode(tt);throw RangeError(`Unable to decode multibase string ${JSON.stringify(tt)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const z=(qe,tt)=>new L({...qe.decoders||{[qe.prefix]:qe},...tt.decoders||{[tt.prefix]:tt}});class ee{constructor(tt,Wt,Ft,mn){this.name=tt,this.prefix=Wt,this.baseEncode=Ft,this.baseDecode=mn,this.encoder=new A(tt,Wt,Ft),this.decoder=new G(tt,Wt,mn)}encode(tt){return this.encoder.encode(tt)}decode(tt){return this.decoder.decode(tt)}}const ce=({name:qe,prefix:tt,bitsPerChar:Wt,alphabet:Ft})=>(({name:qe,prefix:tt,encode:Wt,decode:Ft})=>new ee(qe,tt,Wt,Ft))({prefix:tt,name:qe,encode:mn=>((qe,tt,Wt)=>{const Ft="="===tt[tt.length-1],mn=(1<<Wt)-1;let zn="",wn=0,Tn=0;for(let vr=0;vr<qe.length;++vr)for(Tn=Tn<<8|qe[vr],wn+=8;wn>Wt;)wn-=Wt,zn+=tt[mn&Tn>>wn];if(wn&&(zn+=tt[mn&Tn<<Wt-wn]),Ft)for(;zn.length*Wt&7;)zn+="=";return zn})(mn,Ft,Wt),decode:mn=>((qe,tt,Wt,Ft)=>{const mn={};for(let Nn=0;Nn<tt.length;++Nn)mn[tt[Nn]]=Nn;let zn=qe.length;for(;"="===qe[zn-1];)--zn;const wn=new Uint8Array(zn*Wt/8|0);let Tn=0,vr=0,ir=0;for(let Nn=0;Nn<zn;++Nn){const Ln=mn[qe[Nn]];if(void 0===Ln)throw new SyntaxError(`Non-${Ft} character`);vr=vr<<Wt|Ln,Tn+=Wt,Tn>=8&&(Tn-=8,wn[ir++]=255&vr>>Tn)}if(Tn>=Wt||255&vr<<8-Tn)throw new SyntaxError("Unexpected end of data");return wn})(mn,Ft,Wt,qe)}),he=(ce({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ce({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ce({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));ce({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class Me{static encode(tt){return he.baseEncode(tt)}static decodeAsBytes(tt,Wt){if(!Me.isBase64UrlString(tt))throw new b("EncodedStringIncorrectEncoding",`Given ${Wt} must be base64url string.`);return he.baseDecode(tt)}static decodeAsString(tt,Wt){const Ft=Me.decodeAsBytes(tt,Wt);return Me.bytesToString(Ft)}static isBase64UrlString(tt){return/^[A-Za-z0-9_-]+$/.test(tt)}static stringToBytes(tt){return(new TextEncoder).encode(tt)}static bytesToString(tt){return(new TextDecoder).decode(tt)}}var Pe=_(95568),C=function(qe){return qe.Public="public",qe.Private="private",qe}(C||{});const a=C;class d{static validateEs256kOperationKey(tt,Wt){const Ft=new Set(["kty","crv","x","y"]);Wt===a.Private&&Ft.add("d");for(const mn in tt)if(!Ft.has(mn))throw new b("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${mn}'.`);if("secp256k1"!==tt.crv)throw new b("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${tt.crv}.'`);if("EC"!==tt.kty)throw new b("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${tt.kty}.'`);if(43!==tt.x.length)throw new b("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==tt.y.length)throw new b("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(Wt===a.Private&&(void 0===tt.d||43!==tt.d.length))throw new b("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(tt){if(tt.length>50)throw new b("IdTooLong",`Key ID length ${tt.length} exceed max allowed length of 50.`);if(!Me.isBase64UrlString(tt))throw new b("IdNotUsingBase64UrlCharacterSet",`Key ID '${tt}' is not a Base64URL string.`)}static validatePublicKeyPurposes(tt){if(void 0===tt)return;const Wt=new Set;for(const Ft of tt){if(Wt.has(Ft))throw new b("PublicKeyPurposeDuplicated",`Public key purpose '${Ft}' already specified.`);Wt.add(Ft)}}}const p=(()=>{class qe{}return qe.hashAlgorithmInMultihashCode=18,qe.maxCanonicalizedDeltaSizeInBytes=1e3,qe})();var E=_(28846);class D{static canonicalizeAsBytes(tt){const Wt=D.removeAllUndefinedProperties(tt),Ft=E(Wt);return Me.stringToBytes(Ft)}static removeAllUndefinedProperties(tt){for(const Wt in tt)"object"==typeof tt[Wt]?D.removeAllUndefinedProperties(tt[Wt]):void 0===tt[Wt]&&delete tt[Wt];return tt}}var x=128,v=-128,$=Math.pow(2,31),de=128,Ce=127,Ve=Math.pow(2,7),Ee=Math.pow(2,14),_e=Math.pow(2,21),Fe=Math.pow(2,28),be=Math.pow(2,35),Ae=Math.pow(2,42),ge=Math.pow(2,49),me=Math.pow(2,56),te=Math.pow(2,63);const Be={encode:function F(qe,tt,Wt){tt=tt||[];for(var Ft=Wt=Wt||0;qe>=$;)tt[Wt++]=255&qe|x,qe/=128;for(;qe&v;)tt[Wt++]=255&qe|x,qe>>>=7;return tt[Wt]=0|qe,F.bytes=Wt-Ft+1,tt},decode:function Re(qe,Ft){var wn,Wt=0,mn=0,zn=Ft=Ft||0,Tn=qe.length;do{if(zn>=Tn)throw Re.bytes=0,new RangeError("Could not decode varint");wn=qe[zn++],Wt+=mn<28?(wn&Ce)<<mn:(wn&Ce)*Math.pow(2,mn),mn+=7}while(wn>=de);return Re.bytes=zn-Ft,Wt},encodingLength:function(qe){return qe<Ve?1:qe<Ee?2:qe<_e?3:qe<Fe?4:qe<be?5:qe<Ae?6:qe<ge?7:qe<me?8:qe<te?9:10}},Qe=(qe,tt=0)=>[Be.decode(qe,tt),Be.decode.bytes],ze=(qe,tt,Wt=0)=>(Be.encode(qe,tt,Wt),tt),Dt=qe=>Be.encodingLength(qe),Xe=(qe,tt)=>{const Wt=tt.byteLength,Ft=Dt(qe),mn=Ft+Dt(Wt),zn=new Uint8Array(mn+Wt);return ze(qe,zn,0),ze(Wt,zn,Ft),zn.set(tt,mn),new K(qe,Wt,tt,zn)};class K{constructor(tt,Wt,Ft,mn){this.code=tt,this.size=Wt,this.digest=Ft,this.bytes=mn}}var T=_(10467);const M=({name:qe,code:tt,encode:Wt})=>new Y(qe,tt,Wt);class Y{constructor(tt,Wt,Ft){this.name=tt,this.code=Wt,this.encode=Ft}digest(tt){if(tt instanceof Uint8Array){const Wt=this.encode(tt);return Wt instanceof Uint8Array?Xe(this.code,Wt):Wt.then(Ft=>Xe(this.code,Ft))}throw Error("Unknown type, must be binary type")}}const pe=qe=>function(){var tt=(0,T.A)(function*(Wt){return new Uint8Array(yield crypto.subtle.digest(qe,Wt))});return function(Wt){return tt.apply(this,arguments)}}(),ke=M({name:"sha2-256",code:18,encode:pe("SHA-256")});M({name:"sha2-512",code:19,encode:pe("SHA-512")});var lt=function(qe,tt,Wt,Ft){return new(Wt||(Wt=Promise))(function(zn,wn){function Tn(Nn){try{ir(Ft.next(Nn))}catch(Ln){wn(Ln)}}function vr(Nn){try{ir(Ft.throw(Nn))}catch(Ln){wn(Ln)}}function ir(Nn){Nn.done?zn(Nn.value):function mn(zn){return zn instanceof Wt?zn:new Wt(function(wn){wn(zn)})}(Nn.value).then(Tn,vr)}ir((Ft=Ft.apply(qe,tt||[])).next())})};class en{static hash(tt,Wt){return lt(this,void 0,void 0,function*(){let Ft;if(18!==Wt)throw new b("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Wt} is not supported.`);return Ft=(yield ke.digest(tt)).bytes,Ft})}static hashAsNonMultihashBytes(tt,Wt){return lt(this,void 0,void 0,function*(){let Ft;if(18!==Wt)throw new b("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Wt} is not supported.`);return Ft=yield ke.encode(tt),Ft})}static canonicalizeThenHashThenEncode(tt,Wt){return lt(this,void 0,void 0,function*(){const Ft=D.canonicalizeAsBytes(tt);return yield en.hashThenEncode(Ft,Wt)})}static canonicalizeThenDoubleHashThenEncode(tt,Wt){return lt(this,void 0,void 0,function*(){const Ft=D.canonicalizeAsBytes(tt),mn=yield en.hashAsNonMultihashBytes(Ft,Wt);return yield en.hashThenEncode(mn,Wt)})}static hashThenEncode(tt,Wt){return lt(this,void 0,void 0,function*(){const Ft=yield en.hash(tt,Wt);return Me.encode(Ft)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(tt,Wt){let Ft;const mn=Me.decodeAsBytes(tt,Wt);try{Ft=(qe=>{const tt=(qe=>{if(qe instanceof Uint8Array&&"Uint8Array"===qe.constructor.name)return qe;if(qe instanceof ArrayBuffer)return new Uint8Array(qe);if(ArrayBuffer.isView(qe))return new Uint8Array(qe.buffer,qe.byteOffset,qe.byteLength);throw new Error("Unknown type, must be binary type")})(qe),[Wt,Ft]=Qe(tt),[mn,zn]=Qe(tt.subarray(Ft)),wn=tt.subarray(Ft+zn);if(wn.byteLength!==mn)throw new Error("Incorrect length");return new K(Wt,mn,wn,tt)})(mn)}catch{throw new b("MultihashStringNotAMultihash",`Given ${Wt} string '${tt}' is not a multihash after decoding.`)}const zn=p.hashAlgorithmInMultihashCode;if(zn!==Ft.code)throw new b("MultihashUnsupportedHashAlgorithm",`Given ${Wt} uses unsupported multihash algorithm with code ${Ft.code}, should use ${zn} or change IonSdkConfig to desired hashing algorithm.`)}}var It=function(qe){return qe.Create="create",qe.Update="update",qe.Deactivate="deactivate",qe.Recover="recover",qe}(It||{});const Kt=It;var rn=function(qe){return qe.Replace="replace",qe.AddPublicKeys="add-public-keys",qe.RemovePublicKeys="remove-public-keys",qe.AddServices="add-services",qe.RemoveServices="remove-services",qe}(rn||{});const vn=rn;var un=function(qe,tt,Wt,Ft){return new(Wt||(Wt=Promise))(function(zn,wn){function Tn(Nn){try{ir(Ft.next(Nn))}catch(Ln){wn(Ln)}}function vr(Nn){try{ir(Ft.throw(Nn))}catch(Ln){wn(Ln)}}function ir(Nn){Nn.done?zn(Nn.value):function mn(zn){return zn instanceof Wt?zn:new Wt(function(wn){wn(zn)})}(Nn.value).then(Tn,vr)}ir((Ft=Ft.apply(qe,tt||[])).next())})};class sr{static createCreateRequest(tt){return un(this,void 0,void 0,function*(){const Wt=tt.recoveryKey,Ft=tt.updateKey,mn=tt.document.publicKeys,zn=tt.document.services;d.validateEs256kOperationKey(Wt,a.Public),d.validateEs256kOperationKey(Ft,a.Public),sr.validateDidDocumentKeys(mn),sr.validateServices(zn);const wn=p.hashAlgorithmInMultihashCode,Tn=[{action:vn.Replace,document:tt.document}],vr={updateCommitment:yield en.canonicalizeThenDoubleHashThenEncode(Ft,wn),patches:Tn};sr.validateDeltaSize(vr);const Nn={deltaHash:yield en.canonicalizeThenHashThenEncode(vr,wn),recoveryCommitment:yield en.canonicalizeThenDoubleHashThenEncode(Wt,wn)};return{type:Kt.Create,suffixData:Nn,delta:vr}})}static createDeactivateRequest(tt){return un(this,void 0,void 0,function*(){sr.validateDidSuffix(tt.didSuffix),d.validateEs256kOperationKey(tt.recoveryPublicKey,a.Public);const Wt=p.hashAlgorithmInMultihashCode,Ft=yield en.canonicalizeThenHashThenEncode(tt.recoveryPublicKey,Wt),mn={didSuffix:tt.didSuffix,recoveryKey:tt.recoveryPublicKey},zn=yield tt.signer.sign({alg:"ES256K"},mn);return{type:Kt.Deactivate,didSuffix:tt.didSuffix,revealValue:Ft,signedData:zn}})}static createRecoverRequest(tt){return un(this,void 0,void 0,function*(){sr.validateDidSuffix(tt.didSuffix),d.validateEs256kOperationKey(tt.recoveryPublicKey,a.Public),d.validateEs256kOperationKey(tt.nextRecoveryPublicKey,a.Public),d.validateEs256kOperationKey(tt.nextUpdatePublicKey,a.Public),sr.validateDidDocumentKeys(tt.document.publicKeys),sr.validateServices(tt.document.services);const Wt=p.hashAlgorithmInMultihashCode,Ft=yield en.canonicalizeThenHashThenEncode(tt.recoveryPublicKey,Wt),wn={patches:[{action:vn.Replace,document:tt.document}],updateCommitment:yield en.canonicalizeThenDoubleHashThenEncode(tt.nextUpdatePublicKey,Wt)},Tn=yield en.canonicalizeThenHashThenEncode(wn,Wt),ir={recoveryCommitment:yield en.canonicalizeThenDoubleHashThenEncode(tt.nextRecoveryPublicKey,Wt),recoveryKey:tt.recoveryPublicKey,deltaHash:Tn},Nn=yield tt.signer.sign({alg:"ES256K"},ir);return{type:Kt.Recover,didSuffix:tt.didSuffix,revealValue:Ft,delta:wn,signedData:Nn}})}static createUpdateRequest(tt){return un(this,void 0,void 0,function*(){if(sr.validateDidSuffix(tt.didSuffix),d.validateEs256kOperationKey(tt.updatePublicKey,a.Public),d.validateEs256kOperationKey(tt.nextUpdatePublicKey,a.Public),sr.validateServices(tt.servicesToAdd),sr.validateDidDocumentKeys(tt.publicKeysToAdd),void 0!==tt.idsOfServicesToRemove)for(const ct of tt.idsOfServicesToRemove)d.validateId(ct);if(void 0!==tt.idsOfPublicKeysToRemove)for(const ct of tt.idsOfPublicKeysToRemove)d.validateId(ct);const Wt=[],Ft=tt.servicesToAdd;void 0!==Ft&&Ft.length>0&&Wt.push({action:vn.AddServices,services:Ft});const mn=tt.idsOfServicesToRemove;void 0!==mn&&mn.length>0&&Wt.push({action:vn.RemoveServices,ids:mn});const zn=tt.publicKeysToAdd;void 0!==zn&&zn.length>0&&Wt.push({action:vn.AddPublicKeys,publicKeys:zn});const wn=tt.idsOfPublicKeysToRemove;void 0!==wn&&wn.length>0&&Wt.push({action:vn.RemovePublicKeys,ids:wn});const Tn=p.hashAlgorithmInMultihashCode,vr=yield en.canonicalizeThenHashThenEncode(tt.updatePublicKey,Tn),Nn={patches:Wt,updateCommitment:yield en.canonicalizeThenDoubleHashThenEncode(tt.nextUpdatePublicKey,Tn)},Ln=yield en.canonicalizeThenHashThenEncode(Nn,Tn),at={updateKey:tt.updatePublicKey,deltaHash:Ln},He=yield tt.signer.sign({alg:"ES256K"},at);return{type:Kt.Update,didSuffix:tt.didSuffix,revealValue:vr,delta:Nn,signedData:He}})}static validateDidSuffix(tt){en.validateEncodedHashComputedUsingSupportedHashAlgorithm(tt,"didSuffix")}static validateDidDocumentKeys(tt){if(void 0===tt)return;const Wt=new Set;for(const Ft of tt){if(Array.isArray(Ft.publicKeyJwk))throw new b("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(d.validateId(Ft.id),Wt.has(Ft.id))throw new b("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${Ft.id}' already exists.`);Wt.add(Ft.id),d.validatePublicKeyPurposes(Ft.purposes)}}static validateServices(tt){if(void 0!==tt&&0!==tt.length){const Wt=new Set;for(const Ft of tt){if(sr.validateService(Ft),Wt.has(Ft.id))throw new b("DidDocumentServiceIdDuplicated","Service id has to be unique");Wt.add(Ft.id)}}}static validateService(tt){if(d.validateId(tt.id),tt.type.length>30)throw new b("ServiceTypeTooLong",`Service endpoint type length ${tt.type.length} exceeds max allowed length of 30.`);if(Array.isArray(tt.serviceEndpoint))throw new b("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof tt.serviceEndpoint&&void 0!==Pe.parse(tt.serviceEndpoint).error)throw new b("ServiceEndpointStringNotValidUri",`Service endpoint string '${tt.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(tt){const Wt=D.canonicalizeAsBytes(tt);if(Wt.length>p.maxCanonicalizedDeltaSizeInBytes)throw new b("DeltaExceedsMaximumSize",`Delta of ${Wt.length} bytes exceeded limit of ${p.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var Cn=function(qe,tt,Wt,Ft){return new(Wt||(Wt=Promise))(function(zn,wn){function Tn(Nn){try{ir(Ft.next(Nn))}catch(Ln){wn(Ln)}}function vr(Nn){try{ir(Ft.throw(Nn))}catch(Ln){wn(Ln)}}function ir(Nn){Nn.done?zn(Nn.value):function mn(zn){return zn instanceof Wt?zn:new Wt(function(wn){wn(zn)})}(Nn.value).then(Tn,vr)}ir((Ft=Ft.apply(qe,tt||[])).next())})};class cn{static createLongFormDid(tt){return Cn(this,void 0,void 0,function*(){const Wt=yield sr.createCreateRequest(tt),Ft=yield cn.computeDidUniqueSuffix(Wt.suffixData);let mn;mn=void 0===p.network||"mainnet"===p.network?`did:ion:${Ft}`:`did:ion:${p.network}:${Ft}`;const wn=D.canonicalizeAsBytes({suffixData:Wt.suffixData,delta:Wt.delta});return`${mn}:${Me.encode(wn)}`})}static computeDidUniqueSuffix(tt){return Cn(this,void 0,void 0,function*(){const Wt=D.canonicalizeAsBytes(tt),Ft=yield en.hash(Wt,p.hashAlgorithmInMultihashCode);return Me.encode(Ft)})}}_(63741),_(68464)},49402:(Je,j,_)=>{"use strict";_.d(j,{hB:()=>Gt,D4:()=>zn,lF:()=>mn});const y=/^(\d{1,3}\.){3,3}\d{1,3}$/,P=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,w={name:"v4",size:4,isFormat:at=>y.test(at),encode(at,He,ct){ct=~~ct,He=He||new Uint8Array(ct+4);const Zt=at.length;let xn=0;for(let Hn=0;Hn<Zt;){const er=at.charCodeAt(Hn++);46===er?(He[ct++]=xn,xn=0):xn=10*xn+(er-48)}return He[ct]=xn,He},decode:(at,He)=>(He=~~He,`${at[He++]}.${at[He++]}.${at[He++]}.${at[He]}`)},O={name:"v6",size:16,isFormat:at=>at.length>0&&P.test(at),encode(at,He,ct){let Zt=16+(ct=~~ct),xn=-1,Hn=0,er=0,hr=!0,Nr=!1;He=He||new Uint8Array(ct+16);for(let Cr=0;Cr<at.length;Cr++){let Ur=at.charCodeAt(Cr);58===Ur?(hr?-1!==xn?(ct<Zt&&(He[ct]=0),ct<Zt-1&&(He[ct+1]=0),ct+=2):ct<Zt&&(xn=ct):(!0===Nr?(ct<Zt&&(He[ct]=er),ct++):(ct<Zt&&(He[ct]=Hn>>8),ct<Zt-1&&(He[ct+1]=255&Hn),ct+=2),Hn=0,er=0),hr=!0,Nr=!1):46===Ur?(ct<Zt&&(He[ct]=er),ct++,er=0,Hn=0,hr=!1,Nr=!0):(hr=!1,Ur>=97?Ur-=87:Ur>=65?Ur-=55:(Ur-=48,er=10*er+Ur),Hn=(Hn<<4)+Ur)}if(!1===hr)!0===Nr?(ct<Zt&&(He[ct]=er),ct++):(ct<Zt&&(He[ct]=Hn>>8),ct<Zt-1&&(He[ct+1]=255&Hn),ct+=2);else if(0===xn)ct<Zt&&(He[ct]=0),ct<Zt-1&&(He[ct+1]=0),ct+=2;else if(-1!==xn){ct+=2;for(let Cr=Math.min(ct-1,Zt-1);Cr>=xn+2;Cr--)He[Cr]=He[Cr-2];He[xn]=0,He[xn+1]=0,xn=ct}if(xn!==ct&&-1!==xn)for(ct>Zt-2&&(ct=Zt-2);Zt>xn;)He[--Zt]=ct<Zt&&ct>xn?He[--ct]:0;else for(;ct<Zt;)He[ct++]=0;return He},decode(at,He){He=~~He;let ct="";for(let Zt=0;Zt<16;Zt+=2)0!==Zt&&(ct+=":"),ct+=(at[He+Zt]<<8|at[He+Zt+1]).toString(16);return ct.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function B(at){if(w.isFormat(at))return w.size;if(O.isFormat(at))return O.size;throw Error(`Invalid ip address: ${at}`)}function G(at){switch(at){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+at}function L(at){switch(at.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return at.toUpperCase().startsWith("UNKNOWN_")?parseInt(at.slice(8)):0}function z(at){switch(at){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+at}function q(at){switch(at){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+at}function J(at){switch(at){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+at}function se(at){switch(at.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function ae(at){if("number"==typeof at)return at;if(!at)return-1;switch(at.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const He=at.match(/_(\d+)$/);return He?parseInt(He[1],10):-1}const fe=55296,he=56320;function Me(at){let He=0;const ct=at.length;for(let Zt=0;Zt<ct;Zt+=1){const xn=at.charCodeAt(Zt);if(xn<=127)He+=1;else if(xn<=2047)He+=2;else if((63488&xn)!==fe)He+=3;else{const Hn=Zt+1;Hn===ct||xn>=he||(64512&at.charCodeAt(Hn))!==he?He+=3:(Zt=Hn,He+=4)}}return He}function Pe(at,He,ct){const Zt=at.length;null==ct&&(ct=0),void 0===He&&(He=new Uint8Array(Me(at)+ct));let xn=ct;for(let Hn=0;Hn<Zt;Hn+=1){let er=at.charCodeAt(Hn);if(er<=127)He[xn++]=er;else if(er<=2047)He[xn++]=192|(1984&er)>>6,He[xn++]=128|63&er;else if((63488&er)!==fe)He[xn++]=224|(61440&er)>>12,He[xn++]=128|(4032&er)>>6,He[xn++]=128|63&er;else{const hr=Hn+1;if(hr===Zt||er>=he)He[xn++]=239,He[xn++]=191,He[xn++]=189;else{const Nr=at.charCodeAt(hr);(64512&Nr)!==he?(He[xn++]=239,He[xn++]=191,He[xn++]=189):(Hn=hr,er=65536|(1023&er)<<10|1023&Nr,He[xn++]=240|(1835008&er)>>18,He[xn++]=128|(258048&er)>>12,He[xn++]=128|(4032&er)>>6,He[xn++]=128|63&er)}}}return Pe.bytes=xn-ct,He}function C(at,He,ct){let Zt="";null==He&&(He=0),null==ct&&(ct=at.length);for(let xn=He;xn<ct;){const Hn=at[xn++];let er;Hn<=128?er=Hn:Hn>191&&Hn<224?er=(31&Hn)<<6|63&at[xn++]:Hn>239&&Hn<365?(er=((7&Hn)<<18|(63&at[xn++])<<12|(63&at[xn++])<<6|63&at[xn++])-65536,Zt+=String.fromCharCode(fe|er>>10&1023),er=he|1023&er):er=(15&Hn)<<12|(63&at[xn++])<<6|63&at[xn++],Zt+=String.fromCharCode(er)}return C.bytes=ct-He,Zt}Pe.bytes=0,C.bytes=0;const a=at=>at instanceof Uint8Array;function d(at){return"string"==typeof at?Me(at):at.byteLength}function m(at){return at instanceof Uint8Array?at:Array.isArray(at)?new Uint8Array(at):Pe(at)}function p(at,He,ct){if("string"!=typeof He)throw new Error("unknown input type");return Pe(He,at,ct),Pe.bytes}const E={},D=new Array(255);for(let at=0;at<=15;at+=1){const He=at.toString(16),ct=He.toUpperCase();for(let Zt=0;Zt<=15;Zt+=1){const xn=Zt.toString(16),Hn=xn.toUpperCase(),er=at<<4|Zt,hr=`${He}${xn}`;D[er]=hr,E[hr]=er,E[`${ct}${xn}`]=er,E[`${He}${Hn}`]=er,E[`${ct}${Hn}`]=er}}function x(at){return at.length>>>1}const v=Math.pow(2,24),$=Math.pow(2,16),F=Math.pow(2,8),Q=(at,He)=>at[He]*v+at[He+1]*$+at[He+2]*F+at[He+3],de=(at,He)=>at[He]<<8|at[He+1],Ce=(at,He,ct)=>(at[ct+3]=He=+He,at[ct+2]=He>>>=8,at[ct+1]=He>>>=8,at[ct]=He>>>=8,ct+4),Re=(at,He,ct)=>(at[ct]=He>>8,at[ct+1]=255&He,ct+2);function Ve(at,He,ct,Zt,xn){return ct<0&&(Zt-=ct,ct=0),Zt<0&&(Zt=0),xn<0?new Uint8Array(0):ct>=He.length||Zt>=xn?0:function Ee(at,He,ct,Zt,xn){xn-Zt>He.length-ct&&(xn=Zt+He.length-ct);let Hn=xn-Zt;const er=at.length-Zt;return Hn>er&&(Hn=er),(0!==Zt||xn<at.length)&&(at=new Uint8Array(at.buffer,at.byteOffset+Zt,Hn)),He.set(at,ct),Hn}(at,He,ct,Zt,xn)}function te({bytes:at=0,encode:He,decode:ct,encodingLength:Zt}){return He.bytes=at,ct.bytes=at,{encode:He,decode:ct,encodingLength:Zt||(()=>at)}}const ne=te({encode(at,He,ct){He||(He=new Uint8Array(ne.encodingLength(at))),ct||(ct=0);const Zt=ct,xn=at.replace(/^\.|\.$/gm,"");if(xn.length){const Hn=xn.split(".");for(let er=0;er<Hn.length;er++){const hr=p(He,Hn[er],ct+1);He[ct]=hr,ct+=hr+1}}return He[ct++]=0,ne.encode.bytes=ct-Zt,He},decode(at,He){He||(He=0);const ct=[];let Zt=He,xn=0,Hn=0,er=!1;for(;;){if(He>=at.length)throw new Error("Cannot decode name (buffer overflow)");const hr=at[He++];if(Hn+=er?0:1,0===hr)break;if(192&hr){if(192&~hr)throw new Error("Cannot decode name (bad label)");{if(He+1>at.length)throw new Error("Cannot decode name (buffer overflow)");const Nr=de(at,He-1)-49152;if(Nr>=Zt)throw new Error("Cannot decode name (bad pointer)");He=Nr,Zt=Nr,Hn+=er?0:1,er=!0}}else{if(He+hr>at.length)throw new Error("Cannot decode name (buffer overflow)");if(xn+=hr+1,xn>254)throw new Error("Cannot decode name (name too long)");ct.push(C(at,He,He+hr)),He+=hr,Hn+=er?0:hr}}return ne.decode.bytes=Hn,0===ct.length?".":ct.join(".")},encodingLength:at=>"."===at||".."===at?1:d(at.replace(/^\.|\.$/gm,""))+2}),ue=te({encode(at,He,ct){He||(He=new Uint8Array(ue.encodingLength(at))),ct||(ct=0);const Zt=p(He,at,ct+1);return He[ct]=Zt,ue.encode.bytes=Zt+1,He},decode(at,He){He||(He=0);const ct=at[He],Zt=C(at,He+1,He+1+ct);return ue.decode.bytes=ct+1,Zt},encodingLength:at=>d(at)+1}),De=te({bytes:12,encode(at,He,ct){He||(He=new Uint8Array(De.encodingLength(at))),ct||(ct=0);const Zt=32767&(at.flags||0),xn="response"===at.type?32768:0;return Re(He,at.id||0,ct),Re(He,Zt|xn,ct+2),Re(He,at.questions.length,ct+4),Re(He,at.answers.length,ct+6),Re(He,at.authorities.length,ct+8),Re(He,at.additionals.length,ct+10),He},decode(at,He){if(He||(He=0),at.length<12)throw new Error("Header must be 12 bytes");const ct=de(at,He+2);return{id:de(at,He),type:32768&ct?"response":"query",flags:32767&ct,flag_qr:1==(ct>>15&1),opcode:q(ct>>11&15),flag_aa:1==(ct>>10&1),flag_tc:1==(ct>>9&1),flag_rd:1==(ct>>8&1),flag_ra:1==(ct>>7&1),flag_z:1==(ct>>6&1),flag_ad:1==(ct>>5&1),flag_cd:1==(ct>>4&1),rcode:z(15&ct),questions:new Array(de(at,He+4)),answers:new Array(de(at,He+6)),authorities:new Array(de(at,He+8)),additionals:new Array(de(at,He+10))}},encodingLength:()=>12}),Be=te({encode(at,He,ct){He||(He=new Uint8Array(Be.encodingLength(at))),ct||(ct=0);const Zt=at.length;return Re(He,Zt,ct),Ve(at,He,ct+2,0,Zt),Be.encode.bytes=Zt+2,He},decode(at,He){He||(He=0);const ct=de(at,He),Zt=at.slice(He+2,He+2+ct);return Be.decode.bytes=ct+2,Zt},encodingLength:at=>at.length+2}),Qe=te({encode:(at,He,ct)=>(He||(He=new Uint8Array(Qe.encodingLength(at))),ct||(ct=0),ne.encode(at,He,ct+2),Re(He,ne.encode.bytes,ct),Qe.encode.bytes=ne.encode.bytes+2,He),decode(at,He){He||(He=0);const ct=de(at,He),Zt=ne.decode(at,He+2);return Qe.decode.bytes=ct+2,Zt},encodingLength:at=>ne.encodingLength(at)+2}),ze=te({encode(at,He,ct){He||(He=new Uint8Array(ze.encodingLength(at))),ct||(ct=0);const Zt=ct;return ne.encode(at.mname,He,ct+=2),ne.encode(at.rname,He,ct+=ne.encode.bytes),Ce(He,at.serial||0,ct+=ne.encode.bytes),Ce(He,at.refresh||0,ct+=4),Ce(He,at.retry||0,ct+=4),Ce(He,at.expire||0,ct+=4),Ce(He,at.minimum||0,ct+=4),Re(He,(ct+=4)-Zt-2,Zt),ze.encode.bytes=ct-Zt,He},decode(at,He){He||(He=0);const ct=He,Zt={};return Zt.mname=ne.decode(at,He+=2),Zt.rname=ne.decode(at,He+=ne.decode.bytes),Zt.serial=Q(at,He+=ne.decode.bytes),Zt.refresh=Q(at,He+=4),Zt.retry=Q(at,He+=4),Zt.expire=Q(at,He+=4),Zt.minimum=Q(at,He+=4),ze.decode.bytes=(He+=4)-ct,Zt},encodingLength:at=>22+ne.encodingLength(at.mname)+ne.encodingLength(at.rname)}),Dt=te({encode(at,He,ct){Array.isArray(at)||(at=[at]);for(let xn=0;xn<at.length;xn++)if("string"==typeof at[xn]&&(at[xn]=m(at[xn])),!a(at[xn]))throw new Error("Must be a Buffer");He||(He=new Uint8Array(Dt.encodingLength(at))),ct||(ct=0);const Zt=ct;return ct+=2,at.forEach(function(xn){He[ct++]=xn.length,Ve(xn,He,ct,0,xn.length),ct+=xn.length}),Re(He,ct-Zt-2,Zt),Dt.encode.bytes=ct-Zt,He},decode(at,He){He||(He=0);const ct=He;let Zt=de(at,He);He+=2;const xn=[];for(;Zt>0;){const Hn=at[He++];if(--Zt,Zt<Hn)throw new Error("Buffer overflow");xn.push(at.slice(He,He+Hn)),He+=Hn,Zt-=Hn}return Dt.decode.bytes=He-ct,xn},encodingLength(at){Array.isArray(at)||(at=[at]);let He=2;return at.forEach(function(ct){He+="string"==typeof ct?d(ct)+1:ct.length+1}),He}}),Xe=te({encode(at,He,ct){He||(He=new Uint8Array(Xe.encodingLength(at))),ct||(ct=0),"string"==typeof at&&(at=m(at)),at||(at=new Uint8Array(0));const Zt=ct,xn=at.length;return Ve(at,He,ct+=2,0,xn),Re(He,(ct+=xn)-Zt-2,Zt),Xe.encode.bytes=ct-Zt,He},decode(at,He){He||(He=0);const ct=He,Zt=de(at,He),xn=at.slice(He+=2,He+Zt);return Xe.decode.bytes=(He+=Zt)-ct,xn},encodingLength:at=>at?(a(at)?at.length:d(at))+2:2}),Ue=te({encode(at,He,ct){He||(He=new Uint8Array(Ue.encodingLength(at))),ct||(ct=0);const Zt=ct;return ue.encode(at.cpu,He,ct+=2),ue.encode(at.os,He,ct+=ue.encode.bytes),Re(He,(ct+=ue.encode.bytes)-Zt-2,Zt),Ue.encode.bytes=ct-Zt,He},decode(at,He){He||(He=0);const ct=He,Zt={};return Zt.cpu=ue.decode(at,He+=2),Zt.os=ue.decode(at,He+=ue.decode.bytes),Ue.decode.bytes=(He+=ue.decode.bytes)-ct,Zt},encodingLength:at=>ue.encodingLength(at.cpu)+ue.encodingLength(at.os)+2}),mt=te({encode:(at,He,ct)=>(He||(He=new Uint8Array(mt.encodingLength(at))),ct||(ct=0),ne.encode(at,He,ct+2),Re(He,ne.encode.bytes,ct),mt.encode.bytes=ne.encode.bytes+2,He),decode(at,He){He||(He=0);const ct=ne.decode(at,He+2);return mt.decode.bytes=ne.decode.bytes+2,ct},encodingLength:at=>ne.encodingLength(at)+2}),K=te({encode(at,He,ct){He||(He=new Uint8Array(K.encodingLength(at))),ct||(ct=0),Re(He,at.priority||0,ct+2),Re(He,at.weight||0,ct+4),Re(He,at.port||0,ct+6),ne.encode(at.target,He,ct+8);const Zt=ne.encode.bytes+6;return Re(He,Zt,ct),K.encode.bytes=Zt+2,He},decode(at,He){He||(He=0);const ct=de(at,He),Zt={};return Zt.priority=de(at,He+2),Zt.weight=de(at,He+4),Zt.port=de(at,He+6),Zt.target=ne.decode(at,He+8),K.decode.bytes=ct+2,Zt},encodingLength:at=>8+ne.encodingLength(at.target)}),T=te({encode(at,He,ct){const Zt=T.encodingLength(at);return He||(He=new Uint8Array(T.encodingLength(at))),ct||(ct=0),at.issuerCritical&&(at.flags=T.ISSUER_CRITICAL),Re(He,Zt-2,ct),He[ct+=2]=at.flags||0,ue.encode(at.tag,He,ct+=1),p(He,at.value,ct+=ue.encode.bytes),ct+=d(at.value),T.encode.bytes=Zt,He},decode(at,He){He||(He=0);const ct=de(at,He),Zt=He+=2,xn={};return xn.flags=at[He],xn.tag=ue.decode(at,He+=1),xn.value=C(at,He+=ue.decode.bytes,Zt+ct),xn.issuerCritical=!!(xn.flags&T.ISSUER_CRITICAL),T.decode.bytes=ct+2,xn},encodingLength:at=>ue.encodingLength(at.tag)+ue.encodingLength(at.value)+2});T.ISSUER_CRITICAL=128;const M=te({encode(at,He,ct){He||(He=new Uint8Array(M.encodingLength(at))),ct||(ct=0);const Zt=ct;return Re(He,at.preference||0,ct+=2),ne.encode(at.exchange,He,ct+=2),Re(He,(ct+=ne.encode.bytes)-Zt-2,Zt),M.encode.bytes=ct-Zt,He},decode(at,He){He||(He=0);const ct=He,Zt={};return Zt.preference=de(at,He+=2),Zt.exchange=ne.decode(at,He+=2),M.decode.bytes=(He+=ne.decode.bytes)-ct,Zt},encodingLength:at=>4+ne.encodingLength(at.exchange)}),Y=te({encode:(at,He,ct)=>(He||(He=new Uint8Array(Y.encodingLength(at))),ct||(ct=0),Re(He,4,ct),w.encode(at,He,ct+=2),He),decode:(at,He)=>(He||(He=0),w.decode(at,He+=2)),bytes:6}),pe=te({encode:(at,He,ct)=>(He||(He=new Uint8Array(pe.encodingLength(at))),ct||(ct=0),Re(He,16,ct),O.encode(at,He,ct+=2),pe.encode.bytes=18,He),decode(at,He){He||(He=0);const ct=O.decode(at,He+=2);return pe.decode.bytes=18,ct},bytes:18}),ke=at=>new Uint8Array(at),Ne=te({encode(at,He,ct){He||(He=new Uint8Array(Ne.encodingLength(at))),ct||(ct=0);const Zt=ct,xn=ae(at.code);if(Re(He,xn,ct),ct+=2,at.data)Re(He,at.data.length,ct),Ve(at.data,He,ct+=2),ct+=at.data.length;else switch(xn){case 8:{const Hn=at.sourcePrefixLength||0,er=at.family||function N(at){return B(at)===w.size?1:2}(at.ip),hr=function U(at,He,ct){ct=~~ct;const Zt=B(at);return"function"==typeof He&&(He=He(ct+Zt)),Zt===w.size?w.encode(at,He,ct):O.encode(at,He,ct)}(at.ip,ke),Nr=Math.ceil(Hn/8);Re(He,Nr+4,ct),Re(He,er,ct+=2),ct+=2,He[ct++]=Hn,He[ct++]=at.scopePrefixLength||0,Ve(hr,He,ct,0,Nr),ct+=Nr}break;case 11:at.timeout?(Re(He,2,ct),Re(He,at.timeout,ct+=2),ct+=2):(Re(He,0,ct),ct+=2);break;case 12:{const Hn=at.length||0;Re(He,Hn,ct),He.fill(0,ct+=2,ct+Hn),ct+=Hn}break;case 14:Re(He,2*at.tags.length,ct),ct+=2;for(const er of at.tags)Re(He,er,ct),ct+=2;break;default:throw new Error(`Unknown roption code: ${at.code}`)}return Ne.encode.bytes=ct-Zt,He},decode(at,He){He||(He=0);const ct={};ct.code=de(at,He),ct.type=function ce(at){switch(at){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return at<0?null:`OPTION_${at}`}(ct.code);const Zt=de(at,He+=2);switch(ct.data=at.slice(He+=2,He+Zt),ct.code){case 8:ct.family=de(at,He),He+=2,ct.sourcePrefixLength=at[He++],ct.scopePrefixLength=at[He++];{const xn=new Uint8Array(1===ct.family?4:16);Ve(at,xn,0,He,He+Zt-4),ct.ip=function A(at,He,ct){if(He=~~He,(ct=ct||at.length-He)===w.size)return w.decode(at,He,ct);if(ct===O.size)return O.decode(at,He,ct);throw Error(`Invalid buffer size needs to be ${w.size} for v4 or ${O.size} for v6.`)}(xn)}break;case 11:Zt>0&&(ct.timeout=de(at,He),He+=2);break;case 14:ct.tags=[];for(let xn=0;xn<Zt;xn+=2)ct.tags.push(de(at,He)),He+=2}return Ne.decode.bytes=Zt+4,ct},encodingLength(at){if(at.data)return at.data.length+4;switch(ae(at.code)){case 8:return Math.ceil((at.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof at.timeout?6:4;case 12:return at.length+4;case 14:return 4+2*at.tags.length}throw new Error(`Unknown roption code: ${at.code}`)}}),lt=te({encode(at,He,ct){He||(He=new Uint8Array(lt.encodingLength(at))),ct||(ct=0);const Zt=ct,xn=ir(at,Ne);return Re(He,xn,ct),ct=Nn(at,Ne,He,ct+2),lt.encode.bytes=ct-Zt,He},decode(at,He){He||(He=0);const ct=He,Zt=[];let xn=de(at,He);He+=2;let Hn=0;for(;xn>0;)Zt[Hn++]=Ne.decode(at,He),He+=Ne.decode.bytes,xn-=Ne.decode.bytes;return lt.decode.bytes=He-ct,Zt},encodingLength:at=>2+ir(at||[],Ne)}),en=te({encode(at,He,ct){He||(He=new Uint8Array(en.encodingLength(at))),ct||(ct=0);const Zt=ct,xn=at.key;if(!a(xn))throw new Error("Key must be a Buffer");return Re(He,at.flags,ct+=2),He[ct+=2]=en.PROTOCOL_DNSSEC,He[ct+=1]=at.algorithm,Ve(xn,He,ct+=1,0,xn.length),en.encode.bytes=(ct+=xn.length)-Zt,Re(He,en.encode.bytes-2,Zt),He},decode(at,He){He||(He=0);const ct=He,Zt={},xn=de(at,He);if(Zt.flags=de(at,He+=2),at[He+=2]!==en.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return Zt.algorithm=at[He+=1],Zt.key=at.slice(He+=1,ct+xn+2),en.decode.bytes=(He+=Zt.key.length)-ct,Zt},encodingLength:at=>6+d(at.key)});en.PROTOCOL_DNSSEC=3,en.ZONE_KEY=128,en.SECURE_ENTRYPOINT=32768;const It=te({encode(at,He,ct){He||(He=new Uint8Array(It.encodingLength(at))),ct||(ct=0);const Zt=ct,xn=at.signature;if(!a(xn))throw new Error("Signature must be a Buffer");return ct+=2,Re(He,L(at.typeCovered),ct),He[ct+=2]=at.algorithm,He[ct+=1]=at.labels,Ce(He,at.originalTTL,ct+=1),Ce(He,at.expiration,ct+=4),Ce(He,at.inception,ct+=4),Re(He,at.keyTag,ct+=4),ne.encode(at.signersName,He,ct+=2),Ve(xn,He,ct+=ne.encode.bytes,0,xn.length),It.encode.bytes=(ct+=xn.length)-Zt,Re(He,It.encode.bytes-2,Zt),He},decode(at,He){He||(He=0);const ct=He,Zt={},xn=de(at,He);return Zt.typeCovered=G(de(at,He+=2)),Zt.algorithm=at[He+=2],Zt.labels=at[He+=1],Zt.originalTTL=Q(at,He+=1),Zt.expiration=Q(at,He+=4),Zt.inception=Q(at,He+=4),Zt.keyTag=de(at,He+=4),Zt.signersName=ne.decode(at,He+=2),Zt.signature=at.slice(He+=ne.decode.bytes,ct+xn+2),It.decode.bytes=(He+=Zt.signature.length)-ct,Zt},encodingLength:at=>20+ne.encodingLength(at.signersName)+d(at.signature)}),Kt=te({encode(at,He,ct){He||(He=new Uint8Array(Kt.encodingLength(at))),ct||(ct=0);const Zt=ct;return ne.encode(at.mbox||".",He,ct+=2),ne.encode(at.txt||".",He,ct+=ne.encode.bytes),Kt.encode.bytes=(ct+=ne.encode.bytes)-Zt,Re(He,Kt.encode.bytes-2,Zt),He},decode(at,He){He||(He=0);const ct=He,Zt={};return Zt.mbox=ne.decode(at,He+=2)||".",Zt.txt=ne.decode(at,He+=ne.decode.bytes)||".",Kt.decode.bytes=(He+=ne.decode.bytes)-ct,Zt},encodingLength:at=>2+ne.encodingLength(at.mbox||".")+ne.encodingLength(at.txt||".")}),rn=te({encode(at,He,ct){He||(He=new Uint8Array(rn.encodingLength(at))),ct||(ct=0);const Zt=ct,xn=[];for(let Hn=0;Hn<at.length;Hn++){const er=L(at[Hn]);void 0===xn[er>>8]&&(xn[er>>8]=[]),xn[er>>8][er>>3&31]|=1<<7-(7&er)}for(let Hn=0;Hn<xn.length;Hn++)if(void 0!==xn[Hn]){const er=m(xn[Hn]);He[ct]=Hn,He[ct+=1]=er.length,Ve(er,He,ct+=1,0,er.length),ct+=er.length}return rn.encode.bytes=ct-Zt,He},decode(at,He,ct){He||(He=0);const Zt=He,xn=[];for(;He-Zt<ct;){const Hn=at[He],er=at[He+=1];He+=1;for(let hr=0;hr<er;hr++){const Nr=at[He+hr];for(let Cr=0;Cr<8;Cr++)if(Nr&1<<7-Cr){const Ur=G(Hn<<8|hr<<3|Cr);xn.push(Ur)}}He+=er}return rn.decode.bytes=He-Zt,xn},encodingLength(at){const He=[];for(let Zt=0;Zt<at.length;Zt++){const xn=L(at[Zt]);He[xn>>8]=Math.max(He[xn>>8]||0,255&xn)}let ct=0;for(let Zt=0;Zt<He.length;Zt++)void 0!==He[Zt]&&(ct+=2+Math.ceil((He[Zt]+1)/8));return ct}}),vn=te({encode(at,He,ct){He||(He=new Uint8Array(vn.encodingLength(at))),ct||(ct=0);const Zt=ct;return ne.encode(at.nextDomain,He,ct+=2),rn.encode(at.rrtypes,He,ct+=ne.encode.bytes),vn.encode.bytes=(ct+=rn.encode.bytes)-Zt,Re(He,vn.encode.bytes-2,Zt),He},decode(at,He){He||(He=0);const ct=He,Zt={},xn=de(at,He);return Zt.nextDomain=ne.decode(at,He+=2),Zt.rrtypes=rn.decode(at,He+=ne.decode.bytes,xn-(He-ct)),vn.decode.bytes=(He+=rn.decode.bytes)-ct,Zt},encodingLength:at=>2+ne.encodingLength(at.nextDomain)+rn.encodingLength(at.rrtypes)}),un=te({encode(at,He,ct){He||(He=new Uint8Array(un.encodingLength(at))),ct||(ct=0);const Zt=ct,xn=at.salt;if(!a(xn))throw new Error("salt must be a Buffer");const Hn=at.nextDomain;if(!a(Hn))throw new Error("nextDomain must be a Buffer");return He[ct+=2]=at.algorithm,He[ct+=1]=at.flags,Re(He,at.iterations,ct+=1),He[ct+=2]=xn.length,Ve(xn,He,ct+=1,0,xn.length),He[ct+=xn.length]=Hn.length,Ve(Hn,He,ct+=1,0,Hn.length),rn.encode(at.rrtypes,He,ct+=Hn.length),un.encode.bytes=(ct+=rn.encode.bytes)-Zt,Re(He,un.encode.bytes-2,Zt),He},decode(at,He){He||(He=0);const ct=He,Zt={},xn=de(at,He);Zt.algorithm=at[He+=2],Zt.flags=at[He+=1],Zt.iterations=de(at,He+=1);const Hn=at[He+=2];Zt.salt=at.slice(He+=1,He+Hn);const er=at[He+=Hn];return Zt.nextDomain=at.slice(He+=1,He+er),Zt.rrtypes=rn.decode(at,He+=er,xn-(He-ct)),un.decode.bytes=(He+=rn.decode.bytes)-ct,Zt},encodingLength:at=>8+at.salt.length+at.nextDomain.length+rn.encodingLength(at.rrtypes)}),sr=te({encode(at,He,ct){He||(He=new Uint8Array(sr.encodingLength(at))),ct||(ct=0);const Zt=ct,xn=at.digest;if(!a(xn))throw new Error("Digest must be a Buffer");return Re(He,at.keyTag,ct+=2),He[ct+=2]=at.algorithm,He[ct+=1]=at.digestType,Ve(xn,He,ct+=1,0,xn.length),sr.encode.bytes=(ct+=xn.length)-Zt,Re(He,sr.encode.bytes-2,Zt),He},decode(at,He){He||(He=0);const ct=He,Zt={},xn=de(at,He);return Zt.keyTag=de(at,He+=2),Zt.algorithm=at[He+=2],Zt.digestType=at[He+=1],Zt.digest=at.slice(He+=1,ct+xn+2),sr.decode.bytes=(He+=Zt.digest.length)-ct,Zt},encodingLength:at=>6+d(at.digest)}),Cn=te({encode(at,He,ct){He||(He=new Uint8Array(Cn.encodingLength(at))),ct||(ct=0);const Zt=ct;He[ct+=2]=at.algorithm,He[ct+=1]=at.hash,ct+=1;const xn=x(at.fingerprint),Hn=cn(at.hash);if(xn!==Hn)throw new Error(`Invalid length of fingerprint "${at.fingerprint}" for hashType=${at.hash}: ${xn} != ${Hn}`);return function s(at,He,ct,Zt){let xn=0;for(;ct<Zt;){const Hn=He.substr(xn,2),er=E[Hn];if(void 0===er)return;at[ct++]=er,xn+=2}}(He,at.fingerprint,ct,ct+=xn),Cn.encode.bytes=ct-Zt,Re(He,Cn.encode.bytes-2,Zt),He},decode(at,He){He||(He=0);const ct=He,Zt={};Zt.algorithm=at[He+=2],Zt.hash=at[He+=1],He+=1;const xn=cn(Zt.hash);return Zt.fingerprint=function R(at,He,ct){let Zt="";for(let xn=He;xn<ct;){const Hn=at[xn++];Zt+=D[Hn]}return Zt}(at,He,He+xn),Cn.decode.bytes=(He+=xn)-ct,Zt},encodingLength:at=>4+x(at.fingerprint)});function cn(at){if(1===at)return 20;if(2===at)return 32;throw new Error(`Invalid hashType=${at}, supported=1,2`)}function qt(at){switch(at.toUpperCase()){case"A":return Y;case"PTR":case"CNAME":case"DNAME":return mt;case"TXT":return Dt;case"NULL":return Xe;case"AAAA":return pe;case"SRV":return K;case"HINFO":return Ue;case"CAA":return T;case"NS":return Qe;case"SOA":return ze;case"MX":return M;case"OPT":return lt;case"DNSKEY":return en;case"RRSIG":return It;case"RP":return Kt;case"NSEC":return vn;case"NSEC3":return un;case"SSHFP":return Cn;case"DS":return sr}return Be}Cn.getFingerprintLengthForHashType=cn;const bt=te({encode(at,He,ct){He||(He=new Uint8Array(bt.encodingLength(at))),ct||(ct=0);const Zt=ct;if(ne.encode(at.name,He,ct),ct+=ne.encode.bytes,Re(He,L(at.type),ct),"OPT"===at.type.toUpperCase()){if("."!==at.name)throw new Error("OPT name must be root.");Re(He,at.udpPayloadSize||4096,ct+2),He[ct+4]=at.extendedRcode||0,He[ct+5]=at.ednsVersion||0,Re(He,at.flags||0,ct+6),lt.encode(at.options||[],He,ct+=8),ct+=lt.encode.bytes}else{let xn=se(void 0===at.class?"IN":at.class);at.flush&&(xn|=32768),Re(He,xn,ct+2),Ce(He,at.ttl||0,ct+4),ct+=8;const Hn=qt(at.type);Hn.encode(at.data,He,ct),ct+=Hn.encode.bytes}return bt.encode.bytes=ct-Zt,He},decode(at,He){He||(He=0);const ct={},Zt=He;if(ct.name=ne.decode(at,He),ct.type=G(de(at,He+=ne.decode.bytes)),"OPT"===ct.type)ct.udpPayloadSize=de(at,He+2),ct.extendedRcode=at[He+4],ct.ednsVersion=at[He+5],ct.flags=de(at,He+6),ct.flag_do=1==(ct.flags>>15&1),ct.options=lt.decode(at,He+8),He+=8+lt.decode.bytes;else{const xn=de(at,He+2);ct.ttl=Q(at,He+4),ct.class=J(-32769&xn),ct.flush=!!(32768&xn);const Hn=qt(ct.type);ct.data=Hn.decode(at,He+8),He+=8+Hn.decode.bytes}return bt.decode.bytes=He-Zt,ct},encodingLength(at){const He=null!=at.data?at.data:at.options;return ne.encodingLength(at.name)+8+qt(at.type).encodingLength(He)}}),ut=te({encode(at,He,ct){He||(He=new Uint8Array(ut.encodingLength(at))),ct||(ct=0);const Zt=ct;return ne.encode(at.name,He,ct),ct+=ne.encode.bytes,Re(He,L(at.type),ct),ct+=2,Re(He,se(void 0===at.class?"IN":at.class),ct),ut.encode.bytes=(ct+=2)-Zt,at},decode(at,He){He||(He=0);const ct=He,Zt={};return Zt.name=ne.decode(at,He),Zt.type=G(de(at,He+=ne.decode.bytes)),Zt.class=J(de(at,He+=2)),He+=2,!!(32768&Zt.class)&&(Zt.class&=-32769),ut.decode.bytes=He-ct,Zt},encodingLength:at=>ne.encodingLength(at.name)+4}),Gt=1024,qe={encode:function(at,He,ct){const Zt=!He;Zt&&(He=new Uint8Array(wn(at))),ct||(ct=0);const xn=ct;return at.questions||(at.questions=[]),at.answers||(at.answers=[]),at.authorities||(at.authorities=[]),at.additionals||(at.additionals=[]),De.encode(at,He,ct),ct=Nn(at.questions,ut,He,ct+=De.encode.bytes),ct=Nn(at.answers,bt,He,ct),ct=Nn(at.authorities,bt,He,ct),ct=Nn(at.additionals,bt,He,ct),qe.encode.bytes=ct-xn,Zt&&mn.bytes!==He.length?He.slice(0,mn.bytes):He},decode:function(at,He){He||(He=0);const ct=He,Zt=De.decode(at,He);return He=Ln(Zt.questions,ut,at,He+=De.decode.bytes),He=Ln(Zt.answers,bt,at,He),He=Ln(Zt.authorities,bt,at,He),He=Ln(Zt.additionals,bt,at,He),qe.decode.bytes=He-ct,Zt},encodingLength:function(at){return De.encodingLength(at)+ir(at.questions||[],ut)+ir(at.answers||[],bt)+ir(at.authorities||[],bt)+ir(at.additionals||[],bt)}};function tt(at,He){if(at.questions)throw new Error("Only one .question object expected instead of a .questions array!");const ct=Object.assign({type:He},at);return ct.question&&(ct.questions=[ct.question],delete ct.question),ct}qe.encode.bytes=0,qe.decode.bytes=0;const Wt={encode:function(at,He,ct){return He=qe.encode(tt(at,"query"),He,ct),Wt.encode.bytes=qe.encode.bytes,He},decode:function(at,He){const ct=qe.decode(at,He);return Wt.decode.bytes=qe.decode.bytes,ct.questions&&(ct.question=ct.questions[0],delete ct.questions),ct},encodingLength:function(at){return qe.encodingLength(tt(at,"query"))}};Wt.encode.bytes=0,Wt.decode.bytes=0;const Ft={encode:function(at,He,ct){return He=qe.encode(tt(at,"response"),He,ct),Ft.encode.bytes=qe.encode.bytes,He},decode:function(at,He){const ct=qe.decode(at,He);return Ft.decode.bytes=qe.decode.bytes,ct.questions&&(ct.question=ct.questions[0],delete ct.questions),ct},encodingLength:function(at){return qe.encodingLength(tt(at,"response"))}};Ft.encode.bytes=0,Ft.decode.bytes=0;const mn=qe.encode,zn=qe.decode,wn=qe.encodingLength;function ir(at,He){let ct=0;for(let Zt=0;Zt<at.length;Zt++)ct+=He.encodingLength(at[Zt]);return ct}function Nn(at,He,ct,Zt){for(let xn=0;xn<at.length;xn++)He.encode(at[xn],ct,Zt),Zt+=He.encode.bytes;return Zt}function Ln(at,He,ct,Zt){for(let xn=0;xn<at.length;xn++)at[xn]=He.decode(ct,Zt),Zt+=He.decode.bytes;return Zt}},34931:(Je,j,_)=>{"use strict";function y(U){if(!Number.isSafeInteger(U)||U<0)throw new Error(`wrong positive integer: ${U}`)}function b(U){if("boolean"!=typeof U)throw new Error(`boolean expected, not ${U}`)}function H(U,...A){if(!function P(U){return null!=U&&"object"==typeof U&&(U instanceof Uint8Array||"Uint8Array"===U.constructor.name)}(U))throw new Error("Uint8Array expected");if(A.length>0&&!A.includes(U.length))throw new Error(`Uint8Array expected of length ${A}, not of length=${U.length}`)}function O(U,A=!0){if(U.destroyed)throw new Error("Hash instance has been destroyed");if(A&&U.finished)throw new Error("Hash#digest() has already been called")}function S(U,A){H(U);const G=A.outputLen;if(U.length<G)throw new Error(`digestInto() expects output buffer of length at least ${G}`)}_.d(j,{CG:()=>S,ai:()=>y,ee:()=>H,lc:()=>b,t2:()=>O})},94730:(Je,j,_)=>{"use strict";var y=_(25953),b=_(34931);const P=(D,R)=>255&D[R++]|(255&D[R++])<<8;class H{constructor(R){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,R=(0,y.ZJ)(R),(0,y.qj)(R,32);const x=P(R,0),s=P(R,2),v=P(R,4),$=P(R,6),F=P(R,8),Q=P(R,10),de=P(R,12),Ce=P(R,14);this.r[0]=8191&x,this.r[1]=8191&(x>>>13|s<<3),this.r[2]=7939&(s>>>10|v<<6),this.r[3]=8191&(v>>>7|$<<9),this.r[4]=255&($>>>4|F<<12),this.r[5]=F>>>1&8190,this.r[6]=8191&(F>>>14|Q<<2),this.r[7]=8065&(Q>>>11|de<<5),this.r[8]=8191&(de>>>8|Ce<<8),this.r[9]=Ce>>>5&127;for(let Re=0;Re<8;Re++)this.pad[Re]=P(R,16+2*Re)}process(R,x,s=!1){const v=s?0:2048,{h:$,r:F}=this,Q=F[0],de=F[1],Ce=F[2],Re=F[3],Ve=F[4],Ee=F[5],_e=F[6],Fe=F[7],be=F[8],Ae=F[9],ge=P(R,x+0),me=P(R,x+2),te=P(R,x+4),ne=P(R,x+6),ue=P(R,x+8),De=P(R,x+10),Be=P(R,x+12),Qe=P(R,x+14);let ze=$[0]+(8191&ge),Dt=$[1]+(8191&(ge>>>13|me<<3)),Xe=$[2]+(8191&(me>>>10|te<<6)),Ue=$[3]+(8191&(te>>>7|ne<<9)),mt=$[4]+(8191&(ne>>>4|ue<<12)),K=$[5]+(ue>>>1&8191),T=$[6]+(8191&(ue>>>14|De<<2)),M=$[7]+(8191&(De>>>11|Be<<5)),Y=$[8]+(8191&(Be>>>8|Qe<<8)),pe=$[9]+(Qe>>>5|v),ke=0,Ne=ke+ze*Q+Dt*(5*Ae)+Xe*(5*be)+Ue*(5*Fe)+mt*(5*_e);ke=Ne>>>13,Ne&=8191,Ne+=K*(5*Ee)+T*(5*Ve)+M*(5*Re)+Y*(5*Ce)+pe*(5*de),ke+=Ne>>>13,Ne&=8191;let lt=ke+ze*de+Dt*Q+Xe*(5*Ae)+Ue*(5*be)+mt*(5*Fe);ke=lt>>>13,lt&=8191,lt+=K*(5*_e)+T*(5*Ee)+M*(5*Ve)+Y*(5*Re)+pe*(5*Ce),ke+=lt>>>13,lt&=8191;let en=ke+ze*Ce+Dt*de+Xe*Q+Ue*(5*Ae)+mt*(5*be);ke=en>>>13,en&=8191,en+=K*(5*Fe)+T*(5*_e)+M*(5*Ee)+Y*(5*Ve)+pe*(5*Re),ke+=en>>>13,en&=8191;let It=ke+ze*Re+Dt*Ce+Xe*de+Ue*Q+mt*(5*Ae);ke=It>>>13,It&=8191,It+=K*(5*be)+T*(5*Fe)+M*(5*_e)+Y*(5*Ee)+pe*(5*Ve),ke+=It>>>13,It&=8191;let Kt=ke+ze*Ve+Dt*Re+Xe*Ce+Ue*de+mt*Q;ke=Kt>>>13,Kt&=8191,Kt+=K*(5*Ae)+T*(5*be)+M*(5*Fe)+Y*(5*_e)+pe*(5*Ee),ke+=Kt>>>13,Kt&=8191;let rn=ke+ze*Ee+Dt*Ve+Xe*Re+Ue*Ce+mt*de;ke=rn>>>13,rn&=8191,rn+=K*Q+T*(5*Ae)+M*(5*be)+Y*(5*Fe)+pe*(5*_e),ke+=rn>>>13,rn&=8191;let vn=ke+ze*_e+Dt*Ee+Xe*Ve+Ue*Re+mt*Ce;ke=vn>>>13,vn&=8191,vn+=K*de+T*Q+M*(5*Ae)+Y*(5*be)+pe*(5*Fe),ke+=vn>>>13,vn&=8191;let un=ke+ze*Fe+Dt*_e+Xe*Ee+Ue*Ve+mt*Re;ke=un>>>13,un&=8191,un+=K*Ce+T*de+M*Q+Y*(5*Ae)+pe*(5*be),ke+=un>>>13,un&=8191;let sr=ke+ze*be+Dt*Fe+Xe*_e+Ue*Ee+mt*Ve;ke=sr>>>13,sr&=8191,sr+=K*Re+T*Ce+M*de+Y*Q+pe*(5*Ae),ke+=sr>>>13,sr&=8191;let Cn=ke+ze*Ae+Dt*be+Xe*Fe+Ue*_e+mt*Ee;ke=Cn>>>13,Cn&=8191,Cn+=K*Ve+T*Re+M*Ce+Y*de+pe*Q,ke+=Cn>>>13,Cn&=8191,ke=(ke<<2)+ke|0,ke=ke+Ne|0,Ne=8191&ke,ke>>>=13,lt+=ke,$[0]=Ne,$[1]=lt,$[2]=en,$[3]=It,$[4]=Kt,$[5]=rn,$[6]=vn,$[7]=un,$[8]=sr,$[9]=Cn}finalize(){const{h:R,pad:x}=this,s=new Uint16Array(10);let v=R[1]>>>13;R[1]&=8191;for(let Q=2;Q<10;Q++)R[Q]+=v,v=R[Q]>>>13,R[Q]&=8191;R[0]+=5*v,v=R[0]>>>13,R[0]&=8191,R[1]+=v,v=R[1]>>>13,R[1]&=8191,R[2]+=v,s[0]=R[0]+5,v=s[0]>>>13,s[0]&=8191;for(let Q=1;Q<10;Q++)s[Q]=R[Q]+v,v=s[Q]>>>13,s[Q]&=8191;s[9]-=8192;let $=(1^v)-1;for(let Q=0;Q<10;Q++)s[Q]&=$;$=~$;for(let Q=0;Q<10;Q++)R[Q]=R[Q]&$|s[Q];R[0]=65535&(R[0]|R[1]<<13),R[1]=65535&(R[1]>>>3|R[2]<<10),R[2]=65535&(R[2]>>>6|R[3]<<7),R[3]=65535&(R[3]>>>9|R[4]<<4),R[4]=65535&(R[4]>>>12|R[5]<<1|R[6]<<14),R[5]=65535&(R[6]>>>2|R[7]<<11),R[6]=65535&(R[7]>>>5|R[8]<<8),R[7]=65535&(R[8]>>>8|R[9]<<5);let F=R[0]+x[0];R[0]=65535&F;for(let Q=1;Q<8;Q++)F=(R[Q]+x[Q]|0)+(F>>>16)|0,R[Q]=65535&F}update(R){(0,b.t2)(this);const{buffer:x,blockLen:s}=this,v=(R=(0,y.ZJ)(R)).length;for(let $=0;$<v;){const F=Math.min(s-this.pos,v-$);if(F!==s)x.set(R.subarray($,$+F),this.pos),this.pos+=F,$+=F,this.pos===s&&(this.process(x,0,!1),this.pos=0);else for(;s<=v-$;$+=s)this.process(R,$)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(R){(0,b.t2)(this),(0,b.CG)(R,this),this.finished=!0;const{buffer:x,h:s}=this;let{pos:v}=this;if(v){for(x[v++]=1;v<16;v++)x[v]=0;this.process(x,0,!0)}this.finalize();let $=0;for(let F=0;F<8;F++)R[$++]=s[F]>>>0,R[$++]=s[F]>>>8;return R}digest(){const{buffer:R,outputLen:x}=this;this.digestInto(R);const s=R.slice(0,x);return this.destroy(),s}}const O=function w(D){const R=(s,v)=>D(v).update((0,y.ZJ)(s)).digest(),x=D(new Uint8Array(32));return R.outputLen=x.outputLen,R.blockLen=x.blockLen,R.create=s=>D(s),R}(D=>new H(D)),S=(0,y.AI)("expand 16-byte k"),B=(0,y.AI)("expand 32-byte k"),N=(0,y.DH)(S),U=(0,y.DH)(B);function A(D,R){return D<<R|D>>>32-R}function G(D){return D.byteOffset%4==0}const ee=2**32-1,q=new Uint32Array;function J(D,R){const{allowShortKeys:x,extendNonceFn:s,counterLength:v,counterRight:$,rounds:F}=(0,y.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},R);if("function"!=typeof D)throw new Error("core must be a function");return(0,b.ai)(v),(0,b.ai)(F),(0,b.lc)($),(0,b.lc)(x),(Q,de,Ce,Re,Ve=0)=>{(0,b.ee)(Q),(0,b.ee)(de),(0,b.ee)(Ce);const Ee=Ce.length;if(Re||(Re=new Uint8Array(Ee)),(0,b.ee)(Re),(0,b.ai)(Ve),Ve<0||Ve>=ee)throw new Error("arx: counter overflow");if(Re.length<Ee)throw new Error(`arx: output (${Re.length}) is shorter than data (${Ee})`);const _e=[];let be,Ae,Fe=Q.length;if(32===Fe)be=Q.slice(),_e.push(be),Ae=U;else{if(16!==Fe||!x)throw new Error(`arx: invalid 32-byte key, got length=${Fe}`);be=new Uint8Array(32),be.set(Q),be.set(Q,16),Ae=N,_e.push(be)}G(de)||(de=de.slice(),_e.push(de));const ge=(0,y.DH)(be);if(s){if(24!==de.length)throw new Error("arx: extended nonce must be 24 bytes");s(Ae,ge,(0,y.DH)(de.subarray(0,16)),ge),de=de.subarray(16)}const me=16-v;if(me!==de.length)throw new Error(`arx: nonce must be ${me} or 16 bytes`);if(12!==me){const ne=new Uint8Array(12);ne.set(de,$?0:12-de.length),_e.push(de=ne)}const te=(0,y.DH)(de);for(function Z(D,R,x,s,v,$,F,Q){const de=v.length,Ce=new Uint8Array(64),Re=(0,y.DH)(Ce),Ve=G(v)&&G($),Ee=Ve?(0,y.DH)(v):q,_e=Ve?(0,y.DH)($):q;for(let Fe=0;Fe<de;F++){if(D(R,x,s,Re,F,Q),F>=ee)throw new Error("arx: counter overflow");const be=Math.min(64,de-Fe);if(Ve&&64===be){const Ae=Fe/4;if(Fe%4!=0)throw new Error("arx: invalid block position");for(let me,ge=0;ge<16;ge++)me=Ae+ge,_e[me]=Ee[me]^Re[ge];Fe+=64}else{for(let ge,Ae=0;Ae<be;Ae++)ge=Fe+Ae,$[ge]=v[ge]^Ce[Ae];Fe+=be}}}(D,Ae,ge,te,Ce,Re,Ve,F);_e.length>0;)_e.pop().fill(0);return Re}}function se(D,R,x,s,v,$=20){let F=D[0],Q=D[1],de=D[2],Ce=D[3],Re=R[0],Ve=R[1],Ee=R[2],_e=R[3],Fe=R[4],be=R[5],Ae=R[6],ge=R[7],me=v,te=x[0],ne=x[1],ue=x[2],De=F,Be=Q,Qe=de,ze=Ce,Dt=Re,Xe=Ve,Ue=Ee,mt=_e,K=Fe,T=be,M=Ae,Y=ge,pe=me,ke=te,Ne=ne,lt=ue;for(let It=0;It<$;It+=2)De=De+Dt|0,pe=A(pe^De,16),K=K+pe|0,Dt=A(Dt^K,12),De=De+Dt|0,pe=A(pe^De,8),K=K+pe|0,Dt=A(Dt^K,7),Be=Be+Xe|0,ke=A(ke^Be,16),T=T+ke|0,Xe=A(Xe^T,12),Be=Be+Xe|0,ke=A(ke^Be,8),T=T+ke|0,Xe=A(Xe^T,7),Qe=Qe+Ue|0,Ne=A(Ne^Qe,16),M=M+Ne|0,Ue=A(Ue^M,12),Qe=Qe+Ue|0,Ne=A(Ne^Qe,8),M=M+Ne|0,Ue=A(Ue^M,7),ze=ze+mt|0,lt=A(lt^ze,16),Y=Y+lt|0,mt=A(mt^Y,12),ze=ze+mt|0,lt=A(lt^ze,8),Y=Y+lt|0,mt=A(mt^Y,7),De=De+Xe|0,lt=A(lt^De,16),M=M+lt|0,Xe=A(Xe^M,12),De=De+Xe|0,lt=A(lt^De,8),M=M+lt|0,Xe=A(Xe^M,7),Be=Be+Ue|0,pe=A(pe^Be,16),Y=Y+pe|0,Ue=A(Ue^Y,12),Be=Be+Ue|0,pe=A(pe^Be,8),Y=Y+pe|0,Ue=A(Ue^Y,7),Qe=Qe+mt|0,ke=A(ke^Qe,16),K=K+ke|0,mt=A(mt^K,12),Qe=Qe+mt|0,ke=A(ke^Qe,8),K=K+ke|0,mt=A(mt^K,7),ze=ze+Dt|0,Ne=A(Ne^ze,16),T=T+Ne|0,Dt=A(Dt^T,12),ze=ze+Dt|0,Ne=A(Ne^ze,8),T=T+Ne|0,Dt=A(Dt^T,7);let en=0;s[en++]=F+De|0,s[en++]=Q+Be|0,s[en++]=de+Qe|0,s[en++]=Ce+ze|0,s[en++]=Re+Dt|0,s[en++]=Ve+Xe|0,s[en++]=Ee+Ue|0,s[en++]=_e+mt|0,s[en++]=Fe+K|0,s[en++]=be+T|0,s[en++]=Ae+M|0,s[en++]=ge+Y|0,s[en++]=me+pe|0,s[en++]=te+ke|0,s[en++]=ne+Ne|0,s[en++]=ue+lt|0}const fe=J(se,{counterRight:!1,counterLength:4,allowShortKeys:!1}),he=J(se,{counterRight:!1,counterLength:8,extendNonceFn:function ce(D,R,x,s){let v=D[0],$=D[1],F=D[2],Q=D[3],de=R[0],Ce=R[1],Re=R[2],Ve=R[3],Ee=R[4],_e=R[5],Fe=R[6],be=R[7],Ae=x[0],ge=x[1],me=x[2],te=x[3];for(let ue=0;ue<20;ue+=2)v=v+de|0,Ae=A(Ae^v,16),Ee=Ee+Ae|0,de=A(de^Ee,12),v=v+de|0,Ae=A(Ae^v,8),Ee=Ee+Ae|0,de=A(de^Ee,7),$=$+Ce|0,ge=A(ge^$,16),_e=_e+ge|0,Ce=A(Ce^_e,12),$=$+Ce|0,ge=A(ge^$,8),_e=_e+ge|0,Ce=A(Ce^_e,7),F=F+Re|0,me=A(me^F,16),Fe=Fe+me|0,Re=A(Re^Fe,12),F=F+Re|0,me=A(me^F,8),Fe=Fe+me|0,Re=A(Re^Fe,7),Q=Q+Ve|0,te=A(te^Q,16),be=be+te|0,Ve=A(Ve^be,12),Q=Q+Ve|0,te=A(te^Q,8),be=be+te|0,Ve=A(Ve^be,7),v=v+Ce|0,te=A(te^v,16),Fe=Fe+te|0,Ce=A(Ce^Fe,12),v=v+Ce|0,te=A(te^v,8),Fe=Fe+te|0,Ce=A(Ce^Fe,7),$=$+Re|0,Ae=A(Ae^$,16),be=be+Ae|0,Re=A(Re^be,12),$=$+Re|0,Ae=A(Ae^$,8),be=be+Ae|0,Re=A(Re^be,7),F=F+Ve|0,ge=A(ge^F,16),Ee=Ee+ge|0,Ve=A(Ve^Ee,12),F=F+Ve|0,ge=A(ge^F,8),Ee=Ee+ge|0,Ve=A(Ve^Ee,7),Q=Q+de|0,me=A(me^Q,16),_e=_e+me|0,de=A(de^_e,12),Q=Q+de|0,me=A(me^Q,8),_e=_e+me|0,de=A(de^_e,7);let ne=0;s[ne++]=v,s[ne++]=$,s[ne++]=F,s[ne++]=Q,s[ne++]=Ae,s[ne++]=ge,s[ne++]=me,s[ne++]=te},allowShortKeys:!1}),Pe=new Uint8Array(16),C=(D,R)=>{D.update(R);const x=R.length%16;x&&D.update(Pe.subarray(x))},a=new Uint8Array(32);function d(D,R,x,s,v){const $=D(R,x,a),F=O.create($);v&&C(F,v),C(F,s);const Q=new Uint8Array(16),de=(0,y.O8)(Q);(0,y.zp)(de,0,BigInt(v?v.length:0),!0),(0,y.zp)(de,8,BigInt(s.length),!0),F.update(Q);const Ce=F.digest();return $.fill(0),Ce}const m=D=>(R,x,s)=>((0,y.qj)(R,32),(0,y.qj)(x),{encrypt:($,F)=>{const Q=$.length,de=Q+16;F?(0,y.qj)(F,de):F=new Uint8Array(de),D(R,x,$,F,1);const Ce=d(D,R,x,F.subarray(0,-16),s);return F.set(Ce,Q),F},decrypt:($,F)=>{const Q=$.length,de=Q-16;if(Q<16)throw new Error("encrypted data must be at least 16 bytes");F?(0,y.qj)(F,de):F=new Uint8Array(de);const Ce=$.subarray(0,-16),Re=$.subarray(-16),Ve=d(D,R,x,Ce,s);if(!(0,y.ex)(Re,Ve))throw new Error("invalid tag");return D(R,x,Ce,F,1),F}});m(fe),m(he)},25953:(Je,j,_)=>{"use strict";_.d(j,{AI:()=>J,DH:()=>P,O8:()=>w,ZJ:()=>ce,ex:()=>Me,qj:()=>we,qn:()=>C,tY:()=>he,zp:()=>a});const P=m=>new Uint32Array(m.buffer,m.byteOffset,Math.floor(m.byteLength/4));function H(m){return m instanceof Uint8Array||null!=m&&"object"==typeof m&&"Uint8Array"===m.constructor.name}const w=m=>new DataView(m.buffer,m.byteOffset,m.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function J(m){if("string"!=typeof m)throw new Error("utf8ToBytes expected string, got "+typeof m);return new Uint8Array((new TextEncoder).encode(m))}function ce(m){if("string"==typeof m)m=J(m);else{if(!H(m))throw new Error("expected Uint8Array, got "+typeof m);m=m.slice()}return m}const fe=m=>"[object Object]"===Object.prototype.toString.call(m)&&m.constructor===Object;function he(m,p){if(void 0!==p&&("object"!=typeof p||!fe(p)))throw new Error("options must be object or undefined");return Object.assign(m,p)}function we(m,p){if(!H(m))throw new Error("Uint8Array expected");if("number"==typeof p&&m.length!==p)throw new Error(`Uint8Array length ${p} expected`)}function Me(m,p){if(m.length!==p.length)return!1;let E=0;for(let D=0;D<m.length;D++)E|=m[D]^p[D];return 0===E}const C=(m,p)=>(Object.assign(p,m),p);function a(m,p,E,D){if("function"==typeof m.setBigUint64)return m.setBigUint64(p,E,D);const R=BigInt(32),x=BigInt(4294967295),s=Number(E>>R&x),v=Number(E&x),F=D?0:4;m.setUint32(p+(D?4:0),s,D),m.setUint32(p+F,v,D)}},91879:(Je,j,_)=>{"use strict";_.d(j,{NZ:()=>w});const y="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function w(){if(y&&"object"==typeof y.subtle&&null!=y.subtle)return y.subtle;throw new Error("crypto.subtle must be defined")}_(25953),_(34931)},2716:(Je,j,_)=>{"use strict";_.d(j,{s:()=>ae});var y=_(75781),b=_(62953),P=_(35765),H=_(91006),w=_(7184);const{Ph:S,aT:B}=H,N={Err:class extends Error{constructor(he=""){super(he)}},_parseInt(fe){const{Err:he}=N;if(fe.length<2||2!==fe[0])throw new he("Invalid signature integer tag");const we=fe[1],Me=fe.subarray(2,we+2);if(!we||Me.length!==we)throw new he("Invalid signature integer: wrong length");if(128&Me[0])throw new he("Invalid signature integer: negative");if(0===Me[0]&&!(128&Me[1]))throw new he("Invalid signature integer: unnecessary leading zero");return{d:S(Me),l:fe.subarray(we+2)}},toSig(fe){const{Err:he}=N,we="string"==typeof fe?B(fe):fe;if(!H.aY(we))throw new Error("ui8a expected");let Me=we.length;if(Me<2||48!=we[0])throw new he("Invalid signature tag");if(we[1]!==Me-2)throw new he("Invalid signature: incorrect length");const{d:Pe,l:C}=N._parseInt(we.subarray(2)),{d:a,l:d}=N._parseInt(C);if(d.length)throw new he("Invalid signature: left bytes after parsing");return{r:Pe,s:a}},hexFromSig(fe){const he=p=>8&Number.parseInt(p[0],16)?"00"+p:p,we=p=>{const E=p.toString(16);return 1&E.length?`0${E}`:E},Me=he(we(fe.s)),Pe=he(we(fe.r)),C=Me.length/2,a=Pe.length/2,d=we(C),m=we(a);return`30${we(a+C+4)}02${m}${Pe}02${d}${Me}`}},U=BigInt(0),A=BigInt(1),L=(BigInt(2),BigInt(3));function Z(fe){const he=function q(fe){const he=(0,w.h)(fe);return H.Q5(he,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...he})}(fe),{Fp:we,n:Me}=he,Pe=we.BYTES+1,C=2*we.BYTES+1;function d(ne){return P.zi(ne,Me)}function m(ne){return P.B8(ne,Me)}const{ProjectivePoint:p,normPrivateKeyToScalar:E,weierstrassEquation:D,isWithinCurveOrder:R}=function ee(fe){const he=function O(fe){const he=(0,w.h)(fe);H.Q5(he,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:we,Fp:Me,a:Pe}=he;if(we){if(!Me.eql(Pe,Me.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof we||"bigint"!=typeof we.beta||"function"!=typeof we.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...he})}(fe),{Fp:we}=he,Me=he.toBytes||((s,v,$)=>{const F=v.toAffine();return H.Id(Uint8Array.from([4]),we.toBytes(F.x),we.toBytes(F.y))}),Pe=he.fromBytes||(s=>{const v=s.subarray(1);return{x:we.fromBytes(v.subarray(0,we.BYTES)),y:we.fromBytes(v.subarray(we.BYTES,2*we.BYTES))}});function C(s){const{a:v,b:$}=he,F=we.sqr(s),Q=we.mul(F,s);return we.add(we.add(Q,we.mul(s,v)),$)}if(!we.eql(we.sqr(he.Gy),C(he.Gx)))throw new Error("bad generator point: equation left != right");function a(s){return"bigint"==typeof s&&U<s&&s<he.n}function d(s){if(!a(s))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(s){const{allowedPrivateKeyLengths:v,nByteLength:$,wrapPrivateKey:F,n:Q}=he;if(v&&"bigint"!=typeof s){if(H.aY(s)&&(s=H.My(s)),"string"!=typeof s||!v.includes(s.length))throw new Error("Invalid key");s=s.padStart(2*$,"0")}let de;try{de="bigint"==typeof s?s:H.Ph((0,H.qj)("private key",s,$))}catch{throw new Error(`private key must be ${$} bytes, hex or bigint, not ${typeof s}`)}return F&&(de=P.zi(de,Q)),d(de),de}const p=new Map;function E(s){if(!(s instanceof D))throw new Error("ProjectivePoint expected")}class D{constructor(v,$,F){if(this.px=v,this.py=$,this.pz=F,null==v||!we.isValid(v))throw new Error("x required");if(null==$||!we.isValid($))throw new Error("y required");if(null==F||!we.isValid(F))throw new Error("z required")}static fromAffine(v){const{x:$,y:F}=v||{};if(!v||!we.isValid($)||!we.isValid(F))throw new Error("invalid affine point");if(v instanceof D)throw new Error("projective point not allowed");const Q=de=>we.eql(de,we.ZERO);return Q($)&&Q(F)?D.ZERO:new D($,F,we.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const $=we.invertBatch(v.map(F=>F.pz));return v.map((F,Q)=>F.toAffine($[Q])).map(D.fromAffine)}static fromHex(v){const $=D.fromAffine(Pe((0,H.qj)("pointHex",v)));return $.assertValidity(),$}static fromPrivateKey(v){return D.BASE.multiply(m(v))}_setWindowSize(v){this._WINDOW_SIZE=v,p.delete(this)}assertValidity(){if(this.is0()){if(he.allowInfinityPoint&&!we.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:$}=this.toAffine();if(!we.isValid(v)||!we.isValid($))throw new Error("bad point: x or y not FE");const F=we.sqr($),Q=C(v);if(!we.eql(F,Q))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(we.isOdd)return!we.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){E(v);const{px:$,py:F,pz:Q}=this,{px:de,py:Ce,pz:Re}=v,Ve=we.eql(we.mul($,Re),we.mul(de,Q)),Ee=we.eql(we.mul(F,Re),we.mul(Ce,Q));return Ve&&Ee}negate(){return new D(this.px,we.neg(this.py),this.pz)}double(){const{a:v,b:$}=he,F=we.mul($,L),{px:Q,py:de,pz:Ce}=this;let Re=we.ZERO,Ve=we.ZERO,Ee=we.ZERO,_e=we.mul(Q,Q),Fe=we.mul(de,de),be=we.mul(Ce,Ce),Ae=we.mul(Q,de);return Ae=we.add(Ae,Ae),Ee=we.mul(Q,Ce),Ee=we.add(Ee,Ee),Re=we.mul(v,Ee),Ve=we.mul(F,be),Ve=we.add(Re,Ve),Re=we.sub(Fe,Ve),Ve=we.add(Fe,Ve),Ve=we.mul(Re,Ve),Re=we.mul(Ae,Re),Ee=we.mul(F,Ee),be=we.mul(v,be),Ae=we.sub(_e,be),Ae=we.mul(v,Ae),Ae=we.add(Ae,Ee),Ee=we.add(_e,_e),_e=we.add(Ee,_e),_e=we.add(_e,be),_e=we.mul(_e,Ae),Ve=we.add(Ve,_e),be=we.mul(de,Ce),be=we.add(be,be),_e=we.mul(be,Ae),Re=we.sub(Re,_e),Ee=we.mul(be,Fe),Ee=we.add(Ee,Ee),Ee=we.add(Ee,Ee),new D(Re,Ve,Ee)}add(v){E(v);const{px:$,py:F,pz:Q}=this,{px:de,py:Ce,pz:Re}=v;let Ve=we.ZERO,Ee=we.ZERO,_e=we.ZERO;const Fe=he.a,be=we.mul(he.b,L);let Ae=we.mul($,de),ge=we.mul(F,Ce),me=we.mul(Q,Re),te=we.add($,F),ne=we.add(de,Ce);te=we.mul(te,ne),ne=we.add(Ae,ge),te=we.sub(te,ne),ne=we.add($,Q);let ue=we.add(de,Re);return ne=we.mul(ne,ue),ue=we.add(Ae,me),ne=we.sub(ne,ue),ue=we.add(F,Q),Ve=we.add(Ce,Re),ue=we.mul(ue,Ve),Ve=we.add(ge,me),ue=we.sub(ue,Ve),_e=we.mul(Fe,ne),Ve=we.mul(be,me),_e=we.add(Ve,_e),Ve=we.sub(ge,_e),_e=we.add(ge,_e),Ee=we.mul(Ve,_e),ge=we.add(Ae,Ae),ge=we.add(ge,Ae),me=we.mul(Fe,me),ne=we.mul(be,ne),ge=we.add(ge,me),me=we.sub(Ae,me),me=we.mul(Fe,me),ne=we.add(ne,me),Ae=we.mul(ge,ne),Ee=we.add(Ee,Ae),Ae=we.mul(ue,ne),Ve=we.mul(te,Ve),Ve=we.sub(Ve,Ae),Ae=we.mul(te,ge),_e=we.mul(ue,_e),_e=we.add(_e,Ae),new D(Ve,Ee,_e)}subtract(v){return this.add(v.negate())}is0(){return this.equals(D.ZERO)}wNAF(v){return x.wNAFCached(this,p,v,$=>{const F=we.invertBatch($.map(Q=>Q.pz));return $.map((Q,de)=>Q.toAffine(F[de])).map(D.fromAffine)})}multiplyUnsafe(v){const $=D.ZERO;if(v===U)return $;if(d(v),v===A)return this;const{endo:F}=he;if(!F)return x.unsafeLadder(this,v);let{k1neg:Q,k1:de,k2neg:Ce,k2:Re}=F.splitScalar(v),Ve=$,Ee=$,_e=this;for(;de>U||Re>U;)de&A&&(Ve=Ve.add(_e)),Re&A&&(Ee=Ee.add(_e)),_e=_e.double(),de>>=A,Re>>=A;return Q&&(Ve=Ve.negate()),Ce&&(Ee=Ee.negate()),Ee=new D(we.mul(Ee.px,F.beta),Ee.py,Ee.pz),Ve.add(Ee)}multiply(v){d(v);let F,Q,$=v;const{endo:de}=he;if(de){const{k1neg:Ce,k1:Re,k2neg:Ve,k2:Ee}=de.splitScalar($);let{p:_e,f:Fe}=this.wNAF(Re),{p:be,f:Ae}=this.wNAF(Ee);_e=x.constTimeNegate(Ce,_e),be=x.constTimeNegate(Ve,be),be=new D(we.mul(be.px,de.beta),be.py,be.pz),F=_e.add(be),Q=Fe.add(Ae)}else{const{p:Ce,f:Re}=this.wNAF($);F=Ce,Q=Re}return D.normalizeZ([F,Q])[0]}multiplyAndAddUnsafe(v,$,F){const Q=D.BASE,de=(Re,Ve)=>Ve!==U&&Ve!==A&&Re.equals(Q)?Re.multiply(Ve):Re.multiplyUnsafe(Ve),Ce=de(this,$).add(de(v,F));return Ce.is0()?void 0:Ce}toAffine(v){const{px:$,py:F,pz:Q}=this,de=this.is0();null==v&&(v=de?we.ONE:we.inv(Q));const Ce=we.mul($,v),Re=we.mul(F,v),Ve=we.mul(Q,v);if(de)return{x:we.ZERO,y:we.ZERO};if(!we.eql(Ve,we.ONE))throw new Error("invZ was invalid");return{x:Ce,y:Re}}isTorsionFree(){const{h:v,isTorsionFree:$}=he;if(v===A)return!0;if($)return $(D,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:$}=he;return v===A?this:$?$(D,this):this.multiplyUnsafe(he.h)}toRawBytes(v=!0){return this.assertValidity(),Me(D,this,v)}toHex(v=!0){return H.My(this.toRawBytes(v))}}D.BASE=new D(he.Gx,he.Gy,we.ONE),D.ZERO=new D(we.ZERO,we.ONE,we.ZERO);const R=he.nBitLength,x=(0,w.A)(D,he.endo?Math.ceil(R/2):R);return{CURVE:he,ProjectivePoint:D,normPrivateKeyToScalar:m,weierstrassEquation:C,isWithinCurveOrder:a}}({...he,toBytes(ne,ue,De){const Be=ue.toAffine(),Qe=we.toBytes(Be.x),ze=H.Id;return De?ze(Uint8Array.from([ue.hasEvenY()?2:3]),Qe):ze(Uint8Array.from([4]),Qe,we.toBytes(Be.y))},fromBytes(ne){const ue=ne.length,De=ne[0],Be=ne.subarray(1);if(ue!==Pe||2!==De&&3!==De){if(ue===C&&4===De)return{x:we.fromBytes(Be.subarray(0,we.BYTES)),y:we.fromBytes(Be.subarray(we.BYTES,2*we.BYTES))};throw new Error(`Point of length ${ue} was invalid. Expected ${Pe} compressed bytes or ${C} uncompressed bytes`)}{const Qe=H.Ph(Be);if(!function a(ne){return U<ne&&ne<we.ORDER}(Qe))throw new Error("Point is not on curve");const ze=D(Qe);let Dt=we.sqrt(ze);return!(1&~De)!=((Dt&A)===A)&&(Dt=we.neg(Dt)),{x:Qe,y:Dt}}}}),x=ne=>H.My(H.lq(ne,he.nByteLength));function s(ne){return ne>Me>>A}const $=(ne,ue,De)=>H.Ph(ne.slice(ue,De));class F{constructor(ue,De,Be){this.r=ue,this.s=De,this.recovery=Be,this.assertValidity()}static fromCompact(ue){const De=he.nByteLength;return ue=(0,H.qj)("compactSignature",ue,2*De),new F($(ue,0,De),$(ue,De,2*De))}static fromDER(ue){const{r:De,s:Be}=N.toSig((0,H.qj)("DER",ue));return new F(De,Be)}assertValidity(){if(!R(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!R(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ue){return new F(this.r,this.s,ue)}recoverPublicKey(ue){const{r:De,s:Be,recovery:Qe}=this,ze=Ee((0,H.qj)("msgHash",ue));if(null==Qe||![0,1,2,3].includes(Qe))throw new Error("recovery id invalid");const Dt=2===Qe||3===Qe?De+he.n:De;if(Dt>=we.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ue=p.fromHex((1&Qe?"03":"02")+x(Dt)),mt=m(Dt),K=d(-ze*mt),T=d(Be*mt),M=p.BASE.multiplyAndAddUnsafe(Ue,K,T);if(!M)throw new Error("point at infinify");return M.assertValidity(),M}hasHighS(){return s(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return H.aT(this.toDERHex())}toDERHex(){return N.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return H.aT(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const Q={isValidPrivateKey(ne){try{return E(ne),!0}catch{return!1}},normPrivateKeyToScalar:E,randomPrivateKey:()=>{const ne=P.Tp(he.n);return P.qy(he.randomBytes(ne),he.n)},precompute:(ne=8,ue=p.BASE)=>(ue._setWindowSize(ne),ue.multiply(BigInt(3)),ue)};function Ce(ne){const ue=H.aY(ne),De="string"==typeof ne,Be=(ue||De)&&ne.length;return ue?Be===Pe||Be===C:De?Be===2*Pe||Be===2*C:ne instanceof p}const Ve=he.bits2int||function(ne){const ue=H.Ph(ne),De=8*ne.length-he.nBitLength;return De>0?ue>>BigInt(De):ue},Ee=he.bits2int_modN||function(ne){return d(Ve(ne))},_e=H.OG(he.nBitLength);function Fe(ne){if("bigint"!=typeof ne)throw new Error("bigint expected");if(!(U<=ne&&ne<_e))throw new Error(`bigint expected < 2^${he.nBitLength}`);return H.lq(ne,he.nByteLength)}const Ae={lowS:he.lowS,prehash:!1},ge={lowS:he.lowS,prehash:!1};return p.BASE._setWindowSize(8),{CURVE:he,getPublicKey:function de(ne,ue=!0){return p.fromPrivateKey(ne).toRawBytes(ue)},getSharedSecret:function Re(ne,ue,De=!0){if(Ce(ne))throw new Error("first arg must be private key");if(!Ce(ue))throw new Error("second arg must be public key");return p.fromHex(ue).multiply(E(ne)).toRawBytes(De)},sign:function me(ne,ue,De=Ae){const{seed:Be,k2sig:Qe}=function be(ne,ue,De=Ae){if(["recovered","canonical"].some(pe=>pe in De))throw new Error("sign() legacy options not supported");const{hash:Be,randomBytes:Qe}=he;let{lowS:ze,prehash:Dt,extraEntropy:Xe}=De;null==ze&&(ze=!0),ne=(0,H.qj)("msgHash",ne),Dt&&(ne=(0,H.qj)("prehashed msgHash",Be(ne)));const Ue=Ee(ne),mt=E(ue),K=[Fe(mt),Fe(Ue)];if(null!=Xe){const pe=!0===Xe?Qe(we.BYTES):Xe;K.push((0,H.qj)("extraEntropy",pe))}const T=H.Id(...K),M=Ue;return{seed:T,k2sig:function Y(pe){const ke=Ve(pe);if(!R(ke))return;const Ne=m(ke),lt=p.BASE.multiply(ke).toAffine(),en=d(lt.x);if(en===U)return;const It=d(Ne*d(M+en*mt));if(It===U)return;let Kt=(lt.x===en?0:2)|Number(lt.y&A),rn=It;return ze&&s(It)&&(rn=function v(ne){return s(ne)?d(-ne):ne}(It),Kt^=1),new F(en,rn,Kt)}}}(ne,ue,De);return H.fg(he.hash.outputLen,he.nByteLength,he.hmac)(Be,Qe)},verify:function te(ne,ue,De,Be=ge){const Qe=ne;if(ue=(0,H.qj)("msgHash",ue),De=(0,H.qj)("publicKey",De),"strict"in Be)throw new Error("options.strict was renamed to lowS");const{lowS:ze,prehash:Dt}=Be;let Xe,Ue;try{if("string"==typeof Qe||H.aY(Qe))try{Xe=F.fromDER(Qe)}catch(lt){if(!(lt instanceof N.Err))throw lt;Xe=F.fromCompact(Qe)}else{if("object"!=typeof Qe||"bigint"!=typeof Qe.r||"bigint"!=typeof Qe.s)throw new Error("PARSE");{const{r:lt,s:en}=Qe;Xe=new F(lt,en)}}Ue=p.fromHex(De)}catch(lt){if("PARSE"===lt.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ze&&Xe.hasHighS())return!1;Dt&&(ue=he.hash(ue));const{r:mt,s:K}=Xe,T=Ee(ue),M=m(K),Y=d(T*M),pe=d(mt*M),ke=p.BASE.multiplyAndAddUnsafe(Ue,Y,pe)?.toAffine();return!!ke&&d(ke.x)===mt},ProjectivePoint:p,Signature:F,utils:Q}}function ce(fe){return{hash:fe,hmac:(he,...we)=>(0,y.w)(fe,he,(0,b.Id)(...we)),randomBytes:b.po}}function ae(fe,he){const we=Me=>Z({...fe,...ce(Me)});return Object.freeze({...we(he),create:we})}BigInt(4)},7184:(Je,j,_)=>{"use strict";_.d(j,{A:()=>w,h:()=>O});var y=_(35765),b=_(91006);const P=BigInt(0),H=BigInt(1);function w(S,B){const N=(A,G)=>{const L=G.negate();return A?L:G},U=A=>({windows:Math.ceil(B/A)+1,windowSize:2**(A-1)});return{constTimeNegate:N,unsafeLadder(A,G){let L=S.ZERO,z=A;for(;G>P;)G&H&&(L=L.add(z)),z=z.double(),G>>=H;return L},precomputeWindow(A,G){const{windows:L,windowSize:z}=U(G),ee=[];let q=A,Z=q;for(let J=0;J<L;J++){Z=q,ee.push(Z);for(let se=1;se<z;se++)Z=Z.add(q),ee.push(Z);q=Z.double()}return ee},wNAF(A,G,L){const{windows:z,windowSize:ee}=U(A);let q=S.ZERO,Z=S.BASE;const J=BigInt(2**A-1),se=2**A,ce=BigInt(A);for(let ae=0;ae<z;ae++){const fe=ae*ee;let he=Number(L&J);L>>=ce,he>ee&&(he-=se,L+=H);const we=fe,Me=fe+Math.abs(he)-1,C=he<0;0===he?Z=Z.add(N(ae%2!=0,G[we])):q=q.add(N(C,G[Me]))}return{p:q,f:Z}},wNAFCached(A,G,L,z){const ee=A._WINDOW_SIZE||1;let q=G.get(A);return q||(q=this.precomputeWindow(A,ee),1!==ee&&G.set(A,z(q))),this.wNAF(ee,q,L)}}}function O(S){return(0,y.jr)(S.Fp),(0,b.Q5)(S,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,y.LH)(S.n,S.nBitLength),...S,p:S.Fp.ORDER})}},35765:(Je,j,_)=>{"use strict";_.d(j,{B8:()=>z,D0:()=>Me,LH:()=>we,Tp:()=>m,Tv:()=>C,dQ:()=>Z,jr:()=>se,n7:()=>G,qy:()=>p,zH:()=>L,zi:()=>A});var y=_(91006);const b=BigInt(0),P=BigInt(1),H=BigInt(2),w=BigInt(3),O=BigInt(4),S=BigInt(5),B=BigInt(8);function A(E,D){const R=E%D;return R>=b?R:D+R}function G(E,D,R){if(R<=b||D<b)throw new Error("Expected power/modulo > 0");if(R===P)return b;let x=P;for(;D>b;)D&P&&(x=x*E%R),E=E*E%R,D>>=P;return x}function L(E,D,R){let x=E;for(;D-- >b;)x*=x,x%=R;return x}function z(E,D){if(E===b||D<=b)throw new Error(`invert: expected positive integers, got n=${E} mod=${D}`);let R=A(E,D),x=D,s=b,v=P,$=P,F=b;for(;R!==b;){const de=x/R,Ce=x%R,Re=s-$*de,Ve=v-F*de;x=R,R=Ce,s=$,v=F,$=Re,F=Ve}if(x!==P)throw new Error("invert: does not exist");return A(s,D)}BigInt(9),BigInt(16);const Z=(E,D)=>(A(E,D)&P)===P,J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function se(E){const R=J.reduce((x,s)=>(x[s]="function",x),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,y.Q5)(E,R)}function we(E,D){const R=void 0!==D?D:E.toString(2).length;return{nBitLength:R,nByteLength:Math.ceil(R/8)}}function Me(E,D,R=!1,x={}){if(E<=b)throw new Error(`Expected Field ORDER > 0, got ${E}`);const{nBitLength:s,nByteLength:v}=we(E,D);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const $=function q(E){if(E%O===w){const D=(E+P)/O;return function(x,s){const v=x.pow(s,D);if(!x.eql(x.sqr(v),s))throw new Error("Cannot find square root");return v}}if(E%B===S){const D=(E-S)/B;return function(x,s){const v=x.mul(s,H),$=x.pow(v,D),F=x.mul(s,$),Q=x.mul(x.mul(F,H),$),de=x.mul(F,x.sub(Q,x.ONE));if(!x.eql(x.sqr(de),s))throw new Error("Cannot find square root");return de}}return function ee(E){const D=(E-P)/H;let R,x,s;for(R=E-P,x=0;R%H===b;R/=H,x++);for(s=H;s<E&&G(s,D,E)!==E-P;s++);if(1===x){const $=(E+P)/O;return function(Q,de){const Ce=Q.pow(de,$);if(!Q.eql(Q.sqr(Ce),de))throw new Error("Cannot find square root");return Ce}}const v=(R+P)/H;return function(F,Q){if(F.pow(Q,D)===F.neg(F.ONE))throw new Error("Cannot find square root");let de=x,Ce=F.pow(F.mul(F.ONE,s),R),Re=F.pow(Q,v),Ve=F.pow(Q,R);for(;!F.eql(Ve,F.ONE);){if(F.eql(Ve,F.ZERO))return F.ZERO;let Ee=1;for(let Fe=F.sqr(Ve);Ee<de&&!F.eql(Fe,F.ONE);Ee++)Fe=F.sqr(Fe);const _e=F.pow(Ce,P<<BigInt(de-Ee-1));Ce=F.sqr(_e),Re=F.mul(Re,_e),Ve=F.mul(Ve,Ce),de=Ee}return Re}}(E)}(E),F=Object.freeze({ORDER:E,BITS:s,BYTES:v,MASK:(0,y.OG)(s),ZERO:b,ONE:P,create:Q=>A(Q,E),isValid:Q=>{if("bigint"!=typeof Q)throw new Error("Invalid field element: expected bigint, got "+typeof Q);return b<=Q&&Q<E},is0:Q=>Q===b,isOdd:Q=>(Q&P)===P,neg:Q=>A(-Q,E),eql:(Q,de)=>Q===de,sqr:Q=>A(Q*Q,E),add:(Q,de)=>A(Q+de,E),sub:(Q,de)=>A(Q-de,E),mul:(Q,de)=>A(Q*de,E),pow:(Q,de)=>function ce(E,D,R){if(R<b)throw new Error("Expected power > 0");if(R===b)return E.ONE;if(R===P)return D;let x=E.ONE,s=D;for(;R>b;)R&P&&(x=E.mul(x,s)),s=E.sqr(s),R>>=P;return x}(F,Q,de),div:(Q,de)=>A(Q*z(de,E),E),sqrN:Q=>Q*Q,addN:(Q,de)=>Q+de,subN:(Q,de)=>Q-de,mulN:(Q,de)=>Q*de,inv:Q=>z(Q,E),sqrt:x.sqrt||(Q=>$(F,Q)),invertBatch:Q=>function ae(E,D){const R=new Array(D.length),x=D.reduce((v,$,F)=>E.is0($)?v:(R[F]=v,E.mul(v,$)),E.ONE),s=E.inv(x);return D.reduceRight((v,$,F)=>E.is0($)?v:(R[F]=E.mul(v,R[F]),E.mul(v,$)),s),R}(F,Q),cmov:(Q,de,Ce)=>Ce?de:Q,toBytes:Q=>R?(0,y.z)(Q,v):(0,y.lq)(Q,v),fromBytes:Q=>{if(Q.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${Q.length}`);return R?(0,y.lX)(Q):(0,y.Ph)(Q)}});return Object.freeze(F)}function C(E,D){if(!E.isOdd)throw new Error("Field doesn't have isOdd");const R=E.sqrt(D);return E.isOdd(R)?E.neg(R):R}function d(E){if("bigint"!=typeof E)throw new Error("field order must be bigint");const D=E.toString(2).length;return Math.ceil(D/8)}function m(E){const D=d(E);return D+Math.ceil(D/2)}function p(E,D,R=!1){const x=E.length,s=d(D),v=m(D);if(x<16||x<v||x>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${x}`);const F=A(R?(0,y.Ph)(E):(0,y.lX)(E),D-P)+P;return R?(0,y.z)(F,s):(0,y.lq)(F,s)}},91006:(Je,j,_)=>{"use strict";_.d(j,{Id:()=>J,My:()=>O,OG:()=>we,Ph:()=>G,Q5:()=>d,aT:()=>A,aY:()=>H,fg:()=>C,lX:()=>L,lq:()=>z,qj:()=>Z,z:()=>ee}),BigInt(0);const b=BigInt(1),P=BigInt(2);function H(m){return m instanceof Uint8Array||null!=m&&"object"==typeof m&&"Uint8Array"===m.constructor.name}const w=Array.from({length:256},(m,p)=>p.toString(16).padStart(2,"0"));function O(m){if(!H(m))throw new Error("Uint8Array expected");let p="";for(let E=0;E<m.length;E++)p+=w[m[E]];return p}function B(m){if("string"!=typeof m)throw new Error("hex string expected, got "+typeof m);return BigInt(""===m?"0":`0x${m}`)}const N={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function U(m){return m>=N._0&&m<=N._9?m-N._0:m>=N._A&&m<=N._F?m-(N._A-10):m>=N._a&&m<=N._f?m-(N._a-10):void 0}function A(m){if("string"!=typeof m)throw new Error("hex string expected, got "+typeof m);const p=m.length,E=p/2;if(p%2)throw new Error("padded hex string expected, got unpadded hex of length "+p);const D=new Uint8Array(E);for(let R=0,x=0;R<E;R++,x+=2){const s=U(m.charCodeAt(x)),v=U(m.charCodeAt(x+1));if(void 0===s||void 0===v)throw new Error('hex string expected, got non-hex character "'+(m[x]+m[x+1])+'" at index '+x);D[R]=16*s+v}return D}function G(m){return B(O(m))}function L(m){if(!H(m))throw new Error("Uint8Array expected");return B(O(Uint8Array.from(m).reverse()))}function z(m,p){return A(m.toString(16).padStart(2*p,"0"))}function ee(m,p){return z(m,p).reverse()}function Z(m,p,E){let D;if("string"==typeof p)try{D=A(p)}catch(x){throw new Error(`${m} must be valid hex string, got "${p}". Cause: ${x}`)}else{if(!H(p))throw new Error(`${m} must be hex string or Uint8Array`);D=Uint8Array.from(p)}const R=D.length;if("number"==typeof E&&R!==E)throw new Error(`${m} expected ${E} bytes, got ${R}`);return D}function J(...m){let p=0;for(let R=0;R<m.length;R++){const x=m[R];if(!H(x))throw new Error("Uint8Array expected");p+=x.length}let E=new Uint8Array(p),D=0;for(let R=0;R<m.length;R++){const x=m[R];E.set(x,D),D+=x.length}return E}const we=m=>(P<<BigInt(m-1))-b,Me=m=>new Uint8Array(m),Pe=m=>Uint8Array.from(m);function C(m,p,E){if("number"!=typeof m||m<2)throw new Error("hashLen must be a number");if("number"!=typeof p||p<2)throw new Error("qByteLen must be a number");if("function"!=typeof E)throw new Error("hmacFn must be a function");let D=Me(m),R=Me(m),x=0;const s=()=>{D.fill(1),R.fill(0),x=0},v=(...de)=>E(R,D,...de),$=(de=Me())=>{R=v(Pe([0]),de),D=v(),0!==de.length&&(R=v(Pe([1]),de),D=v())},F=()=>{if(x++>=1e3)throw new Error("drbg: tried 1000 values");let de=0;const Ce=[];for(;de<p;){D=v();const Re=D.slice();Ce.push(Re),de+=D.length}return J(...Ce)};return(de,Ce)=>{let Re;for(s(),$(de);!(Re=Ce(F()));)$();return s(),Re}}const a={bigint:m=>"bigint"==typeof m,function:m=>"function"==typeof m,boolean:m=>"boolean"==typeof m,string:m=>"string"==typeof m,stringOrUint8Array:m=>"string"==typeof m||H(m),isSafeInteger:m=>Number.isSafeInteger(m),array:m=>Array.isArray(m),field:(m,p)=>p.Fp.isValid(m),hash:m=>"function"==typeof m&&Number.isSafeInteger(m.outputLen)};function d(m,p,E={}){const D=(R,x,s)=>{const v=a[x];if("function"!=typeof v)throw new Error(`Invalid validator "${x}", expected function`);const $=m[R];if(!(s&&void 0===$||v($,m)))throw new Error(`Invalid param ${String(R)}=${$} (${typeof $}), expected ${x}`)};for(const[R,x]of Object.entries(p))D(R,x,!1);for(const[R,x]of Object.entries(E))D(R,x,!0);return m}},86295:(Je,j,_)=>{"use strict";_.d(j,{ev:()=>D,OA:()=>Q,GU:()=>$,TU:()=>v});var y=_(25431),b=_(62953),P=_(35765),H=_(91006),w=_(7184);const O=BigInt(0),S=BigInt(1),B=BigInt(2),N=BigInt(8),U={zip215:!0};function G(Y){const pe=function A(Y){const pe=(0,w.h)(Y);return H.Q5(Y,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...pe})}(Y),{Fp:ke,n:Ne,prehash:lt,hash:en,randomBytes:It,nByteLength:Kt,h:rn}=pe,vn=B<<BigInt(8*Kt)-S,un=ke.create,sr=pe.uvRatio||((Nn,Ln)=>{try{return{isValid:!0,value:ke.sqrt(Nn*ke.inv(Ln))}}catch{return{isValid:!1,value:O}}}),Cn=pe.adjustScalarBytes||(Nn=>Nn),cn=pe.domain||((Nn,Ln,at)=>{if(Ln.length||at)throw new Error("Contexts/pre-hash are not supported");return Nn}),qt=Nn=>"bigint"==typeof Nn&&O<Nn,bt=(Nn,Ln)=>qt(Nn)&&qt(Ln)&&Nn<Ln,ut=Nn=>Nn===O||bt(Nn,vn);function Gt(Nn,Ln){if(bt(Nn,Ln))return Nn;throw new Error(`Expected valid scalar < ${Ln}, got ${typeof Nn} ${Nn}`)}function nn(Nn){return Nn===O?Nn:Gt(Nn,Ne)}const pn=new Map;function ur(Nn){if(!(Nn instanceof yt))throw new Error("ExtendedPoint expected")}class yt{constructor(Ln,at,He,ct){if(this.ex=Ln,this.ey=at,this.ez=He,this.et=ct,!ut(Ln))throw new Error("x required");if(!ut(at))throw new Error("y required");if(!ut(He))throw new Error("z required");if(!ut(ct))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Ln){if(Ln instanceof yt)throw new Error("extended point not allowed");const{x:at,y:He}=Ln||{};if(!ut(at)||!ut(He))throw new Error("invalid affine point");return new yt(at,He,S,un(at*He))}static normalizeZ(Ln){const at=ke.invertBatch(Ln.map(He=>He.ez));return Ln.map((He,ct)=>He.toAffine(at[ct])).map(yt.fromAffine)}_setWindowSize(Ln){this._WINDOW_SIZE=Ln,pn.delete(this)}assertValidity(){const{a:Ln,d:at}=pe;if(this.is0())throw new Error("bad point: ZERO");const{ex:He,ey:ct,ez:Zt,et:xn}=this,Hn=un(He*He),er=un(ct*ct),hr=un(Zt*Zt),Nr=un(hr*hr),Cr=un(Hn*Ln);if(un(hr*un(Cr+er))!==un(Nr+un(at*un(Hn*er))))throw new Error("bad point: equation left != right (1)");if(un(He*ct)!==un(Zt*xn))throw new Error("bad point: equation left != right (2)")}equals(Ln){ur(Ln);const{ex:at,ey:He,ez:ct}=this,{ex:Zt,ey:xn,ez:Hn}=Ln,er=un(at*Hn),hr=un(Zt*ct),Nr=un(He*Hn),Cr=un(xn*ct);return er===hr&&Nr===Cr}is0(){return this.equals(yt.ZERO)}negate(){return new yt(un(-this.ex),this.ey,this.ez,un(-this.et))}double(){const{a:Ln}=pe,{ex:at,ey:He,ez:ct}=this,Zt=un(at*at),xn=un(He*He),Hn=un(B*un(ct*ct)),er=un(Ln*Zt),hr=at+He,Nr=un(un(hr*hr)-Zt-xn),Cr=er+xn,Ur=Cr-Hn,Lr=er-xn,oi=un(Nr*Ur),on=un(Cr*Lr),_n=un(Nr*Lr),Dn=un(Ur*Cr);return new yt(oi,on,Dn,_n)}add(Ln){ur(Ln);const{a:at,d:He}=pe,{ex:ct,ey:Zt,ez:xn,et:Hn}=this,{ex:er,ey:hr,ez:Nr,et:Cr}=Ln;if(at===BigInt(-1)){const Ti=un((Zt-ct)*(hr+er)),wo=un((Zt+ct)*(hr-er)),si=un(wo-Ti);if(si===O)return this.double();const ho=un(xn*B*Cr),yo=un(Hn*B*Nr),Io=yo+ho,pi=wo+Ti,Li=yo-ho,Ni=un(Io*si),Fa=un(pi*Li),Di=un(Io*Li),Sn=un(si*pi);return new yt(Ni,Fa,Sn,Di)}const Ur=un(ct*er),Lr=un(Zt*hr),oi=un(Hn*He*Cr),on=un(xn*Nr),_n=un((ct+Zt)*(er+hr)-Ur-Lr),Dn=on-oi,Wn=on+oi,Gn=un(Lr-at*Ur),wr=un(_n*Dn),xr=un(Wn*Gn),jr=un(_n*Gn),Kr=un(Dn*Wn);return new yt(wr,xr,Kr,jr)}subtract(Ln){return this.add(Ln.negate())}wNAF(Ln){return qe.wNAFCached(this,pn,Ln,yt.normalizeZ)}multiply(Ln){const{p:at,f:He}=this.wNAF(Gt(Ln,Ne));return yt.normalizeZ([at,He])[0]}multiplyUnsafe(Ln){let at=nn(Ln);return at===O?xt:this.equals(xt)||at===S?this:this.equals(_t)?this.wNAF(at).p:qe.unsafeLadder(this,at)}isSmallOrder(){return this.multiplyUnsafe(rn).is0()}isTorsionFree(){return qe.unsafeLadder(this,Ne).is0()}toAffine(Ln){const{ex:at,ey:He,ez:ct}=this,Zt=this.is0();null==Ln&&(Ln=Zt?N:ke.inv(ct));const xn=un(at*Ln),Hn=un(He*Ln),er=un(ct*Ln);if(Zt)return{x:O,y:S};if(er!==S)throw new Error("invZ was invalid");return{x:xn,y:Hn}}clearCofactor(){const{h:Ln}=pe;return Ln===S?this:this.multiplyUnsafe(Ln)}static fromHex(Ln,at=!1){const{d:He,a:ct}=pe,Zt=ke.BYTES,xn=(Ln=(0,H.qj)("pointHex",Ln,Zt)).slice(),Hn=Ln[Zt-1];xn[Zt-1]=-129&Hn;const er=H.lX(xn);er===O||Gt(er,at?vn:ke.ORDER);const hr=un(er*er),Nr=un(hr-S),Cr=un(He*hr-ct);let{isValid:Ur,value:Lr}=sr(Nr,Cr);if(!Ur)throw new Error("Point.fromHex: invalid y coordinate");const oi=(Lr&S)===S,on=!!(128&Hn);if(!at&&Lr===O&&on)throw new Error("Point.fromHex: x=0 and x_0=1");return on!==oi&&(Lr=un(-Lr)),yt.fromAffine({x:Lr,y:er})}static fromPrivateKey(Ln){return Ft(Ln).point}toRawBytes(){const{x:Ln,y:at}=this.toAffine(),He=H.z(at,ke.BYTES);return He[He.length-1]|=Ln&S?128:0,He}toHex(){return H.My(this.toRawBytes())}}yt.BASE=new yt(pe.Gx,pe.Gy,S,un(pe.Gx*pe.Gy)),yt.ZERO=new yt(O,S,S,O);const{BASE:_t,ZERO:xt}=yt,qe=(0,w.A)(yt,8*Kt);function tt(Nn){return(0,P.zi)(Nn,Ne)}function Wt(Nn){return tt(H.lX(Nn))}function Ft(Nn){const Ln=Kt;Nn=(0,H.qj)("private key",Nn,Ln);const at=(0,H.qj)("hashed private key",en(Nn),2*Ln),He=Cn(at.slice(0,Ln)),ct=at.slice(Ln,2*Ln),Zt=Wt(He),xn=_t.multiply(Zt),Hn=xn.toRawBytes();return{head:He,prefix:ct,scalar:Zt,point:xn,pointBytes:Hn}}function zn(Nn=new Uint8Array,...Ln){const at=H.Id(...Ln);return Wt(en(cn(at,(0,H.qj)("context",Nn),!!lt)))}const Tn=U;return _t._setWindowSize(8),{CURVE:pe,getPublicKey:function mn(Nn){return Ft(Nn).pointBytes},sign:function wn(Nn,Ln,at={}){Nn=(0,H.qj)("message",Nn),lt&&(Nn=lt(Nn));const{prefix:He,scalar:ct,pointBytes:Zt}=Ft(Ln),xn=zn(at.context,He,Nn),Hn=_t.multiply(xn).toRawBytes(),hr=tt(xn+zn(at.context,Hn,Zt,Nn)*ct);nn(hr);const Nr=H.Id(Hn,H.z(hr,ke.BYTES));return(0,H.qj)("result",Nr,2*Kt)},verify:function vr(Nn,Ln,at,He=Tn){const{context:ct,zip215:Zt}=He,xn=ke.BYTES;Nn=(0,H.qj)("signature",Nn,2*xn),Ln=(0,H.qj)("message",Ln),lt&&(Ln=lt(Ln));const Hn=H.lX(Nn.slice(xn,2*xn));let er,hr,Nr;try{er=yt.fromHex(at,Zt),hr=yt.fromHex(Nn.slice(0,xn),Zt),Nr=_t.multiplyUnsafe(Hn)}catch{return!1}if(!Zt&&er.isSmallOrder())return!1;const Cr=zn(ct,hr.toRawBytes(),er.toRawBytes(),Ln);return hr.add(er.multiplyUnsafe(Cr)).subtract(Nr).clearCofactor().equals(yt.ZERO)},ExtendedPoint:yt,utils:{getExtendedPublicKey:Ft,randomPrivateKey:()=>It(ke.BYTES),precompute:(Nn=8,Ln=yt.BASE)=>(Ln._setWindowSize(Nn),Ln.multiply(BigInt(3)),Ln)}}}const L=BigInt(0),z=BigInt(1),Z=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),J=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ce=(BigInt(0),BigInt(1)),ae=BigInt(2),fe=BigInt(5),he=BigInt(10),we=BigInt(20),Me=BigInt(40),Pe=BigInt(80);function C(Y){const pe=Z,Ne=Y*Y%pe*Y%pe,lt=(0,P.zH)(Ne,ae,pe)*Ne%pe,en=(0,P.zH)(lt,ce,pe)*Y%pe,It=(0,P.zH)(en,fe,pe)*en%pe,Kt=(0,P.zH)(It,he,pe)*It%pe,rn=(0,P.zH)(Kt,we,pe)*Kt%pe,vn=(0,P.zH)(rn,Me,pe)*rn%pe,un=(0,P.zH)(vn,Pe,pe)*vn%pe,sr=(0,P.zH)(un,Pe,pe)*vn%pe,Cn=(0,P.zH)(sr,he,pe)*It%pe;return{pow_p_5_8:(0,P.zH)(Cn,ae,pe)*Y%pe,b2:Ne}}function a(Y){return Y[0]&=248,Y[31]&=127,Y[31]|=64,Y}const p=(0,P.D0)(Z,void 0,!0),E={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:y.Zf,randomBytes:b.po,adjustScalarBytes:a,uvRatio:function d(Y,pe){const ke=Z,Ne=(0,P.zi)(pe*pe*pe,ke),en=C(Y*(0,P.zi)(Ne*Ne*pe,ke)).pow_p_5_8;let It=(0,P.zi)(Y*Ne*en,ke);const Kt=(0,P.zi)(pe*It*It,ke),rn=It,vn=(0,P.zi)(It*J,ke),un=Kt===Y,sr=Kt===(0,P.zi)(-Y,ke),Cn=Kt===(0,P.zi)(-Y*J,ke);return un&&(It=rn),(sr||Cn)&&(It=vn),(0,P.dQ)(It,ke)&&(It=(0,P.zi)(-It,ke)),{isValid:un||sr,value:It}}},D=G(E);const v=function q(Y){const pe=function ee(Y){return(0,H.Q5)(Y,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...Y})}(Y),{P:ke}=pe,Ne=pn=>(0,P.zi)(pn,ke),lt=pe.montgomeryBits,en=Math.ceil(lt/8),It=pe.nByteLength,Kt=pe.adjustScalarBytes||(pn=>pn),rn=pe.powPminus2||(pn=>(0,P.n7)(pn,ke-BigInt(2),ke));function vn(pn,ur,yt){const _t=Ne(pn*(ur-yt));return[ur=Ne(ur-_t),yt=Ne(yt+_t)]}function un(pn){if("bigint"==typeof pn&&L<=pn&&pn<ke)return pn;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const sr=(pe.a-BigInt(2))/BigInt(4);function cn(pn){return(0,H.z)(Ne(pn),en)}function ut(pn,ur){const yt=function qt(pn){const ur=(0,H.qj)("u coordinate",pn,en);return 32===It&&(ur[31]&=127),(0,H.lX)(ur)}(ur),_t=function bt(pn){const ur=(0,H.qj)("scalar",pn),yt=ur.length;if(yt!==en&&yt!==It)throw new Error(`Expected ${en} or ${It} bytes, got ${yt}`);return(0,H.lX)(Kt(ur))}(pn),xt=function Cn(pn,ur){const yt=un(pn),_t=un(ur),xt=yt;let zn,qe=z,tt=L,Wt=yt,Ft=z,mn=L;for(let Tn=BigInt(lt-1);Tn>=L;Tn--){const vr=_t>>Tn&z;mn^=vr,zn=vn(mn,qe,Wt),qe=zn[0],Wt=zn[1],zn=vn(mn,tt,Ft),tt=zn[0],Ft=zn[1],mn=vr;const ir=qe+tt,Nn=Ne(ir*ir),Ln=qe-tt,at=Ne(Ln*Ln),He=Nn-at,ct=Wt+Ft,xn=Ne((Wt-Ft)*ir),Hn=Ne(ct*Ln),er=xn+Hn,hr=xn-Hn;Wt=Ne(er*er),Ft=Ne(xt*Ne(hr*hr)),qe=Ne(Nn*at),tt=Ne(He*(Nn+Ne(sr*He)))}zn=vn(mn,qe,Wt),qe=zn[0],Wt=zn[1],zn=vn(mn,tt,Ft),tt=zn[0],Ft=zn[1];const wn=rn(tt);return Ne(qe*wn)}(yt,_t);if(xt===L)throw new Error("Invalid private or public key received");return cn(xt)}const Gt=cn(pe.Gu);function nn(pn){return ut(pn,Gt)}return{scalarMult:ut,scalarMultBase:nn,getSharedSecret:(pn,ur)=>ut(pn,ur),getPublicKey:pn=>nn(pn),utils:{randomPrivateKey:()=>pe.randomBytes(pe.nByteLength)},GuBytes:Gt}}({P:Z,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Y=>{const pe=Z,{pow_p_5_8:ke,b2:Ne}=C(Y);return(0,P.zi)((0,P.zH)(ke,BigInt(3),pe)*Ne,pe)},adjustScalarBytes:a,randomBytes:b.po});function $(Y){const{y:pe}=D.ExtendedPoint.fromHex(Y),ke=BigInt(1);return p.toBytes(p.create((ke+pe)*p.inv(ke-pe)))}function Q(Y){const pe=E.hash(Y.subarray(0,32));return E.adjustScalarBytes(pe).subarray(0,32)}const de=(p.ORDER+BigInt(3))/BigInt(8);p.pow(ae,de),p.sqrt(p.neg(p.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,P.Tv)(p,p.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:(Je,j,_)=>{"use strict";_.d(j,{Ag:()=>B,s9:()=>S});var y=_(2716),b=_(47565);const H=(0,_(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),w=H.create(BigInt("-3")),O=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),S=(0,y.s)({a:w,b:O,Fp:H,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},b.s),B=S},94256:(Je,j,_)=>{"use strict";_.d(j,{bI:()=>A});var y=_(47565),b=_(35765),P=_(2716);const H=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),w=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),O=BigInt(1),S=BigInt(2),B=(x,s)=>(x+s/S)/s;const U=(0,b.D0)(H,void 0,void 0,{sqrt:function N(x){const s=H,v=BigInt(3),$=BigInt(6),F=BigInt(11),Q=BigInt(22),de=BigInt(23),Ce=BigInt(44),Re=BigInt(88),Ve=x*x*x%s,Ee=Ve*Ve*x%s,_e=(0,b.zH)(Ee,v,s)*Ee%s,Fe=(0,b.zH)(_e,v,s)*Ee%s,be=(0,b.zH)(Fe,S,s)*Ve%s,Ae=(0,b.zH)(be,F,s)*be%s,ge=(0,b.zH)(Ae,Q,s)*Ae%s,me=(0,b.zH)(ge,Ce,s)*ge%s,te=(0,b.zH)(me,Re,s)*me%s,ne=(0,b.zH)(te,Ce,s)*ge%s,ue=(0,b.zH)(ne,v,s)*Ee%s,De=(0,b.zH)(ue,de,s)*Ae%s,Be=(0,b.zH)(De,$,s)*Ve%s,Qe=(0,b.zH)(Be,S,s);if(!U.eql(U.sqr(Qe),x))throw new Error("Cannot find square root");return Qe}}),A=(0,P.s)({a:BigInt(0),b:BigInt(7),Fp:U,n:w,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:x=>{const s=w,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),$=-O*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),F=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Q=v,de=BigInt("0x100000000000000000000000000000000"),Ce=B(Q*x,s),Re=B(-$*x,s);let Ve=(0,b.zi)(x-Ce*v-Re*F,s),Ee=(0,b.zi)(-Ce*$-Re*Q,s);const _e=Ve>de,Fe=Ee>de;if(_e&&(Ve=s-Ve),Fe&&(Ee=s-Ee),Ve>de||Ee>de)throw new Error("splitScalar: Endomorphism failed, k="+x);return{k1neg:_e,k1:Ve,k2neg:Fe,k2:Ee}}}},y.s);BigInt(0)},63741:(Je,j,_)=>{"use strict";_.d(j,{Rn:()=>s,Wp:()=>Fe,kv:()=>Re,wJ:()=>Q});var y=_(10467);const b=2n**255n-19n,P=2n**252n+27742317777372353535851937790883648493n,H=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,w=0x6666666666666666666666666666666666666666666666666666666666666658n,O={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:b,n:P,h:8,Gx:H,Gy:w},S=(me="")=>{throw new Error(me)},B=me=>"string"==typeof me,N=(me,te)=>!(me instanceof Uint8Array)||"number"==typeof te&&te>0&&me.length!==te?S("Uint8Array expected"):me,U=me=>new Uint8Array(me),A=(me,te)=>N(B(me)?ce(me):U(me),te),G=(me,te=b)=>{let ne=me%te;return ne>=0n?ne:te+ne},L=me=>me instanceof ee?me:S("Point expected");let z;class ee{constructor(te,ne,ue,De){this.ex=te,this.ey=ne,this.ez=ue,this.et=De}static fromAffine(te){return new ee(te.x,te.y,1n,G(te.x*te.y))}static fromHex(te,ne=!0){const{d:ue}=O,De=(te=A(te,32)).slice();De[31]=-129&te[31];const Be=fe(De);0n===Be||(ne&&!(0n<Be&&Be<b)&&S("bad y coord 1"),!ne&&!(0n<Be&&Be<2n**256n)&&S("bad y coord 2"));const Qe=G(Be*Be),ze=G(Qe-1n),Dt=G(ue*Qe+1n);let{isValid:Xe,value:Ue}=a(ze,Dt);return Xe||S("bad y coordinate 3"),!!(128&te[31])!=(1n===(1n&Ue))&&(Ue=G(-Ue)),new ee(Ue,Be,1n,G(Ue*Be))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(te){const{ex:ne,ey:ue,ez:De}=this,{ex:Be,ey:Qe,ez:ze}=L(te),Dt=G(ne*ze),Xe=G(Be*De),Ue=G(ue*ze),mt=G(Qe*De);return Dt===Xe&&Ue===mt}is0(){return this.equals(Z)}negate(){return new ee(G(-this.ex),this.ey,this.ez,G(-this.et))}double(){const{ex:te,ey:ne,ez:ue}=this,{a:De}=O,Be=G(te*te),Qe=G(ne*ne),ze=G(2n*G(ue*ue)),Dt=G(De*Be),Xe=te+ne,Ue=G(G(Xe*Xe)-Be-Qe),mt=Dt+Qe,K=mt-ze,T=Dt-Qe,M=G(Ue*K),Y=G(mt*T),pe=G(Ue*T),ke=G(K*mt);return new ee(M,Y,ke,pe)}add(te){const{ex:ne,ey:ue,ez:De,et:Be}=this,{ex:Qe,ey:ze,ez:Dt,et:Xe}=L(te),{a:Ue,d:mt}=O,K=G(ne*Qe),T=G(ue*ze),M=G(Be*mt*Xe),Y=G(De*Dt),pe=G((ne+ue)*(Qe+ze)-K-T),ke=G(Y-M),Ne=G(Y+M),lt=G(T-Ue*K),en=G(pe*ke),It=G(Ne*lt),Kt=G(pe*lt),rn=G(ke*Ne);return new ee(en,It,rn,Kt)}mul(te,ne=!0){if(0n===te)return!0===ne?S("cannot multiply by 0"):Z;if("bigint"==typeof te&&0n<te&&te<P||S("invalid scalar, must be < L"),!ne&&this.is0()||1n===te)return this;if(this.equals(q))return ge(te).p;let ue=Z,De=q;for(let Be=this;te>0n;Be=Be.double(),te>>=1n)1n&te?ue=ue.add(Be):ne&&(De=De.add(Be));return ue}multiply(te){return this.mul(te)}clearCofactor(){return this.mul(BigInt(O.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let te=this.mul(P/2n,!1).double();return te=te.add(this),te.is0()}toAffine(){const{ex:te,ey:ne,ez:ue}=this;if(this.is0())return{x:0n,y:0n};const De=we(ue);return 1n!==G(ue*De)&&S("invalid inverse"),{x:G(te*De),y:G(ne*De)}}toRawBytes(){const{x:te,y:ne}=this.toAffine(),ue=ae(ne);return ue[31]|=1n&te?128:0,ue}toHex(){return se(this.toRawBytes())}}ee.BASE=new ee(H,w,1n,G(H*w)),ee.ZERO=new ee(0n,1n,1n,0n);const{BASE:q,ZERO:Z}=ee,J=(me,te)=>me.toString(16).padStart(te,"0"),se=me=>Array.from(me).map(te=>J(te,2)).join(""),ce=me=>{const te=me.length;(!B(me)||te%2)&&S("hex invalid 1");const ne=U(te/2);for(let ue=0;ue<ne.length;ue++){const De=2*ue,Be=me.slice(De,De+2),Qe=Number.parseInt(Be,16);(Number.isNaN(Qe)||Qe<0)&&S("hex invalid 2"),ne[ue]=Qe}return ne},ae=me=>ce(J(me,64)).reverse(),fe=me=>BigInt("0x"+se(U(N(me)).reverse())),he=(...me)=>{const te=U(me.reduce((ue,De)=>ue+N(De).length,0));let ne=0;return me.forEach(ue=>{te.set(ue,ne),ne+=ue.length}),te},we=(me,te=b)=>{(0n===me||te<=0n)&&S("no inverse n="+me+" mod="+te);let ne=G(me,te),ue=te,De=0n,Be=1n,Qe=1n,ze=0n;for(;0n!==ne;){const Dt=ue/ne,Xe=ue%ne,Ue=De-Qe*Dt,mt=Be-ze*Dt;ue=ne,ne=Xe,De=Qe,Be=ze,Qe=Ue,ze=mt}return 1n===ue?G(De,te):S("no inverse")},Me=(me,te)=>{let ne=me;for(;te-- >0n;)ne*=ne,ne%=b;return ne},C=19681161376707505956807079304988542015446066515923890162744021073123829784752n,a=(me,te)=>{const ne=G(te*te*te),De=(me=>{const ne=me*me%b*me%b,ue=Me(ne,2n)*ne%b,De=Me(ue,1n)*me%b,Be=Me(De,5n)*De%b,Qe=Me(Be,10n)*Be%b,ze=Me(Qe,20n)*Qe%b,Dt=Me(ze,40n)*ze%b,Xe=Me(Dt,80n)*Dt%b,Ue=Me(Xe,80n)*Dt%b,mt=Me(Ue,10n)*Be%b;return{pow_p_5_8:Me(mt,2n)*me%b,b2:ne}})(me*G(ne*ne*te)).pow_p_5_8;let Be=G(me*ne*De);const Qe=G(te*Be*Be),ze=Be,Dt=G(Be*C),Xe=Qe===me,Ue=Qe===G(-me),mt=Qe===G(-me*C);return Xe&&(Be=ze),(Ue||mt)&&(Be=Dt),1n===(1n&G(Be))&&(Be=G(-Be)),{isValid:Xe||Ue,value:Be}},d=me=>G(fe(me),P);let m;const p=(...me)=>_e.sha512Async(...me),E=(...me)=>"function"==typeof m?m(...me):S("etc.sha512Sync not set"),D=me=>{const te=me.slice(0,32);te[0]&=248,te[31]&=127,te[31]|=64;const ne=me.slice(32,64),ue=d(te),De=q.mul(ue),Be=De.toRawBytes();return{head:te,prefix:ne,scalar:ue,point:De,pointBytes:Be}},R=me=>p(A(me,32)).then(D),s=me=>R(me).then(te=>te.pointBytes);function $(me,te){return me?p(te.hashable).then(te.finish):te.finish(E(te.hashable))}const Q=function(){var me=(0,y.A)(function*(te,ne){const ue=A(te),De=yield R(ne);return $(!0,((me,te,ne)=>{const{pointBytes:ue,scalar:De}=me,Be=d(te),Qe=q.mul(Be).toRawBytes();return{hashable:he(Qe,ue,ne),finish:Xe=>{const Ue=G(Be+d(Xe)*De,P);return N(he(Qe,ae(Ue)),64)}}})(De,yield p(De.prefix,ue),ue))});return function(ne,ue){return me.apply(this,arguments)}}(),Re=function(){var me=(0,y.A)(function*(te,ne,ue){return $(!0,((me,te,ne)=>{te=A(te),me=A(me,64);const ue=ee.fromHex(ne,!1),De=ee.fromHex(me.slice(0,32),!1),Be=fe(me.slice(32,64)),Qe=q.mul(Be,!1);return{hashable:he(De.toRawBytes(),ue.toRawBytes(),te),finish:Xe=>{const Ue=d(Xe);return De.add(ue.mul(Ue,!1)).add(Qe.negate()).clearCofactor().is0()}}})(te,ne,ue))});return function(ne,ue,De){return me.apply(this,arguments)}}(),Ee=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,_e={bytesToHex:se,hexToBytes:ce,concatBytes:he,mod:G,invert:we,randomBytes:me=>{const te=Ee();return te||S("crypto.getRandomValues must be defined"),te.getRandomValues(U(me))},sha512Async:(me=(0,y.A)(function*(...te){const ne=Ee();ne||S("crypto.subtle or etc.sha512Async must be defined");const ue=he(...te);return U(yield ne.subtle.digest("SHA-512",ue.buffer))}),function(){return me.apply(this,arguments)}),sha512Sync:void 0};var me;Object.defineProperties(_e,{sha512Sync:{configurable:!1,get:()=>m,set(me){m||(m=me)}}});const Fe={getExtendedPublicKeyAsync:R,getExtendedPublicKey:me=>D(E(A(me,32))),randomPrivateKey:()=>_e.randomBytes(32),precompute:(me=8,te=q)=>(te.multiply(3n),te)},ge=me=>{const te=z||(z=(()=>{const me=[];let ne=q,ue=ne;for(let De=0;De<33;De++){ue=ne,me.push(ue);for(let Be=1;Be<128;Be++)ue=ue.add(ne),me.push(ue);ne=ue.double()}return me})()),ne=(Ue,mt)=>{let K=mt.negate();return Ue?K:mt};let ue=Z,De=q;const ze=BigInt(255),Xe=BigInt(8);for(let Ue=0;Ue<33;Ue++){const mt=128*Ue;let K=Number(me&ze);me>>=Xe,K>128&&(K-=256,me+=1n);const T=mt,M=mt+Math.abs(K)-1,pe=K<0;0===K?De=De.add(ne(Ue%2!=0,te[T])):ue=ue.add(ne(pe,te[M]))}return{p:ue,f:De}}},37099:(Je,j,_)=>{"use strict";function y(U){if(!Number.isSafeInteger(U)||U<0)throw new Error(`Wrong positive integer: ${U}`)}function H(U,...A){if(!function P(U){return U instanceof Uint8Array||null!=U&&"object"==typeof U&&"Uint8Array"===U.constructor.name}(U))throw new Error("Expected Uint8Array");if(A.length>0&&!A.includes(U.length))throw new Error(`Expected Uint8Array of length ${A}, not of length=${U.length}`)}function w(U){if("function"!=typeof U||"function"!=typeof U.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");y(U.outputLen),y(U.blockLen)}function O(U,A=!0){if(U.destroyed)throw new Error("Hash instance has been destroyed");if(A&&U.finished)throw new Error("Hash#digest() has already been called")}function S(U,A){H(U);const G=A.outputLen;if(U.length<G)throw new Error(`digestInto() expects output buffer of length at least ${G}`)}_.d(j,{CG:()=>S,ai:()=>y,ee:()=>H,t2:()=>O,tW:()=>w})},36405:(Je,j,_)=>{"use strict";_.d(j,{D:()=>H});var y=_(37099),b=_(62953);class H extends b.Vw{constructor(O,S,B,N){super(),this.blockLen=O,this.outputLen=S,this.padOffset=B,this.isLE=N,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(O),this.view=(0,b.O8)(this.buffer)}update(O){(0,y.t2)(this);const{view:S,buffer:B,blockLen:N}=this,U=(O=(0,b.ZJ)(O)).length;for(let A=0;A<U;){const G=Math.min(N-this.pos,U-A);if(G!==N)B.set(O.subarray(A,A+G),this.pos),this.pos+=G,A+=G,this.pos===N&&(this.process(S,0),this.pos=0);else{const L=(0,b.O8)(O);for(;N<=U-A;A+=N)this.process(L,A)}}return this.length+=O.length,this.roundClean(),this}digestInto(O){(0,y.t2)(this),(0,y.CG)(O,this),this.finished=!0;const{buffer:S,view:B,blockLen:N,isLE:U}=this;let{pos:A}=this;S[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>N-A&&(this.process(B,0),A=0);for(let q=A;q<N;q++)S[q]=0;(function P(w,O,S,B){if("function"==typeof w.setBigUint64)return w.setBigUint64(O,S,B);const N=BigInt(32),U=BigInt(4294967295),A=Number(S>>N&U),G=Number(S&U),z=B?0:4;w.setUint32(O+(B?4:0),A,B),w.setUint32(O+z,G,B)})(B,N-8,BigInt(8*this.length),U),this.process(B,0);const G=(0,b.O8)(O),L=this.outputLen;if(L%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const z=L/4,ee=this.get();if(z>ee.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<z;q++)G.setUint32(4*q,ee[q],U)}digest(){const{buffer:O,outputLen:S}=this;this.digestInto(O);const B=O.slice(0,S);return this.destroy(),B}_cloneInto(O){O||(O=new this.constructor),O.set(...this.get());const{blockLen:S,buffer:B,length:N,finished:U,destroyed:A,pos:G}=this;return O.length=N,O.pos=G,O.finished=U,O.destroyed=A,N%S&&O.buffer.set(B),O}}},86703:(Je,j,_)=>{"use strict";_.d(j,{E:()=>y});const y="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:(Je,j,_)=>{"use strict";_.d(j,{w:()=>H});var y=_(37099),b=_(62953);class P extends b.Vw{constructor(O,S){super(),this.finished=!1,this.destroyed=!1,(0,y.tW)(O);const B=(0,b.ZJ)(S);if(this.iHash=O.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const N=this.blockLen,U=new Uint8Array(N);U.set(B.length>N?O.create().update(B).digest():B);for(let A=0;A<U.length;A++)U[A]^=54;this.iHash.update(U),this.oHash=O.create();for(let A=0;A<U.length;A++)U[A]^=106;this.oHash.update(U),U.fill(0)}update(O){return(0,y.t2)(this),this.iHash.update(O),this}digestInto(O){(0,y.t2)(this),(0,y.ee)(O,this.outputLen),this.finished=!0,this.iHash.digestInto(O),this.oHash.update(O),this.oHash.digestInto(O),this.destroy()}digest(){const O=new Uint8Array(this.oHash.outputLen);return this.digestInto(O),O}_cloneInto(O){O||(O=Object.create(Object.getPrototypeOf(this),{}));const{oHash:S,iHash:B,finished:N,destroyed:U,blockLen:A,outputLen:G}=this;return O.finished=N,O.destroyed=U,O.blockLen=A,O.outputLen=G,O.oHash=S._cloneInto(O.oHash),O.iHash=B._cloneInto(O.iHash),O}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const H=(w,O,S)=>new P(w,O).update(S).digest();H.create=(w,O)=>new P(w,O)},47565:(Je,j,_)=>{"use strict";_.d(j,{s:()=>U});var y=_(36405),b=_(62953);const P=(G,L,z)=>G&L^~G&z,H=(G,L,z)=>G&L^G&z^L&z,w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),S=new Uint32Array(64);class B extends y.D{constructor(){super(64,32,8,!1),this.A=0|O[0],this.B=0|O[1],this.C=0|O[2],this.D=0|O[3],this.E=0|O[4],this.F=0|O[5],this.G=0|O[6],this.H=0|O[7]}get(){const{A:L,B:z,C:ee,D:q,E:Z,F:J,G:se,H:ce}=this;return[L,z,ee,q,Z,J,se,ce]}set(L,z,ee,q,Z,J,se,ce){this.A=0|L,this.B=0|z,this.C=0|ee,this.D=0|q,this.E=0|Z,this.F=0|J,this.G=0|se,this.H=0|ce}process(L,z){for(let he=0;he<16;he++,z+=4)S[he]=L.getUint32(z,!1);for(let he=16;he<64;he++){const we=S[he-15],Me=S[he-2],Pe=(0,b.Ow)(we,7)^(0,b.Ow)(we,18)^we>>>3,C=(0,b.Ow)(Me,17)^(0,b.Ow)(Me,19)^Me>>>10;S[he]=C+S[he-7]+Pe+S[he-16]|0}let{A:ee,B:q,C:Z,D:J,E:se,F:ce,G:ae,H:fe}=this;for(let he=0;he<64;he++){const Me=fe+((0,b.Ow)(se,6)^(0,b.Ow)(se,11)^(0,b.Ow)(se,25))+P(se,ce,ae)+w[he]+S[he]|0,C=((0,b.Ow)(ee,2)^(0,b.Ow)(ee,13)^(0,b.Ow)(ee,22))+H(ee,q,Z)|0;fe=ae,ae=ce,ce=se,se=J+Me|0,J=Z,Z=q,q=ee,ee=Me+C|0}ee=ee+this.A|0,q=q+this.B|0,Z=Z+this.C|0,J=J+this.D|0,se=se+this.E|0,ce=ce+this.F|0,ae=ae+this.G|0,fe=fe+this.H|0,this.set(ee,q,Z,J,se,ce,ae,fe)}roundClean(){S.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const U=(0,b.ld)(()=>new B)},25431:(Je,j,_)=>{"use strict";_.d(j,{Zf:()=>v});var y=_(36405);const b=BigInt(2**32-1),P=BigInt(32);function H(de,Ce=!1){return Ce?{h:Number(de&b),l:Number(de>>P&b)}:{h:0|Number(de>>P&b),l:0|Number(de&b)}}const C_split=function w(de,Ce=!1){let Re=new Uint32Array(de.length),Ve=new Uint32Array(de.length);for(let Ee=0;Ee<de.length;Ee++){const{h:_e,l:Fe}=H(de[Ee],Ce);[Re[Ee],Ve[Ee]]=[_e,Fe]}return[Re,Ve]},C_shrSH=(de,Ce,Re)=>de>>>Re,C_shrSL=(de,Ce,Re)=>de<<32-Re|Ce>>>Re,C_rotrSH=(de,Ce,Re)=>de>>>Re|Ce<<32-Re,C_rotrSL=(de,Ce,Re)=>de<<32-Re|Ce>>>Re,C_rotrBH=(de,Ce,Re)=>de<<64-Re|Ce>>>Re-32,C_rotrBL=(de,Ce,Re)=>de>>>Re-32|Ce<<64-Re,C_add=function se(de,Ce,Re,Ve){const Ee=(Ce>>>0)+(Ve>>>0);return{h:de+Re+(Ee/2**32|0)|0,l:0|Ee}},C_add3L=(de,Ce,Re)=>(de>>>0)+(Ce>>>0)+(Re>>>0),C_add3H=(de,Ce,Re,Ve)=>Ce+Re+Ve+(de/2**32|0)|0,C_add4L=(de,Ce,Re,Ve)=>(de>>>0)+(Ce>>>0)+(Re>>>0)+(Ve>>>0),C_add4H=(de,Ce,Re,Ve,Ee)=>Ce+Re+Ve+Ee+(de/2**32|0)|0,C_add5H=(de,Ce,Re,Ve,Ee,_e)=>Ce+Re+Ve+Ee+_e+(de/2**32|0)|0,C_add5L=(de,Ce,Re,Ve,Ee)=>(de>>>0)+(Ce>>>0)+(Re>>>0)+(Ve>>>0)+(Ee>>>0);var a=_(62953);const[d,m]=C_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(de=>BigInt(de))),p=new Uint32Array(80),E=new Uint32Array(80);class D extends y.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:Ce,Al:Re,Bh:Ve,Bl:Ee,Ch:_e,Cl:Fe,Dh:be,Dl:Ae,Eh:ge,El:me,Fh:te,Fl:ne,Gh:ue,Gl:De,Hh:Be,Hl:Qe}=this;return[Ce,Re,Ve,Ee,_e,Fe,be,Ae,ge,me,te,ne,ue,De,Be,Qe]}set(Ce,Re,Ve,Ee,_e,Fe,be,Ae,ge,me,te,ne,ue,De,Be,Qe){this.Ah=0|Ce,this.Al=0|Re,this.Bh=0|Ve,this.Bl=0|Ee,this.Ch=0|_e,this.Cl=0|Fe,this.Dh=0|be,this.Dl=0|Ae,this.Eh=0|ge,this.El=0|me,this.Fh=0|te,this.Fl=0|ne,this.Gh=0|ue,this.Gl=0|De,this.Hh=0|Be,this.Hl=0|Qe}process(Ce,Re){for(let Xe=0;Xe<16;Xe++,Re+=4)p[Xe]=Ce.getUint32(Re),E[Xe]=Ce.getUint32(Re+=4);for(let Xe=16;Xe<80;Xe++){const Ue=0|p[Xe-15],mt=0|E[Xe-15],K=C_rotrSH(Ue,mt,1)^C_rotrSH(Ue,mt,8)^C_shrSH(Ue,mt,7),T=C_rotrSL(Ue,mt,1)^C_rotrSL(Ue,mt,8)^C_shrSL(Ue,mt,7),M=0|p[Xe-2],Y=0|E[Xe-2],pe=C_rotrSH(M,Y,19)^C_rotrBH(M,Y,61)^C_shrSH(M,Y,6),ke=C_rotrSL(M,Y,19)^C_rotrBL(M,Y,61)^C_shrSL(M,Y,6),Ne=C_add4L(T,ke,E[Xe-7],E[Xe-16]),lt=C_add4H(Ne,K,pe,p[Xe-7],p[Xe-16]);p[Xe]=0|lt,E[Xe]=0|Ne}let{Ah:Ve,Al:Ee,Bh:_e,Bl:Fe,Ch:be,Cl:Ae,Dh:ge,Dl:me,Eh:te,El:ne,Fh:ue,Fl:De,Gh:Be,Gl:Qe,Hh:ze,Hl:Dt}=this;for(let Xe=0;Xe<80;Xe++){const Ue=C_rotrSH(te,ne,14)^C_rotrSH(te,ne,18)^C_rotrBH(te,ne,41),mt=C_rotrSL(te,ne,14)^C_rotrSL(te,ne,18)^C_rotrBL(te,ne,41),K=te&ue^~te&Be,M=C_add5L(Dt,mt,ne&De^~ne&Qe,m[Xe],E[Xe]),Y=C_add5H(M,ze,Ue,K,d[Xe],p[Xe]),pe=0|M,ke=C_rotrSH(Ve,Ee,28)^C_rotrBH(Ve,Ee,34)^C_rotrBH(Ve,Ee,39),Ne=C_rotrSL(Ve,Ee,28)^C_rotrBL(Ve,Ee,34)^C_rotrBL(Ve,Ee,39),lt=Ve&_e^Ve&be^_e&be,en=Ee&Fe^Ee&Ae^Fe&Ae;ze=0|Be,Dt=0|Qe,Be=0|ue,Qe=0|De,ue=0|te,De=0|ne,({h:te,l:ne}=C_add(0|ge,0|me,0|Y,0|pe)),ge=0|be,me=0|Ae,be=0|_e,Ae=0|Fe,_e=0|Ve,Fe=0|Ee;const It=C_add3L(pe,Ne,en);Ve=C_add3H(It,Y,ke,lt),Ee=0|It}({h:Ve,l:Ee}=C_add(0|this.Ah,0|this.Al,0|Ve,0|Ee)),({h:_e,l:Fe}=C_add(0|this.Bh,0|this.Bl,0|_e,0|Fe)),({h:be,l:Ae}=C_add(0|this.Ch,0|this.Cl,0|be,0|Ae)),({h:ge,l:me}=C_add(0|this.Dh,0|this.Dl,0|ge,0|me)),({h:te,l:ne}=C_add(0|this.Eh,0|this.El,0|te,0|ne)),({h:ue,l:De}=C_add(0|this.Fh,0|this.Fl,0|ue,0|De)),({h:Be,l:Qe}=C_add(0|this.Gh,0|this.Gl,0|Be,0|Qe)),({h:ze,l:Dt}=C_add(0|this.Hh,0|this.Hl,0|ze,0|Dt)),this.set(Ve,Ee,_e,Fe,be,Ae,ge,me,te,ne,ue,De,Be,Qe,ze,Dt)}roundClean(){p.fill(0),E.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const v=(0,a.ld)(()=>new D)},62953:(Je,j,_)=>{"use strict";_.d(j,{$h:()=>ee,AI:()=>Z,Id:()=>se,My:()=>U,O8:()=>O,Ow:()=>S,Vw:()=>ce,ZJ:()=>J,aT:()=>L,ld:()=>he,po:()=>Pe,tY:()=>fe});var y=_(10467),b=_(86703);function w(C){return C instanceof Uint8Array||null!=C&&"object"==typeof C&&"Uint8Array"===C.constructor.name}const O=C=>new DataView(C.buffer,C.byteOffset,C.byteLength),S=(C,a)=>C<<32-a|C>>>a;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const N=Array.from({length:256},(C,a)=>a.toString(16).padStart(2,"0"));function U(C){if(!w(C))throw new Error("Uint8Array expected");let a="";for(let d=0;d<C.length;d++)a+=N[C[d]];return a}const A={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function G(C){return C>=A._0&&C<=A._9?C-A._0:C>=A._A&&C<=A._F?C-(A._A-10):C>=A._a&&C<=A._f?C-(A._a-10):void 0}function L(C){if("string"!=typeof C)throw new Error("hex string expected, got "+typeof C);const a=C.length,d=a/2;if(a%2)throw new Error("padded hex string expected, got unpadded hex of length "+a);const m=new Uint8Array(d);for(let p=0,E=0;p<d;p++,E+=2){const D=G(C.charCodeAt(E)),R=G(C.charCodeAt(E+1));if(void 0===D||void 0===R)throw new Error('hex string expected, got non-hex character "'+(C[E]+C[E+1])+'" at index '+E);m[p]=16*D+R}return m}const z=function(){var C=(0,y.A)(function*(){});return function(){return C.apply(this,arguments)}}();function ee(C,a,d){return q.apply(this,arguments)}function q(){return(q=(0,y.A)(function*(C,a,d){let m=Date.now();for(let p=0;p<C;p++){d(p);const E=Date.now()-m;E>=0&&E<a||(yield z(),m+=E)}})).apply(this,arguments)}function Z(C){if("string"!=typeof C)throw new Error("utf8ToBytes expected string, got "+typeof C);return new Uint8Array((new TextEncoder).encode(C))}function J(C){if("string"==typeof C&&(C=Z(C)),!w(C))throw new Error("expected Uint8Array, got "+typeof C);return C}function se(...C){let a=0;for(let m=0;m<C.length;m++){const p=C[m];if(!w(p))throw new Error("Uint8Array expected");a+=p.length}const d=new Uint8Array(a);for(let m=0,p=0;m<C.length;m++){const E=C[m];d.set(E,p),p+=E.length}return d}class ce{clone(){return this._cloneInto()}}const ae={}.toString;function fe(C,a){if(void 0!==a&&"[object Object]"!==ae.call(a))throw new Error("Options should be object or undefined");return Object.assign(C,a)}function he(C){const a=m=>C().update(J(m)).digest(),d=C();return a.outputLen=d.outputLen,a.blockLen=d.blockLen,a.create=()=>C(),a}function Pe(C=32){if(b.E&&"function"==typeof b.E.getRandomValues)return b.E.getRandomValues(new Uint8Array(C));throw new Error("crypto.getRandomValues must be defined")}},68464:(Je,j,_)=>{"use strict";_.d(j,{CB:()=>ae,MX:()=>ge,Wp:()=>ue,jn:()=>ne,lG:()=>s,wJ:()=>Fe});var y=_(10467);const b=2n**256n,P=b-0x1000003d1n,H=b-0x14551231950b75fc4402da1732fc9bebfn,w=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,O=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,S={p:P,n:H,a:0n,b:7n,Gx:w,Gy:O},B=32,N=ze=>J(J(ze*ze)*ze+S.b),U=(ze="")=>{throw new Error(ze)},A=ze=>"bigint"==typeof ze,G=ze=>"string"==typeof ze,L=ze=>A(ze)&&0n<ze&&ze<P,z=ze=>A(ze)&&0n<ze&&ze<H,ee=(ze,Dt)=>!(ze instanceof Uint8Array)||"number"==typeof Dt&&Dt>0&&ze.length!==Dt?U("Uint8Array expected"):ze,q=ze=>new Uint8Array(ze),Z=(ze,Dt)=>ee(G(ze)?Pe(ze):q(ze),Dt),J=(ze,Dt=P)=>{let Xe=ze%Dt;return Xe>=0n?Xe:Dt+Xe},se=ze=>ze instanceof ae?ze:U("Point expected");let ce;class ae{constructor(Dt,Xe,Ue){this.px=Dt,this.py=Xe,this.pz=Ue}static fromAffine(Dt){return new ae(Dt.x,Dt.y,1n)}static fromHex(Dt){let Xe;const Ue=(Dt=Z(Dt))[0],mt=Dt.subarray(1),K=a(mt,0,B),T=Dt.length;if(33===T&&[2,3].includes(Ue)){L(K)||U("Point hex invalid: x not FE");let M=D(N(K));!(1&~Ue)!=(1n===(1n&M))&&(M=J(-M)),Xe=new ae(K,M,1n)}return 65===T&&4===Ue&&(Xe=new ae(K,a(mt,B,2*B),1n)),Xe?Xe.ok():U("Point is not on curve")}static fromPrivateKey(Dt){return fe.mul(R(Dt))}get x(){return this.aff().x}get y(){return this.aff().y}equals(Dt){const{px:Xe,py:Ue,pz:mt}=this,{px:K,py:T,pz:M}=se(Dt),Y=J(Xe*M),pe=J(K*mt),ke=J(Ue*M),Ne=J(T*mt);return Y===pe&&ke===Ne}negate(){return new ae(this.px,J(-this.py),this.pz)}double(){return this.add(this)}add(Dt){const{px:Xe,py:Ue,pz:mt}=this,{px:K,py:T,pz:M}=se(Dt),{a:Y,b:pe}=S;let ke=0n,Ne=0n,lt=0n;const en=J(3n*pe);let It=J(Xe*K),Kt=J(Ue*T),rn=J(mt*M),vn=J(Xe+Ue),un=J(K+T);vn=J(vn*un),un=J(It+Kt),vn=J(vn-un),un=J(Xe+mt);let sr=J(K+M);return un=J(un*sr),sr=J(It+rn),un=J(un-sr),sr=J(Ue+mt),ke=J(T+M),sr=J(sr*ke),ke=J(Kt+rn),sr=J(sr-ke),lt=J(Y*un),ke=J(en*rn),lt=J(ke+lt),ke=J(Kt-lt),lt=J(Kt+lt),Ne=J(ke*lt),Kt=J(It+It),Kt=J(Kt+It),rn=J(Y*rn),un=J(en*un),Kt=J(Kt+rn),rn=J(It-rn),rn=J(Y*rn),un=J(un+rn),It=J(Kt*un),Ne=J(Ne+It),It=J(sr*un),ke=J(vn*ke),ke=J(ke-It),It=J(vn*Kt),lt=J(sr*lt),lt=J(lt+It),new ae(ke,Ne,lt)}mul(Dt,Xe=!0){if(!Xe&&0n===Dt)return he;if(z(Dt)||U("invalid scalar"),this.equals(fe))return Qe(Dt).p;let Ue=he,mt=fe;for(let K=this;Dt>0n;K=K.double(),Dt>>=1n)1n&Dt?Ue=Ue.add(K):Xe&&(mt=mt.add(K));return Ue}mulAddQUns(Dt,Xe,Ue){return this.mul(Xe,!1).add(Dt.mul(Ue,!1)).ok()}toAffine(){const{px:Dt,py:Xe,pz:Ue}=this;if(this.equals(he))return{x:0n,y:0n};if(1n===Ue)return{x:Dt,y:Xe};const mt=E(Ue);return 1n!==J(Ue*mt)&&U("invalid inverse"),{x:J(Dt*mt),y:J(Xe*mt)}}assertValidity(){const{x:Dt,y:Xe}=this.aff();return(!L(Dt)||!L(Xe))&&U("Point invalid: x or y"),J(Xe*Xe)===N(Dt)?this:U("Point invalid: not on curve")}multiply(Dt){return this.mul(Dt)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(Dt=!0){const{x:Xe,y:Ue}=this.aff();return(Dt?0n===(1n&Ue)?"02":"03":"04")+m(Xe)+(Dt?"":m(Ue))}toRawBytes(Dt=!0){return Pe(this.toHex(Dt))}}ae.BASE=new ae(w,O,1n),ae.ZERO=new ae(0n,1n,0n);const{BASE:fe,ZERO:he}=ae,we=(ze,Dt)=>ze.toString(16).padStart(Dt,"0"),Me=ze=>Array.from(ze).map(Dt=>we(Dt,2)).join(""),Pe=ze=>{const Dt=ze.length;(!G(ze)||Dt%2)&&U("hex invalid 1");const Xe=q(Dt/2);for(let Ue=0;Ue<Xe.length;Ue++){const mt=2*Ue,K=ze.slice(mt,mt+2),T=Number.parseInt(K,16);(Number.isNaN(T)||T<0)&&U("hex invalid 2"),Xe[Ue]=T}return Xe},C=ze=>BigInt("0x"+(Me(ze)||"0")),a=(ze,Dt,Xe)=>C(ze.slice(Dt,Xe)),d=ze=>A(ze)&&ze>=0n&&ze<b?Pe(we(ze,2*B)):U("bigint expected"),m=ze=>Me(d(ze)),p=(...ze)=>{const Dt=q(ze.reduce((Ue,mt)=>Ue+ee(mt).length,0));let Xe=0;return ze.forEach(Ue=>{Dt.set(Ue,Xe),Xe+=Ue.length}),Dt},E=(ze,Dt=P)=>{(0n===ze||Dt<=0n)&&U("no inverse n="+ze+" mod="+Dt);let Xe=J(ze,Dt),Ue=Dt,mt=0n,K=1n,T=1n,M=0n;for(;0n!==Xe;){const Y=Ue/Xe,pe=Ue%Xe,ke=mt-T*Y,Ne=K-M*Y;Ue=Xe,Xe=pe,mt=T,K=M,T=ke,M=Ne}return 1n===Ue?J(mt,Dt):U("no inverse")},D=ze=>{let Dt=1n;for(let Xe=ze,Ue=(P+1n)/4n;Ue>0n;Ue>>=1n)1n&Ue&&(Dt=Dt*Xe%P),Xe=Xe*Xe%P;return J(Dt*Dt)===ze?Dt:U("sqrt invalid")},R=ze=>(A(ze)||(ze=C(Z(ze,B))),z(ze)?ze:U("private key out of range")),x=ze=>ze>H>>1n;function s(ze,Dt=!0){return ae.fromPrivateKey(ze).toRawBytes(Dt)}class v{constructor(Dt,Xe,Ue){this.r=Dt,this.s=Xe,this.recovery=Ue,this.assertValidity()}static fromCompact(Dt){return Dt=Z(Dt,64),new v(a(Dt,0,B),a(Dt,B,2*B))}assertValidity(){return z(this.r)&&z(this.s)?this:U()}addRecoveryBit(Dt){return new v(this.r,this.s,Dt)}hasHighS(){return x(this.s)}recoverPublicKey(Dt){const{r:Xe,s:Ue,recovery:mt}=this;[0,1,2,3].includes(mt)||U("recovery id invalid");const K=F(Z(Dt,32)),T=2===mt||3===mt?Xe+H:Xe;T>=P&&U("q.x invalid");const Y=ae.fromHex((1&mt?"03":"02")+m(T)),pe=E(T,H),ke=J(-K*pe,H),Ne=J(Ue*pe,H);return fe.mulAddQUns(Y,ke,Ne)}toCompactRawBytes(){return Pe(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const $=ze=>{const Dt=8*ze.length-256,Xe=C(ze);return Dt>0?Xe>>BigInt(Dt):Xe},F=ze=>J($(ze),H),Q=ze=>d(ze),de=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let Ce;const Re={lowS:!0},Ve={lowS:!0};function Fe(ze,Dt){return be.apply(this,arguments)}function be(){return(be=(0,y.A)(function*(ze,Dt,Xe=Re){const{seed:Ue,k2sig:mt}=function Ee(ze,Dt,Xe=Re){["der","recovered","canonical"].some(Ne=>Ne in Xe)&&U("sign() legacy options not supported");let{lowS:Ue}=Xe;null==Ue&&(Ue=!0);const mt=F(Z(ze)),K=Q(mt),T=R(Dt),M=[Q(T),K];let Y=Xe.extraEntropy;if(Y){!0===Y&&(Y=ne.randomBytes(B));const Ne=Z(Y);Ne.length!==B&&U(),M.push(Ne)}const pe=mt;return{seed:p(...M),k2sig:Ne=>{const lt=$(Ne);if(!z(lt))return;const en=E(lt,H),It=fe.mul(lt).aff(),Kt=J(It.x,H);if(0n===Kt)return;const rn=J(en*J(pe+J(T*Kt,H),H),H);if(0n===rn)return;let vn=rn,un=(It.x===Kt?0:2)|Number(1n&It.y);return Ue&&x(rn)&&(vn=J(-rn,H),un^=1),new v(Kt,vn,un)}}}(ze,Dt,Xe);return function _e(ze){let Dt=q(B),Xe=q(B),Ue=0;const mt=()=>{Dt.fill(1),Xe.fill(0),Ue=0},K="drbg: tried 1000 values";if(ze){const T=(...pe)=>ne.hmacSha256Async(Xe,Dt,...pe),M=function(){var pe=(0,y.A)(function*(ke=q()){Xe=yield T(q([0]),ke),Dt=yield T(),0!==ke.length&&(Xe=yield T(q([1]),ke),Dt=yield T())});return function(){return pe.apply(this,arguments)}}(),Y=function(){var pe=(0,y.A)(function*(){return Ue++>=1e3&&U(K),Dt=yield T(),Dt});return function(){return pe.apply(this,arguments)}}();return function(){var pe=(0,y.A)(function*(ke,Ne){let lt;for(mt(),yield M(ke);!(lt=Ne(yield Y()));)yield M();return mt(),lt});return function(ke,Ne){return pe.apply(this,arguments)}}()}{const T=(...pe)=>{const ke=Ce;return ke||U("etc.hmacSha256Sync not set"),ke(Xe,Dt,...pe)},M=(pe=q())=>{Xe=T(q([0]),pe),Dt=T(),0!==pe.length&&(Xe=T(q([1]),pe),Dt=T())},Y=()=>(Ue++>=1e3&&U(K),Dt=T(),Dt);return(pe,ke)=>{let Ne;for(mt(),M(pe);!(Ne=ke(Y()));)M();return mt(),Ne}}}(!0)(Ue,mt)})).apply(this,arguments)}function ge(ze,Dt,Xe,Ue=Ve){let K,T,M,{lowS:mt}=Ue;null==mt&&(mt=!0),"strict"in Ue&&U("verify() legacy options not supported");const Y=ze&&"object"==typeof ze&&"r"in ze;!Y&&Z(ze).length!==2*B&&U("signature must be 64 bytes");try{K=Y?new v(ze.r,ze.s).assertValidity():v.fromCompact(ze),T=F(Z(Dt,B)),M=Xe instanceof ae?Xe.ok():ae.fromHex(Xe)}catch{return!1}if(!K)return!1;const{r:pe,s:ke}=K;if(mt&&x(ke))return!1;let Ne;try{const en=E(ke,H),It=J(T*en,H),Kt=J(pe*en,H);Ne=fe.mulAddQUns(M,It,Kt).aff()}catch{return!1}return!!Ne&&J(Ne.x,H)===pe}function te(ze){((ze=Z(ze)).length<B+8||ze.length>1024)&&U("expected proper params");const Xe=J(C(ze),H-1n)+1n;return d(Xe)}const ne={hexToBytes:Pe,bytesToHex:Me,concatBytes:p,bytesToNumberBE:C,numberToBytesBE:d,mod:J,invert:E,hmacSha256Async:(ze=(0,y.A)(function*(Dt,...Xe){const Ue=de();if(!Ue)return U("etc.hmacSha256Async not set");const mt=Ue.subtle,K=yield mt.importKey("raw",Dt,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return q(yield mt.sign("HMAC",K,p(...Xe)))}),function(Xe){return ze.apply(this,arguments)}),hmacSha256Sync:Ce,hashToPrivateKey:te,randomBytes:ze=>{const Dt=de();return Dt||U("crypto.getRandomValues must be defined"),Dt.getRandomValues(q(ze))}},ue={normPrivateKeyToScalar:R,isValidPrivateKey:ze=>{try{return!!R(ze)}catch{return!1}},randomPrivateKey:()=>te(ne.randomBytes(B+8)),precompute:(ze=8,Dt=fe)=>(Dt.multiply(3n),Dt)};var ze;Object.defineProperties(ne,{hmacSha256Sync:{configurable:!1,get:()=>Ce,set(ze){Ce||(Ce=ze)}}});const Qe=ze=>{const Dt=ce||(ce=(()=>{const ze=[];let Xe=fe,Ue=Xe;for(let mt=0;mt<33;mt++){Ue=Xe,ze.push(Ue);for(let K=1;K<128;K++)Ue=Ue.add(Xe),ze.push(Ue);Xe=Ue.double()}return ze})()),Xe=(ke,Ne)=>{let lt=Ne.negate();return ke?lt:Ne};let Ue=he,mt=fe;const M=BigInt(255),pe=BigInt(8);for(let ke=0;ke<33;ke++){const Ne=128*ke;let lt=Number(ze&M);ze>>=pe,lt>128&&(lt-=256,ze+=1n);const en=Ne,It=Ne+Math.abs(lt)-1,rn=lt<0;0===lt?mt=mt.add(Xe(ke%2!=0,Dt[en])):Ue=Ue.add(Xe(rn,Dt[It]))}return{p:Ue,f:mt}}},53813:(Je,j,_)=>{"use strict";function b(be){return be instanceof Uint8Array||null!=be&&"object"==typeof be&&"Uint8Array"===be.constructor.name}function B(be,Ae,ge){if(Ae<2)throw new Error(`convertRadix: wrong from=${Ae}, base cannot be less than 2`);if(ge<2)throw new Error(`convertRadix: wrong to=${ge}, base cannot be less than 2`);if(!Array.isArray(be))throw new Error("convertRadix: data should be array");if(!be.length)return[];let me=0;const te=[],ne=Array.from(be);for(ne.forEach(ue=>{if(ue<0||ue>=Ae)throw new Error(`Wrong integer: ${ue}`)});;){let ue=0,De=!0;for(let Be=me;Be<ne.length;Be++){const Qe=ne[Be],ze=Ae*ue+Qe;if(!Number.isSafeInteger(ze)||Ae*ue/Ae!==ue||ze-Qe!=Ae*ue)throw new Error("convertRadix: carry overflow");ue=ze%ge;const Dt=Math.floor(ze/ge);if(ne[Be]=Dt,!Number.isSafeInteger(Dt)||Dt*ge+ue!==ze)throw new Error("convertRadix: carry overflow");De&&(Dt?De=!1:me=Be)}if(te.push(ue),De)break}for(let ue=0;ue<be.length-1&&0===be[ue];ue++)te.push(0);return te.reverse()}_.d(j,{Wp:()=>q});const N=(be,Ae)=>Ae?N(Ae,be%Ae):be,U=(be,Ae)=>be+(Ae-N(be,Ae));function A(be,Ae,ge,me){if(!Array.isArray(be))throw new Error("convertRadix2: data should be array");if(Ae<=0||Ae>32)throw new Error(`convertRadix2: wrong from=${Ae}`);if(ge<=0||ge>32)throw new Error(`convertRadix2: wrong to=${ge}`);if(U(Ae,ge)>32)throw new Error(`convertRadix2: carry overflow from=${Ae} to=${ge} carryBits=${U(Ae,ge)}`);let te=0,ne=0;const ue=2**ge-1,De=[];for(const Be of be){if(Be>=2**Ae)throw new Error(`convertRadix2: invalid data word=${Be} from=${Ae}`);if(te=te<<Ae|Be,ne+Ae>32)throw new Error(`convertRadix2: carry overflow pos=${ne} from=${Ae}`);for(ne+=Ae;ne>=ge;ne-=ge)De.push((te>>ne-ge&ue)>>>0);te&=2**ne-1}if(te=te<<ge-ne&ue,!me&&ne>=Ae)throw new Error("Excess padding");if(!me&&te)throw new Error(`Non-zero padding: ${te}`);return me&&ne>0&&De.push(te>>>0),De}const q={alphabet:function H(be){return{encode:Ae=>{if(!Array.isArray(Ae)||Ae.length&&"number"!=typeof Ae[0])throw new Error("alphabet.encode input should be an array of numbers");return Ae.map(ge=>{if(ge<0||ge>=be.length)throw new Error(`Digit index outside alphabet: ${ge} (alphabet: ${be.length})`);return be[ge]})},decode:Ae=>{if(!Array.isArray(Ae)||Ae.length&&"string"!=typeof Ae[0])throw new Error("alphabet.decode input should be array of strings");return Ae.map(ge=>{if("string"!=typeof ge)throw new Error(`alphabet.decode: not string element=${ge}`);const me=be.indexOf(ge);if(-1===me)throw new Error(`Unknown letter: "${ge}". Allowed: ${be}`);return me})}}},chain:function P(...be){const Ae=ne=>ne,ge=(ne,ue)=>De=>ne(ue(De));return{encode:be.map(ne=>ne.encode).reduceRight(ge,Ae),decode:be.map(ne=>ne.decode).reduce(ge,Ae)}},checksum:function ee(be,Ae){if("function"!=typeof Ae)throw new Error("checksum fn should be function");return{encode(ge){if(!b(ge))throw new Error("checksum.encode: input should be Uint8Array");const me=Ae(ge).slice(0,be),te=new Uint8Array(ge.length+be);return te.set(ge),te.set(me,ge.length),te},decode(ge){if(!b(ge))throw new Error("checksum.decode: input should be Uint8Array");const me=ge.slice(0,-be),te=Ae(me).slice(0,be),ne=ge.slice(-be);for(let ue=0;ue<be;ue++)if(te[ue]!==ne[ue])throw new Error("Invalid checksum");return me}}},convertRadix:B,convertRadix2:A,radix:function G(be){return{encode:Ae=>{if(!b(Ae))throw new Error("radix.encode input should be Uint8Array");return B(Array.from(Ae),256,be)},decode:Ae=>{if(!Array.isArray(Ae)||Ae.length&&"number"!=typeof Ae[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(B(Ae,be,256))}}},radix2:function L(be,Ae=!1){if(be<=0||be>32)throw new Error("radix2: bits should be in (0..32]");if(U(8,be)>32||U(be,8)>32)throw new Error("radix2: carry overflow");return{encode:ge=>{if(!b(ge))throw new Error("radix2.encode input should be Uint8Array");return A(Array.from(ge),8,be,!Ae)},decode:ge=>{if(!Array.isArray(ge)||ge.length&&"number"!=typeof ge[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(A(ge,be,8,Ae))}}},join:function w(be=""){if("string"!=typeof be)throw new Error("join separator should be string");return{encode:Ae=>{if(!Array.isArray(Ae)||Ae.length&&"string"!=typeof Ae[0])throw new Error("join.encode input should be array of strings");for(let ge of Ae)if("string"!=typeof ge)throw new Error(`join.encode: non-string input=${ge}`);return Ae.join(be)},decode:Ae=>{if("string"!=typeof Ae)throw new Error("join.decode input should be string");return Ae.split(be)}}},padding:function O(be,Ae="="){if("string"!=typeof Ae)throw new Error("padding chr should be string");return{encode(ge){if(!Array.isArray(ge)||ge.length&&"string"!=typeof ge[0])throw new Error("padding.encode input should be array of strings");for(let me of ge)if("string"!=typeof me)throw new Error(`padding.encode: non-string input=${me}`);for(;ge.length*be%8;)ge.push(Ae);return ge},decode(ge){if(!Array.isArray(ge)||ge.length&&"string"!=typeof ge[0])throw new Error("padding.encode input should be array of strings");for(let te of ge)if("string"!=typeof te)throw new Error(`padding.decode: non-string input=${te}`);let me=ge.length;if(me*be%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;me>0&&ge[me-1]===Ae;me--)if(!((me-1)*be%8))throw new Error("Invalid padding: string has too much padding");return ge.slice(0,me)}}}}},79677:(Je,j,_)=>{"use strict";_.d(j,{DP:()=>S1,Bq:()=>fN,rr:()=>vN,yc:()=>GN,rM:()=>o9,B2:()=>RC,QZ:()=>dN,dk:()=>HN,nx:()=>ya,cW:()=>KN,TX:()=>VN,eP:()=>lb,qB:()=>a9,oN:()=>t9,X7:()=>yN,dK:()=>pN});var y={};_.r(y),_.d(y,{base10:()=>Wt});var b={};_.r(b),_.d(b,{base16:()=>Ft,base16upper:()=>mn});var P={};_.r(P),_.d(P,{base2:()=>zn});var H={};_.r(H),_.d(H,{base256emoji:()=>Ln});var w={};_.r(w),_.d(w,{base32:()=>at,base32hex:()=>xn,base32hexpad:()=>er,base32hexpadupper:()=>hr,base32hexupper:()=>Hn,base32pad:()=>ct,base32padupper:()=>Zt,base32upper:()=>He,base32z:()=>Nr});var O={};_.r(O),_.d(O,{base36:()=>Cr,base36upper:()=>Ur});var S={};_.r(S),_.d(S,{base58btc:()=>Lr,base58flickr:()=>oi});var B={};_.r(B),_.d(B,{base64:()=>on,base64pad:()=>_n,base64url:()=>Dn,base64urlpad:()=>Wn});var N={};_.r(N),_.d(N,{base8:()=>Gn});var U={};_.r(U),_.d(U,{identity:()=>wr});var A={};_.r(A),_.d(A,{code:()=>Ti,decode:()=>si,encode:()=>wo,name:()=>Kr});var G={};_.r(G),_.d(G,{code:()=>yo,decode:()=>pi,encode:()=>Io,name:()=>ho});var L={};_.r(L),_.d(L,{identity:()=>Xo});var z={};_.r(z),_.d(z,{sha256:()=>Ns,sha512:()=>So});var ee={};_.r(ee),_.d(ee,{Authorization:()=>Su,AuthorizationDelegatedGrant:()=>Ui,AuthorizationOwner:()=>bi,Definitions:()=>xe,EventsFilter:()=>Pl,EventsGet:()=>ot,EventsQuery:()=>Vt,EventsSubscribe:()=>Ye,GeneralJwk:()=>Mt,GeneralJws:()=>Mn,GenericSignaturePayload:()=>or,JwkVerificationMethod:()=>Ie,MessagesGet:()=>ye,NumberRangeFilter:()=>ht,PaginationCursor:()=>bn,PermissionGrantData:()=>dt,PermissionRequestData:()=>Zr,PermissionRevocationData:()=>sc,PermissionsDefinitions:()=>Up,PermissionsScopes:()=>fb,ProtocolDefinition:()=>hb,ProtocolRuleSet:()=>VM,ProtocolsConfigure:()=>zM,ProtocolsQuery:()=>HM,PublicJwk:()=>En,RecordsDelete:()=>$a,RecordsFilter:()=>sn,RecordsQuery:()=>Np,RecordsRead:()=>et,RecordsSubscribe:()=>J0,RecordsWrite:()=>rd,RecordsWriteDataEncoded:()=>sf,RecordsWriteSignaturePayload:()=>Pi,RecordsWriteUnidentified:()=>tl,StringRangeFilter:()=>Yl});var q={};_.r(q),_.d(q,{code:()=>kb,decode:()=>Pk,encode:()=>kk,name:()=>ES});var Z={};_.r(Z),_.d(Z,{code:()=>YS,createLink:()=>XS,createNode:()=>b8,decode:()=>yy,encode:()=>Jh,name:()=>t3,prepare:()=>Gh,validate:()=>mE});var J={};_.r(J),_.d(J,{base10:()=>a3});var se={};_.r(se),_.d(se,{base16:()=>c3,base16upper:()=>S8});var ce={};_.r(ce),_.d(ce,{base2:()=>cw});var ae={};_.r(ae),_.d(ae,{base256emoji:()=>d3});var fe={};_.r(fe),_.d(fe,{base32:()=>Cg,base32hex:()=>rh,base32hexpad:()=>h3,base32hexpadupper:()=>p3,base32hexupper:()=>by,base32pad:()=>u3,base32padupper:()=>f3,base32upper:()=>l3,base32z:()=>m3});var he={};_.r(he),_.d(he,{base36:()=>y3,base36upper:()=>g3});var we={};_.r(we),_.d(we,{base58btc:()=>ih,base58flickr:()=>uT});var Me={};_.r(Me),_.d(Me,{base64:()=>v3,base64pad:()=>b3,base64url:()=>w3,base64urlpad:()=>_3});var Pe={};_.r(Pe),_.d(Pe,{base8:()=>lw});var C={};_.r(C),_.d(C,{identity:()=>oh});var a={};_.r(a),_.d(a,{code:()=>pT,decode:()=>A8,encode:()=>T8,name:()=>hT});var d={};_.r(d),_.d(d,{code:()=>TE,decode:()=>I8,encode:()=>AE,name:()=>D8});var m={};_.r(m),_.d(m,{identity:()=>P3});var p={};_.r(p),_.d(p,{sha256:()=>R3,sha512:()=>UE});var E={};_.r(E),_.d(E,{code:()=>Bg,decode:()=>Ew,encode:()=>L8,name:()=>NT});var D={};_.r(D),_.d(D,{base10:()=>jg});var R={};_.r(R),_.d(R,{base16:()=>d2,base16upper:()=>Bw});var x={};_.r(x),_.d(x,{base2:()=>uA});var s={};_.r(s),_.d(s,{base256emoji:()=>pA});var v={};_.r(v),_.d(v,{base32:()=>Ay,base32hex:()=>I6,base32hexpad:()=>C6,base32hexpadupper:()=>k6,base32hexupper:()=>Vg,base32pad:()=>A6,base32padupper:()=>D6,base32upper:()=>mA,base32z:()=>P6});var $={};_.r($),_.d($,{base36:()=>Nw,base36upper:()=>yA});var F={};_.r(F),_.d(F,{base58btc:()=>xf,base58flickr:()=>gA});var Q={};_.r(Q),_.d(Q,{base64:()=>O6,base64pad:()=>vA,base64url:()=>l2,base64urlpad:()=>Uw});var de={};_.r(de),_.d(de,{base8:()=>R6});var Ce={};_.r(Ce),_.d(Ce,{identity:()=>B6});var Re={};_.r(Re),_.d(Re,{code:()=>K6,decode:()=>zg,encode:()=>u2,name:()=>L6});var Ve={};_.r(Ve),_.d(Ve,{code:()=>wA,decode:()=>Hg,encode:()=>F6,name:()=>bA});var Ee={};_.r(Ee),_.d(Ee,{identity:()=>DA});var _e={};_.r(_e),_.d(_e,{sha256:()=>t5,sha512:()=>n5});var Fe=_(49970),be=_(14725);const Ae=new TextEncoder,ge=new TextDecoder;class me{static base64UrlToBytes(t){return be.r0.baseDecode(t)}static base64UrlToObject(t){const n=be.r0.baseDecode(t);return me.bytesToObject(n)}static bytesToBase64Url(t){return be.r0.baseEncode(t)}static bytesToString(t){return ge.decode(t)}static bytesToObject(t){const n=me.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return Ae.encode(n)}static stringToBase64Url(t){const n=Ae.encode(t);return be.r0.baseEncode(n)}static stringToBytes(t){return Ae.encode(t)}}var te=_(63741);class ne extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var ue=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.DidMethodNotSupported="DidMethodNotSupported",r.DidNotString="DidNotString",r.DidNotValid="DidNotValid",r.DidResolutionFailed="DidResolutionFailed",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.EventsSubscribeEventStreamUnimplemented="EventsSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessageGetInvalidCid="MessageGetInvalidCid",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeSchemaProhibitedProperties="PermissionsProtocolValidateScopeSchemaProhibitedProperties",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationQueryWithoutRole="ProtocolAuthorizationQueryWithoutRole",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureQueryNotAllowed="ProtocolsConfigureQueryNotAllowed",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeMissingProtocol="RecordsGrantAuthorizationScopeMissingProtocol",r.RecordsGrantAuthorizationScopeNotRecords="RecordsGrantAuthorizationScopeNotRecords",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsGrantAuthorizationScopeSchema="RecordsGrantAuthorizationScopeSchema",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable",r}(ue||{}),De=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function Be(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new ne(ue.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function Qe(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:me.bytesToBase64Url(r)}}const ze={sign:(r,t)=>De(void 0,void 0,void 0,function*(){Be(t);const n=me.base64UrlToBytes(t.d);return te.wJ(r,n)}),verify:(r,t,n)=>De(void 0,void 0,void 0,function*(){Be(n);const i=me.base64UrlToBytes(n.x);return te.kv(t,r,i)}),generateKeyPair:()=>De(void 0,void 0,void 0,function*(){const r=te.Wp.randomPrivateKey(),t=yield te.Rn(r),n=me.bytesToBase64Url(r),i=Qe(t);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:n})}}),publicKeyToJwk:r=>De(void 0,void 0,void 0,function*(){return Qe(r)})};var Dt=_(68464),Xe=_(10467),Ue=_(92059);const mt=r=>function(){var t=(0,Xe.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),K=(0,Ue.H)({name:"sha2-256",code:18,encode:mt("SHA-256")});(0,Ue.H)({name:"sha2-512",code:19,encode:mt("SHA-512")});var M=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class pe{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new ne(ue.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return M(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Dt.CB.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:me.bytesToBase64Url(n.subarray(1,33)),y:me.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return M(this,void 0,void 0,function*(){const n=yield pe.getPublicKey(t),i=yield pe.publicKeyToJwk(n);return i.d=me.bytesToBase64Url(t),i})}static publicJwkToBytes(t){const n=me.base64UrlToBytes(t.x),i=me.base64UrlToBytes(t.y);return Dt.CB.fromAffine({x:Dt.jn.bytesToNumberBE(n),y:Dt.jn.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(t){return me.base64UrlToBytes(t.d)}static sign(t,n){return M(this,void 0,void 0,function*(){pe.validateKey(n);const i=yield K.encode(t),u=pe.privateJwkToBytes(n);return(yield Dt.wJ(i,u)).toCompactRawBytes()})}static verify(t,n,i){return M(this,void 0,void 0,function*(){pe.validateKey(i);const u=pe.publicJwkToBytes(i),h=yield K.encode(t);return Dt.MX(n,h,u)})}static generateKeyPair(){return M(this,void 0,void 0,function*(){const t=Dt.Wp.randomPrivateKey(),n=Dt.lG(t,!1),i=me.bytesToBase64Url(t),u=yield pe.publicKeyToJwk(n);return{publicJwk:u,privateJwk:Object.assign(Object.assign({},u),{d:i})}})}static generateKeyPairRaw(){return M(this,void 0,void 0,function*(){const t=Dt.Wp.randomPrivateKey();return{publicKey:Dt.lG(t,!0),privateKey:t}})}static getPublicKey(t){return M(this,void 0,void 0,function*(){return Dt.lG(t,!0)})}static getPublicJwk(t){return M(this,void 0,void 0,function*(){return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"])})}}var ke=_(40499);function Ne(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const Cn=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class ut{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Gt{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return pn(this,t)}}class nn{constructor(t){this.decoders=t}or(t){return pn(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const pn=(r,t)=>new nn({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class ur{constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new ut(t,n,i),this.decoder=new Gt(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const yt=({name:r,prefix:t,encode:n,decode:i})=>new ur(r,t,n,i),_t=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:u}=function lt(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var nt=0;if(" "!==Ke[nt]){for(var wt=0,Ot=0;Ke[nt]===X;)wt++,nt++;for(var Et=(Ke.length-nt)*W+1>>>0,St=new Uint8Array(Et);Ke[nt];){var Nt=n[Ke.charCodeAt(nt)];if(255===Nt)return;for(var Yt=0,Qt=Et-1;(0!==Nt||Yt<Ot)&&-1!==Qt;Qt--,Yt++)St[Qt]=(Nt+=f*St[Qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");Ot=Yt,nt++}if(" "!==Ke[nt]){for(var ln=Et-Ot;ln!==Et&&0===St[ln];)ln++;for(var Ht=new Uint8Array(wt+(Et-ln)),An=wt;ln!==Et;)Ht[An++]=St[ln++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var nt=0,wt=0,Ot=0,Et=Ke.length;Ot!==Et&&0===Ke[Ot];)Ot++,nt++;for(var St=(Et-Ot)*k+1>>>0,Nt=new Uint8Array(St);Ot!==Et;){for(var Yt=Ke[Ot],Qt=0,ln=St-1;(0!==Yt||Qt<wt)&&-1!==ln;ln--,Qt++)Nt[ln]=(Yt+=256*Nt[ln]>>>0)%f>>>0,Yt=Yt/f>>>0;if(0!==Yt)throw new Error("Non-zero carry");wt=Qt,Ot++}for(var Ht=St-wt;Ht!==St&&0===Nt[Ht];)Ht++;for(var An=X.repeat(nt);Ht<St;++Ht)An+=r.charAt(Nt[Ht]);return An},decodeUnsafe:Oe,decode:function je(Ke){var nt=Oe(Ke);if(nt)return nt;throw new Error(`Non-${t} character`)}}}(n,t);return yt({prefix:r,name:t,encode:i,decode:h=>Cn(u(h))})},tt=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>yt({prefix:t,name:r,encode:u=>((r,t,n)=>{const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h})(u,i,n),decode:u=>((r,t,n,i)=>{const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l})(u,i,n,r)}),Wt=_t({prefix:"9",name:"base10",alphabet:"0123456789"}),Ft=tt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),mn=tt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),zn=tt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wn=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Tn=wn.reduce((r,t,n)=>(r[n]=t,r),[]),vr=wn.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),Ln=yt({prefix:"\u{1f680}",name:"base256emoji",encode:function ir(r){return r.reduce((t,n)=>t+Tn[n],"")},decode:function Nn(r){const t=[];for(const n of r){const i=vr[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),at=tt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),He=tt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ct=tt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Zt=tt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xn=tt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Hn=tt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),er=tt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hr=tt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Nr=tt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Cr=_t({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ur=_t({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Lr=_t({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oi=_t({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),on=tt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),_n=tt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Dn=tt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Wn=tt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Gn=tt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),wr=yt({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),xr=new TextEncoder,jr=new TextDecoder,Kr="json",Ti=512,wo=r=>xr.encode(JSON.stringify(r)),si=r=>JSON.parse(jr.decode(r)),ho="raw",yo=85,Io=r=>Cn(r),pi=r=>Cn(r);var Ni=128,Di=-128,Sn=Math.pow(2,31),ti=Math.pow(2,7),ps=Math.pow(2,14),ns=Math.pow(2,21),Ga=Math.pow(2,28),ro=Math.pow(2,35),Bo=Math.pow(2,42),To=Math.pow(2,49),go=Math.pow(2,56),yl=Math.pow(2,63);const Pc_encode=function br(r,t,n){t=t||[];for(var i=n=n||0;r>=Sn;)t[n++]=255&r|Ni,r/=128;for(;r&Di;)t[n++]=255&r|Ni,r>>>=7;return t[n]=0|r,br.bytes=n-i+1,t},Pc_encodingLength=function(r){return r<ti?1:r<ps?2:r<ns?3:r<Ga?4:r<ro?5:r<Bo?6:r<To?7:r<go?8:r<yl?9:10},oa=(r,t,n=0)=>(Pc_encode(r,t,n),t),rc=r=>Pc_encodingLength(r),Wi=(r,t)=>{const n=t.byteLength,i=rc(r),u=i+rc(n),h=new Uint8Array(u+n);return oa(r,h,0),oa(n,h,i),h.set(t,u),new Aa(r,n,t,h)};class Aa{constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const Oc=Cn,Xo={code:0,name:"identity",encode:Oc,digest:r=>Wi(0,Oc(r))},Rc=({name:r,code:t,encode:n})=>new Ho(r,t,n);class Ho{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Wi(this.code,n):n.then(i=>Wi(this.code,i))}throw Error("Unknown type, must be binary type")}}const Ir=r=>function(){var t=(0,Xe.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),Ns=Rc({name:"sha2-256",code:18,encode:Ir("SHA-256")}),So=Rc({name:"sha2-512",code:19,encode:Ir("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const ed={...U,...P,...N,...y,...b,...w,...O,...S,...B,...H};function vc(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const ba=vc("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Da=vc("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function Uo(r=0){return null!=globalThis.Buffer?.allocUnsafe?Ne(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),Lt={utf8:ba,"utf-8":ba,hex:ed.base16,latin1:Da,ascii:Da,binary:Da,...ed};function At(r,t="utf8"){const n=Lt[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):Ne(globalThis.Buffer.from(r,"utf-8"))}var fn=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const gn_toString=function Tt(r,t="utf8"){const n=Lt[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(r).substring(1):globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8")};class Rn{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new ne(ue.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return fn(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?ke.s9.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:me.bytesToBase64Url(n.subarray(1,33)),y:me.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return me.base64UrlToBytes(t.d)}static sign(t,n){return fn(this,void 0,void 0,function*(){Rn.validateKey(n);const i=yield K.encode(t),u=Rn.privateJwkToBytes(n);return Promise.resolve(ke.s9.sign(i,u).toCompactRawBytes())})}static verify(t,n,i){return fn(this,void 0,void 0,function*(){let u;Rn.validateKey(i),u=64===n.length?ke.s9.Signature.fromCompact(n):ke.s9.Signature.fromDER(n);const h=yield K.encode(t),l=ke.s9.ProjectivePoint.fromAffine({x:Rn.bytesToBigInt(me.base64UrlToBytes(i.x)),y:Rn.bytesToBigInt(me.base64UrlToBytes(i.y))}).toRawBytes(!1);return ke.s9.verify(u,h,l)})}static generateKeyPair(){return fn(this,void 0,void 0,function*(){const t=ke.s9.utils.randomPrivateKey(),n=ke.Ag.getPublicKey(t,!1),i=me.bytesToBase64Url(t),u=yield Rn.publicKeyToJwk(n);return{publicJwk:u,privateJwk:Object.assign(Object.assign({},u),{d:i})}})}static bytesToBigInt(t){return BigInt("0x"+gn_toString(t,"base16"))}}const dr={Ed25519:ze,secp256k1:{sign:pe.sign,verify:pe.verify,generateKeyPair:pe.generateKeyPair,publicKeyToJwk:pe.publicKeyToJwk},"P-256":{sign:Rn.sign,verify:Rn.verify,generateKeyPair:Rn.generateKeyPair,publicKeyToJwk:Rn.publicKeyToJwk}};class Mr{constructor(t){var n,i;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new ne(ue.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new ne(ue.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(i=t.algorithm)&&void 0!==i?i:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=dr[t.privateJwk.crv],!this.signatureAlgorithm)throw new ne(ue.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(dr)}`)}sign(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class cr{static getKid(t){const{kid:n}=me.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=cr.getKid(t);return cr.extractDid(n)}static verifySignature(t,n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const u=dr[i.crv];if(!u)throw new ne(ue.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(dr)}`);const h=me.stringToBytes(`${n.protected}.${t}`),l=me.base64UrlToBytes(n.signature);return yield u.verify(h,l,i)})}static decodePlainObjectPayload(t){let n;try{n=me.base64UrlToObject(t.payload)}catch{throw new ne(ue.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!Fe(n))throw new ne(ue.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(i=>cr.createSigner(i))}static createSigner(t){return new Mr({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var as=_(40573);const aa="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,oc=new Set,Os="object"==typeof as&&as?as:{},Rt=(r,t,n,i)=>{"function"==typeof Os.emitWarning?Os.emitWarning(r,t,n,i):console.error(`[${n}] ${t}: ${r}`)};let kt=globalThis.AbortController,gt=globalThis.AbortSignal;if(typeof kt>"u"){gt=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,u){this._onabort.push(u)}},kt=class{constructor(){t()}signal=new gt;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const u of this.signal._onabort)u(i);this.signal.onabort?.(i)}}};let r="1"!==Os.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,Rt("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const Hr=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),co=r=>Hr(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?Eo:null:null;class Eo extends Array{constructor(t){super(t),this.fill(0)}}class Js{heap;length;static#e=!1;static create(t){const n=co(t);if(!n)return[];Js.#e=!0;const i=new Js(t,n);return Js.#e=!1,i}constructor(t,n){if(!Js.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class td{#e;#t;#n;#f;#T;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#y;#a;#o;#r;#u;#p;#l;#c;#g;#d;#E;#x;#v;#b;#S;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#l},get tail(){return t.#c},free:t.#g,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,i,u,h)=>t.#P(n,i,u,h),moveToTail:n=>t.#I(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#y}get size(){return this.#s}get fetchMethod(){return this.#T}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:i,ttlResolution:u=1,ttlAutopurge:h,updateAgeOnGet:l,updateAgeOnHas:f,allowStale:X,dispose:W,disposeAfter:k,noDisposeOnSet:re,noUpdateTTL:Oe,maxSize:je=0,maxEntrySize:Ke=0,sizeCalculation:nt,fetchMethod:wt,noDeleteOnFetchRejection:Ot,noDeleteOnStaleGet:Et,allowStaleOnFetchRejection:St,allowStaleOnFetchAbort:Nt,ignoreFetchAbort:Yt}=t;if(0!==n&&!Hr(n))throw new TypeError("max option must be a nonnegative integer");const Qt=n?co(n):Array;if(!Qt)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=je,this.maxEntrySize=Ke||this.#t,this.sizeCalculation=nt,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==wt&&"function"!=typeof wt)throw new TypeError("fetchMethod must be a function if specified");if(this.#T=wt,this.#S=!!wt,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new Qt(n),this.#p=new Qt(n),this.#l=0,this.#c=0,this.#g=Js.create(n),this.#s=0,this.#y=0,"function"==typeof W&&(this.#n=W),"function"==typeof k?(this.#f=k,this.#d=[]):(this.#f=void 0,this.#d=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!re,this.noUpdateTTL=!!Oe,this.noDeleteOnFetchRejection=!!Ot,this.allowStaleOnFetchRejection=!!St,this.allowStaleOnFetchAbort=!!Nt,this.ignoreFetchAbort=!!Yt,0!==this.maxEntrySize){if(0!==this.#t&&!Hr(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Hr(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#L()}if(this.allowStale=!!X,this.noDeleteOnStaleGet=!!Et,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!f,this.ttlResolution=Hr(u)||0===u?u:1,this.ttlAutopurge=!!h,this.ttl=i||0,this.ttl){if(!Hr(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const ln="LRU_CACHE_UNBOUNDED";!oc.has(ln)&&(oc.add(ln),Rt("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ln,td))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#O(){const t=new Eo(this.#e),n=new Eo(this.#e);this.#v=t,this.#x=n,this.#R=(h,l,f=aa.now())=>{if(n[h]=0!==l?f:0,t[h]=l,0!==l&&this.ttlAutopurge){const X=setTimeout(()=>{this.#m(h)&&this.delete(this.#o[h])},l+1);X.unref&&X.unref()}},this.#A=h=>{n[h]=0!==t[h]?aa.now():0},this.#M=(h,l)=>{if(t[l]){const f=t[l],X=n[l];h.ttl=f,h.start=X,h.now=i||u(),h.remainingTTL=f-(h.now-X)}};let i=0;const u=()=>{const h=aa.now();if(this.ttlResolution>0){i=h;const l=setTimeout(()=>i=0,this.ttlResolution);l.unref&&l.unref()}return h};this.getRemainingTTL=h=>{const l=this.#a.get(h);if(void 0===l)return 0;const f=t[l],X=n[l];return 0===f||0===X?1/0:f-((i||u())-X)},this.#m=h=>0!==t[h]&&0!==n[h]&&(i||u())-n[h]>t[h]}#A=()=>{};#M=()=>{};#R=()=>{};#m=()=>!1;#L(){const t=new Eo(this.#e);this.#y=0,this.#E=t,this.#D=n=>{this.#y-=t[n],t[n]=0},this.#B=(n,i,u,h)=>{if(this.#i(i))return 0;if(!Hr(u)){if(!h)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof h)throw new TypeError("sizeCalculation must be a function");if(u=h(i,n),!Hr(u))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return u},this.#C=(n,i,u)=>{if(t[n]=i,this.#t){const h=this.#t-t[n];for(;this.#y>h;)this.#k(!0)}this.#y+=t[n],u&&(u.entrySize=i,u.totalCalculatedSize=this.#y)}}#D=t=>{};#C=(t,n,i)=>{};#B=(t,n,i,u)=>{if(i||u)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#l);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#l;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#N(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const i of this.#w()){const u=this.#r[i],h=this.#i(u)?u.__staleWhileFetching:u;if(void 0!==h&&t(h,this.#o[i],this))return this.get(this.#o[i],n)}}forEach(t,n=this){for(const i of this.#w()){const u=this.#r[i],h=this.#i(u)?u.__staleWhileFetching:u;void 0!==h&&t.call(n,h,this.#o[i],this)}}rforEach(t,n=this){for(const i of this.#_()){const u=this.#r[i],h=this.#i(u)?u.__staleWhileFetching:u;void 0!==h&&t.call(n,h,this.#o[i],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const i=this.#o[n],u=this.#r[n],h=this.#i(u)?u.__staleWhileFetching:u;if(void 0===h||void 0===i)continue;const l={value:h};if(this.#v&&this.#x){l.ttl=this.#v[n];const f=aa.now()-this.#x[n];l.start=Math.floor(Date.now()-f)}this.#E&&(l.size=this.#E[n]),t.unshift([i,l])}return t}load(t){this.clear();for(const[n,i]of t){if(i.start){const u=Date.now()-i.start;i.start=aa.now()-u}this.set(n,i.value,i)}}set(t,n,i={}){if(void 0===n)return this.delete(t),this;const{ttl:u=this.ttl,start:h,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:f=this.sizeCalculation,status:X}=i;let{noUpdateTTL:W=this.noUpdateTTL}=i;const k=this.#B(t,n,i.size||0,f);if(this.maxEntrySize&&k>this.maxEntrySize)return X&&(X.set="miss",X.maxEntrySizeExceeded=!0),this.delete(t),this;let re=0===this.#s?void 0:this.#a.get(t);if(void 0===re)re=0===this.#s?this.#c:0!==this.#g.length?this.#g.pop():this.#s===this.#e?this.#k(!1):this.#s,this.#o[re]=t,this.#r[re]=n,this.#a.set(t,re),this.#u[this.#c]=re,this.#p[re]=this.#c,this.#c=re,this.#s++,this.#C(re,k,X),X&&(X.set="add"),W=!1;else{this.#I(re);const Oe=this.#r[re];if(n!==Oe){if(this.#S&&this.#i(Oe)?Oe.__abortController.abort(new Error("replaced")):l||(this.#b&&this.#n?.(Oe,t,"set"),this.#h&&this.#d?.push([Oe,t,"set"])),this.#D(re),this.#C(re,k,X),this.#r[re]=n,X){X.set="replace";const je=Oe&&this.#i(Oe)?Oe.__staleWhileFetching:Oe;void 0!==je&&(X.oldValue=je)}}else X&&(X.set="update")}if(0!==u&&!this.#v&&this.#O(),this.#v&&(W||this.#R(re,u,h),X&&this.#M(X,re)),!l&&this.#h&&this.#d){const Oe=this.#d;let je;for(;je=Oe?.shift();)this.#f?.(...je)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#l];if(this.#k(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#d){const t=this.#d;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#k(t){const n=this.#l,i=this.#o[n],u=this.#r[n];return this.#S&&this.#i(u)?u.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(u,i,"evict"),this.#h&&this.#d?.push([u,i,"evict"])),this.#D(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#g.push(n)),1===this.#s?(this.#l=this.#c=0,this.#g.length=0):this.#l=this.#u[n],this.#a.delete(i),this.#s--,n}has(t,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:u}=n,h=this.#a.get(t);if(void 0!==h){const l=this.#r[h];if(this.#i(l)&&void 0===l.__staleWhileFetching)return!1;if(!this.#m(h))return i&&this.#A(h),u&&(u.has="hit",this.#M(u,h)),!0;u&&(u.has="stale",this.#M(u,h))}else u&&(u.has="miss");return!1}peek(t,n={}){const{allowStale:i=this.allowStale}=n,u=this.#a.get(t);if(void 0!==u&&(i||!this.#m(u))){const h=this.#r[u];return this.#i(h)?h.__staleWhileFetching:h}}#P(t,n,i,u){const h=void 0===n?void 0:this.#r[n];if(this.#i(h))return h;const l=new kt,{signal:f}=i;f?.addEventListener("abort",()=>l.abort(f.reason),{signal:l.signal});const X={signal:l.signal,options:i,context:u},W=(nt,wt=!1)=>{const{aborted:Ot}=l.signal,Et=i.ignoreFetchAbort&&void 0!==nt;return i.status&&(Ot&&!wt?(i.status.fetchAborted=!0,i.status.fetchError=l.signal.reason,Et&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!Ot||Et||wt?(this.#r[n]===je&&(void 0===nt?je.__staleWhileFetching?this.#r[n]=je.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,nt,X.options))),nt):re(l.signal.reason)},re=nt=>{const{aborted:wt}=l.signal,Ot=wt&&i.allowStaleOnFetchAbort,Et=Ot||i.allowStaleOnFetchRejection,Nt=je;if(this.#r[n]===je&&((Et||i.noDeleteOnFetchRejection)&&void 0!==Nt.__staleWhileFetching?Ot||(this.#r[n]=Nt.__staleWhileFetching):this.delete(t)),Et)return i.status&&void 0!==Nt.__staleWhileFetching&&(i.status.returnedStale=!0),Nt.__staleWhileFetching;if(Nt.__returned===Nt)throw nt};i.status&&(i.status.fetchDispatched=!0);const je=new Promise((nt,wt)=>{const Ot=this.#T?.(t,h,X);Ot&&Ot instanceof Promise&&Ot.then(Et=>nt(Et),wt),l.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(nt(),i.allowStaleOnFetchAbort&&(nt=Et=>W(Et,!0)))})}).then(W,nt=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=nt),re(nt))),Ke=Object.assign(je,{__abortController:l,__staleWhileFetching:h,__returned:void 0});return void 0===n?(this.set(t,Ke,{...X.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Ke,Ke}#i(t){if(!this.#S)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof kt}fetch(t,n={}){var i=this;return(0,Xe.A)(function*(){const{allowStale:u=i.allowStale,updateAgeOnGet:h=i.updateAgeOnGet,noDeleteOnStaleGet:l=i.noDeleteOnStaleGet,ttl:f=i.ttl,noDisposeOnSet:X=i.noDisposeOnSet,size:W=0,sizeCalculation:k=i.sizeCalculation,noUpdateTTL:re=i.noUpdateTTL,noDeleteOnFetchRejection:Oe=i.noDeleteOnFetchRejection,allowStaleOnFetchRejection:je=i.allowStaleOnFetchRejection,ignoreFetchAbort:Ke=i.ignoreFetchAbort,allowStaleOnFetchAbort:nt=i.allowStaleOnFetchAbort,context:wt,forceRefresh:Ot=!1,status:Et,signal:St}=n;if(!i.#S)return Et&&(Et.fetch="get"),i.get(t,{allowStale:u,updateAgeOnGet:h,noDeleteOnStaleGet:l,status:Et});const Nt={allowStale:u,updateAgeOnGet:h,noDeleteOnStaleGet:l,ttl:f,noDisposeOnSet:X,size:W,sizeCalculation:k,noUpdateTTL:re,noDeleteOnFetchRejection:Oe,allowStaleOnFetchRejection:je,allowStaleOnFetchAbort:nt,ignoreFetchAbort:Ke,status:Et,signal:St};let Yt=i.#a.get(t);if(void 0===Yt){Et&&(Et.fetch="miss");const Qt=i.#P(t,Yt,Nt,wt);return Qt.__returned=Qt}{const Qt=i.#r[Yt];if(i.#i(Qt)){const qn=u&&void 0!==Qt.__staleWhileFetching;return Et&&(Et.fetch="inflight",qn&&(Et.returnedStale=!0)),qn?Qt.__staleWhileFetching:Qt.__returned=Qt}const ln=i.#m(Yt);if(!Ot&&!ln)return Et&&(Et.fetch="hit"),i.#I(Yt),h&&i.#A(Yt),Et&&i.#M(Et,Yt),Qt;const Ht=i.#P(t,Yt,Nt,wt),Jn=void 0!==Ht.__staleWhileFetching&&u;return Et&&(Et.fetch=ln?"stale":"refresh",Jn&&ln&&(Et.returnedStale=!0)),Jn?Ht.__staleWhileFetching:Ht.__returned=Ht}})()}get(t,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:u=this.updateAgeOnGet,noDeleteOnStaleGet:h=this.noDeleteOnStaleGet,status:l}=n,f=this.#a.get(t);if(void 0!==f){const X=this.#r[f],W=this.#i(X);return l&&this.#M(l,f),this.#m(f)?(l&&(l.get="stale"),W?(l&&i&&void 0!==X.__staleWhileFetching&&(l.returnedStale=!0),i?X.__staleWhileFetching:void 0):(h||this.delete(t),l&&i&&(l.returnedStale=!0),i?X:void 0)):(l&&(l.get="hit"),W?X.__staleWhileFetching:(this.#I(f),u&&this.#A(f),X))}l&&(l.get="miss")}#U(t,n){this.#p[n]=t,this.#u[t]=n}#I(t){t!==this.#c&&(t===this.#l?this.#l=this.#u[t]:this.#U(this.#p[t],this.#u[t]),this.#U(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const i=this.#a.get(t);if(void 0!==i)if(n=!0,1===this.#s)this.clear();else{this.#D(i);const u=this.#r[i];this.#i(u)?u.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(u,t,"delete"),this.#h&&this.#d?.push([u,t,"delete"])),this.#a.delete(t),this.#o[i]=void 0,this.#r[i]=void 0,i===this.#c?this.#c=this.#p[i]:i===this.#l?this.#l=this.#u[i]:(this.#u[this.#p[i]]=this.#u[i],this.#p[this.#u[i]]=this.#p[i]),this.#s--,this.#g.push(i)}}if(this.#h&&this.#d?.length){const i=this.#d;let u;for(;u=i?.shift();)this.#f?.(...u)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#o[t];this.#b&&this.#n?.(n,i,"delete"),this.#h&&this.#d?.push([n,i,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#l=0,this.#c=0,this.#g.length=0,this.#y=0,this.#s=0,this.#h&&this.#d){const t=this.#d;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var ca=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Mu{constructor(t){this.timeToLiveInSeconds=t,this.cache=new td({max:1e5,ttl:1e3*t})}set(t,n){return ca(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return ca(this,void 0,void 0,function*(){return this.cache.get(t)})}}const Su=ys,wa=new RegExp("^[A-Za-z0-9_-]+$","u");function Wo(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=Wo.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Wo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Oe=0;for(const je in r)if("payload"!==je&&"signatures"!==je)return Wo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(0===Oe){if(void 0!==r.payload){let je=r.payload;const Ke=0;if("string"!=typeof je)return Wo.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wa.test(je))return Wo.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var W=0===Ke}else W=!0;if(W)if(void 0!==r.signatures){let je=r.signatures;const Ke=0;if(0===Ke){if(!Array.isArray(je))return Wo.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(je.length<1)return Wo.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const wt=je.length;for(let Ot=0;Ot<wt;Ot++){let Et=je[Ot];const St=0;if(0===St){if(!Et||"object"!=typeof Et||Array.isArray(Et))return Wo.errors=[{instancePath:t+"/signatures/"+Ot,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Et.protected){let Yt=Et.protected;const Qt=0;if("string"!=typeof Yt)return Wo.errors=[{instancePath:t+"/signatures/"+Ot+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wa.test(Yt))return Wo.errors=[{instancePath:t+"/signatures/"+Ot+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var re=0===Qt}else re=!0;if(re)if(void 0!==Et.signature){let Yt=Et.signature;const Qt=0;if("string"!=typeof Yt)return Wo.errors=[{instancePath:t+"/signatures/"+Ot+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wa.test(Yt))return Wo.errors=[{instancePath:t+"/signatures/"+Ot+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;re=0===Qt}else re=!0}if(0!==St)break}}}W=0===Ke}else W=!0}}return Wo.errors=null,!0}function ys(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=ys.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return ys.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const W=f;for(const k in r)if("signature"!==k)return ys.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;W===f&&void 0!==r.signature&&(Wo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:u,dynamicAnchors:h})||(l=null===l?Wo.errors:l.concat(Wo.errors),f=l.length))}}return ys.errors=l,0===f}Wo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},ys.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ui=Xr,Xa={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},Ss=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),qd=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),Au=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),ws=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),_a={validate:Ya};function Zo(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Zo.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Zo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const k=f;for(const re in r)if("signature"!==re&&"authorDelegatedGrant"!==re&&"ownerSignature"!==re&&"ownerDelegatedGrant"!==re)return Zo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties"}],!1;if(k===f){let re;if(void 0!==r.ownerSignature&&void 0===r.signature&&(re="signature"))return Zo.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:re,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const Oe=f;Wo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:u,dynamicAnchors:h})||(l=null===l?Wo.errors:l.concat(Wo.errors),f=l.length);var W=Oe===f}else W=!0;if(W){if(void 0!==r.authorDelegatedGrant){const Oe=f;_a.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:u,dynamicAnchors:h})||(l=null===l?_a.validate.errors:l.concat(_a.validate.errors),f=l.length),W=Oe===f}else W=!0;if(W){if(void 0!==r.ownerSignature){const Oe=f;Wo(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:u,dynamicAnchors:h})||(l=null===l?Wo.errors:l.concat(Wo.errors),f=l.length),W=Oe===f}else W=!0;if(W)if(void 0!==r.ownerDelegatedGrant){const Oe=f;_a.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:u,dynamicAnchors:h})||(l=null===l?_a.validate.errors:l.concat(_a.validate.errors),f=l.length),W=Oe===f}else W=!0}}}}}return Zo.errors=l,0===f}Zo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ja={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Ji(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Ji.evaluated;X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0);const W=f,k=f;let re=!1,Oe=null;const je=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let jn;if(void 0===r.crv&&(jn="crv")||void 0===r.x&&(jn="x")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"};null===l?l=[Kn]:l.push(Kn),f++}else{if(void 0!==r.kty){const Kn=f;if("EC"!==r.kty){const Xn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),f++}var Ke=Kn===f}else Ke=!0;if(Ke){if(void 0!==r.crv){const Kn=f;if("string"!=typeof r.crv){const In={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Ke=Kn===f}else Ke=!0;if(Ke){if(void 0!==r.x){const Kn=f;if("string"!=typeof r.x){const In={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Ke=Kn===f}else Ke=!0;if(Ke){if(void 0!==r.y){const Kn=f;if("string"!=typeof r.y){const In={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Ke=Kn===f}else Ke=!0;if(Ke)if(void 0!==r.d){const Kn=f;if("string"!=typeof r.d){const In={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Ke=Kn===f}else Ke=!0}}}}}if(Et=je===f){re=!0,Oe=0;var nt={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const wt=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let jn;if(void 0===r.crv&&(jn="crv")||void 0===r.x&&(jn="x")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"};null===l?l=[Kn]:l.push(Kn),f++}else{if(void 0!==r.kty){const Kn=f;if("OKP"!==r.kty){const Xn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),f++}var Ot=Kn===f}else Ot=!0;if(Ot){if(void 0!==r.crv){const Kn=f;if("string"!=typeof r.crv){const In={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Ot=Kn===f}else Ot=!0;if(Ot){if(void 0!==r.x){const Kn=f;if("string"!=typeof r.x){const In={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Ot=Kn===f}else Ot=!0;if(Ot)if(void 0!==r.d){const Kn=f;if("string"!=typeof r.d){const In={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Ot=Kn===f}else Ot=!0}}}}if((Et=wt===f)&&re)re=!1,Oe=[Oe,1];else{Et&&(re=!0,Oe=1,!0!==nt&&((nt=nt||{}).kty=!0,nt.crv=!0,nt.x=!0,nt.d=!0));const jn=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.n&&(Xn="n")||void 0===r.e&&(Xn="e")){const In={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"};null===l?l=[In]:l.push(In),f++}else{if(void 0!==r.kty){const In=f;if("RSA"!==r.kty){const yr={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===l?l=[yr]:l.push(yr),f++}var St=In===f}else St=!0;if(St){if(void 0!==r.n){const In=f;if("string"!=typeof r.n){const gr={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[gr]:l.push(gr),f++}St=In===f}else St=!0;if(St){if(void 0!==r.e){const In=f;if("string"!=typeof r.e){const gr={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[gr]:l.push(gr),f++}St=In===f}else St=!0;if(St){if(void 0!==r.d){const In=f;if("string"!=typeof r.d){const gr={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[gr]:l.push(gr),f++}St=In===f}else St=!0;if(St){if(void 0!==r.p){const In=f;if("string"!=typeof r.p){const gr={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[gr]:l.push(gr),f++}St=In===f}else St=!0;if(St){if(void 0!==r.q){const In=f;if("string"!=typeof r.q){const gr={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[gr]:l.push(gr),f++}St=In===f}else St=!0;if(St){if(void 0!==r.dp){const In=f;if("string"!=typeof r.dp){const gr={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[gr]:l.push(gr),f++}St=In===f}else St=!0;if(St){if(void 0!==r.dq){const In=f;if("string"!=typeof r.dq){const gr={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[gr]:l.push(gr),f++}St=In===f}else St=!0;if(St){if(void 0!==r.qi){const In=f;if("string"!=typeof r.qi){const gr={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[gr]:l.push(gr),f++}St=In===f}else St=!0;if(St)if(void 0!==r.oth){let In=r.oth;const yr=f;if(!In||"object"!=typeof In||Array.isArray(In)){const Er={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Er]:l.push(Er),f++}St=yr===f}else St=!0}}}}}}}}}}if((Et=jn===f)&&re)re=!1,Oe=[Oe,2];else{Et&&(re=!0,Oe=2,!0!==nt&&((nt=nt||{}).kty=!0,nt.n=!0,nt.e=!0,nt.d=!0,nt.p=!0,nt.q=!0,nt.dp=!0,nt.dq=!0,nt.qi=!0,nt.oth=!0));const Xn=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.k&&(yr="k")){const gr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:yr},message:"must have required property '"+yr+"'"};null===l?l=[gr]:l.push(gr),f++}else{if(void 0!==r.kty){const gr=f;if("oct"!==r.kty){const Er={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===l?l=[Er]:l.push(Er),f++}var Nt=gr===f}else Nt=!0;if(Nt)if(void 0!==r.k){const gr=f;if("string"!=typeof r.k){const Gr={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Gr]:l.push(Gr),f++}Nt=gr===f}else Nt=!0}}var Et;(Et=Xn===f)&&re?(re=!1,Oe=[Oe,3]):Et&&(re=!0,Oe=3,!0!==nt&&((nt=nt||{}).kty=!0,nt.k=!0))}}if(!re){const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:Oe},message:"must match exactly one schema in oneOf"};return null===l?l=[jn]:l.push(jn),f++,Ji.errors=l,!1}if(f=k,null!==l&&(k?l.length=k:l=null),f===W){if(!r||"object"!=typeof r||Array.isArray(r))return Ji.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let jn;if(void 0===r.kty&&(jn="kty"))return Ji.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"}],!1;if(!0!==nt&&((nt=nt||{}).alg=!0,nt.kid=!0,nt.kty=!0,nt.crv=!0,nt.use=!0,nt.key_ops=!0,nt.x5u=!0,nt.x5c=!0,nt.x5t=!0,nt["x5t#S256"]=!0),void 0!==r.alg){const Kn=f;if("string"!=typeof r.alg)return Ji.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.kid){const Kn=f;if("string"!=typeof r.kid)return Ji.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.kty){let Kn=r.kty;const Xn=f;if("EC"!==Kn&&"RSA"!==Kn&&"oct"!==Kn&&"OKP"!==Kn)return Ji.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:ja.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Yt=Xn===f}else Yt=!0;if(Yt){if(void 0!==r.crv){const Kn=f;if("string"!=typeof r.crv)return Ji.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.use){const Kn=f;if("string"!=typeof r.use)return Ji.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.key_ops){const Kn=f;if("string"!=typeof r.key_ops)return Ji.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.x5u){const Kn=f;if("string"!=typeof r.x5u)return Ji.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.x5c){const Kn=f;if("string"!=typeof r.x5c)return Ji.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.x5t){const Kn=f;if("string"!=typeof r.x5t)return Ji.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Kn===f}else Yt=!0;if(Yt)if(void 0!==r["x5t#S256"]){const Kn=f;if("string"!=typeof r["x5t#S256"])return Ji.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Kn===f}else Yt=!0}}}}}}}}}}if(W===f){const jn=f,Kn=f,Xn=f;let In=!1;const yr=f,gr=f;let Er=!1;const Gr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.d&&(Pr="d")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}if(Er=Er||Gr===f,Er)f=gr,null!==l&&(gr?l.length=gr:l=null);else{const Pr={};null===l?l=[Pr]:l.push(Pr),f++}if(f===yr)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const Pr={};null===l?l=[Pr]:l.push(Pr),f++}}else{const Pr={};null===l?l=[Pr]:l.push(Pr),f++}var ar=yr===f;if(In=In||ar,ar)var Ht={kty:!0};const li=f,Pn=f;let hi=!1;const mo=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.d&&(Pr="d")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}if(hi=hi||mo===f,hi)f=Pn,null!==l&&(Pn?l.length=Pn:l=null);else{const Pr={};null===l?l=[Pr]:l.push(Pr),f++}if(f===li)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const Pr={};null===l?l=[Pr]:l.push(Pr),f++}}else{const Pr={};null===l?l=[Pr]:l.push(Pr),f++}ar=li===f,In=In||ar,ar&&!0!==Ht&&((Ht=Ht||{}).kty=!0);const Dr=f,rr=f;let Sr=!1;const ci=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.d&&(Pr="d")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}var Jn=ci===f;Sr=Sr||Jn;const zi=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.p&&(Pr="p")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}Jn=zi===f,Sr=Sr||Jn;const Hi=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.q&&(Pr="q")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}Jn=Hi===f,Sr=Sr||Jn;const Ei=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.dp&&(Pr="dp")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}Jn=Ei===f,Sr=Sr||Jn;const Ai=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.dq&&(Pr="dq")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}Jn=Ai===f,Sr=Sr||Jn;const kd=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.qi&&(Pr="qi")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}Jn=kd===f,Sr=Sr||Jn;const ub=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.oth&&(Pr="oth")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}if(Jn=ub===f,Sr=Sr||Jn,Sr)f=rr,null!==l&&(rr?l.length=rr:l=null);else{const Pr={};null===l?l=[Pr]:l.push(Pr),f++}if(f===Dr)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const Pr=f;if("RSA"!==r.kty){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}var qn=Pr===f}else qn=!0;if(qn)if(void 0!==r.oth){let Pr=r.oth;const Ri=f;if(!Pr||"object"!=typeof Pr||Array.isArray(Pr)){const xi={};null===l?l=[xi]:l.push(xi),f++}qn=Ri===f}else qn=!0}else{const Pr={};null===l?l=[Pr]:l.push(Pr),f++}if(ar=Dr===f,In=In||ar,ar&&!0!==Ht&&((Ht=Ht||{}).kty=!0,Ht.d=!0,Ht.p=!0,Ht.q=!0,Ht.dp=!0,Ht.dq=!0,Ht.qi=!0,Ht.oth=!0),In)f=Xn,null!==l&&(Xn?l.length=Xn:l=null);else{const Pr={};null===l?l=[Pr]:l.push(Pr),f++}if(Kn===f)return Ji.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=jn,null!==l&&(jn?l.length=jn:l=null)}return Ji.errors=l,X.props=nt,0===f}Ji.evaluated={dynamicProps:!0,dynamicItems:!1};const bc=Object.prototype.hasOwnProperty;function qr(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=qr.evaluated;X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0);const W=f;let k=!1;const re=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let li;if(void 0===r.contextId&&(li="contextId")){const Pn={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:li},message:"must have required property '"+li+"'"};null===l?l=[Pn]:l.push(Pn),f++}else if(void 0!==r.descriptor){let Pn=r.descriptor;if(f==f)if(Pn&&"object"==typeof Pn&&!Array.isArray(Pn)){let mo;if(void 0===Pn.protocol&&(mo="protocol")||void 0===Pn.protocolPath&&(mo="protocolPath")){const Dr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:mo},message:"must have required property '"+mo+"'"};null===l?l=[Dr]:l.push(Dr),f++}}else{const mo={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[mo]:l.push(mo),f++}}}var Yt=re===f;if(k=k||Yt,Yt)var Oe={descriptor:!0};const je=f,Ke=f,nt=f,wt=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let li;if(void 0===r.contextId&&(li="contextId")){const Pn={};null===l?l=[Pn]:l.push(Pn),f++}}if(wt===f){const li={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[li]:l.push(li),f++}else f=nt,null!==l&&(nt?l.length=nt:l=null);if(Ke===f){const li=f;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let hi=r.descriptor;if(!hi||"object"!=typeof hi||Array.isArray(hi)){const rr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[rr]:l.push(rr),f++}const mo=f,Dr=f;if(hi&&"object"==typeof hi&&!Array.isArray(hi)){let rr;if(void 0===hi.protocol&&(rr="protocol")){const Sr={};null===l?l=[Sr]:l.push(Sr),f++}}if(Dr===f){const rr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[rr]:l.push(rr),f++}else f=mo,null!==l&&(mo?l.length=mo:l=null)}if(li===f&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Dr=r.descriptor;if(!Dr||"object"!=typeof Dr||Array.isArray(Dr)){const ci={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[ci]:l.push(ci),f++}const rr=f,Sr=f;if(Dr&&"object"==typeof Dr&&!Array.isArray(Dr)){let ci;if(void 0===Dr.protocolPath&&(ci="protocolPath")){const zi={};null===l?l=[zi]:l.push(zi),f++}}if(Sr===f){const ci={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[ci]:l.push(ci),f++}else f=rr,null!==l&&(rr?l.length=rr:l=null)}}if(Yt=je===f,k=k||Yt,Yt&&!0!==Oe&&((Oe=Oe||{}).descriptor=!0),!k){const li={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===l?l=[li]:l.push(li),f++,qr.errors=l,!1}if(f=W,null!==l&&(W?l.length=W:l=null),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return qr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let li;if(void 0===r.descriptor&&(li="descriptor"))return qr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:li},message:"must have required property '"+li+"'"}],!1;if(!0!==Oe&&((Oe=Oe||{}).recordId=!0,Oe.contextId=!0,Oe.attestation=!0,Oe.authorization=!0,Oe.encryption=!0,Oe.descriptor=!0),void 0!==r.recordId){const Pn=f;if("string"!=typeof r.recordId)return qr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Qt=Pn===f}else Qt=!0;if(Qt){if(void 0!==r.contextId){let Pn=r.contextId;const hi=f;if(f===hi){if("string"!=typeof Pn)return qr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ss.test(Pn))return qr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}Qt=hi===f}else Qt=!0;if(Qt){if(void 0!==r.attestation){const Pn=f;Wo(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:u,dynamicAnchors:h})||(l=null===l?Wo.errors:l.concat(Wo.errors),f=l.length),Qt=Pn===f}else Qt=!0;if(Qt){if(void 0!==r.authorization){const Pn=f;Zo(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?Zo.errors:l.concat(Zo.errors),f=l.length),Qt=Pn===f}else Qt=!0;if(Qt){if(void 0!==r.encryption){let Pn=r.encryption;const hi=f;if(f===hi){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return qr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Dr;if(void 0===Pn.algorithm&&(Dr="algorithm")||void 0===Pn.initializationVector&&(Dr="initializationVector")||void 0===Pn.keyEncryption&&(Dr="keyEncryption"))return qr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:Dr},message:"must have required property '"+Dr+"'"}],!1;{const rr=f;for(const Sr in Pn)if("algorithm"!==Sr&&"initializationVector"!==Sr&&"keyEncryption"!==Sr)return qr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sr},message:"must NOT have additional properties"}],!1;if(rr===f){if(void 0!==Pn.algorithm){let Sr=Pn.algorithm;const ci=f;if("string"!=typeof Sr)return qr.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==Sr)return qr.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Xa.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var ln=ci===f}else ln=!0;if(ln){if(void 0!==Pn.initializationVector){let Sr=Pn.initializationVector;const ci=f;if(f==f){if("string"!=typeof Sr)return qr.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wa.test(Sr))return qr.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}ln=ci===f}else ln=!0;if(ln)if(void 0!==Pn.keyEncryption){let Sr=Pn.keyEncryption;const ci=f;if(f===ci){if(!Array.isArray(Sr))return qr.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Sr.length<1)return qr.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Hi=Sr.length;for(let Ei=0;Ei<Hi;Ei++){let Ai=Sr[Ei];const kd=f;if(f===kd){if(!Ai||"object"!=typeof Ai||Array.isArray(Ai))return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pr;if(void 0===Ai.rootKeyId&&(Pr="rootKeyId")||void 0===Ai.derivationScheme&&(Pr="derivationScheme")||void 0===Ai.algorithm&&(Pr="algorithm")||void 0===Ai.encryptedKey&&(Pr="encryptedKey")||void 0===Ai.initializationVector&&(Pr="initializationVector")||void 0===Ai.ephemeralPublicKey&&(Pr="ephemeralPublicKey")||void 0===Ai.messageAuthenticationCode&&(Pr="messageAuthenticationCode"))return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:Pr},message:"must have required property '"+Pr+"'"}],!1;{const Ri=f;for(const Bi in Ai)if("rootKeyId"!==Bi&&"derivationScheme"!==Bi&&"derivedPublicKey"!==Bi&&"algorithm"!==Bi&&"encryptedKey"!==Bi&&"initializationVector"!==Bi&&"ephemeralPublicKey"!==Bi&&"messageAuthenticationCode"!==Bi)return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Bi},message:"must NOT have additional properties"}],!1;if(Ri===f){if(void 0!==Ai.rootKeyId){const Bi=f;if("string"!=typeof Ai.rootKeyId)return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var An=Bi===f}else An=!0;if(An){if(void 0!==Ai.derivationScheme){let Bi=Ai.derivationScheme;const xi=f;if("string"!=typeof Bi)return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==Bi&&"protocolContext"!==Bi&&"protocolPath"!==Bi&&"schemas"!==Bi)return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:Xa.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;An=xi===f}else An=!0;if(An){if(void 0!==Ai.derivedPublicKey){const Bi=f;Ji(Ai.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Ei+"/derivedPublicKey",parentData:Ai,parentDataProperty:"derivedPublicKey",rootData:u,dynamicAnchors:h})||(l=null===l?Ji.errors:l.concat(Ji.errors),f=l.length),An=Bi===f}else An=!0;if(An){if(void 0!==Ai.algorithm){let Bi=Ai.algorithm;const xi=f;if("string"!=typeof Bi)return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==Bi)return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Xa.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;An=xi===f}else An=!0;if(An){if(void 0!==Ai.encryptedKey){let Bi=Ai.encryptedKey;const xi=f;if(f==f){if("string"!=typeof Bi)return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wa.test(Bi))return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}An=xi===f}else An=!0;if(An){if(void 0!==Ai.initializationVector){let Bi=Ai.initializationVector;const xi=f;if(f==f){if("string"!=typeof Bi)return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wa.test(Bi))return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}An=xi===f}else An=!0;if(An){if(void 0!==Ai.ephemeralPublicKey){const Bi=f;Ji(Ai.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Ei+"/ephemeralPublicKey",parentData:Ai,parentDataProperty:"ephemeralPublicKey",rootData:u,dynamicAnchors:h})||(l=null===l?Ji.errors:l.concat(Ji.errors),f=l.length),An=Bi===f}else An=!0;if(An)if(void 0!==Ai.messageAuthenticationCode){let Bi=Ai.messageAuthenticationCode;const xi=f;if(f==f){if("string"!=typeof Bi)return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wa.test(Bi))return qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Ei+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}An=xi===f}else An=!0}}}}}}}}}}if(kd!==f)break}}}ln=ci===f}else ln=!0}}}}}Qt=hi===f}else Qt=!0;if(Qt)if(void 0!==r.descriptor){let Pn=r.descriptor;const hi=f,mo=f;let Dr=!1;const rr=f;if(Pn&&"object"==typeof Pn&&!Array.isArray(Pn)){let Pr;if(void 0===Pn.published&&(Pr="published")||void 0===Pn.datePublished&&(Pr="datePublished")){const Ri={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:Pr},message:"must have required property '"+Pr+"'"};null===l?l=[Ri]:l.push(Ri),f++}else if(void 0!==Pn.published){let Ri=Pn.published;if("boolean"!=typeof Ri){const Bi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Bi]:l.push(Bi),f++}if(!0!==Ri){const Bi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Xa.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Bi]:l.push(Bi),f++}}}var Kn=rr===f;if(Dr=Dr||Kn,Kn)var Jn={published:!0};const Sr=f,ci=f,zi=f;if(Pn&&"object"==typeof Pn&&!Array.isArray(Pn)){let Pr;if(void 0===Pn.datePublished&&(Pr="datePublished")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}if(zi===f){const Pr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Pr]:l.push(Pr),f++}else f=ci,null!==l&&(ci?l.length=ci:l=null);if(f===Sr&&Pn&&"object"==typeof Pn&&!Array.isArray(Pn)&&void 0!==Pn.published){let Pr=Pn.published;if("boolean"!=typeof Pr){const Ri={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Ri]:l.push(Ri),f++}if(!1!==Pr){const Ri={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:Xa.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Ri]:l.push(Ri),f++}}Kn=Sr===f,Dr=Dr||Kn,Kn&&!0!==Jn&&((Jn=Jn||{}).published=!0);const Hi=f,Ei=f,Ai=f,kd=f;if(Pn&&"object"==typeof Pn&&!Array.isArray(Pn)){let Pr;if(void 0===Pn.published&&(Pr="published")){const Ri={};null===l?l=[Ri]:l.push(Ri),f++}}if(kd===f){const Pr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Pr]:l.push(Pr),f++}else f=Ai,null!==l&&(Ai?l.length=Ai:l=null);if(Ei===f){const Ri=f,Bi=f;if(Pn&&"object"==typeof Pn&&!Array.isArray(Pn)){let Ws;if(void 0===Pn.datePublished&&(Ws="datePublished")){const Il={};null===l?l=[Il]:l.push(Il),f++}}if(Bi===f){const Ws={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ws]:l.push(Ws),f++}else f=Ri,null!==l&&(Ri?l.length=Ri:l=null)}if(Kn=Hi===f,Dr=Dr||Kn,!Dr){const Pr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===l?l=[Pr]:l.push(Pr),f++,qr.errors=l,!1}if(f=mo,null!==l&&(mo?l.length=mo:l=null),f===hi){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return qr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pr;if(void 0===Pn.interface&&(Pr="interface")||void 0===Pn.method&&(Pr="method")||void 0===Pn.dataCid&&(Pr="dataCid")||void 0===Pn.dataSize&&(Pr="dataSize")||void 0===Pn.dateCreated&&(Pr="dateCreated")||void 0===Pn.messageTimestamp&&(Pr="messageTimestamp")||void 0===Pn.dataFormat&&(Pr="dataFormat"))return qr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Pr},message:"must have required property '"+Pr+"'"}],!1;{const Ri=f;for(const Bi in Pn)if(!bc.call(Xa.properties.descriptor.properties,Bi))return qr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Bi},message:"must NOT have additional properties"}],!1;if(Ri===f){let Bi;if(void 0!==Pn.parentId&&void 0===Pn.protocol&&(Bi="protocol"))return qr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:Bi,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==Pn.interface){let xi=Pn.interface;const Ws=f;if("string"!=typeof xi)return qr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==xi)return qr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Xa.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var Xn=Ws===f}else Xn=!0;if(Xn){if(void 0!==Pn.method){let xi=Pn.method;const Ws=f;if("string"!=typeof xi)return qr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==xi)return qr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Xa.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;Xn=Ws===f}else Xn=!0;if(Xn){if(void 0!==Pn.recipient){let xi=Pn.recipient;const Ws=f;if(f==f){if("string"!=typeof xi)return qr.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qd.test(xi))return qr.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Xn=Ws===f}else Xn=!0;if(Xn){if(void 0!==Pn.protocol){const xi=f;if("string"!=typeof Pn.protocol)return qr.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=xi===f}else Xn=!0;if(Xn){if(void 0!==Pn.protocolPath){let xi=Pn.protocolPath;const Ws=f;if(f===Ws){if("string"!=typeof xi)return qr.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Au.test(xi))return qr.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}Xn=Ws===f}else Xn=!0;if(Xn){if(void 0!==Pn.schema){const xi=f;if("string"!=typeof Pn.schema)return qr.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=xi===f}else Xn=!0;if(Xn){if(void 0!==Pn.tags){let xi=Pn.tags;const Ws=f;if(f===Ws){if(!xi||"object"!=typeof xi||Array.isArray(xi))return qr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(xi).length>10)return qr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(xi).length<1)return qr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const fs in xi){let hs=xi[fs];const Ka=f,vs=f;let ki=!1,bs=null;const Jl=f;if("string"!=typeof hs){const Od={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Od]:l.push(Od),f++}(In=Jl===f)&&(ki=!0,bs=0);const Pd=f;if("number"!=typeof hs||!isFinite(hs)){const Od={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Od]:l.push(Od),f++}if((In=Pd===f)&&ki)ki=!1,bs=[bs,1];else{In&&(ki=!0,bs=1);const Od=f;if("boolean"!=typeof hs){const KM={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[KM]:l.push(KM),f++}if((In=Od===f)&&ki)ki=!1,bs=[bs,2];else{In&&(ki=!0,bs=2);const KM=f;if(f===KM)if(Array.isArray(hs))if(hs.length>10){const ef={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===l?l=[ef]:l.push(ef),f++}else if(hs.length<1){const ef={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[ef]:l.push(ef),f++}else{const ef=hs.length;for(let zC=0;zC<ef;zC++){const Wf=f;if("string"!=typeof hs[zC]){const FM={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+zC,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[FM]:l.push(FM),f++}if(Wf!==f)break}}else{const ef={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[ef]:l.push(ef),f++}if((In=KM===f)&&ki)ki=!1,bs=[bs,3];else{if(In){ki=!0,bs=3;var gr=!0}const ef=f;if(f===ef)if(Array.isArray(hs))if(hs.length>10){const Wf={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===l?l=[Wf]:l.push(Wf),f++}else if(hs.length<1){const Wf={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Wf]:l.push(Wf),f++}else{const Wf=hs.length;for(let HC=0;HC<Wf;HC++){let FM=hs[HC];const c9=f;if("number"!=typeof FM||!isFinite(FM)){const J4={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+HC,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[J4]:l.push(J4),f++}if(c9!==f)break}}else{const Wf={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Wf]:l.push(Wf),f++}var In;(In=ef===f)&&ki?(ki=!1,bs=[bs,4]):In&&(ki=!0,bs=4,!0!==gr&&(gr=!0))}}}if(!ki){const Od={instancePath:t+"/descriptor/tags/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:bs},message:"must match exactly one schema in oneOf"};return null===l?l=[Od]:l.push(Od),f++,qr.errors=l,!1}if(f=vs,null!==l&&(vs?l.length=vs:l=null),Ka!==f)break}}Xn=Ws===f}else Xn=!0;if(Xn){if(void 0!==Pn.parentId){const xi=f;if("string"!=typeof Pn.parentId)return qr.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=xi===f}else Xn=!0;if(Xn){if(void 0!==Pn.dataCid){const xi=f;if("string"!=typeof Pn.dataCid)return qr.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=xi===f}else Xn=!0;if(Xn){if(void 0!==Pn.dataSize){let xi=Pn.dataSize;const Ws=f;if("number"!=typeof xi||!isFinite(xi))return qr.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Xn=Ws===f}else Xn=!0;if(Xn){if(void 0!==Pn.dateCreated){let xi=Pn.dateCreated;const Ws=f;if(f==f){if("string"!=typeof xi)return qr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(xi))return qr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Xn=Ws===f}else Xn=!0;if(Xn){if(void 0!==Pn.messageTimestamp){let xi=Pn.messageTimestamp;const Ws=f;if(f==f){if("string"!=typeof xi)return qr.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(xi))return qr.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Xn=Ws===f}else Xn=!0;if(Xn){if(void 0!==Pn.published){const xi=f;if("boolean"!=typeof Pn.published)return qr.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Xn=xi===f}else Xn=!0;if(Xn){if(void 0!==Pn.datePublished){let xi=Pn.datePublished;const Ws=f;if(f==f){if("string"!=typeof xi)return qr.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(xi))return qr.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Xn=Ws===f}else Xn=!0;if(Xn)if(void 0!==Pn.dataFormat){const xi=f;if("string"!=typeof Pn.dataFormat)return qr.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=xi===f}else Xn=!0}}}}}}}}}}}}}}}}}Qt=hi===f}else Qt=!0}}}}}}return qr.errors=l,X.props=Oe,0===f}function Ya(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Ya.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),qr(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:u,dynamicAnchors:h}))var W=qr.evaluated.props;else l=null===l?qr.errors:l.concat(qr.errors),f=l.length;if(0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Ya.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let re;if(void 0===r.recordId&&(re="recordId")||void 0===r.authorization&&(re="authorization")||void 0===r.encodedData&&(re="encodedData"))return Ya.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:re},message:"must have required property '"+re+"'"}],!1;if(!0!==W&&((W=W||{}).encodedData=!0),void 0!==r.encodedData){const Oe=f;if("string"!=typeof r.encodedData)return Ya.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=Oe===f}else k=!0;if(k&&!0!==W)for(const Oe in r)if(!W||!W[Oe])return Ya.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:Oe},message:"must NOT have unevaluated properties"}],!1}}return Ya.errors=l,0===f}function Xr(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Xr.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Xr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const k=f;for(const re in r)if("signature"!==re&&"authorDelegatedGrant"!==re)return Xr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties"}],!1;if(k===f){if(void 0!==r.signature){const re=f;Wo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:u,dynamicAnchors:h})||(l=null===l?Wo.errors:l.concat(Wo.errors),f=l.length);var W=re===f}else W=!0;if(W)if(void 0!==r.authorDelegatedGrant){const re=f;Ya(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:u,dynamicAnchors:h})||(l=null===l?Ya.errors:l.concat(Ya.errors),f=l.length),W=re===f}else W=!0}}}return Xr.errors=l,0===f}qr.evaluated={dynamicProps:!0,dynamicItems:!1},Ya.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Xr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const bi=Zo,$a=jo,nd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function jo(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=jo.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return jo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let re;if(void 0===r.authorization&&(re="authorization")||void 0===r.descriptor&&(re="descriptor"))return jo.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:re},message:"must have required property '"+re+"'"}],!1;{const Oe=f;for(const je in r)if("authorization"!==je&&"descriptor"!==je)return jo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Oe===f){if(void 0!==r.authorization){const je=f;Xr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?Xr.errors:l.concat(Xr.errors),f=l.length);var W=je===f}else W=!0;if(W)if(void 0!==r.descriptor){let je=r.descriptor;const Ke=f;if(f===Ke){if(!je||"object"!=typeof je||Array.isArray(je))return jo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let wt;if(void 0===je.interface&&(wt="interface")||void 0===je.method&&(wt="method")||void 0===je.messageTimestamp&&(wt="messageTimestamp")||void 0===je.recordId&&(wt="recordId")||void 0===je.prune&&(wt="prune"))return jo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:wt},message:"must have required property '"+wt+"'"}],!1;{const Ot=f;for(const Et in je)if("interface"!==Et&&"method"!==Et&&"messageTimestamp"!==Et&&"recordId"!==Et&&"prune"!==Et)return jo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Et},message:"must NOT have additional properties"}],!1;if(Ot===f){if(void 0!==je.interface){let Et=je.interface;const St=f;if("string"!=typeof Et)return jo.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Et)return jo.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:nd.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=St===f}else k=!0;if(k){if(void 0!==je.method){let Et=je.method;const St=f;if("string"!=typeof Et)return jo.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==Et)return jo.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:nd.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=St===f}else k=!0;if(k){if(void 0!==je.messageTimestamp){let Et=je.messageTimestamp;const St=f;if(f==f){if("string"!=typeof Et)return jo.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(Et))return jo.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=St===f}else k=!0;if(k){if(void 0!==je.recordId){const Et=f;if("string"!=typeof je.recordId)return jo.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;k=Et===f}else k=!0;if(k)if(void 0!==je.prune){const Et=f;if("boolean"!=typeof je.prune)return jo.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;k=Et===f}else k=!0}}}}}}}W=Ke===f}else W=!0}}}}return jo.errors=l,0===f}jo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Np=Co,rf={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},Za={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},oo={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Or(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Or.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Or.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Or.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const li=f;for(const Pn in r)if(!bc.call(oo.properties,Pn))return Or.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"}],!1;if(li===f){if(void 0!==r.datePublished){const Pn=f,hi=f;let mo=!1,Dr=null;const rr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Hi;if(void 0===r.published&&(Hi="published")){const Ei={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:Hi},message:"must have required property '"+Hi+"'"};null===l?l=[Ei]:l.push(Ei),f++}else if(void 0!==r.published&&!0!==r.published){const Ei={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:oo.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Ei]:l.push(Ei),f++}}rr===f&&(mo=!0,Dr=0);const Sr=f,ci=f,zi=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Hi;if(void 0===r.published&&(Hi="published")){const Ei={};null===l?l=[Ei]:l.push(Ei),f++}}var re;if(zi===f){const Hi={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Hi]:l.push(Hi),f++}else f=ci,null!==l&&(ci?l.length=ci:l=null);if((re=Sr===f)&&mo?(mo=!1,Dr=[Dr,1]):re&&(mo=!0,Dr=1),!mo){const Hi={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:Dr},message:"must match exactly one schema in oneOf"};return null===l?l=[Hi]:l.push(Hi),f++,Or.errors=l,!1}f=hi,null!==l&&(hi?l.length=hi:l=null);var Oe=Pn===f}else Oe=!0;if(Oe){if(void 0!==r.protocol){const Pn=f;if("string"!=typeof r.protocol)return Or.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var je=Pn===f}else je=!0;if(je){if(void 0!==r.protocolPath){const Pn=f;if("string"!=typeof r.protocolPath)return Or.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Pn===f}else je=!0;if(je){if(void 0!==r.author){let Pn=r.author;const hi=f;if(f==f){if("string"!=typeof Pn)return Or.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qd.test(Pn))return Or.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}je=hi===f}else je=!0;if(je){if(void 0!==r.attester){let Pn=r.attester;const hi=f;if(f==f){if("string"!=typeof Pn)return Or.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qd.test(Pn))return Or.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}je=hi===f}else je=!0;if(je){if(void 0!==r.recipient){let Pn=r.recipient;const hi=f;if(f==f){if("string"!=typeof Pn)return Or.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qd.test(Pn))return Or.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}je=hi===f}else je=!0;if(je){if(void 0!==r.contextId){const Pn=f;if("string"!=typeof r.contextId)return Or.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Pn===f}else je=!0;if(je){if(void 0!==r.schema){const Pn=f;if("string"!=typeof r.schema)return Or.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Pn===f}else je=!0;if(je){if(void 0!==r.tags){let Pn=r.tags;const hi=f;if(f===hi){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return Or.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Pn).length<1)return Or.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Dr in Pn){let rr=Pn[Dr];const Sr=f,ci=f;let zi=!1,Hi=null;const Ei=f;if("string"!=typeof rr){const kd={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[kd]:l.push(kd),f++}(Ke=Ei===f)&&(zi=!0,Hi=0);const Ai=f;if("number"!=typeof rr||!isFinite(rr)){const kd={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[kd]:l.push(kd),f++}if((Ke=Ai===f)&&zi)zi=!1,Hi=[Hi,1];else{Ke&&(zi=!0,Hi=1);const kd=f;if("boolean"!=typeof rr){const Pr={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Pr]:l.push(Pr),f++}if((Ke=kd===f)&&zi)zi=!1,Hi=[Hi,2];else{Ke&&(zi=!0,Hi=2);const Pr=f;if(f===Pr)if(rr&&"object"==typeof rr&&!Array.isArray(rr))if(Object.keys(rr).length<1){const Bi={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[Bi]:l.push(Bi),f++}else{const Bi=f;for(const xi in rr)if("startsWith"!==xi){const Ws={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xi},message:"must NOT have additional properties"};null===l?l=[Ws]:l.push(Ws),f++;break}if(Bi===f&&void 0!==rr.startsWith&&"string"!=typeof rr.startsWith){const xi={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[xi]:l.push(xi),f++}}else{const Bi={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Bi]:l.push(Bi),f++}if((Ke=Pr===f)&&zi)zi=!1,Hi=[Hi,3];else{if(Ke){zi=!0,Hi=3;var nt=!0}const Bi=f;if(f==f)if(rr&&"object"==typeof rr&&!Array.isArray(rr))if(Object.keys(rr).length<1){const Il={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[Il]:l.push(Il),f++}else{const Il=f;for(const fs in rr)if("gt"!==fs&&"gte"!==fs&&"lt"!==fs&&"lte"!==fs){const hs={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fs},message:"must NOT have additional properties"};null===l?l=[hs]:l.push(hs),f++;break}if(Il===f){if(void 0!==rr.gt){const fs=f,hs=f,Ka=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let vs;if(void 0===rr.gte&&(vs="gte")){const ki={};null===l?l=[ki]:l.push(ki),f++}}if(Ka===f){const vs={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[vs]:l.push(vs),f++}else f=hs,null!==l&&(hs?l.length=hs:l=null);var Ot=fs===f}else Ot=!0;if(Ot){if(void 0!==rr.gte){const fs=f,hs=f,Ka=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let ki;if(void 0===rr.gt&&(ki="gt")){const bs={};null===l?l=[bs]:l.push(bs),f++}}if(Ka===f){const ki={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[ki]:l.push(ki),f++}else f=hs,null!==l&&(hs?l.length=hs:l=null);Ot=fs===f}else Ot=!0;if(Ot){if(void 0!==rr.lt){const fs=f,hs=f,Ka=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let ki;if(void 0===rr.lte&&(ki="lte")){const bs={};null===l?l=[bs]:l.push(bs),f++}}if(Ka===f){const ki={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[ki]:l.push(ki),f++}else f=hs,null!==l&&(hs?l.length=hs:l=null);Ot=fs===f}else Ot=!0;if(Ot){if(void 0!==rr.lte){const fs=f,hs=f,Ka=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let ki;if(void 0===rr.lt&&(ki="lt")){const bs={};null===l?l=[bs]:l.push(bs),f++}}if(Ka===f){const ki={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[ki]:l.push(ki),f++}else f=hs,null!==l&&(hs?l.length=hs:l=null);Ot=fs===f}else Ot=!0;if(Ot){if(void 0!==rr.gt){const fs=f;if("string"!=typeof rr.gt){const hs={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[hs]:l.push(hs),f++}var Yt=fs===f}else Yt=!0;if(Yt){if(void 0!==rr.gte){const fs=f;if("string"!=typeof rr.gte){const Ka={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ka]:l.push(Ka),f++}Yt=fs===f}else Yt=!0;if(Yt){if(void 0!==rr.lt){const fs=f;if("string"!=typeof rr.lt){const Ka={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ka]:l.push(Ka),f++}Yt=fs===f}else Yt=!0;if(Yt)if(void 0!==rr.lte){const fs=f;if("string"!=typeof rr.lte){const Ka={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ka]:l.push(Ka),f++}Yt=fs===f}else Yt=!0}}}}}}}}else{const Il={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Il]:l.push(Il),f++}if((Ke=Bi===f)&&zi)zi=!1,Hi=[Hi,4];else{Ke&&(zi=!0,Hi=4,!0!==nt&&(nt=!0));const Il=f;if(f==f)if(rr&&"object"==typeof rr&&!Array.isArray(rr))if(Object.keys(rr).length<1){const Ka={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[Ka]:l.push(Ka),f++}else{const Ka=f;for(const vs in rr)if("gt"!==vs&&"gte"!==vs&&"lt"!==vs&&"lte"!==vs){const ki={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:vs},message:"must NOT have additional properties"};null===l?l=[ki]:l.push(ki),f++;break}if(Ka===f){if(void 0!==rr.gt){const vs=f,ki=f,bs=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Jl;if(void 0===rr.gte&&(Jl="gte")){const Pd={};null===l?l=[Pd]:l.push(Pd),f++}}if(bs===f){const Jl={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Jl]:l.push(Jl),f++}else f=ki,null!==l&&(ki?l.length=ki:l=null);var ln=vs===f}else ln=!0;if(ln){if(void 0!==rr.gte){const vs=f,ki=f,bs=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Pd;if(void 0===rr.gt&&(Pd="gt")){const Od={};null===l?l=[Od]:l.push(Od),f++}}if(bs===f){const Pd={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Pd]:l.push(Pd),f++}else f=ki,null!==l&&(ki?l.length=ki:l=null);ln=vs===f}else ln=!0;if(ln){if(void 0!==rr.lt){const vs=f,ki=f,bs=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Pd;if(void 0===rr.lte&&(Pd="lte")){const Od={};null===l?l=[Od]:l.push(Od),f++}}if(bs===f){const Pd={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Pd]:l.push(Pd),f++}else f=ki,null!==l&&(ki?l.length=ki:l=null);ln=vs===f}else ln=!0;if(ln){if(void 0!==rr.lte){const vs=f,ki=f,bs=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Pd;if(void 0===rr.lt&&(Pd="lt")){const Od={};null===l?l=[Od]:l.push(Od),f++}}if(bs===f){const Pd={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Pd]:l.push(Pd),f++}else f=ki,null!==l&&(ki?l.length=ki:l=null);ln=vs===f}else ln=!0;if(ln){if(void 0!==rr.gt){let vs=rr.gt;const ki=f;if("number"!=typeof vs||!isFinite(vs)){const bs={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[bs]:l.push(bs),f++}var qn=ki===f}else qn=!0;if(qn){if(void 0!==rr.gte){let vs=rr.gte;const ki=f;if("number"!=typeof vs||!isFinite(vs)){const Jl={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Jl]:l.push(Jl),f++}qn=ki===f}else qn=!0;if(qn){if(void 0!==rr.lt){let vs=rr.lt;const ki=f;if("number"!=typeof vs||!isFinite(vs)){const Jl={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Jl]:l.push(Jl),f++}qn=ki===f}else qn=!0;if(qn)if(void 0!==rr.lte){let vs=rr.lte;const ki=f;if("number"!=typeof vs||!isFinite(vs)){const Jl={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Jl]:l.push(Jl),f++}qn=ki===f}else qn=!0}}}}}}}}else{const Ka={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ka]:l.push(Ka),f++}var Ke;(Ke=Il===f)&&zi?(zi=!1,Hi=[Hi,5]):Ke&&(zi=!0,Hi=5,!0!==nt&&(nt=!0))}}}}if(!zi){const kd={instancePath:t+"/tags/"+Dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Hi},message:"must match exactly one schema in oneOf"};return null===l?l=[kd]:l.push(kd),f++,Or.errors=l,!1}if(f=ci,null!==l&&(ci?l.length=ci:l=null),Sr!==f)break}}je=hi===f}else je=!0;if(je){if(void 0!==r.recordId){const Pn=f;if("string"!=typeof r.recordId)return Or.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Pn===f}else je=!0;if(je){if(void 0!==r.parentId){const Pn=f;if("string"!=typeof r.parentId)return Or.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Pn===f}else je=!0;if(je){if(void 0!==r.published){const Pn=f;if("boolean"!=typeof r.published)return Or.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;je=Pn===f}else je=!0;if(je){if(void 0!==r.dataFormat){const Pn=f;if("string"!=typeof r.dataFormat)return Or.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Pn===f}else je=!0;if(je){if(void 0!==r.dataSize){let Pn=r.dataSize;const hi=f;if(f==f){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return Or.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Pn).length<1)return Or.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const rr=f;for(const Sr in Pn)if("gt"!==Sr&&"gte"!==Sr&&"lt"!==Sr&&"lte"!==Sr)return Or.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sr},message:"must NOT have additional properties"}],!1;if(rr===f){if(void 0!==Pn.gt){const Sr=f,ci=f,zi=f;if(Pn&&"object"==typeof Pn&&!Array.isArray(Pn)){let Hi;if(void 0===Pn.gte&&(Hi="gte")){const Ei={};null===l?l=[Ei]:l.push(Ei),f++}}if(zi===f)return Or.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ci,null!==l&&(ci?l.length=ci:l=null);var jn=Sr===f}else jn=!0;if(jn){if(void 0!==Pn.gte){const Sr=f,ci=f,zi=f;if(Pn&&"object"==typeof Pn&&!Array.isArray(Pn)){let Ei;if(void 0===Pn.gt&&(Ei="gt")){const Ai={};null===l?l=[Ai]:l.push(Ai),f++}}if(zi===f)return Or.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ci,null!==l&&(ci?l.length=ci:l=null),jn=Sr===f}else jn=!0;if(jn){if(void 0!==Pn.lt){const Sr=f,ci=f,zi=f;if(Pn&&"object"==typeof Pn&&!Array.isArray(Pn)){let Ei;if(void 0===Pn.lte&&(Ei="lte")){const Ai={};null===l?l=[Ai]:l.push(Ai),f++}}if(zi===f)return Or.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ci,null!==l&&(ci?l.length=ci:l=null),jn=Sr===f}else jn=!0;if(jn){if(void 0!==Pn.lte){const Sr=f,ci=f,zi=f;if(Pn&&"object"==typeof Pn&&!Array.isArray(Pn)){let Ei;if(void 0===Pn.lt&&(Ei="lt")){const Ai={};null===l?l=[Ai]:l.push(Ai),f++}}if(zi===f)return Or.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ci,null!==l&&(ci?l.length=ci:l=null),jn=Sr===f}else jn=!0;if(jn){if(void 0!==Pn.gt){let Sr=Pn.gt;const ci=f;if("number"!=typeof Sr||!isFinite(Sr))return Or.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var yr=ci===f}else yr=!0;if(yr){if(void 0!==Pn.gte){let Sr=Pn.gte;const ci=f;if("number"!=typeof Sr||!isFinite(Sr))return Or.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yr=ci===f}else yr=!0;if(yr){if(void 0!==Pn.lt){let Sr=Pn.lt;const ci=f;if("number"!=typeof Sr||!isFinite(Sr))return Or.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yr=ci===f}else yr=!0;if(yr)if(void 0!==Pn.lte){let Sr=Pn.lte;const ci=f;if("number"!=typeof Sr||!isFinite(Sr))return Or.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yr=ci===f}else yr=!0}}}}}}}}}je=hi===f}else je=!0;if(je){if(void 0!==r.dataCid){const Pn=f;if("string"!=typeof r.dataCid)return Or.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Pn===f}else je=!0;if(je){if(void 0!==r.dateCreated){let Pn=r.dateCreated;const hi=f;if(f===hi){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return Or.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Pn).length<1)return Or.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Dr=f;for(const rr in Pn)if("from"!==rr&&"to"!==rr)return Or.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rr},message:"must NOT have additional properties"}],!1;if(Dr===f){if(void 0!==Pn.from){let rr=Pn.from;const Sr=f;if(f==f){if("string"!=typeof rr)return Or.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(rr))return Or.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var gr=Sr===f}else gr=!0;if(gr)if(void 0!==Pn.to){let rr=Pn.to;const Sr=f;if(f==f){if("string"!=typeof rr)return Or.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(rr))return Or.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}gr=Sr===f}else gr=!0}}}je=hi===f}else je=!0;if(je){if(void 0!==r.datePublished){let Pn=r.datePublished;const hi=f;if(f===hi){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return Or.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Pn).length<1)return Or.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Dr=f;for(const rr in Pn)if("from"!==rr&&"to"!==rr)return Or.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rr},message:"must NOT have additional properties"}],!1;if(Dr===f){if(void 0!==Pn.from){let rr=Pn.from;const Sr=f;if(f==f){if("string"!=typeof rr)return Or.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(rr))return Or.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Er=Sr===f}else Er=!0;if(Er)if(void 0!==Pn.to){let rr=Pn.to;const Sr=f;if(f==f){if("string"!=typeof rr)return Or.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(rr))return Or.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Er=Sr===f}else Er=!0}}}je=hi===f}else je=!0;if(je)if(void 0!==r.dateUpdated){let Pn=r.dateUpdated;const hi=f;if(f===hi){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return Or.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Pn).length<1)return Or.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Dr=f;for(const rr in Pn)if("from"!==rr&&"to"!==rr)return Or.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rr},message:"must NOT have additional properties"}],!1;if(Dr===f){if(void 0!==Pn.from){let rr=Pn.from;const Sr=f;if(f==f){if("string"!=typeof rr)return Or.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(rr))return Or.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Gr=Sr===f}else Gr=!0;if(Gr)if(void 0!==Pn.to){let rr=Pn.to;const Sr=f;if(f==f){if("string"!=typeof rr)return Or.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(rr))return Or.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Gr=Sr===f}else Gr=!0}}}je=hi===f}else je=!0}}}}}}}}}}}}}}}}}}}return Or.errors=l,0===f}function Co(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Co.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Co.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let je;if(void 0===r.descriptor&&(je="descriptor"))return Co.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:je},message:"must have required property '"+je+"'"}],!1;{const Ke=f;for(const nt in r)if("authorization"!==nt&&"descriptor"!==nt)return Co.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:nt},message:"must NOT have additional properties"}],!1;if(Ke===f){if(void 0!==r.authorization){const nt=f;Xr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?Xr.errors:l.concat(Xr.errors),f=l.length);var W=nt===f}else W=!0;if(W)if(void 0!==r.descriptor){let nt=r.descriptor;const wt=f;if(f===wt){if(!nt||"object"!=typeof nt||Array.isArray(nt))return Co.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Et;if(void 0===nt.interface&&(Et="interface")||void 0===nt.method&&(Et="method")||void 0===nt.messageTimestamp&&(Et="messageTimestamp")||void 0===nt.filter&&(Et="filter"))return Co.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Et},message:"must have required property '"+Et+"'"}],!1;{const St=f;for(const Nt in nt)if("interface"!==Nt&&"method"!==Nt&&"messageTimestamp"!==Nt&&"filter"!==Nt&&"pagination"!==Nt&&"dateSort"!==Nt)return Co.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Nt},message:"must NOT have additional properties"}],!1;if(St===f){if(void 0!==nt.interface){let Nt=nt.interface;const Yt=f;if("string"!=typeof Nt)return Co.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Nt)return Co.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:rf.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Yt===f}else k=!0;if(k){if(void 0!==nt.method){let Nt=nt.method;const Yt=f;if("string"!=typeof Nt)return Co.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Nt)return Co.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:rf.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Yt===f}else k=!0;if(k){if(void 0!==nt.messageTimestamp){let Nt=nt.messageTimestamp;const Yt=f;if(f==f){if("string"!=typeof Nt)return Co.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(Nt))return Co.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Yt===f}else k=!0;if(k){if(void 0!==nt.filter){const Nt=f;Or(nt.filter,{instancePath:t+"/descriptor/filter",parentData:nt,parentDataProperty:"filter",rootData:u,dynamicAnchors:h})||(l=null===l?Or.errors:l.concat(Or.errors),f=l.length),k=Nt===f}else k=!0;if(k){if(void 0!==nt.pagination){let Nt=nt.pagination;const Yt=f;if(f===Yt){if(!Nt||"object"!=typeof Nt||Array.isArray(Nt))return Co.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const ln=f;for(const Ht in Nt)if("limit"!==Ht&&"cursor"!==Ht)return Co.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ht},message:"must NOT have additional properties"}],!1;if(ln===f){if(void 0!==Nt.limit){let Ht=Nt.limit;const An=f;if(f===An){if("number"!=typeof Ht||!isFinite(Ht))return Co.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Ht<1||isNaN(Ht))return Co.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var re=An===f}else re=!0;if(re)if(void 0!==Nt.cursor){let Ht=Nt.cursor;const An=f;if(f==f){if(!Ht||"object"!=typeof Ht||Array.isArray(Ht))return Co.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ht).length<1)return Co.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let ar;if(void 0===Ht.messageCid&&(ar="messageCid")||void 0===Ht.value&&(ar="value"))return Co.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:ar},message:"must have required property '"+ar+"'"}],!1;{const Vn=f;for(const jn in Ht)if("messageCid"!==jn&&"value"!==jn)return Co.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:jn},message:"must NOT have additional properties"}],!1;if(Vn===f){if(void 0!==Ht.messageCid){const jn=f;if("string"!=typeof Ht.messageCid)return Co.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Oe=jn===f}else Oe=!0;if(Oe)if(void 0!==Ht.value){let jn=Ht.value;const Kn=f;if("string"!=typeof jn&&("number"!=typeof jn||!isFinite(jn)))return Co.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:Za.properties.value.type},message:"must be string,number"}],!1;Oe=Kn===f}else Oe=!0}}}}re=An===f}else re=!0}}}k=Yt===f}else k=!0;if(k)if(void 0!==nt.dateSort){let Nt=nt.dateSort;const Yt=f;if("string"!=typeof Nt)return Co.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==Nt&&"createdDescending"!==Nt&&"publishedAscending"!==Nt&&"publishedDescending"!==Nt)return Co.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:rf.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;k=Yt===f}else k=!0}}}}}}}}W=wt===f}else W=!0}}}}return Co.errors=l,0===f}Or.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Co.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const J0=da,Iu={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function da(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=da.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return da.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let re;if(void 0===r.descriptor&&(re="descriptor"))return da.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:re},message:"must have required property '"+re+"'"}],!1;{const Oe=f;for(const je in r)if("authorization"!==je&&"descriptor"!==je)return da.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Oe===f){if(void 0!==r.authorization){const je=f;Xr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?Xr.errors:l.concat(Xr.errors),f=l.length);var W=je===f}else W=!0;if(W)if(void 0!==r.descriptor){let je=r.descriptor;const Ke=f;if(f===Ke){if(!je||"object"!=typeof je||Array.isArray(je))return da.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let wt;if(void 0===je.interface&&(wt="interface")||void 0===je.method&&(wt="method")||void 0===je.messageTimestamp&&(wt="messageTimestamp")||void 0===je.filter&&(wt="filter"))return da.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:wt},message:"must have required property '"+wt+"'"}],!1;{const Ot=f;for(const Et in je)if("interface"!==Et&&"method"!==Et&&"messageTimestamp"!==Et&&"filter"!==Et)return da.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Et},message:"must NOT have additional properties"}],!1;if(Ot===f){if(void 0!==je.interface){let Et=je.interface;const St=f;if("string"!=typeof Et)return da.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Et)return da.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Iu.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=St===f}else k=!0;if(k){if(void 0!==je.method){let Et=je.method;const St=f;if("string"!=typeof Et)return da.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==Et)return da.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Iu.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=St===f}else k=!0;if(k){if(void 0!==je.messageTimestamp){let Et=je.messageTimestamp;const St=f;if(f==f){if("string"!=typeof Et)return da.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(Et))return da.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=St===f}else k=!0;if(k)if(void 0!==je.filter){const Et=f;Or(je.filter,{instancePath:t+"/descriptor/filter",parentData:je,parentDataProperty:"filter",rootData:u,dynamicAnchors:h})||(l=null===l?Or.errors:l.concat(Or.errors),f=l.length),k=Et===f}else k=!0}}}}}}W=Ke===f}else W=!0}}}}return da.errors=l,0===f}da.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const rd=el;function el(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=el.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),qr(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:u,dynamicAnchors:h}))var W=qr.evaluated.props;else l=null===l?qr.errors:l.concat(qr.errors),f=l.length;if(0===f){if(!r||"object"!=typeof r||Array.isArray(r))return el.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.recordId&&(k="recordId")||void 0===r.authorization&&(k="authorization"))return el.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;if(!0!==W)for(const re in r)if(!W||!W[re])return el.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:re},message:"must NOT have unevaluated properties"}],!1}}return el.errors=l,0===f}el.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const sf=Ya,tl=qr,Pl=mi,Nd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Permissions","Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Grant","Revoke","Write"],type:"string"},protocol:{type:"string"},protocolPath:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function mi(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=mi.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return mi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return mi.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const ln=f;for(const Ht in r)if(!bc.call(Nd.properties,Ht))return mi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ht},message:"must NOT have additional properties"}],!1;if(ln===f){if(void 0!==r.datePublished){const Ht=f,An=f;let Jn=!1,qn=null;const ar=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.published&&(Xn="published")){const In={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"};null===l?l=[In]:l.push(In),f++}else if(void 0!==r.published&&!0!==r.published){const In={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Nd.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[In]:l.push(In),f++}}ar===f&&(Jn=!0,qn=0);const Vn=f,jn=f,Kn=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.published&&(Xn="published")){const In={};null===l?l=[In]:l.push(In),f++}}var re;if(Kn===f){const Xn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Xn]:l.push(Xn),f++}else f=jn,null!==l&&(jn?l.length=jn:l=null);if((re=Vn===f)&&Jn?(Jn=!1,qn=[qn,1]):re&&(Jn=!0,qn=1),!Jn){const Xn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:qn},message:"must match exactly one schema in oneOf"};return null===l?l=[Xn]:l.push(Xn),f++,mi.errors=l,!1}f=An,null!==l&&(An?l.length=An:l=null);var Oe=Ht===f}else Oe=!0;if(Oe){if(void 0!==r.interface){let Ht=r.interface;const An=f;if("string"!=typeof Ht)return mi.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Permissions"!==Ht&&"Protocols"!==Ht&&"Records"!==Ht)return mi.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:Nd.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var je=An===f}else je=!0;if(je){if(void 0!==r.method){let Ht=r.method;const An=f;if("string"!=typeof Ht)return mi.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==Ht&&"Delete"!==Ht&&"Grant"!==Ht&&"Revoke"!==Ht&&"Write"!==Ht)return mi.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:Nd.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;je=An===f}else je=!0;if(je){if(void 0!==r.protocol){const Ht=f;if("string"!=typeof r.protocol)return mi.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.protocolPath){const Ht=f;if("string"!=typeof r.protocolPath)return mi.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.recipient){let Ht=r.recipient;const An=f;if(f==f){if("string"!=typeof Ht)return mi.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qd.test(Ht))return mi.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}je=An===f}else je=!0;if(je){if(void 0!==r.contextId){const Ht=f;if("string"!=typeof r.contextId)return mi.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.schema){const Ht=f;if("string"!=typeof r.schema)return mi.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.recordId){const Ht=f;if("string"!=typeof r.recordId)return mi.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.parentId){const Ht=f;if("string"!=typeof r.parentId)return mi.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.dataFormat){const Ht=f;if("string"!=typeof r.dataFormat)return mi.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.dataSize){let Ht=r.dataSize;const An=f;if(f==f){if(!Ht||"object"!=typeof Ht||Array.isArray(Ht))return mi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ht).length<1)return mi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const ar=f;for(const Vn in Ht)if("gt"!==Vn&&"gte"!==Vn&&"lt"!==Vn&&"lte"!==Vn)return mi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Vn},message:"must NOT have additional properties"}],!1;if(ar===f){if(void 0!==Ht.gt){const Vn=f,jn=f,Kn=f;if(Ht&&"object"==typeof Ht&&!Array.isArray(Ht)){let Xn;if(void 0===Ht.gte&&(Xn="gte")){const In={};null===l?l=[In]:l.push(In),f++}}if(Kn===f)return mi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=jn,null!==l&&(jn?l.length=jn:l=null);var nt=Vn===f}else nt=!0;if(nt){if(void 0!==Ht.gte){const Vn=f,jn=f,Kn=f;if(Ht&&"object"==typeof Ht&&!Array.isArray(Ht)){let In;if(void 0===Ht.gt&&(In="gt")){const yr={};null===l?l=[yr]:l.push(yr),f++}}if(Kn===f)return mi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=jn,null!==l&&(jn?l.length=jn:l=null),nt=Vn===f}else nt=!0;if(nt){if(void 0!==Ht.lt){const Vn=f,jn=f,Kn=f;if(Ht&&"object"==typeof Ht&&!Array.isArray(Ht)){let In;if(void 0===Ht.lte&&(In="lte")){const yr={};null===l?l=[yr]:l.push(yr),f++}}if(Kn===f)return mi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=jn,null!==l&&(jn?l.length=jn:l=null),nt=Vn===f}else nt=!0;if(nt){if(void 0!==Ht.lte){const Vn=f,jn=f,Kn=f;if(Ht&&"object"==typeof Ht&&!Array.isArray(Ht)){let In;if(void 0===Ht.lt&&(In="lt")){const yr={};null===l?l=[yr]:l.push(yr),f++}}if(Kn===f)return mi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=jn,null!==l&&(jn?l.length=jn:l=null),nt=Vn===f}else nt=!0;if(nt){if(void 0!==Ht.gt){let Vn=Ht.gt;const jn=f;if("number"!=typeof Vn||!isFinite(Vn))return mi.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var St=jn===f}else St=!0;if(St){if(void 0!==Ht.gte){let Vn=Ht.gte;const jn=f;if("number"!=typeof Vn||!isFinite(Vn))return mi.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;St=jn===f}else St=!0;if(St){if(void 0!==Ht.lt){let Vn=Ht.lt;const jn=f;if("number"!=typeof Vn||!isFinite(Vn))return mi.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;St=jn===f}else St=!0;if(St)if(void 0!==Ht.lte){let Vn=Ht.lte;const jn=f;if("number"!=typeof Vn||!isFinite(Vn))return mi.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;St=jn===f}else St=!0}}}}}}}}}je=An===f}else je=!0;if(je){if(void 0!==r.dateCreated){let Ht=r.dateCreated;const An=f;if(f===An){if(!Ht||"object"!=typeof Ht||Array.isArray(Ht))return mi.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ht).length<1)return mi.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const qn=f;for(const ar in Ht)if("from"!==ar&&"to"!==ar)return mi.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ar},message:"must NOT have additional properties"}],!1;if(qn===f){if(void 0!==Ht.from){let ar=Ht.from;const Vn=f;if(f==f){if("string"!=typeof ar)return mi.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(ar))return mi.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Nt=Vn===f}else Nt=!0;if(Nt)if(void 0!==Ht.to){let ar=Ht.to;const Vn=f;if(f==f){if("string"!=typeof ar)return mi.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(ar))return mi.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Nt=Vn===f}else Nt=!0}}}je=An===f}else je=!0;if(je){if(void 0!==r.datePublished){let Ht=r.datePublished;const An=f;if(f===An){if(!Ht||"object"!=typeof Ht||Array.isArray(Ht))return mi.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ht).length<1)return mi.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const qn=f;for(const ar in Ht)if("from"!==ar&&"to"!==ar)return mi.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ar},message:"must NOT have additional properties"}],!1;if(qn===f){if(void 0!==Ht.from){let ar=Ht.from;const Vn=f;if(f==f){if("string"!=typeof ar)return mi.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(ar))return mi.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Yt=Vn===f}else Yt=!0;if(Yt)if(void 0!==Ht.to){let ar=Ht.to;const Vn=f;if(f==f){if("string"!=typeof ar)return mi.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(ar))return mi.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Yt=Vn===f}else Yt=!0}}}je=An===f}else je=!0;if(je)if(void 0!==r.dateUpdated){let Ht=r.dateUpdated;const An=f;if(f===An){if(!Ht||"object"!=typeof Ht||Array.isArray(Ht))return mi.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ht).length<1)return mi.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const qn=f;for(const ar in Ht)if("from"!==ar&&"to"!==ar)return mi.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ar},message:"must NOT have additional properties"}],!1;if(qn===f){if(void 0!==Ht.from){let ar=Ht.from;const Vn=f;if(f==f){if("string"!=typeof ar)return mi.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(ar))return mi.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Qt=Vn===f}else Qt=!0;if(Qt)if(void 0!==Ht.to){let ar=Ht.to;const Vn=f;if(f==f){if("string"!=typeof ar)return mi.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(ar))return mi.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Qt=Vn===f}else Qt=!0}}}je=An===f}else je=!0}}}}}}}}}}}}}}}}return mi.errors=l,0===f}mi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ot=vt,Xt={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function vt(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=vt.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return vt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===r.authorization&&(Oe="authorization")||void 0===r.descriptor&&(Oe="descriptor"))return vt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const je=f;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return vt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.authorization){const Ke=f;ys(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?ys.errors:l.concat(ys.errors),f=l.length);var W=Ke===f}else W=!0;if(W)if(void 0!==r.descriptor){let Ke=r.descriptor;const nt=f;if(f===nt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return vt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ot;if(void 0===Ke.interface&&(Ot="interface")||void 0===Ke.method&&(Ot="method")||void 0===Ke.messageTimestamp&&(Ot="messageTimestamp"))return vt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Ot},message:"must have required property '"+Ot+"'"}],!1;{const Et=f;for(const St in Ke)if("interface"!==St&&"method"!==St&&"messageTimestamp"!==St&&"cursor"!==St)return vt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:St},message:"must NOT have additional properties"}],!1;if(Et===f){if(void 0!==Ke.interface){let St=Ke.interface;const Nt=f;if("string"!=typeof St)return vt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==St)return vt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Xt.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Nt===f}else k=!0;if(k){if(void 0!==Ke.method){let St=Ke.method;const Nt=f;if("string"!=typeof St)return vt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==St)return vt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Xt.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Nt===f}else k=!0;if(k){if(void 0!==Ke.messageTimestamp){const St=f;if("string"!=typeof Ke.messageTimestamp)return vt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;k=St===f}else k=!0;if(k)if(void 0!==Ke.cursor){let St=Ke.cursor;const Nt=f;if(f==f){if(!St||"object"!=typeof St||Array.isArray(St))return vt.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(St).length<1)return vt.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let ln;if(void 0===St.messageCid&&(ln="messageCid")||void 0===St.value&&(ln="value"))return vt.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:ln},message:"must have required property '"+ln+"'"}],!1;{const Ht=f;for(const An in St)if("messageCid"!==An&&"value"!==An)return vt.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:An},message:"must NOT have additional properties"}],!1;if(Ht===f){if(void 0!==St.messageCid){const An=f;if("string"!=typeof St.messageCid)return vt.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var re=An===f}else re=!0;if(re)if(void 0!==St.value){let An=St.value;const Jn=f;if("string"!=typeof An&&("number"!=typeof An||!isFinite(An)))return vt.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:Za.properties.value.type},message:"must be string,number"}],!1;re=Jn===f}else re=!0}}}}k=Nt===f}else k=!0}}}}}}W=nt===f}else W=!0}}}}return vt.errors=l,0===f}vt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Vt=Yn,yn={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",minItems:1,items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function Yn(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Yn.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Yn.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let je;if(void 0===r.authorization&&(je="authorization")||void 0===r.descriptor&&(je="descriptor"))return Yn.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:je},message:"must have required property '"+je+"'"}],!1;{const Ke=f;for(const nt in r)if("authorization"!==nt&&"descriptor"!==nt)return Yn.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:nt},message:"must NOT have additional properties"}],!1;if(Ke===f){if(void 0!==r.authorization){const nt=f;ys(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?ys.errors:l.concat(ys.errors),f=l.length);var W=nt===f}else W=!0;if(W)if(void 0!==r.descriptor){let nt=r.descriptor;const wt=f;if(f===wt){if(!nt||"object"!=typeof nt||Array.isArray(nt))return Yn.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Et;if(void 0===nt.interface&&(Et="interface")||void 0===nt.method&&(Et="method")||void 0===nt.messageTimestamp&&(Et="messageTimestamp")||void 0===nt.filters&&(Et="filters"))return Yn.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Et},message:"must have required property '"+Et+"'"}],!1;{const St=f;for(const Nt in nt)if("interface"!==Nt&&"method"!==Nt&&"messageTimestamp"!==Nt&&"filters"!==Nt&&"cursor"!==Nt)return Yn.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Nt},message:"must NOT have additional properties"}],!1;if(St===f){if(void 0!==nt.interface){let Nt=nt.interface;const Yt=f;if("string"!=typeof Nt)return Yn.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==Nt)return Yn.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:yn.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Yt===f}else k=!0;if(k){if(void 0!==nt.method){let Nt=nt.method;const Yt=f;if("string"!=typeof Nt)return Yn.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Nt)return Yn.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:yn.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Yt===f}else k=!0;if(k){if(void 0!==nt.messageTimestamp){let Nt=nt.messageTimestamp;const Yt=f;if(f==f){if("string"!=typeof Nt)return Yn.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(Nt))return Yn.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Yt===f}else k=!0;if(k){if(void 0!==nt.filters){let Nt=nt.filters;const Yt=f;if(f===Yt){if(!Array.isArray(Nt))return Yn.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Nt.length<1)return Yn.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const ln=Nt.length;for(let Ht=0;Ht<ln;Ht++){const An=f;if(mi(Nt[Ht],{instancePath:t+"/descriptor/filters/"+Ht,parentData:Nt,parentDataProperty:Ht,rootData:u,dynamicAnchors:h})||(l=null===l?mi.errors:l.concat(mi.errors),f=l.length),An!==f)break}}}k=Yt===f}else k=!0;if(k)if(void 0!==nt.cursor){let Nt=nt.cursor;const Yt=f;if(f==f){if(!Nt||"object"!=typeof Nt||Array.isArray(Nt))return Yn.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Nt).length<1)return Yn.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Ht;if(void 0===Nt.messageCid&&(Ht="messageCid")||void 0===Nt.value&&(Ht="value"))return Yn.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Ht},message:"must have required property '"+Ht+"'"}],!1;{const An=f;for(const Jn in Nt)if("messageCid"!==Jn&&"value"!==Jn)return Yn.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Jn},message:"must NOT have additional properties"}],!1;if(An===f){if(void 0!==Nt.messageCid){const Jn=f;if("string"!=typeof Nt.messageCid)return Yn.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Oe=Jn===f}else Oe=!0;if(Oe)if(void 0!==Nt.value){let Jn=Nt.value;const qn=f;if("string"!=typeof Jn&&("number"!=typeof Jn||!isFinite(Jn)))return Yn.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:Za.properties.value.type},message:"must be string,number"}],!1;Oe=qn===f}else Oe=!0}}}}k=Yt===f}else k=!0}}}}}}}W=wt===f}else W=!0}}}}return Yn.errors=l,0===f}Yn.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ye=ve,Te={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}}}}}};function ve(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=ve.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return ve.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===r.descriptor&&(Oe="descriptor")||void 0===r.authorization&&(Oe="authorization"))return ve.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const je=f;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return ve.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.authorization){const Ke=f;ys(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?ys.errors:l.concat(ys.errors),f=l.length);var W=Ke===f}else W=!0;if(W)if(void 0!==r.descriptor){let Ke=r.descriptor;const nt=f;if(f===nt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return ve.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ot;if(void 0===Ke.interface&&(Ot="interface")||void 0===Ke.method&&(Ot="method")||void 0===Ke.messageTimestamp&&(Ot="messageTimestamp")||void 0===Ke.filters&&(Ot="filters"))return ve.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Ot},message:"must have required property '"+Ot+"'"}],!1;{const Et=f;for(const St in Ke)if("interface"!==St&&"method"!==St&&"messageTimestamp"!==St&&"filters"!==St)return ve.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:St},message:"must NOT have additional properties"}],!1;if(Et===f){if(void 0!==Ke.interface){let St=Ke.interface;const Nt=f;if("string"!=typeof St)return ve.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==St)return ve.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Te.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Nt===f}else k=!0;if(k){if(void 0!==Ke.method){let St=Ke.method;const Nt=f;if("string"!=typeof St)return ve.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==St)return ve.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Te.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Nt===f}else k=!0;if(k){if(void 0!==Ke.messageTimestamp){const St=f;if("string"!=typeof Ke.messageTimestamp)return ve.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;k=St===f}else k=!0;if(k)if(void 0!==Ke.filters){let St=Ke.filters;const Nt=f;if(f===Nt){if(!Array.isArray(St))return ve.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Qt=St.length;for(let ln=0;ln<Qt;ln++){const Ht=f;if(mi(St[ln],{instancePath:t+"/descriptor/filters/"+ln,parentData:St,parentDataProperty:ln,rootData:u,dynamicAnchors:h})||(l=null===l?mi.errors:l.concat(mi.errors),f=l.length),Ht!==f)break}}}k=Nt===f}else k=!0}}}}}}W=nt===f}else W=!0}}}}return ve.errors=l,0===f}ve.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const xe=st;function st(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=st.evaluated;return X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(st.errors=null,!0):(st.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}st.evaluated={dynamicProps:!1,dynamicItems:!1};const Mt=Jt;function Jt(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Jt.evaluated;X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0);const W=f;let k=!1,re=null;const Oe=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Yt;if(void 0===r.crv&&(Yt="crv")||void 0===r.x&&(Yt="x")){const Qt={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:Yt},message:"must have required property '"+Yt+"'"};null===l?l=[Qt]:l.push(Qt),f++}else{if(void 0!==r.kty){const Qt=f;if("EC"!==r.kty){const ln={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===l?l=[ln]:l.push(ln),f++}var je=Qt===f}else je=!0;if(je){if(void 0!==r.crv){const Qt=f;if("string"!=typeof r.crv){const Ht={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}je=Qt===f}else je=!0;if(je){if(void 0!==r.x){const Qt=f;if("string"!=typeof r.x){const Ht={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}je=Qt===f}else je=!0;if(je){if(void 0!==r.y){const Qt=f;if("string"!=typeof r.y){const Ht={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}je=Qt===f}else je=!0;if(je)if(void 0!==r.d){const Qt=f;if("string"!=typeof r.d){const Ht={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}je=Qt===f}else je=!0}}}}}if(Ot=Oe===f){k=!0,re=0;var Ke={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const nt=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Yt;if(void 0===r.crv&&(Yt="crv")||void 0===r.x&&(Yt="x")){const Qt={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:Yt},message:"must have required property '"+Yt+"'"};null===l?l=[Qt]:l.push(Qt),f++}else{if(void 0!==r.kty){const Qt=f;if("OKP"!==r.kty){const ln={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===l?l=[ln]:l.push(ln),f++}var wt=Qt===f}else wt=!0;if(wt){if(void 0!==r.crv){const Qt=f;if("string"!=typeof r.crv){const Ht={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}wt=Qt===f}else wt=!0;if(wt){if(void 0!==r.x){const Qt=f;if("string"!=typeof r.x){const Ht={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}wt=Qt===f}else wt=!0;if(wt)if(void 0!==r.d){const Qt=f;if("string"!=typeof r.d){const Ht={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}wt=Qt===f}else wt=!0}}}}if((Ot=nt===f)&&k)k=!1,re=[re,1];else{Ot&&(k=!0,re=1,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.crv=!0,Ke.x=!0,Ke.d=!0));const Yt=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let ln;if(void 0===r.n&&(ln="n")||void 0===r.e&&(ln="e")){const Ht={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:ln},message:"must have required property '"+ln+"'"};null===l?l=[Ht]:l.push(Ht),f++}else{if(void 0!==r.kty){const Ht=f;if("RSA"!==r.kty){const An={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===l?l=[An]:l.push(An),f++}var Et=Ht===f}else Et=!0;if(Et){if(void 0!==r.n){const Ht=f;if("string"!=typeof r.n){const Jn={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}Et=Ht===f}else Et=!0;if(Et){if(void 0!==r.e){const Ht=f;if("string"!=typeof r.e){const Jn={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}Et=Ht===f}else Et=!0;if(Et){if(void 0!==r.d){const Ht=f;if("string"!=typeof r.d){const Jn={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}Et=Ht===f}else Et=!0;if(Et){if(void 0!==r.p){const Ht=f;if("string"!=typeof r.p){const Jn={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}Et=Ht===f}else Et=!0;if(Et){if(void 0!==r.q){const Ht=f;if("string"!=typeof r.q){const Jn={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}Et=Ht===f}else Et=!0;if(Et){if(void 0!==r.dp){const Ht=f;if("string"!=typeof r.dp){const Jn={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}Et=Ht===f}else Et=!0;if(Et){if(void 0!==r.dq){const Ht=f;if("string"!=typeof r.dq){const Jn={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}Et=Ht===f}else Et=!0;if(Et){if(void 0!==r.qi){const Ht=f;if("string"!=typeof r.qi){const Jn={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}Et=Ht===f}else Et=!0;if(Et)if(void 0!==r.oth){let Ht=r.oth;const An=f;if(!Ht||"object"!=typeof Ht||Array.isArray(Ht)){const qn={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0}}}}}}}}}}if((Ot=Yt===f)&&k)k=!1,re=[re,2];else{Ot&&(k=!0,re=2,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.n=!0,Ke.e=!0,Ke.d=!0,Ke.p=!0,Ke.q=!0,Ke.dp=!0,Ke.dq=!0,Ke.qi=!0,Ke.oth=!0));const ln=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let An;if(void 0===r.k&&(An="k")){const Jn={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:An},message:"must have required property '"+An+"'"};null===l?l=[Jn]:l.push(Jn),f++}else{if(void 0!==r.kty){const Jn=f;if("oct"!==r.kty){const qn={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===l?l=[qn]:l.push(qn),f++}var St=Jn===f}else St=!0;if(St)if(void 0!==r.k){const Jn=f;if("string"!=typeof r.k){const ar={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[ar]:l.push(ar),f++}St=Jn===f}else St=!0}}var Ot;(Ot=ln===f)&&k?(k=!1,re=[re,3]):Ot&&(k=!0,re=3,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.k=!0))}}if(!k){const Yt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:re},message:"must match exactly one schema in oneOf"};return null===l?l=[Yt]:l.push(Yt),f++,Jt.errors=l,!1}if(f=W,null!==l&&(W?l.length=W:l=null),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Jt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Yt;if(void 0===r.kty&&(Yt="kty"))return Jt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Yt},message:"must have required property '"+Yt+"'"}],!1;if(!0!==Ke&&((Ke=Ke||{}).alg=!0,Ke.kid=!0,Ke.kty=!0,Ke.crv=!0,Ke.use=!0,Ke.key_ops=!0,Ke.x5u=!0,Ke.x5c=!0,Ke.x5t=!0,Ke["x5t#S256"]=!0),void 0!==r.alg){const Qt=f;if("string"!=typeof r.alg)return Jt.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Nt=Qt===f}else Nt=!0;if(Nt){if(void 0!==r.kid){const Qt=f;if("string"!=typeof r.kid)return Jt.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=Qt===f}else Nt=!0;if(Nt){if(void 0!==r.kty){let Qt=r.kty;const ln=f;if("EC"!==Qt&&"RSA"!==Qt&&"oct"!==Qt&&"OKP"!==Qt)return Jt.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:ja.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Nt=ln===f}else Nt=!0;if(Nt){if(void 0!==r.crv){const Qt=f;if("string"!=typeof r.crv)return Jt.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=Qt===f}else Nt=!0;if(Nt){if(void 0!==r.use){const Qt=f;if("string"!=typeof r.use)return Jt.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=Qt===f}else Nt=!0;if(Nt){if(void 0!==r.key_ops){const Qt=f;if("string"!=typeof r.key_ops)return Jt.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=Qt===f}else Nt=!0;if(Nt){if(void 0!==r.x5u){const Qt=f;if("string"!=typeof r.x5u)return Jt.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=Qt===f}else Nt=!0;if(Nt){if(void 0!==r.x5c){const Qt=f;if("string"!=typeof r.x5c)return Jt.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=Qt===f}else Nt=!0;if(Nt){if(void 0!==r.x5t){const Qt=f;if("string"!=typeof r.x5t)return Jt.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=Qt===f}else Nt=!0;if(Nt)if(void 0!==r["x5t#S256"]){const Qt=f;if("string"!=typeof r["x5t#S256"])return Jt.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=Qt===f}else Nt=!0}}}}}}}}}}return Jt.errors=l,X.props=Ke,0===f}Jt.evaluated={dynamicProps:!0,dynamicItems:!1};const Mn=Wo,Ie=oe,ie={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function oe(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=oe.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return oe.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.id&&(k="id")||void 0===r.type&&(k="type")||void 0===r.controller&&(k="controller")||void 0===r.publicKeyJwk&&(k="publicKeyJwk"))return oe.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=f;for(const Oe in r)if("id"!==Oe&&"type"!==Oe&&"controller"!==Oe&&"publicKeyJwk"!==Oe)return oe.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(re===f){if(void 0!==r.id){const Oe=f;if("string"!=typeof r.id)return oe.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=Oe===f}else W=!0;if(W){if(void 0!==r.type){let Oe=r.type;const je=f;if("JsonWebKey"!==Oe&&"JsonWebKey2020"!==Oe)return oe.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:ie.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;W=je===f}else W=!0;if(W){if(void 0!==r.controller){let Oe=r.controller;const je=f;if(f==f){if("string"!=typeof Oe)return oe.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qd.test(Oe))return oe.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}W=je===f}else W=!0;if(W)if(void 0!==r.publicKeyJwk){const Oe=f;Ji(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:u,dynamicAnchors:h})||(l=null===l?Ji.errors:l.concat(Ji.errors),f=l.length),W=Oe===f}else W=!0}}}}}}return oe.errors=l,0===f}oe.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ye=Ze,We={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function Ze(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Ze.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Ze.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===r.authorization&&(Oe="authorization")||void 0===r.descriptor&&(Oe="descriptor"))return Ze.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const je=f;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return Ze.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.authorization){const Ke=f;ys(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?ys.errors:l.concat(ys.errors),f=l.length);var W=Ke===f}else W=!0;if(W)if(void 0!==r.descriptor){let Ke=r.descriptor;const nt=f;if(f===nt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return Ze.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ot;if(void 0===Ke.interface&&(Ot="interface")||void 0===Ke.method&&(Ot="method")||void 0===Ke.messageTimestamp&&(Ot="messageTimestamp"))return Ze.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Ot},message:"must have required property '"+Ot+"'"}],!1;{const Et=f;for(const St in Ke)if("interface"!==St&&"method"!==St&&"messageTimestamp"!==St&&"messageCids"!==St)return Ze.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:St},message:"must NOT have additional properties"}],!1;if(Et===f){if(void 0!==Ke.interface){let St=Ke.interface;const Nt=f;if("string"!=typeof St)return Ze.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==St)return Ze.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:We.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Nt===f}else k=!0;if(k){if(void 0!==Ke.method){let St=Ke.method;const Nt=f;if("string"!=typeof St)return Ze.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==St)return Ze.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:We.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Nt===f}else k=!0;if(k){if(void 0!==Ke.messageTimestamp){let St=Ke.messageTimestamp;const Nt=f;if(f==f){if("string"!=typeof St)return Ze.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(St))return Ze.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Nt===f}else k=!0;if(k)if(void 0!==Ke.messageCids){let St=Ke.messageCids;const Nt=f;if(f===Nt){if(!Array.isArray(St))return Ze.errors=[{instancePath:t+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(St.length<1)return Ze.errors=[{instancePath:t+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Qt=St.length;for(let ln=0;ln<Qt;ln++){const Ht=f;if("string"!=typeof St[ln])return Ze.errors=[{instancePath:t+"/descriptor/messageCids/"+ln,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Ht!==f)break}}}k=Nt===f}else k=!0}}}}}}W=nt===f}else W=!0}}}}return Ze.errors=l,0===f}Ze.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ht=$t;function $t(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=$t.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return $t.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return $t.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const nt=f;for(const wt in r)if("gt"!==wt&&"gte"!==wt&&"lt"!==wt&&"lte"!==wt)return $t.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wt},message:"must NOT have additional properties"}],!1;if(nt===f){if(void 0!==r.gt){const wt=f,Ot=f,Et=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let St;if(void 0===r.gte&&(St="gte")){const Nt={};null===l?l=[Nt]:l.push(Nt),f++}}if(Et===f)return $t.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=Ot,null!==l&&(Ot?l.length=Ot:l=null);var k=wt===f}else k=!0;if(k){if(void 0!==r.gte){const wt=f,Ot=f,Et=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.gt&&(Nt="gt")){const Yt={};null===l?l=[Yt]:l.push(Yt),f++}}if(Et===f)return $t.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=Ot,null!==l&&(Ot?l.length=Ot:l=null),k=wt===f}else k=!0;if(k){if(void 0!==r.lt){const wt=f,Ot=f,Et=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.lte&&(Nt="lte")){const Yt={};null===l?l=[Yt]:l.push(Yt),f++}}if(Et===f)return $t.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=Ot,null!==l&&(Ot?l.length=Ot:l=null),k=wt===f}else k=!0;if(k){if(void 0!==r.lte){const wt=f,Ot=f,Et=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.lt&&(Nt="lt")){const Yt={};null===l?l=[Yt]:l.push(Yt),f++}}if(Et===f)return $t.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=Ot,null!==l&&(Ot?l.length=Ot:l=null),k=wt===f}else k=!0;if(k){if(void 0!==r.gt){let wt=r.gt;const Ot=f;if("number"!=typeof wt||!isFinite(wt))return $t.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Ke=Ot===f}else Ke=!0;if(Ke){if(void 0!==r.gte){let wt=r.gte;const Ot=f;if("number"!=typeof wt||!isFinite(wt))return $t.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Ke=Ot===f}else Ke=!0;if(Ke){if(void 0!==r.lt){let wt=r.lt;const Ot=f;if("number"!=typeof wt||!isFinite(wt))return $t.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Ke=Ot===f}else Ke=!0;if(Ke)if(void 0!==r.lte){let wt=r.lte;const Ot=f;if("number"!=typeof wt||!isFinite(wt))return $t.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Ke=Ot===f}else Ke=!0}}}}}}}}}return $t.errors=l,0===f}$t.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const bn=zt;function zt(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=zt.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return zt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return zt.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let k;if(void 0===r.messageCid&&(k="messageCid")||void 0===r.value&&(k="value"))return zt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=0;for(const Oe in r)if("messageCid"!==Oe&&"value"!==Oe)return zt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(0===re){if(void 0!==r.messageCid){const Oe=0;if("string"!=typeof r.messageCid)return zt.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=0===Oe}else W=!0;if(W)if(void 0!==r.value){let Oe=r.value;const je=0;if("string"!=typeof Oe&&("number"!=typeof Oe||!isFinite(Oe)))return zt.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:Za.properties.value.type},message:"must be string,number"}],!1;W=0===je}else W=!0}}}return zt.errors=null,!0}zt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const dt=Mi,fr={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function wi(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=wi.evaluated;X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0);const W=f;let k=!1,re=null;const Oe=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.interface){const Ht=f;if("Protocols"!==r.interface){const An={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===l?l=[An]:l.push(An),f++}var Ke=Ht===f}else Ke=!0;if(Ke)if(void 0!==r.method){const Ht=f;if("Query"!==r.method){const Jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),f++}Ke=Ht===f}else Ke=!0}else{const Ht={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ht]:l.push(Ht),f++}if(St=Oe===f){k=!0,re=0;var nt={interface:!0,method:!0}}const wt=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Ht;if(void 0===r.interface&&(Ht="interface")||void 0===r.method&&(Ht="method")){const An={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Ht},message:"must have required property '"+Ht+"'"};null===l?l=[An]:l.push(An),f++}else{if(void 0!==r.interface){const An=f;if("Records"!==r.interface){const Jn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),f++}var Et=An===f}else Et=!0;if(Et){if(void 0!==r.method){const An=f;if("Read"!==r.method){const qn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0;if(Et){if(void 0!==r.schema){const An=f;if("string"!=typeof r.schema){const qn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0;if(Et){if(void 0!==r.protocol){const An=f;if("string"!=typeof r.protocol){const qn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0;if(Et){if(void 0!==r.contextId){const An=f;if("string"!=typeof r.contextId){const qn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0;if(Et)if(void 0!==r.protocolPath){const An=f;if("string"!=typeof r.protocolPath){const qn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0}}}}}}else{const Ht={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ht]:l.push(Ht),f++}if((St=wt===f)&&k)k=!1,re=[re,1];else{St&&(k=!0,re=1,!0!==nt&&((nt=nt||{}).interface=!0,nt.method=!0,nt.schema=!0,nt.protocol=!0,nt.contextId=!0,nt.protocolPath=!0));const Ht=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let qn;if(void 0===r.interface&&(qn="interface")||void 0===r.method&&(qn="method")){const ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:qn},message:"must have required property '"+qn+"'"};null===l?l=[ar]:l.push(ar),f++}else{if(void 0!==r.interface){const ar=f;if("Records"!==r.interface){const Vn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Vn]:l.push(Vn),f++}var Nt=ar===f}else Nt=!0;if(Nt){if(void 0!==r.method){const ar=f;if("Delete"!==r.method){const jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===l?l=[jn]:l.push(jn),f++}Nt=ar===f}else Nt=!0;if(Nt){if(void 0!==r.protocol){const ar=f;if("string"!=typeof r.protocol){const jn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[jn]:l.push(jn),f++}Nt=ar===f}else Nt=!0;if(Nt)if(void 0!==r.schema){const ar=f;if("string"!=typeof r.schema){const jn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[jn]:l.push(jn),f++}Nt=ar===f}else Nt=!0}}}}else{const qn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[qn]:l.push(qn),f++}if((St=Ht===f)&&k)k=!1,re=[re,2];else{St&&(k=!0,re=2,!0!==nt&&((nt=nt||{}).interface=!0,nt.method=!0,nt.protocol=!0,nt.schema=!0));const qn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let jn;if(void 0===r.interface&&(jn="interface")||void 0===r.method&&(jn="method")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"};null===l?l=[Kn]:l.push(Kn),f++}else{if(void 0!==r.interface){const Kn=f;if("Records"!==r.interface){const Xn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),f++}var Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.method){const Kn=f;if("Write"!==r.method){const In={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===l?l=[In]:l.push(In),f++}Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.schema){const Kn=f;if("string"!=typeof r.schema){const In={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.protocol){const Kn=f;if("string"!=typeof r.protocol){const In={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.contextId){const Kn=f;if("string"!=typeof r.contextId){const In={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Yt=Kn===f}else Yt=!0;if(Yt)if(void 0!==r.protocolPath){const Kn=f;if("string"!=typeof r.protocolPath){const In={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Yt=Kn===f}else Yt=!0}}}}}}else{const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[jn]:l.push(jn),f++}if((St=qn===f)&&k)k=!1,re=[re,3];else{St&&(k=!0,re=3,!0!==nt&&((nt=nt||{}).interface=!0,nt.method=!0,nt.schema=!0,nt.protocol=!0,nt.contextId=!0,nt.protocolPath=!0));const jn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let In;if(void 0===r.interface&&(In="interface")||void 0===r.method&&(In="method")){const yr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:In},message:"must have required property '"+In+"'"};null===l?l=[yr]:l.push(yr),f++}else{if(void 0!==r.interface){const yr=f;if("Records"!==r.interface){const gr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[gr]:l.push(gr),f++}var Qt=yr===f}else Qt=!0;if(Qt){if(void 0!==r.method){const yr=f;if("Query"!==r.method){const Er={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Er]:l.push(Er),f++}Qt=yr===f}else Qt=!0;if(Qt)if(void 0!==r.protocol){const yr=f;if("string"!=typeof r.protocol){const Er={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Er]:l.push(Er),f++}Qt=yr===f}else Qt=!0}}}else{const In={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[In]:l.push(In),f++}if((St=jn===f)&&k)k=!1,re=[re,4];else{St&&(k=!0,re=4,!0!==nt&&((nt=nt||{}).interface=!0,nt.method=!0,nt.protocol=!0));const In=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Er;if(void 0===r.interface&&(Er="interface")||void 0===r.method&&(Er="method")){const Gr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Er},message:"must have required property '"+Er+"'"};null===l?l=[Gr]:l.push(Gr),f++}else{if(void 0!==r.interface){const Gr=f;if("Records"!==r.interface){const li={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[li]:l.push(li),f++}var ln=Gr===f}else ln=!0;if(ln){if(void 0!==r.method){const Gr=f;if("Subscribe"!==r.method){const Pn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===l?l=[Pn]:l.push(Pn),f++}ln=Gr===f}else ln=!0;if(ln)if(void 0!==r.protocol){const Gr=f;if("string"!=typeof r.protocol){const Pn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),f++}ln=Gr===f}else ln=!0}}}else{const Er={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Er]:l.push(Er),f++}var St;(St=In===f)&&k?(k=!1,re=[re,5]):St&&(k=!0,re=5,!0!==nt&&((nt=nt||{}).interface=!0,nt.method=!0,nt.protocol=!0))}}}}if(!k){const Ht={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:re},message:"must match exactly one schema in oneOf"};return null===l?l=[Ht]:l.push(Ht),f++,wi.errors=l,!1}return f=W,null!==l&&(W?l.length=W:l=null),wi.errors=l,X.props=nt,0===f}function Mi(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Mi.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Mi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.dateExpires&&(k="dateExpires")||void 0===r.scope&&(k="scope"))return Mi.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=f;for(const Oe in r)if("description"!==Oe&&"dateExpires"!==Oe&&"requestId"!==Oe&&"delegated"!==Oe&&"scope"!==Oe&&"conditions"!==Oe)return Mi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(re===f){if(void 0!==r.description){const Oe=f;if("string"!=typeof r.description)return Mi.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=Oe===f}else W=!0;if(W){if(void 0!==r.dateExpires){let Oe=r.dateExpires;const je=f;if(f==f){if("string"!=typeof Oe)return Mi.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(Oe))return Mi.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}W=je===f}else W=!0;if(W){if(void 0!==r.requestId){const Oe=f;if("string"!=typeof r.requestId)return Mi.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=Oe===f}else W=!0;if(W){if(void 0!==r.delegated){const Oe=f;if("boolean"!=typeof r.delegated)return Mi.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;W=Oe===f}else W=!0;if(W){if(void 0!==r.scope){const Oe=f;wi(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:u,dynamicAnchors:h})||(l=null===l?wi.errors:l.concat(wi.errors),f=l.length),W=Oe===f}else W=!0;if(W)if(void 0!==r.conditions){let Oe=r.conditions;const je=f;if(f==f){if(!Oe||"object"!=typeof Oe||Array.isArray(Oe))return Mi.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const wt=f;for(const Ot in Oe)if("publication"!==Ot)return Mi.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ot},message:"must NOT have additional properties"}],!1;if(wt===f&&void 0!==Oe.publication){let Ot=Oe.publication;if("string"!=typeof Ot)return Mi.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==Ot&&"Prohibited"!==Ot)return Mi.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:fr.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}W=je===f}else W=!0}}}}}}}}return Mi.errors=l,0===f}wi.evaluated={dynamicProps:!0,dynamicItems:!1},Mi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Zr=cs;function _s(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=_s.evaluated;X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0);const W=f;let k=!1,re=null;const Oe=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.interface){const Ht=f;if("Protocols"!==r.interface){const An={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===l?l=[An]:l.push(An),f++}var Ke=Ht===f}else Ke=!0;if(Ke)if(void 0!==r.method){const Ht=f;if("Query"!==r.method){const Jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),f++}Ke=Ht===f}else Ke=!0}else{const Ht={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ht]:l.push(Ht),f++}if(St=Oe===f){k=!0,re=0;var nt={interface:!0,method:!0}}const wt=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Ht;if(void 0===r.interface&&(Ht="interface")||void 0===r.method&&(Ht="method")){const An={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Ht},message:"must have required property '"+Ht+"'"};null===l?l=[An]:l.push(An),f++}else{if(void 0!==r.interface){const An=f;if("Records"!==r.interface){const Jn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),f++}var Et=An===f}else Et=!0;if(Et){if(void 0!==r.method){const An=f;if("Read"!==r.method){const qn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0;if(Et){if(void 0!==r.schema){const An=f;if("string"!=typeof r.schema){const qn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0;if(Et){if(void 0!==r.protocol){const An=f;if("string"!=typeof r.protocol){const qn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0;if(Et){if(void 0!==r.contextId){const An=f;if("string"!=typeof r.contextId){const qn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0;if(Et)if(void 0!==r.protocolPath){const An=f;if("string"!=typeof r.protocolPath){const qn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[qn]:l.push(qn),f++}Et=An===f}else Et=!0}}}}}}else{const Ht={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ht]:l.push(Ht),f++}if((St=wt===f)&&k)k=!1,re=[re,1];else{St&&(k=!0,re=1,!0!==nt&&((nt=nt||{}).interface=!0,nt.method=!0,nt.schema=!0,nt.protocol=!0,nt.contextId=!0,nt.protocolPath=!0));const Ht=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let qn;if(void 0===r.interface&&(qn="interface")||void 0===r.method&&(qn="method")){const ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:qn},message:"must have required property '"+qn+"'"};null===l?l=[ar]:l.push(ar),f++}else{if(void 0!==r.interface){const ar=f;if("Records"!==r.interface){const Vn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Vn]:l.push(Vn),f++}var Nt=ar===f}else Nt=!0;if(Nt){if(void 0!==r.method){const ar=f;if("Delete"!==r.method){const jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===l?l=[jn]:l.push(jn),f++}Nt=ar===f}else Nt=!0;if(Nt){if(void 0!==r.protocol){const ar=f;if("string"!=typeof r.protocol){const jn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[jn]:l.push(jn),f++}Nt=ar===f}else Nt=!0;if(Nt)if(void 0!==r.schema){const ar=f;if("string"!=typeof r.schema){const jn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[jn]:l.push(jn),f++}Nt=ar===f}else Nt=!0}}}}else{const qn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[qn]:l.push(qn),f++}if((St=Ht===f)&&k)k=!1,re=[re,2];else{St&&(k=!0,re=2,!0!==nt&&((nt=nt||{}).interface=!0,nt.method=!0,nt.protocol=!0,nt.schema=!0));const qn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let jn;if(void 0===r.interface&&(jn="interface")||void 0===r.method&&(jn="method")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"};null===l?l=[Kn]:l.push(Kn),f++}else{if(void 0!==r.interface){const Kn=f;if("Records"!==r.interface){const Xn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),f++}var Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.method){const Kn=f;if("Write"!==r.method){const In={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===l?l=[In]:l.push(In),f++}Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.schema){const Kn=f;if("string"!=typeof r.schema){const In={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.protocol){const Kn=f;if("string"!=typeof r.protocol){const In={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Yt=Kn===f}else Yt=!0;if(Yt){if(void 0!==r.contextId){const Kn=f;if("string"!=typeof r.contextId){const In={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Yt=Kn===f}else Yt=!0;if(Yt)if(void 0!==r.protocolPath){const Kn=f;if("string"!=typeof r.protocolPath){const In={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[In]:l.push(In),f++}Yt=Kn===f}else Yt=!0}}}}}}else{const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[jn]:l.push(jn),f++}if((St=qn===f)&&k)k=!1,re=[re,3];else{St&&(k=!0,re=3,!0!==nt&&((nt=nt||{}).interface=!0,nt.method=!0,nt.schema=!0,nt.protocol=!0,nt.contextId=!0,nt.protocolPath=!0));const jn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let In;if(void 0===r.interface&&(In="interface")||void 0===r.method&&(In="method")){const yr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:In},message:"must have required property '"+In+"'"};null===l?l=[yr]:l.push(yr),f++}else{if(void 0!==r.interface){const yr=f;if("Records"!==r.interface){const gr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[gr]:l.push(gr),f++}var Qt=yr===f}else Qt=!0;if(Qt){if(void 0!==r.method){const yr=f;if("Query"!==r.method){const Er={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Er]:l.push(Er),f++}Qt=yr===f}else Qt=!0;if(Qt)if(void 0!==r.protocol){const yr=f;if("string"!=typeof r.protocol){const Er={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Er]:l.push(Er),f++}Qt=yr===f}else Qt=!0}}}else{const In={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[In]:l.push(In),f++}if((St=jn===f)&&k)k=!1,re=[re,4];else{St&&(k=!0,re=4,!0!==nt&&((nt=nt||{}).interface=!0,nt.method=!0,nt.protocol=!0));const In=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Er;if(void 0===r.interface&&(Er="interface")||void 0===r.method&&(Er="method")){const Gr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Er},message:"must have required property '"+Er+"'"};null===l?l=[Gr]:l.push(Gr),f++}else{if(void 0!==r.interface){const Gr=f;if("Records"!==r.interface){const li={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[li]:l.push(li),f++}var ln=Gr===f}else ln=!0;if(ln){if(void 0!==r.method){const Gr=f;if("Subscribe"!==r.method){const Pn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===l?l=[Pn]:l.push(Pn),f++}ln=Gr===f}else ln=!0;if(ln)if(void 0!==r.protocol){const Gr=f;if("string"!=typeof r.protocol){const Pn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),f++}ln=Gr===f}else ln=!0}}}else{const Er={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Er]:l.push(Er),f++}var St;(St=In===f)&&k?(k=!1,re=[re,5]):St&&(k=!0,re=5,!0!==nt&&((nt=nt||{}).interface=!0,nt.method=!0,nt.protocol=!0))}}}}if(!k){const Ht={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:re},message:"must match exactly one schema in oneOf"};return null===l?l=[Ht]:l.push(Ht),f++,_s.errors=l,!1}return f=W,null!==l&&(W?l.length=W:l=null),_s.errors=l,X.props=nt,0===f}function cs(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=cs.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return cs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.delegated&&(k="delegated")||void 0===r.scope&&(k="scope"))return cs.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=f;for(const Oe in r)if("description"!==Oe&&"delegated"!==Oe&&"scope"!==Oe&&"conditions"!==Oe)return cs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(re===f){if(void 0!==r.description){const Oe=f;if("string"!=typeof r.description)return cs.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=Oe===f}else W=!0;if(W){if(void 0!==r.delegated){const Oe=f;if("boolean"!=typeof r.delegated)return cs.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;W=Oe===f}else W=!0;if(W){if(void 0!==r.scope){const Oe=f;_s(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:u,dynamicAnchors:h})||(l=null===l?_s.errors:l.concat(_s.errors),f=l.length),W=Oe===f}else W=!0;if(W)if(void 0!==r.conditions){let Oe=r.conditions;const je=f;if(f==f){if(!Oe||"object"!=typeof Oe||Array.isArray(Oe))return cs.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const wt=f;for(const Ot in Oe)if("publication"!==Ot)return cs.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ot},message:"must NOT have additional properties"}],!1;if(wt===f&&void 0!==Oe.publication){let Ot=Oe.publication;if("string"!=typeof Ot)return cs.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==Ot&&"Prohibited"!==Ot)return cs.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:fr.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}W=je===f}else W=!0}}}}}}return cs.errors=l,0===f}_s.evaluated={dynamicProps:!0,dynamicItems:!1},cs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const sc=nl;function nl(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=nl.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return nl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const W=0;for(const k in r)if("description"!==k)return nl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;if(0===W&&void 0!==r.description&&"string"!=typeof r.description)return nl.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return nl.errors=null,!0}nl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Up=Lp;function Lp(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=Lp.evaluated;return X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Lp.errors=null,!0):(Lp.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Lp.evaluated={dynamicProps:!1,dynamicItems:!1};const fb=Kh;function Kh(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=Kh.evaluated;return X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Kh.errors=null,!0):(Kh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Kh.evaluated={dynamicProps:!1,dynamicItems:!1};const hb=ac,vl=new RegExp(".*","u"),Fh={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},Y0=new RegExp("^[^$].*$","u"),O1=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),R1=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),pb=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),ny={validate:Ko};function Ko(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Ko.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Ko.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const ar=f;for(const Vn in r)if("$encryption"!==Vn&&"$actions"!==Vn&&"$role"!==Vn&&"$size"!==Vn&&"$tags"!==Vn&&!Y0.test(Vn))return Ko.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Vn},message:"must NOT have additional properties"}],!1;if(ar===f){if(void 0!==r.$encryption){let Vn=r.$encryption;const jn=f;if(f===jn){if(!Vn||"object"!=typeof Vn||Array.isArray(Vn))return Ko.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Kn;if(void 0===Vn.rootKeyId&&(Kn="rootKeyId")||void 0===Vn.publicKeyJwk&&(Kn="publicKeyJwk"))return Ko.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:Kn},message:"must have required property '"+Kn+"'"}],!1;{const Xn=f;for(const In in Vn)if("rootKeyId"!==In&&"publicKeyJwk"!==In)return Ko.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:In},message:"must NOT have additional properties"}],!1;if(Xn===f){if(void 0!==Vn.rootKeyId){const In=f;if("string"!=typeof Vn.rootKeyId)return Ko.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=In===f}else W=!0;if(W)if(void 0!==Vn.publicKeyJwk){const In=f;Ji(Vn.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:Vn,parentDataProperty:"publicKeyJwk",rootData:u,dynamicAnchors:h})||(l=null===l?Ji.errors:l.concat(Ji.errors),f=l.length),W=In===f}else W=!0}}}}var k=jn===f}else k=!0;if(k){if(void 0!==r.$actions){let Vn=r.$actions;const jn=f;if(f===jn){if(!Array.isArray(Vn))return Ko.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Vn.length<1)return Ko.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Xn=Vn.length;for(let In=0;In<Xn;In++){let yr=Vn[In];const gr=f;if(!yr||"object"!=typeof yr||Array.isArray(yr))return Ko.errors=[{instancePath:t+"/$actions/"+In,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const Er=f;let Gr=!1,li=null;const Pn=f;if(yr&&"object"==typeof yr&&!Array.isArray(yr)){let Dr;if(void 0===yr.who&&(Dr="who")||void 0===yr.can&&(Dr="can")){const rr={instancePath:t+"/$actions/"+In,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:Dr},message:"must have required property '"+Dr+"'"};null===l?l=[rr]:l.push(rr),f++}else{const rr=f;for(const Sr in yr)if("who"!==Sr&&"of"!==Sr&&"can"!==Sr){const ci={instancePath:t+"/$actions/"+In,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sr},message:"must NOT have additional properties"};null===l?l=[ci]:l.push(ci),f++;break}if(rr===f){if(void 0!==yr.who){let Sr=yr.who;const ci=f;if("string"!=typeof Sr){const zi={instancePath:t+"/$actions/"+In+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[zi]:l.push(zi),f++}if("anyone"!==Sr&&"author"!==Sr&&"recipient"!==Sr){const zi={instancePath:t+"/$actions/"+In+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:Fh.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===l?l=[zi]:l.push(zi),f++}var Oe=ci===f}else Oe=!0;if(Oe){if(void 0!==yr.of){const Sr=f;if("string"!=typeof yr.of){const zi={instancePath:t+"/$actions/"+In+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[zi]:l.push(zi),f++}Oe=Sr===f}else Oe=!0;if(Oe)if(void 0!==yr.can){let Sr=yr.can;const ci=f;if(f===ci)if(Array.isArray(Sr))if(Sr.length<1){const Hi={instancePath:t+"/$actions/"+In+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Hi]:l.push(Hi),f++}else{const Hi=Sr.length;for(let Ei=0;Ei<Hi;Ei++){let Ai=Sr[Ei];const kd=f;if("string"!=typeof Ai){const Pr={instancePath:t+"/$actions/"+In+"/can/"+Ei,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pr]:l.push(Pr),f++}if("co-delete"!==Ai&&"co-prune"!==Ai&&"co-update"!==Ai&&"create"!==Ai&&"delete"!==Ai&&"prune"!==Ai&&"read"!==Ai&&"update"!==Ai){const Pr={instancePath:t+"/$actions/"+In+"/can/"+Ei,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:Fh.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===l?l=[Pr]:l.push(Pr),f++}if(kd!==f)break}}else{const Hi={instancePath:t+"/$actions/"+In+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Hi]:l.push(Hi),f++}Oe=ci===f}else Oe=!0}}}}if(Pn===f){Gr=!0,li=0;var Ke=!0}const hi=f;if(yr&&"object"==typeof yr&&!Array.isArray(yr)){let Dr;if(void 0===yr.role&&(Dr="role")||void 0===yr.can&&(Dr="can")){const rr={instancePath:t+"/$actions/"+In,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:Dr},message:"must have required property '"+Dr+"'"};null===l?l=[rr]:l.push(rr),f++}else{if(void 0!==yr.role){const rr=f;if("string"!=typeof yr.role){const Sr={instancePath:t+"/$actions/"+In+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Sr]:l.push(Sr),f++}var nt=rr===f}else nt=!0;if(nt)if(void 0!==yr.can){let rr=yr.can;const Sr=f;if(f===Sr)if(Array.isArray(rr))if(rr.length<1){const zi={instancePath:t+"/$actions/"+In+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[zi]:l.push(zi),f++}else{const zi=rr.length;for(let Hi=0;Hi<zi;Hi++){let Ei=rr[Hi];const Ai=f;if("string"!=typeof Ei){const ub={instancePath:t+"/$actions/"+In+"/can/"+Hi,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[ub]:l.push(ub),f++}if("co-delete"!==Ei&&"co-update"!==Ei&&"create"!==Ei&&"delete"!==Ei&&"query"!==Ei&&"subscribe"!==Ei&&"read"!==Ei&&"update"!==Ei){const ub={instancePath:t+"/$actions/"+In+"/can/"+Hi,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:Fh.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===l?l=[ub]:l.push(ub),f++}if(Ai!==f)break}}else{const zi={instancePath:t+"/$actions/"+In+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[zi]:l.push(zi),f++}nt=Sr===f}else nt=!0}}var Ot;if((Ot=hi===f)&&Gr?(Gr=!1,li=[li,1]):Ot&&(Gr=!0,li=1,!0!==Ke&&((Ke=Ke||{}).role=!0,Ke.can=!0)),!Gr){const Dr={instancePath:t+"/$actions/"+In,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:li},message:"must match exactly one schema in oneOf"};return null===l?l=[Dr]:l.push(Dr),f++,Ko.errors=l,!1}if(f=Er,null!==l&&(Er?l.length=Er:l=null),gr!==f)break}}}k=jn===f}else k=!0;if(k){if(void 0!==r.$role){const Vn=f;if("boolean"!=typeof r.$role)return Ko.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;k=Vn===f}else k=!0;if(k){if(void 0!==r.$size){let Vn=r.$size;const jn=f;if(f===jn){if(!Vn||"object"!=typeof Vn||Array.isArray(Vn))return Ko.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Xn=f;for(const In in Vn)if("min"!==In&&"max"!==In)return Ko.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:In},message:"must NOT have additional properties"}],!1;if(Xn===f){if(void 0!==Vn.min){let In=Vn.min;const yr=f;if(f===yr){if("number"!=typeof In||!isFinite(In))return Ko.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(In<0||isNaN(In))return Ko.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var Et=yr===f}else Et=!0;if(Et)if(void 0!==Vn.max){let In=Vn.max;const yr=f;if(f===yr){if("number"!=typeof In||!isFinite(In))return Ko.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(In<0||isNaN(In))return Ko.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}Et=yr===f}else Et=!0}}}k=jn===f}else k=!0;if(k){if(void 0!==r.$tags){let Vn=r.$tags;const jn=f;if(f===jn){if(!Vn||"object"!=typeof Vn||Array.isArray(Vn))return Ko.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Vn).length<1)return Ko.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==Vn.$requiredTags){let Xn=Vn.$requiredTags;const In=f;if(f===In){if(!Array.isArray(Xn))return Ko.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const yr=Xn.length;for(let gr=0;gr<yr;gr++){const Er=f;if("string"!=typeof Xn[gr])return Ko.errors=[{instancePath:t+"/$tags/$requiredTags/"+gr,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Er!==f)break}}}var Nt=In===f}else Nt=!0;if(Nt){if(void 0!==Vn.$allowUndefinedTags){const Xn=f;if("boolean"!=typeof Vn.$allowUndefinedTags)return Ko.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Nt=Xn===f}else Nt=!0;if(Nt){var Yt={$requiredTags:!0,$allowUndefinedTags:!0};for(const Xn in Vn)if(O1.test(Xn)){let In=Vn[Xn];if(f==f){if(!In||"object"!=typeof In||Array.isArray(In))return Ko.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const gr=f;for(const Er in In)if("type"!==Er&&"items"!==Er&&"contains"!==Er&&!R1.test(Er))return Ko.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Er},message:"must NOT have additional properties"}],!1;if(gr===f){if(void 0!==In.type){let Er=In.type;const Gr=f;if("string"!==Er&&"number"!==Er&&"integer"!==Er&&"boolean"!==Er&&"array"!==Er)return Ko.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:Fh.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Qt=Gr===f}else Qt=!0;if(Qt){if(void 0!==In.items){let Er=In.items;const Gr=f;if(f===Gr){if(!Er||"object"!=typeof Er||Array.isArray(Er))return Ko.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Er.type){let Pn=Er.type;const hi=f;if("string"!==Pn&&"number"!==Pn&&"integer"!==Pn)return Ko.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:Fh.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var ln=hi===f}else ln=!0;if(ln){var Ht={type:!0};for(const Pn in Er)pb.test(Pn)&&(Ht[Pn]=!0)}}Qt=Gr===f}else Qt=!0;if(Qt)if(void 0!==In.contains){let Er=In.contains;const Gr=f;if(f===Gr){if(!Er||"object"!=typeof Er||Array.isArray(Er))return Ko.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Er.type){let Pn=Er.type;const hi=f;if("string"!==Pn&&"number"!==Pn&&"integer"!==Pn)return Ko.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:Fh.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var An=hi===f}else An=!0;if(An){var Jn={type:!0};for(const Pn in Er)pb.test(Pn)&&(Jn[Pn]=!0)}}Qt=Gr===f}else Qt=!0}}}}Yt[Xn]=!0}}}}k=jn===f}else k=!0;if(k)for(const Vn in r)if(Y0.test(Vn)){const jn=f;if(ny.validate(r[Vn],{instancePath:t+"/"+Vn.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:Vn,rootData:u,dynamicAnchors:h})||(l=null===l?ny.validate.errors:l.concat(ny.validate.errors),f=l.length),jn!==f)break}}}}}}}}return Ko.errors=l,0===f}function ac(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=ac.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return ac.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ke;if(void 0===r.protocol&&(Ke="protocol")||void 0===r.published&&(Ke="published")||void 0===r.types&&(Ke="types")||void 0===r.structure&&(Ke="structure"))return ac.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ke},message:"must have required property '"+Ke+"'"}],!1;{const nt=f;for(const wt in r)if("protocol"!==wt&&"published"!==wt&&"types"!==wt&&"structure"!==wt)return ac.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wt},message:"must NOT have additional properties"}],!1;if(nt===f){if(void 0!==r.protocol){const wt=f;if("string"!=typeof r.protocol)return ac.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=wt===f}else W=!0;if(W){if(void 0!==r.published){const wt=f;if("boolean"!=typeof r.published)return ac.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;W=wt===f}else W=!0;if(W){if(void 0!==r.types){let wt=r.types;const Ot=f;if(f===Ot){if(!wt||"object"!=typeof wt||Array.isArray(wt))return ac.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var k={};for(const St in wt)if(vl.test(St)){let Nt=wt[St];if(f==f){if(!Nt||"object"!=typeof Nt||Array.isArray(Nt))return ac.errors=[{instancePath:t+"/types/"+St.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Qt=f;for(const ln in Nt)if("schema"!==ln&&"dataFormats"!==ln)return ac.errors=[{instancePath:t+"/types/"+St.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ln},message:"must NOT have additional properties"}],!1;if(Qt===f){if(void 0!==Nt.schema){const ln=f;if("string"!=typeof Nt.schema)return ac.errors=[{instancePath:t+"/types/"+St.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var re=ln===f}else re=!0;if(re)if(void 0!==Nt.dataFormats){let ln=Nt.dataFormats;const Ht=f;if(f===Ht){if(!Array.isArray(ln))return ac.errors=[{instancePath:t+"/types/"+St.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(ln.length<1)return ac.errors=[{instancePath:t+"/types/"+St.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Jn=ln.length;for(let qn=0;qn<Jn;qn++){const ar=f;if("string"!=typeof ln[qn])return ac.errors=[{instancePath:t+"/types/"+St.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+qn,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(ar!==f)break}}}re=Ht===f}else re=!0}}}k[St]=!0}}W=Ot===f}else W=!0;if(W)if(void 0!==r.structure){let wt=r.structure;const Ot=f;if(f===Ot){if(!wt||"object"!=typeof wt||Array.isArray(wt))return ac.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var je={};for(const St in wt)vl.test(St)&&(Ko(wt[St],{instancePath:t+"/structure/"+St.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:wt,parentDataProperty:St,rootData:u,dynamicAnchors:h})||(l=null===l?Ko.errors:l.concat(Ko.errors),f=l.length),je[St]=!0)}W=Ot===f}else W=!0}}}}}}return ac.errors=l,0===f}Ko.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},ac.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const VM=Ko,zM=id,mb={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function id(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=id.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return id.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let re;if(void 0===r.authorization&&(re="authorization")||void 0===r.descriptor&&(re="descriptor"))return id.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:re},message:"must have required property '"+re+"'"}],!1;{const Oe=f;for(const je in r)if("authorization"!==je&&"descriptor"!==je)return id.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Oe===f){if(void 0!==r.authorization){const je=f;ys(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?ys.errors:l.concat(ys.errors),f=l.length);var W=je===f}else W=!0;if(W)if(void 0!==r.descriptor){let je=r.descriptor;const Ke=f;if(f===Ke){if(!je||"object"!=typeof je||Array.isArray(je))return id.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let wt;if(void 0===je.interface&&(wt="interface")||void 0===je.method&&(wt="method")||void 0===je.messageTimestamp&&(wt="messageTimestamp")||void 0===je.definition&&(wt="definition"))return id.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:wt},message:"must have required property '"+wt+"'"}],!1;{const Ot=f;for(const Et in je)if("interface"!==Et&&"method"!==Et&&"messageTimestamp"!==Et&&"definition"!==Et)return id.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Et},message:"must NOT have additional properties"}],!1;if(Ot===f){if(void 0!==je.interface){let Et=je.interface;const St=f;if("string"!=typeof Et)return id.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==Et)return id.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:mb.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=St===f}else k=!0;if(k){if(void 0!==je.method){let Et=je.method;const St=f;if("string"!=typeof Et)return id.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==Et)return id.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:mb.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=St===f}else k=!0;if(k){if(void 0!==je.messageTimestamp){let Et=je.messageTimestamp;const St=f;if(f==f){if("string"!=typeof Et)return id.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(Et))return id.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=St===f}else k=!0;if(k)if(void 0!==je.definition){const Et=f;ac(je.definition,{instancePath:t+"/descriptor/definition",parentData:je,parentDataProperty:"definition",rootData:u,dynamicAnchors:h})||(l=null===l?ac.errors:l.concat(ac.errors),f=l.length),k=Et===f}else k=!0}}}}}}W=Ke===f}else W=!0}}}}return id.errors=l,0===f}id.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const HM=ft,Ge={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function ft(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=ft.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return ft.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===r.descriptor&&(Oe="descriptor"))return ft.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const je=f;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return ft.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.authorization){const Ke=f;ys(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?ys.errors:l.concat(ys.errors),f=l.length);var W=Ke===f}else W=!0;if(W)if(void 0!==r.descriptor){let Ke=r.descriptor;const nt=f;if(f===nt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return ft.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ot;if(void 0===Ke.interface&&(Ot="interface")||void 0===Ke.method&&(Ot="method")||void 0===Ke.messageTimestamp&&(Ot="messageTimestamp"))return ft.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Ot},message:"must have required property '"+Ot+"'"}],!1;{const Et=f;for(const St in Ke)if("interface"!==St&&"method"!==St&&"messageTimestamp"!==St&&"filter"!==St)return ft.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:St},message:"must NOT have additional properties"}],!1;if(Et===f){if(void 0!==Ke.interface){let St=Ke.interface;const Nt=f;if("string"!=typeof St)return ft.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==St)return ft.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ge.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Nt===f}else k=!0;if(k){if(void 0!==Ke.method){let St=Ke.method;const Nt=f;if("string"!=typeof St)return ft.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==St)return ft.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ge.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Nt===f}else k=!0;if(k){if(void 0!==Ke.messageTimestamp){let St=Ke.messageTimestamp;const Nt=f;if(f==f){if("string"!=typeof St)return ft.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(St))return ft.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Nt===f}else k=!0;if(k)if(void 0!==Ke.filter){let St=Ke.filter;const Nt=f;if(f===Nt){if(!St||"object"!=typeof St||Array.isArray(St))return ft.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(St).length<1)return ft.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Qt=f;for(const ln in St)if("protocol"!==ln&&"recipient"!==ln)return ft.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ln},message:"must NOT have additional properties"}],!1;if(Qt===f){if(void 0!==St.protocol){const ln=f;if("string"!=typeof St.protocol)return ft.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var re=ln===f}else re=!0;if(re)if(void 0!==St.recipient){let ln=St.recipient;const Ht=f;if(f==f){if("string"!=typeof ln)return ft.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qd.test(ln))return ft.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}re=Ht===f}else re=!0}}}k=Nt===f}else k=!0}}}}}}W=nt===f}else W=!0}}}}return ft.errors=l,0===f}ft.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const et=Pt,pt={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Pt(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Pt.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Pt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let re;if(void 0===r.descriptor&&(re="descriptor"))return Pt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:re},message:"must have required property '"+re+"'"}],!1;{const Oe=f;for(const je in r)if("authorization"!==je&&"descriptor"!==je)return Pt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Oe===f){if(void 0!==r.authorization){const je=f;Xr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?Xr.errors:l.concat(Xr.errors),f=l.length);var W=je===f}else W=!0;if(W)if(void 0!==r.descriptor){let je=r.descriptor;const Ke=f;if(f===Ke){if(!je||"object"!=typeof je||Array.isArray(je))return Pt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let wt;if(void 0===je.interface&&(wt="interface")||void 0===je.method&&(wt="method")||void 0===je.messageTimestamp&&(wt="messageTimestamp")||void 0===je.filter&&(wt="filter"))return Pt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:wt},message:"must have required property '"+wt+"'"}],!1;{const Ot=f;for(const Et in je)if("interface"!==Et&&"method"!==Et&&"messageTimestamp"!==Et&&"filter"!==Et)return Pt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Et},message:"must NOT have additional properties"}],!1;if(Ot===f){if(void 0!==je.interface){let Et=je.interface;const St=f;if("string"!=typeof Et)return Pt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Et)return Pt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:pt.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=St===f}else k=!0;if(k){if(void 0!==je.method){let Et=je.method;const St=f;if("string"!=typeof Et)return Pt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==Et)return Pt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:pt.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=St===f}else k=!0;if(k){if(void 0!==je.messageTimestamp){let Et=je.messageTimestamp;const St=f;if(f==f){if("string"!=typeof Et)return Pt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ws.test(Et))return Pt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=St===f}else k=!0;if(k)if(void 0!==je.filter){const Et=f;Or(je.filter,{instancePath:t+"/descriptor/filter",parentData:je,parentDataProperty:"filter",rootData:u,dynamicAnchors:h})||(l=null===l?Or.errors:l.concat(Or.errors),f=l.length),k=Et===f}else k=!0}}}}}}W=Ke===f}else W=!0}}}}return Pt.errors=l,0===f}Pt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const sn=Or,En=Ji,or=Rr;function Rr(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=Rr.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Rr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.descriptorCid&&(k="descriptorCid"))return Rr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=0;for(const Oe in r)if("descriptorCid"!==Oe&&"delegatedGrantId"!==Oe&&"permissionGrantId"!==Oe&&"protocolRole"!==Oe)return Rr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(0===re){if(void 0!==r.descriptorCid){const Oe=0;if("string"!=typeof r.descriptorCid)return Rr.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=0===Oe}else W=!0;if(W){if(void 0!==r.delegatedGrantId){const Oe=0;if("string"!=typeof r.delegatedGrantId)return Rr.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.permissionGrantId){const Oe=0;if("string"!=typeof r.permissionGrantId)return Rr.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W)if(void 0!==r.protocolRole){const Oe=0;if("string"!=typeof r.protocolRole)return Rr.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0}}}}}return Rr.errors=null,!0}Rr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Pi=Oo;function Oo(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=Oo.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Oo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.descriptorCid&&(k="descriptorCid")||void 0===r.recordId&&(k="recordId"))return Oo.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=0;for(const Oe in r)if("descriptorCid"!==Oe&&"recordId"!==Oe&&"contextId"!==Oe&&"attestationCid"!==Oe&&"encryptionCid"!==Oe&&"delegatedGrantId"!==Oe&&"permissionGrantId"!==Oe&&"protocolRole"!==Oe)return Oo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(0===re){if(void 0!==r.descriptorCid){const Oe=0;if("string"!=typeof r.descriptorCid)return Oo.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=0===Oe}else W=!0;if(W){if(void 0!==r.recordId){const Oe=0;if("string"!=typeof r.recordId)return Oo.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.contextId){const Oe=0;if("string"!=typeof r.contextId)return Oo.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.attestationCid){const Oe=0;if("string"!=typeof r.attestationCid)return Oo.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.encryptionCid){const Oe=0;if("string"!=typeof r.encryptionCid)return Oo.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.delegatedGrantId){const Oe=0;if("string"!=typeof r.delegatedGrantId)return Oo.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.permissionGrantId){const Oe=0;if("string"!=typeof r.permissionGrantId)return Oo.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W)if(void 0!==r.protocolRole){const Oe=0;if("string"!=typeof r.protocolRole)return Oo.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0}}}}}}}}}return Oo.errors=null,!0}Oo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Yl=rs;function rs(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=rs.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return rs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return rs.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const nt=f;for(const wt in r)if("gt"!==wt&&"gte"!==wt&&"lt"!==wt&&"lte"!==wt)return rs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wt},message:"must NOT have additional properties"}],!1;if(nt===f){if(void 0!==r.gt){const wt=f,Ot=f,Et=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let St;if(void 0===r.gte&&(St="gte")){const Nt={};null===l?l=[Nt]:l.push(Nt),f++}}if(Et===f)return rs.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=Ot,null!==l&&(Ot?l.length=Ot:l=null);var k=wt===f}else k=!0;if(k){if(void 0!==r.gte){const wt=f,Ot=f,Et=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.gt&&(Nt="gt")){const Yt={};null===l?l=[Yt]:l.push(Yt),f++}}if(Et===f)return rs.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=Ot,null!==l&&(Ot?l.length=Ot:l=null),k=wt===f}else k=!0;if(k){if(void 0!==r.lt){const wt=f,Ot=f,Et=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.lte&&(Nt="lte")){const Yt={};null===l?l=[Yt]:l.push(Yt),f++}}if(Et===f)return rs.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=Ot,null!==l&&(Ot?l.length=Ot:l=null),k=wt===f}else k=!0;if(k){if(void 0!==r.lte){const wt=f,Ot=f,Et=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.lt&&(Nt="lt")){const Yt={};null===l?l=[Yt]:l.push(Yt),f++}}if(Et===f)return rs.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=Ot,null!==l&&(Ot?l.length=Ot:l=null),k=wt===f}else k=!0;if(k){if(void 0!==r.gt){const wt=f;if("string"!=typeof r.gt)return rs.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ke=wt===f}else Ke=!0;if(Ke){if(void 0!==r.gte){const wt=f;if("string"!=typeof r.gte)return rs.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ke=wt===f}else Ke=!0;if(Ke){if(void 0!==r.lt){const wt=f;if("string"!=typeof r.lt)return rs.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ke=wt===f}else Ke=!0;if(Ke)if(void 0!==r.lte){const wt=f;if("string"!=typeof r.lte)return rs.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ke=wt===f}else Ke=!0}}}}}}}}}return rs.errors=l,0===f}function rl(r,t){const n=ee[r];if(!n)throw new ne(ue.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[i]=n.errors;let{instancePath:u,message:h,keyword:l}=i;if(u||(u=r),"additionalProperties"===l)throw new ne(ue.SchemaValidatorAdditionalPropertyNotAllowed,`${h}: ${u}: ${i.params.additionalProperty}`);if("unevaluatedProperties"===l)throw new ne(ue.SchemaValidatorUnevaluatedPropertyNotAllowed,`${h}: ${u}: ${i.params.unevaluatedProperty}`);throw new ne(ue.SchemaValidatorFailure,`${u}: ${h}`)}rs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var od=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Uc{constructor(t){this.cache=t||new Mu(600)}static get singleton(){return void 0===Uc._singleton&&(Uc._singleton=new Uc),Uc._singleton}static verifySignatures(t,n){return od(this,void 0,void 0,function*(){return yield Uc.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return od(this,void 0,void 0,function*(){const i=[];for(const u of t.signatures){let h;const l=cr.getKid(u),f=`${u.protected}.${t.payload}.${u.signature}`,X=yield this.cache.get(f);if(void 0===X){const k=yield Uc.getPublicKey(l,n);h=yield cr.verifySignature(t.payload,u,k),yield this.cache.set(f,h)}else h=X;const W=cr.extractDid(l);if(!h)throw new ne(ue.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${W}`);i.push(W)}return{signers:i}})}static getPublicKey(t,n){return od(this,void 0,void 0,function*(){const i=cr.extractDid(t),{didDocument:u}=yield n.resolve(i),{verificationMethod:h=[]}=u||{};let l;for(const X of h)if(t.endsWith(X.id)){l=X;break}if(!l)throw new ne(ue.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");rl("JwkVerificationMethod",l);const{publicKeyJwk:f}=l;return f})}}const ry=["string","number","bigint","symbol"],Z0=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class Ar{constructor(t,n,i){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Ar.uint=new Ar(0,"uint",!0),Ar.negint=new Ar(1,"negint",!0),Ar.bytes=new Ar(2,"bytes",!0),Ar.string=new Ar(3,"string",!0),Ar.array=new Ar(4,"array",!1),Ar.map=new Ar(5,"map",!1),Ar.tag=new Ar(6,"tag",!1),Ar.float=new Ar(7,"float",!0),Ar.false=new Ar(7,"false",!0),Ar.true=new Ar(7,"true",!0),Ar.null=new Ar(7,"null",!0),Ar.undefined=new Ar(7,"undefined",!0),Ar.break=new Ar(7,"break",!0);class Ci{constructor(t,n,i){this.type=t,this.value=n,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Zl=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,GC=new TextDecoder,U1=new TextEncoder;function Kp(r){return Zl&&globalThis.Buffer.isBuffer(r)}function WM(r){return r instanceof Uint8Array?Kp(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const L1=Zl?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):JM(r,t,n):(r,t,n)=>n-t>64?GC.decode(r.subarray(t,n)):JM(r,t,n),yb=Zl?r=>r.length>64?globalThis.Buffer.from(r):GM(r):r=>r.length>64?U1.encode(r):GM(r),wc=r=>Uint8Array.from(r),jh=Zl?(r,t,n)=>Kp(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),K1=Zl?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),WM(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let i=0;for(let u of r)i+u.length>n.length&&(u=u.subarray(0,n.length-i)),n.set(u,i),i+=u.length;return n},JC=Zl?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function GM(r,t=1/0){let n;const i=r.length;let u=null;const h=[];for(let l=0;l<i;++l){if(n=r.charCodeAt(l),n>55295&&n<57344){if(!u){if(n>56319){(t-=3)>-1&&h.push(239,191,189);continue}if(l+1===i){(t-=3)>-1&&h.push(239,191,189);continue}u=n;continue}if(n<56320){(t-=3)>-1&&h.push(239,191,189),u=n;continue}n=65536+(u-55296<<10|n-56320)}else u&&(t-=3)>-1&&h.push(239,191,189);if(u=null,n<128){if((t-=1)<0)break;h.push(n)}else if(n<2048){if((t-=2)<0)break;h.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;h.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;h.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return h}function JM(r,t,n){const i=[];for(;t<n;){const u=r[t];let h=null,l=u>239?4:u>223?3:u>191?2:1;if(t+l<=n){let f,X,W,k;switch(l){case 1:u<128&&(h=u);break;case 2:f=r[t+1],128==(192&f)&&(k=(31&u)<<6|63&f,k>127&&(h=k));break;case 3:f=r[t+1],X=r[t+2],128==(192&f)&&128==(192&X)&&(k=(15&u)<<12|(63&f)<<6|63&X,k>2047&&(k<55296||k>57343)&&(h=k));break;case 4:f=r[t+1],X=r[t+2],W=r[t+3],128==(192&f)&&128==(192&X)&&128==(192&W)&&(k=(15&u)<<18|(63&f)<<12|(63&X)<<6|63&W,k>65535&&k<1114112&&(h=k))}}null===h?(h=65533,l=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),t+=l}return function XM(r){const t=r.length;if(t<=gb)return String.fromCharCode.apply(String,r);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,r.slice(i,i+=gb));return n}(i)}const gb=4096;class Q0{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const u=n.length-(this.maxCursor-this.cursor)-1;u<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,u),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=JC(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const i=this.chunks[0];t&&this.cursor>i.length/2?(n=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=jh(i,0,this.cursor)}else n=K1(this.chunks,this.cursor);return t&&this.reset(),n}}const Ro="CBOR decode error:",ZM="CBOR encode error:",eg=[];function Ca(r,t,n){if(r.length-t<n)throw new Error(`${Ro} not enough data for type`)}eg[23]=1,eg[24]=2,eg[25]=3,eg[26]=5,eg[27]=9;const Lc=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Fp(r,t,n){Ca(r,t,1);const i=r[t];if(!0===n.strict&&i<Lc[0])throw new Error(`${Ro} integer encoded in more bytes than necessary (strict decode)`);return i}function Cu(r,t,n){Ca(r,t,2);const i=r[t]<<8|r[t+1];if(!0===n.strict&&i<Lc[1])throw new Error(`${Ro} integer encoded in more bytes than necessary (strict decode)`);return i}function jp(r,t,n){Ca(r,t,4);const i=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&i<Lc[2])throw new Error(`${Ro} integer encoded in more bytes than necessary (strict decode)`);return i}function $p(r,t,n){Ca(r,t,8);const u=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],h=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(u);if(!0===n.strict&&h<Lc[3])throw new Error(`${Ro} integer encoded in more bytes than necessary (strict decode)`);if(h<=Number.MAX_SAFE_INTEGER)return Number(h);if(!0===n.allowBigInt)return h;throw new Error(`${Ro} integers outside of the safe integer range are not supported`)}function Jf(r,t){return il(r,0,t.value)}function il(r,t,n){if(n<Lc[0]){const i=Number(n);r.push([t|i])}else if(n<Lc[1]){const i=Number(n);r.push([24|t,i])}else if(n<Lc[2]){const i=Number(n);r.push([25|t,i>>>8,255&i])}else if(n<Lc[3]){const i=Number(n);r.push([26|t,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(n);if(!(i<Lc[4]))throw new Error(`${Ro} encountered BigInt larger than allowable range`);{const u=[27|t,0,0,0,0,0,0,0];let h=Number(i&BigInt(4294967295)),l=Number(i>>BigInt(32)&BigInt(4294967295));u[8]=255&h,h>>=8,u[7]=255&h,h>>=8,u[6]=255&h,h>>=8,u[5]=255&h,u[4]=255&l,l>>=8,u[3]=255&l,l>>=8,u[2]=255&l,l>>=8,u[1]=255&l,r.push(u)}}}Jf.encodedSize=function(t){return il.encodedSize(t.value)},il.encodedSize=function(t){return t<Lc[0]?1:t<Lc[1]?2:t<Lc[2]?3:t<Lc[3]?5:9},Jf.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const qa=BigInt(-1),ql=BigInt(1);function ad(r,t){const n=t.value;il(r,t.type.majorEncoded,"bigint"==typeof n?n*qa-ql:-1*n-1)}function af(r,t,n,i){Ca(r,t,n+i);const u=jh(r,t+n,t+n+i);return new Ci(Ar.bytes,u,n+i)}function la(r,t,n,i){return af(r,t,1,n)}function ng(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===Ar.string?yb(r.value):r.value),r.encodedBytes}function Xf(r,t){const n=ng(t);il(r,t.type.majorEncoded,n.length),r.push(n)}function ku(r,t,n,i,u){const h=n+i;Ca(r,t,h);const l=new Ci(Ar.string,L1(r,t+n,t+h),h);return!0===u.retainStringBytes&&(l.byteValue=jh(r,t+n,t+h)),l}function iy(r,t,n,i){return ku(r,t,1,n,i)}ad.encodedSize=function(t){const n=t.value,i="bigint"==typeof n?n*qa-ql:-1*n-1;return i<Lc[0]?1:i<Lc[1]?2:i<Lc[2]?3:i<Lc[3]?5:9},ad.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},Xf.encodedSize=function(t){const n=ng(t);return il.encodedSize(n.length)+n.length},Xf.compareTokens=function(t,n){return function Pa(r,t){return r.length<t.length?-1:r.length>t.length?1:function YC(r,t){if(Kp(r)&&Kp(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(ng(t),ng(n))};const vb=Xf;function cd(r,t,n,i){return new Ci(Ar.array,i,n)}function Si(r,t,n,i){return cd(0,0,1,n)}function Va(r,t){il(r,Ar.array.majorEncoded,t.value)}function Zf(r,t,n,i){return new Ci(Ar.map,i,n)}function Kc(r,t,n,i){return Zf(0,0,1,n)}function zp(r,t){il(r,Ar.map.majorEncoded,t.value)}function tk(r,t,n,i){return new Ci(Ar.tag,n,1)}function ig(r,t){il(r,Ar.tag.majorEncoded,t.value)}Va.compareTokens=Jf.compareTokens,Va.encodedSize=function(t){return il.encodedSize(t.value)},zp.compareTokens=Jf.compareTokens,zp.encodedSize=function(t){return il.encodedSize(t.value)},ig.compareTokens=Jf.compareTokens,ig.encodedSize=function(t){return il.encodedSize(t.value)};function eS(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${Ro} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${Ro} Infinity values are not supported`)}return new Ci(Ar.float,r,t)}function tS(r,t,n){const i=t.value;if(!1===i)r.push([20|Ar.float.majorEncoded]);else if(!0===i)r.push([21|Ar.float.majorEncoded]);else if(null===i)r.push([22|Ar.float.majorEncoded]);else if(void 0===i)r.push([23|Ar.float.majorEncoded]);else{let u,h=!1;(!n||!0!==n.float64)&&(ok(i),u=nS(Ql,1),i===u||Number.isNaN(i)?(Ql[0]=249,r.push(Ql.slice(0,3)),h=!0):(sk(i),u=rS(Ql,1),i===u&&(Ql[0]=250,r.push(Ql.slice(0,5)),h=!0))),h||(function ak(r){Ol.setFloat64(0,r,!1)}(i),u=V1(Ql,1),Ql[0]=251,r.push(Ql.slice(0,9)))}}tS.encodedSize=function(t,n){const i=t.value;if(!1===i||!0===i||null==i)return 1;if(!n||!0!==n.float64){ok(i);let u=nS(Ql,1);if(i===u||Number.isNaN(i))return 3;if(sk(i),u=rS(Ql,1),i===u)return 5}return 9};const ik=new ArrayBuffer(9),Ol=new DataView(ik,1),Ql=new Uint8Array(ik,0);function ok(r){if(r===1/0)Ol.setUint16(0,31744,!1);else if(r===-1/0)Ol.setUint16(0,64512,!1);else if(Number.isNaN(r))Ol.setUint16(0,32256,!1);else{Ol.setFloat32(0,r);const t=Ol.getUint32(0),n=(2139095040&t)>>23,i=8388607&t;if(255===n)Ol.setUint16(0,31744,!1);else if(0===n)Ol.setUint16(0,(2147483648&r)>>16|i>>13,!1);else{const u=n-127;u<-24?Ol.setUint16(0,0):Ol.setUint16(0,u<-14?(2147483648&t)>>16|1<<24+u:(2147483648&t)>>16|u+15<<10|i>>13,!1)}}}function nS(r,t){if(r.length-t<2)throw new Error(`${Ro} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const i=n>>10&31,u=1023&n;let h;return h=0===i?u*2**-24:31!==i?(u+1024)*2**(i-25):0===u?1/0:NaN,32768&n?-h:h}function sk(r){Ol.setFloat32(0,r,!1)}function rS(r,t){if(r.length-t<4)throw new Error(`${Ro} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function V1(r,t){if(r.length-t<8)throw new Error(`${Ro} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function ds(r,t,n){throw new Error(`${Ro} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function og(r){return()=>{throw new Error(`${Ro} ${r}`)}}tS.compareTokens=Jf.compareTokens;const ri=[];for(let r=0;r<=23;r++)ri[r]=ds;ri[24]=function ZC(r,t,n,i){return new Ci(Ar.uint,Fp(r,t+1,i),2)},ri[25]=function qC(r,t,n,i){return new Ci(Ar.uint,Cu(r,t+1,i),3)},ri[26]=function QC(r,t,n,i){return new Ci(Ar.uint,jp(r,t+1,i),5)},ri[27]=function ek(r,t,n,i){return new Ci(Ar.uint,$p(r,t+1,i),9)},ri[28]=ds,ri[29]=ds,ri[30]=ds,ri[31]=ds;for(let r=32;r<=55;r++)ri[r]=ds;ri[56]=function ka(r,t,n,i){return new Ci(Ar.negint,-1-Fp(r,t+1,i),2)},ri[57]=function Vr(r,t,n,i){return new Ci(Ar.negint,-1-Cu(r,t+1,i),3)},ri[58]=function Oi(r,t,n,i){return new Ci(Ar.negint,-1-jp(r,t+1,i),5)},ri[59]=function sd(r,t,n,i){const u=$p(r,t+1,i);if("bigint"!=typeof u){const h=-1-u;if(h>=Number.MIN_SAFE_INTEGER)return new Ci(Ar.negint,h,9)}if(!0!==i.allowBigInt)throw new Error(`${Ro} integers outside of the safe integer range are not supported`);return new Ci(Ar.negint,qa-BigInt(u),9)},ri[60]=ds,ri[61]=ds,ri[62]=ds,ri[63]=ds;for(let r=64;r<=87;r++)ri[r]=la;ri[88]=function _c(r,t,n,i){return af(r,t,2,Fp(r,t+1,i))},ri[89]=function cf(r,t,n,i){return af(r,t,3,Cu(r,t+1,i))},ri[90]=function lo(r,t,n,i){return af(r,t,5,jp(r,t+1,i))},ri[91]=function tg(r,t,n,i){const u=$p(r,t+1,i);if("bigint"==typeof u)throw new Error(`${Ro} 64-bit integer bytes lengths not supported`);return af(r,t,9,u)},ri[92]=ds,ri[93]=ds,ri[94]=ds,ri[95]=og("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)ri[r]=iy;ri[120]=function Yf(r,t,n,i){return ku(r,t,2,Fp(r,t+1,i),i)},ri[121]=function oy(r,t,n,i){return ku(r,t,3,Cu(r,t+1,i),i)},ri[122]=function qM(r,t,n,i){return ku(r,t,5,jp(r,t+1,i),i)},ri[123]=function $h(r,t,n,i){const u=$p(r,t+1,i);if("bigint"==typeof u)throw new Error(`${Ro} 64-bit integer string lengths not supported`);return ku(r,t,9,u,i)},ri[124]=ds,ri[125]=ds,ri[126]=ds,ri[127]=og("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)ri[r]=Si;ri[152]=function F1(r,t,n,i){return cd(0,0,2,Fp(r,t+1,i))},ri[153]=function rg(r,t,n,i){return cd(0,0,3,Cu(r,t+1,i))},ri[154]=function df(r,t,n,i){return cd(0,0,5,jp(r,t+1,i))},ri[155]=function bb(r,t,n,i){const u=$p(r,t+1,i);if("bigint"==typeof u)throw new Error(`${Ro} 64-bit integer array lengths not supported`);return cd(0,0,9,u)},ri[156]=ds,ri[157]=ds,ri[158]=ds,ri[159]=function sy(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${Ro} indefinite length items not allowed`);return cd(0,0,1,1/0)};for(let r=160;r<=183;r++)ri[r]=Kc;ri[184]=function Ud(r,t,n,i){return Zf(0,0,2,Fp(r,t+1,i))},ri[185]=function j1(r,t,n,i){return Zf(0,0,3,Cu(r,t+1,i))},ri[186]=function Vp(r,t,n,i){return Zf(0,0,5,jp(r,t+1,i))},ri[187]=function wb(r,t,n,i){const u=$p(r,t+1,i);if("bigint"==typeof u)throw new Error(`${Ro} 64-bit integer map lengths not supported`);return Zf(0,0,9,u)},ri[188]=ds,ri[189]=ds,ri[190]=ds,ri[191]=function Pu(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${Ro} indefinite length items not allowed`);return Zf(0,0,1,1/0)};for(let r=192;r<=215;r++)ri[r]=tk;ri[216]=function nk(r,t,n,i){return new Ci(Ar.tag,Fp(r,t+1,i),2)},ri[217]=function $1(r,t,n,i){return new Ci(Ar.tag,Cu(r,t+1,i),3)},ri[218]=function QM(r,t,n,i){return new Ci(Ar.tag,jp(r,t+1,i),5)},ri[219]=function rk(r,t,n,i){return new Ci(Ar.tag,$p(r,t+1,i),9)},ri[220]=ds,ri[221]=ds,ri[222]=ds,ri[223]=ds;for(let r=224;r<=243;r++)ri[r]=og("simple values are not supported");ri[244]=ds,ri[245]=ds,ri[246]=ds,ri[247]=function n8(r,t,n,i){if(!1===i.allowUndefined)throw new Error(`${Ro} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new Ci(Ar.null,null,1):new Ci(Ar.undefined,void 0,1)},ri[248]=og("simple values are not supported"),ri[249]=function i8(r,t,n,i){return eS(nS(r,t+1),3,i)},ri[250]=function o8(r,t,n,i){return eS(rS(r,t+1),5,i)},ri[251]=function s8(r,t,n,i){return eS(V1(r,t+1),9,i)},ri[252]=ds,ri[253]=ds,ri[254]=ds,ri[255]=function r8(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${Ro} indefinite length items not allowed`);return new Ci(Ar.break,void 0,1)};const lf=[];for(let r=0;r<24;r++)lf[r]=new Ci(Ar.uint,r,1);for(let r=-1;r>=-24;r--)lf[31-r]=new Ci(Ar.negint,r,1);lf[64]=new Ci(Ar.bytes,new Uint8Array(0),1),lf[96]=new Ci(Ar.string,"",1),lf[128]=new Ci(Ar.array,0,1),lf[160]=new Ci(Ar.map,0,1),lf[244]=new Ci(Ar.false,!1,1),lf[245]=new Ci(Ar.true,!0,1),lf[246]=new Ci(Ar.null,null,1);const oS={float64:!1,mapSorter:function sg(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],i=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==i.type)return n.type.compare(i.type);const h=_b[n.type.major].compareTokens(n,i);return 0===h&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),h},quickEncodeToken:function iS(r){switch(r.type){case Ar.false:return wc([244]);case Ar.true:return wc([245]);case Ar.null:return wc([246]);case Ar.bytes:return r.value.length?void 0:wc([64]);case Ar.string:return""===r.value?wc([96]):void 0;case Ar.array:return 0===r.value?wc([128]):void 0;case Ar.map:return 0===r.value?wc([160]):void 0;case Ar.uint:return r.value<24?wc([Number(r.value)]):void 0;case Ar.negint:if(r.value>=-24)return wc([31-Number(r.value)])}}},_b=function ck(){const r=[];return r[Ar.uint.major]=Jf,r[Ar.negint.major]=ad,r[Ar.bytes.major]=Xf,r[Ar.string.major]=vb,r[Ar.array.major]=Va,r[Ar.map.major]=zp,r[Ar.tag.major]=ig,r[Ar.float.major]=tS,r}(),z1=new Q0;class Rl{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${ZM} object contains circular references`);return new Rl(n,t)}}const qf={null:new Ci(Ar.null,null),undefined:new Ci(Ar.undefined,void 0),true:new Ci(Ar.true,!0),false:new Ci(Ar.false,!1),emptyArray:new Ci(Ar.array,0),emptyMap:new Ci(Ar.map,0)},Qf={number:(r,t,n,i)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new Ci(r>=0?Ar.uint:Ar.negint,r):new Ci(Ar.float,r),bigint:(r,t,n,i)=>r>=BigInt(0)?new Ci(Ar.uint,r):new Ci(Ar.negint,r),Uint8Array:(r,t,n,i)=>new Ci(Ar.bytes,r),string:(r,t,n,i)=>new Ci(Ar.string,r),boolean:(r,t,n,i)=>r?qf.true:qf.false,null:(r,t,n,i)=>qf.null,undefined:(r,t,n,i)=>qf.undefined,ArrayBuffer:(r,t,n,i)=>new Ci(Ar.bytes,new Uint8Array(r)),DataView:(r,t,n,i)=>new Ci(Ar.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,i){if(!r.length)return!0===n.addBreakTokens?[qf.emptyArray,new Ci(Ar.break)]:qf.emptyArray;i=Rl.createCheck(i,r);const u=[];let h=0;for(const l of r)u[h++]=qo(l,n,i);return n.addBreakTokens?[new Ci(Ar.array,r.length),u,new Ci(Ar.break)]:[new Ci(Ar.array,r.length),u]},Object(r,t,n,i){const u="Object"!==t,h=u?r.keys():Object.keys(r),l=u?r.size:h.length;if(!l)return!0===n.addBreakTokens?[qf.emptyMap,new Ci(Ar.break)]:qf.emptyMap;i=Rl.createCheck(i,r);const f=[];let X=0;for(const W of h)f[X++]=[qo(W,n,i),qo(u?r.get(W):r[W],n,i)];return function H1(r,t){t.mapSorter&&r.sort(t.mapSorter)}(f,n),n.addBreakTokens?[new Ci(Ar.map,l),f,new Ci(Ar.break)]:[new Ci(Ar.map,l),f]}};Qf.Map=Qf.Object,Qf.Buffer=Qf.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Qf[`${r}Array`]=Qf.DataView;function qo(r,t={},n){const i=function B1(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(ry.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function WC(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function N1(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(Z0.includes(t))return t}(r);return n||"Object"}(r),u=t&&t.typeEncoders&&t.typeEncoders[i]||Qf[i];if("function"==typeof u){const l=u(r,i,t,n);if(null!=l)return l}const h=Qf[i];if(!h)throw new Error(`${ZM} unsupported type: ${i}`);return h(r,i,t,n)}function Ld(r,t,n,i){if(Array.isArray(t))for(const u of t)Ld(r,u,n,i);else n[t.type.major](r,t,i)}function dk(r,t,n){const i=qo(r,n);if(!Array.isArray(i)&&n.quickEncodeToken){const u=n.quickEncodeToken(i);if(u)return u;const h=t[i.type.major];if(h.encodedSize){const l=h.encodedSize(i,n),f=new Q0(l);if(h(f,i,n),1!==f.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return WM(f.chunks[0])}}return z1.reset(),Ld(z1,i,t,n),z1.toBytes(!0)}const Hp={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Bl{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=lf[t];if(void 0===n){const i=ri[t];if(!i)throw new Error(`${Ro} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=i(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const cg=Symbol.for("DONE"),ay=Symbol.for("BREAK");function cy(r,t){if(r.done())return cg;const n=r.next();if(n.type===Ar.break)return ay;if(n.type.terminal)return n.value;if(n.type===Ar.array)return function lk(r,t,n){const i=[];for(let u=0;u<r.value;u++){const h=cy(t,n);if(h===ay){if(r.value===1/0)break;throw new Error(`${Ro} got unexpected break to lengthed array`)}if(h===cg)throw new Error(`${Ro} found array but not enough entries (got ${u}, expected ${r.value})`);i[u]=h}return i}(n,r,t);if(n.type===Ar.map)return function eu(r,t,n){const i=!0===n.useMaps,u=i?void 0:{},h=i?new Map:void 0;for(let l=0;l<r.value;l++){const f=cy(t,n);if(f===ay){if(r.value===1/0)break;throw new Error(`${Ro} got unexpected break to lengthed map`)}if(f===cg)throw new Error(`${Ro} found map but not enough entries (got ${l} [no key], expected ${r.value})`);if(!0!==i&&"string"!=typeof f)throw new Error(`${Ro} non-string keys not supported (got ${typeof f})`);if(!0===n.rejectDuplicateMapKeys&&(i&&h.has(f)||!i&&f in u))throw new Error(`${Ro} found repeat map key "${f}"`);const X=cy(t,n);if(X===cg)throw new Error(`${Ro} found map but not enough entries (got ${l} [no value], expected ${r.value})`);i?h.set(f,X):u[f]=X}return i?h:u}(n,r,t);if(n.type===Ar.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const i=cy(r,t);return t.tags[n.value](i)}throw new Error(`${Ro} tag not supported (${n.value})`)}throw new Error("unsupported")}const dy=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class fk{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class hk{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return G1(this,t)}}class pk{constructor(t){this.decoders=t}or(t){return G1(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const G1=(r,t)=>new pk({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class Wp{constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new fk(t,n,i),this.decoder=new hk(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const lS=({name:r,prefix:t,encode:n,decode:i})=>new Wp(r,t,n,i),uS=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:u}=function aS(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var nt=0;if(" "!==Ke[nt]){for(var wt=0,Ot=0;Ke[nt]===X;)wt++,nt++;for(var Et=(Ke.length-nt)*W+1>>>0,St=new Uint8Array(Et);Ke[nt];){var Nt=n[Ke.charCodeAt(nt)];if(255===Nt)return;for(var Yt=0,Qt=Et-1;(0!==Nt||Yt<Ot)&&-1!==Qt;Qt--,Yt++)St[Qt]=(Nt+=f*St[Qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");Ot=Yt,nt++}if(" "!==Ke[nt]){for(var ln=Et-Ot;ln!==Et&&0===St[ln];)ln++;for(var Ht=new Uint8Array(wt+(Et-ln)),An=wt;ln!==Et;)Ht[An++]=St[ln++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var nt=0,wt=0,Ot=0,Et=Ke.length;Ot!==Et&&0===Ke[Ot];)Ot++,nt++;for(var St=(Et-Ot)*k+1>>>0,Nt=new Uint8Array(St);Ot!==Et;){for(var Yt=Ke[Ot],Qt=0,ln=St-1;(0!==Yt||Qt<wt)&&-1!==ln;ln--,Qt++)Nt[ln]=(Yt+=256*Nt[ln]>>>0)%f>>>0,Yt=Yt/f>>>0;if(0!==Yt)throw new Error("Non-zero carry");wt=Qt,Ot++}for(var Ht=St-wt;Ht!==St&&0===Nt[Ht];)Ht++;for(var An=X.repeat(nt);Ht<St;++Ht)An+=r.charAt(Nt[Ht]);return An},decodeUnsafe:Oe,decode:function je(Ke){var nt=Oe(Ke);if(nt)return nt;throw new Error(`Non-${t} character`)}}}(n,t);return lS({prefix:r,name:t,encode:i,decode:h=>dy(u(h))})},eh=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>lS({prefix:t,name:r,encode:u=>((r,t,n)=>{const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h})(u,i,n),decode:u=>((r,t,n,i)=>{const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l})(u,i,n,r)}),mr=eh({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ff=(eh({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eh({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eh({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eh({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eh({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eh({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),eh({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eh({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),uS({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));uS({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var _k=128,pS=-128,mS=Math.pow(2,31),yS=128,tu=127,Ek=Math.pow(2,7),gS=Math.pow(2,14),xk=Math.pow(2,21),Mk=Math.pow(2,28),J1=Math.pow(2,35),X1=Math.pow(2,42),Y1=Math.pow(2,49),Sb=Math.pow(2,56),Sk=Math.pow(2,63);const lg={encode:function Kd(r,t,n){t=t||[];for(var i=n=n||0;r>=mS;)t[n++]=255&r|_k,r/=128;for(;r&pS;)t[n++]=255&r|_k,r>>>=7;return t[n]=0|r,Kd.bytes=n-i+1,t},decode:function Ou(r,i){var l,n=0,u=0,h=i=i||0,f=r.length;do{if(h>=f)throw Ou.bytes=0,new RangeError("Could not decode varint");l=r[h++],n+=u<28?(l&tu)<<u:(l&tu)*Math.pow(2,u),u+=7}while(l>=yS);return Ou.bytes=h-i,n},encodingLength:function(r){return r<Ek?1:r<gS?2:r<xk?3:r<Mk?4:r<J1?5:r<X1?6:r<Y1?7:r<Sb?8:r<Sk?9:10}},Tb=(r,t=0)=>[lg.decode(r,t),lg.decode.bytes],ug=(r,t,n=0)=>(lg.encode(r,t,n),t),ly=r=>lg.encodingLength(r);class Fs{constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const Ab=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?hf(n,Db(r),t||ff.encoder):Dk(n,Db(r),t||mr.encoder)},wS=new WeakMap,Db=r=>{const t=wS.get(r);if(null==t){const n=new Map;return wS.set(r,n),n}return t};class Ec{constructor(t,n,i,u){this.code=n,this.version=t,this.multihash=i,this.bytes=u,this["/"]=u}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==zh)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Ib)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ec.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=((r,t)=>{const n=t.byteLength,i=ly(r),u=i+ly(n),h=new Uint8Array(u+n);return ug(r,h,0),ug(n,h,i),h.set(t,u),new Fs(r,n,t,h)})(t,n);return Ec.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Ec.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return Ab(this,t)}toJSON(){return{"/":Ab(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Ec)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:u,multihash:h,bytes:l}=n;return new Ec(i,u,h,l||hg(i,u,h.bytes))}if(!0===n[q1]){const{version:i,multihash:u,code:h}=n,l=(r=>{const t=dy(r),[n,i]=Tb(t),[u,h]=Tb(t.subarray(i)),l=t.subarray(i+h);if(l.byteLength!==u)throw new Error("Incorrect length");return new Fs(n,u,l,t)})(u);return Ec.create(i,h,l)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==zh)throw new Error(`Version 0 CID must use dag-pb (code: ${zh}) block encoding`);return new Ec(t,n,i,i.bytes);case 1:{const u=hg(t,n,i.bytes);return new Ec(t,n,i,u)}default:throw new Error("Invalid version")}}static createV0(t){return Ec.create(0,zh,t)}static createV1(t,n){return Ec.create(1,t,n)}static decode(t){const[n,i]=Ec.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Ec.inspectBytes(t),i=n.size-n.multihashSize,u=dy(t.subarray(i,i+n.multihashSize));if(u.byteLength!==n.multihashSize)throw new Error("Incorrect length");const h=u.subarray(n.multihashSize-n.digestSize),l=new Fs(n.multihashCode,n.digestSize,h,u);return[0===n.version?Ec.createV0(l):Ec.createV1(n.codec,l),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[re,Oe]=Tb(t.subarray(n));return n+=Oe,re};let u=i(),h=zh;if(18===u?(u=0,n=0):h=i(),0!==u&&1!==u)throw new RangeError(`Invalid CID version ${u}`);const l=n,f=i(),X=i(),W=n+X;return{version:u,codec:h,multihashCode:f,digestSize:X,multihashSize:W-l,size:W}}static parse(t,n){const[i,u]=fg(t,n),h=Ec.decode(u);if(0===h.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return Db(h).set(i,t),h}}const fg=(r,t)=>{switch(r[0]){case"Q":return[ff.prefix,(t||ff).decode(`${ff.prefix}${r}`)];case ff.prefix:return[ff.prefix,(t||ff).decode(r)];case mr.prefix:return[mr.prefix,(t||mr).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},hf=(r,t,n)=>{const{prefix:i}=n;if(i!==ff.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const u=t.get(i);if(null==u){const h=n.encode(r).slice(1);return t.set(i,h),h}return u},Dk=(r,t,n)=>{const{prefix:i}=n,u=t.get(i);if(null==u){const h=n.encode(r);return t.set(i,h),h}return u},zh=112,Ib=18,hg=(r,t,n)=>{const i=ly(r),u=i+ly(t),h=new Uint8Array(u+n.byteLength);return ug(r,h,0),ug(t,h,i),h.set(n,u),h},q1=Symbol.for("@ipld/js-cid/CID"),pg={float64:!0,typeEncoders:{Object:function _S(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=Ec.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Ci(Ar.tag,42),new Ci(Ar.bytes,n)]},undefined:function Ik(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function uy(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},Cb={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Cb.tags[42]=function Ck(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ec.decode(r.subarray(1))};const ES="dag-cbor",kb=113,kk=r=>function ag(r,t){return t=Object.assign({},oS,t),dk(r,_b,t)}(r,pg),Pk=r=>function sS(r,t){if(!(r instanceof Uint8Array))throw new Error(`${Ro} data to decode must be a Uint8Array`);const n=(t=Object.assign({},Hp,t)).tokenizer||new Bl(r,t),i=cy(n,t);if(i===cg)throw new Error(`${Ro} did not find any content to decode`);if(i===ay)throw new Error(`${Ro} got unexpected break`);if(!n.done())throw new Error(`${Ro} too many terminals, data makes no sense`);return i}(r,Cb);var pf=_(41405),mf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},yf=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}},xc=function(r){return this instanceof xc?(this.v=r,this):new xc(r)},Hh=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),h=[];return u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u;function l(Oe){i[Oe]&&(u[Oe]=function(je){return new Promise(function(Ke,nt){h.push([Oe,je,Ke,nt])>1||f(Oe,je)})})}function f(Oe,je){try{!function X(Oe){Oe.value instanceof xc?Promise.resolve(Oe.value.v).then(W,k):re(h[0][2],Oe)}(i[Oe](je))}catch(Ke){re(h[0][3],Ke)}}function W(Oe){f("next",Oe)}function k(Oe){f("throw",Oe)}function re(Oe,je){Oe(je),h.shift(),h.length&&f(h[0][0],h[0][1])}};class xS{open(){return mf(this,void 0,void 0,function*(){})}close(){return mf(this,void 0,void 0,function*(){})}put(t,n,i){return mf(this,void 0,void 0,function*(){return t})}get(t,n){return mf(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return mf(this,void 0,void 0,function*(){return!1})}delete(t,n){return mf(this,void 0,void 0,function*(){})}isEmpty(t){return mf(this,void 0,void 0,function*(){return!0})}putMany(t,n){return Hh(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=yf(t);!(u=(k=yield xc(W.next())).done);X=!0){X=!1;const re=k.value;yield xc(this.put(re.cid,re.block,n)),yield yield xc(re.cid)}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield xc(l.call(W)))}finally{if(h)throw h.error}}})}getMany(t,n){return Hh(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=yf(t);!(u=(k=yield xc(W.next())).done);X=!0){X=!1;const re=k.value;yield yield xc({cid:re,block:yield xc(this.get(re,n))})}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield xc(l.call(W)))}finally{if(h)throw h.error}}})}getAll(t){return Hh(this,arguments,function*(){var i,u,h,l;const f=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var k,X=!0,W=yf(f);!(i=(k=yield xc(W.next())).done);X=!0){l=k.value,X=!1;const[re,Oe]=l;yield yield xc({cid:pf.TO.decode(re),block:Oe})}}catch(re){u={error:re}}finally{try{!X&&!i&&(h=W.return)&&(yield xc(h.call(W)))}finally{if(u)throw u.error}}})}deleteMany(t,n){return Hh(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=yf(t);!(u=(k=yield xc(W.next())).done);X=!0){X=!1;const re=k.value;yield xc(this.delete(re,n)),yield yield xc(re)}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield xc(l.call(W)))}finally{if(h)throw h.error}}})}clear(){return mf(this,void 0,void 0,function*(){})}}var ol=_(41861);function eE(r,t){this.v=r,this.k=t}function yi(r){return new eE(r,0)}function Qo(r){return function(){return new Pb(r.apply(this,arguments))}}function Pb(r){var t,n;function i(h,l){try{var f=r[h](l),X=f.value,W=X instanceof eE;Promise.resolve(W?X.v:X).then(function(k){if(W){var re="return"===h?"return":"next";if(!X.k||k.done)return i(re,k);k=r[re](k).value}u(f.done?"return":"normal",k)},function(k){i("throw",k)})}catch(k){u("throw",k)}}function u(h,l){switch(h){case"return":t.resolve({value:l,done:!0});break;case"throw":t.reject(l);break;default:t.resolve({value:l,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(h,l){return new Promise(function(f,X){var W={key:h,arg:l,resolve:f,reject:X,next:null};n?n=n.next=W:(t=n=W,i(h,l))})},"function"!=typeof r.return&&(this.return=void 0)}function Vo(r){var t,n,i,u=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,i=Symbol.iterator);u--;){if(n&&null!=(t=r[n]))return t.call(r);if(i&&null!=(t=r[i]))return new mg(t.call(r));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function mg(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var i=n.done;return Promise.resolve(n.value).then(function(u){return{value:u,done:i}})}return(mg=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(i){var u=this.s.return;return void 0===u?Promise.resolve({value:i,done:!0}):t(u.apply(this.s,arguments))},throw:function(i){var u=this.s.return;return void 0===u?Promise.reject(i):t(u.apply(this.s,arguments))}},new mg(r)}Pb.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Pb.prototype.next=function(r){return this._invoke("next",r)},Pb.prototype.throw=function(r){return this._invoke("throw",r)},Pb.prototype.return=function(r){return this._invoke("return",r)};var Ob=_(5014);const yg=function Ok(r,t=1){return t=Number(t),function gf(r){return null!=r[Symbol.asyncIterator]}(r)?Qo(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var h,i=!1,u=!1;try{for(var f,l=Vo(r);i=!(f=yield yi(l.next())).done;i=!1)for(n.push(f.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(X){u=!0,h=X}finally{try{i&&null!=l.return&&(yield yi(l.return()))}finally{if(u)throw h}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const i of r)for(n.push(i);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function Rb(r){return Bb.apply(this,arguments)}function Bb(){return Bb=Qo(function*(r,t=1){var u,n=!1,i=!1;try{for(var l,h=Vo(yg(r,t));n=!(l=yield yi(h.next())).done;n=!1){const X=l.value.map(function(){var W=(0,Xe.A)(function*(k){return k().then(re=>({ok:!0,value:re}),re=>({ok:!1,err:re}))});return function(k){return W.apply(this,arguments)}}());for(let W=0;W<X.length;W++){const k=yield yi(X[W]);if(!k.ok)throw k.err;yield k.value}}}catch(f){i=!0,u=f}finally{try{n&&null!=h.return&&(yield yi(h.return()))}finally{if(i)throw u}}}),Bb.apply(this,arguments)}function Ru(r=0){return new Uint8Array(r)}function gg(r=0){return new Uint8Array(r)}function tE(r,t){null==t&&(t=r.reduce((u,h)=>u+h.length,0));const n=gg(t);let i=0;for(const u of r)n.set(u,i),i+=u.length;return n}function MS(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const nE=Symbol.for("@achingbrain/uint8arraylist");function rE(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const i of r){const u=n+i.byteLength;if(t<u)return{buf:i,index:t-n};n=u}throw new RangeError("index is out of bounds")}function Nb(r){return!!r?.[nE]}class vf{bufs;length;[nE]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const i of t)if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.push(i);else{if(!Nb(i))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.push(...i.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const i of t.reverse())if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.unshift(i);else{if(!Nb(i))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.unshift(...i.bufs)}this.length+=n}get(t){const n=rE(this.bufs,t);return n.buf[n.index]}set(t,n){const i=rE(this.bufs,t);i.buf[i.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let i=0;i<t.length;i++)this.set(n+i,t[i]);else{if(!Nb(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let i=0;i<t.length;i++)this.set(n+i,t.get(i))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:i,length:u}=this._subList(t,n);return tE(i,u)}subarray(t,n){const{bufs:i,length:u}=this._subList(t,n);return 1===i.length?i[0]:tE(i,u)}sublist(t,n){const{bufs:i,length:u}=this._subList(t,n),h=new vf;return h.length=u,h.bufs=[...i],h}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const i=[];let u=0;for(let h=0;h<this.bufs.length;h++){const l=this.bufs[h],f=u,X=f+l.byteLength;if(u=X,t>=X)continue;const W=t>=f&&t<X,k=n>f&&n<=X;if(W&&k){if(t===f&&n===X){i.push(l);break}const re=t-f;i.push(l.subarray(re,re+(n-t)));break}if(W){if(0===t){i.push(l);continue}i.push(l.subarray(t-f))}else{if(k){if(n===X){i.push(l);break}i.push(l.subarray(0,n-f));break}i.push(l)}}return{bufs:i,length:n-t}}indexOf(t,n=0){if(!(Nb(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const i=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const u=i.byteLength;if(0===u)throw new TypeError("search must be at least 1 byte long");const l=new Int32Array(256);for(let re=0;re<256;re++)l[re]=-1;for(let re=0;re<u;re++)l[i[re]]=re;const f=l,X=this.byteLength-i.byteLength,W=i.byteLength-1;let k;for(let re=n;re<=X;re+=k){k=0;for(let Oe=W;Oe>=0;Oe--){const je=this.get(re+Oe);if(i[Oe]!==je){k=Math.max(1,Oe-f[je]);break}}if(0===k)return re}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const i=gg(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,n),this.write(i,t)}getInt16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,n)}setInt16(t,n,i){const u=Ru(2);new DataView(u.buffer,u.byteOffset,u.byteLength).setInt16(0,n,i),this.write(u,t)}getInt32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,n)}setInt32(t,n,i){const u=Ru(4);new DataView(u.buffer,u.byteOffset,u.byteLength).setInt32(0,n,i),this.write(u,t)}getBigInt64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,n)}setBigInt64(t,n,i){const u=Ru(8);new DataView(u.buffer,u.byteOffset,u.byteLength).setBigInt64(0,n,i),this.write(u,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const i=gg(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,n),this.write(i,t)}getUint16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,n)}setUint16(t,n,i){const u=Ru(2);new DataView(u.buffer,u.byteOffset,u.byteLength).setUint16(0,n,i),this.write(u,t)}getUint32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,n)}setUint32(t,n,i){const u=Ru(4);new DataView(u.buffer,u.byteOffset,u.byteLength).setUint32(0,n,i),this.write(u,t)}getBigUint64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,n)}setBigUint64(t,n,i){const u=Ru(8);new DataView(u.buffer,u.byteOffset,u.byteLength).setBigUint64(0,n,i),this.write(u,t)}getFloat32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,n)}setFloat32(t,n,i){const u=Ru(4);new DataView(u.buffer,u.byteOffset,u.byteLength).setFloat32(0,n,i),this.write(u,t)}getFloat64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,n)}setFloat64(t,n,i){const u=Ru(8);new DataView(u.buffer,u.byteOffset,u.byteLength).setFloat64(0,n,i),this.write(u,t)}equals(t){if(null==t||!(t instanceof vf)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!MS(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const i=new vf;return i.bufs=t,null==n&&(n=t.reduce((u,h)=>u+h.byteLength,0)),i.length=n,i}}const Rk=(r={})=>{const t=r.chunkSize??262144;return function(){var n=Qo(function*(u){let h=new vf,l=0,f=!1;var k,X=!1,W=!1;try{for(var Oe,re=Vo(u);X=!(Oe=yield yi(re.next())).done;X=!1){const je=Oe.value;for(h.append(je),l+=je.length;l>=t;)if(yield h.slice(0,t),f=!0,t===h.length)h=new vf,l=0;else{const Ke=new vf;Ke.append(h.sublist(t)),h=Ke,l-=t}}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield yi(re.return()))}finally{if(W)throw k}}(!f||l>0)&&(yield h.subarray(0,l))});return function i(u){return n.apply(this,arguments)}}()};function cc(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class DS{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class iE{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return oE(this,t)}}class Lb{decoders;constructor(t){this.decoders=t}or(t){return oE(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function oE(r,t){return new Lb({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class Kk{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new DS(t,n,i),this.decoder=new iE(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function IS({name:r,prefix:t,encode:n,decode:i}){return new Kk(r,t,n,i)}function CS({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function Uk(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var nt=0;if(" "!==Ke[nt]){for(var wt=0,Ot=0;Ke[nt]===X;)wt++,nt++;for(var Et=(Ke.length-nt)*W+1>>>0,St=new Uint8Array(Et);Ke[nt];){var Nt=n[Ke.charCodeAt(nt)];if(255===Nt)return;for(var Yt=0,Qt=Et-1;(0!==Nt||Yt<Ot)&&-1!==Qt;Qt--,Yt++)St[Qt]=(Nt+=f*St[Qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");Ot=Yt,nt++}if(" "!==Ke[nt]){for(var ln=Et-Ot;ln!==Et&&0===St[ln];)ln++;for(var Ht=new Uint8Array(wt+(Et-ln)),An=wt;ln!==Et;)Ht[An++]=St[ln++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var nt=0,wt=0,Ot=0,Et=Ke.length;Ot!==Et&&0===Ke[Ot];)Ot++,nt++;for(var St=(Et-Ot)*k+1>>>0,Nt=new Uint8Array(St);Ot!==Et;){for(var Yt=Ke[Ot],Qt=0,ln=St-1;(0!==Yt||Qt<wt)&&-1!==ln;ln--,Qt++)Nt[ln]=(Yt+=256*Nt[ln]>>>0)%f>>>0,Yt=Yt/f>>>0;if(0!==Yt)throw new Error("Non-zero carry");wt=Qt,Ot++}for(var Ht=St-wt;Ht!==St&&0===Nt[Ht];)Ht++;for(var An=X.repeat(nt);Ht<St;++Ht)An+=r.charAt(Nt[Ht]);return An},decodeUnsafe:Oe,decode:function je(Ke){var nt=Oe(Ke);if(nt)return nt;throw new Error(`Non-${t} character`)}}}(n,r);return IS({prefix:t,name:r,encode:i,decode:h=>cc(u(h))})}function bf({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return IS({prefix:t,name:r,encode:u=>function Fk(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(0!==l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h}(u,i,n),decode:u=>function kS(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l}(u,i,n,r)})}const Kb=bf({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nh=(bf({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bf({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),bf({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),bf({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bf({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bf({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),bf({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),bf({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),CS({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));CS({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var nu=128,bg=-128,Vk=Math.pow(2,31),h8=128,zk=127,p8=Math.pow(2,7),m8=Math.pow(2,14),Hk=Math.pow(2,21),hy=Math.pow(2,28),wg=Math.pow(2,35),NS=Math.pow(2,42),Xp=Math.pow(2,49),y8=Math.pow(2,56),Wk=Math.pow(2,63);const Wh={encode:function OS(r,t,n){t=t||[];for(var i=n=n||0;r>=Vk;)t[n++]=255&r|nu,r/=128;for(;r&bg;)t[n++]=255&r|nu,r>>>=7;return t[n]=0|r,OS.bytes=n-i+1,t},decode:function BS(r,i){var l,n=0,u=0,h=i=i||0,f=r.length;do{if(h>=f)throw BS.bytes=0,new RangeError("Could not decode varint");l=r[h++],n+=u<28?(l&zk)<<u:(l&zk)*Math.pow(2,u),u+=7}while(l>=h8);return BS.bytes=h-i,n},encodingLength:function(r){return r<p8?1:r<m8?2:r<Hk?3:r<hy?4:r<wg?5:r<NS?6:r<Xp?7:r<y8?8:r<Wk?9:10}};function aE(r,t=0){return[Wh.decode(r,t),Wh.decode.bytes]}function _g(r,t,n=0){return Wh.encode(r,t,n),t}function Eg(r){return Wh.encodingLength(r)}class dE{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}function lE(r,t){const{bytes:n,version:i}=r;return 0===i?function LS(r,t,n){const{prefix:i}=n;if(i!==nh.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const u=t.get(i);if(null==u){const h=n.encode(r).slice(1);return t.set(i,h),h}return u}(n,uE(r),t??nh.encoder):function Vb(r,t,n){const{prefix:i}=n,u=t.get(i);if(null==u){const h=n.encode(r);return t.set(i,h),h}return u}(n,uE(r),t??Kb.encoder)}const US=new WeakMap;function uE(r){const t=US.get(r);if(null==t){const n=new Map;return US.set(r,n),n}return t}class is{code;version;multihash;bytes;"/";constructor(t,n,i,u){this.code=n,this.version=t,this.multihash=i,this.bytes=u,this["/"]=u}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==zb)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==v8)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return is.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=function jb(r,t){const n=t.byteLength,i=Eg(r),u=i+Eg(n),h=new Uint8Array(u+n);return _g(r,h,0),_g(n,h,i),h.set(t,u),new dE(r,n,t,h)}(t,n);return is.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return is.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function cE(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function fy(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return lE(this,t)}toJSON(){return{"/":lE(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof is)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:u,multihash:h,bytes:l}=n;return new is(i,u,h,l??ld(i,u,h.bytes))}if(!0===n[py]){const{version:i,multihash:u,code:h}=n,l=function $b(r){const t=cc(r),[n,i]=aE(t),[u,h]=aE(t.subarray(i)),l=t.subarray(i+h);if(l.byteLength!==u)throw new Error("Incorrect length");return new dE(n,u,l,t)}(u);return is.create(i,h,l)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==zb)throw new Error(`Version 0 CID must use dag-pb (code: ${zb}) block encoding`);return new is(t,n,i,i.bytes);case 1:{const u=ld(t,n,i.bytes);return new is(t,n,i,u)}default:throw new Error("Invalid version")}}static createV0(t){return is.create(0,zb,t)}static createV1(t,n){return is.create(1,t,n)}static decode(t){const[n,i]=is.decodeFirst(t);if(0!==i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=is.inspectBytes(t),i=n.size-n.multihashSize,u=cc(t.subarray(i,i+n.multihashSize));if(u.byteLength!==n.multihashSize)throw new Error("Incorrect length");const h=u.subarray(n.multihashSize-n.digestSize),l=new dE(n.multihashCode,n.digestSize,h,u);return[0===n.version?is.createV0(l):is.createV1(n.codec,l),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[re,Oe]=aE(t.subarray(n));return n+=Oe,re};let u=i(),h=zb;if(18===u?(u=0,n=0):h=i(),0!==u&&1!==u)throw new RangeError(`Invalid CID version ${u}`);const l=n,f=i(),X=i(),W=n+X;return{version:u,codec:h,multihashCode:f,digestSize:X,multihashSize:W-l,size:W}}static parse(t,n){const[i,u]=function fE(r,t){switch(r[0]){case"Q":return[nh.prefix,(t??nh).decode(`${nh.prefix}${r}`)];case nh.prefix:return[nh.prefix,(t??nh).decode(r)];case Kb.prefix:return[Kb.prefix,(t??Kb).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),h=is.decode(u);if(0===h.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return uE(h).set(i,t),h}}const zb=112,v8=18;function ld(r,t,n){const i=Eg(r),u=i+Eg(t),h=new Uint8Array(u+n.byteLength);return _g(r,h,0),_g(t,h,i),h.set(n,u),h}const py=Symbol.for("@ipld/js-cid/CID"),KS=new TextDecoder;function Hb(r,t){let n=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const u=r[t++];if(n+=i<28?(127&u)<<i:(127&u)*2**i,u<128)break}return[n,t]}function Wb(r,t){let n;[n,t]=Hb(r,t);const i=t+n;if(n<0||i<0)throw new Error("protobuf: invalid length");if(i>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,i),i]}function hE(r,t){let n;return[n,t]=Hb(r,t),[7&n,n>>3,t]}function Xk(r){const t={},n=r.length;let i=0;for(;i<n;){let u,h;if([u,h,i]=hE(r,i),1===h){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==u)throw new Error(`protobuf: (PBLink) wrong wireType (${u}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,i]=Wb(r,i)}else if(2===h){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==u)throw new Error(`protobuf: (PBLink) wrong wireType (${u}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let l;[l,i]=Wb(r,i),t.Name=KS.decode(l)}else{if(3!==h)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${h}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==u)throw new Error(`protobuf: (PBLink) wrong wireType (${u}) for Tsize`);[t.Tsize,i]=Hb(r,i)}}if(i>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const jS=new TextEncoder,pE=2**32,Yk=2**31;function Zk(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=my(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const i=jS.encode(r.Name);n-=i.length,t.set(i,n),n=my(t,n,i.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=my(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function Qk(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+Yp(n)}if("string"==typeof r.Name){const n=jS.encode(r.Name).length;t+=1+n+Yp(n)}return"number"==typeof r.Tsize&&(t+=1+Yp(r.Tsize)),t}function my(r,t,n){const i=t-=Yp(n);for(;n>=Yk;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,i}function Yp(r){return r%2==0&&r++,Math.floor((function Gb(r){let t=0;return r>=pE&&(r=Math.floor(r/pE),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+VS[r]}(r)+6)/7)}const VS=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],zS=["Data","Links"],HS=["Hash","Name","Tsize"],Jb=new TextEncoder;function WS(r,t){if(r===t)return 0;const n=r.Name?Jb.encode(r.Name):[],i=t.Name?Jb.encode(t.Name):[];let u=n.length,h=i.length;for(let l=0,f=Math.min(u,h);l<f;++l)if(n[l]!==i[l]){u=n[l],h=i[l];break}return u<h?-1:h<u?1:0}function GS(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function JS(r){if("object"==typeof r.asCID){const n=is.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=is.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=is.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=is.decode(r.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function Gh(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=Jb.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map(JS),t.Links.sort(WS)}else t.Links=[];return t}function mE(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!GS(r,zS))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!GS(n,HS))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===WS(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function b8(r,t=[]){return Gh({Data:r,Links:t})}function XS(r,t,n){return JS({Hash:n,Name:r,Tsize:t})}const t3="dag-pb",YS=112;function Jh(r){mE(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const i={};return n.Hash&&(i.Hash=n.Hash.bytes),void 0!==n.Name&&(i.Name=n.Name),void 0!==n.Tsize&&(i.Tsize=n.Tsize),i})),r.Data&&(t.Data=r.Data),function qk(r){const t=function $S(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+Yp(n)}if(r.Links)for(const n of r.Links){const i=Qk(n);t+=1+i+Yp(i)}return t}(r),n=new Uint8Array(t);let i=t;if(r.Data&&(i-=r.Data.length,n.set(r.Data,i),i=my(n,i,r.Data.length)-1,n[i]=10),r.Links)for(let u=r.Links.length-1;u>=0;u--){const h=Zk(r.Links[u],n.subarray(0,i));i-=h,i=my(n,i,h)-1,n[i]=18}return n}(t)}function yy(r){const t=function e3(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function FS(r){const t=r.length;let i,h,n=0,u=!1;for(;n<t;){let f,X;if([f,X,n]=hE(r,n),2!==f)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${f}`);if(1===X){if(h)throw new Error("protobuf: (PBNode) duplicate Data section");[h,n]=Wb(r,n),i&&(u=!0)}else{if(2!==X)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${X}`);{if(u)throw new Error("protobuf: (PBNode) duplicate Links section");let W;i||(i=[]),[W,n]=Wb(r,n),i.push(Xk(W))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const l={};return h&&(l.Data=h),l.Links=i||[],l}(t),i={};return n.Data&&(i.Data=n.Data),n.Links&&(i.Links=n.Links.map(u=>{const h={};try{h.Hash=is.decode(u.Hash)}catch{}if(!h.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==u.Name&&(h.Name=u.Name),void 0!==u.Tsize&&(h.Tsize=u.Tsize),h})),i}var Xb=_(3087);const n3=Math.pow(2,7),Xh=Math.pow(2,14),Yb=Math.pow(2,21),yE=Math.pow(2,28),Zb=Math.pow(2,35),xg=Math.pow(2,42),ZS=Math.pow(2,49),Ts=128,Fd=127;function Mg(r){if(r<n3)return 1;if(r<Xh)return 2;if(r<Yb)return 3;if(r<yE)return 4;if(r<Zb)return 5;if(r<xg)return 6;if(r<ZS)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function qS(r,t,n=0){switch(Mg(r)){case 8:t[n++]=255&r|Ts,r/=128;case 7:t[n++]=255&r|Ts,r/=128;case 6:t[n++]=255&r|Ts,r/=128;case 5:t[n++]=255&r|Ts,r/=128;case 4:t[n++]=255&r|Ts,r>>>=7;case 3:t[n++]=255&r|Ts,r>>>=7;case 2:t[n++]=255&r|Ts,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const Zp=new Float32Array([-0]),dc=new Uint8Array(Zp.buffer);function Qb(r,t,n){Zp[0]=r,t[n]=dc[0],t[n+1]=dc[1],t[n+2]=dc[2],t[n+3]=dc[3]}const _f=new Float64Array([-0]),ls=new Uint8Array(_f.buffer);function ew(r,t,n){_f[0]=r,t[n]=ls[0],t[n+1]=ls[1],t[n+2]=ls[2],t[n+3]=ls[3],t[n+4]=ls[4],t[n+5]=ls[5],t[n+6]=ls[6],t[n+7]=ls[7]}const bE=BigInt(Number.MAX_SAFE_INTEGER),Tg=BigInt(Number.MIN_SAFE_INTEGER);class jd{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(n+4294967296*i)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(BigInt(n)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}static fromBigInt(t){if(0n===t)return Yh;if(t<bE&&t>Tg)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let i=t>>32n,u=t-(i<<32n);return n&&(i=0n|~i,u=0n|~u,++u>tT&&(u=0n,++i>tT&&(i=0n))),new jd(Number(u),Number(i))}static fromNumber(t){if(0===t)return Yh;const n=t<0;n&&(t=-t);let i=t>>>0,u=(t-i)/4294967296>>>0;return n&&(u=~u>>>0,i=~i>>>0,++i>4294967295&&(i=0,++u>4294967295&&(u=0))),new jd(i,u)}static from(t){return"number"==typeof t?jd.fromNumber(t):"bigint"==typeof t?jd.fromBigInt(t):"string"==typeof t?jd.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new jd(t.low>>>0,t.high>>>0):Yh}}const Yh=new jd(0,0);Yh.toBigInt=function(){return 0n},Yh.zzEncode=Yh.zzDecode=function(){return this},Yh.length=function(){return 1};const tT=4294967296n;function _E(r,t,n){const i=n;let u,h;for(let l=0;l<r.length;++l)u=r.charCodeAt(l),u<128?t[n++]=u:u<2048?(t[n++]=u>>6|192,t[n++]=63&u|128):55296==(64512&u)&&56320==(64512&(h=r.charCodeAt(l+1)))?(u=65536+((1023&u)<<10)+(1023&h),++l,t[n++]=u>>18|240,t[n++]=u>>12&63|128,t[n++]=u>>6&63|128,t[n++]=63&u|128):(t[n++]=u>>12|224,t[n++]=u>>6&63|128,t[n++]=63&u|128);return n-i}function Bu(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function nw(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class Ag{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Bu(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw Bu(this,4);return nw(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Bu(this,4);return 0|nw(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw Bu(this,4);const t=function Sg(r,t){return dc[0]=r[t],dc[1]=r[t+1],dc[2]=r[t+2],dc[3]=r[t+3],Zp[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw Bu(this,4);const t=function vE(r,t){return ls[0]=r[t],ls[1]=r[t+1],ls[2]=r[t+2],ls[3]=r[t+3],ls[4]=r[t+4],ls[5]=r[t+5],ls[6]=r[t+6],ls[7]=r[t+7],_f[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw Bu(this,t);return this.pos+=t,n===i?new Uint8Array(0):this.buf.subarray(n,i)}string(){const t=this.bytes();return function wE(r,t,n){if(n-t<1)return"";let u;const h=[];let f,l=0;for(;t<n;)f=r[t++],f<128?h[l++]=f:f>191&&f<224?h[l++]=(31&f)<<6|63&r[t++]:f>239&&f<365?(f=((7&f)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,h[l++]=55296+(f>>10),h[l++]=56320+(1023&f)):h[l++]=(15&f)<<12|(63&r[t++])<<6|63&r[t++],l>8191&&((u??(u=[])).push(String.fromCharCode.apply(String,h)),l=0);return null!=u?(l>0&&u.push(String.fromCharCode.apply(String,h.slice(0,l))),u.join("")):String.fromCharCode.apply(String,h.slice(0,l))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw Bu(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw Bu(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new jd(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw Bu(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw Bu(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Bu(this,8);const t=nw(this.buf,this.pos+=4),n=nw(this.buf,this.pos+=4);return new jd(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function r3(r,t){let n=r[t],i=0;if(i+=n&Fd,n<Ts||(n=r[t+1],i+=(n&Fd)<<7,n<Ts)||(n=r[t+2],i+=(n&Fd)<<14,n<Ts)||(n=r[t+3],i+=(n&Fd)<<21,n<Ts)||(n=r[t+4],i+=(n&Fd)*yE,n<Ts)||(n=r[t+5],i+=(n&Fd)*Zb,n<Ts)||(n=r[t+6],i+=(n&Fd)*xg,n<Ts)||(n=r[t+7],i+=(n&Fd)*ZS,n<Ts))return i;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=Mg(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function Dg(r,t,n){const i=function nT(r){return new Ag(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(i,void 0,n)}function EE(r=0){return new Uint8Array(r)}function Zh(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class ow{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class sT{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return ME(this,t)}}class aT{decoders;constructor(t){this.decoders=t}or(t){return ME(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function ME(r,t){return new aT({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class sw{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new ow(t,n,i),this.decoder=new sT(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function gy({name:r,prefix:t,encode:n,decode:i}){return new sw(r,t,n,i)}function vy({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function xE(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var nt=0;if(" "!==Ke[nt]){for(var wt=0,Ot=0;Ke[nt]===X;)wt++,nt++;for(var Et=(Ke.length-nt)*W+1>>>0,St=new Uint8Array(Et);Ke[nt];){var Nt=n[Ke.charCodeAt(nt)];if(255===Nt)return;for(var Yt=0,Qt=Et-1;(0!==Nt||Yt<Ot)&&-1!==Qt;Qt--,Yt++)St[Qt]=(Nt+=f*St[Qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");Ot=Yt,nt++}if(" "!==Ke[nt]){for(var ln=Et-Ot;ln!==Et&&0===St[ln];)ln++;for(var Ht=new Uint8Array(wt+(Et-ln)),An=wt;ln!==Et;)Ht[An++]=St[ln++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var nt=0,wt=0,Ot=0,Et=Ke.length;Ot!==Et&&0===Ke[Ot];)Ot++,nt++;for(var St=(Et-Ot)*k+1>>>0,Nt=new Uint8Array(St);Ot!==Et;){for(var Yt=Ke[Ot],Qt=0,ln=St-1;(0!==Yt||Qt<wt)&&-1!==ln;ln--,Qt++)Nt[ln]=(Yt+=256*Nt[ln]>>>0)%f>>>0,Yt=Yt/f>>>0;if(0!==Yt)throw new Error("Non-zero carry");wt=Qt,Ot++}for(var Ht=St-wt;Ht!==St&&0===Nt[Ht];)Ht++;for(var An=X.repeat(nt);Ht<St;++Ht)An+=r.charAt(Nt[Ht]);return An},decodeUnsafe:Oe,decode:function je(Ke){var nt=Oe(Ke);if(nt)return nt;throw new Error(`Non-${t} character`)}}}(n,r);return gy({prefix:t,name:r,encode:i,decode:h=>Zh(u(h))})}function Qa({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return gy({prefix:t,name:r,encode:u=>function SE(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(0!==l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h}(u,i,n),decode:u=>function aw(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l}(u,i,n,r)})}const a3=vy({prefix:"9",name:"base10",alphabet:"0123456789"}),c3=Qa({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),S8=Qa({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),cw=Qa({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),dw=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),cT=dw.reduce((r,t,n)=>(r[n]=t,r),[]),dT=dw.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),d3=gy({prefix:"\u{1f680}",name:"base256emoji",encode:function lT(r){return r.reduce((t,n)=>t+cT[n],"")},decode:function qp(r){const t=[];for(const n of r){const i=dT[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),Cg=Qa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),l3=Qa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),u3=Qa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),f3=Qa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rh=Qa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),by=Qa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),h3=Qa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),p3=Qa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),m3=Qa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),y3=vy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),g3=vy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ih=vy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),uT=vy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),v3=Qa({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),b3=Qa({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),w3=Qa({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_3=Qa({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),lw=Qa({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),oh=gy({prefix:"\0",name:"identity",encode:r=>function rT(r){return(new TextDecoder).decode(r)}(r),decode:r=>function s3(r){return(new TextEncoder).encode(r)}(r)}),kg=new TextEncoder,fT=new TextDecoder,hT="json",pT=512;function T8(r){return kg.encode(JSON.stringify(r))}function A8(r){return JSON.parse(fT.decode(r))}const D8="raw",TE=85;function AE(r){return Zh(r)}function I8(r){return Zh(r)}var DE=128,x3=-128,M3=Math.pow(2,31),yT=128,IE=127,T3=Math.pow(2,7),gT=Math.pow(2,14),uw=Math.pow(2,21),vT=Math.pow(2,28),kE=Math.pow(2,35),A3=Math.pow(2,42),Qp=Math.pow(2,49),bT=Math.pow(2,56),D3=Math.pow(2,63);const fw={encode:function mT(r,t,n){t=t||[];for(var i=n=n||0;r>=M3;)t[n++]=255&r|DE,r/=128;for(;r&x3;)t[n++]=255&r|DE,r>>>=7;return t[n]=0|r,mT.bytes=n-i+1,t},decode:function CE(r,i){var l,n=0,u=0,h=i=i||0,f=r.length;do{if(h>=f)throw CE.bytes=0,new RangeError("Could not decode varint");l=r[h++],n+=u<28?(l&IE)<<u:(l&IE)*Math.pow(2,u),u+=7}while(l>=yT);return CE.bytes=h-i,n},encodingLength:function(r){return r<T3?1:r<gT?2:r<uw?3:r<vT?4:r<kE?5:r<A3?6:r<Qp?7:r<bT?8:r<D3?9:10}};function hw(r,t,n=0){return fw.encode(r,t,n),t}function Pg(r){return fw.encodingLength(r)}function RE(r,t){const n=t.byteLength,i=Pg(r),u=i+Pg(n),h=new Uint8Array(u+n);return hw(r,h,0),hw(n,h,i),h.set(t,u),new BE(r,n,t,h)}class BE{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const NE=Zh,P3={code:0,name:"identity",encode:NE,digest:function k3(r){return RE(0,NE(r))}};function ET({name:r,code:t,encode:n}){return new O3(r,t,n)}class O3{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?RE(this.code,n):n.then(i=>RE(this.code,i))}throw Error("Unknown type, must be binary type")}}function xT(r){return function(){var t=(0,Xe.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const R3=ET({name:"sha2-256",code:18,encode:xT("SHA-256")}),UE=ET({name:"sha2-512",code:19,encode:xT("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const KE={...C,...ce,...Pe,...J,...se,...fe,...he,...we,...Me,...ae};function FE(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const em=FE("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),sl=FE("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=EE((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),DT={utf8:em,"utf-8":em,hex:KE.base16,latin1:sl,ascii:sl,binary:sl,...KE};class mw{fn;len;next;val;constructor(t,n,i){this.fn=t,this.len=n,this.next=void 0,this.val=i}}function IT(){}class CT{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const kT=function U3(r){const t=r??8192,n=t>>>1;let i,u=t;return function(l){if(l<1||l>n)return EE(l);u+l>t&&(i=EE(t),u=0);const f=i.subarray(u,u+=l);return 7&u&&(u=1+(7|u)),f}}();class wy{len;head;tail;states;constructor(){this.len=0,this.head=new mw(IT,0,0),this.tail=this.head,this.states=null}_push(t,n,i){return this.tail=this.tail.next=new mw(t,n,i),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new L3((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(sh,10,jd.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=jd.fromBigInt(t);return this._push(sh,n.length(),n)}uint64Number(t){return this._push(qS,Mg(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=jd.fromBigInt(t).zzEncode();return this._push(sh,n.length(),n)}sint64Number(t){const n=jd.fromNumber(t).zzEncode();return this._push(sh,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(Rg,1,t?1:0)}fixed32(t){return this._push(tm,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=jd.fromBigInt(t);return this._push(tm,4,n.lo)._push(tm,4,n.hi)}fixed64Number(t){const n=jd.fromNumber(t);return this._push(tm,4,n.lo)._push(tm,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(Qb,4,t)}double(t){return this._push(ew,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(Rg,1,0):this.uint32(n)._push(PT,n,t)}string(t){const n=function i3(r){let t=0,n=0;for(let i=0;i<r.length;++i)n=r.charCodeAt(i),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(i+1))?(++i,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(_E,n,t):this._push(Rg,1,0)}fork(){return this.states=new CT(this),this.head=this.tail=new mw(IT,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new mw(IT,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),0!==i&&(this.tail.next=t.next,this.tail=n,this.len+=i),this}finish(){let t=this.head.next;const n=function U8(r){return null!=globalThis.Buffer?EE(r):kT(r)}(this.len);let i=0;for(;null!=t;)t.fn(t.val,n,i),i+=t.len,t=t.next;return n}}function Rg(r,t,n){t[n]=255&r}function jE(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class L3 extends mw{next;constructor(t,n){super(jE,t,n),this.next=void 0}}function sh(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function tm(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function PT(r,t,n){t.set(r,n)}function $E(r,t,n){t.set(r,n)}function yw(r,t,n){r.length<40?_E(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set(function N8(r,t="utf8"){const n=DT[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}(r),n)}function VE(r,t){const n=function K3(){return new wy}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(wy.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push($E,t,r),this},wy.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(yw,t,r),this});var bl,nm,bw,gw=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(gw||{});function OT(r,t,n,i){return{name:r,type:t,encode:n,decode:i}}function vw(r,t){return OT("message",gw.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var u;let n,i;(u=t=r.DataType||(r.DataType={})).Raw="Raw",u.Directory="Directory",u.File="File",u.Metadata="Metadata",u.Symlink="Symlink",u.HAMTShard="HAMTShard",function(u){u[u.Raw=0]="Raw",u[u.Directory=1]="Directory",u[u.File=2]="File",u[u.Metadata=3]="Metadata",u[u.Symlink=4]="Symlink",u[u.HAMTShard=5]="HAMTShard"}(n||(n={})),function(u){u.codec=()=>function F3(r){function t(u){if(null==r[u.toString()])throw new Error("Invalid enum value");return r[u]}return OT("enum",gw.VARINT,function(h,l){const f=t(h);l.int32(f)},function(h){return t(h.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==i&&(i=vw((u,h,l={})=>{if(!1!==l.lengthDelimited&&h.fork(),null!=u.Type&&(h.uint32(8),r.DataType.codec().encode(u.Type,h)),null!=u.Data&&(h.uint32(18),h.bytes(u.Data)),null!=u.filesize&&(h.uint32(24),h.uint64(u.filesize)),null!=u.blocksizes)for(const f of u.blocksizes)h.uint32(32),h.uint64(f);null!=u.hashType&&(h.uint32(40),h.uint64(u.hashType)),null!=u.fanout&&(h.uint32(48),h.uint64(u.fanout)),null!=u.mode&&(h.uint32(56),h.uint32(u.mode)),null!=u.mtime&&(h.uint32(66),nm.codec().encode(u.mtime,h)),!1!==l.lengthDelimited&&h.ldelim()},(u,h)=>{const l={blocksizes:[]},f=null==h?u.len:u.pos+h;for(;u.pos<f;){const X=u.uint32();switch(X>>>3){case 1:l.Type=r.DataType.codec().decode(u);break;case 2:l.Data=u.bytes();break;case 3:l.filesize=u.uint64();break;case 4:l.blocksizes.push(u.uint64());break;case 5:l.hashType=u.uint64();break;case 6:l.fanout=u.uint64();break;case 7:l.mode=u.uint32();break;case 8:l.mtime=nm.codec().decode(u,u.uint32());break;default:u.skipType(7&X)}}return l})),i),r.encode=u=>VE(u,r.codec()),r.decode=u=>Dg(u,r.codec())}(bl||(bl={})),function(r){let t;r.codec=()=>(null==t&&(t=vw((n,i,u={})=>{!1!==u.lengthDelimited&&i.fork(),null!=n.Seconds&&(i.uint32(8),i.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(i.uint32(21),i.fixed32(n.FractionalNanoseconds)),!1!==u.lengthDelimited&&i.ldelim()},(n,i)=>{const u={},h=null==i?n.len:n.pos+i;for(;n.pos<h;){const l=n.uint32();switch(l>>>3){case 1:u.Seconds=n.int64();break;case 2:u.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&l)}}return u})),t),r.encode=n=>VE(n,r.codec()),r.decode=n=>Dg(n,r.codec())}(nm||(nm={})),function(r){let t;r.codec=()=>(null==t&&(t=vw((n,i,u={})=>{!1!==u.lengthDelimited&&i.fork(),null!=n.MimeType&&(i.uint32(10),i.string(n.MimeType)),!1!==u.lengthDelimited&&i.ldelim()},(n,i)=>{const u={},h=null==i?n.len:n.pos+i;for(;n.pos<h;){const l=n.uint32();l>>>3==1?u.MimeType=n.string():n.skipType(7&l)}return u})),t),r.encode=n=>VE(n,r.codec()),r.decode=n=>Dg(n,r.codec())}(bw||(bw={}));const BT={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},j3=["directory","hamt-sharded-directory"],ww=parseInt("0644",8),zE=parseInt("0755",8);class ud{static unmarshal(t){const n=bl.decode(t),i=new ud({type:BT[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return i._originalMode=n.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:i,blockSizes:u,hashType:h,fanout:l,mtime:f,mode:X}=t;if(null!=n&&!Object.values(BT).includes(n))throw Xb(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=i,this.hashType=h,this.fanout=l,this.blockSizes=u??[],this._originalMode=0,this.mode=X,this.mtime=f}set mode(t){this._mode=null==t?this.isDirectory()?zE:ww:4095&t}get mode(){return this._mode}isDirectory(){return j3.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=bl.DataType.Raw;break;case"directory":t=bl.DataType.Directory;break;case"file":t=bl.DataType.File;break;case"metadata":t=bl.DataType.Metadata;break;case"symlink":t=bl.DataType.Symlink;break;case"hamt-sharded-directory":t=bl.DataType.HAMTShard;break;default:throw Xb(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let i,u,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(i=4294963200&this._originalMode|(this.mode??0),i===ww&&!this.isDirectory()&&(i=void 0),i===zE&&this.isDirectory()&&(i=void 0)),null!=this.mtime&&(u={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),bl.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:u})}}var _w=_(52054);const NT="raw",Bg=85,L8=r=>(0,_w.au)(r),Ew=r=>(0,_w.au)(r);class ru extends Event{constructor(t,n){super(t),this.detail=n}}const rm=function(){var r=(0,Xe.A)(function*(t,n,i){null==i.codec&&(i.codec=Z);const u=yield K.digest(t),h=ol.TO.create(i.cidVersion,i.codec.code,u);return yield n.put(h,t,i),h});return function(n,i,u){return r.apply(this,arguments)}}();function UT(r){return function(){var t=Qo(function*(i,u){let h=0n;var X,l=!1,f=!1;try{for(var k,W=Vo(i.content);l=!(k=yield yi(W.next())).done;l=!1){let re=k.value;yield(0,Xe.A)(function*(){let Oe;const je={codec:Z,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(je.codec=E,je.cidVersion=1):(Oe=new ud({type:r.leafType,data:re}),re=Jh({Data:Oe.marshal(),Links:[]}));const Ke=yield rm(re,u,je);return h+=BigInt(re.byteLength),r.onProgress?.(new ru("unixfs:importer:progress:file:write",{bytesWritten:h,cid:Ke,path:i.path})),{cid:Ke,unixfs:Oe,size:BigInt(re.length),block:re}})}}catch(re){f=!0,X=re}finally{try{l&&null!=W.return&&(yield yi(W.return()))}finally{if(f)throw X}}});return function n(i,u){return t.apply(this,arguments)}}()}function Nu(r){var t={},n=!1;function i(u,h){return n=!0,{done:!1,value:new eE(h=new Promise(function(l){l(r[u](h))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(u){return n?(n=!1,u):i("next",u)},"function"==typeof r.throw&&(t.throw=function(u){if(n)throw n=!1,u;return i("throw",u)}),"function"==typeof r.return&&(t.return=function(u){return n?(n=!1,u):i("return",u)}),t}const HE=function(){var r=(0,Xe.A)(function*(t,n,i){const u=new ud({type:"directory",mtime:t.mtime,mode:t.mode}),h=Jh(Gh({Data:u.marshal()}));return{cid:yield rm(h,n,i),path:t.path,unixfs:u,size:BigInt(h.length),originalPath:t.originalPath,block:h}});return function(n,i,u){return r.apply(this,arguments)}}();function _y(){return(_y=Qo(function*(r,t,n){let u,i=-1;var f,h=!1,l=!1;try{for(var W,X=Vo(Rb(n.bufferImporter(r,t),n.blockWriteConcurrency));h=!(W=yield yi(X.next())).done;h=!1){const k=W.value;i++,0!==i?(1===i&&null!=u&&(yield{...u,block:void 0,single:void 0},u=void 0),yield{...k,block:void 0}):u={...k,single:!0}}}catch(k){l=!0,f=k}finally{try{h&&null!=X.return&&(yield yi(X.return()))}finally{if(l)throw f}}null!=u&&(yield u)})).apply(this,arguments)}function im(r){return!0===r.single}const KT=(r,t,n)=>function(){var u=(0,Xe.A)(function*(h){if(1===h.length&&im(h[0])&&n.reduceSingleLeafToSelf){const re=h[0];let Oe=re.block;return im(re)&&(void 0!==r.mtime||void 0!==r.mode)&&(re.unixfs=new ud({type:"file",mtime:r.mtime,mode:r.mode,data:re.block}),Oe={Data:re.unixfs.marshal(),Links:[]},re.block=Jh(Gh(Oe)),re.cid=yield rm(re.block,t,{...n,cidVersion:n.cidVersion}),re.size=BigInt(re.block.length)),n.onProgress?.(new ru("unixfs:importer:progress:file:layout",{cid:re.cid,path:re.originalPath})),{cid:re.cid,path:r.path,unixfs:re.unixfs,size:re.size,originalPath:re.originalPath}}const l=new ud({type:"file",mtime:r.mtime,mode:r.mode}),f=h.filter(re=>re.cid.code===Bg&&re.size>0||null!=re.unixfs&&null==re.unixfs.data&&re.unixfs.fileSize()>0n||!!re.unixfs?.data?.length).map(re=>re.cid.code===Bg?(l.addBlockSize(re.size),{Name:"",Tsize:Number(re.size),Hash:re.cid}):(l.addBlockSize(null==re.unixfs||null==re.unixfs.data?re.unixfs?.fileSize()??0n:BigInt(re.unixfs.data.length)),{Name:"",Tsize:Number(re.size),Hash:re.cid})),X={Data:l.marshal(),Links:f},W=Jh(Gh(X)),k=yield rm(W,t,n);return n.onProgress?.(new ru("unixfs:importer:progress:file:layout",{cid:k,path:r.originalPath})),{cid:k,path:r.path,unixfs:l,size:BigInt(W.length+X.Links.reduce((re,Oe)=>re+(Oe.Tsize??0),0)),originalPath:r.originalPath,block:W}});return function(l){return u.apply(this,arguments)}}(),WE=function(){var r=(0,Xe.A)(function*(t,n,i){return i.layout(function LT(r,t,n){return _y.apply(this,arguments)}(t,n,i),KT(t,n,i))});return function(n,i,u){return r.apply(this,arguments)}}();function GE(r){try{if(r instanceof Uint8Array)return Qo(function*(){yield r})();if(function Ng(r){return Symbol.iterator in r}(r))return Qo(function*(){yield*Nu(Vo(r))})();if(function FT(r){return Symbol.asyncIterator in r}(r))return r}catch{throw Ob(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw Ob(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function $3(r){return null!=r.content}const jT=()=>function(){var r=Qo(function*(n){var h,i=!1,u=!1;try{for(var f,l=Vo(n);i=!(f=yield yi(l.next())).done;i=!1){const X=f.value;if(void 0===X.length)throw Ob(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof X||X instanceof String)yield At(X.toString());else if(Array.isArray(X))yield Uint8Array.from(X);else{if(!(X instanceof Uint8Array))throw Ob(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield X}}}catch(X){u=!0,h=X}finally{try{i&&null!=l.return&&(yield yi(l.return()))}finally{if(u)throw h}}});return function t(n){return r.apply(this,arguments)}}(),V3=174;function z3(r){const t=r?.maxChildrenPerNode??V3;return function(){var n=(0,Xe.A)(function*(u,h){const l=[];var W,f=!1,X=!1;try{for(var re,k=Vo(yg(u,t));f=!(re=yield k.next()).done;f=!1){const Oe=re.value;l.push(yield h(Oe))}}catch(Oe){X=!0,W=Oe}finally{try{f&&null!=k.return&&(yield k.return())}finally{if(X)throw W}}return l.length>1?i(l,h):l[0]});function i(u,h){return n.apply(this,arguments)}return i}()}class Ey{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const Qh=ol.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),Mw=ol.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class Sw extends Ey{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var i=this;return(0,Xe.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,i._children.set(t,n)})()}get(t){var n=this;return(0,Xe.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return Qo(function*(){for(const[n,i]of t._children.entries())yield{key:n,child:i}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?Mw.bytes.byteLength:Qh.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return Qo(function*(){const i=[];for(const[Ke,nt]of n._children.entries()){let wt=nt;if(nt instanceof Ey){var l,u=!1,h=!1;try{for(var X,f=Vo(nt.flush(t));u=!(X=yield yi(f.next())).done;u=!1){const Ot=X.value;wt=Ot,yield Ot}}catch(Ot){h=!0,l=Ot}finally{try{u&&null!=f.return&&(yield yi(f.return()))}finally{if(h)throw l}}}null!=wt.size&&null!=wt.cid&&i.push({Name:Ke,Tsize:Number(wt.size),Hash:wt.cid})}const W=new ud({type:"directory",mtime:n.mtime,mode:n.mode}),k={Data:W.marshal(),Links:i},re=Jh(Gh(k)),Oe=yield yi(rm(re,t,n.options)),je=re.length+k.Links.reduce((Ke,nt)=>Ke+(null==nt.Tsize?0:nt.Tsize),0);n.cid=Oe,n.size=je,yield{cid:Oe,unixfs:W,path:n.path,size:BigInt(je)}})()}}const G3=new Uint8Array(0);function ep(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):G3}class Y3{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Z3{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return JT(this,t)}}class GT{decoders;constructor(t){this.decoders=t}or(t){return JT(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function JT(r,t){return new GT({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class q3{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new Y3(t,n,i),this.decoder=new Z3(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function XT({name:r,prefix:t,encode:n,decode:i}){return new q3(r,t,n,i)}function YT({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function YE(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var nt=0;if(" "!==Ke[nt]){for(var wt=0,Ot=0;Ke[nt]===X;)wt++,nt++;for(var Et=(Ke.length-nt)*W+1>>>0,St=new Uint8Array(Et);Ke[nt];){var Nt=n[Ke.charCodeAt(nt)];if(255===Nt)return;for(var Yt=0,Qt=Et-1;(0!==Nt||Yt<Ot)&&-1!==Qt;Qt--,Yt++)St[Qt]=(Nt+=f*St[Qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");Ot=Yt,nt++}if(" "!==Ke[nt]){for(var ln=Et-Ot;ln!==Et&&0===St[ln];)ln++;for(var Ht=new Uint8Array(wt+(Et-ln)),An=wt;ln!==Et;)Ht[An++]=St[ln++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var nt=0,wt=0,Ot=0,Et=Ke.length;Ot!==Et&&0===Ke[Ot];)Ot++,nt++;for(var St=(Et-Ot)*k+1>>>0,Nt=new Uint8Array(St);Ot!==Et;){for(var Yt=Ke[Ot],Qt=0,ln=St-1;(0!==Yt||Qt<wt)&&-1!==ln;ln--,Qt++)Nt[ln]=(Yt+=256*Nt[ln]>>>0)%f>>>0,Yt=Yt/f>>>0;if(0!==Yt)throw new Error("Non-zero carry");wt=Qt,Ot++}for(var Ht=St-wt;Ht!==St&&0===Nt[Ht];)Ht++;for(var An=X.repeat(nt);Ht<St;++Ht)An+=r.charAt(Nt[Ht]);return An},decodeUnsafe:Oe,decode:function je(Ke){var nt=Oe(Ke);if(nt)return nt;throw new Error(`Non-${t} character`)}}}(n,r);return XT({prefix:t,name:r,encode:i,decode:h=>function om(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(u(h))})}function ah({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return XT({prefix:t,name:r,encode:u=>function qT(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(0!==l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h}(u,i,n),decode:u=>function ZT(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l}(u,i,n,r)})}ah({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ah({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ah({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ah({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ah({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ah({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ah({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ah({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ah({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),YT({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),YT({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var eA=128,n6=-128,r6=Math.pow(2,31),o6=128,Uu=127,s6=Math.pow(2,7),a6=Math.pow(2,14),nA=Math.pow(2,21),rA=Math.pow(2,28),Aw=Math.pow(2,35),QE=Math.pow(2,42),V8=Math.pow(2,49),iA=Math.pow(2,56),oA=Math.pow(2,63);const iu={encode:function tA(r,t,n){t=t||[];for(var i=n=n||0;r>=r6;)t[n++]=255&r|eA,r/=128;for(;r&n6;)t[n++]=255&r|eA,r>>>=7;return t[n]=0|r,tA.bytes=n-i+1,t},decode:function Ug(r,i){var l,n=0,u=0,h=i=i||0,f=r.length;do{if(h>=f)throw Ug.bytes=0,new RangeError("Could not decode varint");l=r[h++],n+=u<28?(l&Uu)<<u:(l&Uu)*Math.pow(2,u),u+=7}while(l>=o6);return Ug.bytes=h-i,n},encodingLength:function(r){return r<s6?1:r<a6?2:r<nA?3:r<rA?4:r<Aw?5:r<QE?6:r<V8?7:r<iA?8:r<oA?9:10}};function Iw(r,t,n=0){return iu.encode(r,t,n),t}function xy(r){return iu.encodingLength(r)}function n2(r,t){const n=t.byteLength,i=xy(r),u=i+xy(n),h=new Uint8Array(u+n);return Iw(r,h,0),Iw(n,h,i),h.set(t,u),new ch(r,n,t,h)}class ch{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}function Sy({name:r,code:t,encode:n}){return new h6(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class h6{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?n2(this.code,n):n.then(i=>n2(this.code,i))}throw Error("Unknown type, must be binary type")}}var Pw=_(13026);Sy({name:"murmur3-32",code:35,encode:r=>function p6(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(Pw.x86.hash32(r))});const dA=Sy({name:"murmur3-128",code:34,encode:r=>ep(Pw.x64.hash128(r))});Sy({name:"murmur3-x64-64",code:34,encode:r=>ep(Pw.x64.hash128(r)).subarray(0,8)});var lA=_(18876);function Ef(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class G8{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class w6{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return E6(this,t)}}class _6{decoders;constructor(t){this.decoders=t}or(t){return E6(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function E6(r,t){return new _6({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class x6{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new G8(t,n,i),this.decoder=new w6(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function c2({name:r,prefix:t,encode:n,decode:i}){return new x6(r,t,n,i)}function Fg({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function Rw(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var nt=0;if(" "!==Ke[nt]){for(var wt=0,Ot=0;Ke[nt]===X;)wt++,nt++;for(var Et=(Ke.length-nt)*W+1>>>0,St=new Uint8Array(Et);Ke[nt];){var Nt=n[Ke.charCodeAt(nt)];if(255===Nt)return;for(var Yt=0,Qt=Et-1;(0!==Nt||Yt<Ot)&&-1!==Qt;Qt--,Yt++)St[Qt]=(Nt+=f*St[Qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");Ot=Yt,nt++}if(" "!==Ke[nt]){for(var ln=Et-Ot;ln!==Et&&0===St[ln];)ln++;for(var Ht=new Uint8Array(wt+(Et-ln)),An=wt;ln!==Et;)Ht[An++]=St[ln++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var nt=0,wt=0,Ot=0,Et=Ke.length;Ot!==Et&&0===Ke[Ot];)Ot++,nt++;for(var St=(Et-Ot)*k+1>>>0,Nt=new Uint8Array(St);Ot!==Et;){for(var Yt=Ke[Ot],Qt=0,ln=St-1;(0!==Yt||Qt<wt)&&-1!==ln;ln--,Qt++)Nt[ln]=(Yt+=256*Nt[ln]>>>0)%f>>>0,Yt=Yt/f>>>0;if(0!==Yt)throw new Error("Non-zero carry");wt=Qt,Ot++}for(var Ht=St-wt;Ht!==St&&0===Nt[Ht];)Ht++;for(var An=X.repeat(nt);Ht<St;++Ht)An+=r.charAt(Nt[Ht]);return An},decodeUnsafe:Oe,decode:function je(Ke){var nt=Oe(Ke);if(nt)return nt;throw new Error(`Non-${t} character`)}}}(n,r);return c2({prefix:t,name:r,encode:i,decode:h=>Ef(u(h))})}function Ic({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return c2({prefix:t,name:r,encode:u=>function S6(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(0!==l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h}(u,i,n),decode:u=>function M6(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l}(u,i,n,r)})}const jg=Fg({prefix:"9",name:"base10",alphabet:"0123456789"}),d2=Ic({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Bw=Ic({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),uA=Ic({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Ty=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),fA=Ty.reduce((r,t,n)=>(r[n]=t,r),[]),T6=Ty.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),pA=c2({prefix:"\u{1f680}",name:"base256emoji",encode:function $g(r){return r.reduce((t,n)=>t+fA[n],"")},decode:function hA(r){const t=[];for(const n of r){const i=T6[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),Ay=Ic({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mA=Ic({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),A6=Ic({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),D6=Ic({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),I6=Ic({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Vg=Ic({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),C6=Ic({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),k6=Ic({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),P6=Ic({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Nw=Fg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yA=Fg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),xf=Fg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gA=Fg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),O6=Ic({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vA=Ic({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),l2=Ic({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Uw=Ic({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),R6=Ic({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),B6=c2({prefix:"\0",name:"identity",encode:r=>function v6(r){return(new TextDecoder).decode(r)}(r),decode:r=>function g6(r){return(new TextEncoder).encode(r)}(r)}),N6=new TextEncoder,U6=new TextDecoder,L6="json",K6=512;function u2(r){return N6.encode(JSON.stringify(r))}function zg(r){return JSON.parse(U6.decode(r))}const bA="raw",wA=85;function F6(r){return Ef(r)}function Hg(r){return Ef(r)}var j6=128,_A=-128,f2=Math.pow(2,31),V6=128,h2=127,MA=Math.pow(2,7),p2=Math.pow(2,14),z6=Math.pow(2,21),H6=Math.pow(2,28),W6=Math.pow(2,35),G6=Math.pow(2,42),J6=Math.pow(2,49),X6=Math.pow(2,56),m2=Math.pow(2,63);const Mf={encode:function EA(r,t,n){t=t||[];for(var i=n=n||0;r>=f2;)t[n++]=255&r|j6,r/=128;for(;r&_A;)t[n++]=255&r|j6,r>>>=7;return t[n]=0|r,EA.bytes=n-i+1,t},decode:function Kw(r,i){var l,n=0,u=0,h=i=i||0,f=r.length;do{if(h>=f)throw Kw.bytes=0,new RangeError("Could not decode varint");l=r[h++],n+=u<28?(l&h2)<<u:(l&h2)*Math.pow(2,u),u+=7}while(l>=V6);return Kw.bytes=h-i,n},encodingLength:function(r){return r<MA?1:r<p2?2:r<z6?3:r<H6?4:r<W6?5:r<G6?6:r<J6?7:r<X6?8:r<m2?9:10}};function Dy(r,t,n=0){return Mf.encode(r,t,n),t}function Iy(r){return Mf.encodingLength(r)}function Fw(r,t){const n=t.byteLength,i=Iy(r),u=i+Iy(n),h=new Uint8Array(u+n);return Dy(r,h,0),Dy(n,h,i),h.set(t,u),new y2(r,n,t,h)}class y2{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const AA=Ef,DA={code:0,name:"identity",encode:AA,digest:function e5(r){return Fw(0,AA(r))}};function IA({name:r,code:t,encode:n}){return new CA(r,t,n)}class CA{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Fw(this.code,n):n.then(i=>Fw(this.code,i))}throw Error("Unknown type, must be binary type")}}function Wg(r){return function(){var t=(0,Xe.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const t5=IA({name:"sha2-256",code:18,encode:Wg("SHA-256")}),n5=IA({name:"sha2-512",code:19,encode:Wg("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const PA={...Ce,...x,...de,...D,...R,...v,...$,...F,...Q,...s};function RA(r=0){return new Uint8Array(r)}function BA(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const o5=BA("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Vw=BA("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=RA((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),NA={utf8:o5,"utf-8":o5,hex:PA.base16,latin1:Vw,ascii:Vw,binary:Vw,...PA};class wl{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,i=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=i,this._children=new lA,this.key=null}put(t,n){var i=this;return(0,Xe.A)(function*(){const u=yield i._findNewBucketAndPos(t);u.bucket._putAt(u,t,n)})()}get(t){var n=this;return(0,Xe.A)(function*(){const i=yield n._findChild(t);if(null!=i)return i.value})()}del(t){var n=this;return(0,Xe.A)(function*(){const i=yield n._findPlace(t),u=i.bucket._at(i.pos);null!=u&&u.key===t&&i.bucket._delAt(i.pos)})()}leafCount(){return this._children.compactArray().reduce((n,i)=>i instanceof wl?n+i.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof wl?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((u,h,l)=>(null!=h&&u.push(h instanceof wl?h.serialize(t,n):t(h,l)),u),[]))}asyncTransform(t,n){var i=this;return(0,Xe.A)(function*(){return zw(i,t,n)})()}toJSON(){return this.serialize(Ea,s5)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,Xe.A)(function*(){const i=yield n._findPlace(t),u=i.bucket._at(i.pos);if(!(u instanceof wl)&&null!=u&&u.key===t)return u})()}_findPlace(t){var n=this;return(0,Xe.A)(function*(){const i=n._options.hash("string"==typeof t?function UA(r,t="utf8"){const n=NA[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}(t):t),u=yield i.take(n._options.bits),h=n._children.get(u);return h instanceof wl?h._findPlace(i):{bucket:n,pos:u,hash:i,existingChild:h}})()}_findNewBucketAndPos(t){var n=this;return(0,Xe.A)(function*(){const i=yield n._findPlace(t);if(null!=i.existingChild&&i.existingChild.key!==t){const u=new wl(n._options,i.bucket,i.pos);i.bucket._putObjectAt(i.pos,u);const h=yield u._findPlace(i.existingChild.hash);return h.bucket._putAt(h,i.existingChild.key,i.existingChild.value),u._findNewBucketAndPos(i.hash)}return i})()}_putAt(t,n,i){this._putObjectAt(t.pos,{key:n,value:i,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(Q8);if(null!=t&&!(t instanceof wl)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function Q8(r){return!!r}function Ea(r,t){return r.key}function s5(r){return r}function zw(r,t,n){return v2.apply(this,arguments)}function v2(){return(v2=(0,Xe.A)(function*(r,t,n){const i=[];for(const u of r._children.compactArray())if(u instanceof wl)yield zw(u,t,n);else{const h=yield t(u);i.push({bitField:r._children.bitField(),children:h})}return n(i)})).apply(this,arguments)}const LA=[255,254,252,248,240,224,192,128],KA=[1,3,7,15,31,63,127,255];class w2{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,i=0;for(;n>0&&this._haveBits();){const u=this._value[this._currentBytePos],h=this._currentBitPos+1,l=Math.min(h,n);i=(i<<l)+a5(u,h-l,l),n-=l,this._currentBitPos-=l,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function a5(r,t,n){const i=function c5(r,t){return LA[r]&KA[Math.min(t+r-1,7)]}(t,n);return(r&i)>>>t}function FA(r){return function t(n){return n instanceof jA?n:new jA(n,r)}}class jA{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,Xe.A)(function*(){let i=t;for(;n._availableBits<i;)yield n._produceMoreBits();let u=0;for(;i>0;){const h=n._buffers[n._currentBufferIndex],l=Math.min(h.availableBits(),i);u=(u<<l)+h.take(l),i-=l,n._availableBits-=l,0===h.availableBits()&&n._currentBufferIndex++}return u})()}untake(t){let n=t;for(;n>0;){const i=this._buffers[this._currentBufferIndex],u=Math.min(i.totalBits()-i.availableBits(),n);i.untake(u),n-=u,this._availableBits+=u,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,Xe.A)(function*(){t._depth++;const n=t._depth>0?function b2(r,t){null==t&&(t=r.reduce((u,h)=>u+h.length,0));const n=RA(t);let i=0;for(const u of r)n.set(u,i),i+=u.length;return n}([t._value,Uint8Array.from([t._depth])]):t._value,i=yield t._hashFn(n),u=new w2(i);t._buffers.push(u),t._availableBits+=u.availableBits()})()}}function hd(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:FA(r.hashFn)};return new wl(t)}function $A(r){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,Xe.A)(function*(r){return(yield dA.encode(r)).slice(0,8).reverse()})).apply(this,arguments)}const _2=BigInt(34),d5=class VA extends Ey{_bucket;constructor(t,n){super(t,n),this._bucket=hd({hashFn:$A,bits:8})}put(t,n){var i=this;return(0,Xe.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,yield i._bucket.put(t,n)})()}get(t){var n=this;return(0,Xe.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return Qo(function*(){var u,n=!1,i=!1;try{for(var l,h=Vo(t._bucket.eachLeafSeries());n=!(l=yield yi(h.next())).done;n=!1){const{key:f,value:X}=l.value;yield{key:f,child:X}}}catch(f){i=!0,u=f}finally{try{n&&null!=h.return&&(yield yi(h.return()))}finally{if(i)throw u}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=Jg(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return Qo(function*(){var h,i=!1,u=!1;try{for(var f,l=Vo(E2(n._bucket,t,n,n.options));i=!(f=yield yi(l.next())).done;i=!1)yield{...f.value,path:n.path}}catch(X){u=!0,h=X}finally{try{i&&null!=l.return&&(yield yi(l.return()))}finally{if(u)throw h}}})()}};function E2(r,t,n,i){return x2.apply(this,arguments)}function x2(){return(x2=Qo(function*(r,t,n,i){const u=r._children,h=[];let l=0n;for(let ln=0;ln<u.length;ln++){const Ht=u.get(ln);if(null==Ht)continue;const An=ln.toString(16).toUpperCase().padStart(2,"0");if(Ht instanceof wl){let Jn;var W,f=!1,X=!1;try{for(var re,k=Vo(E2(Ht,t,null,i));f=!(re=yield yi(k.next())).done;f=!1)Jn=re.value}catch(qn){X=!0,W=qn}finally{try{f&&null!=k.return&&(yield yi(k.return()))}finally{if(X)throw W}}if(null==Jn)throw new Error("Could not flush sharded directory, no subshard found");h.push({Name:An,Tsize:Number(Jn.size),Hash:Jn.cid}),l+=Jn.size}else if(l5(Ht.value)){const Jn=Ht.value;let qn;var Ke,Oe=!1,je=!1;try{for(var wt,nt=Vo(Jn.flush(t));Oe=!(wt=yield yi(nt.next())).done;Oe=!1)qn=wt.value,yield qn}catch(Vn){je=!0,Ke=Vn}finally{try{Oe&&null!=nt.return&&(yield yi(nt.return()))}finally{if(je)throw Ke}}if(null==qn)throw new Error("Did not flush dir");h.push({Name:An+Ht.key,Tsize:Number(qn.size),Hash:qn.cid}),l+=qn.size}else{const Jn=Ht.value;if(null==Jn.cid)continue;const ar=Jn.size;h.push({Name:An+Ht.key,Tsize:Number(ar),Hash:Jn.cid}),l+=BigInt(ar??0)}}const Ot=Uint8Array.from(u.bitField().reverse()),Et=new ud({type:"hamt-sharded-directory",data:Ot,fanout:BigInt(r.tableSize()),hashType:_2,mtime:n?.mtime,mode:n?.mode}),Nt=Jh(Gh({Data:Et.marshal(),Links:h})),Yt=yield yi(rm(Nt,t,i)),Qt=BigInt(Nt.byteLength)+l;yield{cid:Yt,unixfs:Et,size:Qt}})).apply(this,arguments)}function l5(r){return"function"==typeof r.flush}function Jg(r,t,n){const i=r._children,u=[];for(let X=0;X<i.length;X++){const W=i.get(X);if(null==W)continue;const k=X.toString(16).toUpperCase().padStart(2,"0");if(W instanceof wl){const re=Jg(W,null,n);u.push({Name:k,Tsize:Number(re),Hash:0===n.cidVersion?Qh:Mw})}else if("function"==typeof W.value.flush){const Oe=W.value.nodeSize();u.push({Name:k+W.key,Tsize:Number(Oe),Hash:0===n.cidVersion?Qh:Mw})}else{const re=W.value;if(null==re.cid)continue;u.push({Name:k+W.key,Tsize:Number(re.size),Hash:re.cid})}}const h=Uint8Array.from(i.bitField().reverse());return Jh(Gh({Data:new ud({type:"hamt-sharded-directory",data:h,fanout:BigInt(r.tableSize()),hashType:_2,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:u})).length}function Hw(r,t,n,i){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,Xe.A)(function*(r,t,n,i){let u=t;t instanceof Sw&&t.estimateNodeSize()>n&&(u=yield function Ww(r,t){return Gw.apply(this,arguments)}(t,i));const h=u.parent;if(null!=h){if(u!==t){if(null!=r&&(r.parent=u),null==u.parentKey)throw new Error("No parent key found");yield h.put(u.parentKey,u)}return Hw(u,h,n,i)}return u}),Sf.apply(this,arguments)}function Gw(){return(Gw=(0,Xe.A)(function*(r,t){const n=new d5({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var h,i=!1,u=!1;try{for(var f,l=Vo(r.eachChildSeries());i=!(f=yield l.next()).done;i=!1){const{key:X,child:W}=f.value;yield n.put(X,W)}}catch(X){u=!0,h=X}finally{try{i&&null!=l.return&&(yield l.return())}finally{if(u)throw h}}return n})).apply(this,arguments)}const Xg=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function u5(r,t,n){return M2.apply(this,arguments)}function M2(){return(M2=(0,Xe.A)(function*(r,t,n){const i=Xg(r.path??""),u=i.length-1;let h=t,l="";for(let f=0;f<i.length;f++){const X=i[f];l+=`${""!==l?"/":""}${X}`;const W=f===u;if(h.dirty=!0,h.cid=void 0,h.size=void 0,W)yield h.put(X,r),t=yield Hw(null,h,n.shardSplitThresholdBytes,n);else{let k=yield h.get(X);(null==k||!(k instanceof Ey))&&(k=new Sw({root:!1,dir:!0,parent:h,parentKey:X,path:l,dirty:!0,flat:!0,mtime:k?.unixfs?.mtime,mode:k?.unixfs?.mode},n)),yield h.put(X,k),h=k}}return t})).apply(this,arguments)}function Jw(r,t){return Xw.apply(this,arguments)}function Xw(){return(Xw=Qo(function*(r,t){r instanceof Ey?yield*Nu(Vo(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)})).apply(this,arguments)}function lh(r,t){return zA.apply(this,arguments)}function zA(){return zA=Qo(function*(r,t,n={}){let i;i=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const u=n.wrapWithDirectory??!1,h=n.shardSplitThresholdBytes??262144,l=n.cidVersion??1,f=n.rawLeaves??!0,X=n.leafType??"file",W=n.fileImportConcurrency??50,k=n.blockWriteConcurrency??10,re=n.reduceSingleLeafToSelf??!0,Oe=n.chunker??Rk(),je=n.chunkValidator??jT(),Ke=n.dagBuilder??function xw(r){return function(){var t=Qo(function*(i,u){var f,h=!1,l=!1;try{for(var W,X=Vo(i);h=!(W=yield yi(X.next())).done;h=!1){const k=W.value;{let re;if(null!=k.path&&(re=k.path,k.path=k.path.split("/").filter(Oe=>null!=Oe&&"."!==Oe).join("/")),$3(k)){const Oe={path:k.path,mtime:k.mtime,mode:k.mode,content:Qo(function*(){let je=0n;var wt,Ke=!1,nt=!1;try{for(var Et,Ot=Vo(r.chunker(r.chunkValidator(GE(k.content))));Ke=!(Et=yield yi(Ot.next())).done;Ke=!1){const St=Et.value;{const Nt=BigInt(St.byteLength);je+=Nt,r.onProgress?.(new ru("unixfs:importer:progress:file:read",{bytesRead:je,chunkSize:Nt,path:k.path})),yield St}}}catch(St){nt=!0,wt=St}finally{try{Ke&&null!=Ot.return&&(yield yi(Ot.return()))}finally{if(nt)throw wt}}})(),originalPath:re};yield(0,Xe.A)(function*(){return WE(Oe,u,r)})}else{if(null==k.path)throw new Error("Import candidate must have content or path or both");{const Oe={path:k.path,mtime:k.mtime,mode:k.mode,originalPath:re};yield(0,Xe.A)(function*(){return HE(Oe,u,r)})}}}}}catch(k){l=!0,f=k}finally{try{h&&null!=X.return&&(yield yi(X.return()))}finally{if(l)throw f}}});return function n(i,u){return t.apply(this,arguments)}}()}({chunker:Oe,chunkValidator:je,wrapWithDirectory:u,layout:n.layout??z3(),bufferImporter:n.bufferImporter??UT({cidVersion:l,rawLeaves:f,leafType:X,onProgress:n.onProgress}),blockWriteConcurrency:k,reduceSingleLeafToSelf:re,cidVersion:l,onProgress:n.onProgress}),nt=n.treeBuilder??function ip(r){return function(){var t=Qo(function*(i,u){let l,h=new Sw({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),f=!1;var k,X=!1,W=!1;try{for(var Oe,re=Vo(i);X=!(Oe=yield yi(re.next())).done;X=!1){const Et=Oe.value;{if(null==Et)continue;const St=`${Et.originalPath??""}`.split("/")[0];null!=St&&""!==St&&(null==l?(l=St,f=!0):l!==St&&(f=!1)),h=yield yi(u5(Et,h,r)),(null==Et.unixfs||!Et.unixfs.isDirectory())&&(yield Et)}}}catch(Et){W=!0,k=Et}finally{try{X&&null!=re.return&&(yield yi(re.return()))}finally{if(W)throw k}}if(r.wrapWithDirectory||f&&h.childCount()>1)yield*Nu(Vo(Jw(h,u)));else{var nt,je=!1,Ke=!1;try{for(var Ot,wt=Vo(h.eachChildSeries());je=!(Ot=yield yi(wt.next())).done;je=!1){const Et=Ot.value;null!=Et&&(yield*Nu(Vo(Jw(Et.child,u))))}}catch(Et){Ke=!0,nt=Et}finally{try{je&&null!=wt.return&&(yield yi(wt.return()))}finally{if(Ke)throw nt}}}});return function n(i,u){return t.apply(this,arguments)}}()}({wrapWithDirectory:u,shardSplitThresholdBytes:h,cidVersion:l,onProgress:n.onProgress});var Et,wt=!1,Ot=!1;try{for(var Nt,St=Vo(nt(Rb(Ke(i,t),W),t));wt=!(Nt=yield yi(St.next())).done;wt=!1){const Yt=Nt.value;yield{cid:Yt.cid,path:Yt.path,unixfs:Yt.unixfs,size:Yt.size}}}catch(Yt){Ot=!0,Et=Yt}finally{try{wt&&null!=St.return&&(yield yi(St.return()))}finally{if(Ot)throw Et}}}),zA.apply(this,arguments)}var D2=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},HA=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}};const WA={[K.code]:K},GA={[kb]:q};class pd{static computeCid(t,n=kb,i=K.code){return D2(this,void 0,void 0,function*(){const u=GA[n];if(!u)throw new ne(ue.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const h=WA[i];if(!h)throw new ne(ue.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);const l=u.encode(t),f=yield h.digest(l);return(yield ol.TO.createV1(u.code,f)).toString()})}static parseCid(t){const n=ol.TO.parse(t).toV1();if(!GA[n.code])throw new ne(ue.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!WA[n.multihash.code])throw new ne(ue.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,i,u;return D2(this,void 0,void 0,function*(){const l=lh([{content:t}],new xS,{cidVersion:1});let f;try{for(var k,X=!0,W=HA(l);k=yield W.next(),!(n=k.done);X=!0)X=!1,f=k.value}catch(re){i={error:re}}finally{try{!X&&!n&&(u=W.return)&&(yield u.call(W))}finally{if(i)throw i.error}}return f?f.cid.toString():""})}static computeDagPbCidFromStream(t){var n,i,u;return D2(this,void 0,void 0,function*(){const l=lh([{content:t}],new xS,{cidVersion:1});let f;try{for(var k,X=!0,W=HA(l);k=yield W.next(),!(n=k.done);X=!0)X=!1,f=k.value}catch(re){i={error:re}}finally{try{!X&&!n&&(u=W.return)&&(yield u.call(W))}finally{if(i)throw i.error}}return f?f.cid.toString():""})}}var Zg=_(91426),qg=_(63397),Qg=_(65797),ev=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};qg.VV.isEphemeralKeyCompressed=!0;class Py{static aes256CtrEncrypt(t,n,i){return ev(this,void 0,void 0,function*(){const u=Zg.createCipheriv("aes-256-ctr",t,n),h=new Qg.Readable({read(){}});return i.on("data",l=>{const f=u.update(l);h.push(f)}),i.on("end",()=>{const l=u.final();h.push(l),h.push(null)}),i.on("error",l=>{h.emit("error",l)}),h})}static aes256CtrDecrypt(t,n,i){return ev(this,void 0,void 0,function*(){const u=Zg.createDecipheriv("aes-256-ctr",t,n),h=new Qg.Readable({read(){}});return i.on("data",l=>{const f=u.update(l);h.push(f)}),i.on("end",()=>{const l=u.final();h.push(l),h.push(null)}),i.on("error",l=>{h.emit("error",l)}),h})}static eciesSecp256k1Encrypt(t,n){return ev(this,void 0,void 0,function*(){const i=Buffer.from(t),u=Buffer.from(n),h=qg.w(i,u);let l=0,f=Py.isEphemeralKeyCompressed?33:65;const X=h.subarray(l,f);l=f,f+=qg.VV.symmetricNonceLength;const W=h.subarray(l,f);l=f,f+=16;const k=h.subarray(l,f);return{ciphertext:h.subarray(f),ephemeralPublicKey:X,initializationVector:W,messageAuthenticationCode:k}})}static eciesSecp256k1Decrypt(t){return ev(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),i=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return qg.Yc(n,i)})}static get isEphemeralKeyCompressed(){return qg.VV.isEphemeralKeyCompressed}}var tv=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(tv||{}),I2=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class nv{constructor(t){this.jws=t}static create(t,n=[]){return I2(this,void 0,void 0,function*(){const i={payload:me.bytesToBase64Url(t),signatures:[]},u=new nv(i);for(const h of n)yield u.addSignature(h);return u})}addSignature(t){return I2(this,void 0,void 0,function*(){const i=JSON.stringify({kid:t.keyId,alg:t.algorithm}),u=me.stringToBase64Url(i),l=me.stringToBytes(`${u}.${this.jws.payload}`),f=yield t.sign(l),X=me.bytesToBase64Url(f);this.jws.signatures.push({protected:u,signature:X})})}getJws(){return this.jws}}const op="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var rv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},ou=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(ou||{});class Oy{static derivePrivateKey(t,n){var i;return rv(this,void 0,void 0,function*(){const u=pe.privateJwkToBytes(t.derivedPrivateKey),h=null!==(i=t.derivationPath)&&void 0!==i?i:[],l=yield Oy.derivePrivateKeyBytes(u,n),f=yield pe.privateKeyToJwk(l);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...h,...n],derivedPrivateKey:f}})}static derivePublicKey(t,n){return rv(this,void 0,void 0,function*(){const i=yield Oy.derivePrivateKey(t,n);return yield pe.getPublicJwk(i.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return rv(this,void 0,void 0,function*(){Oy.validateKeyDerivationPath(n);let i=t;for(const u of n){const h=me.stringToBytes(u);i=yield Oy.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:i,info:h,keyLengthInBytes:32})}return i})}static deriveKeyUsingHkdf(t){return rv(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:i,info:u,keyLengthInBytes:h}=t,f=yield function XA(){if(op&&"object"==typeof op.subtle&&null!=op.subtle)return op.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",i,{name:"HKDF"},!1,["deriveBits"]),X=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:u},f,8*h);return new Uint8Array(X)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new ne(ue.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function C2(r,t){return r>t?1:r<t?-1:0}function Ry(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function cl(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&cl(r[t])})}var su=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Fr{static validateJsonSchema(t){rl(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:cr.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return su(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield pd.computeCid(n)})}static compareCid(t,n){return su(this,void 0,void 0,function*(){return C2(yield Fr.getCid(t),yield Fr.getCid(n))})}static createAuthorization(t){return su(this,void 0,void 0,function*(){const{descriptor:n,signer:i,delegatedGrant:u,permissionGrantId:h,protocolRole:l}=t;let f;void 0!==u&&(f=yield Fr.getCid(u));const W={signature:yield Fr.createSignature(n,i,{delegatedGrantId:f,permissionGrantId:h,protocolRole:l})};return void 0!==u&&(W.authorDelegatedGrant=u),W})}static createSignature(t,n,i){return su(this,void 0,void 0,function*(){const u=yield pd.computeCid(t),h=Object.assign({descriptorCid:u},i);cl(h);const l=me.objectToBytes(h);return(yield nv.create(l,[n])).getJws()})}static getNewestMessage(t){return su(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Fr.isNewer(i,n)))&&(n=i);return n})}static getOldestMessage(t){return su(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Fr.isOlder(i,n)))&&(n=i);return n})}static isNewer(t,n){return su(this,void 0,void 0,function*(){return(yield Fr.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return su(this,void 0,void 0,function*(){return(yield Fr.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return su(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:Fr.compareCid(t,n)})}static validateSignatureStructure(t,n,i="GenericSignaturePayload"){return su(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new ne(ue.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const u=cr.decodePlainObjectPayload(t);rl(i,u);const{descriptorCid:h}=u,l=yield pd.computeCid(n);if(h!==l)throw new ne(ue.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${h} does not match expected CID ${l}`);return u})}}class Lu{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new Lu(t)})}constructor(t){this.id=t.recordId,this.grantor=Fr.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const i=me.base64UrlToObject(t.encodedData);this.dateExpires=i.dateExpires,this.delegated=i.delegated,this.description=i.description,this.requestId=i.requestId,this.scope=i.scope,this.conditions=i.conditions}}var Ll=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(Ll||{});class Vd{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const i of n)if(this.matchFilter(t,i))return!0;return!1}static matchFilter(t,n){for(const i in n){const u=n[i],h=t[i];if(void 0===h||!(Array.isArray(h)?this.matchAnyIndexValue(u,h):this.matchIndexValue(u,h)))return!1}return!0}static matchAnyIndexValue(t,n){for(const i of n)if(this.matchIndexValue(t,i))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const i of t)if(n===i)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class P2{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:i,attester:u,parentId:h,recipient:l,contextId:f,protocolPath:W,schema:k,protocol:re}=t,Oe=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==i)return{recordId:i};if(void 0!==u)return{attester:u};if(void 0!==h)return{parentId:h};if(void 0!==l)return{recipient:l};if(void 0!==f)return{contextId:f};if(void 0!==W)return{protocolPath:W};if(void 0!==k)return{schema:k};if(void 0!==re)return{protocol:re};const Ke=Object.keys(Oe)[0],nt={};return nt[Ke]=t[Ke],nt}}var Gi=function(r){return r.Events="Events",r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}(Gi||{}),vi=function(r){return r.Configure="Configure",r.Create="Create",r.Get="Get",r.Grant="Grant",r.Query="Query",r.Read="Read",r.Request="Request",r.Revoke="Revoke",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(vi||{});function sp(r){let t;try{t=am(r)}catch{t=void 0}if(r!==t)throw new ne(ue.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function am(r){return YA(r)}function By(r){let t;try{t=Ny(r)}catch{t=void 0}if(r!==t)throw new ne(ue.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function Ny(r){return YA(r)}function YA(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function O2(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new ne(ue.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var qw=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class xo{static isRecordsWrite(t){return t.descriptor.interface===Gi.Records&&t.descriptor.method===vi.Write}static getAuthor(t){let n;return n=Fr.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,i){return qw(this,void 0,void 0,function*(){const{encryption:u}=t,h=u.keyEncryption.find(nt=>nt.rootKeyId===n.rootKeyId&&nt.derivationScheme===n.derivationScheme);if(void 0===h)throw new ne(ue.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const l=xo.constructKeyDerivationPath(h.derivationScheme,t),f=yield xo.derivePrivateKey(n,l),X=me.base64UrlToBytes(h.encryptedKey),W=pe.publicJwkToBytes(h.ephemeralPublicKey),k=me.base64UrlToBytes(h.initializationVector),re=me.base64UrlToBytes(h.messageAuthenticationCode),Oe=yield Py.eciesSecp256k1Decrypt({ciphertext:X,ephemeralPublicKey:W,initializationVector:k,messageAuthenticationCode:re,privateKey:f}),je=me.base64UrlToBytes(u.initializationVector);return yield Py.aes256CtrDecrypt(Oe,je,i)})}static constructKeyDerivationPath(t,n){const i=n.descriptor,u=n.contextId;let h;return h=t===ou.DataFormats?xo.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):t===ou.ProtocolPath?xo.constructKeyDerivationPathUsingProtocolPathScheme(i):t===ou.ProtocolContext?xo.constructKeyDerivationPathUsingProtocolContextScheme(u):xo.constructKeyDerivationPathUsingSchemasScheme(i.schema),h}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[ou.DataFormats,t,n]:[ou.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new ne(ue.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[ou.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new ne(ue.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[ou.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new ne(ue.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[ou.Schemas,t]}static derivePrivateKey(t,n){var i;return qw(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new ne(ue.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const u=null!==(i=t.derivationPath)&&void 0!==i?i:[];xo.validateAncestorKeyAndDescentKeyDerivationPathsMatch(u,n);const h=n.slice(u.length),l=pe.privateJwkToBytes(t.derivedPrivateKey);return yield Oy.derivePrivateKeyBytes(l,h)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let i=0;i<t.length;i++){const u=t[i],h=n[i];if(u!==h)throw new ne(ue.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${u}' mismatches against the descendant key derivation segment '${h}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,i;n=void 0===t.protocol?void 0:am(t.protocol),i=void 0===t.schema?void 0:Ny(t.schema);const u=Object.assign(Object.assign({},t),{protocol:n,schema:i});return cl(u),u}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const i in t)n[`tag.${i}`]=t[i];return n}static convertTagsFilter(t){const n={};for(const i in t){const u=t[i];n[`tag.${i}`]=this.isStartsWithFilter(u)?Vd.constructPrefixFilterAsRangeFilter(u.startsWith):u}return n}static convertFilter(t,n){const{tags:i}=t,u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["tags"]);let h={};void 0!==i&&(h=Object.assign({},this.convertTagsFilter(i)));const l=Object.assign(Object.assign({},u),h),{dateCreated:f,datePublished:X,dateUpdated:W,contextId:k}=t,re=f?Vd.convertRangeCriterion(f):void 0;re&&(l.dateCreated=re);const Oe=X?Vd.convertRangeCriterion(X):void 0;Oe&&(l.published=!0,l.datePublished=Oe),!0!==l.published&&(n===Ll.PublishedAscending||n===Ll.PublishedDescending)&&(l.published=!0);const je=W?Vd.convertRangeCriterion(W):void 0;je&&(l.messageTimestamp=je,delete l.dateUpdated);const Ke=k?Vd.constructPrefixFilterAsRangeFilter(k):void 0;return Ke&&(l.contextId=Ke),l}static validateDelegatedGrantReferentialIntegrity(t,n,i){var u,h;return qw(this,void 0,void 0,function*(){const l=void 0!==n?.delegatedGrantId,f=void 0!==(null===(u=t.authorization)||void 0===u?void 0:u.authorDelegatedGrant);if(l!==f)throw new ne(ue.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${l},          authorDelegatedGrant defined: ${f}`);if(f){const k=t.authorization.authorDelegatedGrant;if(!0!==(yield Lu.parse(k)).delegated)throw new ne(ue.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Oe=k.descriptor.recipient,je=Fr.getSigner(t);if(Oe!==je)throw new ne(ue.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Oe} in author delegated grant must be the same as the signer ${je} of the message signature.`);const Ke=yield Fr.getCid(k);if(Ke!==n.delegatedGrantId)throw new ne(ue.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Ke} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const X=void 0!==i?.delegatedGrantId,W=void 0!==(null===(h=t.authorization)||void 0===h?void 0:h.ownerDelegatedGrant);if(X!==W)throw new ne(ue.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${X},          ownerDelegatedGrant defined: ${W}`);if(W){const k=t.authorization.ownerDelegatedGrant;if(!0!==(yield Lu.parse(k)).delegated)throw new ne(ue.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Oe=k.descriptor.recipient,je=cr.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(Oe!==je)throw new ne(ue.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Oe} in owner delegated grant must be the same as the signer ${je} of the owner signature.`);const Ke=yield Fr.getCid(k);if(Ke!==i.delegatedGrantId)throw new ne(ue.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Ke} must be the same as           the delegatedGrantId ${i.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var ZA=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Tf{static performBaseValidation(t){return ZA(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:h,messageStore:l}=t,f=n.descriptor;Tf.verifyExpectedGrantorAndGrantee(i,u,h);const X=i;yield Tf.verifyGrantActive(X,f.messageTimestamp,h,l),yield Tf.verifyGrantScopeInterfaceAndMethod(f.interface,f.method,h)})}static verifyExpectedGrantorAndGrantee(t,n,i){const u=i.grantee;if(n!==u)throw new ne(ue.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${u}, but need to be granted to ${n}`);const h=i.grantor;if(t!==h)throw new ne(ue.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${h}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,i,u){return ZA(this,void 0,void 0,function*(){if(n<i.dateGranted)throw new ne(ue.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=i.dateExpires)throw new ne(ue.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const h={parentId:i.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:l}=yield u.query(t,[h]),f=yield Fr.getOldestMessage(l);if(void 0!==f&&f.descriptor.messageTimestamp<=n)throw new ne(ue.GrantAuthorizationGrantRevoked,`Permission grant with CID ${i.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,i){return ZA(this,void 0,void 0,function*(){if(t!==i.scope.interface)throw new ne(ue.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${i.id}`);if(n!==i.scope.method)throw new ne(ue.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${i.id}`)})}}var Qw=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(Qw||{}),iv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class md{static authorizeWrite(t){return iv(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:h,messageStore:l}=t;yield Tf.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:h,messageStore:l}),md.verifyScope(n,h.scope),md.verifyConditions(n,h.conditions)})}static authorizeRead(t){return iv(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:i,expectedGrantor:u,expectedGrantee:h,permissionGrant:l,messageStore:f}=t;yield Tf.performBaseValidation({incomingMessage:n,expectedGrantor:u,expectedGrantee:h,permissionGrant:l,messageStore:f}),md.verifyScope(i,l.scope)})}static authorizeQueryOrSubscribe(t){return iv(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:h,messageStore:l}=t;yield Tf.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:h,messageStore:l});const X=h.scope.protocol,W=n.descriptor.filter.protocol;if(void 0!==X&&W!==X)throw new ne(ue.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${X} does not match protocol in message ${W}`)})}static authorizeDelete(t){return iv(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:i,expectedGrantor:u,expectedGrantee:h,permissionGrant:l,messageStore:f}=t;yield Tf.performBaseValidation({incomingMessage:n,expectedGrantor:u,expectedGrantee:h,permissionGrant:l,messageStore:f});const W=l.scope.protocol,k=i.descriptor.protocol;if(void 0!==W&&k!==W)throw new ne(ue.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${W} does not match protocol in record to delete ${k}`)})}static verifyScope(t,n){md.isUnrestrictedScope(n)||(void 0!==t.descriptor.protocol?md.verifyProtocolRecordScope(t,n):md.verifyFlatRecordScope(t,n))}static verifyProtocolRecordScope(t,n){if(void 0===n.protocol)throw new ne(ue.RecordsGrantAuthorizationScopeMissingProtocol,"Grant for protocol record must specify protocol in its scope");if(n.protocol!==t.descriptor.protocol)throw new ne(ue.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new ne(ue.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new ne(ue.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyFlatRecordScope(t,n){if(void 0!==n.schema&&n.schema!==t.descriptor.schema)throw new ne(ue.RecordsGrantAuthorizationScopeSchema,`Record does not have schema in permission grant scope with schema '${n.schema}'`)}static verifyConditions(t,n){if(n?.publication===Qw.Required&&!t.descriptor.published)throw new ne(ue.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===Qw.Prohibited&&t.descriptor.published)throw new ne(ue.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}static isUnrestrictedScope(t){return void 0===t.protocol&&void 0===t.schema}}var Bt=_(89994);const e_={};function Ku(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r,n,i))}for(const n of Object.getOwnPropertyNames(r.prototype)){const i=Object.getOwnPropertyDescriptor(r.prototype,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r.prototype,n,i))}js(t,r),js(`${t}.prototype`,r.prototype)}function js(r,t){const n=`%${r}%`;if(void 0!==e_[n])throw new Error(`intrinsic ${r} already exists`);e_[n]=t}function kr(r){return e_[r]}var B2,qA;const _i="slot-epochNanoSeconds",uh="slot-timezone-identifier",Yr="slot-year",ei="slot-month",ii="slot-day",so="slot-hour",Xi="slot-minute",Yi="slot-second",Zi="slot-millisecond",to="slot-microsecond",no="slot-nanosecond",tr="slot-calendar",m5="slot-date-brand",y5="slot-year-month-brand",g5="slot-month-day-brand",yd="slot-cached-instant",us="slot-time-zone",gd="slot-years",xa="slot-months",Mc="slot-weeks",vd="slot-days",zd="slot-hours",jc="slot-minutes",bd="slot-seconds",Hd="slot-milliseconds",wd="slot-microseconds",_d="slot-nanoseconds",Xs="slot-calendar-identifier",ov=new WeakMap,t_=Symbol.for("@@Temporal__GetSlots");(B2=globalThis)[t_]||(B2[t_]=function(t){return ov.get(t)});const N2=globalThis[t_],n_=Symbol.for("@@Temporal__CreateSlots");(qA=globalThis)[n_]||(qA[n_]=function(t){ov.set(t,Object.create(null))});const fh=globalThis[n_];function ec(r,...t){if(!r||"object"!=typeof r)return!1;const n=N2(r);return!!n&&t.every(i=>i in n)}function $e(r,t){const n=N2(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function fo(r,t,n){const i=N2(r);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=n}const U2=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,cm=new RegExp("(?:"+[`(?:${U2.source})(?:\\/(?:${U2.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),QA=/(?:[+\u2212-]\d{6}|\d{4})/,r_=/(?:0[1-9]|1[0-2])/,Uy=/(?:0[1-9]|[12]\d|3[01])/,v5=new RegExp(`(${QA.source})(?:-(${r_.source})-(${Uy.source})|(${r_.source})(${Uy.source}))`),eD=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,tD=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,nD=new RegExp(`([zZ])|${tD.source}?`),ap=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,b5=new RegExp([`^${v5.source}`,`(?:(?:T|\\s+)${eD.source}(?:${nD.source})?)?`,`(?:\\[!?(${cm.source})\\])?`,`((?:${ap.source})*)$`].join(""),"i"),w5=new RegExp([`^T?${eD.source}`,`(?:${nD.source})?`,`(?:\\[!?${cm.source}\\])?`,`((?:${ap.source})*)$`].join(""),"i"),rD=new RegExp(`^(${QA.source})-?(${r_.source})(?:\\[!?${cm.source}\\])?((?:${ap.source})*)$`),iD=new RegExp(`^(?:--)?(${r_.source})-?(${Uy.source})(?:\\[!?${cm.source}\\])?((?:${ap.source})*)$`),L2=/(\d+)(?:[.,](\d{1,9}))?/,nR=new RegExp(`(?:${L2.source}H)?(?:${L2.source}M)?(?:${L2.source}S)?`),oD=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${nR.source})?$`,"i"),sD=Array.prototype.includes,cp=Array.prototype.push,K2=globalThis.Intl.DateTimeFormat,_5=Math.min,rR=Math.max,Es=Math.abs,Ed=Math.floor,Ly=Math.sign,dp=Math.trunc,Ky=Number.isNaN,xd=Number.isFinite,iR=Number,lp=String,E5=Number.MAX_SAFE_INTEGER,$c=Object.create,F2=Object.getOwnPropertyDescriptor,i_=Reflect.apply,Af=Reflect.ownKeys,As=Bt.BigInt(0),ua=Bt.BigInt(1),Wd=Bt.BigInt(60),sv=Bt.BigInt(24),ao=Bt.BigInt(1e3),Cc=Bt.BigInt(1e6),Df=Bt.BigInt(1e9),av=Bt.BigInt(-1),o_=Bt.multiply(Bt.BigInt(3600),Df),j2=Bt.multiply(Wd,Df),Fu=Bt.multiply(o_,sv),cv=Bt.multiply(Bt.BigInt(-86400),Bt.BigInt(1e17)),Fy=Bt.multiply(Bt.BigInt(86400),Bt.BigInt(1e17)),Oa=-271821,dv=275760,jy=Bt.multiply(Bt.BigInt(-388152),Bt.BigInt(1e13)),uc=Bt.multiply(Fu,Bt.BigInt(3660)),$y=Bt.multiply(Fu,Bt.BigInt(366)),dm=Bt.multiply(Fu,Bt.BigInt(14)),s_=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function Md(r){return Bt.equal(r,As)}function Fo(r,t){const n=r[t];if(void 0!==n)return n}function fi(r,t,n){return i_(r,t,arguments.length>2?n:[])}function Ds(r){return"object"==typeof r&&null!==r||"function"==typeof r}function lm(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return iR(r)}function fa(r){const t=lm(r);if(Ky(t)||0===t)return 0;if(!xd(t))return t;const n=Ed(Es(t));return 0===n?0:Ly(t)*n}function Gd(r){if("number"!=typeof r||Ky(r)||!xd(r))return!1;const t=Es(r);return Ed(t)===t}function Vc(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return lp(r)}function ko(r){const t=lm(r);if(0===t)return 0;if(Ky(t)||!xd(t))throw new RangeError("invalid number value");const n=dp(t);return 0===n?0:n}function up(r,t){const n=ko(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function fc(r){const t=lm(r);if(!xd(t))throw new RangeError("infinity is out of range");if(!Gd(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function es(r,t){return{quotient:Bt.divide(r,t),remainder:Bt.remainder(r,t)}}function a_(r){return Bt.lessThan(r,As)}function aD(r){return Md(r)?0:a_(r)?-1:1}function Kl(r){return Bt.lessThan(r,As)?Bt.multiply(r,av):r}const $2=new Map([["year",ko],["month",up],["monthCode",Vc],["day",up],["hour",ko],["minute",ko],["second",ko],["millisecond",ko],["microsecond",ko],["nanosecond",ko],["years",fc],["months",fc],["weeks",fc],["days",fc],["hours",fc],["minutes",fc],["seconds",fc],["milliseconds",fc],["microseconds",fc],["nanoseconds",fc],["era",Vc],["eraYear",fa],["offset",Vc]]),cD=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),lv=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],V2=new Map(lv.map(r=>[r[0],r[1]])),x5=new Map(lv.map(([r,t])=>[t,r])),uv=lv.map(([,r])=>r),c_=Array.from(V2.keys()).sort(),d_=new Map;function um(r){let t=d_.get(r);return void 0===t&&(t=new K2("en-us",{timeZone:lp(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),d_.set(r,t)),t}function z2(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function fm(r,t,n,i){if(null==t)return;const u=Af(t);for(const h of u)if(!n.some(l=>Object.is(l,h))&&Object.prototype.propertyIsEnumerable.call(t,h)){const l=t[h];if(i&&i.some(f=>Object.is(f,l)))continue;r[h]=l}}function Ys(r){return ec(r,_i)&&!ec(r,us,tr)}function dl(r){return ec(r,uh)}function $s(r){return ec(r,Xs)}function Zs(r){return ec(r,gd,xa,vd,zd,jc,bd,Hd,wd,_d)}function Mo(r){return ec(r,m5)}function qs(r){return ec(r,so,Xi,Yi,Zi,to,no)&&!ec(r,Yr,ei,ii)}function qi(r){return ec(r,Yr,ei,ii,so,Xi,Yi,Zi,to,no)}function Go(r){return ec(r,y5)}function ha(r){return ec(r,g5)}function di(r){return ec(r,_i,us,tr)}function Vy(r){if(ec(r,tr)||ec(r,us))throw new TypeError("with() does not support a calendar or timeZone property");if(qs(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function H2(r,t){return"never"===t?"":l_(zc(r),t)}function l_(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function ju(r){const t=b5.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const i=fa(n),u=fa(t[2]||t[4]),h=fa(t[3]||t[5]),l=fa(t[6]),f=void 0!==t[6],X=fa(t[7]||t[10]);let W=fa(t[8]||t[11]);60===W&&(W=59);const k=(t[9]||t[12])+"000000000",re=fa(k.slice(0,3)),Oe=fa(k.slice(3,6)),je=fa(k.slice(6,9));let Ke,nt=!1;if(t[13])Ke=void 0,nt=!0;else if(t[14]&&t[15]){const Qt=t[17]||"00";let ln=t[18]||"0";if(Ke=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+ln){for(;ln.endsWith("0");)ln=ln.slice(0,-1);Ke+=`:${Qt}.${ln}`}else+Qt&&(Ke+=`:${Qt}`);"-00:00"===Ke&&(Ke="+00:00")}const wt=t[19],Ot=t[20];let Et;for(const[,St,Nt,Yt]of Ot.matchAll(ap))if("u-ca"===Nt)void 0===Et&&(Et=Yt);else if("!"===St)throw new RangeError(`Unrecognized annotation: !${Nt}=${Yt}`);return A_(i,u,h,l,X,W,re,Oe,je),{year:i,month:u,day:h,hasTime:f,hour:l,minute:X,second:W,millisecond:re,microsecond:Oe,nanosecond:je,ianaName:wt,offset:Ke,z:nt,calendar:Et}}function W2(r){const t=rD.exec(r);let n,i,u,h;if(t){let l=t[1];if("\u2212"===l[0]&&(l=`-${l.slice(1)}`),"-000000"===l)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=fa(l),i=fa(t[2]);const f=t[3];for(const[,X,W,k]of f.matchAll(ap))if("u-ca"===W)void 0===u&&(u=k);else if("!"===X)throw new RangeError(`Unrecognized annotation: !${W}=${k}`);if(void 0!==u&&"iso8601"!==u)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let l;if(({year:n,month:i,calendar:u,day:h,z:l}=ju(r)),l)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:i,calendar:u,referenceISODay:h}}function dD(r){const t=iD.exec(r);let n,i,u,h;if(t){n=fa(t[1]),i=fa(t[2]);const l=t[3];for(const[,f,X,W]of l.matchAll(ap))if("u-ca"===X)void 0===u&&(u=W);else if("!"===f)throw new RangeError(`Unrecognized annotation: !${X}=${W}`);if(void 0!==u&&"iso8601"!==u)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let l;if(({month:n,day:i,calendar:u,year:h,z:l}=ju(r)),l)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:i,calendar:u,referenceISOYear:h}}function zy(r,t,n,i){let u=r,h=t,l=n;switch(i){case"reject":Wu(u,h,l);break;case"constrain":({year:u,month:h,day:l}=bD(u,h,l))}return{year:u,month:h,day:l}}function Hy(r,t,n,i,u,h,l){let f=r,X=t,W=n,k=i,re=u,Oe=h;switch(l){case"reject":Sv(f,X,W,k,re,Oe);break;case"constrain":({hour:f,minute:X,second:W,millisecond:k,microsecond:re,nanosecond:Oe}=(nt=X,wt=W,Ot=k,Et=re,St=Oe,{hour:xl(f,0,23),minute:xl(nt,0,59),second:xl(wt,0,59),millisecond:xl(Ot,0,999),microsecond:xl(Et,0,999),nanosecond:xl(St,0,999)}))}var nt,wt,Ot,Et,St;return{hour:f,minute:X,second:W,millisecond:k,microsecond:re,nanosecond:Oe}}function hm(r){if(!Ds(r))return function(Ke){const nt=oD.exec(Ke);if(!nt)throw new RangeError(`invalid duration: ${Ke}`);if(nt.slice(2).every(In=>void 0===In))throw new RangeError(`invalid duration: ${Ke}`);const wt="-"===nt[1]||"\u2212"===nt[1]?-1:1,Ot=void 0===nt[2]?0:ko(nt[2])*wt,Et=void 0===nt[3]?0:ko(nt[3])*wt,St=void 0===nt[4]?0:ko(nt[4])*wt,Nt=void 0===nt[5]?0:ko(nt[5])*wt,Yt=void 0===nt[6]?0:ko(nt[6])*wt,Qt=nt[7],ln=nt[8],Ht=nt[9],An=nt[10],Jn=nt[11];let qn=0,ar=0,Vn=0;if(void 0!==Qt){if(ln??Ht??An??Jn)throw new RangeError("only the smallest unit can be fractional");Vn=3600*fa((Qt+"000000000").slice(0,9))*wt}else if(qn=void 0===ln?0:ko(ln)*wt,void 0!==Ht){if(An??Jn)throw new RangeError("only the smallest unit can be fractional");Vn=60*fa((Ht+"000000000").slice(0,9))*wt}else ar=void 0===An?0:ko(An)*wt,void 0!==Jn&&(Vn=fa((Jn+"000000000").slice(0,9))*wt);const jn=Vn%1e3,Kn=dp(Vn/1e3)%1e3,Xn=dp(Vn/1e6)%1e3;return ar+=dp(Vn/1e9)%60,qn+=dp(Vn/6e10),Tv(Ot,Et,St,Nt,Yt,qn,ar,Xn,Kn,jn),{years:Ot,months:Et,weeks:St,days:Nt,hours:Yt,minutes:qn,seconds:ar,milliseconds:Xn,microseconds:Kn,nanoseconds:jn}}(Vc(r));if(Zs(r))return{years:$e(r,gd),months:$e(r,xa),weeks:$e(r,Mc),days:$e(r,vd),hours:$e(r,zd),minutes:$e(r,jc),seconds:$e(r,bd),milliseconds:$e(r,Hd),microseconds:$e(r,wd),nanoseconds:$e(r,_d)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Ke){if(!Ds(Ke))throw new TypeError("invalid duration-like");const nt={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let wt=!1;for(const Ot of c_){const Et=Ke[Ot];void 0!==Et&&(wt=!0,nt[Ot]=fc(Et))}if(!wt)throw new TypeError("invalid duration-like");return nt}(r);for(const je of c_){const Ke=n[je];void 0!==Ke&&(t[je]=Ke)}let{years:i,months:u,weeks:h,days:l,hours:f,minutes:X,seconds:W,milliseconds:k,microseconds:re,nanoseconds:Oe}=t;return Tv(i,u,h,l,f,X,W,k,re,Oe),{years:i,months:u,weeks:h,days:l,hours:f,minutes:X,seconds:W,milliseconds:k,microseconds:re,nanoseconds:Oe}}function Ra(r){return void 0===r?"constrain":pc(r,"overflow",["constrain","reject"],"constrain")}function Wy(r){return void 0===r?"compatible":pc(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function $u(r,t){return pc(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function u_(r,t){return void 0===r?t:pc(r,"offset",["prefer","use","ignore","reject"],t)}function fv(r){return pc(r,"calendarName",["auto","always","never","critical"],"auto")}function Gy(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=lm(t),!xd(t))throw new RangeError("roundingIncrement must be finite");const n=dp(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function Jy(r,t,n){const i=n?t:t-1;if(r>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function hv(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==Vc(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=Ed(t);if(!xd(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function pv(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const pm=Symbol("~required~");function ll(r,t,n,i,u=[]){const h=[];for(const[,W,k]of lv)"datetime"!==n&&n!==k||h.push(W);h.push(...u);let l=i;l===pm?l=void 0:void 0!==l&&h.push(l);const f=[...h];for(const W of h){const k=x5.get(W);void 0!==k&&f.push(k)}let X=pc(r,t,f,l);if(void 0===X&&i===pm)throw new RangeError(`${t} is required`);return V2.has(X)?V2.get(X):X}function f_(r){const t=r.relativeTo;if(void 0===t)return t;let n,i,u,h,l,f,X,W,k,re,Oe,je,Ke="option",nt=!1;if(Ds(t)){if(di(t)||Mo(t))return t;if(qi(t))return Mm(t);re=Em(t);const wt=Vs(re,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);wt.push("timeZone","offset");const Ot=po(t,wt,[]),Et=$c(null);Et.overflow="constrain",({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k}=au(re,Ot,Et)),je=Ot.offset,void 0===je&&(Ke="wall"),Oe=Ot.timeZone,void 0!==Oe&&(Oe=Hc(Oe))}else{let wt,Ot;if(({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k,calendar:re,ianaName:wt,offset:je,z:Ot}=ju(Vc(t))),wt)Oe=Hc(wt),Ot?Ke="exact":je||(Ke="wall"),nt=!0;else if(Ot)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(re||(re="iso8601"),!Nf(re))throw new RangeError(`invalid calendar identifier ${re}`);re=Xu(re)}return void 0===Oe?_l(n,i,u,re):Ba(fp(n,i,u,h,l,f,X,W,k,Ke,"option"===Ke?yh(je):0,Oe,"compatible","reject",nt),Oe,re)}function G2(r,t,n,i,u,h,l,f,X,W){for(const[k,re]of[["years",r],["months",t],["weeks",n],["days",i],["hours",u],["minutes",h],["seconds",l],["milliseconds",f],["microseconds",X],["nanoseconds",W]])if(0!==re)return V2.get(k);return"nanosecond"}function mm(r,t){return uv.indexOf(r)>uv.indexOf(t)?t:r}function po(r,t,n,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const u=$c(null);let h=!1;t.sort();for(const l of t){let f=r[l];if(void 0!==f)h=!0,$2.has(l)&&(f=$2.get(l)(f)),u[l]=f;else if("partial"!==n){if(sD.call(n,l))throw new TypeError(`required property '${l}' missing or undefined`);f=cD.get(l),u[l]=f}}if("partial"===n&&!h)throw new TypeError(i);return u}function mv(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],i=po(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),u={};for(const h of n){const l=F2(i,h);void 0!==l?u[h]=l.value:"complete"===t&&(u[h]=0)}return u}function os(r,t){let n=r;if(Ds(n)){if(Mo(n))return n;if(di(n)&&(Ra(t),n=El($e(n,us),$e(n,yd),$e(n,tr))),qi(n))return Ra(t),_l($e(n,Yr),$e(n,ei),$e(n,ii),$e(n,tr));const X=Em(n);return mh(X,po(n,Vs(X,["day","month","monthCode","year"]),[]),t)}Ra(t);let{year:i,month:u,day:h,calendar:l,z:f}=ju(Vc(n));if(f)throw new RangeError("Z designator not supported for PlainDate");if(l||(l="iso8601"),!Nf(l))throw new RangeError(`invalid calendar identifier ${l}`);return l=Xu(l),_l(i,u,h,l)}function au(r,t,n){let{hour:i,minute:u,second:h,millisecond:l,microsecond:f,nanosecond:X}=mv(t);const W=Ra(n),k=mh(r,t,n),re=$e(k,Yr),Oe=$e(k,ei),je=$e(k,ii);return({hour:i,minute:u,second:h,millisecond:l,microsecond:f,nanosecond:X}=Hy(i,u,h,l,f,X,W)),{year:re,month:Oe,day:je,hour:i,minute:u,second:h,millisecond:l,microsecond:f,nanosecond:X}}function hh(r,t){let n,i,u,h,l,f,X,W,k,re;if(Ds(r)){if(qi(r))return r;if(di(r))return Ra(t),El($e(r,us),$e(r,yd),$e(r,tr));if(Mo(r))return Ra(t),Sd($e(r,Yr),$e(r,ei),$e(r,ii),0,0,0,0,0,0,$e(r,tr));re=Em(r);const Oe=po(r,Vs(re,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k}=au(re,Oe,t))}else{let Oe;if(Ra(t),({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k,calendar:re,z:Oe}=ju(Vc(r))),Oe)throw new RangeError("Z designator not supported for PlainDateTime");if(A_(n,i,u,h,l,f,X,W,k),re||(re="iso8601"),!Nf(re))throw new RangeError(`invalid calendar identifier ${re}`);re=Xu(re)}return Sd(n,i,u,h,l,f,X,W,k,re)}function Xy(r){if(Zs(r))return r;let{years:t,months:n,weeks:i,days:u,hours:h,minutes:l,seconds:f,milliseconds:X,microseconds:W,nanoseconds:k}=hm(r);return new(kr("%Temporal.Duration%"))(t,n,i,u,h,l,f,X,W,k)}function cu(r){if(Ys(r))return r;if(di(r))return new(kr("%Temporal.Instant%"))($e(r,_i));const t=function S5(r){let{year:t,month:n,day:i,hour:u,minute:h,second:l,millisecond:f,microsecond:X,nanosecond:W,offset:k,z:re}=function(nt){const wt=ju(nt);if(!wt.z&&!wt.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return wt}(r);if(!re&&!k)throw new RangeError("Temporal.Instant requires a time zone offset");const Oe=re?0:yh(k);({year:t,month:n,day:i,hour:u,minute:h,second:l,millisecond:f,microsecond:X,nanosecond:W}=nx(t,n,i,u,h,l,f,X,W-Oe));const je=hp(t,n,i,u,h,l,f,X,W);if(null===je)throw new RangeError("DateTime outside of supported range");return je}(Vc(r));return new(kr("%Temporal.Instant%"))(t)}function lD(r,t){let n=r;if(Ds(n)){if(ha(n))return n;let f,X;if(ec(n,tr))f=$e(n,tr),X=!1;else{let k=n.calendar;X=void 0===k,void 0===k&&(k="iso8601"),f=ul(k)}const W=po(n,Vs(f,["day","month","monthCode","year"]),[]);return X&&void 0!==W.month&&void 0===W.monthCode&&void 0===W.year&&(W.year=1972),xm(f,W,t)}Ra(t);let{month:i,day:u,referenceISOYear:h,calendar:l}=dD(Vc(n));if(void 0===l&&(l="iso8601"),!Nf(l))throw new RangeError(`invalid calendar identifier ${l}`);return l=Xu(l),void 0===h?(Wu(1972,i,u),Cf(i,u,l)):xm(l,Cf(i,u,l,h))}function If(r,t="constrain"){let n,i,u,h,l,f,X=r;if(Ds(X)){if(qs(X))return X;if(di(X)&&(X=El($e(X,us),$e(X,yd),$e(X,tr))),qi(X))return new(kr("%Temporal.PlainTime%"))($e(X,so),$e(X,Xi),$e(X,Yi),$e(X,Zi),$e(X,to),$e(X,no));({hour:n,minute:i,second:u,millisecond:h,microsecond:l,nanosecond:f}=mv(X)),({hour:n,minute:i,second:u,millisecond:h,microsecond:l,nanosecond:f}=Hy(n,i,u,h,l,f,t))}else({hour:n,minute:i,second:u,millisecond:h,microsecond:l,nanosecond:f}=function(k){const re=w5.exec(k);let Oe,je,Ke,nt,wt,Ot,Et;if(re){Oe=fa(re[1]),je=fa(re[2]||re[5]),Ke=fa(re[3]||re[6]),60===Ke&&(Ke=59);const St=(re[4]||re[7])+"000000000";nt=fa(St.slice(0,3)),wt=fa(St.slice(3,6)),Ot=fa(St.slice(6,9)),Et=re[14];for(const[,Nt,Yt,Qt]of Et.matchAll(ap))if("u-ca"!==Yt&&"!"===Nt)throw new RangeError(`Unrecognized annotation: !${Yt}=${Qt}`);if(re[8])throw new RangeError("Z designator not supported for PlainTime")}else{let St,Nt;if(({hasTime:Nt,hour:Oe,minute:je,second:Ke,millisecond:nt,microsecond:wt,nanosecond:Ot,z:St}=ju(k)),!Nt)throw new RangeError(`time is missing in string: ${k}`);if(St)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(k))return{hour:Oe,minute:je,second:Ke,millisecond:nt,microsecond:wt,nanosecond:Ot};try{const{month:St,day:Nt}=dD(k);Wu(1972,St,Nt)}catch{try{const{year:St,month:Nt}=W2(k);Wu(St,Nt,1)}catch{return{hour:Oe,minute:je,second:Ke,millisecond:nt,microsecond:wt,nanosecond:Ot}}}throw new RangeError(`invalid ISO 8601 time-only string ${k}; may need a T prefix`)}(Vc(X))),Sv(n,i,u,h,l,f);return new(kr("%Temporal.PlainTime%"))(n,i,u,h,l,f)}function Yy(r,t){if(Ds(r)){if(Go(r))return r;const l=Em(r);return Ma(l,po(r,Vs(l,["month","monthCode","year"]),[]),t)}Ra(t);let{year:n,month:i,referenceISODay:u,calendar:h}=W2(Vc(r));if(void 0===h&&(h="iso8601"),!Nf(h))throw new RangeError(`invalid calendar identifier ${h}`);return h=Xu(h),void 0===u?(Wu(n,i,1),kf(n,i,h)):Ma(h,kf(n,i,h,u))}function fp(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je,Ke){const nt=new(kr("%Temporal.PlainDateTime%"))(r,t,n,i,u,h,l,f,X);if("wall"===W||"ignore"===je)return $e(Wc(re,nt,Oe),_i);if("exact"===W||"use"===je){const Ot=hp(r,t,n,i,u,h,l,f,X);if(null===Ot)throw new RangeError("ZonedDateTime outside of supported range");return Bt.subtract(Ot,Bt.BigInt(k))}const wt=xv(re,nt);for(const Ot of wt){const Et=Jd(re,Ot),St=Bt.toNumber(fl(Bt.BigInt(Et),j2,"halfExpand"));if(Et===k||Ke&&St===k)return $e(Ot,_i)}if("reject"===je){const Ot=w_(k),Et=dl(re)?$e(re,uh):"time zone";throw new RangeError(`Offset ${Ot} is invalid for ${nt.toString()} in ${Et}`)}return $e(fD(wt,re,nt,Oe),_i)}function ym(r,t){let n,i,u,h,l,f,X,W,k,re,Oe,je,Ke,nt,wt=!1,Ot="option";if(Ds(r)){if(di(r))return r;je=Em(r);const St=Vs(je,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);St.push("timeZone","offset");const Nt=po(r,St,["timeZone"]);re=Hc(Nt.timeZone),Oe=Nt.offset,void 0===Oe&&(Ot="wall"),Ke=Wy(t),nt=u_(t,"reject"),({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k}=au(je,Nt,t))}else{let St,Nt;if(({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k,ianaName:St,offset:Oe,z:Nt,calendar:je}=function(Qt){const ln=ju(Qt);if(!ln.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return ln}(Vc(r))),re=Hc(St),Nt?Ot="exact":Oe||(Ot="wall"),je||(je="iso8601"),!Nf(je))throw new RangeError(`invalid calendar identifier ${je}`);je=Xu(je),wt=!0,Ke=Wy(t),nt=u_(t,"reject"),Ra(t)}let Et=0;return"option"===Ot&&(Et=yh(Oe)),Ba(fp(n,i,u,h,l,f,X,W,k,Ot,Et,re,Ke,nt,wt),re,je)}function gm(r,t,n,i,u){Wu(t,n,i),ix(t,n,i),fh(r),fo(r,Yr,t),fo(r,ei,n),fo(r,ii,i),fo(r,tr,u),fo(r,m5,!0)}function _l(r,t,n,i="iso8601"){const u=kr("%Temporal.PlainDate%"),h=$c(u.prototype);return gm(h,r,t,n,i),h}function vm(r,t,n,i,u,h,l,f,X,W,k){A_(t,n,i,u,h,l,f,X,W),wD(t,n,i,u,h,l,f,X,W),fh(r),fo(r,Yr,t),fo(r,ei,n),fo(r,ii,i),fo(r,so,u),fo(r,Xi,h),fo(r,Yi,l),fo(r,Zi,f),fo(r,to,X),fo(r,no,W),fo(r,tr,k)}function Sd(r,t,n,i,u,h,l,f,X,W="iso8601"){const k=kr("%Temporal.PlainDateTime%"),re=$c(k.prototype);return vm(re,r,t,n,i,u,h,l,f,X,W),re}function bm(r,t,n,i,u){Wu(u,t,n),ix(u,t,n),fh(r),fo(r,ei,t),fo(r,ii,n),fo(r,Yr,u),fo(r,tr,i),fo(r,g5,!0)}function Cf(r,t,n="iso8601",i=1972){const u=kr("%Temporal.PlainMonthDay%"),h=$c(u.prototype);return bm(h,r,t,n,i),h}function wm(r,t,n,i,u){var l,f;Wu(t,n,u),f=n,hc(l=t,Oa,dv),l===Oa?hc(f,4,12):l===dv&&hc(f,1,9),fh(r),fo(r,Yr,t),fo(r,ei,n),fo(r,ii,u),fo(r,tr,i),fo(r,y5,!0)}function kf(r,t,n="iso8601",i=1){const u=kr("%Temporal.PlainYearMonth%"),h=$c(u.prototype);return wm(h,r,t,n,i),h}function _m(r,t,n,i){pp(t),fh(r),fo(r,_i,t),fo(r,us,n),fo(r,tr,i);const u=new(kr("%Temporal.Instant%"))($e(r,_i));fo(r,yd,u)}function Ba(r,t,n="iso8601"){const i=kr("%Temporal.ZonedDateTime%"),u=$c(i.prototype);return _m(u,r,t,n),u}function Vs(r,t){if("string"==typeof r){const u=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.fields%"),u,[t])}const n=fi(Fo(r,"fields"),r,[t]),i=[];for(const u of n){if("string"!=typeof u)throw new TypeError("bad return from calendar.fields()");cp.call(i,u)}return i}function du(r,t,n){if("string"==typeof r){const u=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.mergeFields%"),u,[t,n])}const i=fi(Fo(r,"mergeFields"),r,[t,n]);if(!Ds(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Na(r,t,n,i,u){let h=u;if("string"==typeof r){const f=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.dateAdd%"),f,[t,n,i])}void 0===h&&(h=Fo(r,"dateAdd"));const l=i_(h,r,[t,n,i]);if(!Mo(l))throw new TypeError("invalid result");return l}function ph(r,t,n,i,u){let h=u;if("string"==typeof r){const f=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.dateUntil%"),f,[t,n,i])}void 0===h&&(h=Fo(r,"dateUntil"));const l=i_(h,r,[t,n,i]);if(!Zs(l))throw new TypeError("invalid result");return l}function yv(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.year%"),i,[t])}let n=fi(Fo(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!Gd(n))throw new RangeError("calendar year result must be an integer");return n}function gv(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.month%"),i,[t])}let n=fi(Fo(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!Gd(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function Zy(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.monthCode%"),i,[t])}let n=fi(Fo(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function qy(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.day%"),i,[t])}const n=fi(Fo(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!Gd(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function vv(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.era%"),i,[t])}let n=fi(Fo(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function bv(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.eraYear%"),i,[t])}let n=fi(Fo(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!Gd(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function h_(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.dayOfWeek%"),i,[t])}const n=fi(Fo(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!Gd(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function p_(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.dayOfYear%"),i,[t])}const n=fi(Fo(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!Gd(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function Qy(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.weekOfYear%"),i,[t])}const n=fi(Fo(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!Gd(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function Pf(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.yearOfWeek%"),i,[t])}const n=fi(Fo(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!Gd(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function J2(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.daysInWeek%"),i,[t])}const n=fi(Fo(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!Gd(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function m_(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.daysInMonth%"),i,[t])}const n=fi(Fo(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!Gd(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function e0(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.daysInYear%"),i,[t])}const n=fi(Fo(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!Gd(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function Of(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.monthsInYear%"),i,[t])}const n=fi(Fo(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!Gd(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function t0(r,t){if("string"==typeof r){const i=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.inLeapYear%"),i,[t])}const n=fi(Fo(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function ul(r){if(Ds(r)){if(ec(r,tr))return $e(r,tr);if(!($s(u=r)||"dateAdd"in u&&"dateFromFields"in u&&"dateUntil"in u&&"day"in u&&"dayOfWeek"in u&&"dayOfYear"in u&&"daysInMonth"in u&&"daysInWeek"in u&&"daysInYear"in u&&"fields"in u&&"id"in u&&"inLeapYear"in u&&"mergeFields"in u&&"month"in u&&"monthCode"in u&&"monthDayFromFields"in u&&"monthsInYear"in u&&"weekOfYear"in u&&"year"in u&&"yearMonthFromFields"in u&&"yearOfWeek"in u))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var u;const t=Vc(r);if(Nf(t))return Xu(t);let n;try{({calendar:n}=ju(t))}catch{try{({calendar:n}=W2(t))}catch{({calendar:n}=dD(t))}}if(n||(n="iso8601"),!Nf(n))throw new RangeError(`invalid calendar identifier ${n}`);return Xu(n)}function Em(r){if(ec(r,tr))return $e(r,tr);const{calendar:t}=r;return void 0===t?"iso8601":ul(t)}function zc(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function wv(r){return Ds(r)?r:new(kr("%Temporal.Calendar%"))(r)}function _v(r,t){return r===t||zc(r)===zc(t)}function y_(r,t,n){if(r===t)return;const i=zc(r),u=zc(t);if(i!==u)throw new RangeError(`cannot ${n} of ${i} and ${u} calendars`)}function X2(r,t){if(r===t)return t;const n=zc(r),i=zc(t);if(n===i||"iso8601"===n)return t;if("iso8601"===i)return r;throw new RangeError("irreconcilable calendars")}function mh(r,t,n,i){if("string"==typeof r){const h=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.dateFromFields%"),h,[t,n])}const u=fi(i??Fo(r,"dateFromFields"),r,[t,n]);if(!Mo(u))throw new TypeError("invalid result");return u}function Ma(r,t,n){if("string"==typeof r){const u=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.yearMonthFromFields%"),u,[t,n])}let i=fi(Fo(r,"yearMonthFromFields"),r,[t,n]);if(!Go(i))throw new TypeError("invalid result");return i}function xm(r,t,n){if("string"==typeof r){const u=new(kr("%Temporal.Calendar%"))(r);return fi(kr("%Temporal.Calendar.prototype.monthDayFromFields%"),u,[t,n])}let i=fi(Fo(r,"monthDayFromFields"),r,[t,n]);if(!ha(i))throw new TypeError("invalid result");return i}function Hc(r){if(Ds(r)){if(di(r))return $e(r,us);if(!(dl(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function M5(r){const{ianaName:t,offset:n,z:i}=function(h){if(new RegExp(`^${cm.source}$`,"i").test(h))return{ianaName:h};try{const l=ju(h);if(l.z||l.offset||l.ianaName)return l}catch{}throw new RangeError(`Invalid time zone: ${h}`)}(r);return t?b_(t):i?"UTC":w_(yh(n))}(Vc(r))}function Ev(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function Y2(r){return Ds(r)?r:new(kr("%Temporal.TimeZone%"))(r)}function uD(r,t){return r===t||Ev(r)===Ev(t)}function Mm(r){return _l($e(r,Yr),$e(r,ei),$e(r,ii),$e(r,tr))}function g_(r){return new(kr("%Temporal.PlainTime%"))($e(r,so),$e(r,Xi),$e(r,Yi),$e(r,Zi),$e(r,to),$e(r,no))}function Jd(r,t,n){if("string"==typeof r){const u=new(kr("%Temporal.TimeZone%"))(r);return fi(kr("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),u,[t])}const i=fi(n??Fo(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Gd(i)||Es(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function Z2(r,t){return w_(Jd(r,t))}function El(r,t,n){const i=$e(t,_i),u=Jd(r,t);let{year:h,month:l,day:f,hour:X,minute:W,second:k,millisecond:re,microsecond:Oe,nanosecond:je}=__(i);return({year:h,month:l,day:f,hour:X,minute:W,second:k,millisecond:re,microsecond:Oe,nanosecond:je}=nx(h,l,f,X,W,k,re,Oe,je+u)),Sd(h,l,f,X,W,k,re,Oe,je,n)}function Wc(r,t,n){return fD(xv(r,t),r,t,n)}function fD(r,t,n,i){const u=kr("%Temporal.Instant%"),h=r.length;if(1===h)return r[0];if(h)switch(i){case"compatible":case"earlier":return r[0];case"later":return r[h-1];case"reject":throw new RangeError("multiple instants found")}const l=$e(n,Yr),f=$e(n,ei),X=$e(n,ii),W=$e(n,so),k=$e(n,Xi),re=$e(n,Yi),Oe=$e(n,Zi),je=$e(n,to),Ke=$e(n,no),nt=hp(l,f,X,W,k,re,Oe,je,Ke);if(null===nt)throw new RangeError("DateTime outside of supported range");const wt=new u(Bt.subtract(nt,Fu)),Ot=new u(Bt.add(nt,Fu)),Et=Jd(t,wt),St=Jd(t,Ot)-Et;switch(i){case"earlier":{const Nt=$e(n,tr),Yt=kr("%Temporal.PlainDateTime%"),Qt=dx(l,f,X,W,k,re,Oe,je,Ke,Nt,0,0,0,0,0,0,0,0,0,-St,void 0);return xv(t,new Yt(Qt.year,Qt.month,Qt.day,Qt.hour,Qt.minute,Qt.second,Qt.millisecond,Qt.microsecond,Qt.nanosecond,Nt))[0]}case"compatible":case"later":{const Nt=$e(n,tr),Yt=kr("%Temporal.PlainDateTime%"),Qt=dx(l,f,X,W,k,re,Oe,je,Ke,Nt,0,0,0,0,0,0,0,0,0,St,void 0),ln=xv(t,new Yt(Qt.year,Qt.month,Qt.day,Qt.hour,Qt.minute,Qt.second,Qt.millisecond,Qt.microsecond,Qt.nanosecond,Nt));return ln[ln.length-1]}case"reject":throw new RangeError("no such instant found")}}function xv(r,t,n){if("string"==typeof r){const h=new(kr("%Temporal.TimeZone%"))(r);return fi(kr("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),h,[t])}const i=fi(n??Fo(r,"getPossibleInstantsFor"),r,[t]),u=[];for(const h of i){if(!Ys(h))throw new TypeError("bad return from getPossibleInstantsFor");cp.call(u,h)}return u}function n0(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${Es(r)}`.slice(-6):`0000${r}`.slice(-4),t}function Is(r){return`00${r}`.slice(-2)}function r0(r,t,n,i,u){if("minute"===u)return"";const h=`:${Is(r)}`;let l,f=1e6*t+1e3*n+i;if("auto"===u){if(0===f)return h;for(l=`${f}`.padStart(9,"0");"0"===l[l.length-1];)l=l.slice(0,-1)}else{if(0===u)return h;l=`${f}`.padStart(9,"0").slice(0,u)}return`${h}.${l}`}function v_(r,t,n){let i=t;void 0===i&&(i="UTC");const u=El(i,r,"iso8601"),h=n0($e(u,Yr)),l=Is($e(u,ei)),f=Is($e(u,ii)),X=Is($e(u,so)),W=Is($e(u,Xi)),k=r0($e(u,Yi),$e(u,Zi),$e(u,to),$e(u,no),n);let re="Z";return void 0!==t&&(re=pD(Jd(i,r))),`${h}-${l}-${f}T${X}:${W}${k}${re}`}function Mv(r,t="auto",n){function i(An){return An<=E5?An.toString(10):Bt.BigInt(An).toString(10)}const u=$e(r,gd),h=$e(r,xa),l=$e(r,Mc),f=$e(r,vd),X=$e(r,zd),W=$e(r,jc);let k=$e(r,bd),re=$e(r,Hd),Oe=$e(r,wd),je=$e(r,_d);const Ke=Hu(u,h,l,f,X,W,k,re,Oe,je);if(n){const{unit:An,increment:Jn,roundingMode:qn}=n;({seconds:k,milliseconds:re,microseconds:Oe,nanoseconds:je}=Gu(0,0,0,0,0,0,k,re,Oe,je,Jn,An,qn))}const nt=[];u&&nt.push(`${i(Es(u))}Y`),h&&nt.push(`${i(Es(h))}M`),l&&nt.push(`${i(Es(l))}W`),f&&nt.push(`${i(Es(f))}D`);const wt=[];X&&wt.push(`${i(Es(X))}H`),W&&wt.push(`${i(Es(W))}M`);const Ot=[];let Et,St,Nt,Yt,Qt=a0(0,0,0,k,re,Oe,je,0);({quotient:Qt,remainder:Et}=es(Qt,ao)),({quotient:Qt,remainder:St}=es(Qt,ao)),({quotient:Yt,remainder:Nt}=es(Qt,ao));const ln=1e6*Es(Bt.toNumber(Nt))+1e3*Es(Bt.toNumber(St))+Es(Bt.toNumber(Et));let Ht;if("auto"===t){if(0!==ln)for(Ht=`${ln}`.padStart(9,"0");"0"===Ht[Ht.length-1];)Ht=Ht.slice(0,-1)}else 0!==t&&(Ht=`${ln}`.padStart(9,"0").slice(0,t));return Ht&&Ot.unshift(".",Ht),Bt.equal(Yt,As)&&!Ot.length&&"auto"===t||Ot.unshift(Kl(Yt).toString()),Ot.length&&wt.push(`${Ot.join("")}S`),wt.length&&wt.unshift("T"),nt.length||wt.length?`${Ke<0?"-":""}P${nt.join("")}${wt.join("")}`:"PT0S"}function Vu(r,t="auto"){return`${n0($e(r,Yr))}-${Is($e(r,ei))}-${Is($e(r,ii))}${H2($e(r,tr),t)}`}function hD(r,t,n="auto",i){let u=$e(r,Yr),h=$e(r,ei),l=$e(r,ii),f=$e(r,so),X=$e(r,Xi),W=$e(r,Yi),k=$e(r,Zi),re=$e(r,to),Oe=$e(r,no);if(i){const{unit:je,increment:Ke,roundingMode:nt}=i;({year:u,month:h,day:l,hour:f,minute:X,second:W,millisecond:k,microsecond:re,nanosecond:Oe}=kv(u,h,l,f,X,W,k,re,Oe,Ke,je,nt))}return`${n0(u)}-${Is(h)}-${Is(l)}T${Is(f)}:${Is(X)}${r0(W,k,re,Oe,t)}${H2($e(r,tr),n)}`}function q2(r,t="auto"){let n=`${Is($e(r,ei))}-${Is($e(r,ii))}`;const i=zc($e(r,tr));("always"===t||"critical"===t||"iso8601"!==i)&&(n=`${n0($e(r,Yr))}-${n}`);const u=l_(i,t);return u&&(n+=u),n}function zu(r,t="auto"){let n=`${n0($e(r,Yr))}-${Is($e(r,ei))}`;const i=zc($e(r,tr));("always"===t||"critical"===t||"iso8601"!==i)&&(n+=`-${Is($e(r,ii))}`);const u=l_(i,t);return u&&(n+=u),n}function lu(r,t,n="auto",i="auto",u="auto",h){let l=$e(r,yd);if(h){const{unit:k,increment:re,roundingMode:Oe}=h,je=c0($e(r,_i),re,k,Oe);l=new(kr("%Temporal.Instant%"))(je)}const f=$e(r,us),X=El(f,l,"iso8601");let W=`${n0($e(X,Yr))}-${Is($e(X,ei))}-${Is($e(X,ii))}T${Is($e(X,so))}:${Is($e(X,Xi))}${r0($e(X,Yi),$e(X,Zi),$e(X,to),$e(X,no),t)}`;return"never"!==u&&(W+=pD(Jd(f,l))),"never"!==i&&(W+=`[${"critical"===i?"!":""}${Ev(f)}]`),W+=H2($e(r,tr),n),W}function Xd(r){return ID.test(lp(r))}function yh(r){const t=ID.exec(lp(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function b_(r){return Xd(r)?w_(yh(r)):um(lp(r)).resolvedOptions().timeZone}function gh(r,t){const{year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k}=o0(r,t),re=n%400,Oe=(n-re)/400,je=Bt.multiply(Bt.BigInt(146097),Fu),Ke=hp(re,i,u,h,l,f,X,W,k),nt=Bt.add(Ke,Bt.multiply(je,Bt.BigInt(Oe)));return Bt.toNumber(Bt.subtract(nt,t))}function w_(r){const t=r<0?"-":"+",n=Es(r),i=n%1e9,u=Ed(n/1e9)%60,h=Ed(n/6e10)%60,l=Is(Ed(n/36e11)),f=Is(h),X=Is(u);let W="";if(i){let k=`${i}`.padStart(9,"0");for(;"0"===k[k.length-1];)k=k.slice(0,-1);W=`:${X}.${k}`}else u&&(W=`:${X}`);return`${t}${l}:${f}${W}`}function pD(r){let t=Bt.toNumber(fl(Bt.BigInt(r),j2,"halfExpand"));const n=t<0?"-":"+";t=Es(t);const i=t/6e10%60;return`${n}${Is(Ed(t/36e11))}:${Is(i)}`}function hp(r,t,n,i,u,h,l,f,X){const W=new Date;W.setUTCHours(i,u,h,l),W.setUTCFullYear(r,t-1,n);const k=W.getTime();if(Ky(k))return null;let re=Bt.multiply(Bt.BigInt(k),Cc);return re=Bt.add(re,Bt.multiply(Bt.BigInt(f),ao)),re=Bt.add(re,Bt.BigInt(X)),Bt.lessThan(re,cv)||Bt.greaterThan(re,Fy)?null:re}function __(r){const{quotient:t,remainder:n}=es(r,Cc);let i=Bt.toNumber(t),u=Bt.toNumber(n);u<0&&(u+=1e6,i-=1);const h=Ed(u/1e3)%1e3,l=u%1e3,f=new Date(i);return{epochMilliseconds:i,year:f.getUTCFullYear(),month:f.getUTCMonth()+1,day:f.getUTCDate(),hour:f.getUTCHours(),minute:f.getUTCMinutes(),second:f.getUTCSeconds(),millisecond:f.getUTCMilliseconds(),microsecond:h,nanosecond:l}}function o0(r,t){const{epochMilliseconds:n,millisecond:i,microsecond:u,nanosecond:h}=__(t),{year:l,month:f,day:X,hour:W,minute:k,second:re}=(Ke=n,function(Ot){const Et=Ot.split(/[^\w]+/);if(7!==Et.length)throw new RangeError(`expected 7 parts in "${Ot}`);const St=+Et[0],Nt=+Et[1];let Yt=+Et[2];const Qt=Et[3].toUpperCase();if("B"===Qt||"BC"===Qt)Yt=1-Yt;else if("A"!==Qt&&"AD"!==Qt)throw new RangeError(`Unknown era ${Qt} in "${Ot}`);let ln=+Et[4];24===ln&&(ln=0);const Ht=+Et[5],An=+Et[6];if(!(xd(Yt)&&xd(St)&&xd(Nt)&&xd(ln)&&xd(Ht)&&xd(An)))throw new RangeError(`Invalid number in "${Ot}`);return{year:Yt,month:St,day:Nt,hour:ln,minute:Ht,second:An}}(um(r).format(new Date(Ke))));var Ke;return nx(l,f,X,W,k,re,i,u,h)}function mD(r,t){return Bt.lessThan(r,t)?t:r}function Q2(){return Bt.add(ux(),uc)}function yD(r,t){if(Bt.lessThan(t,jy))return yD(r,jy);const n=Bt.add(t,$y),i=mD(Q2(),n);let u=mD(jy,t);const h=gh(r,u);let l=u,f=h;for(;h===f&&Bt.lessThan(Bt.BigInt(u),i);){if(l=Bt.add(u,dm),Bt.greaterThan(l,Fy))return null;f=gh(r,l),h===f&&(u=l)}return h===f?null:d0(X=>gh(r,X),u,l,h,f)}function ex(r,t){const n=Q2(),i=Bt.greaterThan(t,n),u=i?Bt.subtract(t,$y):jy;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const W=$e(cu("2088-01-01T00Z"),_i);if(Bt.lessThan(W,t))return ex(r,W)}let h=Bt.subtract(t,ua);if(Bt.lessThan(h,jy))return null;const l=gh(r,h);let f=h,X=l;for(;l===X&&Bt.greaterThan(h,u);){if(f=Bt.subtract(h,dm),Bt.lessThan(f,jy))return null;X=gh(r,f),l===X&&(h=f)}if(l===X){if(i){const W=Bt.subtract(n,Fu);return ex(r,W)}return null}return d0(W=>gh(r,W),f,h,X,l)}function vh(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function Rf(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[vh(r)?"leapyear":"standard"][t-1]}function s0(r,t,n){const i=t+(t<3?10:-2),u=r-(t<3?1:0),h=Ed(u/100),l=u-100*h,f=(n+Ed(2.6*i-.2)+(l+Ed(l/4))+(Ed(h/4)-2*h))%7;return f+(f<=0?7:0)}function E_(r,t,n){let i=n;for(let u=t-1;u>0;u--)i+=Rf(r,u);return i}function tx(r,t,n){const i=E_(r,t,n),u=s0(r,t,n)||7,h=s0(r,1,1),l=Ed((i-u+10)/7);return l<1?5===h||6===h&&vh(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===l&&(vh(r)?366:365)-i<4-u?{week:1,year:r+1}:{week:l,year:r}}function Hu(r,t,n,i,u,h,l,f,X,W){for(const k of[r,t,n,i,u,h,l,f,X,W])if(0!==k)return k<0?-1:1;return 0}function x_(r,t){let n=r,i=t;if(!xd(n)||!xd(i))throw new RangeError("infinity is out of range");return i-=1,n+=Ed(i/12),i%=12,i<0&&(i+=12),i+=1,{year:n,month:i}}function M_(r,t,n){let i=r,u=t,h=n;if(!xd(h))throw new RangeError("infinity is out of range");({year:i,month:u}=x_(i,u));const l=146097;if(Es(h)>l){const W=dp(h/l);i+=400*W,h-=W*l}let f=0,X=u>2?i:i-1;for(;f=vh(X)?366:365,h<-f;)i-=1,X-=1,h+=f;for(X+=1;f=vh(X)?366:365,h>f;)i+=1,X+=1,h-=f;for(;h<1;)({year:i,month:u}=x_(i,u-1)),h+=Rf(i,u);for(;h>Rf(i,u);)h-=Rf(i,u),({year:i,month:u}=x_(i,u+1));return{year:i,month:u,day:h}}function nx(r,t,n,i,u,h,l,f,X){const{deltaDays:W,hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:nt}=bh(i,u,h,l,f,X),{year:wt,month:Ot,day:Et}=M_(r,t,n+W);return{year:wt,month:Ot,day:Et,hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:nt}}function bh(r,t,n,i,u,h){let l,f=Bt.BigInt(r),X=Bt.BigInt(t),W=Bt.BigInt(n),k=Bt.BigInt(i),re=Bt.BigInt(u),Oe=Bt.BigInt(h);return({quotient:l,remainder:Oe}=mp(Oe,ao)),re=Bt.add(re,l),({quotient:l,remainder:re}=mp(re,ao)),k=Bt.add(k,l),({quotient:l,remainder:k}=mp(k,ao)),W=Bt.add(W,l),({quotient:l,remainder:W}=mp(W,Wd)),X=Bt.add(X,l),({quotient:l,remainder:X}=mp(X,Wd)),f=Bt.add(f,l),({quotient:l,remainder:f}=mp(f,sv)),{deltaDays:Bt.toNumber(l),hour:Bt.toNumber(f),minute:Bt.toNumber(X),second:Bt.toNumber(W),millisecond:Bt.toNumber(k),microsecond:Bt.toNumber(re),nanosecond:Bt.toNumber(Oe)}}function a0(r,t,n,i,u,h,l,f){const X=Bt.BigInt(r);let W=Bt.BigInt(l);0!==r&&(W=Bt.subtract(Bt.BigInt(l),Bt.BigInt(f)));const k=Bt.add(Bt.BigInt(t),Bt.multiply(X,Bt.BigInt(24))),re=Bt.add(Bt.BigInt(n),Bt.multiply(k,Wd)),Oe=Bt.add(Bt.BigInt(i),Bt.multiply(re,Wd)),je=Bt.add(Bt.BigInt(u),Bt.multiply(Oe,ao)),Ke=Bt.add(Bt.BigInt(h),Bt.multiply(je,ao));return Bt.add(Bt.BigInt(W),Bt.multiply(Ke,ao))}function rx(r,t){const n=kr("%Temporal.Instant%"),i=Ly(Bt.toNumber(r));let u=Bt.BigInt(r),h=864e11;if(0===i)return{days:0,nanoseconds:As,dayLengthNs:h};if(!di(t)){let St;return({quotient:St,remainder:u}=es(u,Bt.BigInt(h))),{days:Bt.toNumber(St),nanoseconds:u,dayLengthNs:h}}const l=$e(t,_i),f=$e(t,yd),X=Bt.add(l,u),W=new n(X),k=$e(t,us),re=$e(t,tr),Oe=El(k,f,re),je=El(k,W,re);let{days:Ke}=ED($e(Oe,Yr),$e(Oe,ei),$e(Oe,ii),$e(Oe,so),$e(Oe,Xi),$e(Oe,Yi),$e(Oe,Zi),$e(Oe,to),$e(Oe,no),$e(je,Yr),$e(je,ei),$e(je,ii),$e(je,so),$e(je,Xi),$e(je,Yi),$e(je,Zi),$e(je,to),$e(je,no),re,"day",$c(null)),nt=Fl(f,k,re,0,0,0,Ke,0,0,0,0,0,0),wt=Bt.BigInt(Ke);if(1===i)for(;Bt.greaterThan(wt,As)&&Bt.greaterThan(nt,X);)wt=Bt.subtract(wt,ua),nt=Fl(f,k,re,0,0,0,Bt.toNumber(wt),0,0,0,0,0,0);u=Bt.subtract(X,nt);let Ot=!1,Et=new n(nt);do{const St=Fl(Et,k,re,0,0,0,i,0,0,0,0,0,0),Nt=$e(Et,_i);h=Bt.toNumber(Bt.subtract(St,Nt)),Ot=Bt.greaterThanOrEqual(Bt.multiply(Bt.subtract(u,Bt.BigInt(h)),Bt.BigInt(i)),As),Ot&&(u=Bt.subtract(u,Bt.BigInt(h)),Et=new n(St),wt=Bt.add(wt,Bt.BigInt(i)))}while(Ot);if(!Md(wt)&&aD(wt)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!Md(u)&&aD(u)!==i)throw a_(u)&&1===i?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(Bt.greaterThanOrEqual(Kl(u),Kl(Bt.BigInt(h))))throw new Error("assert not reached");return{days:Bt.toNumber(wt),nanoseconds:u,dayLengthNs:Es(h)}}function uu(r,t,n,i,u,h,l,f,X){let W=gD(r,t,n,i,u,h,l,f,X);if("positive overflow"===W||"negative overflow"===W)throw new RangeError("Duration out of range");return W}function gD(r,t,n,i,u,h,l,f,X){let W,k,re,Oe,je,Ke,nt=r;if(di(X)){const ln=Fl($e(X,yd),$e(X,us),$e(X,tr),0,0,0,nt,t,n,i,u,h,l),Ht=$e(X,_i);W=Bt.subtract(ln,Ht)}else W=a0(nt,t,n,i,u,h,l,0);"year"===f||"month"===f||"week"===f||"day"===f?({days:nt,nanoseconds:W}=rx(W,X)):nt=0;const wt=Bt.lessThan(W,As)?-1:1;switch(W=Kl(W),k=re=Oe=je=Ke=As,f){case"year":case"month":case"week":case"day":case"hour":({quotient:k,remainder:W}=es(W,ao)),({quotient:re,remainder:k}=es(k,ao)),({quotient:Oe,remainder:re}=es(re,ao)),({quotient:je,remainder:Oe}=es(Oe,Wd)),({quotient:Ke,remainder:je}=es(je,Wd));break;case"minute":({quotient:k,remainder:W}=es(W,ao)),({quotient:re,remainder:k}=es(k,ao)),({quotient:Oe,remainder:re}=es(re,ao)),({quotient:je,remainder:Oe}=es(Oe,Wd));break;case"second":({quotient:k,remainder:W}=es(W,ao)),({quotient:re,remainder:k}=es(k,ao)),({quotient:Oe,remainder:re}=es(re,ao));break;case"millisecond":({quotient:k,remainder:W}=es(W,ao)),({quotient:re,remainder:k}=es(k,ao));break;case"microsecond":({quotient:k,remainder:W}=es(W,ao));break;case"nanosecond":break;default:throw new Error("assert not reached")}const Ot=Bt.toNumber(Ke)*wt,Et=Bt.toNumber(je)*wt,St=Bt.toNumber(Oe)*wt,Nt=Bt.toNumber(re)*wt,Yt=Bt.toNumber(k)*wt,Qt=Bt.toNumber(W)*wt;for(const ln of[nt,Ot,Et,St,Nt,Yt,Qt])if(!xd(ln))return 1===wt?"positive overflow":"negative overflow";return{days:nt,hours:Ot,minutes:Et,seconds:St,milliseconds:Nt,microseconds:Yt,nanoseconds:Qt}}function S_(r,t,n,i,u,h){const l=kr("%Temporal.Duration%"),f=Hu(r,t,n,i,0,0,0,0,0,0);if(0===f)return{years:r,months:t,weeks:n,days:i};const X=Bt.BigInt(f);let W,k,re=Bt.BigInt(r),Oe=Bt.BigInt(t),je=Bt.BigInt(n),Ke=Bt.BigInt(i);h&&(k=os(h),W=$e(k,tr));const nt=new l(f),wt=new l(0,f),Ot=new l(0,0,f);switch(u){case"year":break;case"month":{if(!W)throw new RangeError("a starting point is required for months balancing");let Et,St;for("string"!=typeof W&&(Et=Fo(W,"dateAdd"),St=Fo(W,"dateUntil"));!Md(re);){const Nt=Na(W,k,nt,void 0,Et),Yt=$c(null);Yt.largestUnit="month";const Qt=ph(W,k,Nt,Yt,St),ln=Bt.BigInt($e(Qt,xa));k=Nt,Oe=Bt.add(Oe,ln),re=Bt.subtract(re,X)}}break;case"week":{if(!W)throw new RangeError("a starting point is required for weeks balancing");const Et="string"!=typeof W?Fo(W,"dateAdd"):void 0;for(;!Md(re);){let St;({relativeTo:k,days:St}=Gc(W,k,nt,Et)),Ke=Bt.add(Ke,Bt.BigInt(St)),re=Bt.subtract(re,X)}for(;!Md(Oe);){let St;({relativeTo:k,days:St}=Gc(W,k,wt,Et)),Ke=Bt.add(Ke,Bt.BigInt(St)),Oe=Bt.subtract(Oe,X)}break}default:{if(Md(re)&&Md(Oe)&&Md(je))break;if(!W)throw new RangeError("a starting point is required for balancing calendar units");const Et="string"!=typeof W?Fo(W,"dateAdd"):void 0;for(;!Md(re);){let St;({relativeTo:k,days:St}=Gc(W,k,nt,Et)),Ke=Bt.add(Ke,Bt.BigInt(St)),re=Bt.subtract(re,X)}for(;!Md(Oe);){let St;({relativeTo:k,days:St}=Gc(W,k,wt,Et)),Ke=Bt.add(Ke,Bt.BigInt(St)),Oe=Bt.subtract(Oe,X)}for(;!Md(je);){let St;({relativeTo:k,days:St}=Gc(W,k,Ot,Et)),Ke=Bt.add(Ke,Bt.BigInt(St)),je=Bt.subtract(je,X)}break}}return{years:Bt.toNumber(re),months:Bt.toNumber(Oe),weeks:Bt.toNumber(je),days:Bt.toNumber(Ke)}}function vD(r,t,n,i,u){if(di(r)){const h=$e(r,yd),l=$e(r,us),f=$e(r,tr),X=Jd(l,h),W=Fl(h,l,f,t,n,i,u,0,0,0,0,0,0);return Jd(l,new(kr("%Temporal.Instant%"))(W))-X}return 0}function T_(r){return new(kr("%Temporal.Duration%"))(-$e(r,gd),-$e(r,xa),-$e(r,Mc),-$e(r,vd),-$e(r,zd),-$e(r,jc),-$e(r,bd),-$e(r,Hd),-$e(r,wd),-$e(r,_d))}function xl(r,t,n){return _5(n,rR(t,r))}function bD(r,t,n){const i=xl(t,1,12);return{year:r,month:i,day:xl(n,1,Rf(r,i))}}function hc(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function Wu(r,t,n){hc(t,1,12),hc(n,1,Rf(r,t))}function ix(r,t,n){wD(r,t,n,12,0,0,0,0,0)}function Sv(r,t,n,i,u,h){hc(r,0,23),hc(t,0,59),hc(n,0,59),hc(i,0,999),hc(u,0,999),hc(h,0,999)}function A_(r,t,n,i,u,h,l,f,X){Wu(r,t,n),Sv(i,u,h,l,f,X)}function wD(r,t,n,i,u,h,l,f,X){if(hc(r,Oa,dv),r===Oa&&null==hp(r,t,n+1,i,u,h,l,f,X-1)||r===dv&&null==hp(r,t,n-1,i,u,h,l,f,X+1))throw new RangeError("DateTime outside of supported range")}function pp(r){if(Bt.lessThan(r,cv)||Bt.greaterThan(r,Fy))throw new RangeError("Instant outside of supported range")}function Tv(r,t,n,i,u,h,l,f,X,W){const k=Hu(r,t,n,i,u,h,l,f,X,W);for(const re of[r,t,n,i,u,h,l,f,X,W]){if(!xd(re))throw new RangeError("infinite values not allowed as duration fields");const Oe=Ly(re);if(0!==Oe&&Oe!==k)throw new RangeError("mixed-sign values not allowed as duration fields")}}function ox(r,t,n,i,u,h,l){switch(l){case"year":case"month":{const f=-Am(r,t,n,i,u,h);if(0===f)return{years:0,months:0,weeks:0,days:0};const X={year:r,month:t,day:n},W={year:i,month:u,day:h};let k=W.year-X.year,re=Bf(r,t,n,k,0,0,0,"constrain"),Oe=-Am(re.year,re.month,re.day,i,u,h);if(0===Oe)return"year"===l?{years:k,months:0,weeks:0,days:0}:{years:0,months:12*k,weeks:0,days:0};let je=W.month-X.month;if(Oe!==f&&(k-=f,je+=12*f),re=Bf(r,t,n,k,je,0,0,"constrain"),Oe=-Am(re.year,re.month,re.day,i,u,h),0===Oe)return"year"===l?{years:k,months:je,weeks:0,days:0}:{years:0,months:je+12*k,weeks:0,days:0};Oe!==f&&(je-=f,je===-f&&(k-=f,je=11*f),re=Bf(r,t,n,k,je,0,0,"constrain"));let Ke=0;return Ke=re.month===W.month?W.day-re.day:f<0?-re.day-(Rf(W.year,W.month)-W.day):W.day+(Rf(re.year,re.month)-re.day),"month"===l&&(je+=12*k,k=0),{years:k,months:je,weeks:0,days:Ke}}case"week":case"day":{let f,X,W;Am(r,t,n,i,u,h)<0?(X={year:r,month:t,day:n},f={year:i,month:u,day:h},W=1):(X={year:i,month:u,day:h},f={year:r,month:t,day:n},W=-1);let k=E_(f.year,f.month,f.day)-E_(X.year,X.month,X.day);for(let Oe=X.year;Oe<f.year;++Oe)k+=vh(Oe)?366:365;let re=0;return"week"===l&&(re=Ed(k/7),k%=7),re*=W,k*=W,{years:0,months:0,weeks:re,days:k}}default:throw new Error("assert not reached")}}function sx(r,t,n,i,u,h,l,f,X,W,k,re){let Oe=l-r,je=f-t,Ke=X-n,nt=W-i,wt=k-u,Ot=re-h;const Et=Hu(0,0,0,0,Oe,je,Ke,nt,wt,Ot);Oe*=Et,je*=Et,Ke*=Et,nt*=Et,wt*=Et,Ot*=Et;let St=0;if(({deltaDays:St,hour:Oe,minute:je,second:Ke,millisecond:nt,microsecond:wt,nanosecond:Ot}=bh(Oe,je,Ke,nt,wt,Ot)),0!=St)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return Oe*=Et,je*=Et,Ke*=Et,nt*=Et,wt*=Et,Ot*=Et,{hours:Oe,minutes:je,seconds:Ke,milliseconds:nt,microseconds:wt,nanoseconds:Ot}}function _D(r,t,n,i,u,h){const l=Bt.subtract(t,r);let f=0,X=0,W=Bt.toNumber(Bt.remainder(l,ao)),k=Bt.toNumber(Bt.remainder(Bt.divide(l,ao),ao)),re=Bt.toNumber(Bt.remainder(Bt.divide(l,Cc),ao)),Oe=Bt.toNumber(Bt.divide(l,Df));return({hours:f,minutes:X,seconds:Oe,milliseconds:re,microseconds:k,nanoseconds:W}=Gu(0,0,0,0,0,0,Oe,re,k,W,n,i,h)),uu(0,f,X,Oe,re,k,W,u)}function ED(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je,Ke,nt,wt,Ot,Et,St,Nt){let Yt=r,Qt=t,ln=n,{hours:Ht,minutes:An,seconds:Jn,milliseconds:qn,microseconds:ar,nanoseconds:Vn}=sx(i,u,h,l,f,X,Oe,je,Ke,nt,wt,Ot);const jn=Hu(0,0,0,0,Ht,An,Jn,qn,ar,Vn);Am(W,k,re,Yt,Qt,ln)===-jn&&(({year:Yt,month:Qt,day:ln}=M_(Yt,Qt,ln-jn)),({hours:Ht,minutes:An,seconds:Jn,milliseconds:qn,microseconds:ar,nanoseconds:Vn}=uu(-jn,Ht,An,Jn,qn,ar,Vn,St)));const Kn=_l(Yt,Qt,ln,Et),Xn=_l(W,k,re,Et),In=mm("day",St),yr=Ju(Nt);yr.largestUnit=In;let{years:gr,months:Er,weeks:Gr,days:li}=ph(Et,Kn,Xn,yr);return({days:li,hours:Ht,minutes:An,seconds:Jn,milliseconds:qn,microseconds:ar,nanoseconds:Vn}=uu(li,Ht,An,Jn,qn,ar,Vn,St)),{years:gr,months:Er,weeks:Gr,days:li,hours:Ht,minutes:An,seconds:Jn,milliseconds:qn,microseconds:ar,nanoseconds:Vn}}function xD(r,t,n,i,u,h){const l=Bt.subtract(t,r);if(Bt.equal(l,As))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const f=kr("%Temporal.Instant%"),X=new f(r),W=new f(t),k=El(n,X,i),re=El(n,W,i);let{years:Oe,months:je,weeks:Ke,days:nt}=ED($e(k,Yr),$e(k,ei),$e(k,ii),$e(k,so),$e(k,Xi),$e(k,Yi),$e(k,Zi),$e(k,to),$e(k,no),$e(re,Yr),$e(re,ei),$e(re,ii),$e(re,so),$e(re,Xi),$e(re,Yi),$e(re,Zi),$e(re,to),$e(re,no),i,u,h);const wt=Fl(X,n,i,Oe,je,Ke,0,0,0,0,0,0,0);let Ot=Bt.subtract(t,wt);const Et=Ba(wt,n,i);({nanoseconds:Ot,days:nt}=rx(Ot,Et));const{hours:St,minutes:Nt,seconds:Yt,milliseconds:Qt,microseconds:ln,nanoseconds:Ht}=uu(0,0,0,0,0,0,Bt.toNumber(Ot),"hour");return{years:Oe,months:je,weeks:Ke,days:nt,hours:St,minutes:Nt,seconds:Yt,milliseconds:Qt,microseconds:ln,nanoseconds:Ht}}function Sm(r,t,n,i,u,h){const l=lv.reduce((je,Ke)=>{const nt=Ke[0],wt=Ke[1];return"datetime"!==n&&Ke[2]!==n||i.includes(wt)||je.push(wt,nt),je},[]);let f=ll(t,"largestUnit",n,"auto");if(i.includes(f))throw new RangeError(`largestUnit must be one of ${l.join(", ")}, not ${f}`);const X=Gy(t);let W=$u(t,"trunc");"since"===r&&(W=function(Ke){switch(Ke){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Ke}}(W));const k=ll(t,"smallestUnit",n,u);if(i.includes(k))throw new RangeError(`smallestUnit must be one of ${l.join(", ")}, not ${k}`);const re=mm(h,k);if("auto"===f&&(f=re),mm(f,k)!==f)throw new RangeError(`largestUnit ${f} cannot be smaller than smallestUnit ${k}`);const Oe={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[k];return void 0!==Oe&&Jy(X,Oe,!1),{largestUnit:f,roundingIncrement:X,roundingMode:W,smallestUnit:k}}function Av(r,t,n,i){const u="since"===r?-1:1,h=cu(n),l=Sm(r,Ju(i),"time",[],"nanosecond","second"),f=$e(t,_i),X=$e(h,_i);let{hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=_D(f,X,l.roundingIncrement,l.smallestUnit,l.largestUnit,l.roundingMode);return new(kr("%Temporal.Duration%"))(0,0,0,0,u*W,u*k,u*re,u*Oe,u*je,u*Ke)}function MD(r,t,n,i){const u="since"===r?-1:1,h=os(n),l=$e(t,tr);y_(l,$e(h,tr),"compute difference between dates");const f=Ju(i),X=Sm(r,f,"date",[],"day","day");f.largestUnit=X.largestUnit;let{years:W,months:k,weeks:re,days:Oe}=ph(l,t,h,f);return"day"===X.smallestUnit&&1===X.roundingIncrement||({years:W,months:k,weeks:re,days:Oe}=Gu(W,k,re,Oe,0,0,0,0,0,0,X.roundingIncrement,X.smallestUnit,X.roundingMode,t)),new(kr("%Temporal.Duration%"))(u*W,u*k,u*re,u*Oe,0,0,0,0,0,0)}function SD(r,t,n,i){const u="since"===r?-1:1,h=hh(n),l=$e(t,tr);y_(l,$e(h,tr),"compute difference between dates");const f=Ju(i),X=Sm(r,f,"datetime",[],"nanosecond","day");let{years:W,months:k,weeks:re,days:Oe,hours:je,minutes:Ke,seconds:nt,milliseconds:wt,microseconds:Ot,nanoseconds:Et}=ED($e(t,Yr),$e(t,ei),$e(t,ii),$e(t,so),$e(t,Xi),$e(t,Yi),$e(t,Zi),$e(t,to),$e(t,no),$e(h,Yr),$e(h,ei),$e(h,ii),$e(h,so),$e(h,Xi),$e(h,Yi),$e(h,Zi),$e(h,to),$e(h,no),l,X.largestUnit,f);const St=Mm(t);return({years:W,months:k,weeks:re,days:Oe,hours:je,minutes:Ke,seconds:nt,milliseconds:wt,microseconds:Ot,nanoseconds:Et}=Gu(W,k,re,Oe,je,Ke,nt,wt,Ot,Et,X.roundingIncrement,X.smallestUnit,X.roundingMode,St)),({days:Oe,hours:je,minutes:Ke,seconds:nt,milliseconds:wt,microseconds:Ot,nanoseconds:Et}=uu(Oe,je,Ke,nt,wt,Ot,Et,X.largestUnit)),new(kr("%Temporal.Duration%"))(u*W,u*k,u*re,u*Oe,u*je,u*Ke,u*nt,u*wt,u*Ot,u*Et)}function D_(r,t,n,i){const u="since"===r?-1:1,h=If(n),l=Sm(r,Ju(i),"time",[],"nanosecond","hour");let{hours:f,minutes:X,seconds:W,milliseconds:k,microseconds:re,nanoseconds:Oe}=sx($e(t,so),$e(t,Xi),$e(t,Yi),$e(t,Zi),$e(t,to),$e(t,no),$e(h,so),$e(h,Xi),$e(h,Yi),$e(h,Zi),$e(h,to),$e(h,no));return({hours:f,minutes:X,seconds:W,milliseconds:k,microseconds:re,nanoseconds:Oe}=Gu(0,0,0,0,f,X,W,k,re,Oe,l.roundingIncrement,l.smallestUnit,l.roundingMode)),({hours:f,minutes:X,seconds:W,milliseconds:k,microseconds:re,nanoseconds:Oe}=uu(0,f,X,W,k,re,Oe,l.largestUnit)),new(kr("%Temporal.Duration%"))(0,0,0,0,u*f,u*X,u*W,u*k,u*re,u*Oe)}function TD(r,t,n,i){const u="since"===r?-1:1,h=Yy(n),l=$e(t,tr);y_(l,$e(h,tr),"compute difference between months");const f=Ju(i),X=Sm(r,f,"date",["week","day"],"month","year");f.largestUnit=X.largestUnit;const W=Vs(l,["monthCode","year"]),k=po(t,W,[]);k.day=1;const re=mh(l,k),Oe=po(h,W,[]);Oe.day=1;const je=mh(l,Oe);let{years:Ke,months:nt}=ph(l,re,je,f);return"month"===X.smallestUnit&&1===X.roundingIncrement||({years:Ke,months:nt}=Gu(Ke,nt,0,0,0,0,0,0,0,0,X.roundingIncrement,X.smallestUnit,X.roundingMode,re)),new(kr("%Temporal.Duration%"))(u*Ke,u*nt,0,0,0,0,0,0,0,0)}function Dv(r,t,n,i){const u="since"===r?-1:1,h=ym(n),l=$e(t,tr);y_(l,$e(h,tr),"compute difference between dates");const f=Ju(i),X=Sm(r,f,"datetime",[],"nanosecond","hour");f.largestUnit=X.largestUnit;const W=$e(t,_i),k=$e(h,_i);let re,Oe,je,Ke,nt,wt,Ot,Et,St,Nt;if("year"!==X.largestUnit&&"month"!==X.largestUnit&&"week"!==X.largestUnit&&"day"!==X.largestUnit)re=0,Oe=0,je=0,Ke=0,({hours:nt,minutes:wt,seconds:Ot,milliseconds:Et,microseconds:St,nanoseconds:Nt}=_D(W,k,X.roundingIncrement,X.smallestUnit,X.largestUnit,X.roundingMode));else{const Yt=$e(t,us);if(!uD(Yt,$e(h,us)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:re,months:Oe,weeks:je,days:Ke,hours:nt,minutes:wt,seconds:Ot,milliseconds:Et,microseconds:St,nanoseconds:Nt}=xD(W,k,Yt,l,X.largestUnit,f)),({years:re,months:Oe,weeks:je,days:Ke,hours:nt,minutes:wt,seconds:Ot,milliseconds:Et,microseconds:St,nanoseconds:Nt}=Gu(re,Oe,je,Ke,nt,wt,Ot,Et,St,Nt,X.roundingIncrement,X.smallestUnit,X.roundingMode,t)),({years:re,months:Oe,weeks:je,days:Ke,hours:nt,minutes:wt,seconds:Ot,milliseconds:Et,microseconds:St,nanoseconds:Nt}=T5(re,Oe,je,Ke,nt,wt,Ot,Et,St,Nt,X.roundingIncrement,X.smallestUnit,X.roundingMode,t))}return new(kr("%Temporal.Duration%"))(u*re,u*Oe,u*je,u*Ke,u*nt,u*wt,u*Ot,u*Et,u*St,u*Nt)}function Bf(r,t,n,i,u,h,l,f){let X=r,W=t,k=n,re=h,Oe=l;return X+=i,W+=u,({year:X,month:W}=x_(X,W)),({year:X,month:W,day:k}=zy(X,W,k,f)),Oe+=7*re,k+=Oe,({year:X,month:W,day:k}=M_(X,W,k)),{year:X,month:W,day:k}}function I_(r,t,n,i,u,h,l,f,X,W,k,re){let Oe=r,je=t,Ke=n,nt=i,wt=u,Ot=h;Oe+=l,je+=f,Ke+=X,nt+=W,wt+=k,Ot+=re;let Et=0;return({deltaDays:Et,hour:Oe,minute:je,second:Ke,millisecond:nt,microsecond:wt,nanosecond:Ot}=bh(Oe,je,Ke,nt,wt,Ot)),{deltaDays:Et,hour:Oe,minute:je,second:Ke,millisecond:nt,microsecond:wt,nanosecond:Ot}}function ax(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je,Ke,nt,wt,Ot,Et,St,Nt){const Yt=mm(G2(r,t,n,i,u,h,l,f,X,W),G2(k,re,Oe,je,Ke,nt,wt,Ot,Et,St));let Qt,ln,Ht,An,Jn,qn,ar,Vn,jn,Kn;if(Nt)if(Mo(Nt)){const Xn=kr("%Temporal.Duration%"),In=$e(Nt,tr),yr=new Xn(r,t,n,i,0,0,0,0,0,0),gr=new Xn(k,re,Oe,je,0,0,0,0,0,0),Er="string"!=typeof In?Fo(In,"dateAdd"):void 0,Gr=Na(In,Nt,yr,void 0,Er),li=Na(In,Gr,gr,void 0,Er),Pn=mm("day",Yt),hi=$c(null);hi.largestUnit=Pn,({years:Qt,months:ln,weeks:Ht,days:An}=ph(In,Nt,li,hi)),({days:An,hours:Jn,minutes:qn,seconds:ar,milliseconds:Vn,microseconds:jn,nanoseconds:Kn}=uu(An,Bt.add(Bt.BigInt(u),Bt.BigInt(Ke)),Bt.add(Bt.BigInt(h),Bt.BigInt(nt)),Bt.add(Bt.BigInt(l),Bt.BigInt(wt)),Bt.add(Bt.BigInt(f),Bt.BigInt(Ot)),Bt.add(Bt.BigInt(X),Bt.BigInt(Et)),Bt.add(Bt.BigInt(W),Bt.BigInt(St)),Yt))}else{const Xn=kr("%Temporal.Instant%"),In=$e(Nt,us),yr=$e(Nt,tr),gr=Fl($e(Nt,yd),In,yr,r,t,n,i,u,h,l,f,X,W),Er=Fl(new Xn(gr),In,yr,k,re,Oe,je,Ke,nt,wt,Ot,Et,St);"year"!==Yt&&"month"!==Yt&&"week"!==Yt&&"day"!==Yt?(Qt=0,ln=0,Ht=0,An=0,({hours:Jn,minutes:qn,seconds:ar,milliseconds:Vn,microseconds:jn,nanoseconds:Kn}=_D($e(Nt,_i),Er,1,"nanosecond",Yt,"halfExpand"))):({years:Qt,months:ln,weeks:Ht,days:An,hours:Jn,minutes:qn,seconds:ar,milliseconds:Vn,microseconds:jn,nanoseconds:Kn}=xD($e(Nt,_i),Er,In,yr,Yt,$c(null)))}else{if("year"===Yt||"month"===Yt||"week"===Yt)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");Qt=ln=Ht=0,({days:An,hours:Jn,minutes:qn,seconds:ar,milliseconds:Vn,microseconds:jn,nanoseconds:Kn}=uu(i+je,Bt.add(Bt.BigInt(u),Bt.BigInt(Ke)),Bt.add(Bt.BigInt(h),Bt.BigInt(nt)),Bt.add(Bt.BigInt(l),Bt.BigInt(wt)),Bt.add(Bt.BigInt(f),Bt.BigInt(Ot)),Bt.add(Bt.BigInt(X),Bt.BigInt(Et)),Bt.add(Bt.BigInt(W),Bt.BigInt(St)),Yt))}return Tv(Qt,ln,Ht,An,Jn,qn,ar,Vn,jn,Kn),{years:Qt,months:ln,weeks:Ht,days:An,hours:Jn,minutes:qn,seconds:ar,milliseconds:Vn,microseconds:jn,nanoseconds:Kn}}function cx(r,t,n,i,u,h,l){let f=As;f=Bt.add(f,Bt.BigInt(l)),f=Bt.add(f,Bt.multiply(Bt.BigInt(h),ao)),f=Bt.add(f,Bt.multiply(Bt.BigInt(u),Cc)),f=Bt.add(f,Bt.multiply(Bt.BigInt(i),Df)),f=Bt.add(f,Bt.multiply(Bt.BigInt(n),Bt.BigInt(6e10))),f=Bt.add(f,Bt.multiply(Bt.BigInt(t),Bt.BigInt(36e11)));const X=Bt.add(r,f);return pp(X),X}function dx(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je,Ke,nt,wt,Ot,Et,St,Nt){let Yt=je,{deltaDays:Qt,hour:ln,minute:Ht,second:An,millisecond:Jn,microsecond:qn,nanosecond:ar}=I_(i,u,h,l,f,X,Ke,nt,wt,Ot,Et,St);Yt+=Qt;const Vn=kr("%Temporal.Duration%"),jn=Na(W,_l(r,t,n,W),new Vn(k,re,Oe,Yt,0,0,0,0,0,0),Nt);return{year:$e(jn,Yr),month:$e(jn,ei),day:$e(jn,ii),hour:ln,minute:Ht,second:An,millisecond:Jn,microsecond:qn,nanosecond:ar}}function Fl(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je){const Ke=kr("%Temporal.Duration%");if(0===Hu(i,u,h,l,0,0,0,0,0,0))return cx($e(r,_i),f,X,W,k,re,Oe);const nt=El(t,r,n),wt=Na(n,_l($e(nt,Yr),$e(nt,ei),$e(nt,ii),n),new Ke(i,u,h,l,0,0,0,0,0,0),je),Ot=Sd($e(wt,Yr),$e(wt,ei),$e(wt,ii),$e(nt,so),$e(nt,Xi),$e(nt,Yi),$e(nt,Zi),$e(nt,to),$e(nt,no),n);return cx($e(Wc(t,Ot,"compatible"),_i),f,X,W,k,re,Oe)}function Iv(r,t,n,i){const u="subtract"===r?-1:1;let{years:h,months:l,weeks:f,days:X,hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=hm(n);const nt=f_(Po(i));return({years:h,months:l,weeks:f,days:X,hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=ax($e(t,gd),$e(t,xa),$e(t,Mc),$e(t,vd),$e(t,zd),$e(t,jc),$e(t,bd),$e(t,Hd),$e(t,wd),$e(t,_d),u*h,u*l,u*f,u*X,u*W,u*k,u*re,u*Oe,u*je,u*Ke,nt)),new(kr("%Temporal.Duration%"))(h,l,f,X,W,k,re,Oe,je,Ke)}function Cv(r,t,n){const i="subtract"===r?-1:1,{hours:u,minutes:h,seconds:l,milliseconds:f,microseconds:X,nanoseconds:W}=function(Oe,je){let Ke=hm(Oe);for(const nt of["years","months","weeks","days"])if(0!==Ke[nt])throw new RangeError(`Duration field ${nt} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Ke}(n),k=cx($e(t,_i),i*u,i*h,i*l,i*f,i*X,i*W);return new(kr("%Temporal.Instant%"))(k)}function C_(r,t,n,i){const u="subtract"===r?-1:1,{years:h,months:l,weeks:f,days:X,hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=hm(n),nt=Po(i),wt=$e(t,tr),{year:Ot,month:Et,day:St,hour:Nt,minute:Yt,second:Qt,millisecond:ln,microsecond:Ht,nanosecond:An}=dx($e(t,Yr),$e(t,ei),$e(t,ii),$e(t,so),$e(t,Xi),$e(t,Yi),$e(t,Zi),$e(t,to),$e(t,no),wt,u*h,u*l,u*f,u*X,u*W,u*k,u*re,u*Oe,u*je,u*Ke,nt);return Sd(Ot,Et,St,Nt,Yt,Qt,ln,Ht,An,wt)}function lx(r,t,n){const i="subtract"===r?-1:1,{hours:u,minutes:h,seconds:l,milliseconds:f,microseconds:X,nanoseconds:W}=hm(n);let{hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:nt}=I_($e(t,so),$e(t,Xi),$e(t,Yi),$e(t,Zi),$e(t,to),$e(t,no),i*u,i*h,i*l,i*f,i*X,i*W);return({hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:nt}=Hy(k,re,Oe,je,Ke,nt,"reject")),new(kr("%Temporal.PlainTime%"))(k,re,Oe,je,Ke,nt)}function AD(r,t,n,i){let u=hm(n);"subtract"===r&&(u={years:-u.years,months:-u.months,weeks:-u.weeks,days:-u.days,hours:-u.hours,minutes:-u.minutes,seconds:-u.seconds,milliseconds:-u.milliseconds,microseconds:-u.microseconds,nanoseconds:-u.nanoseconds});let{years:h,months:l,weeks:f,days:X,hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=u;({days:X}=uu(X,W,k,re,Oe,je,Ke,"day"));const nt=Po(i),wt=$e(t,tr),Ot=Vs(wt,["monthCode","year"]),Et=po(t,Ot,[]),St=$c(null);fm(St,Et,[]),Et.day=1;let Nt=mh(wt,Et);const Yt=Hu(h,l,f,X,0,0,0,0,0,0),Qt=Fo(wt,"dateAdd"),ln=kr("%Temporal.Duration%");if(Yt<0){const Jn=Na(wt,Nt,new ln(0,1,0,0,0,0,0,0,0,0),void 0,Qt),qn=Na(wt,Jn,new ln(0,0,0,-1,0,0,0,0,0,0),void 0,Qt);St.day=qy(wt,qn),Nt=mh(wt,St)}const Ht=new ln(h,l,f,X,0,0,0,0,0,0),An=Ju(nt);return Ma(wt,po(Na(wt,Nt,Ht,nt,Qt),Ot,[]),An)}function DD(r,t,n,i){const u="subtract"===r?-1:1,{years:h,months:l,weeks:f,days:X,hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=hm(n),nt=Po(i),wt=$e(t,us),Ot=$e(t,tr);return Ba(Fl($e(t,yd),wt,Ot,u*h,u*l,u*f,u*X,u*W,u*k,u*re,u*Oe,u*je,u*Ke,nt),wt,Ot)}function fl(r,t,n){if(Bt.equal(t,ua))return r;let{quotient:i,remainder:u}=es(r,t);if(Bt.equal(u,As))return r;const h=Bt.lessThan(u,As)?-1:1,l=Kl(Bt.multiply(u,Bt.BigInt(2))),f=Bt.equal(l,t),X=Bt.greaterThan(l,t);switch(n){case"ceil":h>0&&(i=Bt.add(i,Bt.BigInt(h)));break;case"floor":h<0&&(i=Bt.add(i,Bt.BigInt(h)));break;case"expand":i=Bt.add(i,Bt.BigInt(h));break;case"trunc":break;case"halfCeil":(X||f&&h>0)&&(i=Bt.add(i,Bt.BigInt(h)));break;case"halfFloor":(X||f&&h<0)&&(i=Bt.add(i,Bt.BigInt(h)));break;case"halfExpand":(X||f)&&(i=Bt.add(i,Bt.BigInt(h)));break;case"halfTrunc":X&&(i=Bt.add(i,Bt.BigInt(h)));break;case"halfEven":(X||f&&1===Bt.toNumber(Bt.remainder(Kl(i),Bt.BigInt(2))))&&(i=Bt.add(i,Bt.BigInt(h)))}return Bt.multiply(i,t)}function c0(r,t,n,i){let{remainder:u}=mp(r,Fu);const h=Bt.subtract(r,u),l=fl(u,Bt.BigInt(l0[n]*t),i);return Bt.add(h,l)}function kv(r,t,n,i,u,h,l,f,X,W,k,re,Oe=864e11){const{deltaDays:je,hour:Ke,minute:nt,second:wt,millisecond:Ot,microsecond:Et,nanosecond:St}=wh(i,u,h,l,f,X,W,k,re,Oe),{year:Nt,month:Yt,day:Qt}=M_(r,t,n+je);return{year:Nt,month:Yt,day:Qt,hour:Ke,minute:nt,second:wt,millisecond:Ot,microsecond:Et,nanosecond:St}}function wh(r,t,n,i,u,h,l,f,X,W=864e11){let k=As;switch(f){case"day":case"hour":k=Bt.BigInt(r);case"minute":k=Bt.add(Bt.multiply(k,Wd),Bt.BigInt(t));case"second":k=Bt.add(Bt.multiply(k,Wd),Bt.BigInt(n));case"millisecond":k=Bt.add(Bt.multiply(k,ao),Bt.BigInt(i));case"microsecond":k=Bt.add(Bt.multiply(k,ao),Bt.BigInt(u));case"nanosecond":k=Bt.add(Bt.multiply(k,ao),Bt.BigInt(h))}const re="day"===f?W:l0[f],Oe=fl(k,Bt.BigInt(re*l),X),je=Bt.toNumber(Bt.divide(Oe,Bt.BigInt(re)));switch(f){case"day":return{deltaDays:je,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return bh(je,0,0,0,0,0);case"minute":return bh(r,je,0,0,0,0);case"second":return bh(r,t,je,0,0,0);case"millisecond":return bh(r,t,n,je,0,0);case"microsecond":return bh(r,t,n,i,je,0);case"nanosecond":return bh(r,t,n,i,u,je);default:throw new Error(`Invalid unit ${f}`)}}function k_(r,t){return ox($e(r,Yr),$e(r,ei),$e(r,ii),$e(t,Yr),$e(t,ei),$e(t,ii),"day").days}function Gc(r,t,n,i){const u=Na(r,t,n,void 0,i);return{relativeTo:u,days:k_(t,u)}}function Tm(r,t,n,i,u){const h=$e(r,us),l=$e(r,tr);return Ba(Fl($e(r,yd),h,l,t,n,i,u,0,0,0,0,0,0),h,l)}function T5(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je){let Ke=r,nt=t,wt=n,Ot=i,Et=u,St=h,Nt=l,Yt=f,Qt=X,ln=W;if(!di(je)||"year"===re||"month"===re||"week"===re||"day"===re||"nanosecond"===re&&1===k)return{years:Ke,months:nt,weeks:wt,days:Ot,hours:Et,minutes:St,seconds:Nt,milliseconds:Yt,microseconds:Qt,nanoseconds:ln};let Ht=a0(0,Et,St,Nt,Yt,Qt,ln,0);const An=Ly(Bt.toNumber(Ht)),Jn=$e(je,us),qn=$e(je,tr),ar=Fl($e(je,yd),Jn,qn,Ke,nt,wt,Ot,0,0,0,0,0,0),Vn=Fl(new(kr("%Temporal.Instant%"))(ar),Jn,qn,0,0,0,An,0,0,0,0,0,0),jn=Bt.subtract(Vn,ar);return Bt.greaterThanOrEqual(Bt.multiply(Bt.subtract(Ht,jn),Bt.BigInt(An)),As)&&(({years:Ke,months:nt,weeks:wt,days:Ot}=ax(Ke,nt,wt,Ot,0,0,0,0,0,0,0,0,0,An,0,0,0,0,0,0,je)),Ht=c0(Bt.subtract(Ht,jn),k,re,Oe),({hours:Et,minutes:St,seconds:Nt,milliseconds:Yt,microseconds:Qt,nanoseconds:ln}=uu(0,0,0,0,0,0,Bt.toNumber(Ht),"hour"))),{years:Ke,months:nt,weeks:wt,days:Ot,hours:Et,minutes:St,seconds:Nt,milliseconds:Yt,microseconds:Qt,nanoseconds:ln}}function Gu(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je){let Ke=r,nt=t,wt=n,Ot=i,Et=u,St=h,Nt=l,Yt=f,Qt=X,ln=Bt.BigInt(W);const Ht=kr("%Temporal.Duration%");let An,Jn,qn,ar,Vn=je;if(Vn){if(di(Vn))Jn=Vn,Vn=os(Vn);else if(!Mo(Vn))throw new TypeError("starting point must be PlainDate or ZonedDateTime");An=$e(Vn,tr)}if("year"===re||"month"===re||"week"===re||"day"===re){let jn,Kn,Xn;ln=a0(0,Et,St,Nt,Yt,Qt,W,0),Jn&&(jn=Tm(Jn,Ke,nt,wt,Ot)),({days:Kn,nanoseconds:ln,dayLengthNs:Xn}=rx(ln,jn)),qn=Bt.BigInt(Xn),Ot+=Kn,Et=St=Nt=Yt=Qt=0}switch(re){case"year":{if(!An)throw new RangeError("A starting point is required for years rounding");const jn=new Ht(Ke),Kn="string"!=typeof An?Fo(An,"dateAdd"):void 0,Xn=Na(An,Vn,jn,void 0,Kn),In=Na(An,Vn,new Ht(Ke,nt,wt),void 0,Kn);Vn=Xn,Ot+=k_(Xn,In);const yr=Na(An,Vn,new Ht(0,0,0,Ot),void 0,Kn),gr=$c(null);gr.largestUnit="year";const Er=ph(An,Vn,yr,gr).years;Ke+=Er;const Gr=Vn;Vn=Na(An,Vn,new Ht(Er),void 0,Kn),Ot-=k_(Gr,Vn);const li=new Ht(Ot<0?-1:1);let{days:Pn}=Gc(An,Vn,li,Kn);Pn=Es(Pn);const hi=Bt.multiply(Bt.BigInt(Pn),qn);ln=Bt.add(Bt.add(Bt.multiply(hi,Bt.BigInt(Ke)),Bt.multiply(Bt.BigInt(Ot),qn)),ln);const mo=fl(ln,Bt.multiply(hi,Bt.BigInt(k)),Oe);ar=_h(ln,hi),Ke=Bt.toNumber(Bt.divide(mo,hi)),ln=As,nt=wt=Ot=0;break}case"month":{if(!An)throw new RangeError("A starting point is required for months rounding");const jn=new Ht(Ke,nt),Kn="string"!=typeof An?Fo(An,"dateAdd"):void 0,Xn=Na(An,Vn,jn,void 0,Kn),In=Na(An,Vn,new Ht(Ke,nt,wt),void 0,Kn);Vn=Xn,Ot+=k_(Xn,In);const yr=Ly(Ot),gr=new Ht(0,Ot<0?-1:1);let Er;for(({relativeTo:Vn,days:Er}=Gc(An,Vn,gr,Kn));Es(Ot)>=Es(Er);)nt+=yr,Ot-=Er,({relativeTo:Vn,days:Er}=Gc(An,Vn,gr,Kn));Er=Es(Er);const Gr=Bt.multiply(Bt.BigInt(Er),qn);ln=Bt.add(Bt.add(Bt.multiply(Gr,Bt.BigInt(nt)),Bt.multiply(Bt.BigInt(Ot),qn)),ln);const li=fl(ln,Bt.multiply(Gr,Bt.BigInt(k)),Oe);ar=_h(ln,Gr),nt=Bt.toNumber(Bt.divide(li,Gr)),ln=As,wt=Ot=0;break}case"week":{if(!An)throw new RangeError("A starting point is required for weeks rounding");const jn=Ly(Ot),Kn=new Ht(0,0,Ot<0?-1:1),Xn="string"!=typeof An?Fo(An,"dateAdd"):void 0;let In;for(({relativeTo:Vn,days:In}=Gc(An,Vn,Kn,Xn));Es(Ot)>=Es(In);)wt+=jn,Ot-=In,({relativeTo:Vn,days:In}=Gc(An,Vn,Kn,Xn));In=Es(In);const yr=Bt.multiply(Bt.BigInt(In),qn);ln=Bt.add(Bt.add(Bt.multiply(yr,Bt.BigInt(wt)),Bt.multiply(Bt.BigInt(Ot),qn)),ln);const gr=fl(ln,Bt.multiply(yr,Bt.BigInt(k)),Oe);ar=_h(ln,yr),wt=Bt.toNumber(Bt.divide(gr,yr)),ln=As,Ot=0;break}case"day":{const jn=qn;ln=Bt.add(Bt.multiply(jn,Bt.BigInt(Ot)),ln);const Kn=fl(ln,Bt.multiply(jn,Bt.BigInt(k)),Oe);ar=_h(ln,jn),Ot=Bt.toNumber(Bt.divide(Kn,jn)),ln=As;break}case"hour":{let Kn=Bt.multiply(Bt.BigInt(Et),Bt.BigInt(36e11));Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(St),Bt.BigInt(6e10))),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Nt),Df)),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Yt),Cc)),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Qt),ao)),Kn=Bt.add(Kn,ln),ar=_h(Kn,Bt.BigInt(36e11));const Xn=fl(Kn,Bt.BigInt(36e11*k),Oe);Et=Bt.toNumber(Bt.divide(Xn,Bt.BigInt(36e11))),ln=As,St=Nt=Yt=Qt=0;break}case"minute":{let Kn=Bt.multiply(Bt.BigInt(St),Bt.BigInt(6e10));Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Nt),Df)),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Yt),Cc)),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Qt),ao)),Kn=Bt.add(Kn,ln),ar=_h(Kn,Bt.BigInt(6e10));const Xn=fl(Kn,Bt.BigInt(6e10*k),Oe);St=Bt.toNumber(Bt.divide(Xn,Bt.BigInt(6e10))),ln=As,Nt=Yt=Qt=0;break}case"second":{let Kn=Bt.multiply(Bt.BigInt(Nt),Df);Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Yt),Cc)),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Qt),ao)),Kn=Bt.add(Kn,ln),ar=_h(Kn,Bt.BigInt(1e9));const Xn=fl(Kn,Bt.BigInt(1e9*k),Oe);Nt=Bt.toNumber(Bt.divide(Xn,Bt.BigInt(1e9))),ln=As,Yt=Qt=0;break}case"millisecond":{let Kn=Bt.multiply(Bt.BigInt(Yt),Cc);Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Qt),ao)),Kn=Bt.add(Kn,ln),ar=_h(Kn,Bt.BigInt(1e6));const Xn=fl(Kn,Bt.BigInt(1e6*k),Oe);Yt=Bt.toNumber(Bt.divide(Xn,Bt.BigInt(1e6))),ln=As,Qt=0;break}case"microsecond":{let Kn=Bt.multiply(Bt.BigInt(Qt),ao);Kn=Bt.add(Kn,ln),ar=_h(Kn,Bt.BigInt(1e3));const Xn=fl(Kn,Bt.BigInt(1e3*k),Oe);Qt=Bt.toNumber(Bt.divide(Xn,Bt.BigInt(1e3))),ln=As;break}case"nanosecond":ar=Bt.toNumber(ln),ln=fl(Bt.BigInt(ln),Bt.BigInt(k),Oe)}return{years:Ke,months:nt,weeks:wt,days:Ot,hours:Et,minutes:St,seconds:Nt,milliseconds:Yt,microseconds:Qt,nanoseconds:Bt.toNumber(ln),total:ar}}function Am(r,t,n,i,u,h){for(const[l,f]of[[r,i],[t,u],[n,h]])if(l!==f)return fu(l-f);return 0}function mp(r,t){let{quotient:n,remainder:i}=es(r,t);return Bt.lessThan(i,As)&&(n=Bt.subtract(n,ua),i=Bt.add(i,t)),{quotient:n,remainder:i}}function Dm(r,t){const{quotient:n,remainder:i}=es(r,t);return Md(i)||!a_(r)==!a_(t)?n:Bt.subtract(n,ua)}function _h(r,t){const{quotient:n,remainder:i}=es(r,t);return Bt.toNumber(n)+Bt.toNumber(i)/Bt.toNumber(t)}function Eh(r){const t=Pv(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function Pv(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=i_(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return Bt.BigInt("bigint"==typeof t?t.toString(10):t)}const ux=(()=>{let r=Bt.BigInt(Date.now()%1e6);return()=>{const t=Bt.BigInt(Date.now()),n=Bt.add(Bt.multiply(t,Cc),r);return r=Bt.remainder(t,Cc),Bt.greaterThan(n,Fy)?Fy:Bt.lessThan(n,cv)?cv:n}})();function yp(){return(new K2).resolvedOptions().timeZone}function fu(r){return r<0?-1:r>0?1:r}function Po(r){if(void 0===r)return $c(null);if(Ds(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function xh(r,t){const n=$c(null);return n[r]=t,n}function Ju(r){const t=$c(null);return fm(t,Po(r),[]),t}function pc(r,t,n,i){let u=r[t];if(void 0!==u){if(u=Vc(u),!n.includes(u))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${u}`);return u}return i}function Nf(r){return s_.includes(Xu(r))}function Xu(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const ID=new RegExp(`^${tD.source}$`);function d0(r,t,n,i=r(t),u=r(n)){let h=Bt.BigInt(t),l=Bt.BigInt(n),f=i,X=u;for(;Bt.greaterThan(Bt.subtract(l,h),ua);){const W=Bt.divide(Bt.add(h,l),Bt.BigInt(2)),k=r(W);if(k===f)h=W,f=k;else{if(k!==X)throw new Error(`invalid state in bisection ${f} - ${k} - ${X}`);l=W,X=k}}return l}const l0={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},CD=Symbol("date"),kD=Symbol("ym"),fx=Symbol("md"),u0=Symbol("time"),PD=Symbol("datetime"),OD=Symbol("instant"),f0=Symbol("original"),Im=Symbol("timezone"),jl=Symbol("calendar-id"),hx=Symbol("locale"),px=Symbol("options"),h0=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),p0=globalThis.Intl.DateTimeFormat,gp=Object.assign,oR=Object.prototype.hasOwnProperty,sR=Reflect.apply;function Ov(r,t){let n=r[t];return"function"==typeof n&&(n=new p0(r[hx],n(r[px])),r[t]=n),n}function vp(r,t={}){if(!(this instanceof vp))return new vp(r,t);const n=void 0!==t,i=n?gp({},t):{},u=new p0(r,i),h=u.resolvedOptions();if(n){const l=gp({},h);for(const f in l)sR(oR,i,[f])||delete l[f];this[px]=l}else this[px]=i;this[hx]=h.locale,this[f0]=u,this[Im]=h.timeZone,this[jl]=h.calendar,this[CD]=D5,this[kD]=Bv,this[fx]=A5,this[u0]=RD,this[PD]=I5,this[OD]=C5}Object.defineProperty(vp,"name",{writable:!0,value:"DateTimeFormat"}),vp.supportedLocalesOf=function(r,t){return p0.supportedLocalesOf(r,t)};const m0={resolvedOptions:h0(function(){return this[f0].resolvedOptions()}),format:h0(function(t,...n){let{instant:i,formatter:u}=y0(t,this);return i&&u?u.format(i.epochMilliseconds):this[f0].format(t,...n)}),formatRange:h0(function(t,n){if(Cm(t)||Cm(n)){if(!ND(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:u}=y0(t,this),{instant:h,formatter:l}=y0(n,this);if(i&&h&&u&&l&&u===l)return u.formatRange(i.epochMilliseconds,h.epochMilliseconds)}return this[f0].formatRange(t,n)})};"formatToParts"in p0.prototype&&(m0.formatToParts=h0(function(t,...n){let{instant:i,formatter:u}=y0(t,this);return i&&u?u.formatToParts(i.epochMilliseconds):this[f0].formatToParts(t,...n)})),"formatRangeToParts"in p0.prototype&&(m0.formatRangeToParts=h0(function(t,n){if(Cm(t)||Cm(n)){if(!ND(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:u}=y0(t,this),{instant:h,formatter:l}=y0(n,this);if(i&&h&&u&&l&&u===l)return u.formatRangeToParts(i.epochMilliseconds,h.epochMilliseconds)}return this[f0].formatRangeToParts(t,n)})),vp.prototype=Object.create(p0.prototype,m0),Object.defineProperty(vp,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Mh=vp;function Rv(r={},t={}){const n=gp({},r);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[i]=i in t?t[i]:n[i],!1!==n[i]&&void 0!==n[i]||delete n[i];return n}function RD(r){let t=Rv(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return mx(t)||(t=gp({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function Bv(r){let t=Rv(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=gp(t,{year:"numeric",month:"numeric"})),t}function A5(r){let t=Rv(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=gp({},t,{month:"numeric",day:"numeric"})),t}function D5(r){let t=Rv(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return BD(t)||(t=gp({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function I5(r){let t=Rv(r,{timeZoneName:!1});return mx(t)||BD(t)||(t=gp({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function C5(r){let t=r;return mx(t)||BD(t)||(t=gp({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function BD(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function mx(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function Cm(r){return Mo(r)||qs(r)||qi(r)||di(r)||Go(r)||ha(r)||Ys(r)}function ND(r,t){return!(!Cm(r)||!Cm(t)||qs(r)&&!qs(t)||Mo(r)&&!Mo(t)||qi(r)&&!qi(t)||di(r)&&!di(t)||Go(r)&&!Go(t)||ha(r)&&!ha(t)||Ys(r)&&!Ys(t))}function y0(r,t){const n=kr("%Temporal.PlainDateTime%");if(qs(r)){const i=new n(1970,1,1,$e(r,so),$e(r,Xi),$e(r,Yi),$e(r,Zi),$e(r,to),$e(r,no),t[jl]);return{instant:Wc(t[Im],i,"compatible"),formatter:Ov(t,u0)}}if(Go(r)){const i=$e(r,Yr),u=$e(r,ei),h=$e(r,ii),l=zc($e(r,tr));if(l!==t[jl])throw new RangeError(`cannot format PlainYearMonth with calendar ${l} in locale with calendar ${t[jl]}`);const f=new n(i,u,h,12,0,0,0,0,0,l);return{instant:Wc(t[Im],f,"compatible"),formatter:Ov(t,kD)}}if(ha(r)){const i=$e(r,Yr),u=$e(r,ei),h=$e(r,ii),l=zc($e(r,tr));if(l!==t[jl])throw new RangeError(`cannot format PlainMonthDay with calendar ${l} in locale with calendar ${t[jl]}`);const f=new n(i,u,h,12,0,0,0,0,0,l);return{instant:Wc(t[Im],f,"compatible"),formatter:Ov(t,fx)}}if(Mo(r)){const i=$e(r,Yr),u=$e(r,ei),h=$e(r,ii),l=zc($e(r,tr));if("iso8601"!==l&&l!==t[jl])throw new RangeError(`cannot format PlainDate with calendar ${l} in locale with calendar ${t[jl]}`);const f=new n(i,u,h,12,0,0,0,0,0,t[jl]);return{instant:Wc(t[Im],f,"compatible"),formatter:Ov(t,CD)}}if(qi(r)){const i=$e(r,Yr),u=$e(r,ei),h=$e(r,ii),l=$e(r,so),f=$e(r,Xi),X=$e(r,Yi),W=$e(r,Zi),k=$e(r,to),re=$e(r,no),Oe=zc($e(r,tr));if("iso8601"!==Oe&&Oe!==t[jl])throw new RangeError(`cannot format PlainDateTime with calendar ${Oe} in locale with calendar ${t[jl]}`);let je=r;return"iso8601"===Oe&&(je=new n(i,u,h,l,f,X,W,k,re,t[jl])),{instant:Wc(t[Im],je,"compatible"),formatter:Ov(t,PD)}}if(di(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return Ys(r)?{instant:r,formatter:Ov(t,OD)}:{}}Object.freeze({__proto__:null,DateTimeFormat:Mh});class hu{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=Pv(t);pp(n),fh(this),fo(this,_i,n)}get epochSeconds(){if(!Ys(this))throw new TypeError("invalid receiver");const t=$e(this,_i);return Bt.toNumber(Dm(t,Df))}get epochMilliseconds(){if(!Ys(this))throw new TypeError("invalid receiver");const t=Bt.BigInt($e(this,_i));return Bt.toNumber(Dm(t,Cc))}get epochMicroseconds(){if(!Ys(this))throw new TypeError("invalid receiver");return Eh(Dm(Bt.BigInt($e(this,_i)),ao))}get epochNanoseconds(){if(!Ys(this))throw new TypeError("invalid receiver");return Eh(Bt.BigInt($e(this,_i)))}add(t){if(!Ys(this))throw new TypeError("invalid receiver");return Cv("add",this,t)}subtract(t){if(!Ys(this))throw new TypeError("invalid receiver");return Cv("subtract",this,t)}until(t,n){if(!Ys(this))throw new TypeError("invalid receiver");return Av("until",this,t,n)}since(t,n){if(!Ys(this))throw new TypeError("invalid receiver");return Av("since",this,t,n)}round(t){if(!Ys(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?xh("smallestUnit",t):Po(t),i=Gy(n),u=$u(n,"halfExpand"),h=ll(n,"smallestUnit","time",pm);Jy(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[h],!0);const l=c0($e(this,_i),i,h,u);return new hu(l)}equals(t){if(!Ys(this))throw new TypeError("invalid receiver");const n=cu(t),i=$e(this,_i),u=$e(n,_i);return Bt.equal(Bt.BigInt(i),Bt.BigInt(u))}toString(t){if(!Ys(this))throw new TypeError("invalid receiver");const n=Po(t),i=hv(n),u=$u(n,"trunc"),h=ll(n,"smallestUnit","time",void 0);if("hour"===h)throw new RangeError('smallestUnit must be a time unit other than "hour"');let l=n.timeZone;void 0!==l&&(l=Hc(l));const{precision:f,unit:X,increment:W}=pv(h,i),k=c0($e(this,_i),W,X,u);return v_(new hu(k),l,f)}toJSON(){if(!Ys(this))throw new TypeError("invalid receiver");return v_(this,void 0,"auto")}toLocaleString(t,n){if(!Ys(this))throw new TypeError("invalid receiver");return new Mh(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!Ys(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const i=ul(n),u=t.timeZone;if(void 0===u)throw new TypeError("missing timeZone property in toZonedDateTime");const h=Hc(u);return Ba($e(this,_i),h,i)}toZonedDateTimeISO(t){if(!Ys(this))throw new TypeError("invalid receiver");const n=Hc(t);return Ba($e(this,_i),n,"iso8601")}static fromEpochSeconds(t){const n=lm(t),i=Bt.multiply(Bt.BigInt(n),Df);return pp(i),new hu(i)}static fromEpochMilliseconds(t){const n=lm(t),i=Bt.multiply(Bt.BigInt(n),Cc);return pp(i),new hu(i)}static fromEpochMicroseconds(t){const n=Pv(t),i=Bt.multiply(n,ao);return pp(i),new hu(i)}static fromEpochNanoseconds(t){const n=Pv(t);return pp(n),new hu(n)}static from(t){return Ys(t)?new hu($e(t,_i)):cu(t)}static compare(t,n){const i=cu(t),u=cu(n),h=$e(i,_i),l=$e(u,_i);return Bt.lessThan(h,l)?-1:Bt.greaterThan(h,l)?1:0}}Ku(hu,"Temporal.Instant");const yx=Array.prototype.includes,UD=Array.prototype.push,k5=globalThis.Intl.DateTimeFormat,LD=Array.prototype.sort,P5=Math.abs,gx=Math.floor,vx=Object.create,O_=Object.entries,bx=Set,KD=Reflect.ownKeys,Jc=Set.prototype.add,FD=Set.prototype.values,Cs={};class pa{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=Vc(t);if(!Nf(n))throw new RangeError(`invalid calendar identifier ${n}`);fh(this),fo(this,Xs,Xu(n))}get id(){if(!$s(this))throw new TypeError("invalid receiver");return $e(this,Xs)}dateFromFields(t,n){if(!$s(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid fields");const i=Po(n),u=$e(this,Xs);return Cs[u].dateFromFields(t,i,u)}yearMonthFromFields(t,n){if(!$s(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid fields");const i=Po(n),u=$e(this,Xs);return Cs[u].yearMonthFromFields(t,i,u)}monthDayFromFields(t,n){if(!$s(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid fields");const i=Po(n),u=$e(this,Xs);return Cs[u].monthDayFromFields(t,i,u)}fields(t){if(!$s(this))throw new TypeError("invalid receiver");const n=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const u of t){if("string"!=typeof u)throw new TypeError("invalid fields");if(!i.has(u))throw new RangeError(`invalid field name ${u}`);i.delete(u),UD.call(n,u)}return Cs[$e(this,Xs)].fields(n)}mergeFields(t,n){if(!$s(this))throw new TypeError("invalid receiver");const i=z2(t),u=vx(null);fm(u,i,[],[void 0]);const h=z2(n),l=vx(null);fm(l,h,[],[void 0]);const f=KD(l),X=Cs[$e(this,Xs)].fieldKeysToIgnore(f),W=vx(null),k=KD(u);for(const re of k){let Oe;Oe=fi(yx,X,[re])?l[re]:u[re],void 0!==Oe&&(W[re]=Oe)}return fm(W,l,[]),W}dateAdd(t,n,i){if(!$s(this))throw new TypeError("invalid receiver");const u=os(t),h=Xy(n),l=Ra(Po(i)),{days:f}=uu($e(h,vd),$e(h,zd),$e(h,jc),$e(h,bd),$e(h,Hd),$e(h,wd),$e(h,_d),"day"),X=$e(this,Xs);return Cs[X].dateAdd(u,$e(h,gd),$e(h,xa),$e(h,Mc),f,l,X)}dateUntil(t,n,i){if(!$s(this))throw new TypeError("invalid receiver");const u=os(t),h=os(n);let l=ll(Po(i),"largestUnit","date","auto");"auto"===l&&(l="day");const{years:f,months:X,weeks:W,days:k}=Cs[$e(this,Xs)].dateUntil(u,h,l);return new(kr("%Temporal.Duration%"))(f,X,W,k,0,0,0,0,0,0)}year(t){let n=t;if(!$s(this))throw new TypeError("invalid receiver");return Go(n)||(n=os(n)),Cs[$e(this,Xs)].year(n)}month(t){let n=t;if(!$s(this))throw new TypeError("invalid receiver");if(ha(n))throw new TypeError("use monthCode on PlainMonthDay instead");return Go(n)||(n=os(n)),Cs[$e(this,Xs)].month(n)}monthCode(t){let n=t;if(!$s(this))throw new TypeError("invalid receiver");return Go(n)||ha(n)||(n=os(n)),Cs[$e(this,Xs)].monthCode(n)}day(t){let n=t;if(!$s(this))throw new TypeError("invalid receiver");return ha(n)||(n=os(n)),Cs[$e(this,Xs)].day(n)}era(t){let n=t;if(!$s(this))throw new TypeError("invalid receiver");return Go(n)||(n=os(n)),Cs[$e(this,Xs)].era(n)}eraYear(t){let n=t;if(!$s(this))throw new TypeError("invalid receiver");return Go(n)||(n=os(n)),Cs[$e(this,Xs)].eraYear(n)}dayOfWeek(t){if(!$s(this))throw new TypeError("invalid receiver");const n=os(t);return Cs[$e(this,Xs)].dayOfWeek(n)}dayOfYear(t){if(!$s(this))throw new TypeError("invalid receiver");const n=os(t);return Cs[$e(this,Xs)].dayOfYear(n)}weekOfYear(t){if(!$s(this))throw new TypeError("invalid receiver");const n=os(t);return Cs[$e(this,Xs)].weekOfYear(n)}yearOfWeek(t){if(!$s(this))throw new TypeError("invalid receiver");const n=os(t);return Cs[$e(this,Xs)].yearOfWeek(n)}daysInWeek(t){if(!$s(this))throw new TypeError("invalid receiver");const n=os(t);return Cs[$e(this,Xs)].daysInWeek(n)}daysInMonth(t){let n=t;if(!$s(this))throw new TypeError("invalid receiver");return Go(n)||(n=os(n)),Cs[$e(this,Xs)].daysInMonth(n)}daysInYear(t){let n=t;if(!$s(this))throw new TypeError("invalid receiver");return Go(n)||(n=os(n)),Cs[$e(this,Xs)].daysInYear(n)}monthsInYear(t){let n=t;if(!$s(this))throw new TypeError("invalid receiver");return Go(n)||(n=os(n)),Cs[$e(this,Xs)].monthsInYear(n)}inLeapYear(t){let n=t;if(!$s(this))throw new TypeError("invalid receiver");return Go(n)||(n=os(n)),Cs[$e(this,Xs)].inLeapYear(n)}toString(){if(!$s(this))throw new TypeError("invalid receiver");return $e(this,Xs)}toJSON(){if(!$s(this))throw new TypeError("invalid receiver");return $e(this,Xs)}static from(t){return wv(ul(t))}}function R_(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function Sh(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function B_(r,t,n=12){let{month:i,monthCode:u}=r;if(void 0===u){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===t&&hc(i,1,n),"constrain"===t&&(i=xl(i,1,n)),u=Sh(i)}else{const h=R_(u);if(void 0!==i&&i!==h)throw new RangeError(`monthCode ${u} and month ${i} must match if both are present`);if(u!==Sh(h))throw new RangeError(`Invalid month code: ${u}`);if(i=h,i<1||i>n)throw new RangeError(`Invalid monthCode: ${u}`)}return{...r,month:i,monthCode:u}}Ku(pa,"Temporal.Calendar"),js("Temporal.Calendar.from",pa.from),js("Temporal.Calendar.prototype.dateAdd",pa.prototype.dateAdd),js("Temporal.Calendar.prototype.dateFromFields",pa.prototype.dateFromFields),js("Temporal.Calendar.prototype.dateUntil",pa.prototype.dateUntil),js("Temporal.Calendar.prototype.day",pa.prototype.day),js("Temporal.Calendar.prototype.dayOfWeek",pa.prototype.dayOfWeek),js("Temporal.Calendar.prototype.dayOfYear",pa.prototype.dayOfYear),js("Temporal.Calendar.prototype.daysInMonth",pa.prototype.daysInMonth),js("Temporal.Calendar.prototype.daysInWeek",pa.prototype.daysInWeek),js("Temporal.Calendar.prototype.daysInYear",pa.prototype.daysInYear),js("Temporal.Calendar.prototype.era",pa.prototype.era),js("Temporal.Calendar.prototype.eraYear",pa.prototype.eraYear),js("Temporal.Calendar.prototype.fields",pa.prototype.fields),js("Temporal.Calendar.prototype.inLeapYear",pa.prototype.inLeapYear),js("Temporal.Calendar.prototype.mergeFields",pa.prototype.mergeFields),js("Temporal.Calendar.prototype.month",pa.prototype.month),js("Temporal.Calendar.prototype.monthCode",pa.prototype.monthCode),js("Temporal.Calendar.prototype.monthDayFromFields",pa.prototype.monthDayFromFields),js("Temporal.Calendar.prototype.monthsInYear",pa.prototype.monthsInYear),js("Temporal.Calendar.prototype.weekOfYear",pa.prototype.weekOfYear),js("Temporal.Calendar.prototype.year",pa.prototype.year),js("Temporal.Calendar.prototype.yearMonthFromFields",pa.prototype.yearMonthFromFields),js("Temporal.Calendar.prototype.yearOfWeek",pa.prototype.yearOfWeek),Cs.iso8601={dateFromFields(r,t,n){let i=po(r,["day","month","monthCode","year"],["year","day"]);const u=Ra(t);i=B_(i);let{year:h,month:l,day:f}=i;return({year:h,month:l,day:f}=zy(h,l,f,u)),_l(h,l,f,n)},yearMonthFromFields(r,t,n){let i=po(r,["month","monthCode","year"],["year"]);const u=Ra(t);i=B_(i);let{year:h,month:l}=i;return({year:h,month:l}=function(X,W,k){let re=X,Oe=W;switch(k){case"reject":Wu(re,Oe,1);break;case"constrain":({year:re,month:Oe}=bD(re,Oe))}return{year:re,month:Oe}}(h,l,u)),kf(h,l,n,1)},monthDayFromFields(r,t,n){let i=po(r,["day","month","monthCode","year"],["day"]);const u=Ra(t);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const h=void 0===i.monthCode;i=B_(i);let{month:l,day:f,year:X}=i;return({month:l,day:f}=zy(h?X:1972,l,f,u)),Cf(l,f,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new bx;for(let n=0;n<r.length;n++){const i=r[n];fi(Jc,t,[i]),"month"===i?fi(Jc,t,["monthCode"]):"monthCode"===i&&fi(Jc,t,["month"])}return[...fi(FD,t,[])]},dateAdd(r,t,n,i,u,h,l){let f=$e(r,Yr),X=$e(r,ei),W=$e(r,ii);return({year:f,month:X,day:W}=Bf(f,X,W,t,n,i,u,h)),_l(f,X,W,l)},dateUntil:(r,t,n)=>ox($e(r,Yr),$e(r,ei),$e(r,ii),$e(t,Yr),$e(t,ei),$e(t,ii),n),year:r=>$e(r,Yr),era(){},eraYear(){},month:r=>$e(r,ei),monthCode:r=>Sh($e(r,ei)),day:r=>$e(r,ii),dayOfWeek:r=>s0($e(r,Yr),$e(r,ei),$e(r,ii)),dayOfYear:r=>E_($e(r,Yr),$e(r,ei),$e(r,ii)),weekOfYear:r=>tx($e(r,Yr),$e(r,ei),$e(r,ii)).week,yearOfWeek:r=>tx($e(r,Yr),$e(r,ei),$e(r,ii)).year,daysInWeek:()=>7,daysInMonth:r=>Rf($e(r,Yr),$e(r,ei)),daysInYear(r){let t=r;return ec(t,Yr)||(t=os(t)),vh($e(t,Yr))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return ec(t,Yr)||(t=os(t)),vh($e(t,Yr))}};class Qs{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const i of t.map.entries()){if(++n>Qs.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(Qs.objectMap.get(t))throw new RangeError("object already cached");Qs.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=Qs.objectMap.get(t);return n||(n=new Qs,Qs.objectMap.set(t,n)),n}}function jD({isoYear:r,isoMonth:t,isoDay:n}){return`${n0(r)}-${Is(t)}-${Is(n)}T00:00Z`}function wx(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}Qs.objectMap=new WeakMap,Qs.MAX_CACHE_ENTRIES=1e3;class g0{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new k5(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:i,month:u,day:h}=t,l=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:u,isoDay:h,id:this.id}),f=n.get(l);if(f)return f;const X=this.getFormatter();let W,k;try{k=jD({isoYear:i,isoMonth:u,isoDay:h}),W=X.formatToParts(new Date(k))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:u,isoDay:h})}`)}const re={};for(let{type:je,value:Ke}of W){if("year"===je&&(re.eraYear=+Ke),"relatedYear"===je&&(re.eraYear=+Ke),"month"===je){const nt=/^([0-9]*)(.*?)$/.exec(Ke);if(!nt||3!=nt.length||!nt[1]&&!nt[2])throw new RangeError(`Unexpected month: ${Ke}`);if(re.month=nt[1]?+nt[1]:1,re.month<1)throw new RangeError(`Invalid month ${Ke} from ${k}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(re.month>13)throw new RangeError(`Invalid month ${Ke} from ${k}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);nt[2]&&(re.monthExtra=nt[2])}"day"===je&&(re.day=+Ke),this.hasEra&&"era"===je&&null!=Ke&&""!==Ke&&(Ke=Ke.split(" (")[0],re.era=Ke.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===re.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:je,eraYear:Ke}=this.reviseIntlEra(re,t);re.era=je,re.eraYear=Ke}this.checkIcuBugs&&this.checkIcuBugs(t);const Oe=this.adjustCalendarDate(re,n,"constrain",!0);if(void 0===Oe.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===Oe.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===Oe.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(l,Oe),["constrain","reject"].forEach(je=>{const Ke=JSON.stringify({func:"calendarToIsoDate",year:Oe.year,month:Oe.month,day:Oe.day,overflow:je,id:this.id});n.set(Ke,t)}),Oe}validateCalendarDate(t){const{era:n,month:i,year:u,day:h,eraYear:l,monthCode:f,monthExtra:X}=t;if(void 0!==X)throw new RangeError("Unexpected `monthExtra` value");if(void 0===u&&void 0===l)throw new TypeError("year or eraYear is required");if(void 0===i&&void 0===f)throw new TypeError("month or monthCode is required");if(void 0===h)throw new RangeError("Missing day");if(void 0!==f){if("string"!=typeof f)throw new RangeError("monthCode must be a string, not "+typeof f);if(!/^M([01]?\d)(L?)$/.test(f))throw new RangeError(`Invalid monthCode: ${f}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==l&&void 0!==u&&l!==u)throw new RangeError(`eraYear ${l} does not match year ${u}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,i="constrain",u=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let h=t;if(this.validateCalendarDate(h),this.constantEra){const{year:W,eraYear:k}=h;h={...h,era:this.constantEra,year:void 0!==W?W:k,eraYear:void 0!==k?k:W}}const l=this.monthsInYear(h,n);let{month:f,monthCode:X}=h;return({month:f,monthCode:X}=B_(h,i,l)),{...h,month:f,monthCode:X}}regulateMonthDayNaive(t,n,i){const u=this.monthsInYear(t,i);let{month:h,day:l}=t;return"reject"===n?(hc(h,1,u),hc(l,1,this.maximumMonthLength(t))):(h=xl(h,1,u),l=xl(l,1,this.maximumMonthLength({...t,month:h}))),{...t,month:h,day:l}}calendarToIsoDate(t,n="constrain",i){const u=t;let h=this.adjustCalendarDate(t,i,n,!1);h=this.regulateMonthDayNaive(h,n,i);const{year:l,month:f,day:X}=h,W=JSON.stringify({func:"calendarToIsoDate",year:l,month:f,day:X,overflow:n,id:this.id});let k,re=i.get(W);if(re||void 0!==u.year&&void 0!==u.month&&void 0!==u.day&&(u.year!==h.year||u.month!==h.month||u.day!==h.day)&&(k=JSON.stringify({func:"calendarToIsoDate",year:u.year,month:u.month,day:u.day,overflow:n,id:this.id}),re=i.get(k),re))return re;let Oe=this.estimateIsoDate({year:l,month:f,day:X});const je=Et=>{let St=this.addDaysIso(Oe,Et);if(h.day>this.minimumMonthLength(h)){let Nt=this.isoToCalendarDate(St,i);for(;Nt.month!==f||Nt.year!==l;){if("reject"===n)throw new RangeError(`day ${X} does not exist in month ${f} of year ${l}`);St=this.addDaysIso(St,-1),Nt=this.isoToCalendarDate(St,i)}}return St};let Ke=0,nt=this.isoToCalendarDate(Oe,i),wt=wx(h,nt);0===wt.years&&0===wt.months&&0===wt.days||(Oe=this.addDaysIso(Oe,365*wt.years+30*wt.months+wt.days),nt=this.isoToCalendarDate(Oe,i),wt=wx(h,nt),0===wt.years&&0===wt.months?Oe=je(wt.days):Ke=this.compareCalendarDates(h,nt));let Ot=8;for(;Ke;){Oe=this.addDaysIso(Oe,Ke*Ot);const Et=nt;nt=this.isoToCalendarDate(Oe,i);const St=Ke;if(Ke=this.compareCalendarDates(h,nt),Ke)if(wt=wx(h,nt),0===wt.years&&0===wt.months)Oe=je(wt.days),Ke=0;else if(St&&Ke!==St)if(Ot>1)Ot/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...u})}`);this.compareCalendarDates(nt,Et)>0&&(Oe=this.addDaysIso(Oe,-1)),Ke=0}}if(i.set(W,Oe),k&&i.set(k,Oe),void 0===h.year||void 0===h.month||void 0===h.day||void 0===h.monthCode||this.hasEra&&(void 0===h.era||void 0===h.eraYear))throw new RangeError("Unexpected missing property");return Oe}temporalToCalendarDate(t,n){const i={year:$e(t,Yr),month:$e(t,ei),day:$e(t,ii)};return this.isoToCalendarDate(i,n)}compareCalendarDates(t,n){const i=po(t,["day","month","year"],["day","month","year"]),u=po(n,["day","month","year"],["day","month","year"]);return i.year!==u.year?fu(i.year-u.year):i.month!==u.month?fu(i.month-u.month):i.day!==u.day?fu(i.day-u.day):0}regulateDate(t,n="constrain",i){const u=this.calendarToIsoDate(t,n,i);return this.isoToCalendarDate(u,i)}addDaysIso(t,n){return Bf(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,i){const u=this.calendarToIsoDate(t,"constrain",i),h=this.addDaysIso(u,n);return this.isoToCalendarDate(h,i)}addMonthsCalendar(t,n,i,u){let h=t;const{day:l}=h;for(let f=0,X=P5(n);f<X;f++){const{month:W}=h,k=h,re=n<0?-Math.max(l,this.daysInPreviousMonth(h,u)):this.daysInMonth(h,u),Oe=this.calendarToIsoDate(h,"constrain",u);let je=this.addDaysIso(Oe,re);if(h=this.isoToCalendarDate(je,u),n>0){const Ke=this.monthsInYear(k,u);for(;h.month-1!=W%Ke;)je=this.addDaysIso(je,-1),h=this.isoToCalendarDate(je,u)}h.day!==l&&(h=this.regulateDate({...h,day:l},"constrain",u))}if("reject"===i&&h.day!==l)throw new RangeError(`Day ${l} does not exist in resulting calendar month`);return h}addCalendar(t,{years:n=0,months:i=0,weeks:u=0,days:h=0},l,f){const{year:X,day:W,monthCode:k}=t,re=this.adjustCalendarDate({year:X+n,monthCode:k,day:W},f),Oe=this.addMonthsCalendar(re,i,l,f);return this.addDaysCalendar(Oe,h+7*u,f)}untilCalendar(t,n,i,u){let h=0,l=0,f=0,X=0;switch(i){case"day":h=this.calendarDaysUntil(t,n,u);break;case"week":{const W=this.calendarDaysUntil(t,n,u);h=W%7,l=(W-h)/7;break}case"month":case"year":{const W=this.compareCalendarDates(n,t);if(!W)return{years:0,months:0,weeks:0,days:0};const k=n.year-t.year;if("year"===i&&k){let Ke=0;n.monthCode>t.monthCode&&(Ke=1),n.monthCode<t.monthCode&&(Ke=-1),Ke||(Ke=Math.sign(n.day-t.day)),X=Ke*W<0?k-W:k}let Oe,je=X?this.addCalendar(t,{years:X},"constrain",u):t;do{f+=W,Oe=je,je=this.addMonthsCalendar(Oe,W,"constrain",u),je.day!==t.day&&(je=this.regulateDate({...je,day:t.day},"constrain",u))}while(this.compareCalendarDates(n,je)*W>=0);f-=W,h=this.calendarDaysUntil(Oe,n,u);break}}return{years:X,months:f,weeks:l,days:h}}daysInMonth(t,n){const{day:i}=t,u=this.maximumMonthLength(t),h=this.minimumMonthLength(t);if(h===u)return h;const l=i<=u-h?u:h,f=this.calendarToIsoDate(t,"constrain",n),X=this.addDaysIso(f,l),W=this.isoToCalendarDate(X,n),k=this.addDaysIso(X,-W.day);return this.isoToCalendarDate(k,n).day}daysInPreviousMonth(t,n){const{day:i,month:u,year:h}=t;let l={year:u>1?h:h-1,month:u,day:1};const f=u>1?u-1:this.monthsInYear(l,n);l={...l,month:f};const X=this.minimumMonthLength(l),W=this.maximumMonthLength(l);if(X===W)return W;const k=this.calendarToIsoDate(t,"constrain",n),re=this.addDaysIso(k,-i);return this.isoToCalendarDate(re,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,i){const u=this.calendarToIsoDate(t,"constrain",i),h=this.calendarToIsoDate(n,"constrain",i);return this.isoDaysUntil(u,h)}isoDaysUntil(t,n){return ox(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,i){let u,h,l,f,X,{monthCode:W,day:k}=t;if(void 0===W){let{year:je,era:Ke,eraYear:nt}=t;if(void 0===je&&(void 0===Ke||void 0===nt))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:W,day:k}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,i),i))}const re=this.isoToCalendarDate({year:1972,month:12,day:31},i),Oe=re.monthCode>W||re.monthCode===W&&re.day>=k?re.year:re.year-1;for(let je=0;je<100;je++){const Ke=this.adjustCalendarDate({day:k,monthCode:W,year:Oe-je},i),nt=this.calendarToIsoDate(Ke,"constrain",i),wt=this.isoToCalendarDate(nt,i);if(({year:u,month:h,day:l}=nt),wt.monthCode===W&&wt.day===k)return{month:h,day:l,year:u};"constrain"===n&&(void 0===f||wt.monthCode===f.monthCode&&wt.day>f.day)&&(f=wt,X=nt)}if("constrain"===n&&void 0!==X)return X;throw new RangeError(`No recent ${this.id} year with monthCode ${W} and day ${k}`)}}class O5 extends g0{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:i,year:u}=t,h=this.getMonthCode(u,i),l=O_(this.months).find(X=>X[1].monthCode===h);if(void 0===l)throw new RangeError(`unmatched Hebrew month: ${i}`);const f=l[1].days;return"number"==typeof f?f:f[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?Sh(5,!0):Sh(n<6?n:n-1):Sh(n)}adjustCalendarDate(t,n,i="constrain",u=!1){let{year:h,eraYear:l,month:f,monthCode:X,day:W,monthExtra:k}=t;if(void 0===h&&void 0!==l&&(h=l),void 0===l&&void 0!==h&&(l=h),u){if(k){const re=this.months[k];if(!re)throw new RangeError(`Unrecognized month from formatToParts: ${k}`);f=this.inLeapYear({year:h})?re.leap:re.regular}return X=this.getMonthCode(h,f),{year:h,month:f,day:W,era:void 0,eraYear:l,monthCode:X}}if(this.validateCalendarDate(t),void 0===f)if(X.endsWith("L")){if("M05L"!==X)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${X}`);if(f=6,!this.inLeapYear({year:h})){if("reject"===i)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${h} which is not a leap year`);f=6,X="M06"}}else{f=R_(X),this.inLeapYear({year:h})&&f>=6&&f++;const re=this.monthsInYear({year:h});if(f<1||f>re)throw new RangeError(`Invalid monthCode: ${X}`)}else if("reject"===i?(hc(f,1,this.monthsInYear({year:h})),hc(W,1,this.maximumMonthLength({year:h,month:f}))):(f=xl(f,1,this.monthsInYear({year:h})),W=xl(W,1,this.maximumMonthLength({year:h,month:f}))),void 0===X)X=this.getMonthCode(h,f);else if(this.getMonthCode(h,f)!==X)throw new RangeError(`monthCode ${X} doesn't correspond to month ${f} in Hebrew year ${h}`);return{...t,day:W,month:f,monthCode:X,year:h,eraYear:l}}}class v0 extends g0{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:gx(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class _x extends v0{constructor(){super(...arguments),this.id="islamic"}}class $D extends v0{constructor(){super(...arguments),this.id="islamic-umalqura"}}class VD extends v0{constructor(){super(...arguments),this.id="islamic-tbla"}}class R5 extends v0{constructor(){super(...arguments),this.id="islamic-civil"}}class zD extends v0{constructor(){super(...arguments),this.id="islamic-rgsa"}}class B5 extends v0{constructor(){super(...arguments),this.id="islamicc"}}class N5 extends g0{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return _x.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class HD extends g0{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return N_(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let i=this.months[n];if(void 0===i)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&i.leap&&(i=i.leap),i}estimateIsoDate(t){const n=this.adjustCalendarDate(t),i=this.getMonthInfo(n);return Bf(n.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function N_(r){return r%4==0&&(r%100!=0||r%400==0)}class km extends g0{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:i,anchorEra:u}=function(l){let f,X=l;if(0===X.length)throw new RangeError("Invalid era data: eras are required");if(1===X.length&&X[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===X.length&&!X[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(X.filter(k=>null!=k.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");X.forEach(k=>{if(k.isAnchor||!k.anchorEpoch&&!k.reverseOf){if(f)throw new RangeError("Invalid era data: cannot have multiple anchor eras");f=k,k.anchorEpoch={year:k.hasYearZero?0:1}}else if(!k.name)throw new RangeError("If era name is blank, it must be the anchor era")}),X=X.filter(k=>k.name),X.forEach(k=>{const{reverseOf:re}=k;if(re){const Oe=X.find(je=>je.name===re);if(void 0===Oe)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${re}`);k.reverseOf=Oe,k.anchorEpoch=Oe.anchorEpoch,k.isoEpoch=Oe.isoEpoch}void 0===k.anchorEpoch.month&&(k.anchorEpoch.month=1),void 0===k.anchorEpoch.day&&(k.anchorEpoch.day=1)}),LD.call(X,(k,re)=>{if(k.reverseOf)return 1;if(re.reverseOf)return-1;if(!k.isoEpoch||!re.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return re.isoEpoch.year-k.isoEpoch.year});const W=X[X.length-1].reverseOf;if(W&&W!==X[X.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return X.forEach((k,re)=>{k.genericName="era"+(X.length-1-re)}),{eras:X,anchorEra:f||X[0]}}(n);this.anchorEra=u,this.eras=i}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return N_(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(f,X)=>{const W=t[f];if(null!=W&&W!=X)throw new RangeError(`Input ${f} ${W} doesn't match calculated value ${X}`)},i=f=>{let X;const W={...t,year:f},k=this.eras.find((re,Oe)=>{if(Oe===this.eras.length-1){if(re.reverseOf){if(f>0)throw new RangeError(`Signed year ${f} is invalid for era ${re.name}`);return X=re.anchorEpoch.year-f,!0}return X=f-re.anchorEpoch.year+(re.hasYearZero?0:1),!0}return this.compareCalendarDates(W,re.anchorEpoch)>=0&&(X=f-re.anchorEpoch.year+(re.hasYearZero?0:1),!0)});if(!k)throw new RangeError(`Year ${f} was not matched by any era`);return{eraYear:X,era:k.name}};let{year:u,eraYear:h,era:l}=t;if(null!=u)({eraYear:h,era:l}=i(u)),n("era",l),n("eraYear",h);else{if(null==h)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const f=void 0===l?void 0:this.eras.find(X=>X.name===l||X.genericName===l);if(!f)throw new RangeError(`Era ${l} (ISO year ${h}) was not matched by any era`);if(h<1&&f.reverseOf)throw new RangeError(`Years in ${l} era must be positive, not ${u}`);u=f.reverseOf?f.anchorEpoch.year-h:h+f.anchorEpoch.year-(f.hasYearZero?0:1),n("year",u),({eraYear:h,era:l}=i(u))}}return{...t,year:u,eraYear:h,era:l}}adjustCalendarDate(t,n,i="constrain"){let u=t;const{month:h,monthCode:l}=u;return void 0===h&&(u={...u,month:R_(l)}),this.validateCalendarDate(u),u=this.completeEraYear(u),super.adjustCalendarDate(u,n,i)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:i,month:u,day:h}=n,{anchorEra:l}=this;return zy(i+l.isoEpoch.year-(l.hasYearZero?0:1),u,h,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Am(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class Nv extends km{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class U5 extends Nv{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class Ex extends Nv{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class WD extends Nv{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class GD extends km{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class aR extends km{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class JD extends km{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:i}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:i}}}class L5 extends km{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:i,eraYear:u}=t,{year:h}=n;return this.eras.find(l=>l.name===i)?{era:i,eraYear:u}:h<1?{era:"bce",eraYear:1-h}:{era:"ce",eraYear:h}}}class xx extends g0{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const i=this.getMonthList(t.year,n);return 13===O_(i).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),u=n.get(i);if(u)return u;const h=this.getFormatter(),l=(wt,Ot)=>{const Et=jD({isoYear:wt,isoMonth:2,isoDay:1}),St=new Date(Et);St.setUTCDate(Ot+1);const Nt=h.formatToParts(St),Yt=Nt.find(Ht=>"month"===Ht.type).value,Qt=+Nt.find(Ht=>"day"===Ht.type).value;let ln=Nt.find(Ht=>"relatedYear"===Ht.type);if(void 0===ln)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return ln=+ln.value,{calendarMonthString:Yt,calendarDay:Qt,calendarYearToVerify:ln}};let f=17,{calendarMonthString:X,calendarDay:W,calendarYearToVerify:k}=l(t,f);"1"!==X&&(f+=29,({calendarMonthString:X,calendarDay:W}=l(t,f))),f-=W-5;const re={};let Oe,je,Ke=1,nt=!1;do{({calendarMonthString:X,calendarDay:W,calendarYearToVerify:k}=l(t,f)),Oe&&(re[je].daysInMonth=Oe+30-W),k!==t?nt=!0:(re[X]={monthIndex:Ke++},f+=30),Oe=W,je=X}while(!nt);return re[je].daysInMonth=Oe+30-W,n.set(i,re),re}estimateIsoDate(t){const{year:n,month:i}=t;return{year:n,month:i>=12?12:i+1,day:1}}adjustCalendarDate(t,n,i="constrain",u=!1){let{year:h,month:l,monthExtra:f,day:X,monthCode:W,eraYear:k}=t;if(u){if(h=k,f&&"bis"!==f)throw new RangeError(`Unexpected leap month suffix: ${f}`);const re=Sh(l,void 0!==f),Oe=`${l}${f||""}`,je=this.getMonthList(h,n)[Oe];if(void 0===je)throw new RangeError(`Unmatched month ${Oe} in Chinese year ${h}`);return l=je.monthIndex,{year:h,month:l,day:X,era:void 0,eraYear:k,monthCode:re}}if(this.validateCalendarDate(t),void 0===h&&(h=k),void 0===k&&(k=h),void 0===l){const re=this.getMonthList(h,n);let Oe=W.replace("L","bis").slice(1);"0"===Oe[0]&&(Oe=Oe.slice(1));let je=re[Oe];if(l=je&&je.monthIndex,void 0===l&&W.endsWith("L")&&"M13L"!=W&&"constrain"===i){let Ke=W.slice(1,-1);"0"===Ke[0]&&(Ke=Ke.slice(1)),je=re[Ke],je&&(l=je.monthIndex,W=Sh(Ke))}if(void 0===l)throw new RangeError(`Unmatched month ${W} in Chinese year ${h}`)}else if(void 0===W){const re=this.getMonthList(h,n),Oe=O_(re),je=Oe.length;"reject"===i?(hc(l,1,je),hc(X,1,this.maximumMonthLength())):(l=xl(l,1,je),X=xl(X,1,this.maximumMonthLength()));const Ke=Oe.find(([,nt])=>nt.monthIndex===l);if(void 0===Ke)throw new RangeError(`Invalid month ${l} in Chinese year ${h}`);W=Sh(Ke[0].replace("bis",""),-1!==Ke[0].indexOf("bis"))}else{const re=this.getMonthList(h,n);let Oe=W.replace("L","bis").slice(1);"0"===Oe[0]&&(Oe=Oe.slice(1));const je=re[Oe];if(!je)throw new RangeError(`Unmatched monthCode ${W} in Chinese year ${h}`);if(l!==je.monthIndex)throw new RangeError(`monthCode ${W} doesn't correspond to month ${l} in Chinese year ${h}`)}return{...t,year:h,eraYear:k,month:l,monthCode:W,day:X}}}class XD extends xx{constructor(){super(...arguments),this.id="chinese"}}class K5 extends xx{constructor(){super(...arguments),this.id="dangi"}}class Mx{constructor(t){this.helper=t}dateFromFields(t,n,i){const u=new Qs,h=po(t,this.fields(["day","month","monthCode","year"]),[]),l=Ra(n),{year:f,month:X,day:W}=this.helper.calendarToIsoDate(h,l,u),k=_l(f,X,W,i);return u.setObject(k),k}yearMonthFromFields(t,n,i){const u=new Qs,h=po(t,this.fields(["month","monthCode","year"]),[]),l=Ra(n),{year:f,month:X,day:W}=this.helper.calendarToIsoDate({...h,day:1},l,u),k=kf(f,X,i,W);return u.setObject(k),k}monthDayFromFields(t,n,i){const u=new Qs,h=po(t,this.fields(["day","month","monthCode","year"]),[]),l=Ra(n),{year:f,month:X,day:W}=this.helper.monthDayFromFields(h,l,u),k=Cf(X,W,i,f);return u.setObject(k),k}fields(t){let n=t;return yx.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new bx;for(let i=0;i<t.length;i++){const u=t[i];switch(fi(Jc,n,[u]),u){case"era":fi(Jc,n,["eraYear"]),fi(Jc,n,["year"]);break;case"eraYear":fi(Jc,n,["era"]),fi(Jc,n,["year"]);break;case"year":fi(Jc,n,["era"]),fi(Jc,n,["eraYear"]);break;case"month":fi(Jc,n,["monthCode"]),this.helper.erasBeginMidYear&&(fi(Jc,n,["era"]),fi(Jc,n,["eraYear"]));break;case"monthCode":fi(Jc,n,["month"]),this.helper.erasBeginMidYear&&(fi(Jc,n,["era"]),fi(Jc,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(fi(Jc,n,["era"]),fi(Jc,n,["eraYear"]))}}return[...fi(FD,n,[])]}dateAdd(t,n,i,u,h,l,f){const X=Qs.getCacheForObject(t),W=this.helper.temporalToCalendarDate(t,X),k=this.helper.addCalendar(W,{years:n,months:i,weeks:u,days:h},l,X),re=this.helper.calendarToIsoDate(k,"constrain",X),{year:Oe,month:je,day:Ke}=re,nt=_l(Oe,je,Ke,f);return new Qs(X).setObject(nt),nt}dateUntil(t,n,i){const u=Qs.getCacheForObject(t),h=Qs.getCacheForObject(n),l=this.helper.temporalToCalendarDate(t,u),f=this.helper.temporalToCalendarDate(n,h);return this.helper.untilCalendar(l,f,i,u)}year(t){const n=Qs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=Qs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=Qs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=Qs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=Qs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=Qs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return Cs.iso8601.dayOfWeek(t)}dayOfYear(t){const n=Qs.getCacheForObject(t),i=this.helper.isoToCalendarDate(t,n),u=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(u,i,n)+1}weekOfYear(t){return Cs.iso8601.weekOfYear(t)}yearOfWeek(t){return Cs.iso8601.yearOfWeek(t)}daysInWeek(t){return Cs.iso8601.daysInWeek(t)}daysInMonth(t){const n=Qs.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n),u=this.helper.maximumMonthLength(i);if(u===this.helper.minimumMonthLength(i))return u;const h=this.helper.startOfCalendarMonth(i),l=this.helper.addMonthsCalendar(h,1,"constrain",n);return this.helper.calendarDaysUntil(h,l,n)}daysInYear(t){let n=t;ec(n,Yr)||(n=os(n));const i=Qs.getCacheForObject(n),u=this.helper.temporalToCalendarDate(n,i),h=this.helper.startOfCalendarYear(u),l=this.helper.addCalendar(h,{years:1},"constrain",i);return this.helper.calendarDaysUntil(h,l,i)}monthsInYear(t){const n=Qs.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(i,n)}inLeapYear(t){let n=t;ec(n,Yr)||(n=os(n));const i=Qs.getCacheForObject(n),u=this.helper.temporalToCalendarDate(n,i);return this.helper.inLeapYear(u,i)}}for(const r of[O5,N5,WD,U5,Ex,XD,K5,GD,HD,aR,JD,L5,_x,$D,VD,R5,zD,B5]){const t=new r;Cs[t.id]=new Mx(t)}class Pm{constructor(t,n,i,u="iso8601"){gm(this,ko(t),ko(n),ko(i),ul(u))}get calendarId(){if(!Mo(this))throw new TypeError("invalid receiver");return zc($e(this,tr))}get era(){if(!Mo(this))throw new TypeError("invalid receiver");return vv($e(this,tr),this)}get eraYear(){if(!Mo(this))throw new TypeError("invalid receiver");return bv($e(this,tr),this)}get year(){if(!Mo(this))throw new TypeError("invalid receiver");return yv($e(this,tr),this)}get month(){if(!Mo(this))throw new TypeError("invalid receiver");return gv($e(this,tr),this)}get monthCode(){if(!Mo(this))throw new TypeError("invalid receiver");return Zy($e(this,tr),this)}get day(){if(!Mo(this))throw new TypeError("invalid receiver");return qy($e(this,tr),this)}get dayOfWeek(){if(!Mo(this))throw new TypeError("invalid receiver");return h_($e(this,tr),this)}get dayOfYear(){if(!Mo(this))throw new TypeError("invalid receiver");return p_($e(this,tr),this)}get weekOfYear(){if(!Mo(this))throw new TypeError("invalid receiver");return Qy($e(this,tr),this)}get yearOfWeek(){if(!Mo(this))throw new TypeError("invalid receiver");return Pf($e(this,tr),this)}get daysInWeek(){if(!Mo(this))throw new TypeError("invalid receiver");return J2($e(this,tr),this)}get daysInMonth(){if(!Mo(this))throw new TypeError("invalid receiver");return m_($e(this,tr),this)}get daysInYear(){if(!Mo(this))throw new TypeError("invalid receiver");return e0($e(this,tr),this)}get monthsInYear(){if(!Mo(this))throw new TypeError("invalid receiver");return Of($e(this,tr),this)}get inLeapYear(){if(!Mo(this))throw new TypeError("invalid receiver");return t0($e(this,tr),this)}with(t,n){if(!Mo(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid argument");Vy(t);const i=Po(n),u=$e(this,tr),h=Vs(u,["day","month","monthCode","year"]);let l=po(this,h,[]);return l=du(u,l,po(t,h,"partial")),l=po(l,h,[]),mh(u,l,i)}withCalendar(t){if(!Mo(this))throw new TypeError("invalid receiver");const n=ul(t);return new Pm($e(this,Yr),$e(this,ei),$e(this,ii),n)}add(t,n){if(!Mo(this))throw new TypeError("invalid receiver");const i=Xy(t),u=Po(n);return Na($e(this,tr),this,i,u)}subtract(t,n){if(!Mo(this))throw new TypeError("invalid receiver");const i=T_(Xy(t)),u=Po(n);return Na($e(this,tr),this,i,u)}until(t,n){if(!Mo(this))throw new TypeError("invalid receiver");return MD("until",this,t,n)}since(t,n){if(!Mo(this))throw new TypeError("invalid receiver");return MD("since",this,t,n)}equals(t){if(!Mo(this))throw new TypeError("invalid receiver");const n=os(t);for(const i of[Yr,ei,ii])if($e(this,i)!==$e(n,i))return!1;return _v($e(this,tr),$e(n,tr))}toString(t){if(!Mo(this))throw new TypeError("invalid receiver");return Vu(this,fv(Po(t)))}toJSON(){if(!Mo(this))throw new TypeError("invalid receiver");return Vu(this)}toLocaleString(t,n){if(!Mo(this))throw new TypeError("invalid receiver");return new Mh(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!Mo(this))throw new TypeError("invalid receiver");const n=$e(this,Yr),i=$e(this,ei),u=$e(this,ii),h=$e(this,tr);if(void 0===t)return Sd(n,i,u,0,0,0,0,0,0,h);const l=If(t);return Sd(n,i,u,$e(l,so),$e(l,Xi),$e(l,Yi),$e(l,Zi),$e(l,to),$e(l,no),h)}toZonedDateTime(t){if(!Mo(this))throw new TypeError("invalid receiver");let n,i;if(Ds(t))if(dl(t))n=t;else{const Ke=t.timeZone;void 0===Ke?n=Hc(t):(n=Hc(Ke),i=t.plainTime)}else n=Hc(t);const u=$e(this,Yr),h=$e(this,ei),l=$e(this,ii),f=$e(this,tr);let X=0,W=0,k=0,re=0,Oe=0,je=0;return void 0!==i&&(i=If(i),X=$e(i,so),W=$e(i,Xi),k=$e(i,Yi),re=$e(i,Zi),Oe=$e(i,to),je=$e(i,no)),Ba($e(Wc(n,Sd(u,h,l,X,W,k,re,Oe,je,f),"compatible"),_i),n,f)}toPlainYearMonth(){if(!Mo(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return Ma(t,po(this,Vs(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Mo(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return xm(t,po(this,Vs(t,["day","monthCode"]),[]))}getISOFields(){if(!Mo(this))throw new TypeError("invalid receiver");return{calendar:$e(this,tr),isoDay:$e(this,ii),isoMonth:$e(this,ei),isoYear:$e(this,Yr)}}getCalendar(){if(!Mo(this))throw new TypeError("invalid receiver");return wv($e(this,tr))}static from(t,n){const i=Po(n);return Mo(t)?(Ra(i),_l($e(t,Yr),$e(t,ei),$e(t,ii),$e(t,tr))):os(t,i)}static compare(t,n){const i=os(t),u=os(n);return Am($e(i,Yr),$e(i,ei),$e(i,ii),$e(u,Yr),$e(u,ei),$e(u,ii))}}Ku(Pm,"Temporal.PlainDate");class b0{constructor(t,n,i,u=0,h=0,l=0,f=0,X=0,W=0,k="iso8601"){vm(this,ko(t),ko(n),ko(i),void 0===u?0:ko(u),void 0===h?0:ko(h),void 0===l?0:ko(l),void 0===f?0:ko(f),void 0===X?0:ko(X),void 0===W?0:ko(W),ul(k))}get calendarId(){if(!qi(this))throw new TypeError("invalid receiver");return zc($e(this,tr))}get year(){if(!qi(this))throw new TypeError("invalid receiver");return yv($e(this,tr),this)}get month(){if(!qi(this))throw new TypeError("invalid receiver");return gv($e(this,tr),this)}get monthCode(){if(!qi(this))throw new TypeError("invalid receiver");return Zy($e(this,tr),this)}get day(){if(!qi(this))throw new TypeError("invalid receiver");return qy($e(this,tr),this)}get hour(){if(!qi(this))throw new TypeError("invalid receiver");return $e(this,so)}get minute(){if(!qi(this))throw new TypeError("invalid receiver");return $e(this,Xi)}get second(){if(!qi(this))throw new TypeError("invalid receiver");return $e(this,Yi)}get millisecond(){if(!qi(this))throw new TypeError("invalid receiver");return $e(this,Zi)}get microsecond(){if(!qi(this))throw new TypeError("invalid receiver");return $e(this,to)}get nanosecond(){if(!qi(this))throw new TypeError("invalid receiver");return $e(this,no)}get era(){if(!qi(this))throw new TypeError("invalid receiver");return vv($e(this,tr),this)}get eraYear(){if(!qi(this))throw new TypeError("invalid receiver");return bv($e(this,tr),this)}get dayOfWeek(){if(!qi(this))throw new TypeError("invalid receiver");return h_($e(this,tr),this)}get dayOfYear(){if(!qi(this))throw new TypeError("invalid receiver");return p_($e(this,tr),this)}get weekOfYear(){if(!qi(this))throw new TypeError("invalid receiver");return Qy($e(this,tr),this)}get yearOfWeek(){if(!qi(this))throw new TypeError("invalid receiver");return Pf($e(this,tr),this)}get daysInWeek(){if(!qi(this))throw new TypeError("invalid receiver");return J2($e(this,tr),this)}get daysInYear(){if(!qi(this))throw new TypeError("invalid receiver");return e0($e(this,tr),this)}get daysInMonth(){if(!qi(this))throw new TypeError("invalid receiver");return m_($e(this,tr),this)}get monthsInYear(){if(!qi(this))throw new TypeError("invalid receiver");return Of($e(this,tr),this)}get inLeapYear(){if(!qi(this))throw new TypeError("invalid receiver");return t0($e(this,tr),this)}with(t,n){if(!qi(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid argument");Vy(t);const i=Po(n),u=$e(this,tr),h=Vs(u,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let l=po(this,h,[]);l=du(u,l,po(t,h,"partial")),l=po(l,h,[]);const{year:f,month:X,day:W,hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:nt}=au(u,l,i);return Sd(f,X,W,k,re,Oe,je,Ke,nt,u)}withPlainTime(t){if(!qi(this))throw new TypeError("invalid receiver");const n=$e(this,Yr),i=$e(this,ei),u=$e(this,ii),h=$e(this,tr);if(void 0===t)return Sd(n,i,u,0,0,0,0,0,0,h);const l=If(t);return Sd(n,i,u,$e(l,so),$e(l,Xi),$e(l,Yi),$e(l,Zi),$e(l,to),$e(l,no),h)}withPlainDate(t){if(!qi(this))throw new TypeError("invalid receiver");const n=os(t),i=$e(n,Yr),u=$e(n,ei),h=$e(n,ii);let l=$e(n,tr);const f=$e(this,so),X=$e(this,Xi),W=$e(this,Yi),k=$e(this,Zi),re=$e(this,to),Oe=$e(this,no);return l=X2($e(this,tr),l),Sd(i,u,h,f,X,W,k,re,Oe,l)}withCalendar(t){if(!qi(this))throw new TypeError("invalid receiver");const n=ul(t);return new b0($e(this,Yr),$e(this,ei),$e(this,ii),$e(this,so),$e(this,Xi),$e(this,Yi),$e(this,Zi),$e(this,to),$e(this,no),n)}add(t,n){if(!qi(this))throw new TypeError("invalid receiver");return C_("add",this,t,n)}subtract(t,n){if(!qi(this))throw new TypeError("invalid receiver");return C_("subtract",this,t,n)}until(t,n){if(!qi(this))throw new TypeError("invalid receiver");return SD("until",this,t,n)}since(t,n){if(!qi(this))throw new TypeError("invalid receiver");return SD("since",this,t,n)}round(t){if(!qi(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?xh("smallestUnit",t):Po(t),i=Gy(n),u=$u(n,"halfExpand"),h=ll(n,"smallestUnit","time",pm,["day"]),l={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h];Jy(i,l,1===l);let f=$e(this,Yr),X=$e(this,ei),W=$e(this,ii),k=$e(this,so),re=$e(this,Xi),Oe=$e(this,Yi),je=$e(this,Zi),Ke=$e(this,to),nt=$e(this,no);return({year:f,month:X,day:W,hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:nt}=kv(f,X,W,k,re,Oe,je,Ke,nt,i,h,u)),Sd(f,X,W,k,re,Oe,je,Ke,nt,$e(this,tr))}equals(t){if(!qi(this))throw new TypeError("invalid receiver");const n=hh(t);for(const i of[Yr,ei,ii,so,Xi,Yi,Zi,to,no])if($e(this,i)!==$e(n,i))return!1;return _v($e(this,tr),$e(n,tr))}toString(t){if(!qi(this))throw new TypeError("invalid receiver");const n=Po(t),i=fv(n),u=hv(n),h=$u(n,"trunc"),l=ll(n,"smallestUnit","time",void 0);if("hour"===l)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:f,unit:X,increment:W}=pv(l,u);return hD(this,f,i,{unit:X,increment:W,roundingMode:h})}toJSON(){if(!qi(this))throw new TypeError("invalid receiver");return hD(this,"auto")}toLocaleString(t,n){if(!qi(this))throw new TypeError("invalid receiver");return new Mh(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!qi(this))throw new TypeError("invalid receiver");const i=Hc(t);return Ba($e(Wc(i,this,Wy(Po(n))),_i),i,$e(this,tr))}toPlainDate(){if(!qi(this))throw new TypeError("invalid receiver");return Mm(this)}toPlainYearMonth(){if(!qi(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return Ma(t,po(this,Vs(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!qi(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return xm(t,po(this,Vs(t,["day","monthCode"]),[]))}toPlainTime(){if(!qi(this))throw new TypeError("invalid receiver");return g_(this)}getISOFields(){if(!qi(this))throw new TypeError("invalid receiver");return{calendar:$e(this,tr),isoDay:$e(this,ii),isoHour:$e(this,so),isoMicrosecond:$e(this,to),isoMillisecond:$e(this,Zi),isoMinute:$e(this,Xi),isoMonth:$e(this,ei),isoNanosecond:$e(this,no),isoSecond:$e(this,Yi),isoYear:$e(this,Yr)}}getCalendar(){if(!qi(this))throw new TypeError("invalid receiver");return wv($e(this,tr))}static from(t,n){const i=Po(n);return qi(t)?(Ra(i),Sd($e(t,Yr),$e(t,ei),$e(t,ii),$e(t,so),$e(t,Xi),$e(t,Yi),$e(t,Zi),$e(t,to),$e(t,no),$e(t,tr))):hh(t,i)}static compare(t,n){const i=hh(t),u=hh(n);for(const h of[Yr,ei,ii,so,Xi,Yi,Zi,to,no]){const l=$e(i,h),f=$e(u,h);if(l!==f)return fu(l-f)}return 0}}Ku(b0,"Temporal.PlainDateTime");class Th{constructor(t=0,n=0,i=0,u=0,h=0,l=0,f=0,X=0,W=0,k=0){const re=void 0===t?0:fc(t),Oe=void 0===n?0:fc(n),je=void 0===i?0:fc(i),Ke=void 0===u?0:fc(u),nt=void 0===h?0:fc(h),wt=void 0===l?0:fc(l),Ot=void 0===f?0:fc(f),Et=void 0===X?0:fc(X),St=void 0===W?0:fc(W),Nt=void 0===k?0:fc(k);Tv(re,Oe,je,Ke,nt,wt,Ot,Et,St,Nt),fh(this),fo(this,gd,re),fo(this,xa,Oe),fo(this,Mc,je),fo(this,vd,Ke),fo(this,zd,nt),fo(this,jc,wt),fo(this,bd,Ot),fo(this,Hd,Et),fo(this,wd,St),fo(this,_d,Nt)}get years(){if(!Zs(this))throw new TypeError("invalid receiver");return $e(this,gd)}get months(){if(!Zs(this))throw new TypeError("invalid receiver");return $e(this,xa)}get weeks(){if(!Zs(this))throw new TypeError("invalid receiver");return $e(this,Mc)}get days(){if(!Zs(this))throw new TypeError("invalid receiver");return $e(this,vd)}get hours(){if(!Zs(this))throw new TypeError("invalid receiver");return $e(this,zd)}get minutes(){if(!Zs(this))throw new TypeError("invalid receiver");return $e(this,jc)}get seconds(){if(!Zs(this))throw new TypeError("invalid receiver");return $e(this,bd)}get milliseconds(){if(!Zs(this))throw new TypeError("invalid receiver");return $e(this,Hd)}get microseconds(){if(!Zs(this))throw new TypeError("invalid receiver");return $e(this,wd)}get nanoseconds(){if(!Zs(this))throw new TypeError("invalid receiver");return $e(this,_d)}get sign(){if(!Zs(this))throw new TypeError("invalid receiver");return Hu($e(this,gd),$e(this,xa),$e(this,Mc),$e(this,vd),$e(this,zd),$e(this,jc),$e(this,bd),$e(this,Hd),$e(this,wd),$e(this,_d))}get blank(){if(!Zs(this))throw new TypeError("invalid receiver");return 0===Hu($e(this,gd),$e(this,xa),$e(this,Mc),$e(this,vd),$e(this,zd),$e(this,jc),$e(this,bd),$e(this,Hd),$e(this,wd),$e(this,_d))}with(t){if(!Zs(this))throw new TypeError("invalid receiver");const n=po(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=$e(this,gd),months:u=$e(this,xa),weeks:h=$e(this,Mc),days:l=$e(this,vd),hours:f=$e(this,zd),minutes:X=$e(this,jc),seconds:W=$e(this,bd),milliseconds:k=$e(this,Hd),microseconds:re=$e(this,wd),nanoseconds:Oe=$e(this,_d)}=n;return new Th(i,u,h,l,f,X,W,k,re,Oe)}negated(){if(!Zs(this))throw new TypeError("invalid receiver");return T_(this)}abs(){if(!Zs(this))throw new TypeError("invalid receiver");return new Th(Math.abs($e(this,gd)),Math.abs($e(this,xa)),Math.abs($e(this,Mc)),Math.abs($e(this,vd)),Math.abs($e(this,zd)),Math.abs($e(this,jc)),Math.abs($e(this,bd)),Math.abs($e(this,Hd)),Math.abs($e(this,wd)),Math.abs($e(this,_d)))}add(t,n){if(!Zs(this))throw new TypeError("invalid receiver");return Iv("add",this,t,n)}subtract(t,n){if(!Zs(this))throw new TypeError("invalid receiver");return Iv("subtract",this,t,n)}round(t){if(!Zs(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=$e(this,gd),i=$e(this,xa),u=$e(this,Mc),h=$e(this,vd),l=$e(this,zd),f=$e(this,jc),X=$e(this,bd),W=$e(this,Hd),k=$e(this,wd),re=$e(this,_d),Oe=G2(n,i,u,h,l,f,X,W,k,re);const je="string"==typeof t?xh("smallestUnit",t):Po(t);let Ke=ll(je,"largestUnit","datetime",void 0,["auto"]),nt=f_(je);const wt=Gy(je),Ot=$u(je,"halfExpand");let Et=ll(je,"smallestUnit","datetime",void 0),St=!0;Et||(St=!1,Et="nanosecond"),Oe=mm(Oe,Et);let Nt=!0;if(Ke||(Nt=!1,Ke=Oe),"auto"===Ke&&(Ke=Oe),!St&&!Nt)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(mm(Ke,Et)!==Ke)throw new RangeError(`largestUnit ${Ke} cannot be smaller than smallestUnit ${Et}`);const Yt={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[Et];return void 0!==Yt&&Jy(wt,Yt,!1),({years:n,months:i,weeks:u,days:h}=S_(n,i,u,h,Ke,nt)),({years:n,months:i,weeks:u,days:h,hours:l,minutes:f,seconds:X,milliseconds:W,microseconds:k,nanoseconds:re}=Gu(n,i,u,h,l,f,X,W,k,re,wt,Et,Ot,nt)),({years:n,months:i,weeks:u,days:h,hours:l,minutes:f,seconds:X,milliseconds:W,microseconds:k,nanoseconds:re}=T5(n,i,u,h,l,f,X,W,k,re,wt,Et,Ot,nt)),({days:h,hours:l,minutes:f,seconds:X,milliseconds:W,microseconds:k,nanoseconds:re}=uu(h,l,f,X,W,k,re,Ke,nt)),({years:n,months:i,weeks:u,days:h}=function(ln,Ht,An,Jn,qn,ar){const Vn=kr("%Temporal.Duration%"),jn=Hu(ln,Ht,An,Jn,0,0,0,0,0,0);if(0===jn)return{years:ln,months:Ht,weeks:An,days:Jn};const Kn=Bt.BigInt(jn);let Xn,In,yr=Bt.BigInt(ln),gr=Bt.BigInt(Ht),Er=Bt.BigInt(An),Gr=Bt.BigInt(Jn);ar&&(In=os(ar),Xn=$e(In,tr));const li=new Vn(jn),Pn=new Vn(0,jn),hi=new Vn(0,0,jn);switch(qn){case"year":{if(!Xn)throw new RangeError("a starting point is required for years balancing");const mo="string"!=typeof Xn?Fo(Xn,"dateAdd"):void 0;let Dr,rr,Sr;for(({relativeTo:Dr,days:rr}=Gc(Xn,In,li,mo));Bt.greaterThanOrEqual(Kl(Gr),Bt.BigInt(Es(rr)));)Gr=Bt.subtract(Gr,Bt.BigInt(rr)),yr=Bt.add(yr,Kn),In=Dr,({relativeTo:Dr,days:rr}=Gc(Xn,In,li,mo));for(({relativeTo:Dr,days:Sr}=Gc(Xn,In,Pn,mo));Bt.greaterThanOrEqual(Kl(Gr),Bt.BigInt(Es(Sr)));)Gr=Bt.subtract(Gr,Bt.BigInt(Sr)),gr=Bt.add(gr,Kn),In=Dr,({relativeTo:Dr,days:Sr}=Gc(Xn,In,Pn,mo));Dr=Na(Xn,In,li,void 0,mo);const ci="string"!=typeof Xn?Fo(Xn,"dateUntil"):void 0,zi=$c(null);zi.largestUnit="month";let Hi=ph(Xn,In,Dr,zi,ci),Ei=$e(Hi,xa);for(;Bt.greaterThanOrEqual(Kl(gr),Bt.BigInt(Es(Ei)));){gr=Bt.subtract(gr,Bt.BigInt(Ei)),yr=Bt.add(yr,Kn),In=Dr,Dr=Na(Xn,In,li,void 0,mo);const Ai=$c(null);Ai.largestUnit="month",Hi=ph(Xn,In,Dr,Ai,ci),Ei=$e(Hi,xa)}break}case"month":{if(!Xn)throw new RangeError("a starting point is required for months balancing");const mo="string"!=typeof Xn?Fo(Xn,"dateAdd"):void 0;let Dr,rr;for(({relativeTo:Dr,days:rr}=Gc(Xn,In,Pn,mo));Bt.greaterThanOrEqual(Kl(Gr),Bt.BigInt(Es(rr)));)Gr=Bt.subtract(Gr,Bt.BigInt(rr)),gr=Bt.add(gr,Kn),In=Dr,({relativeTo:Dr,days:rr}=Gc(Xn,In,Pn,mo));break}case"week":{if(!Xn)throw new RangeError("a starting point is required for weeks balancing");const mo="string"!=typeof Xn?Fo(Xn,"dateAdd"):void 0;let Dr,rr;for(({relativeTo:Dr,days:rr}=Gc(Xn,In,hi,mo));Bt.greaterThanOrEqual(Kl(Gr),Bt.BigInt(Es(rr)));)Gr=Bt.subtract(Gr,Bt.BigInt(rr)),Er=Bt.add(Er,Kn),In=Dr,({relativeTo:Dr,days:rr}=Gc(Xn,In,hi,mo));break}}return{years:Bt.toNumber(yr),months:Bt.toNumber(gr),weeks:Bt.toNumber(Er),days:Bt.toNumber(Gr)}}(n,i,u,h,Ke,nt)),new Th(n,i,u,h,l,f,X,W,k,re)}total(t){if(!Zs(this))throw new TypeError("invalid receiver");let n=$e(this,gd),i=$e(this,xa),u=$e(this,Mc),h=$e(this,vd),l=$e(this,zd),f=$e(this,jc),X=$e(this,bd),W=$e(this,Hd),k=$e(this,wd),re=$e(this,_d);if(void 0===t)throw new TypeError("options argument is required");const Oe="string"==typeof t?xh("unit",t):Po(t),je=f_(Oe),Ke=ll(Oe,"unit","datetime",pm);let nt;({years:n,months:i,weeks:u,days:h}=S_(n,i,u,h,Ke,je)),di(je)&&(nt=Tm(je,n,i,u,0));let wt=gD(h,l,f,X,W,k,re,Ke,nt);if("positive overflow"===wt)return 1/0;if("negative overflow"===wt)return-1/0;({days:h,hours:l,minutes:f,seconds:X,milliseconds:W,microseconds:k,nanoseconds:re}=wt);const{total:Ot}=Gu(n,i,u,h,l,f,X,W,k,re,1,Ke,"trunc",je);return Ot}toString(t){if(!Zs(this))throw new TypeError("invalid receiver");const n=Po(t),i=hv(n),u=$u(n,"trunc"),h=ll(n,"smallestUnit","time",void 0);if("hour"===h||"minute"===h)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:l,unit:f,increment:X}=pv(h,i);return Mv(this,l,{unit:f,increment:X,roundingMode:u})}toJSON(){if(!Zs(this))throw new TypeError("invalid receiver");return Mv(this)}toLocaleString(t,n){if(!Zs(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),Mv(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return Zs(t)?new Th($e(t,gd),$e(t,xa),$e(t,Mc),$e(t,vd),$e(t,zd),$e(t,jc),$e(t,bd),$e(t,Hd),$e(t,wd),$e(t,_d)):Xy(t)}static compare(t,n,i){const u=Xy(t),h=Xy(n),l=f_(Po(i)),f=$e(u,gd),X=$e(u,xa),W=$e(u,Mc);let k=$e(u,vd);const re=$e(u,zd),Oe=$e(u,jc),je=$e(u,bd),Ke=$e(u,Hd),nt=$e(u,wd);let wt=$e(u,_d);const Ot=$e(h,gd),Et=$e(h,xa),St=$e(h,Mc);let Nt=$e(h,vd);const Yt=$e(h,zd),Qt=$e(h,jc),ln=$e(h,bd),Ht=$e(h,Hd),An=$e(h,wd);let Jn=$e(h,_d);const qn=vD(l,f,X,W,k),ar=vD(l,Ot,Et,St,Nt);0===f&&0===Ot&&0===X&&0===Et&&0===W&&0===St||(({days:k}=S_(f,X,W,k,"day",l)),({days:Nt}=S_(Ot,Et,St,Nt,"day",l)));const Vn=a0(k,re,Oe,je,Ke,nt,wt,qn),jn=a0(Nt,Yt,Qt,ln,Ht,An,Jn,ar);return fu(Bt.toNumber(Bt.subtract(Vn,jn)))}}Ku(Th,"Temporal.Duration");const YD=Object.create;class U_{constructor(t,n,i="iso8601",u=1972){bm(this,ko(t),ko(n),ul(i),ko(u))}get monthCode(){if(!ha(this))throw new TypeError("invalid receiver");return Zy($e(this,tr),this)}get day(){if(!ha(this))throw new TypeError("invalid receiver");return qy($e(this,tr),this)}get calendarId(){if(!ha(this))throw new TypeError("invalid receiver");return zc($e(this,tr))}with(t,n){if(!ha(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid argument");Vy(t);const i=Po(n),u=$e(this,tr),h=Vs(u,["day","month","monthCode","year"]);let l=po(this,h,[]);return l=du(u,l,po(t,h,"partial")),l=po(l,h,[]),xm(u,l,i)}equals(t){if(!ha(this))throw new TypeError("invalid receiver");const n=lD(t);for(const i of[ei,ii,Yr])if($e(this,i)!==$e(n,i))return!1;return _v($e(this,tr),$e(n,tr))}toString(t){if(!ha(this))throw new TypeError("invalid receiver");return q2(this,fv(Po(t)))}toJSON(){if(!ha(this))throw new TypeError("invalid receiver");return q2(this)}toLocaleString(t,n){if(!ha(this))throw new TypeError("invalid receiver");return new Mh(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!ha(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("argument should be an object");const n=$e(this,tr),i=Vs(n,["day","monthCode"]),u=po(this,i,[]),h=Vs(n,["year"]);let l=du(n,u,po(t,h,[]));l=po(l,[...new Set([...i,...h])],[]);const f=YD(null);return f.overflow="reject",mh(n,l,f)}getISOFields(){if(!ha(this))throw new TypeError("invalid receiver");return{calendar:$e(this,tr),isoDay:$e(this,ii),isoMonth:$e(this,ei),isoYear:$e(this,Yr)}}getCalendar(){if(!ha(this))throw new TypeError("invalid receiver");return wv($e(this,tr))}static from(t,n){const i=Po(n);return ha(t)?(Ra(i),Cf($e(t,ei),$e(t,ii),$e(t,tr),$e(t,Yr))):lD(t,i)}}Ku(U_,"Temporal.PlainMonthDay");const L_=()=>new(kr("%Temporal.Instant%"))(ux()),Sx=(r,t=yp())=>{const n=Hc(t),i=ul(r);return El(n,L_(),i)},K_=(r=yp())=>El(Hc(r),L_(),"iso8601"),Tx=(r,t=yp())=>{const n=Hc(t),i=ul(r);return Ba(ux(),n,i)},Ax={instant:L_,plainDateTime:Sx,plainDateTimeISO:K_,plainDate:(r,t=yp())=>Mm(Sx(r,t)),plainDateISO:(r=yp())=>Mm(K_(r)),plainTimeISO:(r=yp())=>g_(K_(r)),timeZoneId:()=>yp(),zonedDateTime:Tx,zonedDateTimeISO:(r=yp())=>Tx("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(Ax,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const ZD=Object.assign;function Dx(r,t,n){let i=$e(r,so),u=$e(r,Xi),h=$e(r,Yi),l=$e(r,Zi),f=$e(r,to),X=$e(r,no);if(n){const{unit:W,increment:k,roundingMode:re}=n;({hour:i,minute:u,second:h,millisecond:l,microsecond:f,nanosecond:X}=wh(i,u,h,l,f,X,k,W,re))}return`${Is(i)}:${Is(u)}${r0(h,l,f,X,t)}`}class bp{constructor(t=0,n=0,i=0,u=0,h=0,l=0){const f=void 0===t?0:ko(t),X=void 0===n?0:ko(n),W=void 0===i?0:ko(i),k=void 0===u?0:ko(u),re=void 0===h?0:ko(h),Oe=void 0===l?0:ko(l);Sv(f,X,W,k,re,Oe),fh(this),fo(this,so,f),fo(this,Xi,X),fo(this,Yi,W),fo(this,Zi,k),fo(this,to,re),fo(this,no,Oe)}get hour(){if(!qs(this))throw new TypeError("invalid receiver");return $e(this,so)}get minute(){if(!qs(this))throw new TypeError("invalid receiver");return $e(this,Xi)}get second(){if(!qs(this))throw new TypeError("invalid receiver");return $e(this,Yi)}get millisecond(){if(!qs(this))throw new TypeError("invalid receiver");return $e(this,Zi)}get microsecond(){if(!qs(this))throw new TypeError("invalid receiver");return $e(this,to)}get nanosecond(){if(!qs(this))throw new TypeError("invalid receiver");return $e(this,no)}with(t,n){if(!qs(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid argument");Vy(t);const i=Ra(Po(n)),u=mv(t,"partial"),h=mv(this);let{hour:l,minute:f,second:X,millisecond:W,microsecond:k,nanosecond:re}=ZD(h,u);return({hour:l,minute:f,second:X,millisecond:W,microsecond:k,nanosecond:re}=Hy(l,f,X,W,k,re,i)),new bp(l,f,X,W,k,re)}add(t){if(!qs(this))throw new TypeError("invalid receiver");return lx("add",this,t)}subtract(t){if(!qs(this))throw new TypeError("invalid receiver");return lx("subtract",this,t)}until(t,n){if(!qs(this))throw new TypeError("invalid receiver");return D_("until",this,t,n)}since(t,n){if(!qs(this))throw new TypeError("invalid receiver");return D_("since",this,t,n)}round(t){if(!qs(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?xh("smallestUnit",t):Po(t),i=Gy(n),u=$u(n,"halfExpand"),h=ll(n,"smallestUnit","time",pm);Jy(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h],!1);let l=$e(this,so),f=$e(this,Xi),X=$e(this,Yi),W=$e(this,Zi),k=$e(this,to),re=$e(this,no);return({hour:l,minute:f,second:X,millisecond:W,microsecond:k,nanosecond:re}=wh(l,f,X,W,k,re,i,h,u)),new bp(l,f,X,W,k,re)}equals(t){if(!qs(this))throw new TypeError("invalid receiver");const n=If(t);for(const i of[so,Xi,Yi,Zi,to,no])if($e(this,i)!==$e(n,i))return!1;return!0}toString(t){if(!qs(this))throw new TypeError("invalid receiver");const n=Po(t),i=hv(n),u=$u(n,"trunc"),h=ll(n,"smallestUnit","time",void 0);if("hour"===h)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:l,unit:f,increment:X}=pv(h,i);return Dx(this,l,{unit:f,increment:X,roundingMode:u})}toJSON(){if(!qs(this))throw new TypeError("invalid receiver");return Dx(this,"auto")}toLocaleString(t,n){if(!qs(this))throw new TypeError("invalid receiver");return new Mh(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!qs(this))throw new TypeError("invalid receiver");const n=os(t),i=$e(n,Yr),u=$e(n,ei),h=$e(n,ii),l=$e(n,tr);return Sd(i,u,h,$e(this,so),$e(this,Xi),$e(this,Yi),$e(this,Zi),$e(this,to),$e(this,no),l)}toZonedDateTime(t){if(!qs(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const i=os(n),u=t.timeZone;if(void 0===u)throw new TypeError("missing timeZone property");const h=Hc(u),l=$e(i,Yr),f=$e(i,ei),X=$e(i,ii),W=$e(i,tr),k=$e(this,so),re=$e(this,Xi),Oe=$e(this,Yi),je=$e(this,Zi),Ke=$e(this,to),nt=$e(this,no);return Ba($e(Wc(h,new(kr("%Temporal.PlainDateTime%"))(l,f,X,k,re,Oe,je,Ke,nt,W),"compatible"),_i),h,W)}getISOFields(){if(!qs(this))throw new TypeError("invalid receiver");return{isoHour:$e(this,so),isoMicrosecond:$e(this,to),isoMillisecond:$e(this,Zi),isoMinute:$e(this,Xi),isoNanosecond:$e(this,no),isoSecond:$e(this,Yi)}}static from(t,n){const i=Ra(Po(n));return qs(t)?new bp($e(t,so),$e(t,Xi),$e(t,Yi),$e(t,Zi),$e(t,to),$e(t,no)):If(t,i)}static compare(t,n){const i=If(t),u=If(n);for(const h of[so,Xi,Yi,Zi,to,no]){const l=$e(i,h),f=$e(u,h);if(l!==f)return fu(l-f)}return 0}}Ku(bp,"Temporal.PlainTime");class w0{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=b_(t);fh(this),fo(this,uh,n)}get id(){if(!dl(this))throw new TypeError("invalid receiver");return $e(this,uh)}getOffsetNanosecondsFor(t){if(!dl(this))throw new TypeError("invalid receiver");const n=cu(t),i=$e(this,uh);return Xd(i)?yh(i):gh(i,$e(n,_i))}getOffsetStringFor(t){if(!dl(this))throw new TypeError("invalid receiver");return Z2(this,cu(t))}getPlainDateTimeFor(t,n="iso8601"){if(!dl(this))throw new TypeError("invalid receiver");return El(this,cu(t),ul(n))}getInstantFor(t,n){if(!dl(this))throw new TypeError("invalid receiver");return Wc(this,hh(t),Wy(Po(n)))}getPossibleInstantsFor(t){if(!dl(this))throw new TypeError("invalid receiver");const n=hh(t),i=kr("%Temporal.Instant%"),u=$e(this,uh);if(Xd(u)){const l=hp($e(n,Yr),$e(n,ei),$e(n,ii),$e(n,so),$e(n,Xi),$e(n,Yi),$e(n,Zi),$e(n,to),$e(n,no));if(null===l)throw new RangeError("DateTime outside of supported range");const f=yh(u);return[new i(Bt.subtract(l,Bt.BigInt(f)))]}return function(f,X,W,k,re,Oe,je,Ke,nt,wt){const Ot=hp(X,W,k,re,Oe,je,Ke,nt,wt);if(null===Ot)throw new RangeError("DateTime outside of supported range");let Et=Bt.subtract(Ot,Fu);Bt.lessThan(Et,cv)&&(Et=Ot);let St=Bt.add(Ot,Fu);Bt.greaterThan(St,Fy)&&(St=Ot);const Nt=gh(f,Et),Yt=gh(f,St);return(Nt===Yt?[Nt]:[Nt,Yt]).map(Qt=>{const ln=Bt.subtract(Ot,Bt.BigInt(Qt)),Ht=o0(f,ln);if(X===Ht.year&&W===Ht.month&&k===Ht.day&&re===Ht.hour&&Oe===Ht.minute&&je===Ht.second&&Ke===Ht.millisecond&&nt===Ht.microsecond&&wt===Ht.nanosecond)return ln}).filter(Qt=>void 0!==Qt)}(u,$e(n,Yr),$e(n,ei),$e(n,ii),$e(n,so),$e(n,Xi),$e(n,Yi),$e(n,Zi),$e(n,to),$e(n,no)).map(l=>new i(l))}getNextTransition(t){if(!dl(this))throw new TypeError("invalid receiver");const n=cu(t),i=$e(this,uh);if(Xd(i)||"UTC"===i)return null;let u=$e(n,_i);const h=kr("%Temporal.Instant%");return u=yD(i,u),null===u?null:new h(u)}getPreviousTransition(t){if(!dl(this))throw new TypeError("invalid receiver");const n=cu(t),i=$e(this,uh);if(Xd(i)||"UTC"===i)return null;let u=$e(n,_i);const h=kr("%Temporal.Instant%");return u=ex(i,u),null===u?null:new h(u)}toString(){if(!dl(this))throw new TypeError("invalid receiver");return $e(this,uh)}toJSON(){if(!dl(this))throw new TypeError("invalid receiver");return $e(this,uh)}static from(t){return Y2(Hc(t))}}Ku(w0,"Temporal.TimeZone"),js("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",w0.prototype.getOffsetNanosecondsFor),js("Temporal.TimeZone.prototype.getPossibleInstantsFor",w0.prototype.getPossibleInstantsFor);const qD=Object.create;class F_{constructor(t,n,i="iso8601",u=1){wm(this,ko(t),ko(n),ul(i),ko(u))}get year(){if(!Go(this))throw new TypeError("invalid receiver");return yv($e(this,tr),this)}get month(){if(!Go(this))throw new TypeError("invalid receiver");return gv($e(this,tr),this)}get monthCode(){if(!Go(this))throw new TypeError("invalid receiver");return Zy($e(this,tr),this)}get calendarId(){if(!Go(this))throw new TypeError("invalid receiver");return zc($e(this,tr))}get era(){if(!Go(this))throw new TypeError("invalid receiver");return vv($e(this,tr),this)}get eraYear(){if(!Go(this))throw new TypeError("invalid receiver");return bv($e(this,tr),this)}get daysInMonth(){if(!Go(this))throw new TypeError("invalid receiver");return m_($e(this,tr),this)}get daysInYear(){if(!Go(this))throw new TypeError("invalid receiver");return e0($e(this,tr),this)}get monthsInYear(){if(!Go(this))throw new TypeError("invalid receiver");return Of($e(this,tr),this)}get inLeapYear(){if(!Go(this))throw new TypeError("invalid receiver");return t0($e(this,tr),this)}with(t,n){if(!Go(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid argument");Vy(t);const i=Po(n),u=$e(this,tr),h=Vs(u,["month","monthCode","year"]);let l=po(this,h,[]);return l=du(u,l,po(t,h,"partial")),l=po(l,h,[]),Ma(u,l,i)}add(t,n){if(!Go(this))throw new TypeError("invalid receiver");return AD("add",this,t,n)}subtract(t,n){if(!Go(this))throw new TypeError("invalid receiver");return AD("subtract",this,t,n)}until(t,n){if(!Go(this))throw new TypeError("invalid receiver");return TD("until",this,t,n)}since(t,n){if(!Go(this))throw new TypeError("invalid receiver");return TD("since",this,t,n)}equals(t){if(!Go(this))throw new TypeError("invalid receiver");const n=Yy(t);for(const i of[Yr,ei,ii])if($e(this,i)!==$e(n,i))return!1;return _v($e(this,tr),$e(n,tr))}toString(t){if(!Go(this))throw new TypeError("invalid receiver");return zu(this,fv(Po(t)))}toJSON(){if(!Go(this))throw new TypeError("invalid receiver");return zu(this)}toLocaleString(t,n){if(!Go(this))throw new TypeError("invalid receiver");return new Mh(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!Go(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("argument should be an object");const n=$e(this,tr),i=Vs(n,["monthCode","year"]),u=po(this,i,[]),h=Vs(n,["day"]);let l=du(n,u,po(t,h,[]));l=po(l,[...new Set([...i,...h])],[]);const f=qD(null);return f.overflow="reject",mh(n,l,f)}getISOFields(){if(!Go(this))throw new TypeError("invalid receiver");return{calendar:$e(this,tr),isoDay:$e(this,ii),isoMonth:$e(this,ei),isoYear:$e(this,Yr)}}getCalendar(){if(!Go(this))throw new TypeError("invalid receiver");return wv($e(this,tr))}static from(t,n){const i=Po(n);return Go(t)?(Ra(i),kf($e(t,Yr),$e(t,ei),$e(t,tr),$e(t,ii))):Yy(t,i)}static compare(t,n){const i=Yy(t),u=Yy(n);return Am($e(i,Yr),$e(i,ei),$e(i,ii),$e(u,Yr),$e(u,ei),$e(u,ii))}}Ku(F_,"Temporal.PlainYearMonth");const Ix=Mh.prototype.resolvedOptions,QD=Object.create;class Cx{constructor(t,n,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");_m(this,Pv(t),Hc(n),ul(i))}get calendarId(){if(!di(this))throw new TypeError("invalid receiver");return zc($e(this,tr))}get timeZoneId(){if(!di(this))throw new TypeError("invalid receiver");return Ev($e(this,us))}get year(){if(!di(this))throw new TypeError("invalid receiver");return yv($e(this,tr),ks(this))}get month(){if(!di(this))throw new TypeError("invalid receiver");return gv($e(this,tr),ks(this))}get monthCode(){if(!di(this))throw new TypeError("invalid receiver");return Zy($e(this,tr),ks(this))}get day(){if(!di(this))throw new TypeError("invalid receiver");return qy($e(this,tr),ks(this))}get hour(){if(!di(this))throw new TypeError("invalid receiver");return $e(ks(this),so)}get minute(){if(!di(this))throw new TypeError("invalid receiver");return $e(ks(this),Xi)}get second(){if(!di(this))throw new TypeError("invalid receiver");return $e(ks(this),Yi)}get millisecond(){if(!di(this))throw new TypeError("invalid receiver");return $e(ks(this),Zi)}get microsecond(){if(!di(this))throw new TypeError("invalid receiver");return $e(ks(this),to)}get nanosecond(){if(!di(this))throw new TypeError("invalid receiver");return $e(ks(this),no)}get era(){if(!di(this))throw new TypeError("invalid receiver");return vv($e(this,tr),ks(this))}get eraYear(){if(!di(this))throw new TypeError("invalid receiver");return bv($e(this,tr),ks(this))}get epochSeconds(){if(!di(this))throw new TypeError("invalid receiver");const t=$e(this,_i);return Bt.toNumber(Dm(t,Df))}get epochMilliseconds(){if(!di(this))throw new TypeError("invalid receiver");const t=$e(this,_i);return Bt.toNumber(Dm(t,Cc))}get epochMicroseconds(){if(!di(this))throw new TypeError("invalid receiver");return Eh(Dm($e(this,_i),ao))}get epochNanoseconds(){if(!di(this))throw new TypeError("invalid receiver");return Eh($e(this,_i))}get dayOfWeek(){if(!di(this))throw new TypeError("invalid receiver");return h_($e(this,tr),ks(this))}get dayOfYear(){if(!di(this))throw new TypeError("invalid receiver");return p_($e(this,tr),ks(this))}get weekOfYear(){if(!di(this))throw new TypeError("invalid receiver");return Qy($e(this,tr),ks(this))}get yearOfWeek(){if(!di(this))throw new TypeError("invalid receiver");return Pf($e(this,tr),ks(this))}get hoursInDay(){if(!di(this))throw new TypeError("invalid receiver");const t=ks(this),n=kr("%Temporal.PlainDateTime%"),i=$e(t,Yr),u=$e(t,ei),h=$e(t,ii),l=new n(i,u,h,0,0,0,0,0,0),f=Bf(i,u,h,0,0,0,1,"reject"),X=new n(f.year,f.month,f.day,0,0,0,0,0,0),W=$e(this,us),k=$e(Wc(W,l,"compatible"),_i),re=$e(Wc(W,X,"compatible"),_i);return _h(Bt.subtract(re,k),o_)}get daysInWeek(){if(!di(this))throw new TypeError("invalid receiver");return J2($e(this,tr),ks(this))}get daysInMonth(){if(!di(this))throw new TypeError("invalid receiver");return m_($e(this,tr),ks(this))}get daysInYear(){if(!di(this))throw new TypeError("invalid receiver");return e0($e(this,tr),ks(this))}get monthsInYear(){if(!di(this))throw new TypeError("invalid receiver");return Of($e(this,tr),ks(this))}get inLeapYear(){if(!di(this))throw new TypeError("invalid receiver");return t0($e(this,tr),ks(this))}get offset(){if(!di(this))throw new TypeError("invalid receiver");return Z2($e(this,us),$e(this,yd))}get offsetNanoseconds(){if(!di(this))throw new TypeError("invalid receiver");return Jd($e(this,us),$e(this,yd))}with(t,n){if(!di(this))throw new TypeError("invalid receiver");if(!Ds(t))throw new TypeError("invalid zoned-date-time-like");Vy(t);const i=Po(n),u=$e(this,tr);let h=Vs(u,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);h.push("offset");let l=po(this,h,["offset"]);l=du(u,l,po(t,h,"partial")),l=po(l,h,["offset"]);const f=Wy(i),X=u_(i,"prefer");let{year:W,month:k,day:re,hour:Oe,minute:je,second:Ke,millisecond:nt,microsecond:wt,nanosecond:Ot}=au(u,l,i);const Et=yh(l.offset),St=$e(this,us);return Ba(fp(W,k,re,Oe,je,Ke,nt,wt,Ot,"option",Et,St,f,X,!1),St,u)}withPlainDate(t){if(!di(this))throw new TypeError("invalid receiver");const n=os(t),i=$e(n,Yr),u=$e(n,ei),h=$e(n,ii);let l=$e(n,tr);const f=ks(this),X=$e(f,so),W=$e(f,Xi),k=$e(f,Yi),re=$e(f,Zi),Oe=$e(f,to),je=$e(f,no);l=X2($e(this,tr),l);const Ke=$e(this,us);return Ba($e(Wc(Ke,new(kr("%Temporal.PlainDateTime%"))(i,u,h,X,W,k,re,Oe,je,l),"compatible"),_i),Ke,l)}withPlainTime(t){if(!di(this))throw new TypeError("invalid receiver");const n=kr("%Temporal.PlainTime%"),i=void 0===t?new n:If(t),u=ks(this),h=$e(u,Yr),l=$e(u,ei),f=$e(u,ii),X=$e(this,tr),W=$e(i,so),k=$e(i,Xi),re=$e(i,Yi),Oe=$e(i,Zi),je=$e(i,to),Ke=$e(i,no),nt=$e(this,us);return Ba($e(Wc(nt,new(kr("%Temporal.PlainDateTime%"))(h,l,f,W,k,re,Oe,je,Ke,X),"compatible"),_i),nt,X)}withTimeZone(t){if(!di(this))throw new TypeError("invalid receiver");const n=Hc(t);return Ba($e(this,_i),n,$e(this,tr))}withCalendar(t){if(!di(this))throw new TypeError("invalid receiver");const n=ul(t);return Ba($e(this,_i),$e(this,us),n)}add(t,n){if(!di(this))throw new TypeError("invalid receiver");return DD("add",this,t,n)}subtract(t,n){if(!di(this))throw new TypeError("invalid receiver");return DD("subtract",this,t,n)}until(t,n){if(!di(this))throw new TypeError("invalid receiver");return Dv("until",this,t,n)}since(t,n){if(!di(this))throw new TypeError("invalid receiver");return Dv("since",this,t,n)}round(t){if(!di(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?xh("smallestUnit",t):Po(t),i=Gy(n),u=$u(n,"halfExpand"),h=ll(n,"smallestUnit","time",pm,["day"]),l={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h];Jy(i,l,1===l);const f=ks(this);let X=$e(f,Yr),W=$e(f,ei),k=$e(f,ii),re=$e(f,so),Oe=$e(f,Xi),je=$e(f,Yi),Ke=$e(f,Zi),nt=$e(f,to),wt=$e(f,no);const Ot=kr("%Temporal.PlainDateTime%"),Et=$e(this,us),St=$e(this,tr),Nt=Wc(Et,new Ot($e(f,Yr),$e(f,ei),$e(f,ii),0,0,0,0,0,0),"compatible"),Yt=Fl(Nt,Et,St,0,0,0,1,0,0,0,0,0,0),Qt=Bt.subtract(Yt,Bt.BigInt($e(Nt,_i)));if(Bt.lessThanOrEqual(Qt,As))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:X,month:W,day:k,hour:re,minute:Oe,second:je,millisecond:Ke,microsecond:nt,nanosecond:wt}=kv(X,W,k,re,Oe,je,Ke,nt,wt,i,h,u,Bt.toNumber(Qt))),Ba(fp(X,W,k,re,Oe,je,Ke,nt,wt,"option",Jd(Et,$e(this,yd)),Et,"compatible","prefer",!1),Et,$e(this,tr))}equals(t){if(!di(this))throw new TypeError("invalid receiver");const n=ym(t),i=$e(this,_i),u=$e(n,_i);return!!Bt.equal(Bt.BigInt(i),Bt.BigInt(u))&&!!uD($e(this,us),$e(n,us))&&_v($e(this,tr),$e(n,tr))}toString(t){if(!di(this))throw new TypeError("invalid receiver");const n=Po(t),i=fv(n),u=hv(n),h=pc(n,"offset",["auto","never"],"auto"),l=$u(n,"trunc"),f=ll(n,"smallestUnit","time",void 0);if("hour"===f)throw new RangeError('smallestUnit must be a time unit other than "hour"');const X=pc(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:W,unit:k,increment:re}=pv(f,u);return lu(this,W,i,X,h,{unit:k,increment:re,roundingMode:l})}toLocaleString(t,n){if(!di(this))throw new TypeError("invalid receiver");const i=Po(n),u=QD(null);if(fm(u,i,["timeZone"]),void 0!==i.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===u.year&&void 0===u.month&&void 0===u.day&&void 0===u.weekday&&void 0===u.dateStyle&&void 0===u.hour&&void 0===u.minute&&void 0===u.second&&void 0===u.timeStyle&&void 0===u.dayPeriod&&void 0===u.timeZoneName&&(u.timeZoneName="short");let h=Ev($e(this,us));if(Xd(h))throw new RangeError("toLocaleString does not support offset string time zones");h=b_(h),u.timeZone=h;const l=new Mh(t,u),f=fi(Ix,l,[]).calendar,X=zc($e(this,tr));if("iso8601"!==X&&"iso8601"!==f&&f!==X)throw new RangeError(`cannot format ZonedDateTime with calendar ${X} in locale with calendar ${f}`);return l.format($e(this,yd))}toJSON(){if(!di(this))throw new TypeError("invalid receiver");return lu(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!di(this))throw new TypeError("invalid receiver");const t=ks(this),n=kr("%Temporal.PlainDateTime%"),i=$e(this,tr),u=new n($e(t,Yr),$e(t,ei),$e(t,ii),0,0,0,0,0,0,i),h=$e(this,us);return Ba($e(Wc(h,u,"compatible"),_i),h,i)}toInstant(){if(!di(this))throw new TypeError("invalid receiver");return new(kr("%Temporal.Instant%"))($e(this,_i))}toPlainDate(){if(!di(this))throw new TypeError("invalid receiver");return Mm(ks(this))}toPlainTime(){if(!di(this))throw new TypeError("invalid receiver");return g_(ks(this))}toPlainDateTime(){if(!di(this))throw new TypeError("invalid receiver");return ks(this)}toPlainYearMonth(){if(!di(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return Ma(t,po(this,Vs(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!di(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return xm(t,po(this,Vs(t,["day","monthCode"]),[]))}getISOFields(){if(!di(this))throw new TypeError("invalid receiver");const t=ks(this),n=$e(this,us);return{calendar:$e(this,tr),isoDay:$e(t,ii),isoHour:$e(t,so),isoMicrosecond:$e(t,to),isoMillisecond:$e(t,Zi),isoMinute:$e(t,Xi),isoMonth:$e(t,ei),isoNanosecond:$e(t,no),isoSecond:$e(t,Yi),isoYear:$e(t,Yr),offset:Z2(n,$e(this,yd)),timeZone:n}}getCalendar(){if(!di(this))throw new TypeError("invalid receiver");return wv($e(this,tr))}getTimeZone(){if(!di(this))throw new TypeError("invalid receiver");return Y2($e(this,us))}static from(t,n){const i=Po(n);return di(t)?(Wy(i),u_(i,"reject"),Ra(i),Ba($e(t,_i),$e(t,us),$e(t,tr))):ym(t,i)}static compare(t,n){const i=ym(t),u=ym(n),h=$e(i,_i),l=$e(u,_i);return Bt.lessThan(Bt.BigInt(h),Bt.BigInt(l))?-1:Bt.greaterThan(Bt.BigInt(h),Bt.BigInt(l))?1:0}}function ks(r){return El($e(r,us),$e(r,yd),$e(r,tr))}Ku(Cx,"Temporal.ZonedDateTime");var _0=Object.freeze({__proto__:null,Calendar:pa,Duration:Th,Instant:hu,Now:Ax,PlainDate:Pm,PlainDateTime:b0,PlainMonthDay:U_,PlainTime:bp,PlainYearMonth:F_,TimeZone:w0,ZonedDateTime:Cx});const F5=[hu,pa,Pm,b0,Th,U_,bp,w0,F_,Cx];for(const r of F5){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var eI=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class ea{static sleep(t){return eI(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return eI(this,void 0,void 0,function*(){yield ea.sleep(2)})}static getCurrentTimestamp(){return _0.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W}=t;return _0.ZonedDateTime.from({timeZone:"UTC",year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const i=n?_0.Instant.from(n):_0.Now.instant(),u=_0.Duration.from(t);return i.add(u).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{_0.Instant.from(t)}catch{throw new ne(ue.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var mc=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class zo{get message(){if(void 0===this._message.authorization)throw new ne(ue.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return Fr.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return Fr.isSignedByOwnerDelegate(this._message)}get signer(){return Fr.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:cr.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=xo.getAuthor(t),this._signaturePayload=cr.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?Fr.getSigner(t.authorization.ownerDelegatedGrant):cr.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=cr.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=zo.getAttesters(t)}static parse(t){return mc(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield Fr.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield Fr.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield zo.validateAttestationIntegrity(n);const i=new zo(n);return yield i.validateIntegrity(),i})}static create(t){var n,i,u,h;return mc(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new ne(ue.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new ne(ue.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new ne(ue.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new ne(ue.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const l=null!==(n=t.dataCid)&&void 0!==n?n:yield pd.computeDagPbCidFromBytes(t.data),f=null!==(i=t.dataSize)&&void 0!==i?i:t.data.length,X=ea.getCurrentTimestamp(),W={interface:Gi.Records,method:vi.Write,protocol:void 0!==t.protocol?am(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?Ny(t.schema):void 0,tags:t.tags,parentId:zo.getRecordIdFromContextId(t.parentContextId),dataCid:l,dataSize:f,dateCreated:null!==(u=t.dateCreated)&&void 0!==u?u:X,messageTimestamp:null!==(h=t.messageTimestamp)&&void 0!==h?h:X,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&(W.datePublished=X),cl(W);const k=t.recordId,re=yield pd.computeCid(W),Oe=yield zo.createAttestation(re,t.attestationSigners),je=yield zo.createEncryptionProperty(W,t.encryptionInput),Ke={recordId:k,descriptor:W};void 0!==Oe&&(Ke.attestation=Oe),void 0!==je&&(Ke.encryption=je);const nt=new zo(Ke,t.parentContextId);return void 0!==t.signer&&(yield nt.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),nt})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,i,u,h;return mc(this,void 0,void 0,function*(){const l=t.recordsWriteMessage,f=yield zo.parse(l),X=ea.getCurrentTimestamp(),W=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||l.descriptor.published;let k;t.datePublished?k=t.datePublished:W&&(k=l.descriptor.published?l.descriptor.datePublished:X);const re={recipient:l.descriptor.recipient,recordId:l.recordId,dateCreated:l.descriptor.dateCreated,protocol:l.descriptor.protocol,protocolPath:l.descriptor.protocolPath,schema:l.descriptor.schema,parentContextId:xo.getParentContextFromOfContextId(l.contextId),messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:X,published:W,datePublished:k,tags:t.tags,data:t.data,dataCid:t.data?void 0:l.descriptor.dataCid,dataSize:t.data?void 0:l.descriptor.dataSize,dataFormat:null!==(u=t.dataFormat)&&void 0!==u?u:l.descriptor.dataFormat,protocolRole:null!==(h=t.protocolRole)&&void 0!==h?h:f.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield zo.create(re)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return mc(this,void 0,void 0,function*(){this._message.encryption=yield zo.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return mc(this,void 0,void 0,function*(){const{signer:i,delegatedGrant:u,permissionGrantId:h,protocolRole:l}=t;let f,X;void 0!==u?(f=yield Fr.getCid(u),X=cr.getSignerDid(u.authorization.signature.signatures[0])):X=cr.extractDid(i.keyId);const W=this._message.descriptor,k=yield pd.computeCid(W);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield zo.getEntryId(X,W),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const re=yield zo.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:k,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:f,permissionGrantId:h,protocolRole:l});this._message.authorization={signature:re},void 0!==u&&(this._message.authorization.authorDelegatedGrant=u),this._signaturePayload=cr.decodePlainObjectPayload(re),this._author=X})}signAsOwner(t){return mc(this,void 0,void 0,function*(){if(void 0===this._author)throw new ne(ue.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,i=yield Fr.createSignature(n,t);this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=cr.decodePlainObjectPayload(i),this._owner=cr.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return mc(this,void 0,void 0,function*(){if(void 0===this._author)throw new ne(ue.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const i=yield Fr.getCid(n),u=this._message.descriptor,h=yield Fr.createSignature(u,t,{delegatedGrantId:i});this._message.authorization.ownerSignature=h,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=cr.decodePlainObjectPayload(h),this._owner=cr.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return mc(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const i=this.message.descriptor.dateCreated,u=this.message.descriptor.messageTimestamp;if(u!==i)throw new ne(ue.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${u} must match dateCreated ${i} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const h=yield this.getEntryId();if(this.message.contextId!==h)throw new ne(ue.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${h}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new ne(ue.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new ne(ue.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield xo.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const i=yield pd.computeCid(this.message.attestation),u=n.attestationCid;if(u!==i)throw new ne(ue.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${u}`)}if(void 0!==n.encryptionCid){const i=yield pd.computeCid(this.message.encryption),u=n.encryptionCid;if(u!==i)throw new ne(ue.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${u}`)}void 0!==this.message.descriptor.protocol&&sp(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&By(this.message.descriptor.schema),ea.validateTimestamp(this.message.descriptor.messageTimestamp),ea.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&ea.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return mc(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new ne(ue.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=cr.decodePlainObjectPayload(t.attestation),{descriptorCid:i}=n,u=yield pd.computeCid(t.descriptor);if(i!==u)throw new ne(ue.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${u}`);const h=Object.keys(n).length;if(h>1)throw new ne(ue.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${h} properties.`)})}getEntryId(){return mc(this,void 0,void 0,function*(){return yield zo.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return mc(this,void 0,void 0,function*(){if(void 0===t)throw new ne(ue.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const i=Object.assign({},n);return i.author=t,yield pd.computeCid(i)})}isInitialWrite(){return mc(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return mc(this,void 0,void 0,function*(){const n=this.message,i=n.descriptor,{tags:u}=i,h=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(i,["tags"]);delete h.published;let l=Object.assign(Object.assign({},h),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield zo.getEntryId(this.author,this.message.descriptor)});if(void 0!==u&&!0===t){const f=xo.buildTagIndexes(Object.assign({},u));l=Object.assign(Object.assign({},l),f)}return this.attesters.length>0&&(l.attester=this.attesters[0]),void 0!==n.contextId&&(l.contextId=n.contextId),l})}authorizeAuthorDelegate(t){return mc(this,void 0,void 0,function*(){const n=yield Lu.parse(this.message.authorization.authorDelegatedGrant);yield md.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return mc(this,void 0,void 0,function*(){const n=yield Lu.parse(this.message.authorization.ownerDelegatedGrant);yield md.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return mc(this,void 0,void 0,function*(){if(t.descriptor.interface!==Gi.Records||t.descriptor.method!==vi.Write)return!1;const n=t,i=xo.getAuthor(n);return(yield zo.getEntryId(i,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var i,u;return mc(this,void 0,void 0,function*(){if(void 0===n)return;const h=[];for(const f of n.keyEncryptionInputs){if(f.derivationScheme===ou.ProtocolPath&&void 0===t.protocol)throw new ne(ue.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(f.derivationScheme===ou.Schemas&&void 0===t.schema)throw new ne(ue.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const X=pe.publicJwkToBytes(f.publicKey),W=yield Py.eciesSecp256k1Encrypt(X,n.key),k=me.bytesToBase64Url(W.ciphertext),re=yield pe.publicKeyToJwk(W.ephemeralPublicKey),Oe=me.bytesToBase64Url(W.initializationVector),je=me.bytesToBase64Url(W.messageAuthenticationCode),Ke={rootKeyId:f.publicKeyId,algorithm:null!==(i=f.algorithm)&&void 0!==i?i:tv.EciesSecp256k1,derivationScheme:f.derivationScheme,ephemeralPublicKey:re,initializationVector:Oe,messageAuthenticationCode:je,encryptedKey:k};f.derivationScheme===ou.ProtocolContext&&(Ke.derivedPublicKey=f.publicKey),h.push(Ke)}return{algorithm:null!==(u=n.algorithm)&&void 0!==u?u:tv.Aes256Ctr,initializationVector:me.bytesToBase64Url(n.initializationVector),keyEncryption:h}})}static createAttestation(t,n){return mc(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const u=me.objectToBytes({descriptorCid:t});return(yield nv.create(u,n)).getJws()})}static createSignerSignature(t){return mc(this,void 0,void 0,function*(){const{recordId:n,contextId:i,descriptorCid:u,attestation:h,encryption:l,signer:f,delegatedGrantId:X,permissionGrantId:W,protocolRole:k}=t,je={recordId:n,descriptorCid:u,contextId:i,attestationCid:h?yield pd.computeCid(h):void 0,encryptionCid:l?yield pd.computeCid(l):void 0,delegatedGrantId:X,permissionGrantId:W,protocolRole:k};cl(je);const Ke=me.objectToBytes(je);return(yield nv.create(Ke,[f])).getJws()})}static getInitialWrite(t){return mc(this,void 0,void 0,function*(){for(const n of t)if(yield zo.isInitialWrite(n))return n;throw new ne(ue.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const i=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let u=[];u.push(...Object.keys(t.descriptor)),u.push(...Object.keys(n.descriptor)),u=[...new Set(u)];for(const h of u)if(-1===i.indexOf(h)){const l=t.descriptor[h],f=n.descriptor[h];if(f!==l)throw new ne(ue.RecordsWriteImmutablePropertyChanged,`${h} is an immutable property: cannot change '${l}' to '${f}'`)}return!0}static getAttesters(t){var n,i;return(null!==(i=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==i?i:[]).map(l=>cr.getSignerDid(l))}static fetchInitialRecordsWrite(t,n,i){return mc(this,void 0,void 0,function*(){const u={entryId:i},{messages:h}=yield t.query(n,[u]);return 0===h.length?void 0:yield zo.parse(h[0])})}}var kx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function pu(r,t){return kx(this,void 0,void 0,function*(){if(void 0===r)throw new ne(ue.AuthenticateJwsMissing,"Missing JWS.");if(yield Uc.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield Uc.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield zo.parse(r.authorDelegatedGrant);yield Uc.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield zo.parse(r.ownerDelegatedGrant);yield Uc.verifySignatures(n.message.authorization.signature,t)}})}function E0(r,t){return kx(this,void 0,void 0,function*(){if(t.author!==r)throw new ne(ue.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}class nI{isActiveTenant(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class Yu{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=Fr.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?Fr.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=cr.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var j_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class x0 extends Yu{static parse(t){return j_(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===Ll.PublishedAscending||t.descriptor.dateSort===Ll.PublishedDescending))throw new ne(ue.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield Fr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield xo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new ne(ue.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&sp(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&By(t.descriptor.filter.schema),ea.validateTimestamp(t.descriptor.messageTimestamp),new x0(t)})}static create(t){var n;return j_(this,void 0,void 0,function*(){const i={interface:Gi.Records,method:vi.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ea.getCurrentTimestamp(),filter:xo.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===Ll.PublishedAscending||t.dateSort===Ll.PublishedDescending))throw new ne(ue.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);cl(i);const u=t.signer;let h;u&&(h=yield Fr.createAuthorization({descriptor:i,signer:u,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const l={descriptor:i,authorization:h};return Fr.validateJsonSchema(l),new x0(l)})}authorizeDelegate(t){return j_(this,void 0,void 0,function*(){const n=yield Lu.parse(this.message.authorization.authorDelegatedGrant);yield md.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var Px=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Ah{static toBytes(t){return Px(this,void 0,void 0,function*(){return new Promise((n,i)=>{const u=[];t.on("data",h=>{u.push(h)}),t.on("end",()=>{const h=Ah.concatenateArrayOfBytes(u);n(h)}),t.on("error",i)})})}static toObject(t){return Px(this,void 0,void 0,function*(){const n=yield Ah.toBytes(t);return me.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((h,l)=>h+l.length,0),i=new Uint8Array(n);let u=0;for(const h of t)i.set(h,u),u+=h.length;return i}static fromBytes(t){let i=0;return new Qg.Readable({read(h){i+1e5>t.length?(this.push(t.subarray(i)),this.push(null)):(this.push(t.subarray(i,i+1e5)),i+=1e5)}})}static fromObject(t){const n=me.objectToBytes(t);return Ah.fromBytes(n)}static duplicateDataStream(t,n){const i=[];for(let u=0;u<n;u++){const h=new Qg.PassThrough;t.pipe(h),i.push(h)}return i}}var rI=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Uv extends Yu{static parse(t){return rI(this,void 0,void 0,function*(){return Fr.validateJsonSchema(t),yield Fr.validateSignatureStructure(t.authorization.signature,t.descriptor),ea.validateTimestamp(t.descriptor.messageTimestamp),new Uv(t)})}static create(t){var n;return rI(this,void 0,void 0,function*(){const i={interface:Gi.Events,method:vi.Get,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ea.getCurrentTimestamp()};t.cursor&&(i.cursor=t.cursor);const h={descriptor:i,authorization:yield Fr.createAuthorization({descriptor:i,signer:t.signer})};return Fr.validateJsonSchema(h),new Uv(h)})}}function gs(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class Ox{constructor(t,n){this.didResolver=t,this.eventLog=n}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield Uv.parse(n)}catch(f){return gs(f,400)}try{yield pu(n.authorization,this.didResolver),yield E0(t,i)}catch(f){return gs(f,401)}const{cursor:u}=n.descriptor,{events:h,cursor:l}=yield this.eventLog.getEvents(t,u);return{status:{code:200,detail:"OK"},entries:h,cursor:l}})}}class V_{static normalizeFilters(t){const n=[];for(const i of t){let u;u=this.isRecordsFilter(i)?xo.normalizeFilter(i):i,cl(u),Ry(u)||n.push(u)}return n}static convertFilters(t){const n=[];for(const i of t)this.isRecordsFilter(i)?n.push(xo.convertFilter(i)):n.push(this.convertFilter(i));return n}static convertFilter(t){const n=Object.assign({},t),{dateUpdated:i}=t,u=i?Vd.convertRangeCriterion(i):void 0;return u&&(n.messageTimestamp=u,delete n.dateUpdated),n}static isRecordsFilter(t){return"author"in t||"dateCreated"in t||"dataFormat"in t||"dataSize"in t||"parentId"in t||"recordId"in t||"schema"in t||"protocol"in t||"protocolPath"in t||"recipient"in t}}var Rx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class M0 extends Yu{static parse(t){return Rx(this,void 0,void 0,function*(){Fr.validateJsonSchema(t),yield Fr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&sp(n.protocol),"schema"in n&&void 0!==n.schema&&By(n.schema);return new M0(t)})}static create(t){var n;return Rx(this,void 0,void 0,function*(){const i={interface:Gi.Events,method:vi.Query,filters:V_.normalizeFilters(t.filters),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ea.getCurrentTimestamp(),cursor:t.cursor};cl(i);const h={descriptor:i,authorization:yield Fr.createAuthorization({descriptor:i,signer:t.signer})};return Fr.validateJsonSchema(h),new M0(h)})}}class oI{constructor(t,n){this.didResolver=t,this.eventLog=n}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield M0.parse(n)}catch(f){return gs(f,400)}try{yield pu(n.authorization,this.didResolver),yield E0(t,i)}catch(f){return gs(f,401)}const u=V_.convertFilters(n.descriptor.filters),{events:h,cursor:l}=yield this.eventLog.queryEvents(t,u,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:h,cursor:l}})}}var Bx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class S0 extends Yu{static parse(t){return Bx(this,void 0,void 0,function*(){Fr.validateJsonSchema(t),yield Fr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&sp(n.protocol),"schema"in n&&void 0!==n.schema&&By(n.schema);return ea.validateTimestamp(t.descriptor.messageTimestamp),new S0(t)})}static create(t){var n,i;return Bx(this,void 0,void 0,function*(){const u=ea.getCurrentTimestamp(),h={interface:Gi.Events,method:vi.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:u};cl(h);const f={descriptor:h,authorization:yield Fr.createAuthorization({descriptor:h,signer:t.signer})};return Fr.validateJsonSchema(f),new S0(f)})}}class sI{constructor(t,n){this.didResolver=t,this.eventStream=n}handle({tenant:t,message:n,subscriptionHandler:i}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if(void 0===this.eventStream)return gs(new ne(ue.EventsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let u;try{u=yield S0.parse(n)}catch(k){return gs(k,400)}try{yield pu(n.authorization,this.didResolver),yield E0(t,u)}catch(k){return gs(k,401)}const{filters:h}=n.descriptor,l=V_.convertFilters(h),f=yield Fr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,f,(k,re,Oe)=>{t===k&&Vd.matchAnyFilter(Oe,l)&&i(re)})}})}}var z_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Om extends Yu{static parse(t){return z_(this,void 0,void 0,function*(){return Fr.validateJsonSchema(t),this.validateMessageCids(t.descriptor.messageCids),yield Fr.validateSignatureStructure(t.authorization.signature,t.descriptor),ea.validateTimestamp(t.descriptor.messageTimestamp),new Om(t)})}static create(t){var n;return z_(this,void 0,void 0,function*(){const i={interface:Gi.Messages,method:vi.Get,messageCids:t.messageCids,messageTimestamp:null!==(n=t?.messageTimestamp)&&void 0!==n?n:ea.getCurrentTimestamp()},h={descriptor:i,authorization:yield Fr.createAuthorization({descriptor:i,signer:t.signer})};return Fr.validateJsonSchema(h),Om.validateMessageCids(t.messageCids),new Om(h)})}static validateMessageCids(t){for(const n of t)try{pd.parseCid(n)}catch{throw new ne(ue.MessageGetInvalidCid,`${n} is not a valid CID`)}}}class $5{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield Om.parse(n)}catch(f){return gs(f,400)}try{yield pu(n.authorization,this.didResolver),yield E0(t,i)}catch(f){return gs(f,401)}const u=[],h=new Set(n.descriptor.messageCids);for(const f of h){const X=this.messageStore.get(t,f).then(W=>({messageCid:f,message:W})).catch(W=>({messageCid:f,message:void 0,error:`Failed to get message ${f}`}));u.push(X)}const l=yield Promise.all(u);for(const f of l){const{message:X}=f;if(!X)continue;const{interface:W,method:k}=X.descriptor;if(W!==Gi.Records||k!==vi.Write)continue;const re=X;void 0!==re.encodedData&&(f.encodedData=re.encodedData,delete re.encodedData)}return{status:{code:200,detail:"OK"},entries:l}})}}var cI=_(20844),T0=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(T0||{}),yc=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(yc||{}),H_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class hl extends Yu{static parse(t){return H_(this,void 0,void 0,function*(){return Fr.validateJsonSchema(t),hl.validateProtocolDefinition(t.descriptor.definition),yield Fr.validateSignatureStructure(t.authorization.signature,t.descriptor),ea.validateTimestamp(t.descriptor.messageTimestamp),new hl(t)})}static create(t){var n;return H_(this,void 0,void 0,function*(){const i={interface:Gi.Protocols,method:vi.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ea.getCurrentTimestamp(),definition:hl.normalizeDefinition(t.definition)},h={descriptor:i,authorization:yield Fr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId})};return Fr.validateJsonSchema(h),hl.validateProtocolDefinition(h.descriptor.definition),new hl(h)})}static validateProtocolDefinition(t){const{protocol:n,types:i}=t;sp(n);for(const u in i){const h=i[u].schema;void 0!==h&&By(h)}hl.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),i=hl.fetchAllRolePathsRecursively("",t.structure,[]);hl.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:i})}static fetchAllRolePathsRecursively(t,n,i){if(t.split("/").length>10)throw new ne(ue.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const u in n){if(u.startsWith("$"))continue;const h=n[u];let l;l=""===t?u:`${t}/${u}`,h.$role?i.push(l):hl.fetchAllRolePathsRecursively(l,h,i)}return i}static validateRuleSetRecursively(t){var n;const{ruleSet:i,ruleSetProtocolPath:u,recordTypes:h,roles:l}=t;if(void 0!==i.$size){const{min:X=0,max:W}=i.$size;if(void 0!==W&&W<X)throw new ne(ue.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${W} less than min limit ${X} at protocol path '${u}'`)}if(i.$tags){const X=new cI.default,Oe=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(i.$tags,["$allowUndefinedTags","$requiredTags"]);for(const je in Oe)if(!X.validateSchema(Oe[je])){const nt=X.errorsText(X.errors,{dataVar:`${u}/$tags/${je}`});throw new ne(ue.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${nt}`)}}const f=null!==(n=i.$actions)&&void 0!==n?n:[];for(let X=0;X<f.length;X++){const W=f[X];if(void 0!==W.role&&!l.includes(W.role))throw new ne(ue.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify(W)} for rule set ${u} does not exist.`);if("anyone"===W.who&&W.of)throw new ne(ue.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${u})`);if(W.who===T0.Recipient&&void 0===W.of&&W.can.some(re=>![yc.CoUpdate,yc.CoDelete,yc.CoPrune].includes(re)))throw new ne(ue.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if(W.who===T0.Author&&!W.of)throw new ne(ue.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==W.can){if(W.can.includes(yc.Update)&&!W.can.includes(yc.Create))throw new ne(ue.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify(W)} contains 'update' action but missing the required 'create' action.`);if(W.can.includes(yc.Delete)&&!W.can.includes(yc.Create))throw new ne(ue.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify(W)} contains 'delete' action but missing the required 'create' action.`)}for(let k=X+1;k<f.length;k++){const re=f[k];if(void 0!==W.who){if(W.who===re.who&&W.of===re.of)throw new ne(ue.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${W.who} of ${W.of} not allowed within a rule set: ${JSON.stringify(W)}`)}else if(W.role===re.role)throw new ne(ue.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${W.role} not allowed within a rule set: ${JSON.stringify(W)}`)}}for(const X in i){if(X.startsWith("$"))continue;if(!h.includes(X))throw new ne(ue.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${X} is not declared as an allowed type in the protocol definition.`);let k;k=""===u?X:`${u}/${X}`,hl.validateRuleSetRecursively({ruleSet:i[X],ruleSetProtocolPath:k,recordTypes:h,roles:l})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const i in n){const u=n[i].schema;void 0!==u&&(n[i].schema=Ny(u))}return Object.assign(Object.assign({},t),{protocol:am(t.protocol),types:n})}}class Lv{constructor(t,n,i,u){this.didResolver=t,this.messageStore=n,this.eventLog=i,this.eventStream=u}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield hl.parse(n)}catch(k){return gs(k,400)}try{yield pu(n.authorization,this.didResolver),yield E0(t,i)}catch(k){return gs(k,401)}const u={interface:Gi.Protocols,method:vi.Configure,protocol:n.descriptor.definition.protocol},{messages:h}=yield this.messageStore.query(t,[u]);let X,l=yield Fr.getNewestMessage(h),f=!1;if((void 0===l||(yield Fr.isNewer(n,l)))&&(f=!0,l=n),f){const k=Lv.constructIndexes(i);yield this.messageStore.put(t,n,k);const re=yield Fr.getCid(n);yield this.eventLog.append(t,re,k),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},k),X={status:{code:202,detail:"Accepted"}}}else X={status:{code:409,detail:"Conflict"}};const W=[];for(const k of h)if(yield Fr.isNewer(l,k)){const re=yield Fr.getCid(k);W.push(re),yield this.messageStore.delete(t,re)}return yield this.eventLog.deleteEventsByCid(t,W),X})}static constructIndexes(t){const n=t.message.descriptor,{definition:i}=n,u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(n,["definition"]),{author:h}=t;return Object.assign(Object.assign({},u),{author:h,protocol:i.protocol,published:i.published})}}var W_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class xs{static parseRequest(t){return me.base64UrlToObject(t)}static createRequest(t){return W_(this,void 0,void 0,function*(){const n=xs.normalizePermissionScope(t.scope),i={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions},u=me.objectToBytes(i);return{recordsWrite:yield zo.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:xs.uri,protocolPath:xs.requestPath,dataFormat:"application/json",data:u}),permissionRequestData:i,permissionRequestBytes:u}})}static createGrant(t){return W_(this,void 0,void 0,function*(){const n=xs.normalizePermissionScope(t.scope),i={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions},u=me.objectToBytes(i),h=yield zo.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:xs.uri,protocolPath:xs.grantPath,dataFormat:"application/json",data:u});return{recordsWrite:h,permissionGrantData:i,permissionGrantBytes:u,dataEncodedMessage:Object.assign(Object.assign({},h.message),{encodedData:me.bytesToBase64Url(u)})}})}static createRevocation(t){return W_(this,void 0,void 0,function*(){const n={description:t.description},i=me.objectToBytes(n);return{recordsWrite:yield zo.create({signer:t.signer,parentContextId:t.grantId,protocol:xs.uri,protocolPath:xs.revocationPath,dataFormat:"application/json",data:i}),permissionRevocationData:n,permissionRevocationBytes:i}})}static validateSchema(t,n){const i=me.bytesToString(n),u=JSON.parse(i);if(t.descriptor.protocolPath===xs.requestPath)rl("PermissionRequestData",u);else if(t.descriptor.protocolPath===xs.grantPath){rl("PermissionGrantData",u);const h=u;xs.validateScope(h.scope),ea.validateTimestamp(h.dateExpires)}else{if(t.descriptor.protocolPath!==xs.revocationPath)throw new ne(ue.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);rl("PermissionRevocationData",u)}}static fetchGrant(t,n,i){return W_(this,void 0,void 0,function*(){const u={recordId:i,isLatestBaseState:!0},{messages:h}=yield n.query(t,[u]),l=h[0],f=l?.descriptor.interface,X=l?.descriptor.method;if(f!==Gi.Records||X!==vi.Write||l.descriptor.protocolPath!==xs.grantPath)throw new ne(ue.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${i}.`);const W=l;return yield Lu.parse(W)})}static normalizePermissionScope(t){const n=Object.assign({},t);return xs.isRecordPermissionScope(n)&&(void 0!==n.protocol&&(n.protocol=am(n.protocol)),void 0!==n.schema&&(n.schema=Ny(n.schema))),n}static isRecordPermissionScope(t){return"Records"===t.interface}static validateScope(t){if(this.isRecordPermissionScope(t)){if(void 0!==t.schema&&(void 0!==t.protocol||void 0!==t.contextId||t.protocolPath))throw new ne(ue.PermissionsProtocolValidateScopeSchemaProhibitedProperties,"Permission grants that have `schema` present cannot also have protocol-related properties present");if(void 0!==t.protocol&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new ne(ue.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}}xs.uri="https://tbd.website/dwn/permissions",xs.requestPath="request",xs.grantPath="grant",xs.revocationPath="grant/revocation",xs.definition={published:!0,protocol:xs.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};var Ux=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Rm extends Yu{static parse(t){return Ux(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield Fr.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&sp(t.descriptor.filter.protocol),ea.validateTimestamp(t.descriptor.messageTimestamp),new Rm(t)})}static create(t){var n;return Ux(this,void 0,void 0,function*(){const i={interface:Gi.Protocols,method:vi.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ea.getCurrentTimestamp(),filter:t.filter?Rm.normalizeFilter(t.filter):void 0};let u;cl(i),void 0!==t.signer&&(u=yield Fr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId}));const h={descriptor:i,authorization:u};return Fr.validateJsonSchema(h),new Rm(h)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:am(t.protocol)})}authorize(t,n){return Ux(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new ne(ue.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const i=yield xs.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield Tf.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:i,messageStore:n})}}})}}var lI=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class H5{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return lI(this,void 0,void 0,function*(){let i;try{i=yield Rm.parse(n)}catch(l){return gs(l,400)}try{yield pu(n.authorization,this.didResolver),yield i.authorize(t,this.messageStore)}catch(l){return l.code===ue.AuthenticateJwsMissing||l.code===ue.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,i)}:gs(l,401)}const u=Object.assign(Object.assign({},n.descriptor.filter),{interface:Gi.Protocols,method:vi.Configure});cl(u);const{messages:h}=yield this.messageStore.query(t,[u]);return{status:{code:200,detail:"OK"},entries:h}})}fetchPublishedProtocolsConfigure(t,n){return lI(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:Gi.Protocols,method:vi.Configure,published:!0}),{messages:u}=yield this.messageStore.query(t,[i]);return u})}}var Td=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class bo{static validateReferentialIntegrity(t,n,i){return Td(this,void 0,void 0,function*(){const u=yield bo.fetchProtocolDefinition(t,n.message.descriptor.protocol,i);bo.verifyType(n.message,u.types),yield bo.verifyProtocolPathAndContextId(t,n,i);const h=bo.getRuleSet(n.message.descriptor.protocolPath,u);yield bo.verifyAsRoleRecordIfNeeded(t,n,h,i),bo.verifySizeLimit(n,h),bo.verifyTagsIfNeeded(n,h)})}static authorizeWrite(t,n,i){return Td(this,void 0,void 0,function*(){let h;h=void 0===(yield bo.fetchInitialWrite(t,n.message.recordId,i))?yield bo.constructRecordChain(t,n.message.descriptor.parentId,i):yield bo.constructRecordChain(t,n.message.recordId,i);const l=yield bo.fetchProtocolDefinition(t,n.message.descriptor.protocol,i),f=bo.getRuleSet(n.message.descriptor.protocolPath,l);yield bo.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,l,i),yield bo.authorizeAgainstAllowedActions(t,n,f,h,i)})}static authorizeRead(t,n,i,u){return Td(this,void 0,void 0,function*(){const h=yield bo.constructRecordChain(t,i.message.recordId,u),l=yield bo.fetchProtocolDefinition(t,i.message.descriptor.protocol,u),f=bo.getRuleSet(i.message.descriptor.protocolPath,l);yield bo.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,l,u),yield bo.authorizeAgainstAllowedActions(t,n,f,h,u)})}static authorizeQueryOrSubscribe(t,n,i){return Td(this,void 0,void 0,function*(){const{protocol:u,protocolPath:h,contextId:l}=n.message.descriptor.filter,f=yield bo.fetchProtocolDefinition(t,u,i),X=bo.getRuleSet(h,f);yield bo.verifyInvokedRole(t,n,u,l,f,i),yield bo.authorizeAgainstAllowedActions(t,n,X,[],i)})}static authorizeDelete(t,n,i,u){return Td(this,void 0,void 0,function*(){const h=yield bo.constructRecordChain(t,n.message.descriptor.recordId,u),l=yield bo.fetchProtocolDefinition(t,i.message.descriptor.protocol,u),f=bo.getRuleSet(i.message.descriptor.protocolPath,l);yield bo.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,l,u),yield bo.authorizeAgainstAllowedActions(t,n,f,h,u)})}static fetchProtocolDefinition(t,n,i){return Td(this,void 0,void 0,function*(){if(n===xs.uri)return xs.definition;const u={interface:Gi.Protocols,method:vi.Configure,protocol:n},{messages:h}=yield i.query(t,[u]);if(0===h.length)throw new ne(ue.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return h[0].descriptor.definition})}static constructRecordChain(t,n,i){return Td(this,void 0,void 0,function*(){if(void 0===n)return[];const u=[];let h=n;for(;void 0!==h;){const l=yield bo.fetchInitialWrite(t,h,i);if(void 0===l)throw new ne(ue.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${h} when constructing record chain.`);u.push(l),h=l.descriptor.parentId}return u.reverse()})}static fetchInitialWrite(t,n,i){return Td(this,void 0,void 0,function*(){const u={interface:Gi.Records,method:vi.Write,recordId:n},{messages:h}=yield i.query(t,[u]);return 0===h.length?void 0:yield zo.getInitialWrite(h)})}static getRuleSet(t,n){const i=bo.getRuleSetAtProtocolPath(t,n);if(void 0===i)throw new ne(ue.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return i}static verifyProtocolPathAndContextId(t,n,i){var u;return Td(this,void 0,void 0,function*(){const h=n.message.descriptor.protocolPath,l=bo.getTypeName(h),f=n.message.descriptor.parentId;if(void 0===f){if(h!==l)throw new ne(ue.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${h}' is not valid for records with no parent'.`);return}const W={isLatestBaseState:!0,interface:Gi.Records,method:vi.Write,protocol:n.message.descriptor.protocol,recordId:f},{messages:k}=yield i.query(t,[W]),re=k[0];if(`${null===(u=re?.descriptor)||void 0===u?void 0:u.protocolPath}/${l}`!==h)throw new ne(ue.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${h}'.`);const Ke=`${re.contextId}/${n.message.recordId}`,nt=n.message.contextId;if(nt!==Ke)throw new ne(ue.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${nt}' is not the same as expected: '${Ke}'.`)})}static verifyType(t,n){const i=Object.keys(n),h=bo.getTypeName(t.descriptor.protocolPath);if(!i.includes(h))throw new ne(ue.ProtocolAuthorizationInvalidType,`record with type ${h} not allowed in protocol`);const f=bo.getTypeName(t.descriptor.protocolPath),X=n[f],{schema:W}=t.descriptor;if(void 0!==X.schema&&X.schema!==W)throw new ne(ue.ProtocolAuthorizationInvalidSchema,`type '${f}' must have schema '${X.schema}',         instead has '${W}'`);const{dataFormat:k}=t.descriptor;if(void 0!==X.dataFormats&&!X.dataFormats.includes(k))throw new ne(ue.ProtocolAuthorizationIncorrectDataFormat,`type '${f}' must have data format in (${X.dataFormats}),         instead has '${k}'`)}static verifyInvokedRole(t,n,i,u,h,l){var f;return Td(this,void 0,void 0,function*(){const X=null===(f=n.signaturePayload)||void 0===f?void 0:f.protocolRole;if(void 0===X)return;const W=bo.getRuleSetAtProtocolPath(X,h);if(void 0===W||!W.$role)throw new ne(ue.ProtocolAuthorizationNotARole,`Protocol path ${X} does not match role record type.`);const k={interface:Gi.Records,method:vi.Write,protocol:i,protocolPath:X,recipient:n.author,isLatestBaseState:!0},re=X.split("/").length-1;if(void 0===u&&re>0)throw new ne(ue.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(re>0){const Ke=u.split("/").slice(0,re).join("/"),nt=Vd.constructPrefixFilterAsRangeFilter(Ke);k.contextId=nt}const{messages:Oe}=yield l.query(t,[k]);if(0===Oe.length)throw new ne(ue.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${X}`)})}static getActionsSeekingARuleMatch(t,n,i){return Td(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case vi.Delete:const u=n,h=u.message.descriptor.recordId,l=yield zo.fetchInitialRecordsWrite(i,t,h);if(void 0===l)return[];const f=[];return u.message.descriptor.prune?(f.push(yc.CoPrune),n.author===l.author&&f.push(yc.Prune)):(f.push(yc.CoDelete),n.author===l.author&&f.push(yc.Delete)),f;case vi.Query:return[yc.Query];case vi.Read:return[yc.Read];case vi.Subscribe:return[yc.Subscribe];case vi.Write:if(yield n.isInitialWrite())return[yc.Create];{const k=n.message.recordId,re=yield zo.fetchInitialRecordsWrite(i,t,k);return void 0===re?[]:n.author===re.author?[yc.CoUpdate,yc.Update]:[yc.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,i,u,h){var l;return Td(this,void 0,void 0,function*(){const f=n.message.descriptor.method,X=yield bo.getActionsSeekingARuleMatch(t,n,h),W=n.author,k=i.$actions;if(void 0===k)throw new ne(ue.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${f}, ${W} is unauthorized`);const re=null===(l=n.signaturePayload)||void 0===l?void 0:l.protocolRole;for(const Oe of k)if(Oe.can.some(nt=>X.includes(nt))){if(Oe.who===T0.Anyone)return;if(void 0!==W)if(void 0===re)if(Oe.who!==T0.Recipient||void 0!==Oe.of){if(yield bo.checkActor(W,Oe,u))return}else{let nt;if(nt=n.message.descriptor.method===vi.Write?n.message:u[u.length-1],nt.descriptor.recipient===W)return}else if(Oe.role===re)return}throw new ne(ue.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${f} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:i=0,max:u}=n.$size||{},h=t.message.descriptor.dataSize;if(h<i)throw new ne(ue.ProtocolAuthorizationMinSizeInvalid,`data size ${h} is less than allowed ${i}`);if(void 0!==u&&h>u)throw new ne(ue.ProtocolAuthorizationMaxSizeInvalid,`data size ${h} is more than allowed ${u}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:i={},protocol:u,protocolPath:h}=t.message.descriptor,l=n.$tags,{$allowUndefinedTags:f,$requiredTags:X}=l,W=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(l,["$allowUndefinedTags","$requiredTags"]),k=f||!1,re=X||[],Oe=new cI.default,je=Oe.compile({type:"object",properties:W,required:re,additionalProperties:k});if(!je(i)){const nt=Oe.errorsText(je.errors,{dataVar:`${u}/${h}/$tags`});throw new ne(ue.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${nt}`)}}}static verifyAsRoleRecordIfNeeded(t,n,i,u){return Td(this,void 0,void 0,function*(){if(!i.$role)return;const h=n,l=h.message.descriptor.recipient;if(void 0===l)throw new ne(ue.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const f=h.message.descriptor.protocolPath,X={interface:Gi.Records,method:vi.Write,isLatestBaseState:!0,protocol:h.message.descriptor.protocol,protocolPath:f,recipient:l},W=xo.getParentContextFromOfContextId(h.message.contextId);if(""!==W){const je=Vd.constructPrefixFilterAsRangeFilter(W);X.contextId=je}const{messages:k}=yield u.query(t,[X]);if(k.filter(je=>je.recordId!==h.message.recordId).length>0)throw new ne(ue.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${l}' is already recipient of a role record at protocol path '${f} under the parent context ${W}.`)})}static getRuleSetAtProtocolPath(t,n){const i=t.split("/");let u=n.structure,h=0;for(;h<i.length;){const f=u[i[h]];if(void 0===f)return;u=f,h++}return u}static checkActor(t,n,i){return Td(this,void 0,void 0,function*(){const u=i.find(h=>h.descriptor.protocolPath===n.of);if(void 0===u)return!1;if(n.who===T0.Recipient)return t===u.descriptor.recipient;{const h=(yield zo.parse(u)).author;return t===h}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var fI=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Kv extends Yu{static parse(t){return fI(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Fr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield xo.validateDelegatedGrantReferentialIntegrity(t,n),ea.validateTimestamp(t.descriptor.messageTimestamp),new Kv(t)})}static create(t){var n,i;return fI(this,void 0,void 0,function*(){const u=t.recordId,h=ea.getCurrentTimestamp(),l={interface:Gi.Records,method:vi.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:h,recordId:u,prune:null!==(i=t.prune)&&void 0!==i&&i},X={descriptor:l,authorization:yield Fr.createAuthorization({descriptor:l,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return Fr.validateJsonSchema(X),new Kv(X)})}constructIndexes(t){const i=Object.assign({},this.message.descriptor),{protocol:u,protocolPath:h,recipient:l,schema:f,parentId:X,dateCreated:W}=t.descriptor,k=Object.assign({protocol:u,protocolPath:h,recipient:l,schema:f,parentId:X,dateCreated:W,contextId:t.contextId,author:this.author},i);return cl(k),k}authorizeDelegate(t,n){return fI(this,void 0,void 0,function*(){const i=yield Lu.parse(this.message.authorization.authorDelegatedGrant);yield md.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}let G_=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var Fv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class wp{static deleteFromDataStoreIfNeeded(t,n,i,u){return Fv(this,void 0,void 0,function*(){if(i.descriptor.method!==vi.Write)return;const h=i;h.descriptor.dataSize<=G_.maxDataSizeAllowedToBeEncoded||h.descriptor.dataCid!==u.descriptor.dataCid&&(yield t.delete(n,h.recordId,h.descriptor.dataCid))})}static purgeRecordDescendants(t,n,i,u,h){return Fv(this,void 0,void 0,function*(){const l={interface:Gi.Records,parentId:n},{messages:f}=yield i.query(t,[l]),X=new Map;for(const W of f){let k;k=xo.isRecordsWrite(W)?W.recordId:W.descriptor.recordId,X.has(k)||X.set(k,[]),X.get(k).push(W)}for(const W of X.keys())yield wp.purgeRecordDescendants(t,W,i,u,h);for(const W of X.keys())yield wp.purgeRecordMessages(t,X.get(W),i,u,h)})}static purgeRecordMessages(t,n,i,u,h){return Fv(this,void 0,void 0,function*(){const l=n.filter(W=>W.descriptor.method===vi.Write),f=yield Fr.getNewestMessage(l);yield u.delete(t,f.recordId,f.descriptor.dataCid);const X=yield Promise.all(n.map(W=>Fr.getCid(W)));yield h.deleteEventsByCid(t,X),yield Promise.all(X.map(W=>i.delete(t,W)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,i,u,h,l){return Fv(this,void 0,void 0,function*(){const f=[];for(const X of n){if(yield Fr.isOlder(X,i)){yield wp.deleteFromDataStoreIfNeeded(h,t,X,i);const k=yield Fr.getCid(X);if(yield u.delete(t,k),yield zo.isInitialWrite(X)){const Ke=yield(yield zo.parse(X)).constructIndexes(!1),nt=X;delete nt.encodedData,yield u.put(t,nt,Ke)}else{const Oe=yield Fr.getCid(X);f.push(Oe)}}yield l.deleteEventsByCid(t,f)}})}}var Lx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Kx{constructor(t,n,i,u,h){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=u,this.eventStream=h}handle({tenant:t,message:n}){return Lx(this,void 0,void 0,function*(){let i;try{i=yield Kv.parse(n)}catch(je){return gs(je,400)}try{yield pu(n.authorization,this.didResolver)}catch(je){return gs(je,401)}const u={interface:Gi.Records,recordId:n.descriptor.recordId},{messages:h}=yield this.messageStore.query(t,[u]),l=yield Fr.getNewestMessage(h);let X,f=!1;if(void 0===l||(yield Fr.isNewer(n,l))?(f=!0,X=n):X=l,!f)return{status:{code:409,detail:"Conflict"}};if(void 0===l||l.descriptor.method===vi.Delete)return{status:{code:404,detail:"Not Found"}};try{yield Kx.authorizeRecordsDelete(t,i,yield zo.parse(l),this.messageStore)}catch(je){return gs(je,401)}const W=yield zo.getInitialWrite(h),k=i.constructIndexes(W),re=yield Fr.getCid(n);return yield this.messageStore.put(t,n,k),yield this.eventLog.append(t,re,k),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:W},k),n.descriptor.prune&&(yield wp.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield wp.deleteAllOlderMessagesButKeepInitialWrite(t,h,X,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,i,u){return Lx(this,void 0,void 0,function*(){if(Fr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,u)),n.author!==t){if(void 0===i.message.descriptor.protocol)throw new ne(ue.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield bo.authorizeDelete(t,n,i,u)}})}}var mu=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(mu||{}),jv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class _p{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return jv(this,void 0,void 0,function*(){let i,u,h;try{i=yield x0.parse(n)}catch(l){return gs(l,400)}if(xo.filterIncludesPublishedRecords(i.message.descriptor.filter)&&void 0===i.author){const l=yield this.fetchPublishedRecords(t,i);u=l.messages,h=l.cursor}else{try{yield pu(n.authorization,this.didResolver),yield _p.authorizeRecordsQuery(t,i,this.messageStore)}catch(l){return gs(l,401)}if(i.author===t){const l=yield this.fetchRecordsAsOwner(t,i);u=l.messages,h=l.cursor}else{const l=yield this.fetchRecordsAsNonOwner(t,i);u=l.messages,h=l.cursor}}for(const l of u)if(!(yield zo.isInitialWrite(l))){const X=(yield this.messageStore.query(t,[{recordId:l.recordId,isLatestBaseState:!1,method:vi.Write}])).messages[0];delete X.encodedData,l.initialWrite=X}return{status:{code:200,detail:"OK"},entries:u,cursor:h}})}convertDateSort(t){switch(t){case Ll.CreatedAscending:return{dateCreated:mu.Ascending};case Ll.CreatedDescending:return{dateCreated:mu.Descending};case Ll.PublishedAscending:return{datePublished:mu.Ascending};case Ll.PublishedDescending:return{datePublished:mu.Descending};default:return{dateCreated:mu.Ascending}}}fetchRecordsAsOwner(t,n){return jv(this,void 0,void 0,function*(){const{dateSort:i,filter:u,pagination:h}=n.message.descriptor,l=Object.assign(Object.assign({},xo.convertFilter(u,i)),{interface:Gi.Records,method:vi.Write,isLatestBaseState:!0}),f=this.convertDateSort(i);return this.messageStore.query(t,[l],f,h)})}fetchRecordsAsNonOwner(t,n){return jv(this,void 0,void 0,function*(){const{dateSort:i,pagination:u,filter:h}=n.message.descriptor,l=[];if(xo.filterIncludesPublishedRecords(h)&&l.push(_p.buildPublishedRecordsFilter(n)),xo.filterIncludesUnpublishedRecords(h)){l.push(_p.buildUnpublishedRecordsByQueryAuthorFilter(n));const X=n.message.descriptor.filter.recipient;(void 0===X||X===n.author)&&l.push(_p.buildUnpublishedRecordsForQueryAuthorFilter(n)),xo.shouldProtocolAuthorize(n.signaturePayload)&&l.push(_p.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const f=this.convertDateSort(i);return this.messageStore.query(t,l,f,u)})}fetchPublishedRecords(t,n){return jv(this,void 0,void 0,function*(){const{dateSort:i,pagination:u}=n.message.descriptor,h=_p.buildPublishedRecordsFilter(n),l=this.convertDateSort(i);return this.messageStore.query(t,[h],l,u)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},xo.convertFilter(i,n)),{interface:Gi.Records,method:vi.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},xo.convertFilter(i,n)),{interface:Gi.Records,method:vi.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},xo.convertFilter(i,n)),{interface:Gi.Records,method:vi.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},xo.convertFilter(i,n)),{author:t.author,interface:Gi.Records,method:vi.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,i){return jv(this,void 0,void 0,function*(){Fr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),xo.shouldProtocolAuthorize(n.signaturePayload)&&(yield bo.authorizeQueryOrSubscribe(t,n,i))})}}var Fx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class $v extends Yu{static parse(t){return Fx(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Fr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield xo.validateDelegatedGrantReferentialIntegrity(t,n),ea.validateTimestamp(t.descriptor.messageTimestamp),new $v(t)})}static create(t){var n;return Fx(this,void 0,void 0,function*(){const{filter:i,signer:u,permissionGrantId:h,protocolRole:l}=t,f=ea.getCurrentTimestamp(),X={interface:Gi.Records,method:vi.Read,filter:xo.normalizeFilter(i),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:f};let W;cl(X),void 0!==u&&(W=yield Fr.createAuthorization({descriptor:X,signer:u,permissionGrantId:h,protocolRole:l,delegatedGrant:t.delegatedGrant}));const k={descriptor:X,authorization:W};return Fr.validateJsonSchema(k),new $v(k)})}authorizeDelegate(t,n){return Fx(this,void 0,void 0,function*(){const i=yield Lu.parse(this.message.authorization.authorDelegatedGrant);yield md.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var hI=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Bm{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return hI(this,void 0,void 0,function*(){let i;try{i=yield $v.parse(n)}catch(k){return gs(k,400)}try{void 0!==i.author&&(yield pu(n.authorization,this.didResolver))}catch(k){return gs(k,401)}const u=Object.assign({interface:Gi.Records,isLatestBaseState:!0},xo.convertFilter(n.descriptor.filter)),{messages:h}=yield this.messageStore.query(t,[u]);if(0===h.length)return{status:{code:404,detail:"Not Found"}};if(h.length>1)return gs(new ne(ue.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const l=h[0];try{yield Bm.authorizeRecordsRead(t,i,yield zo.parse(l),this.messageStore)}catch(k){return gs(k,401)}let f;if(void 0!==l.encodedData){const k=me.base64UrlToBytes(l.encodedData);f=Ah.fromBytes(k),delete l.encodedData}else{const k=yield this.dataStore.get(t,l.recordId,l.descriptor.dataCid);if(void 0===k?.dataStream)return{status:{code:404,detail:"Not Found"}};f=k.dataStream}const X=Object.assign(Object.assign({},l),{data:f});if(!(yield zo.isInitialWrite(X))){const re=(yield this.messageStore.query(t,[{recordId:X.recordId,isLatestBaseState:!1,method:vi.Write}])).messages[0];delete re.encodedData,X.initialWrite=re}return{status:{code:200,detail:"OK"},record:X}})}static authorizeRecordsRead(t,n,i,u){return hI(this,void 0,void 0,function*(){Fr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,u));const{descriptor:h}=i.message;if(n.author!==t){if(!0===h.published)return;if(void 0!==n.author&&n.author===h.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const l=yield xs.fetchGrant(t,u,n.signaturePayload.permissionGrantId);yield md.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:i.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:u})}else{if(void 0===h.protocol)throw new ne(ue.RecordsReadAuthorizationFailed,"message failed authorization");yield bo.authorizeRead(t,n,i,u)}}})}}var J_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class A0 extends Yu{static parse(t){return J_(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield Fr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield xo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new ne(ue.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&sp(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&By(t.descriptor.filter.schema),ea.validateTimestamp(t.descriptor.messageTimestamp),new A0(t)})}static create(t){var n;return J_(this,void 0,void 0,function*(){const i={interface:Gi.Records,method:vi.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ea.getCurrentTimestamp(),filter:xo.normalizeFilter(t.filter)};cl(i);const u=t.signer;let h;u&&(h=yield Fr.createAuthorization({descriptor:i,signer:u,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const l={descriptor:i,authorization:h};return Fr.validateJsonSchema(l),new A0(l)})}authorizeDelegate(t){return J_(this,void 0,void 0,function*(){const n=yield Lu.parse(this.message.authorization.authorDelegatedGrant);yield md.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var Vv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Zu{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return Vv(this,void 0,void 0,function*(){if(void 0===this.eventStream)return gs(new ne(ue.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let u;try{u=yield A0.parse(n)}catch(W){return gs(W,400)}let h=[];if(xo.filterIncludesPublishedRecords(u.message.descriptor.filter)&&void 0===u.author)h=[Zu.buildPublishedRecordsFilter(u)],delete n.authorization;else{try{yield pu(n.authorization,this.didResolver),yield Zu.authorizeRecordsSubscribe(t,u,this.messageStore)}catch(W){return gs(W,401)}h=u.author===t?yield Zu.filterAsOwner(u):yield Zu.filterAsNonOwner(u)}const f=yield Fr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,f,(W,k,re)=>{t===W&&Vd.matchAnyFilter(re,h)&&i(k)})}})}static filterAsOwner(t){return Vv(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},xo.convertFilter(n)),{interface:Gi.Records,method:[vi.Write,vi.Delete]})]})}static filterAsNonOwner(t){return Vv(this,void 0,void 0,function*(){const n=[],{filter:i}=t.message.descriptor;if(xo.filterIncludesPublishedRecords(i)&&n.push(Zu.buildPublishedRecordsFilter(t)),xo.filterIncludesUnpublishedRecords(i)){n.push(Zu.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const u=t.message.descriptor.filter.recipient;(void 0===u||u===t.author)&&n.push(Zu.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),xo.shouldProtocolAuthorize(t.signaturePayload)&&n.push(Zu.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},xo.convertFilter(t.message.descriptor.filter)),{interface:Gi.Records,method:[vi.Write,vi.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},xo.convertFilter(t.message.descriptor.filter)),{interface:Gi.Records,method:[vi.Write,vi.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},xo.convertFilter(t.message.descriptor.filter)),{interface:Gi.Records,method:[vi.Write,vi.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},xo.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:Gi.Records,method:[vi.Write,vi.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,i){return Vv(this,void 0,void 0,function*(){Fr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),xo.shouldProtocolAuthorize(n.signaturePayload)&&(yield bo.authorizeQueryOrSubscribe(t,n,i))})}}var Nm=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Ep{constructor(t,n,i,u,h){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=u,this.eventStream=h}handle({tenant:t,message:n,dataStream:i}){return Nm(this,void 0,void 0,function*(){let u;try{u=yield zo.parse(n),void 0!==n.descriptor.protocol&&(yield bo.validateReferentialIntegrity(t,u,this.messageStore))}catch(je){return gs(je,400)}try{yield pu(n.authorization,this.didResolver),yield Ep.authorizeRecordsWrite(t,u,this.messageStore)}catch(je){return gs(je,401)}const h={interface:Gi.Records,recordId:n.recordId},{messages:l}=yield this.messageStore.query(t,[h]),f=yield u.isInitialWrite();let X;if(!f)try{X=yield zo.getInitialWrite(l),zo.verifyEqualityOfImmutableProperties(X,n)}catch(je){return gs(je,400)}const W=yield Fr.getNewestMessage(l);let re,k=!1;if(void 0===W||(yield Fr.isNewer(n,W))?(k=!0,re=n):re=W,!k)return{status:{code:409,detail:"Conflict"}};try{let je=!1,Ke=n;if(void 0!==i)Ke=yield this.processMessageWithDataStream(t,n,i),je=!0;else{if(W?.descriptor.method===vi.Delete)throw new ne(ue.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!f){const wt=W;Ke=yield this.processMessageWithoutDataStream(t,n,wt),je=!0}}const nt=yield u.constructIndexes(je);yield this.messageStore.put(t,Ke,nt),yield this.eventLog.append(t,yield Fr.getCid(n),nt),void 0!==this.eventStream&&je&&this.eventStream.emit(t,{message:n,initialWrite:X},nt)}catch(je){const Ke=je;if(void 0!==Ke.code&&(Ke.code===ue.RecordsWriteMissingEncodedDataInPrevious||Ke.code===ue.RecordsWriteMissingDataInPrevious||Ke.code===ue.RecordsWriteMissingDataStream||Ke.code===ue.RecordsWriteDataCidMismatch||Ke.code===ue.RecordsWriteDataSizeMismatch||Ke.code.startsWith("PermissionsProtocolValidate")||Ke.code.startsWith("SchemaValidator")))return gs(je,400);throw je}return yield wp.deleteAllOlderMessagesButKeepInitialWrite(t,l,re,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,u),{status:{code:202,detail:"Accepted"}}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===xs.uri&&xs.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return Nm(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===xs.uri&&n.message.descriptor.protocolPath===xs.revocationPath){const u={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:h}=yield this.messageStore.query(t,[u]),l=[];for(const f of h){const X=yield Fr.getCid(f);yield this.messageStore.delete(t,X)}this.eventLog.deleteEventsByCid(t,l)}})}cloneAndAddEncodedData(t,n){return Nm(this,void 0,void 0,function*(){const i=Object.assign({},t);return i.encodedData=me.bytesToBase64Url(n),i})}processMessageWithDataStream(t,n,i){return Nm(this,void 0,void 0,function*(){let u=n;if(n.descriptor.dataSize<=G_.maxDataSizeAllowedToBeEncoded){const h=yield Ah.toBytes(i),l=yield pd.computeDagPbCidFromBytes(h);Ep.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,l,h.length),Ep.validateSchemaForCoreRecordsWrite(n,h),u=yield this.cloneAndAddEncodedData(n,h)}else{const[h,l]=Ah.duplicateDataStream(i,2);try{const[f,X]=yield Promise.all([pd.computeDagPbCidFromStream(h),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,l)]);Ep.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,f,X.dataSize)}catch(f){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),f}}return u})}processMessageWithoutDataStream(t,n,i){return Nm(this,void 0,void 0,function*(){const u=Object.assign({},n),{dataCid:h,dataSize:l}=n.descriptor;if(Ep.validateDataIntegrity(h,l,i.descriptor.dataCid,i.descriptor.dataSize),l<=G_.maxDataSizeAllowedToBeEncoded){if(void 0===i.encodedData)throw new ne(ue.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");u.encodedData=i.encodedData}else if(void 0===(yield this.dataStore.get(t,i.recordId,n.descriptor.dataCid)))throw new ne(ue.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return u})}static validateDataIntegrity(t,n,i,u){if(t!==i)throw new ne(ue.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${t}`);if(n!==u)throw new ne(ue.RecordsWriteDataSizeMismatch,`actual data size ${u} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,i){return Nm(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new ne(ue.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(i)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(i)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const u=yield xs.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield md.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:u,messageStore:i})}else{if(void 0===n.message.descriptor.protocol)throw new ne(ue.RecordsWriteAuthorizationFailed,"message failed authorization");yield bo.authorizeWrite(t,n,i)}}})}}var X_=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(X_||{});const Dh={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class zs{constructor({method:t,id:n,path:i,query:u,fragment:h,params:l}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=u,this.fragment=h,this.params=l}static parse(t){if(!t)return null;const n=zs.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:u,path:h,query:l,fragment:f}=n.groups,X={uri:`did:${i}:${u}`,method:i,id:u};if(h&&(X.path=h),l&&(X.query=l.slice(1)),f&&(X.fragment=f.slice(1)),l){const W={},k=l.slice(1).split("&");for(const re of k){const[Oe,je]=re.split("=");W[Oe]=je}X.params=W}return X}}zs.METHOD_PATTERN="([a-z0-9]+)",zs.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",zs.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${zs.PCT_ENCODED_PATTERN})`,zs.METHOD_ID_PATTERN=`((?:${zs.ID_CHAR_PATTERN}*:)*(${zs.ID_CHAR_PATTERN}+))`,zs.PATH_PATTERN="(/[^#?]*)?",zs.QUERY_PATTERN="([?][^#]*)?",zs.FRAGMENT_PATTERN="(#.*)?",zs.DID_URI_PATTERN=new RegExp(`^did:(?<method>${zs.METHOD_PATTERN}):(?<id>${zs.METHOD_ID_PATTERN})(?<path>${zs.PATH_PATTERN})(?<query>${zs.QUERY_PATTERN})(?<fragment>${zs.FRAGMENT_PATTERN})$`);class Ki extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ki)}}var Fi=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Fi||{}),nr=_(37475),yu=_(47565);class D0{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,yu.s)(t)})}}class Y_{}var Jo=_(94256),$l=_(91006);const Z5="urn:jwk:";function ta({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,nr.E8)(n);const i=function X5(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const u=Object.keys(i).sort(),h={};for(const l of u)h[l]=t(i[l]);return h}return i},n=t(r);return JSON.stringify(n)}(n),u=nr.U$.string(i).toUint8Array(),h=yield D0.digest({data:u});return nr.U$.uint8Array(h).toBase64Url()})}function qu(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function jx(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function Um(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function Z_(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var Ad=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Ua{static adjustSignatureToLowS({signature:t}){return Ad(this,void 0,void 0,function*(){const n=Jo.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Ad(this,void 0,void 0,function*(){const n=yield Ua.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield ta({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Ad(this,void 0,void 0,function*(){const n=yield Ua.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield ta({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Ad(this,void 0,void 0,function*(){return Jo.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Ad(this,void 0,void 0,function*(){const n=yield Ua.privateKeyToBytes({privateKey:t}),i=yield Ua.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield ta({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return Ad(this,void 0,void 0,function*(){return Jo.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Ad(this,void 0,void 0,function*(){return Jo.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Ad(this,void 0,void 0,function*(){const t=Jo.bI.utils.randomPrivateKey(),n=yield Ua.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ta({jwk:n}),n})}static getPublicKey({key:t}){var n;return Ad(this,void 0,void 0,function*(){if(!qu(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield ta({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return Ad(this,void 0,void 0,function*(){if(!qu(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Ad(this,void 0,void 0,function*(){if(!jx(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),u=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Ad(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Ua.privateKeyToBytes({privateKey:t}),u=yield Ua.publicKeyToBytes({publicKey:n});return Jo.bI.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return Ad(this,void 0,void 0,function*(){const i=yield Ua.privateKeyToBytes({privateKey:n}),u=(0,yu.s)(t);return Jo.bI.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Ad(this,void 0,void 0,function*(){return Jo.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Ad(this,void 0,void 0,function*(){try{Jo.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Ad(this,void 0,void 0,function*(){const u=yield Ua.publicKeyToBytes({publicKey:t}),h=(0,yu.s)(i);return Jo.bI.verify(n,h,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Ad(this,void 0,void 0,function*(){32===t.byteLength&&(t=Jo.bI.getPublicKey(t));const n=Jo.bI.ProjectivePoint.fromHex(t);return{x:(0,$l.lq)(n.x,32),y:(0,$l.lq)(n.y,32)}})}}var Dd=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class La{static adjustSignatureToLowS({signature:t}){return Dd(this,void 0,void 0,function*(){const n=ke.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Dd(this,void 0,void 0,function*(){const n=yield La.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield ta({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Dd(this,void 0,void 0,function*(){const n=yield La.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield ta({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Dd(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Dd(this,void 0,void 0,function*(){const n=yield La.privateKeyToBytes({privateKey:t}),i=yield La.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield ta({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return Dd(this,void 0,void 0,function*(){return ke.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Dd(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Dd(this,void 0,void 0,function*(){const t=ke.Ag.utils.randomPrivateKey(),n=yield La.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ta({jwk:n}),n})}static getPublicKey({key:t}){var n;return Dd(this,void 0,void 0,function*(){if(!qu(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield ta({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return Dd(this,void 0,void 0,function*(){if(!qu(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Dd(this,void 0,void 0,function*(){if(!jx(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),u=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Dd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield La.privateKeyToBytes({privateKey:t}),u=yield La.publicKeyToBytes({publicKey:n});return ke.Ag.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return Dd(this,void 0,void 0,function*(){const i=yield La.privateKeyToBytes({privateKey:n}),u=(0,yu.s)(t);return ke.Ag.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Dd(this,void 0,void 0,function*(){return ke.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Dd(this,void 0,void 0,function*(){try{ke.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Dd(this,void 0,void 0,function*(){const u=yield La.publicKeyToBytes({publicKey:t}),h=(0,yu.s)(i);return ke.Ag.verify(n,h,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Dd(this,void 0,void 0,function*(){32===t.byteLength&&(t=ke.Ag.getPublicKey(t));const n=ke.Ag.ProjectivePoint.fromHex(t);return{x:(0,$l.lq)(n.x,32),y:(0,$l.lq)(n.y,32)}})}}var Q_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Vx extends Y_{computePublicKey({key:t}){return Q_(this,void 0,void 0,function*(){if(!qu(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Ua.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield La.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return Q_(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield Ua.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield La.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return Q_(this,void 0,void 0,function*(){if(!qu(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Ua.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield La.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return Q_(this,void 0,void 0,function*(){if(!qu(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield Ua.sign({key:t,data:n});case"P-256":return yield La.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return Q_(this,void 0,void 0,function*(){if(!jx(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield Ua.verify({key:t,signature:n,data:i});case"P-256":return yield La.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Rs=_(86295),Vl=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class tc{static bytesToPrivateKey({privateKeyBytes:t}){return Vl(this,void 0,void 0,function*(){const n=Rs.ev.getPublicKey(t),i={crv:"Ed25519",d:nr.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield ta({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Vl(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield ta({jwk:n}),n})}static computePublicKey({key:t}){return Vl(this,void 0,void 0,function*(){const n=yield tc.privateKeyToBytes({privateKey:t}),i=Rs.ev.getPublicKey(n),u={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(i).toBase64Url()};return u.kid=yield ta({jwk:u}),u})}static convertPrivateKeyToX25519({privateKey:t}){return Vl(this,void 0,void 0,function*(){const n=yield tc.privateKeyToBytes({privateKey:t}),i=(0,Rs.OA)(n),u=Rs.TU.getPublicKey(i),h={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(i).toBase64Url(),x:nr.U$.uint8Array(u).toBase64Url()};return h.kid=yield ta({jwk:h}),h})}static convertPublicKeyToX25519({publicKey:t}){return Vl(this,void 0,void 0,function*(){const n=yield tc.publicKeyToBytes({publicKey:t});if(!(yield tc.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const u=(0,Rs.GU)(n),h={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(u).toBase64Url()};return h.kid=yield ta({jwk:h}),h})}static generateKey(){return Vl(this,void 0,void 0,function*(){const t=Rs.ev.utils.randomPrivateKey(),n=yield tc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ta({jwk:n}),n})}static getPublicKey({key:t}){var n;return Vl(this,void 0,void 0,function*(){if(!Um(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield ta({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return Vl(this,void 0,void 0,function*(){if(!Um(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Vl(this,void 0,void 0,function*(){if(!Z_(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return Vl(this,void 0,void 0,function*(){const i=yield tc.privateKeyToBytes({privateKey:t});return Rs.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return Vl(this,void 0,void 0,function*(){try{Rs.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Vl(this,void 0,void 0,function*(){const u=yield tc.publicKeyToBytes({publicKey:t});return Rs.ev.verify(n,i,u)})}}var C0=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},xp=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const Hx={Ed25519:{implementation:class zx extends Y_{computePublicKey({key:t}){return C0(this,void 0,void 0,function*(){if(!Um(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield tc.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return C0(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield tc.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return C0(this,void 0,void 0,function*(){if(!Um(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield tc.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return C0(this,void 0,void 0,function*(){if(!Um(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield tc.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return C0(this,void 0,void 0,function*(){if(!Z_(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield tc.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:Vx,names:["ES256K","secp256k1"]},secp256r1:{implementation:Vx,names:["ES256","secp256r1"]},"SHA-256":{implementation:class J5 extends Y_{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield D0.digest({data:n})})}},names:["SHA-256"]}};class Lm{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new nr.ny}digest({algorithm:t,data:n}){return xp(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return xp(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return xp(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const u=`${Z5}${i.kid}`;return yield this._keyStore.set(u,i),u})}getKeyUri({key:t}){return xp(this,void 0,void 0,function*(){const n=yield ta({jwk:t});return`${Z5}${n}`})}getPublicKey({keyUri:t}){return xp(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return xp(this,void 0,void 0,function*(){if(!function q5(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield ta({jwk:i}));const u=yield this.getKeyUri({key:i});return yield this._keyStore.set(u,i),u})}sign({keyUri:t,data:n}){return xp(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),u=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:u}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return xp(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=Hx[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const u in Hx){const h=Hx[u];if(n&&h.names.includes(n))return u;if(i&&h.names.includes(i))return u}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return xp(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}var mI=_(86703),Xc=_(62953);function yI(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const Ih=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));function zv(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function e1(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function vI(r){if("string"==typeof r)r=e1(r);else{if(!zv(r))throw new Error("expected Uint8Array, got "+typeof r);r=r.slice()}return r}function Mp(r,t){if(!zv(r))throw new Error("Uint8Array expected");if("number"==typeof t&&r.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function t1(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const u=BigInt(32),h=BigInt(4294967295),l=Number(n>>u&h),f=Number(n&h),W=i?0:4;r.setUint32(t+(i?4:0),l,i),r.setUint32(t+W,f,i)}function k0(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`wrong positive integer: ${r}`)}function Gx(r){if("boolean"!=typeof r)throw new Error(`boolean expected, not ${r}`)}function P0(r,...t){if(!function wI(r){return null!=r&&"object"==typeof r&&(r instanceof Uint8Array||"Uint8Array"===r.constructor.name)}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function Jx(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}var Ch=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class kh{static bytesToPrivateKey({privateKeyBytes:t}){return Ch(this,void 0,void 0,function*(){const n=Rs.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield ta({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Ch(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield ta({jwk:n}),n})}static computePublicKey({key:t}){return Ch(this,void 0,void 0,function*(){const n=yield kh.privateKeyToBytes({privateKey:t}),i=Rs.TU.getPublicKey(n),u={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(i).toBase64Url()};return u.kid=yield ta({jwk:u}),u})}static generateKey(){return Ch(this,void 0,void 0,function*(){const t=Rs.TU.utils.randomPrivateKey(),n=yield kh.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ta({jwk:n}),n})}static getPublicKey({key:t}){var n;return Ch(this,void 0,void 0,function*(){if(!Um(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield ta({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return Ch(this,void 0,void 0,function*(){if(!Um(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Ch(this,void 0,void 0,function*(){if(!Z_(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Ch(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield kh.privateKeyToBytes({privateKey:t}),u=yield kh.publicKeyToBytes({publicKey:n});return Rs.TU.getSharedSecret(i,u)})}}const Sc=(r,t)=>255&r[t++]|(255&r[t++])<<8;class AR{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Mp(t=vI(t),32);const n=Sc(t,0),i=Sc(t,2),u=Sc(t,4),h=Sc(t,6),l=Sc(t,8),f=Sc(t,10),X=Sc(t,12),W=Sc(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|i<<3),this.r[2]=7939&(i>>>10|u<<6),this.r[3]=8191&(u>>>7|h<<9),this.r[4]=255&(h>>>4|l<<12),this.r[5]=l>>>1&8190,this.r[6]=8191&(l>>>14|f<<2),this.r[7]=8065&(f>>>11|X<<5),this.r[8]=8191&(X>>>8|W<<8),this.r[9]=W>>>5&127;for(let k=0;k<8;k++)this.pad[k]=Sc(t,16+2*k)}process(t,n,i=!1){const u=i?0:2048,{h,r:l}=this,f=l[0],X=l[1],W=l[2],k=l[3],re=l[4],Oe=l[5],je=l[6],Ke=l[7],nt=l[8],wt=l[9],Ot=Sc(t,n+0),Et=Sc(t,n+2),St=Sc(t,n+4),Nt=Sc(t,n+6),Yt=Sc(t,n+8),Qt=Sc(t,n+10),ln=Sc(t,n+12),Ht=Sc(t,n+14);let An=h[0]+(8191&Ot),Jn=h[1]+(8191&(Ot>>>13|Et<<3)),qn=h[2]+(8191&(Et>>>10|St<<6)),ar=h[3]+(8191&(St>>>7|Nt<<9)),Vn=h[4]+(8191&(Nt>>>4|Yt<<12)),jn=h[5]+(Yt>>>1&8191),Kn=h[6]+(8191&(Yt>>>14|Qt<<2)),Xn=h[7]+(8191&(Qt>>>11|ln<<5)),In=h[8]+(8191&(ln>>>8|Ht<<8)),yr=h[9]+(Ht>>>5|u),gr=0,Er=gr+An*f+Jn*(5*wt)+qn*(5*nt)+ar*(5*Ke)+Vn*(5*je);gr=Er>>>13,Er&=8191,Er+=jn*(5*Oe)+Kn*(5*re)+Xn*(5*k)+In*(5*W)+yr*(5*X),gr+=Er>>>13,Er&=8191;let Gr=gr+An*X+Jn*f+qn*(5*wt)+ar*(5*nt)+Vn*(5*Ke);gr=Gr>>>13,Gr&=8191,Gr+=jn*(5*je)+Kn*(5*Oe)+Xn*(5*re)+In*(5*k)+yr*(5*W),gr+=Gr>>>13,Gr&=8191;let li=gr+An*W+Jn*X+qn*f+ar*(5*wt)+Vn*(5*nt);gr=li>>>13,li&=8191,li+=jn*(5*Ke)+Kn*(5*je)+Xn*(5*Oe)+In*(5*re)+yr*(5*k),gr+=li>>>13,li&=8191;let Pn=gr+An*k+Jn*W+qn*X+ar*f+Vn*(5*wt);gr=Pn>>>13,Pn&=8191,Pn+=jn*(5*nt)+Kn*(5*Ke)+Xn*(5*je)+In*(5*Oe)+yr*(5*re),gr+=Pn>>>13,Pn&=8191;let hi=gr+An*re+Jn*k+qn*W+ar*X+Vn*f;gr=hi>>>13,hi&=8191,hi+=jn*(5*wt)+Kn*(5*nt)+Xn*(5*Ke)+In*(5*je)+yr*(5*Oe),gr+=hi>>>13,hi&=8191;let mo=gr+An*Oe+Jn*re+qn*k+ar*W+Vn*X;gr=mo>>>13,mo&=8191,mo+=jn*f+Kn*(5*wt)+Xn*(5*nt)+In*(5*Ke)+yr*(5*je),gr+=mo>>>13,mo&=8191;let Dr=gr+An*je+Jn*Oe+qn*re+ar*k+Vn*W;gr=Dr>>>13,Dr&=8191,Dr+=jn*X+Kn*f+Xn*(5*wt)+In*(5*nt)+yr*(5*Ke),gr+=Dr>>>13,Dr&=8191;let rr=gr+An*Ke+Jn*je+qn*Oe+ar*re+Vn*k;gr=rr>>>13,rr&=8191,rr+=jn*W+Kn*X+Xn*f+In*(5*wt)+yr*(5*nt),gr+=rr>>>13,rr&=8191;let Sr=gr+An*nt+Jn*Ke+qn*je+ar*Oe+Vn*re;gr=Sr>>>13,Sr&=8191,Sr+=jn*k+Kn*W+Xn*X+In*f+yr*(5*wt),gr+=Sr>>>13,Sr&=8191;let ci=gr+An*wt+Jn*nt+qn*Ke+ar*je+Vn*Oe;gr=ci>>>13,ci&=8191,ci+=jn*re+Kn*k+Xn*W+In*X+yr*f,gr+=ci>>>13,ci&=8191,gr=(gr<<2)+gr|0,gr=gr+Er|0,Er=8191&gr,gr>>>=13,Gr+=gr,h[0]=Er,h[1]=Gr,h[2]=li,h[3]=Pn,h[4]=hi,h[5]=mo,h[6]=Dr,h[7]=rr,h[8]=Sr,h[9]=ci}finalize(){const{h:t,pad:n}=this,i=new Uint16Array(10);let u=t[1]>>>13;t[1]&=8191;for(let f=2;f<10;f++)t[f]+=u,u=t[f]>>>13,t[f]&=8191;t[0]+=5*u,u=t[0]>>>13,t[0]&=8191,t[1]+=u,u=t[1]>>>13,t[1]&=8191,t[2]+=u,i[0]=t[0]+5,u=i[0]>>>13,i[0]&=8191;for(let f=1;f<10;f++)i[f]=t[f]+u,u=i[f]>>>13,i[f]&=8191;i[9]-=8192;let h=(1^u)-1;for(let f=0;f<10;f++)i[f]&=h;h=~h;for(let f=0;f<10;f++)t[f]=t[f]&h|i[f];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let l=t[0]+n[0];t[0]=65535&l;for(let f=1;f<8;f++)l=(t[f]+n[f]|0)+(l>>>16)|0,t[f]=65535&l}update(t){Jx(this);const{buffer:n,blockLen:i}=this,u=(t=vI(t)).length;for(let h=0;h<u;){const l=Math.min(i-this.pos,u-h);if(l!==i)n.set(t.subarray(h,h+l),this.pos),this.pos+=l,h+=l,this.pos===i&&(this.process(n,0,!1),this.pos=0);else for(;i<=u-h;h+=i)this.process(t,h)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){Jx(this),function _I(r,t){P0(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:u}=this;if(u){for(n[u++]=1;u<16;u++)n[u]=0;this.process(n,0,!0)}this.finalize();let h=0;for(let l=0;l<8;l++)t[h++]=i[l]>>>0,t[h++]=i[l]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}}const pP=function AI(r){const t=(i,u)=>r(u).update(vI(i)).digest(),n=r(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>r(i),t}(r=>new AR(r)),DR=e1("expand 16-byte k"),mP=e1("expand 32-byte k"),DI=Ih(DR),II=Ih(mP);function ai(r,t){return r<<t|r>>>32-t}function R0(r){return r.byteOffset%4==0}const kI=2**32-1,PI=new Uint32Array;function Xv(r,t){const{allowShortKeys:n,extendNonceFn:i,counterLength:u,counterRight:h,rounds:l}=function Hv(r,t){if(void 0!==t&&("object"!=typeof t||!(r=>"[object Object]"===Object.prototype.toString.call(r)&&r.constructor===Object)(t)))throw new Error("options must be object or undefined");return Object.assign(r,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof r)throw new Error("core must be a function");return k0(u),k0(l),Gx(h),Gx(n),(f,X,W,k,re=0)=>{P0(f),P0(X),P0(W);const Oe=W.length;if(k||(k=new Uint8Array(Oe)),P0(k),k0(re),re<0||re>=kI)throw new Error("arx: counter overflow");if(k.length<Oe)throw new Error(`arx: output (${k.length}) is shorter than data (${Oe})`);const je=[];let nt,wt,Ke=f.length;if(32===Ke)nt=f.slice(),je.push(nt),wt=II;else{if(16!==Ke||!n)throw new Error(`arx: invalid 32-byte key, got length=${Ke}`);nt=new Uint8Array(32),nt.set(f),nt.set(f,16),wt=DI,je.push(nt)}R0(X)||(X=X.slice(),je.push(X));const Ot=Ih(nt);if(i){if(24!==X.length)throw new Error("arx: extended nonce must be 24 bytes");i(wt,Ot,Ih(X.subarray(0,16)),Ot),X=X.subarray(16)}const Et=16-u;if(Et!==X.length)throw new Error(`arx: nonce must be ${Et} or 16 bytes`);if(12!==Et){const Nt=new Uint8Array(12);Nt.set(X,h?0:12-X.length),je.push(X=Nt)}const St=Ih(X);for(function yP(r,t,n,i,u,h,l,f){const X=u.length,W=new Uint8Array(64),k=Ih(W),re=R0(u)&&R0(h),Oe=re?Ih(u):PI,je=re?Ih(h):PI;for(let Ke=0;Ke<X;l++){if(r(t,n,i,k,l,f),l>=kI)throw new Error("arx: counter overflow");const nt=Math.min(64,X-Ke);if(re&&64===nt){const wt=Ke/4;if(Ke%4!=0)throw new Error("arx: invalid block position");for(let Et,Ot=0;Ot<16;Ot++)Et=wt+Ot,je[Et]=Oe[Et]^k[Ot];Ke+=64}else{for(let Ot,wt=0;wt<nt;wt++)Ot=Ke+wt,h[Ot]=u[Ot]^W[wt];Ke+=nt}}}(r,wt,Ot,St,W,k,re,l);je.length>0;)je.pop().fill(0);return k}}function s1(r,t,n,i,u,h=20){let l=r[0],f=r[1],X=r[2],W=r[3],k=t[0],re=t[1],Oe=t[2],je=t[3],Ke=t[4],nt=t[5],wt=t[6],Ot=t[7],Et=u,St=n[0],Nt=n[1],Yt=n[2],Qt=l,ln=f,Ht=X,An=W,Jn=k,qn=re,ar=Oe,Vn=je,jn=Ke,Kn=nt,Xn=wt,In=Ot,yr=Et,gr=St,Er=Nt,Gr=Yt;for(let Pn=0;Pn<h;Pn+=2)Qt=Qt+Jn|0,yr=ai(yr^Qt,16),jn=jn+yr|0,Jn=ai(Jn^jn,12),Qt=Qt+Jn|0,yr=ai(yr^Qt,8),jn=jn+yr|0,Jn=ai(Jn^jn,7),ln=ln+qn|0,gr=ai(gr^ln,16),Kn=Kn+gr|0,qn=ai(qn^Kn,12),ln=ln+qn|0,gr=ai(gr^ln,8),Kn=Kn+gr|0,qn=ai(qn^Kn,7),Ht=Ht+ar|0,Er=ai(Er^Ht,16),Xn=Xn+Er|0,ar=ai(ar^Xn,12),Ht=Ht+ar|0,Er=ai(Er^Ht,8),Xn=Xn+Er|0,ar=ai(ar^Xn,7),An=An+Vn|0,Gr=ai(Gr^An,16),In=In+Gr|0,Vn=ai(Vn^In,12),An=An+Vn|0,Gr=ai(Gr^An,8),In=In+Gr|0,Vn=ai(Vn^In,7),Qt=Qt+qn|0,Gr=ai(Gr^Qt,16),Xn=Xn+Gr|0,qn=ai(qn^Xn,12),Qt=Qt+qn|0,Gr=ai(Gr^Qt,8),Xn=Xn+Gr|0,qn=ai(qn^Xn,7),ln=ln+ar|0,yr=ai(yr^ln,16),In=In+yr|0,ar=ai(ar^In,12),ln=ln+ar|0,yr=ai(yr^ln,8),In=In+yr|0,ar=ai(ar^In,7),Ht=Ht+Vn|0,gr=ai(gr^Ht,16),jn=jn+gr|0,Vn=ai(Vn^jn,12),Ht=Ht+Vn|0,gr=ai(gr^Ht,8),jn=jn+gr|0,Vn=ai(Vn^jn,7),An=An+Jn|0,Er=ai(Er^An,16),Kn=Kn+Er|0,Jn=ai(Jn^Kn,12),An=An+Jn|0,Er=ai(Er^An,8),Kn=Kn+Er|0,Jn=ai(Jn^Kn,7);let li=0;i[li++]=l+Qt|0,i[li++]=f+ln|0,i[li++]=X+Ht|0,i[li++]=W+An|0,i[li++]=k+Jn|0,i[li++]=re+qn|0,i[li++]=Oe+ar|0,i[li++]=je+Vn|0,i[li++]=Ke+jn|0,i[li++]=nt+Kn|0,i[li++]=wt+Xn|0,i[li++]=Ot+In|0,i[li++]=Et+yr|0,i[li++]=St+gr|0,i[li++]=Nt+Er|0,i[li++]=Yt+Gr|0}const bP=Xv(s1,{counterRight:!1,counterLength:4,allowShortKeys:!1}),wP=Xv(s1,{counterRight:!1,counterLength:8,extendNonceFn:function gP(r,t,n,i){let u=r[0],h=r[1],l=r[2],f=r[3],X=t[0],W=t[1],k=t[2],re=t[3],Oe=t[4],je=t[5],Ke=t[6],nt=t[7],wt=n[0],Ot=n[1],Et=n[2],St=n[3];for(let Yt=0;Yt<20;Yt+=2)u=u+X|0,wt=ai(wt^u,16),Oe=Oe+wt|0,X=ai(X^Oe,12),u=u+X|0,wt=ai(wt^u,8),Oe=Oe+wt|0,X=ai(X^Oe,7),h=h+W|0,Ot=ai(Ot^h,16),je=je+Ot|0,W=ai(W^je,12),h=h+W|0,Ot=ai(Ot^h,8),je=je+Ot|0,W=ai(W^je,7),l=l+k|0,Et=ai(Et^l,16),Ke=Ke+Et|0,k=ai(k^Ke,12),l=l+k|0,Et=ai(Et^l,8),Ke=Ke+Et|0,k=ai(k^Ke,7),f=f+re|0,St=ai(St^f,16),nt=nt+St|0,re=ai(re^nt,12),f=f+re|0,St=ai(St^f,8),nt=nt+St|0,re=ai(re^nt,7),u=u+W|0,St=ai(St^u,16),Ke=Ke+St|0,W=ai(W^Ke,12),u=u+W|0,St=ai(St^u,8),Ke=Ke+St|0,W=ai(W^Ke,7),h=h+k|0,wt=ai(wt^h,16),nt=nt+wt|0,k=ai(k^nt,12),h=h+k|0,wt=ai(wt^h,8),nt=nt+wt|0,k=ai(k^nt,7),l=l+re|0,Ot=ai(Ot^l,16),Oe=Oe+Ot|0,re=ai(re^Oe,12),l=l+re|0,Ot=ai(Ot^l,8),Oe=Oe+Ot|0,re=ai(re^Oe,7),f=f+X|0,Et=ai(Et^f,16),je=je+Et|0,X=ai(X^je,12),f=f+X|0,Et=ai(Et^f,8),je=je+Et|0,X=ai(X^je,7);let Nt=0;i[Nt++]=u,i[Nt++]=h,i[Nt++]=l,i[Nt++]=f,i[Nt++]=wt,i[Nt++]=Ot,i[Nt++]=Et,i[Nt++]=St},allowShortKeys:!1}),_P=new Uint8Array(16),a1=(r,t)=>{r.update(t);const n=t.length%16;n&&r.update(_P.subarray(n))},EP=new Uint8Array(32);function Zx(r,t,n,i,u){const h=r(t,n,EP),l=pP.create(h);u&&a1(l,u),a1(l,i);const f=new Uint8Array(16),X=(r=>new DataView(r.buffer,r.byteOffset,r.byteLength))(f);t1(X,0,BigInt(u?u.length:0),!0),t1(X,8,BigInt(i.length),!0),l.update(f);const W=l.digest();return h.fill(0),W}const c1=r=>(t,n,i)=>(Mp(t,32),Mp(n),{encrypt:(h,l)=>{const f=h.length,X=f+16;l?Mp(l,X):l=new Uint8Array(X),r(t,n,h,l,1);const W=Zx(r,t,n,l.subarray(0,-16),i);return l.set(W,f),l},decrypt:(h,l)=>{const f=h.length,X=f-16;if(f<16)throw new Error("encrypted data must be at least 16 bytes");l?Mp(l,X):l=new Uint8Array(X);const W=h.subarray(0,-16);if(!function aP(r,t){if(r.length!==t.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^t[i];return 0===n}(h.subarray(-16),Zx(r,t,n,W,i)))throw new Error("invalid tag");return r(t,n,W,l,1),l}});function zl(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function d1({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(Yv))&&void 0!==n?n:[]),Object.keys(X_).forEach(u=>{var h,l;i.push(...null!==(l=null===(h=r[u])||void 0===h?void 0:h.filter(Yv))&&void 0!==l?l:[])}),i}function kR({didDocument:r,methodId:t}){const n=[];return Object.keys(X_).forEach(i=>{if(Array.isArray(r[i])){const u=r[i],h=zl(t);u.some(f=>{const X=zl(f)===h,W=Yv(f)&&zl(f.id)===h;return X||W})&&n.push(i)}}),n}function Yv(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function DP({keyBytes:r,multicodecCode:t,multicodecName:n}){const i=nr.Gs.addPrefix({code:t,data:r,name:n}),u=nr.U$.uint8Array(i).toBase58Btc();return nr.U$.base58Btc(u).toMultibase()}function NI({multibaseKeyId:r}){try{const t=nr.U$.multibase(r).toBase58Btc(),n=nr.U$.base58Btc(t).toUint8Array(),{code:i,data:u,name:h}=nr.Gs.removePrefix({prefixedData:n});return{keyBytes:u,multicodecCode:i,multicodecName:h}}catch{throw new Ki(Fi.InvalidDid,`Invalid multibase identifier: ${r}`)}}c1(bP),c1(wP);var B0=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class $m{constructor({uri:t,document:n,metadata:i,keyManager:u}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=u}export(){return B0(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.exportKey({keyUri:u});n.push(Object.assign({},h))}t.privateKeys=n}return t})}getSigner(t){return B0(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(X=>{var W,k;return zl(X.id)===(null!==(W=zl(t?.methodId))&&void 0!==W?W:zl(null===(k=this.document.assertionMethod)||void 0===k?void 0:k[0]))});if(!i||!i.publicKeyJwk)throw new Ki(Fi.InternalError,"A verification method intended for signing could not be determined from the DID Document");const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.getPublicKey({keyUri:u}),l=this.keyManager;return{algorithm:yI(h),keyId:i.id,sign(X){return B0(this,arguments,void 0,function*({data:W}){return yield l.sign({data:W,keyUri:u})})},verify(X){return B0(this,arguments,void 0,function*({data:W,signature:k}){return yield l.verify({data:W,key:h,signature:k})})}}})}static import(t){return B0(this,arguments,void 0,function*({portableDid:n,keyManager:i=new Lm}){var u;const h=d1({didDocument:n.document});if(0===h.length)throw new Ki(Fi.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let f of null!==(u=n.privateKeys)&&void 0!==u?u:[])yield i.importKey({key:f});for(let f of h){if(!f.publicKeyJwk)throw new Error(`Verification method '${f.id}' does not contain a public key in JWK format`);const X=yield i.getKeyUri({key:f.publicKeyJwk});yield i.getPublicKey({keyUri:X})}return new $m({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var Qx=_(2198),Zv=_(49402),UI=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class LI{static getSigningMethod(t){return UI(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return UI(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Id=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},IP=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const eM="https://diddht.tbddev.org",Tp=7200,Ml=",";var CP=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(CP||{}),Hl=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Hl||{}),kP=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(kP||{});const PP={Ed25519:Hl.Ed25519,ES256K:Hl.secp256k1,ES256:Hl.secp256r1,"P-256":Hl.secp256r1,secp256k1:Hl.secp256k1,secp256r1:Hl.secp256r1,X25519:Hl.X25519},tM={[Hl.Ed25519]:"Ed25519",[Hl.secp256k1]:"ES256K",[Hl.secp256r1]:"ES256",[Hl.X25519]:"ECDH-ES+A256KW"};let N0=(()=>{class r extends LI{static create(){return Id(this,arguments,void 0,function*({keyManager:n=new Lm,options:i={}}={}){var u,h,l,f,X,W,k,re,Oe,je,Ke;if(null!==(u=i.verificationMethods)&&void 0!==u&&u.some(Qt=>!(Qt.algorithm in PP)))throw new Error("One or more verification method algorithms are not supported");const nt=null===(h=i.verificationMethods)||void 0===h?void 0:h.filter(Qt=>"id"in Qt).map(Qt=>Qt.id);if(nt&&nt.length!==new Set(nt).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=i.services)&&void 0!==l&&l.some(Qt=>!Qt.id||!Qt.type||!Qt.serviceEndpoint))throw new Error("One or more services are missing required properties");const wt=yield n.generateKey({algorithm:"Ed25519"}),Ot=yield n.getPublicKey({keyUri:wt}),Et=yield Tc.identityKeyToIdentifier({identityKey:Ot}),St=Object.assign(Object.assign({id:Et},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),Nt=[...null!==(f=i.verificationMethods)&&void 0!==f?f:[]];Nt?.some(Qt=>{var ln;return"0"===(null===(ln=Qt.id)||void 0===ln?void 0:ln.split("#").pop())})||Nt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Qt of Nt){const ln=Qt.id&&"0"===Qt.id.split("#").pop()?wt:yield n.generateKey({algorithm:Qt.algorithm}),Ht=yield n.getPublicKey({keyUri:ln});let An=null!==(W=null!==(X=Qt.id)&&void 0!==X?X:Ht.kid)&&void 0!==W?W:yield ta({jwk:Ht});An=`${Et}#${zl(An)}`,null!==(k=St.verificationMethod)&&void 0!==k||(St.verificationMethod=[]),St.verificationMethod.push({id:An,type:"JsonWebKey",controller:null!==(re=Qt.controller)&&void 0!==re?re:Et,publicKeyJwk:Ht});for(const Jn of null!==(Oe=Qt.purposes)&&void 0!==Oe?Oe:[])St[Jn]||(St[Jn]=[]),St[Jn].push(An)}null===(je=i.services)||void 0===je||je.forEach(Qt=>{var ln;null!==(ln=St.service)&&void 0!==ln||(St.service=[]),Qt.id=`${Et}#${Qt.id.split("#").pop()}`,St.service.push(Qt)});const Yt=new $m({uri:Et,document:St,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Ke=i.publish)||void 0===Ke||Ke){const Qt=yield r.publish({did:Yt,gatewayUri:i.gatewayUri});Yt.metadata=Qt.didDocumentMetadata}return Yt})}static import(n){return Id(this,arguments,void 0,function*({portableDid:i,keyManager:u=new Lm}){var h;const l=zs.parse(i.uri);if(l?.method!==r.methodName)throw new Ki(Fi.MethodNotSupported,"Method not supported");const f=yield $m.import({portableDid:i,keyManager:u});if(null===(h=f.document.verificationMethod)||void 0===h||!h.some(X=>{var W;return"0"===(null===(W=X.id)||void 0===W?void 0:W.split("#").pop())}))throw new Ki(Fi.InvalidDidDocument,"DID document must contain an Identity Key");return f})}static getSigningMethod(n){return Id(this,arguments,void 0,function*({didDocument:i,methodId:u="#0"}){var h;const l=zs.parse(i.id);if(l&&l.method!==this.methodName)throw new Ki(Fi.MethodNotSupported,`Method not supported: ${l.method}`);const f=null===(h=i.verificationMethod)||void 0===h?void 0:h.find(X=>{var W,k;return zl(X.id)===(null!==(W=zl(u))&&void 0!==W?W:zl(null===(k=i.assertionMethod)||void 0===k?void 0:k[0]))});if(!f||!f.publicKeyJwk)throw new Ki(Fi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static publish(n){return Id(this,arguments,void 0,function*({did:i,gatewayUri:u=eM}){return yield Oh.put({did:i,gatewayUri:u})})}static resolve(n){return Id(this,arguments,void 0,function*(i,u={}){var h;const l=null!==(h=u?.gatewayUri)&&void 0!==h?h:eM;try{yield Tc.identifierToIdentityKey({didUri:i});const{didDocument:f,didDocumentMetadata:X}=yield Oh.get({didUri:i,gatewayUri:l});return Object.assign(Object.assign({},Dh),{didDocument:f,didDocumentMetadata:X})}catch(f){if(!(f instanceof Ki))throw new Error(f);return Object.assign(Object.assign({},Dh),{didResolutionMetadata:Object.assign({error:f.code},f.message&&{errorMessage:f.message})})}})}}return r.methodName="dht",r})();class Oh{static get(t){return Id(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const u=Tc.identifierToIdentityKeyBytes({didUri:n}),h=yield Oh.pkarrGet({gatewayUri:i,publicKeyBytes:u}),l=yield Tc.parseBep44GetMessage({bep44Message:h}),f=yield Oh.fromDnsPacket({didUri:n,dnsPacket:l});return f.didDocumentMetadata.versionId=h.seq.toString(),f})}static put(t){return Id(this,arguments,void 0,function*({did:n,gatewayUri:i}){const u=yield Oh.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),h=yield Tc.createBep44PutMessage({dnsPacket:u,publicKeyBytes:Tc.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),l=yield Oh.pkarrPut({gatewayUri:i,bep44Message:h});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:l,versionId:h.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return Id(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const u=nr.U$.uint8Array(i).toBase32Z(),h=new URL(u,n).href;let l;try{if(l=yield fetch(h,{method:"GET"}),!l.ok)throw new Ki(Fi.NotFound,`Pkarr record not found for: ${u}`)}catch(W){throw W instanceof Ki?W:new Ki(Fi.InternalError,`Failed to fetch Pkarr record: ${W.message}`)}const f=yield l.arrayBuffer();if(!f)throw new Ki(Fi.NotFound,`Pkarr record not found for: ${u}`);if(f.byteLength<72)throw new Ki(Fi.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${f.byteLength}`);if(f.byteLength>1072)throw new Ki(Fi.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${f.byteLength}`);return{k:i,seq:Number(new DataView(f).getBigUint64(64)),sig:new Uint8Array(f,0,64),v:new Uint8Array(f,72)}})}static pkarrPut(t){return Id(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const u=nr.U$.uint8Array(i.k).toBase32Z(),h=new URL(u,n).href,l=new Uint8Array(i.v.length+72);let f;l.set(i.sig,0),new DataView(l.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),l.set(i.v,i.sig.length+8);try{f=yield fetch(h,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:l})}catch(X){throw new Ki(Fi.InternalError,`Failed to put Pkarr record for identifier ${u}: ${X.message}`)}return f.ok})}static fromDnsPacket(t){return Id(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var u,h,l;const f={id:n},X={published:!0},W=new Map;for(const k of null!==(u=i?.answers)&&void 0!==u?u:[]){if("TXT"!==k.type)continue;const re=k.name.split(".")[0].substring(1);switch(!0){case re.startsWith("aka"):{const Oe=Tc.parseTxtDataToString(k.data);f.alsoKnownAs=Oe.split(Ml);break}case re.startsWith("cnt"):{const Oe=Tc.parseTxtDataToString(k.data);f.controller=Oe.includes(Ml)?Oe.split(Ml):Oe;break}case re.startsWith("k"):{const{id:Oe,t:je,k:Ke,c:nt,a:wt}=Tc.parseTxtDataToObject(k.data),Ot=nr.U$.base64Url(Ke).toUint8Array(),Et=Hl[Number(je)];let St=yield Tc.keyConverter(Et).bytesToPublicKey({publicKeyBytes:Ot});St.alg=wt||tM[Number(je)];const Nt="k0"===re?"0":void 0!==Oe?Oe:yield ta({jwk:St});null!==(h=f.verificationMethod)&&void 0!==h||(f.verificationMethod=[]);const Yt=`${n}#${Nt}`;f.verificationMethod.push({id:Yt,type:"JsonWebKey",controller:nt??n,publicKeyJwk:St}),W.set(re,Yt);break}case re.startsWith("s"):{const Oe=Tc.parseTxtDataToObject(k.data),{id:je,t:Ke,se:nt}=Oe,wt=IP(Oe,["id","t","se"]),Ot=nt.includes(Ml)?nt.split(Ml):[nt],Et=Object.fromEntries(Object.entries(wt).map(([St,Nt])=>[St,Nt.includes(Ml)?Nt.split(Ml):Nt]));null!==(l=f.service)&&void 0!==l||(f.service=[]),f.service.push(Object.assign(Object.assign({},Et),{id:`${n}#${je}`,type:Ke,serviceEndpoint:Ot}));break}case re.startsWith("typ"):{const{id:Oe}=Tc.parseTxtDataToObject(k.data);X.types=Oe.split(Ml).map(je=>Number(je));break}case re.startsWith("did"):{const Oe=Et=>Et.split(Ml).map(St=>W.get(St)).filter(St=>"string"==typeof St),{auth:je,asm:Ke,del:nt,inv:wt,agm:Ot}=Tc.parseTxtDataToObject(k.data);je&&(f.authentication=Oe(je)),Ke&&(f.assertionMethod=Oe(Ke)),nt&&(f.capabilityDelegation=Oe(nt)),wt&&(f.capabilityInvocation=Oe(wt)),Ot&&(f.keyAgreement=Oe(Ot));break}}}return{didDocument:f,didDocumentMetadata:X,didResolutionMetadata:{}}})}static toDnsPacket(t){return Id(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:u,previousDidProof:h}){var l,f,X,W,k;const re=[],Oe=[],je=new Map,Ke=[],nt=[];if(void 0!==h){const{signature:Et,previousDid:St}=h;yield Tc.validatePreviousDidProof({newDid:n.id,previousDidProof:h}),re.push({type:"TXT",name:"_prv._did.",ttl:Tp,data:`id=${St};s=${Et}`})}if(n.alsoKnownAs&&re.push({type:"TXT",name:"_aka._did.",ttl:Tp,data:n.alsoKnownAs.join(Ml)}),n.controller){const Et=Array.isArray(n.controller)?n.controller.join(Ml):n.controller;re.push({type:"TXT",name:"_cnt._did.",ttl:Tp,data:Et})}for(const[Et,St]of null!==(f=null===(l=n.verificationMethod)||void 0===l?void 0:l.entries())&&void 0!==f?f:[]){const Nt=`k${Et}`;nt.push(Nt);let Yt=St.id.split("#").pop();je.set(Yt,Nt);const Qt=St.publicKeyJwk;if(!Qt?.crv||!(Qt.crv in PP))throw new Ki(Fi.InvalidPublicKeyType,`Verification method '${St.id}' contains an unsupported key type: ${null!==(X=Qt?.crv)&&void 0!==X?X:"undefined"}`);const ln=Hl[Qt.crv],Ht=yield Tc.keyConverter(Qt.crv).publicKeyToBytes({publicKey:Qt}),Jn=[`t=${ln}`,`k=${nr.U$.uint8Array(Ht).toBase64Url()}`];"0"!==Yt&&(yield ta({jwk:Qt}))!==Yt&&Jn.unshift(`id=${Yt}`),Qt.alg!==tM[ln]&&Jn.push(`a=${Qt.alg}`),St.controller!==n.id&&Jn.push(`c=${St.controller}`),re.push({type:"TXT",name:`_${Nt}._did.`,ttl:Tp,data:Jn.join(";")})}null===(W=n.service)||void 0===W||W.forEach((Et,St)=>{const Nt=`s${St}`;Ke.push(Nt);let{id:Yt,type:Qt,serviceEndpoint:ln}=Et,Ht=IP(Et,["id","type","serviceEndpoint"]);Yt=zl(Yt),ln=Array.isArray(ln)?ln.join(","):ln;const Jn=Object.entries(Object.assign({id:Yt,t:Qt,se:ln},Ht)).map(([ar,Vn])=>`${ar}=${Vn}`).join(";"),qn=Tc.chunkDataIfNeeded(Jn);re.push({type:"TXT",name:`_${Nt}._did.`,ttl:Tp,data:qn})});const wt=["v=0"];if(nt.length&&wt.push(`vm=${nt.join(Ml)}`),Object.keys(X_).forEach(Et=>{var St;const Nt=null===(St=n[Et])||void 0===St?void 0:St.map(Yt=>je.get(Yt.split("#").pop()));Nt&&wt.push(`${kP[Et]}=${Nt.join(Ml)}`)}),Ke.length&&wt.push(`svc=${Ke.join(Ml)}`),null!==(k=i.types)&&void 0!==k&&k.length){const St=i.types.map(Nt=>"string"==typeof Nt?CP[Nt]:Nt);re.push({type:"TXT",name:"_typ._did.",ttl:Tp,data:`id=${St.join(Ml)}`})}re.push({type:"TXT",name:"_did."+Oh.getUniqueDidSuffix(n.id)+".",ttl:Tp,data:wt.join(";")});for(const Et of u||[])Oe.push({type:"NS",name:"_did."+Oh.getUniqueDidSuffix(n.id)+".",ttl:Tp,data:Et+"."});return{id:0,type:"response",flags:Zv.hB,answers:[...re,...Oe]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class Tc{static createBep44PutMessage(t){return Id(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:u}){const h=Math.ceil(Date.now()/1e3),l=(0,Zv.lF)(n),f=Qx.A.encode({seq:h,v:l}).subarray(1,-1);if(f.length>1e3)throw new Ki(Fi.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${f.length} bytes`);return{k:i,seq:h,sig:yield u.sign({data:f}),v:l}})}static identifierToIdentityKey(t){return Id(this,arguments,void 0,function*({didUri:n}){let i=Tc.identifierToIdentityKeyBytes({didUri:n});return yield tc.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=zs.parse(t);if(!n)throw new Ki(Fi.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==N0.methodName)throw new Ki(Fi.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=nr.U$.base32Z(n.id).toUint8Array()}catch{throw new Ki(Fi.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Ki(Fi.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return Id(this,arguments,void 0,function*({identityKey:n}){const i=yield tc.publicKeyToBytes({publicKey:n}),u=nr.U$.uint8Array(i).toBase32Z();return`did:${N0.methodName}:${u}`})}static keyConverter(t){const i={Ed25519:tc,"P-256":{publicKeyToBytes:u=>Id(this,[u],void 0,function*({publicKey:h}){const l=yield La.publicKeyToBytes({publicKey:h});return yield La.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:La.bytesToPublicKey,privateKeyToBytes:La.privateKeyToBytes,bytesToPrivateKey:La.bytesToPrivateKey},secp256k1:{publicKeyToBytes:u=>Id(this,[u],void 0,function*({publicKey:h}){const l=yield Ua.publicKeyToBytes({publicKey:h});return yield Ua.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:Ua.bytesToPublicKey,privateKeyToBytes:Ua.privateKeyToBytes,bytesToPrivateKey:Ua.bytesToPrivateKey},X25519:kh}[t];if(!i)throw new Ki(Fi.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return Id(this,arguments,void 0,function*({bep44Message:n}){const i=yield tc.bytesToPublicKey({publicKeyBytes:n.k}),u=Qx.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield tc.verify({key:i,signature:n.sig,data:u})))throw new Ki(Fi.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,Zv.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[u,h]=i.split("=");return n[u]=h,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return nr.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Ki(Fi.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return Id(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const u=yield Tc.identifierToIdentityKey({didUri:i.previousDid}),h=Tc.identifierToIdentityKeyBytes({didUri:n}),l=nr.U$.base64Url(i.signature).toUint8Array();if(!(yield tc.verify({key:u,data:h,signature:l})))throw new Ki(Fi.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var nM=_(52039),Sl=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Lf=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Lf||{});const rM={Ed25519:Lf.Ed25519,ES256K:Lf.secp256k1,ES256:Lf.secp256r1,"P-256":Lf.secp256r1,secp256k1:Lf.secp256k1,secp256r1:Lf.secp256r1},u1="https://ion.tbd.engineering";let OP=(()=>{class r extends LI{static create(){return Sl(this,arguments,void 0,function*({keyManager:n=new Lm,options:i={}}={}){var u,h,l,f,X,W,k;if(null!==(u=i.verificationMethods)&&void 0!==u&&u.some(Qt=>!(Qt.algorithm in rM)))throw new Error("One or more verification method algorithms are not supported");const re=null===(h=i.verificationMethods)||void 0===h?void 0:h.filter(Qt=>"id"in Qt).map(Qt=>Qt.id);if(re&&re.length!==new Set(re).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=i.services)&&void 0!==l&&l.some(Qt=>!Qt.id||!Qt.type||!Qt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Oe={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},je=[];for(const Qt of null!==(f=i.verificationMethods)&&void 0!==f?f:[Oe]){const ln=yield n.generateKey({algorithm:Qt.algorithm}),Ht=yield n.getPublicKey({keyUri:ln});je.push({id:Qt.id,publicKeyJwk:Ht,purposes:null!==(X=Qt.purposes)&&void 0!==X?X:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Ke=yield n.generateKey({algorithm:Lf.secp256k1}),nt=yield n.getPublicKey({keyUri:Ke}),wt=yield n.generateKey({algorithm:Lf.secp256k1}),Ot=yield n.getPublicKey({keyUri:wt}),Et=yield Tl.computeLongFormDidUri({recoveryKey:nt,updateKey:Ot,services:null!==(W=i.services)&&void 0!==W?W:[],verificationMethods:je}),{didDocument:St,didResolutionMetadata:Nt}=yield r.resolve(Et,{gatewayUri:i.gatewayUri});if(null===St)throw new Error(`Unable to resolve DID during creation: ${Nt?.error}`);const Yt=new $m({uri:Et,document:St,metadata:{published:!1,canonicalId:Et.split(":",3).join(":"),recoveryKey:nt,updateKey:Ot},keyManager:n});if(null===(k=i.publish)||void 0===k||k){const Qt=yield r.publish({did:Yt,gatewayUri:i.gatewayUri});Yt.metadata=Qt.didDocumentMetadata}return Yt})}static getSigningMethod(n){return Sl(this,arguments,void 0,function*({didDocument:i,methodId:u}){var h;const l=zs.parse(i.id);if(l&&l.method!==this.methodName)throw new Ki(Fi.MethodNotSupported,`Method not supported: ${l.method}`);const f=null===(h=i.verificationMethod)||void 0===h?void 0:h.find(X=>{var W;return X.id===(u??(null===(W=i.assertionMethod)||void 0===W?void 0:W[0]))});if(!f||!f.publicKeyJwk)throw new Ki(Fi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static import(n){return Sl(this,arguments,void 0,function*({portableDid:i,keyManager:u=new Lm}){const h=zs.parse(i.uri);if(h?.method!==r.methodName)throw new Ki(Fi.MethodNotSupported,"Method not supported");return yield $m.import({portableDid:i,keyManager:u})})}static publish(n){return Sl(this,arguments,void 0,function*({did:i,gatewayUri:u=u1}){var h,l,f;const X=null!==(l=null===(h=i.document.verificationMethod)||void 0===h?void 0:h.map(re=>({id:re.id,publicKeyJwk:re.publicKeyJwk,purposes:kR({didDocument:i.document,methodId:re.id})})))&&void 0!==l?l:[],W=yield Tl.createIonDocument({services:null!==(f=i.document.service)&&void 0!==f?f:[],verificationMethods:X}),k=yield Tl.constructCreateRequest({ionDocument:W,recoveryKey:i.metadata.recoveryKey,updateKey:i.metadata.updateKey});try{const re=Tl.appendPathToUrl({baseUrl:u,path:"/operations"}),Oe=yield fetch(re,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});return{didDocument:i.document,didDocumentMetadata:Object.assign(Object.assign({},i.metadata),{published:Oe.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Fi.InternalError,errorMessage:`Failed to publish DID document for: ${i.uri}`}}}})}static resolve(n){return Sl(this,arguments,void 0,function*(i,u={}){var h,l;const f=zs.parse(i);if(!f)return Object.assign(Object.assign({},Dh),{didResolutionMetadata:{error:"invalidDid"}});if(f.method!==r.methodName)return Object.assign(Object.assign({},Dh),{didResolutionMetadata:{error:"methodNotSupported"}});const X=null!==(h=u?.gatewayUri)&&void 0!==h?h:u1;try{const W=Tl.appendPathToUrl({baseUrl:X,path:`/identifiers/${i}`}),k=yield fetch(W);if(!k.ok)throw new Ki(Fi.NotFound,`Unable to find DID document for: ${i}`);const{didDocument:re,didDocumentMetadata:Oe}=yield k.json();return Object.assign(Object.assign(Object.assign({},Dh),re&&{didDocument:re}),{didDocumentMetadata:Object.assign({published:null===(l=Oe?.method)||void 0===l?void 0:l.published},Oe)})}catch(W){if(!(W instanceof Ki))throw new Error(W);return Object.assign(Object.assign({},Dh),{didResolutionMetadata:Object.assign({error:W.code},W.message&&{errorMessage:W.message})})}})}}return r.methodName="ion",r})();class Tl{static appendPathToUrl({baseUrl:t,path:n}){const i=new URL(t);return i.pathname=i.pathname.endsWith("/")?i.pathname:i.pathname+"/",i.pathname+=n.startsWith("/")?n.substring(1):n,i.toString()}static computeLongFormDidUri(t){return Sl(this,arguments,void 0,function*({recoveryKey:n,updateKey:i,services:u,verificationMethods:h}){const l=yield Tl.createIonDocument({services:u,verificationMethods:h}),f=Tl.normalizeJwk(n),X=Tl.normalizeJwk(i);return yield nM.oU.createLongFormDid({document:l,recoveryKey:f,updateKey:X})})}static constructCreateRequest(t){return Sl(this,arguments,void 0,function*({ionDocument:n,recoveryKey:i,updateKey:u}){return yield nM.Q2.createCreateRequest({document:n,recoveryKey:Tl.normalizeJwk(i),updateKey:Tl.normalizeJwk(u)})})}static createIonDocument(t){return Sl(this,arguments,void 0,function*({services:n,verificationMethods:i}){var u,h;const l=[];for(const W of i){let k=null!==(h=null!==(u=W.id)&&void 0!==u?u:W.publicKeyJwk.kid)&&void 0!==h?h:yield ta({jwk:W.publicKeyJwk});k=`${k.split("#").pop()}`;const re={id:k,publicKeyJwk:Tl.normalizeJwk(W.publicKeyJwk),purposes:W.purposes,type:"JsonWebKey2020"};l.push(re)}return{publicKeys:l,services:n.map(W=>Object.assign(Object.assign({},W),{id:`${W.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let i;if("EC"===n)i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)i={k:t.k,kty:t.kty};else if("OKP"===n)i={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);i={e:t.e,kty:t.kty,n:t.n}}return i}}var Kf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Vm=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Vm||{});const jI={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},$I={Ed25519:Vm.Ed25519,ES256K:Vm.secp256k1,ES256:Vm.secp256r1,"P-256":Vm.secp256r1,secp256k1:Vm.secp256k1,secp256r1:Vm.secp256r1,X25519:Vm.X25519};let RP=(()=>{class r extends LI{static create(){return Kf(this,arguments,void 0,function*({keyManager:n=new Lm,options:i={}}={}){var u,h,l,f;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const X=null!==(f=null!==(u=i.algorithm)&&void 0!==u?u:null===(l=null===(h=i.verificationMethods)||void 0===h?void 0:h[0])||void 0===l?void 0:l.algorithm)&&void 0!==f?f:"Ed25519",W=yield n.generateKey({algorithm:X}),k=yield n.getPublicKey({keyUri:W}),re=yield Rh.publicKeyToMultibaseId({publicKey:k}),Oe=`did:${r.methodName}:${re}`,Ke=(yield r.resolve(Oe,i)).didDocument;return new $m({uri:Oe,document:Ke,metadata:{},keyManager:n})})}static getSigningMethod(n){return Kf(this,arguments,void 0,function*({didDocument:i}){var u;const h=zs.parse(i.id);if(h&&h.method!==this.methodName)throw new Ki(Fi.MethodNotSupported,`Method not supported: ${h.method}`);const[l]=i.assertionMethod||[],f=null===(u=i.verificationMethod)||void 0===u?void 0:u.find(X=>X.id===l);if(!f||!f.publicKeyJwk)throw new Ki(Fi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static import(n){return Kf(this,arguments,void 0,function*({portableDid:i,keyManager:u=new Lm}){const h=zs.parse(i.uri);if(h?.method!==r.methodName)throw new Ki(Fi.MethodNotSupported,"Method not supported");const l=yield $m.import({portableDid:i,keyManager:u});if(1!==l.document.verificationMethod.length)throw new Ki(Fi.InvalidDidDocument,"DID document must contain exactly one verification method");return l})}static resolve(n,i){return Kf(this,void 0,void 0,function*(){try{const u=yield r.createDocument({didUri:n,options:i});return Object.assign(Object.assign({},Dh),{didDocument:u})}catch(u){if(!(u instanceof Ki))throw new Error(u);return Object.assign(Object.assign({},Dh),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}static createDocument(n){return Kf(this,arguments,void 0,function*({didUri:i,options:u={}}){const{defaultContext:h="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:l=!1,enableExperimentalPublicKeyTypes:f=!1,publicKeyFormat:X="JsonWebKey2020"}=u,W={id:""},k=zs.parse(i);if(!k)throw new Ki(Fi.InvalidDid,`Invalid DID URI: ${i}`);const re=k.id;if(k.method!==r.methodName)throw new Ki(Fi.MethodNotSupported,`Method not supported: ${k.method}`);if(!r.validateIdentifier(k))throw new Ki(Fi.InvalidDid,`Invalid DID URI: ${i}`);const Oe=yield r.createSignatureMethod({didUri:i,multibaseValue:re,options:{enableExperimentalPublicKeyTypes:f,publicKeyFormat:X}});if(W.id=k.uri,W.verificationMethod=[Oe],W.authentication=[Oe.id],W.assertionMethod=[Oe.id],W.capabilityInvocation=[Oe.id],W.capabilityDelegation=[Oe.id],!0===l){const nt="Ed25519VerificationKey2020"===X?"X25519KeyAgreementKey2020":"JsonWebKey2020",wt=yield this.createEncryptionMethod({didUri:i,multibaseValue:re,options:{enableExperimentalPublicKeyTypes:f,publicKeyFormat:nt}});W.verificationMethod.push(wt),W.keyAgreement=[wt.id]}const je=[h];return function AP({didDocument:r}){const n=d1({didDocument:r}).map(i=>i.type);return[...new Set(n)]}({didDocument:W}).forEach(nt=>{je.push(jI[nt])}),W["@context"]=je,W})}static createEncryptionMethod(n){return Kf(this,arguments,void 0,function*({didUri:i,multibaseValue:u,options:h}){const{enableExperimentalPublicKeyTypes:l,publicKeyFormat:f}=h,X={id:"",type:"",controller:""},{keyBytes:W,multicodecCode:k}=yield r.deriveEncryptionKey({multibaseValue:u}),re=W.byteLength,Oe=Rh.MULTICODEC_PUBLIC_KEY_LENGTH[k];if(re!==Oe)throw new Ki(Fi.InvalidPublicKeyLength,`Expected ${re} bytes. Actual: ${Oe}`);const je=DP({keyBytes:W,multicodecCode:k});X.id=`${i}#${je}`;try{new URL(X.id)}catch{throw new Ki(Fi.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(f in jI))throw new Ki(Fi.UnsupportedPublicKeyType,`Unsupported format: ${f}`);if(!1===l&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(f))throw new Ki(Fi.InvalidPublicKeyType,`Specified '${f}' without setting enableExperimentalPublicKeyTypes to true.`);if(X.type=f,X.controller=i,"X25519KeyAgreementKey2020"===f&&(X.publicKeyMultibase=je),"JsonWebKey2020"===f){const{crv:nt}=yield Rh.multicodecToJwk({code:k});X.publicKeyJwk=yield Rh.keyConverter(nt).bytesToPublicKey({publicKeyBytes:W})}return X})}static createSignatureMethod(n){return Kf(this,arguments,void 0,function*({didUri:i,multibaseValue:u,options:h}){const{enableExperimentalPublicKeyTypes:l,publicKeyFormat:f}=h,X={id:"",type:"",controller:""},{keyBytes:W,multicodecCode:k,multicodecName:re}=NI({multibaseKeyId:u}),Oe=W.byteLength,je=Rh.MULTICODEC_PUBLIC_KEY_LENGTH[k];if(Oe!==je)throw new Ki(Fi.InvalidPublicKeyLength,`Expected ${Oe} bytes. Actual: ${je}`);let Ke=!1;switch(re){case"secp256k1-pub":Ke=yield Ua.validatePublicKey({publicKeyBytes:W});break;case"ed25519-pub":Ke=yield tc.validatePublicKey({publicKeyBytes:W});break;case"x25519-pub":Ke=!0}if(!Ke)throw new Ki(Fi.InvalidPublicKey,"Invalid public key detected.");X.id=`${i}#${u}`;try{new URL(X.id)}catch{throw new Ki(Fi.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(f in jI))throw new Ki(Fi.UnsupportedPublicKeyType,`Unsupported format: ${f}`);if(!1===l&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(f))throw new Ki(Fi.InvalidPublicKeyType,`Specified '${f}' without setting enableExperimentalPublicKeyTypes to true.`);if(X.type=f,X.controller=i,"Ed25519VerificationKey2020"===f&&(X.publicKeyMultibase=u),"JsonWebKey2020"===f){const{crv:wt}=yield Rh.multicodecToJwk({code:k});X.publicKeyJwk=yield Rh.keyConverter(wt).bytesToPublicKey({publicKeyBytes:W})}return X})}static deriveEncryptionKey(n){return Kf(this,arguments,void 0,function*({multibaseValue:i}){let u={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:h,multicodecCode:l}=NI({multibaseKeyId:i});if(237===l){const f=yield Rh.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:h}),X=yield tc.convertPublicKeyToX25519({publicKey:f});u={keyBytes:yield Rh.keyConverter("Ed25519").publicKeyToBytes({publicKey:X}),multicodecCode:236}}return u})}static validateIdentifier(n){const{method:i,id:u}=n,[h]=n.uri.split(":",1);return"did"===h&&"key"===i&&Number("1")>0&&"String"===(0,nr.fc)(u)&&u.startsWith("z")}}return r.methodName="key",r})(),Rh=(()=>{class r{static jwkToMulticodec(n){return Kf(this,arguments,void 0,function*({jwk:i}){const u=[];i.crv&&(u.push(i.crv),u.push(i.d?"private":"public"));const h=u.join(":"),l=r.JWK_TO_MULTICODEC[h];if(void 0===l)throw new Error(`Unsupported JWK to Multicodec conversion: '${h}'`);return{code:nr.Gs.getCodeFromName({name:l}),name:l}})}static keyCompressor(n){const u={"P-256":La.compressPublicKey,secp256k1:Ua.compressPublicKey}[n];if(!u)throw new Ki(Fi.InvalidPublicKeyType,`Unsupported curve: ${n}`);return u}static keyConverter(n){const u={Ed25519:tc,"P-256":La,secp256k1:Ua,X25519:kh}[n];if(!u)throw new Ki(Fi.InvalidPublicKeyType,`Unsupported curve: ${n}`);return u}static multicodecToJwk(n){return Kf(this,arguments,void 0,function*({code:i,name:u}){if(!(u?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");u=void 0===u?nr.Gs.getNameFromCode({code:i}):u;const l=r.MULTICODEC_TO_JWK[u];if(void 0===l)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},l)})}static publicKeyToMultibaseId(n){return Kf(this,arguments,void 0,function*({publicKey:i}){var u;if(!i?.crv||!(i.crv in $I))throw new Ki(Fi.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(u=i?.crv)&&void 0!==u?u:"undefined"}`);let h=yield r.keyConverter(i.crv).publicKeyToBytes({publicKey:i});/^(secp256k1|P-256|P-384|P-521)$/.test(i.crv)&&(h=yield r.keyCompressor(i.crv)({publicKeyBytes:h}));const{name:l}=yield r.jwkToMulticodec({jwk:i});return DP({keyBytes:h,multicodecName:l})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var VI=_(14078),zI=_(42064);class BP{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new zI.Level(n),this.ttl=VI(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},u=JSON.stringify(i);return this.cache.put(t,u)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const NP={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var oM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class sM{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||NP;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return oM(this,void 0,void 0,function*(){const i=zs.parse(t);if(!i)return Object.assign(Object.assign({},Dh),{didResolutionMetadata:{error:Fi.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const u=this.didResolvers.get(i.method);if(!u)return Object.assign(Object.assign({},Dh),{didResolutionMetadata:{error:Fi.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const h=yield this.cache.get(i.uri);if(h)return h;{const l=yield u.resolve(i.uri,n);return l.didResolutionMetadata.error||(yield this.cache.set(i.uri,l)),l}})}dereference(t,n){return oM(this,void 0,void 0,function*(){const i=zs.parse(t);if(!i)return{dereferencingMetadata:{error:Fi.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:u,didResolutionMetadata:h,didDocumentMetadata:l}=yield this.resolve(i.uri);if(!u)return{dereferencingMetadata:{error:h.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:u,contentMetadata:l};const{service:f=[],verificationMethod:X=[]}=u,W=new Set([t,i.fragment,`#${i.fragment}`]);let k;for(let re of X)if(W.has(re.id)){k=re;break}for(let re of f)if(W.has(re.id)){k=re;break}return k?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:k,contentMetadata:h}:{dereferencingMetadata:{error:Fi.NotFound},contentStream:null,contentMetadata:{}}})}}var qv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class f1{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.methodHandlers={[Gi.Events+vi.Get]:new Ox(this.didResolver,this.eventLog),[Gi.Events+vi.Query]:new oI(this.didResolver,this.eventLog),[Gi.Events+vi.Subscribe]:new sI(this.didResolver,this.eventStream),[Gi.Messages+vi.Get]:new $5(this.didResolver,this.messageStore,this.dataStore),[Gi.Protocols+vi.Configure]:new Lv(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[Gi.Protocols+vi.Query]:new H5(this.didResolver,this.messageStore,this.dataStore),[Gi.Records+vi.Delete]:new Kx(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream),[Gi.Records+vi.Query]:new _p(this.didResolver,this.messageStore,this.dataStore),[Gi.Records+vi.Read]:new Bm(this.didResolver,this.messageStore,this.dataStore),[Gi.Records+vi.Subscribe]:new Zu(this.didResolver,this.messageStore,this.eventStream),[Gi.Records+vi.Write]:new Ep(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,i;return qv(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new sM({didResolvers:[N0,OP,RP],cache:new BP({location:"RESOLVERCACHE"})})),null!==(i=t.tenantGate)&&void 0!==i||(t.tenantGate=new nI);const u=new f1(t);return yield u.open(),u})}open(){var t;return qv(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open()})}close(){var t;return qv(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.eventLog.close()})}processMessage(t,n,i={}){var u;return qv(this,void 0,void 0,function*(){const h=null!==(u=yield this.validateTenant(t))&&void 0!==u?u:yield this.validateMessageIntegrity(n);if(void 0!==h)return h;const{dataStream:l,subscriptionHandler:f}=i,X=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[X].handle({tenant:t,message:n,dataStream:l,subscriptionHandler:f})})}validateTenant(t){var n;return qv(this,void 0,void 0,function*(){const i=yield this.tenantGate.isActiveTenant(t);if(!i.isActiveTenant)return{status:{code:401,detail:null!==(n=i.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,i;return qv(this,void 0,void 0,function*(){const u=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,h=null===(i=t?.descriptor)||void 0===i?void 0:i.method;if(void 0===u||void 0===h)return{status:{code:400,detail:`Both interface and method must be present, interface: ${u}, method: ${h}`}};try{Fr.validateJsonSchema(t)}catch(l){return gs(l,400)}})}}function UP(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function Cd(r,t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,UP(t)]):r})}var KP=_(54626),gu=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Ff=function(r){return this instanceof Ff?(this.v=r,this):new Ff(r)},gc=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}},U0=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),h=[];return u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u;function l(Oe){i[Oe]&&(u[Oe]=function(je){return new Promise(function(Ke,nt){h.push([Oe,je,Ke,nt])>1||f(Oe,je)})})}function f(Oe,je){try{!function X(Oe){Oe.value instanceof Ff?Promise.resolve(Oe.value.v).then(W,k):re(h[0][2],Oe)}(i[Oe](je))}catch(Ke){re(h[0][3],Ke)}}function W(Oe){f("next",Oe)}function k(Oe){f("throw",Oe)}function re(Oe,je){Oe(je),h.shift(),h.length&&f(h[0][0],h[0][1])}};function Bh(r,t){return gu(this,void 0,void 0,function*(){return new KP.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class Ap{constructor(t,n){this.config=Object.assign({createLevelDatabase:Bh},t),this.db=n}open(){return gu(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return gu(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return gu(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new Ap(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var i;return gu(this,void 0,void 0,function*(){null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal);try{return yield Cd(this.db.get(String(t)),n?.signal)}catch(u){if("LEVEL_NOT_FOUND"===u.code)return;throw u}})}has(t,n){return gu(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,i;return U0(this,arguments,function*(){var h,l,f;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Ff(Cd(this.createLevelDatabase(),t?.signal));try{for(var re,W=!0,k=gc(this.db.keys());!(h=(re=yield Ff(k.next())).done);W=!0){W=!1;const Oe=re.value;null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield yield Ff(Oe)}}catch(Oe){l={error:Oe}}finally{try{!W&&!h&&(f=k.return)&&(yield Ff(f.call(k)))}finally{if(l)throw l.error}}})}iterator(t,n){var i,u;return U0(this,arguments,function*(){var l,f,X;null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Ff(Cd(this.createLevelDatabase(),n?.signal));try{for(var Oe,k=!0,re=gc(this.db.iterator(t));!(l=(Oe=yield Ff(re.next())).done);k=!0){k=!1;const je=Oe.value;null===(u=n?.signal)||void 0===u||u.throwIfAborted(),yield yield Ff(je)}}catch(je){f={error:je}}finally{try{!k&&!l&&(X=re.return)&&(yield Ff(X.call(re)))}finally{if(f)throw f.error}}})}put(t,n,i){var u;return gu(this,void 0,void 0,function*(){return null===(u=i?.signal)||void 0===u||u.throwIfAborted(),yield Cd(this.createLevelDatabase(),i?.signal),Cd(this.db.put(String(t),n),i?.signal)})}delete(t,n){var i;return gu(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal),Cd(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,i,u;return gu(this,void 0,void 0,function*(){try{for(var X,l=!0,f=gc(this.keys(t));X=yield f.next(),!(n=X.done);l=!0)return l=!1,!1}catch(W){i={error:W}}finally{try{!l&&!n&&(u=f.return)&&(yield u.call(f))}finally{if(i)throw i.error}}return!0})}clear(){return gu(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var i;return gu(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal),Cd(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,i,u;return gu(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Cd(this.createLevelDatabase(),t?.signal);const h=this.sublevelRange;if(!h)return;const l=this.root;return l.db.supports.additionalMethods.compactRange?Cd(null===(u=(i=l.db).compactRange)||void 0===u?void 0:u.call(i,...h),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new Ap(this.config,t)}createLevelDatabase(){var t;return gu(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var jf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},cM=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}},Yc=function(r){return this instanceof Yc?(this.v=r,this):new Yc(r)},dM=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),h=[];return u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u;function l(Oe){i[Oe]&&(u[Oe]=function(je){return new Promise(function(Ke,nt){h.push([Oe,je,Ke,nt])>1||f(Oe,je)})})}function f(Oe,je){try{!function X(Oe){Oe.value instanceof Yc?Promise.resolve(Oe.value.v).then(W,k):re(h[0][2],Oe)}(i[Oe](je))}catch(Ke){re(h[0][3],Ke)}}function W(Oe){f("next",Oe)}function k(Oe){f("throw",Oe)}function re(Oe,je){Oe(je),h.shift(),h.length&&f(h[0][0],h[0][1])}};class lM{constructor(t,n){this.config=Object.assign({createLevelDatabase:Bh},t),this.db=n??new Ap(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return jf(this,void 0,void 0,function*(){return this.db.open()})}close(){return jf(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return jf(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new lM(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,i){return jf(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,i),pf.TO.parse(t.toString())})}get(t,n){return jf(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return jf(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return jf(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return jf(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return dM(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=cM(t);!(u=(k=yield Yc(W.next())).done);X=!0){X=!1;const re=k.value;yield Yc(this.put(re.cid,re.block,n)),yield yield Yc(re.cid)}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield Yc(l.call(W)))}finally{if(h)throw h.error}}})}getMany(t,n){return dM(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=cM(t);!(u=(k=yield Yc(W.next())).done);X=!0){X=!1;const re=k.value;yield yield Yc({cid:re,block:yield Yc(this.get(re,n))})}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield Yc(l.call(W)))}finally{if(h)throw h.error}}})}getAll(t){return dM(this,arguments,function*(){var i,u,h,l;const f=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var k,X=!0,W=cM(f);!(i=(k=yield Yc(W.next())).done);X=!0){l=k.value,X=!1;const[re,Oe]=l;yield yield Yc({cid:pf.TO.decode(re),block:Oe})}}catch(re){u={error:re}}finally{try{!X&&!i&&(h=W.return)&&(yield Yc(h.call(W)))}finally{if(u)throw u.error}}})}deleteMany(t,n){return dM(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=cM(t);!(u=(k=yield Yc(W.next())).done);X=!0){X=!1;const re=k.value;yield Yc(this.delete(re,n)),yield yield Yc(re)}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield Yc(l.call(W)))}finally{if(h)throw h.error}}})}clear(){return jf(this,void 0,void 0,function*(){return this.db.clear()})}}var za=_(42853);const GI=function WI(r){if(function FP(r){return null!=r[Symbol.asyncIterator]}(r))return(0,Xe.A)(function*(){let n;var h,i=!1,u=!1;try{for(var f,l=Vo(r);i=!(f=yield l.next()).done;i=!1)n=f.value}catch(X){u=!0,h=X}finally{try{i&&null!=l.return&&(yield l.return())}finally{if(u)throw h}}return n})();let t;for(const n of r)t=n;return t};var uM=_(56580);const h1=function(){var r=(0,Xe.A)(function*(t,n,i,u,h,l,f,X){const W=yield f.get(t,X),k=Pk(W);let re=k,Oe=i;for(;u.length>0;){const je=u[0];if(!(je in re))throw za(new Error(`No property named ${je} found in cbor node ${t}`),"ERR_NO_PROP");{u.shift(),Oe=`${Oe}/${je}`;const Ke=ol.TO.asCID(re[je]);if(null!=Ke)return{entry:{type:"object",name:n,path:i,cid:t,node:W,depth:l,size:BigInt(W.length),content:function(){var nt=Qo(function*(){yield k});return function(){return nt.apply(this,arguments)}}()},next:{cid:Ke,name:je,path:Oe,toResolve:u}};re=re[je]}}return{entry:{type:"object",name:n,path:i,cid:t,node:W,depth:l,size:BigInt(W.length),content:(je=Qo(function*(){yield k}),function(){return je.apply(this,arguments)})}};var je});return function(n,i,u,h,l,f,X,W){return r.apply(this,arguments)}}(),zm=function Qv(r,t,n,i){const u=BigInt(r.length),h=BigInt(t+u);return n>=h||i<t?new Uint8Array(0):(i>=t&&i<h&&(r=r.subarray(0,Number(i-t))),n>=t&&n<h&&(r=r.subarray(Number(n-t))),r)},p1=(r,t=0,n=r)=>{const i=BigInt(r),u=BigInt(t??0);let h=BigInt(n);if(h!==i&&(h=u+h),h>i&&(h=i),u<0n)throw za(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(u>i)throw za(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(h<0n)throw za(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(h>i)throw za(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:u,end:h}},BR=r=>{function n(){return(n=Qo(function*(i={}){const{start:u,end:h}=p1(r.length,i.offset,i.length),l=zm(r,0n,u,h);i.onProgress?.(new ru("unixfs:exporter:progress:identity",{bytesRead:BigInt(l.byteLength),totalBytes:h-u,fileSize:BigInt(r.byteLength)})),yield l})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},NR=function(){var r=(0,Xe.A)(function*(t,n,i,u,h,l,f,X){if(u.length>0)throw za(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const W=uM.D4(t.multihash.bytes);return{entry:{type:"identity",name:n,path:i,cid:t,content:BR(W.digest),depth:l,size:BigInt(W.digest.length),node:W.digest}}});return function(n,i,u,h,l,f,X,W){return r.apply(this,arguments)}}(),WP=r=>{function n(){return(n=Qo(function*(i={}){const{start:u,end:h}=p1(r.length,i.offset,i.length),l=zm(r,0n,u,h);i.onProgress?.(new ru("unixfs:exporter:progress:raw",{bytesRead:BigInt(l.byteLength),totalBytes:h-u,fileSize:BigInt(r.byteLength)})),yield l})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},LR=function(){var r=(0,Xe.A)(function*(t,n,i,u,h,l,f,X){if(u.length>0)throw za(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const W=yield f.get(t,X);return{entry:{type:"raw",name:n,path:i,cid:t,content:WP(W),depth:l,size:BigInt(W.length),node:W}}});return function(n,i,u,h,l,f,X,W){return r.apply(this,arguments)}}(),XI=function(){var r=(0,Xe.A)(function*(t){return(yield dA.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),YI=function(){var r=(0,Xe.A)(function*(t,n,i){yield Promise.all(t.map(function(){var u=(0,Xe.A)(function*(h){if(null==h.Name)throw new Error("Unexpected Link without a Name");if(2!==h.Name.length)yield i.put(h.Name.substring(2),!0);else{const l=parseInt(h.Name,16);n._putObjectAt(l,new wl({hash:i._options.hash,bits:i._options.bits},n,l))}});return function(h){return u.apply(this,arguments)}}()))});return function(n,i,u){return r.apply(this,arguments)}}(),GP=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),JP=function(){var r=(0,Xe.A)(function*(t,n,i,u,h){if(null==u){const re=hd({hashFn:XI});u={rootBucket:re,hamtDepth:1,lastBucket:re}}yield YI(t.Links,u.lastBucket,u.rootBucket);const l=yield u.rootBucket._findNewBucketAndPos(n);let f=GP(l.pos);const X=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(l);X.length>u.hamtDepth&&(u.lastBucket=X[u.hamtDepth],f=GP(u.lastBucket._posAtParent));const W=t.Links.find(re=>{if(null==re.Name)return!1;const Oe=re.Name.substring(0,2),je=re.Name.substring(2);return!(Oe!==f||""!==je&&je!==n)});if(null!=W)return null!=W.Name&&W.Name.substring(2)===n?W.Hash:(u.hamtDepth++,t=yy(yield i.get(W.Hash,h)),JP(t,n,i,u,h))});return function(n,i,u,h,l){return r.apply(this,arguments)}}(),KR=JP,ZI=function FR(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>t.next(),push:u=>{i.push(u)},next:()=>i.length>0?{done:!1,value:i.shift()}:t.next(),[n](){return this}}},y1=function VR(r,t){let n=0;if(function YP(r){return null!=r[Symbol.asyncIterator]}(r))return Qo(function*(){var k,X=!1,W=!1;try{for(var Oe,re=Vo(r);X=!(Oe=yield yi(re.next())).done;X=!1){const je=Oe.value;yield t(je,n++)}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield yi(re.return()))}finally{if(W)throw k}}})();const i=ZI(r),{value:u,done:h}=i.next();if(!0===h)return function*(){}();const l=t(u,n++);if("function"==typeof l.then)return Qo(function*(){yield yield yi(l);var k,X=!1,W=!1;try{for(var Oe,re=Vo(i);X=!(Oe=yield yi(re.next())).done;X=!1){const je=Oe.value;yield t(je,n++)}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield yi(re.return()))}finally{if(W)throw k}}})();const f=t;return function*(){yield l;for(const X of i)yield f(X,n++)}()};function L0(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const hM=globalThis.CustomEvent??Event;function pM(r){return g1.apply(this,arguments)}function g1(){return(g1=Qo(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,u=new EventTarget,h=[];let W,l=L0(),f=L0(),X=!1,k=!1;function re(){return i?h[0]?.done:!!h.find(Ke=>Ke.done)}function*Oe(){for(;h.length>0&&h[0].done;){const Ke=h[0];if(h.shift(),!Ke.ok)throw k=!0,l.resolve(),Ke.err;yield Ke.value,l.resolve()}}function*je(){for(;re();)for(let Ke=0;Ke<h.length;Ke++)if(h[Ke].done){const nt=h[Ke];if(h.splice(Ke,1),Ke--,!nt.ok)throw k=!0,l.resolve(),nt.err;yield nt.value,l.resolve()}}for(u.addEventListener("task-complete",()=>{f.resolve()}),Promise.resolve().then((0,Xe.A)(function*(){try{var wt,Ke=!1,nt=!1;try{for(var Et,Ot=Vo(r);Ke=!(Et=yield Ot.next()).done;Ke=!1){const St=Et.value;{if(h.length===n&&(l=L0(),yield l.promise),k)break;const Nt={done:!1};h.push(Nt),St().then(Yt=>{Nt.done=!0,Nt.ok=!0,Nt.value=Yt,u.dispatchEvent(new hM("task-complete"))},Yt=>{Nt.done=!0,Nt.err=Yt,u.dispatchEvent(new hM("task-complete"))})}}}catch(St){nt=!0,wt=St}finally{try{Ke&&null!=Ot.return&&(yield Ot.return())}finally{if(nt)throw wt}}X=!0,u.dispatchEvent(new hM("task-complete"))}catch(St){W=St,u.dispatchEvent(new hM("task-complete"))}}));;){if(re()||(f=L0(),yield yi(f.promise)),null!=W)throw W;if(i?yield*Nu(Vo(Oe())):yield*Nu(Vo(je())),X&&0===h.length)break}})).apply(this,arguments)}class ZP{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class mM{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new ZP(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new ZP(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class qP extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function yM(r={}){return function gM(r,t){let u,h,l,n=(t=t??{}).onEnd,i=new mM,f=L0();const X=function(){var wt=(0,Xe.A)(function*(){try{return i.isEmpty()?l?{done:!0}:yield new Promise((Ot,Et)=>{h=St=>{h=null,i.push(St);try{Ot(r(i))}catch(Nt){Et(Nt)}return u}}):r(i)}finally{i.isEmpty()&&queueMicrotask(()=>{f.resolve(),f=L0()})}});return function(){return wt.apply(this,arguments)}}(),W=wt=>null!=h?h(wt):(i.push(wt),u),re=wt=>{if(l)return u;if(!0!==t?.objectMode&&null==wt?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return W({done:!1,value:wt})},Oe=wt=>l?u:(l=!0,null!=wt?(wt=>(i=new mM,null!=h?h({error:wt}):(i.push({error:wt}),u)))(wt):W({done:!0}));if(u={[Symbol.asyncIterator](){return this},next:X,return:()=>(i=new mM,Oe(),{done:!0}),throw:wt=>(Oe(wt),{done:!0}),push:re,end:Oe,get readableLength(){return i.size},onEmpty:(wt=(0,Xe.A)(function*(Ot){const Et=Ot?.signal;if(Et?.throwIfAborted(),i.isEmpty())return;let St,Nt;null!=Et&&(St=new Promise((Yt,Qt)=>{Nt=()=>{Qt(new qP)},Et.addEventListener("abort",Nt)}));try{yield Promise.race([f.promise,St])}finally{null!=Nt&&null!=Et&&Et?.removeEventListener("abort",Nt)}}),function(Et){return wt.apply(this,arguments)})},null==n)return u;var wt;const nt=u;return u={[Symbol.asyncIterator](){return this},next:()=>nt.next(),throw:wt=>(nt.throw(wt),null!=n&&(n(wt),n=void 0),{done:!0}),return:()=>(nt.return(),null!=n&&(n(),n=void 0),{done:!0}),push:re,end:wt=>(nt.end(wt),null!=n&&(n(wt),n=void 0),u),get readableLength(){return nt.readableLength},onEmpty:wt=>nt.onEmpty(wt)},u}(n=>{const i=n.shift();if(null==i)return{done:!0};if(null!=i.error)throw i.error;return{done:!0===i.done,value:i.value}},r)}function eO(r){return null!=r[Symbol.asyncIterator]}function eb(r,...t){if(null==r)throw new Error("Empty pipeline");if(v1(r)){const i=r;r=()=>i.source}else if(tC(r)||eC(r)){const i=r;r=()=>i}const n=[r,...t];if(n.length>1&&v1(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let i=1;i<n.length-1;i++)v1(n[i])&&(n[i]=nC(n[i]));return QI(...n)}const QI=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},eC=r=>null!=r?.[Symbol.asyncIterator],tC=r=>null!=r?.[Symbol.iterator],v1=r=>null!=r&&null!=r.sink&&null!=r.source,nC=r=>t=>{const n=r.sink(t);if(null!=n?.then){const i=yM({objectMode:!0});let u;n.then(()=>{i.end()},l=>{i.end(l)});const h=r.source;if(eC(h))u=function(){var l=Qo(function*(){yield*Nu(Vo(h)),i.end()});return function(){return l.apply(this,arguments)}}();else{if(!tC(h))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");u=function*(){yield*h,i.end()}}return function qI(...r){const t=[];for(const n of r)eO(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():Qo(function*(){const n=yM({objectMode:!0});Promise.resolve().then((0,Xe.A)(function*(){try{yield Promise.all(r.map(function(){var i=(0,Xe.A)(function*(u){var f,h=!1,l=!1;try{for(var W,X=Vo(u);h=!(W=yield X.next()).done;h=!1)n.push(W.value)}catch(k){l=!0,f=k}finally{try{h&&null!=X.return&&(yield X.return())}finally{if(l)throw f}}});return function(u){return i.apply(this,arguments)}}())),n.end()}catch(i){n.end(i)}})),yield*Nu(Vo(n))})()}(i,u())}return r.source};var HR=_(50233);class iC extends Error{constructor(t){super(t),this.name="TimeoutError"}}class nO extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const oC=r=>void 0===globalThis.DOMException?new nO(r):new DOMException(r),sC=r=>{const t=void 0===r.reason?oC("This operation was aborted."):r.reason;return t instanceof Error?t:oC(t)};var $f,Hm=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};$f=new WeakMap;const GR=class dC{constructor(){$f.set(this,[])}enqueue(t,n){const i={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&Hm(this,$f,"f")[this.size-1].priority>=n.priority)return void Hm(this,$f,"f").push(i);const u=function cC(r,t,n){let i=0,u=r.length;for(;u>0;){const h=Math.trunc(u/2);let l=i+h;n(r[l],t)<=0?(i=++l,u-=h+1):u=h}return i}(Hm(this,$f,"f"),i,(h,l)=>l.priority-h.priority);Hm(this,$f,"f").splice(u,0,i)}dequeue(){const t=Hm(this,$f,"f").shift();return t?.run}filter(t){return Hm(this,$f,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return Hm(this,$f,"f").length}};var Wa,K0,tb,Dp,Wm,nb,b1,vu,F0,bu,w1,Wl,_1,Ip,vM,rO,iO,lC,oO,uC,E1,bM,fC,wM,sO,_M,Ha=function(r,t,n,i,u){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!u)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?u.call(r,n):u?u.value=n:t.set(r,n),n},gi=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};class aO extends Error{}K0=new WeakMap,tb=new WeakMap,Dp=new WeakMap,Wm=new WeakMap,nb=new WeakMap,b1=new WeakMap,vu=new WeakMap,F0=new WeakMap,bu=new WeakMap,w1=new WeakMap,Wl=new WeakMap,_1=new WeakMap,Ip=new WeakMap,vM=new WeakMap,Wa=new WeakSet,rO=function(){return gi(this,tb,"f")||gi(this,Dp,"f")<gi(this,Wm,"f")},iO=function(){return gi(this,Wl,"f")<gi(this,_1,"f")},lC=function(){var t;Ha(this,Wl,(t=gi(this,Wl,"f"),--t),"f"),gi(this,Wa,"m",E1).call(this),this.emit("next")},oO=function(){gi(this,Wa,"m",fC).call(this),gi(this,Wa,"m",bM).call(this),Ha(this,F0,void 0,"f")},uC=function(){const t=Date.now();if(void 0===gi(this,vu,"f")){const n=gi(this,b1,"f")-t;if(!(n<0))return void 0===gi(this,F0,"f")&&Ha(this,F0,setTimeout(()=>{gi(this,Wa,"m",oO).call(this)},n),"f"),!0;Ha(this,Dp,gi(this,K0,"f")?gi(this,Wl,"f"):0,"f")}return!1},E1=function(){if(0===gi(this,bu,"f").size)return gi(this,vu,"f")&&clearInterval(gi(this,vu,"f")),Ha(this,vu,void 0,"f"),this.emit("empty"),0===gi(this,Wl,"f")&&this.emit("idle"),!1;if(!gi(this,Ip,"f")){const t=!gi(this,Wa,"a",uC);if(gi(this,Wa,"a",rO)&&gi(this,Wa,"a",iO)){const n=gi(this,bu,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&gi(this,Wa,"m",bM).call(this),!0)}}return!1},bM=function(){gi(this,tb,"f")||void 0!==gi(this,vu,"f")||(Ha(this,vu,setInterval(()=>{gi(this,Wa,"m",fC).call(this)},gi(this,nb,"f")),"f"),Ha(this,b1,Date.now()+gi(this,nb,"f"),"f"))},fC=function(){0===gi(this,Dp,"f")&&0===gi(this,Wl,"f")&&gi(this,vu,"f")&&(clearInterval(gi(this,vu,"f")),Ha(this,vu,void 0,"f")),Ha(this,Dp,gi(this,K0,"f")?gi(this,Wl,"f"):0,"f"),gi(this,Wa,"m",wM).call(this)},wM=function(){for(;gi(this,Wa,"m",E1).call(this););},sO=function(){var r=(0,Xe.A)(function*(n){return new Promise((i,u)=>{n.addEventListener("abort",()=>{u(new aO("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),_M=function(){var r=(0,Xe.A)(function*(n,i){return new Promise(u=>{const h=()=>{i&&!i()||(this.off(n,h),u())};this.on(n,h)})});return function t(n,i){return r.apply(this,arguments)}}();const JR=class cO extends HR{constructor(t){var n,i,u,h;if(super(),Wa.add(this),K0.set(this,void 0),tb.set(this,void 0),Dp.set(this,0),Wm.set(this,void 0),nb.set(this,void 0),b1.set(this,0),vu.set(this,void 0),F0.set(this,void 0),bu.set(this,void 0),w1.set(this,void 0),Wl.set(this,0),_1.set(this,void 0),Ip.set(this,void 0),vM.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:GR,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(h=null===(u=t.interval)||void 0===u?void 0:u.toString())&&void 0!==h?h:""}\` (${typeof t.interval})`);Ha(this,K0,t.carryoverConcurrencyCount,"f"),Ha(this,tb,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),Ha(this,Wm,t.intervalCap,"f"),Ha(this,nb,t.interval,"f"),Ha(this,bu,new t.queueClass,"f"),Ha(this,w1,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,Ha(this,vM,!0===t.throwOnTimeout,"f"),Ha(this,Ip,!1===t.autoStart,"f")}get concurrency(){return gi(this,_1,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);Ha(this,_1,t,"f"),gi(this,Wa,"m",wM).call(this)}add(t,n={}){var i=this;return(0,Xe.A)(function*(){return n={timeout:i.timeout,throwOnTimeout:gi(i,vM,"f"),...n},new Promise((u,h)=>{gi(i,bu,"f").enqueue((0,Xe.A)(function*(){var l,f,X;Ha(i,Wl,(f=gi(i,Wl,"f"),++f),"f"),Ha(i,Dp,(X=gi(i,Dp,"f"),++X),"f");try{if(null!==(l=n.signal)&&void 0!==l&&l.aborted)throw new aO("The task was aborted.");let W=t({signal:n.signal});n.timeout&&(W=function aC(r,t,n,i){let u;const h=new Promise((l,f)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:X}=i;X.aborted&&f(sC(X)),X.addEventListener("abort",()=>{f(sC(X))})}u=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{l(n())}catch(k){f(k)}return}const W=n instanceof Error?n:new iC("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),f(W)},t),(0,Xe.A)(function*(){try{l(yield r)}catch(X){f(X)}finally{i.customTimers.clearTimeout.call(void 0,u)}})()}else l(r)});return h.clear=()=>{clearTimeout(u),u=void 0},h}(Promise.resolve(W),n.timeout)),n.signal&&(W=Promise.race([W,gi(i,Wa,"m",sO).call(i,n.signal)]));const k=yield W;u(k),i.emit("completed",k)}catch(W){if(W instanceof iC&&!n.throwOnTimeout)return void u();h(W),i.emit("error",W)}finally{gi(i,Wa,"m",lC).call(i)}}),n),i.emit("add"),gi(i,Wa,"m",E1).call(i)})})()}addAll(t,n){var i=this;return(0,Xe.A)(function*(){return Promise.all(t.map(function(){var u=(0,Xe.A)(function*(h){return i.add(h,n)});return function(h){return u.apply(this,arguments)}}()))})()}start(){return gi(this,Ip,"f")?(Ha(this,Ip,!1,"f"),gi(this,Wa,"m",wM).call(this),this):this}pause(){Ha(this,Ip,!0,"f")}clear(){Ha(this,bu,new(gi(this,w1,"f")),"f")}onEmpty(){var t=this;return(0,Xe.A)(function*(){0!==gi(t,bu,"f").size&&(yield gi(t,Wa,"m",_M).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,Xe.A)(function*(){gi(n,bu,"f").size<t||(yield gi(n,Wa,"m",_M).call(n,"next",()=>gi(n,bu,"f").size<t))})()}onIdle(){var t=this;return(0,Xe.A)(function*(){0===gi(t,Wl,"f")&&0===gi(t,bu,"f").size||(yield gi(t,Wa,"m",_M).call(t,"idle"))})()}get size(){return gi(this,bu,"f").size}sizeBy(t){return gi(this,bu,"f").filter(t).length}get pending(){return gi(this,Wl,"f")}get isPaused(){return gi(this,Ip,"f")}};function dO(r,t,n,i,u,h,l){return hC.apply(this,arguments)}function hC(){return hC=(0,Xe.A)(function*(r,t,n,i,u,h,l){if(t instanceof Uint8Array){const W=zm(t,i,u,h);return void n.push(W)}if(null==t.Data)throw za(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let f;try{f=ud.unmarshal(t.Data)}catch(W){throw za(W,"ERR_NOT_UNIXFS")}if(null!=f.data){const k=zm(f.data,i,u,h);n.push(k),i+=BigInt(k.byteLength)}const X=[];if(t.Links.length!==f.blockSizes.length)throw za(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let W=0;W<t.Links.length;W++){const Oe=i+f.blockSizes[W];if((u>=i&&u<Oe||h>=i&&h<=Oe||u<i&&h>Oe)&&X.push({link:t.Links[W],blockStart:i}),(i=Oe)>h)break}yield eb(X,W=>y1(W,k=>(0,Xe.A)(function*(){const re=yield r.get(k.link.Hash,l);return{...k,block:re}})),W=>pM(W,{ordered:!0}),function(){var W=(0,Xe.A)(function*(k){var je,re=!1,Oe=!1;try{for(var nt,Ke=Vo(k);re=!(nt=yield Ke.next()).done;re=!1){const{link:wt,block:Ot,blockStart:Et}=nt.value;{let St;switch(wt.Hash.code){case YS:St=yy(Ot);break;case Bg:St=Ot;break;default:return void n.end(za(new Error(`Unsupported codec: ${wt.Hash.code}`),"ERR_NOT_UNIXFS"))}const Nt=new JR({concurrency:1});Nt.on("error",Yt=>{n.end(Yt)}),Nt.add((0,Xe.A)(function*(){l.onProgress?.(new ru("unixfs:exporter:walk:file",{cid:wt.Hash})),yield dO(r,St,n,Et,u,h,l)})),yield Nt.onIdle()}}}catch(wt){Oe=!0,je=wt}finally{try{re&&null!=Ke.return&&(yield Ke.return())}finally{if(Oe)throw je}}});return function(k){return W.apply(this,arguments)}}()),i>=h&&n.end()}),hC.apply(this,arguments)}const pC=(r,t,n,i,u,h,l)=>{function X(){return(X=Qo(function*(W={}){const k=n.fileSize();if(void 0===k)throw new Error("File was a directory");const{start:re,end:Oe}=p1(k,W.offset,W.length);if(0n===Oe)return;let je=0n;const Ke=Oe-re,nt=yM();W.onProgress?.(new ru("unixfs:exporter:walk:file",{cid:r})),dO(l,t,nt,0n,re,Oe,W).catch(Yt=>{nt.end(Yt)});var Et,wt=!1,Ot=!1;try{for(var Nt,St=Vo(nt);wt=!(Nt=yield yi(St.next())).done;wt=!1){const Yt=Nt.value;if(null!=Yt){if(je+=BigInt(Yt.byteLength),je>Ke)throw nt.end(),za(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");je===Ke&&nt.end(),W.onProgress?.(new ru("unixfs:exporter:progress:unixfs:file",{bytesRead:je,totalBytes:Ke,fileSize:k})),yield Yt}}}catch(Yt){Ot=!0,Et=Yt}finally{try{wt&&null!=St.return&&(yield yi(St.return()))}finally{if(Ot)throw Et}}if(je<Ke)throw za(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function f(){return X.apply(this,arguments)}};function mC(r,t,n,i,u,h){return EM.apply(this,arguments)}function EM(){return(EM=Qo(function*(r,t,n,i,u,h){const f=eb(r.Links,je=>y1(je,Ke=>(0,Xe.A)(function*(){const nt=null!=Ke.Name?Ke.Name.substring(2):null;if(null!=nt&&""!==nt){const wt=yield n(Ke.Hash,nt,`${t}/${nt}`,[],i+1,u,h);return{entries:null==wt.entry?[]:[wt.entry]}}{const wt=yield u.get(Ke.Hash,h);return r=yy(wt),h.onProgress?.(new ru("unixfs:exporter:walk:hamt-sharded-directory",{cid:Ke.Hash})),{entries:mC(r,t,n,i,u,h)}}})),je=>pM(je,{ordered:!0}));var k,X=!1,W=!1;try{for(var Oe,re=Vo(f);X=!(Oe=yield yi(re.next())).done;X=!1){const{entries:je}=Oe.value;yield*Nu(Vo(je))}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield yi(re.return()))}finally{if(W)throw k}}})).apply(this,arguments)}const yC={raw:pC,file:pC,directory:(r,t,n,i,u,h,l)=>{function X(){return(X=Qo(function*(W={}){const Oe=t.Links.slice(W.offset??0,W.length??t.Links.length);W.onProgress?.(new ru("unixfs:exporter:walk:directory",{cid:r})),yield*Nu(Vo(eb(Oe,je=>y1(je,Ke=>(0,Xe.A)(function*(){const nt=Ke.Name??"",wt=`${i}/${nt}`;return(yield u(Ke.Hash,nt,wt,[],h+1,l,W)).entry})),je=>pM(je,{ordered:!0}),je=>function $R(r,t){let n=0;if(function jR(r){return null!=r[Symbol.asyncIterator]}(r))return Qo(function*(){var k,X=!1,W=!1;try{for(var Oe,re=Vo(r);X=!(Oe=yield yi(re.next())).done;X=!1){const je=Oe.value;(yield yi(t(je,n++)))&&(yield je)}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield yi(re.return()))}finally{if(W)throw k}}})();const i=ZI(r),{value:u,done:h}=i.next();if(!0===h)return function*(){}();const l=t(u,n++);if("function"==typeof l.then)return Qo(function*(){(yield yi(l))&&(yield u);var k,X=!1,W=!1;try{for(var Oe,re=Vo(i);X=!(Oe=yield yi(re.next())).done;X=!1){const je=Oe.value;(yield yi(t(je,n++)))&&(yield je)}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield yi(re.return()))}finally{if(W)throw k}}})();const f=t;return function*(){!0===l&&(yield u);for(const X of i)f(X,n++)&&(yield X)}()}(je,Ke=>null!=Ke))))})).apply(this,arguments)}return function f(){return X.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,i,u,h,l)=>function f(X={}){return X.onProgress?.(new ru("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),mC(t,i,u,h,l,X)},metadata:(r,t,n,i,u,h,l)=>()=>[],symlink:(r,t,n,i,u,h,l)=>()=>[]},YR={[YS]:function(){var r=(0,Xe.A)(function*(t,n,i,u,h,l,f,X){const k=yy(yield f.get(t,X));let re,Oe;if(null==n&&(n=t.toString()),null==k.Data)throw za(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{re=ud.unmarshal(k.Data)}catch(Ke){throw za(Ke,"ERR_NOT_UNIXFS")}if(null==i&&(i=n),u.length>0){let Ke;if(Ke="hamt-sharded-directory"===re?.type?yield KR(k,u[0],f):((r,t)=>r.Links.find(i=>i.Name===t)?.Hash)(k,u[0]),null==Ke)throw za(new Error("file does not exist"),"ERR_NOT_FOUND");const nt=u.shift();Oe={cid:Ke,toResolve:u,name:nt??"",path:`${i}/${nt}`}}const je=yC[re.type](t,k,re,i,h,l,f);if(null==je)throw za(new Error("could not find content exporter"),"ERR_NOT_FOUND");return re.isDirectory()?{entry:{type:"directory",name:n,path:i,cid:t,content:je,unixfs:re,depth:l,node:k,size:re.fileSize()},next:Oe}:{entry:{type:"file",name:n,path:i,cid:t,content:je,unixfs:re,depth:l,node:k,size:re.fileSize()},next:Oe}});return function(n,i,u,h,l,f,X,W){return r.apply(this,arguments)}}(),[Bg]:LR,[kb]:h1,0:NR},o=function(){var r=(0,Xe.A)(function*(t,n,i,u,h,l,f){const X=YR[t.code];if(null==X)throw za(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return X(t,n,i,u,o,h,l,f)});return function(n,i,u,h,l,f,X){return r.apply(this,arguments)}}(),c=o,I=r=>{if(r instanceof Uint8Array)return{cid:ol.TO.decode(r),toResolve:[]};const t=ol.TO.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:ol.TO.parse(n[0]),toResolve:n.slice(1)}}throw za(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function le(){return(le=Qo(function*(r,t,n={}){let{cid:i,toResolve:u}=I(r),h=i.toString(),l=h;const f=u.length;for(;;){const X=yield yi(c(i,h,l,u,f,t,n));if(null==X.entry&&null==X.next)throw za(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=X.entry&&(yield X.entry),null==X.next)return;u=X.next.toResolve,i=X.next.cid,h=X.next.name,l=X.next.path}})).apply(this,arguments)}function Le(){return Le=(0,Xe.A)(function*(r,t,n={}){const i=yield GI(function V(r,t){return le.apply(this,arguments)}(r,t,n));if(null==i)throw za(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return i}),Le.apply(this,arguments)}var jt=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class On{constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:Bh},t),this.blockstore=new lM({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return jt(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return jt(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,i,u){var h,l,f,W,k;return jt(this,void 0,void 0,function*(){const re=yield this.getBlockstoreForStoringData(t,n,i),Oe=lh([{content:u}],re,{cidVersion:1});let je;try{for(var wt,Ke=!0,nt=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}}(Oe);wt=yield nt.next(),!(h=wt.done);Ke=!0)Ke=!1,je=wt.value}catch(Ot){l={error:Ot}}finally{try{!Ke&&!h&&(f=nt.return)&&(yield f.call(nt))}finally{if(l)throw l.error}}return{dataSize:Number(null!==(k=null===(W=je.unixfs)||void 0===W?void 0:W.fileSize())&&void 0!==k?k:je.size)}})}get(t,n,i){return jt(this,void 0,void 0,function*(){const u=yield this.getBlockstoreForStoringData(t,n,i);if(!(yield u.has(i)))return;const l=yield function Se(r,t){return Le.apply(this,arguments)}(i,u),f=l.content(),X=new Qg.Readable({read(){return jt(this,void 0,void 0,function*(){const k=yield f.next();this.push(k.done?null:k.value)})}});let W=l.size;return("file"===l.type||"directory"===l.type)&&(W=l.unixfs.fileSize()),{dataSize:Number(W),dataStream:X}})}delete(t,n,i){return jt(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,i)).clear()})}clear(){return jt(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,i){return jt(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(i)})}}var kn=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Zn=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}},pr=function(r){return this instanceof pr?(this.v=r,this):new pr(r)};let _r=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:Bh},n),this.db=new Ap({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return kn(this,void 0,void 0,function*(){yield this.db.open()})}close(){return kn(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return kn(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,i,u,h){return kn(this,void 0,void 0,function*(){if(Ry(u))throw new ne(ue.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const l={messageCid:i,indexes:u},f=[];for(const re in u){const Oe=u[re];if(Array.isArray(Oe))for(const je of Oe){const Ke=this.createPutIndexedItemOperation(n,l,re,je);f.push(Ke)}else{const je=this.createPutIndexedItemOperation(n,l,re,Oe);f.push(je)}}const X=this.createOperationForIndexesLookupPartition(n,{type:"put",key:i,value:JSON.stringify(u)});f.push(X);const W=yield Promise.all(f);yield(yield this.db.partition(n)).batch(W,h)})}delete(n,i,u){return kn(this,void 0,void 0,function*(){const h=[],l=yield this.getIndexes(n,i);if(void 0===l)return;const f=this.createOperationForIndexesLookupPartition(n,{type:"del",key:i});h.push(f);for(const k in l){const re=l[k];if(Array.isArray(re))for(const Oe of re){const je=this.createDeleteIndexedItemOperation(n,i,k,Oe);h.push(je)}else{const Oe=this.createDeleteIndexedItemOperation(n,i,k,re);h.push(Oe)}}const X=yield Promise.all(h);yield(yield this.db.partition(n)).batch(X,u)})}createPutIndexedItemOperation(n,i,u,h){return kn(this,void 0,void 0,function*(){const{messageCid:l}=i,f=r.keySegmentJoin(r.encodeValue(h),l);return this.createOperationForIndexPartition(n,u,{type:"put",key:f,value:JSON.stringify(i)})})}createDeleteIndexedItemOperation(n,i,u,h){return kn(this,void 0,void 0,function*(){const l=r.keySegmentJoin(r.encodeValue(h),i);return this.createOperationForIndexPartition(n,u,{type:"del",key:l})})}createOperationForIndexPartition(n,i,u){return kn(this,void 0,void 0,function*(){const h=yield this.db.partition(n),l=r.getIndexPartitionName(i);return h.createPartitionOperation(l,u)})}createOperationForIndexesLookupPartition(n,i){return kn(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",i)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,i){return kn(this,void 0,void 0,function*(){const u=r.getIndexPartitionName(i);return(yield this.db.partition(n)).partition(u)})}getIndexesLookupPartition(n){return kn(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,i,u,h){return kn(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(i,u)?this.queryWithInMemoryPaging(n,i,u,h):this.queryWithIteratorPaging(n,i,u,h)})}queryWithIteratorPaging(n,i,u,h){var l,f,X;return kn(this,void 0,void 0,function*(){const{cursor:k,limit:re}=u,Oe=k?this.createStartingKeyFromCursor(k):"",je=[];try{for(var wt,Ke=!0,nt=Zn(this.getIndexIterator(n,Oe,u,h));wt=yield nt.next(),!(l=wt.done);Ke=!0){Ke=!1;const Ot=wt.value;if(void 0!==re&&re===je.length)break;const{indexes:Et}=Ot;Vd.matchAnyFilter(Et,i)&&je.push(Ot)}}catch(Ot){f={error:Ot}}finally{try{!Ke&&!l&&(X=nt.return)&&(yield X.call(nt))}finally{if(f)throw f.error}}return je})}getIndexIterator(n,i,u,h){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),h=[];return u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u;function l(Oe){i[Oe]&&(u[Oe]=function(je){return new Promise(function(Ke,nt){h.push([Oe,je,Ke,nt])>1||f(Oe,je)})})}function f(Oe,je){try{!function X(Oe){Oe.value instanceof pr?Promise.resolve(Oe.value.v).then(W,k):re(h[0][2],Oe)}(i[Oe](je))}catch(Ke){re(h[0][3],Ke)}}function W(Oe){f("next",Oe)}function k(Oe){f("throw",Oe)}function re(Oe,je){Oe(je),h.shift(),h.length&&f(h[0][0],h[0][1])}}(this,arguments,function*(){var f,X,W,k;const{sortProperty:re,sortDirection:Oe=mu.Ascending,cursor:je}=u,Ke={gt:i};Oe===mu.Descending&&(Ke.reverse=!0,void 0!==je&&(Ke.lt=i,delete Ke.gt));const nt=yield pr(this.getIndexPartition(n,re));try{for(var Et,wt=!0,Ot=Zn(nt.iterator(Ke,h));!(f=(Et=yield pr(Ot.next())).done);wt=!0){k=Et.value,wt=!1;const[St,Nt]=k,{indexes:Yt,messageCid:Qt}=JSON.parse(Nt);yield yield pr({indexes:Yt,messageCid:Qt})}}catch(St){X={error:St}}finally{try{!wt&&!f&&(W=Ot.return)&&(yield pr(W.call(Ot)))}finally{if(X)throw X.error}}})}createStartingKeyFromCursor(n){const{messageCid:i,value:u}=n;return r.keySegmentJoin(r.encodeValue(u),i)}static createCursorFromLastArrayItem(n,i){if(n.length>0)return this.createCursorFromItem(n.at(-1),i)}static createCursorFromItem(n,i){const{messageCid:u,indexes:h}=n,l=h[i];if(void 0===l)throw new ne(ue.IndexInvalidCursorSortProperty,`the sort property '${i}' is not defined within the given item.`);if("boolean"==typeof l||Array.isArray(l))throw new ne(ue.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof l} was given.`);return{messageCid:u,value:l}}queryWithInMemoryPaging(n,i,u,h){return kn(this,void 0,void 0,function*(){const{sortProperty:l,sortDirection:f=mu.Ascending,cursor:X,limit:W}=u,k=X?this.createStartingKeyFromCursor(X):void 0,re=new Map;0===i.length&&(i=[{}]);try{yield Promise.all(i.map(nt=>this.executeSingleFilterQuery(n,nt,l,re,h)))}catch(nt){if(nt.code===ue.IndexInvalidSortPropertyInMemory)return[]}const Oe=[...re.values()].sort((nt,wt)=>this.sortItems(nt,wt,l,f)),je=void 0!==k?this.findCursorStartingIndex(Oe,f,l,k):0;return je<0?[]:Oe.slice(je,void 0!==W?je+W:void 0)})}executeSingleFilterQuery(n,i,u,h,l){return kn(this,void 0,void 0,function*(){const f=[];if(Ry(i)){const W=this.getAllItems(n,u);f.push(W)}const X=P2.reduceFilter(i);for(const W in X){const k=X[W];if(Vd.isEqualFilter(k)){const re=this.filterExactMatches(n,W,k,l);f.push(re)}else if(Vd.isOneOfFilter(k))for(const re of new Set(k)){const Oe=this.filterExactMatches(n,W,re,l);f.push(Oe)}else if(Vd.isRangeFilter(k)){const re=this.filterRangeMatches(n,W,k,l);f.push(re)}}for(const W of f){const k=yield W;for(const re of k)if(!h.has(re.messageCid)&&Vd.matchFilter(re.indexes,i)){if(void 0===re.indexes[u])throw new ne(ue.IndexInvalidSortPropertyInMemory,`invalid sort property ${u}`);h.set(re.messageCid,re)}}})}getAllItems(n,i){var u,h,l,f;return kn(this,void 0,void 0,function*(){const X=yield this.getIndexPartition(n,i),W=[];try{for(var Oe,k=!0,re=Zn(X.iterator());Oe=yield re.next(),!(u=Oe.done);k=!0){f=Oe.value,k=!1;const[je,Ke]=f;W.push(JSON.parse(Ke))}}catch(je){h={error:je}}finally{try{!k&&!u&&(l=re.return)&&(yield l.call(re))}finally{if(h)throw h.error}}return W})}filterExactMatches(n,i,u,h){var l,f,X,W;return kn(this,void 0,void 0,function*(){const k=r.keySegmentJoin(r.encodeValue(u)),re={gt:k},Oe=yield this.getIndexPartition(n,i),je=[];try{for(var wt,Ke=!0,nt=Zn(Oe.iterator(re,h));wt=yield nt.next(),!(l=wt.done);Ke=!0){W=wt.value,Ke=!1;const[Ot,Et]=W;if(!Ot.startsWith(k))break;je.push(JSON.parse(Et))}}catch(Ot){f={error:Ot}}finally{try{!Ke&&!l&&(X=nt.return)&&(yield X.call(nt))}finally{if(f)throw f.error}}return je})}filterRangeMatches(n,i,u,h){var l,f,X,W;return kn(this,void 0,void 0,function*(){const k={};for(const wt in u)k[wt]=r.encodeValue(u[wt]);void 0===k.gt&&void 0===k.gte&&(k.reverse=!0);const re=[],Oe=yield this.getIndexPartition(n,i);try{for(var nt,je=!0,Ke=Zn(Oe.iterator(k,h));nt=yield Ke.next(),!(l=nt.done);je=!0){W=nt.value,je=!1;const[wt,Ot]=W;"gt"in u&&this.extractIndexValueFromKey(wt)===r.encodeValue(u.gt)||re.push(JSON.parse(Ot))}}catch(wt){f={error:wt}}finally{try{!je&&!l&&(X=Ke.return)&&(yield X.call(Ke))}finally{if(f)throw f.error}}if("lte"in u)for(const wt of yield this.filterExactMatches(n,i,u.lte,h))re.push(wt);return re})}sortItems(n,i,u,h){const f=i.indexes[u],X=r.encodeValue(n.indexes[u])+n.messageCid,W=r.encodeValue(f)+i.messageCid;return h===mu.Ascending?C2(X,W):C2(W,X)}findCursorStartingIndex(n,i,u,h){return n.findIndex(f=>{const{messageCid:X,indexes:W}=f,re=r.keySegmentJoin(r.encodeValue(W[u]),X);return i===mu.Ascending?re>h:re<h})}getIndexes(n,i){return kn(this,void 0,void 0,function*(){const h=yield(yield this.getIndexesLookupPartition(n)).get(i);if(void 0!==h)return JSON.parse(h)})}extractIndexValueFromKey(n){const[i]=n.split(r.delimiter);return i}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const i=Number.MAX_SAFE_INTEGER,h=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?i:0)).padStart(h,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,i){for(const u of n)if(!r.isFilterConcise(u,i))return!1;return!0}static isFilterConcise(n,i){return void 0!==n.recordId||void 0===i.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function ji(r){if(!ts(r))throw new Error("Parameter was not an error")}function ts(r){return"[object Error]"===function Hs(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class ma extends Error{constructor(t,n){const i=[...arguments],{options:u,shortMessage:h}=function kc(r){let t,n="";if(0===r.length)t={};else if(ts(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(i);let l=h;u.cause&&(l=`${l}: ${u.cause.message}`),super(l),this.message=l,this.name=u.name&&"string"==typeof u.name?u.name:"Layerr",u.cause&&Object.defineProperty(this,"_cause",{value:u.cause}),Object.defineProperty(this,"_info",{value:{}}),u.info&&"object"==typeof u.info&&Object.assign(this._info,u.info),Error.captureStackTrace&&Error.captureStackTrace(this,u.constructorOpt||this.constructor)}static cause(t){return ji(t),t._cause&&ts(t._cause)?t._cause:null}static fullStack(t){ji(t);const n=ma.cause(t);return n?`${t.stack}\ncaused by: ${ma.fullStack(n)}`:t.stack}static info(t){ji(t);const n={},i=ma.cause(t);return i&&Object.assign(n,ma.info(i)),t._info&&Object.assign(n,t._info),n}cause(){return ma.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const wu="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Cp=32,xM=0xffffffffffff,kp=Object.freeze({source:"ulid"});function pO(r,t){if(isNaN(r))throw new ma({info:{code:"ENC_TIME_NAN",...kp}},`Time must be a number: ${r}`);if(r>xM)throw new ma({info:{code:"ENC_TIME_SIZE_EXCEED",...kp}},`Cannot encode a time larger than ${xM}: ${r}`);if(r<0)throw new ma({info:{code:"ENC_TIME_NEG",...kp}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new ma({info:{code:"ENC_TIME_TYPE",...kp}},`Time must be an integer: ${r}`);let n,i="";for(let u=t;u>0;u--)n=r%Cp,i=wu.charAt(n)+i,r=(r-n)/Cp;return i}function QR(r){const t=r||function ZR(r){const t=r||function fB(){return function pB(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new ma({info:{code:"PRNG_DETECT",...kp}},"Failed to find a reliable PRNG")}();let i,n=0;return function(h){const l=isNaN(h)?Date.now():h;if(l<=n){const X=i=function hB(r){let t,i,u,n=r.length,h=r;const l=Cp-1;for(;!t&&n-- >=0;){if(i=h[n],u=wu.indexOf(i),-1===u)throw new ma({info:{code:"B32_INC_ENC",...kp}},"Incorrectly encoded string");u!==l?t=e4(h,n,wu[u+1]):h=e4(h,n,wu[0])}if("string"==typeof t)return t;throw new ma({info:{code:"B32_INC_INVALID",...kp}},"Failed incrementing string")}(i);return pO(n,10)+X}n=l;const f=i=function qR(r,t){let n="";for(;r>0;r--)n=mB(t)+n;return n}(16,t);return pO(l,10)+f}}function mB(r){let t=Math.floor(r()*Cp);return t===Cp&&(t=Cp-1),wu.charAt(t)}function e4(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var rb=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class yB{constructor(t){this.index=new _r(Object.assign({location:"EVENTLOG",createLevelDatabase:Bh},t)),this.ulidFactory=QR()}open(){return rb(this,void 0,void 0,function*(){return this.index.open()})}close(){return rb(this,void 0,void 0,function*(){return this.index.close()})}clear(){return rb(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,i){return rb(this,void 0,void 0,function*(){const u=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},i),{watermark:u}))})}queryEvents(t,n,i){return rb(this,void 0,void 0,function*(){const u=yield this.index.query(t,n,{sortProperty:"watermark",cursor:i});return{events:u.map(({messageCid:h})=>h),cursor:_r.createCursorFromLastArrayItem(u,"watermark")}})}getEvents(t,n){return rb(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return rb(this,void 0,void 0,function*(){const i=[];for(const u of n)i.push(this.index.delete(t,u));yield Promise.all(i)})}}function vC({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*gB(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,i]of t.entries()){const u=[...r,n],h=pf.TO.asCID(i);h?yield[u.join("/"),h]:"object"==typeof i&&(yield*mO(i,u))}else{const n=pf.TO.asCID(t);n?yield[r.join("/"),n]:yield*mO(t,r)}}function*mO(r,t){if(null==r||r instanceof Uint8Array)return;const n=pf.TO.asCID(r);n&&(yield[t.join("/"),n]);for(const[i,u]of Object.entries(r)){const h=[...t,i];yield*gB(h,u)}}function*vB(r,t){if(Array.isArray(t))for(const[n,i]of t.entries()){const u=[...r,n];yield u.join("/"),"object"==typeof i&&!pf.TO.asCID(i)&&(yield*yO(i,u))}else yield*yO(t,r)}function*yO(r,t){if(null!=r&&"object"==typeof r)for(const[n,i]of Object.entries(r)){const u=[...t,n];yield u.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"==typeof i&&!pf.TO.asCID(i)&&(yield*vB(u,i))}}class gO{constructor({cid:t,bytes:n,value:i}){if(!t||!n||typeof i>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:vC(),bytes:vC(),value:vC(),asBlock:vC()})}links(){return mO(this.value,[])}tree(){return yO(this.value,[])}get(t="/"){return function bB(r,t){let n=r;for(const[i,u]of t.entries()){if(n=n[u],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map(l=>`[${JSON.stringify(l)}]`).join("")}`);const h=pf.TO.asCID(n);if(h)return{value:h,remaining:t.slice(i+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function vO(){return(vO=(0,Xe.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(r),u=yield n.digest(i),h=pf.TO.create(1,t.code,u);return new gO({value:r,bytes:i,cid:h})})).apply(this,arguments)}function bO(){return(bO=(0,Xe.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(r),u=yield n.digest(r),h=pf.TO.create(1,t.code,u);return new gO({value:i,bytes:r,cid:h})})).apply(this,arguments)}var ib=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class _O{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:Bh},t),this.blockstore=new lM({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new _r({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return ib(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return ib(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,i){var u;return ib(this,void 0,void 0,function*(){null===(u=i?.signal)||void 0===u||u.throwIfAborted();const h=yield Cd(this.blockstore.partition(t),i?.signal),l=ol.TO.parse(n),f=yield h.get(l,i);return f?(yield Cd(function _B(r){return bO.apply(this,arguments)}({bytes:f,codec:q,hasher:K}),i?.signal)).value:void 0})}query(t,n,i,u,h){var l;return ib(this,void 0,void 0,function*(){null===(l=h?.signal)||void 0===l||l.throwIfAborted();const f=_O.buildQueryOptions(i,u),X=yield this.index.query(t,n,f,h);let W;void 0!==u?.limit&&u.limit<X.length&&(X.splice(-1),W=_r.createCursorFromLastArrayItem(X,f.sortProperty));const k=[];for(let re=0;re<X.length;re++){const{messageCid:Oe}=X[re],je=yield this.get(t,Oe,h);je&&k.push(je)}return{messages:k,cursor:W}})}static buildQueryOptions(t={},n={}){let{limit:i,cursor:u}=n;const{dateCreated:h,datePublished:l,messageTimestamp:f}=t;let X=mu.Ascending,W="messageTimestamp";return void 0!==h?W="dateCreated":void 0!==l?W="datePublished":void 0!==f&&(W="messageTimestamp"),void 0!==t[W]&&(X=t[W]),void 0!==i&&i>0&&(i+=1),{sortDirection:X,sortProperty:W,limit:i,cursor:u}}delete(t,n,i){var u;return ib(this,void 0,void 0,function*(){null===(u=i?.signal)||void 0===u||u.throwIfAborted();const h=yield Cd(this.blockstore.partition(t),i?.signal),l=ol.TO.parse(n);yield h.delete(l,i),yield this.index.delete(t,n,i)})}put(t,n,i,u){var h;return ib(this,void 0,void 0,function*(){null===(h=u?.signal)||void 0===h||h.throwIfAborted();const l=yield Cd(this.blockstore.partition(t),u?.signal),f=yield Cd(function wB(r){return vO.apply(this,arguments)}({value:n,codec:q,hasher:K}),u?.signal),X=pd.parseCid(yield Fr.getCid(n));yield l.put(X,f.bytes,u);const W=X.toString();yield this.index.put(t,W,i,u)})}clear(){return ib(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}_(44356);var ya=function(r){return r.EventsGet="EventsGet",r.EventsQuery="EventsQuery",r.EventsSubscribe="EventsSubscribe",r.MessagesGet="MessagesGet",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(ya||{});const wC={[ya.EventsGet]:Uv,[ya.EventsQuery]:M0,[ya.EventsSubscribe]:S0,[ya.MessagesGet]:Om,[ya.ProtocolsConfigure]:hl,[ya.ProtocolsQuery]:Rm,[ya.RecordsDelete]:Kv,[ya.RecordsQuery]:x0,[ya.RecordsRead]:$v,[ya.RecordsSubscribe]:A0,[ya.RecordsWrite]:zo};class _C{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return r=this,t=void 0,i=function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}},new((n=void 0)||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())});var r,t,n,i}}class t4{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,yu.s)(t)})}}class Pp{}class xO extends Pp{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield t4.digest({data:n})})}}const EC="urn:jwk:";function Yo({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,nr.E8)(n);const i=function TB(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const u=Object.keys(i).sort(),h={};for(const l of u)h[l]=t(i[l]);return h}return i},n=t(r);return JSON.stringify(n)}(n),u=nr.U$.string(i).toUint8Array(),h=yield t4.digest({data:u});return nr.U$.uint8Array(h).toBase64Url()})}function Op(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function xC(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function n4(r){return!(!r||"object"!=typeof r||!("kty"in r)||!("k"in r)||"oct"!==r.kty||"string"!=typeof r.k)}function Rp(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function MC(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}function MO(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}var pl=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class na{static adjustSignatureToLowS({signature:t}){return pl(this,void 0,void 0,function*(){const n=Jo.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return pl(this,void 0,void 0,function*(){const n=yield na.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return pl(this,void 0,void 0,function*(){const n=yield na.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return pl(this,void 0,void 0,function*(){return Jo.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return pl(this,void 0,void 0,function*(){const n=yield na.privateKeyToBytes({privateKey:t}),i=yield na.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield Yo({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return pl(this,void 0,void 0,function*(){return Jo.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return pl(this,void 0,void 0,function*(){return Jo.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return pl(this,void 0,void 0,function*(){const t=Jo.bI.utils.randomPrivateKey(),n=yield na.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Yo({jwk:n}),n})}static getPublicKey({key:t}){var n;return pl(this,void 0,void 0,function*(){if(!Op(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Yo({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return pl(this,void 0,void 0,function*(){if(!Op(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return pl(this,void 0,void 0,function*(){if(!xC(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),u=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return pl(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield na.privateKeyToBytes({privateKey:t}),u=yield na.publicKeyToBytes({publicKey:n});return Jo.bI.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return pl(this,void 0,void 0,function*(){const i=yield na.privateKeyToBytes({privateKey:n}),u=(0,yu.s)(t);return Jo.bI.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return pl(this,void 0,void 0,function*(){return Jo.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return pl(this,void 0,void 0,function*(){try{Jo.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return pl(this,void 0,void 0,function*(){const u=yield na.publicKeyToBytes({publicKey:t}),h=(0,yu.s)(i);return Jo.bI.verify(n,h,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return pl(this,void 0,void 0,function*(){32===t.byteLength&&(t=Jo.bI.getPublicKey(t));const n=Jo.bI.ProjectivePoint.fromHex(t);return{x:(0,$l.lq)(n.x,32),y:(0,$l.lq)(n.y,32)}})}}var ml=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class ra{static adjustSignatureToLowS({signature:t}){return ml(this,void 0,void 0,function*(){const n=ke.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return ml(this,void 0,void 0,function*(){const n=yield ra.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return ml(this,void 0,void 0,function*(){const n=yield ra.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return ml(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return ml(this,void 0,void 0,function*(){const n=yield ra.privateKeyToBytes({privateKey:t}),i=yield ra.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield Yo({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return ml(this,void 0,void 0,function*(){return ke.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return ml(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return ml(this,void 0,void 0,function*(){const t=ke.Ag.utils.randomPrivateKey(),n=yield ra.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Yo({jwk:n}),n})}static getPublicKey({key:t}){var n;return ml(this,void 0,void 0,function*(){if(!Op(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Yo({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return ml(this,void 0,void 0,function*(){if(!Op(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return ml(this,void 0,void 0,function*(){if(!xC(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),u=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return ml(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield ra.privateKeyToBytes({privateKey:t}),u=yield ra.publicKeyToBytes({publicKey:n});return ke.Ag.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return ml(this,void 0,void 0,function*(){const i=yield ra.privateKeyToBytes({privateKey:n}),u=(0,yu.s)(t);return ke.Ag.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return ml(this,void 0,void 0,function*(){return ke.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return ml(this,void 0,void 0,function*(){try{ke.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return ml(this,void 0,void 0,function*(){const u=yield ra.publicKeyToBytes({publicKey:t}),h=(0,yu.s)(i);return ke.Ag.verify(n,h,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return ml(this,void 0,void 0,function*(){32===t.byteLength&&(t=ke.Ag.getPublicKey(t));const n=ke.Ag.ProjectivePoint.fromHex(t);return{x:(0,$l.lq)(n.x,32),y:(0,$l.lq)(n.y,32)}})}}var MM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class SC extends Pp{computePublicKey({key:t}){return MM(this,void 0,void 0,function*(){if(!Op(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield na.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield ra.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return MM(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield na.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield ra.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return MM(this,void 0,void 0,function*(){if(!Op(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield na.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield ra.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return MM(this,void 0,void 0,function*(){if(!Op(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield na.sign({key:t,data:n});case"P-256":return yield ra.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return MM(this,void 0,void 0,function*(){if(!xC(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield na.verify({key:t,signature:n,data:i});case"P-256":return yield ra.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Vf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class ia{static bytesToPrivateKey({privateKeyBytes:t}){return Vf(this,void 0,void 0,function*(){const n=Rs.ev.getPublicKey(t),i={crv:"Ed25519",d:nr.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Vf(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield Yo({jwk:n}),n})}static computePublicKey({key:t}){return Vf(this,void 0,void 0,function*(){const n=yield ia.privateKeyToBytes({privateKey:t}),i=Rs.ev.getPublicKey(n),u={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(i).toBase64Url()};return u.kid=yield Yo({jwk:u}),u})}static convertPrivateKeyToX25519({privateKey:t}){return Vf(this,void 0,void 0,function*(){const n=yield ia.privateKeyToBytes({privateKey:t}),i=(0,Rs.OA)(n),u=Rs.TU.getPublicKey(i),h={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(i).toBase64Url(),x:nr.U$.uint8Array(u).toBase64Url()};return h.kid=yield Yo({jwk:h}),h})}static convertPublicKeyToX25519({publicKey:t}){return Vf(this,void 0,void 0,function*(){const n=yield ia.publicKeyToBytes({publicKey:t});if(!(yield ia.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const u=(0,Rs.GU)(n),h={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(u).toBase64Url()};return h.kid=yield Yo({jwk:h}),h})}static generateKey(){return Vf(this,void 0,void 0,function*(){const t=Rs.ev.utils.randomPrivateKey(),n=yield ia.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Yo({jwk:n}),n})}static getPublicKey({key:t}){var n;return Vf(this,void 0,void 0,function*(){if(!Rp(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Yo({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return Vf(this,void 0,void 0,function*(){if(!Rp(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Vf(this,void 0,void 0,function*(){if(!MC(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return Vf(this,void 0,void 0,function*(){const i=yield ia.privateKeyToBytes({privateKey:t});return Rs.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return Vf(this,void 0,void 0,function*(){try{Rs.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Vf(this,void 0,void 0,function*(){const u=yield ia.publicKeyToBytes({publicKey:t});return Rs.ev.verify(n,i,u)})}}var SM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class r4 extends Pp{computePublicKey({key:t}){return SM(this,void 0,void 0,function*(){if(!Rp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ia.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return SM(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield ia.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return SM(this,void 0,void 0,function*(){if(!Rp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ia.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return SM(this,void 0,void 0,function*(){if(!Rp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield ia.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return SM(this,void 0,void 0,function*(){if(!MC(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield ia.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}}var Gm=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const SO={Ed25519:{implementation:r4,names:["Ed25519"]},secp256k1:{implementation:SC,names:["ES256K","secp256k1"]},secp256r1:{implementation:SC,names:["ES256","secp256r1"]},"SHA-256":{implementation:xO,names:["SHA-256"]}};class Bp{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new nr.ny}digest({algorithm:t,data:n}){return Gm(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return Gm(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return Gm(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const u=`${EC}${i.kid}`;return yield this._keyStore.set(u,i),u})}getKeyUri({key:t}){return Gm(this,void 0,void 0,function*(){const n=yield Yo({jwk:t});return`${EC}${n}`})}getPublicKey({keyUri:t}){return Gm(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return Gm(this,void 0,void 0,function*(){if(!MO(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Yo({jwk:i}));const u=yield this.getKeyUri({key:i});return yield this._keyStore.set(u,i),u})}sign({keyUri:t,data:n}){return Gm(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),u=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:u}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return Gm(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=SO[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const u in SO){const h=SO[u];if(n&&h.names.includes(n))return u;if(i&&h.names.includes(i))return u}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return Gm(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function i4(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}function ob(){return mI.E.randomUUID()}var j0=_(91879),AM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const s4=[128,192,256],IC=[96,104,112,120,128];class $0{static bytesToPrivateKey({privateKeyBytes:t}){return AM(this,void 0,void 0,function*(){const n={k:nr.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield Yo({jwk:n}),n})}static decrypt({key:t,data:n,iv:i,additionalData:u,tagLength:h}){return AM(this,void 0,void 0,function*(){if(12!==i.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(h&&!IC.includes(h))throw new RangeError(`The tag length is invalid: Must be ${IC.join(", ")} bits`);const l=(0,j0.NZ)(),f=yield l.importKey("jwk",t,{name:"AES-GCM"},!0,["decrypt"]),X=Object.assign(Object.assign({name:"AES-GCM",iv:i},h&&{tagLength:h}),u&&{additionalData:u}),W=yield l.decrypt(X,f,n);return new Uint8Array(W)})}static encrypt({data:t,iv:n,key:i,additionalData:u,tagLength:h}){return AM(this,void 0,void 0,function*(){if(12!==n.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(h&&!IC.includes(h))throw new RangeError(`The tag length is invalid: Must be ${IC.join(", ")} bits`);const l=(0,j0.NZ)(),f=yield l.importKey("jwk",i,{name:"AES-GCM"},!0,["encrypt"]),X=Object.assign(Object.assign({name:"AES-GCM",iv:n},h&&{tagLength:h}),u&&{additionalData:u}),W=yield l.encrypt(X,f,t);return new Uint8Array(W)})}static generateKey({length:t}){return AM(this,void 0,void 0,function*(){if(!s4.includes(t))throw new RangeError(`The key length is invalid: Must be ${s4.join(", ")} bits`);const n=(0,j0.NZ)(),i=yield n.generateKey({name:"AES-GCM",length:t},!0,["encrypt"]),f=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(yield n.exportKey("jwk",i),["ext","key_ops"]);return f.kid=yield Yo({jwk:f}),f})}static privateKeyToBytes({privateKey:t}){return AM(this,void 0,void 0,function*(){if(!n4(t))throw new Error("AesGcm: The provided key is not a valid oct private key.");return nr.U$.base64Url(t.k).toUint8Array()})}}var AO=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},V0=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class M1{static bytesToPrivateKey({privateKeyBytes:t}){return V0(this,void 0,void 0,function*(){const n=Rs.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return V0(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield Yo({jwk:n}),n})}static computePublicKey({key:t}){return V0(this,void 0,void 0,function*(){const n=yield M1.privateKeyToBytes({privateKey:t}),i=Rs.TU.getPublicKey(n),u={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(i).toBase64Url()};return u.kid=yield Yo({jwk:u}),u})}static generateKey(){return V0(this,void 0,void 0,function*(){const t=Rs.TU.utils.randomPrivateKey(),n=yield M1.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Yo({jwk:n}),n})}static getPublicKey({key:t}){var n;return V0(this,void 0,void 0,function*(){if(!Rp(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Yo({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return V0(this,void 0,void 0,function*(){if(!Rp(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return V0(this,void 0,void 0,function*(){if(!MC(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return V0(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield M1.privateKeyToBytes({privateKey:t}),u=yield M1.publicKeyToBytes({publicKey:n});return Rs.TU.getSharedSecret(i,u)})}}_(94730);class jB{static deriveKeyBytes({baseKeyBytes:t,length:n,hash:i,salt:u,info:h=new Uint8Array}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const f=yield(0,j0.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);u="string"==typeof u?nr.U$.string(u).toUint8Array():u,h="string"==typeof h?nr.U$.string(h).toUint8Array():h;const X=yield crypto.subtle.deriveBits({name:"HKDF",hash:i,salt:u,info:h},f,n);return new Uint8Array(X)})}}class $i extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$i)}}var Vi=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(Vi||{}),Jm=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class a4 extends Pp{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Jm(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield na.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield ra.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}default:throw new $i(Vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Jm(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield na.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield ra.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}default:throw new $i(Vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return Jm(this,void 0,void 0,function*(){if(!Op(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield na.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield ra.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return Jm(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield na.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield ra.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return Jm(this,void 0,void 0,function*(){if(!Op(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield na.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield ra.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return Jm(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield na.privateKeyToBytes({privateKey:t});case"P-256":return yield ra.privateKeyToBytes({privateKey:t});default:throw new $i(Vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return Jm(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield na.publicKeyToBytes({publicKey:t});case"P-256":return yield ra.publicKeyToBytes({publicKey:t});default:throw new $i(Vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return Jm(this,void 0,void 0,function*(){if(!Op(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield na.sign({key:t,data:n});case"P-256":return yield ra.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return Jm(this,void 0,void 0,function*(){if(!xC(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield na.verify({key:t,signature:n,data:i});case"P-256":return yield ra.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Xm=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},CM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},c4=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const d4=[128,192,256];class kM{static bytesToPrivateKey({privateKeyBytes:t}){return CM(this,void 0,void 0,function*(){const n={k:nr.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield Yo({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return CM(this,void 0,void 0,function*(){if(!d4.includes(t))throw new RangeError(`The key length is invalid: Must be ${d4.join(", ")} bits`);const n=(0,j0.NZ)(),i=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),u=yield n.exportKey("jwk",i),f=c4(u,["ext","key_ops"]);return f.kid=yield Yo({jwk:f}),f})}static privateKeyToBytes({privateKey:t}){return CM(this,void 0,void 0,function*(){if(!n4(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return nr.U$.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:i}){return CM(this,void 0,void 0,function*(){if(!("alg"in i)||!i.alg)throw new $i(Vi.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(i.alg))throw new $i(Vi.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${i.alg}`);const u=(0,j0.NZ)(),h=yield u.importKey("jwk",i,{name:"AES-KW"},!0,["unwrapKey"]),l={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!l)throw new $i(Vi.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const f=yield u.unwrapKey("raw",t.buffer,h,"AES-KW",{name:l},!0,["unwrapKey"]),X=yield u.exportKey("jwk",f),Oe=c4(X,["ext","key_ops"]);return Oe.kid=yield Yo({jwk:Oe}),Oe})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return CM(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new $i(Vi.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new $i(Vi.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new $i(Vi.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const i=(0,j0.NZ)(),u=yield i.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),h={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!h)throw new $i(Vi.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const l=yield i.importKey("jwk",t,{name:h},!0,["unwrapKey"]),f=yield i.wrapKey("raw",l,u,"AES-KW");return new Uint8Array(f)})}}var PM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class l4 extends Pp{bytesToPrivateKey({privateKeyBytes:t}){return PM(this,void 0,void 0,function*(){const n=yield kM.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return PM(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],i=yield kM.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return PM(this,void 0,void 0,function*(){return yield kM.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return PM(this,void 0,void 0,function*(){return yield kM.unwrapKey(t)})}wrapKey(t){return PM(this,void 0,void 0,function*(){return kM.wrapKey(t)})}}class GB{static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:i,iterations:u,length:h}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l=(0,j0.NZ)(),f=yield l.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),X=yield l.deriveBits({name:"PBKDF2",hash:n,salt:i,iterations:u},f,h);return new Uint8Array(X)})}}var OM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Dl=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const CO={"AES-GCM":{implementation:class ZB extends Pp{bytesToPrivateKey({privateKeyBytes:t}){return OM(this,void 0,void 0,function*(){const n=yield $0.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return OM(this,void 0,void 0,function*(){return $0.decrypt(t)})}encrypt(t){return OM(this,void 0,void 0,function*(){return $0.encrypt(t)})}generateKey({algorithm:t}){return OM(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield $0.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return OM(this,void 0,void 0,function*(){return yield $0.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:l4,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class HB extends Pp{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Xm(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield ia.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}throw new $i(Vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Xm(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield ia.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}throw new $i(Vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return Xm(this,void 0,void 0,function*(){if(!Rp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ia.computePublicKey({key:t});return n.alg="EdDSA",n}throw new $i(Vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return Xm(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield ia.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return Xm(this,void 0,void 0,function*(){if(!Rp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ia.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return Xm(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield ia.privateKeyToBytes({privateKey:t});throw new $i(Vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return Xm(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield ia.publicKeyToBytes({publicKey:t});throw new $i(Vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return Xm(this,void 0,void 0,function*(){if(!Rp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield ia.sign({key:t,data:n});throw new $i(Vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return Xm(this,void 0,void 0,function*(){if(!MC(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield ia.verify({key:t,signature:n,data:i});throw new $i(Vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class zB extends Pp{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const u={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield jB.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:u}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class YB extends Pp{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,u]=n.split(/[-+]/),h={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[u];return yield GB.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:h}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:a4,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:a4,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:xO,names:["SHA-256"],operations:["digest"]}};class S1{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Dl(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Dl(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return Dl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,i;return Dl(this,void 0,void 0,function*(){const u=this.getAlgorithmName({algorithm:t.algorithm}),h=this.getAlgorithm({algorithm:u});let l;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":l=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":l=t.algorithm.split(/[-+]/)[2];break;default:throw new $i(Vi.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const f=+(null!==(i=null===(n=l.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==i?i:-1);if(-1===f)throw new $i(Vi.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${l}`);const X=yield h.deriveKeyBytes(Object.assign(Object.assign({},t),{length:f}));return yield this.bytesToPrivateKey({algorithm:l,privateKeyBytes:X})})}deriveKeyBytes(t){return Dl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return Dl(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return Dl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return Dl(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t.algorithm}),h=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t.algorithm});return null!==(n=h.kid)&&void 0!==n||(h.kid=yield Yo({jwk:h})),h})}getKeyUri(t){return Dl(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return Dl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return Dl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return Dl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return Dl(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:i}).sign({data:n,key:t})})}unwrapKey(t){return Dl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:i}){return Dl(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}wrapKey(t){return Dl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const i=null===(n=CO[t])||void 0===n?void 0:n.implementation;if(!i)throw new $i(Vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({algorithm:t,key:n}){var i;const u=null!==(i=n?.alg)&&void 0!==i?i:t,h=n?.crv;for(const l of Object.keys(CO)){const f=CO[l].names;if(u&&f.includes(u))return l;if(h&&f.includes(h))return l}throw new $i(Vi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${u}, crv=${h}. Please check the documentation for the list of supported algorithms.`)}}var CC=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(CC||{});const ab={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ta{constructor({method:t,id:n,path:i,query:u,fragment:h,params:l}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=u,this.fragment=h,this.params=l}static parse(t){if(!t)return null;const n=Ta.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:u,path:h,query:l,fragment:f}=n.groups,X={uri:`did:${i}:${u}`,method:i,id:u};if(h&&(X.path=h),l&&(X.query=l.slice(1)),f&&(X.fragment=f.slice(1)),l){const W={},k=l.slice(1).split("&");for(const re of k){const[Oe,je]=re.split("=");W[Oe]=je}X.params=W}return X}}Ta.METHOD_PATTERN="([a-z0-9]+)",Ta.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ta.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ta.PCT_ENCODED_PATTERN})`,Ta.METHOD_ID_PATTERN=`((?:${Ta.ID_CHAR_PATTERN}*:)*(${Ta.ID_CHAR_PATTERN}+))`,Ta.PATH_PATTERN="(/[^#?]*)?",Ta.QUERY_PATTERN="([?][^#]*)?",Ta.FRAGMENT_PATTERN="(#.*)?",Ta.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ta.METHOD_PATTERN}):(?<id>${Ta.METHOD_ID_PATTERN})(?<path>${Ta.PATH_PATTERN})(?<query>${Ta.QUERY_PATTERN})(?<fragment>${Ta.FRAGMENT_PATTERN})$`);class Bs extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bs)}}var Ps=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Ps||{});function Nh(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function PO(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var RM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Ym{constructor({uri:t,document:n,metadata:i,keyManager:u}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=u}export(){return RM(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.exportKey({keyUri:u});n.push(Object.assign({},h))}t.privateKeys=n}return t})}getSigner(t){return RM(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(X=>{var W,k;return Nh(X.id)===(null!==(W=Nh(t?.methodId))&&void 0!==W?W:Nh(null===(k=this.document.assertionMethod)||void 0===k?void 0:k[0]))});if(!i||!i.publicKeyJwk)throw new Bs(Ps.InternalError,"A verification method intended for signing could not be determined from the DID Document");const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.getPublicKey({keyUri:u}),l=this.keyManager;return{algorithm:i4(h),keyId:i.id,sign(X){return RM(this,arguments,void 0,function*({data:W}){return yield l.sign({data:W,keyUri:u})})},verify(X){return RM(this,arguments,void 0,function*({data:W,signature:k}){return yield l.verify({data:W,key:h,signature:k})})}}})}static import(t){return RM(this,arguments,void 0,function*({portableDid:n,keyManager:i=new Bp}){var u;const h=function kO({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(PO))&&void 0!==n?n:[]),Object.keys(CC).forEach(u=>{var h,l;i.push(...null!==(l=null===(h=r[u])||void 0===h?void 0:h.filter(PO))&&void 0!==l?l:[])}),i}({didDocument:n.document});if(0===h.length)throw new Bs(Ps.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let f of null!==(u=n.privateKeys)&&void 0!==u?u:[])yield i.importKey({key:f});for(let f of h){if(!f.publicKeyJwk)throw new Error(`Verification method '${f.id}' does not contain a public key in JWK format`);const X=yield i.getKeyUri({key:f.publicKeyJwk});yield i.getPublicKey({keyUri:X})}return new Ym({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var u4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class f4{static getSigningMethod(t){return u4(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return u4(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Yd=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},h4=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const p4="https://diddht.tbddev.org",z0=7200,Gl=",";var m4=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(m4||{}),_u=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(_u||{}),y4=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(y4||{});const g4={Ed25519:_u.Ed25519,ES256K:_u.secp256k1,ES256:_u.secp256r1,"P-256":_u.secp256r1,secp256k1:_u.secp256k1,secp256r1:_u.secp256r1,X25519:_u.X25519},v4={[_u.Ed25519]:"Ed25519",[_u.secp256k1]:"ES256K",[_u.secp256r1]:"ES256",[_u.X25519]:"ECDH-ES+A256KW"};let PC=(()=>{class r extends f4{static create(){return Yd(this,arguments,void 0,function*({keyManager:n=new Bp,options:i={}}={}){var u,h,l,f,X,W,k,re,Oe,je,Ke;if(null!==(u=i.verificationMethods)&&void 0!==u&&u.some(Qt=>!(Qt.algorithm in g4)))throw new Error("One or more verification method algorithms are not supported");const nt=null===(h=i.verificationMethods)||void 0===h?void 0:h.filter(Qt=>"id"in Qt).map(Qt=>Qt.id);if(nt&&nt.length!==new Set(nt).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=i.services)&&void 0!==l&&l.some(Qt=>!Qt.id||!Qt.type||!Qt.serviceEndpoint))throw new Error("One or more services are missing required properties");const wt=yield n.generateKey({algorithm:"Ed25519"}),Ot=yield n.getPublicKey({keyUri:wt}),Et=yield Zc.identityKeyToIdentifier({identityKey:Ot}),St=Object.assign(Object.assign({id:Et},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),Nt=[...null!==(f=i.verificationMethods)&&void 0!==f?f:[]];Nt?.some(Qt=>{var ln;return"0"===(null===(ln=Qt.id)||void 0===ln?void 0:ln.split("#").pop())})||Nt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Qt of Nt){const ln=Qt.id&&"0"===Qt.id.split("#").pop()?wt:yield n.generateKey({algorithm:Qt.algorithm}),Ht=yield n.getPublicKey({keyUri:ln});let An=null!==(W=null!==(X=Qt.id)&&void 0!==X?X:Ht.kid)&&void 0!==W?W:yield Yo({jwk:Ht});An=`${Et}#${Nh(An)}`,null!==(k=St.verificationMethod)&&void 0!==k||(St.verificationMethod=[]),St.verificationMethod.push({id:An,type:"JsonWebKey",controller:null!==(re=Qt.controller)&&void 0!==re?re:Et,publicKeyJwk:Ht});for(const Jn of null!==(Oe=Qt.purposes)&&void 0!==Oe?Oe:[])St[Jn]||(St[Jn]=[]),St[Jn].push(An)}null===(je=i.services)||void 0===je||je.forEach(Qt=>{var ln;null!==(ln=St.service)&&void 0!==ln||(St.service=[]),Qt.id=`${Et}#${Qt.id.split("#").pop()}`,St.service.push(Qt)});const Yt=new Ym({uri:Et,document:St,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Ke=i.publish)||void 0===Ke||Ke){const Qt=yield r.publish({did:Yt,gatewayUri:i.gatewayUri});Yt.metadata=Qt.didDocumentMetadata}return Yt})}static import(n){return Yd(this,arguments,void 0,function*({portableDid:i,keyManager:u=new Bp}){var h;const l=Ta.parse(i.uri);if(l?.method!==r.methodName)throw new Bs(Ps.MethodNotSupported,"Method not supported");const f=yield Ym.import({portableDid:i,keyManager:u});if(null===(h=f.document.verificationMethod)||void 0===h||!h.some(X=>{var W;return"0"===(null===(W=X.id)||void 0===W?void 0:W.split("#").pop())}))throw new Bs(Ps.InvalidDidDocument,"DID document must contain an Identity Key");return f})}static getSigningMethod(n){return Yd(this,arguments,void 0,function*({didDocument:i,methodId:u="#0"}){var h;const l=Ta.parse(i.id);if(l&&l.method!==this.methodName)throw new Bs(Ps.MethodNotSupported,`Method not supported: ${l.method}`);const f=null===(h=i.verificationMethod)||void 0===h?void 0:h.find(X=>{var W,k;return Nh(X.id)===(null!==(W=Nh(u))&&void 0!==W?W:Nh(null===(k=i.assertionMethod)||void 0===k?void 0:k[0]))});if(!f||!f.publicKeyJwk)throw new Bs(Ps.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static publish(n){return Yd(this,arguments,void 0,function*({did:i,gatewayUri:u=p4}){return yield Zm.put({did:i,gatewayUri:u})})}static resolve(n){return Yd(this,arguments,void 0,function*(i,u={}){var h;const l=null!==(h=u?.gatewayUri)&&void 0!==h?h:p4;try{yield Zc.identifierToIdentityKey({didUri:i});const{didDocument:f,didDocumentMetadata:X}=yield Zm.get({didUri:i,gatewayUri:l});return Object.assign(Object.assign({},ab),{didDocument:f,didDocumentMetadata:X})}catch(f){if(!(f instanceof Bs))throw new Error(f);return Object.assign(Object.assign({},ab),{didResolutionMetadata:Object.assign({error:f.code},f.message&&{errorMessage:f.message})})}})}}return r.methodName="dht",r})();class Zm{static get(t){return Yd(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const u=Zc.identifierToIdentityKeyBytes({didUri:n}),h=yield Zm.pkarrGet({gatewayUri:i,publicKeyBytes:u}),l=yield Zc.parseBep44GetMessage({bep44Message:h}),f=yield Zm.fromDnsPacket({didUri:n,dnsPacket:l});return f.didDocumentMetadata.versionId=h.seq.toString(),f})}static put(t){return Yd(this,arguments,void 0,function*({did:n,gatewayUri:i}){const u=yield Zm.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),h=yield Zc.createBep44PutMessage({dnsPacket:u,publicKeyBytes:Zc.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),l=yield Zm.pkarrPut({gatewayUri:i,bep44Message:h});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:l,versionId:h.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return Yd(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const u=nr.U$.uint8Array(i).toBase32Z(),h=new URL(u,n).href;let l;try{if(l=yield fetch(h,{method:"GET"}),!l.ok)throw new Bs(Ps.NotFound,`Pkarr record not found for: ${u}`)}catch(W){throw W instanceof Bs?W:new Bs(Ps.InternalError,`Failed to fetch Pkarr record: ${W.message}`)}const f=yield l.arrayBuffer();if(!f)throw new Bs(Ps.NotFound,`Pkarr record not found for: ${u}`);if(f.byteLength<72)throw new Bs(Ps.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${f.byteLength}`);if(f.byteLength>1072)throw new Bs(Ps.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${f.byteLength}`);return{k:i,seq:Number(new DataView(f).getBigUint64(64)),sig:new Uint8Array(f,0,64),v:new Uint8Array(f,72)}})}static pkarrPut(t){return Yd(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const u=nr.U$.uint8Array(i.k).toBase32Z(),h=new URL(u,n).href,l=new Uint8Array(i.v.length+72);let f;l.set(i.sig,0),new DataView(l.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),l.set(i.v,i.sig.length+8);try{f=yield fetch(h,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:l})}catch(X){throw new Bs(Ps.InternalError,`Failed to put Pkarr record for identifier ${u}: ${X.message}`)}return f.ok})}static fromDnsPacket(t){return Yd(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var u,h,l;const f={id:n},X={published:!0},W=new Map;for(const k of null!==(u=i?.answers)&&void 0!==u?u:[]){if("TXT"!==k.type)continue;const re=k.name.split(".")[0].substring(1);switch(!0){case re.startsWith("aka"):{const Oe=Zc.parseTxtDataToString(k.data);f.alsoKnownAs=Oe.split(Gl);break}case re.startsWith("cnt"):{const Oe=Zc.parseTxtDataToString(k.data);f.controller=Oe.includes(Gl)?Oe.split(Gl):Oe;break}case re.startsWith("k"):{const{id:Oe,t:je,k:Ke,c:nt,a:wt}=Zc.parseTxtDataToObject(k.data),Ot=nr.U$.base64Url(Ke).toUint8Array(),Et=_u[Number(je)];let St=yield Zc.keyConverter(Et).bytesToPublicKey({publicKeyBytes:Ot});St.alg=wt||v4[Number(je)];const Nt="k0"===re?"0":void 0!==Oe?Oe:yield Yo({jwk:St});null!==(h=f.verificationMethod)&&void 0!==h||(f.verificationMethod=[]);const Yt=`${n}#${Nt}`;f.verificationMethod.push({id:Yt,type:"JsonWebKey",controller:nt??n,publicKeyJwk:St}),W.set(re,Yt);break}case re.startsWith("s"):{const Oe=Zc.parseTxtDataToObject(k.data),{id:je,t:Ke,se:nt}=Oe,wt=h4(Oe,["id","t","se"]),Ot=nt.includes(Gl)?nt.split(Gl):[nt],Et=Object.fromEntries(Object.entries(wt).map(([St,Nt])=>[St,Nt.includes(Gl)?Nt.split(Gl):Nt]));null!==(l=f.service)&&void 0!==l||(f.service=[]),f.service.push(Object.assign(Object.assign({},Et),{id:`${n}#${je}`,type:Ke,serviceEndpoint:Ot}));break}case re.startsWith("typ"):{const{id:Oe}=Zc.parseTxtDataToObject(k.data);X.types=Oe.split(Gl).map(je=>Number(je));break}case re.startsWith("did"):{const Oe=Et=>Et.split(Gl).map(St=>W.get(St)).filter(St=>"string"==typeof St),{auth:je,asm:Ke,del:nt,inv:wt,agm:Ot}=Zc.parseTxtDataToObject(k.data);je&&(f.authentication=Oe(je)),Ke&&(f.assertionMethod=Oe(Ke)),nt&&(f.capabilityDelegation=Oe(nt)),wt&&(f.capabilityInvocation=Oe(wt)),Ot&&(f.keyAgreement=Oe(Ot));break}}}return{didDocument:f,didDocumentMetadata:X,didResolutionMetadata:{}}})}static toDnsPacket(t){return Yd(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:u,previousDidProof:h}){var l,f,X,W,k;const re=[],Oe=[],je=new Map,Ke=[],nt=[];if(void 0!==h){const{signature:Et,previousDid:St}=h;yield Zc.validatePreviousDidProof({newDid:n.id,previousDidProof:h}),re.push({type:"TXT",name:"_prv._did.",ttl:z0,data:`id=${St};s=${Et}`})}if(n.alsoKnownAs&&re.push({type:"TXT",name:"_aka._did.",ttl:z0,data:n.alsoKnownAs.join(Gl)}),n.controller){const Et=Array.isArray(n.controller)?n.controller.join(Gl):n.controller;re.push({type:"TXT",name:"_cnt._did.",ttl:z0,data:Et})}for(const[Et,St]of null!==(f=null===(l=n.verificationMethod)||void 0===l?void 0:l.entries())&&void 0!==f?f:[]){const Nt=`k${Et}`;nt.push(Nt);let Yt=St.id.split("#").pop();je.set(Yt,Nt);const Qt=St.publicKeyJwk;if(!Qt?.crv||!(Qt.crv in g4))throw new Bs(Ps.InvalidPublicKeyType,`Verification method '${St.id}' contains an unsupported key type: ${null!==(X=Qt?.crv)&&void 0!==X?X:"undefined"}`);const ln=_u[Qt.crv],Ht=yield Zc.keyConverter(Qt.crv).publicKeyToBytes({publicKey:Qt}),Jn=[`t=${ln}`,`k=${nr.U$.uint8Array(Ht).toBase64Url()}`];"0"!==Yt&&(yield Yo({jwk:Qt}))!==Yt&&Jn.unshift(`id=${Yt}`),Qt.alg!==v4[ln]&&Jn.push(`a=${Qt.alg}`),St.controller!==n.id&&Jn.push(`c=${St.controller}`),re.push({type:"TXT",name:`_${Nt}._did.`,ttl:z0,data:Jn.join(";")})}null===(W=n.service)||void 0===W||W.forEach((Et,St)=>{const Nt=`s${St}`;Ke.push(Nt);let{id:Yt,type:Qt,serviceEndpoint:ln}=Et,Ht=h4(Et,["id","type","serviceEndpoint"]);Yt=Nh(Yt),ln=Array.isArray(ln)?ln.join(","):ln;const Jn=Object.entries(Object.assign({id:Yt,t:Qt,se:ln},Ht)).map(([ar,Vn])=>`${ar}=${Vn}`).join(";"),qn=Zc.chunkDataIfNeeded(Jn);re.push({type:"TXT",name:`_${Nt}._did.`,ttl:z0,data:qn})});const wt=["v=0"];if(nt.length&&wt.push(`vm=${nt.join(Gl)}`),Object.keys(CC).forEach(Et=>{var St;const Nt=null===(St=n[Et])||void 0===St?void 0:St.map(Yt=>je.get(Yt.split("#").pop()));Nt&&wt.push(`${y4[Et]}=${Nt.join(Gl)}`)}),Ke.length&&wt.push(`svc=${Ke.join(Gl)}`),null!==(k=i.types)&&void 0!==k&&k.length){const St=i.types.map(Nt=>"string"==typeof Nt?m4[Nt]:Nt);re.push({type:"TXT",name:"_typ._did.",ttl:z0,data:`id=${St.join(Gl)}`})}re.push({type:"TXT",name:"_did."+Zm.getUniqueDidSuffix(n.id)+".",ttl:z0,data:wt.join(";")});for(const Et of u||[])Oe.push({type:"NS",name:"_did."+Zm.getUniqueDidSuffix(n.id)+".",ttl:z0,data:Et+"."});return{id:0,type:"response",flags:Zv.hB,answers:[...re,...Oe]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class Zc{static createBep44PutMessage(t){return Yd(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:u}){const h=Math.ceil(Date.now()/1e3),l=(0,Zv.lF)(n),f=Qx.A.encode({seq:h,v:l}).subarray(1,-1);if(f.length>1e3)throw new Bs(Ps.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${f.length} bytes`);return{k:i,seq:h,sig:yield u.sign({data:f}),v:l}})}static identifierToIdentityKey(t){return Yd(this,arguments,void 0,function*({didUri:n}){let i=Zc.identifierToIdentityKeyBytes({didUri:n});return yield ia.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ta.parse(t);if(!n)throw new Bs(Ps.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==PC.methodName)throw new Bs(Ps.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=nr.U$.base32Z(n.id).toUint8Array()}catch{throw new Bs(Ps.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Bs(Ps.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return Yd(this,arguments,void 0,function*({identityKey:n}){const i=yield ia.publicKeyToBytes({publicKey:n}),u=nr.U$.uint8Array(i).toBase32Z();return`did:${PC.methodName}:${u}`})}static keyConverter(t){const i={Ed25519:ia,"P-256":{publicKeyToBytes:u=>Yd(this,[u],void 0,function*({publicKey:h}){const l=yield ra.publicKeyToBytes({publicKey:h});return yield ra.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:ra.bytesToPublicKey,privateKeyToBytes:ra.privateKeyToBytes,bytesToPrivateKey:ra.bytesToPrivateKey},secp256k1:{publicKeyToBytes:u=>Yd(this,[u],void 0,function*({publicKey:h}){const l=yield na.publicKeyToBytes({publicKey:h});return yield na.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:na.bytesToPublicKey,privateKeyToBytes:na.privateKeyToBytes,bytesToPrivateKey:na.bytesToPrivateKey},X25519:M1}[t];if(!i)throw new Bs(Ps.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return Yd(this,arguments,void 0,function*({bep44Message:n}){const i=yield ia.bytesToPublicKey({publicKeyBytes:n.k}),u=Qx.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield ia.verify({key:i,signature:n.sig,data:u})))throw new Bs(Ps.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,Zv.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[u,h]=i.split("=");return n[u]=h,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return nr.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Bs(Ps.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return Yd(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const u=yield Zc.identifierToIdentityKey({didUri:i.previousDid}),h=Zc.identifierToIdentityKeyBytes({didUri:n}),l=nr.U$.base64Url(i.signature).toUint8Array();if(!(yield ia.verify({key:u,data:h,signature:l})))throw new Bs(Ps.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var OC=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};let nN=(()=>{class r extends f4{static create(){return OC(this,arguments,void 0,function*({keyManager:n=new Bp,options:i={}}={}){var u,h,l,f;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const X=null!==(f=null!==(u=i.algorithm)&&void 0!==u?u:null===(l=null===(h=i.verificationMethods)||void 0===h?void 0:h[0])||void 0===l?void 0:l.algorithm)&&void 0!==f?f:"Ed25519",W=yield n.generateKey({algorithm:X}),k=yield n.getPublicKey({keyUri:W}),re=nr.U$.object(k).toBase64Url(),Oe=`did:${r.methodName}:${re}`,Ke=(yield r.resolve(Oe)).didDocument;return new Ym({uri:Oe,document:Ke,metadata:{},keyManager:n})})}static getSigningMethod(n){return OC(this,arguments,void 0,function*({didDocument:i}){var u;const h=Ta.parse(i.id);if(h&&h.method!==this.methodName)throw new Bs(Ps.MethodNotSupported,`Method not supported: ${h.method}`);const[l]=null!==(u=i.verificationMethod)&&void 0!==u?u:[];if(!l||!l.publicKeyJwk)throw new Bs(Ps.InternalError,"A verification method intended for signing could not be determined from the DID Document");return l})}static import(n){return OC(this,arguments,void 0,function*({portableDid:i,keyManager:u=new Bp}){const h=Ta.parse(i.uri);if(h?.method!==r.methodName)throw new Bs(Ps.MethodNotSupported,"Method not supported");const l=yield Ym.import({portableDid:i,keyManager:u});if(1!==l.document.verificationMethod.length)throw new Bs(Ps.InvalidDidDocument,"DID document must contain exactly one verification method");return l})}static resolve(n,i){return OC(this,void 0,void 0,function*(){const u=Ta.parse(n);let h;try{h=nr.U$.base64Url(u.id).toObject()}catch{}if(!u||!h)return Object.assign(Object.assign({},ab),{didResolutionMetadata:{error:"invalidDid"}});if(u.method!==r.methodName)return Object.assign(Object.assign({},ab),{didResolutionMetadata:{error:"methodNotSupported"}});const l={"@context":["https://www.w3.org/ns/did/v1"],id:u.uri},f=`${l.id}#0`;switch(l.verificationMethod=[{id:f,type:"JsonWebKey",controller:l.id,publicKeyJwk:h}],l.authentication=[f],l.assertionMethod=[f],l.capabilityInvocation=[f],l.capabilityDelegation=[f],l.keyAgreement=[f],h.use){case"sig":delete l.keyAgreement;break;case"enc":delete l.authentication,delete l.assertionMethod,delete l.capabilityInvocation,delete l.capabilityDelegation}return Object.assign(Object.assign({},ab),{didDocument:l})})}}return r.methodName="jwk",r})();var T1=_(81447),rN=_(94787);class oN{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new rN.Level(n),this.ttl=T1(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},u=JSON.stringify(i);return this.cache.put(t,u)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const sN={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var b4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class w4{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||sN;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return b4(this,void 0,void 0,function*(){const i=Ta.parse(t);if(!i)return Object.assign(Object.assign({},ab),{didResolutionMetadata:{error:Ps.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const u=this.didResolvers.get(i.method);if(!u)return Object.assign(Object.assign({},ab),{didResolutionMetadata:{error:Ps.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const h=yield this.cache.get(i.uri);if(h)return h;{const l=yield u.resolve(i.uri,n);return l.didResolutionMetadata.error||(yield this.cache.set(i.uri,l)),l}})}dereference(t,n){return b4(this,void 0,void 0,function*(){const i=Ta.parse(t);if(!i)return{dereferencingMetadata:{error:Ps.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:u,didResolutionMetadata:h,didDocumentMetadata:l}=yield this.resolve(i.uri);if(!u)return{dereferencingMetadata:{error:h.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:u,contentMetadata:l};const{service:f=[],verificationMethod:X=[]}=u,W=new Set([t,i.fragment,`#${i.fragment}`]);let k;for(let re of X)if(W.has(re.id)){k=re;break}for(let re of f)if(W.has(re.id)){k=re;break}return k?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:k,contentMetadata:h}:{dereferencingMetadata:{error:Ps.NotFound},contentStream:null,contentMetadata:{}}})}}var A1=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const Qu="^";class cN extends Bp{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return A1(this,void 0,void 0,function*(){const i={};for(const u of t)null!==(n=u.kid)&&void 0!==n||(u.kid=yield Yo({jwk:u})),i[yield this.getKeyUri({key:u})]=u;this._predefinedKeys=new Map(Object.entries(i)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return A1(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return A1(this,void 0,void 0,function*(){const{value:n,done:i}=this._keyGenerator.next();if(i)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return A1(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return A1(this,void 0,void 0,function*(){const i=this._predefinedKeys.get(t);if(!i)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield ia.sign({data:n,key:i})})}}function W0({agent:r,tenant:t,didUri:n}){return A1(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}function _4(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var Uh=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class RO{constructor(){this.name="DwnDataStore",this._cache=new nr.LC({ttl:T1("15 minutes"),max:100}),this._index=new nr.LC({ttl:T1("2 hours"),max:1e3}),this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/private-jwk"}}delete({id:t,agent:n,tenant:i}){return Uh(this,void 0,void 0,function*(){const u=yield W0({agent:n,tenant:i,didUri:t});let h=yield this.lookupRecordId({id:t,tenantDid:u,agent:n});if(!h)return!1;const{reply:{status:l}}=yield n.dwn.processRequest({author:u,target:u,messageType:ya.RecordsDelete,messageParams:{recordId:h}});if(202===l.code)return this._index.delete(`${u}${Qu}${t}`),this._cache.delete(h),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${l.code}) ${l.detail}`)})}get({id:t,agent:n,tenant:i,useCache:u=!1}){return Uh(this,void 0,void 0,function*(){const h=yield W0({agent:n,tenant:i,didUri:t});let l=yield this.lookupRecordId({id:t,tenantDid:h,agent:n});if(l)return yield this.getRecord({recordId:l,tenantDid:h,agent:n,useCache:u})})}list({agent:t,tenant:n}){return Uh(this,void 0,void 0,function*(){const i=yield W0({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:i})})}set({id:t,data:n,tenant:i,agent:u,preventDuplicates:h=!0,useCache:l=!1}){return Uh(this,void 0,void 0,function*(){const f=yield W0({agent:u,tenant:i,didUri:t});if(h&&(yield this.lookupRecordId({id:t,tenantDid:f,agent:u})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const X=nr.U$.object(n).toUint8Array(),{message:W,reply:{status:k}}=yield u.dwn.processRequest({author:f,target:f,messageType:ya.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([X],{type:"application/json"})});if(!W||202!==k.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${f}${Qu}${t}`,W.recordId),l&&this._cache.set(W.recordId,n)})}getAllRecords(t){return Uh(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:i,useCache:u}){var h;return Uh(this,void 0,void 0,function*(){if(u){const X=this._cache.get(t);if(X)return X}const{reply:l}=yield i.dwn.processRequest({author:n,target:n,messageType:ya.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(h=l.record)||void 0===h||!h.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const f=yield nr.VS.consumeToJson({readable:l.record.data});return u&&this._cache.set(t,f),f})}lookupRecordId({id:t,tenantDid:n,agent:i}){return Uh(this,void 0,void 0,function*(){let u=this._index.get(`${n}${Qu}${t}`,{updateAgeOnGet:!0});return u||(yield this.getAllRecords({agent:i,tenantDid:n}),u=this._index.get(`${n}${Qu}${t}`)),u})}}class BO{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:i}){return Uh(this,void 0,void 0,function*(){const u=yield W0({agent:n,tenant:i,didUri:t});return!!this.store.has(`${u}${Qu}${t}`)&&(this.store.delete(`${u}${Qu}${t}`),!0)})}get({id:t,agent:n,tenant:i}){return Uh(this,void 0,void 0,function*(){const u=yield W0({agent:n,tenant:i,didUri:t});return this.store.get(`${u}${Qu}${t}`)})}list({agent:t,tenant:n}){return Uh(this,void 0,void 0,function*(){const i=yield W0({tenant:n,agent:t}),u=[];for(const[h,l]of this.store.entries())h.startsWith(`${i}${Qu}`)&&u.push(l);return u})}set({id:t,data:n,tenant:i,agent:u,preventDuplicates:h}){return Uh(this,void 0,void 0,function*(){const l=yield W0({agent:u,tenant:i,didUri:t});if(h&&this.store.has(`${l}${Qu}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const f=structuredClone(n);this.store.set(`${l}${Qu}${t}`,f)})}}var qm=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class dN extends RO{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/portable-did"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return qm(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return qm(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return qm(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return qm(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return qm(this,void 0,void 0,function*(){this._index.clear();const{reply:u}=yield t.dwn.processRequest({author:n,target:n,messageType:ya.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let h=[];for(const l of null!==(i=u.entries)&&void 0!==i?i:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const f=nr.U$.base64Url(l.encodedData).toObject();_4(f)&&(this._index.set(`${n}${Qu}${f.uri}`,l.recordId),this._cache.set(l.recordId,f),h.push(f))}return h})}}class lN extends BO{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return qm(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return qm(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return qm(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return qm(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var BM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class uN{constructor({ttl:t="15m"}={}){this.cache=new nr.LC({ttl:T1(t)})}get(t){return BM(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return BM(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return BM(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return BM(this,void 0,void 0,function*(){this.cache.clear()})}close(){return BM(this,void 0,void 0,function*(){})}}var D1=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},RC=function(r){return r.Create="Create",r.Resolve="Resolve",r}(RC||{});function E4(r,t){return r.messageType===t}class fN extends w4{constructor({agent:t,didMethods:n,resolverCache:i,store:u}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:i??new uN}),this._didMethods=new Map,this._agent=t,this._store=u??new lN;for(const h of n)this._didMethods.set(h.methodName,h)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:i,store:u}){return D1(this,void 0,void 0,function*(){const l=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:i});if(u??1){const{uri:f,document:X,metadata:W}=l,k={uri:f,document:X,metadata:W};yield this._store.set({id:k.uri,data:k,agent:this.agent,tenant:n??k.uri,preventDuplicates:!1,useCache:!0})}return l})}export({didUri:t,tenant:n}){return D1(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return D1(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return i?yield Ym.import({portableDid:i,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return D1(this,void 0,void 0,function*(){const i=Ta.parse(t);if(!i)throw new Error(`Invalid DID URI: ${t}`);const u=this.getMethod(i.method),{didDocument:h,didResolutionMetadata:l}=yield this.resolve(t);if(!h)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(l)}`);return yield u.getSigningMethod({didDocument:h,methodId:n})})}import({portableDid:t,tenant:n}){return D1(this,void 0,void 0,function*(){const i=yield Ym.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:u,document:h,metadata:l}=i,f={uri:u,document:h,metadata:l};return yield this._store.set({id:f.uri,data:f,agent:this.agent,tenant:n??f.uri,preventDuplicates:!0,useCache:!0}),i})}processRequest(t){var n;return D1(this,void 0,void 0,function*(){if(E4(t,RC.Create))try{const i=yield this.create(Object.assign({},t.messageParams));return{result:{uri:i.uri,document:i.document,metadata:i.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(i){return{ok:!1,status:{code:500,message:null!==(n=i.message)&&void 0!==n?n:"Unknown error occurred"}}}if(E4(t,RC.Resolve)){const{didUri:i,options:u}=t.messageParams;return{result:yield this.resolve(i,u),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var hN=_(85493),x4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function M4(r){return NO(r.stream())}function S4(r,t){return x4(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function eN(r){if(!function QB(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(i=>"string"==typeof i);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:i}=n.contentStream,u="string"==typeof i?[i]:Array.isArray(i)&&i.every(h=>"string"==typeof h)?i:[];if(u.length>0)return u}return[]})}function pN(r){return xo.getAuthor(r)}function BC(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===Gi.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===vi.Write}function mN(r){return Fr.getCid(r)}function yN(r,t){return x4(this,void 0,void 0,function*(){const n=t===Ll.CreatedAscending||t===Ll.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield mN(r),value:n}})}function NO(r){return new hN.s(r)}var Lh=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class vN{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:i,eventLog:u,eventStream:h,messageStore:l,tenantGate:f}){return Lh(this,void 0,void 0,function*(){return n??(n=new On({blockstoreLocation:`${t}/DWN_DATASTORE`})),i??(i=new w4({didResolvers:[PC,nN],cache:new oN({location:`${t}/DID_RESOLVERCACHE`})})),u??(u=new yB({location:`${t}/DWN_EVENTLOG`})),l??(l=new _O({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),yield f1.create({dataStore:n,didResolver:i,eventLog:u,eventStream:h,messageStore:l,tenantGate:f})})}processRequest(t){return Lh(this,void 0,void 0,function*(){const{message:n,dataStream:i}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:u}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:i,subscriptionHandler:u}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield Fr.getCid(n)}})}sendRequest(t){return Lh(this,void 0,void 0,function*(){const n=yield S4(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let i,u,h,l;if("messageCid"in t)({message:u,data:h}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),i=t.messageCid;else{if(({message:u}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");h=t.dataStream,l=t.subscriptionHandler}const f=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:u,data:h,subscriptionHandler:l});return i??(i=yield Fr.getCid(u)),{reply:f,message:u,messageCid:i}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:i,data:u,subscriptionHandler:h}){return Lh(this,void 0,void 0,function*(){const l=[];if(i.descriptor.method===vi.Subscribe&&void 0===h)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let f of n)try{if(void 0!==h){if(!(yield this.agent.rpc.getServerInfo(f)).webSocketSupport){l.push({url:f,message:"WebSocket support is not enabled on the server."});continue}const k=new URL(f);k.protocol="http:"===k.protocol?"ws:":"wss:",f=k.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:f,targetDid:t,message:i,data:u,subscriptionHandler:h})}catch(X){l.push({url:f,message:X instanceof Error?X.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(l)}`)})}constructDwnMessage({request:t}){var n;return Lh(this,void 0,void 0,function*(){const i=t.rawMessage;let u;if(function gN(r,t){return r.messageType===t}(t,ya.RecordsWrite)){const X=t.messageParams;if(t.dataStream&&!X?.data){const{dataStream:W}=t;let k;if(W instanceof Blob)k=M4(W),u=M4(W);else if(W instanceof ReadableStream){const[re,Oe]=W.tee();k=NO(re),u=NO(Oe)}i||(X.dataCid=yield pd.computeDagPbCidFromStream(k),null!==(n=X.dataSize)&&void 0!==n||(X.dataSize=k.bytesRead))}}const h=yield this.getSigner(t.author),l=wC[t.messageType],f=i?yield l.parse(i):yield l.create(Object.assign(Object.assign({},t.messageParams),{signer:h}));return BC(f)&&t.signAsOwner&&(yield f.signAsOwner(h)),{message:f.message,dataStream:u}})}getSigner(t){return Lh(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:i=>Lh(this,void 0,void 0,function*(){return yield n.sign({data:i})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),u=yield this.agent.keyManager.getPublicKey({keyUri:i}),h=this.agent.keyManager;return{algorithm:i4(u),keyId:n.id,sign:l=>Lh(this,void 0,void 0,function*(){return yield h.sign({data:l,keyUri:i})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return Lh(this,void 0,void 0,function*(){const i=yield this.getSigner(t),u=yield wC[ya.MessagesGet].create({messageCids:[n],signer:i}),h=yield this._dwn.processMessage(t,u.message);if(!h.entries||1!==h.entries.length)throw new Error("AgentDwnApi: Expected 1 message entry in the MessagesGet response but received none or more than one.");const[l]=h.entries,f=l.message;if(!f)throw new Error(`AgentDwnApi: Message not found with CID: ${n}`);let X={message:f};if(BC(l))if(l.encodedData){const W=nr.U$.base64Url(l.encodedData).toUint8Array();X.data=new Blob([W])}else{const W=yield wC[ya.RecordsRead].create({filter:{recordId:l.message.recordId},signer:i}),k=yield this._dwn.processMessage(t,W.message);if(k.status.code>=400){const{status:{code:re,detail:Oe}}=k;throw new Error(`AgentDwnApi: (${re}) Failed to read data associated with record ${l.message.recordId}. ${Oe}}`)}if(k.record){const re=yield nr.VS.consumeToBytes({readable:k.record.data});X.data=new Blob([re])}}return X})}createMessage({author:t,messageParams:n,messageType:i}){return Lh(this,void 0,void 0,function*(){const u=yield this.getSigner(t);return yield wC[i].create(Object.assign(Object.assign({},n),{signer:u}))})}processMessage({dataStream:t,message:n,targetDid:i}){return Lh(this,void 0,void 0,function*(){return yield this._dwn.processMessage(i,n,{dataStream:t})})}}var UO=_(75781),bN=_(36405);const wN=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),T4=Uint8Array.from({length:16},(r,t)=>t);let LO=[T4],KO=[T4.map(r=>(9*r+5)%16)];for(let r=0;r<4;r++)for(let t of[LO,KO])t.push(t[r].map(n=>wN[n]));const A4=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),EN=LO.map((r,t)=>r.map(n=>A4[t][n])),xN=KO.map((r,t)=>r.map(n=>A4[t][n])),MN=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),SN=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),NC=(r,t)=>r<<t|r>>>32-t;function D4(r,t,n,i){return 0===r?t^n^i:1===r?t&n|~t&i:2===r?(t|~n)^i:3===r?t&i|n&~i:t^(n|~i)}const UC=new Uint32Array(16);class TN extends bN.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:i,h3:u,h4:h}=this;return[t,n,i,u,h]}set(t,n,i,u,h){this.h0=0|t,this.h1=0|n,this.h2=0|i,this.h3=0|u,this.h4=0|h}process(t,n){for(let je=0;je<16;je++,n+=4)UC[je]=t.getUint32(n,!0);let i=0|this.h0,u=i,h=0|this.h1,l=h,f=0|this.h2,X=f,W=0|this.h3,k=W,re=0|this.h4,Oe=re;for(let je=0;je<5;je++){const Ke=4-je,nt=MN[je],wt=SN[je],Ot=LO[je],Et=KO[je],St=EN[je],Nt=xN[je];for(let Yt=0;Yt<16;Yt++){const Qt=NC(i+D4(je,h,f,W)+UC[Ot[Yt]]+nt,St[Yt])+re|0;i=re,re=W,W=0|NC(f,10),f=h,h=Qt}for(let Yt=0;Yt<16;Yt++){const Qt=NC(u+D4(Ke,l,X,k)+UC[Et[Yt]]+wt,Nt[Yt])+Oe|0;u=Oe,Oe=k,k=0|NC(X,10),X=l,l=Qt}}this.set(this.h1+f+k|0,this.h2+W+Oe|0,this.h3+re+u|0,this.h4+i+l|0,this.h0+h+X|0)}roundClean(){UC.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const AN=(0,Xc.ld)(()=>new TN);var FO=_(25431),Qm=_(37099);const DN=(0,Xc.AI)("ed25519 seed"),jO=2147483648,I4=new Uint8Array([0]);function C4(r,...t){return"string"==typeof r&&(r=(0,Xc.aT)(r)),(0,Qm.ee)(r,...t),r}const $O=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,Xc.O8)(t).setUint32(0,r,!1),t};class LC{get publicKeyRaw(){return Rs.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,Xc.Id)(I4,this.publicKeyRaw)}get pubHash(){return AN((0,yu.s)(this.publicKey))}get fingerprint(){return(0,Xc.O8)(this.pubHash).getUint32(0,!1)}get fingerprintHex(){return(0,Xc.My)($O(this.fingerprint))}get parentFingerprintHex(){return(0,Xc.My)($O(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=C4(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,UO.w)(FO.Zf,DN,t);return new LC({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,Qm.ee)(t.privateKey,32),(0,Qm.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const i=t.replace(/^[mM]'?\//,"").split("/");let u=this;for(const h of i){const l=/^(\d+)('?)$/.exec(h);if(!l||3!==l.length)throw new Error(`Invalid child index: ${h}`);let f=+l[1];if(!Number.isSafeInteger(f)||f>=jO)throw new Error("Invalid index");(n||"'"===l[2])&&(f+=jO),u=u.deriveChild(f)}return u}deriveChild(t){if(t<jO)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,Xc.Id)(I4,this.privateKey,$O(t)),i=(0,UO.w)(FO.Zf,this.chainCode,n);return new LC({chainCode:i.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:i.slice(0,32)})}sign(t){return Rs.ev.sign(t,this.privateKey)}verify(t,n){return n=C4(n,64),Rs.ev.verify(n,t,this.publicKeyRaw)}}const k4="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function VO(){return(VO=(0,Xe.A)(function*(r,t,n,i){const{c:u,dkLen:h,asyncTick:l,DK:f,PRF:X,PRFSalt:W}=function P4(r,t,n,i){(0,Qm.tW)(r);const u=(0,Xc.tY)({dkLen:32,asyncTick:10},i),{c:h,dkLen:l,asyncTick:f}=u;if((0,Qm.ai)(h),(0,Qm.ai)(l),(0,Qm.ai)(f),h<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const X=(0,Xc.ZJ)(t),W=(0,Xc.ZJ)(n),k=new Uint8Array(l),re=UO.w.create(r,X),Oe=re._cloneInto().update(W);return{c:h,dkLen:l,asyncTick:f,DK:k,PRF:re,PRFSalt:Oe}}(r,t,n,i);let k;const re=new Uint8Array(4),Oe=(0,Xc.O8)(re),je=new Uint8Array(X.outputLen);for(let Ke=1,nt=0;nt<h;Ke++,nt+=X.outputLen){const wt=f.subarray(nt,nt+X.outputLen);Oe.setInt32(0,Ke,!1),(k=W._cloneInto(k)).update(re).digestInto(je),wt.set(je.subarray(0,wt.length)),yield(0,Xc.$h)(u-1,l,()=>{X._cloneInto(k).update(je).digestInto(je);for(let Ot=0;Ot<wt.length;Ot++)wt[Ot]^=je[Ot]})}return function O4(r,t,n,i,u){return r.destroy(),t.destroy(),i&&i.destroy(),u.fill(0),n}(X,W,f,k,je)})).apply(this,arguments)}var KC=_(53813);function R4(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function zO(r){const t=R4(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function B4(r){(0,Qm.ee)(r,16,20,24,28,32)}const RN=r=>{const t=8-r.length/4;return new Uint8Array([(0,yu.s)(r)[0]>>t<<t])};function N4(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),KC.Wp.chain(KC.Wp.checksum(1,RN),KC.Wp.radix2(11,!0),KC.Wp.alphabet(r))}function LN(r,t=""){return function kN(r,t,n,i){return VO.apply(this,arguments)}(FO.Zf,zO(r).nfkd,(r=>R4(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var ey=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class KN extends RO{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/private-jwk"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ey(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ey(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ey(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ey(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return ey(this,void 0,void 0,function*(){this._index.clear();const{reply:u}=yield t.dwn.processRequest({author:n,target:n,messageType:ya.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let h=[];for(const l of null!==(i=u.entries)&&void 0!==i?i:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const f=nr.U$.base64Url(l.encodedData).toObject();MO(f)&&(this._index.set(`${n}${Qu}${EC}${f.kid}`,l.recordId),this._cache.set(l.recordId,f),h.push(f))}return h})}}class FN extends BO{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ey(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ey(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ey(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ey(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var zf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},L4=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const HO={"AES-GCM":{implementation:class RB extends Pp{decrypt(t){return AO(this,void 0,void 0,function*(){return $0.decrypt(t)})}encrypt(t){return AO(this,void 0,void 0,function*(){return $0.encrypt(t)})}generateKey({algorithm:t}){return AO(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield $0.generateKey({length:n});return i.alg=t,i})}},names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:l4,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:r4,names:["Ed25519"]},secp256k1:{implementation:SC,names:["ES256K","secp256k1"]},secp256r1:{implementation:SC,names:["ES256","secp256r1"]},"SHA-256":{implementation:xO,names:["SHA-256"]}};class lb{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new FN}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,i=L4(t,["keyUri"]);return zf(this,void 0,void 0,function*(){const u=yield this.getPrivateKey({keyUri:n}),h=this.getAlgorithmName({key:u});return yield this.getAlgorithm({algorithm:h}).decrypt(Object.assign({key:u},i))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,i=L4(t,["keyUri"]);return zf(this,void 0,void 0,function*(){const u=yield this.getPrivateKey({keyUri:n}),h=this.getAlgorithmName({key:u});return yield this.getAlgorithm({algorithm:h}).encrypt(Object.assign({key:u},i))})}exportKey({keyUri:t}){return zf(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return zf(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:{alg:t}}),h=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t});null!==(n=h.kid)&&void 0!==n||(h.kid=yield Yo({jwk:h}));const l=yield this.getKeyUri({key:h});return yield this._keyStore.set({id:l,data:h,agent:this.agent,preventDuplicates:!1,useCache:!0}),l})}getKeyUri({key:t}){return zf(this,void 0,void 0,function*(){const n=yield Yo({jwk:t});return`${EC}${n}`})}getPublicKey({keyUri:t}){return zf(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return zf(this,void 0,void 0,function*(){if(!MO(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Yo({jwk:i}));const u=yield this.getKeyUri({key:i});return yield this._keyStore.set({id:u,data:i,agent:this.agent,preventDuplicates:!0,useCache:!0}),u})}sign({keyUri:t,data:n}){return zf(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),u=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:u}).sign({data:n,key:i})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:i}){return zf(this,void 0,void 0,function*(){const u=yield this.getPrivateKey({keyUri:i}),h=this.getAlgorithmName({key:u});return yield this.getAlgorithm({algorithm:h}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:u})})}verify({key:t,signature:n,data:i}){return zf(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return zf(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:n}),u=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:u}).wrapKey({unwrappedKey:t,encryptionKey:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=HO[t])||void 0===n?void 0:n.implementation;if(!i)throw new $i(Vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const u of Object.keys(HO)){const h=HO[u].names;if(n&&h.includes(n))return u;if(i&&h.includes(i))return u}throw new $i(Vi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${i}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return zf(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var K4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function WO(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class F4{static decrypt({key:t,encryptedKey:n,joseHeader:i,crypto:u}){return K4(this,void 0,void 0,function*(){switch(i.alg){case"dir":if(void 0!==n)throw new $i(Vi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new $i(Vi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof i.p2c)throw new $i(Vi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof i.p2s)throw new $i(Vi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new $i(Vi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new $i(Vi.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let h;try{h=new Uint8Array([...nr.U$.string(i.alg).toUint8Array(),0,...nr.U$.base64Url(i.p2s).toUint8Array()])}catch{throw new $i(Vi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const l=yield u.deriveKey({algorithm:i.alg,baseKeyBytes:t,iterations:i.p2c,salt:h});if(!l.alg||!["A128KW","A192KW","A256KW"].includes(l.alg))throw new $i(Vi.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${l.alg}`);return yield u.unwrapKey({decryptionKey:l,wrappedKeyBytes:n,wrappedKeyAlgorithm:i.enc})}default:throw new $i(Vi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${i.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:i}){return K4(this,void 0,void 0,function*(){let u,h;switch(n.alg){case"dir":if(void 0!==h)throw new $i(Vi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new $i(Vi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');u=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new $i(Vi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new $i(Vi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new $i(Vi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let l;u=yield i.generateKey({algorithm:n.enc});try{l=new Uint8Array([...nr.U$.string(n.alg).toUint8Array(),0,...nr.U$.base64Url(n.p2s).toUint8Array()])}catch{throw new $i(Vi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const f=yield i.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:l});h=yield i.wrapKey({encryptionKey:f,unwrappedKey:u});break}default:throw new $i(Vi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:u,encryptedKey:h}})}}function FC(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function j4(...r){const t=new Set,n=r.filter(Boolean);for(const i of n)for(const u in i){if(t.has(u))return!0;t.add(u)}return!1}var $4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function GO(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return nr.U$.base64Url(t).toUint8Array()}catch{throw new $i(Vi.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class jC{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:i=new Bp,crypto:u=new S1,options:h={}}){var l,f;return $4(this,void 0,void 0,function*(){if(!FC(u))throw new $i(Vi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!FC(i))throw new $i(Vi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new $i(Vi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new $i(Vi.InvalidJwe,"JWE Ciphertext is missing or not a string.");let X;if(t.protected)try{X=nr.U$.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(j4(X,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const W=Object.assign(Object.assign(Object.assign({},X),t.header),t.unprotected);if(!WO(W))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(h.allowedAlgValues)&&!h.allowedAlgValues.includes(W.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${W.alg}`);if(Array.isArray(h.allowedEncValues)&&!h.allowedEncValues.includes(W.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${W.enc}`);let k;try{const wt=t.encrypted_key?nr.U$.base64Url(t.encrypted_key).toUint8Array():void 0;k=yield F4.decrypt({key:n,encryptedKey:wt,joseHeader:W,keyManager:i,crypto:u})}catch(wt){if(wt instanceof $i&&(wt.code===Vi.InvalidJwe||wt.code===Vi.AlgorithmNotSupported))throw wt;k="string"==typeof n?yield i.generateKey({algorithm:W.enc}):yield u.generateKey({algorithm:W.enc})}const re=GO("iv",t.iv),Oe=GO("tag",t.tag),je=void 0!==Oe?new Uint8Array([...nr.U$.base64Url(t.ciphertext).toUint8Array(),...Oe??[]]):nr.U$.base64Url(t.ciphertext).toUint8Array(),Ke=void 0!==t.aad?new Uint8Array([...nr.U$.string(null!==(l=t.protected)&&void 0!==l?l:"").toUint8Array(),...nr.U$.string(".").toUint8Array(),...nr.U$.string(t.aad).toUint8Array()]):nr.U$.string(null!==(f=t.protected)&&void 0!==f?f:"").toUint8Array();return{plaintext:"string"==typeof k?yield i.decrypt({keyUri:k,data:je,iv:re,additionalData:Ke}):yield u.decrypt({key:k,data:je,iv:re,additionalData:Ke}),protectedHeader:X,additionalAuthenticatedData:GO("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:i,protectedHeader:u,sharedUnprotectedHeader:h,unprotectedHeader:l,keyManager:f=new Bp,crypto:X=new S1}){return $4(this,void 0,void 0,function*(){if(!FC(X))throw new $i(Vi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!FC(f))throw new $i(Vi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!u&&!h&&!l)throw new $i(Vi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new $i(Vi.InvalidJwe,"Plaintext is missing or not a byte array.");if(j4(u,h,l))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const W=Object.assign(Object.assign(Object.assign({},u),h),l);if(!WO(W))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:k,encryptedKey:re}=yield F4.encrypt({key:t,joseHeader:W,keyManager:f,crypto:X});let Oe;switch(W.enc){case"A128GCM":case"A192GCM":case"A256GCM":Oe=function kB(r){return(0,Xc.po)(r)}(12);break;default:Oe=new Uint8Array(0)}const je=u?nr.U$.object(u).toBase64Url():"";let Ke,nt;i?(nt=nr.U$.uint8Array(i).toBase64Url(),Ke=nr.U$.string(je+"."+nt).toUint8Array()):Ke=nr.U$.string(je).toUint8Array();const wt="string"==typeof k?yield f.encrypt({keyUri:k,data:n,iv:Oe,additionalData:Ke}):yield X.encrypt({key:k,data:n,iv:Oe,additionalData:Ke}),Ot=wt.slice(0,-16),Et=wt.slice(-16),St=new jC({ciphertext:nr.U$.uint8Array(Ot).toBase64Url()});return re&&(St.encrypted_key=nr.U$.uint8Array(re).toBase64Url()),u&&(St.protected=je),h&&(St.unprotected=h),l&&(St.header=l),Oe&&(St.iv=nr.U$.uint8Array(Oe).toBase64Url()),nt&&(St.aad=nt),Et&&(St.tag=nr.U$.uint8Array(Et).toBase64Url()),St})}}var V4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class I1{static decrypt({jwe:t,key:n,keyManager:i=new Bp,crypto:u=new S1,options:h={}}){return V4(this,void 0,void 0,function*(){if("string"!=typeof t)throw new $i(Vi.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:l,1:f,2:X,3:W,4:k,length:re}=t.split(".");if(5!==re)throw new $i(Vi.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const Oe=yield jC.decrypt({jwe:{ciphertext:W,encrypted_key:f||void 0,iv:X||void 0,protected:l,tag:k||void 0},key:n,keyManager:i,crypto:u,options:h});if(!WO(Oe.protectedHeader))throw new $i(Vi.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:Oe.plaintext,protectedHeader:Oe.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:u=new Bp,crypto:h=new S1,options:l={}}){return V4(this,void 0,void 0,function*(){const f=yield jC.encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:u,crypto:h,options:l});return[f.protected,f.encrypted_key,f.iv,f.ciphertext,f.tag].join(".")})}}var Hf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function z4(r){return"string"!=typeof r||0===r.trim().length}class VN{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new S1,this._keyDerivationWorkFactor=t??21e4,this._store=n??new nr.ny}backup(){return Hf(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=nr.U$.object(t).toBase64Url(),i={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:i.dateCreated}),i})}changePassword({oldPassword:t,newPassword:n}){return Hf(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const i=yield this.getStoredContentEncryptionKey();let u,h;try{let f;({plaintext:f,protectedHeader:u}=yield I1.decrypt({jwe:i,key:nr.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new lb})),h=nr.U$.uint8Array(f).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const l=yield I1.encrypt({key:nr.U$.string(n).toUint8Array(),protectedHeader:u,plaintext:nr.U$.object(h).toUint8Array(),crypto:this.crypto,keyManager:new lb});yield this._store.set("contentEncryptionKey",l),this._contentEncryptionKey=h})}getDid(){return Hf(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield I1.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new lb}),i=nr.U$.uint8Array(n).toObject();if(!_4(i))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield Ym.import({portableDid:i})})}getStatus(){return Hf(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=nr.U$.string(t).toObject();if(!function $N(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return Hf(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(z4(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&z4(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function ON(r,t=128){if((0,Qm.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function NN(r,t){return B4(r),N4(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,Xc.po)(t/8),r)}(k4,128)),!function UN(r,t){try{!function BN(r,t){const{words:n}=zO(r);B4(N4(t).decode(n))}(r,t)}catch{return!1}return!0}(n,k4))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const i=yield LN(n),u=LC.fromMasterSeed(i),h=u.derive("m/44'/0'/0'/0'/0'"),l=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:h.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),f=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:h.publicKey,salt:"",info:"vault_unlock_salt",length:256}),X={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:nr.U$.uint8Array(f).toBase64Url()},W=yield I1.encrypt({key:nr.U$.string(t).toUint8Array(),protectedHeader:X,plaintext:nr.U$.object(l).toUint8Array(),crypto:this.crypto,keyManager:new lb});yield this._store.set("contentEncryptionKey",W);const k=u.derive("m/44'/0'/1708523827'/0'/0'"),re=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:k.privateKey});let Oe=u.derive("m/44'/0'/1708523827'/0'/1'");const je=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:Oe.privateKey}),Ke=new cN;yield Ke.addPredefinedKeys({privateKeys:[re,je]});const wt=yield(yield PC.create({keyManager:Ke,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),Et=yield I1.encrypt({key:l,plaintext:nr.U$.object(wt).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new lb});return yield this._store.set("did",Et),this._contentEncryptionKey=l,yield this.setStatus({initialized:!0}),n})}isInitialized(){return Hf(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return Hf(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return Hf(this,void 0,void 0,function*(){if(!function jN(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let i,u,h;try{h=yield this.getStoredDid(),u=yield this.getStoredContentEncryptionKey(),i=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const l=nr.U$.base64Url(t.data).toObject();yield this._store.set("did",l.did),yield this._store.set("contentEncryptionKey",l.contentEncryptionKey),yield this.setStatus(l.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(i),yield this._store.set("contentEncryptionKey",u),yield this._store.set("did",h),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return Hf(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:i}=yield I1.decrypt({jwe:n,key:nr.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new lb}),u=nr.U$.uint8Array(i).toObject();this._contentEncryptionKey=u}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return Hf(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return Hf(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:i}){return Hf(this,void 0,void 0,function*(){let u=yield this.getStatus();return u.initialized=t??u.initialized,u.lastBackup=n??u.lastBackup,u.lastRestore=i??u.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(u)),!0})}}var ty=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class HN extends RO{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/identity-metadata"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ty(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ty(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ty(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ty(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return ty(this,void 0,void 0,function*(){this._index.clear();const{reply:u}=yield t.dwn.processRequest({author:n,target:n,messageType:ya.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let h=[];for(const l of null!==(i=u.entries)&&void 0!==i?i:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const f=nr.U$.base64Url(l.encodedData).toObject();(r=f)&&"object"==typeof r&&null!==r&&"name"in r&&(this._index.set(`${n}${Qu}${f.uri}`,l.recordId),this._cache.set(l.recordId,f),h.push(f))}var r;return h})}}class WN extends BO{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ty(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ty(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ty(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ty(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var C1=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class GN{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new WN}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:i,store:u,tenant:h}){return C1(this,void 0,void 0,function*(){const l=yield this.agent.did.create({method:n,options:i,store:u,tenant:h}),f=new _C({did:l,metadata:Object.assign(Object.assign({},t),{uri:l.uri,tenant:h??l.uri})});return(u??!0)&&(yield this._store.set({id:f.did.uri,data:f.metadata,agent:this.agent,tenant:f.metadata.tenant,preventDuplicates:!1,useCache:!0})),f})}export({didUri:t,tenant:n}){return C1(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return C1(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!i)return;const u=yield this.agent.did.get({didUri:t,tenant:i.tenant});if(!u)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new _C({did:u,metadata:i})})}import({portableIdentity:t}){return C1(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const i=new _C({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,tenant:i.metadata.tenant,preventDuplicates:!0,useCache:!0}),i})}list({tenant:t}={}){return C1(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),i=[];for(const u of n){const h=yield this.get({didUri:u.uri,tenant:u.tenant});i.push(h)}return i})}manage({portableIdentity:t}){return C1(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const i=new _C({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),i})}}const JO=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),H4=(r,t,n,i)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:i,subscription:{id:n}});function $C(r){try{return JSON.parse(r)}catch{return null}}var NM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class XN{constructor({ttl:t="15m"}={}){this.cache=new nr.LC({ttl:T1(t)})}get(t){return NM(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return NM(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return NM(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return NM(this,void 0,void 0,function*(){this.cache.clear()})}close(){return NM(this,void 0,void 0,function*(){})}}var W4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class YN{constructor(t){this.serverInfoCache=t??new XN}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return W4(this,void 0,void 0,function*(){const n=ob(),i=JO(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),u={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};t.data&&(u.headers["content-type"]="application/octet-stream",u.body=t.data);const h=yield fetch(t.dwnUrl,u);let l,f;const{headers:X}=h;if(X.has("dwn-response")){const k=$C(X.get("dwn-response"));if(null==k)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);f=h.body,l=k}else{const k=yield h.text();l=JSON.parse(k)}if(l.error){const{code:k,message:re}=l.error;throw new Error(`(${k}) - ${re}`)}const{reply:W}=l.result;return f&&(W.record.data=f),W})}getServerInfo(t){return W4(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const i=new URL(t);i.pathname.endsWith("/")?i.pathname+="info":i.pathname+="/info";try{const u=yield fetch(i.toString());if(u.ok){const h=yield u.json(),l={registrationRequirements:h.registrationRequirements,maxFileSize:h.maxFileSize,webSocketSupport:h.webSocketSupport};return this.serverInfoCache.set(t,l),l}throw new Error(`HTTP (${u.status}) - ${u.statusText}`)}catch(u){throw new Error(`Error encountered while processing response from ${i.toString()}: ${u.message}`)}})}}var k1=null;typeof WebSocket<"u"?k1=WebSocket:typeof MozWebSocket<"u"?k1=MozWebSocket:typeof globalThis<"u"?k1=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?k1=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(k1=self.WebSocket||self.MozWebSocket);const ZN=k1;var VC=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const qN=3e3,QN=3e4;class XO{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return VC(this,void 0,void 0,function*(){const{connectTimeout:i=qN,responseTimeout:u=QN,onclose:h,onerror:l}=n,f=new ZN(t);return f.onclose=h||(()=>{console.info(`JSON RPC Socket close ${t}`)}),f.onerror=l||(X=>{console.error(`JSON RPC Socket error ${t}`,X)}),new Promise((X,W)=>{f.addEventListener("open",()=>{const k=new XO(f,u);f.addEventListener("message",re=>{const Oe=$C(re.data),je=k.messageHandlers.get(Oe.id);je&&je(re)}),X(k)}),f.addEventListener("error",k=>{W(k)}),setTimeout(()=>W,i)})})}close(){this.socket.close()}request(t){return VC(this,void 0,void 0,function*(){return new Promise((n,i)=>{var u;null!==(u=t.id)&&void 0!==u||(t.id=ob()),this.messageHandlers.set(t.id,l=>{const f=$C(l.data);if(f.id===t.id)return this.messageHandlers.delete(t.id),n(f)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),i(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return VC(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const i=t.subscription.id;this.messageHandlers.set(i,f=>{const X=$C(f.data.toString());X.id===i&&(void 0!==X.error&&(this.messageHandlers.delete(i),this.closeSubscription(i)),n(X))});const h=yield this.request(t);return h.error?(this.messageHandlers.delete(i),{response:h}):{response:h,close:()=>VC(this,void 0,void 0,function*(){this.messageHandlers.delete(i),yield this.closeSubscription(i)})}})}closeSubscription(t){const n=ob(),i=H4(n,"close",t,{});return this.request(i)}send(t){this.socket.send(JSON.stringify(t))}}var YO=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class G0{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return YO(this,void 0,void 0,function*(){const i=new URL(t.dwnUrl);if("ws:"!==i.protocol&&"wss:"!==i.protocol)throw new Error(`Invalid websocket protocol ${i.protocol}`);if(!G0.connections.has(i.host))try{const W=yield XO.connect(i.toString(),n);G0.connections.set(i.host,{socket:W,subscriptions:new Map})}catch(W){throw new Error(`Error connecting to ${i.host}: ${W.message}`)}const h=G0.connections.get(i.host),{targetDid:l,message:f,subscriptionHandler:X}=t;return X?G0.subscriptionRequest(h,l,f,X):G0.processMessage(h,l,f)})}static processMessage(t,n,i){return YO(this,void 0,void 0,function*(){const u=ob(),h=JO(u,"dwn.processMessage",{target:n,message:i}),{socket:l}=t,f=yield l.request(h),{error:X,result:W}=f;if(void 0!==X)throw new Error(`error sending DWN request: ${X.message}`);return W.reply})}static subscriptionRequest(t,n,i,u){return YO(this,void 0,void 0,function*(){const h=ob(),l=ob(),f=H4(h,"dwn.processMessage",l,{target:n,message:i}),{socket:X,subscriptions:W}=t,{response:k,close:re}=yield X.subscribe(f,nt=>{const{result:wt,error:Ot}=nt;if(Ot){const St=W.get(l);return St&&St.close(),void W.delete(l)}const{event:Et}=wt;u(Et)}),{error:Oe,result:je}=k;if(Oe)throw new Error(`could not subscribe via jsonrpc socket: ${Oe.message}`);const{reply:Ke}=je;return Ke.subscription&&re&&(W.set(l,Object.assign(Object.assign({},Ke.subscription),{close:re})),Ke.subscription.close=re),Ke})}}G0.connections=new Map;var UM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class t9{constructor(t=[]){this.transportClients=new Map,t=[new n9,new r9,...t];for(let n of t)for(let i of n.transportProtocols)this.transportClients.set(i,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return UM(this,void 0,void 0,function*(){const n=new URL(t.url),i=this.transportClients.get(n.protocol);if(!i){const u=new Error(`no ${n.protocol} transport client available`);throw u.name="NO_TRANSPORT_CLIENT",u}return i.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),i=this.transportClients.get(n.protocol);if(!i){const u=new Error(`no ${n.protocol} transport client available`);throw u.name="NO_TRANSPORT_CLIENT",u}return i.sendDwnRequest(t)}getServerInfo(t){return UM(this,void 0,void 0,function*(){const n=new URL(t),i=this.transportClients.get(n.protocol);if(!i){const u=new Error(`no ${n.protocol} transport client available`);throw u.name="NO_TRANSPORT_CLIENT",u}return i.getServerInfo(t)})}}class n9 extends YN{sendDidRequest(t){return UM(this,void 0,void 0,function*(){const n=ob(),i=JO(n,t.method,{data:t.data}),u=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let h;try{const l=yield fetch(u);if(!l.ok)throw new Error(`HTTP (${l.status}) - ${l.statusText}`);if(h=yield l.json(),h.error){const{code:f,message:X}=h.error;throw new Error(`JSON RPC (${f}) - ${X}`)}}catch(l){throw new Error(`Error encountered while processing response from ${t.url}: ${l.message}`)}return h.result})}}class r9 extends G0{sendDidRequest(t){return UM(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return UM(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class o9{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var Eu=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const G4=r=>r>=200&&r<=299;class a9{constructor({agent:t,dataPath:n,db:i}){this._agent=t,this._db=i||new KP.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=QR()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return Eu(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return Eu(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return Eu(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const i=this.getPullQueue(),u=yield i.iterator().all(),h=[],l=new Set;for(let f of u){const[X]=f,[W,k,re,Oe]=X.split("~");if(l.has(k))continue;if(yield this.messageExists(W,Oe)){h.push({type:"del",key:X});continue}const Ke=yield this.agent.dwn.createMessage({author:W,messageType:ya.MessagesGet,messageParams:{messageCids:[Oe]}});let nt;try{nt=yield this.agent.rpc.sendDwnRequest({dwnUrl:k,targetDid:W,message:Ke})}catch{l.add(k);continue}for(let wt of null!==(t=nt.entries)&&void 0!==t?t:[]){if(wt.error||!wt.message){yield this.addMessage(W,Oe),h.push({type:"del",key:X});continue}let Ot;if(BC(wt)){const{encodedData:St}=wt,Nt=wt.message;if(St){const Yt=nr.U$.base64Url(St).toUint8Array();Ot=Ah.fromBytes(Yt)}else{const Yt=yield this.agent.dwn.createMessage({author:W,messageType:ya.RecordsRead,messageParams:{filter:{recordId:Nt.recordId}}}),Qt=yield this.agent.rpc.sendDwnRequest({dwnUrl:k,targetDid:W,message:Yt.message}),{record:ln,status:Ht}=Qt;if(G4(Ht.code)&&ln)Ot=nr.VS.fromWebReadable({readableStream:ln.data});else if(Ht.code>=400){const An=yield this.agent.dwn.processMessage({targetDid:W,message:Nt});if(202===An.status.code||409===An.status.code){yield this.addMessage(W,Oe),h.push({type:"del",key:X});continue}throw new Error(`SyncManager: Failed to sync tombstone for message '${Oe}'`)}}}const Et=yield this.agent.dwn.processMessage({targetDid:W,message:wt.message,dataStream:Ot});(202===Et.status.code||409===Et.status.code)&&(yield this.addMessage(W,Oe),h.push({type:"del",key:X}))}}yield i.batch(h)})}push(){return Eu(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),i=yield n.iterator().all(),u=[],h=new Set;for(let l of i){const[f]=l,[X,W,k,re]=f.split("~");if(h.has(W))continue;const Oe=yield this.getDwnMessage({author:X,messageCid:re});if(Oe)try{const je=yield this.agent.rpc.sendDwnRequest({dwnUrl:W,targetDid:X,data:Oe.data,message:Oe.message});(202===je.status.code||409===je.status.code)&&(yield this.addMessage(X,re),u.push({type:"del",key:f}))}catch{h.add(W)}else u.push({type:"del",key:f}),yield this.addMessage(X,re)}yield n.batch(u)})}registerIdentity({did:t}){return Eu(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=T1(t);return new Promise((i,u)=>{const h=()=>Eu(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(l){this.stopSync(),u(l)}this._syncIntervalId=setInterval(h,n)});this._syncIntervalId=setInterval(h,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}enqueueOperations({syncDirection:t,syncPeerState:n}){return Eu(this,void 0,void 0,function*(){for(let i of n){const u=yield this.getDwnEventLog({did:i.did,dwnUrl:i.dwnUrl,cursor:i.cursor,syncDirection:t}),h=[];for(let l of u){const f=this._ulidFactory(),X=[i.did,i.dwnUrl,f,l].join("~");h.push({type:"put",key:X,value:""})}h.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(h))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:i,cursor:u}){var h;return Eu(this,void 0,void 0,function*(){let l={};if("pull"===i){const X=yield this.agent.dwn.createMessage({author:t,messageType:ya.EventsGet,messageParams:{cursor:u}});try{l=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:X})}catch{}}else"push"===i&&(l=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:ya.EventsGet,messageParams:{cursor:u}})).reply);const f=null!==(h=l.entries)&&void 0!==h?h:[];return l.cursor&&this.setCursor(t,n,i,l.cursor),f})}getDwnMessage({author:t,messageCid:n}){return Eu(this,void 0,void 0,function*(){let{reply:i}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:ya.MessagesGet,messageParams:{messageCids:[n]}});if(!i.entries||1!==i.entries.length)return;const[u]=i.entries,h=u.message;if(!h)return;let l={message:h};if(BC(u))if(u.encodedData){const f=nr.U$.base64Url(u.encodedData).toUint8Array();l.data=new Blob([f])}else{const X=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:ya.RecordsRead,messageParams:{filter:{recordId:u.message.recordId}}})).reply;if(G4(X.status.code)&&X.record)l.data=yield nr.VS.consumeToBlob({readable:X.record.data});else if(!((r=X.status.code)>=400&&r<=499)){const{status:{code:W,detail:k}}=X;throw new Error(`SyncEngineLevel: (${W}) Failed to read data associated with record ${u.message.recordId}. ${k}}`)}}var r;return l})}getSyncPeerState({syncDirection:t}){return Eu(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),i=[];for(let u of n){const h=yield S4(u,this.agent.did);if(0!==h.length)for(let l of h){const f=yield this.getCursor(u,l,t);i.push({did:u,dwnUrl:l,cursor:f})}}return i})}getCursor(t,n,i){return Eu(this,void 0,void 0,function*(){const u=`${t}~${n}~${i}`,h=this.getCursorStore();try{const l=yield h.get(u);if(l)return JSON.parse(l)}catch(l){if(l.notFound)return}})}setCursor(t,n,i,u){return Eu(this,void 0,void 0,function*(){const h=`${t}~${n}~${i}`;yield this.getCursorStore().put(h,JSON.stringify(u))})}messageExists(t,n){return Eu(this,void 0,void 0,function*(){const i=this.getMessageStore(t);try{return yield i.get(n),!0}catch(u){if(u.notFound)return!1;throw u}})}addMessage(t,n){return Eu(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}},8332:(Je,j,_)=>{"use strict";_.d(j,{uW:()=>Mn});var y=_(79677),b=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class H{constructor(ie){this.agent=ie.agent,this.connectedDid=ie.connectedDid}create(ie){return b(this,void 0,void 0,function*(){const oe=yield this.agent.processDidRequest({messageType:y.B2.Create,messageParams:Object.assign({},ie)}),{result:ye}=oe,We=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(ye=Object.getOwnPropertySymbols(Ie);We<ye.length;We++)ie.indexOf(ye[We])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[We])&&(oe[ye[We]]=Ie[ye[We]])}return oe}(oe,["result"]);return Object.assign({did:ye},We)})}resolve(ie,oe){return b(this,void 0,void 0,function*(){const{result:ye}=yield this.agent.processDidRequest({messageParams:{didUri:ie,options:oe},messageType:y.B2.Resolve});return ye})}}var w=_(37475);function O(Ie,ie){let oe;const ye=(0,w.fc)(Ie);if("text/plain"===ie||"String"===ye)oe=new Blob([Ie],{type:"text/plain"});else if("application/json"===ie||"Object"===ye){const We=w.U$.object(Ie).toUint8Array();oe=new Blob([We],{type:"application/json"})}else if("Uint8Array"===ye||"ArrayBuffer"===ye)oe=new Blob([Ie],{type:"application/octet-stream"});else{if("Blob"!==ye)throw new Error("data type not supported.");oe=Ie}return{dataBlob:oe,dataFormat:ie=ie||oe.type||"application/octet-stream"}}class S{static check(ie,oe){let ye=S.cache.get(ie);return!!ye&&ye.has(oe)}static set(ie,oe){let ye=S.cache.get(ie)||new Set;if(S.cache.delete(ie),S.cache.set(ie,ye),this.cache.size>S.sendCacheLimit){const We=S.cache.keys().next().value;S.cache.delete(We)}if(ye.delete(oe),ye.add(oe),ye.size>S.sendCacheLimit){const We=ye.keys().next().value;ye.delete(We)}}}S.cache=new Map,S.sendCacheLimit=100;var B=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})},N=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(ye=Object.getOwnPropertySymbols(Ie);We<ye.length;We++)ie.indexOf(ye[We])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[We])&&(oe[ye[We]]=Ie[ye[We]])}return oe};let U=(()=>{class Ie{get attestation(){return this._attestation}get authorization(){return this._authorization}get author(){return this._author}get contextId(){return this._contextId}get dataFormat(){return this._descriptor.dataFormat}get dateCreated(){return this._descriptor.dateCreated}get encryption(){return this._encryption}get initialWrite(){return this._initialWrite}get id(){return this._recordId}get interface(){return this._descriptor.interface}get method(){return this._descriptor.method}get parentId(){return this._descriptor.parentId}get protocol(){return this._descriptor.protocol}get protocolPath(){return this._descriptor.protocolPath}get protocolRole(){return this._protocolRole}get recipient(){return this._descriptor.recipient}get schema(){return this._descriptor.schema}get dataCid(){return this._descriptor.dataCid}get dataSize(){return this._descriptor.dataSize}get dateModified(){return this._descriptor.messageTimestamp}get datePublished(){return this._descriptor.datePublished}get messageTimestamp(){return this._descriptor.messageTimestamp}get published(){return this._descriptor.published}get tags(){return this._descriptor.tags}get rawMessage(){const oe=JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption}));return(0,w.E8)(oe),oe}constructor(oe,ye){this._agent=oe,this._author=ye.author,this._connectedDid=ye.connectedDid,this._remoteOrigin=ye.remoteOrigin,this._attestation=ye.attestation,this._authorization=ye.authorization,this._contextId=ye.contextId,this._descriptor=ye.descriptor,this._encryption=ye.encryption,this._initialWrite=ye.initialWrite,this._recordId=ye.recordId,this._protocolRole=ye.protocolRole,ye.encodedData&&(this._encodedData="string"==typeof ye.encodedData?new Blob([w.U$.base64Url(ye.encodedData).toUint8Array()],{type:this.dataFormat}):ye.encodedData),ye.data&&(this._readableStream=w.Z6.isReadableStream(ye.data)?w.VS.fromWebReadable({readableStream:ye.data}):ye.data)}get data(){const oe=this;return{blob(){return B(this,void 0,void 0,function*(){return new Blob([yield w.VS.consumeToBytes({readable:yield this.stream()})],{type:oe.dataFormat})})},bytes(){return B(this,void 0,void 0,function*(){return yield w.VS.consumeToBytes({readable:yield this.stream()})})},json(){return B(this,void 0,void 0,function*(){return yield w.VS.consumeToJson({readable:yield this.stream()})})},text(){return B(this,void 0,void 0,function*(){return yield w.VS.consumeToText({readable:yield this.stream()})})},stream(){return B(this,void 0,void 0,function*(){if(oe._encodedData?oe._readableStream=w.VS.fromWebReadable({readableStream:oe._encodedData.stream()}):w.VS.isReadable({readable:oe._readableStream})||(oe._readableStream=oe._remoteOrigin?yield oe.readRecordData({target:oe._remoteOrigin,isRemote:!0}):yield oe.readRecordData({target:oe._connectedDid,isRemote:!1})),!oe._readableStream)throw new Error("Record data is not available.");return oe._readableStream})},then(We,Ze){return this.stream().then(We,Ze)},catch(We){return this.stream().catch(We)}}}store(oe=!1){return B(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:oe,store:!0})})}import(oe=!0){return B(this,void 0,void 0,function*(){return this.processRecord({store:oe,signAsOwner:!0})})}send(oe){return B(this,void 0,void 0,function*(){const ye=this._initialWrite;if(oe??(oe=this._connectedDid),ye&&!Ie._sendCache.check(this._recordId,oe)){const Ze=Object.assign({},ye);(0,w.E8)(Ze),yield this._agent.sendDwnRequest({messageType:y.nx.RecordsWrite,author:this._connectedDid,target:oe,rawMessage:Ze}),Ie._sendCache.set(this._recordId,oe)}const{reply:We}=yield this._agent.sendDwnRequest({messageType:y.nx.RecordsWrite,author:this._connectedDid,dataStream:yield this.data.blob(),target:oe,rawMessage:Object.assign({},this.rawMessage)});return We})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,interface:this.interface,method:this.method,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let oe="Record: {\n";return oe+=`  ID: ${this.id}\n`,oe+=this.contextId?`  Context ID: ${this.contextId}\n`:"",oe+=this.protocol?`  Protocol: ${this.protocol}\n`:"",oe+=this.schema?`  Schema: ${this.schema}\n`:"",oe+=`  Data CID: ${this.dataCid}\n`,oe+=`  Data Format: ${this.dataFormat}\n`,oe+=`  Data Size: ${this.dataSize}\n`,oe+=`  Created: ${this.dateCreated}\n`,oe+=`  Modified: ${this.dateModified}\n`,oe+="}",oe}paginationCursor(oe){return B(this,void 0,void 0,function*(){return(0,y.X7)(this.rawMessage,oe)})}update(oe){var{dateModified:ye,data:We}=oe,Ze=N(oe,["dateModified","data"]);return B(this,void 0,void 0,function*(){const ht=this._descriptor,{parentId:$t}=ht,bn=N(ht,["parentId"]),zt=$t?this._contextId.split("/").slice(0,-1).join("/"):void 0;let tn,dt=Object.assign(Object.assign(Object.assign({},bn),Ze),{parentContextId:zt,messageTimestamp:ye,recordId:this._recordId});((0,w.RI)(dt.tags)||null===dt.tags)&&delete dt.tags,void 0!==We&&(delete dt.dataCid,delete dt.dataSize,({dataBlob:tn}=O(We,dt.dataFormat)));const fr=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);Ie.verifyPermittedMutation(Object.keys(Ze),fr),!1===Ze.published&&void 0!==dt.datePublished&&delete dt.datePublished;const lr=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:tn,messageParams:Object.assign({},dt),messageType:y.nx.RecordsWrite,target:this._connectedDid}),{message:$r,reply:{status:ni}}=lr,ui=$r;return 200<=ni.code&&ni.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=ui.authorization,this._protocolRole=Ze.protocolRole,fr.forEach(Ii=>{this._descriptor[Ii]=ui.descriptor[Ii]}),void 0!==We&&(this._encodedData=tn)),{status:ni}})}processRecord({store:oe,signAsOwner:ye}){return B(this,void 0,void 0,function*(){if(this._initialWrite&&(ye&&!this._initialWriteSigned||oe&&!this._initialWriteStored)){const zt={messageType:y.nx.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:ye,store:oe},dt=yield this._agent.processDwnRequest(zt),{message:tn,reply:{status:fr}}=dt,lr=tn;200<=fr.code&&fr.code<=299&&(oe&&(this._initialWriteStored=!0),ye&&(this._initialWriteSigned=!0,this.initialWrite.authorization=lr.authorization))}const We={messageType:y.nx.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:ye,store:oe},Ze=yield this._agent.processDwnRequest(We),{message:ht,reply:{status:$t}}=Ze;return 200<=$t.code&&$t.code<=299&&ye&&(this._authorization=ht.authorization),{status:$t}})}readRecordData({target:oe,isRemote:ye}){return B(this,void 0,void 0,function*(){const We={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:y.nx.RecordsRead,target:oe},Ze=ye?this._agent.sendDwnRequest(We):this._agent.processDwnRequest(We);try{const{reply:{record:ht}}=yield Ze,$t=ht.data;return w.Z6.isReadableStream($t)?w.VS.fromWebReadable({readableStream:$t}):$t}catch(ht){throw new Error(`Error encountered while attempting to read data: ${ht.message}`)}})}static verifyPermittedMutation(oe,ye){for(const We of oe)if(!ye.has(We))throw new Error(`${We} is an immutable property. Its value cannot be changed.`)}}return Ie._sendCache=S,Ie})();class G{constructor(ie,oe,ye){this._agent=ie,this._metadata=ye,this._protocolsConfigureMessage=oe}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(ie){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){const{reply:oe}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:y.nx.ProtocolsConfigure,target:ie});return{status:oe.status}})}}var L=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class ee{constructor(ie){this.agent=ie.agent,this.connectedDid=ie.connectedDid}get protocols(){return{configure:ie=>L(this,void 0,void 0,function*(){const oe=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:ie.message,messageType:y.nx.ProtocolsConfigure,target:this.connectedDid}),{message:ye,messageCid:We,reply:{status:Ze}}=oe,ht={status:Ze};return Ze.code<300&&(ht.protocol=new G(this.agent,ye,{author:this.connectedDid,messageCid:We})),ht}),query:ie=>L(this,void 0,void 0,function*(){const oe={author:this.connectedDid,messageParams:ie.message,messageType:y.nx.ProtocolsQuery,target:ie.from||this.connectedDid};let ye;ye=ie.from?yield this.agent.sendDwnRequest(oe):yield this.agent.processDwnRequest(oe);const We=ye.reply,{entries:Ze=[],status:ht}=We;return{protocols:Ze.map(bn=>new G(this.agent,bn,{author:this.connectedDid})),status:ht}})}}get records(){return{create:ie=>L(this,void 0,void 0,function*(){return this.records.write(ie)}),createFrom:ie=>L(this,void 0,void 0,function*(){var oe;const ye=ie.record.toJSON(),{author:We}=ye,Ze=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(ye=Object.getOwnPropertySymbols(Ie);We<ye.length;We++)ie.indexOf(ye[We])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[We])&&(oe[ye[We]]=Ie[ye[We]])}return oe}(ye,["author"]);return void 0!==ie.data&&(delete Ze.dataCid,delete Ze.dataSize),!1===(null===(oe=ie.message)||void 0===oe?void 0:oe.published)&&void 0!==Ze.datePublished&&(delete Ze.datePublished,delete Ze.published),(!(0,w.RI)(ie.message)||ie.author&&ie.author!==We)&&delete Ze.recordId,this.records.write({data:ie.data,message:Object.assign(Object.assign({},Ze),ie.message)})}),delete:ie=>L(this,void 0,void 0,function*(){const oe={author:this.connectedDid,messageParams:ie.message,messageType:y.nx.RecordsDelete,target:ie.from||this.connectedDid};let ye;ye=ie.from?yield this.agent.sendDwnRequest(oe):yield this.agent.processDwnRequest(oe);const{reply:{status:We}}=ye;return{status:We}}),query:ie=>L(this,void 0,void 0,function*(){const oe={author:this.connectedDid,messageParams:ie.message,messageType:y.nx.RecordsQuery,target:ie.from||this.connectedDid};let ye;ye=ie.from?yield this.agent.sendDwnRequest(oe):yield this.agent.processDwnRequest(oe);const We=ye.reply,{entries:Ze,status:ht,cursor:$t}=We;return{records:Ze.map(zt=>{const dt=Object.assign({author:(0,y.dK)(zt),connectedDid:this.connectedDid,remoteOrigin:ie.from},zt);return new U(this.agent,dt)}),status:ht,cursor:$t}}),read:ie=>L(this,void 0,void 0,function*(){const oe={author:this.connectedDid,messageParams:ie.message,messageType:y.nx.RecordsRead,target:ie.from||this.connectedDid};let ye;ye=ie.from?yield this.agent.sendDwnRequest(oe):yield this.agent.processDwnRequest(oe);const{reply:{record:We,status:Ze}}=ye;let ht;if(200<=Ze.code&&Ze.code<=299){const $t=Object.assign({author:(0,y.dK)(We),connectedDid:this.connectedDid,remoteOrigin:ie.from},We);ht=new U(this.agent,$t)}return{record:ht,status:Ze}}),write:ie=>L(this,void 0,void 0,function*(){var oe;const{dataBlob:ye,dataFormat:We}=O(ie.data,null===(oe=ie.message)||void 0===oe?void 0:oe.dataFormat),Ze=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:ye,messageParams:Object.assign(Object.assign({},ie.message),{dataFormat:We}),messageType:y.nx.RecordsWrite,store:ie.store,target:this.connectedDid}),{message:ht,reply:{status:$t}}=Ze;let bn;if(200<=$t.code&&$t.code<=299){const zt=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:ye},ht);bn=new U(this.agent,zt)}return{record:bn,status:$t}})}}}class Z{constructor(ie){this.agent=ie.agent,this.connectedDid=ie.connectedDid}create(){return Ie=this,ie=void 0,ye=function*(){throw new Error("Not implemented.")},new((oe=void 0)||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())});var Ie,ie,oe,ye}}var J=function(Ie){return Ie.authentication="authentication",Ie.assertionMethod="assertionMethod",Ie.keyAgreement="keyAgreement",Ie.capabilityInvocation="capabilityInvocation",Ie.capabilityDelegation="capabilityDelegation",Ie}(J||{});const se={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ce{constructor({method:ie,id:oe,path:ye,query:We,fragment:Ze,params:ht}){this.uri=`did:${ie}:${oe}`,this.method=ie,this.id=oe,this.path=ye,this.query=We,this.fragment=Ze,this.params=ht}static parse(ie){if(!ie)return null;const oe=ce.DID_URI_PATTERN.exec(ie);if(!oe||!oe.groups)return null;const{method:ye,id:We,path:Ze,query:ht,fragment:$t}=oe.groups,bn={uri:`did:${ye}:${We}`,method:ye,id:We};if(Ze&&(bn.path=Ze),ht&&(bn.query=ht.slice(1)),$t&&(bn.fragment=$t.slice(1)),ht){const zt={},dt=ht.slice(1).split("&");for(const tn of dt){const[fr,lr]=tn.split("=");zt[fr]=lr}bn.params=zt}return bn}}ce.METHOD_PATTERN="([a-z0-9]+)",ce.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ce.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ce.PCT_ENCODED_PATTERN})`,ce.METHOD_ID_PATTERN=`((?:${ce.ID_CHAR_PATTERN}*:)*(${ce.ID_CHAR_PATTERN}+))`,ce.PATH_PATTERN="(/[^#?]*)?",ce.QUERY_PATTERN="([?][^#]*)?",ce.FRAGMENT_PATTERN="(#.*)?",ce.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ce.METHOD_PATTERN}):(?<id>${ce.METHOD_ID_PATTERN})(?<path>${ce.PATH_PATTERN})(?<query>${ce.QUERY_PATTERN})(?<fragment>${ce.FRAGMENT_PATTERN})$`);class ae extends Error{constructor(ie,oe){super(`${ie}: ${oe}`),this.code=ie,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ae)}}var fe=function(Ie){return Ie.InvalidDid="invalidDid",Ie.MethodNotSupported="methodNotSupported",Ie.InternalError="internalError",Ie.InvalidDidDocument="invalidDidDocument",Ie.InvalidDidDocumentLength="invalidDidDocumentLength",Ie.InvalidDidUrl="invalidDidUrl",Ie.InvalidPreviousDidProof="invalidPreviousDidProof",Ie.InvalidPublicKey="invalidPublicKey",Ie.InvalidPublicKeyLength="invalidPublicKeyLength",Ie.InvalidPublicKeyType="invalidPublicKeyType",Ie.InvalidSignature="invalidSignature",Ie.NotFound="notFound",Ie.RepresentationNotSupported="representationNotSupported",Ie.UnsupportedPublicKeyType="unsupportedPublicKeyType",Ie}(fe||{}),he=_(47565);class Me{static digest({data:ie}){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){return(0,he.s)(ie)})}}class Pe{}var d=_(94256),m=_(91006);const D="urn:jwk:";function R({jwk:Ie}){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){const ie=Ie.kty;let oe;if("EC"===ie)oe={crv:Ie.crv,kty:Ie.kty,x:Ie.x,y:Ie.y};else if("oct"===ie)oe={k:Ie.k,kty:Ie.kty};else if("OKP"===ie)oe={crv:Ie.crv,kty:Ie.kty,x:Ie.x};else{if("RSA"!==ie)throw new Error(`Unsupported key type: ${ie}`);oe={e:Ie.e,kty:Ie.kty,n:Ie.n}}(0,w.E8)(oe);const ye=function p(Ie){const ie=ye=>{if(null!==ye&&"object"==typeof ye&&!Array.isArray(ye)){const We=Object.keys(ye).sort(),Ze={};for(const ht of We)Ze[ht]=ie(ye[ht]);return Ze}return ye},oe=ie(Ie);return JSON.stringify(oe)}(oe),We=w.U$.string(ye).toUint8Array(),Ze=yield Me.digest({data:We});return w.U$.uint8Array(Ze).toBase64Url()})}function x(Ie){return!(!Ie||"object"!=typeof Ie||!("kty"in Ie&&"crv"in Ie&&"x"in Ie&&"d"in Ie)||"EC"!==Ie.kty||"string"!=typeof Ie.d||"string"!=typeof Ie.x)}function s(Ie){return!(!Ie||"object"!=typeof Ie||!("kty"in Ie&&"crv"in Ie&&"x"in Ie)||"d"in Ie||"EC"!==Ie.kty||"string"!=typeof Ie.x)}function $(Ie){return!(!Ie||"object"!=typeof Ie||!("kty"in Ie&&"crv"in Ie&&"x"in Ie&&"d"in Ie)||"OKP"!==Ie.kty||"string"!=typeof Ie.d||"string"!=typeof Ie.x)}function F(Ie){return!(!Ie||"object"!=typeof Ie||"d"in Ie||!("kty"in Ie&&"crv"in Ie&&"x"in Ie)||"OKP"!==Ie.kty||"string"!=typeof Ie.x)}var Ce=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class Ve{static adjustSignatureToLowS({signature:ie}){return Ce(this,void 0,void 0,function*(){const oe=d.bI.Signature.fromCompact(ie);return oe.hasHighS()?oe.normalizeS().toCompactRawBytes():ie})}static bytesToPrivateKey({privateKeyBytes:ie}){return Ce(this,void 0,void 0,function*(){const oe=yield Ve.getCurvePoint({keyBytes:ie}),ye={kty:"EC",crv:"secp256k1",d:w.U$.uint8Array(ie).toBase64Url(),x:w.U$.uint8Array(oe.x).toBase64Url(),y:w.U$.uint8Array(oe.y).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static bytesToPublicKey({publicKeyBytes:ie}){return Ce(this,void 0,void 0,function*(){const oe=yield Ve.getCurvePoint({keyBytes:ie}),ye={kty:"EC",crv:"secp256k1",x:w.U$.uint8Array(oe.x).toBase64Url(),y:w.U$.uint8Array(oe.y).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static compressPublicKey({publicKeyBytes:ie}){return Ce(this,void 0,void 0,function*(){return d.bI.ProjectivePoint.fromHex(ie).toRawBytes(!0)})}static computePublicKey({key:ie}){return Ce(this,void 0,void 0,function*(){const oe=yield Ve.privateKeyToBytes({privateKey:ie}),ye=yield Ve.getCurvePoint({keyBytes:oe}),We={kty:"EC",crv:"secp256k1",x:w.U$.uint8Array(ye.x).toBase64Url(),y:w.U$.uint8Array(ye.y).toBase64Url()};return We.kid=yield R({jwk:We}),We})}static convertDerToCompactSignature({derSignature:ie}){return Ce(this,void 0,void 0,function*(){return d.bI.Signature.fromDER(ie).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:ie}){return Ce(this,void 0,void 0,function*(){return d.bI.ProjectivePoint.fromHex(ie).toRawBytes(!1)})}static generateKey(){return Ce(this,void 0,void 0,function*(){const ie=d.bI.utils.randomPrivateKey(),oe=yield Ve.bytesToPrivateKey({privateKeyBytes:ie});return oe.kid=yield R({jwk:oe}),oe})}static getPublicKey({key:ie}){var oe;return Ce(this,void 0,void 0,function*(){if(!x(ie)||"secp256k1"!==ie.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let We=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(ye=Object.getOwnPropertySymbols(Ie);We<ye.length;We++)ie.indexOf(ye[We])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[We])&&(oe[ye[We]]=Ie[ye[We]])}return oe}(ie,["d"]);return null!==(oe=We.kid)&&void 0!==oe||(We.kid=yield R({jwk:We})),We})}static privateKeyToBytes({privateKey:ie}){return Ce(this,void 0,void 0,function*(){if(!x(ie))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return w.U$.base64Url(ie.d).toUint8Array()})}static publicKeyToBytes({publicKey:ie}){return Ce(this,void 0,void 0,function*(){if(!s(ie)||!ie.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const oe=new Uint8Array([4]),ye=w.U$.base64Url(ie.x).toUint8Array(),We=w.U$.base64Url(ie.y).toUint8Array();return new Uint8Array([...oe,...ye,...We])})}static sharedSecret({privateKeyA:ie,publicKeyB:oe}){return Ce(this,void 0,void 0,function*(){if("x"in ie&&"x"in oe&&ie.x===oe.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ye=yield Ve.privateKeyToBytes({privateKey:ie}),We=yield Ve.publicKeyToBytes({publicKey:oe});return d.bI.getSharedSecret(ye,We,!0).slice(1)})}static sign({data:ie,key:oe}){return Ce(this,void 0,void 0,function*(){const ye=yield Ve.privateKeyToBytes({privateKey:oe}),We=(0,he.s)(ie);return d.bI.sign(We,ye).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:ie}){return Ce(this,void 0,void 0,function*(){return d.bI.utils.isValidPrivateKey(ie)})}static validatePublicKey({publicKeyBytes:ie}){return Ce(this,void 0,void 0,function*(){try{d.bI.ProjectivePoint.fromHex(ie).assertValidity()}catch{return!1}return!0})}static verify({key:ie,signature:oe,data:ye}){return Ce(this,void 0,void 0,function*(){const We=yield Ve.publicKeyToBytes({publicKey:ie}),Ze=(0,he.s)(ye);return d.bI.verify(oe,Ze,We,{lowS:!1})})}static getCurvePoint({keyBytes:ie}){return Ce(this,void 0,void 0,function*(){32===ie.byteLength&&(ie=d.bI.getPublicKey(ie));const oe=d.bI.ProjectivePoint.fromHex(ie);return{x:(0,m.lq)(oe.x,32),y:(0,m.lq)(oe.y,32)}})}}var Ee=_(40499),_e=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class be{static adjustSignatureToLowS({signature:ie}){return _e(this,void 0,void 0,function*(){const oe=Ee.Ag.Signature.fromCompact(ie);return oe.hasHighS()?oe.normalizeS().toCompactRawBytes():ie})}static bytesToPrivateKey({privateKeyBytes:ie}){return _e(this,void 0,void 0,function*(){const oe=yield be.getCurvePoint({keyBytes:ie}),ye={kty:"EC",crv:"P-256",d:w.U$.uint8Array(ie).toBase64Url(),x:w.U$.uint8Array(oe.x).toBase64Url(),y:w.U$.uint8Array(oe.y).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static bytesToPublicKey({publicKeyBytes:ie}){return _e(this,void 0,void 0,function*(){const oe=yield be.getCurvePoint({keyBytes:ie}),ye={kty:"EC",crv:"P-256",x:w.U$.uint8Array(oe.x).toBase64Url(),y:w.U$.uint8Array(oe.y).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static compressPublicKey({publicKeyBytes:ie}){return _e(this,void 0,void 0,function*(){return Ee.Ag.ProjectivePoint.fromHex(ie).toRawBytes(!0)})}static computePublicKey({key:ie}){return _e(this,void 0,void 0,function*(){const oe=yield be.privateKeyToBytes({privateKey:ie}),ye=yield be.getCurvePoint({keyBytes:oe}),We={kty:"EC",crv:"P-256",x:w.U$.uint8Array(ye.x).toBase64Url(),y:w.U$.uint8Array(ye.y).toBase64Url()};return We.kid=yield R({jwk:We}),We})}static convertDerToCompactSignature({derSignature:ie}){return _e(this,void 0,void 0,function*(){return Ee.Ag.Signature.fromDER(ie).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:ie}){return _e(this,void 0,void 0,function*(){return Ee.Ag.ProjectivePoint.fromHex(ie).toRawBytes(!1)})}static generateKey(){return _e(this,void 0,void 0,function*(){const ie=Ee.Ag.utils.randomPrivateKey(),oe=yield be.bytesToPrivateKey({privateKeyBytes:ie});return oe.kid=yield R({jwk:oe}),oe})}static getPublicKey({key:ie}){var oe;return _e(this,void 0,void 0,function*(){if(!x(ie)||"P-256"!==ie.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let We=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(ye=Object.getOwnPropertySymbols(Ie);We<ye.length;We++)ie.indexOf(ye[We])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[We])&&(oe[ye[We]]=Ie[ye[We]])}return oe}(ie,["d"]);return null!==(oe=We.kid)&&void 0!==oe||(We.kid=yield R({jwk:We})),We})}static privateKeyToBytes({privateKey:ie}){return _e(this,void 0,void 0,function*(){if(!x(ie))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return w.U$.base64Url(ie.d).toUint8Array()})}static publicKeyToBytes({publicKey:ie}){return _e(this,void 0,void 0,function*(){if(!s(ie)||!ie.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const oe=new Uint8Array([4]),ye=w.U$.base64Url(ie.x).toUint8Array(),We=w.U$.base64Url(ie.y).toUint8Array();return new Uint8Array([...oe,...ye,...We])})}static sharedSecret({privateKeyA:ie,publicKeyB:oe}){return _e(this,void 0,void 0,function*(){if("x"in ie&&"x"in oe&&ie.x===oe.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ye=yield be.privateKeyToBytes({privateKey:ie}),We=yield be.publicKeyToBytes({publicKey:oe});return Ee.Ag.getSharedSecret(ye,We,!0).slice(1)})}static sign({data:ie,key:oe}){return _e(this,void 0,void 0,function*(){const ye=yield be.privateKeyToBytes({privateKey:oe}),We=(0,he.s)(ie);return Ee.Ag.sign(We,ye).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:ie}){return _e(this,void 0,void 0,function*(){return Ee.Ag.utils.isValidPrivateKey(ie)})}static validatePublicKey({publicKeyBytes:ie}){return _e(this,void 0,void 0,function*(){try{Ee.Ag.ProjectivePoint.fromHex(ie).assertValidity()}catch{return!1}return!0})}static verify({key:ie,signature:oe,data:ye}){return _e(this,void 0,void 0,function*(){const We=yield be.publicKeyToBytes({publicKey:ie}),Ze=(0,he.s)(ye);return Ee.Ag.verify(oe,Ze,We,{lowS:!1})})}static getCurvePoint({keyBytes:ie}){return _e(this,void 0,void 0,function*(){32===ie.byteLength&&(ie=Ee.Ag.getPublicKey(ie));const oe=Ee.Ag.ProjectivePoint.fromHex(ie);return{x:(0,m.lq)(oe.x,32),y:(0,m.lq)(oe.y,32)}})}}var Ae=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class ge extends Pe{computePublicKey({key:ie}){return Ae(this,void 0,void 0,function*(){if(!x(ie))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(ie.crv){case"secp256k1":{const oe=yield Ve.computePublicKey({key:ie});return oe.alg="ES256K",oe}case"P-256":{const oe=yield be.computePublicKey({key:ie});return oe.alg="ES256",oe}default:throw new Error(`Unsupported curve: ${ie.crv}`)}})}generateKey({algorithm:ie}){return Ae(this,void 0,void 0,function*(){switch(ie){case"ES256K":case"secp256k1":{const oe=yield Ve.generateKey();return oe.alg="ES256K",oe}case"ES256":case"secp256r1":{const oe=yield be.generateKey();return oe.alg="ES256",oe}}})}getPublicKey({key:ie}){return Ae(this,void 0,void 0,function*(){if(!x(ie))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(ie.crv){case"secp256k1":{const oe=yield Ve.getPublicKey({key:ie});return oe.alg="ES256K",oe}case"P-256":{const oe=yield be.getPublicKey({key:ie});return oe.alg="ES256",oe}default:throw new Error(`Unsupported curve: ${ie.crv}`)}})}sign({key:ie,data:oe}){return Ae(this,void 0,void 0,function*(){if(!x(ie))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(ie.crv){case"secp256k1":return yield Ve.sign({key:ie,data:oe});case"P-256":return yield be.sign({key:ie,data:oe});default:throw new Error(`Unsupported curve: ${ie.crv}`)}})}verify({key:ie,signature:oe,data:ye}){return Ae(this,void 0,void 0,function*(){if(!s(ie))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(ie.crv){case"secp256k1":return yield Ve.verify({key:ie,signature:oe,data:ye});case"P-256":return yield be.verify({key:ie,signature:oe,data:ye});default:throw new Error(`Unsupported curve: ${ie.crv}`)}})}}var me=_(86295),te=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class ue{static bytesToPrivateKey({privateKeyBytes:ie}){return te(this,void 0,void 0,function*(){const oe=me.ev.getPublicKey(ie),ye={crv:"Ed25519",d:w.U$.uint8Array(ie).toBase64Url(),kty:"OKP",x:w.U$.uint8Array(oe).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static bytesToPublicKey({publicKeyBytes:ie}){return te(this,void 0,void 0,function*(){const oe={kty:"OKP",crv:"Ed25519",x:w.U$.uint8Array(ie).toBase64Url()};return oe.kid=yield R({jwk:oe}),oe})}static computePublicKey({key:ie}){return te(this,void 0,void 0,function*(){const oe=yield ue.privateKeyToBytes({privateKey:ie}),ye=me.ev.getPublicKey(oe),We={kty:"OKP",crv:"Ed25519",x:w.U$.uint8Array(ye).toBase64Url()};return We.kid=yield R({jwk:We}),We})}static convertPrivateKeyToX25519({privateKey:ie}){return te(this,void 0,void 0,function*(){const oe=yield ue.privateKeyToBytes({privateKey:ie}),ye=(0,me.OA)(oe),We=me.TU.getPublicKey(ye),Ze={kty:"OKP",crv:"X25519",d:w.U$.uint8Array(ye).toBase64Url(),x:w.U$.uint8Array(We).toBase64Url()};return Ze.kid=yield R({jwk:Ze}),Ze})}static convertPublicKeyToX25519({publicKey:ie}){return te(this,void 0,void 0,function*(){const oe=yield ue.publicKeyToBytes({publicKey:ie});if(!(yield ue.validatePublicKey({publicKeyBytes:oe})))throw new Error("Ed25519: Invalid public key.");const We=(0,me.GU)(oe),Ze={kty:"OKP",crv:"X25519",x:w.U$.uint8Array(We).toBase64Url()};return Ze.kid=yield R({jwk:Ze}),Ze})}static generateKey(){return te(this,void 0,void 0,function*(){const ie=me.ev.utils.randomPrivateKey(),oe=yield ue.bytesToPrivateKey({privateKeyBytes:ie});return oe.kid=yield R({jwk:oe}),oe})}static getPublicKey({key:ie}){var oe;return te(this,void 0,void 0,function*(){if(!$(ie)||"Ed25519"!==ie.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let We=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(ye=Object.getOwnPropertySymbols(Ie);We<ye.length;We++)ie.indexOf(ye[We])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[We])&&(oe[ye[We]]=Ie[ye[We]])}return oe}(ie,["d"]);return null!==(oe=We.kid)&&void 0!==oe||(We.kid=yield R({jwk:We})),We})}static privateKeyToBytes({privateKey:ie}){return te(this,void 0,void 0,function*(){if(!$(ie))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return w.U$.base64Url(ie.d).toUint8Array()})}static publicKeyToBytes({publicKey:ie}){return te(this,void 0,void 0,function*(){if(!F(ie))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return w.U$.base64Url(ie.x).toUint8Array()})}static sign({key:ie,data:oe}){return te(this,void 0,void 0,function*(){const ye=yield ue.privateKeyToBytes({privateKey:ie});return me.ev.sign(oe,ye)})}static validatePublicKey({publicKeyBytes:ie}){return te(this,void 0,void 0,function*(){try{me.ev.ExtendedPoint.fromHex(ie).assertValidity()}catch{return!1}return!0})}static verify({key:ie,signature:oe,data:ye}){return te(this,void 0,void 0,function*(){const We=yield ue.publicKeyToBytes({publicKey:ie});return me.ev.verify(oe,ye,We)})}}var De=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})},Qe=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};const ze={Ed25519:{implementation:class Be extends Pe{computePublicKey({key:ie}){return De(this,void 0,void 0,function*(){if(!$(ie))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===ie.crv){const oe=yield ue.computePublicKey({key:ie});return oe.alg="EdDSA",oe}throw new Error(`Unsupported curve: ${ie.crv}`)})}generateKey({algorithm:ie}){return De(this,void 0,void 0,function*(){if("Ed25519"===ie){const oe=yield ue.generateKey();return oe.alg="EdDSA",oe}})}getPublicKey({key:ie}){return De(this,void 0,void 0,function*(){if(!$(ie))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===ie.crv){const oe=yield ue.getPublicKey({key:ie});return oe.alg="EdDSA",oe}throw new Error(`Unsupported curve: ${ie.crv}`)})}sign({key:ie,data:oe}){return De(this,void 0,void 0,function*(){if(!$(ie))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===ie.crv)return yield ue.sign({key:ie,data:oe});throw new Error(`Unsupported curve: ${ie.crv}`)})}verify({key:ie,signature:oe,data:ye}){return De(this,void 0,void 0,function*(){if(!F(ie))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===ie.crv)return yield ue.verify({key:ie,signature:oe,data:ye});throw new Error(`Unsupported curve: ${ie.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:ge,names:["ES256K","secp256k1"]},secp256r1:{implementation:ge,names:["ES256","secp256r1"]},"SHA-256":{implementation:class a extends Pe{digest({algorithm:ie,data:oe}){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===ie)return yield Me.digest({data:oe})})}},names:["SHA-256"]}};class Dt{constructor(ie){var oe;this._algorithmInstances=new Map,this._keyStore=null!==(oe=ie?.keyStore)&&void 0!==oe?oe:new w.ny}digest({algorithm:ie,data:oe}){return Qe(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:ie}).digest({algorithm:ie,data:oe})})}exportKey({keyUri:ie}){return Qe(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:ie})})}generateKey({algorithm:ie}){return Qe(this,void 0,void 0,function*(){const ye=yield this.getAlgorithm({algorithm:ie}).generateKey({algorithm:ie});if(void 0===ye?.kid)throw new Error("Generated key is missing a required property: kid");const We=`${D}${ye.kid}`;return yield this._keyStore.set(We,ye),We})}getKeyUri({key:ie}){return Qe(this,void 0,void 0,function*(){const oe=yield R({jwk:ie});return`${D}${oe}`})}getPublicKey({keyUri:ie}){return Qe(this,void 0,void 0,function*(){const oe=yield this.getPrivateKey({keyUri:ie}),ye=this.getAlgorithmName({key:oe});return yield this.getAlgorithm({algorithm:ye}).getPublicKey({key:oe})})}importKey({key:ie}){var oe;return Qe(this,void 0,void 0,function*(){if(!function Q(Ie){if(!Ie||"object"!=typeof Ie)return!1;switch(Ie.kty){case"EC":case"OKP":case"RSA":return"d"in Ie;case"oct":return"k"in Ie;default:return!1}}(ie))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const ye=structuredClone(ie);null!==(oe=ye.kid)&&void 0!==oe||(ye.kid=yield R({jwk:ye}));const We=yield this.getKeyUri({key:ye});return yield this._keyStore.set(We,ye),We})}sign({keyUri:ie,data:oe}){return Qe(this,void 0,void 0,function*(){const ye=yield this.getPrivateKey({keyUri:ie}),We=this.getAlgorithmName({key:ye});return this.getAlgorithm({algorithm:We}).sign({data:oe,key:ye})})}verify({key:ie,signature:oe,data:ye}){return Qe(this,void 0,void 0,function*(){const We=this.getAlgorithmName({key:ie});return this.getAlgorithm({algorithm:We}).verify({key:ie,signature:oe,data:ye})})}getAlgorithm({algorithm:ie}){var oe;const ye=null===(oe=ze[ie])||void 0===oe?void 0:oe.implementation;if(!ye)throw new Error(`Algorithm not supported: ${ie}`);return this._algorithmInstances.has(ye)||this._algorithmInstances.set(ye,new ye),this._algorithmInstances.get(ye)}getAlgorithmName({key:ie}){const oe=ie.alg,ye=ie.crv;for(const We in ze){const Ze=ze[We];if(oe&&Ze.names.includes(oe))return We;if(ye&&Ze.names.includes(ye))return We}throw new Error(`Unable to determine algorithm based on provided input: alg=${oe}, crv=${ye}`)}getPrivateKey({keyUri:ie}){return Qe(this,void 0,void 0,function*(){const oe=yield this._keyStore.get(ie);if(!oe)throw new Error(`Key not found: ${ie}`);return oe})}}function T(Ie){const ie={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(Ie.alg&&Object.values(ie).includes(Ie.alg))return Ie.alg;if(Ie.crv&&Object.keys(ie).includes(Ie.crv))return ie[Ie.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${Ie.alg}, crv=${Ie.crv}. Supported 'alg' values: ${Object.values(ie).join(", ")}. Supported 'crv' values: ${Object.keys(ie).join(", ")}.`)}_(86703),_(62953),_(91879);var xt=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class tt{static bytesToPrivateKey({privateKeyBytes:ie}){return xt(this,void 0,void 0,function*(){const oe=me.TU.getPublicKey(ie),ye={kty:"OKP",crv:"X25519",d:w.U$.uint8Array(ie).toBase64Url(),x:w.U$.uint8Array(oe).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static bytesToPublicKey({publicKeyBytes:ie}){return xt(this,void 0,void 0,function*(){const oe={kty:"OKP",crv:"X25519",x:w.U$.uint8Array(ie).toBase64Url()};return oe.kid=yield R({jwk:oe}),oe})}static computePublicKey({key:ie}){return xt(this,void 0,void 0,function*(){const oe=yield tt.privateKeyToBytes({privateKey:ie}),ye=me.TU.getPublicKey(oe),We={kty:"OKP",crv:"X25519",x:w.U$.uint8Array(ye).toBase64Url()};return We.kid=yield R({jwk:We}),We})}static generateKey(){return xt(this,void 0,void 0,function*(){const ie=me.TU.utils.randomPrivateKey(),oe=yield tt.bytesToPrivateKey({privateKeyBytes:ie});return oe.kid=yield R({jwk:oe}),oe})}static getPublicKey({key:ie}){var oe;return xt(this,void 0,void 0,function*(){if(!$(ie)||"X25519"!==ie.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let We=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(ye=Object.getOwnPropertySymbols(Ie);We<ye.length;We++)ie.indexOf(ye[We])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[We])&&(oe[ye[We]]=Ie[ye[We]])}return oe}(ie,["d"]);return null!==(oe=We.kid)&&void 0!==oe||(We.kid=yield R({jwk:We})),We})}static privateKeyToBytes({privateKey:ie}){return xt(this,void 0,void 0,function*(){if(!$(ie))throw new Error("X25519: The provided key is not a valid OKP private key.");return w.U$.base64Url(ie.d).toUint8Array()})}static publicKeyToBytes({publicKey:ie}){return xt(this,void 0,void 0,function*(){if(!F(ie))throw new Error("X25519: The provided key is not a valid OKP public key.");return w.U$.base64Url(ie.x).toUint8Array()})}static sharedSecret({privateKeyA:ie,publicKeyB:oe}){return xt(this,void 0,void 0,function*(){if("x"in ie&&"x"in oe&&ie.x===oe.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ye=yield tt.privateKeyToBytes({privateKey:ie}),We=yield tt.publicKeyToBytes({publicKey:oe});return me.TU.getSharedSecret(ye,We)})}}function Ln(Ie){if("string"==typeof Ie&&0!==Ie.length)return Ie.split("#").pop()}function hr(Ie){return!(!Ie||"object"!=typeof Ie||null===Ie||!("id"in Ie&&"type"in Ie&&"controller"in Ie)||"string"!=typeof Ie.id||"string"!=typeof Ie.type||"string"!=typeof Ie.controller)}_(94730);var Ur=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class Lr{constructor({uri:ie,document:oe,metadata:ye,keyManager:We}){this.uri=ie,this.document=oe,this.metadata=ye,this.keyManager=We}export(){return Ur(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let ie={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const oe=[];for(let ye of this.document.verificationMethod){if(!ye.publicKeyJwk)throw new Error(`Verification method '${ye.id}' does not contain a public key in JWK format`);const We=yield this.keyManager.getKeyUri({key:ye.publicKeyJwk}),Ze=yield this.keyManager.exportKey({keyUri:We});oe.push(Object.assign({},Ze))}ie.privateKeys=oe}return ie})}getSigner(ie){return Ur(this,void 0,void 0,function*(){var oe;const ye=null===(oe=this.document.verificationMethod)||void 0===oe?void 0:oe.find(bn=>{var zt,dt;return Ln(bn.id)===(null!==(zt=Ln(ie?.methodId))&&void 0!==zt?zt:Ln(null===(dt=this.document.assertionMethod)||void 0===dt?void 0:dt[0]))});if(!ye||!ye.publicKeyJwk)throw new ae(fe.InternalError,"A verification method intended for signing could not be determined from the DID Document");const We=yield this.keyManager.getKeyUri({key:ye.publicKeyJwk}),Ze=yield this.keyManager.getPublicKey({keyUri:We}),ht=this.keyManager;return{algorithm:T(Ze),keyId:ye.id,sign(bn){return Ur(this,arguments,void 0,function*({data:zt}){return yield ht.sign({data:zt,keyUri:We})})},verify(bn){return Ur(this,arguments,void 0,function*({data:zt,signature:dt}){return yield ht.verify({data:zt,key:Ze,signature:dt})})}}})}static import(ie){return Ur(this,arguments,void 0,function*({portableDid:oe,keyManager:ye=new Dt}){var We;const Ze=function ct({didDocument:Ie}){var ie,oe;if(!Ie)throw new TypeError("Required parameter missing: 'didDocument'");const ye=[];return ye.push(...null!==(oe=null===(ie=Ie.verificationMethod)||void 0===ie?void 0:ie.filter(hr))&&void 0!==oe?oe:[]),Object.keys(J).forEach(We=>{var Ze,ht;ye.push(...null!==(ht=null===(Ze=Ie[We])||void 0===Ze?void 0:Ze.filter(hr))&&void 0!==ht?ht:[])}),ye}({didDocument:oe.document});if(0===Ze.length)throw new ae(fe.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let $t of null!==(We=oe.privateKeys)&&void 0!==We?We:[])yield ye.importKey({key:$t});for(let $t of Ze){if(!$t.publicKeyJwk)throw new Error(`Verification method '${$t.id}' does not contain a public key in JWK format`);const bn=yield ye.getKeyUri({key:$t.publicKeyJwk});yield ye.getPublicKey({keyUri:bn})}return new Lr({uri:oe.uri,document:oe.document,metadata:oe.metadata,keyManager:ye})})}}var oi=_(2198),on=_(49402),_n=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class Dn{static getSigningMethod(ie){return _n(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(ie,oe){return _n(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Wn=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})},Gn=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(ye=Object.getOwnPropertySymbols(Ie);We<ye.length;We++)ie.indexOf(ye[We])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[We])&&(oe[ye[We]]=Ie[ye[We]])}return oe};const wr="https://diddht.tbddev.org",jr=7200,Ti=",";var wo=function(Ie){return Ie[Ie.Discoverable=0]="Discoverable",Ie[Ie.Organization=1]="Organization",Ie[Ie.Government=2]="Government",Ie[Ie.Corporation=3]="Corporation",Ie[Ie.LocalBusiness=4]="LocalBusiness",Ie[Ie.SoftwarePackage=5]="SoftwarePackage",Ie[Ie.WebApp=6]="WebApp",Ie[Ie.FinancialInstitution=7]="FinancialInstitution",Ie}(wo||{}),si=function(Ie){return Ie[Ie.Ed25519=0]="Ed25519",Ie[Ie.secp256k1=1]="secp256k1",Ie[Ie.secp256r1=2]="secp256r1",Ie[Ie.X25519=3]="X25519",Ie}(si||{}),ho=function(Ie){return Ie.authentication="auth",Ie.assertionMethod="asm",Ie.capabilityDelegation="del",Ie.capabilityInvocation="inv",Ie.keyAgreement="agm",Ie}(ho||{});const yo={Ed25519:si.Ed25519,ES256K:si.secp256k1,ES256:si.secp256r1,"P-256":si.secp256r1,secp256k1:si.secp256k1,secp256r1:si.secp256r1,X25519:si.X25519},Io={[si.Ed25519]:"Ed25519",[si.secp256k1]:"ES256K",[si.secp256r1]:"ES256",[si.X25519]:"ECDH-ES+A256KW"};let pi=(()=>{class Ie extends Dn{static create(){return Wn(this,arguments,void 0,function*({keyManager:oe=new Dt,options:ye={}}={}){var We,Ze,ht,$t,bn,zt,dt,tn,fr,lr,$r;if(null!==(We=ye.verificationMethods)&&void 0!==We&&We.some(Zr=>!(Zr.algorithm in yo)))throw new Error("One or more verification method algorithms are not supported");const ni=null===(Ze=ye.verificationMethods)||void 0===Ze?void 0:Ze.filter(Zr=>"id"in Zr).map(Zr=>Zr.id);if(ni&&ni.length!==new Set(ni).size)throw new Error("One or more verification method IDs are not unique");if(null!==(ht=ye.services)&&void 0!==ht&&ht.some(Zr=>!Zr.id||!Zr.type||!Zr.serviceEndpoint))throw new Error("One or more services are missing required properties");const ui=yield oe.generateKey({algorithm:"Ed25519"}),Ii=yield oe.getPublicKey({keyUri:ui}),Wr=yield Ni.identityKeyToIdentifier({identityKey:Ii}),Qr=Object.assign(Object.assign({id:Wr},ye.alsoKnownAs&&{alsoKnownAs:ye.alsoKnownAs}),ye.controllers&&{controller:ye.controllers}),wi=[...null!==($t=ye.verificationMethods)&&void 0!==$t?$t:[]];wi?.some(Zr=>{var Lo;return"0"===(null===(Lo=Zr.id)||void 0===Lo?void 0:Lo.split("#").pop())})||wi.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Zr of wi){const Lo=Zr.id&&"0"===Zr.id.split("#").pop()?ui:yield oe.generateKey({algorithm:Zr.algorithm}),_s=yield oe.getPublicKey({keyUri:Lo});let cs=null!==(zt=null!==(bn=Zr.id)&&void 0!==bn?bn:_s.kid)&&void 0!==zt?zt:yield R({jwk:_s});cs=`${Wr}#${Ln(cs)}`,null!==(dt=Qr.verificationMethod)&&void 0!==dt||(Qr.verificationMethod=[]),Qr.verificationMethod.push({id:cs,type:"JsonWebKey",controller:null!==(tn=Zr.controller)&&void 0!==tn?tn:Wr,publicKeyJwk:_s});for(const sc of null!==(fr=Zr.purposes)&&void 0!==fr?fr:[])Qr[sc]||(Qr[sc]=[]),Qr[sc].push(cs)}null===(lr=ye.services)||void 0===lr||lr.forEach(Zr=>{var Lo;null!==(Lo=Qr.service)&&void 0!==Lo||(Qr.service=[]),Zr.id=`${Wr}#${Zr.id.split("#").pop()}`,Qr.service.push(Zr)});const Mi=new Lr({uri:Wr,document:Qr,metadata:Object.assign({published:!1},ye.types&&{types:ye.types}),keyManager:oe});if(null===($r=ye.publish)||void 0===$r||$r){const Zr=yield Ie.publish({did:Mi,gatewayUri:ye.gatewayUri});Mi.metadata=Zr.didDocumentMetadata}return Mi})}static import(oe){return Wn(this,arguments,void 0,function*({portableDid:ye,keyManager:We=new Dt}){var Ze;const ht=ce.parse(ye.uri);if(ht?.method!==Ie.methodName)throw new ae(fe.MethodNotSupported,"Method not supported");const $t=yield Lr.import({portableDid:ye,keyManager:We});if(null===(Ze=$t.document.verificationMethod)||void 0===Ze||!Ze.some(bn=>{var zt;return"0"===(null===(zt=bn.id)||void 0===zt?void 0:zt.split("#").pop())}))throw new ae(fe.InvalidDidDocument,"DID document must contain an Identity Key");return $t})}static getSigningMethod(oe){return Wn(this,arguments,void 0,function*({didDocument:ye,methodId:We="#0"}){var Ze;const ht=ce.parse(ye.id);if(ht&&ht.method!==this.methodName)throw new ae(fe.MethodNotSupported,`Method not supported: ${ht.method}`);const $t=null===(Ze=ye.verificationMethod)||void 0===Ze?void 0:Ze.find(bn=>{var zt,dt;return Ln(bn.id)===(null!==(zt=Ln(We))&&void 0!==zt?zt:Ln(null===(dt=ye.assertionMethod)||void 0===dt?void 0:dt[0]))});if(!$t||!$t.publicKeyJwk)throw new ae(fe.InternalError,"A verification method intended for signing could not be determined from the DID Document");return $t})}static publish(oe){return Wn(this,arguments,void 0,function*({did:ye,gatewayUri:We=wr}){return yield Li.put({did:ye,gatewayUri:We})})}static resolve(oe){return Wn(this,arguments,void 0,function*(ye,We={}){var Ze;const ht=null!==(Ze=We?.gatewayUri)&&void 0!==Ze?Ze:wr;try{yield Ni.identifierToIdentityKey({didUri:ye});const{didDocument:$t,didDocumentMetadata:bn}=yield Li.get({didUri:ye,gatewayUri:ht});return Object.assign(Object.assign({},se),{didDocument:$t,didDocumentMetadata:bn})}catch($t){if(!($t instanceof ae))throw new Error($t);return Object.assign(Object.assign({},se),{didResolutionMetadata:Object.assign({error:$t.code},$t.message&&{errorMessage:$t.message})})}})}}return Ie.methodName="dht",Ie})();class Li{static get(ie){return Wn(this,arguments,void 0,function*({didUri:oe,gatewayUri:ye}){const We=Ni.identifierToIdentityKeyBytes({didUri:oe}),Ze=yield Li.pkarrGet({gatewayUri:ye,publicKeyBytes:We}),ht=yield Ni.parseBep44GetMessage({bep44Message:Ze}),$t=yield Li.fromDnsPacket({didUri:oe,dnsPacket:ht});return $t.didDocumentMetadata.versionId=Ze.seq.toString(),$t})}static put(ie){return Wn(this,arguments,void 0,function*({did:oe,gatewayUri:ye}){const We=yield Li.toDnsPacket({didDocument:oe.document,didMetadata:oe.metadata,authoritativeGatewayUris:[ye]}),Ze=yield Ni.createBep44PutMessage({dnsPacket:We,publicKeyBytes:Ni.identifierToIdentityKeyBytes({didUri:oe.uri}),signer:yield oe.getSigner({methodId:"0"})}),ht=yield Li.pkarrPut({gatewayUri:ye,bep44Message:Ze});return{didDocument:oe.document,didDocumentMetadata:Object.assign(Object.assign({},oe.metadata),{published:ht,versionId:Ze.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(ie){return Wn(this,arguments,void 0,function*({gatewayUri:oe,publicKeyBytes:ye}){const We=w.U$.uint8Array(ye).toBase32Z(),Ze=new URL(We,oe).href;let ht;try{if(ht=yield fetch(Ze,{method:"GET"}),!ht.ok)throw new ae(fe.NotFound,`Pkarr record not found for: ${We}`)}catch(zt){throw zt instanceof ae?zt:new ae(fe.InternalError,`Failed to fetch Pkarr record: ${zt.message}`)}const $t=yield ht.arrayBuffer();if(!$t)throw new ae(fe.NotFound,`Pkarr record not found for: ${We}`);if($t.byteLength<72)throw new ae(fe.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${$t.byteLength}`);if($t.byteLength>1072)throw new ae(fe.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${$t.byteLength}`);return{k:ye,seq:Number(new DataView($t).getBigUint64(64)),sig:new Uint8Array($t,0,64),v:new Uint8Array($t,72)}})}static pkarrPut(ie){return Wn(this,arguments,void 0,function*({gatewayUri:oe,bep44Message:ye}){const We=w.U$.uint8Array(ye.k).toBase32Z(),Ze=new URL(We,oe).href,ht=new Uint8Array(ye.v.length+72);let $t;ht.set(ye.sig,0),new DataView(ht.buffer).setBigUint64(ye.sig.length,BigInt(ye.seq)),ht.set(ye.v,ye.sig.length+8);try{$t=yield fetch(Ze,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:ht})}catch(bn){throw new ae(fe.InternalError,`Failed to put Pkarr record for identifier ${We}: ${bn.message}`)}return $t.ok})}static fromDnsPacket(ie){return Wn(this,arguments,void 0,function*({didUri:oe,dnsPacket:ye}){var We,Ze,ht;const $t={id:oe},bn={published:!0},zt=new Map;for(const dt of null!==(We=ye?.answers)&&void 0!==We?We:[]){if("TXT"!==dt.type)continue;const tn=dt.name.split(".")[0].substring(1);switch(!0){case tn.startsWith("aka"):{const fr=Ni.parseTxtDataToString(dt.data);$t.alsoKnownAs=fr.split(Ti);break}case tn.startsWith("cnt"):{const fr=Ni.parseTxtDataToString(dt.data);$t.controller=fr.includes(Ti)?fr.split(Ti):fr;break}case tn.startsWith("k"):{const{id:fr,t:lr,k:$r,c:ni,a:ui}=Ni.parseTxtDataToObject(dt.data),Ii=w.U$.base64Url($r).toUint8Array(),Wr=si[Number(lr)];let Qr=yield Ni.keyConverter(Wr).bytesToPublicKey({publicKeyBytes:Ii});Qr.alg=ui||Io[Number(lr)];const wi="k0"===tn?"0":void 0!==fr?fr:yield R({jwk:Qr});null!==(Ze=$t.verificationMethod)&&void 0!==Ze||($t.verificationMethod=[]);const Mi=`${oe}#${wi}`;$t.verificationMethod.push({id:Mi,type:"JsonWebKey",controller:ni??oe,publicKeyJwk:Qr}),zt.set(tn,Mi);break}case tn.startsWith("s"):{const fr=Ni.parseTxtDataToObject(dt.data),{id:lr,t:$r,se:ni}=fr,ui=Gn(fr,["id","t","se"]),Ii=ni.includes(Ti)?ni.split(Ti):[ni],Wr=Object.fromEntries(Object.entries(ui).map(([Qr,wi])=>[Qr,wi.includes(Ti)?wi.split(Ti):wi]));null!==(ht=$t.service)&&void 0!==ht||($t.service=[]),$t.service.push(Object.assign(Object.assign({},Wr),{id:`${oe}#${lr}`,type:$r,serviceEndpoint:Ii}));break}case tn.startsWith("typ"):{const{id:fr}=Ni.parseTxtDataToObject(dt.data);bn.types=fr.split(Ti).map(lr=>Number(lr));break}case tn.startsWith("did"):{const fr=Wr=>Wr.split(Ti).map(Qr=>zt.get(Qr)).filter(Qr=>"string"==typeof Qr),{auth:lr,asm:$r,del:ni,inv:ui,agm:Ii}=Ni.parseTxtDataToObject(dt.data);lr&&($t.authentication=fr(lr)),$r&&($t.assertionMethod=fr($r)),ni&&($t.capabilityDelegation=fr(ni)),ui&&($t.capabilityInvocation=fr(ui)),Ii&&($t.keyAgreement=fr(Ii));break}}}return{didDocument:$t,didDocumentMetadata:bn,didResolutionMetadata:{}}})}static toDnsPacket(ie){return Wn(this,arguments,void 0,function*({didDocument:oe,didMetadata:ye,authoritativeGatewayUris:We,previousDidProof:Ze}){var ht,$t,bn,zt,dt;const tn=[],fr=[],lr=new Map,$r=[],ni=[];if(void 0!==Ze){const{signature:Wr,previousDid:Qr}=Ze;yield Ni.validatePreviousDidProof({newDid:oe.id,previousDidProof:Ze}),tn.push({type:"TXT",name:"_prv._did.",ttl:jr,data:`id=${Qr};s=${Wr}`})}if(oe.alsoKnownAs&&tn.push({type:"TXT",name:"_aka._did.",ttl:jr,data:oe.alsoKnownAs.join(Ti)}),oe.controller){const Wr=Array.isArray(oe.controller)?oe.controller.join(Ti):oe.controller;tn.push({type:"TXT",name:"_cnt._did.",ttl:jr,data:Wr})}for(const[Wr,Qr]of null!==($t=null===(ht=oe.verificationMethod)||void 0===ht?void 0:ht.entries())&&void 0!==$t?$t:[]){const wi=`k${Wr}`;ni.push(wi);let Mi=Qr.id.split("#").pop();lr.set(Mi,wi);const Zr=Qr.publicKeyJwk;if(!Zr?.crv||!(Zr.crv in yo))throw new ae(fe.InvalidPublicKeyType,`Verification method '${Qr.id}' contains an unsupported key type: ${null!==(bn=Zr?.crv)&&void 0!==bn?bn:"undefined"}`);const Lo=si[Zr.crv],_s=yield Ni.keyConverter(Zr.crv).publicKeyToBytes({publicKey:Zr}),sc=[`t=${Lo}`,`k=${w.U$.uint8Array(_s).toBase64Url()}`];"0"!==Mi&&(yield R({jwk:Zr}))!==Mi&&sc.unshift(`id=${Mi}`),Zr.alg!==Io[Lo]&&sc.push(`a=${Zr.alg}`),Qr.controller!==oe.id&&sc.push(`c=${Qr.controller}`),tn.push({type:"TXT",name:`_${wi}._did.`,ttl:jr,data:sc.join(";")})}null===(zt=oe.service)||void 0===zt||zt.forEach((Wr,Qr)=>{const wi=`s${Qr}`;$r.push(wi);let{id:Mi,type:Zr,serviceEndpoint:Lo}=Wr,_s=Gn(Wr,["id","type","serviceEndpoint"]);Mi=Ln(Mi),Lo=Array.isArray(Lo)?Lo.join(","):Lo;const sc=Object.entries(Object.assign({id:Mi,t:Zr,se:Lo},_s)).map(([nl,Up])=>`${nl}=${Up}`).join(";"),Gf=Ni.chunkDataIfNeeded(sc);tn.push({type:"TXT",name:`_${wi}._did.`,ttl:jr,data:Gf})});const ui=["v=0"];if(ni.length&&ui.push(`vm=${ni.join(Ti)}`),Object.keys(J).forEach(Wr=>{var Qr;const wi=null===(Qr=oe[Wr])||void 0===Qr?void 0:Qr.map(Mi=>lr.get(Mi.split("#").pop()));wi&&ui.push(`${ho[Wr]}=${wi.join(Ti)}`)}),$r.length&&ui.push(`svc=${$r.join(Ti)}`),null!==(dt=ye.types)&&void 0!==dt&&dt.length){const Qr=ye.types.map(wi=>"string"==typeof wi?wo[wi]:wi);tn.push({type:"TXT",name:"_typ._did.",ttl:jr,data:`id=${Qr.join(Ti)}`})}tn.push({type:"TXT",name:"_did."+Li.getUniqueDidSuffix(oe.id)+".",ttl:jr,data:ui.join(";")});for(const Wr of We||[])fr.push({type:"NS",name:"_did."+Li.getUniqueDidSuffix(oe.id)+".",ttl:jr,data:Wr+"."});return{id:0,type:"response",flags:on.hB,answers:[...tn,...fr]}})}static getUniqueDidSuffix(ie){return ie.split(":")[2]}}class Ni{static createBep44PutMessage(ie){return Wn(this,arguments,void 0,function*({dnsPacket:oe,publicKeyBytes:ye,signer:We}){const Ze=Math.ceil(Date.now()/1e3),ht=(0,on.lF)(oe),$t=oi.A.encode({seq:Ze,v:ht}).subarray(1,-1);if($t.length>1e3)throw new ae(fe.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${$t.length} bytes`);return{k:ye,seq:Ze,sig:yield We.sign({data:$t}),v:ht}})}static identifierToIdentityKey(ie){return Wn(this,arguments,void 0,function*({didUri:oe}){let ye=Ni.identifierToIdentityKeyBytes({didUri:oe});return yield ue.bytesToPublicKey({publicKeyBytes:ye})})}static identifierToIdentityKeyBytes({didUri:ie}){const oe=ce.parse(ie);if(!oe)throw new ae(fe.InvalidDid,`Invalid DID URI: ${ie}`);if(oe.method!==pi.methodName)throw new ae(fe.MethodNotSupported,`Method not supported: ${oe.method}`);let ye;try{ye=w.U$.base32Z(oe.id).toUint8Array()}catch{throw new ae(fe.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==ye.length)throw new ae(fe.InvalidPublicKeyLength,`Invalid public key length: ${ye.length}`);return ye}static identityKeyToIdentifier(ie){return Wn(this,arguments,void 0,function*({identityKey:oe}){const ye=yield ue.publicKeyToBytes({publicKey:oe}),We=w.U$.uint8Array(ye).toBase32Z();return`did:${pi.methodName}:${We}`})}static keyConverter(ie){const ye={Ed25519:ue,"P-256":{publicKeyToBytes:We=>Wn(this,[We],void 0,function*({publicKey:Ze}){const ht=yield be.publicKeyToBytes({publicKey:Ze});return yield be.compressPublicKey({publicKeyBytes:ht})}),bytesToPublicKey:be.bytesToPublicKey,privateKeyToBytes:be.privateKeyToBytes,bytesToPrivateKey:be.bytesToPrivateKey},secp256k1:{publicKeyToBytes:We=>Wn(this,[We],void 0,function*({publicKey:Ze}){const ht=yield Ve.publicKeyToBytes({publicKey:Ze});return yield Ve.compressPublicKey({publicKeyBytes:ht})}),bytesToPublicKey:Ve.bytesToPublicKey,privateKeyToBytes:Ve.privateKeyToBytes,bytesToPrivateKey:Ve.bytesToPrivateKey},X25519:tt}[ie];if(!ye)throw new ae(fe.InvalidPublicKeyType,`Unsupported curve: ${ie}`);return ye}static parseBep44GetMessage(ie){return Wn(this,arguments,void 0,function*({bep44Message:oe}){const ye=yield ue.bytesToPublicKey({publicKeyBytes:oe.k}),We=oi.A.encode({seq:oe.seq,v:oe.v}).subarray(1,-1);if(!(yield ue.verify({key:ye,signature:oe.sig,data:We})))throw new ae(fe.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,on.D4)(oe.v)})}static parseTxtDataToObject(ie){return this.parseTxtDataToString(ie).split(";").reduce((oe,ye)=>{const[We,Ze]=ye.split("=");return oe[We]=Ze,oe},{})}static parseTxtDataToString(ie){if("string"==typeof ie)return ie;if(ie instanceof Uint8Array)return w.U$.uint8Array(ie).toString();if(Array.isArray(ie))return ie.map(oe=>this.parseTxtDataToString(oe)).join("");throw new ae(fe.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(ie){return Wn(this,arguments,void 0,function*({newDid:oe,previousDidProof:ye}){const We=yield Ni.identifierToIdentityKey({didUri:ye.previousDid}),Ze=Ni.identifierToIdentityKeyBytes({didUri:oe}),ht=w.U$.base64Url(ye.signature).toUint8Array();if(!(yield ue.verify({key:We,data:Ze,signature:ht})))throw new ae(fe.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(ie){if(ie.length<=255)return ie;const oe=[];for(let ye=0;ye<ie.length;ye+=255)oe.push(ie.slice(ye,ye+255));return oe}}_(52039);var zr=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};let ti=(()=>{class Ie extends Dn{static create(){return zr(this,arguments,void 0,function*({keyManager:oe=new Dt,options:ye={}}={}){var We,Ze,ht,$t;if(ye.algorithm&&ye.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(ye.verificationMethods&&1!==ye.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const bn=null!==($t=null!==(We=ye.algorithm)&&void 0!==We?We:null===(ht=null===(Ze=ye.verificationMethods)||void 0===Ze?void 0:Ze[0])||void 0===ht?void 0:ht.algorithm)&&void 0!==$t?$t:"Ed25519",zt=yield oe.generateKey({algorithm:bn}),dt=yield oe.getPublicKey({keyUri:zt}),tn=w.U$.object(dt).toBase64Url(),fr=`did:${Ie.methodName}:${tn}`,$r=(yield Ie.resolve(fr)).didDocument;return new Lr({uri:fr,document:$r,metadata:{},keyManager:oe})})}static getSigningMethod(oe){return zr(this,arguments,void 0,function*({didDocument:ye}){var We;const Ze=ce.parse(ye.id);if(Ze&&Ze.method!==this.methodName)throw new ae(fe.MethodNotSupported,`Method not supported: ${Ze.method}`);const[ht]=null!==(We=ye.verificationMethod)&&void 0!==We?We:[];if(!ht||!ht.publicKeyJwk)throw new ae(fe.InternalError,"A verification method intended for signing could not be determined from the DID Document");return ht})}static import(oe){return zr(this,arguments,void 0,function*({portableDid:ye,keyManager:We=new Dt}){const Ze=ce.parse(ye.uri);if(Ze?.method!==Ie.methodName)throw new ae(fe.MethodNotSupported,"Method not supported");const ht=yield Lr.import({portableDid:ye,keyManager:We});if(1!==ht.document.verificationMethod.length)throw new ae(fe.InvalidDidDocument,"DID document must contain exactly one verification method");return ht})}static resolve(oe,ye){return zr(this,void 0,void 0,function*(){const We=ce.parse(oe);let Ze;try{Ze=w.U$.base64Url(We.id).toObject()}catch{}if(!We||!Ze)return Object.assign(Object.assign({},se),{didResolutionMetadata:{error:"invalidDid"}});if(We.method!==Ie.methodName)return Object.assign(Object.assign({},se),{didResolutionMetadata:{error:"methodNotSupported"}});const ht={"@context":["https://www.w3.org/ns/did/v1"],id:We.uri},$t=`${ht.id}#0`;switch(ht.verificationMethod=[{id:$t,type:"JsonWebKey",controller:ht.id,publicKeyJwk:Ze}],ht.authentication=[$t],ht.assertionMethod=[$t],ht.capabilityInvocation=[$t],ht.capabilityDelegation=[$t],ht.keyAgreement=[$t],Ze.use){case"sig":delete ht.keyAgreement;break;case"enc":delete ht.authentication,delete ht.assertionMethod,delete ht.capabilityInvocation,delete ht.capabilityDelegation}return Object.assign(Object.assign({},se),{didDocument:ht})})}}return Ie.methodName="jwk",Ie})();var Cl=_(97829),qc=_(67449);class Pc{constructor({db:ie,location:oe="DATA/DID_RESOLVERCACHE",ttl:ye="15m"}={}){this.cache=ie??new qc.Level(oe),this.ttl=Cl(ye)}get(ie){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){try{const oe=yield this.cache.get(ie),ye=JSON.parse(oe);return Date.now()>=ye.ttlMillis?void this.cache.nextTick(()=>this.cache.del(ie)):ye.value}catch(oe){if(oe.notFound)return;throw oe}})}set(ie,oe){const ye={ttlMillis:Date.now()+this.ttl,value:oe},We=JSON.stringify(ye);return this.cache.put(ie,We)}delete(ie){return this.cache.del(ie)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var Wi=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class sa{constructor(ie){this._agentDid=ie.agentDid,this.crypto=ie.cryptoApi,this.did=ie.didApi,this.dwn=ie.dwnApi,this.identity=ie.identityApi,this.keyManager=ie.keyManager,this.rpc=ie.rpcClient,this.sync=ie.syncApi,this.vault=ie.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(ie){this._agentDid=ie}static create({dataPath:ie="DATA/AGENT",agentDid:oe,agentVault:ye,cryptoApi:We,didApi:Ze,dwnApi:ht,identityApi:$t,keyManager:bn,rpcClient:zt,syncApi:dt}={}){return Wi(this,void 0,void 0,function*(){return ye??(ye=new y.TX({keyDerivationWorkFactor:21e4,store:new w.cG({location:`${ie}/VAULT_STORE`})})),We??(We=new y.DP),Ze??(Ze=new y.Bq({didMethods:[pi,ti],resolverCache:new Pc({location:`${ie}/DID_RESOLVERCACHE`}),store:new y.QZ})),ht??(ht=new y.rr({dwn:yield y.rr.createDwn({dataPath:ie,didResolver:Ze})})),$t??($t=new y.yc({store:new y.dk})),bn??(bn=new y.eP({keyStore:new y.cW})),zt??(zt=new y.oN),dt??(dt=new y.rM({syncEngine:new y.qB({dataPath:ie})})),new sa({agentDid:oe,agentVault:ye,cryptoApi:We,didApi:Ze,dwnApi:ht,keyManager:bn,identityApi:$t,rpcClient:zt,syncApi:dt})})}firstLaunch(){return Wi(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:ie,recoveryPhrase:oe}){return Wi(this,void 0,void 0,function*(){return oe=yield this.vault.initialize({password:ie,recoveryPhrase:oe})})}processDidRequest(ie){return Wi(this,void 0,void 0,function*(){return this.did.processRequest(ie)})}processDwnRequest(ie){return Wi(this,void 0,void 0,function*(){return this.dwn.processRequest(ie)})}processVcRequest(ie){return Wi(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(ie){return Wi(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(ie){return Wi(this,void 0,void 0,function*(){return this.dwn.sendRequest(ie)})}sendVcRequest(ie){return Wi(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:ie}){return Wi(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:ie})),this.agentDid=yield this.vault.getDid()})}}class No{constructor({method:ie,id:oe,path:ye,query:We,fragment:Ze,params:ht}){this.uri=`did:${ie}:${oe}`,this.method=ie,this.id=oe,this.path=ye,this.query=We,this.fragment=Ze,this.params=ht}static parse(ie){if(!ie)return null;const oe=No.DID_URI_PATTERN.exec(ie);if(!oe||!oe.groups)return null;const{method:ye,id:We,path:Ze,query:ht,fragment:$t}=oe.groups,bn={uri:`did:${ye}:${We}`,method:ye,id:We};if(Ze&&(bn.path=Ze),ht&&(bn.query=ht.slice(1)),$t&&(bn.fragment=$t.slice(1)),ht){const zt={},dt=ht.slice(1).split("&");for(const tn of dt){const[fr,lr]=tn.split("=");zt[fr]=lr}bn.params=zt}return bn}}No.METHOD_PATTERN="([a-z0-9]+)",No.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",No.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${No.PCT_ENCODED_PATTERN})`,No.METHOD_ID_PATTERN=`((?:${No.ID_CHAR_PATTERN}*:)*(${No.ID_CHAR_PATTERN}+))`,No.PATH_PATTERN="(/[^#?]*)?",No.QUERY_PATTERN="([?][^#]*)?",No.FRAGMENT_PATTERN="(#.*)?",No.DID_URI_PATTERN=new RegExp(`^did:(?<method>${No.METHOD_PATTERN}):(?<id>${No.METHOD_ID_PATTERN})(?<path>${No.PATH_PATTERN})(?<query>${No.QUERY_PATTERN})(?<fragment>${No.FRAGMENT_PATTERN})$`),Error,_(44514),_(1424);function Mt(Ie,ie){return Ie=Math.ceil(Ie),ie=Math.floor(ie),Math.floor(Math.random()*(ie-Ie))+Ie}class Mn{constructor({agent:ie,connectedDid:oe}){this.agent=ie,this.connectedDid=oe,this.did=new H({agent:ie,connectedDid:oe}),this.dwn=new ee({agent:ie,connectedDid:oe}),this.vc=new Z({agent:ie,connectedDid:oe})}static connect({agent:ie,agentVault:oe,connectedDid:ye,password:We,recoveryPhrase:Ze,sync:ht,techPreview:$t}={}){var bn;return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){if(void 0===ie){const dt=yield sa.create({agentVault:oe});ie=dt,void 0===We&&(We="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield dt.firstLaunch())&&(Ze=yield dt.initialize({password:We,recoveryPhrase:Ze})),yield dt.start({password:We});{let fr;const lr=yield dt.identity.list(),$r=lr.length;if(0===$r){const ni=null!==(bn=$t?.dwnEndpoints)&&void 0!==bn?bn:yield function st(){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function $t(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function bn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function We(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then($t,bn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){let Ie;try{if(Ie=yield fetch("https://dwn.tbddev.org/.well-known/did.json"),!Ie.ok)throw new Error(`HTTP Error: ${Ie.status} ${Ie.statusText}`)}catch(We){return console.warn("failed to get tech preview dwn endpoints:",We.message),[]}const ie=yield Ie.json(),[oe]=function tf({didDocument:Ie,id:ie,type:oe}){var ye,We;return null!==(We=null===(ye=Ie?.service)||void 0===ye?void 0:ye.filter(Ze=>!(ie&&Ze.id!==ie||oe&&Ze.type!==oe)))&&void 0!==We?We:[]}({didDocument:ie,id:"#dwn",type:"DecentralizedWebNode"}),ye=new Set;if("serviceEndpoint"in oe&&!Array.isArray(oe.serviceEndpoint)&&"string"!=typeof oe.serviceEndpoint&&Array.isArray(oe.serviceEndpoint.nodes)){const We=oe.serviceEndpoint.nodes,Ze=Math.min(We.length,2);for(let ht=0;ht<We.length&&ye.size<Ze;ht+=1){const bn=We[Mt(0,We.length)];try{(yield fetch(`${bn}/health`)).ok&&ye.add(bn)}catch{}}}return Array.from(ye)})}();fr=yield dt.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:ni,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield dt.identity.manage({portableIdentity:yield fr.export()})}else{if(1!==$r)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${$r} stored identities.`);fr=lr[0]}ye=fr.did.uri}"off"!==ht&&(yield dt.sync.registerIdentity({did:ye}),ht??(ht="2m"),dt.sync.startSync({interval:ht}).catch(fr=>{console.error(`Sync failed: ${fr}`)}))}return{web5:new Mn({agent:ie,connectedDid:ye}),did:ye,recoveryPhrase:Ze}})}}},37475:(Je,j,_)=>{"use strict";_.d(j,{U$:()=>L,cG:()=>ae,ny:()=>fe,Gs:()=>ee,VS:()=>d,Z6:()=>Pe,LC:()=>y,RI:()=>q,E8:()=>J,fc:()=>B});var y=_(52191),b=_(15130),P=_(80286),H=_(14725);function B(m){const E=Object.prototype.toString.call(m).match(/\s([a-zA-Z0-9]+)/),[D,R]=E;return R}var N=function(m,p,E,D){return new(E||(E=Promise))(function(x,s){function v(Q){try{F(D.next(Q))}catch(de){s(de)}}function $(Q){try{F(D.throw(Q))}catch(de){s(de)}}function F(Q){Q.done?x(Q.value):function R(x){return x instanceof E?x:new E(function(s){s(x)})}(Q.value).then(v,$)}F((D=D.apply(m,p||[])).next())})},U=function(m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,p=m[Symbol.asyncIterator];return p?p.call(m):(m="function"==typeof __values?__values(m):m[Symbol.iterator](),E={},D("next"),D("throw"),D("return"),E[Symbol.asyncIterator]=function(){return this},E);function D(x){E[x]=m[x]&&function(s){return new Promise(function(v,$){!function R(x,s,v,$){Promise.resolve($).then(function(F){x({value:F,done:v})},s)}(v,$,(s=m[x](s)).done,s.value)})}}};const A=new TextEncoder,G=new TextDecoder;class L{constructor(p,E){this.data=p,this.format=E}static arrayBuffer(p){return new L(p,"ArrayBuffer")}static asyncIterable(p){if(!function O(m){return"object"==typeof m&&null!==m&&"function"==typeof m[Symbol.asyncIterator]}(p))throw new TypeError("Input must be of type AsyncIterable.");return new L(p,"AsyncIterable")}static base32Z(p){return new L(p,"Base32Z")}static base58Btc(p){return new L(p,"Base58Btc")}static base64Url(p){return new L(p,"Base64Url")}static bufferSource(p){return new L(p,"BufferSource")}static hex(p){if("string"!=typeof p)throw new TypeError("Hex input must be a string.");if(p.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new L(p,"Hex")}static multibase(p){return new L(p,"Multibase")}static object(p){return new L(p,"Object")}static string(p){return new L(p,"String")}static uint8Array(p){return new L(p,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return P.s.baseDecode(this.data).buffer;case"Base64Url":return H.r0.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===B(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function w(m){return 0!==m.byteOffset||m.byteLength!==m.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return N(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return b.jd.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const p=new Uint8Array(this.data);return P.s.baseEncode(p)}case"Multibase":return this.data.substring(1);case"Uint8Array":return P.s.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const p=new Uint8Array(this.data);return H.r0.baseEncode(p)}case"BufferSource":{const p=this.toUint8Array();return H.r0.baseEncode(p)}case"Object":{const p=JSON.stringify(this.data),E=A.encode(p);return H.r0.baseEncode(E)}case"String":{const p=A.encode(this.data);return H.r0.baseEncode(p)}case"Uint8Array":return H.r0.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var p,E,D;return N(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const $=[];try{for(var v,x=!0,s=U(this.data);v=yield s.next(),!(p=v.done);x=!0)x=!1,$.push(v.value)}catch(Q){E={error:Q}}finally{try{!x&&!p&&(D=s.return)&&(yield D.call(s))}finally{if(E)throw E.error}}return new Blob($)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const p=Array.from({length:256},(E,D)=>D.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const E=this.toUint8Array();return L.uint8Array(E).toHex()}case"Base64Url":{const E=this.toUint8Array();return L.uint8Array(E).toHex()}case"Uint8Array":{let E="";for(let D=0;D<this.data.length;D++)E+=p[this.data[D]];return E}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const p=H.r0.baseDecode(this.data),E=G.decode(p);return JSON.parse(E)}case"String":return JSON.parse(this.data);case"Uint8Array":{const p=G.decode(this.data);return JSON.parse(p)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return N(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const p=yield this.toStringAsync();return JSON.parse(p)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return G.decode(this.data);case"Base64Url":{const p=H.r0.baseDecode(this.data);return G.decode(p)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var p,E,D,R;return N(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let $="";try{for(var v,x=!0,s=U(this.data);v=yield s.next(),!(p=v.done);x=!0)x=!1,$+="string"==typeof(R=v.value)?R:G.decode(R,{stream:!0})}catch(F){E={error:F}}finally{try{!x&&!p&&(D=s.return)&&(yield D.call(s))}finally{if(E)throw E.error}}return $+=G.decode(void 0,{stream:!1}),$}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return b.jd.baseDecode(this.data);case"Base58Btc":return P.s.baseDecode(this.data);case"Base64Url":return H.r0.baseDecode(this.data);case"BufferSource":{const p=B(this.data);if("Uint8Array"===p)return this.data;if("ArrayBuffer"===p)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const p=new Uint8Array(this.data.length/2);for(let E=0;E<this.data.length;E+=2){const D=parseInt(this.data.substring(E,E+2),16);if(isNaN(D))throw new TypeError("Input is not a valid hexadecimal string.");p[E/2]=D}return p}case"Object":{const p=JSON.stringify(this.data);return A.encode(p)}case"String":return A.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return N(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const p=yield this.toArrayBufferAsync();return new Uint8Array(p)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var z=_(41405);class ee{static addPrefix(p){var E;let{code:D,data:R,name:x}=p;if(!(x?!D:D))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(D=ee.codeToName.has(D)?D:ee.nameToCode.get(x),void 0===D)throw new Error(`Unsupported multicodec: ${null!==(E=p.name)&&void 0!==E?E:p.code}`);const s=z.L8.encodingLength(D),v=new Uint8Array(s+R.byteLength);return v.set(R,s),z.L8.encodeTo(D,v),v}static getCodeFromData(p){const{prefixedData:E}=p,[D,R]=z.L8.decode(E);return D}static getCodeFromName(p){const{name:E}=p,D=ee.nameToCode.get(E);if(void 0===D)throw new Error(`Unsupported multicodec: ${E}`);return D}static getNameFromCode(p){const{code:E}=p,D=ee.codeToName.get(E);if(void 0===D)throw new Error(`Unsupported multicodec: ${E}`);return D}static registerCodec(p){ee.codeToName.set(p.code,p.name),ee.nameToCode.set(p.name,p.code)}static removePrefix(p){const{prefixedData:E}=p,[D,R]=z.L8.decode(E),x=ee.codeToName.get(D);if(void 0===x)throw new Error(`Unsupported multicodec: ${D}`);return{code:D,data:E.slice(R),name:x}}}function q(m){return!("object"!=typeof m||null===m||Object.getOwnPropertySymbols(m).length>0)&&0===Object.keys(m).length}function J(m){Object.keys(m).forEach(p=>{void 0===m[p]?delete m[p]:"object"==typeof m[p]&&J(m[p])})}ee.codeToName=new Map,ee.nameToCode=new Map,ee.registerCodec({code:237,name:"ed25519-pub"}),ee.registerCodec({code:4864,name:"ed25519-priv"}),ee.registerCodec({code:236,name:"x25519-pub"}),ee.registerCodec({code:4866,name:"x25519-priv"}),ee.registerCodec({code:231,name:"secp256k1-pub"}),ee.registerCodec({code:4865,name:"secp256k1-priv"});var se=_(54626),ce=function(m,p,E,D){return new(E||(E=Promise))(function(x,s){function v(Q){try{F(D.next(Q))}catch(de){s(de)}}function $(Q){try{F(D.throw(Q))}catch(de){s(de)}}function F(Q){Q.done?x(Q.value):function R(x){return x instanceof E?x:new E(function(s){s(x)})}(Q.value).then(v,$)}F((D=D.apply(m,p||[])).next())})};class ae{constructor({db:p,location:E="DATASTORE"}={}){this.store=p??new se.Level(E)}clear(){return ce(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return ce(this,void 0,void 0,function*(){yield this.store.close()})}delete(p){return ce(this,void 0,void 0,function*(){yield this.store.del(p)})}get(p){return ce(this,void 0,void 0,function*(){try{return yield this.store.get(p)}catch(E){if(E.notFound)return;throw E}})}set(p,E){return ce(this,void 0,void 0,function*(){yield this.store.put(p,E)})}}class fe{constructor(){this.store=new Map}clear(){return ce(this,void 0,void 0,function*(){this.store.clear()})}close(){return ce(this,void 0,void 0,function*(){})}delete(p){return ce(this,void 0,void 0,function*(){return this.store.delete(p)})}get(p){return ce(this,void 0,void 0,function*(){return this.store.get(p)})}has(p){return ce(this,void 0,void 0,function*(){return this.store.has(p)})}list(){return ce(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(p,E){return ce(this,void 0,void 0,function*(){this.store.set(p,E)})}}var he=function(m,p,E,D){return new(E||(E=Promise))(function(x,s){function v(Q){try{F(D.next(Q))}catch(de){s(de)}}function $(Q){try{F(D.throw(Q))}catch(de){s(de)}}function F(Q){Q.done?x(Q.value):function R(x){return x instanceof E?x:new E(function(s){s(x)})}(Q.value).then(v,$)}F((D=D.apply(m,p||[])).next())})},we=function(m){return this instanceof we?(this.v=m,this):new we(m)};class Pe{static asAsyncIterator(p){return function(m,p,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R,D=E.apply(m,p||[]),x=[];return R={},s("next"),s("throw"),s("return"),R[Symbol.asyncIterator]=function(){return this},R;function s(Ce){D[Ce]&&(R[Ce]=function(Re){return new Promise(function(Ve,Ee){x.push([Ce,Re,Ve,Ee])>1||v(Ce,Re)})})}function v(Ce,Re){try{!function $(Ce){Ce.value instanceof we?Promise.resolve(Ce.value.v).then(F,Q):de(x[0][2],Ce)}(D[Ce](Re))}catch(Ve){de(x[0][3],Ve)}}function F(Ce){v("next",Ce)}function Q(Ce){v("throw",Ce)}function de(Ce,Re){Ce(Re),x.shift(),x.length&&v(x[0][0],x[0][1])}}(this,arguments,function*(){const D=p.getReader();try{for(;;){const{done:R,value:x}=yield we(D.read());if(R)break;yield yield we(x)}}finally{D.releaseLock()}})}static consumeToArrayBuffer({readableStream:p}){return he(this,void 0,void 0,function*(){const E=Pe.asAsyncIterator(p);return yield L.asyncIterable(E).toArrayBufferAsync()})}static consumeToBlob({readableStream:p}){return he(this,void 0,void 0,function*(){const E=Pe.asAsyncIterator(p);return yield L.asyncIterable(E).toBlobAsync()})}static consumeToBytes({readableStream:p}){return he(this,void 0,void 0,function*(){const E=Pe.asAsyncIterator(p);return yield L.asyncIterable(E).toUint8ArrayAsync()})}static consumeToJson({readableStream:p}){return he(this,void 0,void 0,function*(){const E=Pe.asAsyncIterator(p);return yield L.asyncIterable(E).toObjectAsync()})}static consumeToText({readableStream:p}){return he(this,void 0,void 0,function*(){const E=Pe.asAsyncIterator(p);return yield L.asyncIterable(E).toStringAsync()})}static generateByteStream({streamLength:p,chunkLength:E,fillValue:D}){let x,R=p??1/0;function s(){const v=Math.min(R,E??1/0);let $;if(R-=v,"number"==typeof D)$=new Uint8Array(v).fill(D);else if(Array.isArray(D)){$=new Uint8Array(v);const[F,Q]=D,de=Q-F+1;for(let Ce=0;Ce<v;Ce++)$[Ce]=Math.floor(Math.random()*de)+F}else $=new Uint8Array(v);x.enqueue($),R<=0&&x.close()}return new ReadableStream({start(v){x=v,s()},pull(){s()}})}static isReadable({readableStream:p}){if(!Pe.isReadableStream(p)||p.locked)return!1;try{return p.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(p){return"object"==typeof p&&null!==p&&"getReader"in p&&"function"==typeof p.getReader}static isStream(p){return Pe.isReadableStream(p)||Pe.isWritableStream(p)||Pe.isTransformStream(p)}static isTransformStream(p){return"object"==typeof p&&null!==p&&"readable"in p&&"object"==typeof p.readable&&"writable"in p&&"object"==typeof p.writable}static isWritableStream(p){return"object"==typeof p&&null!==p&&"getWriter"in p&&"function"==typeof p.getWriter&&"abort"in p&&"function"==typeof p.abort}}var C=_(95424),a=function(m,p,E,D){return new(E||(E=Promise))(function(x,s){function v(Q){try{F(D.next(Q))}catch(de){s(de)}}function $(Q){try{F(D.throw(Q))}catch(de){s(de)}}function F(Q){Q.done?x(Q.value):function R(x){return x instanceof E?x:new E(function(s){s(x)})}(Q.value).then(v,$)}F((D=D.apply(m,p||[])).next())})};class d{static consumeToArrayBuffer({readable:p}){return a(this,void 0,void 0,function*(){return yield L.asyncIterable(p).toArrayBufferAsync()})}static consumeToBlob({readable:p}){return a(this,void 0,void 0,function*(){return yield L.asyncIterable(p).toBlobAsync()})}static consumeToBytes({readable:p}){return a(this,void 0,void 0,function*(){return yield L.asyncIterable(p).toUint8ArrayAsync()})}static consumeToJson({readable:p}){return a(this,void 0,void 0,function*(){return yield L.asyncIterable(p).toObjectAsync()})}static consumeToText({readable:p}){return a(this,void 0,void 0,function*(){return yield L.asyncIterable(p).toStringAsync()})}static fromWebReadable({readableStream:p,readableOptions:E}){if(!Pe.isReadableStream(p))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const D=p.getReader();let R=!1;const x=new C.Readable(Object.assign(Object.assign({},E),{read:function(){D.read().then(({done:s,value:v})=>{if(s)this.push(null);else if(!this.push(v))return}).catch(s=>{this.destroy(s)})},destroy:function(s,v){function $(){v(s)}R?$():D.cancel(s).then($).catch($)}}));return D.closed.then(()=>{R=!0}).catch(s=>{R=!0,x.destroy(s)}),x}static isDestroyed({stream:p}){if(!d.isStream(p))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!p.destroyed&&!(("_writableState"in p?p._writableState:void 0)||p._readableState).destroyed)}static isReadable({readable:p}){return!!d.isReadableStream(p)&&p.readable&&"boolean"==typeof p._readableState.ended&&!p._readableState.ended&&"boolean"==typeof p._readableState.endEmitted&&!p._readableState.endEmitted&&!p.destroyed&&!p.isPaused()}static isReadableStream(p){return"object"==typeof p&&null!==p&&"pipe"in p&&"function"==typeof p.pipe&&"on"in p&&"function"==typeof p.on&&!("_writableState"in p)&&"_readableState"in p}static isStream(p){return"object"==typeof p&&null!==p&&("_readableState"in p||"_writableState"in p)}static toWebReadable({readable:p}){if(!d.isReadableStream(p))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(d.isDestroyed({stream:p})){const E=new ReadableStream;return E.cancel(),E}return new ReadableStream({start(E){p.on("data",D=>{E.enqueue(D)}),p.on("end",()=>{E.close()}),p.on("error",D=>{E.error(D)})},cancel(){p.destroy()}})}}},2198:(Je,j,_)=>{"use strict";_.d(j,{A:()=>me});const y="0123456789abcdef",b=[],P=[];for(let te=0;te<256;te++)b[te]=y[te>>4&15]+y[15&te],te<16&&(te<10?P[48+te]=te:P[87+te]=te);const H=te=>{const ne=te.length;let ue="",De=0;for(;De<ne;)ue+=b[te[De++]];return ue};for(var N=typeof Uint8Array>"u"?[]:new Uint8Array(256),U=0;U<64;U++)N["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(U)]=U;const L=new TextDecoder,z=(te,ne)=>ne?new TextDecoder(ne).decode(te):L.decode(te),ee=new TextEncoder,q=te=>ee.encode(te);function a(te){const ne=te<0?1:0;return te=Math.abs(Number(te||1)),Math.floor(Math.log10(te))+1+ne}function d(te){return ArrayBuffer.isView(te)?"arraybufferview":Array.isArray(te)?"array":te instanceof Number?"number":te instanceof Boolean?"boolean":te instanceof Set?"set":te instanceof Map?"map":te instanceof String?"string":te instanceof ArrayBuffer?"arraybuffer":typeof te}function m(te,ne,ue){const De=[];let Be=null;return m._encode(De,te),Be=((te,ne=0)=>{const ue=te.length||0;if(!ne){let ze=ue;for(;ze--;)ne+=te[ze].length}const De=new Uint8Array(ne);let Be=ne,Qe=ue;for(;Qe--;)Be-=te[Qe].length,De.set(te[Qe],Be);return De})(De),m.bytes=Be.length,ArrayBuffer.isView(ne)?(ne.set(Be,ue),ne):Be}typeof window<"u"?window:self,m.bytes=-1,m._floatConversionDetected=!1,m._encode=function(te,ne){if(null!=ne)switch(d(ne)){case"object":m.dict(te,ne);break;case"map":m.dictMap(te,ne);break;case"array":m.list(te,ne);break;case"set":m.listSet(te,ne);break;case"string":m.string(te,ne);break;case"number":case"boolean":m.number(te,ne);break;case"arraybufferview":m.buffer(te,new Uint8Array(ne.buffer,ne.byteOffset,ne.byteLength));break;case"arraybuffer":m.buffer(te,new Uint8Array(ne))}};const p=new Uint8Array([101]),E=new Uint8Array([100]),D=new Uint8Array([108]);m.buffer=function(te,ne){te.push(q(ne.length+":"),ne)},m.string=function(te,ne){te.push(q(q(ne).byteLength+":"+ne))},m.number=function(te,ne){if(Number.isInteger(ne))return te.push(q("i"+BigInt(ne)+"e"));const ue=2147483648,Qe=(ne/ue|0)*ue+(ne%ue|0);te.push(q("i"+Qe+"e")),Qe!==ne&&!m._floatConversionDetected&&(m._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+ne+'":','Bencoding only defines support for integers, value was converted to "'+Qe+'"'),console.trace())},m.dict=function(te,ne){te.push(E);let De,ue=0;const Be=Object.keys(ne).sort(),Qe=Be.length;for(;ue<Qe;ue++)De=Be[ue],null!=ne[De]&&(m.string(te,De),m._encode(te,ne[De]));te.push(p)},m.dictMap=function(te,ne){te.push(E);const ue=Array.from(ne.keys()).sort();for(const De of ue)null!=ne.get(De)&&(ArrayBuffer.isView(De)?m._encode(te,De):m.string(te,String(De)),m._encode(te,ne.get(De)));te.push(p)},m.list=function(te,ne){let ue=0;const De=ne.length;for(te.push(D);ue<De;ue++)null!=ne[ue]&&m._encode(te,ne[ue]);te.push(p)},m.listSet=function(te,ne){te.push(D);for(const ue of ne)null!=ue&&m._encode(te,ue);te.push(p)};const R=m;function Q(te,ne,ue){let De=0,Be=1;for(let Qe=ne;Qe<ue;Qe++){const ze=te[Qe];if(ze<58&&ze>=48)De=10*De+(ze-48);else if(Qe!==ne||43!==ze){if(Qe===ne&&45===ze){Be=-1;continue}if(46===ze)break;throw new Error("not a number: buffer["+Qe+"] = "+ze)}}return De*Be}function de(te,ne,ue,De){return null==te||0===te.length?null:("number"!=typeof ne&&null==De&&(De=ne,ne=void 0),"number"!=typeof ue&&null==De&&(De=ue,ue=void 0),de.position=0,de.encoding=De||null,de.data=ArrayBuffer.isView(te)?new Uint8Array(te.slice(ne,ue)):q(te),de.bytes=de.data.length,de.next())}function be(te){if(null==te)return 0;const ue=d(te);switch(ue){case"arraybufferview":return function Fe(te){const ne=te.byteLength-te.byteOffset;return a(ne)+1+ne}(te);case"string":return function _e(te){const ne=q(te).byteLength;return a(ne)+1+ne}(te);case"array":case"set":return function Re(te){let ne=2;for(const ue of te)ne+=be(ue);return ne}(te);case"number":return 1+a(Math.floor(te))+1;case"bigint":return 1+te.toString().length+1;case"object":return function Ee(te){let ne=2;const ue=Object.keys(te);for(let De=0;De<ue.length;De++){const Be=q(ue[De]).byteLength;ne+=a(Be)+1+Be,ne+=be(te[ue[De]])}return ne}(te);case"map":return function Ve(te){let ne=2;for(const[ue,De]of te){const Be=q(ue).byteLength;ne+=a(Be)+1+Be,ne+=be(De)}return ne}(te);default:throw new TypeError(`Unsupported value of type "${ue}"`)}}de.bytes=0,de.position=0,de.data=null,de.encoding=null,de.next=function(){switch(de.data[de.position]){case 100:return de.dictionary();case 108:return de.list();case 105:return de.integer();default:return de.buffer()}},de.find=function(te){let ne=de.position;const ue=de.data.length,De=de.data;for(;ne<ue;){if(De[ne]===te)return ne;ne++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(te)+'" [0x'+te.toString(16)+"]")},de.dictionary=function(){de.position++;const te={};for(;101!==de.data[de.position];){const ne=de.buffer();let ue=z(ne);ue.includes("\ufffd")&&(ue=H(ne)),te[ue]=de.next()}return de.position++,te},de.list=function(){de.position++;const te=[];for(;101!==de.data[de.position];)te.push(de.next());return de.position++,te},de.integer=function(){const te=de.find(101),ne=Q(de.data,de.position+1,te);return de.position+=te+1-de.position,ne},de.buffer=function(){let te=de.find(58);const ne=Q(de.data,de.position,te),ue=++te+ne;return de.position=ue,de.encoding?z(de.data.slice(te,ue)):de.data.slice(te,ue)};const me={encode:R,decode:de,byteLength:be,encodingLength:be}},10797:(Je,j,_)=>{"use strict";_.d(j,{_Q:()=>G,yE:()=>ee});var w=_(52054);class O{constructor(Z,J,se){this.name=Z,this.prefix=J,this.baseEncode=se}encode(Z){if(Z instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Z)}`;throw Error("Unknown type, must be binary type")}}class S{constructor(Z,J,se){if(this.name=Z,this.prefix=J,void 0===J.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=J.codePointAt(0),this.baseDecode=se}decode(Z){if("string"==typeof Z){if(Z.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Z)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Z.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(Z){return N(this,Z)}}class B{constructor(Z){this.decoders=Z}or(Z){return N(this,Z)}decode(Z){const se=this.decoders[Z[0]];if(se)return se.decode(Z);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Z)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const N=(q,Z)=>new B({...q.decoders||{[q.prefix]:q},...Z.decoders||{[Z.prefix]:Z}});class U{constructor(Z,J,se,ce){this.name=Z,this.prefix=J,this.baseEncode=se,this.baseDecode=ce,this.encoder=new O(Z,J,se),this.decoder=new S(Z,J,ce)}encode(Z){return this.encoder.encode(Z)}decode(Z){return this.decoder.decode(Z)}}const A=({name:q,prefix:Z,encode:J,decode:se})=>new U(q,Z,J,se),G=({prefix:q,name:Z,alphabet:J})=>{const{encode:se,decode:ce}=function y(q,Z){if(q.length>=255)throw new TypeError("Alphabet too long");for(var J=new Uint8Array(256),se=0;se<J.length;se++)J[se]=255;for(var ce=0;ce<q.length;ce++){var ae=q.charAt(ce),fe=ae.charCodeAt(0);if(255!==J[fe])throw new TypeError(ae+" is ambiguous");J[fe]=ce}var he=q.length,we=q.charAt(0),Me=Math.log(he)/Math.log(256),Pe=Math.log(256)/Math.log(he);function a(m){if("string"!=typeof m)throw new TypeError("Expected String");if(0===m.length)return new Uint8Array;var p=0;if(" "!==m[p]){for(var E=0,D=0;m[p]===we;)E++,p++;for(var R=(m.length-p)*Me+1>>>0,x=new Uint8Array(R);m[p];){var s=J[m.charCodeAt(p)];if(255===s)return;for(var v=0,$=R-1;(0!==s||v<D)&&-1!==$;$--,v++)x[$]=(s+=he*x[$]>>>0)%256>>>0,s=s/256>>>0;if(0!==s)throw new Error("Non-zero carry");D=v,p++}if(" "!==m[p]){for(var F=R-D;F!==R&&0===x[F];)F++;for(var Q=new Uint8Array(E+(R-F)),de=E;F!==R;)Q[de++]=x[F++];return Q}}}return{encode:function C(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===m.length)return"";for(var p=0,E=0,D=0,R=m.length;D!==R&&0===m[D];)D++,p++;for(var x=(R-D)*Pe+1>>>0,s=new Uint8Array(x);D!==R;){for(var v=m[D],$=0,F=x-1;(0!==v||$<E)&&-1!==F;F--,$++)s[F]=(v+=256*s[F]>>>0)%he>>>0,v=v/he>>>0;if(0!==v)throw new Error("Non-zero carry");E=$,D++}for(var Q=x-E;Q!==x&&0===s[Q];)Q++;for(var de=we.repeat(p);Q<x;++Q)de+=q.charAt(s[Q]);return de},decodeUnsafe:a,decode:function d(m){var p=a(m);if(p)return p;throw new Error(`Non-${Z} character`)}}}(J,Z);return A({prefix:q,name:Z,encode:se,decode:ae=>(0,w.au)(ce(ae))})},ee=({name:q,prefix:Z,bitsPerChar:J,alphabet:se})=>A({prefix:Z,name:q,encode:ce=>((q,Z,J)=>{const se="="===Z[Z.length-1],ce=(1<<J)-1;let ae="",fe=0,he=0;for(let we=0;we<q.length;++we)for(he=he<<8|q[we],fe+=8;fe>J;)fe-=J,ae+=Z[ce&he>>fe];if(fe&&(ae+=Z[ce&he<<J-fe]),se)for(;ae.length*J&7;)ae+="=";return ae})(ce,se,J),decode:ce=>((q,Z,J,se)=>{const ce={};for(let Pe=0;Pe<Z.length;++Pe)ce[Z[Pe]]=Pe;let ae=q.length;for(;"="===q[ae-1];)--ae;const fe=new Uint8Array(ae*J/8|0);let he=0,we=0,Me=0;for(let Pe=0;Pe<ae;++Pe){const C=ce[q[Pe]];if(void 0===C)throw new SyntaxError(`Non-${se} character`);we=we<<J|C,he+=J,he>=8&&(he-=8,fe[Me++]=255&we>>he)}if(he>=J||255&we<<8-he)throw new SyntaxError("Unexpected end of data");return fe})(ce,se,J,q)})},15130:(Je,j,_)=>{"use strict";_.d(j,{RG:()=>b,jd:()=>U});var y=_(10797);const b=(0,y.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),U=((0,y.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,y.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,y.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,y.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,y.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,y.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,y.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,y.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}))},80286:(Je,j,_)=>{"use strict";_.d(j,{s:()=>b});var y=_(10797);const b=(0,y._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,y._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},14725:(Je,j,_)=>{"use strict";_.d(j,{r0:()=>H});var y=_(10797);(0,y.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,y.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const H=(0,y.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});(0,y.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},52054:(Je,j,_)=>{"use strict";_.d(j,{aI:()=>H,au:()=>w}),new Uint8Array(0);const H=(N,U)=>{if(N===U)return!0;if(N.byteLength!==U.byteLength)return!1;for(let A=0;A<N.byteLength;A++)if(N[A]!==U[A])return!1;return!0},w=N=>{if(N instanceof Uint8Array&&"Uint8Array"===N.constructor.name)return N;if(N instanceof ArrayBuffer)return new Uint8Array(N);if(ArrayBuffer.isView(N))return new Uint8Array(N.buffer,N.byteOffset,N.byteLength);throw new Error("Unknown type, must be binary type")}},41861:(Je,j,_)=>{"use strict";_.d(j,{TO:()=>A});var y=_(28206),b=_(56580),P=_(80286),H=_(15130),w=_(52054);const O=(se,ce)=>{const{bytes:ae,version:fe}=se;return 0===fe?L(ae,U(se),ce||P.s.encoder):z(ae,U(se),ce||H.RG.encoder)},N=new WeakMap,U=se=>{const ce=N.get(se);if(null==ce){const ae=new Map;return N.set(se,ae),ae}return ce};class A{constructor(ce,ae,fe,he){this.code=ae,this.version=ce,this.multihash=fe,this.bytes=he,this["/"]=he}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:ce,multihash:ae}=this;if(ce!==ee)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(ae.code!==q)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return A.createV0(ae)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:ce,digest:ae}=this.multihash,fe=b.vt(ce,ae);return A.createV1(this.code,fe)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(ce){return A.equals(this,ce)}static equals(ce,ae){return ae&&ce.code===ae.code&&ce.version===ae.version&&b.aI(ce.multihash,ae.multihash)}toString(ce){return O(this,ce)}toJSON(){return{"/":O(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(ce){if(null==ce)return null;const ae=ce;if(ae instanceof A)return ae;if(null!=ae["/"]&&ae["/"]===ae.bytes||ae.asCID===ae){const{version:fe,code:he,multihash:we,bytes:Me}=ae;return new A(fe,he,we,Me||Z(fe,he,we.bytes))}if(!0===ae[J]){const{version:fe,multihash:he,code:we}=ae,Me=b.D4(he);return A.create(fe,we,Me)}return null}static create(ce,ae,fe){if("number"!=typeof ae)throw new Error("String codecs are no longer supported");if(!(fe.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(ce){case 0:if(ae!==ee)throw new Error(`Version 0 CID must use dag-pb (code: ${ee}) block encoding`);return new A(ce,ae,fe,fe.bytes);case 1:{const he=Z(ce,ae,fe.bytes);return new A(ce,ae,fe,he)}default:throw new Error("Invalid version")}}static createV0(ce){return A.create(0,ee,ce)}static createV1(ce,ae){return A.create(1,ce,ae)}static decode(ce){const[ae,fe]=A.decodeFirst(ce);if(fe.length)throw new Error("Incorrect length");return ae}static decodeFirst(ce){const ae=A.inspectBytes(ce),fe=ae.size-ae.multihashSize,he=(0,w.au)(ce.subarray(fe,fe+ae.multihashSize));if(he.byteLength!==ae.multihashSize)throw new Error("Incorrect length");const we=he.subarray(ae.multihashSize-ae.digestSize),Me=new b.np(ae.multihashCode,ae.digestSize,we,he);return[0===ae.version?A.createV0(Me):A.createV1(ae.codec,Me),ce.subarray(ae.size)]}static inspectBytes(ce){let ae=0;const fe=()=>{const[m,p]=y.decode(ce.subarray(ae));return ae+=p,m};let he=fe(),we=ee;if(18===he?(he=0,ae=0):we=fe(),0!==he&&1!==he)throw new RangeError(`Invalid CID version ${he}`);const Me=ae,Pe=fe(),C=fe(),a=ae+C;return{version:he,codec:we,multihashCode:Pe,digestSize:C,multihashSize:a-Me,size:a}}static parse(ce,ae){const[fe,he]=G(ce,ae),we=A.decode(he);if(0===we.version&&"Q"!==ce[0])throw Error("Version 0 CID string must not include multibase prefix");return U(we).set(fe,ce),we}}const G=(se,ce)=>{switch(se[0]){case"Q":return[P.s.prefix,(ce||P.s).decode(`${P.s.prefix}${se}`)];case P.s.prefix:return[P.s.prefix,(ce||P.s).decode(se)];case H.RG.prefix:return[H.RG.prefix,(ce||H.RG).decode(se)];default:if(null==ce)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[se[0],ce.decode(se)]}},L=(se,ce,ae)=>{const{prefix:fe}=ae;if(fe!==P.s.prefix)throw Error(`Cannot string encode V0 in ${ae.name} encoding`);const he=ce.get(fe);if(null==he){const we=ae.encode(se).slice(1);return ce.set(fe,we),we}return he},z=(se,ce,ae)=>{const{prefix:fe}=ae,he=ce.get(fe);if(null==he){const we=ae.encode(se);return ce.set(fe,we),we}return he},ee=112,q=18,Z=(se,ce,ae)=>{const fe=y.encodingLength(se),he=fe+y.encodingLength(ce),we=new Uint8Array(he+ae.byteLength);return y.encodeTo(se,we,0),y.encodeTo(ce,we,fe),we.set(ae,he),we},J=Symbol.for("@ipld/js-cid/CID")},56580:(Je,j,_)=>{"use strict";_.d(j,{D4:()=>H,aI:()=>w,np:()=>O,vt:()=>P});var y=_(52054),b=_(28206);const P=(S,B)=>{const N=B.byteLength,U=b.encodingLength(S),A=U+b.encodingLength(N),G=new Uint8Array(A+N);return b.encodeTo(S,G,0),b.encodeTo(N,G,U),G.set(B,A),new O(S,N,B,G)},H=S=>{const B=(0,y.au)(S),[N,U]=b.decode(B),[A,G]=b.decode(B.subarray(U)),L=B.subarray(U+G);if(L.byteLength!==A)throw new Error("Incorrect length");return new O(N,A,L,B)},w=(S,B)=>S===B||S.code===B.code&&S.size===B.size&&B.bytes instanceof Uint8Array&&(0,y.aI)(S.bytes,B.bytes);class O{constructor(B,N,U,A){this.code=B,this.size=N,this.digest=U,this.bytes=A}}},92059:(Je,j,_)=>{"use strict";_.d(j,{H:()=>b});var y=_(56580);const b=({name:H,code:w,encode:O})=>new P(H,w,O);class P{constructor(w,O,S){this.name=w,this.code=O,this.encode=S}digest(w){if(w instanceof Uint8Array){const O=this.encode(w);return O instanceof Uint8Array?y.vt(this.code,O):O.then(S=>y.vt(this.code,S))}throw Error("Unknown type, must be binary type")}}},41405:(Je,j,_)=>{"use strict";_.d(j,{L8:()=>b,TO:()=>y.TO});var y=_(41861),b=_(28206);_(52054),_(92059),_(56580)},28206:(Je,j,_)=>{"use strict";_.r(j),_.d(j,{decode:()=>we,encodeTo:()=>Me,encodingLength:()=>Pe});var b=128,H=-128,w=Math.pow(2,31),B=128,N=127,A=Math.pow(2,7),G=Math.pow(2,14),L=Math.pow(2,21),z=Math.pow(2,28),ee=Math.pow(2,35),q=Math.pow(2,42),Z=Math.pow(2,49),J=Math.pow(2,56),se=Math.pow(2,63);const he={encode:function O(C,a,d){a=a||[];for(var m=d=d||0;C>=w;)a[d++]=255&C|b,C/=128;for(;C&H;)a[d++]=255&C|b,C>>>=7;return a[d]=0|C,O.bytes=d-m+1,a},decode:function U(C,m){var D,d=0,p=0,E=m=m||0,R=C.length;do{if(E>=R)throw U.bytes=0,new RangeError("Could not decode varint");D=C[E++],d+=p<28?(D&N)<<p:(D&N)*Math.pow(2,p),p+=7}while(D>=B);return U.bytes=E-m,d},encodingLength:function(C){return C<A?1:C<G?2:C<L?3:C<z?4:C<ee?5:C<q?6:C<Z?7:C<J?8:C<se?9:10}},we=(C,a=0)=>[he.decode(C,a),he.decode.bytes],Me=(C,a,d=0)=>(he.encode(C,a,d),a),Pe=C=>he.encodingLength(C)},10467:(Je,j,_)=>{"use strict";function y(P,H,w,O,S,B,N){try{var U=P[B](N),A=U.value}catch(G){return void w(G)}U.done?H(A):Promise.resolve(A).then(O,S)}function b(P){return function(){var H=this,w=arguments;return new Promise(function(O,S){var B=P.apply(H,w);function N(A){y(B,O,S,N,U,"next",A)}function U(A){y(B,O,S,N,U,"throw",A)}N(void 0)})}}_.d(j,{A:()=>b})},31635:(Je,j,_)=>{"use strict";function G(s,v,$,F){return new($||($=Promise))(function(de,Ce){function Re(_e){try{Ee(F.next(_e))}catch(Fe){Ce(Fe)}}function Ve(_e){try{Ee(F.throw(_e))}catch(Fe){Ce(Fe)}}function Ee(_e){_e.done?de(_e.value):function Q(de){return de instanceof $?de:new $(function(Ce){Ce(de)})}(_e.value).then(Re,Ve)}Ee((F=F.apply(s,v||[])).next())})}function ae(s){return this instanceof ae?(this.v=s,this):new ae(s)}function fe(s,v,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,F=$.apply(s,v||[]),de=[];return Q={},Re("next"),Re("throw"),Re("return",function Ce(Ae){return function(ge){return Promise.resolve(ge).then(Ae,Fe)}}),Q[Symbol.asyncIterator]=function(){return this},Q;function Re(Ae,ge){F[Ae]&&(Q[Ae]=function(me){return new Promise(function(te,ne){de.push([Ae,me,te,ne])>1||Ve(Ae,me)})},ge&&(Q[Ae]=ge(Q[Ae])))}function Ve(Ae,ge){try{!function Ee(Ae){Ae.value instanceof ae?Promise.resolve(Ae.value.v).then(_e,Fe):be(de[0][2],Ae)}(F[Ae](ge))}catch(me){be(de[0][3],me)}}function _e(Ae){Ve("next",Ae)}function Fe(Ae){Ve("throw",Ae)}function be(Ae,ge){Ae(ge),de.shift(),de.length&&Ve(de[0][0],de[0][1])}}function we(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,v=s[Symbol.asyncIterator];return v?v.call(s):(s=function q(s){var v="function"==typeof Symbol&&Symbol.iterator,$=v&&s[v],F=0;if($)return $.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&F>=s.length&&(s=void 0),{value:s&&s[F++],done:!s}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),$={},F("next"),F("throw"),F("return"),$[Symbol.asyncIterator]=function(){return this},$);function F(de){$[de]=s[de]&&function(Ce){return new Promise(function(Re,Ve){!function Q(de,Ce,Re,Ve){Promise.resolve(Ve).then(function(Ee){de({value:Ee,done:Re})},Ce)}(Re,Ve,(Ce=s[de](Ce)).done,Ce.value)})}}}_.d(j,{AQ:()=>fe,N3:()=>ae,sH:()=>G,xN:()=>we}),"function"==typeof SuppressedError&&SuppressedError},83813:Je=>{"use strict";Je.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:Je=>{"use strict";Je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:Je=>{"use strict";Je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:Je=>{"use strict";Je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:Je=>{"use strict";Je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:Je=>{"use strict";Je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:Je=>{"use strict";Je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:Je=>{"use strict";Je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:Je=>{"use strict";Je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:Je=>{"use strict";Je.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:Je=>{"use strict";Je.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:Je=>{"use strict";Je.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:Je=>{"use strict";Je.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:Je=>{"use strict";Je.exports={rE:"6.5.5"}},15579:Je=>{"use strict";Je.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Je=>{var j=y=>Je(Je.s=y);j(94073),j(13159)}]);