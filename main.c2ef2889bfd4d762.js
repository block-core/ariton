(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{52191:(je,z,E)=>{var f=E(40573);const _="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,k=()=>_.now(),x=M=>M===1/0||(M=>M&&M===Math.floor(M)&&M>0&&isFinite(M))(M);class P{constructor({max:O=1/0,ttl:F,updateAgeOnGet:L=!1,checkAgeOnGet:D=!1,noUpdateTTL:X=!1,dispose:j,noDisposeOnSet:G=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==F&&!x(F))throw new TypeError("ttl must be positive integer or Infinity if set");if(!x(O))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=F,this.max=O,this.updateAgeOnGet=!!L,this.checkAgeOnGet=!!D,this.noUpdateTTL=!!X,this.noDisposeOnSet=!!G,void 0!==j){if("function"!=typeof j)throw new TypeError("dispose must be function if set");this.dispose=j}this.timer=void 0,this.timerExpiration=void 0}setTimer(O,F){if(this.timerExpiration<O)return;this.timer&&clearTimeout(this.timer);const L=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const D in this.expirations){this.setTimer(D,D-k());break}},F);L.unref&&L.unref(),this.timerExpiration=O,this.timer=L}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return f.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const O=this.dispose!==P.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[F,L]of O)this.dispose(L,F,"delete")}setTTL(O,F=this.ttl){const L=this.expirationMap.get(O);if(void 0!==L){const D=this.expirations[L];!D||D.length<=1?delete this.expirations[L]:this.expirations[L]=D.filter(X=>X!==O)}if(F!==1/0){const D=Math.floor(k()+F);this.expirationMap.set(O,D),this.expirations[D]||(this.expirations[D]=[],this.setTimer(D,F)),this.expirations[D].push(O)}else this.expirationMap.set(O,1/0)}set(O,F,{ttl:L=this.ttl,noUpdateTTL:D=this.noUpdateTTL,noDisposeOnSet:X=this.noDisposeOnSet}={}){if(!x(L))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(O)){D||this.setTTL(O,L);const j=this.data.get(O);j!==F&&(this.data.set(O,F),X||this.dispose(j,O,"set"))}else this.setTTL(O,L),this.data.set(O,F);for(;this.size>this.max;)this.purgeToCapacity();return this}has(O){return this.data.has(O)}getRemainingTTL(O){const F=this.expirationMap.get(O);return F===1/0?F:void 0!==F?Math.max(0,Math.ceil(F-k())):0}get(O,{updateAgeOnGet:F=this.updateAgeOnGet,ttl:L=this.ttl,checkAgeOnGet:D=this.checkAgeOnGet}={}){const X=this.data.get(O);if(!D||0!==this.getRemainingTTL(O))return F&&this.setTTL(O,L),X;this.delete(O)}dispose(O,F){}delete(O){const F=this.expirationMap.get(O);if(void 0!==F){const L=this.data.get(O);this.data.delete(O),this.expirationMap.delete(O);const D=this.expirations[F];return D&&(D.length<=1?delete this.expirations[F]:this.expirations[F]=D.filter(X=>X!==O)),this.dispose(L,O,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const O in this.expirations){const F=this.expirations[O];if(!(this.size-F.length>=this.max)){const L=this.size-this.max,D=[];for(const X of F.splice(0,L))D.push([X,this.data.get(X)]),this.data.delete(X),this.expirationMap.delete(X);for(const[X,j]of D)this.dispose(j,X,"evict");return}{delete this.expirations[O];const L=[];for(const D of F)L.push([D,this.data.get(D)]),this.data.delete(D),this.expirationMap.delete(D);for(const[D,X]of L)this.dispose(X,D,"evict")}}}get size(){return this.data.size}purgeStale(){const O=Math.ceil(k());for(const F in this.expirations){if("Infinity"===F||F>O)return;const L=[...this.expirations[F]||[]],D=[];delete this.expirations[F];for(const X of L)D.push([X,this.data.get(X)]),this.data.delete(X),this.expirationMap.delete(X);for(const[X,j]of D)this.dispose(j,X,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const O in this.expirations)for(const F of this.expirations[O])yield[F,this.data.get(F)]}*keys(){for(const O in this.expirations)for(const F of this.expirations[O])yield F}*values(){for(const O in this.expirations)for(const F of this.expirations[O])yield this.data.get(F)}[Symbol.iterator](){return this.entries()}}je.exports=P},33065:(je,z,E)=>{"use strict";E.r(z),E.d(z,{RestoreComponent:()=>re});var f=E(10467),_=E(93953),k=E(89417),H=E(88834),x=E(25596),P=E(99213),M=E(99631),O=E(5951),F=E(82798),L=E(34635),D=E(60132),X=E(31439),j=E(53719);function G(te,J){1&te&&(_.j41(0,"mat-error"),_.EFF(1,"Recovery phrase is "),_.j41(2,"strong"),_.EFF(3,"required"),_.k0s()())}let re=(()=>{class te{constructor(){this.fb=(0,_.WQX)(k.ok),this.crypto=(0,_.WQX)(D.j),this.app=(0,_.WQX)(X.d),this.identity=(0,_.WQX)(L.K),this.addressForm=this.fb.group({recoveryPhrase:[null,k.k0.required]})}onSubmit(){var Z=this;return(0,f.A)(function*(){console.log(Z.addressForm.controls.recoveryPhrase.value),Z.addressForm.disable(),Z.app.loading.set(!0);let ie=yield Z.crypto.createPassword();const ae={did:"",recoveryPhrase:Z.addressForm.controls.recoveryPhrase.value,password:ie,passwordHash:""};ie="123";const se=yield Z.identity.restore(ie,Z.addressForm.controls.recoveryPhrase.value);if(console.log("RESTORE Result: ",se),!se)return alert("Failed to restore account."),void Z.addressForm.enable();ae.did=se.did,Z.app.addAccount(ae),Z.app.initialized.set(!0),Z.app.loading.set(!1)})()}static#e=this.\u0275fac=function(ie){return new(ie||te)};static#t=this.\u0275cmp=_.VBU({type:te,selectors:[["app-restore"]],standalone:!0,features:[_.aNF],decls:20,vars:3,consts:[["recoveryPhrase",""],["novalidate","",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"full-width"],["matInput","","placeholder","Secret Recovery Phrase","formControlName","recoveryPhrase"],["align","end"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(ie,ae){if(1&ie){const se=_.RV6();_.j41(0,"h1"),_.EFF(1,"Restore your account"),_.k0s(),_.j41(2,"form",1),_.bIt("ngSubmit",function(){return _.eBV(se),_.Njj(ae.onSubmit())}),_.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),_.EFF(6,"Secret Recovery Phrase"),_.k0s(),_.j41(7,"mat-card-subtitle"),_.EFF(8,"Enter your 12 words backup"),_.k0s()(),_.j41(9,"mat-card-content"),_.nrm(10,"br"),_.j41(11,"mat-form-field",3)(12,"mat-label"),_.EFF(13,"Secret Recovery Phrase"),_.k0s(),_.nrm(14,"textarea",4,0),_.DNE(16,G,4,0,"mat-error"),_.k0s()(),_.j41(17,"mat-card-actions",5)(18,"button",6),_.EFF(19,"Restore"),_.k0s()()()()}2&ie&&(_.R7$(2),_.Y8G("formGroup",ae.addressForm),_.R7$(14),_.vxM(ae.addressForm.controls.recoveryPhrase.hasError("required")?16:-1),_.R7$(2),_.Y8G("disabled",ae.app.loading()))},dependencies:[M.fS,M.fg,j.rl,j.nJ,j.TL,H.Hl,H.$z,F.Ve,P.m_,O.Wk,x.Hu,x.RN,x.YY,x.m2,x.MM,x.Lc,x.dh,k.X1,k.qT,k.me,k.BC,k.cb,k.j4,k.JD],styles:[".shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.link-input[_ngcontent-%COMP%]{display:flex;align-items:baseline}.link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.4em}"]})}return te})()},31439:(je,z,E)=>{"use strict";E.d(z,{d:()=>de,f:()=>se});var f=E(10467),_=E(93953),k=E(43794),H=E(60132),x=E(34635),M=E.t(JSON.parse('{"name":"ariton","version":"0.0.1","scripts":{"ng":"ng","start":"ng serve","build":"ng build","watch":"ng build --watch --configuration development","test":"ng test","deploy":"ng deploy app","i18n":"ng extract-i18n --format=json --output-path src/locale"},"repository":{"type":"git","url":"git+https://github.com/block-core/ariton.git"},"private":true,"dependencies":{"@angular-builders/custom-webpack":"^18.0.0","@angular/animations":"^18.1.3","@angular/cdk":"^18.1.3","@angular/common":"^18.1.3","@angular/compiler":"^18.1.3","@angular/core":"^18.1.3","@angular/forms":"^18.1.3","@angular/material":"^18.1.3","@angular/platform-browser":"^18.1.3","@angular/platform-browser-dynamic":"^18.1.3","@angular/router":"^18.1.3","@angular/service-worker":"^18.1.3","@scure/bip39":"^1.3.0","@web5/agent":"^0.4.1","@web5/api":"^0.10.0","@web5/credentials":"^1.0.4","@web5/crypto":"^1.0.2","@web5/dids":"^1.1.2","@web5/identity-agent":"^0.4.1","cropperjs":"^1.6.2","crypto-browserify":"^3.12.0","process":"^0.11.10","qrcode":"^1.5.3","rxjs":"~7.8.1","stream":"^0.0.3","stream-browserify":"^3.0.0","tslib":"^2.6.3","zone.js":"~0.14.8"},"devDependencies":{"@angular-devkit/build-angular":"^18.1.3","@angular/cli":"^18.1.3","@angular/compiler-cli":"^18.1.3","@angular/localize":"^18.1.3","@types/jasmine":"~5.1.4","@types/qrcode":"^1.5.5","angular-cli-ghpages":"^2.0.1","jasmine-core":"~5.2.0","karma":"~6.4.4","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.1","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0","typescript":"~5.5.4"}}'),2),O=E(4053),F=E(77949),L=E(45189),D=E(49245),X=E(62060),j=E(67136),G=E(1639),re=E(69371),te=E(2685),J=E(69314),Z=E(97372);let ie=(()=>{class le{constructor(){this.identityService=(0,_.WQX)(x.K)}register(){var xe=this;return(0,f.A)(function*(){const Ce=[J.Q,O.Q,F.Q,L.Q,D.Q,X.Q,j.Q,G.Q,re.Q,te.Q,Z.Q];for(const C of Ce){const{protocol:a,status:u}=yield xe.identityService.web5.dwn.protocols.configure({message:{definition:C}});console.log("Install status:",u),console.log("Protocol:",a)}})()}static#e=this.\u0275fac=function(Ce){return new(Ce||le)};static#t=this.\u0275prov=_.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();var ae=E(39434),se=function(le){return le[le.Initial=0]="Initial",le[le.NewUser=1]="NewUser",le[le.Locked=2]="Locked",le[le.Unlocked=3]="Unlocked",le[le.Error=4]="Error",le}(se||{});let de=(()=>{class le{constructor(){var xe=this;this.onboardingState=(0,_.vPA)(se.Initial),this.initialized=(0,_.vPA)(!1),this.loading=(0,_.vPA)(!1),this.storage=(0,_.WQX)(k.n),this.crypto=(0,_.WQX)(H.j),this.identity=(0,_.WQX)(x.K),this.profile=(0,_.WQX)(ae.p),this.protocol=(0,_.WQX)(ie),this.state=(0,_.vPA)({loginAction:"/dashboard",selectedAccount:"",hidden:{}}),this.account=(0,_.vPA)({did:"",recoveryPhrase:"",password:"",passwordHash:""}),this.accounts=(0,_.vPA)([]),this.params=(0,_.vPA)({}),this.package=M,console.log(`Ariton v${this.package.version} initialized.`),this.dependencies=Object.entries(this.package.dependencies).map(([Ce,C])=>({name:Ce,version:C})),(0,_.QZP)((0,f.A)(function*(){xe.identity.locked()||(yield xe.onUnlocked())}))}saveAccounts(){this.storage.save("accounts",this.accounts())}saveState(){this.storage.save("state",this.state())}hasStateBeenSet(){return!!this.storage.read("state")}addAccount(xe){this.accounts().push(xe),this.saveAccounts(),this.state().selectedAccount=xe.did,this.saveState()}createAccount(){var xe=this;return(0,f.A)(function*(){xe.storage.save("state",{selectedAccount:"",hidden:{},loginAction:"/introduction"}),yield xe.initialize()})()}initialize(){var xe=this;return(0,f.A)(function*(){xe.loading.set(!0),console.log("Initializing Ariton...");let Ce=xe.storage.read("state");if(!Ce)return xe.onboardingState.set(se.NewUser),void xe.loading.set(!1);let a,C=xe.storage.read("accounts");if(C){const u=C.find(y=>y.did===Ce.selectedAccount);xe.accounts.set(C),xe.account?.set(u),u.password?(a=yield xe.identity.connect(u.did,u.password),a?(xe.onboardingState.set(se.Unlocked),xe.identity.locked.set(!1)):xe.loading.set(!1)):(xe.identity.locked.set(!0),xe.onboardingState.set(se.Locked))}else{console.log("No accounts found");const u=yield xe.crypto.createPassword();if(a=yield xe.identity.initialConnect(u),void 0===a)return xe.storage.remove("state"),xe.onboardingState.set(se.Error),void xe.loading.set(!1);console.log(a),console.log("Initialize connect finished."),C=[{did:a.did,recoveryPhrase:a.recoveryPhrase,password:u}],xe.storage.save("accounts",C),Ce.selectedAccount=a.did,xe.accounts.set(C),xe.account?.set(C[0]),xe.storage.save("state",Ce),xe.onboardingState.set(se.Unlocked),xe.identity.locked.set(!1)}xe.state.set(Ce)})()}onUnlocked(){var xe=this;return(0,f.A)(function*(){yield xe.profile.openCurrentUserProfile(xe.account().did),xe.initialized.set(!0),xe.loading.set(!1),xe.protocol.register()})()}static#e=this.\u0275fac=function(Ce){return new(Ce||le)};static#t=this.\u0275prov=_.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})()},61748:(je,z,E)=>{"use strict";E.d(z,{b:()=>H});var f=E(18498),_=E(5964),k=E(93953);let H=(()=>{class x{constructor(M,O){this.router=M,this.activatedRoute=O,this.breadcrumbs=[],this.router.events.pipe((0,_.p)(F=>F instanceof f.wF)).subscribe(()=>{this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)})}createBreadcrumbs(M,O="",F=[]){const L=M.children;if(0===L.length)return F;for(const D of L){const X=D.snapshot.url.map(j=>j.path).join("/");return""!==X&&(O+=`/${X}`),F.push({label:D.snapshot.data.breadcrumb,url:O}),this.createBreadcrumbs(D,O,F)}return F}static#e=this.\u0275fac=function(O){return new(O||x)(k.KVO(f.Ix),k.KVO(f.nX))};static#t=this.\u0275prov=k.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},60132:(je,z,E)=>{"use strict";E.d(z,{j:()=>Af});var f=E(10467);E(52191),new Uint8Array(0);class re{name;prefix;baseEncode;constructor(it,Je,at){this.name=it,this.prefix=Je,this.baseEncode=at}encode(it){if(it instanceof Uint8Array)return`${this.prefix}${this.baseEncode(it)}`;throw Error("Unknown type, must be binary type")}}class te{name;prefix;baseDecode;prefixCodePoint;constructor(it,Je,at){if(this.name=it,this.prefix=Je,void 0===Je.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Je.codePointAt(0),this.baseDecode=at}decode(it){if("string"==typeof it){if(it.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(it)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(it.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(it){return Z(this,it)}}class J{decoders;constructor(it){this.decoders=it}or(it){return Z(this,it)}decode(it){const at=this.decoders[it[0]];if(null!=at)return at.decode(it);throw RangeError(`Unable to decode multibase string ${JSON.stringify(it)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Z(mt,it){return new J({...mt.decoders??{[mt.prefix]:mt},...it.decoders??{[it.prefix]:it}})}class ie{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(it,Je,at,$t){this.name=it,this.prefix=Je,this.baseEncode=at,this.baseDecode=$t,this.encoder=new re(it,Je,at),this.decoder=new te(it,Je,$t)}encode(it){return this.encoder.encode(it)}decode(it){return this.decoder.decode(it)}}function ae({name:mt,prefix:it,encode:Je,decode:at}){return new ie(mt,it,Je,at)}function se({name:mt,prefix:it,alphabet:Je}){const{encode:at,decode:$t}=function D(mt,it){if(mt.length>=255)throw new TypeError("Alphabet too long");for(var Je=new Uint8Array(256),at=0;at<Je.length;at++)Je[at]=255;for(var $t=0;$t<mt.length;$t++){var Yt=mt.charAt($t),yn=Yt.charCodeAt(0);if(255!==Je[yn])throw new TypeError(Yt+" is ambiguous");Je[yn]=$t}var zn=mt.length,or=mt.charAt(0),ur=Math.log(zn)/Math.log(256),$n=Math.log(256)/Math.log(zn);function Xe(me){if("string"!=typeof me)throw new TypeError("Expected String");if(0===me.length)return new Uint8Array;var ve=0;if(" "!==me[ve]){for(var Ze=0,qe=0;me[ve]===or;)Ze++,ve++;for(var pt=(me.length-ve)*ur+1>>>0,Vt=new Uint8Array(pt);me[ve];){var bn=Je[me.charCodeAt(ve)];if(255===bn)return;for(var Xt=0,bt=pt-1;(0!==bn||Xt<qe)&&-1!==bt;bt--,Xt++)Vt[bt]=(bn+=zn*Vt[bt]>>>0)%256>>>0,bn=bn/256>>>0;if(0!==bn)throw new Error("Non-zero carry");qe=Xt,ve++}if(" "!==me[ve]){for(var sn=pt-qe;sn!==pt&&0===Vt[sn];)sn++;for(var Lr=new Uint8Array(Ze+(pt-sn)),mi=Ze;sn!==pt;)Lr[mi++]=Vt[sn++];return Lr}}}return{encode:function rr(me){if(me instanceof Uint8Array||(ArrayBuffer.isView(me)?me=new Uint8Array(me.buffer,me.byteOffset,me.byteLength):Array.isArray(me)&&(me=Uint8Array.from(me))),!(me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===me.length)return"";for(var ve=0,Ze=0,qe=0,pt=me.length;qe!==pt&&0===me[qe];)qe++,ve++;for(var Vt=(pt-qe)*$n+1>>>0,bn=new Uint8Array(Vt);qe!==pt;){for(var Xt=me[qe],bt=0,sn=Vt-1;(0!==Xt||bt<Ze)&&-1!==sn;sn--,bt++)bn[sn]=(Xt+=256*bn[sn]>>>0)%zn>>>0,Xt=Xt/zn>>>0;if(0!==Xt)throw new Error("Non-zero carry");Ze=bt,qe++}for(var Lr=Vt-Ze;Lr!==Vt&&0===bn[Lr];)Lr++;for(var mi=or.repeat(ve);Lr<Vt;++Lr)mi+=mt.charAt(bn[Lr]);return mi},decodeUnsafe:Xe,decode:function Me(me){var ve=Xe(me);if(ve)return ve;throw new Error(`Non-${it} character`)}}}(Je,mt);return ae({prefix:it,name:mt,encode:at,decode:Yt=>function M(mt){if(mt instanceof Uint8Array&&"Uint8Array"===mt.constructor.name)return mt;if(mt instanceof ArrayBuffer)return new Uint8Array(mt);if(ArrayBuffer.isView(mt))return new Uint8Array(mt.buffer,mt.byteOffset,mt.byteLength);throw new Error("Unknown type, must be binary type")}($t(Yt))})}function we({name:mt,prefix:it,bitsPerChar:Je,alphabet:at}){return ae({prefix:it,name:mt,encode:$t=>function le(mt,it,Je){const at="="===it[it.length-1],$t=(1<<Je)-1;let Yt="",yn=0,zn=0;for(let or=0;or<mt.length;++or)for(zn=zn<<8|mt[or],yn+=8;yn>Je;)yn-=Je,Yt+=it[$t&zn>>yn];if(0!==yn&&(Yt+=it[$t&zn<<Je-yn]),at)for(;Yt.length*Je&7;)Yt+="=";return Yt}($t,at,Je),decode:$t=>function de(mt,it,Je,at){const $t={};for(let $n=0;$n<it.length;++$n)$t[it[$n]]=$n;let Yt=mt.length;for(;"="===mt[Yt-1];)--Yt;const yn=new Uint8Array(Yt*Je/8|0);let zn=0,or=0,ur=0;for(let $n=0;$n<Yt;++$n){const rr=$t[mt[$n]];if(void 0===rr)throw new SyntaxError(`Non-${at} character`);or=or<<Je|rr,zn+=Je,zn>=8&&(zn-=8,yn[ur++]=255&or>>zn)}if(zn>=Je||255&or<<8-zn)throw new SyntaxError("Unexpected end of data");return yn}($t,at,Je,mt)})}we({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),we({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),we({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),we({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),we({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),we({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),we({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),we({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),we({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),se({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),se({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),we({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),we({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),we({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),we({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),new TextEncoder,new TextDecoder;var pe=128,Q=-128,oe=Math.pow(2,31),Re=128,$e=127,Et=Math.pow(2,7),We=Math.pow(2,14),Le=Math.pow(2,21),lt=Math.pow(2,28),B=Math.pow(2,35),w=Math.pow(2,42),m=Math.pow(2,49),U=Math.pow(2,56),ne=Math.pow(2,63);const Bt={encode:function fe(mt,it,Je){it=it||[];for(var at=Je=Je||0;mt>=oe;)it[Je++]=255&mt|pe,mt/=128;for(;mt&Q;)it[Je++]=255&mt|pe,mt>>>=7;return it[Je]=0|mt,fe.bytes=Je-at+1,it},decode:function Fe(mt,at){var yn,Je=0,$t=0,Yt=at=at||0,zn=mt.length;do{if(Yt>=zn)throw Fe.bytes=0,new RangeError("Could not decode varint");yn=mt[Yt++],Je+=$t<28?(yn&$e)<<$t:(yn&$e)*Math.pow(2,$t),$t+=7}while(yn>=Re);return Fe.bytes=Yt-at,Je},encodingLength:function(mt){return mt<Et?1:mt<We?2:mt<Le?3:mt<lt?4:mt<B?5:mt<w?6:mt<m?7:mt<U?8:mt<ne?9:10}};function vt(mt,it=0){return[Bt.decode(mt,it),Bt.decode.bytes]}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class un{static addPrefix(it){var Je;let{code:at,data:$t,name:Yt}=it;if(!(Yt?!at:at))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(at=un.codeToName.has(at)?at:un.nameToCode.get(Yt),void 0===at)throw new Error(`Unsupported multicodec: ${null!==(Je=it.name)&&void 0!==Je?Je:it.code}`);const yn=function Gt(mt){return Bt.encodingLength(mt)}(at),zn=new Uint8Array(yn+$t.byteLength);return zn.set($t,yn),function It(mt,it,Je=0){return Bt.encode(mt,it,Je),it}(at,zn),zn}static getCodeFromData(it){const{prefixedData:Je}=it,[at,$t]=vt(Je);return at}static getCodeFromName(it){const{name:Je}=it,at=un.nameToCode.get(Je);if(void 0===at)throw new Error(`Unsupported multicodec: ${Je}`);return at}static getNameFromCode(it){const{code:Je}=it,at=un.codeToName.get(Je);if(void 0===at)throw new Error(`Unsupported multicodec: ${Je}`);return at}static registerCodec(it){un.codeToName.set(it.code,it.name),un.nameToCode.set(it.name,it.code)}static removePrefix(it){const{prefixedData:Je}=it,[at,$t]=vt(Je),Yt=un.codeToName.get(at);if(void 0===Yt)throw new Error(`Unsupported multicodec: ${at}`);return{code:at,data:Je.slice($t),name:Yt}}}un.codeToName=new Map,un.nameToCode=new Map,un.registerCodec({code:237,name:"ed25519-pub"}),un.registerCodec({code:4864,name:"ed25519-priv"}),un.registerCodec({code:236,name:"x25519-pub"}),un.registerCodec({code:4866,name:"x25519-priv"}),un.registerCodec({code:231,name:"secp256k1-pub"}),un.registerCodec({code:4865,name:"secp256k1-priv"}),E(95099),E(80868);const jn="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Nd(mt){return function ua(mt=32){if(jn&&"function"==typeof jn.getRandomValues)return jn.getRandomValues(new Uint8Array(mt));throw new Error("crypto.getRandomValues must be defined")}(mt)}new Uint8Array(new Uint32Array([287454020]).buffer),E(94256),E(91006),E(40499),E(86295),E(91879);class zh{static deriveKey(it){return function(mt,it,Je,at){return new(Je||(Je=Promise))(function(Yt,yn){function zn($n){try{ur(at.next($n))}catch(rr){yn(rr)}}function or($n){try{ur(at.throw($n))}catch(rr){yn(rr)}}function ur($n){$n.done?Yt($n.value):function $t(Yt){return Yt instanceof Je?Yt:new Je(function(yn){yn(Yt)})}($n.value).then(zn,or)}ur((at=at.apply(mt,it||[])).next())})}(this,arguments,void 0,function*({hash:Je,password:at,salt:$t,iterations:Yt,length:yn}){const zn=yield jn.subtle.importKey("raw",at,{name:"PBKDF2"},!1,["deriveBits"]),or=yield jn.subtle.deriveBits({name:"PBKDF2",hash:Je,salt:$t,iterations:Yt},zn,yn);return new Uint8Array(or)})}}function Ta(mt,...it){if(!function zi(mt){return mt instanceof Uint8Array||null!=mt&&"object"==typeof mt&&"Uint8Array"===mt.constructor.name}(mt))throw new Error("Uint8Array expected");if(it.length>0&&!it.includes(mt.length))throw new Error(`Uint8Array expected of length ${it}, not of length=${mt.length}`)}function Ic(mt,it=!0){if(mt.destroyed)throw new Error("Hash instance has been destroyed");if(it&&mt.finished)throw new Error("Hash#digest() has already been called")}E(94730);const Hh="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ef=mt=>new DataView(mt.buffer,mt.byteOffset,mt.byteLength),Qs=(mt,it)=>mt<<32-it|mt>>>it;function to(mt){return"string"==typeof mt&&(mt=function Ou(mt){if("string"!=typeof mt)throw new Error("utf8ToBytes expected string, got "+typeof mt);return new Uint8Array((new TextEncoder).encode(mt))}(mt)),Ta(mt),mt}new Uint8Array(new Uint32Array([287454020]).buffer);class Cc{clone(){return this._cloneInto()}}function Ul(mt){const it=at=>mt().update(to(at)).digest(),Je=mt();return it.outputLen=Je.outputLen,it.blockLen=Je.blockLen,it.create=()=>mt(),it}const Jt=(mt,it,Je)=>mt&it^~mt&Je,Tt=(mt,it,Je)=>mt&it^mt&Je^it&Je;class Kt extends Cc{constructor(it,Je,at,$t){super(),this.blockLen=it,this.outputLen=Je,this.padOffset=at,this.isLE=$t,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(it),this.view=Ef(this.buffer)}update(it){Ic(this);const{view:Je,buffer:at,blockLen:$t}=this,Yt=(it=to(it)).length;for(let yn=0;yn<Yt;){const zn=Math.min($t-this.pos,Yt-yn);if(zn!==$t)at.set(it.subarray(yn,yn+zn),this.pos),this.pos+=zn,yn+=zn,this.pos===$t&&(this.process(Je,0),this.pos=0);else{const or=Ef(it);for(;$t<=Yt-yn;yn+=$t)this.process(or,yn)}}return this.length+=it.length,this.roundClean(),this}digestInto(it){Ic(this),function su(mt,it){Ta(mt);const Je=it.outputLen;if(mt.length<Je)throw new Error(`digestInto() expects output buffer of length at least ${Je}`)}(it,this),this.finished=!0;const{buffer:Je,view:at,blockLen:$t,isLE:Yt}=this;let{pos:yn}=this;Je[yn++]=128,this.buffer.subarray(yn).fill(0),this.padOffset>$t-yn&&(this.process(at,0),yn=0);for(let rr=yn;rr<$t;rr++)Je[rr]=0;(function st(mt,it,Je,at){if("function"==typeof mt.setBigUint64)return mt.setBigUint64(it,Je,at);const $t=BigInt(32),Yt=BigInt(4294967295),yn=Number(Je>>$t&Yt),zn=Number(Je&Yt),ur=at?0:4;mt.setUint32(it+(at?4:0),yn,at),mt.setUint32(it+ur,zn,at)})(at,$t-8,BigInt(8*this.length),Yt),this.process(at,0);const zn=Ef(it),or=this.outputLen;if(or%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const ur=or/4,$n=this.get();if(ur>$n.length)throw new Error("_sha2: outputLen bigger than state");for(let rr=0;rr<ur;rr++)zn.setUint32(4*rr,$n[rr],Yt)}digest(){const{buffer:it,outputLen:Je}=this;this.digestInto(it);const at=it.slice(0,Je);return this.destroy(),at}_cloneInto(it){it||(it=new this.constructor),it.set(...this.get());const{blockLen:Je,buffer:at,length:$t,finished:Yt,destroyed:yn,pos:zn}=this;return it.length=$t,it.pos=zn,it.finished=Yt,it.destroyed=yn,$t%Je&&it.buffer.set(at),it}}const Mn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),br=new Uint32Array(64);class Jr extends Kt{constructor(){super(64,32,8,!1),this.A=0|nr[0],this.B=0|nr[1],this.C=0|nr[2],this.D=0|nr[3],this.E=0|nr[4],this.F=0|nr[5],this.G=0|nr[6],this.H=0|nr[7]}get(){const{A:it,B:Je,C:at,D:$t,E:Yt,F:yn,G:zn,H:or}=this;return[it,Je,at,$t,Yt,yn,zn,or]}set(it,Je,at,$t,Yt,yn,zn,or){this.A=0|it,this.B=0|Je,this.C=0|at,this.D=0|$t,this.E=0|Yt,this.F=0|yn,this.G=0|zn,this.H=0|or}process(it,Je){for(let rr=0;rr<16;rr++,Je+=4)br[rr]=it.getUint32(Je,!1);for(let rr=16;rr<64;rr++){const Xe=br[rr-15],Me=br[rr-2],me=Qs(Xe,7)^Qs(Xe,18)^Xe>>>3,ve=Qs(Me,17)^Qs(Me,19)^Me>>>10;br[rr]=ve+br[rr-7]+me+br[rr-16]|0}let{A:at,B:$t,C:Yt,D:yn,E:zn,F:or,G:ur,H:$n}=this;for(let rr=0;rr<64;rr++){const Me=$n+(Qs(zn,6)^Qs(zn,11)^Qs(zn,25))+Jt(zn,or,ur)+Mn[rr]+br[rr]|0,ve=(Qs(at,2)^Qs(at,13)^Qs(at,22))+Tt(at,$t,Yt)|0;$n=ur,ur=or,or=zn,zn=yn+Me|0,yn=Yt,Yt=$t,$t=at,at=Me+ve|0}at=at+this.A|0,$t=$t+this.B|0,Yt=Yt+this.C|0,yn=yn+this.D|0,zn=zn+this.E|0,or=or+this.F|0,ur=ur+this.G|0,$n=$n+this.H|0,this.set(at,$t,Yt,yn,zn,or,ur,$n)}roundClean(){br.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ki=Ul(()=>new Jr);var Cr=E(53813);function Ss(mt,it=128){if(function ud(mt){if(!Number.isSafeInteger(mt)||mt<0)throw new Error(`positive integer expected, not ${mt}`)}(it),it%32!=0||it>256)throw new TypeError("Invalid entropy");return function kc(mt,it){return function yl(mt){Ta(mt,16,20,24,28,32)}(mt),function _a(mt){if(!Array.isArray(mt)||2048!==mt.length||"string"!=typeof mt[0])throw new Error("Wordlist: expected array of 2048 strings");return mt.forEach(it=>{if("string"!=typeof it)throw new Error(`Wordlist: non-string element: ${it}`)}),Cr.Wp.chain(Cr.Wp.checksum(1,fd),Cr.Wp.radix2(11,!0),Cr.Wp.alphabet(mt))}(it).encode(mt).join((mt=>"\u3042\u3044\u3053\u304f\u3057\u3093"===mt[0])(it)?"\u3000":" ")}(function ch(mt=32){if(Hh&&"function"==typeof Hh.getRandomValues)return Hh.getRandomValues(new Uint8Array(mt));throw new Error("crypto.getRandomValues must be defined")}(it/8),mt)}const fd=mt=>{const it=8-mt.length/4;return new Uint8Array([Ki(mt)[0]>>it<<it])};const yc="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var Fd=E(93953);let Af=(()=>{class mt{constructor(){}createPassword(Je=6,at=128){return(0,f.A)(function*(){try{const $t=Ss(yc,at).split(" "),Yt=[];for(let yn=0;yn<Je;yn++){const zn=Math.floor(Math.random()*$t.length);Yt.push($t[zn])}return Yt.join(" ")}catch($t){throw console.error($t),$t}})()}encrypt(Je,at){return this.deriveKey(at),Je}encryptData(Je,at){return(0,f.A)(function*(){})()}deriveKey(Je){return(0,f.A)(function*(){return yield zh.deriveKey({hash:"SHA-256",password:(new TextEncoder).encode(Je),salt:Nd(16),iterations:1e3,length:256})})()}static#e=this.\u0275fac=function(at){return new(at||mt)};static#t=this.\u0275prov=Fd.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}return mt})()},34635:(je,z,E)=>{"use strict";E.d(z,{K:()=>x});var f=E(10467),_=E(93953),k=E(74862),H=E(60132);let x=(()=>{class P{constructor(O){this.cryptoService=O,this.syncInterval="10s",this.agents=(0,_.vPA)([]),this.preinitialized=(0,_.vPA)(!1),this.initialized=(0,_.vPA)(!1),this.locked=(0,_.vPA)(!0)}initialConnect(O){var F=this;return(0,f.A)(function*(){try{const L=yield k.uW.connect({password:O,sync:F.syncInterval});return F.web5=L.web5,F.did=L.did,console.log("Web5 Connected.",F.did),F.preinitialized.set(!0),F.initialized.set(!0),L}catch(L){console.error(L)}})()}connect(O,F){var L=this;return(0,f.A)(function*(){try{const D=yield k.uW.connect({connectedDid:O,password:F,sync:L.syncInterval});return L.web5=D.web5,L.did=D.did,console.log("Web5 Connected."),L.preinitialized.set(!0),L.initialized.set(!0),D}catch{alert("Failed to initialize Web5")}})()}restore(O,F){var L=this;return(0,f.A)(function*(){try{const D=yield k.uW.connect({recoveryPhrase:F,password:O,sync:L.syncInterval});return L.web5=D.web5,L.did=D.did,console.log("Web5 Connected."),L.preinitialized.set(!0),L.initialized.set(!0),D}catch{alert("Failed to initialize Web5")}})()}activeAgent(){return this.web5.agent}changePassword(O,F){var L=this;return(0,f.A)(function*(){yield L.web5.agent.vault.changePassword({oldPassword:O,newPassword:F})})()}lock(){var O=this;return(0,f.A)(function*(){console.log("Locking account..."),yield O.web5.agent.vault.lock(),console.log("Vault locked"),O.locked.set(!0)})()}unlock(O){var F=this;return(0,f.A)(function*(){console.log("Connecting to Web5...");try{const{did:L,web5:D}=yield k.uW.connect({sync:"5s",password:O});return F.did=L,F.web5=D,F.initialized.set(!0),F.locked.set(!1),!0}catch(L){return console.error(L),console.log("Show unlock screen!"),F.locked.set(!0),!1}})()}static#e=this.\u0275fac=function(F){return new(F||P)(_.KVO(H.j))};static#t=this.\u0275prov=_.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},36815:(je,z,E)=>{"use strict";E.d(z,{Y:()=>_});var f=E(93953);let _=(()=>{class k{constructor(){this.scrolling=(0,f.vPA)(!0),this.navigation=(0,f.vPA)(!1),this.actions=(0,f.vPA)([]),(0,f.QZP)(()=>{const x=document.querySelector(".sidenav-scroll-wrapper");x&&(x.style.overflow=this.scrolling()?"auto":"hidden");const P=document.querySelector(".sidenav-content");P&&(P.style.overflow=this.scrolling()?"auto":"hidden")})}setActions(x){this.actions.set(x)}addAction(x){this.actions.update(P=>[...P,x])}resetActions(){this.actions.set([])}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}enableNavigation(){this.navigation.set(!0)}disableNavigation(){this.navigation.set(!1)}static#e=this.\u0275fac=function(P){return new(P||k)};static#t=this.\u0275prov=f.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},55619:(je,z,E)=>{"use strict";E.d(z,{o:()=>H});var f=E(18498),_=E(93953),k=E(60177);let H=(()=>{class x{constructor(M,O){this.router=M,this.location=O,this.history=[],this.router.events.subscribe(F=>{F instanceof f.wF&&this.history.push(F.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(O){return new(O||x)(_.KVO(f.Ix),_.KVO(k.aZ))};static#t=this.\u0275prov=_.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},39434:(je,z,E)=>{"use strict";E.d(z,{p:()=>x});var f=E(10467),_=E(93953),k=E(34635),H=E(22312);let x=(()=>{class P{constructor(){this.identity=(0,_.WQX)(k.K),this.current=(0,_.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.selected=(0,_.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.avatar=(0,_.vPA)(null),this.avatarSelected=(0,_.vPA)(null)}loadProfile(O){var F=this;return(0,f.A)(function*(){const L=yield F.identity.web5.dwn.records.query({from:O,message:{filter:{protocol:H.ME.uri,protocolPath:"profile",dataFormat:"application/json"}}});let D={},X=null;if(console.log("RESPONSE FOUND FOR PROFILE:",L),console.log("RECORDS FOUND FOR PROFILE:",L.records),L.records)for(const te of L.records)X=te,D={...yield te.data.json(),id:te.dataCid,did:te.author,created:te.dateCreated};var j=null,G=null;const re=yield F.identity.web5.dwn.records.query({from:O,message:{filter:{protocol:H.ME.uri,protocolPath:"avatar",dataFormat:"image/png"}}});if(re.records&&re.records.length>0){const te=re.records[0];j=te,G=yield te.data.text()}return{record:X,avatarRecord:j,avatar:G,profile:D,did:O}})()}openCurrentUserProfile(O){var F=this;return(0,f.A)(function*(){console.log("Open current user profile",O);const L=yield F.loadProfile(O);F.current.set(L.profile)})()}openProfile(O){var F=this;return(0,f.A)(function*(){console.log("Open profile",O);const L=yield F.loadProfile(O);F.avatarSelected.set(L.avatar),F.selected.set(L.profile),O==F.identity.did&&(F.avatar.set(L.avatar),F.current.set(L.profile))})()}static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=_.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},98703:(je,z,E)=>{"use strict";E.d(z,{g:()=>_});var f=E(93953);let _=(()=>{class k{transform(x,P){if(x){const M=Math.floor((+new Date-+new Date(x))/1e3);if(M<29)return"Just now";const O={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let F;for(const L in O)if(F=Math.floor(M/O[L]),F>0)return 1===F?F+" "+L+" ago":F+" "+L+"s ago"}return x}static#e=this.\u0275fac=function(P){return new(P||k)};static#t=this.\u0275pipe=f.EJ8({name:"ago",type:k,pure:!0,standalone:!0})}return k})()},33347:(je,z,E)=>{"use strict";E.d(z,{k:()=>_});var f=E(93953);let _=(()=>{class k{transform(x,P){if(x){const M=x.lastIndexOf(":");if(-1!==M){const O=x.slice(0,M+1),F=x.slice(M+1);return O+F.slice(0,5)+"..."+F.slice(-5)}return x.slice(0,5)+"..."+x.slice(-5)}return x}static#e=this.\u0275fac=function(P){return new(P||k)};static#t=this.\u0275pipe=f.EJ8({name:"did",type:k,pure:!0,standalone:!0})}return k})()},78013:(je,z,E)=>{"use strict";E.d(z,{d:()=>k});var f=E(93953),_=E(345);let k=(()=>{class H{constructor(P){this.sanitizer=P}transform(P){return this.sanitizer.bypassSecurityTrustResourceUrl(P)}static#e=this.\u0275fac=function(M){return new(M||H)(f.rXU(_.up,16))};static#t=this.\u0275pipe=f.EJ8({name:"safeResourceUrl",type:H,pure:!0,standalone:!0})}return H})()},28741:(je,z,E)=>{"use strict";E.d(z,{M:()=>_});var f=E(93953);let _=(()=>{class k{transform(x,P){if(null==x)return"";if(0===x)return"0 Bytes";const F=Math.floor(Math.log(x)/Math.log(1024));return parseFloat((x/Math.pow(1024,F)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][F]}static#e=this.\u0275fac=function(P){return new(P||k)};static#t=this.\u0275pipe=f.EJ8({name:"size",type:k,pure:!0,standalone:!0})}return k})()},43794:(je,z,E)=>{"use strict";E.d(z,{n:()=>_});var f=E(93953);let _=(()=>{class k{constructor(){this.prefix="ariton-"}save(x,P){localStorage.setItem(this.prefix+x,JSON.stringify(P))}read(x){const P=localStorage.getItem(this.prefix+x);return P?JSON.parse(P):null}remove(x){localStorage.removeItem(this.prefix+x)}clear(){Object.keys(localStorage).forEach(x=>{x.startsWith(this.prefix)&&localStorage.removeItem(x)})}static#e=this.\u0275fac=function(P){return new(P||k)};static#t=this.\u0275prov=f.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},5312:(je,z,E)=>{"use strict";var f=E(345),_=E(93953),k=E(18498),H=E(10467),x=E(31439),P=E(36815),M=E(34635),O=E(97372),F=E(60177),L=E(89417),D=E(88834),X=E(75351),j=E(99213),G=E(99631),re=E(59115),te=E(14823),J=E(53719);let Z=(()=>{class on{constructor(Rt,an){this.dialogRef=Rt,this.data=an,this.fb=(0,_.WQX)(L.ok),this.form=this.fb.group({name:[null,L.k0.required]})}ngAfterViewInit(){}static#e=this.\u0275fac=function(an){return new(an||on)(_.rXU(X.CP),_.rXU(X.Vh))};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["app-folder-dialog"]],standalone:!0,features:[_.aNF],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["appearance","outline",1,"full-width"],["matInput","","required","true","placeholder","Name","maxlength","200",3,"ngModelChange","ngModel"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","type","submit","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(an,gn){1&an&&(_.j41(0,"h2",0),_.EFF(1,"New folder"),_.k0s(),_.j41(2,"mat-dialog-content",1)(3,"mat-form-field",2)(4,"input",3),_.mxI("ngModelChange",function(Er){return _.DH7(gn.data.name,Er)||(gn.data.name=Er),Er}),_.k0s()()(),_.j41(5,"mat-dialog-actions",4)(6,"button",5),_.EFF(7,"Cancel"),_.k0s(),_.j41(8,"button",6),_.EFF(9,"Create"),_.k0s()()),2&an&&(_.R7$(4),_.R50("ngModel",gn.data.name),_.R7$(4),_.Y8G("mat-dialog-close",!0))},dependencies:[F.MD,te.uc,re.Cn,j.m_,D.Hl,D.$z,G.fS,G.fg,J.rl,X.hM,X.tx,X.BI,X.E7,X.Yi,L.YN,L.me,L.BC,L.YS,L.tU,L.vS],styles:["form[_ngcontent-%COMP%]{display:inline}"]})}return on})();var ie=E(3902),ae=E(98703),se=E(61748);let de=(()=>{class on{constructor(){}registerActions(Rt){}static#e=this.\u0275fac=function(an){return new(an||on)};static#t=this.\u0275prov=_.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})();var le=E(28741),we=E(62590),xe=E(2042),Ce=E(9159);function C(on,Yn){1&on&&_.nrm(0,"th",14)}function a(on,Yn){1&on&&(_.j41(0,"mat-icon",16),_.EFF(1,"folder"),_.k0s())}function u(on,Yn){1&on&&(_.j41(0,"mat-icon",16),_.EFF(1,"note"),_.k0s())}function y(on,Yn){if(1&on&&(_.j41(0,"td",15),_.DNE(1,a,2,0,"mat-icon",16)(2,u,2,0,"mat-icon",16),_.k0s()),2&on){const Rt=Yn.$implicit;_.R7$(),_.vxM("folder"===Rt.tags.entryType?1:-1),_.R7$(),_.vxM("file"===Rt.tags.entryType?2:-1)}}function g(on,Yn){1&on&&(_.j41(0,"th",17),_.EFF(1,"Name"),_.k0s())}function S(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"td",18),_.bIt("click",function(){const gn=_.eBV(Rt).$implicit,pr=_.XpG();return _.Njj(pr.openEntry(gn))}),_.EFF(1),_.k0s()}if(2&on){const Rt=Yn.$implicit;_.R7$(),_.JRh(Rt.tags.name)}}function T(on,Yn){1&on&&(_.j41(0,"th",19),_.EFF(1,"Modified"),_.k0s())}function N(on,Yn){if(1&on&&(_.EFF(0),_.nI1(1,"ago")),2&on){const Rt=_.XpG().$implicit;_.SpI(" ",_.bMT(1,1,Rt.dateModified)," ")}}function A(on,Yn){if(1&on&&(_.EFF(0),_.nI1(1,"ago")),2&on){const Rt=_.XpG().$implicit;_.SpI(" ",_.bMT(1,1,Rt.tags.lastModified)," ")}}function s(on,Yn){if(1&on&&(_.j41(0,"td",15),_.DNE(1,N,2,3)(2,A,2,3),_.k0s()),2&on){const Rt=Yn.$implicit;_.R7$(),_.vxM("folder"===Rt.tags.entryType?1:-1),_.R7$(),_.vxM("file"===Rt.tags.entryType?2:-1)}}function v(on,Yn){1&on&&(_.j41(0,"th",20),_.EFF(1,"File size"),_.k0s())}function W(on,Yn){if(1&on&&(_.j41(0,"td",15),_.EFF(1),_.nI1(2,"size"),_.k0s()),2&on){const Rt=Yn.$implicit;_.R7$(),_.JRh(_.bMT(2,1,Rt.tags.size))}}function K(on,Yn){1&on&&_.nrm(0,"tr",21)}function ee(on,Yn){1&on&&_.nrm(0,"tr",22)}let ce=(()=>{class on{constructor(){var Rt=this;this.entries=(0,_.vPA)([]),this.app=(0,_.WQX)(x.d),this.breadcrumb=(0,_.WQX)(se.b),this.layout=(0,_.WQX)(P.Y),this.identity=(0,_.WQX)(M.K),this.dialog=(0,_.WQX)(X.bZ),this.router=(0,_.WQX)(k.Ix),this.route=(0,_.WQX)(k.nX),this.fileService=(0,_.WQX)(de),this.uploadProgress=null,this.isUploading=!1,this.file=null,this.uploadSuccess=!1,this.fileError=null,this.protocolPath="entry",this.hasInitialized=!1,this.folderLevel=1,this.displayedColumns=["icon","name","modified","size"],this.dataSource=new Ce.I6([]),this.changeDetectorRefs=(0,_.WQX)(_.gRc),console.log("FOLDER COMPONENT CONSTRUCTOR"),(0,_.QZP)((0,H.A)(function*(){if(Rt.app.initialized()){if(Rt.hasInitialized)return;const an=Rt.getResolvedUrl(Rt.route.snapshot);yield Rt.processUrl(an)}}),{allowSignalWrites:!0}),(0,_.QZP)((0,H.A)(function*(){Rt.dataSource.data=Rt.entries()})),this.routingSub=this.router.events.subscribe(function(){var an=(0,H.A)(function*(gn){gn instanceof k.wF&&(yield Rt.processUrl(gn.urlAfterRedirects))});return function(gn){return an.apply(this,arguments)}}()),this.layout.disableNavigation(),console.log("FOLDER COMPONENT INITIALIZED"),this.layout.setActions([{name:"Upload files",icon:"upload_file",action:()=>{this.editFile({data:{title:"",body:"",background:"",collaborators:[],labels:[]}})}},{name:"New folder",icon:"create_new_folder",action:()=>{this.editFolder(null)}}])}ngAfterViewInit(){this.dataSource.sort=this.sort}announceSortChange(Rt){}getValueAfterFolder(Rt){const an=Rt.match(/\/folder\/(.+)/);return an?an[1]:null}generateUrl(Rt){const an=[];for(let gn=0;gn<Rt;gn++)an.push("entry");return an.join("/")}processUrl(Rt){var an=this;return(0,H.A)(function*(){if(console.log("PROCESS URL:",Rt),Rt.endsWith("root"))console.log("ROOT!!!"),an.parentId="root",an.protocolPath="entry",an.contextId=void 0,an.folderLevel=1;else{console.log("ELSE!!!"),console.log("URL:",Rt);const gn=an.getValueAfterFolder(Rt);console.log("valueAfterFolder:",gn);const pr=Rt.split("/"),Er=pr[pr.length-1];console.log("lastSegment:",Er),an.parentId=Er,an.contextId=gn;let Zr=0;gn?(Zr=(gn.match(/\//g)||[]).length+2,console.log("SLASHCOUNT:",Zr)):Zr=1,an.folderLevel=Zr,an.protocolPath=an.generateUrl(Zr),console.log("GENERATED PROTOCOL PATH:",an.protocolPath),an.layout.setActions(4===an.folderLevel?[{name:"Upload files",icon:"upload_file",action:()=>{an.editFile({data:{title:"",body:"",background:"",collaborators:[],labels:[]}})}},{name:"Delete folder",icon:"delete_forever",action:()=>{an.deleteFolder()}}]:an.folderLevel>1?[{name:"Upload files",icon:"upload_file",action:()=>{an.editFile({data:{title:"",body:"",background:"",collaborators:[],labels:[]}})}},{name:"New folder",icon:"create_new_folder",action:()=>{an.editFolder(null)}},{name:"Delete folder",icon:"delete_forever",action:()=>{an.deleteFolder()}}]:[{name:"Upload files",icon:"upload_file",action:()=>{an.editFile({data:{title:"",body:"",background:"",collaborators:[],labels:[]}})}},{name:"New folder",icon:"create_new_folder",action:()=>{an.editFolder(null)}}])}an.app.initialized()?(an.hasInitialized=!0,console.log("SET INITIALIZED. LOADING ENTRIES!",an.hasInitialized),yield an.loadEntries()):console.log("APP NOT INITIALIZED, RETURN!")})()}getResolvedUrl(Rt){let an=Rt.pathFromRoot.map(pr=>pr.url.map(Er=>Er.toString()).join("/")).join("/");const gn=Rt.queryParamMap;return gn.keys.length>0&&(an+="?"+gn.keys.map(pr=>gn.getAll(pr).map(Er=>pr+"="+Er).join("&")).join("&")),an}editFile(Rt){return(0,H.A)(function*(){document.getElementById("input")?.click()})()}ngOnDestroy(){console.log("ON DESTROY!!!);"),this.routingSub.unsubscribe(),this.layout.resetActions()}onFileSelected(Rt){var an=this;return(0,H.A)(function*(){const gn=Rt.currentTarget.files;if(0!=gn.length){console.log("Uploading number of files:",gn.length);for(let pr=0;pr<gn.length;pr++){const Er=gn[pr];console.log(Er);const Zr=new Blob([Er],{type:Er.type});console.log(Zr),console.log("Parent ID:",an.breadcrumb.parentId);const ao={tags:{name:Er.name,size:Er.size,type:Er.type,lastModified:Er.lastModified,entryType:"file"},protocol:O.Q.protocol,protocolPath:an.protocolPath,parentContextId:an.contextId??=void 0,schema:O.Q.types.entry.schema,dataFormat:Zr.type};console.log(ao);const{status:Bo,record:qr}=yield an.identity.web5.dwn.records.create({data:Zr,message:ao});console.log("Record created:",qr),console.log("Record status:",Bo),qr&&an.entries.update(Na=>[...Na,qr])}}})()}cancelUpload(){return(0,H.A)(function*(){})()}upload(){var Rt=this;return(0,H.A)(function*(){console.log("Uploading file");const{status:an,record:gn}=yield Rt.identity.web5.dwn.records.create({data:Rt.file,message:{schema:O.Q.types.entry.schema}});return console.log("Record created:",gn),console.log("Record status:",an),gn})()}deleteFolder(){var Rt=this;return(0,H.A)(function*(){const{record:an}=yield Rt.identity.web5.dwn.records.read({message:{filter:{recordId:Rt.parentId}}});if(an){const{status:gn}=yield an.delete({prune:!0});console.log("Delete status:",gn);const pr=Rt.contextId.split("/").slice(0,-1);console.log("Parent path:",pr),Rt.router.navigate(["app","files","folder",...pr])}})()}editFolder(Rt){var an=this;return(0,H.A)(function*(){let gn={name:Rt?Rt.tags.name:"Untitled folder",entryType:"folder"};const pr=JSON.parse(JSON.stringify(gn)),Er=an.dialog.open(Z,{maxWidth:"80vw",maxHeight:"80vh",data:gn});return Er.afterClosed().subscribe(function(){var Zr=(0,H.A)(function*(ao){ao?(console.log("data result for saving:",gn),yield an.saveFolder(Rt,gn)):gn=pr});return function(ao){return Zr.apply(this,arguments)}}()),Er.afterClosed()})()}saveFolder(Rt,an){var gn=this;return(0,H.A)(function*(){if(Rt){Rt.tags.name=an.name,Rt.tags.entryType=an.entryType;const{status:pr}=yield Rt.update({data:{}});console.log("Record status:",pr)}else{const pr={tags:{name:an.name,entryType:an.entryType},protocol:O.Q.protocol,protocolPath:gn.protocolPath,parentContextId:gn.contextId??=void 0,schema:O.Q.types.entry.schema};console.log("Create folder:",pr);const{record:Er,status:Zr}=yield gn.identity.web5.dwn.records.create({data:{},message:pr});console.log("Record created:",Er),console.log("Record status:",Zr),Er&&gn.entries.update(ao=>[...ao,Er])}})()}openEntry(Rt){var an=this;return(0,H.A)(function*(){console.log(Rt),an.router.navigate("folder"===Rt.tags.entryType?["/app/files/folder/"+Rt.contextId]:["/app/files/file/"+Rt.id])})()}loadEntries(Rt){var an=this;return(0,H.A)(function*(){console.log("VALUE OF TAGS:",Rt),console.log("PARENT ID:",an.parentId),console.log("PARENT CONTEXT ID:",an.contextId);const gn={filter:{protocolPath:an.protocolPath,protocol:O.Q.protocol,schema:O.Q.types.entry.schema},dateSort:we.U0.CreatedDescending};an.parentId&&"root"!==an.parentId&&(gn.filter.parentId=an.parentId),console.log(gn);var{records:pr}=yield an.identity.web5.dwn.records.query({message:gn});an.entries.set(pr??[]),console.log("All entries:",an.entries())})()}static#e=this.\u0275fac=function(an){return new(an||on)};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["app-folder"]],viewQuery:function(an,gn){if(1&an&&_.GBs(xe.B4,5),2&an){let pr;_.mGM(pr=_.lsd())&&(gn.sort=pr.first)}},standalone:!0,features:[_.aNF],decls:19,vars:5,consts:[["type","file","id","input","multiple","",2,"display","none",3,"change"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"matSortChange","dataSource"],["matColumnDef","icon"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["mat-cell","","class","clickable",3,"click",4,"matCellDef"],["matColumnDef","modified"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by modified",4,"matHeaderCellDef"],["matColumnDef","size"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by file size",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["matListItemIcon",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-cell","",1,"clickable",3,"click"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by modified"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by file size"],["mat-header-row",""],["mat-row",""]],template:function(an,gn){1&an&&(_.EFF(0),_.nrm(1,"br"),_.EFF(2),_.j41(3,"input",0),_.bIt("change",function(Er){return gn.onFileSelected(Er)}),_.k0s(),_.j41(4,"table",1),_.bIt("matSortChange",function(Er){return gn.announceSortChange(Er)}),_.qex(5,2),_.DNE(6,C,1,0,"th",3)(7,y,3,2,"td",4),_.bVm(),_.qex(8,5),_.DNE(9,g,2,0,"th",6)(10,S,2,1,"td",7),_.bVm(),_.qex(11,8),_.DNE(12,T,2,0,"th",9)(13,s,3,2,"td",4),_.bVm(),_.qex(14,10),_.DNE(15,v,2,0,"th",11)(16,W,3,3,"td",4),_.bVm(),_.DNE(17,K,1,0,"tr",12)(18,ee,1,0,"tr",13),_.k0s()),2&an&&(_.SpI(" ParentID: ",gn.parentId,"\n"),_.R7$(2),_.SpI("\nLevel: ",gn.folderLevel," "),_.R7$(2),_.Y8G("dataSource",gn.dataSource),_.R7$(13),_.Y8G("matHeaderRowDef",gn.displayedColumns),_.R7$(),_.Y8G("matRowDefColumns",gn.displayedColumns))},dependencies:[Ce.tP,Ce.Zl,Ce.tL,Ce.ji,Ce.cC,Ce.YV,Ce.iL,Ce.KS,Ce.$R,Ce.YZ,Ce.NB,xe.NQ,xe.B4,xe.aE,le.M,F.MD,ie.Fg,ie.ZV,j.m_,j.An,ae.g],styles:["table[_ngcontent-%COMP%]{width:100%}"]})}return on})();var _e=function(on){return on.PDF="application/pdf",on.JPEG="image/jpeg",on.PNG="image/png",on.MP4="video/mp4",on}(_e||{});const Oe=["*"];function Ve(on,Yn){if(1&on&&(_.j41(0,"div",1),_.nrm(1,"iframe",2),_.k0s()),2&on){const Rt=_.XpG();_.R7$(),_.Y8G("src",Rt.src,_.f$h)}}function Se(on,Yn){if(1&on&&_.nrm(0,"iframe",2),2&on){const Rt=_.XpG();_.Y8G("src",Rt.src,_.f$h)}}function be(on,Yn){if(1&on&&_.nrm(0,"iframe",2),2&on){const Rt=_.XpG();_.Y8G("src",Rt.src,_.f$h)}}function Ue(on,Yn){if(1&on&&(_.j41(0,"video",3),_.nrm(1,"source",4),_.EFF(2," Your browser does not support HTML5 video. "),_.k0s()),2&on){const Rt=_.XpG();_.R7$(),_.Y8G("src",Rt.src,_.B4B)}}function ye(on,Yn){1&on&&(_.j41(0,"span",null,0),_.SdG(2),_.k0s())}let De=(()=>{class on{ngAfterViewInit(){const Rt=document.getElementById("frame"),an=document.createElement("style");an.textContent="\n    body {\n        background-color: #f0f0f0;\n   margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n    }\n\n    img {\n      width: 100%;\n  height: 100%;\n  object-fit: contain; /* Adjust as needed: contain, cover, fill */\n    }\n",console.log("iframe:"),console.log(Rt),Rt.contentDocument.head.appendChild(an),console.log("iframe:"),console.log(Rt)}ngOnInit(){}zoomIn(){this.zoomLevel+=10}zoomOut(){this.zoomLevel>10&&(this.zoomLevel-=10)}goToPage(){this.currentPage<1?this.currentPage=1:this.currentPage>this.totalPages&&(this.currentPage=this.totalPages)}constructor(){this.fileMimeType=_e,this.pdfZoom=1,this.currentPage=1,this.totalPages=1,this.zoomLevel=100,this.totalPages=this.getPdfTotalPages()}getPdfTotalPages(){return 10}goToPreviousPage(){this.currentPage>1&&this.currentPage--}goToNextPage(){this.currentPage<this.totalPages&&this.currentPage++}static#e=this.\u0275fac=function(an){return new(an||on)};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["app-file-viewer"]],inputs:{type:"type",src:"src",pdfZoom:"pdfZoom"},standalone:!0,features:[_.aNF],ngContentSelectors:Oe,decls:6,vars:1,consts:[["content",""],[1,"pdf-viewer"],["id","frame","width","100%","height","100%",1,"file-frame",3,"src"],["controls","","width","100%"],["type","video/mp4",3,"src"]],template:function(an,gn){if(1&an&&(_.NAR(),_.j41(0,"span"),_.DNE(1,Ve,2,1,"div",1)(2,Se,1,1,"iframe",2)(3,be,1,1,"iframe",2)(4,Ue,3,1,"video",3)(5,ye,3,0,"span"),_.k0s()),2&an){let pr;_.R7$(),_.vxM((pr=gn.type)===gn.fileMimeType.PDF?1:pr===gn.fileMimeType.JPEG?2:pr===gn.fileMimeType.PNG?3:pr===gn.fileMimeType.MP4?4:5)}},dependencies:[F.MD,L.YN],styles:[".pdf-viewer[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}object[_ngcontent-%COMP%]{width:100%;height:100%}.controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.page-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}@media screen and (max-width: 768px){.controls[_ngcontent-%COMP%]{flex-direction:column}}"]})}return on})();var pe=E(55911),ue=E(55619);function Q(on,Yn){if(1&on&&(_.j41(0,"span"),_.EFF(1),_.k0s()),2&on){const Rt=_.XpG(2);_.R7$(),_.JRh(Rt.record.tags.name)}}function oe(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"button",3),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG(2);return _.Njj(gn.toggleFullscreen())}),_.j41(1,"mat-icon"),_.EFF(2,"fullscreen_exit"),_.k0s()()}2&on&&_.Y8G("title","Exit fullscreen")}function fe(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"button",3),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG(2);return _.Njj(gn.toggleFullscreen())}),_.j41(1,"mat-icon"),_.EFF(2,"fullscreen"),_.k0s()()}2&on&&_.Y8G("title","Fullscreen")}function Ee(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"mat-toolbar")(1,"button",2),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG();return _.Njj(gn.deleteFile())}),_.j41(2,"mat-icon"),_.EFF(3,"delete"),_.k0s()(),_.j41(4,"button",3),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG();return _.Njj(gn.download())}),_.j41(5,"mat-icon"),_.EFF(6,"file_download"),_.k0s()(),_.DNE(7,Q,2,1,"span"),_.nrm(8,"span",4),_.j41(9,"button",5)(10,"mat-icon"),_.EFF(11,"zoom_in"),_.k0s()(),_.j41(12,"button",5)(13,"mat-icon"),_.EFF(14,"zoom_out"),_.k0s()(),_.DNE(15,oe,3,1,"button",6)(16,fe,3,1,"button",6),_.k0s()}if(2&on){const Rt=_.XpG();_.R7$(4),_.Y8G("title","Download"),_.R7$(3),_.vxM(Rt.record.tags?7:-1),_.R7$(2),_.Y8G("disabled",!0),_.R7$(3),_.Y8G("disabled",!0),_.R7$(3),_.vxM(Rt.fullscreen()?15:16)}}function Re(on,Yn){if(1&on&&(_.j41(0,"app-file-viewer",1)(1,"h2"),_.EFF(2,"This file type is unsupported (yet :)"),_.k0s()()),2&on){const Rt=_.XpG();_.Y8G("src",Rt.src)("type",Rt.type)("pdfZoom",Rt.pdfZoom)}}const Fe=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"introduction",loadComponent:()=>E.e(4630).then(E.bind(E,64630)).then(on=>on.IntroductionComponent),title:"Introduction",data:{hide:!0,icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([E.e(6195),E.e(2320)]).then(E.bind(E,62320)).then(on=>on.DashboardComponent),title:"Dashboard",data:{icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([E.e(5571),E.e(6695),E.e(450),E.e(6702)]).then(E.bind(E,6702)).then(on=>on.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"communities/create",loadComponent:()=>Promise.all([E.e(3475),E.e(3672)]).then(E.bind(E,23672)).then(on=>on.CreateComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"community/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(3028)]).then(E.bind(E,73028)).then(on=>on.CommunityComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"friends",loadComponent:()=>Promise.all([E.e(6850),E.e(8834)]).then(E.bind(E,38834)).then(on=>on.FriendsComponent),title:"Friends",data:{hide:!1,icon:"people"}},{path:"marketplace",loadComponent:()=>E.e(4392).then(E.bind(E,94392)).then(on=>on.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([E.e(5571),E.e(6695),E.e(6195),E.e(450),E.e(8487)]).then(E.bind(E,8487)).then(on=>on.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/files",loadComponent:()=>E.e(5706).then(E.bind(E,55706)).then(on=>on.FilesComponent),title:"Files",data:{icon:"folder",breadcrumb:"Files"},children:[{path:"",pathMatch:"full",redirectTo:"folder/root"},{path:"file/:id",component:(()=>{class on{constructor(){var Rt=this;this.entries=(0,_.vPA)([]),this.app=(0,_.WQX)(x.d),this.breadcrumb=(0,_.WQX)(se.b),this.layout=(0,_.WQX)(P.Y),this.identity=(0,_.WQX)(M.K),this.dialog=(0,_.WQX)(X.bZ),this.router=(0,_.WQX)(k.Ix),this.route=(0,_.WQX)(k.nX),this.fileService=(0,_.WQX)(de),this.uploadProgress=null,this.isUploading=!1,this.file=null,this.uploadSuccess=!1,this.fileError=null,this.fileId=null,this.sanitizer=(0,_.WQX)(f.up),this.navigation=(0,_.WQX)(ue.o),this.fullscreen=(0,_.vPA)(!1),this.fileMimeType=_e,this.pdfZoom=1,(0,_.QZP)((0,H.A)(function*(){Rt.app.initialized()&&(yield Rt.loadEntries())})),this.route.paramMap.subscribe(an=>{console.log("ROUTING!!!",an.get("id")),this.fileId=an.get("id")})}toggleFullscreen(){var Rt=document.getElementById("file-viewer");this.fullscreen()?(document.exitFullscreen(),this.fullscreen.set(!1)):(Rt.requestFullscreen(),this.fullscreen.set(!0))}download(){const Rt=URL.createObjectURL(this.fileUrl),an=document.createElement("a");console.log("File URL"),console.log(Rt),an.href=Rt,an.download=this.data.name,an.click(),URL.revokeObjectURL(Rt)}pdfZoomIn(){this.pdfZoom++}pdfZoomOut(){this.pdfZoom>1&&this.pdfZoom--}editFile(Rt){return(0,H.A)(function*(){document.getElementById("input")?.click()})()}onFileSelected(Rt){var an=this;return(0,H.A)(function*(){const gn=Rt.currentTarget.files;if(0!=gn.length){console.log("Uploading number of files:",gn.length);for(let pr=0;pr<gn.length;pr++){const Er=gn[pr];console.log(Er);const Zr=new Blob([Er],{type:Er.type});console.log(Zr),console.log("Parent ID:",an.breadcrumb.parentId);const{status:ao,record:Bo}=yield an.identity.web5.dwn.records.create({data:Zr,message:{protocol:O.Q.protocol,protocolPath:"attachment",schema:O.Q.types.entry.schema,dataFormat:Zr.type}});console.log("Record created:",Bo),console.log("Record status:",ao);const qr={name:Er.name,size:Er.size,type:Er.type,lastModified:Er.lastModified,entryType:"file"},{status:Na,record:So}=yield an.identity.web5.dwn.records.create({data:qr,message:{tags:{type:Er.type,entryType:"file",attachment:Bo.id},protocol:O.Q.protocol,protocolPath:"entry",parentContextId:an.breadcrumb.parentId??=void 0,schema:O.Q.types.entry.schema}});console.log("Record created:",So),console.log("Record status:",Na),So&&an.entries.update(Bd=>[...Bd,{record:So,data:qr}])}}})()}cancelUpload(){return(0,H.A)(function*(){})()}upload(){var Rt=this;return(0,H.A)(function*(){console.log("Uploading file");const{status:an,record:gn}=yield Rt.identity.web5.dwn.records.create({data:Rt.file,message:{schema:O.Q.types.entry.schema}});return console.log("Record created:",gn),console.log("Record status:",an),gn})()}editFolder(Rt){var an=this;return(0,H.A)(function*(){let gn={name:Rt.data.name,entryType:"folder"};const pr=JSON.parse(JSON.stringify(gn)),Er=an.dialog.open(Z,{maxWidth:"80vw",maxHeight:"80vh",data:gn});return Er.afterClosed().subscribe(function(){var Zr=(0,H.A)(function*(ao){ao?(console.log("data result for saving:",gn),Rt.data=gn,yield an.saveFolder(Rt,gn)):gn=pr});return function(ao){return Zr.apply(this,arguments)}}()),Er.afterClosed()})()}saveFolder(Rt,an){var gn=this;return(0,H.A)(function*(){if(Rt.record){const{status:pr,record:Er}=yield Rt.record.update({data:an});console.log("Record created:",Er),console.log("Record status:",pr)}else{const{record:pr,status:Er}=yield gn.identity.web5.dwn.records.create({data:an,message:{tags:{entryType:an.entryType},protocol:O.Q.protocol,protocolPath:"entry",schema:O.Q.types.entry.schema}});console.log("Record created:",pr),console.log("Record status:",Er),pr&&(Rt.record=pr,gn.entries.update(Zr=>[...Zr,Rt]))}})()}openEntry(Rt){var an=this;return(0,H.A)(function*(){an.router.navigate("folder"===Rt.entryType?["/app/files/folder",Rt.record.id]:["/app/files/file",Rt.record.id])})()}deleteFile(){var Rt=this;return(0,H.A)(function*(){const{status:an}=yield Rt.record.delete(),{status:gn}=yield Rt.record.send(Rt.identity.did);console.log("Delete status:",an),console.log("Delete send status:",gn),Rt.record=void 0,Rt.src=void 0,Rt.navigation.back()})()}loadEntries(Rt){var an=this;return(0,H.A)(function*(){if(console.log("VALUE OF TAGS:",Rt),!an.fileId)return;const{record:gn}=yield an.identity.web5.dwn.records.read({message:{filter:{recordId:an.fileId}}});if(an.record=gn,an.fileUrl=yield gn.data.blob(),console.log(gn),an.type=gn.dataFormat,"application/pdf"===gn.dataFormat){const pr=URL.createObjectURL(an.fileUrl)+"#toolbar=0&navpanes=0&scrollbar=0&view=FitH";an.src=an.sanitizer.bypassSecurityTrustResourceUrl(pr)}else{const pr=URL.createObjectURL(an.fileUrl);an.src=an.sanitizer.bypassSecurityTrustResourceUrl(pr)}})()}static#e=this.\u0275fac=function(an){return new(an||on)};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["app-file"]],standalone:!0,features:[_.aNF],decls:3,vars:2,consts:[["id","file-viewer"],[3,"src","type","pdfZoom"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"click","title"],[1,"toolbar-spacer"],["mat-icon-button","",3,"disabled"],["mat-icon-button","",3,"title"]],template:function(an,gn){1&an&&(_.j41(0,"div",0),_.DNE(1,Ee,17,5,"mat-toolbar")(2,Re,3,3,"app-file-viewer",1),_.k0s()),2&an&&(_.R7$(),_.vxM(gn.record?1:-1),_.R7$(),_.vxM(gn.src?2:-1))},dependencies:[De,F.MD,ie.Fg,j.m_,j.An,pe.s5,pe.KQ,D.Hl,D.iY]})}return on})(),data:{breadcrumb:"Folder"}},{path:"**",component:ce,data:{breadcrumb:"Folder"}}]},{path:"app/notes",loadComponent:()=>Promise.all([E.e(5571),E.e(6471),E.e(9770)]).then(E.bind(E,99770)).then(on=>on.NotesComponent),title:"Notes",data:{icon:"note"}},{path:"app/chat",loadComponent:()=>Promise.all([E.e(5571),E.e(8515)]).then(E.bind(E,38515)).then(on=>on.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"app/todo",loadComponent:()=>Promise.all([E.e(1391),E.e(1811)]).then(E.bind(E,11811)).then(on=>on.TodoComponent),title:"Todo",data:{icon:"task"}},{path:"registries",loadComponent:()=>Promise.all([E.e(6695),E.e(9466)]).then(E.bind(E,69466)).then(on=>on.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(6695),E.e(6471),E.e(2076),E.e(5026)]).then(E.bind(E,65026)).then(on=>on.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(3474)]).then(E.bind(E,53474)).then(on=>on.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([E.e(6850),E.e(7358),E.e(9454),E.e(5416),E.e(3287)]).then(E.bind(E,63287)).then(on=>on.DataComponent),title:"Data",data:{icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([E.e(2076),E.e(9533)]).then(E.bind(E,29533)).then(on=>on.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(5416),E.e(1289)]).then(E.bind(E,1289)).then(on=>on.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"profile/:id/edit",loadComponent:()=>Promise.all([E.e(3475),E.e(7380)]).then(E.bind(E,37380)).then(on=>on.ProfileEditComponent),title:"Edit Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>E.e(2228).then(E.bind(E,92228)).then(on=>on.NotificationsComponent),title:"Notifications",data:{hide:!1,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([E.e(6850),E.e(9454),E.e(6486)]).then(E.bind(E,96486)).then(on=>on.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>E.e(8012).then(E.bind(E,88012)).then(on=>on.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/backup",loadComponent:()=>E.e(5962).then(E.bind(E,75962)).then(on=>on.BackupComponent),title:"Backup",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>E.e(5806).then(E.bind(E,75806)).then(on=>on.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>E.e(9613).then(E.bind(E,29613)).then(on=>on.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>Promise.resolve().then(E.bind(E,33065)).then(on=>on.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>E.e(7880).then(E.bind(E,17880)).then(on=>on.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>E.e(5854).then(E.bind(E,85854)).then(on=>on.IdentityComponent),title:"Identity",data:{hide:!0,icon:"account_circle"}},{path:"settings",loadComponent:()=>E.e(959).then(E.bind(E,60959)).then(on=>on.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>E.e(5216).then(E.bind(E,85216)).then(on=>on.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/licenses",loadComponent:()=>E.e(9727).then(E.bind(E,19727)).then(on=>on.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>E.e(9128).then(E.bind(E,99128)).then(on=>on.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"settings/handler",loadComponent:()=>E.e(8552).then(E.bind(E,18552)).then(on=>on.HandlerComponent),title:"Protocol Handler",data:{hide:!0,icon:"search"}},{path:"tree",loadComponent:()=>Promise.all([E.e(7358),E.e(9238)]).then(E.bind(E,9238)).then(on=>on.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>Promise.all([E.e(1391),E.e(7988)]).then(E.bind(E,77988)).then(on=>on.DragDropComponent),title:"Drag-Drop",data:{hide:!0,icon:"folder"}},{path:"help",loadComponent:()=>E.e(2492).then(E.bind(E,12492)).then(on=>on.HelpComponent),title:"Help",data:{hide:!0,icon:"help"}},{path:"storage",loadComponent:()=>Promise.all([E.e(5571),E.e(6471),E.e(7848)]).then(E.bind(E,17848)).then(on=>on.StorageComponent),title:"Storage",data:{icon:"cloud"}},{path:"management",loadComponent:()=>Promise.all([E.e(6850),E.e(8864)]).then(E.bind(E,48864)).then(on=>on.ManagementComponent),title:"Management",data:{icon:"manage_accounts"}}];let We=(()=>{class on{constructor(Rt,an,gn,pr,Er){this.doc=Rt,this.delegate=an,this.zone=gn,this.animationType=pr,this.moduleImpl=Er,this._rendererFactoryPromise=null,this.scheduler=(0,_.WQX)(_.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??E.e(8008).then(E.bind(E,68008)).then(an=>an)).catch(an=>{throw new _.wOt(5300,!1)}).then(({\u0275createEngine:an,\u0275AnimationRendererFactory:gn})=>{this._engine=an(this.animationType,this.doc);const pr=new gn(this.delegate,this._engine,this.zone);return this.delegate=pr,pr})}createRenderer(Rt,an){const gn=this.delegate.createRenderer(Rt,an);if(0===gn.\u0275type)return gn;"boolean"==typeof gn.throwOnSyntheticProps&&(gn.throwOnSyntheticProps=!1);const pr=new Le(gn);return an?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(Er=>{const Zr=Er.createRenderer(Rt,an);pr.use(Zr),this.scheduler?.notify(9)}).catch(Er=>{pr.use(gn)}),pr}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(an){_.QTQ()};static#t=this.\u0275prov=_.jDH({token:on,factory:on.\u0275fac})}return on})();class Le{constructor(Yn){this.delegate=Yn,this.replay=[],this.\u0275type=1}use(Yn){if(this.delegate=Yn,null!==this.replay){for(const Rt of this.replay)Rt(Yn);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(Yn,Rt){return this.delegate.createElement(Yn,Rt)}createComment(Yn){return this.delegate.createComment(Yn)}createText(Yn){return this.delegate.createText(Yn)}get destroyNode(){return this.delegate.destroyNode}appendChild(Yn,Rt){this.delegate.appendChild(Yn,Rt)}insertBefore(Yn,Rt,an,gn){this.delegate.insertBefore(Yn,Rt,an,gn)}removeChild(Yn,Rt,an){this.delegate.removeChild(Yn,Rt,an)}selectRootElement(Yn,Rt){return this.delegate.selectRootElement(Yn,Rt)}parentNode(Yn){return this.delegate.parentNode(Yn)}nextSibling(Yn){return this.delegate.nextSibling(Yn)}setAttribute(Yn,Rt,an,gn){this.delegate.setAttribute(Yn,Rt,an,gn)}removeAttribute(Yn,Rt,an){this.delegate.removeAttribute(Yn,Rt,an)}addClass(Yn,Rt){this.delegate.addClass(Yn,Rt)}removeClass(Yn,Rt){this.delegate.removeClass(Yn,Rt)}setStyle(Yn,Rt,an,gn){this.delegate.setStyle(Yn,Rt,an,gn)}removeStyle(Yn,Rt,an){this.delegate.removeStyle(Yn,Rt,an)}setProperty(Yn,Rt,an){this.shouldReplay(Rt)&&this.replay.push(gn=>gn.setProperty(Yn,Rt,an)),this.delegate.setProperty(Yn,Rt,an)}setValue(Yn,Rt){this.delegate.setValue(Yn,Rt)}listen(Yn,Rt,an){return this.shouldReplay(Rt)&&this.replay.push(gn=>gn.listen(Yn,Rt,an)),this.delegate.listen(Yn,Rt,an)}shouldReplay(Yn){return null!==this.replay&&Yn.startsWith("@")}}var B=E(59030),w=E(18810),m=E(33726),U=E(7673),ne=E(28793),ge=E(21413),Ae=E(71985),tt=E(85343);const Bt=new Ae.c(tt.l);var It=E(57786),Gt=E(96354),hn=E(5964),dn=E(25558),ar=E(30017),An=E(98071),en=E(58750),Qt=E(39974);const ft={connector:()=>new ge.B};function Wt(on,Yn=ft){const{connector:Rt}=Yn;return(0,Qt.N)((an,gn)=>{const pr=Rt();(0,en.Tg)(on(function _t(on){return new Ae.c(Yn=>on.subscribe(Yn))}(pr))).subscribe(gn),gn.add(an.subscribe(pr))})}var fr=E(96697),gt=E(88141),Mt=E(91986);const St="Service workers are disabled or not supported by this browser";class nt{constructor(Yn){if(this.serviceWorker=Yn,Yn){const an=(0,m.R)(Yn,"controllerchange").pipe((0,Gt.T)(()=>Yn.controller)),gn=(0,B.v)(()=>(0,U.of)(Yn.controller)),pr=(0,ne.x)(gn,an);this.worker=pr.pipe((0,hn.p)(qr=>!!qr)),this.registration=this.worker.pipe((0,dn.n)(()=>Yn.getRegistration()));const Bo=(0,m.R)(Yn,"message").pipe((0,Gt.T)(qr=>qr.data)).pipe((0,hn.p)(qr=>qr&&qr.type)).pipe(function pn(on){return on?Yn=>Wt(on)(Yn):Yn=>function qt(on,Yn){const Rt=(0,An.T)(on)?on:()=>on;return(0,An.T)(Yn)?Wt(Yn,{connector:Rt}):an=>new ar.G(an,Rt)}(new ge.B)(Yn)}());Bo.connect(),this.events=Bo}else this.worker=this.events=this.registration=function Ye(on){return(0,B.v)(()=>(0,w.$)(new Error(on)))}(St)}postMessage(Yn,Rt){return this.worker.pipe((0,fr.s)(1),(0,gt.M)(an=>{an.postMessage({action:Yn,...Rt})})).toPromise().then(()=>{})}postMessageWithOperation(Yn,Rt,an){const gn=this.waitForOperationCompleted(an),pr=this.postMessage(Yn,Rt);return Promise.all([pr,gn]).then(([,Er])=>Er)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Yn){let Rt;return Rt="string"==typeof Yn?an=>an.type===Yn:an=>Yn.includes(an.type),this.events.pipe((0,hn.p)(Rt))}nextEventOfType(Yn){return this.eventsOfType(Yn).pipe((0,fr.s)(1))}waitForOperationCompleted(Yn){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,hn.p)(Rt=>Rt.nonce===Yn),(0,fr.s)(1),(0,Gt.T)(Rt=>{if(void 0!==Rt.result)return Rt.result;throw new Error(Rt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Ht=(()=>{class on{get isEnabled(){return this.sw.isEnabled}constructor(Rt){if(this.sw=Rt,this.pushManager=null,this.subscriptionChanges=new ge.B,!Rt.isEnabled)return this.messages=Bt,this.notificationClicks=Bt,void(this.subscription=Bt);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Gt.T)(gn=>gn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Gt.T)(gn=>gn.data)),this.pushManager=this.sw.registration.pipe((0,Gt.T)(gn=>gn.pushManager));const an=this.pushManager.pipe((0,dn.n)(gn=>gn.getSubscription()));this.subscription=(0,It.h)(an,this.subscriptionChanges)}requestSubscription(Rt){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(St));const an={userVisibleOnly:!0};let gn=this.decodeBase64(Rt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),pr=new Uint8Array(new ArrayBuffer(gn.length));for(let Er=0;Er<gn.length;Er++)pr[Er]=gn.charCodeAt(Er);return an.applicationServerKey=pr,this.pushManager.pipe((0,dn.n)(Er=>Er.subscribe(an)),(0,fr.s)(1)).toPromise().then(Er=>(this.subscriptionChanges.next(Er),Er))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,fr.s)(1),(0,dn.n)(an=>{if(null===an)throw new Error("Not subscribed to push notifications.");return an.unsubscribe().then(gn=>{if(!gn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(St))}decodeBase64(Rt){return atob(Rt)}static#e=this.\u0275fac=function(an){return new(an||on)(_.KVO(nt))};static#t=this.\u0275prov=_.jDH({token:on,factory:on.\u0275fac})}return on})(),Nt=(()=>{class on{get isEnabled(){return this.sw.isEnabled}constructor(Rt){if(this.sw=Rt,!Rt.isEnabled)return this.versionUpdates=Bt,void(this.unrecoverable=Bt);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(St));const Rt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Rt},Rt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(St));const Rt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Rt},Rt)}static#e=this.\u0275fac=function(an){return new(an||on)(_.KVO(nt))};static#t=this.\u0275prov=_.jDH({token:on,factory:on.\u0275fac})}return on})();const un=new _.nKC("");function Wn(on,Yn,Rt,an){return()=>{if(!(0,F.UE)(an)||!("serviceWorker"in navigator)||!1===Rt.enabled)return;const gn=on.get(_.SKi),pr=on.get(_.o8S);let Er;if(gn.runOutsideAngular(()=>{const Zr=navigator.serviceWorker,ao=()=>Zr.controller?.postMessage({action:"INITIALIZE"});Zr.addEventListener("controllerchange",ao),pr.onDestroy(()=>{Zr.removeEventListener("controllerchange",ao)})}),"function"==typeof Rt.registrationStrategy)Er=Rt.registrationStrategy();else{const[Zr,...ao]=(Rt.registrationStrategy||"registerWhenStable:30000").split(":");switch(Zr){case"registerImmediately":Er=(0,U.of)(null);break;case"registerWithDelay":Er=En(+ao[0]||0);break;case"registerWhenStable":Er=ao[0]?(0,It.h)(kn(on),En(+ao[0])):kn(on);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Rt.registrationStrategy}`)}}gn.runOutsideAngular(()=>Er.pipe((0,fr.s)(1)).subscribe(()=>navigator.serviceWorker.register(Yn,{scope:Rt.scope}).catch(Zr=>console.error("Service worker registration failed with:",Zr))))}}function En(on){return(0,U.of)(null).pipe((0,Mt.c)(on))}function kn(on){return on.get(_.o8S).isStable.pipe((0,hn.p)(Rt=>Rt))}function Or(on,Yn){return new nt((0,F.UE)(Yn)&&!1!==on.enabled?navigator.serviceWorker:void 0)}class Jn{}const et={providers:[(0,_.Jn2)({eventCoalescing:!0}),(0,k.lh)(Fe,(0,k.Sn)(k.Kp)),function lt(on="animations"){return(0,_.ngT)("NgAsyncAnimations"),(0,_.EmA)([{provide:_._9s,useFactory:(Yn,Rt,an)=>new We(Yn,Rt,an,on),deps:[F.qQ,f.B7,_.SKi]},{provide:_.bc$,useValue:"noop"===on?"NoopAnimations":"BrowserAnimations"}])}(),function Fn(on,Yn={}){return(0,_.EmA)([Ht,Nt,{provide:un,useValue:on},{provide:Jn,useValue:Yn},{provide:nt,useFactory:Or,deps:[Jn,_.Agw]},{provide:_.hnV,useFactory:Wn,deps:[_.zZn,un,Jn,_.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,_.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var Te=E(99327),Be=E(67333),xt=E(86600),nn=E(18617),In=E(28203),Kn=E(14085),tr=E(67336),Dr=E(36860),Mr=E(73703),Ir=E(56977),jr=E(23294),ni=E(99172),tn=E(70152),_n=E(49969);const Tn=["*"],jn=["content"],hr=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ar=["mat-drawer","mat-drawer-content","*"];function xr(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"div",1),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG();return _.Njj(gn._onBackdropClicked())}),_.k0s()}if(2&on){const Rt=_.XpG();_.AVh("mat-drawer-shown",Rt._isShowingBackdrop())}}function zr(on,Yn){1&on&&(_.j41(0,"mat-drawer-content"),_.SdG(1,2),_.k0s())}const Kr=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],oi=["mat-sidenav","mat-sidenav-content","*"];function Ao(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"div",1),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG();return _.Njj(gn._onBackdropClicked())}),_.k0s()}if(2&on){const Rt=_.XpG();_.AVh("mat-drawer-shown",Rt._isShowingBackdrop())}}function wi(on,Yn){1&on&&(_.j41(0,"mat-sidenav-content"),_.SdG(1,2),_.k0s())}const Co={transformDrawer:(0,_n.hZ)("transform",[(0,_n.wk)("open, open-instant",(0,_n.iF)({transform:"none",visibility:"visible"})),(0,_n.wk)("void",(0,_n.iF)({"box-shadow":"none",visibility:"hidden"})),(0,_n.kY)("void => open-instant",(0,_n.i0)("0ms")),(0,_n.kY)("void <=> open, open-instant => void",(0,_n.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ji=new _.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Ui(){return!1}}),pi=new _.nKC("MAT_DRAWER_CONTAINER");let la=(()=>{class on extends Be.uv{constructor(Rt,an,gn,pr,Er){super(gn,pr,Er),this._changeDetectorRef=Rt,this._container=an}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(an){return new(an||on)(_.rXU(_.gRc),_.rXU((0,_.Rfq)(()=>os)),_.rXU(_.aKT),_.rXU(Be.R),_.rXU(_.SKi))};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(an,gn){2&an&&_.xc7("margin-left",gn._container._contentMargins.left,"px")("margin-right",gn._container._contentMargins.right,"px")},standalone:!0,features:[_.Jv_([{provide:Be.uv,useExisting:on}]),_.Vt3,_.aNF],ngContentSelectors:Tn,decls:1,vars:0,template:function(an,gn){1&an&&(_.NAR(),_.SdG(0))},encapsulation:2,changeDetection:0})}return on})(),Si=(()=>{class on{get position(){return this._position}set position(Rt){(Rt="end"===Rt?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(Rt),this._position=Rt,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(Rt){this._mode=Rt,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(Rt){this._disableClose=(0,Kn.he)(Rt)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(Rt){("true"===Rt||"false"===Rt||null==Rt)&&(Rt=(0,Kn.he)(Rt)),this._autoFocus=Rt}get opened(){return this._opened}set opened(Rt){this.toggle((0,Kn.he)(Rt))}constructor(Rt,an,gn,pr,Er,Zr,ao,Bo){this._elementRef=Rt,this._focusTrapFactory=an,this._focusMonitor=gn,this._platform=pr,this._ngZone=Er,this._interactivityChecker=Zr,this._doc=ao,this._container=Bo,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ge.B,this._animationEnd=new ge.B,this._animationState="void",this.openedChange=new _.bkB(!0),this._openedStream=this.openedChange.pipe((0,hn.p)(qr=>qr),(0,Gt.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,hn.p)(qr=>qr.fromState!==qr.toState&&0===qr.toState.indexOf("open")),(0,Mr.u)(void 0)),this._closedStream=this.openedChange.pipe((0,hn.p)(qr=>!qr),(0,Gt.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,hn.p)(qr=>qr.fromState!==qr.toState&&"void"===qr.toState),(0,Mr.u)(void 0)),this._destroyed=new ge.B,this.onPositionChanged=new _.bkB,this._modeChanged=new ge.B,this._injector=(0,_.WQX)(_.zZn),this._changeDetectorRef=(0,_.WQX)(_.gRc),this.openedChange.pipe((0,Ir.Q)(this._destroyed)).subscribe(qr=>{qr?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,m.R)(this._elementRef.nativeElement,"keydown").pipe((0,hn.p)(qr=>qr.keyCode===tr._f&&!this.disableClose&&!(0,tr.rp)(qr)),(0,Ir.Q)(this._destroyed)).subscribe(qr=>this._ngZone.run(()=>{this.close(),qr.stopPropagation(),qr.preventDefault()}))}),this._animationEnd.pipe((0,jr.F)((qr,Na)=>qr.fromState===Na.fromState&&qr.toState===Na.toState)).subscribe(qr=>{const{fromState:Na,toState:So}=qr;(0===So.indexOf("open")&&"void"===Na||"void"===So&&0===Na.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(Rt,an){this._interactivityChecker.isFocusable(Rt)||(Rt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const gn=()=>{Rt.removeEventListener("blur",gn),Rt.removeEventListener("mousedown",gn),Rt.removeAttribute("tabindex")};Rt.addEventListener("blur",gn),Rt.addEventListener("mousedown",gn)})),Rt.focus(an)}_focusByCssSelector(Rt,an){let gn=this._elementRef.nativeElement.querySelector(Rt);gn&&this._forceFocus(gn,an)}_takeFocus(){if(!this._focusTrap)return;const Rt=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,_.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof Rt.focus&&Rt.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(Rt){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,Rt):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const Rt=this._doc.activeElement;return!!Rt&&this._elementRef.nativeElement.contains(Rt)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(Rt){return this.toggle(!0,Rt)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(Rt=!this.opened,an){Rt&&an&&(this._openedVia=an);const gn=this._setOpen(Rt,!Rt&&this._isFocusWithinDrawer(),this._openedVia||"program");return Rt||(this._openedVia=null),gn}_setOpen(Rt,an,gn){return this._opened=Rt,Rt?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",an&&this._restoreFocus(gn)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(pr=>{this.openedChange.pipe((0,fr.s)(1)).subscribe(Er=>pr(Er?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(Rt){if(!this._platform.isBrowser)return;const an=this._elementRef.nativeElement,gn=an.parentNode;"end"===Rt?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),gn.insertBefore(this._anchor,an)),gn.appendChild(an)):this._anchor&&this._anchor.parentNode.insertBefore(an,this._anchor)}static#e=this.\u0275fac=function(an){return new(an||on)(_.rXU(_.aKT),_.rXU(nn.GX),_.rXU(nn.FN),_.rXU(Dr.OD),_.rXU(_.SKi),_.rXU(nn.Z7),_.rXU(F.qQ,8),_.rXU(pi,8))};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["mat-drawer"]],viewQuery:function(an,gn){if(1&an&&_.GBs(jn,5),2&an){let pr;_.mGM(pr=_.lsd())&&(gn._content=pr.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(an,gn){1&an&&_.Kam("@transform.start",function(Er){return gn._animationStarted.next(Er)})("@transform.done",function(Er){return gn._animationEnd.next(Er)}),2&an&&(_.zvX("@transform",gn._animationState),_.BMQ("align",null),_.AVh("mat-drawer-end","end"===gn.position)("mat-drawer-over","over"===gn.mode)("mat-drawer-push","push"===gn.mode)("mat-drawer-side","side"===gn.mode)("mat-drawer-opened",gn.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[_.aNF],ngContentSelectors:Tn,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(an,gn){1&an&&(_.NAR(),_.j41(0,"div",1,0),_.SdG(2),_.k0s())},dependencies:[Be.uv],encapsulation:2,data:{animation:[Co.transformDrawer]},changeDetection:0})}return on})(),os=(()=>{class on{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(Rt){this._autosize=(0,Kn.he)(Rt)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(Rt){this._backdropOverride=null==Rt?null:(0,Kn.he)(Rt)}get scrollable(){return this._userContent||this._content}constructor(Rt,an,gn,pr,Er,Zr=!1,ao){this._dir=Rt,this._element=an,this._ngZone=gn,this._changeDetectorRef=pr,this._animationMode=ao,this._drawers=new _.rOR,this.backdropClick=new _.bkB,this._destroyed=new ge.B,this._doCheckSubject=new ge.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ge.B,this._injector=(0,_.WQX)(_.zZn),Rt&&Rt.change.pipe((0,Ir.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Er.change().pipe((0,Ir.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Zr}ngAfterContentInit(){this._allDrawers.changes.pipe((0,ni.Z)(this._allDrawers),(0,Ir.Q)(this._destroyed)).subscribe(Rt=>{this._drawers.reset(Rt.filter(an=>!an._container||an._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,ni.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(Rt=>{this._watchDrawerToggle(Rt),this._watchDrawerPosition(Rt),this._watchDrawerMode(Rt)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,tn.B)(10),(0,Ir.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(Rt=>Rt.open())}close(){this._drawers.forEach(Rt=>Rt.close())}updateContentMargins(){let Rt=0,an=0;if(this._left&&this._left.opened)if("side"==this._left.mode)Rt+=this._left._getWidth();else if("push"==this._left.mode){const gn=this._left._getWidth();Rt+=gn,an-=gn}if(this._right&&this._right.opened)if("side"==this._right.mode)an+=this._right._getWidth();else if("push"==this._right.mode){const gn=this._right._getWidth();an+=gn,Rt-=gn}Rt=Rt||null,an=an||null,(Rt!==this._contentMargins.left||an!==this._contentMargins.right)&&(this._contentMargins={left:Rt,right:an},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(Rt){Rt._animationStarted.pipe((0,hn.p)(an=>an.fromState!==an.toState),(0,Ir.Q)(this._drawers.changes)).subscribe(an=>{"open-instant"!==an.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==Rt.mode&&Rt.openedChange.pipe((0,Ir.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(Rt.opened))}_watchDrawerPosition(Rt){Rt&&Rt.onPositionChanged.pipe((0,Ir.Q)(this._drawers.changes)).subscribe(()=>{(0,_.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:_.wjH.Read})})}_watchDrawerMode(Rt){Rt&&Rt._modeChanged.pipe((0,Ir.Q)((0,It.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(Rt){const an=this._element.nativeElement.classList,gn="mat-drawer-container-has-open";Rt?an.add(gn):an.remove(gn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(Rt=>{"end"==Rt.position?this._end=Rt:this._start=Rt}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(Rt=>Rt&&!Rt.disableClose&&this._drawerHasBackdrop(Rt)).forEach(Rt=>Rt._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(Rt){return null!=Rt&&Rt.opened}_drawerHasBackdrop(Rt){return null==this._backdropOverride?!!Rt&&"side"!==Rt.mode:this._backdropOverride}static#e=this.\u0275fac=function(an){return new(an||on)(_.rXU(In.dS,8),_.rXU(_.aKT),_.rXU(_.SKi),_.rXU(_.gRc),_.rXU(Be.Xj),_.rXU(ji),_.rXU(_.bc$,8))};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["mat-drawer-container"]],contentQueries:function(an,gn,pr){if(1&an&&(_.wni(pr,la,5),_.wni(pr,Si,5)),2&an){let Er;_.mGM(Er=_.lsd())&&(gn._content=Er.first),_.mGM(Er=_.lsd())&&(gn._allDrawers=Er)}},viewQuery:function(an,gn){if(1&an&&_.GBs(la,5),2&an){let pr;_.mGM(pr=_.lsd())&&(gn._userContent=pr.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(an,gn){2&an&&_.AVh("mat-drawer-container-explicit-backdrop",gn._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[_.Jv_([{provide:pi,useExisting:on}]),_.aNF],ngContentSelectors:Ar,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(an,gn){1&an&&(_.NAR(hr),_.DNE(0,xr,1,2,"div",0),_.SdG(1),_.SdG(2,1),_.DNE(3,zr,2,0,"mat-drawer-content")),2&an&&(_.vxM(gn.hasBackdrop?0:-1),_.R7$(3),_.vxM(gn._content?-1:3))},dependencies:[la],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return on})(),Ns=(()=>{class on extends la{constructor(Rt,an,gn,pr,Er){super(Rt,an,gn,pr,Er)}static#e=this.\u0275fac=function(an){return new(an||on)(_.rXU(_.gRc),_.rXU((0,_.Rfq)(()=>$i)),_.rXU(_.aKT),_.rXU(Be.R),_.rXU(_.SKi))};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(an,gn){2&an&&_.xc7("margin-left",gn._container._contentMargins.left,"px")("margin-right",gn._container._contentMargins.right,"px")},standalone:!0,features:[_.Jv_([{provide:Be.uv,useExisting:on}]),_.Vt3,_.aNF],ngContentSelectors:Tn,decls:1,vars:0,template:function(an,gn){1&an&&(_.NAR(),_.SdG(0))},encapsulation:2,changeDetection:0})}return on})(),To=(()=>{class on extends Si{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(Rt){this._fixedInViewport=(0,Kn.he)(Rt)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(Rt){this._fixedTopGap=(0,Kn.OE)(Rt)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(Rt){this._fixedBottomGap=(0,Kn.OE)(Rt)}static#e=this.\u0275fac=(()=>{let Rt;return function(gn){return(Rt||(Rt=_.xGo(on)))(gn||on)}})();static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(an,gn){2&an&&(_.BMQ("align",null),_.xc7("top",gn.fixedInViewport?gn.fixedTopGap:null,"px")("bottom",gn.fixedInViewport?gn.fixedBottomGap:null,"px"),_.AVh("mat-drawer-end","end"===gn.position)("mat-drawer-over","over"===gn.mode)("mat-drawer-push","push"===gn.mode)("mat-drawer-side","side"===gn.mode)("mat-drawer-opened",gn.opened)("mat-sidenav-fixed",gn.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[_.Vt3,_.aNF],ngContentSelectors:Tn,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(an,gn){1&an&&(_.NAR(),_.j41(0,"div",1,0),_.SdG(2),_.k0s())},dependencies:[Be.uv],encapsulation:2,data:{animation:[Co.transformDrawer]},changeDetection:0})}return on})(),$i=(()=>{class on extends os{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let Rt;return function(gn){return(Rt||(Rt=_.xGo(on)))(gn||on)}})();static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["mat-sidenav-container"]],contentQueries:function(an,gn,pr){if(1&an&&(_.wni(pr,Ns,5),_.wni(pr,To,5)),2&an){let Er;_.mGM(Er=_.lsd())&&(gn._content=Er.first),_.mGM(Er=_.lsd())&&(gn._allDrawers=Er)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(an,gn){2&an&&_.AVh("mat-drawer-container-explicit-backdrop",gn._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[_.Jv_([{provide:pi,useExisting:on}]),_.Vt3,_.aNF],ngContentSelectors:oi,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(an,gn){1&an&&(_.NAR(Kr),_.DNE(0,Ao,1,2,"div",0),_.SdG(1),_.SdG(2,1),_.DNE(3,wi,2,0,"mat-sidenav-content")),2&an&&(_.vxM(gn.hasBackdrop?0:-1),_.R7$(3),_.vxM(gn._content?-1:3))},dependencies:[Ns],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return on})(),ps=(()=>{class on{static#e=this.\u0275fac=function(an){return new(an||on)};static#t=this.\u0275mod=_.$C({type:on});static#n=this.\u0275inj=_.G2t({imports:[xt.yE,Be.Gj,Be.Gj,xt.yE]})}return on})();var da=E(44668),Ba=E(43794),ll=E(40605);let Xa=(()=>{class on{constructor(Rt,an){this.swUpdate=Rt,this.zone=an,this.isNewVersionAvailable=!1,this.intervalSource=(0,ll.Y)(9e5),this.checkForUpdateOnInterval(),this.checkForUpdateOnLoad()}applyUpdate(){this.swUpdate.activateUpdate().then(()=>document.location.reload()).catch(Rt=>console.error("Failed to apply updates:",Rt))}checkForUpdateOnInterval(){var Rt=this;this.intervalSubscription?.unsubscribe(),this.swUpdate.isEnabled&&this.zone.runOutsideAngular(()=>{this.intervalSubscription=this.intervalSource.subscribe((0,H.A)(function*(){if(Rt.isNewVersionAvailable)yield Rt.swUpdate.checkForUpdate();else try{Rt.isNewVersionAvailable=yield Rt.swUpdate.checkForUpdate(),console.log(Rt.isNewVersionAvailable?"A new version is available.":"Already on the latest version.")}catch(an){console.error("Failed to check for updates:",an)}}))})}checkForUpdateOnLoad(){this.newVersionSubscription?.unsubscribe(),this.swUpdate.isEnabled?(this.newVersionSubscription=this.swUpdate.versionUpdates.subscribe(Rt=>{switch(console.log("New version update event:"),console.log(Rt),Rt.type){case"VERSION_DETECTED":console.log(`Downloading new app version: ${Rt.version.hash}`);break;case"VERSION_READY":console.log(`Current app version: ${Rt.currentVersion.hash}`),console.log(`New app version ready for use: ${Rt.latestVersion.hash}`),this.isNewVersionAvailable=!0;break;case"VERSION_INSTALLATION_FAILED":console.log(`Failed to install app version '${Rt.version.hash}': ${Rt.error}`)}}),console.log("Subscribed to new version updates.")):console.log("Service worker updates are disabled for this app.")}static#e=this.\u0275fac=function(an){return new(an||on)(_.KVO(Nt),_.KVO(_.SKi))};static#t=this.\u0275prov=_.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})();var Mu=E(33347),Au=E(39434),ua=E(78013),nu=E(71997);const oh=["*"],dl=on=>({"sidenav-collapsed":on}),Od=()=>["/settings"],ba=on=>["/profile",on],ic=()=>["/help"],Aa=()=>["/accounts"],Yc=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],ul=()=>["/account/create"];function fc(on,Yn){1&on&&_.nrm(0,"img",12)}function Vs(on,Yn){if(1&on&&_.EFF(0),2&on){const Rt=_.XpG().$implicit;_.SpI(" ",Rt.title," ")}}function Tc(on,Yn){if(1&on&&(_.j41(0,"a",13,6)(2,"mat-icon",15),_.EFF(3),_.k0s(),_.DNE(4,Vs,1,1),_.k0s()),2&on){const Rt=Yn.$implicit,an=_.sdS(1),gn=_.XpG();_.Y8G("routerLink",Rt.path)("activated",an.isActive),_.R7$(3),_.JRh(Rt.data.icon),_.R7$(),_.vxM(gn.collapsed()?-1:4)}}function Js(on,Yn){1&on&&(_.j41(0,"mat-icon",15),_.EFF(1,"chevron_right"),_.k0s())}function wa(on,Yn){1&on&&(_.j41(0,"mat-icon",15),_.EFF(1,"chevron_left"),_.k0s())}function fl(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"button",32),_.bIt("click",function(){_.eBV(Rt),_.XpG();const gn=_.sdS(2);return _.Njj(gn.toggle())}),_.j41(1,"mat-icon",33),_.EFF(2,"menu"),_.k0s()()}}function hc(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"button",34),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG();return _.Njj(gn.navigateBack())}),_.j41(1,"mat-icon"),_.EFF(2,"arrow_back"),_.k0s()()}}function so(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"button",35),_.bIt("click",function(){const gn=_.eBV(Rt).$implicit;return _.Njj(gn.action())}),_.j41(1,"mat-icon"),_.EFF(2),_.k0s()()}if(2&on){const Rt=Yn.$implicit;_.Y8G("title",Rt.name),_.R7$(2),_.JRh(Rt.icon)}}function ho(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"button",36),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG();return _.Njj(gn.applyUpdate())}),_.j41(1,"mat-icon"),_.EFF(2,"get_app"),_.k0s()()}}let wo=(()=>{class on{constructor(){this.breakpointObserver=(0,_.WQX)(Te.QP),this.storage=(0,_.WQX)(Ba.n),this.identity=(0,_.WQX)(M.K),this.updateService=(0,_.WQX)(Xa),this.profileService=(0,_.WQX)(Au.p),this.layout=(0,_.WQX)(P.Y),this.navigation=(0,_.WQX)(ue.o),this.rootRoutes=Fe.filter(Rt=>Rt.path).filter(Rt=>Rt.data&&1!=Rt.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,Gt.T)(Rt=>Rt.matches),(0,da.t)()),this.collapsed=(0,_.vPA)(!1)}wipe(){var Rt=this;return(0,H.A)(function*(){Rt.storage.clear(),console.log("Local storage data has been wiped!"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DID_RESOLVERCACHE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_DATASTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_EVENTLOG"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGEINDEX"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGESTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/VAULT_STORE"),console.log("Data has been wiped!"),window.location.reload()})()}applyUpdate(){this.updateService.applyUpdate()}lock(){this.identity.lock()}navigateBack(){this.navigation.back()}collapseToggle(){this.collapsed.set(!this.collapsed())}static#e=this.\u0275fac=function(an){return new(an||on)};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["app-layout"]],standalone:!0,features:[_.aNF],ngContentSelectors:oh,decls:158,vars:51,consts:[["drawer",""],["menuDebug","matMenu"],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],["autosize","",1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"ngClass","mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],[3,"click"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],["mat-icon-button",""],["mat-icon-button","",3,"title"],[1,"toolbar-spacer"],[1,"toolbar-items"],["matTooltip","Update available. Click to update now.","mat-icon-button",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],["onerror","this.src='/avatar-placeholder.png';this.onerror='';",1,"account-menu-profile-icon",3,"src"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"sidenav-scroll-wrapper"],[1,"sidenav-content"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"click","title"],["matTooltip","Update available. Click to update now.","mat-icon-button","",3,"click"]],template:function(an,gn){if(1&an){const pr=_.RV6();_.NAR(),_.j41(0,"mat-sidenav-container",7)(1,"mat-sidenav",8,0),_.nI1(3,"async"),_.nI1(4,"async"),_.nI1(5,"async"),_.j41(6,"mat-toolbar"),_.nrm(7,"img",9),_.j41(8,"picture",10),_.nrm(9,"source",11),_.DNE(10,fc,1,0,"img",12),_.k0s()(),_.j41(11,"mat-nav-list"),_.Z7z(12,Tc,5,4,"a",13,_.Vm6),_.j41(14,"mat-list-item",14),_.bIt("click",function(){return _.eBV(pr),_.Njj(gn.collapseToggle())}),_.DNE(15,Js,2,0,"mat-icon",15)(16,wa,2,0,"mat-icon",15),_.k0s()()(),_.j41(17,"mat-sidenav-content")(18,"mat-toolbar"),_.DNE(19,fl,3,0,"button",16),_.nI1(20,"async"),_.DNE(21,hc,3,0,"button",17),_.Z7z(22,so,3,2,"button",18,_.fX1),_.nrm(24,"span",19),_.j41(25,"span",20),_.DNE(26,ho,3,0,"button",21),_.j41(27,"button",22)(28,"mat-icon"),_.EFF(29,"warning"),_.k0s()(),_.j41(30,"mat-menu",null,1)(32,"button",23),_.bIt("click",function(){return _.eBV(pr),_.Njj(gn.wipe())}),_.j41(33,"mat-icon"),_.EFF(34,"settings"),_.k0s(),_.j41(35,"span"),_.EFF(36,"Reset All Data (Wipe)"),_.k0s()()(),_.j41(37,"button",22)(38,"mat-icon"),_.EFF(39,"notifications"),_.k0s()(),_.j41(40,"mat-menu",null,2)(42,"button",24)(43,"mat-icon"),_.EFF(44,"settings"),_.k0s(),_.j41(45,"span"),_.EFF(46,"Notification Settings"),_.k0s()(),_.nrm(47,"mat-divider"),_.j41(48,"button",25)(49,"mat-icon"),_.EFF(50,"forum"),_.k0s(),_.j41(51,"span"),_.EFF(52,"Knitting Community posted new pattern"),_.k0s()(),_.j41(53,"button",25)(54,"mat-icon"),_.EFF(55,"face"),_.k0s(),_.j41(56,"span"),_.EFF(57,"Joe sent you a message"),_.k0s()(),_.j41(58,"button",25)(59,"mat-icon"),_.EFF(60,"key"),_.k0s(),_.j41(61,"span"),_.EFF(62,"New security request"),_.k0s()(),_.j41(63,"button",25)(64,"mat-icon"),_.EFF(65,"verified_user"),_.k0s(),_.j41(66,"span"),_.EFF(67,"Social account recovery request"),_.k0s()()(),_.j41(68,"button",22)(69,"mat-icon"),_.EFF(70,"account_circle"),_.k0s()(),_.j41(71,"mat-menu",null,3)(73,"div",26),_.nrm(74,"img",27),_.nI1(75,"safeResourceUrl"),_.j41(76,"div")(77,"h2"),_.EFF(78),_.k0s(),_.EFF(79),_.nrm(80,"br"),_.EFF(81),_.nI1(82,"did"),_.nrm(83,"br"),_.k0s()(),_.j41(84,"button",28)(85,"mat-icon"),_.EFF(86,"account_circle"),_.k0s(),_.j41(87,"span"),_.EFF(88,"View Profile"),_.k0s()(),_.nrm(89,"mat-divider"),_.j41(90,"button",29)(91,"mat-icon"),_.EFF(92,"switch_account"),_.k0s(),_.j41(93,"span"),_.EFF(94,"Accounts"),_.k0s()(),_.j41(95,"button",23),_.bIt("click",function(){return _.eBV(pr),_.Njj(gn.lock())}),_.j41(96,"mat-icon"),_.EFF(97,"lock"),_.k0s(),_.j41(98,"span"),_.EFF(99,"Lock account"),_.k0s()(),_.nrm(100,"mat-divider"),_.j41(101,"button",29)(102,"mat-icon"),_.EFF(103,"translate"),_.k0s(),_.j41(104,"span"),_.EFF(105,"Language: English"),_.k0s()(),_.nrm(106,"mat-divider"),_.j41(107,"button",24)(108,"mat-icon"),_.EFF(109,"settings"),_.k0s(),_.j41(110,"span"),_.EFF(111,"Settings"),_.k0s()(),_.nrm(112,"mat-divider"),_.j41(113,"button",24)(114,"mat-icon"),_.EFF(115,"help"),_.k0s(),_.j41(116,"span"),_.EFF(117,"Help"),_.k0s()()(),_.j41(118,"mat-menu",null,4)(120,"button",24)(121,"mat-icon"),_.EFF(122,"manage_accounts"),_.k0s(),_.j41(123,"span"),_.EFF(124,"Manage Accounts"),_.k0s()(),_.nrm(125,"mat-divider"),_.j41(126,"button",24)(127,"mat-icon"),_.EFF(128,"account_circle"),_.k0s(),_.j41(129,"span"),_.EFF(130,"Account 1"),_.k0s()(),_.j41(131,"button",24)(132,"mat-icon"),_.EFF(133,"account_circle"),_.k0s(),_.j41(134,"span"),_.EFF(135,"Account 2"),_.k0s()(),_.j41(136,"button",24)(137,"mat-icon"),_.EFF(138,"account_circle"),_.k0s(),_.j41(139,"span"),_.EFF(140,"Account 3"),_.k0s()(),_.nrm(141,"mat-divider"),_.j41(142,"button",24)(143,"mat-icon"),_.EFF(144,"person_add"),_.k0s(),_.j41(145,"span"),_.EFF(146,"Add account"),_.k0s()()(),_.j41(147,"mat-menu",null,5)(149,"button",25)(150,"span"),_.EFF(151,"English"),_.k0s()(),_.j41(152,"button",25)(153,"span"),_.EFF(154,"Norwegian"),_.k0s()()()()(),_.j41(155,"div",30)(156,"div",31),_.SdG(157),_.k0s()()()()}if(2&an){const pr=_.sdS(31),Er=_.sdS(41),Zr=_.sdS(72),ao=_.sdS(119),Bo=_.sdS(148);_.R7$(),_.Y8G("ngClass",_.eq3(39,dl,gn.collapsed()))("mode",_.bMT(3,27,gn.isHandset$)?"over":"side")("opened",!1===_.bMT(4,29,gn.isHandset$)),_.BMQ("role",_.bMT(5,31,gn.isHandset$)?"dialog":"navigation"),_.R7$(9),_.vxM(gn.collapsed()?-1:10),_.R7$(2),_.Dyx(gn.rootRoutes),_.R7$(3),_.vxM(gn.collapsed()?15:16),_.R7$(4),_.vxM(_.bMT(20,33,gn.isHandset$)?19:-1),_.R7$(2),_.vxM(gn.layout.navigation()?21:-1),_.R7$(),_.Dyx(gn.layout.actions()),_.R7$(4),_.vxM(gn.updateService.isNewVersionAvailable?26:-1),_.R7$(),_.Y8G("matMenuTriggerFor",pr),_.R7$(10),_.Y8G("matMenuTriggerFor",Er),_.R7$(5),_.Y8G("routerLink",_.lJ4(41,Od)),_.R7$(26),_.Y8G("matMenuTriggerFor",Zr),_.R7$(6),_.Y8G("src",_.bMT(75,35,gn.profileService.avatar()),_.B4B),_.R7$(4),_.JRh(gn.profileService.current().name),_.R7$(),_.SpI(" @",gn.profileService.current().title,""),_.R7$(2),_.SpI(" ",_.bMT(82,37,gn.identity.did),""),_.R7$(3),_.Y8G("routerLink",_.eq3(42,ba,gn.identity.did)),_.R7$(6),_.Y8G("matMenuTriggerFor",ao),_.R7$(11),_.Y8G("matMenuTriggerFor",Bo),_.R7$(6),_.Y8G("routerLink",_.lJ4(44,Od)),_.R7$(6),_.Y8G("routerLink",_.lJ4(45,ic)),_.R7$(7),_.Y8G("routerLink",_.lJ4(46,Aa)),_.R7$(6),_.Y8G("routerLink",_.lJ4(47,Yc)),_.R7$(5),_.Y8G("routerLink",_.lJ4(48,Yc)),_.R7$(5),_.Y8G("routerLink",_.lJ4(49,Yc)),_.R7$(6),_.Y8G("routerLink",_.lJ4(50,ul))}},dependencies:[F.MD,F.YU,F.Jj,ua.d,pe.s5,pe.KQ,D.Hl,D.iY,ps,To,$i,Ns,ie.Fg,ie._L,ie.YE,ie.ZV,nu.q,j.m_,j.An,re.Cn,re.kk,re.fb,re.Cp,k.Wk,k.wQ,te.uc,te.oV,Mu.k],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}mat-sidenav-content[_ngcontent-%COMP%]{padding-right:16px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}.sidenav[_ngcontent-%COMP%]{width:240px;padding:0 8px;box-sizing:border-box}.sidenav-collapsed[_ngcontent-%COMP%]{width:72px}@media (max-width: 959.98px){mat-sidenav-content[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}}"]})}return on})();var Jc=E(9183);function Pd(on,Yn){1&on&&_.nrm(0,"mat-spinner",4)}function ds(on,Yn){1&on&&(_.j41(0,"span"),_.EFF(1,"Unlock"),_.k0s())}function Dc(on,Yn){1&on&&(_.j41(0,"mat-error"),_.EFF(1,"Password is "),_.j41(2,"strong"),_.EFF(3,"invalid"),_.k0s()())}let qc=(()=>{class on{constructor(Rt){this.identityService=Rt,this.passwordInput=new L.MJ("",L.k0.required),this.unlocking=(0,_.vPA)(!1),this.invalidPassword=(0,_.vPA)(!1)}onSubmit(){var Rt=this;return(0,H.A)(function*(){Rt.unlocking.set(!0),(yield Rt.identityService.unlock(Rt.passwordInput.value))?(console.log("Vault unlocked"),Rt.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),Rt.invalidPassword.set(!0)),Rt.unlocking.set(!1)})()}static#e=this.\u0275fac=function(an){return new(an||on)(_.rXU(M.K))};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["app-unlock"]],standalone:!0,features:[_.aNF],decls:18,vars:4,consts:[["src","ariton-icon-dark.svg",1,"unlock-logo"],[3,"ngSubmit"],["matInput","","type","password",3,"formControl"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(an,gn){1&an&&(_.nrm(0,"img",0),_.j41(1,"h1"),_.EFF(2,"Unlock your account"),_.k0s(),_.j41(3,"p"),_.EFF(4,"You have configured your Ariton account with a secure personal password."),_.nrm(5,"br"),_.EFF(6,"Enter password to unlock your account."),_.k0s(),_.j41(7,"form",1),_.bIt("ngSubmit",function(){return gn.onSubmit()}),_.j41(8,"mat-form-field")(9,"mat-label"),_.EFF(10,"Enter your password"),_.k0s(),_.nrm(11,"input",2),_.k0s(),_.EFF(12," \xa0 "),_.j41(13,"button",3),_.DNE(14,Pd,1,0,"mat-spinner",4)(15,ds,2,0,"span"),_.k0s(),_.j41(16,"p"),_.DNE(17,Dc,4,0,"mat-error"),_.k0s()()),2&an&&(_.R7$(11),_.Y8G("formControl",gn.passwordInput),_.R7$(2),_.Y8G("disabled",!(gn.passwordInput.valid&&!gn.unlocking())),_.R7$(),_.vxM(gn.unlocking()?14:15),_.R7$(3),_.vxM(gn.invalidPassword()?17:-1))},dependencies:[L.YN,L.qT,L.me,L.BC,L.cb,L.cV,Jc.D6,Jc.LG,L.X1,L.l_,J.RG,J.rl,J.nJ,J.TL,G.fS,G.fg,D.Hl,D.$z,j.m_],styles:["button[_ngcontent-%COMP%]{width:100px}.unlock-logo[_ngcontent-%COMP%]{max-width:200px}"]})}return on})();var ru=E(33065);function Ol(on,Yn){1&on&&(_.j41(0,"p"),_.EFF(1,"Initializing Ariton..."),_.k0s())}function oc(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"button",7),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG(3);return _.Njj(gn.back())}),_.EFF(1,"Back"),_.k0s()}if(2&on){const Rt=_.XpG(3);_.Y8G("disabled",Rt.appService.loading())}}function go(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"button",8),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG(3);return _.Njj(gn.createAccount())}),_.EFF(1,"Create a new account"),_.k0s(),_.j41(2,"button",7),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG(3);return _.Njj(gn.restoreAccount())}),_.EFF(3,"Restore existing account"),_.k0s()}if(2&on){const Rt=_.XpG(3);_.Y8G("disabled",Rt.appService.loading()),_.R7$(2),_.Y8G("disabled",!0)}}function Br(on,Yn){1&on&&_.nrm(0,"app-restore")}function Ii(on,Yn){if(1&on&&(_.j41(0,"div",2),_.DNE(1,oc,2,1,"button",6)(2,go,4,2)(3,Br,1,0,"app-restore"),_.k0s()),2&on){const Rt=_.XpG(2);_.R7$(),_.vxM(Rt.restore()?1:2),_.R7$(2),_.vxM(Rt.restore()?3:-1)}}function Ls(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"div",3),_.nrm(1,"app-unlock"),_.j41(2,"p"),_.EFF(3,"Issues? "),_.j41(4,"button",5),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG(2);return _.Njj(gn.forceClose())}),_.EFF(5,"Close loading sceen"),_.k0s()()()}}function Po(on,Yn){1&on&&(_.j41(0,"div",0),_.nrm(1,"img",1),_.j41(2,"div"),_.EFF(3,"Initializing... please wait..."),_.k0s()())}function qs(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"div",4)(1,"h1"),_.EFF(2,"Error during initialization. Offline?"),_.k0s(),_.j41(3,"p"),_.EFF(4,"You must be online to create your account."),_.nrm(5,"br"),_.EFF(6,"Please verify network connection and try again."),_.k0s(),_.j41(7,"p")(8,"button",5),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG(2);return _.Njj(gn.reload())}),_.EFF(9,"Reload"),_.k0s()()()}}function bs(on,Yn){1&on&&_.nrm(0,"mat-spinner")}function hl(on,Yn){if(1&on){const Rt=_.RV6();_.j41(0,"div",0),_.nrm(1,"img",1),_.DNE(2,Ol,2,0,"p")(3,Ii,4,2,"div",2)(4,Ls,6,0,"div",3)(5,Po,4,0,"div",0)(6,qs,10,0,"div",4)(7,bs,1,0,"mat-spinner"),_.j41(8,"p"),_.EFF(9,"Issues? "),_.j41(10,"button",5),_.bIt("click",function(){_.eBV(Rt);const gn=_.XpG();return _.Njj(gn.forceClose())}),_.EFF(11,"Close loading sceen"),_.k0s()()()}if(2&on){let Rt;const an=_.XpG();_.R7$(2),_.vxM(0===(Rt=an.appService.onboardingState())?2:1===Rt?3:2===Rt?4:3===Rt?5:4===Rt?6:-1),_.R7$(5),_.vxM(an.appService.loading()?7:-1)}}(0,f.B8)((()=>{class on{countChar(Rt,an){return an.split(Rt).length-1}constructor(Rt,an,gn){this.router=Rt,this.layout=an,this.identityService=gn,this.title="app",this.appService=(0,_.WQX)(x.d),this.previousUrl="",this.restore=(0,_.vPA)(!1);const pr=globalThis.location.search;if(pr){const Er=Object.fromEntries(new URLSearchParams(pr));this.appService.params=Er}console.log(pr),console.log(this.appService.params),this.router.events.subscribe(Er=>{Er instanceof k.Z?this.layout.enableScrolling():Er instanceof k.wF&&(this.countChar("/",Er.url)>1?this.layout.enableNavigation():this.layout.disableNavigation())}),(0,_.QZP)(()=>{this.appService.initialized()&&console.log("App has been initialized!!!!")})}forceClose(){this.appService.onboardingState.set(x.f.Unlocked),this.appService.initialized.set(!0)}restoreAccount(){var Rt=this;return(0,H.A)(function*(){Rt.restore.set(!0)})()}back(){this.restore.set(!1)}createAccount(){var Rt=this;return(0,H.A)(function*(){console.log("Creating new account..."),yield Rt.appService.createAccount(),Rt.router.navigate([Rt.appService.state().loginAction])})()}reload(){document.location=document.location}ngOnInit(){var Rt=this;return(0,H.A)(function*(){yield Rt.appService.initialize()})()}static#e=this.\u0275fac=function(an){return new(an||on)(_.rXU(k.Ix),_.rXU(P.Y),_.rXU(M.K))};static#t=this.\u0275cmp=_.VBU({type:on,selectors:[["app-root"]],standalone:!0,features:[_.Jv_([{provide:J.U$,useValue:{appearance:"outline"}}]),_.aNF],decls:3,vars:1,consts:[[1,"loading-container"],["src","ariton-icon-dark.svg",1,"loading-logo"],[1,"new-user-actions"],[1,"unlock-container"],[1,"loading-error"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["mat-button","",3,"click","disabled"],["mat-flat-button","",3,"click","disabled"]],template:function(an,gn){1&an&&(_.DNE(0,hl,12,2,"div",0),_.j41(1,"app-layout"),_.nrm(2,"router-outlet"),_.k0s()),2&an&&_.vxM(gn.appService.initialized()?-1:0)},dependencies:[ru.RestoreComponent,D.Hl,D.$z,Jc.D6,Jc.LG,k.n3,wo,qc],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1000;display:flex;justify-content:center;align-items:center;align-content:center;text-align:center}.loading-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1001;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-logo[_ngcontent-%COMP%]{max-width:128px;position:absolute;right:1em;bottom:1em}mat-spinner[_ngcontent-%COMP%]{margin:2em}.new-user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return on})(),et).catch(on=>console.error(on))},49245:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={protocol:"http://anyone-collaborate-protocol.xyz",published:!0,types:{doc:{}},structure:{doc:{$actions:[{who:"anyone",can:["read","co-update","co-delete"]}]}}}},62060:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={protocol:"http://chat-protocol.xyz",published:!0,types:{thread:{schema:"thread",dataFormats:["application/json"]},message:{schema:"message",dataFormats:["application/json"]}},structure:{thread:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread",can:["read"]},{who:"recipient",of:"thread",can:["read"]}],message:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread/message",can:["read"]},{who:"recipient",of:"thread/message",can:["read"]}]}}}}},77949:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={protocol:"https://schema.ariton.app/community/entry",published:!0,types:{community:{schema:"https://schema.ariton.app/community/schema/community",dataFormats:["application/json"]},album:{schema:"https://schema.ariton.app/community/schema/album",dataFormats:["text/plain"]},photo:{schema:"https://schema.ariton.app/community/schema/photo",dataFormats:["text/plain"]},friend:{schema:"https://schema.ariton.app/community/schema/friend",dataFormats:["text/plain"]},participant:{schema:"https://schema.ariton.app/community/schema/participant",dataFormats:["text/plain"]},updater:{schema:"https://schema.ariton.app/community/schema/updater",dataFormats:["text/plain"]},globalAdmin:{schema:"https://schema.ariton.app/community/schema/globalAdmin",dataFormats:["application/json"]},admin:{schema:"https://schema.ariton.app/community/schema/admin",dataFormats:["application/json"]}},structure:{globalAdmin:{$role:!0},friend:{$role:!0},community:{$actions:[{role:"globalAdmin",can:["create","update"]}],admin:{$role:!0,$actions:[{role:"globalAdmin",can:["create","update"]}]}}}}},97372:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={protocol:"https://schema.ariton.app/file",published:!0,types:{entry:{schema:"https://schema.ariton.app/file/schema/entry"},collaborator:{schema:"https://schema.ariton.app/file/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}}}}},67136:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={protocol:"http://free-for-all-protocol.xyz",published:!0,types:{post:{schema:"eph",dataFormats:["application/json"]},attachment:{}},structure:{post:{$actions:[{who:"anyone",can:["create","update","delete","prune","read","co-delete","co-prune"]}],attachment:{$actions:[{who:"anyone",can:["create","update","delete","read","co-delete"]}]}}}}},22312:(je,z,E)=>{"use strict";E.d(z,{Aq:()=>F,ME:()=>P,iU:()=>L,u5:()=>O});var f=E(4053),_=E(77949),H=(E(45189),E(2685)),x=E(69371);const P={uri:f.Q.protocol,definition:f.Q},O={uri:H.Q.protocol,definition:H.Q},F={uri:_.Q.protocol,definition:_.Q},L={uri:x.Q.protocol,definition:x.Q}},69371:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={protocol:"https://schema.ariton.app/message",published:!0,types:{message:{schema:"https://schema.ariton.app/message/schema/message",dataFormats:["application/json"]},writer:{schema:"https://schema.ariton.app/message/schema/writer",dataFormats:["application/json"]},request:{schema:"https://schema.ariton.app/message/schema/request",dataFormats:["application/json"]}},structure:{writer:{$role:!0},message:{$actions:[{role:"writer",can:["create","update"]},{who:"author",of:"message",can:["read"]},{who:"recipient",of:"message",can:["read"]}]},request:{$actions:[{who:"anyone",can:["create","update","delete"]},{who:"author",of:"request",can:["read","create","delete"]},{who:"recipient",of:"request",can:["read","create","delete","co-delete"]}]}}}},1639:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={protocol:"http://minimal.xyz",published:!1,types:{foo:{}},structure:{foo:{}}}},69314:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={protocol:"https://schema.ariton.app/note",published:!0,types:{note:{schema:"https://schema.ariton.app/note/schema/note",dataFormats:["application/json"]},collaborator:{schema:"https://schema.ariton.app/note/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},note:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}},4053:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={published:!0,protocol:"https://schema.ariton.app/profile/entry",types:{profile:{schema:"https://schema.ariton.app/profile/schema/profile",dataFormats:["application/json"]},bio:{dataFormats:["application/json"]},status:{dataFormats:["application/json"]},location:{dataFormats:["application/json"]},birthDate:{dataFormats:["application/json"]},social:{dataFormats:["application/json"]},messaging:{dataFormats:["application/json"]},phone:{dataFormats:["application/json"]},address:{dataFormats:["application/json"]},career:{dataFormats:["application/json"]},payment:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{$actions:[{who:"anyone",can:["read"]}]},bio:{},status:{},location:{},birthDate:{},social:{},career:{},avatar:{$actions:[{who:"anyone",can:["read"]}]},hero:{$actions:[{who:"anyone",can:["read"]}]},messaging:{},address:{},phone:{},payment:{}}}},2685:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={published:!0,protocol:"https://schema.ariton.app/registry/entry",types:{profile:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{},avatar:{},hero:{}}}},45189:(je,z,E)=>{"use strict";E.d(z,{Q:()=>f});const f={protocol:"https://social-media.xyz",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}}},4521:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createCurve=z.getHash=void 0;const f=E(44882),_=E(96492),k=E(73040);function H(P){return{hash:P,hmac:(M,...O)=>(0,f.hmac)(P,M,(0,_.concatBytes)(...O)),randomBytes:_.randomBytes}}z.getHash=H,z.createCurve=function x(P,M){const O=F=>(0,k.weierstrass)({...P,...H(F)});return Object.freeze({...O(M),create:O})}},25299:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateBasic=z.wNAF=void 0;const f=E(63834),_=E(84097),k=BigInt(0),H=BigInt(1);z.wNAF=function x(M,O){const F=(D,X)=>{const j=X.negate();return D?j:X},L=D=>({windows:Math.ceil(O/D)+1,windowSize:2**(D-1)});return{constTimeNegate:F,unsafeLadder(D,X){let j=M.ZERO,G=D;for(;X>k;)X&H&&(j=j.add(G)),G=G.double(),X>>=H;return j},precomputeWindow(D,X){const{windows:j,windowSize:G}=L(X),re=[];let te=D,J=te;for(let Z=0;Z<j;Z++){J=te,re.push(J);for(let ie=1;ie<G;ie++)J=J.add(te),re.push(J);te=J.double()}return re},wNAF(D,X,j){const{windows:G,windowSize:re}=L(D);let te=M.ZERO,J=M.BASE;const Z=BigInt(2**D-1),ie=2**D,ae=BigInt(D);for(let se=0;se<G;se++){const de=se*re;let le=Number(j&Z);j>>=ae,le>re&&(le-=ie,j+=H);const we=de,xe=de+Math.abs(le)-1,C=le<0;0===le?J=J.add(F(se%2!=0,X[we])):te=te.add(F(C,X[xe]))}return{p:te,f:J}},wNAFCached(D,X,j,G){const re=D._WINDOW_SIZE||1;let te=X.get(D);return te||(te=this.precomputeWindow(D,re),1!==re&&X.set(D,G(te))),this.wNAF(re,te,j)}}},z.validateBasic=function P(M){return(0,f.validateField)(M.Fp),(0,_.validateObject)(M,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,f.nLength)(M.n,M.nBitLength),...M,p:M.Fp.ORDER})}},45068:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.twistedEdwards=void 0;const f=E(63834),_=E(84097),k=E(84097),H=E(25299),x=BigInt(0),P=BigInt(1),M=BigInt(2),O=BigInt(8),F={zip215:!0};z.twistedEdwards=function D(X){const j=function L(X){const j=(0,H.validateBasic)(X);return _.validateObject(X,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...j})}(X),{Fp:G,n:re,prehash:te,hash:J,randomBytes:Z,nByteLength:ie,h:ae}=j,se=M<<BigInt(8*ie)-P,de=G.create,le=j.uvRatio||((be,Ue)=>{try{return{isValid:!0,value:G.sqrt(be*G.inv(Ue))}}catch{return{isValid:!1,value:x}}}),we=j.adjustScalarBytes||(be=>be),xe=j.domain||((be,Ue,ye)=>{if(Ue.length||ye)throw new Error("Contexts/pre-hash are not supported");return be}),Ce=be=>"bigint"==typeof be&&x<be,C=(be,Ue)=>Ce(be)&&Ce(Ue)&&be<Ue,a=be=>be===x||C(be,se);function u(be,Ue){if(C(be,Ue))return be;throw new Error(`Expected valid scalar < ${Ue}, got ${typeof be} ${be}`)}function y(be){return be===x?be:u(be,re)}const g=new Map;function S(be){if(!(be instanceof T))throw new Error("ExtendedPoint expected")}class T{constructor(Ue,ye,De,pe){if(this.ex=Ue,this.ey=ye,this.ez=De,this.et=pe,!a(Ue))throw new Error("x required");if(!a(ye))throw new Error("y required");if(!a(De))throw new Error("z required");if(!a(pe))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Ue){if(Ue instanceof T)throw new Error("extended point not allowed");const{x:ye,y:De}=Ue||{};if(!a(ye)||!a(De))throw new Error("invalid affine point");return new T(ye,De,P,de(ye*De))}static normalizeZ(Ue){const ye=G.invertBatch(Ue.map(De=>De.ez));return Ue.map((De,pe)=>De.toAffine(ye[pe])).map(T.fromAffine)}_setWindowSize(Ue){this._WINDOW_SIZE=Ue,g.delete(this)}assertValidity(){const{a:Ue,d:ye}=j;if(this.is0())throw new Error("bad point: ZERO");const{ex:De,ey:pe,ez:ue,et:Q}=this,oe=de(De*De),fe=de(pe*pe),Ee=de(ue*ue),Re=de(Ee*Ee),$e=de(oe*Ue);if(de(Ee*de($e+fe))!==de(Re+de(ye*de(oe*fe))))throw new Error("bad point: equation left != right (1)");if(de(De*pe)!==de(ue*Q))throw new Error("bad point: equation left != right (2)")}equals(Ue){S(Ue);const{ex:ye,ey:De,ez:pe}=this,{ex:ue,ey:Q,ez:oe}=Ue,fe=de(ye*oe),Ee=de(ue*pe),Re=de(De*oe),$e=de(Q*pe);return fe===Ee&&Re===$e}is0(){return this.equals(T.ZERO)}negate(){return new T(de(-this.ex),this.ey,this.ez,de(-this.et))}double(){const{a:Ue}=j,{ex:ye,ey:De,ez:pe}=this,ue=de(ye*ye),Q=de(De*De),oe=de(M*de(pe*pe)),fe=de(Ue*ue),Ee=ye+De,Re=de(de(Ee*Ee)-ue-Q),$e=fe+Q,Fe=$e-oe,Et=fe-Q,We=de(Re*Fe),Le=de($e*Et),lt=de(Re*Et),B=de(Fe*$e);return new T(We,Le,B,lt)}add(Ue){S(Ue);const{a:ye,d:De}=j,{ex:pe,ey:ue,ez:Q,et:oe}=this,{ex:fe,ey:Ee,ez:Re,et:$e}=Ue;if(ye===BigInt(-1)){const tt=de((ue-pe)*(Ee+fe)),Bt=de((ue+pe)*(Ee-fe)),vt=de(Bt-tt);if(vt===x)return this.double();const It=de(Q*M*$e),Gt=de(oe*M*Re),hn=Gt+It,dn=Bt+tt,ar=Gt-It,An=de(hn*vt),en=de(dn*ar),Qt=de(hn*ar),_t=de(vt*dn);return new T(An,en,_t,Qt)}const Fe=de(pe*fe),Et=de(ue*Ee),We=de(oe*De*$e),Le=de(Q*Re),lt=de((pe+ue)*(fe+Ee)-Fe-Et),B=Le-We,w=Le+We,m=de(Et-ye*Fe),U=de(lt*B),ne=de(w*m),ge=de(lt*m),Ae=de(B*w);return new T(U,ne,Ae,ge)}subtract(Ue){return this.add(Ue.negate())}wNAF(Ue){return s.wNAFCached(this,g,Ue,T.normalizeZ)}multiply(Ue){const{p:ye,f:De}=this.wNAF(u(Ue,re));return T.normalizeZ([ye,De])[0]}multiplyUnsafe(Ue){let ye=y(Ue);return ye===x?A:this.equals(A)||ye===P?this:this.equals(N)?this.wNAF(ye).p:s.unsafeLadder(this,ye)}isSmallOrder(){return this.multiplyUnsafe(ae).is0()}isTorsionFree(){return s.unsafeLadder(this,re).is0()}toAffine(Ue){const{ex:ye,ey:De,ez:pe}=this,ue=this.is0();null==Ue&&(Ue=ue?O:G.inv(pe));const Q=de(ye*Ue),oe=de(De*Ue),fe=de(pe*Ue);if(ue)return{x,y:P};if(fe!==P)throw new Error("invZ was invalid");return{x:Q,y:oe}}clearCofactor(){const{h:Ue}=j;return Ue===P?this:this.multiplyUnsafe(Ue)}static fromHex(Ue,ye=!1){const{d:De,a:pe}=j,ue=G.BYTES,Q=(Ue=(0,k.ensureBytes)("pointHex",Ue,ue)).slice(),oe=Ue[ue-1];Q[ue-1]=-129&oe;const fe=_.bytesToNumberLE(Q);fe===x||u(fe,ye?se:G.ORDER);const Ee=de(fe*fe),Re=de(Ee-P),$e=de(De*Ee-pe);let{isValid:Fe,value:Et}=le(Re,$e);if(!Fe)throw new Error("Point.fromHex: invalid y coordinate");const We=(Et&P)===P,Le=!!(128&oe);if(!ye&&Et===x&&Le)throw new Error("Point.fromHex: x=0 and x_0=1");return Le!==We&&(Et=de(-Et)),T.fromAffine({x:Et,y:fe})}static fromPrivateKey(Ue){return K(Ue).point}toRawBytes(){const{x:Ue,y:ye}=this.toAffine(),De=_.numberToBytesLE(ye,G.BYTES);return De[De.length-1]|=Ue&P?128:0,De}toHex(){return _.bytesToHex(this.toRawBytes())}}T.BASE=new T(j.Gx,j.Gy,P,de(j.Gx*j.Gy)),T.ZERO=new T(x,P,P,x);const{BASE:N,ZERO:A}=T,s=(0,H.wNAF)(T,8*ie);function v(be){return(0,f.mod)(be,re)}function W(be){return v(_.bytesToNumberLE(be))}function K(be){const Ue=ie;be=(0,k.ensureBytes)("private key",be,Ue);const ye=(0,k.ensureBytes)("hashed private key",J(be),2*Ue),De=we(ye.slice(0,Ue)),pe=ye.slice(Ue,2*Ue),ue=W(De),Q=N.multiply(ue),oe=Q.toRawBytes();return{head:De,prefix:pe,scalar:ue,point:Q,pointBytes:oe}}function ce(be=new Uint8Array,...Ue){const ye=_.concatBytes(...Ue);return W(J(xe(ye,(0,k.ensureBytes)("context",be),!!te)))}const Oe=F;return N._setWindowSize(8),{CURVE:j,getPublicKey:function ee(be){return K(be).pointBytes},sign:function _e(be,Ue,ye={}){be=(0,k.ensureBytes)("message",be),te&&(be=te(be));const{prefix:De,scalar:pe,pointBytes:ue}=K(Ue),Q=ce(ye.context,De,be),oe=N.multiply(Q).toRawBytes(),Ee=v(Q+ce(ye.context,oe,ue,be)*pe);y(Ee);const Re=_.concatBytes(oe,_.numberToBytesLE(Ee,G.BYTES));return(0,k.ensureBytes)("result",Re,2*ie)},verify:function Ve(be,Ue,ye,De=Oe){const{context:pe,zip215:ue}=De,Q=G.BYTES;be=(0,k.ensureBytes)("signature",be,2*Q),Ue=(0,k.ensureBytes)("message",Ue),te&&(Ue=te(Ue));const oe=_.bytesToNumberLE(be.slice(Q,2*Q));let fe,Ee,Re;try{fe=T.fromHex(ye,ue),Ee=T.fromHex(be.slice(0,Q),ue),Re=N.multiplyUnsafe(oe)}catch{return!1}if(!ue&&fe.isSmallOrder())return!1;const $e=ce(pe,Ee.toRawBytes(),fe.toRawBytes(),Ue);return Ee.add(fe.multiplyUnsafe($e)).subtract(Re).clearCofactor().equals(T.ZERO)},ExtendedPoint:T,utils:{getExtendedPublicKey:K,randomPrivateKey:()=>Z(G.BYTES),precompute:(be=8,Ue=T.BASE)=>(Ue._setWindowSize(be),Ue.multiply(BigInt(3)),Ue)}}}},75752:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createHasher=z.isogenyMap=z.hash_to_field=z.expand_message_xof=z.expand_message_xmd=void 0;const f=E(63834),_=E(84097),H=_.bytesToNumberBE;function x(G,re){if(G<0||G>=1<<8*re)throw new Error(`bad I2OSP call: value=${G} length=${re}`);const te=Array.from({length:re}).fill(0);for(let J=re-1;J>=0;J--)te[J]=255&G,G>>>=8;return new Uint8Array(te)}function P(G,re){const te=new Uint8Array(G.length);for(let J=0;J<G.length;J++)te[J]=G[J]^re[J];return te}function M(G){if(!(0,_.isBytes)(G))throw new Error("Uint8Array expected")}function O(G){if(!Number.isSafeInteger(G))throw new Error("number expected")}function F(G,re,te,J){M(G),M(re),O(te),re.length>255&&(re=J((0,_.concatBytes)((0,_.utf8ToBytes)("H2C-OVERSIZE-DST-"),re)));const{outputLen:Z,blockLen:ie}=J,ae=Math.ceil(te/Z);if(ae>255)throw new Error("Invalid xmd length");const se=(0,_.concatBytes)(re,x(re.length,1)),de=x(0,ie),le=x(te,2),we=new Array(ae),xe=J((0,_.concatBytes)(de,G,le,x(0,1),se));we[0]=J((0,_.concatBytes)(xe,x(1,1),se));for(let C=1;C<=ae;C++){const a=[P(xe,we[C-1]),x(C+1,1),se];we[C]=J((0,_.concatBytes)(...a))}return(0,_.concatBytes)(...we).slice(0,te)}function L(G,re,te,J,Z){if(M(G),M(re),O(te),re.length>255){const ie=Math.ceil(2*J/8);re=Z.create({dkLen:ie}).update((0,_.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(re).digest()}if(te>65535||re.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return Z.create({dkLen:te}).update(G).update(x(te,2)).update(re).update(x(re.length,1)).digest()}function D(G,re,te){(0,_.validateObject)(te,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:J,k:Z,m:ie,hash:ae,expand:se,DST:de}=te;M(G),O(re);const le=function k(G){if((0,_.isBytes)(G))return G;if("string"==typeof G)return(0,_.utf8ToBytes)(G);throw new Error("DST must be Uint8Array or string")}(de),we=J.toString(2).length,xe=Math.ceil((we+Z)/8),Ce=re*ie*xe;let C;if("xmd"===se)C=F(G,le,Ce,ae);else if("xof"===se)C=L(G,le,Ce,Z,ae);else{if("_internal_pass"!==se)throw new Error('expand must be "xmd" or "xof"');C=G}const a=new Array(re);for(let u=0;u<re;u++){const y=new Array(ie);for(let g=0;g<ie;g++){const S=xe*(g+u*ie),T=C.subarray(S,S+xe);y[g]=(0,f.mod)(H(T),J)}a[u]=y}return a}z.expand_message_xmd=F,z.expand_message_xof=L,z.hash_to_field=D,z.isogenyMap=function X(G,re){const te=re.map(J=>Array.from(J).reverse());return(J,Z)=>{const[ie,ae,se,de]=te.map(le=>le.reduce((we,xe)=>G.add(G.mul(we,J),xe)));return J=G.div(ie,ae),Z=G.mul(Z,G.div(se,de)),{x:J,y:Z}}},z.createHasher=function j(G,re,te){if("function"!=typeof re)throw new Error("mapToCurve() must be defined");return{hashToCurve(J,Z){const ie=D(J,2,{...te,DST:te.DST,...Z}),ae=G.fromAffine(re(ie[0])),se=G.fromAffine(re(ie[1])),de=ae.add(se).clearCofactor();return de.assertValidity(),de},encodeToCurve(J,Z){const ie=D(J,1,{...te,DST:te.encodeDST,...Z}),ae=G.fromAffine(re(ie[0])).clearCofactor();return ae.assertValidity(),ae}}}},63834:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.mapHashToField=z.getMinHashLength=z.getFieldBytesLength=z.hashToPrivateScalar=z.FpSqrtEven=z.FpSqrtOdd=z.Field=z.nLength=z.FpIsSquare=z.FpDiv=z.FpInvertBatch=z.FpPow=z.validateField=z.isNegativeLE=z.FpSqrt=z.tonelliShanks=z.invert=z.pow2=z.pow=z.mod=void 0;const f=E(84097),_=BigInt(0),k=BigInt(1),H=BigInt(2),x=BigInt(3),P=BigInt(4),M=BigInt(5),O=BigInt(8);function D(S,T){const N=S%T;return N>=_?N:T+N}function X(S,T,N){if(N<=_||T<_)throw new Error("Expected power/modulo > 0");if(N===k)return _;let A=k;for(;T>_;)T&k&&(A=A*S%N),S=S*S%N,T>>=k;return A}function G(S,T){if(S===_||T<=_)throw new Error(`invert: expected positive integers, got n=${S} mod=${T}`);let N=D(S,T),A=T,s=_,v=k,W=k,K=_;for(;N!==_;){const ce=A/N,_e=A%N,Oe=s-W*ce,Ve=v-K*ce;A=N,N=_e,s=W,v=K,W=Oe,K=Ve}if(A!==k)throw new Error("invert: does not exist");return D(s,T)}function re(S){const T=(S-k)/H;let N,A,s;for(N=S-k,A=0;N%H===_;N/=H,A++);for(s=H;s<S&&X(s,T,S)!==S-k;s++);if(1===A){const W=(S+k)/P;return function(ee,ce){const _e=ee.pow(ce,W);if(!ee.eql(ee.sqr(_e),ce))throw new Error("Cannot find square root");return _e}}const v=(N+k)/H;return function(K,ee){if(K.pow(ee,T)===K.neg(K.ONE))throw new Error("Cannot find square root");let ce=A,_e=K.pow(K.mul(K.ONE,s),N),Oe=K.pow(ee,v),Ve=K.pow(ee,N);for(;!K.eql(Ve,K.ONE);){if(K.eql(Ve,K.ZERO))return K.ZERO;let Se=1;for(let Ue=K.sqr(Ve);Se<ce&&!K.eql(Ue,K.ONE);Se++)Ue=K.sqr(Ue);const be=K.pow(_e,k<<BigInt(ce-Se-1));_e=K.sqr(be),Oe=K.mul(Oe,be),Ve=K.mul(Ve,_e),ce=Se}return Oe}}function te(S){if(S%P===x){const T=(S+k)/P;return function(A,s){const v=A.pow(s,T);if(!A.eql(A.sqr(v),s))throw new Error("Cannot find square root");return v}}if(S%O===M){const T=(S-M)/O;return function(A,s){const v=A.mul(s,H),W=A.pow(v,T),K=A.mul(s,W),ee=A.mul(A.mul(K,H),W),ce=A.mul(K,A.sub(ee,A.ONE));if(!A.eql(A.sqr(ce),s))throw new Error("Cannot find square root");return ce}}return re(S)}BigInt(9),BigInt(16),z.mod=D,z.pow=X,z.pow2=function j(S,T,N){let A=S;for(;T-- >_;)A*=A,A%=N;return A},z.invert=G,z.tonelliShanks=re,z.FpSqrt=te,z.isNegativeLE=(S,T)=>(D(S,T)&k)===k;const Z=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ae(S,T,N){if(N<_)throw new Error("Expected power > 0");if(N===_)return S.ONE;if(N===k)return T;let A=S.ONE,s=T;for(;N>_;)N&k&&(A=S.mul(A,s)),s=S.sqr(s),N>>=k;return A}function se(S,T){const N=new Array(T.length),A=T.reduce((v,W,K)=>S.is0(W)?v:(N[K]=v,S.mul(v,W)),S.ONE),s=S.inv(A);return T.reduceRight((v,W,K)=>S.is0(W)?v:(N[K]=S.mul(v,N[K]),S.mul(v,W)),s),N}function we(S,T){const N=void 0!==T?T:S.toString(2).length;return{nBitLength:N,nByteLength:Math.ceil(N/8)}}function u(S){if("bigint"!=typeof S)throw new Error("field order must be bigint");const T=S.toString(2).length;return Math.ceil(T/8)}function y(S){const T=u(S);return T+Math.ceil(T/2)}z.validateField=function ie(S){const N=Z.reduce((A,s)=>(A[s]="function",A),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,f.validateObject)(S,N)},z.FpPow=ae,z.FpInvertBatch=se,z.FpDiv=function de(S,T,N){return S.mul(T,"bigint"==typeof N?G(N,S.ORDER):S.inv(N))},z.FpIsSquare=function le(S){const T=(S.ORDER-k)/H;return N=>{const A=S.pow(N,T);return S.eql(A,S.ZERO)||S.eql(A,S.ONE)}},z.nLength=we,z.Field=function xe(S,T,N=!1,A={}){if(S<=_)throw new Error(`Expected Field ORDER > 0, got ${S}`);const{nBitLength:s,nByteLength:v}=we(S,T);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const W=te(S),K=Object.freeze({ORDER:S,BITS:s,BYTES:v,MASK:(0,f.bitMask)(s),ZERO:_,ONE:k,create:ee=>D(ee,S),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return _<=ee&&ee<S},is0:ee=>ee===_,isOdd:ee=>(ee&k)===k,neg:ee=>D(-ee,S),eql:(ee,ce)=>ee===ce,sqr:ee=>D(ee*ee,S),add:(ee,ce)=>D(ee+ce,S),sub:(ee,ce)=>D(ee-ce,S),mul:(ee,ce)=>D(ee*ce,S),pow:(ee,ce)=>ae(K,ee,ce),div:(ee,ce)=>D(ee*G(ce,S),S),sqrN:ee=>ee*ee,addN:(ee,ce)=>ee+ce,subN:(ee,ce)=>ee-ce,mulN:(ee,ce)=>ee*ce,inv:ee=>G(ee,S),sqrt:A.sqrt||(ee=>W(K,ee)),invertBatch:ee=>se(K,ee),cmov:(ee,ce,_e)=>_e?ce:ee,toBytes:ee=>N?(0,f.numberToBytesLE)(ee,v):(0,f.numberToBytesBE)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return N?(0,f.bytesToNumberLE)(ee):(0,f.bytesToNumberBE)(ee)}});return Object.freeze(K)},z.FpSqrtOdd=function Ce(S,T){if(!S.isOdd)throw new Error("Field doesn't have isOdd");const N=S.sqrt(T);return S.isOdd(N)?N:S.neg(N)},z.FpSqrtEven=function C(S,T){if(!S.isOdd)throw new Error("Field doesn't have isOdd");const N=S.sqrt(T);return S.isOdd(N)?S.neg(N):N},z.hashToPrivateScalar=function a(S,T,N=!1){const A=(S=(0,f.ensureBytes)("privateHash",S)).length,s=we(T).nByteLength+8;if(s<24||A<s||A>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${A}`);return D(N?(0,f.bytesToNumberLE)(S):(0,f.bytesToNumberBE)(S),T-k)+k},z.getFieldBytesLength=u,z.getMinHashLength=y,z.mapHashToField=function g(S,T,N=!1){const A=S.length,s=u(T),v=y(T);if(A<16||A<v||A>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${A}`);const K=D(N?(0,f.bytesToNumberBE)(S):(0,f.bytesToNumberLE)(S),T-k)+k;return N?(0,f.numberToBytesLE)(K,s):(0,f.numberToBytesBE)(K,s)}},27661:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.montgomery=void 0;const f=E(63834),_=E(84097),k=BigInt(0),H=BigInt(1);z.montgomery=function P(M){const O=function x(M){return(0,_.validateObject)(M,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...M})}(M),{P:F}=O,L=Ce=>(0,f.mod)(Ce,F),D=O.montgomeryBits,X=Math.ceil(D/8),j=O.nByteLength,G=O.adjustScalarBytes||(Ce=>Ce),re=O.powPminus2||(Ce=>(0,f.pow)(Ce,F-BigInt(2),F));function te(Ce,C,a){const u=L(Ce*(C-a));return[C=L(C-u),a=L(a+u)]}function J(Ce){if("bigint"==typeof Ce&&k<=Ce&&Ce<F)return Ce;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const Z=(O.a-BigInt(2))/BigInt(4);function ae(Ce){return(0,_.numberToBytesLE)(L(Ce),X)}function le(Ce,C){const a=function se(Ce){const C=(0,_.ensureBytes)("u coordinate",Ce,X);return 32===j&&(C[31]&=127),(0,_.bytesToNumberLE)(C)}(C),u=function de(Ce){const C=(0,_.ensureBytes)("scalar",Ce),a=C.length;if(a!==X&&a!==j)throw new Error(`Expected ${X} or ${j} bytes, got ${a}`);return(0,_.bytesToNumberLE)(G(C))}(Ce),y=function ie(Ce,C){const a=J(Ce),u=J(C),y=a;let s,g=H,S=k,T=a,N=H,A=k;for(let W=BigInt(D-1);W>=k;W--){const K=u>>W&H;A^=K,s=te(A,g,T),g=s[0],T=s[1],s=te(A,S,N),S=s[0],N=s[1],A=K;const ee=g+S,ce=L(ee*ee),_e=g-S,Oe=L(_e*_e),Ve=ce-Oe,Se=T+N,Ue=L((T-N)*ee),ye=L(Se*_e),De=Ue+ye,pe=Ue-ye;T=L(De*De),N=L(y*L(pe*pe)),g=L(ce*Oe),S=L(Ve*(ce+L(Z*Ve)))}s=te(A,g,T),g=s[0],T=s[1],s=te(A,S,N),S=s[0],N=s[1];const v=re(S);return L(g*v)}(a,u);if(y===k)throw new Error("Invalid private or public key received");return ae(y)}const we=ae(O.Gu);function xe(Ce){return le(Ce,we)}return{scalarMult:le,scalarMultBase:xe,getSharedSecret:(Ce,C)=>le(Ce,C),getPublicKey:Ce=>xe(Ce),utils:{randomPrivateKey:()=>O.randomBytes(O.nByteLength)},GuBytes:we}}},84097:(je,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateObject=z.createHmacDrbg=z.bitMask=z.bitSet=z.bitGet=z.bitLen=z.utf8ToBytes=z.equalBytes=z.concatBytes=z.ensureBytes=z.numberToVarBytesBE=z.numberToBytesLE=z.numberToBytesBE=z.bytesToNumberLE=z.bytesToNumberBE=z.hexToBytes=z.hexToNumber=z.numberToHexUnpadded=z.bytesToHex=z.isBytes=void 0;const E=BigInt(0),f=BigInt(1),_=BigInt(2);function k(u){return u instanceof Uint8Array||null!=u&&"object"==typeof u&&"Uint8Array"===u.constructor.name}z.isBytes=k;const H=Array.from({length:256},(u,y)=>y.toString(16).padStart(2,"0"));function x(u){if(!k(u))throw new Error("Uint8Array expected");let y="";for(let g=0;g<u.length;g++)y+=H[u[g]];return y}function P(u){const y=u.toString(16);return 1&y.length?`0${y}`:y}function M(u){if("string"!=typeof u)throw new Error("hex string expected, got "+typeof u);return BigInt(""===u?"0":`0x${u}`)}z.bytesToHex=x,z.numberToHexUnpadded=P,z.hexToNumber=M;const O={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function F(u){return u>=O._0&&u<=O._9?u-O._0:u>=O._A&&u<=O._F?u-(O._A-10):u>=O._a&&u<=O._f?u-(O._a-10):void 0}function L(u){if("string"!=typeof u)throw new Error("hex string expected, got "+typeof u);const y=u.length,g=y/2;if(y%2)throw new Error("padded hex string expected, got unpadded hex of length "+y);const S=new Uint8Array(g);for(let T=0,N=0;T<g;T++,N+=2){const A=F(u.charCodeAt(N)),s=F(u.charCodeAt(N+1));if(void 0===A||void 0===s)throw new Error('hex string expected, got non-hex character "'+(u[N]+u[N+1])+'" at index '+N);S[T]=16*A+s}return S}function j(u,y){return L(u.toString(16).padStart(2*y,"0"))}function J(...u){let y=0;for(let T=0;T<u.length;T++){const N=u[T];if(!k(N))throw new Error("Uint8Array expected");y+=N.length}let g=new Uint8Array(y),S=0;for(let T=0;T<u.length;T++){const N=u[T];g.set(N,S),S+=N.length}return g}z.hexToBytes=L,z.bytesToNumberBE=function D(u){return M(x(u))},z.bytesToNumberLE=function X(u){if(!k(u))throw new Error("Uint8Array expected");return M(x(Uint8Array.from(u).reverse()))},z.numberToBytesBE=j,z.numberToBytesLE=function G(u,y){return j(u,y).reverse()},z.numberToVarBytesBE=function re(u){return L(P(u))},z.ensureBytes=function te(u,y,g){let S;if("string"==typeof y)try{S=L(y)}catch(N){throw new Error(`${u} must be valid hex string, got "${y}". Cause: ${N}`)}else{if(!k(y))throw new Error(`${u} must be hex string or Uint8Array`);S=Uint8Array.from(y)}const T=S.length;if("number"==typeof g&&T!==g)throw new Error(`${u} expected ${g} bytes, got ${T}`);return S},z.concatBytes=J,z.equalBytes=function Z(u,y){if(u.length!==y.length)return!1;let g=0;for(let S=0;S<u.length;S++)g|=u[S]^y[S];return 0===g},z.utf8ToBytes=function ie(u){if("string"!=typeof u)throw new Error("utf8ToBytes expected string, got "+typeof u);return new Uint8Array((new TextEncoder).encode(u))},z.bitLen=function ae(u){let y;for(y=0;u>E;u>>=f,y+=1);return y},z.bitGet=function se(u,y){return u>>BigInt(y)&f},z.bitSet=(u,y,g)=>u|(g?f:E)<<BigInt(y),z.bitMask=u=>(_<<BigInt(u-1))-f;const we=u=>new Uint8Array(u),xe=u=>Uint8Array.from(u);z.createHmacDrbg=function Ce(u,y,g){if("number"!=typeof u||u<2)throw new Error("hashLen must be a number");if("number"!=typeof y||y<2)throw new Error("qByteLen must be a number");if("function"!=typeof g)throw new Error("hmacFn must be a function");let S=we(u),T=we(u),N=0;const A=()=>{S.fill(1),T.fill(0),N=0},s=(...ee)=>g(T,S,...ee),v=(ee=we())=>{T=s(xe([0]),ee),S=s(),0!==ee.length&&(T=s(xe([1]),ee),S=s())},W=()=>{if(N++>=1e3)throw new Error("drbg: tried 1000 values");let ee=0;const ce=[];for(;ee<y;){S=s();const _e=S.slice();ce.push(_e),ee+=S.length}return J(...ce)};return(ee,ce)=>{let _e;for(A(),v(ee);!(_e=ce(W()));)v();return A(),_e}};const C={bigint:u=>"bigint"==typeof u,function:u=>"function"==typeof u,boolean:u=>"boolean"==typeof u,string:u=>"string"==typeof u,stringOrUint8Array:u=>"string"==typeof u||k(u),isSafeInteger:u=>Number.isSafeInteger(u),array:u=>Array.isArray(u),field:(u,y)=>y.Fp.isValid(u),hash:u=>"function"==typeof u&&Number.isSafeInteger(u.outputLen)};z.validateObject=function a(u,y,g={}){const S=(T,N,A)=>{const s=C[N];if("function"!=typeof s)throw new Error(`Invalid validator "${N}", expected function`);const v=u[T];if(!(A&&void 0===v||s(v,u)))throw new Error(`Invalid param ${String(T)}=${v} (${typeof v}), expected ${N}`)};for(const[T,N]of Object.entries(y))S(T,N,!1);for(const[T,N]of Object.entries(g))S(T,N,!0);return u}},73040:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.mapToCurveSimpleSWU=z.SWUFpSqrtRatio=z.weierstrass=z.weierstrassPoints=z.DER=void 0;const f=E(63834),_=E(84097),k=E(84097),H=E(25299),{bytesToNumberBE:P,hexToBytes:M}=_;z.DER={Err:class extends Error{constructor(ie=""){super(ie)}},_parseInt(Z){const{Err:ie}=z.DER;if(Z.length<2||2!==Z[0])throw new ie("Invalid signature integer tag");const ae=Z[1],se=Z.subarray(2,ae+2);if(!ae||se.length!==ae)throw new ie("Invalid signature integer: wrong length");if(128&se[0])throw new ie("Invalid signature integer: negative");if(0===se[0]&&!(128&se[1]))throw new ie("Invalid signature integer: unnecessary leading zero");return{d:P(se),l:Z.subarray(ae+2)}},toSig(Z){const{Err:ie}=z.DER,ae="string"==typeof Z?M(Z):Z;if(!_.isBytes(ae))throw new Error("ui8a expected");let se=ae.length;if(se<2||48!=ae[0])throw new ie("Invalid signature tag");if(ae[1]!==se-2)throw new ie("Invalid signature: incorrect length");const{d:de,l:le}=z.DER._parseInt(ae.subarray(2)),{d:we,l:xe}=z.DER._parseInt(le);if(xe.length)throw new ie("Invalid signature: left bytes after parsing");return{r:de,s:we}},hexFromSig(Z){const ie=C=>8&Number.parseInt(C[0],16)?"00"+C:C,ae=C=>{const a=C.toString(16);return 1&a.length?`0${a}`:a},se=ie(ae(Z.s)),de=ie(ae(Z.r)),le=se.length/2,we=de.length/2,xe=ae(le),Ce=ae(we);return`30${ae(we+le+4)}02${Ce}${de}02${xe}${se}`}};const O=BigInt(0),F=BigInt(1),L=BigInt(2),D=BigInt(3),X=BigInt(4);function j(Z){const ie=function x(Z){const ie=(0,H.validateBasic)(Z);_.validateObject(ie,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ae,Fp:se,a:de}=ie;if(ae){if(!se.eql(de,se.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof ae||"bigint"!=typeof ae.beta||"function"!=typeof ae.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ie})}(Z),{Fp:ae}=ie,se=ie.toBytes||((S,T,N)=>{const A=T.toAffine();return _.concatBytes(Uint8Array.from([4]),ae.toBytes(A.x),ae.toBytes(A.y))}),de=ie.fromBytes||(S=>{const T=S.subarray(1);return{x:ae.fromBytes(T.subarray(0,ae.BYTES)),y:ae.fromBytes(T.subarray(ae.BYTES,2*ae.BYTES))}});function le(S){const{a:T,b:N}=ie,A=ae.sqr(S),s=ae.mul(A,S);return ae.add(ae.add(s,ae.mul(S,T)),N)}if(!ae.eql(ae.sqr(ie.Gy),le(ie.Gx)))throw new Error("bad generator point: equation left != right");function we(S){return"bigint"==typeof S&&O<S&&S<ie.n}function xe(S){if(!we(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Ce(S){const{allowedPrivateKeyLengths:T,nByteLength:N,wrapPrivateKey:A,n:s}=ie;if(T&&"bigint"!=typeof S){if(_.isBytes(S)&&(S=_.bytesToHex(S)),"string"!=typeof S||!T.includes(S.length))throw new Error("Invalid key");S=S.padStart(2*N,"0")}let v;try{v="bigint"==typeof S?S:_.bytesToNumberBE((0,k.ensureBytes)("private key",S,N))}catch{throw new Error(`private key must be ${N} bytes, hex or bigint, not ${typeof S}`)}return A&&(v=f.mod(v,s)),xe(v),v}const C=new Map;function a(S){if(!(S instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(T,N,A){if(this.px=T,this.py=N,this.pz=A,null==T||!ae.isValid(T))throw new Error("x required");if(null==N||!ae.isValid(N))throw new Error("y required");if(null==A||!ae.isValid(A))throw new Error("z required")}static fromAffine(T){const{x:N,y:A}=T||{};if(!T||!ae.isValid(N)||!ae.isValid(A))throw new Error("invalid affine point");if(T instanceof u)throw new Error("projective point not allowed");const s=v=>ae.eql(v,ae.ZERO);return s(N)&&s(A)?u.ZERO:new u(N,A,ae.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const N=ae.invertBatch(T.map(A=>A.pz));return T.map((A,s)=>A.toAffine(N[s])).map(u.fromAffine)}static fromHex(T){const N=u.fromAffine(de((0,k.ensureBytes)("pointHex",T)));return N.assertValidity(),N}static fromPrivateKey(T){return u.BASE.multiply(Ce(T))}_setWindowSize(T){this._WINDOW_SIZE=T,C.delete(this)}assertValidity(){if(this.is0()){if(ie.allowInfinityPoint&&!ae.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:T,y:N}=this.toAffine();if(!ae.isValid(T)||!ae.isValid(N))throw new Error("bad point: x or y not FE");const A=ae.sqr(N),s=le(T);if(!ae.eql(A,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:T}=this.toAffine();if(ae.isOdd)return!ae.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){a(T);const{px:N,py:A,pz:s}=this,{px:v,py:W,pz:K}=T,ee=ae.eql(ae.mul(N,K),ae.mul(v,s)),ce=ae.eql(ae.mul(A,K),ae.mul(W,s));return ee&&ce}negate(){return new u(this.px,ae.neg(this.py),this.pz)}double(){const{a:T,b:N}=ie,A=ae.mul(N,D),{px:s,py:v,pz:W}=this;let K=ae.ZERO,ee=ae.ZERO,ce=ae.ZERO,_e=ae.mul(s,s),Oe=ae.mul(v,v),Ve=ae.mul(W,W),Se=ae.mul(s,v);return Se=ae.add(Se,Se),ce=ae.mul(s,W),ce=ae.add(ce,ce),K=ae.mul(T,ce),ee=ae.mul(A,Ve),ee=ae.add(K,ee),K=ae.sub(Oe,ee),ee=ae.add(Oe,ee),ee=ae.mul(K,ee),K=ae.mul(Se,K),ce=ae.mul(A,ce),Ve=ae.mul(T,Ve),Se=ae.sub(_e,Ve),Se=ae.mul(T,Se),Se=ae.add(Se,ce),ce=ae.add(_e,_e),_e=ae.add(ce,_e),_e=ae.add(_e,Ve),_e=ae.mul(_e,Se),ee=ae.add(ee,_e),Ve=ae.mul(v,W),Ve=ae.add(Ve,Ve),_e=ae.mul(Ve,Se),K=ae.sub(K,_e),ce=ae.mul(Ve,Oe),ce=ae.add(ce,ce),ce=ae.add(ce,ce),new u(K,ee,ce)}add(T){a(T);const{px:N,py:A,pz:s}=this,{px:v,py:W,pz:K}=T;let ee=ae.ZERO,ce=ae.ZERO,_e=ae.ZERO;const Oe=ie.a,Ve=ae.mul(ie.b,D);let Se=ae.mul(N,v),be=ae.mul(A,W),Ue=ae.mul(s,K),ye=ae.add(N,A),De=ae.add(v,W);ye=ae.mul(ye,De),De=ae.add(Se,be),ye=ae.sub(ye,De),De=ae.add(N,s);let pe=ae.add(v,K);return De=ae.mul(De,pe),pe=ae.add(Se,Ue),De=ae.sub(De,pe),pe=ae.add(A,s),ee=ae.add(W,K),pe=ae.mul(pe,ee),ee=ae.add(be,Ue),pe=ae.sub(pe,ee),_e=ae.mul(Oe,De),ee=ae.mul(Ve,Ue),_e=ae.add(ee,_e),ee=ae.sub(be,_e),_e=ae.add(be,_e),ce=ae.mul(ee,_e),be=ae.add(Se,Se),be=ae.add(be,Se),Ue=ae.mul(Oe,Ue),De=ae.mul(Ve,De),be=ae.add(be,Ue),Ue=ae.sub(Se,Ue),Ue=ae.mul(Oe,Ue),De=ae.add(De,Ue),Se=ae.mul(be,De),ce=ae.add(ce,Se),Se=ae.mul(pe,De),ee=ae.mul(ye,ee),ee=ae.sub(ee,Se),Se=ae.mul(ye,be),_e=ae.mul(pe,_e),_e=ae.add(_e,Se),new u(ee,ce,_e)}subtract(T){return this.add(T.negate())}is0(){return this.equals(u.ZERO)}wNAF(T){return g.wNAFCached(this,C,T,N=>{const A=ae.invertBatch(N.map(s=>s.pz));return N.map((s,v)=>s.toAffine(A[v])).map(u.fromAffine)})}multiplyUnsafe(T){const N=u.ZERO;if(T===O)return N;if(xe(T),T===F)return this;const{endo:A}=ie;if(!A)return g.unsafeLadder(this,T);let{k1neg:s,k1:v,k2neg:W,k2:K}=A.splitScalar(T),ee=N,ce=N,_e=this;for(;v>O||K>O;)v&F&&(ee=ee.add(_e)),K&F&&(ce=ce.add(_e)),_e=_e.double(),v>>=F,K>>=F;return s&&(ee=ee.negate()),W&&(ce=ce.negate()),ce=new u(ae.mul(ce.px,A.beta),ce.py,ce.pz),ee.add(ce)}multiply(T){xe(T);let A,s,N=T;const{endo:v}=ie;if(v){const{k1neg:W,k1:K,k2neg:ee,k2:ce}=v.splitScalar(N);let{p:_e,f:Oe}=this.wNAF(K),{p:Ve,f:Se}=this.wNAF(ce);_e=g.constTimeNegate(W,_e),Ve=g.constTimeNegate(ee,Ve),Ve=new u(ae.mul(Ve.px,v.beta),Ve.py,Ve.pz),A=_e.add(Ve),s=Oe.add(Se)}else{const{p:W,f:K}=this.wNAF(N);A=W,s=K}return u.normalizeZ([A,s])[0]}multiplyAndAddUnsafe(T,N,A){const s=u.BASE,v=(K,ee)=>ee!==O&&ee!==F&&K.equals(s)?K.multiply(ee):K.multiplyUnsafe(ee),W=v(this,N).add(v(T,A));return W.is0()?void 0:W}toAffine(T){const{px:N,py:A,pz:s}=this,v=this.is0();null==T&&(T=v?ae.ONE:ae.inv(s));const W=ae.mul(N,T),K=ae.mul(A,T),ee=ae.mul(s,T);if(v)return{x:ae.ZERO,y:ae.ZERO};if(!ae.eql(ee,ae.ONE))throw new Error("invZ was invalid");return{x:W,y:K}}isTorsionFree(){const{h:T,isTorsionFree:N}=ie;if(T===F)return!0;if(N)return N(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:N}=ie;return T===F?this:N?N(u,this):this.multiplyUnsafe(ie.h)}toRawBytes(T=!0){return this.assertValidity(),se(u,this,T)}toHex(T=!0){return _.bytesToHex(this.toRawBytes(T))}}u.BASE=new u(ie.Gx,ie.Gy,ae.ONE),u.ZERO=new u(ae.ZERO,ae.ONE,ae.ZERO);const y=ie.nBitLength,g=(0,H.wNAF)(u,ie.endo?Math.ceil(y/2):y);return{CURVE:ie,ProjectivePoint:u,normPrivateKeyToScalar:Ce,weierstrassEquation:le,isWithinCurveOrder:we}}function te(Z,ie){const ae=Z.ORDER;let se=O;for(let S=ae-F;S%L===O;S/=L)se+=F;const de=se,le=L<<de-F-F,we=le*L,xe=(ae-F)/we,Ce=(xe-F)/L,C=we-F,a=le,u=Z.pow(ie,xe),y=Z.pow(ie,(xe+F)/L);let g=(S,T)=>{let N=u,A=Z.pow(T,C),s=Z.sqr(A);s=Z.mul(s,T);let v=Z.mul(S,s);v=Z.pow(v,Ce),v=Z.mul(v,A),A=Z.mul(v,T),s=Z.mul(v,S);let W=Z.mul(s,A);v=Z.pow(W,a);let K=Z.eql(v,Z.ONE);A=Z.mul(s,y),v=Z.mul(W,N),s=Z.cmov(A,s,K),W=Z.cmov(v,W,K);for(let ee=de;ee>F;ee--){let ce=ee-L;ce=L<<ce-F;let _e=Z.pow(W,ce);const Oe=Z.eql(_e,Z.ONE);A=Z.mul(s,N),N=Z.mul(N,N),_e=Z.mul(W,N),s=Z.cmov(A,s,Oe),W=Z.cmov(_e,W,Oe)}return{isValid:K,value:s}};if(Z.ORDER%X===D){const S=(Z.ORDER-D)/X,T=Z.sqrt(Z.neg(ie));g=(N,A)=>{let s=Z.sqr(A);const v=Z.mul(N,A);s=Z.mul(s,v);let W=Z.pow(s,S);W=Z.mul(W,v);const K=Z.mul(W,T),ee=Z.mul(Z.sqr(W),A),ce=Z.eql(ee,N);return{isValid:ce,value:Z.cmov(K,W,ce)}}}return g}z.weierstrassPoints=j,z.weierstrass=function re(Z){const ie=function G(Z){const ie=(0,H.validateBasic)(Z);return _.validateObject(ie,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ie})}(Z),{Fp:ae,n:se}=ie,de=ae.BYTES+1,le=2*ae.BYTES+1;function xe(De){return f.mod(De,se)}function Ce(De){return f.invert(De,se)}const{ProjectivePoint:C,normPrivateKeyToScalar:a,weierstrassEquation:u,isWithinCurveOrder:y}=j({...ie,toBytes(De,pe,ue){const Q=pe.toAffine(),oe=ae.toBytes(Q.x),fe=_.concatBytes;return ue?fe(Uint8Array.from([pe.hasEvenY()?2:3]),oe):fe(Uint8Array.from([4]),oe,ae.toBytes(Q.y))},fromBytes(De){const pe=De.length,ue=De[0],Q=De.subarray(1);if(pe!==de||2!==ue&&3!==ue){if(pe===le&&4===ue)return{x:ae.fromBytes(Q.subarray(0,ae.BYTES)),y:ae.fromBytes(Q.subarray(ae.BYTES,2*ae.BYTES))};throw new Error(`Point of length ${pe} was invalid. Expected ${de} compressed bytes or ${le} uncompressed bytes`)}{const oe=_.bytesToNumberBE(Q);if(!function we(De){return O<De&&De<ae.ORDER}(oe))throw new Error("Point is not on curve");const fe=u(oe);let Ee=ae.sqrt(fe);return!(1&~ue)!=((Ee&F)===F)&&(Ee=ae.neg(Ee)),{x:oe,y:Ee}}}}),g=De=>_.bytesToHex(_.numberToBytesBE(De,ie.nByteLength));function S(De){return De>se>>F}const N=(De,pe,ue)=>_.bytesToNumberBE(De.slice(pe,ue));class A{constructor(pe,ue,Q){this.r=pe,this.s=ue,this.recovery=Q,this.assertValidity()}static fromCompact(pe){const ue=ie.nByteLength;return pe=(0,k.ensureBytes)("compactSignature",pe,2*ue),new A(N(pe,0,ue),N(pe,ue,2*ue))}static fromDER(pe){const{r:ue,s:Q}=z.DER.toSig((0,k.ensureBytes)("DER",pe));return new A(ue,Q)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(pe){return new A(this.r,this.s,pe)}recoverPublicKey(pe){const{r:ue,s:Q,recovery:oe}=this,fe=ce((0,k.ensureBytes)("msgHash",pe));if(null==oe||![0,1,2,3].includes(oe))throw new Error("recovery id invalid");const Ee=2===oe||3===oe?ue+ie.n:ue;if(Ee>=ae.ORDER)throw new Error("recovery id 2 or 3 invalid");const $e=C.fromHex((1&oe?"03":"02")+g(Ee)),Fe=Ce(Ee),Et=xe(-fe*Fe),We=xe(Q*Fe),Le=C.BASE.multiplyAndAddUnsafe($e,Et,We);if(!Le)throw new Error("point at infinify");return Le.assertValidity(),Le}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,xe(-this.s),this.recovery):this}toDERRawBytes(){return _.hexToBytes(this.toDERHex())}toDERHex(){return z.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return _.hexToBytes(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const s={isValidPrivateKey(De){try{return a(De),!0}catch{return!1}},normPrivateKeyToScalar:a,randomPrivateKey:()=>{const De=f.getMinHashLength(ie.n);return f.mapHashToField(ie.randomBytes(De),ie.n)},precompute:(De=8,pe=C.BASE)=>(pe._setWindowSize(De),pe.multiply(BigInt(3)),pe)};function W(De){const pe=_.isBytes(De),ue="string"==typeof De,Q=(pe||ue)&&De.length;return pe?Q===de||Q===le:ue?Q===2*de||Q===2*le:De instanceof C}const ee=ie.bits2int||function(De){const pe=_.bytesToNumberBE(De),ue=8*De.length-ie.nBitLength;return ue>0?pe>>BigInt(ue):pe},ce=ie.bits2int_modN||function(De){return xe(ee(De))},_e=_.bitMask(ie.nBitLength);function Oe(De){if("bigint"!=typeof De)throw new Error("bigint expected");if(!(O<=De&&De<_e))throw new Error(`bigint expected < 2^${ie.nBitLength}`);return _.numberToBytesBE(De,ie.nByteLength)}const Se={lowS:ie.lowS,prehash:!1},be={lowS:ie.lowS,prehash:!1};return C.BASE._setWindowSize(8),{CURVE:ie,getPublicKey:function v(De,pe=!0){return C.fromPrivateKey(De).toRawBytes(pe)},getSharedSecret:function K(De,pe,ue=!0){if(W(De))throw new Error("first arg must be private key");if(!W(pe))throw new Error("second arg must be public key");return C.fromHex(pe).multiply(a(De)).toRawBytes(ue)},sign:function Ue(De,pe,ue=Se){const{seed:Q,k2sig:oe}=function Ve(De,pe,ue=Se){if(["recovered","canonical"].some(B=>B in ue))throw new Error("sign() legacy options not supported");const{hash:Q,randomBytes:oe}=ie;let{lowS:fe,prehash:Ee,extraEntropy:Re}=ue;null==fe&&(fe=!0),De=(0,k.ensureBytes)("msgHash",De),Ee&&(De=(0,k.ensureBytes)("prehashed msgHash",Q(De)));const $e=ce(De),Fe=a(pe),Et=[Oe(Fe),Oe($e)];if(null!=Re){const B=!0===Re?oe(ae.BYTES):Re;Et.push((0,k.ensureBytes)("extraEntropy",B))}const We=_.concatBytes(...Et),Le=$e;return{seed:We,k2sig:function lt(B){const w=ee(B);if(!y(w))return;const m=Ce(w),U=C.BASE.multiply(w).toAffine(),ne=xe(U.x);if(ne===O)return;const ge=xe(m*xe(Le+ne*Fe));if(ge===O)return;let Ae=(U.x===ne?0:2)|Number(U.y&F),tt=ge;return fe&&S(ge)&&(tt=function T(De){return S(De)?xe(-De):De}(ge),Ae^=1),new A(ne,tt,Ae)}}}(De,pe,ue);return _.createHmacDrbg(ie.hash.outputLen,ie.nByteLength,ie.hmac)(Q,oe)},verify:function ye(De,pe,ue,Q=be){const oe=De;if(pe=(0,k.ensureBytes)("msgHash",pe),ue=(0,k.ensureBytes)("publicKey",ue),"strict"in Q)throw new Error("options.strict was renamed to lowS");const{lowS:fe,prehash:Ee}=Q;let Re,$e;try{if("string"==typeof oe||_.isBytes(oe))try{Re=A.fromDER(oe)}catch(U){if(!(U instanceof z.DER.Err))throw U;Re=A.fromCompact(oe)}else{if("object"!=typeof oe||"bigint"!=typeof oe.r||"bigint"!=typeof oe.s)throw new Error("PARSE");{const{r:U,s:ne}=oe;Re=new A(U,ne)}}$e=C.fromHex(ue)}catch(U){if("PARSE"===U.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(fe&&Re.hasHighS())return!1;Ee&&(pe=ie.hash(pe));const{r:Fe,s:Et}=Re,We=ce(pe),Le=Ce(Et),lt=xe(We*Le),B=xe(Fe*Le),w=C.BASE.multiplyAndAddUnsafe($e,lt,B)?.toAffine();return!!w&&xe(w.x)===Fe},ProjectivePoint:C,Signature:A,utils:s}},z.SWUFpSqrtRatio=te,z.mapToCurveSimpleSWU=function J(Z,ie){if(f.validateField(Z),!Z.isValid(ie.A)||!Z.isValid(ie.B)||!Z.isValid(ie.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const ae=te(Z,ie.Z);if(!Z.isOdd)throw new Error("Fp.isOdd is not implemented!");return se=>{let de,le,we,xe,Ce,C,a,u;de=Z.sqr(se),de=Z.mul(de,ie.Z),le=Z.sqr(de),le=Z.add(le,de),we=Z.add(le,Z.ONE),we=Z.mul(we,ie.B),xe=Z.cmov(ie.Z,Z.neg(le),!Z.eql(le,Z.ZERO)),xe=Z.mul(xe,ie.A),le=Z.sqr(we),C=Z.sqr(xe),Ce=Z.mul(C,ie.A),le=Z.add(le,Ce),le=Z.mul(le,we),C=Z.mul(C,xe),Ce=Z.mul(C,ie.B),le=Z.add(le,Ce),a=Z.mul(de,we);const{isValid:y,value:g}=ae(le,C);u=Z.mul(de,se),u=Z.mul(u,g),a=Z.cmov(a,we,y),u=Z.cmov(u,g,y);const S=Z.isOdd(se)===Z.isOdd(u);return u=Z.cmov(Z.neg(u),u,S),a=Z.div(a,xe),{x:a,y:u}}}},57340:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hash_to_ristretto255=z.hashToRistretto255=z.RistrettoPoint=z.encodeToCurve=z.hashToCurve=z.edwardsToMontgomeryPriv=z.edwardsToMontgomery=z.edwardsToMontgomeryPub=z.x25519=z.ed25519ph=z.ed25519ctx=z.ed25519=z.ED25519_TORSION_SUBGROUP=void 0;const f=E(44207),_=E(96492),k=E(45068),H=E(27661),x=E(63834),P=E(84097),M=E(75752),O=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),F=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),L=BigInt(0),D=BigInt(1),X=BigInt(2),j=BigInt(5),G=BigInt(10),re=BigInt(20),te=BigInt(40),J=BigInt(80);function Z(Ue){const ye=O,pe=Ue*Ue%ye*Ue%ye,ue=(0,x.pow2)(pe,X,ye)*pe%ye,Q=(0,x.pow2)(ue,D,ye)*Ue%ye,oe=(0,x.pow2)(Q,j,ye)*Q%ye,fe=(0,x.pow2)(oe,G,ye)*oe%ye,Ee=(0,x.pow2)(fe,re,ye)*fe%ye,Re=(0,x.pow2)(Ee,te,ye)*Ee%ye,$e=(0,x.pow2)(Re,J,ye)*Re%ye,Fe=(0,x.pow2)($e,J,ye)*Re%ye,Et=(0,x.pow2)(Fe,G,ye)*oe%ye;return{pow_p_5_8:(0,x.pow2)(Et,X,ye)*Ue%ye,b2:pe}}function ie(Ue){return Ue[0]&=248,Ue[31]&=127,Ue[31]|=64,Ue}function ae(Ue,ye){const De=O,pe=(0,x.mod)(ye*ye*ye,De),Q=Z(Ue*(0,x.mod)(pe*pe*ye,De)).pow_p_5_8;let oe=(0,x.mod)(Ue*pe*Q,De);const fe=(0,x.mod)(ye*oe*oe,De),Ee=oe,Re=(0,x.mod)(oe*F,De),$e=fe===Ue,Fe=fe===(0,x.mod)(-Ue,De),Et=fe===(0,x.mod)(-Ue*F,De);return $e&&(oe=Ee),(Fe||Et)&&(oe=Re),(0,x.isNegativeLE)(oe,De)&&(oe=(0,x.mod)(-oe,De)),{isValid:$e||Fe,value:oe}}z.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const se=(0,x.Field)(O,void 0,!0),de={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:se,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:f.sha512,randomBytes:_.randomBytes,adjustScalarBytes:ie,uvRatio:ae};function le(Ue,ye,De){if(ye.length>255)throw new Error("Context is too big");return(0,_.concatBytes)((0,_.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([De?1:0,ye.length]),ye,Ue)}function we(Ue){const{y:ye}=z.ed25519.ExtendedPoint.fromHex(Ue),De=BigInt(1);return se.toBytes(se.create((De+ye)*se.inv(De-ye)))}z.ed25519=(0,k.twistedEdwards)(de),z.ed25519ctx=(0,k.twistedEdwards)({...de,domain:le}),z.ed25519ph=(0,k.twistedEdwards)({...de,domain:le,prehash:f.sha512}),z.x25519=(0,H.montgomery)({P:O,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Ue=>{const ye=O,{pow_p_5_8:De,b2:pe}=Z(Ue);return(0,x.mod)((0,x.pow2)(De,BigInt(3),ye)*pe,ye)},adjustScalarBytes:ie,randomBytes:_.randomBytes}),z.edwardsToMontgomeryPub=we,z.edwardsToMontgomery=we,z.edwardsToMontgomeryPriv=function xe(Ue){const ye=de.hash(Ue.subarray(0,32));return de.adjustScalarBytes(ye).subarray(0,32)};const Ce=(se.ORDER+BigInt(3))/BigInt(8),C=se.pow(X,Ce),a=se.sqrt(se.neg(se.ONE)),u=(se.ORDER-BigInt(5))/BigInt(8),y=BigInt(486662),S=(0,x.FpSqrtEven)(se,se.neg(BigInt(486664)));const N=(0,M.createHasher)(z.ed25519.ExtendedPoint,Ue=>function T(Ue){const{xMn:ye,xMd:De,yMn:pe,yMd:ue}=function g(Ue){let ye=se.sqr(Ue);ye=se.mul(ye,X);let De=se.add(ye,se.ONE),pe=se.neg(y),ue=se.sqr(De),Q=se.mul(ue,De),oe=se.mul(ye,y);oe=se.mul(oe,pe),oe=se.add(oe,ue),oe=se.mul(oe,pe);let fe=se.sqr(Q);ue=se.sqr(fe),fe=se.mul(fe,Q),fe=se.mul(fe,oe),ue=se.mul(ue,fe);let Ee=se.pow(ue,u);Ee=se.mul(Ee,fe);let Re=se.mul(Ee,a);ue=se.sqr(Ee),ue=se.mul(ue,Q);let $e=se.eql(ue,oe),Fe=se.cmov(Re,Ee,$e),Et=se.mul(pe,ye),We=se.mul(Ee,Ue);We=se.mul(We,C);let Le=se.mul(We,a),lt=se.mul(oe,ye);ue=se.sqr(We),ue=se.mul(ue,Q);let B=se.eql(ue,lt),w=se.cmov(Le,We,B);ue=se.sqr(Fe),ue=se.mul(ue,Q);let m=se.eql(ue,oe),U=se.cmov(Et,pe,m),ne=se.cmov(w,Fe,m),ge=se.isOdd(ne);return ne=se.cmov(ne,se.neg(ne),m!==ge),{xMn:U,xMd:De,yMn:ne,yMd:D}}(Ue);let Q=se.mul(ye,ue);Q=se.mul(Q,S);let oe=se.mul(De,pe),fe=se.sub(ye,De),Ee=se.add(ye,De),Re=se.mul(oe,Ee),$e=se.eql(Re,se.ZERO);Q=se.cmov(Q,se.ZERO,$e),oe=se.cmov(oe,se.ONE,$e),fe=se.cmov(fe,se.ONE,$e),Ee=se.cmov(Ee,se.ONE,$e);const Fe=se.invertBatch([oe,Ee]);return{x:se.mul(Q,Fe[0]),y:se.mul(fe,Fe[1])}}(Ue[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:se.ORDER,m:1,k:128,expand:"xmd",hash:f.sha512});function A(Ue){if(!(Ue instanceof Se))throw new Error("RistrettoPoint expected")}z.hashToCurve=N.hashToCurve,z.encodeToCurve=N.encodeToCurve;const s=F,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),W=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),K=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ee=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),ce=Ue=>ae(D,Ue),_e=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Oe=Ue=>z.ed25519.CURVE.Fp.create((0,P.bytesToNumberLE)(Ue)&_e);function Ve(Ue){const{d:ye}=z.ed25519.CURVE,De=z.ed25519.CURVE.Fp.ORDER,pe=z.ed25519.CURVE.Fp.create,ue=pe(s*Ue*Ue),Q=pe((ue+D)*K);let oe=BigInt(-1);const fe=pe((oe-ye*ue)*pe(ue+ye));let{isValid:Ee,value:Re}=ae(Q,fe),$e=pe(Re*Ue);(0,x.isNegativeLE)($e,De)||($e=pe(-$e)),Ee||(Re=$e),Ee||(oe=ue);const Fe=pe(oe*(ue-D)*ee-fe),Et=Re*Re,We=pe((Re+Re)*fe),Le=pe(Fe*v),lt=pe(D-Et),B=pe(D+Et);return new z.ed25519.ExtendedPoint(pe(We*B),pe(lt*Le),pe(Le*B),pe(We*lt))}class Se{constructor(ye){this.ep=ye}static fromAffine(ye){return new Se(z.ed25519.ExtendedPoint.fromAffine(ye))}static hashToCurve(ye){ye=(0,P.ensureBytes)("ristrettoHash",ye,64);const pe=Ve(Oe(ye.slice(0,32))),Q=Ve(Oe(ye.slice(32,64)));return new Se(pe.add(Q))}static fromHex(ye){ye=(0,P.ensureBytes)("ristrettoHex",ye,32);const{a:De,d:pe}=z.ed25519.CURVE,ue=z.ed25519.CURVE.Fp.ORDER,Q=z.ed25519.CURVE.Fp.create,oe="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",fe=Oe(ye);if(!(0,P.equalBytes)((0,P.numberToBytesLE)(fe,32),ye)||(0,x.isNegativeLE)(fe,ue))throw new Error(oe);const Ee=Q(fe*fe),Re=Q(D+De*Ee),$e=Q(D-De*Ee),Fe=Q(Re*Re),Et=Q($e*$e),We=Q(De*pe*Fe-Et),{isValid:Le,value:lt}=ce(Q(We*Et)),B=Q(lt*$e),w=Q(lt*B*We);let m=Q((fe+fe)*B);(0,x.isNegativeLE)(m,ue)&&(m=Q(-m));const U=Q(Re*w),ne=Q(m*U);if(!Le||(0,x.isNegativeLE)(ne,ue)||U===L)throw new Error(oe);return new Se(new z.ed25519.ExtendedPoint(m,U,D,ne))}toRawBytes(){let{ex:ye,ey:De,ez:pe,et:ue}=this.ep;const Q=z.ed25519.CURVE.Fp.ORDER,oe=z.ed25519.CURVE.Fp.create,fe=oe(oe(pe+De)*oe(pe-De)),Ee=oe(ye*De),Re=oe(Ee*Ee),{value:$e}=ce(oe(fe*Re)),Fe=oe($e*fe),Et=oe($e*Ee),We=oe(Fe*Et*ue);let Le;if((0,x.isNegativeLE)(ue*We,Q)){let B=oe(De*s),w=oe(ye*s);ye=B,De=w,Le=oe(Fe*W)}else Le=Et;(0,x.isNegativeLE)(ye*We,Q)&&(De=oe(-De));let lt=oe((pe-De)*Le);return(0,x.isNegativeLE)(lt,Q)&&(lt=oe(-lt)),(0,P.numberToBytesLE)(lt,32)}toHex(){return(0,P.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(ye){A(ye);const{ex:De,ey:pe}=this.ep,{ex:ue,ey:Q}=ye.ep,oe=z.ed25519.CURVE.Fp.create,fe=oe(De*Q)===oe(pe*ue),Ee=oe(pe*Q)===oe(De*ue);return fe||Ee}add(ye){return A(ye),new Se(this.ep.add(ye.ep))}subtract(ye){return A(ye),new Se(this.ep.subtract(ye.ep))}multiply(ye){return new Se(this.ep.multiply(ye))}multiplyUnsafe(ye){return new Se(this.ep.multiplyUnsafe(ye))}double(){return new Se(this.ep.double())}negate(){return new Se(this.ep.negate())}}z.RistrettoPoint=(Se.BASE||(Se.BASE=new Se(z.ed25519.ExtendedPoint.BASE)),Se.ZERO||(Se.ZERO=new Se(z.ed25519.ExtendedPoint.ZERO)),Se),z.hashToRistretto255=(Ue,ye)=>{const De=ye.DST,pe="string"==typeof De?(0,_.utf8ToBytes)(De):De,ue=(0,M.expand_message_xmd)(Ue,pe,64,f.sha512);return Se.hashToCurve(ue)},z.hash_to_ristretto255=z.hashToRistretto255},91717:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.encodeToCurve=z.hashToCurve=z.schnorr=z.secp256k1=void 0;const f=E(1806),_=E(96492),k=E(63834),H=E(73040),x=E(84097),P=E(75752),M=E(4521),O=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),F=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),L=BigInt(1),D=BigInt(2),X=(A,s)=>(A+s/D)/s;function j(A){const s=O,v=BigInt(3),W=BigInt(6),K=BigInt(11),ee=BigInt(22),ce=BigInt(23),_e=BigInt(44),Oe=BigInt(88),Ve=A*A*A%s,Se=Ve*Ve*A%s,be=(0,k.pow2)(Se,v,s)*Se%s,Ue=(0,k.pow2)(be,v,s)*Se%s,ye=(0,k.pow2)(Ue,D,s)*Ve%s,De=(0,k.pow2)(ye,K,s)*ye%s,pe=(0,k.pow2)(De,ee,s)*De%s,ue=(0,k.pow2)(pe,_e,s)*pe%s,Q=(0,k.pow2)(ue,Oe,s)*ue%s,oe=(0,k.pow2)(Q,_e,s)*pe%s,fe=(0,k.pow2)(oe,v,s)*Se%s,Ee=(0,k.pow2)(fe,ce,s)*De%s,Re=(0,k.pow2)(Ee,W,s)*Ve%s,$e=(0,k.pow2)(Re,D,s);if(!G.eql(G.sqr($e),A))throw new Error("Cannot find square root");return $e}const G=(0,k.Field)(O,void 0,void 0,{sqrt:j});z.secp256k1=(0,M.createCurve)({a:BigInt(0),b:BigInt(7),Fp:G,n:F,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:A=>{const s=F,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),W=-L*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),K=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=v,ce=BigInt("0x100000000000000000000000000000000"),_e=X(ee*A,s),Oe=X(-W*A,s);let Ve=(0,k.mod)(A-_e*v-Oe*K,s),Se=(0,k.mod)(-_e*W-Oe*ee,s);const be=Ve>ce,Ue=Se>ce;if(be&&(Ve=s-Ve),Ue&&(Se=s-Se),Ve>ce||Se>ce)throw new Error("splitScalar: Endomorphism failed, k="+A);return{k1neg:be,k1:Ve,k2neg:Ue,k2:Se}}}},f.sha256);const re=BigInt(0),te=A=>"bigint"==typeof A&&re<A&&A<O,Z={};function ie(A,...s){let v=Z[A];if(void 0===v){const W=(0,f.sha256)(Uint8Array.from(A,K=>K.charCodeAt(0)));v=(0,x.concatBytes)(W,W),Z[A]=v}return(0,f.sha256)((0,x.concatBytes)(v,...s))}const ae=A=>A.toRawBytes(!0).slice(1),se=A=>(0,x.numberToBytesBE)(A,32),de=A=>(0,k.mod)(A,O),le=A=>(0,k.mod)(A,F),we=z.secp256k1.ProjectivePoint;function Ce(A){let s=z.secp256k1.utils.normPrivateKeyToScalar(A),v=we.fromPrivateKey(s);return{scalar:v.hasEvenY()?s:le(-s),bytes:ae(v)}}function C(A){if(!te(A))throw new Error("bad x: need 0 < x < p");const s=de(A*A);let W=j(de(s*A+BigInt(7)));W%D!==re&&(W=de(-W));const K=new we(A,W,L);return K.assertValidity(),K}function a(...A){return le((0,x.bytesToNumberBE)(ie("BIP0340/challenge",...A)))}function g(A,s,v){const W=(0,x.ensureBytes)("signature",A,64),K=(0,x.ensureBytes)("message",s),ee=(0,x.ensureBytes)("publicKey",v,32);try{const ce=C((0,x.bytesToNumberBE)(ee)),_e=(0,x.bytesToNumberBE)(W.subarray(0,32));if(!te(_e))return!1;const Oe=(0,x.bytesToNumberBE)(W.subarray(32,64));if(!(A=>"bigint"==typeof A&&re<A&&A<F)(Oe))return!1;const Ve=a(se(_e),ae(ce),K),Se=((A,s,v)=>we.BASE.multiplyAndAddUnsafe(A,s,v))(ce,Oe,le(-Ve));return!(!Se||!Se.hasEvenY()||Se.toAffine().x!==_e)}catch{return!1}}z.schnorr={getPublicKey:function u(A){return Ce(A).bytes},sign:function y(A,s,v=(0,_.randomBytes)(32)){const W=(0,x.ensureBytes)("message",A),{bytes:K,scalar:ee}=Ce(s),ce=(0,x.ensureBytes)("auxRand",v,32),_e=se(ee^(0,x.bytesToNumberBE)(ie("BIP0340/aux",ce))),Oe=ie("BIP0340/nonce",_e,K,W),Ve=le((0,x.bytesToNumberBE)(Oe));if(Ve===re)throw new Error("sign failed: k is zero");const{bytes:Se,scalar:be}=Ce(Ve),Ue=a(Se,K,W),ye=new Uint8Array(64);if(ye.set(Se,0),ye.set(se(le(be+Ue*ee)),32),!g(ye,W,K))throw new Error("sign: Invalid signature produced");return ye},verify:g,utils:{randomPrivateKey:z.secp256k1.utils.randomPrivateKey,lift_x:C,pointToBytes:ae,numberToBytesBE:x.numberToBytesBE,bytesToNumberBE:x.bytesToNumberBE,taggedHash:ie,mod:k.mod}};const S=(0,P.isogenyMap)(G,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(A=>A.map(s=>BigInt(s)))),T=(0,H.mapToCurveSimpleSWU)(G,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:G.create(BigInt("-11"))}),N=(0,P.createHasher)(z.secp256k1.ProjectivePoint,A=>{const{x:s,y:v}=T(G.create(A[0]));return S(s,v)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:G.ORDER,m:1,k:128,expand:"xmd",hash:f.sha256});z.hashToCurve=N.hashToCurve,z.encodeToCurve=N.encodeToCurve},68578:(je,z)=>{"use strict";function E(O){if(!Number.isSafeInteger(O)||O<0)throw new Error(`Wrong positive integer: ${O}`)}function f(O){if("boolean"!=typeof O)throw new Error(`Expected boolean, not ${O}`)}function k(O,...F){if(!function _(O){return O instanceof Uint8Array||null!=O&&"object"==typeof O&&"Uint8Array"===O.constructor.name}(O))throw new Error("Expected Uint8Array");if(F.length>0&&!F.includes(O.length))throw new Error(`Expected Uint8Array of length ${F}, not of length=${O.length}`)}function H(O){if("function"!=typeof O||"function"!=typeof O.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");E(O.outputLen),E(O.blockLen)}function x(O,F=!0){if(O.destroyed)throw new Error("Hash instance has been destroyed");if(F&&O.finished)throw new Error("Hash#digest() has already been called")}function P(O,F){k(O);const L=F.outputLen;if(O.length<L)throw new Error(`digestInto() expects output buffer of length at least ${L}`)}Object.defineProperty(z,"__esModule",{value:!0}),z.output=z.exists=z.hash=z.bytes=z.bool=z.number=void 0,z.number=E,z.bool=f,z.bytes=k,z.hash=H,z.exists=x,z.output=P,z.default={number:E,bool:f,bytes:k,hash:H,exists:x,output:P}},25724:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.SHA2=void 0;const f=E(68578),_=E(96492);z.SHA2=class H extends _.Hash{constructor(P,M,O,F){super(),this.blockLen=P,this.outputLen=M,this.padOffset=O,this.isLE=F,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(P),this.view=(0,_.createView)(this.buffer)}update(P){(0,f.exists)(this);const{view:M,buffer:O,blockLen:F}=this,L=(P=(0,_.toBytes)(P)).length;for(let D=0;D<L;){const X=Math.min(F-this.pos,L-D);if(X!==F)O.set(P.subarray(D,D+X),this.pos),this.pos+=X,D+=X,this.pos===F&&(this.process(M,0),this.pos=0);else{const j=(0,_.createView)(P);for(;F<=L-D;D+=F)this.process(j,D)}}return this.length+=P.length,this.roundClean(),this}digestInto(P){(0,f.exists)(this),(0,f.output)(P,this),this.finished=!0;const{buffer:M,view:O,blockLen:F,isLE:L}=this;let{pos:D}=this;M[D++]=128,this.buffer.subarray(D).fill(0),this.padOffset>F-D&&(this.process(O,0),D=0);for(let te=D;te<F;te++)M[te]=0;(function k(x,P,M,O){if("function"==typeof x.setBigUint64)return x.setBigUint64(P,M,O);const F=BigInt(32),L=BigInt(4294967295),D=Number(M>>F&L),X=Number(M&L),G=O?0:4;x.setUint32(P+(O?4:0),D,O),x.setUint32(P+G,X,O)})(O,F-8,BigInt(8*this.length),L),this.process(O,0);const X=(0,_.createView)(P),j=this.outputLen;if(j%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=j/4,re=this.get();if(G>re.length)throw new Error("_sha2: outputLen bigger than state");for(let te=0;te<G;te++)X.setUint32(4*te,re[te],L)}digest(){const{buffer:P,outputLen:M}=this;this.digestInto(P);const O=P.slice(0,M);return this.destroy(),O}_cloneInto(P){P||(P=new this.constructor),P.set(...this.get());const{blockLen:M,buffer:O,length:F,finished:L,destroyed:D,pos:X}=this;return P.length=F,P.pos=X,P.finished=L,P.destroyed=D,F%M&&P.buffer.set(O),P}}},35059:(je,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.add5L=z.add5H=z.add4H=z.add4L=z.add3H=z.add3L=z.add=z.rotlBL=z.rotlBH=z.rotlSL=z.rotlSH=z.rotr32L=z.rotr32H=z.rotrBL=z.rotrBH=z.rotrSL=z.rotrSH=z.shrSL=z.shrSH=z.toBig=z.split=z.fromBig=void 0;const E=BigInt(2**32-1),f=BigInt(32);function _(xe,Ce=!1){return Ce?{h:Number(xe&E),l:Number(xe>>f&E)}:{h:0|Number(xe>>f&E),l:0|Number(xe&E)}}function k(xe,Ce=!1){let C=new Uint32Array(xe.length),a=new Uint32Array(xe.length);for(let u=0;u<xe.length;u++){const{h:y,l:g}=_(xe[u],Ce);[C[u],a[u]]=[y,g]}return[C,a]}z.fromBig=_,z.split=k;const H=(xe,Ce)=>BigInt(xe>>>0)<<f|BigInt(Ce>>>0);z.toBig=H;const x=(xe,Ce,C)=>xe>>>C;z.shrSH=x;const P=(xe,Ce,C)=>xe<<32-C|Ce>>>C;z.shrSL=P;const M=(xe,Ce,C)=>xe>>>C|Ce<<32-C;z.rotrSH=M;const O=(xe,Ce,C)=>xe<<32-C|Ce>>>C;z.rotrSL=O;const F=(xe,Ce,C)=>xe<<64-C|Ce>>>C-32;z.rotrBH=F;const L=(xe,Ce,C)=>xe>>>C-32|Ce<<64-C;z.rotrBL=L;const D=(xe,Ce)=>Ce;z.rotr32H=D;const X=(xe,Ce)=>xe;z.rotr32L=X;const j=(xe,Ce,C)=>xe<<C|Ce>>>32-C;z.rotlSH=j;const G=(xe,Ce,C)=>Ce<<C|xe>>>32-C;z.rotlSL=G;const re=(xe,Ce,C)=>Ce<<C-32|xe>>>64-C;z.rotlBH=re;const te=(xe,Ce,C)=>xe<<C-32|Ce>>>64-C;function J(xe,Ce,C,a){const u=(Ce>>>0)+(a>>>0);return{h:xe+C+(u/2**32|0)|0,l:0|u}}z.rotlBL=te,z.add=J;const Z=(xe,Ce,C)=>(xe>>>0)+(Ce>>>0)+(C>>>0);z.add3L=Z;const ie=(xe,Ce,C,a)=>Ce+C+a+(xe/2**32|0)|0;z.add3H=ie;const ae=(xe,Ce,C,a)=>(xe>>>0)+(Ce>>>0)+(C>>>0)+(a>>>0);z.add4L=ae;const se=(xe,Ce,C,a,u)=>Ce+C+a+u+(xe/2**32|0)|0;z.add4H=se;const de=(xe,Ce,C,a,u)=>(xe>>>0)+(Ce>>>0)+(C>>>0)+(a>>>0)+(u>>>0);z.add5L=de;const le=(xe,Ce,C,a,u,y)=>Ce+C+a+u+y+(xe/2**32|0)|0;z.add5H=le,z.default={fromBig:_,split:k,toBig:H,shrSH:x,shrSL:P,rotrSH:M,rotrSL:O,rotrBH:F,rotrBL:L,rotr32H:D,rotr32L:X,rotlSH:j,rotlSL:G,rotlBH:re,rotlBL:te,add:J,add3L:Z,add3H:ie,add4L:ae,add4H:se,add5H:le,add5L:de}},89948:(je,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.crypto=void 0,z.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hkdf=z.expand=z.extract=void 0;const f=E(68578),_=E(96492),k=E(44882);function H(F,L,D){return(0,f.hash)(F),void 0===D&&(D=new Uint8Array(F.outputLen)),(0,k.hmac)(F,(0,_.toBytes)(D),(0,_.toBytes)(L))}z.extract=H;const x=new Uint8Array([0]),P=new Uint8Array;function M(F,L,D,X=32){if((0,f.hash)(F),(0,f.number)(X),X>255*F.outputLen)throw new Error("Length should be <= 255*HashLen");const j=Math.ceil(X/F.outputLen);void 0===D&&(D=P);const G=new Uint8Array(j*F.outputLen),re=k.hmac.create(F,L),te=re._cloneInto(),J=new Uint8Array(re.outputLen);for(let Z=0;Z<j;Z++)x[0]=Z+1,te.update(0===Z?P:J).update(D).update(x).digestInto(J),G.set(J,F.outputLen*Z),re._cloneInto(te);return re.destroy(),te.destroy(),J.fill(0),x.fill(0),G.slice(0,X)}z.expand=M,z.hkdf=(F,L,D,X,j)=>M(F,H(F,L,D),X,j)},44882:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hmac=z.HMAC=void 0;const f=E(68578),_=E(96492);class k extends _.Hash{constructor(P,M){super(),this.finished=!1,this.destroyed=!1,(0,f.hash)(P);const O=(0,_.toBytes)(M);if(this.iHash=P.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const F=this.blockLen,L=new Uint8Array(F);L.set(O.length>F?P.create().update(O).digest():O);for(let D=0;D<L.length;D++)L[D]^=54;this.iHash.update(L),this.oHash=P.create();for(let D=0;D<L.length;D++)L[D]^=106;this.oHash.update(L),L.fill(0)}update(P){return(0,f.exists)(this),this.iHash.update(P),this}digestInto(P){(0,f.exists)(this),(0,f.bytes)(P,this.outputLen),this.finished=!0,this.iHash.digestInto(P),this.oHash.update(P),this.oHash.digestInto(P),this.destroy()}digest(){const P=new Uint8Array(this.oHash.outputLen);return this.digestInto(P),P}_cloneInto(P){P||(P=Object.create(Object.getPrototypeOf(this),{}));const{oHash:M,iHash:O,finished:F,destroyed:L,blockLen:D,outputLen:X}=this;return P.finished=F,P.destroyed=L,P.blockLen=D,P.outputLen=X,P.oHash=M._cloneInto(P.oHash),P.iHash=O._cloneInto(P.iHash),P}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}z.HMAC=k,z.hmac=(x,P,M)=>new k(x,P).update(M).digest(),z.hmac.create=(x,P)=>new k(x,P)},1806:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.sha224=z.sha256=void 0;const f=E(25724),_=E(96492),k=(L,D,X)=>L&D^~L&X,H=(L,D,X)=>L&D^L&X^D&X,x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),P=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),M=new Uint32Array(64);class O extends f.SHA2{constructor(){super(64,32,8,!1),this.A=0|P[0],this.B=0|P[1],this.C=0|P[2],this.D=0|P[3],this.E=0|P[4],this.F=0|P[5],this.G=0|P[6],this.H=0|P[7]}get(){const{A:D,B:X,C:j,D:G,E:re,F:te,G:J,H:Z}=this;return[D,X,j,G,re,te,J,Z]}set(D,X,j,G,re,te,J,Z){this.A=0|D,this.B=0|X,this.C=0|j,this.D=0|G,this.E=0|re,this.F=0|te,this.G=0|J,this.H=0|Z}process(D,X){for(let se=0;se<16;se++,X+=4)M[se]=D.getUint32(X,!1);for(let se=16;se<64;se++){const de=M[se-15],le=M[se-2],we=(0,_.rotr)(de,7)^(0,_.rotr)(de,18)^de>>>3,xe=(0,_.rotr)(le,17)^(0,_.rotr)(le,19)^le>>>10;M[se]=xe+M[se-7]+we+M[se-16]|0}let{A:j,B:G,C:re,D:te,E:J,F:Z,G:ie,H:ae}=this;for(let se=0;se<64;se++){const le=ae+((0,_.rotr)(J,6)^(0,_.rotr)(J,11)^(0,_.rotr)(J,25))+k(J,Z,ie)+x[se]+M[se]|0,xe=((0,_.rotr)(j,2)^(0,_.rotr)(j,13)^(0,_.rotr)(j,22))+H(j,G,re)|0;ae=ie,ie=Z,Z=J,J=te+le|0,te=re,re=G,G=j,j=le+xe|0}j=j+this.A|0,G=G+this.B|0,re=re+this.C|0,te=te+this.D|0,J=J+this.E|0,Z=Z+this.F|0,ie=ie+this.G|0,ae=ae+this.H|0,this.set(j,G,re,te,J,Z,ie,ae)}roundClean(){M.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class F extends O{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}z.sha256=(0,_.wrapConstructor)(()=>new O),z.sha224=(0,_.wrapConstructor)(()=>new F)},44207:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.sha384=z.sha512_256=z.sha512_224=z.sha512=z.SHA512=void 0;const f=E(25724),_=E(35059),k=E(96492),[H,x]=_.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(X=>BigInt(X))),P=new Uint32Array(80),M=new Uint32Array(80);class O extends f.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:j,Al:G,Bh:re,Bl:te,Ch:J,Cl:Z,Dh:ie,Dl:ae,Eh:se,El:de,Fh:le,Fl:we,Gh:xe,Gl:Ce,Hh:C,Hl:a}=this;return[j,G,re,te,J,Z,ie,ae,se,de,le,we,xe,Ce,C,a]}set(j,G,re,te,J,Z,ie,ae,se,de,le,we,xe,Ce,C,a){this.Ah=0|j,this.Al=0|G,this.Bh=0|re,this.Bl=0|te,this.Ch=0|J,this.Cl=0|Z,this.Dh=0|ie,this.Dl=0|ae,this.Eh=0|se,this.El=0|de,this.Fh=0|le,this.Fl=0|we,this.Gh=0|xe,this.Gl=0|Ce,this.Hh=0|C,this.Hl=0|a}process(j,G){for(let g=0;g<16;g++,G+=4)P[g]=j.getUint32(G),M[g]=j.getUint32(G+=4);for(let g=16;g<80;g++){const S=0|P[g-15],T=0|M[g-15],N=_.default.rotrSH(S,T,1)^_.default.rotrSH(S,T,8)^_.default.shrSH(S,T,7),A=_.default.rotrSL(S,T,1)^_.default.rotrSL(S,T,8)^_.default.shrSL(S,T,7),s=0|P[g-2],v=0|M[g-2],W=_.default.rotrSH(s,v,19)^_.default.rotrBH(s,v,61)^_.default.shrSH(s,v,6),K=_.default.rotrSL(s,v,19)^_.default.rotrBL(s,v,61)^_.default.shrSL(s,v,6),ee=_.default.add4L(A,K,M[g-7],M[g-16]),ce=_.default.add4H(ee,N,W,P[g-7],P[g-16]);P[g]=0|ce,M[g]=0|ee}let{Ah:re,Al:te,Bh:J,Bl:Z,Ch:ie,Cl:ae,Dh:se,Dl:de,Eh:le,El:we,Fh:xe,Fl:Ce,Gh:C,Gl:a,Hh:u,Hl:y}=this;for(let g=0;g<80;g++){const S=_.default.rotrSH(le,we,14)^_.default.rotrSH(le,we,18)^_.default.rotrBH(le,we,41),T=_.default.rotrSL(le,we,14)^_.default.rotrSL(le,we,18)^_.default.rotrBL(le,we,41),N=le&xe^~le&C,s=_.default.add5L(y,T,we&Ce^~we&a,x[g],M[g]),v=_.default.add5H(s,u,S,N,H[g],P[g]),W=0|s,K=_.default.rotrSH(re,te,28)^_.default.rotrBH(re,te,34)^_.default.rotrBH(re,te,39),ee=_.default.rotrSL(re,te,28)^_.default.rotrBL(re,te,34)^_.default.rotrBL(re,te,39),ce=re&J^re&ie^J&ie,_e=te&Z^te&ae^Z&ae;u=0|C,y=0|a,C=0|xe,a=0|Ce,xe=0|le,Ce=0|we,({h:le,l:we}=_.default.add(0|se,0|de,0|v,0|W)),se=0|ie,de=0|ae,ie=0|J,ae=0|Z,J=0|re,Z=0|te;const Oe=_.default.add3L(W,ee,_e);re=_.default.add3H(Oe,v,K,ce),te=0|Oe}({h:re,l:te}=_.default.add(0|this.Ah,0|this.Al,0|re,0|te)),({h:J,l:Z}=_.default.add(0|this.Bh,0|this.Bl,0|J,0|Z)),({h:ie,l:ae}=_.default.add(0|this.Ch,0|this.Cl,0|ie,0|ae)),({h:se,l:de}=_.default.add(0|this.Dh,0|this.Dl,0|se,0|de)),({h:le,l:we}=_.default.add(0|this.Eh,0|this.El,0|le,0|we)),({h:xe,l:Ce}=_.default.add(0|this.Fh,0|this.Fl,0|xe,0|Ce)),({h:C,l:a}=_.default.add(0|this.Gh,0|this.Gl,0|C,0|a)),({h:u,l:y}=_.default.add(0|this.Hh,0|this.Hl,0|u,0|y)),this.set(re,te,J,Z,ie,ae,se,de,le,we,xe,Ce,C,a,u,y)}roundClean(){P.fill(0),M.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}z.SHA512=O;class F extends O{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class L extends O{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class D extends O{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}z.sha512=(0,k.wrapConstructor)(()=>new O),z.sha512_224=(0,k.wrapConstructor)(()=>new F),z.sha512_256=(0,k.wrapConstructor)(()=>new L),z.sha384=(0,k.wrapConstructor)(()=>new D)},96492:(je,z,E)=>{"use strict";var f=E(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.randomBytes=z.wrapXOFConstructorWithOpts=z.wrapConstructorWithOpts=z.wrapConstructor=z.checkOpts=z.Hash=z.concatBytes=z.toBytes=z.utf8ToBytes=z.asyncLoop=z.nextTick=z.hexToBytes=z.bytesToHex=z.isLE=z.rotr=z.createView=z.u32=z.u8=void 0;const _=E(89948);function x(Ce){return Ce instanceof Uint8Array||null!=Ce&&"object"==typeof Ce&&"Uint8Array"===Ce.constructor.name}if(z.u8=Ce=>new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength),z.u32=Ce=>new Uint32Array(Ce.buffer,Ce.byteOffset,Math.floor(Ce.byteLength/4)),z.createView=Ce=>new DataView(Ce.buffer,Ce.byteOffset,Ce.byteLength),z.rotr=(Ce,C)=>Ce<<32-C|Ce>>>C,z.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!z.isLE)throw new Error("Non little-endian hardware is not supported");const O=Array.from({length:256},(Ce,C)=>C.toString(16).padStart(2,"0"));z.bytesToHex=function F(Ce){if(!x(Ce))throw new Error("Uint8Array expected");let C="";for(let a=0;a<Ce.length;a++)C+=O[Ce[a]];return C};const L__0=48,L__9=57,L__A=65,L__F=70,L__a=97,L__f=102;function D(Ce){return Ce>=L__0&&Ce<=L__9?Ce-L__0:Ce>=L__A&&Ce<=L__F?Ce-(L__A-10):Ce>=L__a&&Ce<=L__f?Ce-(L__a-10):void 0}function re(){return(re=f(function*(Ce,C,a){let u=Date.now();for(let y=0;y<Ce;y++){a(y);const g=Date.now()-u;g>=0&&g<C||(yield(0,z.nextTick)(),u+=g)}})).apply(this,arguments)}function te(Ce){if("string"!=typeof Ce)throw new Error("utf8ToBytes expected string, got "+typeof Ce);return new Uint8Array((new TextEncoder).encode(Ce))}function J(Ce){if("string"==typeof Ce&&(Ce=te(Ce)),!x(Ce))throw new Error("expected Uint8Array, got "+typeof Ce);return Ce}z.hexToBytes=function X(Ce){if("string"!=typeof Ce)throw new Error("hex string expected, got "+typeof Ce);const C=Ce.length,a=C/2;if(C%2)throw new Error("padded hex string expected, got unpadded hex of length "+C);const u=new Uint8Array(a);for(let y=0,g=0;y<a;y++,g+=2){const S=D(Ce.charCodeAt(g)),T=D(Ce.charCodeAt(g+1));if(void 0===S||void 0===T)throw new Error('hex string expected, got non-hex character "'+(Ce[g]+Ce[g+1])+'" at index '+g);u[y]=16*S+T}return u},z.nextTick=function(){var Ce=f(function*(){});return function(){return Ce.apply(this,arguments)}}(),z.asyncLoop=function G(Ce,C,a){return re.apply(this,arguments)},z.utf8ToBytes=te,z.toBytes=J,z.concatBytes=function Z(...Ce){let C=0;for(let u=0;u<Ce.length;u++){const y=Ce[u];if(!x(y))throw new Error("Uint8Array expected");C+=y.length}const a=new Uint8Array(C);for(let u=0,y=0;u<Ce.length;u++){const g=Ce[u];a.set(g,y),y+=g.length}return a},z.Hash=class ie{clone(){return this._cloneInto()}};const ae={}.toString;z.checkOpts=function se(Ce,C){if(void 0!==C&&"[object Object]"!==ae.call(C))throw new Error("Options should be object or undefined");return Object.assign(Ce,C)},z.wrapConstructor=function de(Ce){const C=u=>Ce().update(J(u)).digest(),a=Ce();return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=()=>Ce(),C},z.wrapConstructorWithOpts=function le(Ce){const C=(u,y)=>Ce(y).update(J(u)).digest(),a=Ce({});return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=u=>Ce(u),C},z.wrapXOFConstructorWithOpts=function we(Ce){const C=(u,y)=>Ce(y).update(J(u)).digest(),a=Ce({});return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=u=>Ce(u),C},z.randomBytes=function xe(Ce=32){if(_.crypto&&"function"==typeof _.crypto.getRandomValues)return _.crypto.getRandomValues(new Uint8Array(Ce));throw new Error("crypto.getRandomValues must be defined")}},42064:(je,z,E)=>{z.Level=E(23963).BrowserLevel},20844:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.MissingRefError=z.ValidationError=z.CodeGen=z.Name=z.nil=z.stringify=z.str=z._=z.KeywordCxt=void 0;const f=E(35419),_=E(98496),k=E(86980),H=E(87577),x="https://json-schema.org/draft/2020-12/schema";class P extends f.default{constructor(X={}){super({...X,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),_.default.forEach(X=>this.addVocabulary(X)),this.opts.discriminator&&this.addKeyword(k.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:X,meta:j}=this.opts;j&&(H.default.call(this,X),this.refs["http://json-schema.org/schema"]=x)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(x)?x:void 0)}}je.exports=z=P,Object.defineProperty(z,"__esModule",{value:!0}),z.default=P;var M=E(40339);Object.defineProperty(z,"KeywordCxt",{enumerable:!0,get:function(){return M.KeywordCxt}});var O=E(1038);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return O._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return O.str}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return O.stringify}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return O.nil}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return O.Name}}),Object.defineProperty(z,"CodeGen",{enumerable:!0,get:function(){return O.CodeGen}});var F=E(42467);Object.defineProperty(z,"ValidationError",{enumerable:!0,get:function(){return F.default}});var L=E(26288);Object.defineProperty(z,"MissingRefError",{enumerable:!0,get:function(){return L.default}})},33337:(je,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.regexpCode=z.getEsmExportName=z.getProperty=z.safeStringify=z.stringify=z.strConcat=z.addCodeArg=z.str=z._=z.nil=z._Code=z.Name=z.IDENTIFIER=z._CodeOrName=void 0;class E{}z._CodeOrName=E,z.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class f extends E{constructor(J){if(super(),!z.IDENTIFIER.test(J))throw new Error("CodeGen: name must be a valid identifier");this.str=J}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}z.Name=f;class _ extends E{constructor(J){super(),this._items="string"==typeof J?[J]:J}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const J=this._items[0];return""===J||'""'===J}get str(){var J;return null!==(J=this._str)&&void 0!==J?J:this._str=this._items.reduce((Z,ie)=>`${Z}${ie}`,"")}get names(){var J;return null!==(J=this._names)&&void 0!==J?J:this._names=this._items.reduce((Z,ie)=>(ie instanceof f&&(Z[ie.str]=(Z[ie.str]||0)+1),Z),{})}}function k(te,...J){const Z=[te[0]];let ie=0;for(;ie<J.length;)P(Z,J[ie]),Z.push(te[++ie]);return new _(Z)}z._Code=_,z.nil=new _(""),z._=k;const H=new _("+");function x(te,...J){const Z=[X(te[0])];let ie=0;for(;ie<J.length;)Z.push(H),P(Z,J[ie]),Z.push(H,X(te[++ie]));return function M(te){let J=1;for(;J<te.length-1;){if(te[J]===H){const Z=O(te[J-1],te[J+1]);if(void 0!==Z){te.splice(J-1,3,Z);continue}te[J++]="+"}J++}}(Z),new _(Z)}function P(te,J){J instanceof _?te.push(...J._items):te.push(J instanceof f?J:function L(te){return"number"==typeof te||"boolean"==typeof te||null===te?te:X(Array.isArray(te)?te.join(","):te)}(J))}function O(te,J){return'""'===J?te:'""'===te?J:"string"==typeof te?J instanceof f||'"'!==te[te.length-1]?void 0:"string"!=typeof J?`${te.slice(0,-1)}${J}"`:'"'===J[0]?te.slice(0,-1)+J.slice(1):void 0:"string"!=typeof J||'"'!==J[0]||te instanceof f?void 0:`"${te}${J.slice(1)}`}function X(te){return JSON.stringify(te).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}z.str=x,z.addCodeArg=P,z.strConcat=function F(te,J){return J.emptyStr()?te:te.emptyStr()?J:x`${te}${J}`},z.stringify=function D(te){return new _(X(te))},z.safeStringify=X,z.getProperty=function j(te){return"string"==typeof te&&z.IDENTIFIER.test(te)?new _(`.${te}`):k`[${te}]`},z.getEsmExportName=function G(te){if("string"==typeof te&&z.IDENTIFIER.test(te))return new _(`${te}`);throw new Error(`CodeGen: invalid export name: ${te}, use explicit $id name mapping`)},z.regexpCode=function re(te){return new _(te.toString())}},1038:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.or=z.and=z.not=z.CodeGen=z.operators=z.varKinds=z.ValueScopeName=z.ValueScope=z.Scope=z.Name=z.regexpCode=z.stringify=z.getProperty=z.nil=z.strConcat=z.str=z._=void 0;const f=E(33337),_=E(85934);var k=E(33337);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return k._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return k.str}}),Object.defineProperty(z,"strConcat",{enumerable:!0,get:function(){return k.strConcat}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return k.nil}}),Object.defineProperty(z,"getProperty",{enumerable:!0,get:function(){return k.getProperty}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return k.stringify}}),Object.defineProperty(z,"regexpCode",{enumerable:!0,get:function(){return k.regexpCode}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return k.Name}});var H=E(85934);Object.defineProperty(z,"Scope",{enumerable:!0,get:function(){return H.Scope}}),Object.defineProperty(z,"ValueScope",{enumerable:!0,get:function(){return H.ValueScope}}),Object.defineProperty(z,"ValueScopeName",{enumerable:!0,get:function(){return H.ValueScopeName}}),Object.defineProperty(z,"varKinds",{enumerable:!0,get:function(){return H.varKinds}}),z.operators={GT:new f._Code(">"),GTE:new f._Code(">="),LT:new f._Code("<"),LTE:new f._Code("<="),EQ:new f._Code("==="),NEQ:new f._Code("!=="),NOT:new f._Code("!"),OR:new f._Code("||"),AND:new f._Code("&&"),ADD:new f._Code("+")};class x{optimizeNodes(){return this}optimizeNames(ee,ce){return this}}class P extends x{constructor(ee,ce,_e){super(),this.varKind=ee,this.name=ce,this.rhs=_e}render({es5:ee,_n:ce}){return`${ee?_.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+ce}optimizeNames(ee,ce){if(ee[this.name.str])return this.rhs&&(this.rhs=y(this.rhs,ee,ce)),this}get names(){return this.rhs instanceof f._CodeOrName?this.rhs.names:{}}}class M extends x{constructor(ee,ce,_e){super(),this.lhs=ee,this.rhs=ce,this.sideEffects=_e}render({_n:ee}){return`${this.lhs} = ${this.rhs};`+ee}optimizeNames(ee,ce){if(!(this.lhs instanceof f.Name)||ee[this.lhs.str]||this.sideEffects)return this.rhs=y(this.rhs,ee,ce),this}get names(){return u(this.lhs instanceof f.Name?{}:{...this.lhs.names},this.rhs)}}class O extends M{constructor(ee,ce,_e,Oe){super(ee,_e,Oe),this.op=ce}render({_n:ee}){return`${this.lhs} ${this.op}= ${this.rhs};`+ee}}class F extends x{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`${this.label}:`+ee}}class L extends x{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`break${this.label?` ${this.label}`:""};`+ee}}class D extends x{constructor(ee){super(),this.error=ee}render({_n:ee}){return`throw ${this.error};`+ee}get names(){return this.error.names}}class X extends x{constructor(ee){super(),this.code=ee}render({_n:ee}){return`${this.code};`+ee}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ee,ce){return this.code=y(this.code,ee,ce),this}get names(){return this.code instanceof f._CodeOrName?this.code.names:{}}}class j extends x{constructor(ee=[]){super(),this.nodes=ee}render(ee){return this.nodes.reduce((ce,_e)=>ce+_e.render(ee),"")}optimizeNodes(){const{nodes:ee}=this;let ce=ee.length;for(;ce--;){const _e=ee[ce].optimizeNodes();Array.isArray(_e)?ee.splice(ce,1,..._e):_e?ee[ce]=_e:ee.splice(ce,1)}return ee.length>0?this:void 0}optimizeNames(ee,ce){const{nodes:_e}=this;let Oe=_e.length;for(;Oe--;){const Ve=_e[Oe];Ve.optimizeNames(ee,ce)||(g(ee,Ve.names),_e.splice(Oe,1))}return _e.length>0?this:void 0}get names(){return this.nodes.reduce((ee,ce)=>a(ee,ce.names),{})}}class G extends j{render(ee){return"{"+ee._n+super.render(ee)+"}"+ee._n}}class re extends j{}let te=(()=>{class K extends G{}return K.kind="else",K})(),J=(()=>{class K extends G{constructor(ce,_e){super(_e),this.condition=ce}render(ce){let _e=`if(${this.condition})`+super.render(ce);return this.else&&(_e+="else "+this.else.render(ce)),_e}optimizeNodes(){super.optimizeNodes();const ce=this.condition;if(!0===ce)return this.nodes;let _e=this.else;if(_e){const Oe=_e.optimizeNodes();_e=this.else=Array.isArray(Oe)?new te(Oe):Oe}return _e?!1===ce?_e instanceof K?_e:_e.nodes:this.nodes.length?this:new K(S(ce),_e instanceof K?[_e]:_e.nodes):!1!==ce&&this.nodes.length?this:void 0}optimizeNames(ce,_e){var Oe;if(this.else=null===(Oe=this.else)||void 0===Oe?void 0:Oe.optimizeNames(ce,_e),super.optimizeNames(ce,_e)||this.else)return this.condition=y(this.condition,ce,_e),this}get names(){const ce=super.names;return u(ce,this.condition),this.else&&a(ce,this.else.names),ce}}return K.kind="if",K})(),Z=(()=>{class K extends G{}return K.kind="for",K})();class ie extends Z{constructor(ee){super(),this.iteration=ee}render(ee){return`for(${this.iteration})`+super.render(ee)}optimizeNames(ee,ce){if(super.optimizeNames(ee,ce))return this.iteration=y(this.iteration,ee,ce),this}get names(){return a(super.names,this.iteration.names)}}class ae extends Z{constructor(ee,ce,_e,Oe){super(),this.varKind=ee,this.name=ce,this.from=_e,this.to=Oe}render(ee){const ce=ee.es5?_.varKinds.var:this.varKind,{name:_e,from:Oe,to:Ve}=this;return`for(${ce} ${_e}=${Oe}; ${_e}<${Ve}; ${_e}++)`+super.render(ee)}get names(){const ee=u(super.names,this.from);return u(ee,this.to)}}class se extends Z{constructor(ee,ce,_e,Oe){super(),this.loop=ee,this.varKind=ce,this.name=_e,this.iterable=Oe}render(ee){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ee)}optimizeNames(ee,ce){if(super.optimizeNames(ee,ce))return this.iterable=y(this.iterable,ee,ce),this}get names(){return a(super.names,this.iterable.names)}}let de=(()=>{class K extends G{constructor(ce,_e,Oe){super(),this.name=ce,this.args=_e,this.async=Oe}render(ce){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(ce)}}return K.kind="func",K})(),le=(()=>{class K extends j{render(ce){return"return "+super.render(ce)}}return K.kind="return",K})();class we extends G{render(ee){let ce="try"+super.render(ee);return this.catch&&(ce+=this.catch.render(ee)),this.finally&&(ce+=this.finally.render(ee)),ce}optimizeNodes(){var ee,ce;return super.optimizeNodes(),null===(ee=this.catch)||void 0===ee||ee.optimizeNodes(),null===(ce=this.finally)||void 0===ce||ce.optimizeNodes(),this}optimizeNames(ee,ce){var _e,Oe;return super.optimizeNames(ee,ce),null===(_e=this.catch)||void 0===_e||_e.optimizeNames(ee,ce),null===(Oe=this.finally)||void 0===Oe||Oe.optimizeNames(ee,ce),this}get names(){const ee=super.names;return this.catch&&a(ee,this.catch.names),this.finally&&a(ee,this.finally.names),ee}}let xe=(()=>{class K extends G{constructor(ce){super(),this.error=ce}render(ce){return`catch(${this.error})`+super.render(ce)}}return K.kind="catch",K})(),Ce=(()=>{class K extends G{render(ce){return"finally"+super.render(ce)}}return K.kind="finally",K})();function a(K,ee){for(const ce in ee)K[ce]=(K[ce]||0)+(ee[ce]||0);return K}function u(K,ee){return ee instanceof f._CodeOrName?a(K,ee.names):K}function y(K,ee,ce){return K instanceof f.Name?_e(K):function Oe(Ve){return Ve instanceof f._Code&&Ve._items.some(Se=>Se instanceof f.Name&&1===ee[Se.str]&&void 0!==ce[Se.str])}(K)?new f._Code(K._items.reduce((Ve,Se)=>(Se instanceof f.Name&&(Se=_e(Se)),Se instanceof f._Code?Ve.push(...Se._items):Ve.push(Se),Ve),[])):K;function _e(Ve){const Se=ce[Ve.str];return void 0===Se||1!==ee[Ve.str]?Ve:(delete ee[Ve.str],Se)}}function g(K,ee){for(const ce in ee)K[ce]=(K[ce]||0)-(ee[ce]||0)}function S(K){return"boolean"==typeof K||"number"==typeof K||null===K?!K:f._`!${W(K)}`}z.CodeGen=class C{constructor(ee,ce={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...ce,_n:ce.lines?"\n":""},this._extScope=ee,this._scope=new _.Scope({parent:ee}),this._nodes=[new re]}toString(){return this._root.render(this.opts)}name(ee){return this._scope.name(ee)}scopeName(ee){return this._extScope.name(ee)}scopeValue(ee,ce){const _e=this._extScope.value(ee,ce);return(this._values[_e.prefix]||(this._values[_e.prefix]=new Set)).add(_e),_e}getScopeValue(ee,ce){return this._extScope.getValue(ee,ce)}scopeRefs(ee){return this._extScope.scopeRefs(ee,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ee,ce,_e,Oe){const Ve=this._scope.toName(ce);return void 0!==_e&&Oe&&(this._constants[Ve.str]=_e),this._leafNode(new P(ee,Ve,_e)),Ve}const(ee,ce,_e){return this._def(_.varKinds.const,ee,ce,_e)}let(ee,ce,_e){return this._def(_.varKinds.let,ee,ce,_e)}var(ee,ce,_e){return this._def(_.varKinds.var,ee,ce,_e)}assign(ee,ce,_e){return this._leafNode(new M(ee,ce,_e))}add(ee,ce){return this._leafNode(new O(ee,z.operators.ADD,ce))}code(ee){return"function"==typeof ee?ee():ee!==f.nil&&this._leafNode(new X(ee)),this}object(...ee){const ce=["{"];for(const[_e,Oe]of ee)ce.length>1&&ce.push(","),ce.push(_e),(_e!==Oe||this.opts.es5)&&(ce.push(":"),(0,f.addCodeArg)(ce,Oe));return ce.push("}"),new f._Code(ce)}if(ee,ce,_e){if(this._blockNode(new J(ee)),ce&&_e)this.code(ce).else().code(_e).endIf();else if(ce)this.code(ce).endIf();else if(_e)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ee){return this._elseNode(new J(ee))}else(){return this._elseNode(new te)}endIf(){return this._endBlockNode(J,te)}_for(ee,ce){return this._blockNode(ee),ce&&this.code(ce).endFor(),this}for(ee,ce){return this._for(new ie(ee),ce)}forRange(ee,ce,_e,Oe,Ve=(this.opts.es5?_.varKinds.var:_.varKinds.let)){const Se=this._scope.toName(ee);return this._for(new ae(Ve,Se,ce,_e),()=>Oe(Se))}forOf(ee,ce,_e,Oe=_.varKinds.const){const Ve=this._scope.toName(ee);if(this.opts.es5){const Se=ce instanceof f.Name?ce:this.var("_arr",ce);return this.forRange("_i",0,f._`${Se}.length`,be=>{this.var(Ve,f._`${Se}[${be}]`),_e(Ve)})}return this._for(new se("of",Oe,Ve,ce),()=>_e(Ve))}forIn(ee,ce,_e,Oe=(this.opts.es5?_.varKinds.var:_.varKinds.const)){if(this.opts.ownProperties)return this.forOf(ee,f._`Object.keys(${ce})`,_e);const Ve=this._scope.toName(ee);return this._for(new se("in",Oe,Ve,ce),()=>_e(Ve))}endFor(){return this._endBlockNode(Z)}label(ee){return this._leafNode(new F(ee))}break(ee){return this._leafNode(new L(ee))}return(ee){const ce=new le;if(this._blockNode(ce),this.code(ee),1!==ce.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(le)}try(ee,ce,_e){if(!ce&&!_e)throw new Error('CodeGen: "try" without "catch" and "finally"');const Oe=new we;if(this._blockNode(Oe),this.code(ee),ce){const Ve=this.name("e");this._currNode=Oe.catch=new xe(Ve),ce(Ve)}return _e&&(this._currNode=Oe.finally=new Ce,this.code(_e)),this._endBlockNode(xe,Ce)}throw(ee){return this._leafNode(new D(ee))}block(ee,ce){return this._blockStarts.push(this._nodes.length),ee&&this.code(ee).endBlock(ce),this}endBlock(ee){const ce=this._blockStarts.pop();if(void 0===ce)throw new Error("CodeGen: not in self-balancing block");const _e=this._nodes.length-ce;if(_e<0||void 0!==ee&&_e!==ee)throw new Error(`CodeGen: wrong number of nodes: ${_e} vs ${ee} expected`);return this._nodes.length=ce,this}func(ee,ce=f.nil,_e,Oe){return this._blockNode(new de(ee,ce,_e)),Oe&&this.code(Oe).endFunc(),this}endFunc(){return this._endBlockNode(de)}optimize(ee=1){for(;ee-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ee){return this._currNode.nodes.push(ee),this}_blockNode(ee){this._currNode.nodes.push(ee),this._nodes.push(ee)}_endBlockNode(ee,ce){const _e=this._currNode;if(_e instanceof ee||ce&&_e instanceof ce)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${ce?`${ee.kind}/${ce.kind}`:ee.kind}"`)}_elseNode(ee){const ce=this._currNode;if(!(ce instanceof J))throw new Error('CodeGen: "else" without "if"');return this._currNode=ce.else=ee,this}get _root(){return this._nodes[0]}get _currNode(){const ee=this._nodes;return ee[ee.length-1]}set _currNode(ee){const ce=this._nodes;ce[ce.length-1]=ee}},z.not=S;const T=v(z.operators.AND);z.and=function N(...K){return K.reduce(T)};const A=v(z.operators.OR);function v(K){return(ee,ce)=>ee===f.nil?ce:ce===f.nil?ee:f._`${W(ee)} ${K} ${W(ce)}`}function W(K){return K instanceof f.Name?K:f._`(${K})`}z.or=function s(...K){return K.reduce(A)}},85934:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.ValueScope=z.ValueScopeName=z.Scope=z.varKinds=z.UsedValueState=void 0;const f=E(33337);class _ extends Error{constructor(F){super(`CodeGen: "code" for ${F} not defined`),this.value=F.value}}var k,O;(O=k=z.UsedValueState||(z.UsedValueState={}))[O.Started=0]="Started",O[O.Completed=1]="Completed",z.varKinds={const:new f.Name("const"),let:new f.Name("let"),var:new f.Name("var")};class H{constructor({prefixes:F,parent:L}={}){this._names={},this._prefixes=F,this._parent=L}toName(F){return F instanceof f.Name?F:this.name(F)}name(F){return new f.Name(this._newName(F))}_newName(F){return`${F}${(this._names[F]||this._nameGroup(F)).index++}`}_nameGroup(F){var L,D;if(null!==(D=null===(L=this._parent)||void 0===L?void 0:L._prefixes)&&void 0!==D&&D.has(F)||this._prefixes&&!this._prefixes.has(F))throw new Error(`CodeGen: prefix "${F}" is not allowed in this scope`);return this._names[F]={prefix:F,index:0}}}z.Scope=H;class x extends f.Name{constructor(F,L){super(L),this.prefix=F}setValue(F,{property:L,itemIndex:D}){this.value=F,this.scopePath=f._`.${new f.Name(L)}[${D}]`}}z.ValueScopeName=x;const P=f._`\n`;z.ValueScope=class M extends H{constructor(F){super(F),this._values={},this._scope=F.scope,this.opts={...F,_n:F.lines?P:f.nil}}get(){return this._scope}name(F){return new x(F,this._newName(F))}value(F,L){var D;if(void 0===L.ref)throw new Error("CodeGen: ref must be passed in value");const X=this.toName(F),{prefix:j}=X,G=null!==(D=L.key)&&void 0!==D?D:L.ref;let re=this._values[j];if(re){const Z=re.get(G);if(Z)return Z}else re=this._values[j]=new Map;re.set(G,X);const te=this._scope[j]||(this._scope[j]=[]),J=te.length;return te[J]=L.ref,X.setValue(L,{property:j,itemIndex:J}),X}getValue(F,L){const D=this._values[F];if(D)return D.get(L)}scopeRefs(F,L=this._values){return this._reduceValues(L,D=>{if(void 0===D.scopePath)throw new Error(`CodeGen: name "${D}" has no value`);return f._`${F}${D.scopePath}`})}scopeCode(F=this._values,L,D){return this._reduceValues(F,X=>{if(void 0===X.value)throw new Error(`CodeGen: name "${X}" has no value`);return X.value.code},L,D)}_reduceValues(F,L,D={},X){let j=f.nil;for(const G in F){const re=F[G];if(!re)continue;const te=D[G]=D[G]||new Map;re.forEach(J=>{if(te.has(J))return;te.set(J,k.Started);let Z=L(J);if(Z)j=f._`${j}${this.opts.es5?z.varKinds.var:z.varKinds.const} ${J} = ${Z};${this.opts._n}`;else{if(!(Z=X?.(J)))throw new _(J);j=f._`${j}${Z}${this.opts._n}`}te.set(J,k.Completed)})}return j}}},53421:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.extendErrors=z.resetErrorsCount=z.reportExtraError=z.reportError=z.keyword$DataError=z.keywordError=void 0;const f=E(1038),_=E(27006),k=E(23432);function O(te,J){const Z=te.const("err",J);te.if(f._`${k.default.vErrors} === null`,()=>te.assign(k.default.vErrors,f._`[${Z}]`),f._`${k.default.vErrors}.push(${Z})`),te.code(f._`${k.default.errors}++`)}function F(te,J){const{gen:Z,validateName:ie,schemaEnv:ae}=te;ae.$async?Z.throw(f._`new ${te.ValidationError}(${J})`):(Z.assign(f._`${ie}.errors`,J),Z.return(!1))}z.keywordError={message:({keyword:te})=>f.str`must pass "${te}" keyword validation`},z.keyword$DataError={message:({keyword:te,schemaType:J})=>J?f.str`"${te}" keyword must be ${J} ($data)`:f.str`"${te}" keyword is invalid ($data)`},z.reportError=function H(te,J=z.keywordError,Z,ie){const{it:ae}=te,{gen:se,compositeRule:de,allErrors:le}=ae,we=D(te,J,Z);ie??(de||le)?O(se,we):F(ae,f._`[${we}]`)},z.reportExtraError=function x(te,J=z.keywordError,Z){const{it:ie}=te,{gen:ae,compositeRule:se,allErrors:de}=ie;O(ae,D(te,J,Z)),se||de||F(ie,k.default.vErrors)},z.resetErrorsCount=function P(te,J){te.assign(k.default.errors,J),te.if(f._`${k.default.vErrors} !== null`,()=>te.if(J,()=>te.assign(f._`${k.default.vErrors}.length`,J),()=>te.assign(k.default.vErrors,null)))},z.extendErrors=function M({gen:te,keyword:J,schemaValue:Z,data:ie,errsCount:ae,it:se}){if(void 0===ae)throw new Error("ajv implementation error");const de=te.name("err");te.forRange("i",ae,k.default.errors,le=>{te.const(de,f._`${k.default.vErrors}[${le}]`),te.if(f._`${de}.instancePath === undefined`,()=>te.assign(f._`${de}.instancePath`,(0,f.strConcat)(k.default.instancePath,se.errorPath))),te.assign(f._`${de}.schemaPath`,f.str`${se.errSchemaPath}/${J}`),se.opts.verbose&&(te.assign(f._`${de}.schema`,Z),te.assign(f._`${de}.data`,ie))})};const L={keyword:new f.Name("keyword"),schemaPath:new f.Name("schemaPath"),params:new f.Name("params"),propertyName:new f.Name("propertyName"),message:new f.Name("message"),schema:new f.Name("schema"),parentSchema:new f.Name("parentSchema")};function D(te,J,Z){const{createErrors:ie}=te.it;return!1===ie?f._`{}`:function X(te,J,Z={}){const{gen:ie,it:ae}=te,se=[j(ae,Z),G(te,Z)];return function re(te,{params:J,message:Z},ie){const{keyword:ae,data:se,schemaValue:de,it:le}=te,{opts:we,propertyName:xe,topSchemaRef:Ce,schemaPath:C}=le;ie.push([L.keyword,ae],[L.params,"function"==typeof J?J(te):J||f._`{}`]),we.messages&&ie.push([L.message,"function"==typeof Z?Z(te):Z]),we.verbose&&ie.push([L.schema,de],[L.parentSchema,f._`${Ce}${C}`],[k.default.data,se]),xe&&ie.push([L.propertyName,xe])}(te,J,se),ie.object(...se)}(te,J,Z)}function j({errorPath:te},{instancePath:J}){const Z=J?f.str`${te}${(0,_.getErrorPath)(J,_.Type.Str)}`:te;return[k.default.instancePath,(0,f.strConcat)(k.default.instancePath,Z)]}function G({keyword:te,it:{errSchemaPath:J}},{schemaPath:Z,parentSchema:ie}){let ae=ie?J:f.str`${J}/${te}`;return Z&&(ae=f.str`${ae}${(0,_.getErrorPath)(Z,_.Type.Str)}`),[L.schemaPath,ae]}},97692:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.resolveSchema=z.getCompilingSchema=z.resolveRef=z.compileSchema=z.SchemaEnv=void 0;const f=E(1038),_=E(42467),k=E(23432),H=E(77172),x=E(27006),P=E(40339);class M{constructor(Z){var ie;let ae;this.refs={},this.dynamicAnchors={},"object"==typeof Z.schema&&(ae=Z.schema),this.schema=Z.schema,this.schemaId=Z.schemaId,this.root=Z.root||this,this.baseId=null!==(ie=Z.baseId)&&void 0!==ie?ie:(0,H.normalizeId)(ae?.[Z.schemaId||"$id"]),this.schemaPath=Z.schemaPath,this.localRefs=Z.localRefs,this.meta=Z.meta,this.$async=ae?.$async,this.refs={}}}function O(J){const Z=D.call(this,J);if(Z)return Z;const ie=(0,H.getFullPath)(this.opts.uriResolver,J.root.baseId),{es5:ae,lines:se}=this.opts.code,{ownProperties:de}=this.opts,le=new f.CodeGen(this.scope,{es5:ae,lines:se,ownProperties:de});let we;J.$async&&(we=le.scopeValue("Error",{ref:_.default,code:f._`require("ajv/dist/runtime/validation_error").default`}));const xe=le.scopeName("validate");J.validateName=xe;const Ce={gen:le,allErrors:this.opts.allErrors,data:k.default.data,parentData:k.default.parentData,parentDataProperty:k.default.parentDataProperty,dataNames:[k.default.data],dataPathArr:[f.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:le.scopeValue("schema",!0===this.opts.code.source?{ref:J.schema,code:(0,f.stringify)(J.schema)}:{ref:J.schema}),validateName:xe,ValidationError:we,schema:J.schema,schemaEnv:J,rootId:ie,baseId:J.baseId||ie,schemaPath:f.nil,errSchemaPath:J.schemaPath||(this.opts.jtd?"":"#"),errorPath:f._`""`,opts:this.opts,self:this};let C;try{this._compilations.add(J),(0,P.validateFunctionCode)(Ce),le.optimize(this.opts.code.optimize);const a=le.toString();C=`${le.scopeRefs(k.default.scope)}return ${a}`,this.opts.code.process&&(C=this.opts.code.process(C,J));const y=new Function(`${k.default.self}`,`${k.default.scope}`,C)(this,this.scope.get());if(this.scope.value(xe,{ref:y}),y.errors=null,y.schema=J.schema,y.schemaEnv=J,J.$async&&(y.$async=!0),!0===this.opts.code.source&&(y.source={validateName:xe,validateCode:a,scopeValues:le._values}),this.opts.unevaluated){const{props:g,items:S}=Ce;y.evaluated={props:g instanceof f.Name?void 0:g,items:S instanceof f.Name?void 0:S,dynamicProps:g instanceof f.Name,dynamicItems:S instanceof f.Name},y.source&&(y.source.evaluated=(0,f.stringify)(y.evaluated))}return J.validate=y,J}catch(a){throw delete J.validate,delete J.validateName,C&&this.logger.error("Error compiling schema, function code:",C),a}finally{this._compilations.delete(J)}}function L(J){return(0,H.inlineRef)(J.schema,this.opts.inlineRefs)?J.schema:J.validate?J:O.call(this,J)}function D(J){for(const Z of this._compilations)if(X(Z,J))return Z}function X(J,Z){return J.schema===Z.schema&&J.root===Z.root&&J.baseId===Z.baseId}function j(J,Z){let ie;for(;"string"==typeof(ie=this.refs[Z]);)Z=ie;return ie||this.schemas[Z]||G.call(this,J,Z)}function G(J,Z){const ie=this.opts.uriResolver.parse(Z),ae=(0,H._getFullPath)(this.opts.uriResolver,ie);let se=(0,H.getFullPath)(this.opts.uriResolver,J.baseId,void 0);if(Object.keys(J.schema).length>0&&ae===se)return te.call(this,ie,J);const de=(0,H.normalizeId)(ae),le=this.refs[de]||this.schemas[de];if("string"==typeof le){const we=G.call(this,J,le);return"object"!=typeof we?.schema?void 0:te.call(this,ie,we)}if("object"==typeof le?.schema){if(le.validate||O.call(this,le),de===(0,H.normalizeId)(Z)){const{schema:we}=le,{schemaId:xe}=this.opts,Ce=we[xe];return Ce&&(se=(0,H.resolveUrl)(this.opts.uriResolver,se,Ce)),new M({schema:we,schemaId:xe,root:J,baseId:se})}return te.call(this,ie,le)}}z.SchemaEnv=M,z.compileSchema=O,z.resolveRef=function F(J,Z,ie){var ae;ie=(0,H.resolveUrl)(this.opts.uriResolver,Z,ie);const se=J.refs[ie];if(se)return se;let de=j.call(this,J,ie);if(void 0===de){const le=null===(ae=J.localRefs)||void 0===ae?void 0:ae[ie],{schemaId:we}=this.opts;le&&(de=new M({schema:le,schemaId:we,root:J,baseId:Z}))}return void 0!==de?J.refs[ie]=L.call(this,de):void 0},z.getCompilingSchema=D,z.resolveSchema=G;const re=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function te(J,{baseId:Z,schema:ie,root:ae}){var se;if("/"!==(null===(se=J.fragment)||void 0===se?void 0:se[0]))return;for(const we of J.fragment.slice(1).split("/")){if("boolean"==typeof ie)return;const xe=ie[(0,x.unescapeFragment)(we)];if(void 0===xe)return;const Ce="object"==typeof(ie=xe)&&ie[this.opts.schemaId];!re.has(we)&&Ce&&(Z=(0,H.resolveUrl)(this.opts.uriResolver,Z,Ce))}let de;if("boolean"!=typeof ie&&ie.$ref&&!(0,x.schemaHasRulesButRef)(ie,this.RULES)){const we=(0,H.resolveUrl)(this.opts.uriResolver,Z,ie.$ref);de=G.call(this,ae,we)}const{schemaId:le}=this.opts;return de=de||new M({schema:ie,schemaId:le,root:ae,baseId:Z}),de.schema!==de.root.schema?de:void 0}},23432:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_={data:new f.Name("data"),valCxt:new f.Name("valCxt"),instancePath:new f.Name("instancePath"),parentData:new f.Name("parentData"),parentDataProperty:new f.Name("parentDataProperty"),rootData:new f.Name("rootData"),dynamicAnchors:new f.Name("dynamicAnchors"),vErrors:new f.Name("vErrors"),errors:new f.Name("errors"),this:new f.Name("this"),self:new f.Name("self"),scope:new f.Name("scope"),json:new f.Name("json"),jsonPos:new f.Name("jsonPos"),jsonLen:new f.Name("jsonLen"),jsonPart:new f.Name("jsonPart")};z.default=_},26288:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(77172);class _ extends Error{constructor(H,x,P,M){super(M||`can't resolve reference ${P} from id ${x}`),this.missingRef=(0,f.resolveUrl)(H,x,P),this.missingSchema=(0,f.normalizeId)((0,f.getFullPath)(H,this.missingRef))}}z.default=_},77172:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getSchemaRefs=z.resolveUrl=z.normalizeId=z._getFullPath=z.getFullPath=z.inlineRef=void 0;const f=E(27006),_=E(40362),k=E(44331),H=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);z.inlineRef=function x(te,J=!0){return"boolean"==typeof te||(!0===J?!M(te):!!J&&O(te)<=J)};const P=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function M(te){for(const J in te){if(P.has(J))return!0;const Z=te[J];if(Array.isArray(Z)&&Z.some(M)||"object"==typeof Z&&M(Z))return!0}return!1}function O(te){let J=0;for(const Z in te){if("$ref"===Z)return 1/0;if(J++,!H.has(Z)&&("object"==typeof te[Z]&&(0,f.eachItem)(te[Z],ie=>J+=O(ie)),J===1/0))return 1/0}return J}function F(te,J="",Z){!1!==Z&&(J=X(J));const ie=te.parse(J);return L(te,ie)}function L(te,J){return te.serialize(J).split("#")[0]+"#"}z.getFullPath=F,z._getFullPath=L;const D=/#\/?$/;function X(te){return te?te.replace(D,""):""}z.normalizeId=X,z.resolveUrl=function j(te,J,Z){return Z=X(Z),te.resolve(J,Z)};const G=/^[a-z_][-a-z0-9._]*$/i;z.getSchemaRefs=function re(te,J){if("boolean"==typeof te)return{};const{schemaId:Z,uriResolver:ie}=this.opts,ae=X(te[Z]||J),se={"":ae},de=F(ie,ae,!1),le={},we=new Set;return k(te,{allKeys:!0},(C,a,u,y)=>{if(void 0===y)return;const g=de+a;let S=se[y];function T(A){if(A=X(S?(0,this.opts.uriResolver.resolve)(S,A):A),we.has(A))throw Ce(A);we.add(A);let v=this.refs[A];return"string"==typeof v&&(v=this.refs[v]),"object"==typeof v?xe(C,v.schema,A):A!==X(g)&&("#"===A[0]?(xe(C,le[A],A),le[A]=C):this.refs[A]=g),A}function N(A){if("string"==typeof A){if(!G.test(A))throw new Error(`invalid anchor "${A}"`);T.call(this,`#${A}`)}}"string"==typeof C[Z]&&(S=T.call(this,C[Z])),N.call(this,C.$anchor),N.call(this,C.$dynamicAnchor),se[a]=S}),le;function xe(C,a,u){if(void 0!==a&&!_(C,a))throw Ce(u)}function Ce(C){return new Error(`reference "${C}" resolves to more than one schema`)}}},32203:(je,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getRules=z.isJSONType=void 0;const f=new Set(["string","number","integer","boolean","null","object","array"]);z.isJSONType=function _(H){return"string"==typeof H&&f.has(H)},z.getRules=function k(){const H={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...H,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},H.number,H.string,H.array,H.object],post:{rules:[]},all:{},keywords:{}}}},27006:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.checkStrictMode=z.getErrorPath=z.Type=z.useFunc=z.setEvaluated=z.evaluatedPropsToName=z.mergeEvaluated=z.eachItem=z.unescapeJsonPointer=z.escapeJsonPointer=z.escapeFragment=z.unescapeFragment=z.schemaRefOrVal=z.schemaHasRulesButRef=z.schemaHasRules=z.checkUnknownRules=z.alwaysValidSchema=z.toHash=void 0;const f=E(1038),_=E(33337);function x(de,le=de.schema){const{opts:we,self:xe}=de;if(!we.strictSchema||"boolean"==typeof le)return;const Ce=xe.RULES.keywords;for(const C in le)Ce[C]||se(de,`unknown keyword: "${C}"`)}function P(de,le){if("boolean"==typeof de)return!de;for(const we in de)if(le[we])return!0;return!1}function D(de){return"number"==typeof de?`${de}`:de.replace(/~/g,"~0").replace(/\//g,"~1")}function X(de){return de.replace(/~1/g,"/").replace(/~0/g,"~")}function G({mergeNames:de,mergeToName:le,mergeValues:we,resultToName:xe}){return(Ce,C,a,u)=>{const y=void 0===a?C:a instanceof f.Name?(C instanceof f.Name?de(Ce,C,a):le(Ce,C,a),a):C instanceof f.Name?(le(Ce,a,C),C):we(C,a);return u!==f.Name||y instanceof f.Name?y:xe(Ce,y)}}function re(de,le){if(!0===le)return de.var("props",!0);const we=de.var("props",f._`{}`);return void 0!==le&&te(de,we,le),we}function te(de,le,we){Object.keys(we).forEach(xe=>de.assign(f._`${le}${(0,f.getProperty)(xe)}`,!0))}z.toHash=function k(de){const le={};for(const we of de)le[we]=!0;return le},z.alwaysValidSchema=function H(de,le){return"boolean"==typeof le?le:0===Object.keys(le).length||(x(de,le),!P(le,de.self.RULES.all))},z.checkUnknownRules=x,z.schemaHasRules=P,z.schemaHasRulesButRef=function M(de,le){if("boolean"==typeof de)return!de;for(const we in de)if("$ref"!==we&&le.all[we])return!0;return!1},z.schemaRefOrVal=function O({topSchemaRef:de,schemaPath:le},we,xe,Ce){if(!Ce){if("number"==typeof we||"boolean"==typeof we)return we;if("string"==typeof we)return f._`${we}`}return f._`${de}${le}${(0,f.getProperty)(xe)}`},z.unescapeFragment=function F(de){return X(decodeURIComponent(de))},z.escapeFragment=function L(de){return encodeURIComponent(D(de))},z.escapeJsonPointer=D,z.unescapeJsonPointer=X,z.eachItem=function j(de,le){if(Array.isArray(de))for(const we of de)le(we);else le(de)},z.mergeEvaluated={props:G({mergeNames:(de,le,we)=>de.if(f._`${we} !== true && ${le} !== undefined`,()=>{de.if(f._`${le} === true`,()=>de.assign(we,!0),()=>de.assign(we,f._`${we} || {}`).code(f._`Object.assign(${we}, ${le})`))}),mergeToName:(de,le,we)=>de.if(f._`${we} !== true`,()=>{!0===le?de.assign(we,!0):(de.assign(we,f._`${we} || {}`),te(de,we,le))}),mergeValues:(de,le)=>!0===de||{...de,...le},resultToName:re}),items:G({mergeNames:(de,le,we)=>de.if(f._`${we} !== true && ${le} !== undefined`,()=>de.assign(we,f._`${le} === true ? true : ${we} > ${le} ? ${we} : ${le}`)),mergeToName:(de,le,we)=>de.if(f._`${we} !== true`,()=>de.assign(we,!0===le||f._`${we} > ${le} ? ${we} : ${le}`)),mergeValues:(de,le)=>!0===de||Math.max(de,le),resultToName:(de,le)=>de.var("items",le)})},z.evaluatedPropsToName=re,z.setEvaluated=te;const J={};var ie,de;function se(de,le,we=de.opts.strictSchema){if(we){if(le=`strict mode: ${le}`,!0===we)throw new Error(le);de.self.logger.warn(le)}}z.useFunc=function Z(de,le){return de.scopeValue("func",{ref:le,code:J[le.code]||(J[le.code]=new _._Code(le.code))})},(de=ie=z.Type||(z.Type={}))[de.Num=0]="Num",de[de.Str=1]="Str",z.getErrorPath=function ae(de,le,we){if(de instanceof f.Name){const xe=le===ie.Num;return we?xe?f._`"[" + ${de} + "]"`:f._`"['" + ${de} + "']"`:xe?f._`"/" + ${de}`:f._`"/" + ${de}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return we?(0,f.getProperty)(de).toString():"/"+D(de)},z.checkStrictMode=se},22650:(je,z)=>{"use strict";function f(k,H){return H.rules.some(x=>_(k,x))}function _(k,H){var x;return void 0!==k[H.keyword]||(null===(x=H.definition.implements)||void 0===x?void 0:x.some(P=>void 0!==k[P]))}Object.defineProperty(z,"__esModule",{value:!0}),z.shouldUseRule=z.shouldUseGroup=z.schemaHasRulesForType=void 0,z.schemaHasRulesForType=function E({schema:k,self:H},x){const P=H.RULES.types[x];return P&&!0!==P&&f(k,P)},z.shouldUseGroup=f,z.shouldUseRule=_},37864:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.boolOrEmptySchema=z.topBoolOrEmptySchema=void 0;const f=E(53421),_=E(1038),k=E(23432),H={message:"boolean schema is false"};function M(O,F){const{gen:L,data:D}=O;(0,f.reportError)({gen:L,keyword:"false schema",data:D,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:O},H,void 0,F)}z.topBoolOrEmptySchema=function x(O){const{gen:F,schema:L,validateName:D}=O;!1===L?M(O,!1):"object"==typeof L&&!0===L.$async?F.return(k.default.data):(F.assign(_._`${D}.errors`,null),F.return(!0))},z.boolOrEmptySchema=function P(O,F){const{gen:L,schema:D}=O;!1===D?(L.var(F,!1),M(O)):L.var(F,!0)}},55999:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.reportTypeError=z.checkDataTypes=z.checkDataType=z.coerceAndCheckDataType=z.getJSONTypes=z.getSchemaTypes=z.DataType=void 0;const f=E(32203),_=E(22650),k=E(53421),H=E(1038),x=E(27006);var P,ie;function O(ie){const ae=Array.isArray(ie)?ie:ie?[ie]:[];if(ae.every(f.isJSONType))return ae;throw new Error("type must be JSONType or JSONType[]: "+ae.join(","))}(ie=P=z.DataType||(z.DataType={}))[ie.Correct=0]="Correct",ie[ie.Wrong=1]="Wrong",z.getSchemaTypes=function M(ie){const ae=O(ie.type);if(ae.includes("null")){if(!1===ie.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!ae.length&&void 0!==ie.nullable)throw new Error('"nullable" cannot be used without "type"');!0===ie.nullable&&ae.push("null")}return ae},z.getJSONTypes=O,z.coerceAndCheckDataType=function F(ie,ae){const{gen:se,data:de,opts:le}=ie,we=function D(ie,ae){return ae?ie.filter(se=>L.has(se)||"array"===ae&&"array"===se):[]}(ae,le.coerceTypes),xe=ae.length>0&&!(0===we.length&&1===ae.length&&(0,_.schemaHasRulesForType)(ie,ae[0]));if(xe){const Ce=re(ae,de,le.strictNumbers,P.Wrong);se.if(Ce,()=>{we.length?function X(ie,ae,se){const{gen:de,data:le,opts:we}=ie,xe=de.let("dataType",H._`typeof ${le}`),Ce=de.let("coerced",H._`undefined`);"array"===we.coerceTypes&&de.if(H._`${xe} == 'object' && Array.isArray(${le}) && ${le}.length == 1`,()=>de.assign(le,H._`${le}[0]`).assign(xe,H._`typeof ${le}`).if(re(ae,le,we.strictNumbers),()=>de.assign(Ce,le))),de.if(H._`${Ce} !== undefined`);for(const a of se)(L.has(a)||"array"===a&&"array"===we.coerceTypes)&&C(a);function C(a){switch(a){case"string":return void de.elseIf(H._`${xe} == "number" || ${xe} == "boolean"`).assign(Ce,H._`"" + ${le}`).elseIf(H._`${le} === null`).assign(Ce,H._`""`);case"number":return void de.elseIf(H._`${xe} == "boolean" || ${le} === null
              || (${xe} == "string" && ${le} && ${le} == +${le})`).assign(Ce,H._`+${le}`);case"integer":return void de.elseIf(H._`${xe} === "boolean" || ${le} === null
              || (${xe} === "string" && ${le} && ${le} == +${le} && !(${le} % 1))`).assign(Ce,H._`+${le}`);case"boolean":return void de.elseIf(H._`${le} === "false" || ${le} === 0 || ${le} === null`).assign(Ce,!1).elseIf(H._`${le} === "true" || ${le} === 1`).assign(Ce,!0);case"null":return de.elseIf(H._`${le} === "" || ${le} === 0 || ${le} === false`),void de.assign(Ce,null);case"array":de.elseIf(H._`${xe} === "string" || ${xe} === "number"
              || ${xe} === "boolean" || ${le} === null`).assign(Ce,H._`[${le}]`)}}de.else(),J(ie),de.endIf(),de.if(H._`${Ce} !== undefined`,()=>{de.assign(le,Ce),function j({gen:ie,parentData:ae,parentDataProperty:se},de){ie.if(H._`${ae} !== undefined`,()=>ie.assign(H._`${ae}[${se}]`,de))}(ie,Ce)})}(ie,ae,we):J(ie)})}return xe};const L=new Set(["string","number","integer","boolean","null"]);function G(ie,ae,se,de=P.Correct){const le=de===P.Correct?H.operators.EQ:H.operators.NEQ;let we;switch(ie){case"null":return H._`${ae} ${le} null`;case"array":we=H._`Array.isArray(${ae})`;break;case"object":we=H._`${ae} && typeof ${ae} == "object" && !Array.isArray(${ae})`;break;case"integer":we=xe(H._`!(${ae} % 1) && !isNaN(${ae})`);break;case"number":we=xe();break;default:return H._`typeof ${ae} ${le} ${ie}`}return de===P.Correct?we:(0,H.not)(we);function xe(Ce=H.nil){return(0,H.and)(H._`typeof ${ae} == "number"`,Ce,se?H._`isFinite(${ae})`:H.nil)}}function re(ie,ae,se,de){if(1===ie.length)return G(ie[0],ae,se,de);let le;const we=(0,x.toHash)(ie);if(we.array&&we.object){const xe=H._`typeof ${ae} != "object"`;le=we.null?xe:H._`!${ae} || ${xe}`,delete we.null,delete we.array,delete we.object}else le=H.nil;we.number&&delete we.integer;for(const xe in we)le=(0,H.and)(le,G(xe,ae,se,de));return le}z.checkDataType=G,z.checkDataTypes=re;const te={message:({schema:ie})=>`must be ${ie}`,params:({schema:ie,schemaValue:ae})=>"string"==typeof ie?H._`{type: ${ie}}`:H._`{type: ${ae}}`};function J(ie){const ae=function Z(ie){const{gen:ae,data:se,schema:de}=ie,le=(0,x.schemaRefOrVal)(ie,de,"type");return{gen:ae,keyword:"type",data:se,schema:de.type,schemaCode:le,schemaValue:le,parentSchema:de,params:{},it:ie}}(ie);(0,k.reportError)(ae,te)}z.reportTypeError=J},48733:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.assignDefaults=void 0;const f=E(1038),_=E(27006);function H(x,P,M){const{gen:O,compositeRule:F,data:L,opts:D}=x;if(void 0===M)return;const X=f._`${L}${(0,f.getProperty)(P)}`;if(F)return void(0,_.checkStrictMode)(x,`default is ignored for: ${X}`);let j=f._`${X} === undefined`;"empty"===D.useDefaults&&(j=f._`${j} || ${X} === null || ${X} === ""`),O.if(j,f._`${X} = ${(0,f.stringify)(M)}`)}z.assignDefaults=function k(x,P){const{properties:M,items:O}=x.schema;if("object"===P&&M)for(const F in M)H(x,F,M[F].default);else"array"===P&&Array.isArray(O)&&O.forEach((F,L)=>H(x,L,F.default))}},40339:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getData=z.KeywordCxt=z.validateFunctionCode=void 0;const f=E(37864),_=E(55999),k=E(22650),H=E(55999),x=E(48733),P=E(76800),M=E(16334),O=E(1038),F=E(23432),L=E(77172),D=E(27006),X=E(53421);function G({gen:ye,validateName:De,schema:pe,schemaEnv:ue,opts:Q},oe){Q.code.es5?ye.func(De,O._`${F.default.data}, ${F.default.valCxt}`,ue.$async,()=>{ye.code(O._`"use strict"; ${ie(pe,Q)}`),function te(ye,De){ye.if(F.default.valCxt,()=>{ye.var(F.default.instancePath,O._`${F.default.valCxt}.${F.default.instancePath}`),ye.var(F.default.parentData,O._`${F.default.valCxt}.${F.default.parentData}`),ye.var(F.default.parentDataProperty,O._`${F.default.valCxt}.${F.default.parentDataProperty}`),ye.var(F.default.rootData,O._`${F.default.valCxt}.${F.default.rootData}`),De.dynamicRef&&ye.var(F.default.dynamicAnchors,O._`${F.default.valCxt}.${F.default.dynamicAnchors}`)},()=>{ye.var(F.default.instancePath,O._`""`),ye.var(F.default.parentData,O._`undefined`),ye.var(F.default.parentDataProperty,O._`undefined`),ye.var(F.default.rootData,F.default.data),De.dynamicRef&&ye.var(F.default.dynamicAnchors,O._`{}`)})}(ye,Q),ye.code(oe)}):ye.func(De,O._`${F.default.data}, ${function re(ye){return O._`{${F.default.instancePath}="", ${F.default.parentData}, ${F.default.parentDataProperty}, ${F.default.rootData}=${F.default.data}${ye.dynamicRef?O._`, ${F.default.dynamicAnchors}={}`:O.nil}}={}`}(Q)}`,ue.$async,()=>ye.code(ie(pe,Q)).code(oe))}function ie(ye,De){const pe="object"==typeof ye&&ye[De.schemaId];return pe&&(De.code.source||De.code.process)?O._`/*# sourceURL=${pe} */`:O.nil}function se({schema:ye,self:De}){if("boolean"==typeof ye)return!ye;for(const pe in ye)if(De.RULES.all[pe])return!0;return!1}function de(ye){return"boolean"!=typeof ye.schema}function we(ye){(0,D.checkUnknownRules)(ye),function Ce(ye){const{schema:De,errSchemaPath:pe,opts:ue,self:Q}=ye;De.$ref&&ue.ignoreKeywordsWithRef&&(0,D.schemaHasRulesButRef)(De,Q.RULES)&&Q.logger.warn(`$ref: keywords ignored in schema at path "${pe}"`)}(ye)}function xe(ye,De){if(ye.opts.jtd)return T(ye,[],!1,De);const pe=(0,_.getSchemaTypes)(ye.schema);T(ye,pe,!(0,_.coerceAndCheckDataType)(ye,pe),De)}function y({gen:ye,schemaEnv:De,schema:pe,errSchemaPath:ue,opts:Q}){const oe=pe.$comment;if(!0===Q.$comment)ye.code(O._`${F.default.self}.logger.log(${oe})`);else if("function"==typeof Q.$comment){const fe=O.str`${ue}/$comment`,Ee=ye.scopeValue("root",{ref:De.root});ye.code(O._`${F.default.self}.opts.$comment(${oe}, ${fe}, ${Ee}.schema)`)}}function T(ye,De,pe,ue){const{gen:Q,schema:oe,data:fe,allErrors:Ee,opts:Re,self:$e}=ye,{RULES:Fe}=$e;function Et(We){(0,k.shouldUseGroup)(oe,We)&&(We.type?(Q.if((0,H.checkDataType)(We.type,fe,Re.strictNumbers)),N(ye,We),1===De.length&&De[0]===We.type&&pe&&(Q.else(),(0,H.reportTypeError)(ye)),Q.endIf()):N(ye,We),Ee||Q.if(O._`${F.default.errors} === ${ue||0}`))}!oe.$ref||!Re.ignoreKeywordsWithRef&&(0,D.schemaHasRulesButRef)(oe,Fe)?(Re.jtd||function A(ye,De){ye.schemaEnv.meta||!ye.opts.strictTypes||(function s(ye,De){if(De.length){if(!ye.dataTypes.length)return void(ye.dataTypes=De);De.forEach(pe=>{ee(ye.dataTypes,pe)||_e(ye,`type "${pe}" not allowed by context "${ye.dataTypes.join(",")}"`)}),function ce(ye,De){const pe=[];for(const ue of ye.dataTypes)ee(De,ue)?pe.push(ue):De.includes("integer")&&"number"===ue&&pe.push("integer");ye.dataTypes=pe}(ye,De)}}(ye,De),ye.opts.allowUnionTypes||function v(ye,De){De.length>1&&(2!==De.length||!De.includes("null"))&&_e(ye,"use allowUnionTypes to allow union type keyword")}(ye,De),function W(ye,De){const pe=ye.self.RULES.all;for(const ue in pe){const Q=pe[ue];if("object"==typeof Q&&(0,k.shouldUseRule)(ye.schema,Q)){const{type:oe}=Q.definition;oe.length&&!oe.some(fe=>K(De,fe))&&_e(ye,`missing type "${oe.join(",")}" for keyword "${ue}"`)}}}(ye,ye.dataTypes))}(ye,De),Q.block(()=>{for(const We of Fe.rules)Et(We);Et(Fe.post)})):Q.block(()=>Ve(ye,"$ref",Fe.all.$ref.definition))}function N(ye,De){const{gen:pe,schema:ue,opts:{useDefaults:Q}}=ye;Q&&(0,x.assignDefaults)(ye,De.type),pe.block(()=>{for(const oe of De.rules)(0,k.shouldUseRule)(ue,oe)&&Ve(ye,oe.keyword,oe.definition,De.type)})}function K(ye,De){return ye.includes(De)||"number"===De&&ye.includes("integer")}function ee(ye,De){return ye.includes(De)||"integer"===De&&ye.includes("number")}function _e(ye,De){(0,D.checkStrictMode)(ye,De+=` at "${ye.schemaEnv.baseId+ye.errSchemaPath}" (strictTypes)`,ye.opts.strictTypes)}z.validateFunctionCode=function j(ye){de(ye)&&(we(ye),se(ye))?function J(ye){const{schema:De,opts:pe,gen:ue}=ye;G(ye,()=>{pe.$comment&&De.$comment&&y(ye),function C(ye){const{schema:De,opts:pe}=ye;void 0!==De.default&&pe.useDefaults&&pe.strictSchema&&(0,D.checkStrictMode)(ye,"default is ignored in the schema root")}(ye),ue.let(F.default.vErrors,null),ue.let(F.default.errors,0),pe.unevaluated&&function Z(ye){const{gen:De,validateName:pe}=ye;ye.evaluated=De.const("evaluated",O._`${pe}.evaluated`),De.if(O._`${ye.evaluated}.dynamicProps`,()=>De.assign(O._`${ye.evaluated}.props`,O._`undefined`)),De.if(O._`${ye.evaluated}.dynamicItems`,()=>De.assign(O._`${ye.evaluated}.items`,O._`undefined`))}(ye),xe(ye),function g(ye){const{gen:De,schemaEnv:pe,validateName:ue,ValidationError:Q,opts:oe}=ye;pe.$async?De.if(O._`${F.default.errors} === 0`,()=>De.return(F.default.data),()=>De.throw(O._`new ${Q}(${F.default.vErrors})`)):(De.assign(O._`${ue}.errors`,F.default.vErrors),oe.unevaluated&&function S({gen:ye,evaluated:De,props:pe,items:ue}){pe instanceof O.Name&&ye.assign(O._`${De}.props`,pe),ue instanceof O.Name&&ye.assign(O._`${De}.items`,ue)}(ye),De.return(O._`${F.default.errors} === 0`))}(ye)})}(ye):G(ye,()=>(0,f.topBoolOrEmptySchema)(ye))};class Oe{constructor(De,pe,ue){if((0,P.validateKeywordUsage)(De,pe,ue),this.gen=De.gen,this.allErrors=De.allErrors,this.keyword=ue,this.data=De.data,this.schema=De.schema[ue],this.$data=pe.$data&&De.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,D.schemaRefOrVal)(De,this.schema,ue,this.$data),this.schemaType=pe.schemaType,this.parentSchema=De.schema,this.params={},this.it=De,this.def=pe,this.$data)this.schemaCode=De.gen.const("vSchema",Ue(this.$data,De));else if(this.schemaCode=this.schemaValue,!(0,P.validSchemaType)(this.schema,pe.schemaType,pe.allowUndefined))throw new Error(`${ue} value must be ${JSON.stringify(pe.schemaType)}`);("code"in pe?pe.trackErrors:!1!==pe.errors)&&(this.errsCount=De.gen.const("_errs",F.default.errors))}result(De,pe,ue){this.failResult((0,O.not)(De),pe,ue)}failResult(De,pe,ue){this.gen.if(De),ue?ue():this.error(),pe?(this.gen.else(),pe(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(De,pe){this.failResult((0,O.not)(De),void 0,pe)}fail(De){if(void 0===De)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(De),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(De){if(!this.$data)return this.fail(De);const{schemaCode:pe}=this;this.fail(O._`${pe} !== undefined && (${(0,O.or)(this.invalid$data(),De)})`)}error(De,pe,ue){if(pe)return this.setParams(pe),this._error(De,ue),void this.setParams({});this._error(De,ue)}_error(De,pe){(De?X.reportExtraError:X.reportError)(this,this.def.error,pe)}$dataError(){(0,X.reportError)(this,this.def.$dataError||X.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,X.resetErrorsCount)(this.gen,this.errsCount)}ok(De){this.allErrors||this.gen.if(De)}setParams(De,pe){pe?Object.assign(this.params,De):this.params=De}block$data(De,pe,ue=O.nil){this.gen.block(()=>{this.check$data(De,ue),pe()})}check$data(De=O.nil,pe=O.nil){if(!this.$data)return;const{gen:ue,schemaCode:Q,schemaType:oe,def:fe}=this;ue.if((0,O.or)(O._`${Q} === undefined`,pe)),De!==O.nil&&ue.assign(De,!0),(oe.length||fe.validateSchema)&&(ue.elseIf(this.invalid$data()),this.$dataError(),De!==O.nil&&ue.assign(De,!1)),ue.else()}invalid$data(){const{gen:De,schemaCode:pe,schemaType:ue,def:Q,it:oe}=this;return(0,O.or)(function fe(){if(ue.length){if(!(pe instanceof O.Name))throw new Error("ajv implementation error");const Re=Array.isArray(ue)?ue:[ue];return O._`${(0,H.checkDataTypes)(Re,pe,oe.opts.strictNumbers,H.DataType.Wrong)}`}return O.nil}(),function Ee(){if(Q.validateSchema){const Re=De.scopeValue("validate$data",{ref:Q.validateSchema});return O._`!${Re}(${pe})`}return O.nil}())}subschema(De,pe){const ue=(0,M.getSubschema)(this.it,De);(0,M.extendSubschemaData)(ue,this.it,De),(0,M.extendSubschemaMode)(ue,De);const Q={...this.it,...ue,items:void 0,props:void 0};return function ae(ye,De){de(ye)&&(we(ye),se(ye))?function le(ye,De){const{schema:pe,gen:ue,opts:Q}=ye;Q.$comment&&pe.$comment&&y(ye),function a(ye){const De=ye.schema[ye.opts.schemaId];De&&(ye.baseId=(0,L.resolveUrl)(ye.opts.uriResolver,ye.baseId,De))}(ye),function u(ye){if(ye.schema.$async&&!ye.schemaEnv.$async)throw new Error("async schema in sync schema")}(ye);const oe=ue.const("_errs",F.default.errors);xe(ye,oe),ue.var(De,O._`${oe} === ${F.default.errors}`)}(ye,De):(0,f.boolOrEmptySchema)(ye,De)}(Q,pe),Q}mergeEvaluated(De,pe){const{it:ue,gen:Q}=this;ue.opts.unevaluated&&(!0!==ue.props&&void 0!==De.props&&(ue.props=D.mergeEvaluated.props(Q,De.props,ue.props,pe)),!0!==ue.items&&void 0!==De.items&&(ue.items=D.mergeEvaluated.items(Q,De.items,ue.items,pe)))}mergeValidEvaluated(De,pe){const{it:ue,gen:Q}=this;if(ue.opts.unevaluated&&(!0!==ue.props||!0!==ue.items))return Q.if(pe,()=>this.mergeEvaluated(De,O.Name)),!0}}function Ve(ye,De,pe,ue){const Q=new Oe(ye,pe,De);"code"in pe?pe.code(Q,ue):Q.$data&&pe.validate?(0,P.funcKeywordCode)(Q,pe):"macro"in pe?(0,P.macroKeywordCode)(Q,pe):(pe.compile||pe.validate)&&(0,P.funcKeywordCode)(Q,pe)}z.KeywordCxt=Oe;const Se=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ue(ye,{dataLevel:De,dataNames:pe,dataPathArr:ue}){let Q,oe;if(""===ye)return F.default.rootData;if("/"===ye[0]){if(!Se.test(ye))throw new Error(`Invalid JSON-pointer: ${ye}`);Q=ye,oe=F.default.rootData}else{const $e=be.exec(ye);if(!$e)throw new Error(`Invalid JSON-pointer: ${ye}`);const Fe=+$e[1];if(Q=$e[2],"#"===Q){if(Fe>=De)throw new Error(Re("property/index",Fe));return ue[De-Fe]}if(Fe>De)throw new Error(Re("data",Fe));if(oe=pe[De-Fe],!Q)return oe}let fe=oe;const Ee=Q.split("/");for(const $e of Ee)$e&&(oe=O._`${oe}${(0,O.getProperty)((0,D.unescapeJsonPointer)($e))}`,fe=O._`${fe} && ${oe}`);return fe;function Re($e,Fe){return`Cannot access ${$e} ${Fe} levels up, current level is ${De}`}}z.getData=Ue},76800:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateKeywordUsage=z.validSchemaType=z.funcKeywordCode=z.macroKeywordCode=void 0;const f=E(1038),_=E(23432),k=E(42406),H=E(53421);function M(j){const{gen:G,data:re,it:te}=j;G.if(te.parentData,()=>G.assign(re,f._`${te.parentData}[${te.parentDataProperty}]`))}function L(j,G,re){if(void 0===re)throw new Error(`keyword "${G}" failed to compile`);return j.scopeValue("keyword","function"==typeof re?{ref:re}:{ref:re,code:(0,f.stringify)(re)})}z.macroKeywordCode=function x(j,G){const{gen:re,keyword:te,schema:J,parentSchema:Z,it:ie}=j,ae=G.macro.call(ie.self,J,Z,ie),se=L(re,te,ae);!1!==ie.opts.validateSchema&&ie.self.validateSchema(ae,!0);const de=re.name("valid");j.subschema({schema:ae,schemaPath:f.nil,errSchemaPath:`${ie.errSchemaPath}/${te}`,topSchemaRef:se,compositeRule:!0},de),j.pass(de,()=>j.error(!0))},z.funcKeywordCode=function P(j,G){var re;const{gen:te,keyword:J,schema:Z,parentSchema:ie,$data:ae,it:se}=j;!function F({schemaEnv:j},G){if(G.async&&!j.$async)throw new Error("async keyword in sync schema")}(se,G);const de=!ae&&G.compile?G.compile.call(se.self,Z,ie,se):G.validate,le=L(te,J,de),we=te.let("valid");function a(y=(G.async?f._`await `:f.nil)){te.assign(we,f._`${y}${(0,k.callValidateCode)(j,le,se.opts.passContext?_.default.this:_.default.self,!("compile"in G&&!ae||!1===G.schema))}`,G.modifying)}function u(y){var g;te.if((0,f.not)(null!==(g=G.valid)&&void 0!==g?g:we),y)}j.block$data(we,function xe(){if(!1===G.errors)a(),G.modifying&&M(j),u(()=>j.error());else{const y=G.async?function Ce(){const y=te.let("ruleErrs",null);return te.try(()=>a(f._`await `),g=>te.assign(we,!1).if(f._`${g} instanceof ${se.ValidationError}`,()=>te.assign(y,f._`${g}.errors`),()=>te.throw(g))),y}():function C(){const y=f._`${le}.errors`;return te.assign(y,null),a(f.nil),y}();G.modifying&&M(j),u(()=>function O(j,G){const{gen:re}=j;re.if(f._`Array.isArray(${G})`,()=>{re.assign(_.default.vErrors,f._`${_.default.vErrors} === null ? ${G} : ${_.default.vErrors}.concat(${G})`).assign(_.default.errors,f._`${_.default.vErrors}.length`),(0,H.extendErrors)(j)},()=>j.error())}(j,y))}}),j.ok(null!==(re=G.valid)&&void 0!==re?re:we)},z.validSchemaType=function D(j,G,re=!1){return!G.length||G.some(te=>"array"===te?Array.isArray(j):"object"===te?j&&"object"==typeof j&&!Array.isArray(j):typeof j==te||re&&typeof j>"u")},z.validateKeywordUsage=function X({schema:j,opts:G,self:re,errSchemaPath:te},J,Z){if(Array.isArray(J.keyword)?!J.keyword.includes(Z):J.keyword!==Z)throw new Error("ajv implementation error");const ie=J.dependencies;if(ie?.some(ae=>!Object.prototype.hasOwnProperty.call(j,ae)))throw new Error(`parent schema must have dependencies of ${Z}: ${ie.join(",")}`);if(J.validateSchema&&!J.validateSchema(j[Z])){const se=`keyword "${Z}" value is invalid at path "${te}": `+re.errorsText(J.validateSchema.errors);if("log"!==G.validateSchema)throw new Error(se);re.logger.error(se)}}},16334:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.extendSubschemaMode=z.extendSubschemaData=z.getSubschema=void 0;const f=E(1038),_=E(27006);z.getSubschema=function k(P,{keyword:M,schemaProp:O,schema:F,schemaPath:L,errSchemaPath:D,topSchemaRef:X}){if(void 0!==M&&void 0!==F)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==M){const j=P.schema[M];return void 0===O?{schema:j,schemaPath:f._`${P.schemaPath}${(0,f.getProperty)(M)}`,errSchemaPath:`${P.errSchemaPath}/${M}`}:{schema:j[O],schemaPath:f._`${P.schemaPath}${(0,f.getProperty)(M)}${(0,f.getProperty)(O)}`,errSchemaPath:`${P.errSchemaPath}/${M}/${(0,_.escapeFragment)(O)}`}}if(void 0!==F){if(void 0===L||void 0===D||void 0===X)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:F,schemaPath:L,topSchemaRef:X,errSchemaPath:D}}throw new Error('either "keyword" or "schema" must be passed')},z.extendSubschemaData=function H(P,M,{dataProp:O,dataPropType:F,data:L,dataTypes:D,propertyName:X}){if(void 0!==L&&void 0!==O)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:j}=M;if(void 0!==O){const{errorPath:re,dataPathArr:te,opts:J}=M;G(j.let("data",f._`${M.data}${(0,f.getProperty)(O)}`,!0)),P.errorPath=f.str`${re}${(0,_.getErrorPath)(O,F,J.jsPropertySyntax)}`,P.parentDataProperty=f._`${O}`,P.dataPathArr=[...te,P.parentDataProperty]}function G(re){P.data=re,P.dataLevel=M.dataLevel+1,P.dataTypes=[],M.definedProperties=new Set,P.parentData=M.data,P.dataNames=[...M.dataNames,re]}void 0!==L&&(G(L instanceof f.Name?L:j.let("data",L,!0)),void 0!==X&&(P.propertyName=X)),D&&(P.dataTypes=D)},z.extendSubschemaMode=function x(P,{jtdDiscriminator:M,jtdMetadata:O,compositeRule:F,createErrors:L,allErrors:D}){void 0!==F&&(P.compositeRule=F),void 0!==L&&(P.createErrors=L),void 0!==D&&(P.allErrors=D),P.jtdDiscriminator=M,P.jtdMetadata=O}},35419:(je,z,E)=>{"use strict";var f=E(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.CodeGen=z.Name=z.nil=z.stringify=z.str=z._=z.KeywordCxt=void 0;var _=E(40339);Object.defineProperty(z,"KeywordCxt",{enumerable:!0,get:function(){return _.KeywordCxt}});var k=E(1038);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return k._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return k.str}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return k.stringify}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return k.nil}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return k.Name}}),Object.defineProperty(z,"CodeGen",{enumerable:!0,get:function(){return k.CodeGen}});const H=E(42467),x=E(26288),P=E(32203),M=E(97692),O=E(1038),F=E(77172),L=E(55999),D=E(27006),X=E(83813),j=E(13203),G=(v,W)=>new RegExp(v,W);G.code="new RegExp";const re=["removeAdditional","useDefaults","coerceTypes"],te=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),J={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Z={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function ae(v){var W,K,ee,ce,_e,Oe,Ve,Se,be,Ue,ye,De,pe,ue,Q,oe,fe,Ee,Re,$e,Fe,Et,We,Le,lt;const B=v.strict,w=null===(W=v.code)||void 0===W?void 0:W.optimize,m=!0===w||void 0===w?1:w||0,U=null!==(ee=null===(K=v.code)||void 0===K?void 0:K.regExp)&&void 0!==ee?ee:G,ne=null!==(ce=v.uriResolver)&&void 0!==ce?ce:j.default;return{strictSchema:null===(Oe=null!==(_e=v.strictSchema)&&void 0!==_e?_e:B)||void 0===Oe||Oe,strictNumbers:null===(Se=null!==(Ve=v.strictNumbers)&&void 0!==Ve?Ve:B)||void 0===Se||Se,strictTypes:null!==(Ue=null!==(be=v.strictTypes)&&void 0!==be?be:B)&&void 0!==Ue?Ue:"log",strictTuples:null!==(De=null!==(ye=v.strictTuples)&&void 0!==ye?ye:B)&&void 0!==De?De:"log",strictRequired:null!==(ue=null!==(pe=v.strictRequired)&&void 0!==pe?pe:B)&&void 0!==ue&&ue,code:v.code?{...v.code,optimize:m,regExp:U}:{optimize:m,regExp:U},loopRequired:null!==(Q=v.loopRequired)&&void 0!==Q?Q:200,loopEnum:null!==(oe=v.loopEnum)&&void 0!==oe?oe:200,meta:null===(fe=v.meta)||void 0===fe||fe,messages:null===(Ee=v.messages)||void 0===Ee||Ee,inlineRefs:null===(Re=v.inlineRefs)||void 0===Re||Re,schemaId:null!==($e=v.schemaId)&&void 0!==$e?$e:"$id",addUsedSchema:null===(Fe=v.addUsedSchema)||void 0===Fe||Fe,validateSchema:null===(Et=v.validateSchema)||void 0===Et||Et,validateFormats:null===(We=v.validateFormats)||void 0===We||We,unicodeRegExp:null===(Le=v.unicodeRegExp)||void 0===Le||Le,int32range:null===(lt=v.int32range)||void 0===lt||lt,uriResolver:ne}}class se{constructor(W={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,W=this.opts={...W,...ae(W)};const{es5:K,lines:ee}=this.opts.code;this.scope=new O.ValueScope({scope:{},prefixes:te,es5:K,lines:ee}),this.logger=function u(v){if(!1===v)return a;if(void 0===v)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}(W.logger);const ce=W.validateFormats;W.validateFormats=!1,this.RULES=(0,P.getRules)(),de.call(this,J,W,"NOT SUPPORTED"),de.call(this,Z,W,"DEPRECATED","warn"),this._metaOpts=C.call(this),W.formats&&xe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),W.keywords&&Ce.call(this,W.keywords),"object"==typeof W.meta&&this.addMetaSchema(W.meta),we.call(this),W.validateFormats=ce}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:W,meta:K,schemaId:ee}=this.opts;let ce=X;"id"===ee&&(ce={...X},ce.id=ce.$id,delete ce.$id),K&&W&&this.addMetaSchema(ce,ce[ee],!1)}defaultMeta(){const{meta:W,schemaId:K}=this.opts;return this.opts.defaultMeta="object"==typeof W?W[K]||W:void 0}validate(W,K){let ee;if("string"==typeof W){if(ee=this.getSchema(W),!ee)throw new Error(`no schema with key or ref "${W}"`)}else ee=this.compile(W);const ce=ee(K);return"$async"in ee||(this.errors=ee.errors),ce}compile(W,K){const ee=this._addSchema(W,K);return ee.validate||this._compileSchemaEnv(ee)}compileAsync(W,K){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:ee}=this.opts;return ce.call(this,W,K);function ce(Q,oe){return _e.apply(this,arguments)}function _e(){return(_e=f(function*(Q,oe){yield Oe.call(this,Q.$schema);const fe=this._addSchema(Q,oe);return fe.validate||Se.call(this,fe)})).apply(this,arguments)}function Oe(Q){return Ve.apply(this,arguments)}function Ve(){return(Ve=f(function*(Q){Q&&!this.getSchema(Q)&&(yield ce.call(this,{$ref:Q},!0))})).apply(this,arguments)}function Se(Q){return be.apply(this,arguments)}function be(){return(be=f(function*(Q){try{return this._compileSchemaEnv(Q)}catch(oe){if(!(oe instanceof x.default))throw oe;return Ue.call(this,oe),yield ye.call(this,oe.missingSchema),Se.call(this,Q)}})).apply(this,arguments)}function Ue({missingSchema:Q,missingRef:oe}){if(this.refs[Q])throw new Error(`AnySchema ${Q} is loaded but ${oe} cannot be resolved`)}function ye(Q){return De.apply(this,arguments)}function De(){return(De=f(function*(Q){const oe=yield pe.call(this,Q);this.refs[Q]||(yield Oe.call(this,oe.$schema)),this.refs[Q]||this.addSchema(oe,Q,K)})).apply(this,arguments)}function pe(Q){return ue.apply(this,arguments)}function ue(){return(ue=f(function*(Q){const oe=this._loading[Q];if(oe)return oe;try{return yield this._loading[Q]=ee(Q)}finally{delete this._loading[Q]}})).apply(this,arguments)}}addSchema(W,K,ee,ce=this.opts.validateSchema){if(Array.isArray(W)){for(const Oe of W)this.addSchema(Oe,void 0,ee,ce);return this}let _e;if("object"==typeof W){const{schemaId:Oe}=this.opts;if(_e=W[Oe],void 0!==_e&&"string"!=typeof _e)throw new Error(`schema ${Oe} must be string`)}return K=(0,F.normalizeId)(K||_e),this._checkUnique(K),this.schemas[K]=this._addSchema(W,ee,K,ce,!0),this}addMetaSchema(W,K,ee=this.opts.validateSchema){return this.addSchema(W,K,!0,ee),this}validateSchema(W,K){if("boolean"==typeof W)return!0;let ee;if(ee=W.$schema,void 0!==ee&&"string"!=typeof ee)throw new Error("$schema must be a string");if(ee=ee||this.opts.defaultMeta||this.defaultMeta(),!ee)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const ce=this.validate(ee,W);if(!ce&&K){const _e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(_e);this.logger.error(_e)}return ce}getSchema(W){let K;for(;"string"==typeof(K=le.call(this,W));)W=K;if(void 0===K){const{schemaId:ee}=this.opts,ce=new M.SchemaEnv({schema:{},schemaId:ee});if(K=M.resolveSchema.call(this,ce,W),!K)return;this.refs[W]=K}return K.validate||this._compileSchemaEnv(K)}removeSchema(W){if(W instanceof RegExp)return this._removeAllSchemas(this.schemas,W),this._removeAllSchemas(this.refs,W),this;switch(typeof W){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const K=le.call(this,W);return"object"==typeof K&&this._cache.delete(K.schema),delete this.schemas[W],delete this.refs[W],this}case"object":{this._cache.delete(W);let ee=W[this.opts.schemaId];return ee&&(ee=(0,F.normalizeId)(ee),delete this.schemas[ee],delete this.refs[ee]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(W){for(const K of W)this.addKeyword(K);return this}addKeyword(W,K){let ee;if("string"==typeof W)ee=W,"object"==typeof K&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),K.keyword=ee);else{if("object"!=typeof W||void 0!==K)throw new Error("invalid addKeywords parameters");if(ee=(K=W).keyword,Array.isArray(ee)&&!ee.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(g.call(this,ee,K),!K)return(0,D.eachItem)(ee,_e=>S.call(this,_e)),this;N.call(this,K);const ce={...K,type:(0,L.getJSONTypes)(K.type),schemaType:(0,L.getJSONTypes)(K.schemaType)};return(0,D.eachItem)(ee,0===ce.type.length?_e=>S.call(this,_e,ce):_e=>ce.type.forEach(Oe=>S.call(this,_e,ce,Oe))),this}getKeyword(W){const K=this.RULES.all[W];return"object"==typeof K?K.definition:!!K}removeKeyword(W){const{RULES:K}=this;delete K.keywords[W],delete K.all[W];for(const ee of K.rules){const ce=ee.rules.findIndex(_e=>_e.keyword===W);ce>=0&&ee.rules.splice(ce,1)}return this}addFormat(W,K){return"string"==typeof K&&(K=new RegExp(K)),this.formats[W]=K,this}errorsText(W=this.errors,{separator:K=", ",dataVar:ee="data"}={}){return W&&0!==W.length?W.map(ce=>`${ee}${ce.instancePath} ${ce.message}`).reduce((ce,_e)=>ce+K+_e):"No errors"}$dataMetaSchema(W,K){const ee=this.RULES.all;W=JSON.parse(JSON.stringify(W));for(const ce of K){const _e=ce.split("/").slice(1);let Oe=W;for(const Ve of _e)Oe=Oe[Ve];for(const Ve in ee){const Se=ee[Ve];if("object"!=typeof Se)continue;const{$data:be}=Se.definition,Ue=Oe[Ve];be&&Ue&&(Oe[Ve]=s(Ue))}}return W}_removeAllSchemas(W,K){for(const ee in W){const ce=W[ee];(!K||K.test(ee))&&("string"==typeof ce?delete W[ee]:ce&&!ce.meta&&(this._cache.delete(ce.schema),delete W[ee]))}}_addSchema(W,K,ee,ce=this.opts.validateSchema,_e=this.opts.addUsedSchema){let Oe;const{schemaId:Ve}=this.opts;if("object"==typeof W)Oe=W[Ve];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof W)throw new Error("schema must be object or boolean")}let Se=this._cache.get(W);if(void 0!==Se)return Se;ee=(0,F.normalizeId)(Oe||ee);const be=F.getSchemaRefs.call(this,W,ee);return Se=new M.SchemaEnv({schema:W,schemaId:Ve,meta:K,baseId:ee,localRefs:be}),this._cache.set(Se.schema,Se),_e&&!ee.startsWith("#")&&(ee&&this._checkUnique(ee),this.refs[ee]=Se),ce&&this.validateSchema(W,!0),Se}_checkUnique(W){if(this.schemas[W]||this.refs[W])throw new Error(`schema with key or id "${W}" already exists`)}_compileSchemaEnv(W){if(W.meta?this._compileMetaSchema(W):M.compileSchema.call(this,W),!W.validate)throw new Error("ajv implementation error");return W.validate}_compileMetaSchema(W){const K=this.opts;this.opts=this._metaOpts;try{M.compileSchema.call(this,W)}finally{this.opts=K}}}function de(v,W,K,ee="error"){for(const ce in v)ce in W&&this.logger[ee](`${K}: option ${ce}. ${v[ce]}`)}function le(v){return v=(0,F.normalizeId)(v),this.schemas[v]||this.refs[v]}function we(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const W in v)this.addSchema(v[W],W)}function xe(){for(const v in this.opts.formats){const W=this.opts.formats[v];W&&this.addFormat(v,W)}}function Ce(v){if(Array.isArray(v))this.addVocabulary(v);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const W in v){const K=v[W];K.keyword||(K.keyword=W),this.addKeyword(K)}}}function C(){const v={...this.opts};for(const W of re)delete v[W];return v}z.default=se,se.ValidationError=H.default,se.MissingRefError=x.default;const a={log(){},warn(){},error(){}},y=/^[a-z_$][a-z0-9_$:-]*$/i;function g(v,W){const{RULES:K}=this;if((0,D.eachItem)(v,ee=>{if(K.keywords[ee])throw new Error(`Keyword ${ee} is already defined`);if(!y.test(ee))throw new Error(`Keyword ${ee} has invalid name`)}),W&&W.$data&&!("code"in W)&&!("validate"in W))throw new Error('$data keyword must have "code" or "validate" function')}function S(v,W,K){var ee;const ce=W?.post;if(K&&ce)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:_e}=this;let Oe=ce?_e.post:_e.rules.find(({type:Se})=>Se===K);if(Oe||(Oe={type:K,rules:[]},_e.rules.push(Oe)),_e.keywords[v]=!0,!W)return;const Ve={keyword:v,definition:{...W,type:(0,L.getJSONTypes)(W.type),schemaType:(0,L.getJSONTypes)(W.schemaType)}};W.before?T.call(this,Oe,Ve,W.before):Oe.rules.push(Ve),_e.all[v]=Ve,null===(ee=W.implements)||void 0===ee||ee.forEach(Se=>this.addKeyword(Se))}function T(v,W,K){const ee=v.rules.findIndex(ce=>ce.keyword===K);ee>=0?v.rules.splice(ee,0,W):(v.rules.push(W),this.logger.warn(`rule ${K} is not defined`))}function N(v){let{metaSchema:W}=v;void 0!==W&&(v.$data&&this.opts.$data&&(W=s(W)),v.validateSchema=this.compile(W,!0))}const A={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function s(v){return{anyOf:[v,A]}}},87577:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(6438),_=E(59608),k=E(8307),H=E(11082),x=E(93406),P=E(14516),M=E(3059),O=E(18738),F=["/properties"];z.default=function L(D){return[f,_,k,H,x,X(this,P),M,X(this,O)].forEach(j=>this.addMetaSchema(j,void 0,!1)),this;function X(j,G){return D?j.$dataMetaSchema(G,F):G}}},92281:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(40362);f.code='require("ajv/dist/runtime/equal").default',z.default=f},26488:(je,z)=>{"use strict";function E(f){const _=f.length;let x,k=0,H=0;for(;H<_;)k++,x=f.charCodeAt(H++),x>=55296&&x<=56319&&H<_&&(x=f.charCodeAt(H),56320==(64512&x)&&H++);return k}Object.defineProperty(z,"__esModule",{value:!0}),z.default=E,E.code='require("ajv/dist/runtime/ucs2length").default'},13203:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(95568);f.code='require("ajv/dist/runtime/uri").default',z.default=f},42467:(je,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});class E extends Error{constructor(_){super("validation failed"),this.errors=_,this.ajv=this.validation=!0}}z.default=E},46934:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateAdditionalItems=void 0;const f=E(1038),_=E(27006),H={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:P}})=>f.str`must NOT have more than ${P} items`,params:({params:{len:P}})=>f._`{limit: ${P}}`},code(P){const{parentSchema:M,it:O}=P,{items:F}=M;Array.isArray(F)?x(P,F):(0,_.checkStrictMode)(O,'"additionalItems" is ignored when "items" is not an array of schemas')}};function x(P,M){const{gen:O,schema:F,data:L,keyword:D,it:X}=P;X.items=!0;const j=O.const("len",f._`${L}.length`);if(!1===F)P.setParams({len:M.length}),P.pass(f._`${j} <= ${M.length}`);else if("object"==typeof F&&!(0,_.alwaysValidSchema)(X,F)){const re=O.var("valid",f._`${j} <= ${M.length}`);O.if((0,f.not)(re),()=>function G(re){O.forRange("i",M.length,j,te=>{P.subschema({keyword:D,dataProp:te,dataPropType:_.Type.Num},re),X.allErrors||O.if((0,f.not)(re),()=>O.break())})}(re)),P.ok(re)}}z.validateAdditionalItems=x,z.default=H},18445:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(42406),_=E(1038),k=E(23432),H=E(27006);z.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:M})=>_._`{additionalProperty: ${M.additionalProperty}}`},code(M){const{gen:O,schema:F,parentSchema:L,data:D,errsCount:X,it:j}=M;if(!X)throw new Error("ajv implementation error");const{allErrors:G,opts:re}=j;if(j.props=!0,"all"!==re.removeAdditional&&(0,H.alwaysValidSchema)(j,F))return;const te=(0,f.allSchemaProperties)(L.properties),J=(0,f.allSchemaProperties)(L.patternProperties);function ae(le){O.code(_._`delete ${D}[${le}]`)}function se(le){if("all"===re.removeAdditional||re.removeAdditional&&!1===F)ae(le);else{if(!1===F)return M.setParams({additionalProperty:le}),M.error(),void(G||O.break());if("object"==typeof F&&!(0,H.alwaysValidSchema)(j,F)){const we=O.name("valid");"failing"===re.removeAdditional?(de(le,we,!1),O.if((0,_.not)(we),()=>{M.reset(),ae(le)})):(de(le,we),G||O.if((0,_.not)(we),()=>O.break()))}}}function de(le,we,xe){const Ce={keyword:"additionalProperties",dataProp:le,dataPropType:H.Type.Str};!1===xe&&Object.assign(Ce,{compositeRule:!0,createErrors:!1,allErrors:!1}),M.subschema(Ce,we)}(function Z(){O.forIn("key",D,le=>{te.length||J.length?O.if(function ie(le){let we;if(te.length>8){const xe=(0,H.schemaRefOrVal)(j,L.properties,"properties");we=(0,f.isOwnProperty)(O,xe,le)}else we=te.length?(0,_.or)(...te.map(xe=>_._`${le} === ${xe}`)):_.nil;return J.length&&(we=(0,_.or)(we,...J.map(xe=>_._`${(0,f.usePattern)(M,xe)}.test(${le})`))),(0,_.not)(we)}(le),()=>se(le)):se(le)})})(),M.ok(_._`${X} === ${k.default.errors}`)}}},77783:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(27006);z.default={keyword:"allOf",schemaType:"array",code(k){const{gen:H,schema:x,it:P}=k;if(!Array.isArray(x))throw new Error("ajv implementation error");const M=H.name("valid");x.forEach((O,F)=>{if((0,f.alwaysValidSchema)(P,O))return;const L=k.subschema({keyword:"allOf",schemaProp:F},M);k.ok(M),k.mergeEvaluated(L)})}}},60922:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const _={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:E(42406).validateUnion,error:{message:"must match a schema in anyOf"}};z.default=_},57568:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(27006);z.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:x,max:P}})=>void 0===P?f.str`must contain at least ${x} valid item(s)`:f.str`must contain at least ${x} and no more than ${P} valid item(s)`,params:({params:{min:x,max:P}})=>void 0===P?f._`{minContains: ${x}}`:f._`{minContains: ${x}, maxContains: ${P}}`},code(x){const{gen:P,schema:M,parentSchema:O,data:F,it:L}=x;let D,X;const{minContains:j,maxContains:G}=O;L.opts.next?(D=void 0===j?1:j,X=G):D=1;const re=P.const("len",f._`${F}.length`);if(x.setParams({min:D,max:X}),void 0===X&&0===D)return void(0,_.checkStrictMode)(L,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==X&&D>X)return(0,_.checkStrictMode)(L,'"minContains" > "maxContains" is always invalid'),void x.fail();if((0,_.alwaysValidSchema)(L,M)){let ae=f._`${re} >= ${D}`;return void 0!==X&&(ae=f._`${ae} && ${re} <= ${X}`),void x.pass(ae)}L.items=!0;const te=P.name("valid");function J(){const ae=P.name("_valid"),se=P.let("count",0);Z(ae,()=>P.if(ae,()=>function ie(ae){P.code(f._`${ae}++`),void 0===X?P.if(f._`${ae} >= ${D}`,()=>P.assign(te,!0).break()):(P.if(f._`${ae} > ${X}`,()=>P.assign(te,!1).break()),1===D?P.assign(te,!0):P.if(f._`${ae} >= ${D}`,()=>P.assign(te,!0)))}(se)))}function Z(ae,se){P.forRange("i",0,re,de=>{x.subschema({keyword:"contains",dataProp:de,dataPropType:_.Type.Num,compositeRule:!0},ae),se()})}void 0===X&&1===D?Z(te,()=>P.if(te,()=>P.break())):0===D?(P.let(te,!0),void 0!==X&&P.if(f._`${F}.length > 0`,J)):(P.let(te,!1),J()),x.result(te,()=>x.reset())}}},68032:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateSchemaDeps=z.validatePropertyDeps=z.error=void 0;const f=E(1038),_=E(27006),k=E(42406);z.error={message:({params:{property:O,depsCount:F,deps:L}})=>f.str`must have ${1===F?"property":"properties"} ${L} when property ${O} is present`,params:({params:{property:O,depsCount:F,deps:L,missingProperty:D}})=>f._`{property: ${O},
    missingProperty: ${D},
    depsCount: ${F},
    deps: ${L}}`};const H={keyword:"dependencies",type:"object",schemaType:"object",error:z.error,code(O){const[F,L]=function x({schema:O}){const F={},L={};for(const D in O)"__proto__"!==D&&((Array.isArray(O[D])?F:L)[D]=O[D]);return[F,L]}(O);P(O,F),M(O,L)}};function P(O,F=O.schema){const{gen:L,data:D,it:X}=O;if(0===Object.keys(F).length)return;const j=L.let("missing");for(const G in F){const re=F[G];if(0===re.length)continue;const te=(0,k.propertyInData)(L,D,G,X.opts.ownProperties);O.setParams({property:G,depsCount:re.length,deps:re.join(", ")}),X.allErrors?L.if(te,()=>{for(const J of re)(0,k.checkReportMissingProp)(O,J)}):(L.if(f._`${te} && (${(0,k.checkMissingProp)(O,re,j)})`),(0,k.reportMissingProp)(O,j),L.else())}}function M(O,F=O.schema){const{gen:L,data:D,keyword:X,it:j}=O,G=L.name("valid");for(const re in F)(0,_.alwaysValidSchema)(j,F[re])||(L.if((0,k.propertyInData)(L,D,re,j.opts.ownProperties),()=>{const te=O.subschema({keyword:X,schemaProp:re},G);O.mergeValidEvaluated(te,G)},()=>L.var(G,!0)),O.ok(G))}z.validatePropertyDeps=P,z.validateSchemaDeps=M,z.default=H},85164:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(68032);z.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:k=>(0,f.validateSchemaDeps)(k)}},45226:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(27006);function x(P,M){const O=P.schema[M];return void 0!==O&&!(0,_.alwaysValidSchema)(P,O)}z.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:P})=>f.str`must match "${P.ifClause}" schema`,params:({params:P})=>f._`{failingKeyword: ${P.ifClause}}`},code(P){const{gen:M,parentSchema:O,it:F}=P;void 0===O.then&&void 0===O.else&&(0,_.checkStrictMode)(F,'"if" without "then" and "else" is ignored');const L=x(F,"then"),D=x(F,"else");if(!L&&!D)return;const X=M.let("valid",!0),j=M.name("_valid");if(function G(){const te=P.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},j);P.mergeEvaluated(te)}(),P.reset(),L&&D){const te=M.let("ifClause");P.setParams({ifClause:te}),M.if(j,re("then",te),re("else",te))}else L?M.if(j,re("then")):M.if((0,f.not)(j),re("else"));function re(te,J){return()=>{const Z=P.subschema({keyword:te},j);M.assign(X,j),P.mergeValidEvaluated(Z,X),J?M.assign(J,f._`${te}`):P.setParams({ifClause:te})}}P.pass(X,()=>P.error(!0))}}},68261:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(46934),_=E(96537),k=E(2941),H=E(5261),x=E(57568),P=E(68032),M=E(36474),O=E(18445),F=E(34032),L=E(17330),D=E(3408),X=E(60922),j=E(88388),G=E(77783),re=E(45226),te=E(98779);z.default=function J(Z=!1){const ie=[D.default,X.default,j.default,G.default,re.default,te.default,M.default,O.default,P.default,F.default,L.default];return Z?ie.push(_.default,H.default):ie.push(f.default,k.default),ie.push(x.default),ie}},2941:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateTuple=void 0;const f=E(1038),_=E(27006),k=E(42406),H={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(P){const{schema:M,it:O}=P;if(Array.isArray(M))return x(P,"additionalItems",M);O.items=!0,!(0,_.alwaysValidSchema)(O,M)&&P.ok((0,k.validateArray)(P))}};function x(P,M,O=P.schema){const{gen:F,parentSchema:L,data:D,keyword:X,it:j}=P;(function te(J){const{opts:Z,errSchemaPath:ie}=j,ae=O.length;Z.strictTuples&&!(ae===J.minItems&&(ae===J.maxItems||!1===J[M]))&&(0,_.checkStrictMode)(j,`"${X}" is ${ae}-tuple, but minItems or maxItems/${M} are not specified or different at path "${ie}"`,Z.strictTuples)})(L),j.opts.unevaluated&&O.length&&!0!==j.items&&(j.items=_.mergeEvaluated.items(F,O.length,j.items));const G=F.name("valid"),re=F.const("len",f._`${D}.length`);O.forEach((J,Z)=>{(0,_.alwaysValidSchema)(j,J)||(F.if(f._`${re} > ${Z}`,()=>P.subschema({keyword:X,schemaProp:Z,dataProp:Z},G)),P.ok(G))})}z.validateTuple=x,z.default=H},5261:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(27006),k=E(42406),H=E(46934);z.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:M}})=>f.str`must NOT have more than ${M} items`,params:({params:{len:M}})=>f._`{limit: ${M}}`},code(M){const{schema:O,parentSchema:F,it:L}=M,{prefixItems:D}=F;L.items=!0,!(0,_.alwaysValidSchema)(L,O)&&(D?(0,H.validateAdditionalItems)(M,D):M.ok((0,k.validateArray)(M)))}}},3408:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(27006);z.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(k){const{gen:H,schema:x,it:P}=k;if((0,f.alwaysValidSchema)(P,x))return void k.fail();const M=H.name("valid");k.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},M),k.failResult(M,()=>k.reset(),()=>k.error())},error:{message:"must NOT be valid"}}},88388:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(27006);z.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:x})=>f._`{passingSchemas: ${x.passing}}`},code(x){const{gen:P,schema:M,parentSchema:O,it:F}=x;if(!Array.isArray(M))throw new Error("ajv implementation error");if(F.opts.discriminator&&O.discriminator)return;const L=M,D=P.let("valid",!1),X=P.let("passing",null),j=P.name("_valid");x.setParams({passing:X}),P.block(function G(){L.forEach((re,te)=>{let J;(0,_.alwaysValidSchema)(F,re)?P.var(j,!0):J=x.subschema({keyword:"oneOf",schemaProp:te,compositeRule:!0},j),te>0&&P.if(f._`${j} && ${D}`).assign(D,!1).assign(X,f._`[${X}, ${te}]`).else(),P.if(j,()=>{P.assign(D,!0),P.assign(X,te),J&&x.mergeEvaluated(J,f.Name)})})}),x.result(D,()=>x.reset(),()=>x.error(!0))}}},17330:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(42406),_=E(1038),k=E(27006),H=E(27006);z.default={keyword:"patternProperties",type:"object",schemaType:"object",code(P){const{gen:M,schema:O,data:F,parentSchema:L,it:D}=P,{opts:X}=D,j=(0,f.allSchemaProperties)(O),G=j.filter(se=>(0,k.alwaysValidSchema)(D,O[se]));if(0===j.length||G.length===j.length&&(!D.opts.unevaluated||!0===D.props))return;const re=X.strictSchema&&!X.allowMatchingProperties&&L.properties,te=M.name("valid");!0!==D.props&&!(D.props instanceof _.Name)&&(D.props=(0,H.evaluatedPropsToName)(M,D.props));const{props:J}=D;function ie(se){for(const de in re)new RegExp(se).test(de)&&(0,k.checkStrictMode)(D,`property ${de} matches pattern ${se} (use allowMatchingProperties)`)}function ae(se){M.forIn("key",F,de=>{M.if(_._`${(0,f.usePattern)(P,se)}.test(${de})`,()=>{const le=G.includes(se);le||P.subschema({keyword:"patternProperties",schemaProp:se,dataProp:de,dataPropType:H.Type.Str},te),D.opts.unevaluated&&!0!==J?M.assign(_._`${J}[${de}]`,!0):!le&&!D.allErrors&&M.if((0,_.not)(te),()=>M.break())})})}!function Z(){for(const se of j)re&&ie(se),D.allErrors?ae(se):(M.var(te,!0),ae(se),M.if(te))}()}}},96537:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(2941);z.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:k=>(0,f.validateTuple)(k,"items")}},34032:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(40339),_=E(42406),k=E(27006),H=E(18445);z.default={keyword:"properties",type:"object",schemaType:"object",code(P){const{gen:M,schema:O,parentSchema:F,data:L,it:D}=P;"all"===D.opts.removeAdditional&&void 0===F.additionalProperties&&H.default.code(new f.KeywordCxt(D,H.default,"additionalProperties"));const X=(0,_.allSchemaProperties)(O);for(const J of X)D.definedProperties.add(J);D.opts.unevaluated&&X.length&&!0!==D.props&&(D.props=k.mergeEvaluated.props(M,(0,k.toHash)(X),D.props));const j=X.filter(J=>!(0,k.alwaysValidSchema)(D,O[J]));if(0===j.length)return;const G=M.name("valid");for(const J of j)re(J)?te(J):(M.if((0,_.propertyInData)(M,L,J,D.opts.ownProperties)),te(J),D.allErrors||M.else().var(G,!0),M.endIf()),P.it.definedProperties.add(J),P.ok(G);function re(J){return D.opts.useDefaults&&!D.compositeRule&&void 0!==O[J].default}function te(J){P.subschema({keyword:"properties",schemaProp:J,dataProp:J},G)}}}},36474:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(27006);z.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:x})=>f._`{propertyName: ${x.propertyName}}`},code(x){const{gen:P,schema:M,data:O,it:F}=x;if((0,_.alwaysValidSchema)(F,M))return;const L=P.name("valid");P.forIn("key",O,D=>{x.setParams({propertyName:D}),x.subschema({keyword:"propertyNames",data:D,dataTypes:["string"],propertyName:D,compositeRule:!0},L),P.if((0,f.not)(L),()=>{x.error(!0),F.allErrors||P.break()})}),x.ok(L)}}},98779:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(27006);z.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:k,parentSchema:H,it:x}){void 0===H.if&&(0,f.checkStrictMode)(x,`"${k}" without "if" is ignored`)}}},42406:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateUnion=z.validateArray=z.usePattern=z.callValidateCode=z.schemaProperties=z.allSchemaProperties=z.noPropertyInData=z.propertyInData=z.isOwnProperty=z.hasPropFunc=z.reportMissingProp=z.checkMissingProp=z.checkReportMissingProp=void 0;const f=E(1038),_=E(27006),k=E(23432),H=E(27006);function O(ie){return ie.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:f._`Object.prototype.hasOwnProperty`})}function F(ie,ae,se){return f._`${O(ie)}.call(${ae}, ${se})`}function D(ie,ae,se,de){const le=f._`${ae}${(0,f.getProperty)(se)} === undefined`;return de?(0,f.or)(le,(0,f.not)(F(ie,ae,se))):le}function X(ie){return ie?Object.keys(ie).filter(ae=>"__proto__"!==ae):[]}z.checkReportMissingProp=function x(ie,ae){const{gen:se,data:de,it:le}=ie;se.if(D(se,de,ae,le.opts.ownProperties),()=>{ie.setParams({missingProperty:f._`${ae}`},!0),ie.error()})},z.checkMissingProp=function P({gen:ie,data:ae,it:{opts:se}},de,le){return(0,f.or)(...de.map(we=>(0,f.and)(D(ie,ae,we,se.ownProperties),f._`${le} = ${we}`)))},z.reportMissingProp=function M(ie,ae){ie.setParams({missingProperty:ae},!0),ie.error()},z.hasPropFunc=O,z.isOwnProperty=F,z.propertyInData=function L(ie,ae,se,de){const le=f._`${ae}${(0,f.getProperty)(se)} !== undefined`;return de?f._`${le} && ${F(ie,ae,se)}`:le},z.noPropertyInData=D,z.allSchemaProperties=X,z.schemaProperties=function j(ie,ae){return X(ae).filter(se=>!(0,_.alwaysValidSchema)(ie,ae[se]))},z.callValidateCode=function G({schemaCode:ie,data:ae,it:{gen:se,topSchemaRef:de,schemaPath:le,errorPath:we},it:xe},Ce,C,a){const u=a?f._`${ie}, ${ae}, ${de}${le}`:ae,y=[[k.default.instancePath,(0,f.strConcat)(k.default.instancePath,we)],[k.default.parentData,xe.parentData],[k.default.parentDataProperty,xe.parentDataProperty],[k.default.rootData,k.default.rootData]];xe.opts.dynamicRef&&y.push([k.default.dynamicAnchors,k.default.dynamicAnchors]);const g=f._`${u}, ${se.object(...y)}`;return C!==f.nil?f._`${Ce}.call(${C}, ${g})`:f._`${Ce}(${g})`};const re=f._`new RegExp`;z.usePattern=function te({gen:ie,it:{opts:ae}},se){const de=ae.unicodeRegExp?"u":"",{regExp:le}=ae.code,we=le(se,de);return ie.scopeValue("pattern",{key:we.toString(),ref:we,code:f._`${"new RegExp"===le.code?re:(0,H.useFunc)(ie,le)}(${se}, ${de})`})},z.validateArray=function J(ie){const{gen:ae,data:se,keyword:de,it:le}=ie,we=ae.name("valid");if(le.allErrors){const Ce=ae.let("valid",!0);return xe(()=>ae.assign(Ce,!1)),Ce}return ae.var(we,!0),xe(()=>ae.break()),we;function xe(Ce){const C=ae.const("len",f._`${se}.length`);ae.forRange("i",0,C,a=>{ie.subschema({keyword:de,dataProp:a,dataPropType:_.Type.Num},we),ae.if((0,f.not)(we),Ce)})}},z.validateUnion=function Z(ie){const{gen:ae,schema:se,keyword:de,it:le}=ie;if(!Array.isArray(se))throw new Error("ajv implementation error");if(se.some(C=>(0,_.alwaysValidSchema)(le,C))&&!le.opts.unevaluated)return;const xe=ae.let("valid",!1),Ce=ae.name("_valid");ae.block(()=>se.forEach((C,a)=>{const u=ie.subschema({keyword:de,schemaProp:a,compositeRule:!0},Ce);ae.assign(xe,f._`${xe} || ${Ce}`),ie.mergeValidEvaluated(u,Ce)||ae.if((0,f.not)(xe))})),ie.result(xe,()=>ie.reset(),()=>ie.error(!0))}},36846:(je,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(36846),_=E(84862);z.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",f.default,_.default]},84862:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.callRef=z.getValidate=void 0;const f=E(26288),_=E(42406),k=E(1038),H=E(23432),x=E(97692),P=E(27006),M={keyword:"$ref",schemaType:"string",code(L){const{gen:D,schema:X,it:j}=L,{baseId:G,schemaEnv:re,validateName:te,opts:J,self:Z}=j,{root:ie}=re;if(("#"===X||"#/"===X)&&G===ie.baseId)return function se(){if(re===ie)return F(L,te,re,re.$async);const we=D.scopeValue("root",{ref:ie});return F(L,k._`${we}.validate`,ie,ie.$async)}();const ae=x.resolveRef.call(Z,ie,G,X);if(void 0===ae)throw new f.default(j.opts.uriResolver,G,X);return ae instanceof x.SchemaEnv?function de(we){const xe=O(L,we);F(L,xe,we,we.$async)}(ae):function le(we){const xe=D.scopeValue("schema",!0===J.code.source?{ref:we,code:(0,k.stringify)(we)}:{ref:we}),Ce=D.name("valid"),C=L.subschema({schema:we,dataTypes:[],schemaPath:k.nil,topSchemaRef:xe,errSchemaPath:X},Ce);L.mergeEvaluated(C),L.ok(Ce)}(ae)}};function O(L,D){const{gen:X}=L;return D.validate?X.scopeValue("validate",{ref:D.validate}):k._`${X.scopeValue("wrapper",{ref:D})}.validate`}function F(L,D,X,j){const{gen:G,it:re}=L,{allErrors:te,schemaEnv:J,opts:Z}=re,ie=Z.passContext?H.default.this:k.nil;function de(we){const xe=k._`${we}.errors`;G.assign(H.default.vErrors,k._`${H.default.vErrors} === null ? ${xe} : ${H.default.vErrors}.concat(${xe})`),G.assign(H.default.errors,k._`${H.default.vErrors}.length`)}function le(we){var xe;if(!re.opts.unevaluated)return;const Ce=null===(xe=X?.validate)||void 0===xe?void 0:xe.evaluated;if(!0!==re.props)if(Ce&&!Ce.dynamicProps)void 0!==Ce.props&&(re.props=P.mergeEvaluated.props(G,Ce.props,re.props));else{const C=G.var("props",k._`${we}.evaluated.props`);re.props=P.mergeEvaluated.props(G,C,re.props,k.Name)}if(!0!==re.items)if(Ce&&!Ce.dynamicItems)void 0!==Ce.items&&(re.items=P.mergeEvaluated.items(G,Ce.items,re.items));else{const C=G.var("items",k._`${we}.evaluated.items`);re.items=P.mergeEvaluated.items(G,C,re.items,k.Name)}}j?function ae(){if(!J.$async)throw new Error("async schema referenced by sync schema");const we=G.let("valid");G.try(()=>{G.code(k._`await ${(0,_.callValidateCode)(L,D,ie)}`),le(D),te||G.assign(we,!0)},xe=>{G.if(k._`!(${xe} instanceof ${re.ValidationError})`,()=>G.throw(xe)),de(xe),te||G.assign(we,!1)}),L.ok(we)}():function se(){L.result((0,_.callValidateCode)(L,D,ie),()=>le(D),()=>de(D))}()}z.getValidate=O,z.callRef=F,z.default=M},86980:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(22145),k=E(97692),H=E(27006);z.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:M,tagName:O}})=>M===_.DiscrError.Tag?`tag "${O}" must be string`:`value of tag "${O}" must be in oneOf`,params:({params:{discrError:M,tag:O,tagName:F}})=>f._`{error: ${M}, tag: ${F}, tagValue: ${O}}`},code(M){const{gen:O,data:F,schema:L,parentSchema:D,it:X}=M,{oneOf:j}=D;if(!X.opts.discriminator)throw new Error("discriminator: requires discriminator option");const G=L.propertyName;if("string"!=typeof G)throw new Error("discriminator: requires propertyName");if(L.mapping)throw new Error("discriminator: mapping is not supported");if(!j)throw new Error("discriminator: requires oneOf keyword");const re=O.let("valid",!1),te=O.const("tag",f._`${F}${(0,f.getProperty)(G)}`);function Z(ae){const se=O.name("valid"),de=M.subschema({keyword:"oneOf",schemaProp:ae},se);return M.mergeEvaluated(de,f.Name),se}O.if(f._`typeof ${te} == "string"`,()=>function J(){const ae=function ie(){var ae;const se={},de=we(D);let le=!0;for(let C=0;C<j.length;C++){let a=j[C];a?.$ref&&!(0,H.schemaHasRulesButRef)(a,X.self.RULES)&&(a=k.resolveRef.call(X.self,X.schemaEnv.root,X.baseId,a?.$ref),a instanceof k.SchemaEnv&&(a=a.schema));const u=null===(ae=a?.properties)||void 0===ae?void 0:ae[G];if("object"!=typeof u)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${G}"`);le=le&&(de||we(a)),xe(u,C)}if(!le)throw new Error(`discriminator: "${G}" must be required`);return se;function we({required:C}){return Array.isArray(C)&&C.includes(G)}function xe(C,a){if(C.const)Ce(C.const,a);else{if(!C.enum)throw new Error(`discriminator: "properties/${G}" must have "const" or "enum"`);for(const u of C.enum)Ce(u,a)}}function Ce(C,a){if("string"!=typeof C||C in se)throw new Error(`discriminator: "${G}" values must be unique strings`);se[C]=a}}();O.if(!1);for(const se in ae)O.elseIf(f._`${te} === ${se}`),O.assign(re,Z(ae[se]));O.else(),M.error(!1,{discrError:_.DiscrError.Mapping,tag:te,tagName:G}),O.endIf()}(),()=>M.error(!1,{discrError:_.DiscrError.Tag,tag:te,tagName:G})),M.ok(re)}}},22145:(je,z)=>{"use strict";var f;Object.defineProperty(z,"__esModule",{value:!0}),z.DiscrError=void 0,(f=z.DiscrError||(z.DiscrError={})).Tag="tag",f.Mapping="mapping"},98496:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(11867),_=E(64023),k=E(68261),H=E(79745),x=E(54458),P=E(77616),M=E(23463),O=E(3462),F=[H.default,f.default,_.default,(0,k.default)(!0),M.default,O.metadataVocabulary,O.contentVocabulary,x.default,P.default];z.default=F},61281:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.dynamicAnchor=void 0;const f=E(1038),_=E(23432),k=E(97692),H=E(84862),x={keyword:"$dynamicAnchor",schemaType:"string",code:O=>P(O,O.schema)};function P(O,F){const{gen:L,it:D}=O;D.schemaEnv.root.dynamicAnchors[F]=!0;const X=f._`${_.default.dynamicAnchors}${(0,f.getProperty)(F)}`,j="#"===D.errSchemaPath?D.validateName:function M(O){const{schemaEnv:F,schema:L,self:D}=O.it,{root:X,baseId:j,localRefs:G,meta:re}=F.root,{schemaId:te}=D.opts,J=new k.SchemaEnv({schema:L,schemaId:te,root:X,baseId:j,localRefs:G,meta:re});return k.compileSchema.call(D,J),(0,H.getValidate)(O,J)}(O);L.if(f._`!${X}`,()=>L.assign(X,j))}z.dynamicAnchor=P,z.default=x},35207:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.dynamicRef=void 0;const f=E(1038),_=E(23432),k=E(84862),H={keyword:"$dynamicRef",schemaType:"string",code:P=>x(P,P.schema)};function x(P,M){const{gen:O,keyword:F,it:L}=P;if("#"!==M[0])throw new Error(`"${F}" only supports hash fragment reference`);const D=M.slice(1);if(L.allErrors)X();else{const G=O.let("valid",!1);X(G),P.ok(G)}function X(G){if(L.schemaEnv.root.dynamicAnchors[D]){const re=O.let("_v",f._`${_.default.dynamicAnchors}${(0,f.getProperty)(D)}`);O.if(re,j(re,G),j(L.validateName,G))}else j(L.validateName,G)()}function j(G,re){return re?()=>O.block(()=>{(0,k.callRef)(P,G),O.let(re,!0)}):()=>(0,k.callRef)(P,G)}}z.dynamicRef=x,z.default=H},79745:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(61281),_=E(35207),k=E(34028),H=E(65684);z.default=[f.default,_.default,k.default,H.default]},34028:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(61281),_=E(27006);z.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(H){H.schema?(0,f.dynamicAnchor)(H,""):(0,_.checkStrictMode)(H.it,"$recursiveAnchor: false is ignored")}}},65684:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(35207);z.default={keyword:"$recursiveRef",schemaType:"string",code:k=>(0,f.dynamicRef)(k,k.schema)}},98140:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038);z.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:H})=>f.str`must match format "${H}"`,params:({schemaCode:H})=>f._`{format: ${H}}`},code(H,x){const{gen:P,data:M,$data:O,schema:F,schemaCode:L,it:D}=H,{opts:X,errSchemaPath:j,schemaEnv:G,self:re}=D;X.validateFormats&&(O?function te(){const Z=P.scopeValue("formats",{ref:re.formats,code:X.code.formats}),ie=P.const("fDef",f._`${Z}[${L}]`),ae=P.let("fType"),se=P.let("format");P.if(f._`typeof ${ie} == "object" && !(${ie} instanceof RegExp)`,()=>P.assign(ae,f._`${ie}.type || "string"`).assign(se,f._`${ie}.validate`),()=>P.assign(ae,f._`"string"`).assign(se,ie)),H.fail$data((0,f.or)(function de(){return!1===X.strictSchema?f.nil:f._`${L} && !${se}`}(),function le(){const we=G.$async?f._`(${ie}.async ? await ${se}(${M}) : ${se}(${M}))`:f._`${se}(${M})`,xe=f._`(typeof ${se} == "function" ? ${we} : ${se}.test(${M}))`;return f._`${se} && ${se} !== true && ${ae} === ${x} && !${xe}`}()))}():function J(){const Z=re.formats[F];if(!Z)return void function de(){if(!1!==X.strictSchema)throw new Error(xe());function xe(){return`unknown format "${F}" ignored in schema at path "${j}"`}re.logger.warn(xe())}();if(!0===Z)return;const[ie,ae,se]=function le(xe){const Ce=xe instanceof RegExp?(0,f.regexpCode)(xe):X.code.formats?f._`${X.code.formats}${(0,f.getProperty)(F)}`:void 0,C=P.scopeValue("formats",{key:F,ref:xe,code:Ce});return"object"!=typeof xe||xe instanceof RegExp?["string",xe,C]:[xe.type||"string",xe.validate,f._`${C}.validate`]}(Z);ie===x&&H.pass(function we(){if("object"==typeof Z&&!(Z instanceof RegExp)&&Z.async){if(!G.$async)throw new Error("async format in sync schema");return f._`await ${se}(${M})`}return"function"==typeof ae?f._`${se}(${M})`:f._`${se}.test(${M})`}())}())}}},23463:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const _=[E(98140).default];z.default=_},3462:(je,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.contentVocabulary=z.metadataVocabulary=void 0,z.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],z.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(53037),_=E(85164),k=E(22705);z.default=[f.default,_.default,k.default]},77616:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(40425),_=E(89826);z.default=[f.default,_.default]},89826:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(27006);z.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:x}})=>f.str`must NOT have more than ${x} items`,params:({params:{len:x}})=>f._`{limit: ${x}}`},code(x){const{gen:P,schema:M,data:O,it:F}=x,L=F.items||0;if(!0===L)return;const D=P.const("len",f._`${O}.length`);if(!1===M)x.setParams({len:L}),x.fail(f._`${D} > ${L}`);else if("object"==typeof M&&!(0,_.alwaysValidSchema)(F,M)){const j=P.var("valid",f._`${D} <= ${L}`);P.if((0,f.not)(j),()=>function X(j,G){P.forRange("i",G,D,re=>{x.subschema({keyword:"unevaluatedItems",dataProp:re,dataPropType:_.Type.Num},j),F.allErrors||P.if((0,f.not)(j),()=>P.break())})}(j,L)),x.ok(j)}F.items=!0}}},40425:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(27006),k=E(23432);z.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:P})=>f._`{unevaluatedProperty: ${P.unevaluatedProperty}}`},code(P){const{gen:M,schema:O,data:F,errsCount:L,it:D}=P;if(!L)throw new Error("ajv implementation error");const{allErrors:X,props:j}=D;function G(J){if(!1===O)return P.setParams({unevaluatedProperty:J}),P.error(),void(X||M.break());if(!(0,_.alwaysValidSchema)(D,O)){const Z=M.name("valid");P.subschema({keyword:"unevaluatedProperties",dataProp:J,dataPropType:_.Type.Str},Z),X||M.if((0,f.not)(Z),()=>M.break())}}j instanceof f.Name?M.if(f._`${j} !== true`,()=>M.forIn("key",F,J=>M.if(function re(J,Z){return f._`!${J} || !${J}[${Z}]`}(j,J),()=>G(J)))):!0!==j&&M.forIn("key",F,J=>void 0===j?G(J):M.if(function te(J,Z){const ie=[];for(const ae in J)!0===J[ae]&&ie.push(f._`${Z} !== ${ae}`);return(0,f.and)(...ie)}(j,J),()=>G(J))),D.props=!0,P.ok(f._`${L} === ${k.default.errors}`)}}},90796:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(27006),k=E(92281);z.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:P})=>f._`{allowedValue: ${P}}`},code(P){const{gen:M,data:O,$data:F,schemaCode:L,schema:D}=P;F||D&&"object"==typeof D?P.fail$data(f._`!${(0,_.useFunc)(M,k.default)}(${O}, ${L})`):P.fail(f._`${D} !== ${O}`)}}},53037:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(68032);z.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:f.error,code:k=>(0,f.validatePropertyDeps)(k)}},65266:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(27006),k=E(92281);z.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:P})=>f._`{allowedValues: ${P}}`},code(P){const{gen:M,data:O,$data:F,schema:L,schemaCode:D,it:X}=P;if(!F&&0===L.length)throw new Error("enum must have non-empty array");let G;const re=()=>G??(G=(0,_.useFunc)(M,k.default));let te;if(L.length>=X.opts.loopEnum||F)te=M.let("valid"),P.block$data(te,function J(){M.assign(te,!1),M.forOf("v",D,ie=>M.if(f._`${re()}(${O}, ${ie})`,()=>M.assign(te,!0).break()))});else{if(!Array.isArray(L))throw new Error("ajv implementation error");const ie=M.const("vSchema",D);te=(0,f.or)(...L.map((ae,se)=>function Z(ie,ae){const se=L[ae];return"object"==typeof se&&null!==se?f._`${re()}(${O}, ${ie}[${ae}])`:f._`${O} === ${se}`}(ie,se)))}P.pass(te)}}},64023:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(78665),_=E(30554),k=E(13972),H=E(68753),x=E(99169),P=E(56454),M=E(85962),O=E(16598),F=E(90796),L=E(65266);z.default=[f.default,_.default,k.default,H.default,x.default,P.default,M.default,O.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},F.default,L.default]},22705:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(27006);z.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:k,parentSchema:H,it:x}){void 0===H.contains&&(0,f.checkStrictMode)(x,`"${k}" without "contains" is ignored`)}}},85962:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038);z.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:x})=>f.str`must NOT have ${"maxItems"===H?"more":"fewer"} than ${x} items`,params:({schemaCode:H})=>f._`{limit: ${H}}`},code(H){const{keyword:x,data:P,schemaCode:M}=H;H.fail$data(f._`${P}.length ${"maxItems"===x?f.operators.GT:f.operators.LT} ${M}`)}}},13972:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=E(27006),k=E(26488);z.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:P,schemaCode:M})=>f.str`must NOT have ${"maxLength"===P?"more":"fewer"} than ${M} characters`,params:({schemaCode:P})=>f._`{limit: ${P}}`},code(P){const{keyword:M,data:O,schemaCode:F,it:L}=P,D="maxLength"===M?f.operators.GT:f.operators.LT,X=!1===L.opts.unicode?f._`${O}.length`:f._`${(0,_.useFunc)(P.gen,k.default)}(${O})`;P.fail$data(f._`${X} ${D} ${F}`)}}},78665:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038),_=f.operators,k={maximum:{okStr:"<=",ok:_.LTE,fail:_.GT},minimum:{okStr:">=",ok:_.GTE,fail:_.LT},exclusiveMaximum:{okStr:"<",ok:_.LT,fail:_.GTE},exclusiveMinimum:{okStr:">",ok:_.GT,fail:_.LTE}},H={message:({keyword:P,schemaCode:M})=>f.str`must be ${k[P].okStr} ${M}`,params:({keyword:P,schemaCode:M})=>f._`{comparison: ${k[P].okStr}, limit: ${M}}`},x={keyword:Object.keys(k),type:"number",schemaType:"number",$data:!0,error:H,code(P){const{keyword:M,data:O,schemaCode:F}=P;P.fail$data(f._`${O} ${k[M].fail} ${F} || isNaN(${O})`)}};z.default=x},99169:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038);z.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:x})=>f.str`must NOT have ${"maxProperties"===H?"more":"fewer"} than ${x} properties`,params:({schemaCode:H})=>f._`{limit: ${H}}`},code(H){const{keyword:x,data:P,schemaCode:M}=H;H.fail$data(f._`Object.keys(${P}).length ${"maxProperties"===x?f.operators.GT:f.operators.LT} ${M}`)}}},30554:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(1038);z.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:H})=>f.str`must be multiple of ${H}`,params:({schemaCode:H})=>f._`{multipleOf: ${H}}`},code(H){const{gen:x,data:P,schemaCode:M,it:O}=H,F=O.opts.multipleOfPrecision,L=x.let("res"),D=F?f._`Math.abs(Math.round(${L}) - ${L}) > 1e-${F}`:f._`${L} !== parseInt(${L})`;H.fail$data(f._`(${M} === 0 || (${L} = ${P}/${M}, ${D}))`)}}},68753:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(42406),_=E(1038);z.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:x})=>_.str`must match pattern "${x}"`,params:({schemaCode:x})=>_._`{pattern: ${x}}`},code(x){const{data:P,$data:M,schema:O,schemaCode:F,it:L}=x,X=M?_._`(new RegExp(${F}, ${L.opts.unicodeRegExp?"u":""}))`:(0,f.usePattern)(x,O);x.fail$data(_._`!${X}.test(${P})`)}}},56454:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(42406),_=E(1038),k=E(27006);z.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:P}})=>_.str`must have required property '${P}'`,params:({params:{missingProperty:P}})=>_._`{missingProperty: ${P}}`},code(P){const{gen:M,schema:O,schemaCode:F,data:L,$data:D,it:X}=P,{opts:j}=X;if(!D&&0===O.length)return;const G=O.length>=j.loopRequired;if(X.allErrors?function re(){if(G||D)P.block$data(_.nil,J);else for(const ie of O)(0,f.checkReportMissingProp)(P,ie)}():function te(){const ie=M.let("missing");if(G||D){const ae=M.let("valid",!0);P.block$data(ae,()=>function Z(ie,ae){P.setParams({missingProperty:ie}),M.forOf(ie,F,()=>{M.assign(ae,(0,f.propertyInData)(M,L,ie,j.ownProperties)),M.if((0,_.not)(ae),()=>{P.error(),M.break()})},_.nil)}(ie,ae)),P.ok(ae)}else M.if((0,f.checkMissingProp)(P,O,ie)),(0,f.reportMissingProp)(P,ie),M.else()}(),j.strictRequired){const ie=P.parentSchema.properties,{definedProperties:ae}=P.it;for(const se of O)void 0!==ie?.[se]||ae.has(se)||(0,k.checkStrictMode)(X,`required property "${se}" is not defined at "${X.schemaEnv.baseId+X.errSchemaPath}" (strictRequired)`,X.opts.strictRequired)}function J(){M.forOf("prop",F,ie=>{P.setParams({missingProperty:ie}),M.if((0,f.noPropertyInData)(M,L,ie,j.ownProperties),()=>P.error())})}}}},16598:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const f=E(55999),_=E(1038),k=E(27006),H=E(92281);z.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:M,j:O}})=>_.str`must NOT have duplicate items (items ## ${O} and ${M} are identical)`,params:({params:{i:M,j:O}})=>_._`{i: ${M}, j: ${O}}`},code(M){const{gen:O,data:F,$data:L,schema:D,parentSchema:X,schemaCode:j,it:G}=M;if(!L&&!D)return;const re=O.let("valid"),te=X.items?(0,f.getSchemaTypes)(X.items):[];function ie(se,de){const le=O.name("item"),we=(0,f.checkDataTypes)(te,le,G.opts.strictNumbers,f.DataType.Wrong),xe=O.const("indices",_._`{}`);O.for(_._`;${se}--;`,()=>{O.let(le,_._`${F}[${se}]`),O.if(we,_._`continue`),te.length>1&&O.if(_._`typeof ${le} == "string"`,_._`${le} += "_"`),O.if(_._`typeof ${xe}[${le}] == "number"`,()=>{O.assign(de,_._`${xe}[${le}]`),M.error(),O.assign(re,!1).break()}).code(_._`${xe}[${le}] = ${se}`)})}function ae(se,de){const le=(0,k.useFunc)(O,H.default),we=O.name("outer");O.label(we).for(_._`;${se}--;`,()=>O.for(_._`${de} = ${se}; ${de}--;`,()=>O.if(_._`${le}(${F}[${se}], ${F}[${de}])`,()=>{M.error(),O.assign(re,!1).break(we)})))}M.block$data(re,function J(){const se=O.let("i",_._`${F}.length`),de=O.let("j");M.setParams({i:se,j:de}),O.assign(re,!0),O.if(_._`${se} > 1`,()=>(function Z(){return te.length>0&&!te.some(se=>"object"===se||"array"===se)}()?ie:ae)(se,de))},_._`${j} === false`),M.ok(re)}}},68316:(je,z,E)=>{"use strict";const f=E(13981),_=E(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function Z(B){return+B!=B&&(B=0),M.alloc(+B)},z.INSPECT_MAX_BYTES=50;const H=2147483647;function P(B){if(B>H)throw new RangeError('The value "'+B+'" is invalid for option "size"');const w=new Uint8Array(B);return Object.setPrototypeOf(w,M.prototype),w}function M(B,w,m){if("number"==typeof B){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return D(B)}return O(B,w,m)}function O(B,w,m){if("string"==typeof B)return function X(B,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!M.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const m=0|ie(B,w);let U=P(m);const ne=U.write(B,w);return ne!==m&&(U=U.slice(0,ne)),U}(B,w);if(ArrayBuffer.isView(B))return function G(B){if(Fe(B,Uint8Array)){const w=new Uint8Array(B);return re(w.buffer,w.byteOffset,w.byteLength)}return j(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Fe(B,ArrayBuffer)||B&&Fe(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(B,SharedArrayBuffer)||B&&Fe(B.buffer,SharedArrayBuffer)))return re(B,w,m);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return M.from(U,w,m);const ne=function te(B){if(M.isBuffer(B)){const w=0|J(B.length),m=P(w);return 0===m.length||B.copy(m,0,0,w),m}return void 0!==B.length?"number"!=typeof B.length||Et(B.length)?P(0):j(B):"Buffer"===B.type&&Array.isArray(B.data)?j(B.data):void 0}(B);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return M.from(B[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function F(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function D(B){return F(B),P(B<0?0:0|J(B))}function j(B){const w=B.length<0?0:0|J(B.length),m=P(w);for(let U=0;U<w;U+=1)m[U]=255&B[U];return m}function re(B,w,m){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===w&&void 0===m?new Uint8Array(B):void 0===m?new Uint8Array(B,w):new Uint8Array(B,w,m),Object.setPrototypeOf(U,M.prototype),U}function J(B){if(B>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|B}function ie(B,w){if(M.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Fe(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const m=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Re(B).length;default:if(ne)return U?-1:oe(B).length;w=(""+w).toLowerCase(),ne=!0}}function ae(B,w,m){let U=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return A(this,w,m);case"utf8":case"utf-8":return y(this,w,m);case"ascii":return T(this,w,m);case"latin1":case"binary":return N(this,w,m);case"base64":return u(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,w,m);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function se(B,w,m){const U=B[w];B[w]=B[m],B[m]=U}function de(B,w,m,U,ne){if(0===B.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),Et(m=+m)&&(m=ne?0:B.length-1),m<0&&(m=B.length+m),m>=B.length){if(ne)return-1;m=B.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof w&&(w=M.from(w,U)),M.isBuffer(w))return 0===w.length?-1:le(B,w,m,U,ne);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(B,w,m):Uint8Array.prototype.lastIndexOf.call(B,w,m):le(B,[w],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(B,w,m,U,ne){let vt,ge=1,Ae=B.length,tt=w.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||w.length<2)return-1;ge=2,Ae/=2,tt/=2,m/=2}function Bt(It,Gt){return 1===ge?It[Gt]:It.readUInt16BE(Gt*ge)}if(ne){let It=-1;for(vt=m;vt<Ae;vt++)if(Bt(B,vt)===Bt(w,-1===It?0:vt-It)){if(-1===It&&(It=vt),vt-It+1===tt)return It*ge}else-1!==It&&(vt-=vt-It),It=-1}else for(m+tt>Ae&&(m=Ae-tt),vt=m;vt>=0;vt--){let It=!0;for(let Gt=0;Gt<tt;Gt++)if(Bt(B,vt+Gt)!==Bt(w,Gt)){It=!1;break}if(It)return vt}return-1}function we(B,w,m,U){m=Number(m)||0;const ne=B.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=w.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const tt=parseInt(w.substr(2*Ae,2),16);if(Et(tt))return Ae;B[m+Ae]=tt}return Ae}function xe(B,w,m,U){return $e(oe(w,B.length-m),B,m,U)}function Ce(B,w,m,U){return $e(function fe(B){const w=[];for(let m=0;m<B.length;++m)w.push(255&B.charCodeAt(m));return w}(w),B,m,U)}function C(B,w,m,U){return $e(Re(w),B,m,U)}function a(B,w,m,U){return $e(function Ee(B,w){let m,U,ne;const ge=[];for(let Ae=0;Ae<B.length&&!((w-=2)<0);++Ae)m=B.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(w,B.length-m),B,m,U)}function u(B,w,m){return f.fromByteArray(0===w&&m===B.length?B:B.slice(w,m))}function y(B,w,m){m=Math.min(B.length,m);const U=[];let ne=w;for(;ne<m;){const ge=B[ne];let Ae=null,tt=ge>239?4:ge>223?3:ge>191?2:1;if(ne+tt<=m){let Bt,vt,It,Gt;switch(tt){case 1:ge<128&&(Ae=ge);break;case 2:Bt=B[ne+1],128==(192&Bt)&&(Gt=(31&ge)<<6|63&Bt,Gt>127&&(Ae=Gt));break;case 3:Bt=B[ne+1],vt=B[ne+2],128==(192&Bt)&&128==(192&vt)&&(Gt=(15&ge)<<12|(63&Bt)<<6|63&vt,Gt>2047&&(Gt<55296||Gt>57343)&&(Ae=Gt));break;case 4:Bt=B[ne+1],vt=B[ne+2],It=B[ne+3],128==(192&Bt)&&128==(192&vt)&&128==(192&It)&&(Gt=(15&ge)<<18|(63&Bt)<<12|(63&vt)<<6|63&It,Gt>65535&&Gt<1114112&&(Ae=Gt))}}null===Ae?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=tt}return function S(B){const w=B.length;if(w<=g)return String.fromCharCode.apply(String,B);let m="",U=0;for(;U<w;)m+=String.fromCharCode.apply(String,B.slice(U,U+=g));return m}(U)}z.kMaxLength=H,!(M.TYPED_ARRAY_SUPPORT=function x(){try{const B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(B,w,m){return O(B,w,m)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(B,w,m){return function L(B,w,m){return F(B),B<=0?P(B):void 0!==w?"string"==typeof m?P(B).fill(w,m):P(B).fill(w):P(B)}(B,w,m)},M.allocUnsafe=function(B){return D(B)},M.allocUnsafeSlow=function(B){return D(B)},M.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==M.prototype},M.compare=function(w,m){if(Fe(w,Uint8Array)&&(w=M.from(w,w.offset,w.byteLength)),Fe(m,Uint8Array)&&(m=M.from(m,m.offset,m.byteLength)),!M.isBuffer(w)||!M.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;let U=w.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(w[ge]!==m[ge]){U=w[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},M.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return M.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<w.length;++U)m+=w[U].length;const ne=M.allocUnsafe(m);let ge=0;for(U=0;U<w.length;++U){let Ae=w[U];if(Fe(Ae,Uint8Array))ge+Ae.length>ne.length?(M.isBuffer(Ae)||(Ae=M.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!M.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},M.byteLength=ie,M.prototype._isBuffer=!0,M.prototype.swap16=function(){const w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<w;m+=2)se(this,m,m+1);return this},M.prototype.swap32=function(){const w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<w;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},M.prototype.swap64=function(){const w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<w;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){const w=this.length;return 0===w?"":0===arguments.length?y(this,0,w):ae.apply(this,arguments)},M.prototype.equals=function(w){if(!M.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===M.compare(this,w)},M.prototype.inspect=function(){let w="";const m=z.INSPECT_MAX_BYTES;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},k&&(M.prototype[k]=M.prototype.inspect),M.prototype.compare=function(w,m,U,ne,ge){if(Fe(w,Uint8Array)&&(w=M.from(w,w.offset,w.byteLength)),!M.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===U&&(U=w?w.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>w.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===w)return 0;let Ae=(ge>>>=0)-(ne>>>=0),tt=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,tt),vt=this.slice(ne,ge),It=w.slice(m,U);for(let Gt=0;Gt<Bt;++Gt)if(vt[Gt]!==It[Gt]){Ae=vt[Gt],tt=It[Gt];break}return Ae<tt?-1:tt<Ae?1:0},M.prototype.includes=function(w,m,U){return-1!==this.indexOf(w,m,U)},M.prototype.indexOf=function(w,m,U){return de(this,w,m,U,!0)},M.prototype.lastIndexOf=function(w,m,U){return de(this,w,m,U,!1)},M.prototype.write=function(w,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),w.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return we(this,w,m,U);case"utf8":case"utf-8":return xe(this,w,m,U);case"ascii":case"latin1":case"binary":return Ce(this,w,m,U);case"base64":return C(this,w,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,w,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(127&B[ne]);return U}function N(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(B[ne]);return U}function A(B,w,m){const U=B.length;(!w||w<0)&&(w=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=w;ge<m;++ge)ne+=We[B[ge]];return ne}function s(B,w,m){const U=B.slice(w,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(B,w,m){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+w>m)throw new RangeError("Trying to access beyond buffer length")}function W(B,w,m,U,ne,ge){if(!M.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>ne||w<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>B.length)throw new RangeError("Index out of range")}function K(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,m}function ee(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m+7]=ge,ge>>=8,B[m+6]=ge,ge>>=8,B[m+5]=ge,ge>>=8,B[m+4]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m+3]=Ae,Ae>>=8,B[m+2]=Ae,Ae>>=8,B[m+1]=Ae,Ae>>=8,B[m]=Ae,m+8}function ce(B,w,m,U,ne,ge){if(m+U>B.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,4),_.write(B,w,m,U,23,4),m+4}function Oe(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,8),_.write(B,w,m,U,52,8),m+8}M.prototype.slice=function(w,m){const U=this.length;(w=~~w)<0?(w+=U)<0&&(w=0):w>U&&(w=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<w&&(m=w);const ne=this.subarray(w,m);return Object.setPrototypeOf(ne,M.prototype),ne},M.prototype.readUintLE=M.prototype.readUIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ne},M.prototype.readUintBE=M.prototype.readUIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[w+--m]*ge;return ne},M.prototype.readUint8=M.prototype.readUInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),this[w]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]|this[w+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]<<8|this[w+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},M.prototype.readBigUInt64LE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m+256*this[++w]+65536*this[++w]+this[++w]*2**24,ge=this[++w]+256*this[++w]+65536*this[++w]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),M.prototype.readBigUInt64BE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m*2**24+65536*this[++w]+256*this[++w]+this[++w],ge=this[++w]*2**24+65536*this[++w]+256*this[++w]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),M.prototype.readIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},M.prototype.readIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=m,ge=1,Ae=this[w+--ne];for(;ne>0&&(ge*=256);)Ae+=this[w+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},M.prototype.readInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},M.prototype.readInt16LE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w]|this[w+1]<<8;return 32768&U?4294901760|U:U},M.prototype.readInt16BE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w+1]|this[w]<<8;return 32768&U?4294901760|U:U},M.prototype.readInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},M.prototype.readInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},M.prototype.readBigInt64LE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];return(void 0===m||void 0===U)&&pe(w,this.length-8),(BigInt(this[w+4]+256*this[w+5]+65536*this[w+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++w]+65536*this[++w]+this[++w]*2**24)}),M.prototype.readBigInt64BE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=(m<<24)+65536*this[++w]+256*this[++w]+this[++w];return(BigInt(ne)<<BigInt(32))+BigInt(this[++w]*2**24+65536*this[++w]+256*this[++w]+U)}),M.prototype.readFloatLE=function(w,m){return w>>>=0,m||v(w,4,this.length),_.read(this,w,!0,23,4)},M.prototype.readFloatBE=function(w,m){return w>>>=0,m||v(w,4,this.length),_.read(this,w,!1,23,4)},M.prototype.readDoubleLE=function(w,m){return w>>>=0,m||v(w,8,this.length),_.read(this,w,!0,52,8)},M.prototype.readDoubleBE=function(w,m){return w>>>=0,m||v(w,8,this.length),_.read(this,w,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&w;++Ae<U&&(ge*=256);)this[m+Ae]=w/ge&255;return m+U},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)this[m+ge]=w/Ae&255;return m+U},M.prototype.writeUint8=M.prototype.writeUInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,255,0),this[m]=255&w,m+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},M.prototype.writeBigUInt64LE=Le(function(w,m=0){return K(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Le(function(w,m=0){return ee(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=0,Ae=1,tt=0;for(this[m]=255&w;++ge<U&&(Ae*=256);)w<0&&0===tt&&0!==this[m+ge-1]&&(tt=1),this[m+ge]=(w/Ae|0)-tt&255;return m+U},M.prototype.writeIntBE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,tt=0;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)w<0&&0===tt&&0!==this[m+ge+1]&&(tt=1),this[m+ge]=(w/Ae|0)-tt&255;return m+U},M.prototype.writeInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},M.prototype.writeInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},M.prototype.writeInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},M.prototype.writeInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},M.prototype.writeInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},M.prototype.writeBigInt64LE=Le(function(w,m=0){return K(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Le(function(w,m=0){return ee(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeFloatLE=function(w,m,U){return _e(this,w,m,!0,U)},M.prototype.writeFloatBE=function(w,m,U){return _e(this,w,m,!1,U)},M.prototype.writeDoubleLE=function(w,m,U){return Oe(this,w,m,!0,U)},M.prototype.writeDoubleBE=function(w,m,U){return Oe(this,w,m,!1,U)},M.prototype.copy=function(w,m,U,ne){if(!M.isBuffer(w))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=w.length&&(m=w.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),w.length-m<ne-U&&(ne=w.length-m+U);const ge=ne-U;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(w,this.subarray(U,ne),m),ge},M.prototype.fill=function(w,m,U,ne){if("string"==typeof w){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!M.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===w.length){const Ae=w.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(w=Ae)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,w||(w=0),"number"==typeof w)for(ge=m;ge<U;++ge)this[ge]=w;else{const Ae=M.isBuffer(w)?w:M.from(w,ne),tt=Ae.length;if(0===tt)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%tt]}return this};const Ve={};function Se(B,w,m){Ve[B]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function be(B){let w="",m=B.length;const U="-"===B[0]?1:0;for(;m>=U+4;m-=3)w=`_${B.slice(m-3,m)}${w}`;return`${B.slice(0,m)}${w}`}function ye(B,w,m,U,ne,ge){if(B>m||B<w){const Ae="bigint"==typeof w?"n":"";let tt;throw tt=ge>3?0===w||w===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${w}${Ae} and <= ${m}${Ae}`,new Ve.ERR_OUT_OF_RANGE("value",tt,B)}!function Ue(B,w,m){De(w,"offset"),(void 0===B[w]||void 0===B[w+m])&&pe(w,B.length-(m+1))}(U,ne,ge)}function De(B,w){if("number"!=typeof B)throw new Ve.ERR_INVALID_ARG_TYPE(w,"number",B)}function pe(B,w,m){throw Math.floor(B)!==B?(De(B,m),new Ve.ERR_OUT_OF_RANGE(m||"offset","an integer",B)):w<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${w}`,B)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(B,w){return`The "${B}" argument must be of type number. Received type ${typeof w}`},TypeError),Se("ERR_OUT_OF_RANGE",function(B,w,m){let U=`The value of "${B}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=be(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=be(ne)),ne+="n"),U+=` It must be ${w}. Received ${ne}`,U},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function oe(B,w){let m;w=w||1/0;const U=B.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=B.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(w-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(w-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(w-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(w-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((w-=1)<0)break;ge.push(m)}else if(m<2048){if((w-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function Re(B){return f.toByteArray(function Q(B){if((B=(B=B.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function $e(B,w,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=w.length||ne>=B.length);++ne)w[ne+m]=B[ne];return ne}function Fe(B,w){return B instanceof w||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===w.name}function Et(B){return B!=B}const We=function(){const B="0123456789abcdef",w=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)w[U+ne]=B[m]+B[ne]}return w}();function Le(B){return typeof BigInt>"u"?lt:B}function lt(){throw new Error("BigInt not supported")}},14078:je=>{var z=1e3,E=60*z,f=60*E,_=24*f,k=7*_;function O(F,L,D,X){var j=L>=1.5*D;return Math.round(F/D)+" "+X+(j?"s":"")}je.exports=function(F,L){L=L||{};var D=typeof F;if("string"===D&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var D=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*k;case"days":case"day":case"d":return D*_;case"hours":case"hour":case"hrs":case"hr":case"h":return D*f;case"minutes":case"minute":case"mins":case"min":case"m":return D*E;case"seconds":case"second":case"secs":case"sec":case"s":return D*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(F);if("number"===D&&isFinite(F))return L.long?function M(F){var L=Math.abs(F);return L>=_?O(F,L,_,"day"):L>=f?O(F,L,f,"hour"):L>=E?O(F,L,E,"minute"):L>=z?O(F,L,z,"second"):F+" ms"}(F):function P(F){var L=Math.abs(F);return L>=_?Math.round(F/_)+"d":L>=f?Math.round(F/f)+"h":L>=E?Math.round(F/E)+"m":L>=z?Math.round(F/z)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},57062:(je,z,E)=>{"use strict";const{SymbolDispose:f}=E(56389),{AbortError:_,codes:k}=E(68154),{isNodeStream:H,isWebStream:x,kControllerErrorFunction:P}=E(32924),M=E(46017),{ERR_INVALID_ARG_TYPE:O}=k;let F;je.exports.addAbortSignal=function(X,j){if(((D,X)=>{if("object"!=typeof D||!("aborted"in D))throw new O("signal","AbortSignal",D)})(X),!H(j)&&!x(j))throw new O("stream",["ReadableStream","WritableStream","Stream"],j);return je.exports.addAbortSignalNoValidate(X,j)},je.exports.addAbortSignalNoValidate=function(D,X){if("object"!=typeof D||!("aborted"in D))return X;const j=H(X)?()=>{X.destroy(new _(void 0,{cause:D.reason}))}:()=>{X[P](new _(void 0,{cause:D.reason}))};if(D.aborted)j();else{F=F||E(13509).addAbortListener;const G=F(D,j);M(X,G[f])}return X}},16630:(je,z,E)=>{"use strict";const{StringPrototypeSlice:f,SymbolIterator:_,TypedArrayPrototypeSet:k,Uint8Array:H}=E(56389),{Buffer:x}=E(68316),{inspect:P}=E(13509);je.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(O){const F={data:O,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(O){const F={data:O,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length}shift(){if(0===this.length)return;const O=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,O}clear(){this.head=this.tail=null,this.length=0}join(O){if(0===this.length)return"";let F=this.head,L=""+F.data;for(;null!==(F=F.next);)L+=O+F.data;return L}concat(O){if(0===this.length)return x.alloc(0);const F=x.allocUnsafe(O>>>0);let L=this.head,D=0;for(;L;)k(F,L.data,D),D+=L.data.length,L=L.next;return F}consume(O,F){const L=this.head.data;if(O<L.length){const D=L.slice(0,O);return this.head.data=L.slice(O),D}return O===L.length?this.shift():F?this._getString(O):this._getBuffer(O)}first(){return this.head.data}*[_](){for(let O=this.head;O;O=O.next)yield O.data}_getString(O){let F="",L=this.head,D=0;do{const X=L.data;if(!(O>X.length)){O===X.length?(F+=X,++D,this.head=L.next?L.next:this.tail=null):(F+=f(X,0,O),this.head=L,L.data=f(X,O));break}F+=X,O-=X.length,++D}while(null!==(L=L.next));return this.length-=D,F}_getBuffer(O){const F=x.allocUnsafe(O),L=O;let D=this.head,X=0;do{const j=D.data;if(!(O>j.length)){O===j.length?(k(F,j,L-O),++X,this.head=D.next?D.next:this.tail=null):(k(F,new H(j.buffer,j.byteOffset,O),L-O),this.head=D,D.data=j.slice(O));break}k(F,j,L-O),O-=j.length,++X}while(null!==(D=D.next));return this.length-=X,F}[Symbol.for("nodejs.util.inspect.custom")](O,F){return P(this,{...F,depth:0,customInspect:!1})}}},373:(je,z,E)=>{"use strict";var f=E(29293).default;const{pipeline:_}=E(67843),k=E(13323),{destroyer:H}=E(96507),{isNodeStream:x,isReadable:P,isWritable:M,isWebStream:O,isTransformStream:F,isWritableStream:L,isReadableStream:D}=E(32924),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=E(68154),re=E(46017);je.exports=function(...J){if(0===J.length)throw new G("streams");if(1===J.length)return k.from(J[0]);const Z=[...J];if("function"==typeof J[0]&&(J[0]=k.from(J[0])),"function"==typeof J[J.length-1]){const u=J.length-1;J[u]=k.from(J[u])}for(let u=0;u<J.length;++u)if(x(J[u])||O(J[u])){if(u<J.length-1&&!(P(J[u])||D(J[u])||F(J[u])))throw new j(`streams[${u}]`,Z[u],"must be readable");if(u>0&&!(M(J[u])||L(J[u])||F(J[u])))throw new j(`streams[${u}]`,Z[u],"must be writable")}let ie,ae,se,de,le;const xe=J[0],Ce=_(J,function we(u){const y=de;de=null,y?y(u):u?le.destroy(u):!a&&!C&&le.destroy()}),C=!!(M(xe)||L(xe)||F(xe)),a=!!(P(Ce)||D(Ce)||F(Ce));if(le=new k({writableObjectMode:!(null==xe||!xe.writableObjectMode),readableObjectMode:!(null==Ce||!Ce.readableObjectMode),writable:C,readable:a}),C){if(x(xe))le._write=function(y,g,S){xe.write(y,g)?S():ie=S},le._final=function(y){xe.end(),ae=y},xe.on("drain",function(){if(ie){const y=ie;ie=null,y()}});else if(O(xe)){const g=(F(xe)?xe.writable:xe).getWriter();le._write=function(){var S=f(function*(T,N,A){try{yield g.ready,g.write(T).catch(()=>{}),A()}catch(s){A(s)}});return function(T,N,A){return S.apply(this,arguments)}}(),le._final=function(){var S=f(function*(T){try{yield g.ready,g.close().catch(()=>{}),ae=T}catch(N){T(N)}});return function(T){return S.apply(this,arguments)}}()}const u=F(Ce)?Ce.readable:Ce;re(u,()=>{if(ae){const y=ae;ae=null,y()}})}if(a)if(x(Ce))Ce.on("readable",function(){if(se){const u=se;se=null,u()}}),Ce.on("end",function(){le.push(null)}),le._read=function(){for(;;){const u=Ce.read();if(null===u)return void(se=le._read);if(!le.push(u))return}};else if(O(Ce)){const y=(F(Ce)?Ce.readable:Ce).getReader();le._read=f(function*(){for(;;)try{const{value:g,done:S}=yield y.read();if(!le.push(g))return;if(S)return void le.push(null)}catch{return}})}return le._destroy=function(u,y){!u&&null!==de&&(u=new X),se=null,ie=null,ae=null,null===de?y(u):(de=y,x(Ce)&&H(Ce,u))},le}},96507:(je,z,E)=>{"use strict";const f=E(40573),{aggregateTwoErrors:_,codes:{ERR_MULTIPLE_CALLBACK:k},AbortError:H}=E(68154),{Symbol:x}=E(56389),{kIsDestroyed:P,isDestroyed:M,isFinished:O,isServerRequest:F}=E(32924),L=x("kDestroy"),D=x("kConstruct");function X(C,a,u){C&&(a&&!a.errored&&(a.errored=C),u&&!u.errored&&(u.errored=C))}function G(C,a,u){let y=!1;function g(S){if(y)return;y=!0;const T=C._readableState,N=C._writableState;X(S,N,T),N&&(N.closed=!0),T&&(T.closed=!0),"function"==typeof u&&u(S),S?f.nextTick(re,C,S):f.nextTick(te,C)}try{C._destroy(a||null,g)}catch(S){g(S)}}function re(C,a){J(C,a),te(C)}function te(C){const a=C._readableState,u=C._writableState;u&&(u.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=u&&u.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function J(C,a){const u=C._readableState,y=C._writableState;null!=y&&y.errorEmitted||null!=u&&u.errorEmitted||(y&&(y.errorEmitted=!0),u&&(u.errorEmitted=!0),C.emit("error",a))}function ie(C,a,u){const y=C._readableState,g=C._writableState;if(null!=g&&g.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=g&&g.autoDestroy?C.destroy(a):a&&(g&&!g.errored&&(g.errored=a),y&&!y.errored&&(y.errored=a),u?f.nextTick(J,C,a):J(C,a))}function se(C){let a=!1;function u(y){if(a)return void ie(C,y??new k);a=!0;const g=C._readableState,S=C._writableState,T=S||g;g&&(g.constructed=!0),S&&(S.constructed=!0),T.destroyed?C.emit(L,y):y?ie(C,y,!0):f.nextTick(de,C)}try{C._construct(y=>{f.nextTick(u,y)})}catch(y){f.nextTick(u,y)}}function de(C){C.emit(D)}function le(C){return C?.setHeader&&"function"==typeof C.abort}function we(C){C.emit("close")}function xe(C,a){C.emit("error",a),f.nextTick(we,C)}je.exports={construct:function ae(C,a){if("function"!=typeof C._construct)return;const u=C._readableState,y=C._writableState;u&&(u.constructed=!1),y&&(y.constructed=!1),C.once(D,a),!(C.listenerCount(D)>1)&&f.nextTick(se,C)},destroyer:function Ce(C,a){!C||M(C)||(!a&&!O(C)&&(a=new H),F(C)?(C.socket=null,C.destroy(a)):le(C)?C.abort():le(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?f.nextTick(xe,C,a):f.nextTick(we,C),C.destroyed||(C[P]=!0))},destroy:function j(C,a){const u=this._readableState,y=this._writableState,g=y||u;return null!=y&&y.destroyed||null!=u&&u.destroyed?("function"==typeof a&&a(),this):(X(C,y,u),y&&(y.destroyed=!0),u&&(u.destroyed=!0),g.constructed?G(this,C,a):this.once(L,function(S){G(this,_(S,C),a)}),this)},undestroy:function Z(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:ie}},13323:(je,z,E)=>{"use strict";const{ObjectDefineProperties:f,ObjectGetOwnPropertyDescriptor:_,ObjectKeys:k,ObjectSetPrototypeOf:H}=E(56389);je.exports=M;const x=E(84553),P=E(30009);H(M.prototype,x.prototype),H(M,x);{const D=k(P.prototype);for(let X=0;X<D.length;X++){const j=D[X];M.prototype[j]||(M.prototype[j]=P.prototype[j])}}function M(D){if(!(this instanceof M))return new M(D);x.call(this,D),P.call(this,D),D?(this.allowHalfOpen=!1!==D.allowHalfOpen,!1===D.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let O,L;function F(){return void 0===O&&(O={}),O}f(M.prototype,{writable:{__proto__:null,..._(P.prototype,"writable")},writableHighWaterMark:{__proto__:null,..._(P.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,..._(P.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,..._(P.prototype,"writableBuffer")},writableLength:{__proto__:null,..._(P.prototype,"writableLength")},writableFinished:{__proto__:null,..._(P.prototype,"writableFinished")},writableCorked:{__proto__:null,..._(P.prototype,"writableCorked")},writableEnded:{__proto__:null,..._(P.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,..._(P.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}}),M.fromWeb=function(D,X){return F().newStreamDuplexFromReadableWritablePair(D,X)},M.toWeb=function(D){return F().newReadableWritablePairFromDuplex(D)},M.from=function(D){return L||(L=E(44425)),L(D,"body")}},44425:(je,z,E)=>{var f=E(29293).default,_=E(53344).default,k=E(42958).default;const H=E(40573),x=E(68316),{isReadable:P,isWritable:M,isIterable:O,isNodeStream:F,isReadableNodeStream:L,isWritableNodeStream:D,isDuplexNodeStream:X,isReadableStream:j,isWritableStream:G}=E(32924),re=E(46017),{AbortError:te,codes:{ERR_INVALID_ARG_TYPE:J,ERR_INVALID_RETURN_VALUE:Z}}=E(68154),{destroyer:ie}=E(96507),ae=E(13323),se=E(84553),de=E(30009),{createDeferredPromise:le}=E(13509),we=E(45737),xe=globalThis.Blob||x.Blob,Ce=typeof xe<"u"?function(T){return T instanceof xe}:function(T){return!1},C=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:a}=E(56389);class u extends ae{constructor(T){super(T),!1===T?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===T?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function g(S){const T=S.readable&&"function"!=typeof S.readable.read?se.wrap(S.readable):S.readable,N=S.writable;let v,W,K,ee,ce,A=!!P(T),s=!!M(N);function _e(Oe){const Ve=ee;ee=null,Ve?Ve(Oe):Oe&&ce.destroy(Oe)}return ce=new u({readableObjectMode:!(null==T||!T.readableObjectMode),writableObjectMode:!(null==N||!N.writableObjectMode),readable:A,writable:s}),s&&(re(N,Oe=>{s=!1,Oe&&ie(T,Oe),_e(Oe)}),ce._write=function(Oe,Ve,Se){N.write(Oe,Ve)?Se():v=Se},ce._final=function(Oe){N.end(),W=Oe},N.on("drain",function(){if(v){const Oe=v;v=null,Oe()}}),N.on("finish",function(){if(W){const Oe=W;W=null,Oe()}})),A&&(re(T,Oe=>{A=!1,Oe&&ie(T,Oe),_e(Oe)}),T.on("readable",function(){if(K){const Oe=K;K=null,Oe()}}),T.on("end",function(){ce.push(null)}),ce._read=function(){for(;;){const Oe=T.read();if(null===Oe)return void(K=ce._read);if(!ce.push(Oe))return}}),ce._destroy=function(Oe,Ve){!Oe&&null!==ee&&(Oe=new te),K=null,v=null,W=null,null===ee?Ve(Oe):(ee=Ve,ie(N,Oe),ie(T,Oe))},ce}je.exports=function S(T,N){if(X(T))return T;if(L(T))return g({readable:T});if(D(T))return g({writable:T});if(F(T))return g({writable:!1,readable:!1});if(j(T))return g({readable:se.fromWeb(T)});if(G(T))return g({writable:de.fromWeb(T)});if("function"==typeof T){const{value:s,write:v,final:W,destroy:K}=function y(S){let{promise:T,resolve:N}=le();const A=new C,s=A.signal;return{value:S(k(function*(){for(;;){const W=T;T=null;const{chunk:K,done:ee,cb:ce}=yield _(W);if(H.nextTick(ce),ee)return;if(s.aborted)throw new te(void 0,{cause:s.reason});({promise:T,resolve:N}=le()),yield K}})(),{signal:s}),write(W,K,ee){const ce=N;N=null,ce({chunk:W,done:!1,cb:ee})},final(W){const K=N;N=null,K({done:!0,cb:W})},destroy(W,K){A.abort(),K(W)}}}(T);if(O(s))return we(u,s,{objectMode:!0,write:v,final:W,destroy:K});const ee=s?.then;if("function"==typeof ee){let ce;const _e=a(ee,s,Oe=>{if(null!=Oe)throw new Z("nully","body",Oe)},Oe=>{ie(ce,Oe)});return ce=new u({objectMode:!0,readable:!1,write:v,final(Oe){W(f(function*(){try{yield _e,H.nextTick(Oe,null)}catch(Ve){H.nextTick(Oe,Ve)}}))},destroy:K})}throw new Z("Iterable, AsyncIterable or AsyncFunction",N,s)}if(Ce(T))return S(T.arrayBuffer());if(O(T))return we(u,T,{objectMode:!0,writable:!1});if(j(T?.readable)&&G(T?.writable))return u.fromWeb(T);if("object"==typeof T?.writable||"object"==typeof T?.readable)return g({readable:null!=T&&T.readable?L(T?.readable)?T?.readable:S(T.readable):void 0,writable:null!=T&&T.writable?D(T?.writable)?T?.writable:S(T.writable):void 0});const A=T?.then;if("function"==typeof A){let s;return a(A,T,v=>{null!=v&&s.push(v),s.push(null)},v=>{ie(s,v)}),s=new u({objectMode:!0,writable:!1,read(){}})}throw new J(N,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],T)}},46017:(je,z,E)=>{const f=E(40573),{AbortError:_,codes:k}=E(68154),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:x}=k,{kEmptyObject:P,once:M}=E(13509),{validateAbortSignal:O,validateFunction:F,validateObject:L,validateBoolean:D}=E(99852),{Promise:X,PromisePrototypeThen:j,SymbolDispose:G}=E(56389),{isClosed:re,isReadable:te,isReadableNodeStream:J,isReadableStream:Z,isReadableFinished:ie,isReadableErrored:ae,isWritable:se,isWritableNodeStream:de,isWritableStream:le,isWritableFinished:we,isWritableErrored:xe,isNodeStream:Ce,willEmitClose:C,kIsClosedPromise:a}=E(32924);let u;const g=()=>{};function S(A,s,v){var W,K;if(2===arguments.length?(v=s,s=P):null==s?s=P:L(s,"options"),F(v,"callback"),O(s.signal,"options.signal"),v=M(v),Z(A)||le(A))return function T(A,s,v){let W=!1,K=g;if(s.signal)if(K=()=>{W=!0,v.call(A,new _(void 0,{cause:s.signal.reason}))},s.signal.aborted)f.nextTick(K);else{u=u||E(13509).addAbortListener;const ce=u(s.signal,K),_e=v;v=M((...Oe)=>{ce[G](),_e.apply(A,Oe)})}const ee=(...ce)=>{W||f.nextTick(()=>v.apply(A,ce))};return j(A[a].promise,ee,ee),g}(A,s,v);if(!Ce(A))throw new H("stream",["ReadableStream","WritableStream","Stream"],A);const ee=null!==(W=s.readable)&&void 0!==W?W:J(A),ce=null!==(K=s.writable)&&void 0!==K?K:de(A),_e=A._writableState,Oe=A._readableState,Ve=()=>{A.writable||Ue()};let Se=C(A)&&J(A)===ee&&de(A)===ce,be=we(A,!1);const Ue=()=>{be=!0,A.destroyed&&(Se=!1),(!Se||A.readable&&!ee)&&(!ee||ye)&&v.call(A)};let ye=ie(A,!1);const De=()=>{ye=!0,A.destroyed&&(Se=!1),(!Se||A.writable&&!ce)&&(!ce||be)&&v.call(A)},pe=Re=>{v.call(A,Re)};let ue=re(A);const Q=()=>{ue=!0;const Re=xe(A)||ae(A);return Re&&"boolean"!=typeof Re?v.call(A,Re):ee&&!ye&&J(A,!0)&&!ie(A,!1)?v.call(A,new x):!ce||be||we(A,!1)?void v.call(A):v.call(A,new x)},oe=()=>{ue=!0;const Re=xe(A)||ae(A);if(Re&&"boolean"!=typeof Re)return v.call(A,Re);v.call(A)},fe=()=>{A.req.on("finish",Ue)};!function y(A){return A.setHeader&&"function"==typeof A.abort}(A)?ce&&!_e&&(A.on("end",Ve),A.on("close",Ve)):(A.on("complete",Ue),Se||A.on("abort",Q),A.req?fe():A.on("request",fe)),!Se&&"boolean"==typeof A.aborted&&A.on("aborted",Q),A.on("end",De),A.on("finish",Ue),!1!==s.error&&A.on("error",pe),A.on("close",Q),ue?f.nextTick(Q):null!=_e&&_e.errorEmitted||null!=Oe&&Oe.errorEmitted?Se||f.nextTick(oe):(!ee&&(!Se||te(A))&&(be||!1===se(A))||!ce&&(!Se||se(A))&&(ye||!1===te(A))||Oe&&A.req&&A.aborted)&&f.nextTick(oe);const Ee=()=>{v=g,A.removeListener("aborted",Q),A.removeListener("complete",Ue),A.removeListener("abort",Q),A.removeListener("request",fe),A.req&&A.req.removeListener("finish",Ue),A.removeListener("end",Ve),A.removeListener("close",Ve),A.removeListener("finish",Ue),A.removeListener("end",De),A.removeListener("error",pe),A.removeListener("close",Q)};if(s.signal&&!ue){const Re=()=>{const $e=v;Ee(),$e.call(A,new _(void 0,{cause:s.signal.reason}))};if(s.signal.aborted)f.nextTick(Re);else{u=u||E(13509).addAbortListener;const $e=u(s.signal,Re),Fe=v;v=M((...Et)=>{$e[G](),Fe.apply(A,Et)})}}return Ee}je.exports=S,je.exports.finished=function N(A,s){var v;let W=!1;return null===s&&(s=P),null!==(v=s)&&void 0!==v&&v.cleanup&&(D(s.cleanup,"cleanup"),W=s.cleanup),new X((K,ee)=>{const ce=S(A,s,_e=>{W&&ce(),_e?ee(_e):K()})})}},45737:(je,z,E)=>{"use strict";var f=E(29293).default;const _=E(40573),{PromisePrototypeThen:k,SymbolAsyncIterator:H,SymbolIterator:x}=E(56389),{Buffer:P}=E(68316),{ERR_INVALID_ARG_TYPE:M,ERR_STREAM_NULL_VALUES:O}=E(68154).codes;je.exports=function F(L,D,X){let j,G;if("string"==typeof D||D instanceof P)return new L({objectMode:!0,...X,read(){this.push(D),this.push(null)}});if(D&&D[H])G=!0,j=D[H]();else{if(!D||!D[x])throw new M("iterable",["Iterable"],D);G=!1,j=D[x]()}const re=new L({objectMode:!0,highWaterMark:1,...X});let te=!1;function Z(){return(Z=f(function*(se){if(null!=se&&"function"==typeof j.throw){const{value:we,done:xe}=yield j.throw(se);if(yield we,xe)return}if("function"==typeof j.return){const{value:we}=yield j.return();yield we}})).apply(this,arguments)}function ae(){return(ae=f(function*(){for(;;){try{const{value:se,done:de}=G?yield j.next():j.next();if(de)re.push(null);else{const le=se&&"function"==typeof se.then?yield se:se;if(null===le)throw te=!1,new O;if(re.push(le))continue;te=!1}}catch(se){re.destroy(se)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function ie(){ae.apply(this,arguments)}())},re._destroy=function(se,de){k(function J(se){return Z.apply(this,arguments)}(se),()=>_.nextTick(de,se),le=>_.nextTick(de,le||se))},re}},91242:(je,z,E)=>{"use strict";const{ArrayIsArray:f,ObjectSetPrototypeOf:_}=E(56389),{EventEmitter:k}=E(44356);function H(P){k.call(this,P)}function x(P,M,O){if("function"==typeof P.prependListener)return P.prependListener(M,O);P._events&&P._events[M]?f(P._events[M])?P._events[M].unshift(O):P._events[M]=[O,P._events[M]]:P.on(M,O)}_(H.prototype,k.prototype),_(H,k),H.prototype.pipe=function(P,M){const O=this;function F(te){P.writable&&!1===P.write(te)&&O.pause&&O.pause()}function L(){O.readable&&O.resume&&O.resume()}O.on("data",F),P.on("drain",L),!P._isStdio&&(!M||!1!==M.end)&&(O.on("end",X),O.on("close",j));let D=!1;function X(){D||(D=!0,P.end())}function j(){D||(D=!0,"function"==typeof P.destroy&&P.destroy())}function G(te){re(),0===k.listenerCount(this,"error")&&this.emit("error",te)}function re(){O.removeListener("data",F),P.removeListener("drain",L),O.removeListener("end",X),O.removeListener("close",j),O.removeListener("error",G),P.removeListener("error",G),O.removeListener("end",re),O.removeListener("close",re),P.removeListener("close",re)}return x(O,"error",G),x(P,"error",G),O.on("end",re),O.on("close",re),P.on("close",re),P.emit("pipe",O),P},je.exports={Stream:H,prependListener:x}},21840:(je,z,E)=>{"use strict";var f=E(29293).default,_=E(93513).default,k=E(82881).default,H=E(53344).default,x=E(42958).default;const P=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:M,ERR_INVALID_ARG_TYPE:O,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:L},AbortError:D}=E(68154),{validateAbortSignal:X,validateInteger:j,validateObject:G}=E(99852),re=E(56389).Symbol("kWeak"),te=E(56389).Symbol("kResistStopPropagation"),{finished:J}=E(46017),Z=E(373),{addAbortSignalNoValidate:ie}=E(57062),{isWritable:ae,isNodeStream:se}=E(32924),{deprecate:de}=E(13509),{ArrayPrototypePush:le,Boolean:we,MathFloor:xe,Number:Ce,NumberIsNaN:C,Promise:a,PromiseReject:u,PromiseResolve:y,PromisePrototypeThen:g,Symbol:S}=E(56389),T=S("kEmpty"),N=S("kEof");function s(Re,$e){if("function"!=typeof Re)throw new O("fn",["Function","AsyncFunction"],Re);null!=$e&&G($e,"options"),null!=$e?.signal&&X($e.signal,"options.signal");let Fe=1;null!=$e?.concurrency&&(Fe=xe($e.concurrency));let Et=Fe-1;return null!=$e?.highWaterMark&&(Et=xe($e.highWaterMark)),j(Fe,"options.concurrency",1),j(Et,"options.highWaterMark",0),Et+=Fe,function(){var We=x(function*(){const lt=E(13509).AbortSignalAny([$e?.signal].filter(we)),B=this,w=[],m={signal:lt};let U,ne,ge=!1,Ae=0;function tt(){ge=!0,Bt()}function Bt(){Ae-=1,vt()}function vt(){ne&&!ge&&Ae<Fe&&w.length<Et&&(ne(),ne=null)}function Gt(){return(Gt=f(function*(){try{var ar,hn=!1,dn=!1;try{for(var en,An=k(B);hn=!(en=yield An.next()).done;hn=!1){let Qt=en.value;if(ge)return;if(lt.aborted)throw new D;try{if(Qt=Re(Qt,m),Qt===T)continue;Qt=y(Qt)}catch(_t){Qt=u(_t)}Ae+=1,g(Qt,Bt,tt),w.push(Qt),U&&(U(),U=null),!ge&&(w.length>=Et||Ae>=Fe)&&(yield new a(_t=>{ne=_t}))}}catch(Qt){dn=!0,ar=Qt}finally{try{hn&&null!=An.return&&(yield An.return())}finally{if(dn)throw ar}}w.push(N)}catch(Qt){const _t=u(Qt);g(_t,Bt,tt),w.push(_t)}finally{ge=!0,U&&(U(),U=null)}})).apply(this,arguments)}!function It(){Gt.apply(this,arguments)}();try{for(;;){for(;w.length>0;){const hn=yield H(w[0]);if(hn===N)return;if(lt.aborted)throw new D;hn!==T&&(yield hn),w.shift(),vt()}yield H(new a(hn=>{U=hn}))}}finally{ge=!0,ne&&(ne(),ne=null)}});return function Le(){return We.apply(this,arguments)}}().call(this)}function W(Re){return K.apply(this,arguments)}function K(){return(K=f(function*(Re,$e=void 0){var We,Fe=!1,Et=!1;try{for(var Le=k(be.call(this,Re,$e));Fe=!(yield Le.next()).done;Fe=!1)return!0}catch(B){Et=!0,We=B}finally{try{Fe&&null!=Le.return&&(yield Le.return())}finally{if(Et)throw We}}return!1})).apply(this,arguments)}function ce(){return(ce=f(function*(Re,$e=void 0){if("function"!=typeof Re)throw new O("fn",["Function","AsyncFunction"],Re);return!(yield W.call(this,f(function*(...Fe){return!(yield Re(...Fe))}),$e))})).apply(this,arguments)}function Oe(){return(Oe=f(function*(Re,$e){var We,Fe=!1,Et=!1;try{for(var lt,Le=k(be.call(this,Re,$e));Fe=!(lt=yield Le.next()).done;Fe=!1)return lt.value}catch(B){Et=!0,We=B}finally{try{Fe&&null!=Le.return&&(yield Le.return())}finally{if(Et)throw We}}})).apply(this,arguments)}function Se(){return Se=f(function*(Re,$e){if("function"!=typeof Re)throw new O("fn",["Function","AsyncFunction"],Re);function Et(){return(Et=f(function*(m,U){return yield Re(m,U),T})).apply(this,arguments)}var lt,We=!1,Le=!1;try{for(var B=k(s.call(this,function Fe(m,U){return Et.apply(this,arguments)},$e));We=!(yield B.next()).done;We=!1);}catch(m){Le=!0,lt=m}finally{try{We&&null!=B.return&&(yield B.return())}finally{if(Le)throw lt}}}),Se.apply(this,arguments)}function be(Re,$e){if("function"!=typeof Re)throw new O("fn",["Function","AsyncFunction"],Re);function Et(){return(Et=f(function*(We,Le){return(yield Re(We,Le))?We:T})).apply(this,arguments)}return s.call(this,function Fe(We,Le){return Et.apply(this,arguments)},$e)}class Ue extends F{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function De(){return De=f(function*(Re,$e,Fe){var Et;if("function"!=typeof Re)throw new O("reducer",["Function","AsyncFunction"],Re);null!=Fe&&G(Fe,"options"),null!=Fe?.signal&&X(Fe.signal,"options.signal");let We=arguments.length>1;if(null!=Fe&&null!==(Et=Fe.signal)&&void 0!==Et&&Et.aborted){const tt=new D(void 0,{cause:Fe.signal.reason});throw this.once("error",()=>{}),yield J(this.destroy(tt)),tt}const Le=new P,lt=Le.signal;null!=Fe&&Fe.signal&&Fe.signal.addEventListener("abort",()=>Le.abort(),{once:!0,[re]:this,[te]:!0});let B=!1;try{var U,w=!1,m=!1;try{for(var ge,ne=k(this);w=!(ge=yield ne.next()).done;w=!1){const tt=ge.value;var Ae;if(B=!0,null!=Fe&&null!==(Ae=Fe.signal)&&void 0!==Ae&&Ae.aborted)throw new D;We?$e=yield Re($e,tt,{signal:lt}):($e=tt,We=!0)}}catch(tt){m=!0,U=tt}finally{try{w&&null!=ne.return&&(yield ne.return())}finally{if(m)throw U}}if(!B&&!We)throw new Ue}finally{Le.abort()}return $e}),De.apply(this,arguments)}function ue(){return(ue=f(function*(Re){null!=Re&&G(Re,"options"),null!=Re?.signal&&X(Re.signal,"options.signal");const $e=[];var We,Fe=!1,Et=!1;try{for(var lt,Le=k(this);Fe=!(lt=yield Le.next()).done;Fe=!1){const w=lt.value;var B;if(null!=Re&&null!==(B=Re.signal)&&void 0!==B&&B.aborted)throw new D(void 0,{cause:Re.signal.reason});le($e,w)}}catch(w){Et=!0,We=w}finally{try{Fe&&null!=Le.return&&(yield Le.return())}finally{if(Et)throw We}}return $e})).apply(this,arguments)}function oe(Re){if(Re=Ce(Re),C(Re))return 0;if(Re<0)throw new L("number",">= 0",Re);return Re}je.exports.streamReturningOperators={asIndexedPairs:de(function v(Re=void 0){return null!=Re&&G(Re,"options"),null!=Re?.signal&&X(Re.signal,"options.signal"),function(){var $e=x(function*(){let Et=0;var lt,We=!1,Le=!1;try{for(var w,B=k(this);We=!(w=yield H(B.next())).done;We=!1){const U=w.value;var m;if(null!=Re&&null!==(m=Re.signal)&&void 0!==m&&m.aborted)throw new D({cause:Re.signal.reason});yield[Et++,U]}}catch(U){Le=!0,lt=U}finally{try{We&&null!=B.return&&(yield H(B.return()))}finally{if(Le)throw lt}}});return function Fe(){return $e.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function fe(Re,$e=void 0){return null!=$e&&G($e,"options"),null!=$e?.signal&&X($e.signal,"options.signal"),Re=oe(Re),function(){var Fe=x(function*(){var We;if(null!=$e&&null!==(We=$e.signal)&&void 0!==We&&We.aborted)throw new D;var B,Le=!1,lt=!1;try{for(var m,w=k(this);Le=!(m=yield H(w.next())).done;Le=!1){const ne=m.value;var U;if(null!=$e&&null!==(U=$e.signal)&&void 0!==U&&U.aborted)throw new D;Re--<=0&&(yield ne)}}catch(ne){lt=!0,B=ne}finally{try{Le&&null!=w.return&&(yield H(w.return()))}finally{if(lt)throw B}}});return function Et(){return Fe.apply(this,arguments)}}().call(this)},filter:be,flatMap:function Q(Re,$e){const Fe=s.call(this,Re,$e);return function(){var Et=x(function*(){var B,Le=!1,lt=!1;try{for(var m,w=k(Fe);Le=!(m=yield H(w.next())).done;Le=!1){const U=m.value;yield*_(k(U),H)}}catch(U){lt=!0,B=U}finally{try{Le&&null!=w.return&&(yield H(w.return()))}finally{if(lt)throw B}}});return function We(){return Et.apply(this,arguments)}}().call(this)},map:s,take:function Ee(Re,$e=void 0){return null!=$e&&G($e,"options"),null!=$e?.signal&&X($e.signal,"options.signal"),Re=oe(Re),function(){var Fe=x(function*(){var We;if(null!=$e&&null!==(We=$e.signal)&&void 0!==We&&We.aborted)throw new D;var B,Le=!1,lt=!1;try{for(var m,w=k(this);Le=!(m=yield H(w.next())).done;Le=!1){const ne=m.value;var U;if(null!=$e&&null!==(U=$e.signal)&&void 0!==U&&U.aborted)throw new D;if(Re-- >0&&(yield ne),Re<=0)return}}catch(ne){lt=!0,B=ne}finally{try{Le&&null!=w.return&&(yield H(w.return()))}finally{if(lt)throw B}}});return function Et(){return Fe.apply(this,arguments)}}().call(this)},compose:function A(Re,$e){if(null!=$e&&G($e,"options"),null!=$e?.signal&&X($e.signal,"options.signal"),se(Re)&&!ae(Re))throw new M("stream",Re,"must be writable");const Fe=Z(this,Re);return null!=$e&&$e.signal&&ie($e.signal,Fe),Fe}},je.exports.promiseReturningOperators={every:function ee(Re){return ce.apply(this,arguments)},forEach:function Ve(Re,$e){return Se.apply(this,arguments)},reduce:function ye(Re,$e,Fe){return De.apply(this,arguments)},toArray:function pe(Re){return ue.apply(this,arguments)},some:W,find:function _e(Re,$e){return Oe.apply(this,arguments)}}},59447:(je,z,E)=>{"use strict";const{ObjectSetPrototypeOf:f}=E(56389);je.exports=k;const _=E(71981);function k(H){if(!(this instanceof k))return new k(H);_.call(this,H)}f(k.prototype,_.prototype),f(k,_),k.prototype._transform=function(H,x,P){P(null,H)}},67843:(je,z,E)=>{var f=E(29293).default,_=E(42958).default,k=E(53344).default,H=E(93513).default,x=E(82881).default;const P=E(40573),{ArrayIsArray:M,Promise:O,SymbolAsyncIterator:F,SymbolDispose:L}=E(56389),D=E(46017),{once:X}=E(13509),j=E(96507),G=E(13323),{aggregateTwoErrors:re,codes:{ERR_INVALID_ARG_TYPE:te,ERR_INVALID_RETURN_VALUE:J,ERR_MISSING_ARGS:Z,ERR_STREAM_DESTROYED:ie,ERR_STREAM_PREMATURE_CLOSE:ae},AbortError:se}=E(68154),{validateFunction:de,validateAbortSignal:le}=E(99852),{isIterable:we,isReadable:xe,isReadableNodeStream:Ce,isNodeStream:C,isTransformStream:a,isWebStream:u,isReadableStream:y,isReadableFinished:g}=E(32924),S=globalThis.AbortController||E(9465).AbortController;let T,N,A;function s(ye,De,pe){let ue=!1;return ye.on("close",()=>{ue=!0}),{destroy:oe=>{ue||(ue=!0,j.destroyer(ye,oe||new ie("pipe")))},cleanup:D(ye,{readable:De,writable:pe},oe=>{ue=!oe})}}function W(ye){if(we(ye))return ye;if(Ce(ye))return function K(ye){return ee.apply(this,arguments)}(ye);throw new te("val",["Readable","Iterable","AsyncIterable"],ye)}function ee(){return(ee=_(function*(ye){N||(N=E(84553)),yield*H(x(N.prototype[F].call(ye)),k)})).apply(this,arguments)}function ce(ye,De,pe,ue){return _e.apply(this,arguments)}function _e(){return(_e=f(function*(ye,De,pe,{end:ue}){let Q,oe=null;const fe=lt=>{if(lt&&(Q=lt),oe){const B=oe;oe=null,B()}},Ee=()=>new O((lt,B)=>{Q?B(Q):oe=()=>{Q?B(Q):lt()}});De.on("drain",fe);const Re=D(De,{readable:!1},fe);try{De.writableNeedDrain&&(yield Ee());var Et,$e=!1,Fe=!1;try{for(var Le,We=x(ye);$e=!(Le=yield We.next()).done;$e=!1)De.write(Le.value)||(yield Ee())}catch(lt){Fe=!0,Et=lt}finally{try{$e&&null!=We.return&&(yield We.return())}finally{if(Fe)throw Et}}ue&&(De.end(),yield Ee()),pe()}catch(lt){pe(Q!==lt?re(Q,lt):lt)}finally{Re(),De.off("drain",fe)}})).apply(this,arguments)}function Oe(ye,De,pe,ue){return Ve.apply(this,arguments)}function Ve(){return(Ve=f(function*(ye,De,pe,{end:ue}){a(De)&&(De=De.writable);const Q=De.getWriter();try{var Ee,oe=!1,fe=!1;try{for(var $e,Re=x(ye);oe=!($e=yield Re.next()).done;oe=!1){const Fe=$e.value;yield Q.ready,Q.write(Fe).catch(()=>{})}}catch(Fe){fe=!0,Ee=Fe}finally{try{oe&&null!=Re.return&&(yield Re.return())}finally{if(fe)throw Ee}}yield Q.ready,ue&&(yield Q.close()),pe()}catch(Fe){try{yield Q.abort(Fe),pe(Fe)}catch(Et){pe(Et)}}})).apply(this,arguments)}function be(ye,De,pe){if(1===ye.length&&M(ye[0])&&(ye=ye[0]),ye.length<2)throw new Z("streams");const ue=new S,Q=ue.signal,oe=pe?.signal,fe=[];function Ee(){lt(new se)}let Re,$e,Fe;le(oe,"options.signal"),A=A||E(13509).addAbortListener,oe&&(Re=A(oe,Ee));const Et=[];let B,We=0;function Le(ne){lt(ne,0==--We)}function lt(ne,ge){var Ae;if(ne&&(!$e||"ERR_STREAM_PREMATURE_CLOSE"===$e.code)&&($e=ne),$e||ge){for(;Et.length;)Et.shift()($e);null===(Ae=Re)||void 0===Ae||Ae[L](),ue.abort(),ge&&($e||fe.forEach(tt=>tt()),P.nextTick(De,$e,Fe))}}for(let ne=0;ne<ye.length;ne++){const ge=ye[ne],Ae=ne<ye.length-1,tt=ne>0,Bt=Ae||!1!==pe?.end,vt=ne===ye.length-1;if(C(ge)){let It=function(Gt){Gt&&"AbortError"!==Gt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Gt.code&&Le(Gt)};if(Bt){const{destroy:Gt,cleanup:hn}=s(ge,Ae,tt);Et.push(Gt),xe(ge)&&vt&&fe.push(hn)}ge.on("error",It),xe(ge)&&vt&&fe.push(()=>{ge.removeListener("error",It)})}if(0===ne)if("function"==typeof ge){if(B=ge({signal:Q}),!we(B))throw new J("Iterable, AsyncIterable or Stream","source",B)}else B=we(ge)||Ce(ge)||a(ge)?ge:G.from(ge);else if("function"==typeof ge){var w;if(B=a(B)?W(null===(w=B)||void 0===w?void 0:w.readable):W(B),B=ge(B,{signal:Q}),Ae){if(!we(B,!0))throw new J("AsyncIterable",`transform[${ne-1}]`,B)}else{var m;T||(T=E(59447));const It=new T({objectMode:!0}),Gt=null===(m=B)||void 0===m?void 0:m.then;if("function"==typeof Gt)We++,Gt.call(B,ar=>{Fe=ar,null!=ar&&It.write(ar),Bt&&It.end(),P.nextTick(Le)},ar=>{It.destroy(ar),P.nextTick(Le,ar)});else if(we(B,!0))We++,ce(B,It,Le,{end:Bt});else{if(!y(B)&&!a(B))throw new J("AsyncIterable or Promise","destination",B);We++,ce(B.readable||B,It,Le,{end:Bt})}B=It;const{destroy:hn,cleanup:dn}=s(B,!1,!0);Et.push(hn),vt&&fe.push(dn)}}else if(C(ge)){if(Ce(B)){We+=2;const It=Ue(B,ge,Le,{end:Bt});xe(ge)&&vt&&fe.push(It)}else if(a(B)||y(B))We++,ce(B.readable||B,ge,Le,{end:Bt});else{if(!we(B))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],B);We++,ce(B,ge,Le,{end:Bt})}B=ge}else if(u(ge)){if(Ce(B))We++,Oe(W(B),ge,Le,{end:Bt});else if(y(B)||we(B))We++,Oe(B,ge,Le,{end:Bt});else{if(!a(B))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],B);We++,Oe(B.readable,ge,Le,{end:Bt})}B=ge}else B=G.from(ge)}return(null!=Q&&Q.aborted||null!=oe&&oe.aborted)&&P.nextTick(Ee),B}function Ue(ye,De,pe,{end:ue}){let Q=!1;if(De.on("close",()=>{Q||pe(new ae)}),ye.pipe(De,{end:!1}),ue){let fe=function(){Q=!0,De.end()};g(ye)?P.nextTick(fe):ye.once("end",fe)}else pe();return D(ye,{readable:!0,writable:!1},fe=>{const Ee=ye._readableState;fe&&"ERR_STREAM_PREMATURE_CLOSE"===fe.code&&Ee&&Ee.ended&&!Ee.errored&&!Ee.errorEmitted?ye.once("end",pe).once("error",pe):pe(fe)}),D(De,{readable:!1,writable:!0},pe)}je.exports={pipelineImpl:be,pipeline:function Se(...ye){return be(ye,X(function v(ye){return de(ye[ye.length-1],"streams[stream.length - 1]"),ye.pop()}(ye)))}}},84553:(je,z,E)=>{var f=E(53344).default,_=E(42958).default;const k=E(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:x,NumberIsNaN:P,NumberParseInt:M,ObjectDefineProperties:O,ObjectKeys:F,ObjectSetPrototypeOf:L,Promise:D,SafeSet:X,SymbolAsyncDispose:j,SymbolAsyncIterator:G,Symbol:re}=E(56389);je.exports=Le,Le.ReadableState=We;const{EventEmitter:te}=E(44356),{Stream:J,prependListener:Z}=E(91242),{Buffer:ie}=E(68316),{addAbortSignal:ae}=E(57062),se=E(46017);let de=E(13509).debuglog("stream",gt=>{de=gt});const le=E(16630),we=E(96507),{getHighWaterMark:xe,getDefaultHighWaterMark:Ce}=E(18212),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:a,ERR_METHOD_NOT_IMPLEMENTED:u,ERR_OUT_OF_RANGE:y,ERR_STREAM_PUSH_AFTER_EOF:g,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:S},AbortError:T}=E(68154),{validateObject:N}=E(99852),A=re("kPaused"),{StringDecoder:s}=E(78454),v=E(45737);L(Le.prototype,J.prototype),L(Le,J);const W=()=>{},{errorOrDestroy:K}=we,ee=1,Ve=16,Se=32,be=64,ue=2048,Q=4096,Re=65536;function Et(gt){return{enumerable:!1,get(){return!!(this.state&gt)},set(Mt){Mt?this.state|=gt:this.state&=~gt}}}function We(gt,Mt,St){"boolean"!=typeof St&&(St=Mt instanceof E(13323)),this.state=ue|Q|Ve|Se,gt&&gt.objectMode&&(this.state|=ee),St&&gt&&gt.readableObjectMode&&(this.state|=ee),this.highWaterMark=gt?xe(this,gt,"readableHighWaterMark",St):Ce(!1),this.buffer=new le,this.length=0,this.pipes=[],this.flowing=null,this[A]=null,gt&&!1===gt.emitClose&&(this.state&=~ue),gt&&!1===gt.autoDestroy&&(this.state&=~Q),this.errored=null,this.defaultEncoding=gt&&gt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,gt&&gt.encoding&&(this.decoder=new s(gt.encoding),this.encoding=gt.encoding)}function Le(gt){if(!(this instanceof Le))return new Le(gt);const Mt=this instanceof E(13323);this._readableState=new We(gt,this,Mt),gt&&("function"==typeof gt.read&&(this._read=gt.read),"function"==typeof gt.destroy&&(this._destroy=gt.destroy),"function"==typeof gt.construct&&(this._construct=gt.construct),gt.signal&&!Mt&&ae(gt.signal,this)),J.call(this,gt),we.construct(this,()=>{this._readableState.needReadable&&tt(this,this._readableState)})}function lt(gt,Mt,St,Ye){de("readableAddChunk",Mt);const nt=gt._readableState;let Ht;if(nt.state&ee||("string"==typeof Mt?nt.encoding!==(St=St||nt.defaultEncoding)&&(Ye&&nt.encoding?Mt=ie.from(Mt,St).toString(nt.encoding):(Mt=ie.from(Mt,St),St="")):Mt instanceof ie?St="":J._isUint8Array(Mt)?(Mt=J._uint8ArrayToBuffer(Mt),St=""):null!=Mt&&(Ht=new a("chunk",["string","Buffer","Uint8Array"],Mt))),Ht)K(gt,Ht);else if(null===Mt)nt.state&=-9,function ne(gt,Mt){if(de("onEofChunk"),!Mt.ended){if(Mt.decoder){const St=Mt.decoder.end();St&&St.length&&(Mt.buffer.push(St),Mt.length+=Mt.objectMode?1:St.length)}Mt.ended=!0,Mt.sync?ge(gt):(Mt.needReadable=!1,Mt.emittedReadable=!0,Ae(gt))}}(gt,nt);else if(nt.state&ee||Mt&&Mt.length>0)if(Ye)if(4&nt.state)K(gt,new S);else{if(nt.destroyed||nt.errored)return!1;B(gt,nt,Mt,!0)}else if(nt.ended)K(gt,new g);else{if(nt.destroyed||nt.errored)return!1;nt.state&=-9,nt.decoder&&!St?(Mt=nt.decoder.write(Mt),nt.objectMode||0!==Mt.length?B(gt,nt,Mt,!1):tt(gt,nt)):B(gt,nt,Mt,!1)}else Ye||(nt.state&=-9,tt(gt,nt));return!nt.ended&&(nt.length<nt.highWaterMark||0===nt.length)}function B(gt,Mt,St,Ye){Mt.flowing&&0===Mt.length&&!Mt.sync&&gt.listenerCount("data")>0?(Mt.state&Re?Mt.awaitDrainWriters.clear():Mt.awaitDrainWriters=null,Mt.dataEmitted=!0,gt.emit("data",St)):(Mt.length+=Mt.objectMode?1:St.length,Ye?Mt.buffer.unshift(St):Mt.buffer.push(St),Mt.state&be&&ge(gt)),tt(gt,Mt)}function U(gt,Mt){return gt<=0||0===Mt.length&&Mt.ended?0:Mt.state&ee?1:P(gt)?Mt.flowing&&Mt.length?Mt.buffer.first().length:Mt.length:gt<=Mt.length?gt:Mt.ended?Mt.length:0}function ge(gt){const Mt=gt._readableState;de("emitReadable",Mt.needReadable,Mt.emittedReadable),Mt.needReadable=!1,Mt.emittedReadable||(de("emitReadable",Mt.flowing),Mt.emittedReadable=!0,k.nextTick(Ae,gt))}function Ae(gt){const Mt=gt._readableState;de("emitReadable_",Mt.destroyed,Mt.length,Mt.ended),!Mt.destroyed&&!Mt.errored&&(Mt.length||Mt.ended)&&(gt.emit("readable"),Mt.emittedReadable=!1),Mt.needReadable=!Mt.flowing&&!Mt.ended&&Mt.length<=Mt.highWaterMark,ar(gt)}function tt(gt,Mt){!Mt.readingMore&&Mt.constructed&&(Mt.readingMore=!0,k.nextTick(Bt,gt,Mt))}function Bt(gt,Mt){for(;!Mt.reading&&!Mt.ended&&(Mt.length<Mt.highWaterMark||Mt.flowing&&0===Mt.length);){const St=Mt.length;if(de("maybeReadMore read 0"),gt.read(0),St===Mt.length)break}Mt.readingMore=!1}function It(gt){const Mt=gt._readableState;Mt.readableListening=gt.listenerCount("readable")>0,Mt.resumeScheduled&&!1===Mt[A]?Mt.flowing=!0:gt.listenerCount("data")>0?gt.resume():Mt.readableListening||(Mt.flowing=null)}function Gt(gt){de("readable nexttick read 0"),gt.read(0)}function dn(gt,Mt){de("resume",Mt.reading),Mt.reading||gt.read(0),Mt.resumeScheduled=!1,gt.emit("resume"),ar(gt),Mt.flowing&&!Mt.reading&&gt.read(0)}function ar(gt){const Mt=gt._readableState;for(de("flow",Mt.flowing);Mt.flowing&&null!==gt.read(););}function An(gt,Mt){"function"!=typeof gt.read&&(gt=Le.wrap(gt,{objectMode:!0}));const St=function en(gt,Mt){return Qt.apply(this,arguments)}(gt,Mt);return St.stream=gt,St}function Qt(){return(Qt=_(function*(gt,Mt){let nt,St=W;function Ye(Nt){this===gt?(St(),St=W):St=Nt}gt.on("readable",Ye);const Ht=se(gt,{writable:!1},Nt=>{nt=Nt?C(nt,Nt):null,St(),St=W});try{for(;;){const Nt=gt.destroyed?null:gt.read();if(null!==Nt)yield Nt;else{if(nt)throw nt;if(null===nt)return;yield f(new D(Ye))}}}catch(Nt){throw nt=C(nt,Nt),nt}finally{!nt&&!1===Mt?.destroyOnReturn||void 0!==nt&&!gt._readableState.autoDestroy?(gt.off("readable",Ye),Ht()):we.destroyer(gt,null)}})).apply(this,arguments)}function _t(gt,Mt){if(0===Mt.length)return null;let St;return Mt.objectMode?St=Mt.buffer.shift():!gt||gt>=Mt.length?(St=Mt.decoder?Mt.buffer.join(""):1===Mt.buffer.length?Mt.buffer.first():Mt.buffer.concat(Mt.length),Mt.buffer.clear()):St=Mt.buffer.consume(gt,Mt.decoder),St}function ft(gt){const Mt=gt._readableState;de("endReadable",Mt.endEmitted),Mt.endEmitted||(Mt.ended=!0,k.nextTick(Wt,Mt,gt))}function Wt(gt,Mt){if(de("endReadableNT",gt.endEmitted,gt.length),!gt.errored&&!gt.closeEmitted&&!gt.endEmitted&&0===gt.length)if(gt.endEmitted=!0,Mt.emit("end"),Mt.writable&&!1===Mt.allowHalfOpen)k.nextTick(qt,Mt);else if(gt.autoDestroy){const St=Mt._writableState;(!St||St.autoDestroy&&(St.finished||!1===St.writable))&&Mt.destroy()}}function qt(gt){gt.writable&&!gt.writableEnded&&!gt.destroyed&&gt.end()}let pn;function fr(){return void 0===pn&&(pn={}),pn}O(We.prototype,{objectMode:Et(ee),ended:Et(2),endEmitted:Et(4),reading:Et(8),constructed:Et(Ve),sync:Et(Se),needReadable:Et(be),emittedReadable:Et(128),readableListening:Et(256),resumeScheduled:Et(512),errorEmitted:Et(1024),emitClose:Et(ue),autoDestroy:Et(Q),destroyed:Et(8192),closed:Et(16384),closeEmitted:Et(32768),multiAwaitDrain:Et(Re),readingMore:Et(1<<17),dataEmitted:Et(1<<18)}),Le.prototype.destroy=we.destroy,Le.prototype._undestroy=we.undestroy,Le.prototype._destroy=function(gt,Mt){Mt(gt)},Le.prototype[te.captureRejectionSymbol]=function(gt){this.destroy(gt)},Le.prototype[j]=function(){let gt;return this.destroyed||(gt=this.readableEnded?null:new T,this.destroy(gt)),new D((Mt,St)=>se(this,Ye=>Ye&&Ye!==gt?St(Ye):Mt(null)))},Le.prototype.push=function(gt,Mt){return lt(this,gt,Mt,!1)},Le.prototype.unshift=function(gt,Mt){return lt(this,gt,Mt,!0)},Le.prototype.isPaused=function(){const gt=this._readableState;return!0===gt[A]||!1===gt.flowing},Le.prototype.setEncoding=function(gt){const Mt=new s(gt);this._readableState.decoder=Mt,this._readableState.encoding=this._readableState.decoder.encoding;const St=this._readableState.buffer;let Ye="";for(const nt of St)Ye+=Mt.write(nt);return St.clear(),""!==Ye&&St.push(Ye),this._readableState.length=Ye.length,this},Le.prototype.read=function(gt){de("read",gt),void 0===gt?gt=NaN:x(gt)||(gt=M(gt,10));const Mt=this._readableState,St=gt;if(gt>Mt.highWaterMark&&(Mt.highWaterMark=function m(gt){if(gt>1073741824)throw new y("size","<= 1GiB",gt);return gt--,gt|=gt>>>1,gt|=gt>>>2,gt|=gt>>>4,gt|=gt>>>8,gt|=gt>>>16,++gt}(gt)),0!==gt&&(Mt.state&=-129),0===gt&&Mt.needReadable&&((0!==Mt.highWaterMark?Mt.length>=Mt.highWaterMark:Mt.length>0)||Mt.ended))return de("read: emitReadable",Mt.length,Mt.ended),0===Mt.length&&Mt.ended?ft(this):ge(this),null;if(0===(gt=U(gt,Mt))&&Mt.ended)return 0===Mt.length&&ft(this),null;let nt,Ye=!!(Mt.state&be);if(de("need readable",Ye),(0===Mt.length||Mt.length-gt<Mt.highWaterMark)&&(Ye=!0,de("length less than watermark",Ye)),Mt.ended||Mt.reading||Mt.destroyed||Mt.errored||!Mt.constructed)Ye=!1,de("reading, ended or constructing",Ye);else if(Ye){de("do read"),Mt.state|=8|Se,0===Mt.length&&(Mt.state|=be);try{this._read(Mt.highWaterMark)}catch(Ht){K(this,Ht)}Mt.state&=~Se,Mt.reading||(gt=U(St,Mt))}return nt=gt>0?_t(gt,Mt):null,null===nt?(Mt.needReadable=Mt.length<=Mt.highWaterMark,gt=0):(Mt.length-=gt,Mt.multiAwaitDrain?Mt.awaitDrainWriters.clear():Mt.awaitDrainWriters=null),0===Mt.length&&(Mt.ended||(Mt.needReadable=!0),St!==gt&&Mt.ended&&ft(this)),null!==nt&&!Mt.errorEmitted&&!Mt.closeEmitted&&(Mt.dataEmitted=!0,this.emit("data",nt)),nt},Le.prototype._read=function(gt){throw new u("_read()")},Le.prototype.pipe=function(gt,Mt){const St=this,Ye=this._readableState;1===Ye.pipes.length&&(Ye.multiAwaitDrain||(Ye.multiAwaitDrain=!0,Ye.awaitDrainWriters=new X(Ye.awaitDrainWriters?[Ye.awaitDrainWriters]:[]))),Ye.pipes.push(gt),de("pipe count=%d opts=%j",Ye.pipes.length,Mt);const Ht=Mt&&!1===Mt.end||gt===k.stdout||gt===k.stderr?Te:un;function un(){de("onend"),gt.end()}Ye.endEmitted?k.nextTick(Ht):St.once("end",Ht),gt.on("unpipe",function Nt(Be,xt){de("onunpipe"),Be===St&&xt&&!1===xt.hasUnpiped&&(xt.hasUnpiped=!0,function kn(){de("cleanup"),gt.removeListener("close",Lt),gt.removeListener("finish",et),Wn&&gt.removeListener("drain",Wn),gt.removeListener("error",Fn),gt.removeListener("unpipe",Nt),St.removeListener("end",un),St.removeListener("end",Te),St.removeListener("data",Jn),En=!0,Wn&&Ye.awaitDrainWriters&&(!gt._writableState||gt._writableState.needDrain)&&Wn()}())});let Wn,En=!1;function Or(){En||(1===Ye.pipes.length&&Ye.pipes[0]===gt?(de("false write response, pause",0),Ye.awaitDrainWriters=gt,Ye.multiAwaitDrain=!1):Ye.pipes.length>1&&Ye.pipes.includes(gt)&&(de("false write response, pause",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.add(gt)),St.pause()),Wn||(Wn=function vt(gt,Mt){return function(){const Ye=gt._readableState;Ye.awaitDrainWriters===Mt?(de("pipeOnDrain",1),Ye.awaitDrainWriters=null):Ye.multiAwaitDrain&&(de("pipeOnDrain",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.delete(Mt)),(!Ye.awaitDrainWriters||0===Ye.awaitDrainWriters.size)&&gt.listenerCount("data")&&gt.resume()}}(St,gt),gt.on("drain",Wn))}function Jn(Be){de("ondata");const xt=gt.write(Be);de("dest.write",xt),!1===xt&&Or()}function Fn(Be){if(de("onerror",Be),Te(),gt.removeListener("error",Fn),0===gt.listenerCount("error")){const xt=gt._writableState||gt._readableState;xt&&!xt.errorEmitted?K(gt,Be):gt.emit("error",Be)}}function Lt(){gt.removeListener("finish",et),Te()}function et(){de("onfinish"),gt.removeListener("close",Lt),Te()}function Te(){de("unpipe"),St.unpipe(gt)}return St.on("data",Jn),Z(gt,"error",Fn),gt.once("close",Lt),gt.once("finish",et),gt.emit("pipe",St),!0===gt.writableNeedDrain?Or():Ye.flowing||(de("pipe resume"),St.resume()),gt},Le.prototype.unpipe=function(gt){const Mt=this._readableState;if(0===Mt.pipes.length)return this;if(!gt){const nt=Mt.pipes;Mt.pipes=[],this.pause();for(let Ht=0;Ht<nt.length;Ht++)nt[Ht].emit("unpipe",this,{hasUnpiped:!1});return this}const Ye=H(Mt.pipes,gt);return-1===Ye||(Mt.pipes.splice(Ye,1),0===Mt.pipes.length&&this.pause(),gt.emit("unpipe",this,{hasUnpiped:!1})),this},Le.prototype.addListener=Le.prototype.on=function(gt,Mt){const St=J.prototype.on.call(this,gt,Mt),Ye=this._readableState;return"data"===gt?(Ye.readableListening=this.listenerCount("readable")>0,!1!==Ye.flowing&&this.resume()):"readable"===gt&&!Ye.endEmitted&&!Ye.readableListening&&(Ye.readableListening=Ye.needReadable=!0,Ye.flowing=!1,Ye.emittedReadable=!1,de("on readable",Ye.length,Ye.reading),Ye.length?ge(this):Ye.reading||k.nextTick(Gt,this)),St},Le.prototype.off=Le.prototype.removeListener=function(gt,Mt){const St=J.prototype.removeListener.call(this,gt,Mt);return"readable"===gt&&k.nextTick(It,this),St},Le.prototype.removeAllListeners=function(gt){const Mt=J.prototype.removeAllListeners.apply(this,arguments);return("readable"===gt||void 0===gt)&&k.nextTick(It,this),Mt},Le.prototype.resume=function(){const gt=this._readableState;return gt.flowing||(de("resume"),gt.flowing=!gt.readableListening,function hn(gt,Mt){Mt.resumeScheduled||(Mt.resumeScheduled=!0,k.nextTick(dn,gt,Mt))}(this,gt)),gt[A]=!1,this},Le.prototype.pause=function(){return de("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(de("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[A]=!0,this},Le.prototype.wrap=function(gt){let Mt=!1;gt.on("data",Ye=>{!this.push(Ye)&&gt.pause&&(Mt=!0,gt.pause())}),gt.on("end",()=>{this.push(null)}),gt.on("error",Ye=>{K(this,Ye)}),gt.on("close",()=>{this.destroy()}),gt.on("destroy",()=>{this.destroy()}),this._read=()=>{Mt&&gt.resume&&(Mt=!1,gt.resume())};const St=F(gt);for(let Ye=1;Ye<St.length;Ye++){const nt=St[Ye];void 0===this[nt]&&"function"==typeof gt[nt]&&(this[nt]=gt[nt].bind(gt))}return this},Le.prototype[G]=function(){return An(this)},Le.prototype.iterator=function(gt){return void 0!==gt&&N(gt,"options"),An(this,gt)},O(Le.prototype,{readable:{__proto__:null,get(){const gt=this._readableState;return!(!gt||!1===gt.readable||gt.destroyed||gt.errorEmitted||gt.endEmitted)},set(gt){this._readableState&&(this._readableState.readable=!!gt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(gt){this._readableState&&(this._readableState.flowing=gt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(gt){this._readableState&&(this._readableState.destroyed=gt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),O(We.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[A]},set(gt){this[A]=!!gt}}}),Le._fromList=_t,Le.from=function(gt,Mt){return v(Le,gt,Mt)},Le.fromWeb=function(gt,Mt){return fr().newStreamReadableFromReadableStream(gt,Mt)},Le.toWeb=function(gt,Mt){return fr().newReadableStreamFromStreamReadable(gt,Mt)},Le.wrap=function(gt,Mt){var St,Ye;return new Le({objectMode:null===(St=null!==(Ye=gt.readableObjectMode)&&void 0!==Ye?Ye:gt.objectMode)||void 0===St||St,...Mt,destroy(nt,Ht){we.destroyer(gt,nt),Ht(nt)}}).wrap(gt)}},18212:(je,z,E)=>{"use strict";const{MathFloor:f,NumberIsInteger:_}=E(56389),{validateInteger:k}=E(99852),{ERR_INVALID_ARG_VALUE:H}=E(68154).codes;let x=16384,P=16;function O(D){return D?P:x}je.exports={getHighWaterMark:function L(D,X,j,G){const re=function M(D,X,j){return null!=D.highWaterMark?D.highWaterMark:X?D[j]:null}(X,G,j);if(null!=re){if(!_(re)||re<0)throw new H(G?`options.${j}`:"options.highWaterMark",re);return f(re)}return O(D.objectMode)},getDefaultHighWaterMark:O,setDefaultHighWaterMark:function F(D,X){k(X,"value",0),D?P=X:x=X}}},71981:(je,z,E)=>{"use strict";const{ObjectSetPrototypeOf:f,Symbol:_}=E(56389);je.exports=M;const{ERR_METHOD_NOT_IMPLEMENTED:k}=E(68154).codes,H=E(13323),{getHighWaterMark:x}=E(18212);f(M.prototype,H.prototype),f(M,H);const P=_("kCallback");function M(L){if(!(this instanceof M))return new M(L);const D=L?x(this,L,"readableHighWaterMark",!0):null;0===D&&(L={...L,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:L.writableHighWaterMark||0}),H.call(this,L),this._readableState.sync=!1,this[P]=null,L&&("function"==typeof L.transform&&(this._transform=L.transform),"function"==typeof L.flush&&(this._flush=L.flush)),this.on("prefinish",F)}function O(L){"function"!=typeof this._flush||this.destroyed?(this.push(null),L&&L()):this._flush((D,X)=>{D?L?L(D):this.destroy(D):(null!=X&&this.push(X),this.push(null),L&&L())})}function F(){this._final!==O&&O.call(this)}M.prototype._final=O,M.prototype._transform=function(L,D,X){throw new k("_transform()")},M.prototype._write=function(L,D,X){const j=this._readableState,G=this._writableState,re=j.length;this._transform(L,D,(te,J)=>{te?X(te):(null!=J&&this.push(J),G.ended||re===j.length||j.length<j.highWaterMark?X():this[P]=X)})},M.prototype._read=function(){if(this[P]){const L=this[P];this[P]=null,L()}}},32924:(je,z,E)=>{"use strict";const{SymbolAsyncIterator:f,SymbolIterator:_,SymbolFor:k}=E(56389),H=k("nodejs.stream.destroyed"),x=k("nodejs.stream.errored"),P=k("nodejs.stream.readable"),M=k("nodejs.stream.writable"),O=k("nodejs.stream.disturbed"),F=k("nodejs.webstream.isClosedPromise"),L=k("nodejs.webstream.controllerErrorFunction");function D(v,W=!1){var K;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(K=v._readableState)||void 0===K?void 0:K.readable)||v._writableState&&!v._readableState)}function X(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function re(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ae(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[H]||null!=ee&&ee.destroyed)}function se(v){if(!X(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function we(v,W){if(!D(v))return null;const K=v._readableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.endEmitted?null:!!(K.endEmitted||!1===W&&!0===K.ended&&0===K.length))}function xe(v){return v&&null!=v[P]?v[P]:"boolean"!=typeof v?.readable?null:!ae(v)&&D(v)&&v.readable&&!we(v)}function Ce(v){return v&&null!=v[M]?v[M]:"boolean"!=typeof v?.writable?null:!ae(v)&&X(v)&&v.writable&&!se(v)}function g(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function S(v){return"boolean"==typeof v._sent100&&g(v)}je.exports={isDestroyed:ae,kIsDestroyed:H,isDisturbed:function A(v){var W;return!(!v||!(null!==(W=v[O])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:O,isErrored:function s(v){var W,K,ee,ce,_e,Oe,Ve,Se,be,Ue;return!(!v||!(null!==(W=null!==(K=null!==(ee=null!==(ce=null!==(_e=null!==(Oe=v[x])&&void 0!==Oe?Oe:v.readableErrored)&&void 0!==_e?_e:v.writableErrored)&&void 0!==ce?ce:null===(Ve=v._readableState)||void 0===Ve?void 0:Ve.errorEmitted)&&void 0!==ee?ee:null===(Se=v._writableState)||void 0===Se?void 0:Se.errorEmitted)&&void 0!==K?K:null===(be=v._readableState)||void 0===be?void 0:be.errored)&&void 0!==W?W:null!==(Ue=v._writableState)&&void 0!==Ue&&Ue.errored))},kIsErrored:x,isReadable:xe,kIsReadable:P,kIsClosedPromise:F,kControllerErrorFunction:L,kIsWritable:M,isClosed:function y(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,K=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof K?.closed?W?.closed||K?.closed:"boolean"==typeof v._closed&&g(v)?v._closed:null},isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,W){return G(v)?!!ae(v)||!(!1!==W?.readable&&xe(v)||!1!==W?.writable&&Ce(v)):null},isIterable:function ie(v,W){return null!=v&&(!0===W?"function"==typeof v[f]:!1===W?"function"==typeof v[_]:"function"==typeof v[f]||"function"==typeof v[_])},isReadableNodeStream:D,isReadableStream:re,isReadableEnded:function le(v){if(!D(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:we,isReadableErrored:function u(v){var W,K;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(K=v._readableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function Z(v){return re(v)||te(v)||J(v)},isWritable:Ce,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:se,isWritableFinished:function de(v,W){if(!X(v))return null;if(!0===v.writableFinished)return!0;const K=v._writableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.finished?null:!!(K.finished||!1===W&&!0===K.ended&&0===K.length))},isWritableErrored:function a(v){var W,K;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(K=v._writableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isServerRequest:function T(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:S,willEmitClose:function N(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!ee&&S(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},30009:(je,z,E)=>{const f=E(40573),{ArrayPrototypeSlice:_,Error:k,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:x,ObjectDefineProperties:P,ObjectSetPrototypeOf:M,StringPrototypeToLowerCase:O,Symbol:F,SymbolHasInstance:L}=E(56389);je.exports=S,S.WritableState=y;const{EventEmitter:D}=E(44356),X=E(91242).Stream,{Buffer:j}=E(68316),G=E(96507),{addAbortSignal:re}=E(57062),{getHighWaterMark:te,getDefaultHighWaterMark:J}=E(18212),{ERR_INVALID_ARG_TYPE:Z,ERR_METHOD_NOT_IMPLEMENTED:ie,ERR_MULTIPLE_CALLBACK:ae,ERR_STREAM_CANNOT_PIPE:se,ERR_STREAM_DESTROYED:de,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:xe,ERR_UNKNOWN_ENCODING:Ce}=E(68154).codes,{errorOrDestroy:C}=G;function a(){}M(S.prototype,X.prototype),M(S,X);const u=F("kOnFinished");function y(pe,ue,Q){"boolean"!=typeof Q&&(Q=ue instanceof E(13323)),this.objectMode=!(!pe||!pe.objectMode),Q&&(this.objectMode=this.objectMode||!(!pe||!pe.writableObjectMode)),this.highWaterMark=pe?te(this,pe,"writableHighWaterMark",Q):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(pe&&!1===pe.decodeStrings),this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,ue),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||!1!==pe.emitClose,this.autoDestroy=!pe||!1!==pe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[u]=[]}function g(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}function S(pe){const ue=this instanceof E(13323);if(!ue&&!H(S,this))return new S(pe);this._writableState=new y(pe,this,ue),pe&&("function"==typeof pe.write&&(this._write=pe.write),"function"==typeof pe.writev&&(this._writev=pe.writev),"function"==typeof pe.destroy&&(this._destroy=pe.destroy),"function"==typeof pe.final&&(this._final=pe.final),"function"==typeof pe.construct&&(this._construct=pe.construct),pe.signal&&re(pe.signal,this)),X.call(this,pe),G.construct(this,()=>{const Q=this._writableState;Q.writing||ce(this,Q),Se(this,Q)})}function T(pe,ue,Q,oe){const fe=pe._writableState;if("function"==typeof Q)oe=Q,Q=fe.defaultEncoding;else{if(Q){if("buffer"!==Q&&!j.isEncoding(Q))throw new Ce(Q)}else Q=fe.defaultEncoding;"function"!=typeof oe&&(oe=a)}if(null===ue)throw new we;if(!fe.objectMode)if("string"==typeof ue)!1!==fe.decodeStrings&&(ue=j.from(ue,Q),Q="buffer");else if(ue instanceof j)Q="buffer";else{if(!X._isUint8Array(ue))throw new Z("chunk",["string","Buffer","Uint8Array"],ue);ue=X._uint8ArrayToBuffer(ue),Q="buffer"}let Ee;return fe.ending?Ee=new xe:fe.destroyed&&(Ee=new de("write")),Ee?(f.nextTick(oe,Ee),C(pe,Ee,!0),Ee):(fe.pendingcb++,function N(pe,ue,Q,oe,fe){const Ee=ue.objectMode?1:Q.length;ue.length+=Ee;const Re=ue.length<ue.highWaterMark;return Re||(ue.needDrain=!0),ue.writing||ue.corked||ue.errored||!ue.constructed?(ue.buffered.push({chunk:Q,encoding:oe,callback:fe}),ue.allBuffers&&"buffer"!==oe&&(ue.allBuffers=!1),ue.allNoop&&fe!==a&&(ue.allNoop=!1)):(ue.writelen=Ee,ue.writecb=fe,ue.writing=!0,ue.sync=!0,pe._write(Q,oe,ue.onwrite),ue.sync=!1),Re&&!ue.errored&&!ue.destroyed}(pe,fe,ue,Q,oe))}function A(pe,ue,Q,oe,fe,Ee,Re){ue.writelen=oe,ue.writecb=Re,ue.writing=!0,ue.sync=!0,ue.destroyed?ue.onwrite(new de("write")):Q?pe._writev(fe,ue.onwrite):pe._write(fe,Ee,ue.onwrite),ue.sync=!1}function s(pe,ue,Q,oe){--ue.pendingcb,oe(Q),ee(ue),C(pe,Q)}function v(pe,ue){const Q=pe._writableState,oe=Q.sync,fe=Q.writecb;"function"==typeof fe?(Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,ue?(Q.errored||(Q.errored=ue),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=ue),oe?f.nextTick(s,pe,Q,ue,fe):s(pe,Q,ue,fe)):(Q.buffered.length>Q.bufferedIndex&&ce(pe,Q),oe?null!==Q.afterWriteTickInfo&&Q.afterWriteTickInfo.cb===fe?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:fe,stream:pe,state:Q},f.nextTick(W,Q.afterWriteTickInfo)):K(pe,Q,1,fe))):C(pe,new ae)}function W({stream:pe,state:ue,count:Q,cb:oe}){return ue.afterWriteTickInfo=null,K(pe,ue,Q,oe)}function K(pe,ue,Q,oe){for(!ue.ending&&!pe.destroyed&&0===ue.length&&ue.needDrain&&(ue.needDrain=!1,pe.emit("drain"));Q-- >0;)ue.pendingcb--,oe();ue.destroyed&&ee(ue),Se(pe,ue)}function ee(pe){if(pe.writing)return;for(let fe=pe.bufferedIndex;fe<pe.buffered.length;++fe){var ue;const{chunk:Ee,callback:Re}=pe.buffered[fe];pe.length-=pe.objectMode?1:Ee.length,Re(null!==(ue=pe.errored)&&void 0!==ue?ue:new de("write"))}const Q=pe[u].splice(0);for(let fe=0;fe<Q.length;fe++){var oe;Q[fe](null!==(oe=pe.errored)&&void 0!==oe?oe:new de("end"))}g(pe)}function ce(pe,ue){if(ue.corked||ue.bufferProcessing||ue.destroyed||!ue.constructed)return;const{buffered:Q,bufferedIndex:oe,objectMode:fe}=ue,Ee=Q.length-oe;if(!Ee)return;let Re=oe;if(ue.bufferProcessing=!0,Ee>1&&pe._writev){ue.pendingcb-=Ee-1;const $e=ue.allNoop?a:Et=>{for(let We=Re;We<Q.length;++We)Q[We].callback(Et)},Fe=ue.allNoop&&0===Re?Q:_(Q,Re);Fe.allBuffers=ue.allBuffers,A(pe,ue,!0,ue.length,Fe,"",$e),g(ue)}else{do{const{chunk:$e,encoding:Fe,callback:Et}=Q[Re];Q[Re++]=null,A(pe,ue,!1,fe?1:$e.length,$e,Fe,Et)}while(Re<Q.length&&!ue.writing);Re===Q.length?g(ue):Re>256?(Q.splice(0,Re),ue.bufferedIndex=0):ue.bufferedIndex=Re}ue.bufferProcessing=!1}function _e(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&0===pe.length&&!pe.errored&&0===pe.buffered.length&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}function Se(pe,ue,Q){_e(ue)&&(function Ve(pe,ue){!ue.prefinished&&!ue.finalCalled&&("function"!=typeof pe._final||ue.destroyed?(ue.prefinished=!0,pe.emit("prefinish")):(ue.finalCalled=!0,function Oe(pe,ue){let Q=!1;function oe(fe){if(Q)C(pe,fe??ae());else if(Q=!0,ue.pendingcb--,fe){const Ee=ue[u].splice(0);for(let Re=0;Re<Ee.length;Re++)Ee[Re](fe);C(pe,fe,ue.sync)}else _e(ue)&&(ue.prefinished=!0,pe.emit("prefinish"),ue.pendingcb++,f.nextTick(be,pe,ue))}ue.sync=!0,ue.pendingcb++;try{pe._final(oe)}catch(fe){oe(fe)}ue.sync=!1}(pe,ue)))}(pe,ue),0===ue.pendingcb&&(Q?(ue.pendingcb++,f.nextTick((oe,fe)=>{_e(fe)?be(oe,fe):fe.pendingcb--},pe,ue)):_e(ue)&&(ue.pendingcb++,be(pe,ue))))}function be(pe,ue){ue.pendingcb--,ue.finished=!0;const Q=ue[u].splice(0);for(let oe=0;oe<Q.length;oe++)Q[oe]();if(pe.emit("finish"),ue.autoDestroy){const oe=pe._readableState;(!oe||oe.autoDestroy&&(oe.endEmitted||!1===oe.readable))&&pe.destroy()}}y.prototype.getBuffer=function(){return _(this.buffered,this.bufferedIndex)},x(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(S,L,{__proto__:null,value:function(pe){return!!H(this,pe)||this===S&&pe&&pe._writableState instanceof y}}),S.prototype.pipe=function(){C(this,new se)},S.prototype.write=function(pe,ue,Q){return!0===T(this,pe,ue,Q)},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){const pe=this._writableState;pe.corked&&(pe.corked--,pe.writing||ce(this,pe))},S.prototype.setDefaultEncoding=function(ue){if("string"==typeof ue&&(ue=O(ue)),!j.isEncoding(ue))throw new Ce(ue);return this._writableState.defaultEncoding=ue,this},S.prototype._write=function(pe,ue,Q){if(!this._writev)throw new ie("_write()");this._writev([{chunk:pe,encoding:ue}],Q)},S.prototype._writev=null,S.prototype.end=function(pe,ue,Q){const oe=this._writableState;let fe;if("function"==typeof pe?(Q=pe,pe=null,ue=null):"function"==typeof ue&&(Q=ue,ue=null),null!=pe){const Ee=T(this,pe,ue);Ee instanceof k&&(fe=Ee)}return oe.corked&&(oe.corked=1,this.uncork()),fe||(oe.errored||oe.ending?oe.finished?fe=new le("end"):oe.destroyed&&(fe=new de("end")):(oe.ending=!0,Se(this,oe,!0),oe.ended=!0)),"function"==typeof Q&&(fe||oe.finished?f.nextTick(Q,fe):oe[u].push(Q)),this},P(S.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){const pe=this._writableState;return!(!pe||!1===pe.writable||pe.destroyed||pe.errored||pe.ending||pe.ended)},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const pe=this._writableState;return!!pe&&!pe.destroyed&&!pe.ending&&pe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ue=G.destroy;let ye;function De(){return void 0===ye&&(ye={}),ye}S.prototype.destroy=function(pe,ue){const Q=this._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[u].length)&&f.nextTick(ee,Q),Ue.call(this,pe,ue),this},S.prototype._undestroy=G.undestroy,S.prototype._destroy=function(pe,ue){ue(pe)},S.prototype[D.captureRejectionSymbol]=function(pe){this.destroy(pe)},S.fromWeb=function(pe,ue){return De().newStreamWritableFromWritableStream(pe,ue)},S.toWeb=function(pe){return De().newWritableStreamFromStreamWritable(pe)}},99852:(je,z,E)=>{"use strict";const{ArrayIsArray:f,ArrayPrototypeIncludes:_,ArrayPrototypeJoin:k,ArrayPrototypeMap:H,NumberIsInteger:x,NumberIsNaN:P,NumberMAX_SAFE_INTEGER:M,NumberMIN_SAFE_INTEGER:O,NumberParseInt:F,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:D,String:X,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=E(56389),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:Z,ERR_OUT_OF_RANGE:ie,ERR_UNKNOWN_SIGNAL:ae}}=E(68154),{normalizeEncoding:se}=E(13509),{isAsyncFunction:de,isArrayBufferView:le}=E(13509).types,we={},C=/^[0-7]+$/,y=re((Re,$e,Fe=O,Et=M)=>{if("number"!=typeof Re)throw new J($e,"number",Re);if(!x(Re))throw new ie($e,"an integer",Re);if(Re<Fe||Re>Et)throw new ie($e,`>= ${Fe} && <= ${Et}`,Re)}),g=re((Re,$e,Fe=-2147483648,Et=2147483647)=>{if("number"!=typeof Re)throw new J($e,"number",Re);if(!x(Re))throw new ie($e,"an integer",Re);if(Re<Fe||Re>Et)throw new ie($e,`>= ${Fe} && <= ${Et}`,Re)}),S=re((Re,$e,Fe=!1)=>{if("number"!=typeof Re)throw new J($e,"number",Re);if(!x(Re))throw new ie($e,"an integer",Re);const Et=Fe?1:0,We=4294967295;if(Re<Et||Re>We)throw new ie($e,`>= ${Et} && <= ${We}`,Re)});function T(Re,$e){if("string"!=typeof Re)throw new J($e,"string",Re)}const A=re((Re,$e,Fe)=>{if(!_(Fe,Re)){const We="must be one of: "+k(H(Fe,Le=>"string"==typeof Le?`'${Le}'`:X(Le)),", ");throw new Z($e,Re,We)}});function s(Re,$e){if("boolean"!=typeof Re)throw new J($e,"boolean",Re)}function v(Re,$e,Fe){return null!=Re&&L(Re,$e)?Re[$e]:Fe}const W=re((Re,$e,Fe=null)=>{const Et=v(Fe,"allowArray",!1),We=v(Fe,"allowFunction",!1);if(!v(Fe,"nullable",!1)&&null===Re||!Et&&f(Re)||"object"!=typeof Re&&(!We||"function"!=typeof Re))throw new J($e,"Object",Re)}),K=re((Re,$e)=>{if(null!=Re&&"object"!=typeof Re&&"function"!=typeof Re)throw new J($e,"a dictionary",Re)}),ee=re((Re,$e,Fe=0)=>{if(!f(Re))throw new J($e,"Array",Re);if(Re.length<Fe)throw new Z($e,Re,`must be longer than ${Fe}`)}),Se=re((Re,$e="buffer")=>{if(!le(Re))throw new J($e,["Buffer","TypedArray","DataView"],Re)}),ye=re((Re,$e)=>{if(void 0!==Re&&(null===Re||"object"!=typeof Re||!("aborted"in Re)))throw new J($e,"AbortSignal",Re)}),De=re((Re,$e)=>{if("function"!=typeof Re)throw new J($e,"Function",Re)}),pe=re((Re,$e)=>{if("function"!=typeof Re||de(Re))throw new J($e,"Function",Re)}),ue=re((Re,$e)=>{if(void 0!==Re)throw new J($e,"undefined",Re)}),oe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe(Re,$e){if(typeof Re>"u"||!D(oe,Re))throw new Z($e,Re,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}je.exports={isInt32:function xe(Re){return Re===(0|Re)},isUint32:function Ce(Re){return Re===Re>>>0},parseFileMode:function u(Re,$e,Fe){if(typeof Re>"u"&&(Re=Fe),"string"==typeof Re){if(null===D(C,Re))throw new Z($e,Re,"must be a 32-bit unsigned integer or an octal string");Re=F(Re,8)}return S(Re,$e),Re},validateArray:ee,validateStringArray:function ce(Re,$e){ee(Re,$e);for(let Fe=0;Fe<Re.length;Fe++)T(Re[Fe],`${$e}[${Fe}]`)},validateBooleanArray:function _e(Re,$e){ee(Re,$e);for(let Fe=0;Fe<Re.length;Fe++)s(Re[Fe],`${$e}[${Fe}]`)},validateAbortSignalArray:function Oe(Re,$e){ee(Re,$e);for(let Fe=0;Fe<Re.length;Fe++){const Et=Re[Fe],We=`${$e}[${Fe}]`;if(null==Et)throw new J(We,"AbortSignal",Et);ye(Et,We)}},validateBoolean:s,validateBuffer:Se,validateDictionary:K,validateEncoding:function be(Re,$e){const Fe=se($e),Et=Re.length;if("hex"===Fe&&Et%2!=0)throw new Z("encoding",$e,`is invalid for data of length ${Et}`)},validateFunction:De,validateInt32:g,validateInteger:y,validateNumber:function N(Re,$e,Fe=void 0,Et){if("number"!=typeof Re)throw new J($e,"number",Re);if(null!=Fe&&Re<Fe||null!=Et&&Re>Et||(null!=Fe||null!=Et)&&P(Re))throw new ie($e,`${null!=Fe?`>= ${Fe}`:""}${null!=Fe&&null!=Et?" && ":""}${null!=Et?`<= ${Et}`:""}`,Re)},validateObject:W,validateOneOf:A,validatePlainFunction:pe,validatePort:function Ue(Re,$e="Port",Fe=!0){if("number"!=typeof Re&&"string"!=typeof Re||"string"==typeof Re&&0===G(Re).length||+Re!=+Re>>>0||Re>65535||0===Re&&!Fe)throw new te($e,Re,Fe);return 0|Re},validateSignalName:function Ve(Re,$e="signal"){if(T(Re,$e),void 0===we[Re])throw void 0!==we[j(Re)]?new ae(Re+" (signals must use all capital letters)"):new ae(Re)},validateString:T,validateUint32:S,validateUndefined:ue,validateUnion:function Q(Re,$e,Fe){if(!_(Fe,Re))throw new J($e,`('${k(Fe,"|")}')`,Re)},validateAbortSignal:ye,validateLinkHeaderValue:function Ee(Re){if("string"==typeof Re)return fe(Re,"hints"),Re;if(f(Re)){const $e=Re.length;let Fe="";if(0===$e)return Fe;for(let Et=0;Et<$e;Et++){const We=Re[Et];fe(We,"hints"),Fe+=We,Et!==$e-1&&(Fe+=", ")}return Fe}throw new Z("hints",Re,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:(je,z,E)=>{"use strict";const f=E(33885),_=E(74870),k=f.Readable.destroy;je.exports=f.Readable,je.exports._uint8ArrayToBuffer=f._uint8ArrayToBuffer,je.exports._isUint8Array=f._isUint8Array,je.exports.isDisturbed=f.isDisturbed,je.exports.isErrored=f.isErrored,je.exports.isReadable=f.isReadable,je.exports.Readable=f.Readable,je.exports.Writable=f.Writable,je.exports.Duplex=f.Duplex,je.exports.Transform=f.Transform,je.exports.PassThrough=f.PassThrough,je.exports.addAbortSignal=f.addAbortSignal,je.exports.finished=f.finished,je.exports.destroy=f.destroy,je.exports.destroy=k,je.exports.pipeline=f.pipeline,je.exports.compose=f.compose,Object.defineProperty(f,"promises",{configurable:!0,enumerable:!0,get:()=>_}),je.exports.Stream=f.Stream,je.exports.default=je.exports},68154:(je,z,E)=>{"use strict";const{format:f,inspect:_,AggregateError:k}=E(13509),H=globalThis.AggregateError||k,x=Symbol("kIsNodeError"),P=["string","function","number","object","Function","Object","boolean","bigint","symbol"],M=/^([A-Z][a-z0-9]*)+$/,F={};function L(J,Z){if(!J)throw new F.ERR_INTERNAL_ASSERTION(Z)}function D(J){let Z="",ie=J.length;const ae="-"===J[0]?1:0;for(;ie>=ae+4;ie-=3)Z=`_${J.slice(ie-3,ie)}${Z}`;return`${J.slice(0,ie)}${Z}`}function j(J,Z,ie){ie||(ie=Error);class ae extends ie{constructor(...de){super(function X(J,Z,ie){if("function"==typeof Z)return L(Z.length<=ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${Z.length}).`),Z(...ie);const ae=(Z.match(/%[dfijoOs]/g)||[]).length;return L(ae===ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${ae}).`),0===ie.length?Z:f(Z,...ie)}(J,Z,de))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(ae.prototype,{name:{value:ie.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ae.prototype.code=J,ae.prototype[x]=!0,F[J]=ae}function G(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(Z="The operation was aborted",ie=void 0){if(void 0!==ie&&"object"!=typeof ie)throw new F.ERR_INVALID_ARG_TYPE("options","Object",ie);super(Z,ie),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(J,Z,ie)=>{L("string"==typeof J,"'name' must be a string"),Array.isArray(Z)||(Z=[Z]);let ae="The ";J.endsWith(" argument")?ae+=`${J} `:ae+=`"${J}" ${J.includes(".")?"property":"argument"} `,ae+="must be ";const se=[],de=[],le=[];for(const xe of Z)L("string"==typeof xe,"All expected entries have to be of type string"),P.includes(xe)?se.push(xe.toLowerCase()):M.test(xe)?de.push(xe):(L("object"!==xe,'The value "object" should be written as "Object"'),le.push(xe));if(de.length>0){const xe=se.indexOf("object");-1!==xe&&(se.splice(se,xe,1),de.push("Object"))}if(se.length>0){switch(se.length){case 1:ae+=`of type ${se[0]}`;break;case 2:ae+=`one of type ${se[0]} or ${se[1]}`;break;default:{const xe=se.pop();ae+=`one of type ${se.join(", ")}, or ${xe}`}}(de.length>0||le.length>0)&&(ae+=" or ")}if(de.length>0){switch(de.length){case 1:ae+=`an instance of ${de[0]}`;break;case 2:ae+=`an instance of ${de[0]} or ${de[1]}`;break;default:{const xe=de.pop();ae+=`an instance of ${de.join(", ")}, or ${xe}`}}le.length>0&&(ae+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(ae+="an "),ae+=`${le[0]}`;break;case 2:ae+=`one of ${le[0]} or ${le[1]}`;break;default:{const xe=le.pop();ae+=`one of ${le.join(", ")}, or ${xe}`}}if(null==ie)ae+=`. Received ${ie}`;else if("function"==typeof ie&&ie.name)ae+=`. Received function ${ie.name}`;else if("object"==typeof ie){var we;null!==(we=ie.constructor)&&void 0!==we&&we.name?ae+=`. Received an instance of ${ie.constructor.name}`:ae+=`. Received ${_(ie,{depth:-1})}`}else{let xe=_(ie,{colors:!1});xe.length>25&&(xe=`${xe.slice(0,25)}...`),ae+=`. Received type ${typeof ie} (${xe})`}return ae},TypeError),j("ERR_INVALID_ARG_VALUE",(J,Z,ie="is invalid")=>{let ae=_(Z);return ae.length>128&&(ae=ae.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${ie}. Received ${ae}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(J,Z,ie)=>{var ae;return`Expected ${J} to be returned from the "${Z}" function but got ${null!=ie&&null!==(ae=ie.constructor)&&void 0!==ae&&ae.name?`instance of ${ie.constructor.name}`:"type "+typeof ie}.`},TypeError),j("ERR_MISSING_ARGS",(...J)=>{let Z;L(J.length>0,"At least one arg needs to be specified");const ie=J.length;switch(J=(Array.isArray(J)?J:[J]).map(ae=>`"${ae}"`).join(" or "),ie){case 1:Z+=`The ${J[0]} argument`;break;case 2:Z+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const ae=J.pop();Z+=`The ${J.join(", ")}, and ${ae} arguments`}}return`${Z} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(J,Z,ie)=>{let ae;return L(Z,'Missing "range" argument'),Number.isInteger(ie)&&Math.abs(ie)>2**32?ae=D(String(ie)):"bigint"==typeof ie?(ae=String(ie),(ie>2n**32n||ie<-(2n**32n))&&(ae=D(ae)),ae+="n"):ae=_(ie),`The value of "${J}" is out of range. It must be ${Z}. Received ${ae}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),je.exports={AbortError:te,aggregateTwoErrors:G(function re(J,Z){if(J&&Z&&J!==Z){if(Array.isArray(Z.errors))return Z.errors.push(J),Z;const ie=new H([Z,J],Z.message);return ie.code=Z.code,ie}return J||Z}),hideStackFrames:G,codes:F}},56389:je=>{"use strict";je.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,E)=>z.includes(E),ArrayPrototypeIndexOf:(z,E)=>z.indexOf(E),ArrayPrototypeJoin:(z,E)=>z.join(E),ArrayPrototypeMap:(z,E)=>z.map(E),ArrayPrototypePop:(z,E)=>z.pop(E),ArrayPrototypePush:(z,E)=>z.push(E),ArrayPrototypeSlice:(z,E,f)=>z.slice(E,f),Error,FunctionPrototypeCall:(z,E,...f)=>z.call(E,...f),FunctionPrototypeSymbolHasInstance:(z,E)=>Function.prototype[Symbol.hasInstance].call(z,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,E)=>Object.defineProperties(z,E),ObjectDefineProperty:(z,E,f)=>Object.defineProperty(z,E,f),ObjectGetOwnPropertyDescriptor:(z,E)=>Object.getOwnPropertyDescriptor(z,E),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,E)=>Object.setPrototypeOf(z,E),Promise,PromisePrototypeCatch:(z,E)=>z.catch(E),PromisePrototypeThen:(z,E,f)=>z.then(E,f),PromiseReject:z=>Promise.reject(z),PromiseResolve:z=>Promise.resolve(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,E)=>z.test(E),SafeSet:Set,String,StringPrototypeSlice:(z,E,f)=>z.slice(E,f),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(z,E,f)=>z.set(E,f),Boolean,Uint8Array}},13509:(je,z,E)=>{"use strict";var f=E(29293).default;const _=E(68316),{kResistStopPropagation:k,SymbolDispose:H}=E(56389),x=globalThis.AbortSignal||E(9465).AbortSignal,P=globalThis.AbortController||E(9465).AbortController,M=Object.getPrototypeOf(f(function*(){})).constructor,O=globalThis.Blob||_.Blob,F=typeof O<"u"?function(G){return G instanceof O}:function(G){return!1},L=(j,G)=>{if(void 0!==j&&(null===j||"object"!=typeof j||!("aborted"in j)))throw new ERR_INVALID_ARG_TYPE(G,"AbortSignal",j)};class X extends Error{constructor(G){if(!Array.isArray(G))throw new TypeError("Expected input to be an Array, got "+typeof G);let re="";for(let te=0;te<G.length;te++)re+=`    ${G[te].stack}\n`;super(re),this.name="AggregateError",this.errors=G}}je.exports={AggregateError:X,kEmptyObject:Object.freeze({}),once(j){let G=!1;return function(...re){G||(G=!0,j.apply(this,re))}},createDeferredPromise:function(){let j,G;return{promise:new Promise((te,J)=>{j=te,G=J}),resolve:j,reject:G}},promisify:j=>new Promise((G,re)=>{j((te,...J)=>te?re(te):G(...J))}),debuglog:()=>function(){},format:(j,...G)=>j.replace(/%([sdifj])/g,function(...[re,te]){const J=G.shift();return"f"===te?J.toFixed(6):"j"===te?JSON.stringify(J):"s"===te&&"object"==typeof J?`${J.constructor!==Object?J.constructor.name:""} {}`.trim():J.toString()}),inspect(j){switch(typeof j){case"string":if(j.includes("'")){if(!j.includes('"'))return`"${j}"`;if(!j.includes("`")&&!j.includes("${"))return`\`${j}\``}return`'${j}'`;case"number":return isNaN(j)?"NaN":Object.is(j,-0)?String(j):j;case"bigint":return`${String(j)}n`;case"boolean":case"undefined":return String(j);case"object":return"{}"}},types:{isAsyncFunction:j=>j instanceof M,isArrayBufferView:j=>ArrayBuffer.isView(j)},isBlob:F,deprecate:(j,G)=>j,addAbortListener:E(44356).addAbortListener||function(G,re){if(void 0===G)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",G);let te;return L(G,"signal"),((j,G)=>{if("function"!=typeof j)throw new ERR_INVALID_ARG_TYPE("listener","Function",j)})(re),G.aborted?queueMicrotask(()=>re()):(G.addEventListener("abort",re,{__proto__:null,once:!0,[k]:!0}),te=()=>{G.removeEventListener("abort",re)}),{__proto__:null,[H](){var J;null===(J=te)||void 0===J||J()}}},AbortSignalAny:x.any||function(G){if(1===G.length)return G[0];const re=new P,te=()=>re.abort();return G.forEach(J=>{L(J,"signals"),J.addEventListener("abort",te,{once:!0})}),re.signal.addEventListener("abort",()=>{G.forEach(J=>J.removeEventListener("abort",te))},{once:!0}),re.signal}},je.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:(je,z,E)=>{const{Buffer:f}=E(68316),{ObjectDefineProperty:_,ObjectKeys:k,ReflectApply:H}=E(56389),{promisify:{custom:x}}=E(13509),{streamReturningOperators:P,promiseReturningOperators:M}=E(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:O}}=E(68154),F=E(373),{setDefaultHighWaterMark:L,getDefaultHighWaterMark:D}=E(18212),{pipeline:X}=E(67843),{destroyer:j}=E(96507),G=E(46017),te=E(74870),J=E(32924),Z=je.exports=E(91242).Stream;Z.isDestroyed=J.isDestroyed,Z.isDisturbed=J.isDisturbed,Z.isErrored=J.isErrored,Z.isReadable=J.isReadable,Z.isWritable=J.isWritable,Z.Readable=E(84553);for(const se of k(P)){let le=function(...we){if(new.target)throw O();return Z.Readable.from(H(de,this,we))};const de=P[se];_(le,"name",{__proto__:null,value:de.name}),_(le,"length",{__proto__:null,value:de.length}),_(Z.Readable.prototype,se,{__proto__:null,value:le,enumerable:!1,configurable:!0,writable:!0})}for(const se of k(M)){let le=function(...xe){if(new.target)throw O();return H(de,this,xe)};const de=M[se];_(le,"name",{__proto__:null,value:de.name}),_(le,"length",{__proto__:null,value:de.length}),_(Z.Readable.prototype,se,{__proto__:null,value:le,enumerable:!1,configurable:!0,writable:!0})}Z.Writable=E(30009),Z.Duplex=E(13323),Z.Transform=E(71981),Z.PassThrough=E(59447),Z.pipeline=X;const{addAbortSignal:ie}=E(57062);Z.addAbortSignal=ie,Z.finished=G,Z.destroy=j,Z.compose=F,Z.setDefaultHighWaterMark=L,Z.getDefaultHighWaterMark=D,_(Z,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>te}),_(X,x,{__proto__:null,enumerable:!0,get:()=>te.pipeline}),_(G,x,{__proto__:null,enumerable:!0,get:()=>te.finished}),Z.Stream=Z,Z._isUint8Array=function(de){return de instanceof Uint8Array},Z._uint8ArrayToBuffer=function(de){return f.from(de.buffer,de.byteOffset,de.byteLength)}},74870:(je,z,E)=>{"use strict";const{ArrayPrototypePop:f,Promise:_}=E(56389),{isIterable:k,isNodeStream:H,isWebStream:x}=E(32924),{pipelineImpl:P}=E(67843),{finished:M}=E(46017);E(33885),je.exports={finished:M,pipeline:function O(...F){return new _((L,D)=>{let X,j;const G=F[F.length-1];if(G&&"object"==typeof G&&!H(G)&&!k(G)&&!x(G)){const re=f(F);X=re.signal,j=re.end}P(F,(re,te)=>{re?D(re):L(te)},{signal:X,end:j})})}}},94787:(je,z,E)=>{z.Level=E(23963).BrowserLevel},81447:je=>{var z=1e3,E=60*z,f=60*E,_=24*f,k=7*_;function O(F,L,D,X){var j=L>=1.5*D;return Math.round(F/D)+" "+X+(j?"s":"")}je.exports=function(F,L){L=L||{};var D=typeof F;if("string"===D&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var D=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*k;case"days":case"day":case"d":return D*_;case"hours":case"hour":case"hrs":case"hr":case"h":return D*f;case"minutes":case"minute":case"mins":case"min":case"m":return D*E;case"seconds":case"second":case"secs":case"sec":case"s":return D*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(F);if("number"===D&&isFinite(F))return L.long?function M(F){var L=Math.abs(F);return L>=_?O(F,L,_,"day"):L>=f?O(F,L,f,"hour"):L>=E?O(F,L,E,"minute"):L>=z?O(F,L,z,"second"):F+" ms"}(F):function P(F){var L=Math.abs(F);return L>=_?Math.round(F/_)+"d":L>=f?Math.round(F/f)+"h":L>=E?Math.round(F/E)+"m":L>=z?Math.round(F/z)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},1424:(je,z,E)=>{E(23963)},44514:je=>{var z=1e3,E=60*z,f=60*E,_=24*f,k=7*_;function O(F,L,D,X){var j=L>=1.5*D;return Math.round(F/D)+" "+X+(j?"s":"")}je.exports=function(F,L){L=L||{};var D=typeof F;if("string"===D&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var D=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*k;case"days":case"day":case"d":return D*_;case"hours":case"hour":case"hrs":case"hr":case"h":return D*f;case"minutes":case"minute":case"mins":case"min":case"m":return D*E;case"seconds":case"second":case"secs":case"sec":case"s":return D*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(F);if("number"===D&&isFinite(F))return L.long?function M(F){var L=Math.abs(F);return L>=_?O(F,L,_,"day"):L>=f?O(F,L,f,"hour"):L>=E?O(F,L,E,"minute"):L>=z?O(F,L,z,"second"):F+" ms"}(F):function P(F){var L=Math.abs(F);return L>=_?Math.round(F/_)+"d":L>=f?Math.round(F/f)+"h":L>=E?Math.round(F/E)+"m":L>=z?Math.round(F/z)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},89565:(je,z,E)=>{"use strict";const f=E(13981),_=E(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function Z(B){return+B!=B&&(B=0),M.alloc(+B)},z.INSPECT_MAX_BYTES=50;const H=2147483647;function P(B){if(B>H)throw new RangeError('The value "'+B+'" is invalid for option "size"');const w=new Uint8Array(B);return Object.setPrototypeOf(w,M.prototype),w}function M(B,w,m){if("number"==typeof B){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return D(B)}return O(B,w,m)}function O(B,w,m){if("string"==typeof B)return function X(B,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!M.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const m=0|ie(B,w);let U=P(m);const ne=U.write(B,w);return ne!==m&&(U=U.slice(0,ne)),U}(B,w);if(ArrayBuffer.isView(B))return function G(B){if(Fe(B,Uint8Array)){const w=new Uint8Array(B);return re(w.buffer,w.byteOffset,w.byteLength)}return j(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Fe(B,ArrayBuffer)||B&&Fe(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(B,SharedArrayBuffer)||B&&Fe(B.buffer,SharedArrayBuffer)))return re(B,w,m);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return M.from(U,w,m);const ne=function te(B){if(M.isBuffer(B)){const w=0|J(B.length),m=P(w);return 0===m.length||B.copy(m,0,0,w),m}return void 0!==B.length?"number"!=typeof B.length||Et(B.length)?P(0):j(B):"Buffer"===B.type&&Array.isArray(B.data)?j(B.data):void 0}(B);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return M.from(B[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function F(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function D(B){return F(B),P(B<0?0:0|J(B))}function j(B){const w=B.length<0?0:0|J(B.length),m=P(w);for(let U=0;U<w;U+=1)m[U]=255&B[U];return m}function re(B,w,m){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===w&&void 0===m?new Uint8Array(B):void 0===m?new Uint8Array(B,w):new Uint8Array(B,w,m),Object.setPrototypeOf(U,M.prototype),U}function J(B){if(B>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|B}function ie(B,w){if(M.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Fe(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const m=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Re(B).length;default:if(ne)return U?-1:oe(B).length;w=(""+w).toLowerCase(),ne=!0}}function ae(B,w,m){let U=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return A(this,w,m);case"utf8":case"utf-8":return y(this,w,m);case"ascii":return T(this,w,m);case"latin1":case"binary":return N(this,w,m);case"base64":return u(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,w,m);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function se(B,w,m){const U=B[w];B[w]=B[m],B[m]=U}function de(B,w,m,U,ne){if(0===B.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),Et(m=+m)&&(m=ne?0:B.length-1),m<0&&(m=B.length+m),m>=B.length){if(ne)return-1;m=B.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof w&&(w=M.from(w,U)),M.isBuffer(w))return 0===w.length?-1:le(B,w,m,U,ne);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(B,w,m):Uint8Array.prototype.lastIndexOf.call(B,w,m):le(B,[w],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(B,w,m,U,ne){let vt,ge=1,Ae=B.length,tt=w.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||w.length<2)return-1;ge=2,Ae/=2,tt/=2,m/=2}function Bt(It,Gt){return 1===ge?It[Gt]:It.readUInt16BE(Gt*ge)}if(ne){let It=-1;for(vt=m;vt<Ae;vt++)if(Bt(B,vt)===Bt(w,-1===It?0:vt-It)){if(-1===It&&(It=vt),vt-It+1===tt)return It*ge}else-1!==It&&(vt-=vt-It),It=-1}else for(m+tt>Ae&&(m=Ae-tt),vt=m;vt>=0;vt--){let It=!0;for(let Gt=0;Gt<tt;Gt++)if(Bt(B,vt+Gt)!==Bt(w,Gt)){It=!1;break}if(It)return vt}return-1}function we(B,w,m,U){m=Number(m)||0;const ne=B.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=w.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const tt=parseInt(w.substr(2*Ae,2),16);if(Et(tt))return Ae;B[m+Ae]=tt}return Ae}function xe(B,w,m,U){return $e(oe(w,B.length-m),B,m,U)}function Ce(B,w,m,U){return $e(function fe(B){const w=[];for(let m=0;m<B.length;++m)w.push(255&B.charCodeAt(m));return w}(w),B,m,U)}function C(B,w,m,U){return $e(Re(w),B,m,U)}function a(B,w,m,U){return $e(function Ee(B,w){let m,U,ne;const ge=[];for(let Ae=0;Ae<B.length&&!((w-=2)<0);++Ae)m=B.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(w,B.length-m),B,m,U)}function u(B,w,m){return f.fromByteArray(0===w&&m===B.length?B:B.slice(w,m))}function y(B,w,m){m=Math.min(B.length,m);const U=[];let ne=w;for(;ne<m;){const ge=B[ne];let Ae=null,tt=ge>239?4:ge>223?3:ge>191?2:1;if(ne+tt<=m){let Bt,vt,It,Gt;switch(tt){case 1:ge<128&&(Ae=ge);break;case 2:Bt=B[ne+1],128==(192&Bt)&&(Gt=(31&ge)<<6|63&Bt,Gt>127&&(Ae=Gt));break;case 3:Bt=B[ne+1],vt=B[ne+2],128==(192&Bt)&&128==(192&vt)&&(Gt=(15&ge)<<12|(63&Bt)<<6|63&vt,Gt>2047&&(Gt<55296||Gt>57343)&&(Ae=Gt));break;case 4:Bt=B[ne+1],vt=B[ne+2],It=B[ne+3],128==(192&Bt)&&128==(192&vt)&&128==(192&It)&&(Gt=(15&ge)<<18|(63&Bt)<<12|(63&vt)<<6|63&It,Gt>65535&&Gt<1114112&&(Ae=Gt))}}null===Ae?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=tt}return function S(B){const w=B.length;if(w<=g)return String.fromCharCode.apply(String,B);let m="",U=0;for(;U<w;)m+=String.fromCharCode.apply(String,B.slice(U,U+=g));return m}(U)}z.kMaxLength=H,!(M.TYPED_ARRAY_SUPPORT=function x(){try{const B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(B,w,m){return O(B,w,m)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(B,w,m){return function L(B,w,m){return F(B),B<=0?P(B):void 0!==w?"string"==typeof m?P(B).fill(w,m):P(B).fill(w):P(B)}(B,w,m)},M.allocUnsafe=function(B){return D(B)},M.allocUnsafeSlow=function(B){return D(B)},M.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==M.prototype},M.compare=function(w,m){if(Fe(w,Uint8Array)&&(w=M.from(w,w.offset,w.byteLength)),Fe(m,Uint8Array)&&(m=M.from(m,m.offset,m.byteLength)),!M.isBuffer(w)||!M.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;let U=w.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(w[ge]!==m[ge]){U=w[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},M.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return M.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<w.length;++U)m+=w[U].length;const ne=M.allocUnsafe(m);let ge=0;for(U=0;U<w.length;++U){let Ae=w[U];if(Fe(Ae,Uint8Array))ge+Ae.length>ne.length?(M.isBuffer(Ae)||(Ae=M.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!M.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},M.byteLength=ie,M.prototype._isBuffer=!0,M.prototype.swap16=function(){const w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<w;m+=2)se(this,m,m+1);return this},M.prototype.swap32=function(){const w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<w;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},M.prototype.swap64=function(){const w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<w;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){const w=this.length;return 0===w?"":0===arguments.length?y(this,0,w):ae.apply(this,arguments)},M.prototype.equals=function(w){if(!M.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===M.compare(this,w)},M.prototype.inspect=function(){let w="";const m=z.INSPECT_MAX_BYTES;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},k&&(M.prototype[k]=M.prototype.inspect),M.prototype.compare=function(w,m,U,ne,ge){if(Fe(w,Uint8Array)&&(w=M.from(w,w.offset,w.byteLength)),!M.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===U&&(U=w?w.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>w.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===w)return 0;let Ae=(ge>>>=0)-(ne>>>=0),tt=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,tt),vt=this.slice(ne,ge),It=w.slice(m,U);for(let Gt=0;Gt<Bt;++Gt)if(vt[Gt]!==It[Gt]){Ae=vt[Gt],tt=It[Gt];break}return Ae<tt?-1:tt<Ae?1:0},M.prototype.includes=function(w,m,U){return-1!==this.indexOf(w,m,U)},M.prototype.indexOf=function(w,m,U){return de(this,w,m,U,!0)},M.prototype.lastIndexOf=function(w,m,U){return de(this,w,m,U,!1)},M.prototype.write=function(w,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),w.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return we(this,w,m,U);case"utf8":case"utf-8":return xe(this,w,m,U);case"ascii":case"latin1":case"binary":return Ce(this,w,m,U);case"base64":return C(this,w,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,w,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(127&B[ne]);return U}function N(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(B[ne]);return U}function A(B,w,m){const U=B.length;(!w||w<0)&&(w=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=w;ge<m;++ge)ne+=We[B[ge]];return ne}function s(B,w,m){const U=B.slice(w,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(B,w,m){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+w>m)throw new RangeError("Trying to access beyond buffer length")}function W(B,w,m,U,ne,ge){if(!M.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>ne||w<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>B.length)throw new RangeError("Index out of range")}function K(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,m}function ee(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m+7]=ge,ge>>=8,B[m+6]=ge,ge>>=8,B[m+5]=ge,ge>>=8,B[m+4]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m+3]=Ae,Ae>>=8,B[m+2]=Ae,Ae>>=8,B[m+1]=Ae,Ae>>=8,B[m]=Ae,m+8}function ce(B,w,m,U,ne,ge){if(m+U>B.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,4),_.write(B,w,m,U,23,4),m+4}function Oe(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,8),_.write(B,w,m,U,52,8),m+8}M.prototype.slice=function(w,m){const U=this.length;(w=~~w)<0?(w+=U)<0&&(w=0):w>U&&(w=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<w&&(m=w);const ne=this.subarray(w,m);return Object.setPrototypeOf(ne,M.prototype),ne},M.prototype.readUintLE=M.prototype.readUIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ne},M.prototype.readUintBE=M.prototype.readUIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[w+--m]*ge;return ne},M.prototype.readUint8=M.prototype.readUInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),this[w]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]|this[w+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]<<8|this[w+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},M.prototype.readBigUInt64LE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m+256*this[++w]+65536*this[++w]+this[++w]*2**24,ge=this[++w]+256*this[++w]+65536*this[++w]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),M.prototype.readBigUInt64BE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m*2**24+65536*this[++w]+256*this[++w]+this[++w],ge=this[++w]*2**24+65536*this[++w]+256*this[++w]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),M.prototype.readIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},M.prototype.readIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=m,ge=1,Ae=this[w+--ne];for(;ne>0&&(ge*=256);)Ae+=this[w+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},M.prototype.readInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},M.prototype.readInt16LE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w]|this[w+1]<<8;return 32768&U?4294901760|U:U},M.prototype.readInt16BE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w+1]|this[w]<<8;return 32768&U?4294901760|U:U},M.prototype.readInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},M.prototype.readInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},M.prototype.readBigInt64LE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];return(void 0===m||void 0===U)&&pe(w,this.length-8),(BigInt(this[w+4]+256*this[w+5]+65536*this[w+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++w]+65536*this[++w]+this[++w]*2**24)}),M.prototype.readBigInt64BE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=(m<<24)+65536*this[++w]+256*this[++w]+this[++w];return(BigInt(ne)<<BigInt(32))+BigInt(this[++w]*2**24+65536*this[++w]+256*this[++w]+U)}),M.prototype.readFloatLE=function(w,m){return w>>>=0,m||v(w,4,this.length),_.read(this,w,!0,23,4)},M.prototype.readFloatBE=function(w,m){return w>>>=0,m||v(w,4,this.length),_.read(this,w,!1,23,4)},M.prototype.readDoubleLE=function(w,m){return w>>>=0,m||v(w,8,this.length),_.read(this,w,!0,52,8)},M.prototype.readDoubleBE=function(w,m){return w>>>=0,m||v(w,8,this.length),_.read(this,w,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&w;++Ae<U&&(ge*=256);)this[m+Ae]=w/ge&255;return m+U},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)this[m+ge]=w/Ae&255;return m+U},M.prototype.writeUint8=M.prototype.writeUInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,255,0),this[m]=255&w,m+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},M.prototype.writeBigUInt64LE=Le(function(w,m=0){return K(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Le(function(w,m=0){return ee(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=0,Ae=1,tt=0;for(this[m]=255&w;++ge<U&&(Ae*=256);)w<0&&0===tt&&0!==this[m+ge-1]&&(tt=1),this[m+ge]=(w/Ae|0)-tt&255;return m+U},M.prototype.writeIntBE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,tt=0;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)w<0&&0===tt&&0!==this[m+ge+1]&&(tt=1),this[m+ge]=(w/Ae|0)-tt&255;return m+U},M.prototype.writeInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},M.prototype.writeInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},M.prototype.writeInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},M.prototype.writeInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},M.prototype.writeInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},M.prototype.writeBigInt64LE=Le(function(w,m=0){return K(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Le(function(w,m=0){return ee(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeFloatLE=function(w,m,U){return _e(this,w,m,!0,U)},M.prototype.writeFloatBE=function(w,m,U){return _e(this,w,m,!1,U)},M.prototype.writeDoubleLE=function(w,m,U){return Oe(this,w,m,!0,U)},M.prototype.writeDoubleBE=function(w,m,U){return Oe(this,w,m,!1,U)},M.prototype.copy=function(w,m,U,ne){if(!M.isBuffer(w))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=w.length&&(m=w.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),w.length-m<ne-U&&(ne=w.length-m+U);const ge=ne-U;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(w,this.subarray(U,ne),m),ge},M.prototype.fill=function(w,m,U,ne){if("string"==typeof w){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!M.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===w.length){const Ae=w.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(w=Ae)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,w||(w=0),"number"==typeof w)for(ge=m;ge<U;++ge)this[ge]=w;else{const Ae=M.isBuffer(w)?w:M.from(w,ne),tt=Ae.length;if(0===tt)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%tt]}return this};const Ve={};function Se(B,w,m){Ve[B]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function be(B){let w="",m=B.length;const U="-"===B[0]?1:0;for(;m>=U+4;m-=3)w=`_${B.slice(m-3,m)}${w}`;return`${B.slice(0,m)}${w}`}function ye(B,w,m,U,ne,ge){if(B>m||B<w){const Ae="bigint"==typeof w?"n":"";let tt;throw tt=ge>3?0===w||w===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${w}${Ae} and <= ${m}${Ae}`,new Ve.ERR_OUT_OF_RANGE("value",tt,B)}!function Ue(B,w,m){De(w,"offset"),(void 0===B[w]||void 0===B[w+m])&&pe(w,B.length-(m+1))}(U,ne,ge)}function De(B,w){if("number"!=typeof B)throw new Ve.ERR_INVALID_ARG_TYPE(w,"number",B)}function pe(B,w,m){throw Math.floor(B)!==B?(De(B,m),new Ve.ERR_OUT_OF_RANGE(m||"offset","an integer",B)):w<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${w}`,B)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(B,w){return`The "${B}" argument must be of type number. Received type ${typeof w}`},TypeError),Se("ERR_OUT_OF_RANGE",function(B,w,m){let U=`The value of "${B}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=be(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=be(ne)),ne+="n"),U+=` It must be ${w}. Received ${ne}`,U},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function oe(B,w){let m;w=w||1/0;const U=B.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=B.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(w-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(w-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(w-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(w-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((w-=1)<0)break;ge.push(m)}else if(m<2048){if((w-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function Re(B){return f.toByteArray(function Q(B){if((B=(B=B.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function $e(B,w,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=w.length||ne>=B.length);++ne)w[ne+m]=B[ne];return ne}function Fe(B,w){return B instanceof w||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===w.name}function Et(B){return B!=B}const We=function(){const B="0123456789abcdef",w=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)w[U+ne]=B[m]+B[ne]}return w}();function Le(B){return typeof BigInt>"u"?lt:B}function lt(){throw new Error("BigInt not supported")}},24785:(je,z,E)=>{"use strict";const{AbortError:f,codes:_}=E(65109),{isNodeStream:k,isWebStream:H,kControllerErrorFunction:x}=E(51233),P=E(44268),{ERR_INVALID_ARG_TYPE:M}=_;je.exports.addAbortSignal=function(L,D){if(((F,L)=>{if("object"!=typeof F||!("aborted"in F))throw new M("signal","AbortSignal",F)})(L),!k(D)&&!H(D))throw new M("stream",["ReadableStream","WritableStream","Stream"],D);return je.exports.addAbortSignalNoValidate(L,D)},je.exports.addAbortSignalNoValidate=function(F,L){if("object"!=typeof F||!("aborted"in F))return L;const D=k(L)?()=>{L.destroy(new f(void 0,{cause:F.reason}))}:()=>{L[x](new f(void 0,{cause:F.reason}))};return F.aborted?D():(F.addEventListener("abort",D),P(L,()=>F.removeEventListener("abort",D))),L}},58579:(je,z,E)=>{"use strict";const{StringPrototypeSlice:f,SymbolIterator:_,TypedArrayPrototypeSet:k,Uint8Array:H}=E(43856),{Buffer:x}=E(89565),{inspect:P}=E(55830);je.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(O){const F={data:O,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(O){const F={data:O,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length}shift(){if(0===this.length)return;const O=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,O}clear(){this.head=this.tail=null,this.length=0}join(O){if(0===this.length)return"";let F=this.head,L=""+F.data;for(;null!==(F=F.next);)L+=O+F.data;return L}concat(O){if(0===this.length)return x.alloc(0);const F=x.allocUnsafe(O>>>0);let L=this.head,D=0;for(;L;)k(F,L.data,D),D+=L.data.length,L=L.next;return F}consume(O,F){const L=this.head.data;if(O<L.length){const D=L.slice(0,O);return this.head.data=L.slice(O),D}return O===L.length?this.shift():F?this._getString(O):this._getBuffer(O)}first(){return this.head.data}*[_](){for(let O=this.head;O;O=O.next)yield O.data}_getString(O){let F="",L=this.head,D=0;do{const X=L.data;if(!(O>X.length)){O===X.length?(F+=X,++D,this.head=L.next?L.next:this.tail=null):(F+=f(X,0,O),this.head=L,L.data=f(X,O));break}F+=X,O-=X.length,++D}while(null!==(L=L.next));return this.length-=D,F}_getBuffer(O){const F=x.allocUnsafe(O),L=O;let D=this.head,X=0;do{const j=D.data;if(!(O>j.length)){O===j.length?(k(F,j,L-O),++X,this.head=D.next?D.next:this.tail=null):(k(F,new H(j.buffer,j.byteOffset,O),L-O),this.head=D,D.data=j.slice(O));break}k(F,j,L-O),O-=j.length,++X}while(null!==(D=D.next));return this.length-=X,F}[Symbol.for("nodejs.util.inspect.custom")](O,F){return P(this,{...F,depth:0,customInspect:!1})}}},5464:(je,z,E)=>{"use strict";var f=E(29293).default;const{pipeline:_}=E(96208),k=E(97464),{destroyer:H}=E(45078),{isNodeStream:x,isReadable:P,isWritable:M,isWebStream:O,isTransformStream:F,isWritableStream:L,isReadableStream:D}=E(51233),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=E(65109),re=E(44268);je.exports=function(...J){if(0===J.length)throw new G("streams");if(1===J.length)return k.from(J[0]);const Z=[...J];if("function"==typeof J[0]&&(J[0]=k.from(J[0])),"function"==typeof J[J.length-1]){const u=J.length-1;J[u]=k.from(J[u])}for(let u=0;u<J.length;++u)if(x(J[u])||O(J[u])){if(u<J.length-1&&!(P(J[u])||D(J[u])||F(J[u])))throw new j(`streams[${u}]`,Z[u],"must be readable");if(u>0&&!(M(J[u])||L(J[u])||F(J[u])))throw new j(`streams[${u}]`,Z[u],"must be writable")}let ie,ae,se,de,le;const xe=J[0],Ce=_(J,function we(u){const y=de;de=null,y?y(u):u?le.destroy(u):!a&&!C&&le.destroy()}),C=!!(M(xe)||L(xe)||F(xe)),a=!!(P(Ce)||D(Ce)||F(Ce));if(le=new k({writableObjectMode:!(null==xe||!xe.writableObjectMode),readableObjectMode:!(null==Ce||!Ce.writableObjectMode),writable:C,readable:a}),C){if(x(xe))le._write=function(y,g,S){xe.write(y,g)?S():ie=S},le._final=function(y){xe.end(),ae=y},xe.on("drain",function(){if(ie){const y=ie;ie=null,y()}});else if(O(xe)){const g=(F(xe)?xe.writable:xe).getWriter();le._write=function(){var S=f(function*(T,N,A){try{yield g.ready,g.write(T).catch(()=>{}),A()}catch(s){A(s)}});return function(T,N,A){return S.apply(this,arguments)}}(),le._final=function(){var S=f(function*(T){try{yield g.ready,g.close().catch(()=>{}),ae=T}catch(N){T(N)}});return function(T){return S.apply(this,arguments)}}()}const u=F(Ce)?Ce.readable:Ce;re(u,()=>{if(ae){const y=ae;ae=null,y()}})}if(a)if(x(Ce))Ce.on("readable",function(){if(se){const u=se;se=null,u()}}),Ce.on("end",function(){le.push(null)}),le._read=function(){for(;;){const u=Ce.read();if(null===u)return void(se=le._read);if(!le.push(u))return}};else if(O(Ce)){const y=(F(Ce)?Ce.readable:Ce).getReader();le._read=f(function*(){for(;;)try{const{value:g,done:S}=yield y.read();if(!le.push(g))return;if(S)return void le.push(null)}catch{return}})}return le._destroy=function(u,y){!u&&null!==de&&(u=new X),se=null,ie=null,ae=null,null===de?y(u):(de=y,x(Ce)&&H(Ce,u))},le}},45078:(je,z,E)=>{"use strict";const f=E(40573),{aggregateTwoErrors:_,codes:{ERR_MULTIPLE_CALLBACK:k},AbortError:H}=E(65109),{Symbol:x}=E(43856),{kDestroyed:P,isDestroyed:M,isFinished:O,isServerRequest:F}=E(51233),L=x("kDestroy"),D=x("kConstruct");function X(C,a,u){C&&(a&&!a.errored&&(a.errored=C),u&&!u.errored&&(u.errored=C))}function G(C,a,u){let y=!1;function g(S){if(y)return;y=!0;const T=C._readableState,N=C._writableState;X(S,N,T),N&&(N.closed=!0),T&&(T.closed=!0),"function"==typeof u&&u(S),S?f.nextTick(re,C,S):f.nextTick(te,C)}try{C._destroy(a||null,g)}catch(S){g(S)}}function re(C,a){J(C,a),te(C)}function te(C){const a=C._readableState,u=C._writableState;u&&(u.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=u&&u.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function J(C,a){const u=C._readableState,y=C._writableState;null!=y&&y.errorEmitted||null!=u&&u.errorEmitted||(y&&(y.errorEmitted=!0),u&&(u.errorEmitted=!0),C.emit("error",a))}function ie(C,a,u){const y=C._readableState,g=C._writableState;if(null!=g&&g.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=g&&g.autoDestroy?C.destroy(a):a&&(g&&!g.errored&&(g.errored=a),y&&!y.errored&&(y.errored=a),u?f.nextTick(J,C,a):J(C,a))}function se(C){let a=!1;function u(y){if(a)return void ie(C,y??new k);a=!0;const g=C._readableState,S=C._writableState,T=S||g;g&&(g.constructed=!0),S&&(S.constructed=!0),T.destroyed?C.emit(L,y):y?ie(C,y,!0):f.nextTick(de,C)}try{C._construct(y=>{f.nextTick(u,y)})}catch(y){f.nextTick(u,y)}}function de(C){C.emit(D)}function le(C){return C?.setHeader&&"function"==typeof C.abort}function we(C){C.emit("close")}function xe(C,a){C.emit("error",a),f.nextTick(we,C)}je.exports={construct:function ae(C,a){if("function"!=typeof C._construct)return;const u=C._readableState,y=C._writableState;u&&(u.constructed=!1),y&&(y.constructed=!1),C.once(D,a),!(C.listenerCount(D)>1)&&f.nextTick(se,C)},destroyer:function Ce(C,a){!C||M(C)||(!a&&!O(C)&&(a=new H),F(C)?(C.socket=null,C.destroy(a)):le(C)?C.abort():le(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?f.nextTick(xe,C,a):f.nextTick(we,C),C.destroyed||(C[P]=!0))},destroy:function j(C,a){const u=this._readableState,y=this._writableState,g=y||u;return null!=y&&y.destroyed||null!=u&&u.destroyed?("function"==typeof a&&a(),this):(X(C,y,u),y&&(y.destroyed=!0),u&&(u.destroyed=!0),g.constructed?G(this,C,a):this.once(L,function(S){G(this,_(S,C),a)}),this)},undestroy:function Z(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:ie}},97464:(je,z,E)=>{"use strict";const{ObjectDefineProperties:f,ObjectGetOwnPropertyDescriptor:_,ObjectKeys:k,ObjectSetPrototypeOf:H}=E(43856);je.exports=M;const x=E(29710),P=E(40258);H(M.prototype,x.prototype),H(M,x);{const D=k(P.prototype);for(let X=0;X<D.length;X++){const j=D[X];M.prototype[j]||(M.prototype[j]=P.prototype[j])}}function M(D){if(!(this instanceof M))return new M(D);x.call(this,D),P.call(this,D),D?(this.allowHalfOpen=!1!==D.allowHalfOpen,!1===D.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let O,L;function F(){return void 0===O&&(O={}),O}f(M.prototype,{writable:{__proto__:null,..._(P.prototype,"writable")},writableHighWaterMark:{__proto__:null,..._(P.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,..._(P.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,..._(P.prototype,"writableBuffer")},writableLength:{__proto__:null,..._(P.prototype,"writableLength")},writableFinished:{__proto__:null,..._(P.prototype,"writableFinished")},writableCorked:{__proto__:null,..._(P.prototype,"writableCorked")},writableEnded:{__proto__:null,..._(P.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,..._(P.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}}),M.fromWeb=function(D,X){return F().newStreamDuplexFromReadableWritablePair(D,X)},M.toWeb=function(D){return F().newReadableWritablePairFromDuplex(D)},M.from=function(D){return L||(L=E(56840)),L(D,"body")}},56840:(je,z,E)=>{var f=E(29293).default,_=E(53344).default,k=E(42958).default;const H=E(40573),x=E(89565),{isReadable:P,isWritable:M,isIterable:O,isNodeStream:F,isReadableNodeStream:L,isWritableNodeStream:D,isDuplexNodeStream:X}=E(51233),j=E(44268),{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te}}=E(65109),{destroyer:J}=E(45078),Z=E(97464),ie=E(29710),{createDeferredPromise:ae}=E(55830),se=E(24246),de=globalThis.Blob||x.Blob,le=typeof de<"u"?function(y){return y instanceof de}:function(y){return!1},we=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:xe}=E(43856);class Ce extends Z{constructor(y){super(y),!1===y?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===y?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function a(u){const y=u.readable&&"function"!=typeof u.readable.read?ie.wrap(u.readable):u.readable,g=u.writable;let N,A,s,v,W,S=!!P(y),T=!!M(g);function K(ee){const ce=v;v=null,ce?ce(ee):ee&&W.destroy(ee)}return W=new Ce({readableObjectMode:!(null==y||!y.readableObjectMode),writableObjectMode:!(null==g||!g.writableObjectMode),readable:S,writable:T}),T&&(j(g,ee=>{T=!1,ee&&J(y,ee),K(ee)}),W._write=function(ee,ce,_e){g.write(ee,ce)?_e():N=_e},W._final=function(ee){g.end(),A=ee},g.on("drain",function(){if(N){const ee=N;N=null,ee()}}),g.on("finish",function(){if(A){const ee=A;A=null,ee()}})),S&&(j(y,ee=>{S=!1,ee&&J(y,ee),K(ee)}),y.on("readable",function(){if(s){const ee=s;s=null,ee()}}),y.on("end",function(){W.push(null)}),W._read=function(){for(;;){const ee=y.read();if(null===ee)return void(s=W._read);if(!W.push(ee))return}}),W._destroy=function(ee,ce){!ee&&null!==v&&(ee=new G),s=null,N=null,A=null,null===v?ce(ee):(v=ce,J(g,ee),J(y,ee))},W}je.exports=function u(y,g){if(X(y))return y;if(L(y))return a({readable:y});if(D(y))return a({writable:y});if(F(y))return a({writable:!1,readable:!1});if("function"==typeof y){const{value:T,write:N,final:A,destroy:s}=function C(u){let{promise:y,resolve:g}=ae();const S=new we,T=S.signal;return{value:u(k(function*(){for(;;){const A=y;y=null;const{chunk:s,done:v,cb:W}=yield _(A);if(H.nextTick(W),v)return;if(T.aborted)throw new G(void 0,{cause:T.reason});({promise:y,resolve:g}=ae()),yield s}})(),{signal:T}),write(A,s,v){const W=g;g=null,W({chunk:A,done:!1,cb:v})},final(A){const s=g;g=null,s({done:!0,cb:A})},destroy(A,s){S.abort(),s(A)}}}(y);if(O(T))return se(Ce,T,{objectMode:!0,write:N,final:A,destroy:s});const v=T?.then;if("function"==typeof v){let W;const K=xe(v,T,ee=>{if(null!=ee)throw new te("nully","body",ee)},ee=>{J(W,ee)});return W=new Ce({objectMode:!0,readable:!1,write:N,final(ee){A(f(function*(){try{yield K,H.nextTick(ee,null)}catch(ce){H.nextTick(ee,ce)}}))},destroy:s})}throw new te("Iterable, AsyncIterable or AsyncFunction",g,T)}if(le(y))return u(y.arrayBuffer());if(O(y))return se(Ce,y,{objectMode:!0,writable:!1});if("object"==typeof y?.writable||"object"==typeof y?.readable)return a({readable:null!=y&&y.readable?L(y?.readable)?y?.readable:u(y.readable):void 0,writable:null!=y&&y.writable?D(y?.writable)?y?.writable:u(y.writable):void 0});const S=y?.then;if("function"==typeof S){let T;return xe(S,y,N=>{null!=N&&T.push(N),T.push(null)},N=>{J(T,N)}),T=new Ce({objectMode:!0,writable:!1,read(){}})}throw new re(g,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],y)}},44268:(je,z,E)=>{const f=E(40573),{AbortError:_,codes:k}=E(65109),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:x}=k,{kEmptyObject:P,once:M}=E(55830),{validateAbortSignal:O,validateFunction:F,validateObject:L,validateBoolean:D}=E(44323),{Promise:X,PromisePrototypeThen:j}=E(43856),{isClosed:G,isReadable:re,isReadableNodeStream:te,isReadableStream:J,isReadableFinished:Z,isReadableErrored:ie,isWritable:ae,isWritableNodeStream:se,isWritableStream:de,isWritableFinished:le,isWritableErrored:we,isNodeStream:xe,willEmitClose:Ce,kIsClosedPromise:C}=E(51233),u=()=>{};function y(T,N,A){var s,v;if(2===arguments.length?(A=N,N=P):null==N?N=P:L(N,"options"),F(A,"callback"),O(N.signal,"options.signal"),A=M(A),J(T)||de(T))return function g(T,N,A){let s=!1,v=u;if(N.signal)if(v=()=>{s=!0,A.call(T,new _(void 0,{cause:N.signal.reason}))},N.signal.aborted)f.nextTick(v);else{const K=A;A=M((...ee)=>{N.signal.removeEventListener("abort",v),K.apply(T,ee)}),N.signal.addEventListener("abort",v)}const W=(...K)=>{s||f.nextTick(()=>A.apply(T,K))};return j(T[C].promise,W,W),u}(T,N,A);if(!xe(T))throw new H("stream",["ReadableStream","WritableStream","Stream"],T);const W=null!==(s=N.readable)&&void 0!==s?s:te(T),K=null!==(v=N.writable)&&void 0!==v?v:se(T),ee=T._writableState,ce=T._readableState,_e=()=>{T.writable||Se()};let Oe=Ce(T)&&te(T)===W&&se(T)===K,Ve=le(T,!1);const Se=()=>{Ve=!0,T.destroyed&&(Oe=!1),(!Oe||T.readable&&!W)&&(!W||be)&&A.call(T)};let be=Z(T,!1);const Ue=()=>{be=!0,T.destroyed&&(Oe=!1),(!Oe||T.writable&&!K)&&(!K||Ve)&&A.call(T)},ye=fe=>{A.call(T,fe)};let De=G(T);const pe=()=>{De=!0;const fe=we(T)||ie(T);return fe&&"boolean"!=typeof fe?A.call(T,fe):W&&!be&&te(T,!0)&&!Z(T,!1)?A.call(T,new x):!K||Ve||le(T,!1)?void A.call(T):A.call(T,new x)},ue=()=>{De=!0;const fe=we(T)||ie(T);if(fe&&"boolean"!=typeof fe)return A.call(T,fe);A.call(T)},Q=()=>{T.req.on("finish",Se)};!function a(T){return T.setHeader&&"function"==typeof T.abort}(T)?K&&!ee&&(T.on("end",_e),T.on("close",_e)):(T.on("complete",Se),Oe||T.on("abort",pe),T.req?Q():T.on("request",Q)),!Oe&&"boolean"==typeof T.aborted&&T.on("aborted",pe),T.on("end",Ue),T.on("finish",Se),!1!==N.error&&T.on("error",ye),T.on("close",pe),De?f.nextTick(pe):null!=ee&&ee.errorEmitted||null!=ce&&ce.errorEmitted?Oe||f.nextTick(ue):(!W&&(!Oe||re(T))&&(Ve||!1===ae(T))||!K&&(!Oe||ae(T))&&(be||!1===re(T))||ce&&T.req&&T.aborted)&&f.nextTick(ue);const oe=()=>{A=u,T.removeListener("aborted",pe),T.removeListener("complete",Se),T.removeListener("abort",pe),T.removeListener("request",Q),T.req&&T.req.removeListener("finish",Se),T.removeListener("end",_e),T.removeListener("close",_e),T.removeListener("finish",Se),T.removeListener("end",Ue),T.removeListener("error",ye),T.removeListener("close",pe)};if(N.signal&&!De){const fe=()=>{const Ee=A;oe(),Ee.call(T,new _(void 0,{cause:N.signal.reason}))};if(N.signal.aborted)f.nextTick(fe);else{const Ee=A;A=M((...Re)=>{N.signal.removeEventListener("abort",fe),Ee.apply(T,Re)}),N.signal.addEventListener("abort",fe)}}return oe}je.exports=y,je.exports.finished=function S(T,N){var A;let s=!1;return null===N&&(N=P),null!==(A=N)&&void 0!==A&&A.cleanup&&(D(N.cleanup,"cleanup"),s=N.cleanup),new X((v,W)=>{const K=y(T,N,ee=>{s&&K(),ee?W(ee):v()})})}},24246:(je,z,E)=>{"use strict";var f=E(29293).default;const _=E(40573),{PromisePrototypeThen:k,SymbolAsyncIterator:H,SymbolIterator:x}=E(43856),{Buffer:P}=E(89565),{ERR_INVALID_ARG_TYPE:M,ERR_STREAM_NULL_VALUES:O}=E(65109).codes;je.exports=function F(L,D,X){let j,G;if("string"==typeof D||D instanceof P)return new L({objectMode:!0,...X,read(){this.push(D),this.push(null)}});if(D&&D[H])G=!0,j=D[H]();else{if(!D||!D[x])throw new M("iterable",["Iterable"],D);G=!1,j=D[x]()}const re=new L({objectMode:!0,highWaterMark:1,...X});let te=!1;function Z(){return(Z=f(function*(se){if(null!=se&&"function"==typeof j.throw){const{value:we,done:xe}=yield j.throw(se);if(yield we,xe)return}if("function"==typeof j.return){const{value:we}=yield j.return();yield we}})).apply(this,arguments)}function ae(){return(ae=f(function*(){for(;;){try{const{value:se,done:de}=G?yield j.next():j.next();if(de)re.push(null);else{const le=se&&"function"==typeof se.then?yield se:se;if(null===le)throw te=!1,new O;if(re.push(le))continue;te=!1}}catch(se){re.destroy(se)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function ie(){ae.apply(this,arguments)}())},re._destroy=function(se,de){k(function J(se){return Z.apply(this,arguments)}(se),()=>_.nextTick(de,se),le=>_.nextTick(de,le||se))},re}},2649:(je,z,E)=>{"use strict";const{ArrayIsArray:f,ObjectSetPrototypeOf:_}=E(43856),{EventEmitter:k}=E(44356);function H(P){k.call(this,P)}function x(P,M,O){if("function"==typeof P.prependListener)return P.prependListener(M,O);P._events&&P._events[M]?f(P._events[M])?P._events[M].unshift(O):P._events[M]=[O,P._events[M]]:P.on(M,O)}_(H.prototype,k.prototype),_(H,k),H.prototype.pipe=function(P,M){const O=this;function F(te){P.writable&&!1===P.write(te)&&O.pause&&O.pause()}function L(){O.readable&&O.resume&&O.resume()}O.on("data",F),P.on("drain",L),!P._isStdio&&(!M||!1!==M.end)&&(O.on("end",X),O.on("close",j));let D=!1;function X(){D||(D=!0,P.end())}function j(){D||(D=!0,"function"==typeof P.destroy&&P.destroy())}function G(te){re(),0===k.listenerCount(this,"error")&&this.emit("error",te)}function re(){O.removeListener("data",F),P.removeListener("drain",L),O.removeListener("end",X),O.removeListener("close",j),O.removeListener("error",G),P.removeListener("error",G),O.removeListener("end",re),O.removeListener("close",re),P.removeListener("close",re)}return x(O,"error",G),x(P,"error",G),O.on("end",re),O.on("close",re),P.on("close",re),P.emit("pipe",O),P},je.exports={Stream:H,prependListener:x}},37325:(je,z,E)=>{"use strict";var f=E(29293).default,_=E(93513).default,k=E(82881).default,H=E(53344).default,x=E(42958).default;const P=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:M,ERR_INVALID_ARG_TYPE:O,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:L},AbortError:D}=E(65109),{validateAbortSignal:X,validateInteger:j,validateObject:G}=E(44323),re=E(43856).Symbol("kWeak"),{finished:te}=E(44268),J=E(5464),{addAbortSignalNoValidate:Z}=E(24785),{isWritable:ie,isNodeStream:ae}=E(51233),{ArrayPrototypePush:se,MathFloor:de,Number:le,NumberIsNaN:we,Promise:xe,PromiseReject:Ce,PromisePrototypeThen:C,Symbol:a}=E(43856),u=a("kEmpty"),y=a("kEof");function S(Q,oe){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal");let fe=1;return null!=oe?.concurrency&&(fe=de(oe.concurrency)),j(fe,"concurrency",1),function(){var Ee=x(function*(){var $e,Fe;const Et=new P,We=this,Le=[],lt=Et.signal,B={signal:lt},w=()=>Et.abort();null!=oe&&null!==($e=oe.signal)&&void 0!==$e&&$e.aborted&&w(),null==oe||null===(Fe=oe.signal)||void 0===Fe||Fe.addEventListener("abort",w);let m,U,ne=!1;function ge(){ne=!0}function tt(){return(tt=f(function*(){try{var It,Bt=!1,vt=!1;try{for(var hn,Gt=k(We);Bt=!(hn=yield Gt.next()).done;Bt=!1){let An=hn.value;var dn;if(ne)return;if(lt.aborted)throw new D;try{An=Q(An,B)}catch(en){An=Ce(en)}An!==u&&("function"==typeof(null===(dn=An)||void 0===dn?void 0:dn.catch)&&An.catch(ge),Le.push(An),m&&(m(),m=null),!ne&&Le.length&&Le.length>=fe&&(yield new xe(en=>{U=en})))}}catch(An){vt=!0,It=An}finally{try{Bt&&null!=Gt.return&&(yield Gt.return())}finally{if(vt)throw It}}Le.push(y)}catch(An){const en=Ce(An);C(en,void 0,ge),Le.push(en)}finally{var ar;ne=!0,m&&(m(),m=null),null==oe||null===(ar=oe.signal)||void 0===ar||ar.removeEventListener("abort",w)}})).apply(this,arguments)}!function Ae(){tt.apply(this,arguments)}();try{for(;;){for(;Le.length>0;){const Bt=yield H(Le[0]);if(Bt===y)return;if(lt.aborted)throw new D;Bt!==u&&(yield Bt),Le.shift(),U&&(U(),U=null)}yield H(new xe(Bt=>{m=Bt}))}}finally{Et.abort(),ne=!0,U&&(U(),U=null)}});return function Re(){return Ee.apply(this,arguments)}}().call(this)}function N(Q){return A.apply(this,arguments)}function A(){return(A=f(function*(Q,oe=void 0){var Re,fe=!1,Ee=!1;try{for(var $e=k(_e.call(this,Q,oe));fe=!(yield $e.next()).done;fe=!1)return!0}catch(Et){Ee=!0,Re=Et}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}return!1})).apply(this,arguments)}function v(){return(v=f(function*(Q,oe=void 0){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);return!(yield N.call(this,f(function*(...fe){return!(yield Q(...fe))}),oe))})).apply(this,arguments)}function K(){return(K=f(function*(Q,oe){var Re,fe=!1,Ee=!1;try{for(var Fe,$e=k(_e.call(this,Q,oe));fe=!(Fe=yield $e.next()).done;fe=!1)return Fe.value}catch(Et){Ee=!0,Re=Et}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}})).apply(this,arguments)}function ce(){return ce=f(function*(Q,oe){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=f(function*(Le,lt){return yield Q(Le,lt),u})).apply(this,arguments)}var Fe,Re=!1,$e=!1;try{for(var Et=k(S.call(this,function fe(Le,lt){return Ee.apply(this,arguments)},oe));Re=!(yield Et.next()).done;Re=!1);}catch(Le){$e=!0,Fe=Le}finally{try{Re&&null!=Et.return&&(yield Et.return())}finally{if($e)throw Fe}}}),ce.apply(this,arguments)}function _e(Q,oe){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=f(function*(Re,$e){return(yield Q(Re,$e))?Re:u})).apply(this,arguments)}return S.call(this,function fe(Re,$e){return Ee.apply(this,arguments)},oe)}class Oe extends F{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Se(){return Se=f(function*(Q,oe,fe){var Ee;if("function"!=typeof Q)throw new O("reducer",["Function","AsyncFunction"],Q);null!=fe&&G(fe,"options"),null!=fe?.signal&&X(fe.signal,"options.signal");let Re=arguments.length>1;if(null!=fe&&null!==(Ee=fe.signal)&&void 0!==Ee&&Ee.aborted){const U=new D(void 0,{cause:fe.signal.reason});throw this.once("error",()=>{}),yield te(this.destroy(U)),U}const $e=new P,Fe=$e.signal;null!=fe&&fe.signal&&fe.signal.addEventListener("abort",()=>$e.abort(),{once:!0,[re]:this});let Et=!1;try{var lt,We=!1,Le=!1;try{for(var w,B=k(this);We=!(w=yield B.next()).done;We=!1){const U=w.value;var m;if(Et=!0,null!=fe&&null!==(m=fe.signal)&&void 0!==m&&m.aborted)throw new D;Re?oe=yield Q(oe,U,{signal:Fe}):(oe=U,Re=!0)}}catch(U){Le=!0,lt=U}finally{try{We&&null!=B.return&&(yield B.return())}finally{if(Le)throw lt}}if(!Et&&!Re)throw new Oe}finally{$e.abort()}return oe}),Se.apply(this,arguments)}function Ue(){return(Ue=f(function*(Q){null!=Q&&G(Q,"options"),null!=Q?.signal&&X(Q.signal,"options.signal");const oe=[];var Re,fe=!1,Ee=!1;try{for(var Fe,$e=k(this);fe=!(Fe=yield $e.next()).done;fe=!1){const We=Fe.value;var Et;if(null!=Q&&null!==(Et=Q.signal)&&void 0!==Et&&Et.aborted)throw new D(void 0,{cause:Q.signal.reason});se(oe,We)}}catch(We){Ee=!0,Re=We}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}return oe})).apply(this,arguments)}function De(Q){if(Q=le(Q),we(Q))return 0;if(Q<0)throw new L("number",">= 0",Q);return Q}je.exports.streamReturningOperators={asIndexedPairs:function T(Q=void 0){return null!=Q&&G(Q,"options"),null!=Q?.signal&&X(Q.signal,"options.signal"),function(){var oe=x(function*(){let Ee=0;var Fe,Re=!1,$e=!1;try{for(var We,Et=k(this);Re=!(We=yield H(Et.next())).done;Re=!1){const lt=We.value;var Le;if(null!=Q&&null!==(Le=Q.signal)&&void 0!==Le&&Le.aborted)throw new D({cause:Q.signal.reason});yield[Ee++,lt]}}catch(lt){$e=!0,Fe=lt}finally{try{Re&&null!=Et.return&&(yield H(Et.return()))}finally{if($e)throw Fe}}});return function fe(){return oe.apply(this,arguments)}}().call(this)},drop:function pe(Q,oe=void 0){return null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),Q=De(Q),function(){var fe=x(function*(){var Re;if(null!=oe&&null!==(Re=oe.signal)&&void 0!==Re&&Re.aborted)throw new D;var Et,$e=!1,Fe=!1;try{for(var Le,We=k(this);$e=!(Le=yield H(We.next())).done;$e=!1){const B=Le.value;var lt;if(null!=oe&&null!==(lt=oe.signal)&&void 0!==lt&&lt.aborted)throw new D;Q--<=0&&(yield B)}}catch(B){Fe=!0,Et=B}finally{try{$e&&null!=We.return&&(yield H(We.return()))}finally{if(Fe)throw Et}}});return function Ee(){return fe.apply(this,arguments)}}().call(this)},filter:_e,flatMap:function ye(Q,oe){const fe=S.call(this,Q,oe);return function(){var Ee=x(function*(){var Et,$e=!1,Fe=!1;try{for(var Le,We=k(fe);$e=!(Le=yield H(We.next())).done;$e=!1){const lt=Le.value;yield*_(k(lt),H)}}catch(lt){Fe=!0,Et=lt}finally{try{$e&&null!=We.return&&(yield H(We.return()))}finally{if(Fe)throw Et}}});return function Re(){return Ee.apply(this,arguments)}}().call(this)},map:S,take:function ue(Q,oe=void 0){return null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),Q=De(Q),function(){var fe=x(function*(){var Re;if(null!=oe&&null!==(Re=oe.signal)&&void 0!==Re&&Re.aborted)throw new D;var Et,$e=!1,Fe=!1;try{for(var Le,We=k(this);$e=!(Le=yield H(We.next())).done;$e=!1){const B=Le.value;var lt;if(null!=oe&&null!==(lt=oe.signal)&&void 0!==lt&&lt.aborted)throw new D;if(!(Q-- >0))return;yield B}}catch(B){Fe=!0,Et=B}finally{try{$e&&null!=We.return&&(yield H(We.return()))}finally{if(Fe)throw Et}}});return function Ee(){return fe.apply(this,arguments)}}().call(this)},compose:function g(Q,oe){if(null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),ae(Q)&&!ie(Q))throw new M("stream",Q,"must be writable");const fe=J(this,Q);return null!=oe&&oe.signal&&Z(oe.signal,fe),fe}},je.exports.promiseReturningOperators={every:function s(Q){return v.apply(this,arguments)},forEach:function ee(Q,oe){return ce.apply(this,arguments)},reduce:function Ve(Q,oe,fe){return Se.apply(this,arguments)},toArray:function be(Q){return Ue.apply(this,arguments)},some:N,find:function W(Q,oe){return K.apply(this,arguments)}}},70874:(je,z,E)=>{"use strict";const{ObjectSetPrototypeOf:f}=E(43856);je.exports=k;const _=E(66344);function k(H){if(!(this instanceof k))return new k(H);_.call(this,H)}f(k.prototype,_.prototype),f(k,_),k.prototype._transform=function(H,x,P){P(null,H)}},96208:(je,z,E)=>{var f=E(29293).default,_=E(42958).default,k=E(53344).default,H=E(93513).default,x=E(82881).default;const P=E(40573),{ArrayIsArray:M,Promise:O,SymbolAsyncIterator:F}=E(43856),L=E(44268),{once:D}=E(55830),X=E(45078),j=E(97464),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:Z,ERR_STREAM_PREMATURE_CLOSE:ie},AbortError:ae}=E(65109),{validateFunction:se,validateAbortSignal:de}=E(44323),{isIterable:le,isReadable:we,isReadableNodeStream:xe,isNodeStream:Ce,isTransformStream:C,isWebStream:a,isReadableStream:u,isReadableEnded:y}=E(51233),g=globalThis.AbortController||E(9465).AbortController;let S,T;function N(be,Ue,ye){let De=!1;return be.on("close",()=>{De=!0}),{destroy:ue=>{De||(De=!0,X.destroyer(be,ue||new Z("pipe")))},cleanup:L(be,{readable:Ue,writable:ye},ue=>{De=!ue})}}function s(be){if(le(be))return be;if(xe(be))return function v(be){return W.apply(this,arguments)}(be);throw new re("val",["Readable","Iterable","AsyncIterable"],be)}function W(){return(W=_(function*(be){T||(T=E(29710)),yield*H(x(T.prototype[F].call(be)),k)})).apply(this,arguments)}function K(be,Ue,ye,De){return ee.apply(this,arguments)}function ee(){return(ee=f(function*(be,Ue,ye,{end:De}){let pe,ue=null;const Q=We=>{if(We&&(pe=We),ue){const Le=ue;ue=null,Le()}},oe=()=>new O((We,Le)=>{pe?Le(pe):ue=()=>{pe?Le(pe):We()}});Ue.on("drain",Q);const fe=L(Ue,{readable:!1},Q);try{Ue.writableNeedDrain&&(yield oe());var $e,Ee=!1,Re=!1;try{for(var Et,Fe=x(be);Ee=!(Et=yield Fe.next()).done;Ee=!1)Ue.write(Et.value)||(yield oe())}catch(We){Re=!0,$e=We}finally{try{Ee&&null!=Fe.return&&(yield Fe.return())}finally{if(Re)throw $e}}De&&Ue.end(),yield oe(),ye()}catch(We){ye(pe!==We?G(pe,We):We)}finally{fe(),Ue.off("drain",Q)}})).apply(this,arguments)}function ce(be,Ue,ye,De){return _e.apply(this,arguments)}function _e(){return(_e=f(function*(be,Ue,ye,{end:De}){C(Ue)&&(Ue=Ue.writable);const pe=Ue.getWriter();try{var oe,ue=!1,Q=!1;try{for(var Ee,fe=x(be);ue=!(Ee=yield fe.next()).done;ue=!1){const Re=Ee.value;yield pe.ready,pe.write(Re).catch(()=>{})}}catch(Re){Q=!0,oe=Re}finally{try{ue&&null!=fe.return&&(yield fe.return())}finally{if(Q)throw oe}}yield pe.ready,De&&(yield pe.close()),ye()}catch(Re){try{yield pe.abort(Re),ye(Re)}catch($e){ye($e)}}})).apply(this,arguments)}function Ve(be,Ue,ye){if(1===be.length&&M(be[0])&&(be=be[0]),be.length<2)throw new J("streams");const De=new g,pe=De.signal,ue=ye?.signal,Q=[];function oe(){Et(new ae)}let fe,Ee;de(ue,"options.signal"),ue?.addEventListener("abort",oe);const Re=[];let We,$e=0;function Fe(w){Et(w,0==--$e)}function Et(w,m){if(w&&(!fe||"ERR_STREAM_PREMATURE_CLOSE"===fe.code)&&(fe=w),fe||m){for(;Re.length;)Re.shift()(fe);ue?.removeEventListener("abort",oe),De.abort(),m&&(fe||Q.forEach(U=>U()),P.nextTick(Ue,fe,Ee))}}for(let w=0;w<be.length;w++){const m=be[w],U=w<be.length-1,ne=w>0,ge=U||!1!==ye?.end,Ae=w===be.length-1;if(Ce(m)){let tt=function(Bt){Bt&&"AbortError"!==Bt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Bt.code&&Fe(Bt)};if(ge){const{destroy:Bt,cleanup:vt}=N(m,U,ne);Re.push(Bt),we(m)&&Ae&&Q.push(vt)}m.on("error",tt),we(m)&&Ae&&Q.push(()=>{m.removeListener("error",tt)})}if(0===w)if("function"==typeof m){if(We=m({signal:pe}),!le(We))throw new te("Iterable, AsyncIterable or Stream","source",We)}else We=le(m)||xe(m)||C(m)?m:j.from(m);else if("function"==typeof m){var Le;if(We=C(We)?s(null===(Le=We)||void 0===Le?void 0:Le.readable):s(We),We=m(We,{signal:pe}),U){if(!le(We,!0))throw new te("AsyncIterable",`transform[${w-1}]`,We)}else{var lt;S||(S=E(70874));const tt=new S({objectMode:!0}),Bt=null===(lt=We)||void 0===lt?void 0:lt.then;if("function"==typeof Bt)$e++,Bt.call(We,Gt=>{Ee=Gt,null!=Gt&&tt.write(Gt),ge&&tt.end(),P.nextTick(Fe)},Gt=>{tt.destroy(Gt),P.nextTick(Fe,Gt)});else if(le(We,!0))$e++,K(We,tt,Fe,{end:ge});else{if(!u(We)&&!C(We))throw new te("AsyncIterable or Promise","destination",We);$e++,K(We.readable||We,tt,Fe,{end:ge})}We=tt;const{destroy:vt,cleanup:It}=N(We,!1,!0);Re.push(vt),Ae&&Q.push(It)}}else if(Ce(m)){if(xe(We)){$e+=2;const tt=Se(We,m,Fe,{end:ge});we(m)&&Ae&&Q.push(tt)}else if(C(We)||u(We))$e++,K(We.readable||We,m,Fe,{end:ge});else{if(!le(We))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],We);$e++,K(We,m,Fe,{end:ge})}We=m}else if(a(m)){if(xe(We))$e++,ce(s(We),m,Fe,{end:ge});else if(u(We)||le(We))$e++,ce(We,m,Fe,{end:ge});else{if(!C(We))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],We);$e++,ce(We.readable,m,Fe,{end:ge})}We=m}else We=j.from(m)}return(null!=pe&&pe.aborted||null!=ue&&ue.aborted)&&P.nextTick(oe),We}function Se(be,Ue,ye,{end:De}){let pe=!1;if(Ue.on("close",()=>{pe||ye(new ie)}),be.pipe(Ue,{end:!1}),De){let Q=function(){pe=!0,Ue.end()};y(be)?P.nextTick(Q):be.once("end",Q)}else ye();return L(be,{readable:!0,writable:!1},Q=>{const oe=be._readableState;Q&&"ERR_STREAM_PREMATURE_CLOSE"===Q.code&&oe&&oe.ended&&!oe.errored&&!oe.errorEmitted?be.once("end",ye).once("error",ye):ye(Q)}),L(Ue,{readable:!1,writable:!0},ye)}je.exports={pipelineImpl:Ve,pipeline:function Oe(...be){return Ve(be,D(function A(be){return se(be[be.length-1],"streams[stream.length - 1]"),be.pop()}(be)))}}},29710:(je,z,E)=>{var f=E(53344).default,_=E(42958).default;const k=E(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:x,NumberIsNaN:P,NumberParseInt:M,ObjectDefineProperties:O,ObjectKeys:F,ObjectSetPrototypeOf:L,Promise:D,SafeSet:X,SymbolAsyncIterator:j,Symbol:G}=E(43856);je.exports=K,K.ReadableState=W;const{EventEmitter:re}=E(44356),{Stream:te,prependListener:J}=E(2649),{Buffer:Z}=E(89565),{addAbortSignal:ie}=E(24785),ae=E(44268);let se=E(55830).debuglog("stream",m=>{se=m});const de=E(58579),le=E(45078),{getHighWaterMark:we,getDefaultHighWaterMark:xe}=E(31081),{aggregateTwoErrors:Ce,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:a,ERR_OUT_OF_RANGE:u,ERR_STREAM_PUSH_AFTER_EOF:y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:g}}=E(65109),{validateObject:S}=E(44323),T=G("kPaused"),{StringDecoder:N}=E(78454),A=E(24246);L(K.prototype,te.prototype),L(K,te);const s=()=>{},{errorOrDestroy:v}=le;function W(m,U,ne){"boolean"!=typeof ne&&(ne=U instanceof E(97464)),this.objectMode=!(!m||!m.objectMode),ne&&(this.objectMode=this.objectMode||!(!m||!m.readableObjectMode)),this.highWaterMark=m?we(this,m,"readableHighWaterMark",ne):xe(!1),this.buffer=new de,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[T]=null,this.errorEmitted=!1,this.emitClose=!m||!1!==m.emitClose,this.autoDestroy=!m||!1!==m.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,m&&m.encoding&&(this.decoder=new N(m.encoding),this.encoding=m.encoding)}function K(m){if(!(this instanceof K))return new K(m);const U=this instanceof E(97464);this._readableState=new W(m,this,U),m&&("function"==typeof m.read&&(this._read=m.read),"function"==typeof m.destroy&&(this._destroy=m.destroy),"function"==typeof m.construct&&(this._construct=m.construct),m.signal&&!U&&ie(m.signal,this)),te.call(this,m),le.construct(this,()=>{this._readableState.needReadable&&ye(this,this._readableState)})}function ee(m,U,ne,ge){se("readableAddChunk",U);const Ae=m._readableState;let tt;if(Ae.objectMode||("string"==typeof U?Ae.encoding!==(ne=ne||Ae.defaultEncoding)&&(ge&&Ae.encoding?U=Z.from(U,ne).toString(Ae.encoding):(U=Z.from(U,ne),ne="")):U instanceof Z?ne="":te._isUint8Array(U)?(U=te._uint8ArrayToBuffer(U),ne=""):null!=U&&(tt=new C("chunk",["string","Buffer","Uint8Array"],U))),tt)v(m,tt);else if(null===U)Ae.reading=!1,function Se(m,U){if(se("onEofChunk"),!U.ended){if(U.decoder){const ne=U.decoder.end();ne&&ne.length&&(U.buffer.push(ne),U.length+=U.objectMode?1:ne.length)}U.ended=!0,U.sync?be(m):(U.needReadable=!1,U.emittedReadable=!0,Ue(m))}}(m,Ae);else if(Ae.objectMode||U&&U.length>0)if(ge)if(Ae.endEmitted)v(m,new g);else{if(Ae.destroyed||Ae.errored)return!1;ce(m,Ae,U,!0)}else if(Ae.ended)v(m,new y);else{if(Ae.destroyed||Ae.errored)return!1;Ae.reading=!1,Ae.decoder&&!ne?(U=Ae.decoder.write(U),Ae.objectMode||0!==U.length?ce(m,Ae,U,!1):ye(m,Ae)):ce(m,Ae,U,!1)}else ge||(Ae.reading=!1,ye(m,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||0===Ae.length)}function ce(m,U,ne,ge){U.flowing&&0===U.length&&!U.sync&&m.listenerCount("data")>0?(U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null,U.dataEmitted=!0,m.emit("data",ne)):(U.length+=U.objectMode?1:ne.length,ge?U.buffer.unshift(ne):U.buffer.push(ne),U.needReadable&&be(m)),ye(m,U)}function Ve(m,U){return m<=0||0===U.length&&U.ended?0:U.objectMode?1:P(m)?U.flowing&&U.length?U.buffer.first().length:U.length:m<=U.length?m:U.ended?U.length:0}function be(m){const U=m._readableState;se("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(se("emitReadable",U.flowing),U.emittedReadable=!0,k.nextTick(Ue,m))}function Ue(m){const U=m._readableState;se("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&!U.errored&&(U.length||U.ended)&&(m.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,Ee(m)}function ye(m,U){!U.readingMore&&U.constructed&&(U.readingMore=!0,k.nextTick(De,m,U))}function De(m,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&0===U.length);){const ne=U.length;if(se("maybeReadMore read 0"),m.read(0),ne===U.length)break}U.readingMore=!1}function ue(m){const U=m._readableState;U.readableListening=m.listenerCount("readable")>0,U.resumeScheduled&&!1===U[T]?U.flowing=!0:m.listenerCount("data")>0?m.resume():U.readableListening||(U.flowing=null)}function Q(m){se("readable nexttick read 0"),m.read(0)}function fe(m,U){se("resume",U.reading),U.reading||m.read(0),U.resumeScheduled=!1,m.emit("resume"),Ee(m),U.flowing&&!U.reading&&m.read(0)}function Ee(m){const U=m._readableState;for(se("flow",U.flowing);U.flowing&&null!==m.read(););}function Re(m,U){"function"!=typeof m.read&&(m=K.wrap(m,{objectMode:!0}));const ne=function $e(m,U){return Fe.apply(this,arguments)}(m,U);return ne.stream=m,ne}function Fe(){return(Fe=_(function*(m,U){let Ae,ne=s;function ge(Bt){this===m?(ne(),ne=s):ne=Bt}m.on("readable",ge);const tt=ae(m,{writable:!1},Bt=>{Ae=Bt?Ce(Ae,Bt):null,ne(),ne=s});try{for(;;){const Bt=m.destroyed?null:m.read();if(null!==Bt)yield Bt;else{if(Ae)throw Ae;if(null===Ae)return;yield f(new D(ge))}}}catch(Bt){throw Ae=Ce(Ae,Bt),Ae}finally{!Ae&&!1===U?.destroyOnReturn||void 0!==Ae&&!m._readableState.autoDestroy?(m.off("readable",ge),tt()):le.destroyer(m,null)}})).apply(this,arguments)}function Et(m,U){if(0===U.length)return null;let ne;return U.objectMode?ne=U.buffer.shift():!m||m>=U.length?(ne=U.decoder?U.buffer.join(""):1===U.buffer.length?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):ne=U.buffer.consume(m,U.decoder),ne}function We(m){const U=m._readableState;se("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,k.nextTick(Le,U,m))}function Le(m,U){if(se("endReadableNT",m.endEmitted,m.length),!m.errored&&!m.closeEmitted&&!m.endEmitted&&0===m.length)if(m.endEmitted=!0,U.emit("end"),U.writable&&!1===U.allowHalfOpen)k.nextTick(lt,U);else if(m.autoDestroy){const ne=U._writableState;(!ne||ne.autoDestroy&&(ne.finished||!1===ne.writable))&&U.destroy()}}function lt(m){m.writable&&!m.writableEnded&&!m.destroyed&&m.end()}let B;function w(){return void 0===B&&(B={}),B}K.prototype.destroy=le.destroy,K.prototype._undestroy=le.undestroy,K.prototype._destroy=function(m,U){U(m)},K.prototype[re.captureRejectionSymbol]=function(m){this.destroy(m)},K.prototype.push=function(m,U){return ee(this,m,U,!1)},K.prototype.unshift=function(m,U){return ee(this,m,U,!0)},K.prototype.isPaused=function(){const m=this._readableState;return!0===m[T]||!1===m.flowing},K.prototype.setEncoding=function(m){const U=new N(m);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;const ne=this._readableState.buffer;let ge="";for(const Ae of ne)ge+=U.write(Ae);return ne.clear(),""!==ge&&ne.push(ge),this._readableState.length=ge.length,this},K.prototype.read=function(m){se("read",m),void 0===m?m=NaN:x(m)||(m=M(m,10));const U=this._readableState,ne=m;if(m>U.highWaterMark&&(U.highWaterMark=function Oe(m){if(m>1073741824)throw new u("size","<= 1GiB",m);return m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,++m}(m)),0!==m&&(U.emittedReadable=!1),0===m&&U.needReadable&&((0!==U.highWaterMark?U.length>=U.highWaterMark:U.length>0)||U.ended))return se("read: emitReadable",U.length,U.ended),0===U.length&&U.ended?We(this):be(this),null;if(0===(m=Ve(m,U))&&U.ended)return 0===U.length&&We(this),null;let Ae,ge=U.needReadable;if(se("need readable",ge),(0===U.length||U.length-m<U.highWaterMark)&&(ge=!0,se("length less than watermark",ge)),U.ended||U.reading||U.destroyed||U.errored||!U.constructed)ge=!1,se("reading, ended or constructing",ge);else if(ge){se("do read"),U.reading=!0,U.sync=!0,0===U.length&&(U.needReadable=!0);try{this._read(U.highWaterMark)}catch(tt){v(this,tt)}U.sync=!1,U.reading||(m=Ve(ne,U))}return Ae=m>0?Et(m,U):null,null===Ae?(U.needReadable=U.length<=U.highWaterMark,m=0):(U.length-=m,U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null),0===U.length&&(U.ended||(U.needReadable=!0),ne!==m&&U.ended&&We(this)),null!==Ae&&!U.errorEmitted&&!U.closeEmitted&&(U.dataEmitted=!0,this.emit("data",Ae)),Ae},K.prototype._read=function(m){throw new a("_read()")},K.prototype.pipe=function(m,U){const ne=this,ge=this._readableState;1===ge.pipes.length&&(ge.multiAwaitDrain||(ge.multiAwaitDrain=!0,ge.awaitDrainWriters=new X(ge.awaitDrainWriters?[ge.awaitDrainWriters]:[]))),ge.pipes.push(m),se("pipe count=%d opts=%j",ge.pipes.length,U);const tt=U&&!1===U.end||m===k.stdout||m===k.stderr?_t:vt;function vt(){se("onend"),m.end()}ge.endEmitted?k.nextTick(tt):ne.once("end",tt),m.on("unpipe",function Bt(ft,Wt){se("onunpipe"),ft===ne&&Wt&&!1===Wt.hasUnpiped&&(Wt.hasUnpiped=!0,function hn(){se("cleanup"),m.removeListener("close",en),m.removeListener("finish",Qt),It&&m.removeListener("drain",It),m.removeListener("error",An),m.removeListener("unpipe",Bt),ne.removeListener("end",vt),ne.removeListener("end",_t),ne.removeListener("data",ar),Gt=!0,It&&ge.awaitDrainWriters&&(!m._writableState||m._writableState.needDrain)&&It()}())});let It,Gt=!1;function dn(){Gt||(1===ge.pipes.length&&ge.pipes[0]===m?(se("false write response, pause",0),ge.awaitDrainWriters=m,ge.multiAwaitDrain=!1):ge.pipes.length>1&&ge.pipes.includes(m)&&(se("false write response, pause",ge.awaitDrainWriters.size),ge.awaitDrainWriters.add(m)),ne.pause()),It||(It=function pe(m,U){return function(){const ge=m._readableState;ge.awaitDrainWriters===U?(se("pipeOnDrain",1),ge.awaitDrainWriters=null):ge.multiAwaitDrain&&(se("pipeOnDrain",ge.awaitDrainWriters.size),ge.awaitDrainWriters.delete(U)),(!ge.awaitDrainWriters||0===ge.awaitDrainWriters.size)&&m.listenerCount("data")&&m.resume()}}(ne,m),m.on("drain",It))}function ar(ft){se("ondata");const Wt=m.write(ft);se("dest.write",Wt),!1===Wt&&dn()}function An(ft){if(se("onerror",ft),_t(),m.removeListener("error",An),0===m.listenerCount("error")){const Wt=m._writableState||m._readableState;Wt&&!Wt.errorEmitted?v(m,ft):m.emit("error",ft)}}function en(){m.removeListener("finish",Qt),_t()}function Qt(){se("onfinish"),m.removeListener("close",en),_t()}function _t(){se("unpipe"),ne.unpipe(m)}return ne.on("data",ar),J(m,"error",An),m.once("close",en),m.once("finish",Qt),m.emit("pipe",ne),!0===m.writableNeedDrain?ge.flowing&&dn():ge.flowing||(se("pipe resume"),ne.resume()),m},K.prototype.unpipe=function(m){const U=this._readableState;if(0===U.pipes.length)return this;if(!m){const Ae=U.pipes;U.pipes=[],this.pause();for(let tt=0;tt<Ae.length;tt++)Ae[tt].emit("unpipe",this,{hasUnpiped:!1});return this}const ge=H(U.pipes,m);return-1===ge||(U.pipes.splice(ge,1),0===U.pipes.length&&this.pause(),m.emit("unpipe",this,{hasUnpiped:!1})),this},K.prototype.addListener=K.prototype.on=function(m,U){const ne=te.prototype.on.call(this,m,U),ge=this._readableState;return"data"===m?(ge.readableListening=this.listenerCount("readable")>0,!1!==ge.flowing&&this.resume()):"readable"===m&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,se("on readable",ge.length,ge.reading),ge.length?be(this):ge.reading||k.nextTick(Q,this)),ne},K.prototype.off=K.prototype.removeListener=function(m,U){const ne=te.prototype.removeListener.call(this,m,U);return"readable"===m&&k.nextTick(ue,this),ne},K.prototype.removeAllListeners=function(m){const U=te.prototype.removeAllListeners.apply(this,arguments);return("readable"===m||void 0===m)&&k.nextTick(ue,this),U},K.prototype.resume=function(){const m=this._readableState;return m.flowing||(se("resume"),m.flowing=!m.readableListening,function oe(m,U){U.resumeScheduled||(U.resumeScheduled=!0,k.nextTick(fe,m,U))}(this,m)),m[T]=!1,this},K.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[T]=!0,this},K.prototype.wrap=function(m){let U=!1;m.on("data",ge=>{!this.push(ge)&&m.pause&&(U=!0,m.pause())}),m.on("end",()=>{this.push(null)}),m.on("error",ge=>{v(this,ge)}),m.on("close",()=>{this.destroy()}),m.on("destroy",()=>{this.destroy()}),this._read=()=>{U&&m.resume&&(U=!1,m.resume())};const ne=F(m);for(let ge=1;ge<ne.length;ge++){const Ae=ne[ge];void 0===this[Ae]&&"function"==typeof m[Ae]&&(this[Ae]=m[Ae].bind(m))}return this},K.prototype[j]=function(){return Re(this)},K.prototype.iterator=function(m){return void 0!==m&&S(m,"options"),Re(this,m)},O(K.prototype,{readable:{__proto__:null,get(){const m=this._readableState;return!(!m||!1===m.readable||m.destroyed||m.errorEmitted||m.endEmitted)},set(m){this._readableState&&(this._readableState.readable=!!m)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(m){this._readableState&&(this._readableState.destroyed=m)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),O(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[T]},set(m){this[T]=!!m}}}),K._fromList=Et,K.from=function(m,U){return A(K,m,U)},K.fromWeb=function(m,U){return w().newStreamReadableFromReadableStream(m,U)},K.toWeb=function(m,U){return w().newReadableStreamFromStreamReadable(m,U)},K.wrap=function(m,U){var ne,ge;return new K({objectMode:null===(ne=null!==(ge=m.readableObjectMode)&&void 0!==ge?ge:m.objectMode)||void 0===ne||ne,...U,destroy(Ae,tt){le.destroyer(m,Ae),tt(Ae)}}).wrap(m)}},31081:(je,z,E)=>{"use strict";const{MathFloor:f,NumberIsInteger:_}=E(43856),{ERR_INVALID_ARG_VALUE:k}=E(65109).codes;function x(M){return M?16:16384}je.exports={getHighWaterMark:function P(M,O,F,L){const D=function H(M,O,F){return null!=M.highWaterMark?M.highWaterMark:O?M[F]:null}(O,L,F);if(null!=D){if(!_(D)||D<0)throw new k(L?`options.${F}`:"options.highWaterMark",D);return f(D)}return x(M.objectMode)},getDefaultHighWaterMark:x}},66344:(je,z,E)=>{"use strict";const{ObjectSetPrototypeOf:f,Symbol:_}=E(43856);je.exports=M;const{ERR_METHOD_NOT_IMPLEMENTED:k}=E(65109).codes,H=E(97464),{getHighWaterMark:x}=E(31081);f(M.prototype,H.prototype),f(M,H);const P=_("kCallback");function M(L){if(!(this instanceof M))return new M(L);const D=L?x(this,L,"readableHighWaterMark",!0):null;0===D&&(L={...L,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:L.writableHighWaterMark||0}),H.call(this,L),this._readableState.sync=!1,this[P]=null,L&&("function"==typeof L.transform&&(this._transform=L.transform),"function"==typeof L.flush&&(this._flush=L.flush)),this.on("prefinish",F)}function O(L){"function"!=typeof this._flush||this.destroyed?(this.push(null),L&&L()):this._flush((D,X)=>{D?L?L(D):this.destroy(D):(null!=X&&this.push(X),this.push(null),L&&L())})}function F(){this._final!==O&&O.call(this)}M.prototype._final=O,M.prototype._transform=function(L,D,X){throw new k("_transform()")},M.prototype._write=function(L,D,X){const j=this._readableState,G=this._writableState,re=j.length;this._transform(L,D,(te,J)=>{te?X(te):(null!=J&&this.push(J),G.ended||re===j.length||j.length<j.highWaterMark?X():this[P]=X)})},M.prototype._read=function(){if(this[P]){const L=this[P];this[P]=null,L()}}},51233:(je,z,E)=>{"use strict";const{Symbol:f,SymbolAsyncIterator:_,SymbolIterator:k,SymbolFor:H}=E(43856),x=f("kDestroyed"),P=f("kIsErrored"),M=f("kIsReadable"),O=f("kIsDisturbed"),F=H("nodejs.webstream.isClosedPromise"),L=H("nodejs.webstream.controllerErrorFunction");function D(v,W=!1){var K;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(K=v._readableState)||void 0===K?void 0:K.readable)||v._writableState&&!v._readableState)}function X(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function re(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ae(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[x]||null!=ee&&ee.destroyed)}function se(v){if(!X(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function we(v,W){if(!D(v))return null;const K=v._readableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.endEmitted?null:!!(K.endEmitted||!1===W&&!0===K.ended&&0===K.length))}function xe(v){return v&&null!=v[M]?v[M]:"boolean"!=typeof v?.readable?null:!ae(v)&&D(v)&&v.readable&&!we(v)}function Ce(v){return"boolean"!=typeof v?.writable?null:!ae(v)&&X(v)&&v.writable&&!se(v)}function g(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function S(v){return"boolean"==typeof v._sent100&&g(v)}je.exports={kDestroyed:x,isDisturbed:function A(v){var W;return!(!v||!(null!==(W=v[O])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:O,isErrored:function s(v){var W,K,ee,ce,_e,Oe,Ve,Se,be,Ue;return!(!v||!(null!==(W=null!==(K=null!==(ee=null!==(ce=null!==(_e=null!==(Oe=v[P])&&void 0!==Oe?Oe:v.readableErrored)&&void 0!==_e?_e:v.writableErrored)&&void 0!==ce?ce:null===(Ve=v._readableState)||void 0===Ve?void 0:Ve.errorEmitted)&&void 0!==ee?ee:null===(Se=v._writableState)||void 0===Se?void 0:Se.errorEmitted)&&void 0!==K?K:null===(be=v._readableState)||void 0===be?void 0:be.errored)&&void 0!==W?W:null!==(Ue=v._writableState)&&void 0!==Ue&&Ue.errored))},kIsErrored:P,isReadable:xe,kIsReadable:M,kIsClosedPromise:F,kControllerErrorFunction:L,isClosed:function y(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,K=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof K?.closed?W?.closed||K?.closed:"boolean"==typeof v._closed&&g(v)?v._closed:null},isDestroyed:ae,isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,W){return G(v)?!!ae(v)||!(!1!==W?.readable&&xe(v)||!1!==W?.writable&&Ce(v)):null},isIterable:function ie(v,W){return null!=v&&(!0===W?"function"==typeof v[_]:!1===W?"function"==typeof v[k]:"function"==typeof v[_]||"function"==typeof v[k])},isReadableNodeStream:D,isReadableStream:re,isReadableEnded:function le(v){if(!D(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:we,isReadableErrored:function u(v){var W,K;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(K=v._readableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function Z(v){return re(v)||te(v)||J(v)},isWritable:Ce,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:se,isWritableFinished:function de(v,W){if(!X(v))return null;if(!0===v.writableFinished)return!0;const K=v._writableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.finished?null:!!(K.finished||!1===W&&!0===K.ended&&0===K.length))},isWritableErrored:function a(v){var W,K;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(K=v._writableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isServerRequest:function T(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:S,willEmitClose:function N(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!ee&&S(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},40258:(je,z,E)=>{const f=E(40573),{ArrayPrototypeSlice:_,Error:k,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:x,ObjectDefineProperties:P,ObjectSetPrototypeOf:M,StringPrototypeToLowerCase:O,Symbol:F,SymbolHasInstance:L}=E(43856);je.exports=S,S.WritableState=y;const{EventEmitter:D}=E(44356),X=E(2649).Stream,{Buffer:j}=E(89565),G=E(45078),{addAbortSignal:re}=E(24785),{getHighWaterMark:te,getDefaultHighWaterMark:J}=E(31081),{ERR_INVALID_ARG_TYPE:Z,ERR_METHOD_NOT_IMPLEMENTED:ie,ERR_MULTIPLE_CALLBACK:ae,ERR_STREAM_CANNOT_PIPE:se,ERR_STREAM_DESTROYED:de,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:xe,ERR_UNKNOWN_ENCODING:Ce}=E(65109).codes,{errorOrDestroy:C}=G;function a(){}M(S.prototype,X.prototype),M(S,X);const u=F("kOnFinished");function y(pe,ue,Q){"boolean"!=typeof Q&&(Q=ue instanceof E(97464)),this.objectMode=!(!pe||!pe.objectMode),Q&&(this.objectMode=this.objectMode||!(!pe||!pe.writableObjectMode)),this.highWaterMark=pe?te(this,pe,"writableHighWaterMark",Q):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(pe&&!1===pe.decodeStrings),this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,ue),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||!1!==pe.emitClose,this.autoDestroy=!pe||!1!==pe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[u]=[]}function g(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}function S(pe){const ue=this instanceof E(97464);if(!ue&&!H(S,this))return new S(pe);this._writableState=new y(pe,this,ue),pe&&("function"==typeof pe.write&&(this._write=pe.write),"function"==typeof pe.writev&&(this._writev=pe.writev),"function"==typeof pe.destroy&&(this._destroy=pe.destroy),"function"==typeof pe.final&&(this._final=pe.final),"function"==typeof pe.construct&&(this._construct=pe.construct),pe.signal&&re(pe.signal,this)),X.call(this,pe),G.construct(this,()=>{const Q=this._writableState;Q.writing||ce(this,Q),Se(this,Q)})}function T(pe,ue,Q,oe){const fe=pe._writableState;if("function"==typeof Q)oe=Q,Q=fe.defaultEncoding;else{if(Q){if("buffer"!==Q&&!j.isEncoding(Q))throw new Ce(Q)}else Q=fe.defaultEncoding;"function"!=typeof oe&&(oe=a)}if(null===ue)throw new we;if(!fe.objectMode)if("string"==typeof ue)!1!==fe.decodeStrings&&(ue=j.from(ue,Q),Q="buffer");else if(ue instanceof j)Q="buffer";else{if(!X._isUint8Array(ue))throw new Z("chunk",["string","Buffer","Uint8Array"],ue);ue=X._uint8ArrayToBuffer(ue),Q="buffer"}let Ee;return fe.ending?Ee=new xe:fe.destroyed&&(Ee=new de("write")),Ee?(f.nextTick(oe,Ee),C(pe,Ee,!0),Ee):(fe.pendingcb++,function N(pe,ue,Q,oe,fe){const Ee=ue.objectMode?1:Q.length;ue.length+=Ee;const Re=ue.length<ue.highWaterMark;return Re||(ue.needDrain=!0),ue.writing||ue.corked||ue.errored||!ue.constructed?(ue.buffered.push({chunk:Q,encoding:oe,callback:fe}),ue.allBuffers&&"buffer"!==oe&&(ue.allBuffers=!1),ue.allNoop&&fe!==a&&(ue.allNoop=!1)):(ue.writelen=Ee,ue.writecb=fe,ue.writing=!0,ue.sync=!0,pe._write(Q,oe,ue.onwrite),ue.sync=!1),Re&&!ue.errored&&!ue.destroyed}(pe,fe,ue,Q,oe))}function A(pe,ue,Q,oe,fe,Ee,Re){ue.writelen=oe,ue.writecb=Re,ue.writing=!0,ue.sync=!0,ue.destroyed?ue.onwrite(new de("write")):Q?pe._writev(fe,ue.onwrite):pe._write(fe,Ee,ue.onwrite),ue.sync=!1}function s(pe,ue,Q,oe){--ue.pendingcb,oe(Q),ee(ue),C(pe,Q)}function v(pe,ue){const Q=pe._writableState,oe=Q.sync,fe=Q.writecb;"function"==typeof fe?(Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,ue?(Q.errored||(Q.errored=ue),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=ue),oe?f.nextTick(s,pe,Q,ue,fe):s(pe,Q,ue,fe)):(Q.buffered.length>Q.bufferedIndex&&ce(pe,Q),oe?null!==Q.afterWriteTickInfo&&Q.afterWriteTickInfo.cb===fe?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:fe,stream:pe,state:Q},f.nextTick(W,Q.afterWriteTickInfo)):K(pe,Q,1,fe))):C(pe,new ae)}function W({stream:pe,state:ue,count:Q,cb:oe}){return ue.afterWriteTickInfo=null,K(pe,ue,Q,oe)}function K(pe,ue,Q,oe){for(!ue.ending&&!pe.destroyed&&0===ue.length&&ue.needDrain&&(ue.needDrain=!1,pe.emit("drain"));Q-- >0;)ue.pendingcb--,oe();ue.destroyed&&ee(ue),Se(pe,ue)}function ee(pe){if(pe.writing)return;for(let fe=pe.bufferedIndex;fe<pe.buffered.length;++fe){var ue;const{chunk:Ee,callback:Re}=pe.buffered[fe];pe.length-=pe.objectMode?1:Ee.length,Re(null!==(ue=pe.errored)&&void 0!==ue?ue:new de("write"))}const Q=pe[u].splice(0);for(let fe=0;fe<Q.length;fe++){var oe;Q[fe](null!==(oe=pe.errored)&&void 0!==oe?oe:new de("end"))}g(pe)}function ce(pe,ue){if(ue.corked||ue.bufferProcessing||ue.destroyed||!ue.constructed)return;const{buffered:Q,bufferedIndex:oe,objectMode:fe}=ue,Ee=Q.length-oe;if(!Ee)return;let Re=oe;if(ue.bufferProcessing=!0,Ee>1&&pe._writev){ue.pendingcb-=Ee-1;const $e=ue.allNoop?a:Et=>{for(let We=Re;We<Q.length;++We)Q[We].callback(Et)},Fe=ue.allNoop&&0===Re?Q:_(Q,Re);Fe.allBuffers=ue.allBuffers,A(pe,ue,!0,ue.length,Fe,"",$e),g(ue)}else{do{const{chunk:$e,encoding:Fe,callback:Et}=Q[Re];Q[Re++]=null,A(pe,ue,!1,fe?1:$e.length,$e,Fe,Et)}while(Re<Q.length&&!ue.writing);Re===Q.length?g(ue):Re>256?(Q.splice(0,Re),ue.bufferedIndex=0):ue.bufferedIndex=Re}ue.bufferProcessing=!1}function _e(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&0===pe.length&&!pe.errored&&0===pe.buffered.length&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}function Se(pe,ue,Q){_e(ue)&&(function Ve(pe,ue){!ue.prefinished&&!ue.finalCalled&&("function"!=typeof pe._final||ue.destroyed?(ue.prefinished=!0,pe.emit("prefinish")):(ue.finalCalled=!0,function Oe(pe,ue){let Q=!1;function oe(fe){if(Q)C(pe,fe??ae());else if(Q=!0,ue.pendingcb--,fe){const Ee=ue[u].splice(0);for(let Re=0;Re<Ee.length;Re++)Ee[Re](fe);C(pe,fe,ue.sync)}else _e(ue)&&(ue.prefinished=!0,pe.emit("prefinish"),ue.pendingcb++,f.nextTick(be,pe,ue))}ue.sync=!0,ue.pendingcb++;try{pe._final(oe)}catch(fe){oe(fe)}ue.sync=!1}(pe,ue)))}(pe,ue),0===ue.pendingcb&&(Q?(ue.pendingcb++,f.nextTick((oe,fe)=>{_e(fe)?be(oe,fe):fe.pendingcb--},pe,ue)):_e(ue)&&(ue.pendingcb++,be(pe,ue))))}function be(pe,ue){ue.pendingcb--,ue.finished=!0;const Q=ue[u].splice(0);for(let oe=0;oe<Q.length;oe++)Q[oe]();if(pe.emit("finish"),ue.autoDestroy){const oe=pe._readableState;(!oe||oe.autoDestroy&&(oe.endEmitted||!1===oe.readable))&&pe.destroy()}}y.prototype.getBuffer=function(){return _(this.buffered,this.bufferedIndex)},x(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(S,L,{__proto__:null,value:function(pe){return!!H(this,pe)||this===S&&pe&&pe._writableState instanceof y}}),S.prototype.pipe=function(){C(this,new se)},S.prototype.write=function(pe,ue,Q){return!0===T(this,pe,ue,Q)},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){const pe=this._writableState;pe.corked&&(pe.corked--,pe.writing||ce(this,pe))},S.prototype.setDefaultEncoding=function(ue){if("string"==typeof ue&&(ue=O(ue)),!j.isEncoding(ue))throw new Ce(ue);return this._writableState.defaultEncoding=ue,this},S.prototype._write=function(pe,ue,Q){if(!this._writev)throw new ie("_write()");this._writev([{chunk:pe,encoding:ue}],Q)},S.prototype._writev=null,S.prototype.end=function(pe,ue,Q){const oe=this._writableState;let fe;if("function"==typeof pe?(Q=pe,pe=null,ue=null):"function"==typeof ue&&(Q=ue,ue=null),null!=pe){const Ee=T(this,pe,ue);Ee instanceof k&&(fe=Ee)}return oe.corked&&(oe.corked=1,this.uncork()),fe||(oe.errored||oe.ending?oe.finished?fe=new le("end"):oe.destroyed&&(fe=new de("end")):(oe.ending=!0,Se(this,oe,!0),oe.ended=!0)),"function"==typeof Q&&(fe||oe.finished?f.nextTick(Q,fe):oe[u].push(Q)),this},P(S.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){const pe=this._writableState;return!(!pe||!1===pe.writable||pe.destroyed||pe.errored||pe.ending||pe.ended)},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const pe=this._writableState;return!!pe&&!pe.destroyed&&!pe.ending&&pe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ue=G.destroy;let ye;function De(){return void 0===ye&&(ye={}),ye}S.prototype.destroy=function(pe,ue){const Q=this._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[u].length)&&f.nextTick(ee,Q),Ue.call(this,pe,ue),this},S.prototype._undestroy=G.undestroy,S.prototype._destroy=function(pe,ue){ue(pe)},S.prototype[D.captureRejectionSymbol]=function(pe){this.destroy(pe)},S.fromWeb=function(pe,ue){return De().newStreamWritableFromWritableStream(pe,ue)},S.toWeb=function(pe){return De().newWritableStreamFromStreamWritable(pe)}},44323:(je,z,E)=>{"use strict";const{ArrayIsArray:f,ArrayPrototypeIncludes:_,ArrayPrototypeJoin:k,ArrayPrototypeMap:H,NumberIsInteger:x,NumberIsNaN:P,NumberMAX_SAFE_INTEGER:M,NumberMIN_SAFE_INTEGER:O,NumberParseInt:F,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:D,String:X,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=E(43856),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:Z,ERR_OUT_OF_RANGE:ie,ERR_UNKNOWN_SIGNAL:ae}}=E(65109),{normalizeEncoding:se}=E(55830),{isAsyncFunction:de,isArrayBufferView:le}=E(55830).types,we={},C=/^[0-7]+$/,y=re((Ee,Re,$e=O,Fe=M)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);if(Ee<$e||Ee>Fe)throw new ie(Re,`>= ${$e} && <= ${Fe}`,Ee)}),g=re((Ee,Re,$e=-2147483648,Fe=2147483647)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);if(Ee<$e||Ee>Fe)throw new ie(Re,`>= ${$e} && <= ${Fe}`,Ee)}),S=re((Ee,Re,$e=!1)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);const Fe=$e?1:0,Et=4294967295;if(Ee<Fe||Ee>Et)throw new ie(Re,`>= ${Fe} && <= ${Et}`,Ee)});function T(Ee,Re){if("string"!=typeof Ee)throw new J(Re,"string",Ee)}const A=re((Ee,Re,$e)=>{if(!_($e,Ee)){const Et="must be one of: "+k(H($e,We=>"string"==typeof We?`'${We}'`:X(We)),", ");throw new Z(Re,Ee,Et)}});function s(Ee,Re){if("boolean"!=typeof Ee)throw new J(Re,"boolean",Ee)}function v(Ee,Re,$e){return null!=Ee&&L(Ee,Re)?Ee[Re]:$e}const W=re((Ee,Re,$e=null)=>{const Fe=v($e,"allowArray",!1),Et=v($e,"allowFunction",!1);if(!v($e,"nullable",!1)&&null===Ee||!Fe&&f(Ee)||"object"!=typeof Ee&&(!Et||"function"!=typeof Ee))throw new J(Re,"Object",Ee)}),K=re((Ee,Re)=>{if(null!=Ee&&"object"!=typeof Ee&&"function"!=typeof Ee)throw new J(Re,"a dictionary",Ee)}),ee=re((Ee,Re,$e=0)=>{if(!f(Ee))throw new J(Re,"Array",Ee);if(Ee.length<$e)throw new Z(Re,Ee,`must be longer than ${$e}`)}),Ve=re((Ee,Re="buffer")=>{if(!le(Ee))throw new J(Re,["Buffer","TypedArray","DataView"],Ee)}),Ue=re((Ee,Re)=>{if(void 0!==Ee&&(null===Ee||"object"!=typeof Ee||!("aborted"in Ee)))throw new J(Re,"AbortSignal",Ee)}),ye=re((Ee,Re)=>{if("function"!=typeof Ee)throw new J(Re,"Function",Ee)}),De=re((Ee,Re)=>{if("function"!=typeof Ee||de(Ee))throw new J(Re,"Function",Ee)}),pe=re((Ee,Re)=>{if(void 0!==Ee)throw new J(Re,"undefined",Ee)}),Q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function oe(Ee,Re){if(typeof Ee>"u"||!D(Q,Ee))throw new Z(Re,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}je.exports={isInt32:function xe(Ee){return Ee===(0|Ee)},isUint32:function Ce(Ee){return Ee===Ee>>>0},parseFileMode:function u(Ee,Re,$e){if(typeof Ee>"u"&&(Ee=$e),"string"==typeof Ee){if(null===D(C,Ee))throw new Z(Re,Ee,"must be a 32-bit unsigned integer or an octal string");Ee=F(Ee,8)}return S(Ee,Re),Ee},validateArray:ee,validateStringArray:function ce(Ee,Re){ee(Ee,Re);for(let $e=0;$e<Ee.length;$e++)T(Ee[$e],`${Re}[${$e}]`)},validateBooleanArray:function _e(Ee,Re){ee(Ee,Re);for(let $e=0;$e<Ee.length;$e++)s(Ee[$e],`${Re}[${$e}]`)},validateBoolean:s,validateBuffer:Ve,validateDictionary:K,validateEncoding:function Se(Ee,Re){const $e=se(Re),Fe=Ee.length;if("hex"===$e&&Fe%2!=0)throw new Z("encoding",Re,`is invalid for data of length ${Fe}`)},validateFunction:ye,validateInt32:g,validateInteger:y,validateNumber:function N(Ee,Re,$e=void 0,Fe){if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(null!=$e&&Ee<$e||null!=Fe&&Ee>Fe||(null!=$e||null!=Fe)&&P(Ee))throw new ie(Re,`${null!=$e?`>= ${$e}`:""}${null!=$e&&null!=Fe?" && ":""}${null!=Fe?`<= ${Fe}`:""}`,Ee)},validateObject:W,validateOneOf:A,validatePlainFunction:De,validatePort:function be(Ee,Re="Port",$e=!0){if("number"!=typeof Ee&&"string"!=typeof Ee||"string"==typeof Ee&&0===G(Ee).length||+Ee!=+Ee>>>0||Ee>65535||0===Ee&&!$e)throw new te(Re,Ee,$e);return 0|Ee},validateSignalName:function Oe(Ee,Re="signal"){if(T(Ee,Re),void 0===we[Ee])throw void 0!==we[j(Ee)]?new ae(Ee+" (signals must use all capital letters)"):new ae(Ee)},validateString:T,validateUint32:S,validateUndefined:pe,validateUnion:function ue(Ee,Re,$e){if(!_($e,Ee))throw new J(Re,`('${k($e,"|")}')`,Ee)},validateAbortSignal:Ue,validateLinkHeaderValue:function fe(Ee){if("string"==typeof Ee)return oe(Ee,"hints"),Ee;if(f(Ee)){const Re=Ee.length;let $e="";if(0===Re)return $e;for(let Fe=0;Fe<Re;Fe++){const Et=Ee[Fe];oe(Et,"hints"),$e+=Et,Fe!==Re-1&&($e+=", ")}return $e}throw new Z("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:(je,z,E)=>{"use strict";const f=E(3052),_=E(19905),k=f.Readable.destroy;je.exports=f.Readable,je.exports._uint8ArrayToBuffer=f._uint8ArrayToBuffer,je.exports._isUint8Array=f._isUint8Array,je.exports.isDisturbed=f.isDisturbed,je.exports.isErrored=f.isErrored,je.exports.isReadable=f.isReadable,je.exports.Readable=f.Readable,je.exports.Writable=f.Writable,je.exports.Duplex=f.Duplex,je.exports.Transform=f.Transform,je.exports.PassThrough=f.PassThrough,je.exports.addAbortSignal=f.addAbortSignal,je.exports.finished=f.finished,je.exports.destroy=f.destroy,je.exports.destroy=k,je.exports.pipeline=f.pipeline,je.exports.compose=f.compose,Object.defineProperty(f,"promises",{configurable:!0,enumerable:!0,get:()=>_}),je.exports.Stream=f.Stream,je.exports.default=je.exports},65109:(je,z,E)=>{"use strict";const{format:f,inspect:_,AggregateError:k}=E(55830),H=globalThis.AggregateError||k,x=Symbol("kIsNodeError"),P=["string","function","number","object","Function","Object","boolean","bigint","symbol"],M=/^([A-Z][a-z0-9]*)+$/,F={};function L(J,Z){if(!J)throw new F.ERR_INTERNAL_ASSERTION(Z)}function D(J){let Z="",ie=J.length;const ae="-"===J[0]?1:0;for(;ie>=ae+4;ie-=3)Z=`_${J.slice(ie-3,ie)}${Z}`;return`${J.slice(0,ie)}${Z}`}function j(J,Z,ie){ie||(ie=Error);class ae extends ie{constructor(...de){super(function X(J,Z,ie){if("function"==typeof Z)return L(Z.length<=ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${Z.length}).`),Z(...ie);const ae=(Z.match(/%[dfijoOs]/g)||[]).length;return L(ae===ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${ae}).`),0===ie.length?Z:f(Z,...ie)}(J,Z,de))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(ae.prototype,{name:{value:ie.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ae.prototype.code=J,ae.prototype[x]=!0,F[J]=ae}function G(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(Z="The operation was aborted",ie=void 0){if(void 0!==ie&&"object"!=typeof ie)throw new F.ERR_INVALID_ARG_TYPE("options","Object",ie);super(Z,ie),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(J,Z,ie)=>{L("string"==typeof J,"'name' must be a string"),Array.isArray(Z)||(Z=[Z]);let ae="The ";J.endsWith(" argument")?ae+=`${J} `:ae+=`"${J}" ${J.includes(".")?"property":"argument"} `,ae+="must be ";const se=[],de=[],le=[];for(const xe of Z)L("string"==typeof xe,"All expected entries have to be of type string"),P.includes(xe)?se.push(xe.toLowerCase()):M.test(xe)?de.push(xe):(L("object"!==xe,'The value "object" should be written as "Object"'),le.push(xe));if(de.length>0){const xe=se.indexOf("object");-1!==xe&&(se.splice(se,xe,1),de.push("Object"))}if(se.length>0){switch(se.length){case 1:ae+=`of type ${se[0]}`;break;case 2:ae+=`one of type ${se[0]} or ${se[1]}`;break;default:{const xe=se.pop();ae+=`one of type ${se.join(", ")}, or ${xe}`}}(de.length>0||le.length>0)&&(ae+=" or ")}if(de.length>0){switch(de.length){case 1:ae+=`an instance of ${de[0]}`;break;case 2:ae+=`an instance of ${de[0]} or ${de[1]}`;break;default:{const xe=de.pop();ae+=`an instance of ${de.join(", ")}, or ${xe}`}}le.length>0&&(ae+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(ae+="an "),ae+=`${le[0]}`;break;case 2:ae+=`one of ${le[0]} or ${le[1]}`;break;default:{const xe=le.pop();ae+=`one of ${le.join(", ")}, or ${xe}`}}if(null==ie)ae+=`. Received ${ie}`;else if("function"==typeof ie&&ie.name)ae+=`. Received function ${ie.name}`;else if("object"==typeof ie){var we;null!==(we=ie.constructor)&&void 0!==we&&we.name?ae+=`. Received an instance of ${ie.constructor.name}`:ae+=`. Received ${_(ie,{depth:-1})}`}else{let xe=_(ie,{colors:!1});xe.length>25&&(xe=`${xe.slice(0,25)}...`),ae+=`. Received type ${typeof ie} (${xe})`}return ae},TypeError),j("ERR_INVALID_ARG_VALUE",(J,Z,ie="is invalid")=>{let ae=_(Z);return ae.length>128&&(ae=ae.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${ie}. Received ${ae}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(J,Z,ie)=>{var ae;return`Expected ${J} to be returned from the "${Z}" function but got ${null!=ie&&null!==(ae=ie.constructor)&&void 0!==ae&&ae.name?`instance of ${ie.constructor.name}`:"type "+typeof ie}.`},TypeError),j("ERR_MISSING_ARGS",(...J)=>{let Z;L(J.length>0,"At least one arg needs to be specified");const ie=J.length;switch(J=(Array.isArray(J)?J:[J]).map(ae=>`"${ae}"`).join(" or "),ie){case 1:Z+=`The ${J[0]} argument`;break;case 2:Z+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const ae=J.pop();Z+=`The ${J.join(", ")}, and ${ae} arguments`}}return`${Z} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(J,Z,ie)=>{let ae;return L(Z,'Missing "range" argument'),Number.isInteger(ie)&&Math.abs(ie)>2**32?ae=D(String(ie)):"bigint"==typeof ie?(ae=String(ie),(ie>2n**32n||ie<-(2n**32n))&&(ae=D(ae)),ae+="n"):ae=_(ie),`The value of "${J}" is out of range. It must be ${Z}. Received ${ae}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),je.exports={AbortError:te,aggregateTwoErrors:G(function re(J,Z){if(J&&Z&&J!==Z){if(Array.isArray(Z.errors))return Z.errors.push(J),Z;const ie=new H([Z,J],Z.message);return ie.code=Z.code,ie}return J||Z}),hideStackFrames:G,codes:F}},43856:je=>{"use strict";je.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,E)=>z.includes(E),ArrayPrototypeIndexOf:(z,E)=>z.indexOf(E),ArrayPrototypeJoin:(z,E)=>z.join(E),ArrayPrototypeMap:(z,E)=>z.map(E),ArrayPrototypePop:(z,E)=>z.pop(E),ArrayPrototypePush:(z,E)=>z.push(E),ArrayPrototypeSlice:(z,E,f)=>z.slice(E,f),Error,FunctionPrototypeCall:(z,E,...f)=>z.call(E,...f),FunctionPrototypeSymbolHasInstance:(z,E)=>Function.prototype[Symbol.hasInstance].call(z,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,E)=>Object.defineProperties(z,E),ObjectDefineProperty:(z,E,f)=>Object.defineProperty(z,E,f),ObjectGetOwnPropertyDescriptor:(z,E)=>Object.getOwnPropertyDescriptor(z,E),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,E)=>Object.setPrototypeOf(z,E),Promise,PromisePrototypeCatch:(z,E)=>z.catch(E),PromisePrototypeThen:(z,E,f)=>z.then(E,f),PromiseReject:z=>Promise.reject(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,E)=>z.test(E),SafeSet:Set,String,StringPrototypeSlice:(z,E,f)=>z.slice(E,f),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(z,E,f)=>z.set(E,f),Uint8Array}},55830:(je,z,E)=>{"use strict";var f=E(29293).default;const _=E(89565),k=Object.getPrototypeOf(f(function*(){})).constructor,H=globalThis.Blob||_.Blob,x=typeof H<"u"?function(O){return O instanceof H}:function(O){return!1};class P extends Error{constructor(O){if(!Array.isArray(O))throw new TypeError("Expected input to be an Array, got "+typeof O);let F="";for(let L=0;L<O.length;L++)F+=`    ${O[L].stack}\n`;super(F),this.name="AggregateError",this.errors=O}}je.exports={AggregateError:P,kEmptyObject:Object.freeze({}),once(M){let O=!1;return function(...F){O||(O=!0,M.apply(this,F))}},createDeferredPromise:function(){let M,O;return{promise:new Promise((L,D)=>{M=L,O=D}),resolve:M,reject:O}},promisify:M=>new Promise((O,F)=>{M((L,...D)=>L?F(L):O(...D))}),debuglog:()=>function(){},format:(M,...O)=>M.replace(/%([sdifj])/g,function(...[F,L]){const D=O.shift();return"f"===L?D.toFixed(6):"j"===L?JSON.stringify(D):"s"===L&&"object"==typeof D?`${D.constructor!==Object?D.constructor.name:""} {}`.trim():D.toString()}),inspect(M){switch(typeof M){case"string":if(M.includes("'")){if(!M.includes('"'))return`"${M}"`;if(!M.includes("`")&&!M.includes("${"))return`\`${M}\``}return`'${M}'`;case"number":return isNaN(M)?"NaN":Object.is(M,-0)?String(M):M;case"bigint":return`${String(M)}n`;case"boolean":case"undefined":return String(M);case"object":return"{}"}},types:{isAsyncFunction:M=>M instanceof k,isArrayBufferView:M=>ArrayBuffer.isView(M)},isBlob:x},je.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(je,z,E)=>{const{Buffer:f}=E(89565),{ObjectDefineProperty:_,ObjectKeys:k,ReflectApply:H}=E(43856),{promisify:{custom:x}}=E(55830),{streamReturningOperators:P,promiseReturningOperators:M}=E(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:O}}=E(65109),F=E(5464),{pipeline:L}=E(96208),{destroyer:D}=E(45078),X=E(44268),G=E(19905),re=E(51233),te=je.exports=E(2649).Stream;te.isDisturbed=re.isDisturbed,te.isErrored=re.isErrored,te.isReadable=re.isReadable,te.Readable=E(29710);for(const ie of k(P)){let se=function(...de){if(new.target)throw O();return te.Readable.from(H(ae,this,de))};const ae=P[ie];_(se,"name",{__proto__:null,value:ae.name}),_(se,"length",{__proto__:null,value:ae.length}),_(te.Readable.prototype,ie,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}for(const ie of k(M)){let se=function(...le){if(new.target)throw O();return H(ae,this,le)};const ae=M[ie];_(se,"name",{__proto__:null,value:ae.name}),_(se,"length",{__proto__:null,value:ae.length}),_(te.Readable.prototype,ie,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}te.Writable=E(40258),te.Duplex=E(97464),te.Transform=E(66344),te.PassThrough=E(70874),te.pipeline=L;const{addAbortSignal:J}=E(24785);te.addAbortSignal=J,te.finished=X,te.destroy=D,te.compose=F,_(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>G}),_(L,x,{__proto__:null,enumerable:!0,get:()=>G.pipeline}),_(X,x,{__proto__:null,enumerable:!0,get:()=>G.finished}),te.Stream=te,te._isUint8Array=function(ae){return ae instanceof Uint8Array},te._uint8ArrayToBuffer=function(ae){return f.from(ae.buffer,ae.byteOffset,ae.byteLength)}},19905:(je,z,E)=>{"use strict";const{ArrayPrototypePop:f,Promise:_}=E(43856),{isIterable:k,isNodeStream:H,isWebStream:x}=E(51233),{pipelineImpl:P}=E(96208),{finished:M}=E(44268);E(3052),je.exports={finished:M,pipeline:function O(...F){return new _((L,D)=>{let X,j;const G=F[F.length-1];if(G&&"object"==typeof G&&!H(G)&&!k(G)&&!x(G)){const re=f(F);X=re.signal,j=re.end}P(F,(re,te)=>{re?D(re):L(te)},{signal:X,end:j})})}}},37945:(je,z,E)=>{"use strict";const f=E(13981),_=E(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function Z(B){return+B!=B&&(B=0),M.alloc(+B)},z.INSPECT_MAX_BYTES=50;const H=2147483647;function P(B){if(B>H)throw new RangeError('The value "'+B+'" is invalid for option "size"');const w=new Uint8Array(B);return Object.setPrototypeOf(w,M.prototype),w}function M(B,w,m){if("number"==typeof B){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return D(B)}return O(B,w,m)}function O(B,w,m){if("string"==typeof B)return function X(B,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!M.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const m=0|ie(B,w);let U=P(m);const ne=U.write(B,w);return ne!==m&&(U=U.slice(0,ne)),U}(B,w);if(ArrayBuffer.isView(B))return function G(B){if(Fe(B,Uint8Array)){const w=new Uint8Array(B);return re(w.buffer,w.byteOffset,w.byteLength)}return j(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Fe(B,ArrayBuffer)||B&&Fe(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(B,SharedArrayBuffer)||B&&Fe(B.buffer,SharedArrayBuffer)))return re(B,w,m);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return M.from(U,w,m);const ne=function te(B){if(M.isBuffer(B)){const w=0|J(B.length),m=P(w);return 0===m.length||B.copy(m,0,0,w),m}return void 0!==B.length?"number"!=typeof B.length||Et(B.length)?P(0):j(B):"Buffer"===B.type&&Array.isArray(B.data)?j(B.data):void 0}(B);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return M.from(B[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function F(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function D(B){return F(B),P(B<0?0:0|J(B))}function j(B){const w=B.length<0?0:0|J(B.length),m=P(w);for(let U=0;U<w;U+=1)m[U]=255&B[U];return m}function re(B,w,m){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===w&&void 0===m?new Uint8Array(B):void 0===m?new Uint8Array(B,w):new Uint8Array(B,w,m),Object.setPrototypeOf(U,M.prototype),U}function J(B){if(B>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|B}function ie(B,w){if(M.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Fe(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const m=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Re(B).length;default:if(ne)return U?-1:oe(B).length;w=(""+w).toLowerCase(),ne=!0}}function ae(B,w,m){let U=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return A(this,w,m);case"utf8":case"utf-8":return y(this,w,m);case"ascii":return T(this,w,m);case"latin1":case"binary":return N(this,w,m);case"base64":return u(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,w,m);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function se(B,w,m){const U=B[w];B[w]=B[m],B[m]=U}function de(B,w,m,U,ne){if(0===B.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),Et(m=+m)&&(m=ne?0:B.length-1),m<0&&(m=B.length+m),m>=B.length){if(ne)return-1;m=B.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof w&&(w=M.from(w,U)),M.isBuffer(w))return 0===w.length?-1:le(B,w,m,U,ne);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(B,w,m):Uint8Array.prototype.lastIndexOf.call(B,w,m):le(B,[w],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(B,w,m,U,ne){let vt,ge=1,Ae=B.length,tt=w.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||w.length<2)return-1;ge=2,Ae/=2,tt/=2,m/=2}function Bt(It,Gt){return 1===ge?It[Gt]:It.readUInt16BE(Gt*ge)}if(ne){let It=-1;for(vt=m;vt<Ae;vt++)if(Bt(B,vt)===Bt(w,-1===It?0:vt-It)){if(-1===It&&(It=vt),vt-It+1===tt)return It*ge}else-1!==It&&(vt-=vt-It),It=-1}else for(m+tt>Ae&&(m=Ae-tt),vt=m;vt>=0;vt--){let It=!0;for(let Gt=0;Gt<tt;Gt++)if(Bt(B,vt+Gt)!==Bt(w,Gt)){It=!1;break}if(It)return vt}return-1}function we(B,w,m,U){m=Number(m)||0;const ne=B.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=w.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const tt=parseInt(w.substr(2*Ae,2),16);if(Et(tt))return Ae;B[m+Ae]=tt}return Ae}function xe(B,w,m,U){return $e(oe(w,B.length-m),B,m,U)}function Ce(B,w,m,U){return $e(function fe(B){const w=[];for(let m=0;m<B.length;++m)w.push(255&B.charCodeAt(m));return w}(w),B,m,U)}function C(B,w,m,U){return $e(Re(w),B,m,U)}function a(B,w,m,U){return $e(function Ee(B,w){let m,U,ne;const ge=[];for(let Ae=0;Ae<B.length&&!((w-=2)<0);++Ae)m=B.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(w,B.length-m),B,m,U)}function u(B,w,m){return f.fromByteArray(0===w&&m===B.length?B:B.slice(w,m))}function y(B,w,m){m=Math.min(B.length,m);const U=[];let ne=w;for(;ne<m;){const ge=B[ne];let Ae=null,tt=ge>239?4:ge>223?3:ge>191?2:1;if(ne+tt<=m){let Bt,vt,It,Gt;switch(tt){case 1:ge<128&&(Ae=ge);break;case 2:Bt=B[ne+1],128==(192&Bt)&&(Gt=(31&ge)<<6|63&Bt,Gt>127&&(Ae=Gt));break;case 3:Bt=B[ne+1],vt=B[ne+2],128==(192&Bt)&&128==(192&vt)&&(Gt=(15&ge)<<12|(63&Bt)<<6|63&vt,Gt>2047&&(Gt<55296||Gt>57343)&&(Ae=Gt));break;case 4:Bt=B[ne+1],vt=B[ne+2],It=B[ne+3],128==(192&Bt)&&128==(192&vt)&&128==(192&It)&&(Gt=(15&ge)<<18|(63&Bt)<<12|(63&vt)<<6|63&It,Gt>65535&&Gt<1114112&&(Ae=Gt))}}null===Ae?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=tt}return function S(B){const w=B.length;if(w<=g)return String.fromCharCode.apply(String,B);let m="",U=0;for(;U<w;)m+=String.fromCharCode.apply(String,B.slice(U,U+=g));return m}(U)}z.kMaxLength=H,!(M.TYPED_ARRAY_SUPPORT=function x(){try{const B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(B,w,m){return O(B,w,m)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(B,w,m){return function L(B,w,m){return F(B),B<=0?P(B):void 0!==w?"string"==typeof m?P(B).fill(w,m):P(B).fill(w):P(B)}(B,w,m)},M.allocUnsafe=function(B){return D(B)},M.allocUnsafeSlow=function(B){return D(B)},M.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==M.prototype},M.compare=function(w,m){if(Fe(w,Uint8Array)&&(w=M.from(w,w.offset,w.byteLength)),Fe(m,Uint8Array)&&(m=M.from(m,m.offset,m.byteLength)),!M.isBuffer(w)||!M.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;let U=w.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(w[ge]!==m[ge]){U=w[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},M.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return M.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<w.length;++U)m+=w[U].length;const ne=M.allocUnsafe(m);let ge=0;for(U=0;U<w.length;++U){let Ae=w[U];if(Fe(Ae,Uint8Array))ge+Ae.length>ne.length?(M.isBuffer(Ae)||(Ae=M.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!M.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},M.byteLength=ie,M.prototype._isBuffer=!0,M.prototype.swap16=function(){const w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<w;m+=2)se(this,m,m+1);return this},M.prototype.swap32=function(){const w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<w;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},M.prototype.swap64=function(){const w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<w;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){const w=this.length;return 0===w?"":0===arguments.length?y(this,0,w):ae.apply(this,arguments)},M.prototype.equals=function(w){if(!M.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===M.compare(this,w)},M.prototype.inspect=function(){let w="";const m=z.INSPECT_MAX_BYTES;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},k&&(M.prototype[k]=M.prototype.inspect),M.prototype.compare=function(w,m,U,ne,ge){if(Fe(w,Uint8Array)&&(w=M.from(w,w.offset,w.byteLength)),!M.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===U&&(U=w?w.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>w.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===w)return 0;let Ae=(ge>>>=0)-(ne>>>=0),tt=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,tt),vt=this.slice(ne,ge),It=w.slice(m,U);for(let Gt=0;Gt<Bt;++Gt)if(vt[Gt]!==It[Gt]){Ae=vt[Gt],tt=It[Gt];break}return Ae<tt?-1:tt<Ae?1:0},M.prototype.includes=function(w,m,U){return-1!==this.indexOf(w,m,U)},M.prototype.indexOf=function(w,m,U){return de(this,w,m,U,!0)},M.prototype.lastIndexOf=function(w,m,U){return de(this,w,m,U,!1)},M.prototype.write=function(w,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),w.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return we(this,w,m,U);case"utf8":case"utf-8":return xe(this,w,m,U);case"ascii":case"latin1":case"binary":return Ce(this,w,m,U);case"base64":return C(this,w,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,w,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(127&B[ne]);return U}function N(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(B[ne]);return U}function A(B,w,m){const U=B.length;(!w||w<0)&&(w=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=w;ge<m;++ge)ne+=We[B[ge]];return ne}function s(B,w,m){const U=B.slice(w,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(B,w,m){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+w>m)throw new RangeError("Trying to access beyond buffer length")}function W(B,w,m,U,ne,ge){if(!M.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>ne||w<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>B.length)throw new RangeError("Index out of range")}function K(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,m}function ee(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m+7]=ge,ge>>=8,B[m+6]=ge,ge>>=8,B[m+5]=ge,ge>>=8,B[m+4]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m+3]=Ae,Ae>>=8,B[m+2]=Ae,Ae>>=8,B[m+1]=Ae,Ae>>=8,B[m]=Ae,m+8}function ce(B,w,m,U,ne,ge){if(m+U>B.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,4),_.write(B,w,m,U,23,4),m+4}function Oe(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,8),_.write(B,w,m,U,52,8),m+8}M.prototype.slice=function(w,m){const U=this.length;(w=~~w)<0?(w+=U)<0&&(w=0):w>U&&(w=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<w&&(m=w);const ne=this.subarray(w,m);return Object.setPrototypeOf(ne,M.prototype),ne},M.prototype.readUintLE=M.prototype.readUIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ne},M.prototype.readUintBE=M.prototype.readUIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[w+--m]*ge;return ne},M.prototype.readUint8=M.prototype.readUInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),this[w]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]|this[w+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]<<8|this[w+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},M.prototype.readBigUInt64LE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m+256*this[++w]+65536*this[++w]+this[++w]*2**24,ge=this[++w]+256*this[++w]+65536*this[++w]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),M.prototype.readBigUInt64BE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m*2**24+65536*this[++w]+256*this[++w]+this[++w],ge=this[++w]*2**24+65536*this[++w]+256*this[++w]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),M.prototype.readIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},M.prototype.readIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=m,ge=1,Ae=this[w+--ne];for(;ne>0&&(ge*=256);)Ae+=this[w+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},M.prototype.readInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},M.prototype.readInt16LE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w]|this[w+1]<<8;return 32768&U?4294901760|U:U},M.prototype.readInt16BE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w+1]|this[w]<<8;return 32768&U?4294901760|U:U},M.prototype.readInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},M.prototype.readInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},M.prototype.readBigInt64LE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];return(void 0===m||void 0===U)&&pe(w,this.length-8),(BigInt(this[w+4]+256*this[w+5]+65536*this[w+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++w]+65536*this[++w]+this[++w]*2**24)}),M.prototype.readBigInt64BE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=(m<<24)+65536*this[++w]+256*this[++w]+this[++w];return(BigInt(ne)<<BigInt(32))+BigInt(this[++w]*2**24+65536*this[++w]+256*this[++w]+U)}),M.prototype.readFloatLE=function(w,m){return w>>>=0,m||v(w,4,this.length),_.read(this,w,!0,23,4)},M.prototype.readFloatBE=function(w,m){return w>>>=0,m||v(w,4,this.length),_.read(this,w,!1,23,4)},M.prototype.readDoubleLE=function(w,m){return w>>>=0,m||v(w,8,this.length),_.read(this,w,!0,52,8)},M.prototype.readDoubleBE=function(w,m){return w>>>=0,m||v(w,8,this.length),_.read(this,w,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&w;++Ae<U&&(ge*=256);)this[m+Ae]=w/ge&255;return m+U},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)this[m+ge]=w/Ae&255;return m+U},M.prototype.writeUint8=M.prototype.writeUInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,255,0),this[m]=255&w,m+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},M.prototype.writeBigUInt64LE=Le(function(w,m=0){return K(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Le(function(w,m=0){return ee(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=0,Ae=1,tt=0;for(this[m]=255&w;++ge<U&&(Ae*=256);)w<0&&0===tt&&0!==this[m+ge-1]&&(tt=1),this[m+ge]=(w/Ae|0)-tt&255;return m+U},M.prototype.writeIntBE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,tt=0;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)w<0&&0===tt&&0!==this[m+ge+1]&&(tt=1),this[m+ge]=(w/Ae|0)-tt&255;return m+U},M.prototype.writeInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},M.prototype.writeInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},M.prototype.writeInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},M.prototype.writeInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},M.prototype.writeInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},M.prototype.writeBigInt64LE=Le(function(w,m=0){return K(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Le(function(w,m=0){return ee(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeFloatLE=function(w,m,U){return _e(this,w,m,!0,U)},M.prototype.writeFloatBE=function(w,m,U){return _e(this,w,m,!1,U)},M.prototype.writeDoubleLE=function(w,m,U){return Oe(this,w,m,!0,U)},M.prototype.writeDoubleBE=function(w,m,U){return Oe(this,w,m,!1,U)},M.prototype.copy=function(w,m,U,ne){if(!M.isBuffer(w))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=w.length&&(m=w.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),w.length-m<ne-U&&(ne=w.length-m+U);const ge=ne-U;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(w,this.subarray(U,ne),m),ge},M.prototype.fill=function(w,m,U,ne){if("string"==typeof w){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!M.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===w.length){const Ae=w.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(w=Ae)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,w||(w=0),"number"==typeof w)for(ge=m;ge<U;++ge)this[ge]=w;else{const Ae=M.isBuffer(w)?w:M.from(w,ne),tt=Ae.length;if(0===tt)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%tt]}return this};const Ve={};function Se(B,w,m){Ve[B]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function be(B){let w="",m=B.length;const U="-"===B[0]?1:0;for(;m>=U+4;m-=3)w=`_${B.slice(m-3,m)}${w}`;return`${B.slice(0,m)}${w}`}function ye(B,w,m,U,ne,ge){if(B>m||B<w){const Ae="bigint"==typeof w?"n":"";let tt;throw tt=ge>3?0===w||w===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${w}${Ae} and <= ${m}${Ae}`,new Ve.ERR_OUT_OF_RANGE("value",tt,B)}!function Ue(B,w,m){De(w,"offset"),(void 0===B[w]||void 0===B[w+m])&&pe(w,B.length-(m+1))}(U,ne,ge)}function De(B,w){if("number"!=typeof B)throw new Ve.ERR_INVALID_ARG_TYPE(w,"number",B)}function pe(B,w,m){throw Math.floor(B)!==B?(De(B,m),new Ve.ERR_OUT_OF_RANGE(m||"offset","an integer",B)):w<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${w}`,B)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(B,w){return`The "${B}" argument must be of type number. Received type ${typeof w}`},TypeError),Se("ERR_OUT_OF_RANGE",function(B,w,m){let U=`The value of "${B}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=be(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=be(ne)),ne+="n"),U+=` It must be ${w}. Received ${ne}`,U},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function oe(B,w){let m;w=w||1/0;const U=B.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=B.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(w-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(w-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(w-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(w-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((w-=1)<0)break;ge.push(m)}else if(m<2048){if((w-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function Re(B){return f.toByteArray(function Q(B){if((B=(B=B.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function $e(B,w,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=w.length||ne>=B.length);++ne)w[ne+m]=B[ne];return ne}function Fe(B,w){return B instanceof w||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===w.name}function Et(B){return B!=B}const We=function(){const B="0123456789abcdef",w=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)w[U+ne]=B[m]+B[ne]}return w}();function Le(B){return typeof BigInt>"u"?lt:B}function lt(){throw new Error("BigInt not supported")}},95099:(je,z,E)=>{E(23963)},55397:(je,z,E)=>{"use strict";const{AbortError:f,codes:_}=E(85833),{isNodeStream:k,isWebStream:H,kControllerErrorFunction:x}=E(76989),P=E(68208),{ERR_INVALID_ARG_TYPE:M}=_;je.exports.addAbortSignal=function(L,D){if(((F,L)=>{if("object"!=typeof F||!("aborted"in F))throw new M("signal","AbortSignal",F)})(L),!k(D)&&!H(D))throw new M("stream",["ReadableStream","WritableStream","Stream"],D);return je.exports.addAbortSignalNoValidate(L,D)},je.exports.addAbortSignalNoValidate=function(F,L){if("object"!=typeof F||!("aborted"in F))return L;const D=k(L)?()=>{L.destroy(new f(void 0,{cause:F.reason}))}:()=>{L[x](new f(void 0,{cause:F.reason}))};return F.aborted?D():(F.addEventListener("abort",D),P(L,()=>F.removeEventListener("abort",D))),L}},54863:(je,z,E)=>{"use strict";const{StringPrototypeSlice:f,SymbolIterator:_,TypedArrayPrototypeSet:k,Uint8Array:H}=E(2220),{Buffer:x}=E(37945),{inspect:P}=E(82578);je.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(O){const F={data:O,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(O){const F={data:O,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length}shift(){if(0===this.length)return;const O=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,O}clear(){this.head=this.tail=null,this.length=0}join(O){if(0===this.length)return"";let F=this.head,L=""+F.data;for(;null!==(F=F.next);)L+=O+F.data;return L}concat(O){if(0===this.length)return x.alloc(0);const F=x.allocUnsafe(O>>>0);let L=this.head,D=0;for(;L;)k(F,L.data,D),D+=L.data.length,L=L.next;return F}consume(O,F){const L=this.head.data;if(O<L.length){const D=L.slice(0,O);return this.head.data=L.slice(O),D}return O===L.length?this.shift():F?this._getString(O):this._getBuffer(O)}first(){return this.head.data}*[_](){for(let O=this.head;O;O=O.next)yield O.data}_getString(O){let F="",L=this.head,D=0;do{const X=L.data;if(!(O>X.length)){O===X.length?(F+=X,++D,this.head=L.next?L.next:this.tail=null):(F+=f(X,0,O),this.head=L,L.data=f(X,O));break}F+=X,O-=X.length,++D}while(null!==(L=L.next));return this.length-=D,F}_getBuffer(O){const F=x.allocUnsafe(O),L=O;let D=this.head,X=0;do{const j=D.data;if(!(O>j.length)){O===j.length?(k(F,j,L-O),++X,this.head=D.next?D.next:this.tail=null):(k(F,new H(j.buffer,j.byteOffset,O),L-O),this.head=D,D.data=j.slice(O));break}k(F,j,L-O),O-=j.length,++X}while(null!==(D=D.next));return this.length-=X,F}[Symbol.for("nodejs.util.inspect.custom")](O,F){return P(this,{...F,depth:0,customInspect:!1})}}},90972:(je,z,E)=>{"use strict";var f=E(29293).default;const{pipeline:_}=E(63596),k=E(85892),{destroyer:H}=E(23370),{isNodeStream:x,isReadable:P,isWritable:M,isWebStream:O,isTransformStream:F,isWritableStream:L,isReadableStream:D}=E(76989),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=E(85833),re=E(68208);je.exports=function(...J){if(0===J.length)throw new G("streams");if(1===J.length)return k.from(J[0]);const Z=[...J];if("function"==typeof J[0]&&(J[0]=k.from(J[0])),"function"==typeof J[J.length-1]){const u=J.length-1;J[u]=k.from(J[u])}for(let u=0;u<J.length;++u)if(x(J[u])||O(J[u])){if(u<J.length-1&&!(P(J[u])||D(J[u])||F(J[u])))throw new j(`streams[${u}]`,Z[u],"must be readable");if(u>0&&!(M(J[u])||L(J[u])||F(J[u])))throw new j(`streams[${u}]`,Z[u],"must be writable")}let ie,ae,se,de,le;const xe=J[0],Ce=_(J,function we(u){const y=de;de=null,y?y(u):u?le.destroy(u):!a&&!C&&le.destroy()}),C=!!(M(xe)||L(xe)||F(xe)),a=!!(P(Ce)||D(Ce)||F(Ce));if(le=new k({writableObjectMode:!(null==xe||!xe.writableObjectMode),readableObjectMode:!(null==Ce||!Ce.writableObjectMode),writable:C,readable:a}),C){if(x(xe))le._write=function(y,g,S){xe.write(y,g)?S():ie=S},le._final=function(y){xe.end(),ae=y},xe.on("drain",function(){if(ie){const y=ie;ie=null,y()}});else if(O(xe)){const g=(F(xe)?xe.writable:xe).getWriter();le._write=function(){var S=f(function*(T,N,A){try{yield g.ready,g.write(T).catch(()=>{}),A()}catch(s){A(s)}});return function(T,N,A){return S.apply(this,arguments)}}(),le._final=function(){var S=f(function*(T){try{yield g.ready,g.close().catch(()=>{}),ae=T}catch(N){T(N)}});return function(T){return S.apply(this,arguments)}}()}const u=F(Ce)?Ce.readable:Ce;re(u,()=>{if(ae){const y=ae;ae=null,y()}})}if(a)if(x(Ce))Ce.on("readable",function(){if(se){const u=se;se=null,u()}}),Ce.on("end",function(){le.push(null)}),le._read=function(){for(;;){const u=Ce.read();if(null===u)return void(se=le._read);if(!le.push(u))return}};else if(O(Ce)){const y=(F(Ce)?Ce.readable:Ce).getReader();le._read=f(function*(){for(;;)try{const{value:g,done:S}=yield y.read();if(!le.push(g))return;if(S)return void le.push(null)}catch{return}})}return le._destroy=function(u,y){!u&&null!==de&&(u=new X),se=null,ie=null,ae=null,null===de?y(u):(de=y,x(Ce)&&H(Ce,u))},le}},23370:(je,z,E)=>{"use strict";const f=E(40573),{aggregateTwoErrors:_,codes:{ERR_MULTIPLE_CALLBACK:k},AbortError:H}=E(85833),{Symbol:x}=E(2220),{kDestroyed:P,isDestroyed:M,isFinished:O,isServerRequest:F}=E(76989),L=x("kDestroy"),D=x("kConstruct");function X(C,a,u){C&&(a&&!a.errored&&(a.errored=C),u&&!u.errored&&(u.errored=C))}function G(C,a,u){let y=!1;function g(S){if(y)return;y=!0;const T=C._readableState,N=C._writableState;X(S,N,T),N&&(N.closed=!0),T&&(T.closed=!0),"function"==typeof u&&u(S),S?f.nextTick(re,C,S):f.nextTick(te,C)}try{C._destroy(a||null,g)}catch(S){g(S)}}function re(C,a){J(C,a),te(C)}function te(C){const a=C._readableState,u=C._writableState;u&&(u.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=u&&u.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function J(C,a){const u=C._readableState,y=C._writableState;null!=y&&y.errorEmitted||null!=u&&u.errorEmitted||(y&&(y.errorEmitted=!0),u&&(u.errorEmitted=!0),C.emit("error",a))}function ie(C,a,u){const y=C._readableState,g=C._writableState;if(null!=g&&g.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=g&&g.autoDestroy?C.destroy(a):a&&(g&&!g.errored&&(g.errored=a),y&&!y.errored&&(y.errored=a),u?f.nextTick(J,C,a):J(C,a))}function se(C){let a=!1;function u(y){if(a)return void ie(C,y??new k);a=!0;const g=C._readableState,S=C._writableState,T=S||g;g&&(g.constructed=!0),S&&(S.constructed=!0),T.destroyed?C.emit(L,y):y?ie(C,y,!0):f.nextTick(de,C)}try{C._construct(y=>{f.nextTick(u,y)})}catch(y){f.nextTick(u,y)}}function de(C){C.emit(D)}function le(C){return C?.setHeader&&"function"==typeof C.abort}function we(C){C.emit("close")}function xe(C,a){C.emit("error",a),f.nextTick(we,C)}je.exports={construct:function ae(C,a){if("function"!=typeof C._construct)return;const u=C._readableState,y=C._writableState;u&&(u.constructed=!1),y&&(y.constructed=!1),C.once(D,a),!(C.listenerCount(D)>1)&&f.nextTick(se,C)},destroyer:function Ce(C,a){!C||M(C)||(!a&&!O(C)&&(a=new H),F(C)?(C.socket=null,C.destroy(a)):le(C)?C.abort():le(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?f.nextTick(xe,C,a):f.nextTick(we,C),C.destroyed||(C[P]=!0))},destroy:function j(C,a){const u=this._readableState,y=this._writableState,g=y||u;return null!=y&&y.destroyed||null!=u&&u.destroyed?("function"==typeof a&&a(),this):(X(C,y,u),y&&(y.destroyed=!0),u&&(u.destroyed=!0),g.constructed?G(this,C,a):this.once(L,function(S){G(this,_(S,C),a)}),this)},undestroy:function Z(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:ie}},85892:(je,z,E)=>{"use strict";const{ObjectDefineProperties:f,ObjectGetOwnPropertyDescriptor:_,ObjectKeys:k,ObjectSetPrototypeOf:H}=E(2220);je.exports=M;const x=E(84730),P=E(39070);H(M.prototype,x.prototype),H(M,x);{const D=k(P.prototype);for(let X=0;X<D.length;X++){const j=D[X];M.prototype[j]||(M.prototype[j]=P.prototype[j])}}function M(D){if(!(this instanceof M))return new M(D);x.call(this,D),P.call(this,D),D?(this.allowHalfOpen=!1!==D.allowHalfOpen,!1===D.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let O,L;function F(){return void 0===O&&(O={}),O}f(M.prototype,{writable:{__proto__:null,..._(P.prototype,"writable")},writableHighWaterMark:{__proto__:null,..._(P.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,..._(P.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,..._(P.prototype,"writableBuffer")},writableLength:{__proto__:null,..._(P.prototype,"writableLength")},writableFinished:{__proto__:null,..._(P.prototype,"writableFinished")},writableCorked:{__proto__:null,..._(P.prototype,"writableCorked")},writableEnded:{__proto__:null,..._(P.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,..._(P.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}}),M.fromWeb=function(D,X){return F().newStreamDuplexFromReadableWritablePair(D,X)},M.toWeb=function(D){return F().newReadableWritablePairFromDuplex(D)},M.from=function(D){return L||(L=E(99460)),L(D,"body")}},99460:(je,z,E)=>{var f=E(29293).default,_=E(53344).default,k=E(42958).default;const H=E(40573),x=E(37945),{isReadable:P,isWritable:M,isIterable:O,isNodeStream:F,isReadableNodeStream:L,isWritableNodeStream:D,isDuplexNodeStream:X}=E(76989),j=E(68208),{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te}}=E(85833),{destroyer:J}=E(23370),Z=E(85892),ie=E(84730),{createDeferredPromise:ae}=E(82578),se=E(94506),de=globalThis.Blob||x.Blob,le=typeof de<"u"?function(y){return y instanceof de}:function(y){return!1},we=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:xe}=E(2220);class Ce extends Z{constructor(y){super(y),!1===y?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===y?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function a(u){const y=u.readable&&"function"!=typeof u.readable.read?ie.wrap(u.readable):u.readable,g=u.writable;let N,A,s,v,W,S=!!P(y),T=!!M(g);function K(ee){const ce=v;v=null,ce?ce(ee):ee&&W.destroy(ee)}return W=new Ce({readableObjectMode:!(null==y||!y.readableObjectMode),writableObjectMode:!(null==g||!g.writableObjectMode),readable:S,writable:T}),T&&(j(g,ee=>{T=!1,ee&&J(y,ee),K(ee)}),W._write=function(ee,ce,_e){g.write(ee,ce)?_e():N=_e},W._final=function(ee){g.end(),A=ee},g.on("drain",function(){if(N){const ee=N;N=null,ee()}}),g.on("finish",function(){if(A){const ee=A;A=null,ee()}})),S&&(j(y,ee=>{S=!1,ee&&J(y,ee),K(ee)}),y.on("readable",function(){if(s){const ee=s;s=null,ee()}}),y.on("end",function(){W.push(null)}),W._read=function(){for(;;){const ee=y.read();if(null===ee)return void(s=W._read);if(!W.push(ee))return}}),W._destroy=function(ee,ce){!ee&&null!==v&&(ee=new G),s=null,N=null,A=null,null===v?ce(ee):(v=ce,J(g,ee),J(y,ee))},W}je.exports=function u(y,g){if(X(y))return y;if(L(y))return a({readable:y});if(D(y))return a({writable:y});if(F(y))return a({writable:!1,readable:!1});if("function"==typeof y){const{value:T,write:N,final:A,destroy:s}=function C(u){let{promise:y,resolve:g}=ae();const S=new we,T=S.signal;return{value:u(k(function*(){for(;;){const A=y;y=null;const{chunk:s,done:v,cb:W}=yield _(A);if(H.nextTick(W),v)return;if(T.aborted)throw new G(void 0,{cause:T.reason});({promise:y,resolve:g}=ae()),yield s}})(),{signal:T}),write(A,s,v){const W=g;g=null,W({chunk:A,done:!1,cb:v})},final(A){const s=g;g=null,s({done:!0,cb:A})},destroy(A,s){S.abort(),s(A)}}}(y);if(O(T))return se(Ce,T,{objectMode:!0,write:N,final:A,destroy:s});const v=T?.then;if("function"==typeof v){let W;const K=xe(v,T,ee=>{if(null!=ee)throw new te("nully","body",ee)},ee=>{J(W,ee)});return W=new Ce({objectMode:!0,readable:!1,write:N,final(ee){A(f(function*(){try{yield K,H.nextTick(ee,null)}catch(ce){H.nextTick(ee,ce)}}))},destroy:s})}throw new te("Iterable, AsyncIterable or AsyncFunction",g,T)}if(le(y))return u(y.arrayBuffer());if(O(y))return se(Ce,y,{objectMode:!0,writable:!1});if("object"==typeof y?.writable||"object"==typeof y?.readable)return a({readable:null!=y&&y.readable?L(y?.readable)?y?.readable:u(y.readable):void 0,writable:null!=y&&y.writable?D(y?.writable)?y?.writable:u(y.writable):void 0});const S=y?.then;if("function"==typeof S){let T;return xe(S,y,N=>{null!=N&&T.push(N),T.push(null)},N=>{J(T,N)}),T=new Ce({objectMode:!0,writable:!1,read(){}})}throw new re(g,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],y)}},68208:(je,z,E)=>{const f=E(40573),{AbortError:_,codes:k}=E(85833),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:x}=k,{kEmptyObject:P,once:M}=E(82578),{validateAbortSignal:O,validateFunction:F,validateObject:L,validateBoolean:D}=E(48119),{Promise:X,PromisePrototypeThen:j}=E(2220),{isClosed:G,isReadable:re,isReadableNodeStream:te,isReadableStream:J,isReadableFinished:Z,isReadableErrored:ie,isWritable:ae,isWritableNodeStream:se,isWritableStream:de,isWritableFinished:le,isWritableErrored:we,isNodeStream:xe,willEmitClose:Ce,kIsClosedPromise:C}=E(76989),u=()=>{};function y(T,N,A){var s,v;if(2===arguments.length?(A=N,N=P):null==N?N=P:L(N,"options"),F(A,"callback"),O(N.signal,"options.signal"),A=M(A),J(T)||de(T))return function g(T,N,A){let s=!1,v=u;if(N.signal)if(v=()=>{s=!0,A.call(T,new _(void 0,{cause:N.signal.reason}))},N.signal.aborted)f.nextTick(v);else{const K=A;A=M((...ee)=>{N.signal.removeEventListener("abort",v),K.apply(T,ee)}),N.signal.addEventListener("abort",v)}const W=(...K)=>{s||f.nextTick(()=>A.apply(T,K))};return j(T[C].promise,W,W),u}(T,N,A);if(!xe(T))throw new H("stream",["ReadableStream","WritableStream","Stream"],T);const W=null!==(s=N.readable)&&void 0!==s?s:te(T),K=null!==(v=N.writable)&&void 0!==v?v:se(T),ee=T._writableState,ce=T._readableState,_e=()=>{T.writable||Se()};let Oe=Ce(T)&&te(T)===W&&se(T)===K,Ve=le(T,!1);const Se=()=>{Ve=!0,T.destroyed&&(Oe=!1),(!Oe||T.readable&&!W)&&(!W||be)&&A.call(T)};let be=Z(T,!1);const Ue=()=>{be=!0,T.destroyed&&(Oe=!1),(!Oe||T.writable&&!K)&&(!K||Ve)&&A.call(T)},ye=fe=>{A.call(T,fe)};let De=G(T);const pe=()=>{De=!0;const fe=we(T)||ie(T);return fe&&"boolean"!=typeof fe?A.call(T,fe):W&&!be&&te(T,!0)&&!Z(T,!1)?A.call(T,new x):!K||Ve||le(T,!1)?void A.call(T):A.call(T,new x)},ue=()=>{De=!0;const fe=we(T)||ie(T);if(fe&&"boolean"!=typeof fe)return A.call(T,fe);A.call(T)},Q=()=>{T.req.on("finish",Se)};!function a(T){return T.setHeader&&"function"==typeof T.abort}(T)?K&&!ee&&(T.on("end",_e),T.on("close",_e)):(T.on("complete",Se),Oe||T.on("abort",pe),T.req?Q():T.on("request",Q)),!Oe&&"boolean"==typeof T.aborted&&T.on("aborted",pe),T.on("end",Ue),T.on("finish",Se),!1!==N.error&&T.on("error",ye),T.on("close",pe),De?f.nextTick(pe):null!=ee&&ee.errorEmitted||null!=ce&&ce.errorEmitted?Oe||f.nextTick(ue):(!W&&(!Oe||re(T))&&(Ve||!1===ae(T))||!K&&(!Oe||ae(T))&&(be||!1===re(T))||ce&&T.req&&T.aborted)&&f.nextTick(ue);const oe=()=>{A=u,T.removeListener("aborted",pe),T.removeListener("complete",Se),T.removeListener("abort",pe),T.removeListener("request",Q),T.req&&T.req.removeListener("finish",Se),T.removeListener("end",_e),T.removeListener("close",_e),T.removeListener("finish",Se),T.removeListener("end",Ue),T.removeListener("error",ye),T.removeListener("close",pe)};if(N.signal&&!De){const fe=()=>{const Ee=A;oe(),Ee.call(T,new _(void 0,{cause:N.signal.reason}))};if(N.signal.aborted)f.nextTick(fe);else{const Ee=A;A=M((...Re)=>{N.signal.removeEventListener("abort",fe),Ee.apply(T,Re)}),N.signal.addEventListener("abort",fe)}}return oe}je.exports=y,je.exports.finished=function S(T,N){var A;let s=!1;return null===N&&(N=P),null!==(A=N)&&void 0!==A&&A.cleanup&&(D(N.cleanup,"cleanup"),s=N.cleanup),new X((v,W)=>{const K=y(T,N,ee=>{s&&K(),ee?W(ee):v()})})}},94506:(je,z,E)=>{"use strict";var f=E(29293).default;const _=E(40573),{PromisePrototypeThen:k,SymbolAsyncIterator:H,SymbolIterator:x}=E(2220),{Buffer:P}=E(37945),{ERR_INVALID_ARG_TYPE:M,ERR_STREAM_NULL_VALUES:O}=E(85833).codes;je.exports=function F(L,D,X){let j,G;if("string"==typeof D||D instanceof P)return new L({objectMode:!0,...X,read(){this.push(D),this.push(null)}});if(D&&D[H])G=!0,j=D[H]();else{if(!D||!D[x])throw new M("iterable",["Iterable"],D);G=!1,j=D[x]()}const re=new L({objectMode:!0,highWaterMark:1,...X});let te=!1;function Z(){return(Z=f(function*(se){if(null!=se&&"function"==typeof j.throw){const{value:we,done:xe}=yield j.throw(se);if(yield we,xe)return}if("function"==typeof j.return){const{value:we}=yield j.return();yield we}})).apply(this,arguments)}function ae(){return(ae=f(function*(){for(;;){try{const{value:se,done:de}=G?yield j.next():j.next();if(de)re.push(null);else{const le=se&&"function"==typeof se.then?yield se:se;if(null===le)throw te=!1,new O;if(re.push(le))continue;te=!1}}catch(se){re.destroy(se)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function ie(){ae.apply(this,arguments)}())},re._destroy=function(se,de){k(function J(se){return Z.apply(this,arguments)}(se),()=>_.nextTick(de,se),le=>_.nextTick(de,le||se))},re}},90845:(je,z,E)=>{"use strict";const{ArrayIsArray:f,ObjectSetPrototypeOf:_}=E(2220),{EventEmitter:k}=E(44356);function H(P){k.call(this,P)}function x(P,M,O){if("function"==typeof P.prependListener)return P.prependListener(M,O);P._events&&P._events[M]?f(P._events[M])?P._events[M].unshift(O):P._events[M]=[O,P._events[M]]:P.on(M,O)}_(H.prototype,k.prototype),_(H,k),H.prototype.pipe=function(P,M){const O=this;function F(te){P.writable&&!1===P.write(te)&&O.pause&&O.pause()}function L(){O.readable&&O.resume&&O.resume()}O.on("data",F),P.on("drain",L),!P._isStdio&&(!M||!1!==M.end)&&(O.on("end",X),O.on("close",j));let D=!1;function X(){D||(D=!0,P.end())}function j(){D||(D=!0,"function"==typeof P.destroy&&P.destroy())}function G(te){re(),0===k.listenerCount(this,"error")&&this.emit("error",te)}function re(){O.removeListener("data",F),P.removeListener("drain",L),O.removeListener("end",X),O.removeListener("close",j),O.removeListener("error",G),P.removeListener("error",G),O.removeListener("end",re),O.removeListener("close",re),P.removeListener("close",re)}return x(O,"error",G),x(P,"error",G),O.on("end",re),O.on("close",re),P.on("close",re),P.emit("pipe",O),P},je.exports={Stream:H,prependListener:x}},54705:(je,z,E)=>{"use strict";var f=E(29293).default,_=E(93513).default,k=E(82881).default,H=E(53344).default,x=E(42958).default;const P=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:M,ERR_INVALID_ARG_TYPE:O,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:L},AbortError:D}=E(85833),{validateAbortSignal:X,validateInteger:j,validateObject:G}=E(48119),re=E(2220).Symbol("kWeak"),{finished:te}=E(68208),J=E(90972),{addAbortSignalNoValidate:Z}=E(55397),{isWritable:ie,isNodeStream:ae}=E(76989),{ArrayPrototypePush:se,MathFloor:de,Number:le,NumberIsNaN:we,Promise:xe,PromiseReject:Ce,PromisePrototypeThen:C,Symbol:a}=E(2220),u=a("kEmpty"),y=a("kEof");function S(Q,oe){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal");let fe=1;return null!=oe?.concurrency&&(fe=de(oe.concurrency)),j(fe,"concurrency",1),function(){var Ee=x(function*(){var $e,Fe;const Et=new P,We=this,Le=[],lt=Et.signal,B={signal:lt},w=()=>Et.abort();null!=oe&&null!==($e=oe.signal)&&void 0!==$e&&$e.aborted&&w(),null==oe||null===(Fe=oe.signal)||void 0===Fe||Fe.addEventListener("abort",w);let m,U,ne=!1;function ge(){ne=!0}function tt(){return(tt=f(function*(){try{var It,Bt=!1,vt=!1;try{for(var hn,Gt=k(We);Bt=!(hn=yield Gt.next()).done;Bt=!1){let An=hn.value;var dn;if(ne)return;if(lt.aborted)throw new D;try{An=Q(An,B)}catch(en){An=Ce(en)}An!==u&&("function"==typeof(null===(dn=An)||void 0===dn?void 0:dn.catch)&&An.catch(ge),Le.push(An),m&&(m(),m=null),!ne&&Le.length&&Le.length>=fe&&(yield new xe(en=>{U=en})))}}catch(An){vt=!0,It=An}finally{try{Bt&&null!=Gt.return&&(yield Gt.return())}finally{if(vt)throw It}}Le.push(y)}catch(An){const en=Ce(An);C(en,void 0,ge),Le.push(en)}finally{var ar;ne=!0,m&&(m(),m=null),null==oe||null===(ar=oe.signal)||void 0===ar||ar.removeEventListener("abort",w)}})).apply(this,arguments)}!function Ae(){tt.apply(this,arguments)}();try{for(;;){for(;Le.length>0;){const Bt=yield H(Le[0]);if(Bt===y)return;if(lt.aborted)throw new D;Bt!==u&&(yield Bt),Le.shift(),U&&(U(),U=null)}yield H(new xe(Bt=>{m=Bt}))}}finally{Et.abort(),ne=!0,U&&(U(),U=null)}});return function Re(){return Ee.apply(this,arguments)}}().call(this)}function N(Q){return A.apply(this,arguments)}function A(){return(A=f(function*(Q,oe=void 0){var Re,fe=!1,Ee=!1;try{for(var $e=k(_e.call(this,Q,oe));fe=!(yield $e.next()).done;fe=!1)return!0}catch(Et){Ee=!0,Re=Et}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}return!1})).apply(this,arguments)}function v(){return(v=f(function*(Q,oe=void 0){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);return!(yield N.call(this,f(function*(...fe){return!(yield Q(...fe))}),oe))})).apply(this,arguments)}function K(){return(K=f(function*(Q,oe){var Re,fe=!1,Ee=!1;try{for(var Fe,$e=k(_e.call(this,Q,oe));fe=!(Fe=yield $e.next()).done;fe=!1)return Fe.value}catch(Et){Ee=!0,Re=Et}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}})).apply(this,arguments)}function ce(){return ce=f(function*(Q,oe){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=f(function*(Le,lt){return yield Q(Le,lt),u})).apply(this,arguments)}var Fe,Re=!1,$e=!1;try{for(var Et=k(S.call(this,function fe(Le,lt){return Ee.apply(this,arguments)},oe));Re=!(yield Et.next()).done;Re=!1);}catch(Le){$e=!0,Fe=Le}finally{try{Re&&null!=Et.return&&(yield Et.return())}finally{if($e)throw Fe}}}),ce.apply(this,arguments)}function _e(Q,oe){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=f(function*(Re,$e){return(yield Q(Re,$e))?Re:u})).apply(this,arguments)}return S.call(this,function fe(Re,$e){return Ee.apply(this,arguments)},oe)}class Oe extends F{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Se(){return Se=f(function*(Q,oe,fe){var Ee;if("function"!=typeof Q)throw new O("reducer",["Function","AsyncFunction"],Q);null!=fe&&G(fe,"options"),null!=fe?.signal&&X(fe.signal,"options.signal");let Re=arguments.length>1;if(null!=fe&&null!==(Ee=fe.signal)&&void 0!==Ee&&Ee.aborted){const U=new D(void 0,{cause:fe.signal.reason});throw this.once("error",()=>{}),yield te(this.destroy(U)),U}const $e=new P,Fe=$e.signal;null!=fe&&fe.signal&&fe.signal.addEventListener("abort",()=>$e.abort(),{once:!0,[re]:this});let Et=!1;try{var lt,We=!1,Le=!1;try{for(var w,B=k(this);We=!(w=yield B.next()).done;We=!1){const U=w.value;var m;if(Et=!0,null!=fe&&null!==(m=fe.signal)&&void 0!==m&&m.aborted)throw new D;Re?oe=yield Q(oe,U,{signal:Fe}):(oe=U,Re=!0)}}catch(U){Le=!0,lt=U}finally{try{We&&null!=B.return&&(yield B.return())}finally{if(Le)throw lt}}if(!Et&&!Re)throw new Oe}finally{$e.abort()}return oe}),Se.apply(this,arguments)}function Ue(){return(Ue=f(function*(Q){null!=Q&&G(Q,"options"),null!=Q?.signal&&X(Q.signal,"options.signal");const oe=[];var Re,fe=!1,Ee=!1;try{for(var Fe,$e=k(this);fe=!(Fe=yield $e.next()).done;fe=!1){const We=Fe.value;var Et;if(null!=Q&&null!==(Et=Q.signal)&&void 0!==Et&&Et.aborted)throw new D(void 0,{cause:Q.signal.reason});se(oe,We)}}catch(We){Ee=!0,Re=We}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}return oe})).apply(this,arguments)}function De(Q){if(Q=le(Q),we(Q))return 0;if(Q<0)throw new L("number",">= 0",Q);return Q}je.exports.streamReturningOperators={asIndexedPairs:function T(Q=void 0){return null!=Q&&G(Q,"options"),null!=Q?.signal&&X(Q.signal,"options.signal"),function(){var oe=x(function*(){let Ee=0;var Fe,Re=!1,$e=!1;try{for(var We,Et=k(this);Re=!(We=yield H(Et.next())).done;Re=!1){const lt=We.value;var Le;if(null!=Q&&null!==(Le=Q.signal)&&void 0!==Le&&Le.aborted)throw new D({cause:Q.signal.reason});yield[Ee++,lt]}}catch(lt){$e=!0,Fe=lt}finally{try{Re&&null!=Et.return&&(yield H(Et.return()))}finally{if($e)throw Fe}}});return function fe(){return oe.apply(this,arguments)}}().call(this)},drop:function pe(Q,oe=void 0){return null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),Q=De(Q),function(){var fe=x(function*(){var Re;if(null!=oe&&null!==(Re=oe.signal)&&void 0!==Re&&Re.aborted)throw new D;var Et,$e=!1,Fe=!1;try{for(var Le,We=k(this);$e=!(Le=yield H(We.next())).done;$e=!1){const B=Le.value;var lt;if(null!=oe&&null!==(lt=oe.signal)&&void 0!==lt&&lt.aborted)throw new D;Q--<=0&&(yield B)}}catch(B){Fe=!0,Et=B}finally{try{$e&&null!=We.return&&(yield H(We.return()))}finally{if(Fe)throw Et}}});return function Ee(){return fe.apply(this,arguments)}}().call(this)},filter:_e,flatMap:function ye(Q,oe){const fe=S.call(this,Q,oe);return function(){var Ee=x(function*(){var Et,$e=!1,Fe=!1;try{for(var Le,We=k(fe);$e=!(Le=yield H(We.next())).done;$e=!1){const lt=Le.value;yield*_(k(lt),H)}}catch(lt){Fe=!0,Et=lt}finally{try{$e&&null!=We.return&&(yield H(We.return()))}finally{if(Fe)throw Et}}});return function Re(){return Ee.apply(this,arguments)}}().call(this)},map:S,take:function ue(Q,oe=void 0){return null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),Q=De(Q),function(){var fe=x(function*(){var Re;if(null!=oe&&null!==(Re=oe.signal)&&void 0!==Re&&Re.aborted)throw new D;var Et,$e=!1,Fe=!1;try{for(var Le,We=k(this);$e=!(Le=yield H(We.next())).done;$e=!1){const B=Le.value;var lt;if(null!=oe&&null!==(lt=oe.signal)&&void 0!==lt&&lt.aborted)throw new D;if(!(Q-- >0))return;yield B}}catch(B){Fe=!0,Et=B}finally{try{$e&&null!=We.return&&(yield H(We.return()))}finally{if(Fe)throw Et}}});return function Ee(){return fe.apply(this,arguments)}}().call(this)},compose:function g(Q,oe){if(null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),ae(Q)&&!ie(Q))throw new M("stream",Q,"must be writable");const fe=J(this,Q);return null!=oe&&oe.signal&&Z(oe.signal,fe),fe}},je.exports.promiseReturningOperators={every:function s(Q){return v.apply(this,arguments)},forEach:function ee(Q,oe){return ce.apply(this,arguments)},reduce:function Ve(Q,oe,fe){return Se.apply(this,arguments)},toArray:function be(Q){return Ue.apply(this,arguments)},some:N,find:function W(Q,oe){return K.apply(this,arguments)}}},5358:(je,z,E)=>{"use strict";const{ObjectSetPrototypeOf:f}=E(2220);je.exports=k;const _=E(33732);function k(H){if(!(this instanceof k))return new k(H);_.call(this,H)}f(k.prototype,_.prototype),f(k,_),k.prototype._transform=function(H,x,P){P(null,H)}},63596:(je,z,E)=>{var f=E(29293).default,_=E(42958).default,k=E(53344).default,H=E(93513).default,x=E(82881).default;const P=E(40573),{ArrayIsArray:M,Promise:O,SymbolAsyncIterator:F}=E(2220),L=E(68208),{once:D}=E(82578),X=E(23370),j=E(85892),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:Z,ERR_STREAM_PREMATURE_CLOSE:ie},AbortError:ae}=E(85833),{validateFunction:se,validateAbortSignal:de}=E(48119),{isIterable:le,isReadable:we,isReadableNodeStream:xe,isNodeStream:Ce,isTransformStream:C,isWebStream:a,isReadableStream:u,isReadableEnded:y}=E(76989),g=globalThis.AbortController||E(9465).AbortController;let S,T;function N(be,Ue,ye){let De=!1;return be.on("close",()=>{De=!0}),{destroy:ue=>{De||(De=!0,X.destroyer(be,ue||new Z("pipe")))},cleanup:L(be,{readable:Ue,writable:ye},ue=>{De=!ue})}}function s(be){if(le(be))return be;if(xe(be))return function v(be){return W.apply(this,arguments)}(be);throw new re("val",["Readable","Iterable","AsyncIterable"],be)}function W(){return(W=_(function*(be){T||(T=E(84730)),yield*H(x(T.prototype[F].call(be)),k)})).apply(this,arguments)}function K(be,Ue,ye,De){return ee.apply(this,arguments)}function ee(){return(ee=f(function*(be,Ue,ye,{end:De}){let pe,ue=null;const Q=We=>{if(We&&(pe=We),ue){const Le=ue;ue=null,Le()}},oe=()=>new O((We,Le)=>{pe?Le(pe):ue=()=>{pe?Le(pe):We()}});Ue.on("drain",Q);const fe=L(Ue,{readable:!1},Q);try{Ue.writableNeedDrain&&(yield oe());var $e,Ee=!1,Re=!1;try{for(var Et,Fe=x(be);Ee=!(Et=yield Fe.next()).done;Ee=!1)Ue.write(Et.value)||(yield oe())}catch(We){Re=!0,$e=We}finally{try{Ee&&null!=Fe.return&&(yield Fe.return())}finally{if(Re)throw $e}}De&&Ue.end(),yield oe(),ye()}catch(We){ye(pe!==We?G(pe,We):We)}finally{fe(),Ue.off("drain",Q)}})).apply(this,arguments)}function ce(be,Ue,ye,De){return _e.apply(this,arguments)}function _e(){return(_e=f(function*(be,Ue,ye,{end:De}){C(Ue)&&(Ue=Ue.writable);const pe=Ue.getWriter();try{var oe,ue=!1,Q=!1;try{for(var Ee,fe=x(be);ue=!(Ee=yield fe.next()).done;ue=!1){const Re=Ee.value;yield pe.ready,pe.write(Re).catch(()=>{})}}catch(Re){Q=!0,oe=Re}finally{try{ue&&null!=fe.return&&(yield fe.return())}finally{if(Q)throw oe}}yield pe.ready,De&&(yield pe.close()),ye()}catch(Re){try{yield pe.abort(Re),ye(Re)}catch($e){ye($e)}}})).apply(this,arguments)}function Ve(be,Ue,ye){if(1===be.length&&M(be[0])&&(be=be[0]),be.length<2)throw new J("streams");const De=new g,pe=De.signal,ue=ye?.signal,Q=[];function oe(){Et(new ae)}let fe,Ee;de(ue,"options.signal"),ue?.addEventListener("abort",oe);const Re=[];let We,$e=0;function Fe(w){Et(w,0==--$e)}function Et(w,m){if(w&&(!fe||"ERR_STREAM_PREMATURE_CLOSE"===fe.code)&&(fe=w),fe||m){for(;Re.length;)Re.shift()(fe);ue?.removeEventListener("abort",oe),De.abort(),m&&(fe||Q.forEach(U=>U()),P.nextTick(Ue,fe,Ee))}}for(let w=0;w<be.length;w++){const m=be[w],U=w<be.length-1,ne=w>0,ge=U||!1!==ye?.end,Ae=w===be.length-1;if(Ce(m)){let tt=function(Bt){Bt&&"AbortError"!==Bt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Bt.code&&Fe(Bt)};if(ge){const{destroy:Bt,cleanup:vt}=N(m,U,ne);Re.push(Bt),we(m)&&Ae&&Q.push(vt)}m.on("error",tt),we(m)&&Ae&&Q.push(()=>{m.removeListener("error",tt)})}if(0===w)if("function"==typeof m){if(We=m({signal:pe}),!le(We))throw new te("Iterable, AsyncIterable or Stream","source",We)}else We=le(m)||xe(m)||C(m)?m:j.from(m);else if("function"==typeof m){var Le;if(We=C(We)?s(null===(Le=We)||void 0===Le?void 0:Le.readable):s(We),We=m(We,{signal:pe}),U){if(!le(We,!0))throw new te("AsyncIterable",`transform[${w-1}]`,We)}else{var lt;S||(S=E(5358));const tt=new S({objectMode:!0}),Bt=null===(lt=We)||void 0===lt?void 0:lt.then;if("function"==typeof Bt)$e++,Bt.call(We,Gt=>{Ee=Gt,null!=Gt&&tt.write(Gt),ge&&tt.end(),P.nextTick(Fe)},Gt=>{tt.destroy(Gt),P.nextTick(Fe,Gt)});else if(le(We,!0))$e++,K(We,tt,Fe,{end:ge});else{if(!u(We)&&!C(We))throw new te("AsyncIterable or Promise","destination",We);$e++,K(We.readable||We,tt,Fe,{end:ge})}We=tt;const{destroy:vt,cleanup:It}=N(We,!1,!0);Re.push(vt),Ae&&Q.push(It)}}else if(Ce(m)){if(xe(We)){$e+=2;const tt=Se(We,m,Fe,{end:ge});we(m)&&Ae&&Q.push(tt)}else if(C(We)||u(We))$e++,K(We.readable||We,m,Fe,{end:ge});else{if(!le(We))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],We);$e++,K(We,m,Fe,{end:ge})}We=m}else if(a(m)){if(xe(We))$e++,ce(s(We),m,Fe,{end:ge});else if(u(We)||le(We))$e++,ce(We,m,Fe,{end:ge});else{if(!C(We))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],We);$e++,ce(We.readable,m,Fe,{end:ge})}We=m}else We=j.from(m)}return(null!=pe&&pe.aborted||null!=ue&&ue.aborted)&&P.nextTick(oe),We}function Se(be,Ue,ye,{end:De}){let pe=!1;if(Ue.on("close",()=>{pe||ye(new ie)}),be.pipe(Ue,{end:!1}),De){let Q=function(){pe=!0,Ue.end()};y(be)?P.nextTick(Q):be.once("end",Q)}else ye();return L(be,{readable:!0,writable:!1},Q=>{const oe=be._readableState;Q&&"ERR_STREAM_PREMATURE_CLOSE"===Q.code&&oe&&oe.ended&&!oe.errored&&!oe.errorEmitted?be.once("end",ye).once("error",ye):ye(Q)}),L(Ue,{readable:!1,writable:!0},ye)}je.exports={pipelineImpl:Ve,pipeline:function Oe(...be){return Ve(be,D(function A(be){return se(be[be.length-1],"streams[stream.length - 1]"),be.pop()}(be)))}}},84730:(je,z,E)=>{var f=E(53344).default,_=E(42958).default;const k=E(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:x,NumberIsNaN:P,NumberParseInt:M,ObjectDefineProperties:O,ObjectKeys:F,ObjectSetPrototypeOf:L,Promise:D,SafeSet:X,SymbolAsyncIterator:j,Symbol:G}=E(2220);je.exports=K,K.ReadableState=W;const{EventEmitter:re}=E(44356),{Stream:te,prependListener:J}=E(90845),{Buffer:Z}=E(37945),{addAbortSignal:ie}=E(55397),ae=E(68208);let se=E(82578).debuglog("stream",m=>{se=m});const de=E(54863),le=E(23370),{getHighWaterMark:we,getDefaultHighWaterMark:xe}=E(43909),{aggregateTwoErrors:Ce,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:a,ERR_OUT_OF_RANGE:u,ERR_STREAM_PUSH_AFTER_EOF:y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:g}}=E(85833),{validateObject:S}=E(48119),T=G("kPaused"),{StringDecoder:N}=E(78454),A=E(94506);L(K.prototype,te.prototype),L(K,te);const s=()=>{},{errorOrDestroy:v}=le;function W(m,U,ne){"boolean"!=typeof ne&&(ne=U instanceof E(85892)),this.objectMode=!(!m||!m.objectMode),ne&&(this.objectMode=this.objectMode||!(!m||!m.readableObjectMode)),this.highWaterMark=m?we(this,m,"readableHighWaterMark",ne):xe(!1),this.buffer=new de,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[T]=null,this.errorEmitted=!1,this.emitClose=!m||!1!==m.emitClose,this.autoDestroy=!m||!1!==m.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,m&&m.encoding&&(this.decoder=new N(m.encoding),this.encoding=m.encoding)}function K(m){if(!(this instanceof K))return new K(m);const U=this instanceof E(85892);this._readableState=new W(m,this,U),m&&("function"==typeof m.read&&(this._read=m.read),"function"==typeof m.destroy&&(this._destroy=m.destroy),"function"==typeof m.construct&&(this._construct=m.construct),m.signal&&!U&&ie(m.signal,this)),te.call(this,m),le.construct(this,()=>{this._readableState.needReadable&&ye(this,this._readableState)})}function ee(m,U,ne,ge){se("readableAddChunk",U);const Ae=m._readableState;let tt;if(Ae.objectMode||("string"==typeof U?Ae.encoding!==(ne=ne||Ae.defaultEncoding)&&(ge&&Ae.encoding?U=Z.from(U,ne).toString(Ae.encoding):(U=Z.from(U,ne),ne="")):U instanceof Z?ne="":te._isUint8Array(U)?(U=te._uint8ArrayToBuffer(U),ne=""):null!=U&&(tt=new C("chunk",["string","Buffer","Uint8Array"],U))),tt)v(m,tt);else if(null===U)Ae.reading=!1,function Se(m,U){if(se("onEofChunk"),!U.ended){if(U.decoder){const ne=U.decoder.end();ne&&ne.length&&(U.buffer.push(ne),U.length+=U.objectMode?1:ne.length)}U.ended=!0,U.sync?be(m):(U.needReadable=!1,U.emittedReadable=!0,Ue(m))}}(m,Ae);else if(Ae.objectMode||U&&U.length>0)if(ge)if(Ae.endEmitted)v(m,new g);else{if(Ae.destroyed||Ae.errored)return!1;ce(m,Ae,U,!0)}else if(Ae.ended)v(m,new y);else{if(Ae.destroyed||Ae.errored)return!1;Ae.reading=!1,Ae.decoder&&!ne?(U=Ae.decoder.write(U),Ae.objectMode||0!==U.length?ce(m,Ae,U,!1):ye(m,Ae)):ce(m,Ae,U,!1)}else ge||(Ae.reading=!1,ye(m,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||0===Ae.length)}function ce(m,U,ne,ge){U.flowing&&0===U.length&&!U.sync&&m.listenerCount("data")>0?(U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null,U.dataEmitted=!0,m.emit("data",ne)):(U.length+=U.objectMode?1:ne.length,ge?U.buffer.unshift(ne):U.buffer.push(ne),U.needReadable&&be(m)),ye(m,U)}function Ve(m,U){return m<=0||0===U.length&&U.ended?0:U.objectMode?1:P(m)?U.flowing&&U.length?U.buffer.first().length:U.length:m<=U.length?m:U.ended?U.length:0}function be(m){const U=m._readableState;se("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(se("emitReadable",U.flowing),U.emittedReadable=!0,k.nextTick(Ue,m))}function Ue(m){const U=m._readableState;se("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&!U.errored&&(U.length||U.ended)&&(m.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,Ee(m)}function ye(m,U){!U.readingMore&&U.constructed&&(U.readingMore=!0,k.nextTick(De,m,U))}function De(m,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&0===U.length);){const ne=U.length;if(se("maybeReadMore read 0"),m.read(0),ne===U.length)break}U.readingMore=!1}function ue(m){const U=m._readableState;U.readableListening=m.listenerCount("readable")>0,U.resumeScheduled&&!1===U[T]?U.flowing=!0:m.listenerCount("data")>0?m.resume():U.readableListening||(U.flowing=null)}function Q(m){se("readable nexttick read 0"),m.read(0)}function fe(m,U){se("resume",U.reading),U.reading||m.read(0),U.resumeScheduled=!1,m.emit("resume"),Ee(m),U.flowing&&!U.reading&&m.read(0)}function Ee(m){const U=m._readableState;for(se("flow",U.flowing);U.flowing&&null!==m.read(););}function Re(m,U){"function"!=typeof m.read&&(m=K.wrap(m,{objectMode:!0}));const ne=function $e(m,U){return Fe.apply(this,arguments)}(m,U);return ne.stream=m,ne}function Fe(){return(Fe=_(function*(m,U){let Ae,ne=s;function ge(Bt){this===m?(ne(),ne=s):ne=Bt}m.on("readable",ge);const tt=ae(m,{writable:!1},Bt=>{Ae=Bt?Ce(Ae,Bt):null,ne(),ne=s});try{for(;;){const Bt=m.destroyed?null:m.read();if(null!==Bt)yield Bt;else{if(Ae)throw Ae;if(null===Ae)return;yield f(new D(ge))}}}catch(Bt){throw Ae=Ce(Ae,Bt),Ae}finally{!Ae&&!1===U?.destroyOnReturn||void 0!==Ae&&!m._readableState.autoDestroy?(m.off("readable",ge),tt()):le.destroyer(m,null)}})).apply(this,arguments)}function Et(m,U){if(0===U.length)return null;let ne;return U.objectMode?ne=U.buffer.shift():!m||m>=U.length?(ne=U.decoder?U.buffer.join(""):1===U.buffer.length?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):ne=U.buffer.consume(m,U.decoder),ne}function We(m){const U=m._readableState;se("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,k.nextTick(Le,U,m))}function Le(m,U){if(se("endReadableNT",m.endEmitted,m.length),!m.errored&&!m.closeEmitted&&!m.endEmitted&&0===m.length)if(m.endEmitted=!0,U.emit("end"),U.writable&&!1===U.allowHalfOpen)k.nextTick(lt,U);else if(m.autoDestroy){const ne=U._writableState;(!ne||ne.autoDestroy&&(ne.finished||!1===ne.writable))&&U.destroy()}}function lt(m){m.writable&&!m.writableEnded&&!m.destroyed&&m.end()}let B;function w(){return void 0===B&&(B={}),B}K.prototype.destroy=le.destroy,K.prototype._undestroy=le.undestroy,K.prototype._destroy=function(m,U){U(m)},K.prototype[re.captureRejectionSymbol]=function(m){this.destroy(m)},K.prototype.push=function(m,U){return ee(this,m,U,!1)},K.prototype.unshift=function(m,U){return ee(this,m,U,!0)},K.prototype.isPaused=function(){const m=this._readableState;return!0===m[T]||!1===m.flowing},K.prototype.setEncoding=function(m){const U=new N(m);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;const ne=this._readableState.buffer;let ge="";for(const Ae of ne)ge+=U.write(Ae);return ne.clear(),""!==ge&&ne.push(ge),this._readableState.length=ge.length,this},K.prototype.read=function(m){se("read",m),void 0===m?m=NaN:x(m)||(m=M(m,10));const U=this._readableState,ne=m;if(m>U.highWaterMark&&(U.highWaterMark=function Oe(m){if(m>1073741824)throw new u("size","<= 1GiB",m);return m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,++m}(m)),0!==m&&(U.emittedReadable=!1),0===m&&U.needReadable&&((0!==U.highWaterMark?U.length>=U.highWaterMark:U.length>0)||U.ended))return se("read: emitReadable",U.length,U.ended),0===U.length&&U.ended?We(this):be(this),null;if(0===(m=Ve(m,U))&&U.ended)return 0===U.length&&We(this),null;let Ae,ge=U.needReadable;if(se("need readable",ge),(0===U.length||U.length-m<U.highWaterMark)&&(ge=!0,se("length less than watermark",ge)),U.ended||U.reading||U.destroyed||U.errored||!U.constructed)ge=!1,se("reading, ended or constructing",ge);else if(ge){se("do read"),U.reading=!0,U.sync=!0,0===U.length&&(U.needReadable=!0);try{this._read(U.highWaterMark)}catch(tt){v(this,tt)}U.sync=!1,U.reading||(m=Ve(ne,U))}return Ae=m>0?Et(m,U):null,null===Ae?(U.needReadable=U.length<=U.highWaterMark,m=0):(U.length-=m,U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null),0===U.length&&(U.ended||(U.needReadable=!0),ne!==m&&U.ended&&We(this)),null!==Ae&&!U.errorEmitted&&!U.closeEmitted&&(U.dataEmitted=!0,this.emit("data",Ae)),Ae},K.prototype._read=function(m){throw new a("_read()")},K.prototype.pipe=function(m,U){const ne=this,ge=this._readableState;1===ge.pipes.length&&(ge.multiAwaitDrain||(ge.multiAwaitDrain=!0,ge.awaitDrainWriters=new X(ge.awaitDrainWriters?[ge.awaitDrainWriters]:[]))),ge.pipes.push(m),se("pipe count=%d opts=%j",ge.pipes.length,U);const tt=U&&!1===U.end||m===k.stdout||m===k.stderr?_t:vt;function vt(){se("onend"),m.end()}ge.endEmitted?k.nextTick(tt):ne.once("end",tt),m.on("unpipe",function Bt(ft,Wt){se("onunpipe"),ft===ne&&Wt&&!1===Wt.hasUnpiped&&(Wt.hasUnpiped=!0,function hn(){se("cleanup"),m.removeListener("close",en),m.removeListener("finish",Qt),It&&m.removeListener("drain",It),m.removeListener("error",An),m.removeListener("unpipe",Bt),ne.removeListener("end",vt),ne.removeListener("end",_t),ne.removeListener("data",ar),Gt=!0,It&&ge.awaitDrainWriters&&(!m._writableState||m._writableState.needDrain)&&It()}())});let It,Gt=!1;function dn(){Gt||(1===ge.pipes.length&&ge.pipes[0]===m?(se("false write response, pause",0),ge.awaitDrainWriters=m,ge.multiAwaitDrain=!1):ge.pipes.length>1&&ge.pipes.includes(m)&&(se("false write response, pause",ge.awaitDrainWriters.size),ge.awaitDrainWriters.add(m)),ne.pause()),It||(It=function pe(m,U){return function(){const ge=m._readableState;ge.awaitDrainWriters===U?(se("pipeOnDrain",1),ge.awaitDrainWriters=null):ge.multiAwaitDrain&&(se("pipeOnDrain",ge.awaitDrainWriters.size),ge.awaitDrainWriters.delete(U)),(!ge.awaitDrainWriters||0===ge.awaitDrainWriters.size)&&m.listenerCount("data")&&m.resume()}}(ne,m),m.on("drain",It))}function ar(ft){se("ondata");const Wt=m.write(ft);se("dest.write",Wt),!1===Wt&&dn()}function An(ft){if(se("onerror",ft),_t(),m.removeListener("error",An),0===m.listenerCount("error")){const Wt=m._writableState||m._readableState;Wt&&!Wt.errorEmitted?v(m,ft):m.emit("error",ft)}}function en(){m.removeListener("finish",Qt),_t()}function Qt(){se("onfinish"),m.removeListener("close",en),_t()}function _t(){se("unpipe"),ne.unpipe(m)}return ne.on("data",ar),J(m,"error",An),m.once("close",en),m.once("finish",Qt),m.emit("pipe",ne),!0===m.writableNeedDrain?ge.flowing&&dn():ge.flowing||(se("pipe resume"),ne.resume()),m},K.prototype.unpipe=function(m){const U=this._readableState;if(0===U.pipes.length)return this;if(!m){const Ae=U.pipes;U.pipes=[],this.pause();for(let tt=0;tt<Ae.length;tt++)Ae[tt].emit("unpipe",this,{hasUnpiped:!1});return this}const ge=H(U.pipes,m);return-1===ge||(U.pipes.splice(ge,1),0===U.pipes.length&&this.pause(),m.emit("unpipe",this,{hasUnpiped:!1})),this},K.prototype.addListener=K.prototype.on=function(m,U){const ne=te.prototype.on.call(this,m,U),ge=this._readableState;return"data"===m?(ge.readableListening=this.listenerCount("readable")>0,!1!==ge.flowing&&this.resume()):"readable"===m&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,se("on readable",ge.length,ge.reading),ge.length?be(this):ge.reading||k.nextTick(Q,this)),ne},K.prototype.off=K.prototype.removeListener=function(m,U){const ne=te.prototype.removeListener.call(this,m,U);return"readable"===m&&k.nextTick(ue,this),ne},K.prototype.removeAllListeners=function(m){const U=te.prototype.removeAllListeners.apply(this,arguments);return("readable"===m||void 0===m)&&k.nextTick(ue,this),U},K.prototype.resume=function(){const m=this._readableState;return m.flowing||(se("resume"),m.flowing=!m.readableListening,function oe(m,U){U.resumeScheduled||(U.resumeScheduled=!0,k.nextTick(fe,m,U))}(this,m)),m[T]=!1,this},K.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[T]=!0,this},K.prototype.wrap=function(m){let U=!1;m.on("data",ge=>{!this.push(ge)&&m.pause&&(U=!0,m.pause())}),m.on("end",()=>{this.push(null)}),m.on("error",ge=>{v(this,ge)}),m.on("close",()=>{this.destroy()}),m.on("destroy",()=>{this.destroy()}),this._read=()=>{U&&m.resume&&(U=!1,m.resume())};const ne=F(m);for(let ge=1;ge<ne.length;ge++){const Ae=ne[ge];void 0===this[Ae]&&"function"==typeof m[Ae]&&(this[Ae]=m[Ae].bind(m))}return this},K.prototype[j]=function(){return Re(this)},K.prototype.iterator=function(m){return void 0!==m&&S(m,"options"),Re(this,m)},O(K.prototype,{readable:{__proto__:null,get(){const m=this._readableState;return!(!m||!1===m.readable||m.destroyed||m.errorEmitted||m.endEmitted)},set(m){this._readableState&&(this._readableState.readable=!!m)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(m){this._readableState&&(this._readableState.destroyed=m)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),O(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[T]},set(m){this[T]=!!m}}}),K._fromList=Et,K.from=function(m,U){return A(K,m,U)},K.fromWeb=function(m,U){return w().newStreamReadableFromReadableStream(m,U)},K.toWeb=function(m,U){return w().newReadableStreamFromStreamReadable(m,U)},K.wrap=function(m,U){var ne,ge;return new K({objectMode:null===(ne=null!==(ge=m.readableObjectMode)&&void 0!==ge?ge:m.objectMode)||void 0===ne||ne,...U,destroy(Ae,tt){le.destroyer(m,Ae),tt(Ae)}}).wrap(m)}},43909:(je,z,E)=>{"use strict";const{MathFloor:f,NumberIsInteger:_}=E(2220),{ERR_INVALID_ARG_VALUE:k}=E(85833).codes;function x(M){return M?16:16384}je.exports={getHighWaterMark:function P(M,O,F,L){const D=function H(M,O,F){return null!=M.highWaterMark?M.highWaterMark:O?M[F]:null}(O,L,F);if(null!=D){if(!_(D)||D<0)throw new k(L?`options.${F}`:"options.highWaterMark",D);return f(D)}return x(M.objectMode)},getDefaultHighWaterMark:x}},33732:(je,z,E)=>{"use strict";const{ObjectSetPrototypeOf:f,Symbol:_}=E(2220);je.exports=M;const{ERR_METHOD_NOT_IMPLEMENTED:k}=E(85833).codes,H=E(85892),{getHighWaterMark:x}=E(43909);f(M.prototype,H.prototype),f(M,H);const P=_("kCallback");function M(L){if(!(this instanceof M))return new M(L);const D=L?x(this,L,"readableHighWaterMark",!0):null;0===D&&(L={...L,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:L.writableHighWaterMark||0}),H.call(this,L),this._readableState.sync=!1,this[P]=null,L&&("function"==typeof L.transform&&(this._transform=L.transform),"function"==typeof L.flush&&(this._flush=L.flush)),this.on("prefinish",F)}function O(L){"function"!=typeof this._flush||this.destroyed?(this.push(null),L&&L()):this._flush((D,X)=>{D?L?L(D):this.destroy(D):(null!=X&&this.push(X),this.push(null),L&&L())})}function F(){this._final!==O&&O.call(this)}M.prototype._final=O,M.prototype._transform=function(L,D,X){throw new k("_transform()")},M.prototype._write=function(L,D,X){const j=this._readableState,G=this._writableState,re=j.length;this._transform(L,D,(te,J)=>{te?X(te):(null!=J&&this.push(J),G.ended||re===j.length||j.length<j.highWaterMark?X():this[P]=X)})},M.prototype._read=function(){if(this[P]){const L=this[P];this[P]=null,L()}}},76989:(je,z,E)=>{"use strict";const{Symbol:f,SymbolAsyncIterator:_,SymbolIterator:k,SymbolFor:H}=E(2220),x=f("kDestroyed"),P=f("kIsErrored"),M=f("kIsReadable"),O=f("kIsDisturbed"),F=H("nodejs.webstream.isClosedPromise"),L=H("nodejs.webstream.controllerErrorFunction");function D(v,W=!1){var K;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(K=v._readableState)||void 0===K?void 0:K.readable)||v._writableState&&!v._readableState)}function X(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function re(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ae(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[x]||null!=ee&&ee.destroyed)}function se(v){if(!X(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function we(v,W){if(!D(v))return null;const K=v._readableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.endEmitted?null:!!(K.endEmitted||!1===W&&!0===K.ended&&0===K.length))}function xe(v){return v&&null!=v[M]?v[M]:"boolean"!=typeof v?.readable?null:!ae(v)&&D(v)&&v.readable&&!we(v)}function Ce(v){return"boolean"!=typeof v?.writable?null:!ae(v)&&X(v)&&v.writable&&!se(v)}function g(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function S(v){return"boolean"==typeof v._sent100&&g(v)}je.exports={kDestroyed:x,isDisturbed:function A(v){var W;return!(!v||!(null!==(W=v[O])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:O,isErrored:function s(v){var W,K,ee,ce,_e,Oe,Ve,Se,be,Ue;return!(!v||!(null!==(W=null!==(K=null!==(ee=null!==(ce=null!==(_e=null!==(Oe=v[P])&&void 0!==Oe?Oe:v.readableErrored)&&void 0!==_e?_e:v.writableErrored)&&void 0!==ce?ce:null===(Ve=v._readableState)||void 0===Ve?void 0:Ve.errorEmitted)&&void 0!==ee?ee:null===(Se=v._writableState)||void 0===Se?void 0:Se.errorEmitted)&&void 0!==K?K:null===(be=v._readableState)||void 0===be?void 0:be.errored)&&void 0!==W?W:null!==(Ue=v._writableState)&&void 0!==Ue&&Ue.errored))},kIsErrored:P,isReadable:xe,kIsReadable:M,kIsClosedPromise:F,kControllerErrorFunction:L,isClosed:function y(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,K=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof K?.closed?W?.closed||K?.closed:"boolean"==typeof v._closed&&g(v)?v._closed:null},isDestroyed:ae,isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,W){return G(v)?!!ae(v)||!(!1!==W?.readable&&xe(v)||!1!==W?.writable&&Ce(v)):null},isIterable:function ie(v,W){return null!=v&&(!0===W?"function"==typeof v[_]:!1===W?"function"==typeof v[k]:"function"==typeof v[_]||"function"==typeof v[k])},isReadableNodeStream:D,isReadableStream:re,isReadableEnded:function le(v){if(!D(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:we,isReadableErrored:function u(v){var W,K;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(K=v._readableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function Z(v){return re(v)||te(v)||J(v)},isWritable:Ce,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:se,isWritableFinished:function de(v,W){if(!X(v))return null;if(!0===v.writableFinished)return!0;const K=v._writableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.finished?null:!!(K.finished||!1===W&&!0===K.ended&&0===K.length))},isWritableErrored:function a(v){var W,K;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(K=v._writableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isServerRequest:function T(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:S,willEmitClose:function N(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!ee&&S(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},39070:(je,z,E)=>{const f=E(40573),{ArrayPrototypeSlice:_,Error:k,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:x,ObjectDefineProperties:P,ObjectSetPrototypeOf:M,StringPrototypeToLowerCase:O,Symbol:F,SymbolHasInstance:L}=E(2220);je.exports=S,S.WritableState=y;const{EventEmitter:D}=E(44356),X=E(90845).Stream,{Buffer:j}=E(37945),G=E(23370),{addAbortSignal:re}=E(55397),{getHighWaterMark:te,getDefaultHighWaterMark:J}=E(43909),{ERR_INVALID_ARG_TYPE:Z,ERR_METHOD_NOT_IMPLEMENTED:ie,ERR_MULTIPLE_CALLBACK:ae,ERR_STREAM_CANNOT_PIPE:se,ERR_STREAM_DESTROYED:de,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:xe,ERR_UNKNOWN_ENCODING:Ce}=E(85833).codes,{errorOrDestroy:C}=G;function a(){}M(S.prototype,X.prototype),M(S,X);const u=F("kOnFinished");function y(pe,ue,Q){"boolean"!=typeof Q&&(Q=ue instanceof E(85892)),this.objectMode=!(!pe||!pe.objectMode),Q&&(this.objectMode=this.objectMode||!(!pe||!pe.writableObjectMode)),this.highWaterMark=pe?te(this,pe,"writableHighWaterMark",Q):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(pe&&!1===pe.decodeStrings),this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,ue),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||!1!==pe.emitClose,this.autoDestroy=!pe||!1!==pe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[u]=[]}function g(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}function S(pe){const ue=this instanceof E(85892);if(!ue&&!H(S,this))return new S(pe);this._writableState=new y(pe,this,ue),pe&&("function"==typeof pe.write&&(this._write=pe.write),"function"==typeof pe.writev&&(this._writev=pe.writev),"function"==typeof pe.destroy&&(this._destroy=pe.destroy),"function"==typeof pe.final&&(this._final=pe.final),"function"==typeof pe.construct&&(this._construct=pe.construct),pe.signal&&re(pe.signal,this)),X.call(this,pe),G.construct(this,()=>{const Q=this._writableState;Q.writing||ce(this,Q),Se(this,Q)})}function T(pe,ue,Q,oe){const fe=pe._writableState;if("function"==typeof Q)oe=Q,Q=fe.defaultEncoding;else{if(Q){if("buffer"!==Q&&!j.isEncoding(Q))throw new Ce(Q)}else Q=fe.defaultEncoding;"function"!=typeof oe&&(oe=a)}if(null===ue)throw new we;if(!fe.objectMode)if("string"==typeof ue)!1!==fe.decodeStrings&&(ue=j.from(ue,Q),Q="buffer");else if(ue instanceof j)Q="buffer";else{if(!X._isUint8Array(ue))throw new Z("chunk",["string","Buffer","Uint8Array"],ue);ue=X._uint8ArrayToBuffer(ue),Q="buffer"}let Ee;return fe.ending?Ee=new xe:fe.destroyed&&(Ee=new de("write")),Ee?(f.nextTick(oe,Ee),C(pe,Ee,!0),Ee):(fe.pendingcb++,function N(pe,ue,Q,oe,fe){const Ee=ue.objectMode?1:Q.length;ue.length+=Ee;const Re=ue.length<ue.highWaterMark;return Re||(ue.needDrain=!0),ue.writing||ue.corked||ue.errored||!ue.constructed?(ue.buffered.push({chunk:Q,encoding:oe,callback:fe}),ue.allBuffers&&"buffer"!==oe&&(ue.allBuffers=!1),ue.allNoop&&fe!==a&&(ue.allNoop=!1)):(ue.writelen=Ee,ue.writecb=fe,ue.writing=!0,ue.sync=!0,pe._write(Q,oe,ue.onwrite),ue.sync=!1),Re&&!ue.errored&&!ue.destroyed}(pe,fe,ue,Q,oe))}function A(pe,ue,Q,oe,fe,Ee,Re){ue.writelen=oe,ue.writecb=Re,ue.writing=!0,ue.sync=!0,ue.destroyed?ue.onwrite(new de("write")):Q?pe._writev(fe,ue.onwrite):pe._write(fe,Ee,ue.onwrite),ue.sync=!1}function s(pe,ue,Q,oe){--ue.pendingcb,oe(Q),ee(ue),C(pe,Q)}function v(pe,ue){const Q=pe._writableState,oe=Q.sync,fe=Q.writecb;"function"==typeof fe?(Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,ue?(Q.errored||(Q.errored=ue),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=ue),oe?f.nextTick(s,pe,Q,ue,fe):s(pe,Q,ue,fe)):(Q.buffered.length>Q.bufferedIndex&&ce(pe,Q),oe?null!==Q.afterWriteTickInfo&&Q.afterWriteTickInfo.cb===fe?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:fe,stream:pe,state:Q},f.nextTick(W,Q.afterWriteTickInfo)):K(pe,Q,1,fe))):C(pe,new ae)}function W({stream:pe,state:ue,count:Q,cb:oe}){return ue.afterWriteTickInfo=null,K(pe,ue,Q,oe)}function K(pe,ue,Q,oe){for(!ue.ending&&!pe.destroyed&&0===ue.length&&ue.needDrain&&(ue.needDrain=!1,pe.emit("drain"));Q-- >0;)ue.pendingcb--,oe();ue.destroyed&&ee(ue),Se(pe,ue)}function ee(pe){if(pe.writing)return;for(let fe=pe.bufferedIndex;fe<pe.buffered.length;++fe){var ue;const{chunk:Ee,callback:Re}=pe.buffered[fe];pe.length-=pe.objectMode?1:Ee.length,Re(null!==(ue=pe.errored)&&void 0!==ue?ue:new de("write"))}const Q=pe[u].splice(0);for(let fe=0;fe<Q.length;fe++){var oe;Q[fe](null!==(oe=pe.errored)&&void 0!==oe?oe:new de("end"))}g(pe)}function ce(pe,ue){if(ue.corked||ue.bufferProcessing||ue.destroyed||!ue.constructed)return;const{buffered:Q,bufferedIndex:oe,objectMode:fe}=ue,Ee=Q.length-oe;if(!Ee)return;let Re=oe;if(ue.bufferProcessing=!0,Ee>1&&pe._writev){ue.pendingcb-=Ee-1;const $e=ue.allNoop?a:Et=>{for(let We=Re;We<Q.length;++We)Q[We].callback(Et)},Fe=ue.allNoop&&0===Re?Q:_(Q,Re);Fe.allBuffers=ue.allBuffers,A(pe,ue,!0,ue.length,Fe,"",$e),g(ue)}else{do{const{chunk:$e,encoding:Fe,callback:Et}=Q[Re];Q[Re++]=null,A(pe,ue,!1,fe?1:$e.length,$e,Fe,Et)}while(Re<Q.length&&!ue.writing);Re===Q.length?g(ue):Re>256?(Q.splice(0,Re),ue.bufferedIndex=0):ue.bufferedIndex=Re}ue.bufferProcessing=!1}function _e(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&0===pe.length&&!pe.errored&&0===pe.buffered.length&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}function Se(pe,ue,Q){_e(ue)&&(function Ve(pe,ue){!ue.prefinished&&!ue.finalCalled&&("function"!=typeof pe._final||ue.destroyed?(ue.prefinished=!0,pe.emit("prefinish")):(ue.finalCalled=!0,function Oe(pe,ue){let Q=!1;function oe(fe){if(Q)C(pe,fe??ae());else if(Q=!0,ue.pendingcb--,fe){const Ee=ue[u].splice(0);for(let Re=0;Re<Ee.length;Re++)Ee[Re](fe);C(pe,fe,ue.sync)}else _e(ue)&&(ue.prefinished=!0,pe.emit("prefinish"),ue.pendingcb++,f.nextTick(be,pe,ue))}ue.sync=!0,ue.pendingcb++;try{pe._final(oe)}catch(fe){oe(fe)}ue.sync=!1}(pe,ue)))}(pe,ue),0===ue.pendingcb&&(Q?(ue.pendingcb++,f.nextTick((oe,fe)=>{_e(fe)?be(oe,fe):fe.pendingcb--},pe,ue)):_e(ue)&&(ue.pendingcb++,be(pe,ue))))}function be(pe,ue){ue.pendingcb--,ue.finished=!0;const Q=ue[u].splice(0);for(let oe=0;oe<Q.length;oe++)Q[oe]();if(pe.emit("finish"),ue.autoDestroy){const oe=pe._readableState;(!oe||oe.autoDestroy&&(oe.endEmitted||!1===oe.readable))&&pe.destroy()}}y.prototype.getBuffer=function(){return _(this.buffered,this.bufferedIndex)},x(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(S,L,{__proto__:null,value:function(pe){return!!H(this,pe)||this===S&&pe&&pe._writableState instanceof y}}),S.prototype.pipe=function(){C(this,new se)},S.prototype.write=function(pe,ue,Q){return!0===T(this,pe,ue,Q)},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){const pe=this._writableState;pe.corked&&(pe.corked--,pe.writing||ce(this,pe))},S.prototype.setDefaultEncoding=function(ue){if("string"==typeof ue&&(ue=O(ue)),!j.isEncoding(ue))throw new Ce(ue);return this._writableState.defaultEncoding=ue,this},S.prototype._write=function(pe,ue,Q){if(!this._writev)throw new ie("_write()");this._writev([{chunk:pe,encoding:ue}],Q)},S.prototype._writev=null,S.prototype.end=function(pe,ue,Q){const oe=this._writableState;let fe;if("function"==typeof pe?(Q=pe,pe=null,ue=null):"function"==typeof ue&&(Q=ue,ue=null),null!=pe){const Ee=T(this,pe,ue);Ee instanceof k&&(fe=Ee)}return oe.corked&&(oe.corked=1,this.uncork()),fe||(oe.errored||oe.ending?oe.finished?fe=new le("end"):oe.destroyed&&(fe=new de("end")):(oe.ending=!0,Se(this,oe,!0),oe.ended=!0)),"function"==typeof Q&&(fe||oe.finished?f.nextTick(Q,fe):oe[u].push(Q)),this},P(S.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){const pe=this._writableState;return!(!pe||!1===pe.writable||pe.destroyed||pe.errored||pe.ending||pe.ended)},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const pe=this._writableState;return!!pe&&!pe.destroyed&&!pe.ending&&pe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ue=G.destroy;let ye;function De(){return void 0===ye&&(ye={}),ye}S.prototype.destroy=function(pe,ue){const Q=this._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[u].length)&&f.nextTick(ee,Q),Ue.call(this,pe,ue),this},S.prototype._undestroy=G.undestroy,S.prototype._destroy=function(pe,ue){ue(pe)},S.prototype[D.captureRejectionSymbol]=function(pe){this.destroy(pe)},S.fromWeb=function(pe,ue){return De().newStreamWritableFromWritableStream(pe,ue)},S.toWeb=function(pe){return De().newWritableStreamFromStreamWritable(pe)}},48119:(je,z,E)=>{"use strict";const{ArrayIsArray:f,ArrayPrototypeIncludes:_,ArrayPrototypeJoin:k,ArrayPrototypeMap:H,NumberIsInteger:x,NumberIsNaN:P,NumberMAX_SAFE_INTEGER:M,NumberMIN_SAFE_INTEGER:O,NumberParseInt:F,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:D,String:X,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=E(2220),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:Z,ERR_OUT_OF_RANGE:ie,ERR_UNKNOWN_SIGNAL:ae}}=E(85833),{normalizeEncoding:se}=E(82578),{isAsyncFunction:de,isArrayBufferView:le}=E(82578).types,we={},C=/^[0-7]+$/,y=re((Ee,Re,$e=O,Fe=M)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);if(Ee<$e||Ee>Fe)throw new ie(Re,`>= ${$e} && <= ${Fe}`,Ee)}),g=re((Ee,Re,$e=-2147483648,Fe=2147483647)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);if(Ee<$e||Ee>Fe)throw new ie(Re,`>= ${$e} && <= ${Fe}`,Ee)}),S=re((Ee,Re,$e=!1)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);const Fe=$e?1:0,Et=4294967295;if(Ee<Fe||Ee>Et)throw new ie(Re,`>= ${Fe} && <= ${Et}`,Ee)});function T(Ee,Re){if("string"!=typeof Ee)throw new J(Re,"string",Ee)}const A=re((Ee,Re,$e)=>{if(!_($e,Ee)){const Et="must be one of: "+k(H($e,We=>"string"==typeof We?`'${We}'`:X(We)),", ");throw new Z(Re,Ee,Et)}});function s(Ee,Re){if("boolean"!=typeof Ee)throw new J(Re,"boolean",Ee)}function v(Ee,Re,$e){return null!=Ee&&L(Ee,Re)?Ee[Re]:$e}const W=re((Ee,Re,$e=null)=>{const Fe=v($e,"allowArray",!1),Et=v($e,"allowFunction",!1);if(!v($e,"nullable",!1)&&null===Ee||!Fe&&f(Ee)||"object"!=typeof Ee&&(!Et||"function"!=typeof Ee))throw new J(Re,"Object",Ee)}),K=re((Ee,Re)=>{if(null!=Ee&&"object"!=typeof Ee&&"function"!=typeof Ee)throw new J(Re,"a dictionary",Ee)}),ee=re((Ee,Re,$e=0)=>{if(!f(Ee))throw new J(Re,"Array",Ee);if(Ee.length<$e)throw new Z(Re,Ee,`must be longer than ${$e}`)}),Ve=re((Ee,Re="buffer")=>{if(!le(Ee))throw new J(Re,["Buffer","TypedArray","DataView"],Ee)}),Ue=re((Ee,Re)=>{if(void 0!==Ee&&(null===Ee||"object"!=typeof Ee||!("aborted"in Ee)))throw new J(Re,"AbortSignal",Ee)}),ye=re((Ee,Re)=>{if("function"!=typeof Ee)throw new J(Re,"Function",Ee)}),De=re((Ee,Re)=>{if("function"!=typeof Ee||de(Ee))throw new J(Re,"Function",Ee)}),pe=re((Ee,Re)=>{if(void 0!==Ee)throw new J(Re,"undefined",Ee)}),Q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function oe(Ee,Re){if(typeof Ee>"u"||!D(Q,Ee))throw new Z(Re,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}je.exports={isInt32:function xe(Ee){return Ee===(0|Ee)},isUint32:function Ce(Ee){return Ee===Ee>>>0},parseFileMode:function u(Ee,Re,$e){if(typeof Ee>"u"&&(Ee=$e),"string"==typeof Ee){if(null===D(C,Ee))throw new Z(Re,Ee,"must be a 32-bit unsigned integer or an octal string");Ee=F(Ee,8)}return S(Ee,Re),Ee},validateArray:ee,validateStringArray:function ce(Ee,Re){ee(Ee,Re);for(let $e=0;$e<Ee.length;$e++)T(Ee[$e],`${Re}[${$e}]`)},validateBooleanArray:function _e(Ee,Re){ee(Ee,Re);for(let $e=0;$e<Ee.length;$e++)s(Ee[$e],`${Re}[${$e}]`)},validateBoolean:s,validateBuffer:Ve,validateDictionary:K,validateEncoding:function Se(Ee,Re){const $e=se(Re),Fe=Ee.length;if("hex"===$e&&Fe%2!=0)throw new Z("encoding",Re,`is invalid for data of length ${Fe}`)},validateFunction:ye,validateInt32:g,validateInteger:y,validateNumber:function N(Ee,Re,$e=void 0,Fe){if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(null!=$e&&Ee<$e||null!=Fe&&Ee>Fe||(null!=$e||null!=Fe)&&P(Ee))throw new ie(Re,`${null!=$e?`>= ${$e}`:""}${null!=$e&&null!=Fe?" && ":""}${null!=Fe?`<= ${Fe}`:""}`,Ee)},validateObject:W,validateOneOf:A,validatePlainFunction:De,validatePort:function be(Ee,Re="Port",$e=!0){if("number"!=typeof Ee&&"string"!=typeof Ee||"string"==typeof Ee&&0===G(Ee).length||+Ee!=+Ee>>>0||Ee>65535||0===Ee&&!$e)throw new te(Re,Ee,$e);return 0|Ee},validateSignalName:function Oe(Ee,Re="signal"){if(T(Ee,Re),void 0===we[Ee])throw void 0!==we[j(Ee)]?new ae(Ee+" (signals must use all capital letters)"):new ae(Ee)},validateString:T,validateUint32:S,validateUndefined:pe,validateUnion:function ue(Ee,Re,$e){if(!_($e,Ee))throw new J(Re,`('${k($e,"|")}')`,Ee)},validateAbortSignal:Ue,validateLinkHeaderValue:function fe(Ee){if("string"==typeof Ee)return oe(Ee,"hints"),Ee;if(f(Ee)){const Re=Ee.length;let $e="";if(0===Re)return $e;for(let Fe=0;Fe<Re;Fe++){const Et=Ee[Fe];oe(Et,"hints"),$e+=Et,Fe!==Re-1&&($e+=", ")}return $e}throw new Z("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},80868:(je,z,E)=>{"use strict";const f=E(59800),_=E(4581),k=f.Readable.destroy;je.exports=f.Readable,je.exports._uint8ArrayToBuffer=f._uint8ArrayToBuffer,je.exports._isUint8Array=f._isUint8Array,je.exports.isDisturbed=f.isDisturbed,je.exports.isErrored=f.isErrored,je.exports.isReadable=f.isReadable,je.exports.Readable=f.Readable,je.exports.Writable=f.Writable,je.exports.Duplex=f.Duplex,je.exports.Transform=f.Transform,je.exports.PassThrough=f.PassThrough,je.exports.addAbortSignal=f.addAbortSignal,je.exports.finished=f.finished,je.exports.destroy=f.destroy,je.exports.destroy=k,je.exports.pipeline=f.pipeline,je.exports.compose=f.compose,Object.defineProperty(f,"promises",{configurable:!0,enumerable:!0,get:()=>_}),je.exports.Stream=f.Stream,je.exports.default=je.exports},85833:(je,z,E)=>{"use strict";const{format:f,inspect:_,AggregateError:k}=E(82578),H=globalThis.AggregateError||k,x=Symbol("kIsNodeError"),P=["string","function","number","object","Function","Object","boolean","bigint","symbol"],M=/^([A-Z][a-z0-9]*)+$/,F={};function L(J,Z){if(!J)throw new F.ERR_INTERNAL_ASSERTION(Z)}function D(J){let Z="",ie=J.length;const ae="-"===J[0]?1:0;for(;ie>=ae+4;ie-=3)Z=`_${J.slice(ie-3,ie)}${Z}`;return`${J.slice(0,ie)}${Z}`}function j(J,Z,ie){ie||(ie=Error);class ae extends ie{constructor(...de){super(function X(J,Z,ie){if("function"==typeof Z)return L(Z.length<=ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${Z.length}).`),Z(...ie);const ae=(Z.match(/%[dfijoOs]/g)||[]).length;return L(ae===ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${ae}).`),0===ie.length?Z:f(Z,...ie)}(J,Z,de))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(ae.prototype,{name:{value:ie.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ae.prototype.code=J,ae.prototype[x]=!0,F[J]=ae}function G(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(Z="The operation was aborted",ie=void 0){if(void 0!==ie&&"object"!=typeof ie)throw new F.ERR_INVALID_ARG_TYPE("options","Object",ie);super(Z,ie),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(J,Z,ie)=>{L("string"==typeof J,"'name' must be a string"),Array.isArray(Z)||(Z=[Z]);let ae="The ";J.endsWith(" argument")?ae+=`${J} `:ae+=`"${J}" ${J.includes(".")?"property":"argument"} `,ae+="must be ";const se=[],de=[],le=[];for(const xe of Z)L("string"==typeof xe,"All expected entries have to be of type string"),P.includes(xe)?se.push(xe.toLowerCase()):M.test(xe)?de.push(xe):(L("object"!==xe,'The value "object" should be written as "Object"'),le.push(xe));if(de.length>0){const xe=se.indexOf("object");-1!==xe&&(se.splice(se,xe,1),de.push("Object"))}if(se.length>0){switch(se.length){case 1:ae+=`of type ${se[0]}`;break;case 2:ae+=`one of type ${se[0]} or ${se[1]}`;break;default:{const xe=se.pop();ae+=`one of type ${se.join(", ")}, or ${xe}`}}(de.length>0||le.length>0)&&(ae+=" or ")}if(de.length>0){switch(de.length){case 1:ae+=`an instance of ${de[0]}`;break;case 2:ae+=`an instance of ${de[0]} or ${de[1]}`;break;default:{const xe=de.pop();ae+=`an instance of ${de.join(", ")}, or ${xe}`}}le.length>0&&(ae+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(ae+="an "),ae+=`${le[0]}`;break;case 2:ae+=`one of ${le[0]} or ${le[1]}`;break;default:{const xe=le.pop();ae+=`one of ${le.join(", ")}, or ${xe}`}}if(null==ie)ae+=`. Received ${ie}`;else if("function"==typeof ie&&ie.name)ae+=`. Received function ${ie.name}`;else if("object"==typeof ie){var we;null!==(we=ie.constructor)&&void 0!==we&&we.name?ae+=`. Received an instance of ${ie.constructor.name}`:ae+=`. Received ${_(ie,{depth:-1})}`}else{let xe=_(ie,{colors:!1});xe.length>25&&(xe=`${xe.slice(0,25)}...`),ae+=`. Received type ${typeof ie} (${xe})`}return ae},TypeError),j("ERR_INVALID_ARG_VALUE",(J,Z,ie="is invalid")=>{let ae=_(Z);return ae.length>128&&(ae=ae.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${ie}. Received ${ae}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(J,Z,ie)=>{var ae;return`Expected ${J} to be returned from the "${Z}" function but got ${null!=ie&&null!==(ae=ie.constructor)&&void 0!==ae&&ae.name?`instance of ${ie.constructor.name}`:"type "+typeof ie}.`},TypeError),j("ERR_MISSING_ARGS",(...J)=>{let Z;L(J.length>0,"At least one arg needs to be specified");const ie=J.length;switch(J=(Array.isArray(J)?J:[J]).map(ae=>`"${ae}"`).join(" or "),ie){case 1:Z+=`The ${J[0]} argument`;break;case 2:Z+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const ae=J.pop();Z+=`The ${J.join(", ")}, and ${ae} arguments`}}return`${Z} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(J,Z,ie)=>{let ae;return L(Z,'Missing "range" argument'),Number.isInteger(ie)&&Math.abs(ie)>2**32?ae=D(String(ie)):"bigint"==typeof ie?(ae=String(ie),(ie>2n**32n||ie<-(2n**32n))&&(ae=D(ae)),ae+="n"):ae=_(ie),`The value of "${J}" is out of range. It must be ${Z}. Received ${ae}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),je.exports={AbortError:te,aggregateTwoErrors:G(function re(J,Z){if(J&&Z&&J!==Z){if(Array.isArray(Z.errors))return Z.errors.push(J),Z;const ie=new H([Z,J],Z.message);return ie.code=Z.code,ie}return J||Z}),hideStackFrames:G,codes:F}},2220:je=>{"use strict";je.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,E)=>z.includes(E),ArrayPrototypeIndexOf:(z,E)=>z.indexOf(E),ArrayPrototypeJoin:(z,E)=>z.join(E),ArrayPrototypeMap:(z,E)=>z.map(E),ArrayPrototypePop:(z,E)=>z.pop(E),ArrayPrototypePush:(z,E)=>z.push(E),ArrayPrototypeSlice:(z,E,f)=>z.slice(E,f),Error,FunctionPrototypeCall:(z,E,...f)=>z.call(E,...f),FunctionPrototypeSymbolHasInstance:(z,E)=>Function.prototype[Symbol.hasInstance].call(z,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,E)=>Object.defineProperties(z,E),ObjectDefineProperty:(z,E,f)=>Object.defineProperty(z,E,f),ObjectGetOwnPropertyDescriptor:(z,E)=>Object.getOwnPropertyDescriptor(z,E),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,E)=>Object.setPrototypeOf(z,E),Promise,PromisePrototypeCatch:(z,E)=>z.catch(E),PromisePrototypeThen:(z,E,f)=>z.then(E,f),PromiseReject:z=>Promise.reject(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,E)=>z.test(E),SafeSet:Set,String,StringPrototypeSlice:(z,E,f)=>z.slice(E,f),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(z,E,f)=>z.set(E,f),Uint8Array}},82578:(je,z,E)=>{"use strict";var f=E(29293).default;const _=E(37945),k=Object.getPrototypeOf(f(function*(){})).constructor,H=globalThis.Blob||_.Blob,x=typeof H<"u"?function(O){return O instanceof H}:function(O){return!1};class P extends Error{constructor(O){if(!Array.isArray(O))throw new TypeError("Expected input to be an Array, got "+typeof O);let F="";for(let L=0;L<O.length;L++)F+=`    ${O[L].stack}\n`;super(F),this.name="AggregateError",this.errors=O}}je.exports={AggregateError:P,kEmptyObject:Object.freeze({}),once(M){let O=!1;return function(...F){O||(O=!0,M.apply(this,F))}},createDeferredPromise:function(){let M,O;return{promise:new Promise((L,D)=>{M=L,O=D}),resolve:M,reject:O}},promisify:M=>new Promise((O,F)=>{M((L,...D)=>L?F(L):O(...D))}),debuglog:()=>function(){},format:(M,...O)=>M.replace(/%([sdifj])/g,function(...[F,L]){const D=O.shift();return"f"===L?D.toFixed(6):"j"===L?JSON.stringify(D):"s"===L&&"object"==typeof D?`${D.constructor!==Object?D.constructor.name:""} {}`.trim():D.toString()}),inspect(M){switch(typeof M){case"string":if(M.includes("'")){if(!M.includes('"'))return`"${M}"`;if(!M.includes("`")&&!M.includes("${"))return`\`${M}\``}return`'${M}'`;case"number":return isNaN(M)?"NaN":Object.is(M,-0)?String(M):M;case"bigint":return`${String(M)}n`;case"boolean":case"undefined":return String(M);case"object":return"{}"}},types:{isAsyncFunction:M=>M instanceof k,isArrayBufferView:M=>ArrayBuffer.isView(M)},isBlob:x},je.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},59800:(je,z,E)=>{const{Buffer:f}=E(37945),{ObjectDefineProperty:_,ObjectKeys:k,ReflectApply:H}=E(2220),{promisify:{custom:x}}=E(82578),{streamReturningOperators:P,promiseReturningOperators:M}=E(54705),{codes:{ERR_ILLEGAL_CONSTRUCTOR:O}}=E(85833),F=E(90972),{pipeline:L}=E(63596),{destroyer:D}=E(23370),X=E(68208),G=E(4581),re=E(76989),te=je.exports=E(90845).Stream;te.isDisturbed=re.isDisturbed,te.isErrored=re.isErrored,te.isReadable=re.isReadable,te.Readable=E(84730);for(const ie of k(P)){let se=function(...de){if(new.target)throw O();return te.Readable.from(H(ae,this,de))};const ae=P[ie];_(se,"name",{__proto__:null,value:ae.name}),_(se,"length",{__proto__:null,value:ae.length}),_(te.Readable.prototype,ie,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}for(const ie of k(M)){let se=function(...le){if(new.target)throw O();return H(ae,this,le)};const ae=M[ie];_(se,"name",{__proto__:null,value:ae.name}),_(se,"length",{__proto__:null,value:ae.length}),_(te.Readable.prototype,ie,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}te.Writable=E(39070),te.Duplex=E(85892),te.Transform=E(33732),te.PassThrough=E(5358),te.pipeline=L;const{addAbortSignal:J}=E(55397);te.addAbortSignal=J,te.finished=X,te.destroy=D,te.compose=F,_(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>G}),_(L,x,{__proto__:null,enumerable:!0,get:()=>G.pipeline}),_(X,x,{__proto__:null,enumerable:!0,get:()=>G.finished}),te.Stream=te,te._isUint8Array=function(ae){return ae instanceof Uint8Array},te._uint8ArrayToBuffer=function(ae){return f.from(ae.buffer,ae.byteOffset,ae.byteLength)}},4581:(je,z,E)=>{"use strict";const{ArrayPrototypePop:f,Promise:_}=E(2220),{isIterable:k,isNodeStream:H,isWebStream:x}=E(76989),{pipelineImpl:P}=E(63596),{finished:M}=E(68208);E(59800),je.exports={finished:M,pipeline:function O(...F){return new _((L,D)=>{let X,j;const G=F[F.length-1];if(G&&"object"==typeof G&&!H(G)&&!k(G)&&!x(G)){const re=f(F);X=re.signal,j=re.end}P(F,(re,te)=>{re?D(re):L(te)},{signal:X,end:j})})}}},67449:(je,z,E)=>{z.Level=E(23963).BrowserLevel},97829:je=>{var z=1e3,E=60*z,f=60*E,_=24*f,k=7*_;function O(F,L,D,X){var j=L>=1.5*D;return Math.round(F/D)+" "+X+(j?"s":"")}je.exports=function(F,L){L=L||{};var D=typeof F;if("string"===D&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var D=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*k;case"days":case"day":case"d":return D*_;case"hours":case"hour":case"hrs":case"hr":case"h":return D*f;case"minutes":case"minute":case"mins":case"min":case"m":return D*E;case"seconds":case"second":case"secs":case"sec":case"s":return D*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(F);if("number"===D&&isFinite(F))return L.long?function M(F){var L=Math.abs(F);return L>=_?O(F,L,_,"day"):L>=f?O(F,L,f,"hour"):L>=E?O(F,L,E,"minute"):L>=z?O(F,L,z,"second"):F+" ms"}(F):function P(F){var L=Math.abs(F);return L>=_?Math.round(F/_)+"d":L>=f?Math.round(F/f)+"h":L>=E?Math.round(F/E)+"m":L>=z?Math.round(F/z)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},9465:je=>{"use strict";const{AbortController:z,AbortSignal:E}=typeof self<"u"?self:typeof window<"u"?window:void 0;je.exports=z,je.exports.AbortSignal=E,je.exports.default=z},91463:(je,z,E)=>{"use strict";const{fromCallback:f}=E(42381),_=E(61747),{getCallback:k,getOptions:H}=E(32856),x=Symbol("promise"),P=Symbol("status"),M=Symbol("operations"),O=Symbol("finishClose"),F=Symbol("closeCallbacks");z.AbstractChainedBatch=class L{constructor(X){if("object"!=typeof X||null===X)throw new TypeError("The first argument must be an abstract-level database, received "+(null===X?"null":typeof X));this[M]=[],this[F]=[],this[P]="open",this[O]=this[O].bind(this),this.db=X,this.db.attachResource(this),this.nextTick=X.nextTick}get length(){return this[M].length}put(X,j,G){if("open"!==this[P])throw new _("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const re=this.db._checkKey(X)||this.db._checkValue(j);if(re)throw re;const te=G&&null!=G.sublevel?G.sublevel:this.db,J=G,Z=te.keyEncoding(G&&G.keyEncoding),ie=te.valueEncoding(G&&G.valueEncoding),ae=Z.format;G={...G,keyEncoding:ae,valueEncoding:ie.format},te!==this.db&&(G.sublevel=null);const se=te.prefixKey(Z.encode(X),ae),de=ie.encode(j);return this._put(se,de,G),this[M].push({...J,type:"put",key:X,value:j}),this}_put(X,j,G){}del(X,j){if("open"!==this[P])throw new _("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const G=this.db._checkKey(X);if(G)throw G;const re=j&&null!=j.sublevel?j.sublevel:this.db,te=j,J=re.keyEncoding(j&&j.keyEncoding),Z=J.format;return j={...j,keyEncoding:Z},re!==this.db&&(j.sublevel=null),this._del(re.prefixKey(J.encode(X),Z),j),this[M].push({...te,type:"del",key:X}),this}_del(X,j){}clear(){if("open"!==this[P])throw new _("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[M]=[],this}_clear(){}write(X,j){return j=k(X,j),j=f(j,x),X=H(X),"open"!==this[P]?this.nextTick(j,new _("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(j):(this[P]="writing",this._write(X,G=>{this[P]="closing",this[F].push(()=>j(G)),G||this.db.emit("batch",this[M]),this._close(this[O])})),j[x]}_write(X,j){}close(X){return X=f(X,x),"closing"===this[P]?this[F].push(X):"closed"===this[P]?this.nextTick(X):(this[F].push(X),"writing"!==this[P]&&(this[P]="closing",this._close(this[O]))),X[x]}_close(X){this.nextTick(X)}[O](){this[P]="closed",this.db.detachResource(this);const X=this[F];this[F]=[];for(const j of X)j()}}},63294:(je,z,E)=>{"use strict";var f=E(53344).default,_=E(42958).default;const{fromCallback:k}=E(42381),H=E(61747),{getOptions:x,getCallback:P}=E(32856),M=Symbol("promise"),O=Symbol("callback"),F=Symbol("working"),L=Symbol("handleOne"),D=Symbol("handleMany"),X=Symbol("autoClose"),j=Symbol("finishWork"),G=Symbol("returnMany"),re=Symbol("closing"),te=Symbol("handleClose"),J=Symbol("closed"),Z=Symbol("closeCallbacks"),ie=Symbol("keyEncoding"),ae=Symbol("valueEncoding"),se=Symbol("abortOnClose"),de=Symbol("legacy"),le=Symbol("keys"),we=Symbol("values"),xe=Symbol("limit"),Ce=Symbol("count"),C=Object.freeze({}),a=()=>{};let u=!1;class y{constructor(s,v,W){if("object"!=typeof s||null===s)throw new TypeError("The first argument must be an abstract-level database, received "+(null===s?"null":typeof s));if("object"!=typeof v||null===v)throw new TypeError("The second argument must be an options object");this[J]=!1,this[Z]=[],this[F]=!1,this[re]=!1,this[X]=!1,this[O]=null,this[L]=this[L].bind(this),this[D]=this[D].bind(this),this[te]=this[te].bind(this),this[ie]=v[ie],this[ae]=v[ae],this[de]=W,this[xe]=Number.isInteger(v.limit)&&v.limit>=0?v.limit:1/0,this[Ce]=0,this[se]=!!v.abortOnClose,this.db=s,this.db.attachResource(this),this.nextTick=s.nextTick}get count(){return this[Ce]}get limit(){return this[xe]}next(s){let v;if(void 0===s)v=new Promise((W,K)=>{s=(ee,ce,_e)=>{ee?K(ee):this[de]?void 0===ce&&void 0===_e?W():W([ce,_e]):W(ce)}});else if("function"!=typeof s)throw new TypeError("Callback must be a function");return this[re]?this.nextTick(s,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[F]?this.nextTick(s,new H("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[F]=!0,this[O]=s,this[Ce]>=this[xe]?this.nextTick(this[L],null):this._next(this[L])),v}_next(s){this.nextTick(s)}nextv(s,v,W){return W=P(v,W),W=k(W,M),v=x(v,C),Number.isInteger(s)?(this[re]?this.nextTick(W,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[F]?this.nextTick(W,new H("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(s<1&&(s=1),this[xe]<1/0&&(s=Math.min(s,this[xe]-this[Ce])),this[F]=!0,this[O]=W,s<=0?this.nextTick(this[D],null,[]):this._nextv(s,v,this[D])),W[M]):(this.nextTick(W,new TypeError("The first argument 'size' must be an integer")),W[M])}_nextv(s,v,W){const K=[],ee=(ce,_e,Oe)=>ce?W(ce):(this[de]?void 0===_e&&void 0===Oe:void 0===_e)?W(null,K):(K.push(this[de]?[_e,Oe]:_e),void(K.length===s?W(null,K):this._next(ee)));this._next(ee)}all(s,v){return v=P(s,v),v=k(v,M),s=x(s,C),this[re]?this.nextTick(v,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[F]?this.nextTick(v,new H("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[F]=!0,this[O]=v,this[X]=!0,this[Ce]>=this[xe]?this.nextTick(this[D],null,[]):this._all(s,this[D])),v[M]}_all(s,v){let W=this[Ce];const K=[],ee=()=>{const _e=this[xe]<1/0?Math.min(1e3,this[xe]-W):1e3;_e<=0?this.nextTick(v,null,K):this._nextv(_e,C,ce)},ce=(_e,Oe)=>{_e?v(_e):0===Oe.length?v(null,K):(K.push.apply(K,Oe),W+=Oe.length,ee())};ee()}[j](){const s=this[O];return this[se]&&null===s?a:(this[F]=!1,this[O]=null,this[re]&&this._close(this[te]),s)}[G](s,v,W){this[X]?this.close(s.bind(null,v,W)):s(v,W)}seek(s,v){if(v=x(v,C),!this[re]){if(this[F])throw new H("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const W=this.db.keyEncoding(v.keyEncoding||this[ie]),K=W.format;v.keyEncoding!==K&&(v={...v,keyEncoding:K});const ee=this.db.prefixKey(W.encode(s),K);this._seek(ee,v)}}}_seek(s,v){throw new H("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(s){return s=k(s,M),this[J]?this.nextTick(s):this[re]?this[Z].push(s):(this[re]=!0,this[Z].push(s),this[F]?this[se]&&this[j]()(new H("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[te])),s[M]}_close(s){this.nextTick(s)}[te](){this[J]=!0,this.db.detachResource(this);const s=this[Z];this[Z]=[];for(const v of s)v()}[Symbol.asyncIterator](){var s=this;return _(function*(){try{let v;for(;void 0!==(v=yield f(s.next()));)yield v}finally{s[J]||(yield f(s.close()))}})()}}class g extends y{constructor(s,v){super(s,v,!0),this[le]=!1!==v.keys,this[we]=!1!==v.values}[L](s,v,W){const K=this[j]();if(s)return K(s);try{v=this[le]&&void 0!==v?this[ie].decode(v):void 0,W=this[we]&&void 0!==W?this[ae].decode(W):void 0}catch(ee){return K(new N("entry",ee))}void 0===v&&void 0===W||this[Ce]++,K(null,v,W)}[D](s,v){const W=this[j]();if(s)return this[G](W,s);try{for(const K of v){const ee=K[0],ce=K[1];K[0]=this[le]&&void 0!==ee?this[ie].decode(ee):void 0,K[1]=this[we]&&void 0!==ce?this[ae].decode(ce):void 0}}catch(K){return this[G](W,new N("entries",K))}this[Ce]+=v.length,this[G](W,null,v)}end(s){return!u&&typeof console<"u"&&(u=!0,console.warn(new H("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(s)}}class N extends H{constructor(s,v){super(`Iterator could not decode ${s}`,{code:"LEVEL_DECODE_ERROR",cause:v})}}for(const A of["_ended property","_nexting property","_end method"])Object.defineProperty(g.prototype,A.split(" ")[0],{get(){throw new H(`The ${A} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new H(`The ${A} has been removed`,{code:"LEVEL_LEGACY"})}});g.keyEncoding=ie,g.valueEncoding=ae,z.AbstractIterator=g,z.AbstractKeyIterator=class S extends y{constructor(s,v){super(s,v,!1)}[L](s,v){const W=this[j]();if(s)return W(s);try{v=void 0!==v?this[ie].decode(v):void 0}catch(K){return W(new N("key",K))}void 0!==v&&this[Ce]++,W(null,v)}[D](s,v){const W=this[j]();if(s)return this[G](W,s);try{for(let K=0;K<v.length;K++){const ee=v[K];v[K]=void 0!==ee?this[ie].decode(ee):void 0}}catch(K){return this[G](W,new N("keys",K))}this[Ce]+=v.length,this[G](W,null,v)}},z.AbstractValueIterator=class T extends y{constructor(s,v){super(s,v,!1)}[L](s,v){const W=this[j]();if(s)return W(s);try{v=void 0!==v?this[ae].decode(v):void 0}catch(K){return W(new N("value",K))}void 0!==v&&this[Ce]++,W(null,v)}[D](s,v){const W=this[j]();if(s)return this[G](W,s);try{for(let K=0;K<v.length;K++){const ee=v[K];v[K]=void 0!==ee?this[ae].decode(ee):void 0}}catch(K){return this[G](W,new N("values",K))}this[Ce]+=v.length,this[G](W,null,v)}}},83764:(je,z,E)=>{"use strict";const{supports:f}=E(89061),{Transcoder:_}=E(25006),{EventEmitter:k}=E(44356),{fromCallback:H}=E(42381),x=E(61747),{AbstractIterator:P}=E(63294),{DefaultKeyIterator:M,DefaultValueIterator:O}=E(48335),{DeferredIterator:F,DeferredKeyIterator:L,DeferredValueIterator:D}=E(92745),{DefaultChainedBatch:X}=E(45776),{getCallback:j,getOptions:G}=E(32856),re=E(4287),te=Symbol("promise"),J=Symbol("landed"),Z=Symbol("resources"),ie=Symbol("closeResources"),ae=Symbol("operations"),se=Symbol("undefer"),de=Symbol("deferOpen"),le=Symbol("options"),we=Symbol("status"),xe=Symbol("defaultOptions"),Ce=Symbol("transcoder"),C=Symbol("keyEncoding"),a=Symbol("valueEncoding"),u=()=>{};class y extends k{constructor(A,s){if(super(),"object"!=typeof A||null===A)throw new TypeError("The first argument 'manifest' must be an object");s=G(s);const{keyEncoding:v,valueEncoding:W,passive:K,...ee}=s;this[Z]=new Set,this[ae]=[],this[de]=!0,this[le]=ee,this[we]="opening",this.supports=f(A,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==A.snapshots,permanence:!1!==A.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:A.encodings||{},events:Object.assign({},A.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Ce]=new _(T(this)),this[C]=this[Ce].encoding(v||"utf8"),this[a]=this[Ce].encoding(W||"utf8");for(const ce of this[Ce].encodings())this.supports.encodings[ce.commonName]||(this.supports.encodings[ce.commonName]=!0);this[xe]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[C].commonName,valueEncoding:this[a].commonName}),key:Object.freeze({keyEncoding:this[C].commonName})},this.nextTick(()=>{this[de]&&this.open({passive:!1},u)})}get status(){return this[we]}keyEncoding(A){return this[Ce].encoding(A??this[C])}valueEncoding(A){return this[Ce].encoding(A??this[a])}open(A,s){s=j(A,s),s=H(s,te),(A={...this[le],...G(A)}).createIfMissing=!1!==A.createIfMissing,A.errorIfExists=!!A.errorIfExists;const v=W=>{"closing"===this[we]||"opening"===this[we]?this.once(J,W?()=>v(W):v):"open"!==this[we]?s(new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:W})):s()};return A.passive?"opening"===this[we]?this.once(J,v):this.nextTick(v):"closed"===this[we]||this[de]?(this[de]=!1,this[we]="opening",this.emit("opening"),this._open(A,W=>{if(W)return this[we]="closed",this[ie](()=>{this.emit(J),v(W)}),void this[se]();this[we]="open",this[se](),this.emit(J),"open"===this[we]&&this.emit("open"),"open"===this[we]&&this.emit("ready"),v()})):"open"===this[we]?this.nextTick(v):this.once(J,()=>this.open(A,s)),s[te]}_open(A,s){this.nextTick(s)}close(A){A=H(A,te);const s=v=>{"opening"===this[we]||"closing"===this[we]?this.once(J,v?s(v):s):"closed"!==this[we]?A(new x("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:v})):A()};if("open"===this[we]){this[we]="closing",this.emit("closing");const v=W=>{this[we]="open",this[se](),this.emit(J),s(W)};this[ie](()=>{this._close(W=>{if(W)return v(W);this[we]="closed",this[se](),this.emit(J),"closed"===this[we]&&this.emit("closed"),s()})})}else"closed"===this[we]?this.nextTick(s):this.once(J,()=>this.close(A));return A[te]}[ie](A){if(0===this[Z].size)return this.nextTick(A);let s=this[Z].size,v=!0;const W=()=>{0==--s&&(v?this.nextTick(A):A())};for(const K of this[Z])K.close(W);v=!1,this[Z].clear()}_close(A){this.nextTick(A)}get(A,s,v){if(v=j(s,v),v=H(v,te),s=G(s,this[xe].entry),"opening"===this[we])return this.defer(()=>this.get(A,s,v)),v[te];if(S(this,v))return v[te];const W=this._checkKey(A);if(W)return this.nextTick(v,W),v[te];const K=this.keyEncoding(s.keyEncoding),ee=this.valueEncoding(s.valueEncoding),ce=K.format,_e=ee.format;return(s.keyEncoding!==ce||s.valueEncoding!==_e)&&(s=Object.assign({},s,{keyEncoding:ce,valueEncoding:_e})),this._get(this.prefixKey(K.encode(A),ce),s,(Oe,Ve)=>{if(Oe)return("LEVEL_NOT_FOUND"===Oe.code||Oe.notFound||/NotFound/i.test(Oe))&&(Oe.code||(Oe.code="LEVEL_NOT_FOUND"),Oe.notFound||(Oe.notFound=!0),Oe.status||(Oe.status=404)),v(Oe);try{Ve=ee.decode(Ve)}catch(Se){return v(new x("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:Se}))}v(null,Ve)}),v[te]}_get(A,s,v){this.nextTick(v,new Error("NotFound"))}getMany(A,s,v){if(v=j(s,v),v=H(v,te),s=G(s,this[xe].entry),"opening"===this[we])return this.defer(()=>this.getMany(A,s,v)),v[te];if(S(this,v))return v[te];if(!Array.isArray(A))return this.nextTick(v,new TypeError("The first argument 'keys' must be an array")),v[te];if(0===A.length)return this.nextTick(v,null,[]),v[te];const W=this.keyEncoding(s.keyEncoding),K=this.valueEncoding(s.valueEncoding),ee=W.format,ce=K.format;(s.keyEncoding!==ee||s.valueEncoding!==ce)&&(s=Object.assign({},s,{keyEncoding:ee,valueEncoding:ce}));const _e=new Array(A.length);for(let Oe=0;Oe<A.length;Oe++){const Ve=A[Oe],Se=this._checkKey(Ve);if(Se)return this.nextTick(v,Se),v[te];_e[Oe]=this.prefixKey(W.encode(Ve),ee)}return this._getMany(_e,s,(Oe,Ve)=>{if(Oe)return v(Oe);try{for(let Se=0;Se<Ve.length;Se++)void 0!==Ve[Se]&&(Ve[Se]=K.decode(Ve[Se]))}catch(Se){return v(new x(`Could not decode one or more of ${Ve.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:Se}))}v(null,Ve)}),v[te]}_getMany(A,s,v){this.nextTick(v,null,new Array(A.length).fill(void 0))}put(A,s,v,W){if(W=j(v,W),W=H(W,te),v=G(v,this[xe].entry),"opening"===this[we])return this.defer(()=>this.put(A,s,v,W)),W[te];if(S(this,W))return W[te];const K=this._checkKey(A)||this._checkValue(s);if(K)return this.nextTick(W,K),W[te];const ee=this.keyEncoding(v.keyEncoding),ce=this.valueEncoding(v.valueEncoding),_e=ee.format,Oe=ce.format;(v.keyEncoding!==_e||v.valueEncoding!==Oe)&&(v=Object.assign({},v,{keyEncoding:_e,valueEncoding:Oe}));const Ve=this.prefixKey(ee.encode(A),_e),Se=ce.encode(s);return this._put(Ve,Se,v,be=>{if(be)return W(be);this.emit("put",A,s),W()}),W[te]}_put(A,s,v,W){this.nextTick(W)}del(A,s,v){if(v=j(s,v),v=H(v,te),s=G(s,this[xe].key),"opening"===this[we])return this.defer(()=>this.del(A,s,v)),v[te];if(S(this,v))return v[te];const W=this._checkKey(A);if(W)return this.nextTick(v,W),v[te];const K=this.keyEncoding(s.keyEncoding),ee=K.format;return s.keyEncoding!==ee&&(s=Object.assign({},s,{keyEncoding:ee})),this._del(this.prefixKey(K.encode(A),ee),s,ce=>{if(ce)return v(ce);this.emit("del",A),v()}),v[te]}_del(A,s,v){this.nextTick(v)}batch(A,s,v){if(!arguments.length){if("opening"===this[we])return new X(this);if("open"!==this[we])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(v="function"==typeof A?A:j(s,v),v=H(v,te),s=G(s,this[xe].empty),"opening"===this[we])return this.defer(()=>this.batch(A,s,v)),v[te];if(S(this,v))return v[te];if(!Array.isArray(A))return this.nextTick(v,new TypeError("The first argument 'operations' must be an array")),v[te];if(0===A.length)return this.nextTick(v),v[te];const W=new Array(A.length),{keyEncoding:K,valueEncoding:ee,...ce}=s;for(let _e=0;_e<A.length;_e++){if("object"!=typeof A[_e]||null===A[_e])return this.nextTick(v,new TypeError("A batch operation must be an object")),v[te];const Oe=Object.assign({},A[_e]);if("put"!==Oe.type&&"del"!==Oe.type)return this.nextTick(v,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),v[te];const Ve=this._checkKey(Oe.key);if(Ve)return this.nextTick(v,Ve),v[te];const Se=null!=Oe.sublevel?Oe.sublevel:this,be=Se.keyEncoding(Oe.keyEncoding||K),Ue=be.format;if(Oe.key=Se.prefixKey(be.encode(Oe.key),Ue),Oe.keyEncoding=Ue,"put"===Oe.type){const ye=this._checkValue(Oe.value);if(ye)return this.nextTick(v,ye),v[te];const De=Se.valueEncoding(Oe.valueEncoding||ee);Oe.value=De.encode(Oe.value),Oe.valueEncoding=De.format}Se!==this&&(Oe.sublevel=null),W[_e]=Oe}return this._batch(W,ce,_e=>{if(_e)return v(_e);this.emit("batch",A),v()}),v[te]}_batch(A,s,v){this.nextTick(v)}sublevel(A,s){return this._sublevel(A,g.defaults(s))}_sublevel(A,s){return new g(this,A,s)}prefixKey(A,s){return A}clear(A,s){if(s=j(A,s),s=H(s,te),A=G(A,this[xe].empty),"opening"===this[we])return this.defer(()=>this.clear(A,s)),s[te];if(S(this,s))return s[te];const v=A,W=this.keyEncoding(A.keyEncoding);return(A=re(A,W)).keyEncoding=W.format,0===A.limit?this.nextTick(s):this._clear(A,K=>{if(K)return s(K);this.emit("clear",v),s()}),s[te]}_clear(A,s){this.nextTick(s)}iterator(A){const s=this.keyEncoding(A&&A.keyEncoding),v=this.valueEncoding(A&&A.valueEncoding);if((A=re(A,s)).keys=!1!==A.keys,A.values=!1!==A.values,A[P.keyEncoding]=s,A[P.valueEncoding]=v,A.keyEncoding=s.format,A.valueEncoding=v.format,"opening"===this[we])return new F(this,A);if("open"!==this[we])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(A)}_iterator(A){return new P(this,A)}keys(A){const s=this.keyEncoding(A&&A.keyEncoding),v=this.valueEncoding(A&&A.valueEncoding);if((A=re(A,s))[P.keyEncoding]=s,A[P.valueEncoding]=v,A.keyEncoding=s.format,A.valueEncoding=v.format,"opening"===this[we])return new L(this,A);if("open"!==this[we])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(A)}_keys(A){return new M(this,A)}values(A){const s=this.keyEncoding(A&&A.keyEncoding),v=this.valueEncoding(A&&A.valueEncoding);if((A=re(A,s))[P.keyEncoding]=s,A[P.valueEncoding]=v,A.keyEncoding=s.format,A.valueEncoding=v.format,"opening"===this[we])return new D(this,A);if("open"!==this[we])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(A)}_values(A){return new O(this,A)}defer(A){if("function"!=typeof A)throw new TypeError("The first argument must be a function");this[ae].push(A)}[se](){if(0===this[ae].length)return;const A=this[ae];this[ae]=[];for(const s of A)s()}attachResource(A){if("object"!=typeof A||null===A||"function"!=typeof A.close)throw new TypeError("The first argument must be a resource object");this[Z].add(A)}detachResource(A){this[Z].delete(A)}_chainedBatch(){return new X(this)}_checkKey(A){if(null==A)return new x("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(A){if(null==A)return new x("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}y.prototype.nextTick=E(24585);const{AbstractSublevel:g}=E(25416)({AbstractLevel:y});z.AbstractLevel=y,z.AbstractSublevel=g;const S=function(N,A){return"open"!==N[we]&&(N.nextTick(A,new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},T=function(N){return Object.keys(N.supports.encodings).filter(A=>!!N.supports.encodings[A])}},75929:(je,z,E)=>{"use strict";z.AbstractLevel=E(83764).AbstractLevel,z.AbstractSublevel=E(83764).AbstractSublevel,z.AbstractIterator=E(63294).AbstractIterator,z.AbstractKeyIterator=E(63294).AbstractKeyIterator,z.AbstractValueIterator=E(63294).AbstractValueIterator,z.AbstractChainedBatch=E(91463).AbstractChainedBatch},47519:(je,z,E)=>{"use strict";const{AbstractIterator:f,AbstractKeyIterator:_,AbstractValueIterator:k}=E(63294),H=Symbol("unfix"),x=Symbol("iterator"),P=Symbol("handleOne"),M=Symbol("handleMany"),O=Symbol("callback");class F extends f{constructor(j,G,re,te){super(j,G),this[x]=re,this[H]=te,this[P]=this[P].bind(this),this[M]=this[M].bind(this),this[O]=null}[P](j,G,re){const te=this[O];if(j)return te(j);void 0!==G&&(G=this[H](G)),te(j,G,re)}[M](j,G){const re=this[O];if(j)return re(j);for(const te of G){const J=te[0];void 0!==J&&(te[0]=this[H](J))}re(j,G)}}class L extends _{constructor(j,G,re,te){super(j,G),this[x]=re,this[H]=te,this[P]=this[P].bind(this),this[M]=this[M].bind(this),this[O]=null}[P](j,G){const re=this[O];if(j)return re(j);void 0!==G&&(G=this[H](G)),re(j,G)}[M](j,G){const re=this[O];if(j)return re(j);for(let te=0;te<G.length;te++){const J=G[te];void 0!==J&&(G[te]=this[H](J))}re(j,G)}}class D extends k{constructor(j,G,re){super(j,G),this[x]=re}}for(const X of[F,L])X.prototype._next=function(j){this[O]=j,this[x].next(this[P])},X.prototype._nextv=function(j,G,re){this[O]=re,this[x].nextv(j,G,this[M])},X.prototype._all=function(j,G){this[O]=G,this[x].all(j,this[M])};for(const X of[D])X.prototype._next=function(j){this[x].next(j)},X.prototype._nextv=function(j,G,re){this[x].nextv(j,G,re)},X.prototype._all=function(j,G){this[x].all(j,G)};for(const X of[F,L,D])X.prototype._seek=function(j,G){this[x].seek(j,G)},X.prototype._close=function(j){this[x].close(j)};z.AbstractSublevelIterator=F,z.AbstractSublevelKeyIterator=L,z.AbstractSublevelValueIterator=D},25416:(je,z,E)=>{"use strict";const f=E(61747),{Buffer:_}=E(1067)||{},{AbstractSublevelIterator:k,AbstractSublevelKeyIterator:H,AbstractSublevelValueIterator:x}=E(47519),P=Symbol("prefix"),M=Symbol("upperBound"),O=Symbol("prefixRange"),F=Symbol("parent"),L=Symbol("unfix"),D=new TextEncoder,X={separator:"!"};je.exports=function({AbstractLevel:Z}){class ie extends Z{static defaults(se){if("string"==typeof se)throw new f("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(se&&se.open)throw new f("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==se?X:se.separator?se:{...se,separator:"!"}}constructor(se,de,le){const{separator:we,manifest:xe,...Ce}=ie.defaults(le);de=J(de,we);const C=we.charCodeAt(0)+1,a=se[F]||se;if(!D.encode(de).every(g=>g>C&&g<127))throw new f(`Prefix must use bytes > ${C} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(j(a,xe),Ce);const u=(se.prefix||"")+we+de+we,y=u.slice(0,-1)+String.fromCharCode(C);this[F]=a,this[P]=new re(u),this[M]=new re(y),this[L]=new te,this.nextTick=a.nextTick}prefixKey(se,de){if("utf8"===de)return this[P].utf8+se;if(0===se.byteLength)return this[P][de];if("view"===de){const le=this[P].view,we=new Uint8Array(le.byteLength+se.byteLength);return we.set(le,0),we.set(se,le.byteLength),we}{const le=this[P].buffer;return _.concat([le,se],le.byteLength+se.byteLength)}}[O](se,de){void 0!==se.gte?se.gte=this.prefixKey(se.gte,de):void 0!==se.gt?se.gt=this.prefixKey(se.gt,de):se.gte=this[P][de],void 0!==se.lte?se.lte=this.prefixKey(se.lte,de):void 0!==se.lt?se.lt=this.prefixKey(se.lt,de):se.lte=this[M][de]}get prefix(){return this[P].utf8}get db(){return this[F]}_open(se,de){this[F].open({passive:!0},de)}_put(se,de,le,we){this[F].put(se,de,le,we)}_get(se,de,le){this[F].get(se,de,le)}_getMany(se,de,le){this[F].getMany(se,de,le)}_del(se,de,le){this[F].del(se,de,le)}_batch(se,de,le){this[F].batch(se,de,le)}_clear(se,de){this[O](se,se.keyEncoding),this[F].clear(se,de)}_iterator(se){this[O](se,se.keyEncoding);const de=this[F].iterator(se),le=this[L].get(this[P].utf8.length,se.keyEncoding);return new k(this,se,de,le)}_keys(se){this[O](se,se.keyEncoding);const de=this[F].keys(se),le=this[L].get(this[P].utf8.length,se.keyEncoding);return new H(this,se,de,le)}_values(se){this[O](se,se.keyEncoding);const de=this[F].values(se);return new x(this,se,de)}}return{AbstractSublevel:ie}};const j=function(Z,ie){return{...Z.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...ie,encodings:{utf8:G(Z,"utf8"),buffer:G(Z,"buffer"),view:G(Z,"view")}}},G=function(Z,ie){return!!Z.supports.encodings[ie]&&Z.keyEncoding(ie).name===ie};class re{constructor(ie){this.utf8=ie,this.view=D.encode(ie),this.buffer=_?_.from(this.view.buffer,0,this.view.byteLength):{}}}class te{constructor(){this.cache=new Map}get(ie,ae){let se=this.cache.get(ae);return void 0===se&&(se="view"===ae?function(de,le){return le.subarray(de)}.bind(null,ie):function(de,le){return le.slice(de)}.bind(null,ie),this.cache.set(ae,se)),se}}const J=function(Z,ie){let ae=0,se=Z.length;for(;ae<se&&Z[ae]===ie;)ae++;for(;se>ae&&Z[se-1]===ie;)se--;return Z.slice(ae,se)}},32856:(je,z)=>{"use strict";z.getCallback=function(E,f){return"function"==typeof E?E:f},z.getOptions=function(E,f){return"object"==typeof E&&null!==E?E:void 0!==f?f:{}}},45776:(je,z,E)=>{"use strict";const{AbstractChainedBatch:f}=E(91463),_=E(61747),k=Symbol("encoded");z.DefaultChainedBatch=class H extends f{constructor(P){super(P),this[k]=[]}_put(P,M,O){this[k].push({...O,type:"put",key:P,value:M})}_del(P,M){this[k].push({...M,type:"del",key:P})}_clear(){this[k]=[]}_write(P,M){"opening"===this.db.status?this.db.defer(()=>this._write(P,M)):"open"===this.db.status?0===this[k].length?this.nextTick(M):this.db._batch(this[k],P,M):this.nextTick(M,new _("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:(je,z,E)=>{"use strict";const{AbstractKeyIterator:f,AbstractValueIterator:_}=E(63294),k=Symbol("iterator"),H=Symbol("callback"),x=Symbol("handleOne"),P=Symbol("handleMany");class M extends f{constructor(L,D){super(L,D),this[k]=L.iterator({...D,keys:!0,values:!1}),this[x]=this[x].bind(this),this[P]=this[P].bind(this)}}class O extends _{constructor(L,D){super(L,D),this[k]=L.iterator({...D,keys:!1,values:!0}),this[x]=this[x].bind(this),this[P]=this[P].bind(this)}}for(const F of[M,O]){const L=F===M,D=L?X=>X[0]:X=>X[1];F.prototype._next=function(X){this[H]=X,this[k].next(this[x])},F.prototype[x]=function(X,j,G){const re=this[H];X?re(X):re(null,L?j:G)},F.prototype._nextv=function(X,j,G){this[H]=G,this[k].nextv(X,j,this[P])},F.prototype._all=function(X,j){this[H]=j,this[k].all(X,this[P])},F.prototype[P]=function(X,j){const G=this[H];X?G(X):G(null,j.map(D))},F.prototype._seek=function(X,j){this[k].seek(X,j)},F.prototype._close=function(X){this[k].close(X)}}z.DefaultKeyIterator=M,z.DefaultValueIterator=O},92745:(je,z,E)=>{"use strict";const{AbstractIterator:f,AbstractKeyIterator:_,AbstractValueIterator:k}=E(63294),H=E(61747),x=Symbol("nut"),P=Symbol("undefer"),M=Symbol("factory");class O extends f{constructor(X,j){super(X,j),this[x]=null,this[M]=()=>X.iterator(j),this.db.defer(()=>this[P]())}}class F extends _{constructor(X,j){super(X,j),this[x]=null,this[M]=()=>X.keys(j),this.db.defer(()=>this[P]())}}class L extends k{constructor(X,j){super(X,j),this[x]=null,this[M]=()=>X.values(j),this.db.defer(()=>this[P]())}}for(const D of[O,F,L])D.prototype[P]=function(){"open"===this.db.status&&(this[x]=this[M]())},D.prototype._next=function(X){null!==this[x]?this[x].next(X):"opening"===this.db.status?this.db.defer(()=>this._next(X)):this.nextTick(X,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},D.prototype._nextv=function(X,j,G){null!==this[x]?this[x].nextv(X,j,G):"opening"===this.db.status?this.db.defer(()=>this._nextv(X,j,G)):this.nextTick(G,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},D.prototype._all=function(X,j){null!==this[x]?this[x].all(j):"opening"===this.db.status?this.db.defer(()=>this._all(X,j)):this.nextTick(j,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},D.prototype._seek=function(X,j){null!==this[x]?this[x]._seek(X,j):"opening"===this.db.status&&this.db.defer(()=>this._seek(X,j))},D.prototype._close=function(X){null!==this[x]?this[x].close(X):"opening"===this.db.status?this.db.defer(()=>this._close(X)):this.nextTick(X)};z.DeferredIterator=O,z.DeferredKeyIterator=F,z.DeferredValueIterator=L},24585:(je,z,E)=>{"use strict";const f=E(24515);je.exports=function(_,...k){f(0===k.length?_:()=>_(...k))}},4287:(je,z,E)=>{"use strict";const f=E(61747),_=Object.prototype.hasOwnProperty,k=new Set(["lt","lte","gt","gte"]);je.exports=function(H,x){const P={};for(const M in H)if(_.call(H,M)&&"keyEncoding"!==M&&"valueEncoding"!==M){if("start"===M||"end"===M)throw new f(`The legacy range option '${M}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===M)throw new f("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});P[M]=k.has(M)?x.encode(H[M]):H[M]}return P.reverse=!!P.reverse,P.limit=Number.isInteger(P.limit)&&P.limit>=0?P.limit:-1,P}},1067:(je,z,E)=>{"use strict";const f=E(13981),_=E(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function Z(B){return+B!=B&&(B=0),M.alloc(+B)},z.INSPECT_MAX_BYTES=50;const H=2147483647;function P(B){if(B>H)throw new RangeError('The value "'+B+'" is invalid for option "size"');const w=new Uint8Array(B);return Object.setPrototypeOf(w,M.prototype),w}function M(B,w,m){if("number"==typeof B){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return D(B)}return O(B,w,m)}function O(B,w,m){if("string"==typeof B)return function X(B,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!M.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const m=0|ie(B,w);let U=P(m);const ne=U.write(B,w);return ne!==m&&(U=U.slice(0,ne)),U}(B,w);if(ArrayBuffer.isView(B))return function G(B){if(Fe(B,Uint8Array)){const w=new Uint8Array(B);return re(w.buffer,w.byteOffset,w.byteLength)}return j(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Fe(B,ArrayBuffer)||B&&Fe(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(B,SharedArrayBuffer)||B&&Fe(B.buffer,SharedArrayBuffer)))return re(B,w,m);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return M.from(U,w,m);const ne=function te(B){if(M.isBuffer(B)){const w=0|J(B.length),m=P(w);return 0===m.length||B.copy(m,0,0,w),m}return void 0!==B.length?"number"!=typeof B.length||Et(B.length)?P(0):j(B):"Buffer"===B.type&&Array.isArray(B.data)?j(B.data):void 0}(B);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return M.from(B[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function F(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function D(B){return F(B),P(B<0?0:0|J(B))}function j(B){const w=B.length<0?0:0|J(B.length),m=P(w);for(let U=0;U<w;U+=1)m[U]=255&B[U];return m}function re(B,w,m){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===w&&void 0===m?new Uint8Array(B):void 0===m?new Uint8Array(B,w):new Uint8Array(B,w,m),Object.setPrototypeOf(U,M.prototype),U}function J(B){if(B>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|B}function ie(B,w){if(M.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Fe(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const m=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Re(B).length;default:if(ne)return U?-1:oe(B).length;w=(""+w).toLowerCase(),ne=!0}}function ae(B,w,m){let U=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return A(this,w,m);case"utf8":case"utf-8":return y(this,w,m);case"ascii":return T(this,w,m);case"latin1":case"binary":return N(this,w,m);case"base64":return u(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,w,m);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function se(B,w,m){const U=B[w];B[w]=B[m],B[m]=U}function de(B,w,m,U,ne){if(0===B.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),Et(m=+m)&&(m=ne?0:B.length-1),m<0&&(m=B.length+m),m>=B.length){if(ne)return-1;m=B.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof w&&(w=M.from(w,U)),M.isBuffer(w))return 0===w.length?-1:le(B,w,m,U,ne);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(B,w,m):Uint8Array.prototype.lastIndexOf.call(B,w,m):le(B,[w],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(B,w,m,U,ne){let vt,ge=1,Ae=B.length,tt=w.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||w.length<2)return-1;ge=2,Ae/=2,tt/=2,m/=2}function Bt(It,Gt){return 1===ge?It[Gt]:It.readUInt16BE(Gt*ge)}if(ne){let It=-1;for(vt=m;vt<Ae;vt++)if(Bt(B,vt)===Bt(w,-1===It?0:vt-It)){if(-1===It&&(It=vt),vt-It+1===tt)return It*ge}else-1!==It&&(vt-=vt-It),It=-1}else for(m+tt>Ae&&(m=Ae-tt),vt=m;vt>=0;vt--){let It=!0;for(let Gt=0;Gt<tt;Gt++)if(Bt(B,vt+Gt)!==Bt(w,Gt)){It=!1;break}if(It)return vt}return-1}function we(B,w,m,U){m=Number(m)||0;const ne=B.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=w.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const tt=parseInt(w.substr(2*Ae,2),16);if(Et(tt))return Ae;B[m+Ae]=tt}return Ae}function xe(B,w,m,U){return $e(oe(w,B.length-m),B,m,U)}function Ce(B,w,m,U){return $e(function fe(B){const w=[];for(let m=0;m<B.length;++m)w.push(255&B.charCodeAt(m));return w}(w),B,m,U)}function C(B,w,m,U){return $e(Re(w),B,m,U)}function a(B,w,m,U){return $e(function Ee(B,w){let m,U,ne;const ge=[];for(let Ae=0;Ae<B.length&&!((w-=2)<0);++Ae)m=B.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(w,B.length-m),B,m,U)}function u(B,w,m){return f.fromByteArray(0===w&&m===B.length?B:B.slice(w,m))}function y(B,w,m){m=Math.min(B.length,m);const U=[];let ne=w;for(;ne<m;){const ge=B[ne];let Ae=null,tt=ge>239?4:ge>223?3:ge>191?2:1;if(ne+tt<=m){let Bt,vt,It,Gt;switch(tt){case 1:ge<128&&(Ae=ge);break;case 2:Bt=B[ne+1],128==(192&Bt)&&(Gt=(31&ge)<<6|63&Bt,Gt>127&&(Ae=Gt));break;case 3:Bt=B[ne+1],vt=B[ne+2],128==(192&Bt)&&128==(192&vt)&&(Gt=(15&ge)<<12|(63&Bt)<<6|63&vt,Gt>2047&&(Gt<55296||Gt>57343)&&(Ae=Gt));break;case 4:Bt=B[ne+1],vt=B[ne+2],It=B[ne+3],128==(192&Bt)&&128==(192&vt)&&128==(192&It)&&(Gt=(15&ge)<<18|(63&Bt)<<12|(63&vt)<<6|63&It,Gt>65535&&Gt<1114112&&(Ae=Gt))}}null===Ae?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=tt}return function S(B){const w=B.length;if(w<=g)return String.fromCharCode.apply(String,B);let m="",U=0;for(;U<w;)m+=String.fromCharCode.apply(String,B.slice(U,U+=g));return m}(U)}z.kMaxLength=H,!(M.TYPED_ARRAY_SUPPORT=function x(){try{const B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(B,w,m){return O(B,w,m)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(B,w,m){return function L(B,w,m){return F(B),B<=0?P(B):void 0!==w?"string"==typeof m?P(B).fill(w,m):P(B).fill(w):P(B)}(B,w,m)},M.allocUnsafe=function(B){return D(B)},M.allocUnsafeSlow=function(B){return D(B)},M.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==M.prototype},M.compare=function(w,m){if(Fe(w,Uint8Array)&&(w=M.from(w,w.offset,w.byteLength)),Fe(m,Uint8Array)&&(m=M.from(m,m.offset,m.byteLength)),!M.isBuffer(w)||!M.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;let U=w.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(w[ge]!==m[ge]){U=w[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},M.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return M.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<w.length;++U)m+=w[U].length;const ne=M.allocUnsafe(m);let ge=0;for(U=0;U<w.length;++U){let Ae=w[U];if(Fe(Ae,Uint8Array))ge+Ae.length>ne.length?(M.isBuffer(Ae)||(Ae=M.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!M.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},M.byteLength=ie,M.prototype._isBuffer=!0,M.prototype.swap16=function(){const w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<w;m+=2)se(this,m,m+1);return this},M.prototype.swap32=function(){const w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<w;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},M.prototype.swap64=function(){const w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<w;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){const w=this.length;return 0===w?"":0===arguments.length?y(this,0,w):ae.apply(this,arguments)},M.prototype.equals=function(w){if(!M.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===M.compare(this,w)},M.prototype.inspect=function(){let w="";const m=z.INSPECT_MAX_BYTES;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},k&&(M.prototype[k]=M.prototype.inspect),M.prototype.compare=function(w,m,U,ne,ge){if(Fe(w,Uint8Array)&&(w=M.from(w,w.offset,w.byteLength)),!M.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===U&&(U=w?w.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>w.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===w)return 0;let Ae=(ge>>>=0)-(ne>>>=0),tt=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,tt),vt=this.slice(ne,ge),It=w.slice(m,U);for(let Gt=0;Gt<Bt;++Gt)if(vt[Gt]!==It[Gt]){Ae=vt[Gt],tt=It[Gt];break}return Ae<tt?-1:tt<Ae?1:0},M.prototype.includes=function(w,m,U){return-1!==this.indexOf(w,m,U)},M.prototype.indexOf=function(w,m,U){return de(this,w,m,U,!0)},M.prototype.lastIndexOf=function(w,m,U){return de(this,w,m,U,!1)},M.prototype.write=function(w,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),w.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return we(this,w,m,U);case"utf8":case"utf-8":return xe(this,w,m,U);case"ascii":case"latin1":case"binary":return Ce(this,w,m,U);case"base64":return C(this,w,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,w,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(127&B[ne]);return U}function N(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(B[ne]);return U}function A(B,w,m){const U=B.length;(!w||w<0)&&(w=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=w;ge<m;++ge)ne+=We[B[ge]];return ne}function s(B,w,m){const U=B.slice(w,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(B,w,m){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+w>m)throw new RangeError("Trying to access beyond buffer length")}function W(B,w,m,U,ne,ge){if(!M.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>ne||w<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>B.length)throw new RangeError("Index out of range")}function K(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,m}function ee(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m+7]=ge,ge>>=8,B[m+6]=ge,ge>>=8,B[m+5]=ge,ge>>=8,B[m+4]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m+3]=Ae,Ae>>=8,B[m+2]=Ae,Ae>>=8,B[m+1]=Ae,Ae>>=8,B[m]=Ae,m+8}function ce(B,w,m,U,ne,ge){if(m+U>B.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,4),_.write(B,w,m,U,23,4),m+4}function Oe(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,8),_.write(B,w,m,U,52,8),m+8}M.prototype.slice=function(w,m){const U=this.length;(w=~~w)<0?(w+=U)<0&&(w=0):w>U&&(w=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<w&&(m=w);const ne=this.subarray(w,m);return Object.setPrototypeOf(ne,M.prototype),ne},M.prototype.readUintLE=M.prototype.readUIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ne},M.prototype.readUintBE=M.prototype.readUIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[w+--m]*ge;return ne},M.prototype.readUint8=M.prototype.readUInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),this[w]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]|this[w+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]<<8|this[w+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},M.prototype.readBigUInt64LE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m+256*this[++w]+65536*this[++w]+this[++w]*2**24,ge=this[++w]+256*this[++w]+65536*this[++w]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),M.prototype.readBigUInt64BE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m*2**24+65536*this[++w]+256*this[++w]+this[++w],ge=this[++w]*2**24+65536*this[++w]+256*this[++w]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),M.prototype.readIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},M.prototype.readIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=m,ge=1,Ae=this[w+--ne];for(;ne>0&&(ge*=256);)Ae+=this[w+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},M.prototype.readInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},M.prototype.readInt16LE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w]|this[w+1]<<8;return 32768&U?4294901760|U:U},M.prototype.readInt16BE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w+1]|this[w]<<8;return 32768&U?4294901760|U:U},M.prototype.readInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},M.prototype.readInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},M.prototype.readBigInt64LE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];return(void 0===m||void 0===U)&&pe(w,this.length-8),(BigInt(this[w+4]+256*this[w+5]+65536*this[w+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++w]+65536*this[++w]+this[++w]*2**24)}),M.prototype.readBigInt64BE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=(m<<24)+65536*this[++w]+256*this[++w]+this[++w];return(BigInt(ne)<<BigInt(32))+BigInt(this[++w]*2**24+65536*this[++w]+256*this[++w]+U)}),M.prototype.readFloatLE=function(w,m){return w>>>=0,m||v(w,4,this.length),_.read(this,w,!0,23,4)},M.prototype.readFloatBE=function(w,m){return w>>>=0,m||v(w,4,this.length),_.read(this,w,!1,23,4)},M.prototype.readDoubleLE=function(w,m){return w>>>=0,m||v(w,8,this.length),_.read(this,w,!0,52,8)},M.prototype.readDoubleBE=function(w,m){return w>>>=0,m||v(w,8,this.length),_.read(this,w,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&w;++Ae<U&&(ge*=256);)this[m+Ae]=w/ge&255;return m+U},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)this[m+ge]=w/Ae&255;return m+U},M.prototype.writeUint8=M.prototype.writeUInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,255,0),this[m]=255&w,m+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},M.prototype.writeBigUInt64LE=Le(function(w,m=0){return K(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Le(function(w,m=0){return ee(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=0,Ae=1,tt=0;for(this[m]=255&w;++ge<U&&(Ae*=256);)w<0&&0===tt&&0!==this[m+ge-1]&&(tt=1),this[m+ge]=(w/Ae|0)-tt&255;return m+U},M.prototype.writeIntBE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,tt=0;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)w<0&&0===tt&&0!==this[m+ge+1]&&(tt=1),this[m+ge]=(w/Ae|0)-tt&255;return m+U},M.prototype.writeInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},M.prototype.writeInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},M.prototype.writeInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},M.prototype.writeInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},M.prototype.writeInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},M.prototype.writeBigInt64LE=Le(function(w,m=0){return K(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Le(function(w,m=0){return ee(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeFloatLE=function(w,m,U){return _e(this,w,m,!0,U)},M.prototype.writeFloatBE=function(w,m,U){return _e(this,w,m,!1,U)},M.prototype.writeDoubleLE=function(w,m,U){return Oe(this,w,m,!0,U)},M.prototype.writeDoubleBE=function(w,m,U){return Oe(this,w,m,!1,U)},M.prototype.copy=function(w,m,U,ne){if(!M.isBuffer(w))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=w.length&&(m=w.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),w.length-m<ne-U&&(ne=w.length-m+U);const ge=ne-U;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(w,this.subarray(U,ne),m),ge},M.prototype.fill=function(w,m,U,ne){if("string"==typeof w){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!M.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===w.length){const Ae=w.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(w=Ae)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,w||(w=0),"number"==typeof w)for(ge=m;ge<U;++ge)this[ge]=w;else{const Ae=M.isBuffer(w)?w:M.from(w,ne),tt=Ae.length;if(0===tt)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%tt]}return this};const Ve={};function Se(B,w,m){Ve[B]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function be(B){let w="",m=B.length;const U="-"===B[0]?1:0;for(;m>=U+4;m-=3)w=`_${B.slice(m-3,m)}${w}`;return`${B.slice(0,m)}${w}`}function ye(B,w,m,U,ne,ge){if(B>m||B<w){const Ae="bigint"==typeof w?"n":"";let tt;throw tt=ge>3?0===w||w===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${w}${Ae} and <= ${m}${Ae}`,new Ve.ERR_OUT_OF_RANGE("value",tt,B)}!function Ue(B,w,m){De(w,"offset"),(void 0===B[w]||void 0===B[w+m])&&pe(w,B.length-(m+1))}(U,ne,ge)}function De(B,w){if("number"!=typeof B)throw new Ve.ERR_INVALID_ARG_TYPE(w,"number",B)}function pe(B,w,m){throw Math.floor(B)!==B?(De(B,m),new Ve.ERR_OUT_OF_RANGE(m||"offset","an integer",B)):w<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${w}`,B)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(B,w){return`The "${B}" argument must be of type number. Received type ${typeof w}`},TypeError),Se("ERR_OUT_OF_RANGE",function(B,w,m){let U=`The value of "${B}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=be(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=be(ne)),ne+="n"),U+=` It must be ${w}. Received ${ne}`,U},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function oe(B,w){let m;w=w||1/0;const U=B.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=B.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(w-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(w-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(w-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(w-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((w-=1)<0)break;ge.push(m)}else if(m<2048){if((w-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function Re(B){return f.toByteArray(function Q(B){if((B=(B=B.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function $e(B,w,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=w.length||ne>=B.length);++ne)w[ne+m]=B[ne];return ne}function Fe(B,w){return B instanceof w||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===w.name}function Et(B){return B!=B}const We=function(){const B="0123456789abcdef",w=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)w[U+ne]=B[m]+B[ne]}return w}();function Le(B){return typeof BigInt>"u"?lt:B}function lt(){throw new Error("BigInt not supported")}},49609:(je,z,E)=>{var f=z;f.bignum=E(96867),f.define=E(16626).define,f.base=E(15066),f.constants=E(47740),f.decoders=E(91558),f.encoders=E(22714)},16626:(je,z,E)=>{var f=E(49609),_=E(71993);function H(x,P){this.name=x,this.body=P,this.decoders={},this.encoders={}}z.define=function(P,M){return new H(P,M)},H.prototype._createNamed=function(P){var M;try{M=Object(function(){var F=new Error("Cannot find module 'vm'");throw F.code="MODULE_NOT_FOUND",F}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{M=function(F){this._initNamed(F)}}return _(M,P),M.prototype._initNamed=function(F){P.call(this,F)},new M(this)},H.prototype._getDecoder=function(P){return this.decoders.hasOwnProperty(P=P||"der")||(this.decoders[P]=this._createNamed(f.decoders[P])),this.decoders[P]},H.prototype.decode=function(P,M,O){return this._getDecoder(M).decode(P,O)},H.prototype._getEncoder=function(P){return this.encoders.hasOwnProperty(P=P||"der")||(this.encoders[P]=this._createNamed(f.encoders[P])),this.encoders[P]},H.prototype.encode=function(P,M,O){return this._getEncoder(M).encode(P,O)}},97290:(je,z,E)=>{var f=E(71993),_=E(15066).Reporter,k=E(83838).Buffer;function H(P,M){_.call(this,M),k.isBuffer(P)?(this.base=P,this.offset=0,this.length=P.length):this.error("Input not Buffer")}function x(P,M){if(Array.isArray(P))this.length=0,this.value=P.map(function(O){return O instanceof x||(O=new x(O,M)),this.length+=O.length,O},this);else if("number"==typeof P){if(!(0<=P&&P<=255))return M.error("non-byte EncoderBuffer value");this.value=P,this.length=1}else if("string"==typeof P)this.value=P,this.length=k.byteLength(P);else{if(!k.isBuffer(P))return M.error("Unsupported type: "+typeof P);this.value=P,this.length=P.length}}f(H,_),z.t=H,H.prototype.save=function(){return{offset:this.offset,reporter:_.prototype.save.call(this)}},H.prototype.restore=function(M){var O=new H(this.base);return O.offset=M.offset,O.length=this.offset,this.offset=M.offset,_.prototype.restore.call(this,M.reporter),O},H.prototype.isEmpty=function(){return this.offset===this.length},H.prototype.readUInt8=function(M){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(M||"DecoderBuffer overrun")},H.prototype.skip=function(M,O){if(!(this.offset+M<=this.length))return this.error(O||"DecoderBuffer overrun");var F=new H(this.base);return F._reporterState=this._reporterState,F.offset=this.offset,F.length=this.offset+M,this.offset+=M,F},H.prototype.raw=function(M){return this.base.slice(M?M.offset:this.offset,this.length)},z.d=x,x.prototype.join=function(M,O){return M||(M=new k(this.length)),O||(O=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(F){F.join(M,O),O+=F.length}):("number"==typeof this.value?M[O]=this.value:"string"==typeof this.value?M.write(this.value,O):k.isBuffer(this.value)&&this.value.copy(M,O),O+=this.length)),M}},15066:(je,z,E)=>{var f=z;f.Reporter=E(85697).a,f.DecoderBuffer=E(97290).t,f.EncoderBuffer=E(97290).d,f.Node=E(34320)},34320:(je,z,E)=>{var f=E(15066).Reporter,_=E(15066).EncoderBuffer,k=E(15066).DecoderBuffer,H=E(39210),x=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],P=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(x);function O(L,D){var X={};this._baseState=X,X.enc=L,X.parent=D||null,X.children=null,X.tag=null,X.args=null,X.reverseArgs=null,X.choice=null,X.optional=!1,X.any=!1,X.obj=!1,X.use=null,X.useDecoder=null,X.key=null,X.default=null,X.explicit=null,X.implicit=null,X.contains=null,X.parent||(X.children=[],this._wrap())}je.exports=O;var F=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];O.prototype.clone=function(){var D=this._baseState,X={};F.forEach(function(G){X[G]=D[G]});var j=new this.constructor(X.parent);return j._baseState=X,j},O.prototype._wrap=function(){var D=this._baseState;P.forEach(function(X){this[X]=function(){var G=new this.constructor(this);return D.children.push(G),G[X].apply(G,arguments)}},this)},O.prototype._init=function(D){var X=this._baseState;H(null===X.parent),D.call(this),X.children=X.children.filter(function(j){return j._baseState.parent===this},this),H.equal(X.children.length,1,"Root node can have only one child")},O.prototype._useArgs=function(D){var X=this._baseState,j=D.filter(function(G){return G instanceof this.constructor},this);D=D.filter(function(G){return!(G instanceof this.constructor)},this),0!==j.length&&(H(null===X.children),X.children=j,j.forEach(function(G){G._baseState.parent=this},this)),0!==D.length&&(H(null===X.args),X.args=D,X.reverseArgs=D.map(function(G){if("object"!=typeof G||G.constructor!==Object)return G;var re={};return Object.keys(G).forEach(function(te){te==(0|te)&&(te|=0),re[G[te]]=te}),re}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(L){O.prototype[L]=function(){throw new Error(L+" not implemented for encoding: "+this._baseState.enc)}}),x.forEach(function(L){O.prototype[L]=function(){var X=this._baseState,j=Array.prototype.slice.call(arguments);return H(null===X.tag),X.tag=L,this._useArgs(j),this}}),O.prototype.use=function(D){H(D);var X=this._baseState;return H(null===X.use),X.use=D,this},O.prototype.optional=function(){return this._baseState.optional=!0,this},O.prototype.def=function(D){var X=this._baseState;return H(null===X.default),X.default=D,X.optional=!0,this},O.prototype.explicit=function(D){var X=this._baseState;return H(null===X.explicit&&null===X.implicit),X.explicit=D,this},O.prototype.implicit=function(D){var X=this._baseState;return H(null===X.explicit&&null===X.implicit),X.implicit=D,this},O.prototype.obj=function(){var D=this._baseState,X=Array.prototype.slice.call(arguments);return D.obj=!0,0!==X.length&&this._useArgs(X),this},O.prototype.key=function(D){var X=this._baseState;return H(null===X.key),X.key=D,this},O.prototype.any=function(){return this._baseState.any=!0,this},O.prototype.choice=function(D){var X=this._baseState;return H(null===X.choice),X.choice=D,this._useArgs(Object.keys(D).map(function(j){return D[j]})),this},O.prototype.contains=function(D){var X=this._baseState;return H(null===X.use),X.contains=D,this},O.prototype._decode=function(D,X){var j=this._baseState;if(null===j.parent)return D.wrapResult(j.children[0]._decode(D,X));var ie,G=j.default,re=!0,te=null;if(null!==j.key&&(te=D.enterKey(j.key)),j.optional){var J=null;if(null!==j.explicit?J=j.explicit:null!==j.implicit?J=j.implicit:null!==j.tag&&(J=j.tag),null!==J||j.any){if(re=this._peekTag(D,J,j.any),D.isError(re))return re}else{var Z=D.save();try{null===j.choice?this._decodeGeneric(j.tag,D,X):this._decodeChoice(D,X),re=!0}catch{re=!1}D.restore(Z)}}if(j.obj&&re&&(ie=D.enterObject()),re){if(null!==j.explicit){var ae=this._decodeTag(D,j.explicit);if(D.isError(ae))return ae;D=ae}var se=D.offset;if(null===j.use&&null===j.choice){j.any&&(Z=D.save());var de=this._decodeTag(D,null!==j.implicit?j.implicit:j.tag,j.any);if(D.isError(de))return de;j.any?G=D.raw(Z):D=de}if(X&&X.track&&null!==j.tag&&X.track(D.path(),se,D.length,"tagged"),X&&X.track&&null!==j.tag&&X.track(D.path(),D.offset,D.length,"content"),j.any||(G=null===j.choice?this._decodeGeneric(j.tag,D,X):this._decodeChoice(D,X)),D.isError(G))return G;if(!j.any&&null===j.choice&&null!==j.children&&j.children.forEach(function(xe){xe._decode(D,X)}),j.contains&&("octstr"===j.tag||"bitstr"===j.tag)){var le=new k(G);G=this._getUse(j.contains,D._reporterState.obj)._decode(le,X)}}return j.obj&&re&&(G=D.leaveObject(ie)),null===j.key||null===G&&!0!==re?null!==te&&D.exitKey(te):D.leaveKey(te,j.key,G),G},O.prototype._decodeGeneric=function(D,X,j){var G=this._baseState;return"seq"===D||"set"===D?null:"seqof"===D||"setof"===D?this._decodeList(X,D,G.args[0],j):/str$/.test(D)?this._decodeStr(X,D,j):"objid"===D&&G.args?this._decodeObjid(X,G.args[0],G.args[1],j):"objid"===D?this._decodeObjid(X,null,null,j):"gentime"===D||"utctime"===D?this._decodeTime(X,D,j):"null_"===D?this._decodeNull(X,j):"bool"===D?this._decodeBool(X,j):"objDesc"===D?this._decodeStr(X,D,j):"int"===D||"enum"===D?this._decodeInt(X,G.args&&G.args[0],j):null!==G.use?this._getUse(G.use,X._reporterState.obj)._decode(X,j):X.error("unknown tag: "+D)},O.prototype._getUse=function(D,X){var j=this._baseState;return j.useDecoder=this._use(D,X),H(null===j.useDecoder._baseState.parent),j.useDecoder=j.useDecoder._baseState.children[0],j.implicit!==j.useDecoder._baseState.implicit&&(j.useDecoder=j.useDecoder.clone(),j.useDecoder._baseState.implicit=j.implicit),j.useDecoder},O.prototype._decodeChoice=function(D,X){var j=this._baseState,G=null,re=!1;return Object.keys(j.choice).some(function(te){var J=D.save(),Z=j.choice[te];try{var ie=Z._decode(D,X);if(D.isError(ie))return!1;G={type:te,value:ie},re=!0}catch{return D.restore(J),!1}return!0},this),re?G:D.error("Choice not matched")},O.prototype._createEncoderBuffer=function(D){return new _(D,this.reporter)},O.prototype._encode=function(D,X,j){var G=this._baseState;if(null===G.default||G.default!==D){var re=this._encodeValue(D,X,j);if(void 0!==re&&!this._skipDefault(re,X,j))return re}},O.prototype._encodeValue=function(D,X,j){var G=this._baseState;if(null===G.parent)return G.children[0]._encode(D,X||new f);var Z=null;if(this.reporter=X,G.optional&&void 0===D){if(null===G.default)return;D=G.default}var re=null,te=!1;if(G.any)Z=this._createEncoderBuffer(D);else if(G.choice)Z=this._encodeChoice(D,X);else if(G.contains)re=this._getUse(G.contains,j)._encode(D,X),te=!0;else if(G.children)re=G.children.map(function(se){if("null_"===se._baseState.tag)return se._encode(null,X,D);if(null===se._baseState.key)return X.error("Child should have a key");var de=X.enterKey(se._baseState.key);if("object"!=typeof D)return X.error("Child expected, but input is not object");var le=se._encode(D[se._baseState.key],X,D);return X.leaveKey(de),le},this).filter(function(se){return se}),re=this._createEncoderBuffer(re);else if("seqof"===G.tag||"setof"===G.tag){if(!G.args||1!==G.args.length)return X.error("Too many args for : "+G.tag);if(!Array.isArray(D))return X.error("seqof/setof, but data is not Array");var J=this.clone();J._baseState.implicit=null,re=this._createEncoderBuffer(D.map(function(se){return this._getUse(this._baseState.args[0],D)._encode(se,X)},J))}else null!==G.use?Z=this._getUse(G.use,j)._encode(D,X):(re=this._encodePrimitive(G.tag,D),te=!0);if(!G.any&&null===G.choice){var ie=null!==G.implicit?G.implicit:G.tag,ae=null===G.implicit?"universal":"context";null===ie?null===G.use&&X.error("Tag could be omitted only for .use()"):null===G.use&&(Z=this._encodeComposite(ie,te,ae,re))}return null!==G.explicit&&(Z=this._encodeComposite(G.explicit,!1,"context",Z)),Z},O.prototype._encodeChoice=function(D,X){var j=this._baseState,G=j.choice[D.type];return G||H(!1,D.type+" not found in "+JSON.stringify(Object.keys(j.choice))),G._encode(D.value,X)},O.prototype._encodePrimitive=function(D,X){var j=this._baseState;if(/str$/.test(D))return this._encodeStr(X,D);if("objid"===D&&j.args)return this._encodeObjid(X,j.reverseArgs[0],j.args[1]);if("objid"===D)return this._encodeObjid(X,null,null);if("gentime"===D||"utctime"===D)return this._encodeTime(X,D);if("null_"===D)return this._encodeNull();if("int"===D||"enum"===D)return this._encodeInt(X,j.args&&j.reverseArgs[0]);if("bool"===D)return this._encodeBool(X);if("objDesc"===D)return this._encodeStr(X,D);throw new Error("Unsupported tag: "+D)},O.prototype._isNumstr=function(D){return/^[0-9 ]*$/.test(D)},O.prototype._isPrintstr=function(D){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(D)}},85697:(je,z,E)=>{var f=E(71993);function _(H){this._reporterState={obj:null,path:[],options:H||{},errors:[]}}function k(H,x){this.path=H,this.rethrow(x)}z.a=_,_.prototype.isError=function(x){return x instanceof k},_.prototype.save=function(){var x=this._reporterState;return{obj:x.obj,pathLen:x.path.length}},_.prototype.restore=function(x){var P=this._reporterState;P.obj=x.obj,P.path=P.path.slice(0,x.pathLen)},_.prototype.enterKey=function(x){return this._reporterState.path.push(x)},_.prototype.exitKey=function(x){var P=this._reporterState;P.path=P.path.slice(0,x-1)},_.prototype.leaveKey=function(x,P,M){var O=this._reporterState;this.exitKey(x),null!==O.obj&&(O.obj[P]=M)},_.prototype.path=function(){return this._reporterState.path.join("/")},_.prototype.enterObject=function(){var x=this._reporterState,P=x.obj;return x.obj={},P},_.prototype.leaveObject=function(x){var P=this._reporterState,M=P.obj;return P.obj=x,M},_.prototype.error=function(x){var P,M=this._reporterState,O=x instanceof k;if(P=O?x:new k(M.path.map(function(F){return"["+JSON.stringify(F)+"]"}).join(""),x.message||x,x.stack),!M.options.partial)throw P;return O||M.errors.push(P),P},_.prototype.wrapResult=function(x){var P=this._reporterState;return P.options.partial?{result:this.isError(x)?null:x,errors:P.errors}:x},f(k,Error),k.prototype.rethrow=function(x){if(this.message=x+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,k),!this.stack)try{throw new Error(this.message)}catch(P){this.stack=P.stack}return this}},36283:(je,z,E)=>{var f=E(47740);z.tagClass={0:"universal",1:"application",2:"context",3:"private"},z.tagClassByName=f._reverse(z.tagClass),z.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},z.tagByName=f._reverse(z.tag)},47740:(je,z,E)=>{var f=z;f._reverse=function(k){var H={};return Object.keys(k).forEach(function(x){(0|x)==x&&(x|=0),H[k[x]]=x}),H},f.der=E(36283)},55941:(je,z,E)=>{var f=E(71993),_=E(49609),k=_.base,H=_.bignum,x=_.constants.der;function P(L){this.enc="der",this.name=L.name,this.entity=L,this.tree=new M,this.tree._init(L.body)}function M(L){k.Node.call(this,"der",L)}function O(L,D){var X=L.readUInt8(D);if(L.isError(X))return X;var j=x.tagClass[X>>6],G=!(32&X);if(31&~X)X&=31;else{var re=X;for(X=0;!(128&~re);){if(re=L.readUInt8(D),L.isError(re))return re;X<<=7,X|=127&re}}return{cls:j,primitive:G,tag:X,tagStr:x.tag[X]}}function F(L,D,X){var j=L.readUInt8(X);if(L.isError(j))return j;if(!D&&128===j)return null;if(!(128&j))return j;var G=127&j;if(G>4)return L.error("length octect is too long");j=0;for(var re=0;re<G;re++){j<<=8;var te=L.readUInt8(X);if(L.isError(te))return te;j|=te}return j}je.exports=P,P.prototype.decode=function(D,X){return D instanceof k.DecoderBuffer||(D=new k.DecoderBuffer(D,X)),this.tree._decode(D,X)},f(M,k.Node),M.prototype._peekTag=function(D,X,j){if(D.isEmpty())return!1;var G=D.save(),re=O(D,'Failed to peek tag: "'+X+'"');return D.isError(re)?re:(D.restore(G),re.tag===X||re.tagStr===X||re.tagStr+"of"===X||j)},M.prototype._decodeTag=function(D,X,j){var G=O(D,'Failed to decode tag of "'+X+'"');if(D.isError(G))return G;var re=F(D,G.primitive,'Failed to get length of "'+X+'"');if(D.isError(re))return re;if(!j&&G.tag!==X&&G.tagStr!==X&&G.tagStr+"of"!==X)return D.error('Failed to match tag: "'+X+'"');if(G.primitive||null!==re)return D.skip(re,'Failed to match body of: "'+X+'"');var te=D.save(),J=this._skipUntilEnd(D,'Failed to skip indefinite length body: "'+this.tag+'"');return D.isError(J)?J:(re=D.offset-te.offset,D.restore(te),D.skip(re,'Failed to match body of: "'+X+'"'))},M.prototype._skipUntilEnd=function(D,X){for(;;){var j=O(D,X);if(D.isError(j))return j;var re,G=F(D,j.primitive,X);if(D.isError(G))return G;if(re=j.primitive||null!==G?D.skip(G):this._skipUntilEnd(D,X),D.isError(re))return re;if("end"===j.tagStr)break}},M.prototype._decodeList=function(D,X,j,G){for(var re=[];!D.isEmpty();){var te=this._peekTag(D,"end");if(D.isError(te))return te;var J=j.decode(D,"der",G);if(D.isError(J)&&te)break;re.push(J)}return re},M.prototype._decodeStr=function(D,X){if("bitstr"===X){var j=D.readUInt8();return D.isError(j)?j:{unused:j,data:D.raw()}}if("bmpstr"===X){var G=D.raw();if(G.length%2==1)return D.error("Decoding of string type: bmpstr length mismatch");for(var re="",te=0;te<G.length/2;te++)re+=String.fromCharCode(G.readUInt16BE(2*te));return re}if("numstr"===X){var J=D.raw().toString("ascii");return this._isNumstr(J)?J:D.error("Decoding of string type: numstr unsupported characters")}if("octstr"===X)return D.raw();if("objDesc"===X)return D.raw();if("printstr"===X){var Z=D.raw().toString("ascii");return this._isPrintstr(Z)?Z:D.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(X)?D.raw().toString():D.error("Decoding of string type: "+X+" unsupported")},M.prototype._decodeObjid=function(D,X,j){for(var G,re=[],te=0;!D.isEmpty();){var J=D.readUInt8();te<<=7,te|=127&J,128&J||(re.push(te),te=0)}if(128&J&&re.push(te),G=j?re:[re[0]/40|0,re[0]%40].concat(re.slice(1)),X){var ae=X[G.join(" ")];void 0===ae&&(ae=X[G.join(".")]),void 0!==ae&&(G=ae)}return G},M.prototype._decodeTime=function(D,X){var j=D.raw().toString();if("gentime"===X)var G=0|j.slice(0,4),re=0|j.slice(4,6),te=0|j.slice(6,8),J=0|j.slice(8,10),Z=0|j.slice(10,12),ie=0|j.slice(12,14);else{if("utctime"!==X)return D.error("Decoding "+X+" time is not supported yet");G=0|j.slice(0,2),re=0|j.slice(2,4),te=0|j.slice(4,6),J=0|j.slice(6,8),Z=0|j.slice(8,10),ie=0|j.slice(10,12),G=G<70?2e3+G:1900+G}return Date.UTC(G,re-1,te,J,Z,ie,0)},M.prototype._decodeNull=function(D){return null},M.prototype._decodeBool=function(D){var X=D.readUInt8();return D.isError(X)?X:0!==X},M.prototype._decodeInt=function(D,X){var j=D.raw(),G=new H(j);return X&&(G=X[G.toString(10)]||G),G},M.prototype._use=function(D,X){return"function"==typeof D&&(D=D(X)),D._getDecoder("der").tree}},91558:(je,z,E)=>{var f=z;f.der=E(55941),f.pem=E(59316)},59316:(je,z,E)=>{var f=E(71993),_=E(83838).Buffer,k=E(55941);function H(x){k.call(this,x),this.enc="pem"}f(H,k),je.exports=H,H.prototype.decode=function(P,M){for(var O=P.toString().split(/[\r\n]+/g),F=M.label.toUpperCase(),L=/^-----(BEGIN|END) ([^-]+)-----$/,D=-1,X=-1,j=0;j<O.length;j++){var G=O[j].match(L);if(null!==G&&G[2]===F){if(-1!==D){if("END"!==G[1])break;X=j;break}if("BEGIN"!==G[1])break;D=j}}if(-1===D||-1===X)throw new Error("PEM section not found for: "+F);var re=O.slice(D+1,X).join("");re.replace(/[^a-z0-9\+\/=]+/gi,"");var te=new _(re,"base64");return k.prototype.decode.call(this,te,M)}},72193:(je,z,E)=>{var f=E(71993),_=E(83838).Buffer,k=E(49609),H=k.base,x=k.constants.der;function P(L){this.enc="der",this.name=L.name,this.entity=L,this.tree=new M,this.tree._init(L.body)}function M(L){H.Node.call(this,"der",L)}function O(L){return L<10?"0"+L:L}je.exports=P,P.prototype.encode=function(D,X){return this.tree._encode(D,X).join()},f(M,H.Node),M.prototype._encodeComposite=function(D,X,j,G){var Z,re=function F(L,D,X,j){var G;if("seqof"===L?L="seq":"setof"===L&&(L="set"),x.tagByName.hasOwnProperty(L))G=x.tagByName[L];else{if("number"!=typeof L||(0|L)!==L)return j.error("Unknown tag: "+L);G=L}return G>=31?j.error("Multi-octet tag encoding unsupported"):(D||(G|=32),G|=x.tagClassByName[X||"universal"]<<6)}(D,X,j,this.reporter);if(G.length<128)return(Z=new _(2))[0]=re,Z[1]=G.length,this._createEncoderBuffer([Z,G]);for(var te=1,J=G.length;J>=256;J>>=8)te++;(Z=new _(2+te))[0]=re,Z[1]=128|te,J=1+te;for(var ie=G.length;ie>0;J--,ie>>=8)Z[J]=255&ie;return this._createEncoderBuffer([Z,G])},M.prototype._encodeStr=function(D,X){if("bitstr"===X)return this._createEncoderBuffer([0|D.unused,D.data]);if("bmpstr"===X){for(var j=new _(2*D.length),G=0;G<D.length;G++)j.writeUInt16BE(D.charCodeAt(G),2*G);return this._createEncoderBuffer(j)}return"numstr"===X?this._isNumstr(D)?this._createEncoderBuffer(D):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===X?this._isPrintstr(D)?this._createEncoderBuffer(D):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(X)||"objDesc"===X?this._createEncoderBuffer(D):this.reporter.error("Encoding of string type: "+X+" unsupported")},M.prototype._encodeObjid=function(D,X,j){if("string"==typeof D){if(!X)return this.reporter.error("string objid given, but no values map found");if(!X.hasOwnProperty(D))return this.reporter.error("objid not found in values map");D=X[D].split(/[\s\.]+/g);for(var G=0;G<D.length;G++)D[G]|=0}else if(Array.isArray(D))for(D=D.slice(),G=0;G<D.length;G++)D[G]|=0;if(!Array.isArray(D))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(D));if(!j){if(D[1]>=40)return this.reporter.error("Second objid identifier OOB");D.splice(0,2,40*D[0]+D[1])}var re=0;for(G=0;G<D.length;G++){var te=D[G];for(re++;te>=128;te>>=7)re++}var J=new _(re),Z=J.length-1;for(G=D.length-1;G>=0;G--)for(J[Z--]=127&(te=D[G]);(te>>=7)>0;)J[Z--]=128|127&te;return this._createEncoderBuffer(J)},M.prototype._encodeTime=function(D,X){var j,G=new Date(D);return"gentime"===X?j=[O(G.getFullYear()),O(G.getUTCMonth()+1),O(G.getUTCDate()),O(G.getUTCHours()),O(G.getUTCMinutes()),O(G.getUTCSeconds()),"Z"].join(""):"utctime"===X?j=[O(G.getFullYear()%100),O(G.getUTCMonth()+1),O(G.getUTCDate()),O(G.getUTCHours()),O(G.getUTCMinutes()),O(G.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+X+" time is not supported yet"),this._encodeStr(j,"octstr")},M.prototype._encodeNull=function(){return this._createEncoderBuffer("")},M.prototype._encodeInt=function(D,X){if("string"==typeof D){if(!X)return this.reporter.error("String int or enum given, but no values map");if(!X.hasOwnProperty(D))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(D));D=X[D]}if("number"!=typeof D&&!_.isBuffer(D)){var j=D.toArray();!D.sign&&128&j[0]&&j.unshift(0),D=new _(j)}if(_.isBuffer(D)){var G=D.length;0===D.length&&G++;var te=new _(G);return D.copy(te),0===D.length&&(te[0]=0),this._createEncoderBuffer(te)}if(D<128)return this._createEncoderBuffer(D);if(D<256)return this._createEncoderBuffer([0,D]);G=1;for(var re=D;re>=256;re>>=8)G++;for(re=(te=new Array(G)).length-1;re>=0;re--)te[re]=255&D,D>>=8;return 128&te[0]&&te.unshift(0),this._createEncoderBuffer(new _(te))},M.prototype._encodeBool=function(D){return this._createEncoderBuffer(D?255:0)},M.prototype._use=function(D,X){return"function"==typeof D&&(D=D(X)),D._getEncoder("der").tree},M.prototype._skipDefault=function(D,X,j){var re,G=this._baseState;if(null===G.default)return!1;var te=D.join();if(void 0===G.defaultBuffer&&(G.defaultBuffer=this._encodeValue(G.default,X,j).join()),te.length!==G.defaultBuffer.length)return!1;for(re=0;re<te.length;re++)if(te[re]!==G.defaultBuffer[re])return!1;return!0}},22714:(je,z,E)=>{var f=z;f.der=E(72193),f.pem=E(24816)},24816:(je,z,E)=>{var f=E(71993),_=E(72193);function k(H){_.call(this,H),this.enc="pem"}f(k,_),je.exports=k,k.prototype.encode=function(x,P){for(var O=_.prototype.encode.call(this,x).toString("base64"),F=["-----BEGIN "+P.label+"-----"],L=0;L<O.length;L+=64)F.push(O.slice(L,L+64));return F.push("-----END "+P.label+"-----"),F.join("\n")}},96867:function(je,z,E){!function(f,_){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var P;"object"==typeof f?f.exports=x:_.BN=x,x.BN=x,x.wordSize=26;try{P=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(78982).Buffer}catch{}function M(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=M(C,u);return u-1>=a&&(y|=M(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,A=Math.min(T,T-N)+y,s=0,v=y;v<A;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,A=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=A>>>26,W=67108863&A,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,A=0|v}return 0!==A?u.words[s]=0|A:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],A=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-A.length]+A+y:A+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof P<"u"),this.toArrayLike(P,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var A,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[s]=A;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[S-s-1]=A}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var A,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,be=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,Et=0|g[7],We=8191&Et,Le=Et>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,tt=ge>>>13,Bt=0|S[1],vt=8191&Bt,It=Bt>>>13,Gt=0|S[2],hn=8191&Gt,dn=Gt>>>13,ar=0|S[3],An=8191&ar,en=ar>>>13,Qt=0|S[4],_t=8191&Qt,ft=Qt>>>13,Wt=0|S[5],qt=8191&Wt,pn=Wt>>>13,fr=0|S[6],gt=8191&fr,Mt=fr>>>13,St=0|S[7],Ye=8191&St,nt=St>>>13,Ht=0|S[8],Nt=8191&Ht,un=Ht>>>13,Wn=0|S[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^u.negative,y.length=19;var Or=(N+(A=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,A=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(N+(A=A+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,A=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(be,Ae)|0,v=Math.imul(be,tt),A=A+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(N+(A=A+Math.imul(K,hn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,hn)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,A=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),A=A+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,It)|0,A=A+Math.imul(_e,hn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,hn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(N+(A=A+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;N=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,A=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),A=A+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,It)|0,A=A+Math.imul(Se,hn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,hn)|0,v=v+Math.imul(be,dn)|0,A=A+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(N+(A=A+Math.imul(K,_t)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,_t)|0))<<13)|0;N=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,A=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),A=A+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,It)|0,A=A+Math.imul(ye,hn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,hn)|0,v=v+Math.imul(De,dn)|0,A=A+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(be,An)|0,v=v+Math.imul(be,en)|0,A=A+Math.imul(_e,_t)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,_t)|0,v=v+Math.imul(Oe,ft)|0;var Te=(N+(A=A+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,pn)|0)+Math.imul(ee,qt)|0))<<13)|0;N=((v=v+Math.imul(ee,pn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,A=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),A=A+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,It)|0,A=A+Math.imul(ue,hn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,hn)|0,v=v+Math.imul(Q,dn)|0,A=A+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,A=A+Math.imul(Se,_t)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(be,_t)|0,v=v+Math.imul(be,ft)|0,A=A+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,pn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,pn)|0;var Be=(N+(A=A+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mt)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,Mt)|0)+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,A=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),A=A+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,It)|0,A=A+Math.imul(fe,hn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,hn)|0,v=v+Math.imul(Ee,dn)|0,A=A+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,A=A+Math.imul(ye,_t)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,_t)|0,v=v+Math.imul(De,ft)|0,A=A+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,pn)|0)+Math.imul(be,qt)|0,v=v+Math.imul(be,pn)|0,A=A+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,Mt)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,Mt)|0;var xt=(N+(A=A+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,A=Math.imul(B,Ae),s=(s=Math.imul(B,tt))+Math.imul(w,Ae)|0,v=Math.imul(w,tt),A=A+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,It)|0,A=A+Math.imul($e,hn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,hn)|0,v=v+Math.imul(Fe,dn)|0,A=A+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,A=A+Math.imul(ue,_t)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,_t)|0,v=v+Math.imul(Q,ft)|0,A=A+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,pn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,pn)|0,A=A+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,Mt)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,Mt)|0,A=A+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(N+(A=A+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;N=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,A=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),A=A+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,It)|0,A=A+Math.imul(We,hn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,hn)|0,v=v+Math.imul(Le,dn)|0,A=A+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,A=A+Math.imul(fe,_t)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,_t)|0,v=v+Math.imul(Ee,ft)|0,A=A+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,pn)|0,A=A+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,Mt)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,Mt)|0,A=A+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Ye)|0,v=v+Math.imul(be,nt)|0,A=A+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(N+(A=A+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;N=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,A=Math.imul(U,vt),s=(s=Math.imul(U,It))+Math.imul(ne,vt)|0,v=Math.imul(ne,It),A=A+Math.imul(B,hn)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,hn)|0,v=v+Math.imul(w,dn)|0,A=A+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,A=A+Math.imul($e,_t)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,_t)|0,v=v+Math.imul(Fe,ft)|0,A=A+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,pn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,pn)|0,A=A+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,Mt)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,Mt)|0,A=A+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,A=A+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(be,Nt)|0,v=v+Math.imul(be,un)|0;var Kn=(N+(A=A+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;N=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(U,hn),s=(s=Math.imul(U,dn))+Math.imul(ne,hn)|0,v=Math.imul(ne,dn),A=A+Math.imul(B,An)|0,s=(s=s+Math.imul(B,en)|0)+Math.imul(w,An)|0,v=v+Math.imul(w,en)|0,A=A+Math.imul(We,_t)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,_t)|0,v=v+Math.imul(Le,ft)|0,A=A+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,pn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,pn)|0,A=A+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,Mt)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,Mt)|0,A=A+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,A=A+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var tr=(N+(A=A+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(be,En)|0))<<13)|0;N=((v=v+Math.imul(be,kn)|0)+(s>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),A=A+Math.imul(B,_t)|0,s=(s=s+Math.imul(B,ft)|0)+Math.imul(w,_t)|0,v=v+Math.imul(w,ft)|0,A=A+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,pn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,pn)|0,A=A+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,Mt)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,Mt)|0,A=A+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,A=A+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var Dr=(N+(A=A+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;N=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,A=Math.imul(U,_t),s=(s=Math.imul(U,ft))+Math.imul(ne,_t)|0,v=Math.imul(ne,ft),A=A+Math.imul(B,qt)|0,s=(s=s+Math.imul(B,pn)|0)+Math.imul(w,qt)|0,v=v+Math.imul(w,pn)|0,A=A+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,Mt)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,Mt)|0,A=A+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,A=A+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Mr=(N+(A=A+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;N=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,A=Math.imul(U,qt),s=(s=Math.imul(U,pn))+Math.imul(ne,qt)|0,v=Math.imul(ne,pn),A=A+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,Mt)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,Mt)|0,A=A+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,A=A+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Ir=(N+(A=A+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;N=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,A=Math.imul(U,gt),s=(s=Math.imul(U,Mt))+Math.imul(ne,gt)|0,v=Math.imul(ne,Mt),A=A+Math.imul(B,Ye)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Ye)|0,v=v+Math.imul(w,nt)|0,A=A+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(N+(A=A+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;N=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,A=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),A=A+Math.imul(B,Nt)|0,s=(s=s+Math.imul(B,un)|0)+Math.imul(w,Nt)|0,v=v+Math.imul(w,un)|0;var ni=(N+(A=A+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;N=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(ni>>>26)|0,ni&=67108863,A=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(N+(A=A+Math.imul(B,En)|0)|0)+((8191&(s=(s=s+Math.imul(B,kn)|0)+Math.imul(w,En)|0))<<13)|0;N=((v=v+Math.imul(w,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(N+(A=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return N=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Be,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=tr,T[12]=Dr,T[13]=Mr,T[14]=Ir,T[15]=jr,T[16]=ni,T[17]=tn,T[18]=_n,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Z).mulp(C,a,u)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,A=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=A;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Z.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Z.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Z.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Z.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var A=N<<1,s=Math.cos(2*Math.PI/A),v=Math.sin(2*Math.PI/A),W=0;W<S;W+=A)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+N],Se=g[W+ce+N],be=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=be),g[W+ce]=Oe+Se,y[W+ce+N]=_e-Ve,g[W+ce+N]=Oe-Se,ce!==A&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Z.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Z.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Z.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Z.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Z.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Z.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),A=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,A,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=A[ce]*W[ce]-s[ce]*K[ce];s[ce]=A[ce]*K[ce]+s[ce]*W[ce],A[ce]=_e}return this.conjugate(A,s,g),this.transform(A,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,A=y;if(g-=T,g=Math.max(0,g),A){for(var s=0;s<T;s++)A.words[s]=this.words[s];A.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return A&&0!==v&&(A.words[A.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var A=(0|a.words[S])*u;N=((T-=67108863&A)>>26)-(A/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,A=g.length-S.length;if("mod"!==u){(s=new x(null)).length=A+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,A);0===W.negative&&(g=W,s&&(s.words[A]=1));for(var K=A-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),A=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++A;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(A)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,A=1;!(u.words[0]&A)&&N<26;++N,A<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(ie[a])return ie[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return ie[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),A=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,A).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,A=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++A||0===S&&0===W)&&(T=this.mul(T,g[N]),A=0,N=0)):A=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=E.nmd(je),this)},13981:(je,z)=>{"use strict";z.byteLength=function M(j){var G=P(j),te=G[1];return 3*(G[0]+te)/4-te},z.toByteArray=function F(j){var G,se,re=P(j),te=re[0],J=re[1],Z=new _(function O(j,G,re){return 3*(G+re)/4-re}(0,te,J)),ie=0,ae=J>0?te-4:te;for(se=0;se<ae;se+=4)G=f[j.charCodeAt(se)]<<18|f[j.charCodeAt(se+1)]<<12|f[j.charCodeAt(se+2)]<<6|f[j.charCodeAt(se+3)],Z[ie++]=G>>16&255,Z[ie++]=G>>8&255,Z[ie++]=255&G;return 2===J&&(G=f[j.charCodeAt(se)]<<2|f[j.charCodeAt(se+1)]>>4,Z[ie++]=255&G),1===J&&(G=f[j.charCodeAt(se)]<<10|f[j.charCodeAt(se+1)]<<4|f[j.charCodeAt(se+2)]>>2,Z[ie++]=G>>8&255,Z[ie++]=255&G),Z},z.fromByteArray=function X(j){for(var G,re=j.length,te=re%3,J=[],Z=16383,ie=0,ae=re-te;ie<ae;ie+=Z)J.push(D(j,ie,ie+Z>ae?ae:ie+Z));return 1===te?J.push(E[(G=j[re-1])>>2]+E[G<<4&63]+"=="):2===te&&J.push(E[(G=(j[re-2]<<8)+j[re-1])>>10]+E[G>>4&63]+E[G<<2&63]+"="),J.join("")};for(var E=[],f=[],_=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=0;H<64;++H)E[H]=k[H],f[k.charCodeAt(H)]=H;function P(j){var G=j.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=j.indexOf("=");return-1===re&&(re=G),[re,re===G?0:4-re%4]}function L(j){return E[j>>18&63]+E[j>>12&63]+E[j>>6&63]+E[63&j]}function D(j,G,re){for(var J=[],Z=G;Z<re;Z+=3)J.push(L((j[Z]<<16&16711680)+(j[Z+1]<<8&65280)+(255&j[Z+2])));return J.join("")}f[45]=62,f[95]=63},917:function(je,z,E){!function(f,_){"use strict";function k(y,g){if(!y)throw new Error(g||"Assertion failed")}function H(y,g){y.super_=g;var S=function(){};S.prototype=g.prototype,y.prototype=new S,y.prototype.constructor=y}function x(y,g,S){if(x.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,null!==y&&(("le"===g||"be"===g)&&(S=g,g=10),this._init(y||0,g||10,S||"be"))}var P;"object"==typeof f?f.exports=x:_.BN=x,x.BN=x,x.wordSize=26;try{P=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(47790).Buffer}catch{}function M(y,g){var S=y.charCodeAt(g);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void k(!1,"Invalid character in "+y)}function O(y,g,S){var T=M(y,S);return S-1>=g&&(T|=M(y,S-1)<<4),T}function F(y,g,S,T){for(var N=0,A=0,s=Math.min(y.length,S),v=g;v<s;v++){var W=y.charCodeAt(v)-48;N*=T,A=W>=49?W-49+10:W>=17?W-17+10:W,k(W>=0&&A<T,"Invalid character"),N+=A}return N}function L(y,g){y.words=g.words,y.length=g.length,y.negative=g.negative,y.red=g.red}if(x.isBN=function(g){return g instanceof x||null!==g&&"object"==typeof g&&g.constructor.wordSize===x.wordSize&&Array.isArray(g.words)},x.max=function(g,S){return g.cmp(S)>0?g:S},x.min=function(g,S){return g.cmp(S)<0?g:S},x.prototype._init=function(g,S,T){if("number"==typeof g)return this._initNumber(g,S,T);if("object"==typeof g)return this._initArray(g,S,T);"hex"===S&&(S=16),k(S===(0|S)&&S>=2&&S<=36);var N=0;"-"===(g=g.toString().replace(/\s+/g,""))[0]&&(N++,this.negative=1),N<g.length&&(16===S?this._parseHex(g,N,T):(this._parseBase(g,S,N),"le"===T&&this._initArray(this.toArray(),S,T)))},x.prototype._initNumber=function(g,S,T){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[67108863&g],this.length=1):g<4503599627370496?(this.words=[67108863&g,g/67108864&67108863],this.length=2):(k(g<9007199254740992),this.words=[67108863&g,g/67108864&67108863,1],this.length=3),"le"===T&&this._initArray(this.toArray(),S,T)},x.prototype._initArray=function(g,S,T){if(k("number"==typeof g.length),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var A,s,v=0;if("be"===T)for(N=g.length-1,A=0;N>=0;N-=3)this.words[A]|=(s=g[N]|g[N-1]<<8|g[N-2]<<16)<<v&67108863,this.words[A+1]=s>>>26-v&67108863,(v+=24)>=26&&(v-=26,A++);else if("le"===T)for(N=0,A=0;N<g.length;N+=3)this.words[A]|=(s=g[N]|g[N+1]<<8|g[N+2]<<16)<<v&67108863,this.words[A+1]=s>>>26-v&67108863,(v+=24)>=26&&(v-=26,A++);return this._strip()},x.prototype._parseHex=function(g,S,T){this.length=Math.ceil((g.length-S)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var v,A=0,s=0;if("be"===T)for(N=g.length-1;N>=S;N-=2)v=O(g,S,N)<<A,this.words[s]|=67108863&v,A>=18?(A-=18,this.words[s+=1]|=v>>>26):A+=8;else for(N=(g.length-S)%2==0?S+1:S;N<g.length;N+=2)v=O(g,S,N)<<A,this.words[s]|=67108863&v,A>=18?(A-=18,this.words[s+=1]|=v>>>26):A+=8;this._strip()},x.prototype._parseBase=function(g,S,T){this.words=[0],this.length=1;for(var N=0,A=1;A<=67108863;A*=S)N++;N--,A=A/S|0;for(var s=g.length-T,v=s%N,W=Math.min(s,s-v)+T,K=0,ee=T;ee<W;ee+=N)K=F(g,ee,ee+N,S),this.imuln(A),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(0!==v){var ce=1;for(K=F(g,ee,g.length,S),ee=0;ee<v;ee++)ce*=S;this.imuln(ce),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},x.prototype.copy=function(g){g.words=new Array(this.length);for(var S=0;S<this.length;S++)g.words[S]=this.words[S];g.length=this.length,g.negative=this.negative,g.red=this.red},x.prototype._move=function(g){L(g,this)},x.prototype.clone=function(){var g=new x(null);return this.copy(g),g},x.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},x.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{x.prototype[Symbol.for("nodejs.util.inspect.custom")]=D}catch{x.prototype.inspect=D}else x.prototype.inspect=D;function D(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function J(y,g,S){S.negative=g.negative^y.negative;var T=y.length+g.length|0;S.length=T,T=T-1|0;var N=0|y.words[0],A=0|g.words[0],s=N*A,W=s/67108864|0;S.words[0]=67108863&s;for(var K=1;K<T;K++){for(var ee=W>>>26,ce=67108863&W,_e=Math.min(K,g.length-1),Oe=Math.max(0,K-y.length+1);Oe<=_e;Oe++)ee+=(s=(N=0|y.words[K-Oe|0])*(A=0|g.words[Oe])+ce)/67108864|0,ce=67108863&s;S.words[K]=0|ce,W=0|ee}return 0!==W?S.words[K]=0|W:S.length--,S._strip()}x.prototype.toString=function(g,S){var T;if(S=0|S||1,16===(g=g||10)||"hex"===g){T="";for(var N=0,A=0,s=0;s<this.length;s++){var v=this.words[s],W=(16777215&(v<<N|A)).toString(16);A=v>>>24-N&16777215,(N+=2)>=26&&(N-=26,s--),T=0!==A||s!==this.length-1?X[6-W.length]+W+T:W+T}for(0!==A&&(T=A.toString(16)+T);T.length%S!=0;)T="0"+T;return 0!==this.negative&&(T="-"+T),T}if(g===(0|g)&&g>=2&&g<=36){var K=j[g],ee=G[g];T="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var _e=ce.modrn(ee).toString(g);T=(ce=ce.idivn(ee)).isZero()?_e+T:X[K-_e.length]+_e+T}for(this.isZero()&&(T="0"+T);T.length%S!=0;)T="0"+T;return 0!==this.negative&&(T="-"+T),T}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var g=this.words[0];return 2===this.length?g+=67108864*this.words[1]:3===this.length&&1===this.words[2]?g+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-g:g},x.prototype.toJSON=function(){return this.toString(16,2)},P&&(x.prototype.toBuffer=function(g,S){return this.toArrayLike(P,g,S)}),x.prototype.toArray=function(g,S){return this.toArrayLike(Array,g,S)},x.prototype.toArrayLike=function(g,S,T){this._strip();var N=this.byteLength(),A=T||Math.max(1,N);k(N<=A,"byte array longer than desired length"),k(A>0,"Requested array length <= 0");var s=function(g,S){return g.allocUnsafe?g.allocUnsafe(S):new g(S)}(g,A);return this["_toArrayLike"+("le"===S?"LE":"BE")](s,N),s},x.prototype._toArrayLikeLE=function(g,S){for(var T=0,N=0,A=0,s=0;A<this.length;A++){var v=this.words[A]<<s|N;g[T++]=255&v,T<g.length&&(g[T++]=v>>8&255),T<g.length&&(g[T++]=v>>16&255),6===s?(T<g.length&&(g[T++]=v>>24&255),N=0,s=0):(N=v>>>24,s+=2)}if(T<g.length)for(g[T++]=N;T<g.length;)g[T++]=0},x.prototype._toArrayLikeBE=function(g,S){for(var T=g.length-1,N=0,A=0,s=0;A<this.length;A++){var v=this.words[A]<<s|N;g[T--]=255&v,T>=0&&(g[T--]=v>>8&255),T>=0&&(g[T--]=v>>16&255),6===s?(T>=0&&(g[T--]=v>>24&255),N=0,s=0):(N=v>>>24,s+=2)}if(T>=0)for(g[T--]=N;T>=0;)g[T--]=0},x.prototype._countBits=Math.clz32?function(g){return 32-Math.clz32(g)}:function(g){var S=g,T=0;return S>=4096&&(T+=13,S>>>=13),S>=64&&(T+=7,S>>>=7),S>=8&&(T+=4,S>>>=4),S>=2&&(T+=2,S>>>=2),T+S},x.prototype._zeroBits=function(g){if(0===g)return 26;var S=g,T=0;return 8191&S||(T+=13,S>>>=13),127&S||(T+=7,S>>>=7),15&S||(T+=4,S>>>=4),3&S||(T+=2,S>>>=2),1&S||T++,T},x.prototype.bitLength=function(){var S=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+S},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,S=0;S<this.length;S++){var T=this._zeroBits(this.words[S]);if(g+=T,26!==T)break}return g},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(g){return 0!==this.negative?this.abs().inotn(g).iaddn(1):this.clone()},x.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var S=0;S<g.length;S++)this.words[S]=this.words[S]|g.words[S];return this._strip()},x.prototype.ior=function(g){return k(!(this.negative|g.negative)),this.iuor(g)},x.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},x.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},x.prototype.iuand=function(g){var S;S=this.length>g.length?g:this;for(var T=0;T<S.length;T++)this.words[T]=this.words[T]&g.words[T];return this.length=S.length,this._strip()},x.prototype.iand=function(g){return k(!(this.negative|g.negative)),this.iuand(g)},x.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},x.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},x.prototype.iuxor=function(g){var S,T;this.length>g.length?(S=this,T=g):(S=g,T=this);for(var N=0;N<T.length;N++)this.words[N]=S.words[N]^T.words[N];if(this!==S)for(;N<S.length;N++)this.words[N]=S.words[N];return this.length=S.length,this._strip()},x.prototype.ixor=function(g){return k(!(this.negative|g.negative)),this.iuxor(g)},x.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},x.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},x.prototype.inotn=function(g){k("number"==typeof g&&g>=0);var S=0|Math.ceil(g/26),T=g%26;this._expand(S),T>0&&S--;for(var N=0;N<S;N++)this.words[N]=67108863&~this.words[N];return T>0&&(this.words[N]=~this.words[N]&67108863>>26-T),this._strip()},x.prototype.notn=function(g){return this.clone().inotn(g)},x.prototype.setn=function(g,S){k("number"==typeof g&&g>=0);var T=g/26|0,N=g%26;return this._expand(T+1),this.words[T]=S?this.words[T]|1<<N:this.words[T]&~(1<<N),this._strip()},x.prototype.iadd=function(g){var S,T,N;if(0!==this.negative&&0===g.negative)return this.negative=0,S=this.isub(g),this.negative^=1,this._normSign();if(0===this.negative&&0!==g.negative)return g.negative=0,S=this.isub(g),g.negative=1,S._normSign();this.length>g.length?(T=this,N=g):(T=g,N=this);for(var A=0,s=0;s<N.length;s++)this.words[s]=67108863&(S=(0|T.words[s])+(0|N.words[s])+A),A=S>>>26;for(;0!==A&&s<T.length;s++)this.words[s]=67108863&(S=(0|T.words[s])+A),A=S>>>26;if(this.length=T.length,0!==A)this.words[this.length]=A,this.length++;else if(T!==this)for(;s<T.length;s++)this.words[s]=T.words[s];return this},x.prototype.add=function(g){var S;return 0!==g.negative&&0===this.negative?(g.negative=0,S=this.sub(g),g.negative^=1,S):0===g.negative&&0!==this.negative?(this.negative=0,S=g.sub(this),this.negative=1,S):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},x.prototype.isub=function(g){if(0!==g.negative){g.negative=0;var S=this.iadd(g);return g.negative=1,S._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var N,A,T=this.cmp(g);if(0===T)return this.negative=0,this.length=1,this.words[0]=0,this;T>0?(N=this,A=g):(N=g,A=this);for(var s=0,v=0;v<A.length;v++)s=(S=(0|N.words[v])-(0|A.words[v])+s)>>26,this.words[v]=67108863&S;for(;0!==s&&v<N.length;v++)s=(S=(0|N.words[v])+s)>>26,this.words[v]=67108863&S;if(0===s&&v<N.length&&N!==this)for(;v<N.length;v++)this.words[v]=N.words[v];return this.length=Math.max(this.length,v),N!==this&&(this.negative=1),this._strip()},x.prototype.sub=function(g){return this.clone().isub(g)};var Z=function(g,S,T){var W,K,ee,N=g.words,A=S.words,s=T.words,v=0,ce=0|N[0],_e=8191&ce,Oe=ce>>>13,Ve=0|N[1],Se=8191&Ve,be=Ve>>>13,Ue=0|N[2],ye=8191&Ue,De=Ue>>>13,pe=0|N[3],ue=8191&pe,Q=pe>>>13,oe=0|N[4],fe=8191&oe,Ee=oe>>>13,Re=0|N[5],$e=8191&Re,Fe=Re>>>13,Et=0|N[6],We=8191&Et,Le=Et>>>13,lt=0|N[7],B=8191&lt,w=lt>>>13,m=0|N[8],U=8191&m,ne=m>>>13,ge=0|N[9],Ae=8191&ge,tt=ge>>>13,Bt=0|A[0],vt=8191&Bt,It=Bt>>>13,Gt=0|A[1],hn=8191&Gt,dn=Gt>>>13,ar=0|A[2],An=8191&ar,en=ar>>>13,Qt=0|A[3],_t=8191&Qt,ft=Qt>>>13,Wt=0|A[4],qt=8191&Wt,pn=Wt>>>13,fr=0|A[5],gt=8191&fr,Mt=fr>>>13,St=0|A[6],Ye=8191&St,nt=St>>>13,Ht=0|A[7],Nt=8191&Ht,un=Ht>>>13,Wn=0|A[8],En=8191&Wn,kn=Wn>>>13,Or=0|A[9],Jn=8191&Or,Fn=Or>>>13;T.negative=g.negative^S.negative,T.length=19;var Lt=(v+(W=Math.imul(_e,vt))|0)+((8191&(K=(K=Math.imul(_e,It))+Math.imul(Oe,vt)|0))<<13)|0;v=((ee=Math.imul(Oe,It))+(K>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,W=Math.imul(Se,vt),K=(K=Math.imul(Se,It))+Math.imul(be,vt)|0,ee=Math.imul(be,It);var et=(v+(W=W+Math.imul(_e,hn)|0)|0)+((8191&(K=(K=K+Math.imul(_e,dn)|0)+Math.imul(Oe,hn)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,dn)|0)+(K>>>13)|0)+(et>>>26)|0,et&=67108863,W=Math.imul(ye,vt),K=(K=Math.imul(ye,It))+Math.imul(De,vt)|0,ee=Math.imul(De,It),W=W+Math.imul(Se,hn)|0,K=(K=K+Math.imul(Se,dn)|0)+Math.imul(be,hn)|0,ee=ee+Math.imul(be,dn)|0;var Te=(v+(W=W+Math.imul(_e,An)|0)|0)+((8191&(K=(K=K+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,en)|0)+(K>>>13)|0)+(Te>>>26)|0,Te&=67108863,W=Math.imul(ue,vt),K=(K=Math.imul(ue,It))+Math.imul(Q,vt)|0,ee=Math.imul(Q,It),W=W+Math.imul(ye,hn)|0,K=(K=K+Math.imul(ye,dn)|0)+Math.imul(De,hn)|0,ee=ee+Math.imul(De,dn)|0,W=W+Math.imul(Se,An)|0,K=(K=K+Math.imul(Se,en)|0)+Math.imul(be,An)|0,ee=ee+Math.imul(be,en)|0;var Be=(v+(W=W+Math.imul(_e,_t)|0)|0)+((8191&(K=(K=K+Math.imul(_e,ft)|0)+Math.imul(Oe,_t)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,ft)|0)+(K>>>13)|0)+(Be>>>26)|0,Be&=67108863,W=Math.imul(fe,vt),K=(K=Math.imul(fe,It))+Math.imul(Ee,vt)|0,ee=Math.imul(Ee,It),W=W+Math.imul(ue,hn)|0,K=(K=K+Math.imul(ue,dn)|0)+Math.imul(Q,hn)|0,ee=ee+Math.imul(Q,dn)|0,W=W+Math.imul(ye,An)|0,K=(K=K+Math.imul(ye,en)|0)+Math.imul(De,An)|0,ee=ee+Math.imul(De,en)|0,W=W+Math.imul(Se,_t)|0,K=(K=K+Math.imul(Se,ft)|0)+Math.imul(be,_t)|0,ee=ee+Math.imul(be,ft)|0;var xt=(v+(W=W+Math.imul(_e,qt)|0)|0)+((8191&(K=(K=K+Math.imul(_e,pn)|0)+Math.imul(Oe,qt)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,pn)|0)+(K>>>13)|0)+(xt>>>26)|0,xt&=67108863,W=Math.imul($e,vt),K=(K=Math.imul($e,It))+Math.imul(Fe,vt)|0,ee=Math.imul(Fe,It),W=W+Math.imul(fe,hn)|0,K=(K=K+Math.imul(fe,dn)|0)+Math.imul(Ee,hn)|0,ee=ee+Math.imul(Ee,dn)|0,W=W+Math.imul(ue,An)|0,K=(K=K+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,ee=ee+Math.imul(Q,en)|0,W=W+Math.imul(ye,_t)|0,K=(K=K+Math.imul(ye,ft)|0)+Math.imul(De,_t)|0,ee=ee+Math.imul(De,ft)|0,W=W+Math.imul(Se,qt)|0,K=(K=K+Math.imul(Se,pn)|0)+Math.imul(be,qt)|0,ee=ee+Math.imul(be,pn)|0;var nn=(v+(W=W+Math.imul(_e,gt)|0)|0)+((8191&(K=(K=K+Math.imul(_e,Mt)|0)+Math.imul(Oe,gt)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,Mt)|0)+(K>>>13)|0)+(nn>>>26)|0,nn&=67108863,W=Math.imul(We,vt),K=(K=Math.imul(We,It))+Math.imul(Le,vt)|0,ee=Math.imul(Le,It),W=W+Math.imul($e,hn)|0,K=(K=K+Math.imul($e,dn)|0)+Math.imul(Fe,hn)|0,ee=ee+Math.imul(Fe,dn)|0,W=W+Math.imul(fe,An)|0,K=(K=K+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,ee=ee+Math.imul(Ee,en)|0,W=W+Math.imul(ue,_t)|0,K=(K=K+Math.imul(ue,ft)|0)+Math.imul(Q,_t)|0,ee=ee+Math.imul(Q,ft)|0,W=W+Math.imul(ye,qt)|0,K=(K=K+Math.imul(ye,pn)|0)+Math.imul(De,qt)|0,ee=ee+Math.imul(De,pn)|0,W=W+Math.imul(Se,gt)|0,K=(K=K+Math.imul(Se,Mt)|0)+Math.imul(be,gt)|0,ee=ee+Math.imul(be,Mt)|0;var In=(v+(W=W+Math.imul(_e,Ye)|0)|0)+((8191&(K=(K=K+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,nt)|0)+(K>>>13)|0)+(In>>>26)|0,In&=67108863,W=Math.imul(B,vt),K=(K=Math.imul(B,It))+Math.imul(w,vt)|0,ee=Math.imul(w,It),W=W+Math.imul(We,hn)|0,K=(K=K+Math.imul(We,dn)|0)+Math.imul(Le,hn)|0,ee=ee+Math.imul(Le,dn)|0,W=W+Math.imul($e,An)|0,K=(K=K+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,ee=ee+Math.imul(Fe,en)|0,W=W+Math.imul(fe,_t)|0,K=(K=K+Math.imul(fe,ft)|0)+Math.imul(Ee,_t)|0,ee=ee+Math.imul(Ee,ft)|0,W=W+Math.imul(ue,qt)|0,K=(K=K+Math.imul(ue,pn)|0)+Math.imul(Q,qt)|0,ee=ee+Math.imul(Q,pn)|0,W=W+Math.imul(ye,gt)|0,K=(K=K+Math.imul(ye,Mt)|0)+Math.imul(De,gt)|0,ee=ee+Math.imul(De,Mt)|0,W=W+Math.imul(Se,Ye)|0,K=(K=K+Math.imul(Se,nt)|0)+Math.imul(be,Ye)|0,ee=ee+Math.imul(be,nt)|0;var Kn=(v+(W=W+Math.imul(_e,Nt)|0)|0)+((8191&(K=(K=K+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,un)|0)+(K>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,W=Math.imul(U,vt),K=(K=Math.imul(U,It))+Math.imul(ne,vt)|0,ee=Math.imul(ne,It),W=W+Math.imul(B,hn)|0,K=(K=K+Math.imul(B,dn)|0)+Math.imul(w,hn)|0,ee=ee+Math.imul(w,dn)|0,W=W+Math.imul(We,An)|0,K=(K=K+Math.imul(We,en)|0)+Math.imul(Le,An)|0,ee=ee+Math.imul(Le,en)|0,W=W+Math.imul($e,_t)|0,K=(K=K+Math.imul($e,ft)|0)+Math.imul(Fe,_t)|0,ee=ee+Math.imul(Fe,ft)|0,W=W+Math.imul(fe,qt)|0,K=(K=K+Math.imul(fe,pn)|0)+Math.imul(Ee,qt)|0,ee=ee+Math.imul(Ee,pn)|0,W=W+Math.imul(ue,gt)|0,K=(K=K+Math.imul(ue,Mt)|0)+Math.imul(Q,gt)|0,ee=ee+Math.imul(Q,Mt)|0,W=W+Math.imul(ye,Ye)|0,K=(K=K+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,ee=ee+Math.imul(De,nt)|0,W=W+Math.imul(Se,Nt)|0,K=(K=K+Math.imul(Se,un)|0)+Math.imul(be,Nt)|0,ee=ee+Math.imul(be,un)|0;var tr=(v+(W=W+Math.imul(_e,En)|0)|0)+((8191&(K=(K=K+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,kn)|0)+(K>>>13)|0)+(tr>>>26)|0,tr&=67108863,W=Math.imul(Ae,vt),K=(K=Math.imul(Ae,It))+Math.imul(tt,vt)|0,ee=Math.imul(tt,It),W=W+Math.imul(U,hn)|0,K=(K=K+Math.imul(U,dn)|0)+Math.imul(ne,hn)|0,ee=ee+Math.imul(ne,dn)|0,W=W+Math.imul(B,An)|0,K=(K=K+Math.imul(B,en)|0)+Math.imul(w,An)|0,ee=ee+Math.imul(w,en)|0,W=W+Math.imul(We,_t)|0,K=(K=K+Math.imul(We,ft)|0)+Math.imul(Le,_t)|0,ee=ee+Math.imul(Le,ft)|0,W=W+Math.imul($e,qt)|0,K=(K=K+Math.imul($e,pn)|0)+Math.imul(Fe,qt)|0,ee=ee+Math.imul(Fe,pn)|0,W=W+Math.imul(fe,gt)|0,K=(K=K+Math.imul(fe,Mt)|0)+Math.imul(Ee,gt)|0,ee=ee+Math.imul(Ee,Mt)|0,W=W+Math.imul(ue,Ye)|0,K=(K=K+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,ee=ee+Math.imul(Q,nt)|0,W=W+Math.imul(ye,Nt)|0,K=(K=K+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,ee=ee+Math.imul(De,un)|0,W=W+Math.imul(Se,En)|0,K=(K=K+Math.imul(Se,kn)|0)+Math.imul(be,En)|0,ee=ee+Math.imul(be,kn)|0;var Dr=(v+(W=W+Math.imul(_e,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(_e,Fn)|0)+Math.imul(Oe,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,Fn)|0)+(K>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,W=Math.imul(Ae,hn),K=(K=Math.imul(Ae,dn))+Math.imul(tt,hn)|0,ee=Math.imul(tt,dn),W=W+Math.imul(U,An)|0,K=(K=K+Math.imul(U,en)|0)+Math.imul(ne,An)|0,ee=ee+Math.imul(ne,en)|0,W=W+Math.imul(B,_t)|0,K=(K=K+Math.imul(B,ft)|0)+Math.imul(w,_t)|0,ee=ee+Math.imul(w,ft)|0,W=W+Math.imul(We,qt)|0,K=(K=K+Math.imul(We,pn)|0)+Math.imul(Le,qt)|0,ee=ee+Math.imul(Le,pn)|0,W=W+Math.imul($e,gt)|0,K=(K=K+Math.imul($e,Mt)|0)+Math.imul(Fe,gt)|0,ee=ee+Math.imul(Fe,Mt)|0,W=W+Math.imul(fe,Ye)|0,K=(K=K+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,ee=ee+Math.imul(Ee,nt)|0,W=W+Math.imul(ue,Nt)|0,K=(K=K+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,ee=ee+Math.imul(Q,un)|0,W=W+Math.imul(ye,En)|0,K=(K=K+Math.imul(ye,kn)|0)+Math.imul(De,En)|0,ee=ee+Math.imul(De,kn)|0;var Mr=(v+(W=W+Math.imul(Se,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(Se,Fn)|0)+Math.imul(be,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(be,Fn)|0)+(K>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,W=Math.imul(Ae,An),K=(K=Math.imul(Ae,en))+Math.imul(tt,An)|0,ee=Math.imul(tt,en),W=W+Math.imul(U,_t)|0,K=(K=K+Math.imul(U,ft)|0)+Math.imul(ne,_t)|0,ee=ee+Math.imul(ne,ft)|0,W=W+Math.imul(B,qt)|0,K=(K=K+Math.imul(B,pn)|0)+Math.imul(w,qt)|0,ee=ee+Math.imul(w,pn)|0,W=W+Math.imul(We,gt)|0,K=(K=K+Math.imul(We,Mt)|0)+Math.imul(Le,gt)|0,ee=ee+Math.imul(Le,Mt)|0,W=W+Math.imul($e,Ye)|0,K=(K=K+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,ee=ee+Math.imul(Fe,nt)|0,W=W+Math.imul(fe,Nt)|0,K=(K=K+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,ee=ee+Math.imul(Ee,un)|0,W=W+Math.imul(ue,En)|0,K=(K=K+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0,ee=ee+Math.imul(Q,kn)|0;var Ir=(v+(W=W+Math.imul(ye,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(ye,Fn)|0)+Math.imul(De,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(De,Fn)|0)+(K>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,W=Math.imul(Ae,_t),K=(K=Math.imul(Ae,ft))+Math.imul(tt,_t)|0,ee=Math.imul(tt,ft),W=W+Math.imul(U,qt)|0,K=(K=K+Math.imul(U,pn)|0)+Math.imul(ne,qt)|0,ee=ee+Math.imul(ne,pn)|0,W=W+Math.imul(B,gt)|0,K=(K=K+Math.imul(B,Mt)|0)+Math.imul(w,gt)|0,ee=ee+Math.imul(w,Mt)|0,W=W+Math.imul(We,Ye)|0,K=(K=K+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,ee=ee+Math.imul(Le,nt)|0,W=W+Math.imul($e,Nt)|0,K=(K=K+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,ee=ee+Math.imul(Fe,un)|0,W=W+Math.imul(fe,En)|0,K=(K=K+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0,ee=ee+Math.imul(Ee,kn)|0;var jr=(v+(W=W+Math.imul(ue,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(ue,Fn)|0)+Math.imul(Q,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Q,Fn)|0)+(K>>>13)|0)+(jr>>>26)|0,jr&=67108863,W=Math.imul(Ae,qt),K=(K=Math.imul(Ae,pn))+Math.imul(tt,qt)|0,ee=Math.imul(tt,pn),W=W+Math.imul(U,gt)|0,K=(K=K+Math.imul(U,Mt)|0)+Math.imul(ne,gt)|0,ee=ee+Math.imul(ne,Mt)|0,W=W+Math.imul(B,Ye)|0,K=(K=K+Math.imul(B,nt)|0)+Math.imul(w,Ye)|0,ee=ee+Math.imul(w,nt)|0,W=W+Math.imul(We,Nt)|0,K=(K=K+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,ee=ee+Math.imul(Le,un)|0,W=W+Math.imul($e,En)|0,K=(K=K+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0,ee=ee+Math.imul(Fe,kn)|0;var ni=(v+(W=W+Math.imul(fe,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(fe,Fn)|0)+Math.imul(Ee,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Ee,Fn)|0)+(K>>>13)|0)+(ni>>>26)|0,ni&=67108863,W=Math.imul(Ae,gt),K=(K=Math.imul(Ae,Mt))+Math.imul(tt,gt)|0,ee=Math.imul(tt,Mt),W=W+Math.imul(U,Ye)|0,K=(K=K+Math.imul(U,nt)|0)+Math.imul(ne,Ye)|0,ee=ee+Math.imul(ne,nt)|0,W=W+Math.imul(B,Nt)|0,K=(K=K+Math.imul(B,un)|0)+Math.imul(w,Nt)|0,ee=ee+Math.imul(w,un)|0,W=W+Math.imul(We,En)|0,K=(K=K+Math.imul(We,kn)|0)+Math.imul(Le,En)|0,ee=ee+Math.imul(Le,kn)|0;var tn=(v+(W=W+Math.imul($e,Jn)|0)|0)+((8191&(K=(K=K+Math.imul($e,Fn)|0)+Math.imul(Fe,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Fe,Fn)|0)+(K>>>13)|0)+(tn>>>26)|0,tn&=67108863,W=Math.imul(Ae,Ye),K=(K=Math.imul(Ae,nt))+Math.imul(tt,Ye)|0,ee=Math.imul(tt,nt),W=W+Math.imul(U,Nt)|0,K=(K=K+Math.imul(U,un)|0)+Math.imul(ne,Nt)|0,ee=ee+Math.imul(ne,un)|0,W=W+Math.imul(B,En)|0,K=(K=K+Math.imul(B,kn)|0)+Math.imul(w,En)|0,ee=ee+Math.imul(w,kn)|0;var _n=(v+(W=W+Math.imul(We,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(We,Fn)|0)+Math.imul(Le,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Le,Fn)|0)+(K>>>13)|0)+(_n>>>26)|0,_n&=67108863,W=Math.imul(Ae,Nt),K=(K=Math.imul(Ae,un))+Math.imul(tt,Nt)|0,ee=Math.imul(tt,un),W=W+Math.imul(U,En)|0,K=(K=K+Math.imul(U,kn)|0)+Math.imul(ne,En)|0,ee=ee+Math.imul(ne,kn)|0;var Tn=(v+(W=W+Math.imul(B,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(B,Fn)|0)+Math.imul(w,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(w,Fn)|0)+(K>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,W=Math.imul(Ae,En),K=(K=Math.imul(Ae,kn))+Math.imul(tt,En)|0,ee=Math.imul(tt,kn);var jn=(v+(W=W+Math.imul(U,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(U,Fn)|0)+Math.imul(ne,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(ne,Fn)|0)+(K>>>13)|0)+(jn>>>26)|0,jn&=67108863;var hr=(v+(W=Math.imul(Ae,Jn))|0)+((8191&(K=(K=Math.imul(Ae,Fn))+Math.imul(tt,Jn)|0))<<13)|0;return v=((ee=Math.imul(tt,Fn))+(K>>>13)|0)+(hr>>>26)|0,hr&=67108863,s[0]=Lt,s[1]=et,s[2]=Te,s[3]=Be,s[4]=xt,s[5]=nn,s[6]=In,s[7]=Kn,s[8]=tr,s[9]=Dr,s[10]=Mr,s[11]=Ir,s[12]=jr,s[13]=ni,s[14]=tn,s[15]=_n,s[16]=Tn,s[17]=jn,s[18]=hr,0!==v&&(s[19]=v,T.length++),T};function ie(y,g,S){S.negative=g.negative^y.negative,S.length=y.length+g.length;for(var T=0,N=0,A=0;A<S.length-1;A++){var s=N;N=0;for(var v=67108863&T,W=Math.min(A,g.length-1),K=Math.max(0,A-y.length+1);K<=W;K++){var Oe=(0|y.words[A-K])*(0|g.words[K]),Ve=67108863&Oe;v=67108863&(Ve=Ve+v|0),N+=(s=(s=s+(Oe/67108864|0)|0)+(Ve>>>26)|0)>>>26,s&=67108863}S.words[A]=v,T=s,s=N}return 0!==T?S.words[A]=T:S.length--,S._strip()}function ae(y,g,S){return ie(y,g,S)}function se(y,g){this.x=y,this.y=g}Math.imul||(Z=J),x.prototype.mulTo=function(g,S){var N=this.length+g.length;return 10===this.length&&10===g.length?Z(this,g,S):N<63?J(this,g,S):N<1024?ie(this,g,S):ae(this,g,S)},se.prototype.makeRBT=function(g){for(var S=new Array(g),T=x.prototype._countBits(g)-1,N=0;N<g;N++)S[N]=this.revBin(N,T,g);return S},se.prototype.revBin=function(g,S,T){if(0===g||g===T-1)return g;for(var N=0,A=0;A<S;A++)N|=(1&g)<<S-A-1,g>>=1;return N},se.prototype.permute=function(g,S,T,N,A,s){for(var v=0;v<s;v++)N[v]=S[g[v]],A[v]=T[g[v]]},se.prototype.transform=function(g,S,T,N,A,s){this.permute(s,g,S,T,N,A);for(var v=1;v<A;v<<=1)for(var W=v<<1,K=Math.cos(2*Math.PI/W),ee=Math.sin(2*Math.PI/W),ce=0;ce<A;ce+=W)for(var _e=K,Oe=ee,Ve=0;Ve<v;Ve++){var Se=T[ce+Ve],be=N[ce+Ve],Ue=T[ce+Ve+v],ye=N[ce+Ve+v],De=_e*Ue-Oe*ye;ye=_e*ye+Oe*Ue,T[ce+Ve]=Se+(Ue=De),N[ce+Ve]=be+ye,T[ce+Ve+v]=Se-Ue,N[ce+Ve+v]=be-ye,Ve!==W&&(De=K*_e-ee*Oe,Oe=K*Oe+ee*_e,_e=De)}},se.prototype.guessLen13b=function(g,S){var T=1|Math.max(S,g),N=1&T,A=0;for(T=T/2|0;T;T>>>=1)A++;return 1<<A+1+N},se.prototype.conjugate=function(g,S,T){if(!(T<=1))for(var N=0;N<T/2;N++){var A=g[N];g[N]=g[T-N-1],g[T-N-1]=A,A=S[N],S[N]=-S[T-N-1],S[T-N-1]=-A}},se.prototype.normalize13b=function(g,S){for(var T=0,N=0;N<S/2;N++){var A=8192*Math.round(g[2*N+1]/S)+Math.round(g[2*N]/S)+T;g[N]=67108863&A,T=A<67108864?0:A/67108864|0}return g},se.prototype.convert13b=function(g,S,T,N){for(var A=0,s=0;s<S;s++)T[2*s]=8191&(A+=0|g[s]),T[2*s+1]=8191&(A>>>=13),A>>>=13;for(s=2*S;s<N;++s)T[s]=0;k(0===A),k(!(-8192&A))},se.prototype.stub=function(g){for(var S=new Array(g),T=0;T<g;T++)S[T]=0;return S},se.prototype.mulp=function(g,S,T){var N=2*this.guessLen13b(g.length,S.length),A=this.makeRBT(N),s=this.stub(N),v=new Array(N),W=new Array(N),K=new Array(N),ee=new Array(N),ce=new Array(N),_e=new Array(N),Oe=T.words;Oe.length=N,this.convert13b(g.words,g.length,v,N),this.convert13b(S.words,S.length,ee,N),this.transform(v,s,W,K,N,A),this.transform(ee,s,ce,_e,N,A);for(var Ve=0;Ve<N;Ve++){var Se=W[Ve]*ce[Ve]-K[Ve]*_e[Ve];K[Ve]=W[Ve]*_e[Ve]+K[Ve]*ce[Ve],W[Ve]=Se}return this.conjugate(W,K,N),this.transform(W,K,Oe,s,N,A),this.conjugate(Oe,s,N),this.normalize13b(Oe,N),T.negative=g.negative^S.negative,T.length=g.length+S.length,T._strip()},x.prototype.mul=function(g){var S=new x(null);return S.words=new Array(this.length+g.length),this.mulTo(g,S)},x.prototype.mulf=function(g){var S=new x(null);return S.words=new Array(this.length+g.length),ae(this,g,S)},x.prototype.imul=function(g){return this.clone().mulTo(g,this)},x.prototype.imuln=function(g){var S=g<0;S&&(g=-g),k("number"==typeof g),k(g<67108864);for(var T=0,N=0;N<this.length;N++){var A=(0|this.words[N])*g,s=(67108863&A)+(67108863&T);T>>=26,T+=A/67108864|0,T+=s>>>26,this.words[N]=67108863&s}return 0!==T&&(this.words[N]=T,this.length++),S?this.ineg():this},x.prototype.muln=function(g){return this.clone().imuln(g)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(g){var S=function te(y){for(var g=new Array(y.bitLength()),S=0;S<g.length;S++)g[S]=y.words[S/26|0]>>>S%26&1;return g}(g);if(0===S.length)return new x(1);for(var T=this,N=0;N<S.length&&0===S[N];N++,T=T.sqr());if(++N<S.length)for(var A=T.sqr();N<S.length;N++,A=A.sqr())0!==S[N]&&(T=T.mul(A));return T},x.prototype.iushln=function(g){k("number"==typeof g&&g>=0);var A,S=g%26,T=(g-S)/26,N=67108863>>>26-S<<26-S;if(0!==S){var s=0;for(A=0;A<this.length;A++){var v=this.words[A]&N;this.words[A]=(0|this.words[A])-v<<S|s,s=v>>>26-S}s&&(this.words[A]=s,this.length++)}if(0!==T){for(A=this.length-1;A>=0;A--)this.words[A+T]=this.words[A];for(A=0;A<T;A++)this.words[A]=0;this.length+=T}return this._strip()},x.prototype.ishln=function(g){return k(0===this.negative),this.iushln(g)},x.prototype.iushrn=function(g,S,T){var N;k("number"==typeof g&&g>=0),N=S?(S-S%26)/26:0;var A=g%26,s=Math.min((g-A)/26,this.length),v=67108863^67108863>>>A<<A,W=T;if(N-=s,N=Math.max(0,N),W){for(var K=0;K<s;K++)W.words[K]=this.words[K];W.length=s}if(0!==s)if(this.length>s)for(this.length-=s,K=0;K<this.length;K++)this.words[K]=this.words[K+s];else this.words[0]=0,this.length=1;var ee=0;for(K=this.length-1;K>=0&&(0!==ee||K>=N);K--){var ce=0|this.words[K];this.words[K]=ee<<26-A|ce>>>A,ee=ce&v}return W&&0!==ee&&(W.words[W.length++]=ee),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},x.prototype.ishrn=function(g,S,T){return k(0===this.negative),this.iushrn(g,S,T)},x.prototype.shln=function(g){return this.clone().ishln(g)},x.prototype.ushln=function(g){return this.clone().iushln(g)},x.prototype.shrn=function(g){return this.clone().ishrn(g)},x.prototype.ushrn=function(g){return this.clone().iushrn(g)},x.prototype.testn=function(g){k("number"==typeof g&&g>=0);var S=g%26,T=(g-S)/26;return!(this.length<=T||!(this.words[T]&1<<S))},x.prototype.imaskn=function(g){k("number"==typeof g&&g>=0);var S=g%26,T=(g-S)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=T?this:(0!==S&&T++,this.length=Math.min(T,this.length),0!==S&&(this.words[this.length-1]&=67108863^67108863>>>S<<S),this._strip())},x.prototype.maskn=function(g){return this.clone().imaskn(g)},x.prototype.iaddn=function(g){return k("number"==typeof g),k(g<67108864),g<0?this.isubn(-g):0!==this.negative?1===this.length&&(0|this.words[0])<=g?(this.words[0]=g-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},x.prototype._iaddn=function(g){this.words[0]+=g;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},x.prototype.isubn=function(g){if(k("number"==typeof g),k(g<67108864),g<0)return this.iaddn(-g);if(0!==this.negative)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},x.prototype.addn=function(g){return this.clone().iaddn(g)},x.prototype.subn=function(g){return this.clone().isubn(g)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(g,S,T){var A;this._expand(g.length+T);var s,v=0;for(A=0;A<g.length;A++){s=(0|this.words[A+T])+v;var W=(0|g.words[A])*S;v=((s-=67108863&W)>>26)-(W/67108864|0),this.words[A+T]=67108863&s}for(;A<this.length-T;A++)v=(s=(0|this.words[A+T])+v)>>26,this.words[A+T]=67108863&s;if(0===v)return this._strip();for(k(-1===v),v=0,A=0;A<this.length;A++)v=(s=-(0|this.words[A])+v)>>26,this.words[A]=67108863&s;return this.negative=1,this._strip()},x.prototype._wordDiv=function(g,S){var T,N=this.clone(),A=g,s=0|A.words[A.length-1];0!=(T=26-this._countBits(s))&&(A=A.ushln(T),N.iushln(T),s=0|A.words[A.length-1]);var K,W=N.length-A.length;if("mod"!==S){(K=new x(null)).length=W+1,K.words=new Array(K.length);for(var ee=0;ee<K.length;ee++)K.words[ee]=0}var ce=N.clone()._ishlnsubmul(A,1,W);0===ce.negative&&(N=ce,K&&(K.words[W]=1));for(var _e=W-1;_e>=0;_e--){var Oe=67108864*(0|N.words[A.length+_e])+(0|N.words[A.length+_e-1]);for(Oe=Math.min(Oe/s|0,67108863),N._ishlnsubmul(A,Oe,_e);0!==N.negative;)Oe--,N.negative=0,N._ishlnsubmul(A,1,_e),N.isZero()||(N.negative^=1);K&&(K.words[_e]=Oe)}return K&&K._strip(),N._strip(),"div"!==S&&0!==T&&N.iushrn(T),{div:K||null,mod:N}},x.prototype.divmod=function(g,S,T){return k(!g.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===g.negative?(s=this.neg().divmod(g,S),"mod"!==S&&(N=s.div.neg()),"div"!==S&&(A=s.mod.neg(),T&&0!==A.negative&&A.iadd(g)),{div:N,mod:A}):0===this.negative&&0!==g.negative?(s=this.divmod(g.neg(),S),"mod"!==S&&(N=s.div.neg()),{div:N,mod:s.mod}):this.negative&g.negative?(s=this.neg().divmod(g.neg(),S),"div"!==S&&(A=s.mod.neg(),T&&0!==A.negative&&A.isub(g)),{div:s.div,mod:A}):g.length>this.length||this.cmp(g)<0?{div:new x(0),mod:this}:1===g.length?"div"===S?{div:this.divn(g.words[0]),mod:null}:"mod"===S?{div:null,mod:new x(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new x(this.modrn(g.words[0]))}:this._wordDiv(g,S);var N,A,s},x.prototype.div=function(g){return this.divmod(g,"div",!1).div},x.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},x.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},x.prototype.divRound=function(g){var S=this.divmod(g);if(S.mod.isZero())return S.div;var T=0!==S.div.negative?S.mod.isub(g):S.mod,N=g.ushrn(1),A=g.andln(1),s=T.cmp(N);return s<0||1===A&&0===s?S.div:0!==S.div.negative?S.div.isubn(1):S.div.iaddn(1)},x.prototype.modrn=function(g){var S=g<0;S&&(g=-g),k(g<=67108863);for(var T=(1<<26)%g,N=0,A=this.length-1;A>=0;A--)N=(T*N+(0|this.words[A]))%g;return S?-N:N},x.prototype.modn=function(g){return this.modrn(g)},x.prototype.idivn=function(g){var S=g<0;S&&(g=-g),k(g<=67108863);for(var T=0,N=this.length-1;N>=0;N--){var A=(0|this.words[N])+67108864*T;this.words[N]=A/g|0,T=A%g}return this._strip(),S?this.ineg():this},x.prototype.divn=function(g){return this.clone().idivn(g)},x.prototype.egcd=function(g){k(0===g.negative),k(!g.isZero());var S=this,T=g.clone();S=0!==S.negative?S.umod(g):S.clone();for(var N=new x(1),A=new x(0),s=new x(0),v=new x(1),W=0;S.isEven()&&T.isEven();)S.iushrn(1),T.iushrn(1),++W;for(var K=T.clone(),ee=S.clone();!S.isZero();){for(var ce=0,_e=1;!(S.words[0]&_e)&&ce<26;++ce,_e<<=1);if(ce>0)for(S.iushrn(ce);ce-- >0;)(N.isOdd()||A.isOdd())&&(N.iadd(K),A.isub(ee)),N.iushrn(1),A.iushrn(1);for(var Oe=0,Ve=1;!(T.words[0]&Ve)&&Oe<26;++Oe,Ve<<=1);if(Oe>0)for(T.iushrn(Oe);Oe-- >0;)(s.isOdd()||v.isOdd())&&(s.iadd(K),v.isub(ee)),s.iushrn(1),v.iushrn(1);S.cmp(T)>=0?(S.isub(T),N.isub(s),A.isub(v)):(T.isub(S),s.isub(N),v.isub(A))}return{a:s,b:v,gcd:T.iushln(W)}},x.prototype._invmp=function(g){k(0===g.negative),k(!g.isZero());var ce,S=this,T=g.clone();S=0!==S.negative?S.umod(g):S.clone();for(var N=new x(1),A=new x(0),s=T.clone();S.cmpn(1)>0&&T.cmpn(1)>0;){for(var v=0,W=1;!(S.words[0]&W)&&v<26;++v,W<<=1);if(v>0)for(S.iushrn(v);v-- >0;)N.isOdd()&&N.iadd(s),N.iushrn(1);for(var K=0,ee=1;!(T.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(T.iushrn(K);K-- >0;)A.isOdd()&&A.iadd(s),A.iushrn(1);S.cmp(T)>=0?(S.isub(T),N.isub(A)):(T.isub(S),A.isub(N))}return(ce=0===S.cmpn(1)?N:A).cmpn(0)<0&&ce.iadd(g),ce},x.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var S=this.clone(),T=g.clone();S.negative=0,T.negative=0;for(var N=0;S.isEven()&&T.isEven();N++)S.iushrn(1),T.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;T.isEven();)T.iushrn(1);var A=S.cmp(T);if(A<0){var s=S;S=T,T=s}else if(0===A||0===T.cmpn(1))break;S.isub(T)}return T.iushln(N)},x.prototype.invm=function(g){return this.egcd(g).a.umod(g)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(g){return this.words[0]&g},x.prototype.bincn=function(g){k("number"==typeof g);var S=g%26,T=(g-S)/26,N=1<<S;if(this.length<=T)return this._expand(T+1),this.words[T]|=N,this;for(var A=N,s=T;0!==A&&s<this.length;s++){var v=0|this.words[s];A=(v+=A)>>>26,this.words[s]=v&=67108863}return 0!==A&&(this.words[s]=A,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(g){var T,S=g<0;if(0!==this.negative&&!S)return-1;if(0===this.negative&&S)return 1;if(this._strip(),this.length>1)T=1;else{S&&(g=-g),k(g<=67108863,"Number is too big");var N=0|this.words[0];T=N===g?0:N<g?-1:1}return 0!==this.negative?0|-T:T},x.prototype.cmp=function(g){if(0!==this.negative&&0===g.negative)return-1;if(0===this.negative&&0!==g.negative)return 1;var S=this.ucmp(g);return 0!==this.negative?0|-S:S},x.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var S=0,T=this.length-1;T>=0;T--){var N=0|this.words[T],A=0|g.words[T];if(N!==A){N<A?S=-1:N>A&&(S=1);break}}return S},x.prototype.gtn=function(g){return 1===this.cmpn(g)},x.prototype.gt=function(g){return 1===this.cmp(g)},x.prototype.gten=function(g){return this.cmpn(g)>=0},x.prototype.gte=function(g){return this.cmp(g)>=0},x.prototype.ltn=function(g){return-1===this.cmpn(g)},x.prototype.lt=function(g){return-1===this.cmp(g)},x.prototype.lten=function(g){return this.cmpn(g)<=0},x.prototype.lte=function(g){return this.cmp(g)<=0},x.prototype.eqn=function(g){return 0===this.cmpn(g)},x.prototype.eq=function(g){return 0===this.cmp(g)},x.red=function(g){return new a(g)},x.prototype.toRed=function(g){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),g.convertTo(this)._forceRed(g)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(g){return this.red=g,this},x.prototype.forceRed=function(g){return k(!this.red,"Already a number in reduction context"),this._forceRed(g)},x.prototype.redAdd=function(g){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},x.prototype.redIAdd=function(g){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},x.prototype.redSub=function(g){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},x.prototype.redISub=function(g){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},x.prototype.redShl=function(g){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},x.prototype.redMul=function(g){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},x.prototype.redIMul=function(g){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(g){return k(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var de={k256:null,p224:null,p192:null,p25519:null};function le(y,g){this.name=y,this.p=new x(g,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function we(){le.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function xe(){le.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Ce(){le.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){le.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function a(y){if("string"==typeof y){var g=x._prime(y);this.m=g.p,this.prime=g}else k(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function u(y){a.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}le.prototype._tmp=function(){var g=new x(null);return g.words=new Array(Math.ceil(this.n/13)),g},le.prototype.ireduce=function(g){var T,S=g;do{this.split(S,this.tmp),T=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength()}while(T>this.n);var N=T<this.n?-1:S.ucmp(this.p);return 0===N?(S.words[0]=0,S.length=1):N>0?S.isub(this.p):void 0!==S.strip?S.strip():S._strip(),S},le.prototype.split=function(g,S){g.iushrn(this.n,0,S)},le.prototype.imulK=function(g){return g.imul(this.k)},H(we,le),we.prototype.split=function(g,S){for(var T=4194303,N=Math.min(g.length,9),A=0;A<N;A++)S.words[A]=g.words[A];if(S.length=N,g.length<=9)return g.words[0]=0,void(g.length=1);var s=g.words[9];for(S.words[S.length++]=s&T,A=10;A<g.length;A++){var v=0|g.words[A];g.words[A-10]=(v&T)<<4|s>>>22,s=v}g.words[A-10]=s>>>=22,g.length-=0===s&&g.length>10?10:9},we.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var S=0,T=0;T<g.length;T++){var N=0|g.words[T];g.words[T]=67108863&(S+=977*N),S=64*N+(S/67108864|0)}return 0===g.words[g.length-1]&&(g.length--,0===g.words[g.length-1]&&g.length--),g},H(xe,le),H(Ce,le),H(C,le),C.prototype.imulK=function(g){for(var S=0,T=0;T<g.length;T++){var N=19*(0|g.words[T])+S,A=67108863&N;N>>>=26,g.words[T]=A,S=N}return 0!==S&&(g.words[g.length++]=S),g},x._prime=function(g){if(de[g])return de[g];var S;if("k256"===g)S=new we;else if("p224"===g)S=new xe;else if("p192"===g)S=new Ce;else{if("p25519"!==g)throw new Error("Unknown prime "+g);S=new C}return de[g]=S,S},a.prototype._verify1=function(g){k(0===g.negative,"red works only with positives"),k(g.red,"red works only with red numbers")},a.prototype._verify2=function(g,S){k(!(g.negative|S.negative),"red works only with positives"),k(g.red&&g.red===S.red,"red works only with red numbers")},a.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(L(g,g.umod(this.m)._forceRed(this)),g)},a.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},a.prototype.add=function(g,S){this._verify2(g,S);var T=g.add(S);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},a.prototype.iadd=function(g,S){this._verify2(g,S);var T=g.iadd(S);return T.cmp(this.m)>=0&&T.isub(this.m),T},a.prototype.sub=function(g,S){this._verify2(g,S);var T=g.sub(S);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},a.prototype.isub=function(g,S){this._verify2(g,S);var T=g.isub(S);return T.cmpn(0)<0&&T.iadd(this.m),T},a.prototype.shl=function(g,S){return this._verify1(g),this.imod(g.ushln(S))},a.prototype.imul=function(g,S){return this._verify2(g,S),this.imod(g.imul(S))},a.prototype.mul=function(g,S){return this._verify2(g,S),this.imod(g.mul(S))},a.prototype.isqr=function(g){return this.imul(g,g.clone())},a.prototype.sqr=function(g){return this.mul(g,g)},a.prototype.sqrt=function(g){if(g.isZero())return g.clone();var S=this.m.andln(3);if(k(S%2==1),3===S){var T=this.m.add(new x(1)).iushrn(2);return this.pow(g,T)}for(var N=this.m.subn(1),A=0;!N.isZero()&&0===N.andln(1);)A++,N.iushrn(1);k(!N.isZero());var s=new x(1).toRed(this),v=s.redNeg(),W=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new x(2*K*K).toRed(this);0!==this.pow(K,W).cmp(v);)K.redIAdd(v);for(var ee=this.pow(K,N),ce=this.pow(g,N.addn(1).iushrn(1)),_e=this.pow(g,N),Oe=A;0!==_e.cmp(s);){for(var Ve=_e,Se=0;0!==Ve.cmp(s);Se++)Ve=Ve.redSqr();k(Se<Oe);var be=this.pow(ee,new x(1).iushln(Oe-Se-1));ce=ce.redMul(be),ee=be.redSqr(),_e=_e.redMul(ee),Oe=Se}return ce},a.prototype.invm=function(g){var S=g._invmp(this.m);return 0!==S.negative?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},a.prototype.pow=function(g,S){if(S.isZero())return new x(1).toRed(this);if(0===S.cmpn(1))return g.clone();var N=new Array(16);N[0]=new x(1).toRed(this),N[1]=g;for(var A=2;A<N.length;A++)N[A]=this.mul(N[A-1],g);var s=N[0],v=0,W=0,K=S.bitLength()%26;for(0===K&&(K=26),A=S.length-1;A>=0;A--){for(var ee=S.words[A],ce=K-1;ce>=0;ce--){var _e=ee>>ce&1;s!==N[0]&&(s=this.sqr(s)),0!==_e||0!==v?(v<<=1,v|=_e,(4==++W||0===A&&0===ce)&&(s=this.mul(s,N[v]),W=0,v=0)):W=0}K=26}return s},a.prototype.convertTo=function(g){var S=g.umod(this.m);return S===g?S.clone():S},a.prototype.convertFrom=function(g){var S=g.clone();return S.red=null,S},x.mont=function(g){return new u(g)},H(u,a),u.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},u.prototype.convertFrom=function(g){var S=this.imod(g.mul(this.rinv));return S.red=null,S},u.prototype.imul=function(g,S){if(g.isZero()||S.isZero())return g.words[0]=0,g.length=1,g;var T=g.imul(S),N=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=T.isub(N).iushrn(this.shift),s=A;return A.cmp(this.m)>=0?s=A.isub(this.m):A.cmpn(0)<0&&(s=A.iadd(this.m)),s._forceRed(this)},u.prototype.mul=function(g,S){if(g.isZero()||S.isZero())return new x(0)._forceRed(this);var T=g.mul(S),N=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=T.isub(N).iushrn(this.shift),s=A;return A.cmp(this.m)>=0?s=A.isub(this.m):A.cmpn(0)<0&&(s=A.iadd(this.m)),s._forceRed(this)},u.prototype.invm=function(g){return this.imod(g._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=E.nmd(je),this)},35294:(je,z,E)=>{var f;function _(H){this.rand=H}if(je.exports=function(x){return f||(f=new _(null)),f.generate(x)},je.exports.Rand=_,_.prototype.generate=function(x){return this._rand(x)},_.prototype._rand=function(x){if(this.rand.getBytes)return this.rand.getBytes(x);for(var P=new Uint8Array(x),M=0;M<P.length;M++)P[M]=this.rand.getByte();return P},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?_.prototype._rand=function(x){var P=new Uint8Array(x);return self.crypto.getRandomValues(P),P}:self.msCrypto&&self.msCrypto.getRandomValues?_.prototype._rand=function(x){var P=new Uint8Array(x);return self.msCrypto.getRandomValues(P),P}:"object"==typeof window&&(_.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var k=E(91426);if("function"!=typeof k.randomBytes)throw new Error("Not supported");_.prototype._rand=function(x){return k.randomBytes(x)}}catch{}},23963:(je,z,E)=>{"use strict";const{AbstractLevel:f}=E(75929),_=E(61747),k=E(81725),{fromCallback:H}=E(42381),{Iterator:x}=E(18229),P=E(97899),M=E(19857),O=E(57059),F="level-js-",L=Symbol("idb"),D=Symbol("namePrefix"),X=Symbol("location"),j=Symbol("version"),G=Symbol("store"),re=Symbol("onComplete"),te=Symbol("promise");z.BrowserLevel=(()=>{class Z extends f{constructor(ae,se,de){if("function"==typeof se||"function"==typeof de)throw new _("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:le,version:we,...xe}=se||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},xe),"string"!=typeof ae)throw new Error("constructor requires a location string argument");this[X]=ae,this[D]=le??F,this[j]=parseInt(we||1,10),this[L]=null}get location(){return this[X]}get namePrefix(){return this[D]}get version(){return this[j]}get db(){return this[L]}get type(){return"browser-level"}_open(ae,se){const de=indexedDB.open(this[D]+this[X],this[j]);de.onerror=function(){se(de.error||new Error("unknown error"))},de.onsuccess=()=>{this[L]=de.result,se()},de.onupgradeneeded=le=>{const we=le.target.result;we.objectStoreNames.contains(this[X])||we.createObjectStore(this[X])}}[G](ae){return this[L].transaction([this[X]],ae).objectStore(this[X])}[re](ae,se){const de=ae.transaction;de.onabort=function(){se(de.error||new Error("aborted by user"))},de.oncomplete=function(){se(null,ae.result)}}_get(ae,se,de){const le=this[G]("readonly");let we;try{we=le.get(ae)}catch(xe){return this.nextTick(de,xe)}this[re](we,function(xe,Ce){return xe?de(xe):void 0===Ce?de(new _("Entry not found",{code:"LEVEL_NOT_FOUND"})):void de(null,P(Ce))})}_getMany(ae,se,de){const le=this[G]("readonly"),we=ae.map(xe=>Ce=>{let C;try{C=le.get(xe)}catch(a){return Ce(a)}C.onsuccess=()=>{const a=C.result;Ce(null,void 0===a?a:P(a))},C.onerror=a=>{a.stopPropagation(),Ce(C.error)}});k(we,16,de)}_del(ae,se,de){const le=this[G]("readwrite");let we;try{we=le.delete(ae)}catch(xe){return this.nextTick(de,xe)}this[re](we,de)}_put(ae,se,de,le){const we=this[G]("readwrite");let xe;try{xe=we.put(se,ae)}catch(Ce){return this.nextTick(le,Ce)}this[re](xe,le)}_iterator(ae){return new x(this,this[X],ae)}_batch(ae,se,de){const le=this[G]("readwrite"),we=le.transaction;let Ce,xe=0;we.onabort=function(){de(Ce||we.error||new Error("aborted by user"))},we.oncomplete=function(){de()},function C(){const a=ae[xe++],u=a.key;let y;try{y="del"===a.type?le.delete(u):le.put(a.value,u)}catch(g){return Ce=g,void we.abort()}xe<ae.length?y.onsuccess=C:"function"==typeof we.commit&&we.commit()}()}_clear(ae,se){let de,le;try{de=O(ae)}catch{return this.nextTick(se)}if(ae.limit>=0)return M(this,this[X],de,ae,se);try{const we=this[G]("readwrite");le=de?we.delete(de):we.clear()}catch(we){return this.nextTick(se,we)}this[re](le,se)}_close(ae){this[L].close(),this.nextTick(ae)}}return Z.destroy=function(ie,ae,se){"function"==typeof ae&&(se=ae,ae=F),se=H(se,te);const de=indexedDB.deleteDatabase(ae+ie);return de.onsuccess=function(){se()},de.onerror=function(le){se(le)},se[te]},Z})()},18229:(je,z,E)=>{"use strict";const{AbstractIterator:f}=E(75929),_=E(57059),k=E(97899),H=Symbol("cache"),x=Symbol("finished"),P=Symbol("options"),M=Symbol("currentOptions"),O=Symbol("position"),F=Symbol("location"),L=Symbol("first"),D={};function j(G){"function"==typeof G.commit&&G.commit()}z.Iterator=class X extends f{constructor(re,te,J){super(re,J),this[H]=[],this[x]=0===this.limit,this[P]=J,this[M]={...J},this[O]=void 0,this[F]=te,this[L]=!0}_nextv(re,te,J){if(this[L]=!1,this[x])return this.nextTick(J,null,[]);if(this[H].length>0)return re=Math.min(re,this[H].length),this.nextTick(J,null,this[H].splice(0,re));let Z;void 0!==this[O]&&(this[P].reverse?(this[M].lt=this[O],this[M].lte=void 0):(this[M].gt=this[O],this[M].gte=void 0));try{Z=_(this[M])}catch{return this[x]=!0,this.nextTick(J,null,[])}const ie=this.db.db.transaction([this[F]],"readonly"),ae=ie.objectStore(this[F]),se=[];if(this[P].reverse)ae[!this[P].values&&ae.openKeyCursor?"openKeyCursor":"openCursor"](Z,"prev").onsuccess=le=>{const we=le.target.result;if(we){const{key:xe,value:Ce}=we;this[O]=xe,se.push([this[P].keys&&void 0!==xe?k(xe):void 0,this[P].values&&void 0!==Ce?k(Ce):void 0]),se.length<re?we.continue():j(ie)}else this[x]=!0};else{let de,le;const we=()=>{if(void 0===de||void 0===le)return;const xe=Math.max(de.length,le.length);0===xe||re===1/0?this[x]=!0:this[O]=de[xe-1],se.length=xe;for(let Ce=0;Ce<xe;Ce++){const C=de[Ce],a=le[Ce];se[Ce]=[this[P].keys&&void 0!==C?k(C):void 0,this[P].values&&void 0!==a?k(a):void 0]}j(ie)};this[P].keys||re<1/0?ae.getAllKeys(Z,re<1/0?re:void 0).onsuccess=xe=>{de=xe.target.result,we()}:(de=[],this.nextTick(we)),this[P].values?ae.getAll(Z,re<1/0?re:void 0).onsuccess=xe=>{le=xe.target.result,we()}:(le=[],this.nextTick(we))}ie.onabort=()=>{J(ie.error||new Error("aborted by user")),J=null},ie.oncomplete=()=>{J(null,se),J=null}}_next(re){if(this[H].length>0){const[te,J]=this[H].shift();this.nextTick(re,null,te,J)}else if(this[x])this.nextTick(re);else{let te=Math.min(100,this.limit-this.count);this[L]&&(this[L]=!1,te=1),this._nextv(te,D,(J,Z)=>{if(J)return re(J);this[H]=Z,this._next(re)})}}_all(re,te){this[L]=!1;const J=this[H].splice(0,this[H].length),Z=this.limit-this.count-J.length;if(Z<=0)return this.nextTick(te,null,J);this._nextv(Z,D,(ie,ae)=>{if(ie)return te(ie);J.length>0&&(ae=J.concat(ae)),te(null,ae)})}_seek(re,te){let J;this[L]=!0,this[H]=[],this[x]=!1,this[O]=void 0,this[M]={...this[P]};try{J=_(this[P])}catch{return void(this[x]=!0)}null===J||J.includes(re)?this[P].reverse?this[M].lte=re:this[M].gte=re:this[x]=!0}}},19857:je=>{"use strict";je.exports=function(E,f,_,k,H){if(0===k.limit)return E.nextTick(H);const x=E.db.transaction([f],"readwrite"),P=x.objectStore(f);let M=0;x.oncomplete=function(){H()},x.onabort=function(){H(x.error||new Error("aborted by user"))},P[P.openKeyCursor?"openKeyCursor":"openCursor"](_,k.reverse?"prev":"next").onsuccess=function(L){const D=L.target.result;D&&(P.delete(D.key).onsuccess=function(){(k.limit<=0||++M<k.limit)&&D.continue()})}}},97899:je=>{"use strict";const z=new TextEncoder;je.exports=function(E){return E instanceof Uint8Array?E:E instanceof ArrayBuffer?new Uint8Array(E):z.encode(E)}},57059:je=>{"use strict";je.exports=function(E){const f=void 0!==E.gte?E.gte:void 0!==E.gt?E.gt:void 0,_=void 0!==E.lte?E.lte:void 0!==E.lt?E.lt:void 0,k=void 0===E.gte,H=void 0===E.lte;return void 0!==f&&void 0!==_?IDBKeyRange.bound(f,_,k,H):void 0!==f?IDBKeyRange.lowerBound(f,k):void 0!==_?IDBKeyRange.upperBound(_,H):null}},12375:(je,z,E)=>{var f=E(27054).Buffer;function _(O){f.isBuffer(O)||(O=f.from(O));for(var F=O.length/4|0,L=new Array(F),D=0;D<F;D++)L[D]=O.readUInt32BE(4*D);return L}function k(O){for(;0<O.length;O++)O[0]=0}function H(O,F,L,D,X){for(var se,de,le,we,j=L[0],G=L[1],re=L[2],te=L[3],J=O[0]^F[0],Z=O[1]^F[1],ie=O[2]^F[2],ae=O[3]^F[3],xe=4,Ce=1;Ce<X;Ce++)se=j[J>>>24]^G[Z>>>16&255]^re[ie>>>8&255]^te[255&ae]^F[xe++],de=j[Z>>>24]^G[ie>>>16&255]^re[ae>>>8&255]^te[255&J]^F[xe++],le=j[ie>>>24]^G[ae>>>16&255]^re[J>>>8&255]^te[255&Z]^F[xe++],we=j[ae>>>24]^G[J>>>16&255]^re[Z>>>8&255]^te[255&ie]^F[xe++],J=se,Z=de,ie=le,ae=we;return se=(D[J>>>24]<<24|D[Z>>>16&255]<<16|D[ie>>>8&255]<<8|D[255&ae])^F[xe++],de=(D[Z>>>24]<<24|D[ie>>>16&255]<<16|D[ae>>>8&255]<<8|D[255&J])^F[xe++],le=(D[ie>>>24]<<24|D[ae>>>16&255]<<16|D[J>>>8&255]<<8|D[255&Z])^F[xe++],we=(D[ae>>>24]<<24|D[J>>>16&255]<<16|D[Z>>>8&255]<<8|D[255&ie])^F[xe++],[se>>>=0,de>>>=0,le>>>=0,we>>>=0]}var x=[0,1,2,4,8,16,32,64,128,27,54],P=function(){for(var O=new Array(256),F=0;F<256;F++)O[F]=F<128?F<<1:F<<1^283;for(var L=[],D=[],X=[[],[],[],[]],j=[[],[],[],[]],G=0,re=0,te=0;te<256;++te){var J=re^re<<1^re<<2^re<<3^re<<4;L[G]=J=J>>>8^255&J^99,D[J]=G;var Z=O[G],ie=O[Z],ae=O[ie],se=257*O[J]^16843008*J;X[0][G]=se<<24|se>>>8,X[1][G]=se<<16|se>>>16,X[2][G]=se<<8|se>>>24,X[3][G]=se,j[0][J]=(se=16843009*ae^65537*ie^257*Z^16843008*G)<<24|se>>>8,j[1][J]=se<<16|se>>>16,j[2][J]=se<<8|se>>>24,j[3][J]=se,0===G?G=re=1:(G=Z^O[O[O[ae^Z]]],re^=O[O[re]])}return{SBOX:L,INV_SBOX:D,SUB_MIX:X,INV_SUB_MIX:j}}();function M(O){this._key=_(O),this._reset()}M.blockSize=16,M.keySize=32,M.prototype.blockSize=M.blockSize,M.prototype.keySize=M.keySize,M.prototype._reset=function(){for(var O=this._key,F=O.length,L=F+6,D=4*(L+1),X=[],j=0;j<F;j++)X[j]=O[j];for(j=F;j<D;j++){var G=X[j-1];j%F==0?(G=P.SBOX[(G=G<<8|G>>>24)>>>24]<<24|P.SBOX[G>>>16&255]<<16|P.SBOX[G>>>8&255]<<8|P.SBOX[255&G],G^=x[j/F|0]<<24):F>6&&j%F==4&&(G=P.SBOX[G>>>24]<<24|P.SBOX[G>>>16&255]<<16|P.SBOX[G>>>8&255]<<8|P.SBOX[255&G]),X[j]=X[j-F]^G}for(var re=[],te=0;te<D;te++){var J=D-te,Z=X[J-(te%4?0:4)];re[te]=te<4||J<=4?Z:P.INV_SUB_MIX[0][P.SBOX[Z>>>24]]^P.INV_SUB_MIX[1][P.SBOX[Z>>>16&255]]^P.INV_SUB_MIX[2][P.SBOX[Z>>>8&255]]^P.INV_SUB_MIX[3][P.SBOX[255&Z]]}this._nRounds=L,this._keySchedule=X,this._invKeySchedule=re},M.prototype.encryptBlockRaw=function(O){return H(O=_(O),this._keySchedule,P.SUB_MIX,P.SBOX,this._nRounds)},M.prototype.encryptBlock=function(O){var F=this.encryptBlockRaw(O),L=f.allocUnsafe(16);return L.writeUInt32BE(F[0],0),L.writeUInt32BE(F[1],4),L.writeUInt32BE(F[2],8),L.writeUInt32BE(F[3],12),L},M.prototype.decryptBlock=function(O){var F=(O=_(O))[1];O[1]=O[3],O[3]=F;var L=H(O,this._invKeySchedule,P.INV_SUB_MIX,P.INV_SBOX,this._nRounds),D=f.allocUnsafe(16);return D.writeUInt32BE(L[0],0),D.writeUInt32BE(L[3],4),D.writeUInt32BE(L[2],8),D.writeUInt32BE(L[1],12),D},M.prototype.scrub=function(){k(this._keySchedule),k(this._invKeySchedule),k(this._key)},je.exports.AES=M},19307:(je,z,E)=>{var f=E(12375),_=E(27054).Buffer,k=E(3247),H=E(71993),x=E(85917),P=E(13546),M=E(95725);function L(D,X,j,G){k.call(this);var re=_.alloc(4,0);this._cipher=new f.AES(X);var te=this._cipher.encryptBlock(re);this._ghash=new x(te),j=function F(D,X,j){if(12===X.length)return D._finID=_.concat([X,_.from([0,0,0,1])]),_.concat([X,_.from([0,0,0,2])]);var G=new x(j),re=X.length,te=re%16;G.update(X),te&&G.update(_.alloc(te=16-te,0)),G.update(_.alloc(8,0));var J=8*re,Z=_.alloc(8);Z.writeUIntBE(J,0,8),G.update(Z),D._finID=G.state;var ie=_.from(D._finID);return M(ie),ie}(this,j,te),this._prev=_.from(j),this._cache=_.allocUnsafe(0),this._secCache=_.allocUnsafe(0),this._decrypt=G,this._alen=0,this._len=0,this._mode=D,this._authTag=null,this._called=!1}H(L,k),L.prototype._update=function(D){if(!this._called&&this._alen){var X=16-this._alen%16;X<16&&(X=_.alloc(X,0),this._ghash.update(X))}this._called=!0;var j=this._mode.encrypt(this,D);return this._ghash.update(this._decrypt?D:j),this._len+=D.length,j},L.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var D=P(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function O(D,X){var j=0;D.length!==X.length&&j++;for(var G=Math.min(D.length,X.length),re=0;re<G;++re)j+=D[re]^X[re];return j}(D,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=D,this._cipher.scrub()},L.prototype.getAuthTag=function(){if(this._decrypt||!_.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},L.prototype.setAuthTag=function(X){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=X},L.prototype.setAAD=function(X){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(X),this._alen+=X.length},je.exports=L},43388:(je,z,E)=>{var f=E(350),_=E(60102),k=E(3219);z.createCipher=z.Cipher=f.createCipher,z.createCipheriv=z.Cipheriv=f.createCipheriv,z.createDecipher=z.Decipher=_.createDecipher,z.createDecipheriv=z.Decipheriv=_.createDecipheriv,z.listCiphers=z.getCiphers=function H(){return Object.keys(k)}},60102:(je,z,E)=>{var f=E(19307),_=E(27054).Buffer,k=E(60503),H=E(91821),x=E(3247),P=E(12375),M=E(18211);function F(G,re,te){x.call(this),this._cache=new L,this._last=void 0,this._cipher=new P.AES(re),this._prev=_.from(te),this._mode=G,this._autopadding=!0}function L(){this.cache=_.allocUnsafe(0)}function X(G,re,te){var J=k[G.toLowerCase()];if(!J)throw new TypeError("invalid suite type");if("string"==typeof te&&(te=_.from(te)),"GCM"!==J.mode&&te.length!==J.iv)throw new TypeError("invalid iv length "+te.length);if("string"==typeof re&&(re=_.from(re)),re.length!==J.key/8)throw new TypeError("invalid key length "+re.length);return"stream"===J.type?new H(J.module,re,te,!0):"auth"===J.type?new f(J.module,re,te,!0):new F(J.module,re,te)}E(71993)(F,x),F.prototype._update=function(G){this._cache.add(G);for(var re,te,J=[];re=this._cache.get(this._autopadding);)te=this._mode.decrypt(this,re),J.push(te);return _.concat(J)},F.prototype._final=function(){var G=this._cache.flush();if(this._autopadding)return function D(G){var re=G[15];if(re<1||re>16)throw new Error("unable to decrypt data");for(var te=-1;++te<re;)if(G[te+(16-re)]!==re)throw new Error("unable to decrypt data");if(16!==re)return G.slice(0,16-re)}(this._mode.decrypt(this,G));if(G)throw new Error("data not multiple of block length")},F.prototype.setAutoPadding=function(G){return this._autopadding=!!G,this},L.prototype.add=function(G){this.cache=_.concat([this.cache,G])},L.prototype.get=function(G){var re;if(G){if(this.cache.length>16)return re=this.cache.slice(0,16),this.cache=this.cache.slice(16),re}else if(this.cache.length>=16)return re=this.cache.slice(0,16),this.cache=this.cache.slice(16),re;return null},L.prototype.flush=function(){if(this.cache.length)return this.cache},z.createDecipher=function j(G,re){var te=k[G.toLowerCase()];if(!te)throw new TypeError("invalid suite type");var J=M(re,!1,te.key,te.iv);return X(G,J.key,J.iv)},z.createDecipheriv=X},350:(je,z,E)=>{var f=E(60503),_=E(19307),k=E(27054).Buffer,H=E(91821),x=E(3247),P=E(12375),M=E(18211);function F(G,re,te){x.call(this),this._cache=new D,this._cipher=new P.AES(re),this._prev=k.from(te),this._mode=G,this._autopadding=!0}E(71993)(F,x),F.prototype._update=function(G){this._cache.add(G);for(var re,te,J=[];re=this._cache.get();)te=this._mode.encrypt(this,re),J.push(te);return k.concat(J)};var L=k.alloc(16,16);function D(){this.cache=k.allocUnsafe(0)}function X(G,re,te){var J=f[G.toLowerCase()];if(!J)throw new TypeError("invalid suite type");if("string"==typeof re&&(re=k.from(re)),re.length!==J.key/8)throw new TypeError("invalid key length "+re.length);if("string"==typeof te&&(te=k.from(te)),"GCM"!==J.mode&&te.length!==J.iv)throw new TypeError("invalid iv length "+te.length);return"stream"===J.type?new H(J.module,re,te):"auth"===J.type?new _(J.module,re,te):new F(J.module,re,te)}F.prototype._final=function(){var G=this._cache.flush();if(this._autopadding)return G=this._mode.encrypt(this,G),this._cipher.scrub(),G;if(!G.equals(L))throw this._cipher.scrub(),new Error("data not multiple of block length")},F.prototype.setAutoPadding=function(G){return this._autopadding=!!G,this},D.prototype.add=function(G){this.cache=k.concat([this.cache,G])},D.prototype.get=function(){if(this.cache.length>15){var G=this.cache.slice(0,16);return this.cache=this.cache.slice(16),G}return null},D.prototype.flush=function(){for(var G=16-this.cache.length,re=k.allocUnsafe(G),te=-1;++te<G;)re.writeUInt8(G,te);return k.concat([this.cache,re])},z.createCipheriv=X,z.createCipher=function j(G,re){var te=f[G.toLowerCase()];if(!te)throw new TypeError("invalid suite type");var J=M(re,!1,te.key,te.iv);return X(G,J.key,J.iv)}},85917:(je,z,E)=>{var f=E(27054).Buffer,_=f.alloc(16,0);function H(P){var M=f.allocUnsafe(16);return M.writeUInt32BE(P[0]>>>0,0),M.writeUInt32BE(P[1]>>>0,4),M.writeUInt32BE(P[2]>>>0,8),M.writeUInt32BE(P[3]>>>0,12),M}function x(P){this.h=P,this.state=f.alloc(16,0),this.cache=f.allocUnsafe(0)}x.prototype.ghash=function(P){for(var M=-1;++M<P.length;)this.state[M]^=P[M];this._multiply()},x.prototype._multiply=function(){for(var O,L,P=function k(P){return[P.readUInt32BE(0),P.readUInt32BE(4),P.readUInt32BE(8),P.readUInt32BE(12)]}(this.h),M=[0,0,0,0],D=-1;++D<128;){for(!!(this.state[~~(D/8)]&1<<7-D%8)&&(M[0]^=P[0],M[1]^=P[1],M[2]^=P[2],M[3]^=P[3]),L=!!(1&P[3]),O=3;O>0;O--)P[O]=P[O]>>>1|(1&P[O-1])<<31;P[0]=P[0]>>>1,L&&(P[0]=P[0]^225<<24)}this.state=H(M)},x.prototype.update=function(P){this.cache=f.concat([this.cache,P]);for(var M;this.cache.length>=16;)M=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(M)},x.prototype.final=function(P,M){return this.cache.length&&this.ghash(f.concat([this.cache,_],16)),this.ghash(H([0,P,0,M])),this.state},je.exports=x},95725:je=>{je.exports=function z(E){for(var _,f=E.length;f--;){if(255!==(_=E.readUInt8(f))){_++,E.writeUInt8(_,f);break}E.writeUInt8(0,f)}}},34133:(je,z,E)=>{var f=E(13546);z.encrypt=function(_,k){var H=f(k,_._prev);return _._prev=_._cipher.encryptBlock(H),_._prev},z.decrypt=function(_,k){var H=_._prev;_._prev=k;var x=_._cipher.decryptBlock(k);return f(x,H)}},17090:(je,z,E)=>{var f=E(27054).Buffer,_=E(13546);function k(H,x,P){var M=x.length,O=_(x,H._cache);return H._cache=H._cache.slice(M),H._prev=f.concat([H._prev,P?x:O]),O}z.encrypt=function(H,x,P){for(var O,M=f.allocUnsafe(0);x.length;){if(0===H._cache.length&&(H._cache=H._cipher.encryptBlock(H._prev),H._prev=f.allocUnsafe(0)),!(H._cache.length<=x.length)){M=f.concat([M,k(H,x,P)]);break}M=f.concat([M,k(H,x.slice(0,O=H._cache.length),P)]),x=x.slice(O)}return M}},71039:(je,z,E)=>{var f=E(27054).Buffer;function _(H,x,P){for(var D,X,O=-1,L=0;++O<8;)L+=(128&(X=H._cipher.encryptBlock(H._prev)[0]^(D=x&1<<7-O?128:0)))>>O%8,H._prev=k(H._prev,P?D:X);return L}function k(H,x){var P=H.length,M=-1,O=f.allocUnsafe(H.length);for(H=f.concat([H,f.from([x])]);++M<P;)O[M]=H[M]<<1|H[M+1]>>7;return O}z.encrypt=function(H,x,P){for(var M=x.length,O=f.allocUnsafe(M),F=-1;++F<M;)O[F]=_(H,x[F],P);return O}},72576:(je,z,E)=>{var f=E(27054).Buffer;function _(k,H,x){var M=k._cipher.encryptBlock(k._prev)[0]^H;return k._prev=f.concat([k._prev.slice(1),f.from([x?H:M])]),M}z.encrypt=function(k,H,x){for(var P=H.length,M=f.allocUnsafe(P),O=-1;++O<P;)M[O]=_(k,H[O],x);return M}},70336:(je,z,E)=>{var f=E(13546),_=E(27054).Buffer,k=E(95725);function H(P){var M=P._cipher.encryptBlockRaw(P._prev);return k(P._prev),M}z.encrypt=function(P,M){var O=Math.ceil(M.length/16),F=P._cache.length;P._cache=_.concat([P._cache,_.allocUnsafe(16*O)]);for(var L=0;L<O;L++){var D=H(P),X=F+16*L;P._cache.writeUInt32BE(D[0],X+0),P._cache.writeUInt32BE(D[1],X+4),P._cache.writeUInt32BE(D[2],X+8),P._cache.writeUInt32BE(D[3],X+12)}var j=P._cache.slice(0,M.length);return P._cache=P._cache.slice(M.length),f(M,j)}},37513:(je,z)=>{z.encrypt=function(E,f){return E._cipher.encryptBlock(f)},z.decrypt=function(E,f){return E._cipher.decryptBlock(f)}},60503:(je,z,E)=>{var f={ECB:E(37513),CBC:E(34133),CFB:E(17090),CFB8:E(72576),CFB1:E(71039),OFB:E(46854),CTR:E(70336),GCM:E(70336)},_=E(3219);for(var k in _)_[k].module=f[_[k].mode];je.exports=_},46854:(je,z,E)=>{var f=E(13546);function _(k){return k._prev=k._cipher.encryptBlock(k._prev),k._prev}z.encrypt=function(k,H){for(;k._cache.length<H.length;)k._cache=Buffer.concat([k._cache,_(k)]);var x=k._cache.slice(0,H.length);return k._cache=k._cache.slice(H.length),f(H,x)}},91821:(je,z,E)=>{var f=E(12375),_=E(27054).Buffer,k=E(3247);function x(P,M,O,F){k.call(this),this._cipher=new f.AES(M),this._prev=_.from(O),this._cache=_.allocUnsafe(0),this._secCache=_.allocUnsafe(0),this._decrypt=F,this._mode=P}E(71993)(x,k),x.prototype._update=function(P){return this._mode.encrypt(this,P,this._decrypt)},x.prototype._final=function(){this._cipher.scrub()},je.exports=x},88862:(je,z,E)=>{var f=E(39799),_=E(43388),k=E(60503),H=E(59571),x=E(18211);function O(D,X,j){if(D=D.toLowerCase(),k[D])return _.createCipheriv(D,X,j);if(H[D])return new f({key:X,iv:j,mode:D});throw new TypeError("invalid suite type")}function F(D,X,j){if(D=D.toLowerCase(),k[D])return _.createDecipheriv(D,X,j);if(H[D])return new f({key:X,iv:j,mode:D,decrypt:!0});throw new TypeError("invalid suite type")}z.createCipher=z.Cipher=function P(D,X){var j,G;if(D=D.toLowerCase(),k[D])j=k[D].key,G=k[D].iv;else{if(!H[D])throw new TypeError("invalid suite type");j=8*H[D].key,G=H[D].iv}var re=x(X,!1,j,G);return O(D,re.key,re.iv)},z.createCipheriv=z.Cipheriv=O,z.createDecipher=z.Decipher=function M(D,X){var j,G;if(D=D.toLowerCase(),k[D])j=k[D].key,G=k[D].iv;else{if(!H[D])throw new TypeError("invalid suite type");j=8*H[D].key,G=H[D].iv}var re=x(X,!1,j,G);return F(D,re.key,re.iv)},z.createDecipheriv=z.Decipheriv=F,z.listCiphers=z.getCiphers=function L(){return Object.keys(H).concat(_.getCiphers())}},39799:(je,z,E)=>{var f=E(3247),_=E(71549),k=E(71993),H=E(27054).Buffer,x={"des-ede3-cbc":_.CBC.instantiate(_.EDE),"des-ede3":_.EDE,"des-ede-cbc":_.CBC.instantiate(_.EDE),"des-ede":_.EDE,"des-cbc":_.CBC.instantiate(_.DES),"des-ecb":_.DES};function P(M){f.call(this);var L,O=M.mode.toLowerCase(),F=x[O];L=M.decrypt?"decrypt":"encrypt";var D=M.key;H.isBuffer(D)||(D=H.from(D)),("des-ede"===O||"des-ede-cbc"===O)&&(D=H.concat([D,D.slice(0,8)]));var X=M.iv;H.isBuffer(X)||(X=H.from(X)),this._des=F.create({key:D,iv:X,type:L})}x.des=x["des-cbc"],x.des3=x["des-ede3-cbc"],je.exports=P,k(P,f),P.prototype._update=function(M){return H.from(this._des.update(M))},P.prototype._final=function(){return H.from(this._des.final())}},59571:(je,z)=>{z["des-ecb"]={key:8,iv:0},z["des-cbc"]=z.des={key:8,iv:8},z["des-ede3-cbc"]=z.des3={key:24,iv:8},z["des-ede3"]={key:24,iv:0},z["des-ede-cbc"]={key:16,iv:8},z["des-ede"]={key:16,iv:0}},14105:(je,z,E)=>{var f=E(917),_=E(3342);function H(P){var O,M=P.modulus.byteLength();do{O=new f(_(M))}while(O.cmp(P.modulus)>=0||!O.umod(P.prime1)||!O.umod(P.prime2));return O}function x(P,M){var O=function k(P){var M=H(P);return{blinder:M.toRed(f.mont(P.modulus)).redPow(new f(P.publicExponent)).fromRed(),unblinder:M.invm(P.modulus)}}(M),F=M.modulus.byteLength(),L=new f(P).mul(O.blinder).umod(M.modulus),D=L.toRed(f.mont(M.prime1)),X=L.toRed(f.mont(M.prime2)),j=M.coefficient,G=M.prime1,re=M.prime2,te=D.redPow(M.exponent1).fromRed(),J=X.redPow(M.exponent2).fromRed(),Z=te.isub(J).imul(j).umod(G).imul(re);return J.iadd(Z).imul(O.unblinder).umod(M.modulus).toArrayLike(Buffer,"be",F)}x.getr=H,je.exports=x},99560:(je,z,E)=>{"use strict";je.exports=E(62951)},79143:(je,z,E)=>{"use strict";var f=E(27054).Buffer,_=E(67211),k=E(64670),H=E(71993),x=E(43150),P=E(74754),M=E(62951);function O(X){k.Writable.call(this);var j=M[X];if(!j)throw new Error("Unknown message digest");this._hashType=j.hash,this._hash=_(j.hash),this._tag=j.id,this._signType=j.sign}function F(X){k.Writable.call(this);var j=M[X];if(!j)throw new Error("Unknown message digest");this._hash=_(j.hash),this._tag=j.id,this._signType=j.sign}function L(X){return new O(X)}function D(X){return new F(X)}Object.keys(M).forEach(function(X){M[X].id=f.from(M[X].id,"hex"),M[X.toLowerCase()]=M[X]}),H(O,k.Writable),O.prototype._write=function(j,G,re){this._hash.update(j),re()},O.prototype.update=function(j,G){return this._hash.update("string"==typeof j?f.from(j,G):j),this},O.prototype.sign=function(j,G){this.end();var re=this._hash.digest(),te=x(re,j,this._hashType,this._signType,this._tag);return G?te.toString(G):te},H(F,k.Writable),F.prototype._write=function(j,G,re){this._hash.update(j),re()},F.prototype.update=function(j,G){return this._hash.update("string"==typeof j?f.from(j,G):j),this},F.prototype.verify=function(j,G,re){var te="string"==typeof G?f.from(G,re):G;this.end();var J=this._hash.digest();return P(te,J,j,this._signType,this._tag)},je.exports={Sign:L,Verify:D,createSign:L,createVerify:D}},43150:(je,z,E)=>{"use strict";var f=E(27054).Buffer,_=E(56432),k=E(14105),H=E(90518).ec,x=E(917),P=E(65667),M=E(64589);function j(Z,ie,ae,se){if((Z=f.from(Z.toArray())).length<ie.byteLength()){var de=f.alloc(ie.byteLength()-Z.length);Z=f.concat([de,Z])}var le=ae.length,we=function re(Z,ie){Z=(Z=G(Z,ie)).mod(ie);var ae=f.from(Z.toArray());if(ae.length<ie.byteLength()){var se=f.alloc(ie.byteLength()-ae.length);ae=f.concat([se,ae])}return ae}(ae,ie),xe=f.alloc(le);xe.fill(1);var Ce=f.alloc(le);return Ce=_(se,Ce).update(xe).update(f.from([0])).update(Z).update(we).digest(),xe=_(se,Ce).update(xe).digest(),{k:Ce=_(se,Ce).update(xe).update(f.from([1])).update(Z).update(we).digest(),v:xe=_(se,Ce).update(xe).digest()}}function G(Z,ie){var ae=new x(Z),se=(Z.length<<3)-ie.bitLength();return se>0&&ae.ishrn(se),ae}function te(Z,ie,ae){var se,de;do{for(se=f.alloc(0);8*se.length<Z.bitLength();)ie.v=_(ae,ie.k).update(ie.v).digest(),se=f.concat([se,ie.v]);de=G(se,Z),ie.k=_(ae,ie.k).update(ie.v).update(f.from([0])).digest(),ie.v=_(ae,ie.k).update(ie.v).digest()}while(-1!==de.cmp(Z));return de}function J(Z,ie,ae,se){return Z.toRed(x.mont(ae)).redPow(ie).fromRed().mod(se)}je.exports=function F(Z,ie,ae,se,de){var le=P(ie);if(le.curve){if("ecdsa"!==se&&"ecdsa/rsa"!==se)throw new Error("wrong private key type");return function L(Z,ie){var ae=M[ie.curve.join(".")];if(!ae)throw new Error("unknown curve "+ie.curve.join("."));var le=new H(ae).keyFromPrivate(ie.privateKey).sign(Z);return f.from(le.toDER())}(Z,le)}if("dsa"===le.type){if("dsa"!==se)throw new Error("wrong private key type");return function D(Z,ie,ae){for(var Ce,se=ie.params.priv_key,de=ie.params.p,le=ie.params.q,we=ie.params.g,xe=new x(0),C=G(Z,le).mod(le),a=!1,u=j(se,le,Z,ae);!1===a;)xe=J(we,Ce=te(le,u,ae),de,le),0===(a=Ce.invm(le).imul(C.add(se.mul(xe))).mod(le)).cmpn(0)&&(a=!1,xe=new x(0));return function X(Z,ie){Z=Z.toArray(),ie=ie.toArray(),128&Z[0]&&(Z=[0].concat(Z)),128&ie[0]&&(ie=[0].concat(ie));var se=[48,Z.length+ie.length+4,2,Z.length];return se=se.concat(Z,[2,ie.length],ie),f.from(se)}(xe,a)}(Z,le,ae)}if("rsa"!==se&&"ecdsa/rsa"!==se)throw new Error("wrong private key type");if(void 0!==ie.padding&&1!==ie.padding)throw new Error("illegal or unsupported padding mode");Z=f.concat([de,Z]);for(var we=le.modulus.byteLength(),xe=[0,1];Z.length+xe.length+1<we;)xe.push(255);xe.push(0);for(var Ce=-1;++Ce<Z.length;)xe.push(Z[Ce]);return k(xe,le)},je.exports.getKey=j,je.exports.makeKey=te},74754:(je,z,E)=>{"use strict";var f=E(27054).Buffer,_=E(917),k=E(90518).ec,H=E(65667),x=E(64589);function F(L,D){if(L.cmpn(0)<=0)throw new Error("invalid sig");if(L.cmp(D)>=0)throw new Error("invalid sig")}je.exports=function P(L,D,X,j,G){var re=H(X);if("ec"===re.type){if("ecdsa"!==j&&"ecdsa/rsa"!==j)throw new Error("wrong public key type");return function M(L,D,X){var j=x[X.data.algorithm.curve.join(".")];if(!j)throw new Error("unknown curve "+X.data.algorithm.curve.join("."));return new k(j).verify(D,L,X.data.subjectPrivateKey.data)}(L,D,re)}if("dsa"===re.type){if("dsa"!==j)throw new Error("wrong public key type");return function O(L,D,X){var j=X.data.p,G=X.data.q,re=X.data.g,te=X.data.pub_key,J=H.signature.decode(L,"der"),Z=J.s,ie=J.r;F(Z,G),F(ie,G);var ae=_.mont(j),se=Z.invm(G);return 0===re.toRed(ae).redPow(new _(D).mul(se).mod(G)).fromRed().mul(te.toRed(ae).redPow(ie.mul(se).mod(G)).fromRed()).mod(j).mod(G).cmp(ie)}(L,D,re)}if("rsa"!==j&&"ecdsa/rsa"!==j)throw new Error("wrong public key type");D=f.concat([G,D]);for(var te=re.modulus.byteLength(),J=[1],Z=0;D.length+J.length+2<te;)J.push(255),Z+=1;J.push(0);for(var ie=-1;++ie<D.length;)J.push(D[ie]);J=f.from(J);var ae=_.mont(re.modulus);L=(L=new _(L).toRed(ae)).redPow(new _(re.publicExponent)),L=f.from(L.fromRed().toArray());var se=Z<8?1:0;for(te=Math.min(L.length,J.length),L.length!==J.length&&(se=1),ie=-1;++ie<te;)se|=L[ie]^J[ie];return 0===se}},23827:(je,z,E)=>{"use strict";var f=E(9656),_=Object.keys||function(X){var j=[];for(var G in X)j.push(G);return j};je.exports=F;var k=Object.create(E(27637));k.inherits=E(71993);var H=E(81217),x=E(14817);k.inherits(F,H);for(var P=_(x.prototype),M=0;M<P.length;M++){var O=P[M];F.prototype[O]||(F.prototype[O]=x.prototype[O])}function F(X){if(!(this instanceof F))return new F(X);H.call(this,X),x.call(this,X),X&&!1===X.readable&&(this.readable=!1),X&&!1===X.writable&&(this.writable=!1),this.allowHalfOpen=!0,X&&!1===X.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",L)}function L(){this.allowHalfOpen||this._writableState.ended||f.nextTick(D,this)}function D(X){X.end()}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(F.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(X){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=X,this._writableState.destroyed=X)}}),F.prototype._destroy=function(X,j){this.push(null),this.end(),f.nextTick(j,X)}},75519:(je,z,E)=>{"use strict";je.exports=k;var f=E(93045),_=Object.create(E(27637));function k(H){if(!(this instanceof k))return new k(H);f.call(this,H)}_.inherits=E(71993),_.inherits(k,f),k.prototype._transform=function(H,x,P){P(null,H)}},81217:(je,z,E)=>{"use strict";var f=E(40573),_=E(9656);je.exports=se;var H,k=E(20053);se.ReadableState=ae,E(44356);var P=function(be,Ue){return be.listeners(Ue).length},M=E(62078),O=E(29783).Buffer,F=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},X=Object.create(E(27637));X.inherits=E(71993);var j=E(92668),G=void 0;G=j&&j.debuglog?j.debuglog("stream"):function(){};var J,re=E(10793),te=E(43357);X.inherits(se,M);var Z=["error","close","destroy","pause","resume"];function ae(be,Ue){var ye=Ue instanceof(H=H||E(23827));this.objectMode=!!(be=be||{}).objectMode,ye&&(this.objectMode=this.objectMode||!!be.readableObjectMode);var De=be.highWaterMark,pe=be.readableHighWaterMark;this.highWaterMark=De||0===De?De:ye&&(pe||0===pe)?pe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new re,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=be.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,be.encoding&&(J||(J=E(72318).I),this.decoder=new J(be.encoding),this.encoding=be.encoding)}function se(be){if(H=H||E(23827),!(this instanceof se))return new se(be);this._readableState=new ae(be,this),this.readable=!0,be&&("function"==typeof be.read&&(this._read=be.read),"function"==typeof be.destroy&&(this._destroy=be.destroy)),M.call(this)}function de(be,Ue,ye,De,pe){var Q,ue=be._readableState;return null===Ue?(ue.reading=!1,function u(be,Ue){if(!Ue.ended){if(Ue.decoder){var ye=Ue.decoder.end();ye&&ye.length&&(Ue.buffer.push(ye),Ue.length+=Ue.objectMode?1:ye.length)}Ue.ended=!0,y(be)}}(be,ue)):(pe||(Q=function we(be,Ue){var ye;return!function D(be){return O.isBuffer(be)||be instanceof F}(Ue)&&"string"!=typeof Ue&&void 0!==Ue&&!be.objectMode&&(ye=new TypeError("Invalid non-string/buffer chunk")),ye}(ue,Ue)),Q?be.emit("error",Q):ue.objectMode||Ue&&Ue.length>0?("string"!=typeof Ue&&!ue.objectMode&&Object.getPrototypeOf(Ue)!==O.prototype&&(Ue=function L(be){return O.from(be)}(Ue)),De?ue.endEmitted?be.emit("error",new Error("stream.unshift() after end event")):le(be,ue,Ue,!0):ue.ended?be.emit("error",new Error("stream.push() after EOF")):(ue.reading=!1,ue.decoder&&!ye?(Ue=ue.decoder.write(Ue),ue.objectMode||0!==Ue.length?le(be,ue,Ue,!1):S(be,ue)):le(be,ue,Ue,!1))):De||(ue.reading=!1)),function xe(be){return!be.ended&&(be.needReadable||be.length<be.highWaterMark||0===be.length)}(ue)}function le(be,Ue,ye,De){Ue.flowing&&0===Ue.length&&!Ue.sync?(be.emit("data",ye),be.read(0)):(Ue.length+=Ue.objectMode?1:ye.length,De?Ue.buffer.unshift(ye):Ue.buffer.push(ye),Ue.needReadable&&y(be)),S(be,Ue)}Object.defineProperty(se.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(be){this._readableState&&(this._readableState.destroyed=be)}}),se.prototype.destroy=te.destroy,se.prototype._undestroy=te.undestroy,se.prototype._destroy=function(be,Ue){this.push(null),Ue(be)},se.prototype.push=function(be,Ue){var De,ye=this._readableState;return ye.objectMode?De=!0:"string"==typeof be&&((Ue=Ue||ye.defaultEncoding)!==ye.encoding&&(be=O.from(be,Ue),Ue=""),De=!0),de(this,be,Ue,!1,De)},se.prototype.unshift=function(be){return de(this,be,null,!0,!1)},se.prototype.isPaused=function(){return!1===this._readableState.flowing},se.prototype.setEncoding=function(be){return J||(J=E(72318).I),this._readableState.decoder=new J(be),this._readableState.encoding=be,this};function a(be,Ue){return be<=0||0===Ue.length&&Ue.ended?0:Ue.objectMode?1:be!=be?Ue.flowing&&Ue.length?Ue.buffer.head.data.length:Ue.length:(be>Ue.highWaterMark&&(Ue.highWaterMark=function C(be){return be>=8388608?be=8388608:(be--,be|=be>>>1,be|=be>>>2,be|=be>>>4,be|=be>>>8,be|=be>>>16,be++),be}(be)),be<=Ue.length?be:Ue.ended?Ue.length:(Ue.needReadable=!0,0))}function y(be){var Ue=be._readableState;Ue.needReadable=!1,Ue.emittedReadable||(G("emitReadable",Ue.flowing),Ue.emittedReadable=!0,Ue.sync?_.nextTick(g,be):g(be))}function g(be){G("emit readable"),be.emit("readable"),W(be)}function S(be,Ue){Ue.readingMore||(Ue.readingMore=!0,_.nextTick(T,be,Ue))}function T(be,Ue){for(var ye=Ue.length;!Ue.reading&&!Ue.flowing&&!Ue.ended&&Ue.length<Ue.highWaterMark&&(G("maybeReadMore read 0"),be.read(0),ye!==Ue.length);)ye=Ue.length;Ue.readingMore=!1}function A(be){G("readable nexttick read 0"),be.read(0)}function v(be,Ue){Ue.reading||(G("resume read 0"),be.read(0)),Ue.resumeScheduled=!1,Ue.awaitDrain=0,be.emit("resume"),W(be),Ue.flowing&&!Ue.reading&&be.read(0)}function W(be){var Ue=be._readableState;for(G("flow",Ue.flowing);Ue.flowing&&null!==be.read(););}function K(be,Ue){return 0===Ue.length?null:(Ue.objectMode?ye=Ue.buffer.shift():!be||be>=Ue.length?(ye=Ue.decoder?Ue.buffer.join(""):1===Ue.buffer.length?Ue.buffer.head.data:Ue.buffer.concat(Ue.length),Ue.buffer.clear()):ye=function ee(be,Ue,ye){var De;return be<Ue.head.data.length?(De=Ue.head.data.slice(0,be),Ue.head.data=Ue.head.data.slice(be)):De=be===Ue.head.data.length?Ue.shift():ye?function ce(be,Ue){var ye=Ue.head,De=1,pe=ye.data;for(be-=pe.length;ye=ye.next;){var ue=ye.data,Q=be>ue.length?ue.length:be;if(pe+=Q===ue.length?ue:ue.slice(0,be),0==(be-=Q)){Q===ue.length?(++De,Ue.head=ye.next?ye.next:Ue.tail=null):(Ue.head=ye,ye.data=ue.slice(Q));break}++De}return Ue.length-=De,pe}(be,Ue):function _e(be,Ue){var ye=O.allocUnsafe(be),De=Ue.head,pe=1;for(De.data.copy(ye),be-=De.data.length;De=De.next;){var ue=De.data,Q=be>ue.length?ue.length:be;if(ue.copy(ye,ye.length-be,0,Q),0==(be-=Q)){Q===ue.length?(++pe,Ue.head=De.next?De.next:Ue.tail=null):(Ue.head=De,De.data=ue.slice(Q));break}++pe}return Ue.length-=pe,ye}(be,Ue),De}(be,Ue.buffer,Ue.decoder),ye);var ye}function Oe(be){var Ue=be._readableState;if(Ue.length>0)throw new Error('"endReadable()" called on non-empty stream');Ue.endEmitted||(Ue.ended=!0,_.nextTick(Ve,Ue,be))}function Ve(be,Ue){!be.endEmitted&&0===be.length&&(be.endEmitted=!0,Ue.readable=!1,Ue.emit("end"))}function Se(be,Ue){for(var ye=0,De=be.length;ye<De;ye++)if(be[ye]===Ue)return ye;return-1}se.prototype.read=function(be){G("read",be),be=parseInt(be,10);var Ue=this._readableState,ye=be;if(0!==be&&(Ue.emittedReadable=!1),0===be&&Ue.needReadable&&(Ue.length>=Ue.highWaterMark||Ue.ended))return G("read: emitReadable",Ue.length,Ue.ended),0===Ue.length&&Ue.ended?Oe(this):y(this),null;if(0===(be=a(be,Ue))&&Ue.ended)return 0===Ue.length&&Oe(this),null;var pe,De=Ue.needReadable;return G("need readable",De),(0===Ue.length||Ue.length-be<Ue.highWaterMark)&&G("length less than watermark",De=!0),Ue.ended||Ue.reading?G("reading or ended",De=!1):De&&(G("do read"),Ue.reading=!0,Ue.sync=!0,0===Ue.length&&(Ue.needReadable=!0),this._read(Ue.highWaterMark),Ue.sync=!1,Ue.reading||(be=a(ye,Ue))),null===(pe=be>0?K(be,Ue):null)?(Ue.needReadable=!0,be=0):Ue.length-=be,0===Ue.length&&(Ue.ended||(Ue.needReadable=!0),ye!==be&&Ue.ended&&Oe(this)),null!==pe&&this.emit("data",pe),pe},se.prototype._read=function(be){this.emit("error",new Error("_read() is not implemented"))},se.prototype.pipe=function(be,Ue){var ye=this,De=this._readableState;switch(De.pipesCount){case 0:De.pipes=be;break;case 1:De.pipes=[De.pipes,be];break;default:De.pipes.push(be)}De.pipesCount+=1,G("pipe count=%d opts=%j",De.pipesCount,Ue);var ue=Ue&&!1===Ue.end||be===f.stdout||be===f.stderr?lt:oe;function oe(){G("onend"),be.end()}De.endEmitted?_.nextTick(ue):ye.once("end",ue),be.on("unpipe",function Q(B,w){G("onunpipe"),B===ye&&w&&!1===w.hasUnpiped&&(w.hasUnpiped=!0,function Re(){G("cleanup"),be.removeListener("close",We),be.removeListener("finish",Le),be.removeListener("drain",fe),be.removeListener("error",Et),be.removeListener("unpipe",Q),ye.removeListener("end",oe),ye.removeListener("end",lt),ye.removeListener("data",Fe),Ee=!0,De.awaitDrain&&(!be._writableState||be._writableState.needDrain)&&fe()}())});var fe=function N(be){return function(){var Ue=be._readableState;G("pipeOnDrain",Ue.awaitDrain),Ue.awaitDrain&&Ue.awaitDrain--,0===Ue.awaitDrain&&P(be,"data")&&(Ue.flowing=!0,W(be))}}(ye);be.on("drain",fe);var Ee=!1,$e=!1;function Fe(B){G("ondata"),$e=!1,!1===be.write(B)&&!$e&&((1===De.pipesCount&&De.pipes===be||De.pipesCount>1&&-1!==Se(De.pipes,be))&&!Ee&&(G("false write response, pause",De.awaitDrain),De.awaitDrain++,$e=!0),ye.pause())}function Et(B){G("onerror",B),lt(),be.removeListener("error",Et),0===P(be,"error")&&be.emit("error",B)}function We(){be.removeListener("finish",Le),lt()}function Le(){G("onfinish"),be.removeListener("close",We),lt()}function lt(){G("unpipe"),ye.unpipe(be)}return ye.on("data",Fe),function ie(be,Ue,ye){if("function"==typeof be.prependListener)return be.prependListener(Ue,ye);be._events&&be._events[Ue]?k(be._events[Ue])?be._events[Ue].unshift(ye):be._events[Ue]=[ye,be._events[Ue]]:be.on(Ue,ye)}(be,"error",Et),be.once("close",We),be.once("finish",Le),be.emit("pipe",ye),De.flowing||(G("pipe resume"),ye.resume()),be},se.prototype.unpipe=function(be){var Ue=this._readableState,ye={hasUnpiped:!1};if(0===Ue.pipesCount)return this;if(1===Ue.pipesCount)return be&&be!==Ue.pipes||(be||(be=Ue.pipes),Ue.pipes=null,Ue.pipesCount=0,Ue.flowing=!1,be&&be.emit("unpipe",this,ye)),this;if(!be){var De=Ue.pipes,pe=Ue.pipesCount;Ue.pipes=null,Ue.pipesCount=0,Ue.flowing=!1;for(var ue=0;ue<pe;ue++)De[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=Se(Ue.pipes,be);return-1===Q||(Ue.pipes.splice(Q,1),Ue.pipesCount-=1,1===Ue.pipesCount&&(Ue.pipes=Ue.pipes[0]),be.emit("unpipe",this,ye)),this},se.prototype.addListener=se.prototype.on=function(be,Ue){var ye=M.prototype.on.call(this,be,Ue);if("data"===be)!1!==this._readableState.flowing&&this.resume();else if("readable"===be){var De=this._readableState;!De.endEmitted&&!De.readableListening&&(De.readableListening=De.needReadable=!0,De.emittedReadable=!1,De.reading?De.length&&y(this):_.nextTick(A,this))}return ye},se.prototype.resume=function(){var be=this._readableState;return be.flowing||(G("resume"),be.flowing=!0,function s(be,Ue){Ue.resumeScheduled||(Ue.resumeScheduled=!0,_.nextTick(v,be,Ue))}(this,be)),this},se.prototype.pause=function(){return G("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(G("pause"),this._readableState.flowing=!1,this.emit("pause")),this},se.prototype.wrap=function(be){var Ue=this,ye=this._readableState,De=!1;for(var pe in be.on("end",function(){if(G("wrapped end"),ye.decoder&&!ye.ended){var Q=ye.decoder.end();Q&&Q.length&&Ue.push(Q)}Ue.push(null)}),be.on("data",function(Q){G("wrapped data"),ye.decoder&&(Q=ye.decoder.write(Q)),ye.objectMode&&null==Q||!(ye.objectMode||Q&&Q.length)||Ue.push(Q)||(De=!0,be.pause())}),be)void 0===this[pe]&&"function"==typeof be[pe]&&(this[pe]=function(Q){return function(){return be[Q].apply(be,arguments)}}(pe));for(var ue=0;ue<Z.length;ue++)be.on(Z[ue],this.emit.bind(this,Z[ue]));return this._read=function(Q){G("wrapped _read",Q),De&&(De=!1,be.resume())},this},Object.defineProperty(se.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),se._fromList=K},93045:(je,z,E)=>{"use strict";je.exports=H;var f=E(23827),_=Object.create(E(27637));function k(M,O){var F=this._transformState;F.transforming=!1;var L=F.writecb;if(!L)return this.emit("error",new Error("write callback called multiple times"));F.writechunk=null,F.writecb=null,null!=O&&this.push(O),L(M);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function H(M){if(!(this instanceof H))return new H(M);f.call(this,M),this._transformState={afterTransform:k.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,M&&("function"==typeof M.transform&&(this._transform=M.transform),"function"==typeof M.flush&&(this._flush=M.flush)),this.on("prefinish",x)}function x(){var M=this;"function"==typeof this._flush?this._flush(function(O,F){P(M,O,F)}):P(this,null,null)}function P(M,O,F){if(O)return M.emit("error",O);if(null!=F&&M.push(F),M._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(M._transformState.transforming)throw new Error("Calling transform done when still transforming");return M.push(null)}_.inherits=E(71993),_.inherits(H,f),H.prototype.push=function(M,O){return this._transformState.needTransform=!1,f.prototype.push.call(this,M,O)},H.prototype._transform=function(M,O,F){throw new Error("_transform() is not implemented")},H.prototype._write=function(M,O,F){var L=this._transformState;if(L.writecb=F,L.writechunk=M,L.writeencoding=O,!L.transforming){var D=this._readableState;(L.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},H.prototype._read=function(M){var O=this._transformState;null!==O.writechunk&&O.writecb&&!O.transforming?(O.transforming=!0,this._transform(O.writechunk,O.writeencoding,O.afterTransform)):O.needTransform=!0},H.prototype._destroy=function(M,O){var F=this;f.prototype._destroy.call(this,M,function(L){O(L),F.emit("close")})}},14817:(je,z,E)=>{"use strict";var f=E(40573),_=E(9656);function H(s){var v=this;this.next=null,this.entry=null,this.finish=function(){!function A(s,v,W){var K=s.entry;for(s.entry=null;K;){var ee=K.callback;v.pendingcb--,ee(W),K=K.next}v.corkedRequestsFree.next=s}(v,s)}}je.exports=Z;var P,x=!f.browser&&["v0.10","v0.9."].indexOf(f.version.slice(0,5))>-1?setImmediate:_.nextTick;Z.WritableState=te;var M=Object.create(E(27637));M.inherits=E(71993);var J,O={deprecate:E(3398)},F=E(62078),L=E(29783).Buffer,D=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},G=E(43357);function re(){}function te(s,v){P=P||E(23827);var W=v instanceof P;this.objectMode=!!(s=s||{}).objectMode,W&&(this.objectMode=this.objectMode||!!s.writableObjectMode);var K=s.highWaterMark,ee=s.writableHighWaterMark;this.highWaterMark=K||0===K?K:W&&(ee||0===ee)?ee:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===s.decodeStrings),this.defaultEncoding=s.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Oe){!function Ce(s,v){var W=s._writableState,K=W.sync,ee=W.writecb;if(function xe(s){s.writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0}(W),v)!function we(s,v,W,K,ee){--v.pendingcb,W?(_.nextTick(ee,K),_.nextTick(T,s,v),s._writableState.errorEmitted=!0,s.emit("error",K)):(ee(K),s._writableState.errorEmitted=!0,s.emit("error",K),T(s,v))}(s,W,K,v,ee);else{var ce=y(W);!ce&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&u(s,W),K?x(C,s,W,ce,ee):C(s,W,ce,ee)}}(v,Oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new H(this)}function Z(s){if(P=P||E(23827),!(J.call(Z,this)||this instanceof P))return new Z(s);this._writableState=new te(s,this),this.writable=!0,s&&("function"==typeof s.write&&(this._write=s.write),"function"==typeof s.writev&&(this._writev=s.writev),"function"==typeof s.destroy&&(this._destroy=s.destroy),"function"==typeof s.final&&(this._final=s.final)),F.call(this)}function le(s,v,W,K,ee,ce,_e){v.writelen=K,v.writecb=_e,v.writing=!0,v.sync=!0,W?s._writev(ee,v.onwrite):s._write(ee,ce,v.onwrite),v.sync=!1}function C(s,v,W,K){W||function a(s,v){0===v.length&&v.needDrain&&(v.needDrain=!1,s.emit("drain"))}(s,v),v.pendingcb--,K(),T(s,v)}function u(s,v){v.bufferProcessing=!0;var W=v.bufferedRequest;if(s._writev&&W&&W.next){var ee=new Array(v.bufferedRequestCount),ce=v.corkedRequestsFree;ce.entry=W;for(var _e=0,Oe=!0;W;)ee[_e]=W,W.isBuf||(Oe=!1),W=W.next,_e+=1;ee.allBuffers=Oe,le(s,v,!0,v.length,ee,"",ce.finish),v.pendingcb++,v.lastBufferedRequest=null,ce.next?(v.corkedRequestsFree=ce.next,ce.next=null):v.corkedRequestsFree=new H(v),v.bufferedRequestCount=0}else{for(;W;){var Ve=W.chunk;if(le(s,v,!1,v.objectMode?1:Ve.length,Ve,W.encoding,W.callback),W=W.next,v.bufferedRequestCount--,v.writing)break}null===W&&(v.lastBufferedRequest=null)}v.bufferedRequest=W,v.bufferProcessing=!1}function y(s){return s.ending&&0===s.length&&null===s.bufferedRequest&&!s.finished&&!s.writing}function g(s,v){s._final(function(W){v.pendingcb--,W&&s.emit("error",W),v.prefinished=!0,s.emit("prefinish"),T(s,v)})}function T(s,v){var W=y(v);return W&&(function S(s,v){!v.prefinished&&!v.finalCalled&&("function"==typeof s._final?(v.pendingcb++,v.finalCalled=!0,_.nextTick(g,s,v)):(v.prefinished=!0,s.emit("prefinish")))}(s,v),0===v.pendingcb&&(v.finished=!0,s.emit("finish"))),W}M.inherits(Z,F),te.prototype.getBuffer=function(){for(var v=this.bufferedRequest,W=[];v;)W.push(v),v=v.next;return W},function(){try{Object.defineProperty(te.prototype,"buffer",{get:O.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(Z,Symbol.hasInstance,{value:function(s){return!!J.call(this,s)||this===Z&&s&&s._writableState instanceof te}})):J=function(s){return s instanceof this},Z.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Z.prototype.write=function(s,v,W){var K=this._writableState,ee=!1,ce=!K.objectMode&&function j(s){return L.isBuffer(s)||s instanceof D}(s);return ce&&!L.isBuffer(s)&&(s=function X(s){return L.from(s)}(s)),"function"==typeof v&&(W=v,v=null),ce?v="buffer":v||(v=K.defaultEncoding),"function"!=typeof W&&(W=re),K.ended?function ie(s,v){var W=new Error("write after end");s.emit("error",W),_.nextTick(v,W)}(this,W):(ce||function ae(s,v,W,K){var ee=!0,ce=!1;return null===W?ce=new TypeError("May not write null values to stream"):"string"!=typeof W&&void 0!==W&&!v.objectMode&&(ce=new TypeError("Invalid non-string/buffer chunk")),ce&&(s.emit("error",ce),_.nextTick(K,ce),ee=!1),ee}(this,K,s,W))&&(K.pendingcb++,ee=function de(s,v,W,K,ee,ce){if(!W){var _e=function se(s,v,W){return!s.objectMode&&!1!==s.decodeStrings&&"string"==typeof v&&(v=L.from(v,W)),v}(v,K,ee);K!==_e&&(W=!0,ee="buffer",K=_e)}var Oe=v.objectMode?1:K.length;v.length+=Oe;var Ve=v.length<v.highWaterMark;if(Ve||(v.needDrain=!0),v.writing||v.corked){var Se=v.lastBufferedRequest;v.lastBufferedRequest={chunk:K,encoding:ee,isBuf:W,callback:ce,next:null},Se?Se.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else le(s,v,!1,Oe,K,ee,ce);return Ve}(this,K,ce,s,v,W)),ee},Z.prototype.cork=function(){this._writableState.corked++},Z.prototype.uncork=function(){var s=this._writableState;s.corked&&(s.corked--,!s.writing&&!s.corked&&!s.bufferProcessing&&s.bufferedRequest&&u(this,s))},Z.prototype.setDefaultEncoding=function(v){if("string"==typeof v&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(Z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Z.prototype._write=function(s,v,W){W(new Error("_write() is not implemented"))},Z.prototype._writev=null,Z.prototype.end=function(s,v,W){var K=this._writableState;"function"==typeof s?(W=s,s=null,v=null):"function"==typeof v&&(W=v,v=null),null!=s&&this.write(s,v),K.corked&&(K.corked=1,this.uncork()),K.ending||function N(s,v,W){v.ending=!0,T(s,v),W&&(v.finished?_.nextTick(W):s.once("finish",W)),v.ended=!0,s.writable=!1}(this,K,W)},Object.defineProperty(Z.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(s){this._writableState&&(this._writableState.destroyed=s)}}),Z.prototype.destroy=G.destroy,Z.prototype._undestroy=G.undestroy,Z.prototype._destroy=function(s,v){this.end(),v(s)}},10793:(je,z,E)=>{"use strict";var _=E(29783).Buffer,k=E(21638);function H(x,P,M){x.copy(P,M)}je.exports=function(){function x(){(function f(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")})(this,x),this.head=null,this.tail=null,this.length=0}return x.prototype.push=function(M){var O={data:M,next:null};this.length>0?this.tail.next=O:this.head=O,this.tail=O,++this.length},x.prototype.unshift=function(M){var O={data:M,next:this.head};0===this.length&&(this.tail=O),this.head=O,++this.length},x.prototype.shift=function(){if(0!==this.length){var M=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,M}},x.prototype.clear=function(){this.head=this.tail=null,this.length=0},x.prototype.join=function(M){if(0===this.length)return"";for(var O=this.head,F=""+O.data;O=O.next;)F+=M+O.data;return F},x.prototype.concat=function(M){if(0===this.length)return _.alloc(0);for(var O=_.allocUnsafe(M>>>0),F=this.head,L=0;F;)H(F.data,O,L),L+=F.data.length,F=F.next;return O},x}(),k&&k.inspect&&k.inspect.custom&&(je.exports.prototype[k.inspect.custom]=function(){var x=k.inspect({length:this.length});return this.constructor.name+" "+x})},43357:(je,z,E)=>{"use strict";var f=E(9656);function H(x,P){x.emit("error",P)}je.exports={destroy:function _(x,P){var M=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(P?P(x):x&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,f.nextTick(H,this,x)):f.nextTick(H,this,x)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(x||null,function(L){!P&&L?M._writableState?M._writableState.errorEmitted||(M._writableState.errorEmitted=!0,f.nextTick(H,M,L)):f.nextTick(H,M,L):P&&P(L)}),this)},undestroy:function k(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:(je,z,E)=>{je.exports=E(44356).EventEmitter},29783:(je,z,E)=>{var f=E(83838),_=f.Buffer;function k(x,P){for(var M in x)P[M]=x[M]}function H(x,P,M){return _(x,P,M)}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?je.exports=f:(k(f,z),z.Buffer=H),k(_,H),H.from=function(x,P,M){if("number"==typeof x)throw new TypeError("Argument must not be a number");return _(x,P,M)},H.alloc=function(x,P,M){if("number"!=typeof x)throw new TypeError("Argument must be a number");var O=_(x);return void 0!==P?"string"==typeof M?O.fill(P,M):O.fill(P):O.fill(0),O},H.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return _(x)},H.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return f.SlowBuffer(x)}},64670:(je,z,E)=>{(z=je.exports=E(81217)).Stream=z,z.Readable=z,z.Writable=E(14817),z.Duplex=E(23827),z.Transform=E(93045),z.PassThrough=E(75519)},72318:(je,z,E)=>{"use strict";var f=E(37656).Buffer,_=f.isEncoding||function(Z){switch((Z=""+Z)&&Z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(Z){var ie;switch(this.encoding=function H(Z){var ie=function k(Z){if(!Z)return"utf8";for(var ie;;)switch(Z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Z;default:if(ie)return;Z=(""+Z).toLowerCase(),ie=!0}}(Z);if("string"!=typeof ie&&(f.isEncoding===_||!_(Z)))throw new Error("Unknown encoding: "+Z);return ie||Z}(Z),this.encoding){case"utf16le":this.text=X,this.end=j,ie=4;break;case"utf8":this.fillLast=F,ie=4;break;case"base64":this.text=G,this.end=re,ie=3;break;default:return this.write=te,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(ie)}function P(Z){return Z<=127?0:Z>>5==6?2:Z>>4==14?3:Z>>3==30?4:Z>>6==2?-1:-2}function F(Z){var ie=this.lastTotal-this.lastNeed,ae=function O(Z,ie,ae){if(128!=(192&ie[0]))return Z.lastNeed=0,"\ufffd";if(Z.lastNeed>1&&ie.length>1){if(128!=(192&ie[1]))return Z.lastNeed=1,"\ufffd";if(Z.lastNeed>2&&ie.length>2&&128!=(192&ie[2]))return Z.lastNeed=2,"\ufffd"}}(this,Z);return void 0!==ae?ae:this.lastNeed<=Z.length?(Z.copy(this.lastChar,ie,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Z.copy(this.lastChar,ie,0,Z.length),void(this.lastNeed-=Z.length))}function X(Z,ie){if((Z.length-ie)%2==0){var ae=Z.toString("utf16le",ie);if(ae){var se=ae.charCodeAt(ae.length-1);if(se>=55296&&se<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1],ae.slice(0,-1)}return ae}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Z[Z.length-1],Z.toString("utf16le",ie,Z.length-1)}function j(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ie}function G(Z,ie){var ae=(Z.length-ie)%3;return 0===ae?Z.toString("base64",ie):(this.lastNeed=3-ae,this.lastTotal=3,1===ae?this.lastChar[0]=Z[Z.length-1]:(this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1]),Z.toString("base64",ie,Z.length-ae))}function re(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+this.lastChar.toString("base64",0,3-this.lastNeed):ie}function te(Z){return Z.toString(this.encoding)}function J(Z){return Z&&Z.length?this.write(Z):""}z.I=x,x.prototype.write=function(Z){if(0===Z.length)return"";var ie,ae;if(this.lastNeed){if(void 0===(ie=this.fillLast(Z)))return"";ae=this.lastNeed,this.lastNeed=0}else ae=0;return ae<Z.length?ie?ie+this.text(Z,ae):this.text(Z,ae):ie||""},x.prototype.end=function D(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+"\ufffd":ie},x.prototype.text=function L(Z,ie){var ae=function M(Z,ie,ae){var se=ie.length-1;if(se<ae)return 0;var de=P(ie[se]);return de>=0?(de>0&&(Z.lastNeed=de-1),de):--se<ae||-2===de?0:(de=P(ie[se]))>=0?(de>0&&(Z.lastNeed=de-2),de):--se<ae||-2===de?0:(de=P(ie[se]))>=0?(de>0&&(2===de?de=0:Z.lastNeed=de-3),de):0}(this,Z,ie);if(!this.lastNeed)return Z.toString("utf8",ie);this.lastTotal=ae;var se=Z.length-(ae-this.lastNeed);return Z.copy(this.lastChar,0,se),Z.toString("utf8",ie,se)},x.prototype.fillLast=function(Z){if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Z.length),this.lastNeed-=Z.length}},37656:(je,z,E)=>{var f=E(83838),_=f.Buffer;function k(x,P){for(var M in x)P[M]=x[M]}function H(x,P,M){return _(x,P,M)}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?je.exports=f:(k(f,z),z.Buffer=H),k(_,H),H.from=function(x,P,M){if("number"==typeof x)throw new TypeError("Argument must not be a number");return _(x,P,M)},H.alloc=function(x,P,M){if("number"!=typeof x)throw new TypeError("Argument must be a number");var O=_(x);return void 0!==P?"string"==typeof M?O.fill(P,M):O.fill(P):O.fill(0),O},H.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return _(x)},H.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return f.SlowBuffer(x)}},13546:je=>{je.exports=function(E,f){for(var _=Math.min(E.length,f.length),k=new Buffer(_),H=0;H<_;++H)k[H]=E[H]^f[H];return k}},83838:(je,z,E)=>{"use strict";var f=E(13981),_=E(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function Z(Q){return+Q!=Q&&(Q=0),M.alloc(+Q)},z.INSPECT_MAX_BYTES=50;var H=2147483647;function P(Q){if(Q>H)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var oe=new Uint8Array(Q);return Object.setPrototypeOf(oe,M.prototype),oe}function M(Q,oe,fe){if("number"==typeof Q){if("string"==typeof oe)throw new TypeError('The "string" argument must be of type string. Received type number');return D(Q)}return O(Q,oe,fe)}function O(Q,oe,fe){if("string"==typeof Q)return function X(Q,oe){if(("string"!=typeof oe||""===oe)&&(oe="utf8"),!M.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);var fe=0|ie(Q,oe),Ee=P(fe),Re=Ee.write(Q,oe);return Re!==fe&&(Ee=Ee.slice(0,Re)),Ee}(Q,oe);if(ArrayBuffer.isView(Q))return function G(Q){if(De(Q,Uint8Array)){var oe=new Uint8Array(Q);return re(oe.buffer,oe.byteOffset,oe.byteLength)}return j(Q)}(Q);if(null==Q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(De(Q,ArrayBuffer)||Q&&De(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(De(Q,SharedArrayBuffer)||Q&&De(Q.buffer,SharedArrayBuffer)))return re(Q,oe,fe);if("number"==typeof Q)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=Q.valueOf&&Q.valueOf();if(null!=Ee&&Ee!==Q)return M.from(Ee,oe,fe);var Re=function te(Q){if(M.isBuffer(Q)){var oe=0|J(Q.length),fe=P(oe);return 0===fe.length||Q.copy(fe,0,0,oe),fe}return void 0!==Q.length?"number"!=typeof Q.length||pe(Q.length)?P(0):j(Q):"Buffer"===Q.type&&Array.isArray(Q.data)?j(Q.data):void 0}(Q);if(Re)return Re;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Q[Symbol.toPrimitive])return M.from(Q[Symbol.toPrimitive]("string"),oe,fe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}function F(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function D(Q){return F(Q),P(Q<0?0:0|J(Q))}function j(Q){for(var oe=Q.length<0?0:0|J(Q.length),fe=P(oe),Ee=0;Ee<oe;Ee+=1)fe[Ee]=255&Q[Ee];return fe}function re(Q,oe,fe){if(oe<0||Q.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<oe+(fe||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return Ee=void 0===oe&&void 0===fe?new Uint8Array(Q):void 0===fe?new Uint8Array(Q,oe):new Uint8Array(Q,oe,fe),Object.setPrototypeOf(Ee,M.prototype),Ee}function J(Q){if(Q>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|Q}function ie(Q,oe){if(M.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||De(Q,ArrayBuffer))return Q.byteLength;if("string"!=typeof Q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);var fe=Q.length,Ee=arguments.length>2&&!0===arguments[2];if(!Ee&&0===fe)return 0;for(var Re=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return fe;case"utf8":case"utf-8":return Ve(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*fe;case"hex":return fe>>>1;case"base64":return Ue(Q).length;default:if(Re)return Ee?-1:Ve(Q).length;oe=(""+oe).toLowerCase(),Re=!0}}function ae(Q,oe,fe){var Ee=!1;if((void 0===oe||oe<0)&&(oe=0),oe>this.length||((void 0===fe||fe>this.length)&&(fe=this.length),fe<=0)||(fe>>>=0)<=(oe>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return A(this,oe,fe);case"utf8":case"utf-8":return y(this,oe,fe);case"ascii":return T(this,oe,fe);case"latin1":case"binary":return N(this,oe,fe);case"base64":return u(this,oe,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,oe,fe);default:if(Ee)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),Ee=!0}}function se(Q,oe,fe){var Ee=Q[oe];Q[oe]=Q[fe],Q[fe]=Ee}function de(Q,oe,fe,Ee,Re){if(0===Q.length)return-1;if("string"==typeof fe?(Ee=fe,fe=0):fe>2147483647?fe=2147483647:fe<-2147483648&&(fe=-2147483648),pe(fe=+fe)&&(fe=Re?0:Q.length-1),fe<0&&(fe=Q.length+fe),fe>=Q.length){if(Re)return-1;fe=Q.length-1}else if(fe<0){if(!Re)return-1;fe=0}if("string"==typeof oe&&(oe=M.from(oe,Ee)),M.isBuffer(oe))return 0===oe.length?-1:le(Q,oe,fe,Ee,Re);if("number"==typeof oe)return oe&=255,"function"==typeof Uint8Array.prototype.indexOf?Re?Uint8Array.prototype.indexOf.call(Q,oe,fe):Uint8Array.prototype.lastIndexOf.call(Q,oe,fe):le(Q,[oe],fe,Ee,Re);throw new TypeError("val must be string, number or Buffer")}function le(Q,oe,fe,Ee,Re){var Le,$e=1,Fe=Q.length,Et=oe.length;if(void 0!==Ee&&("ucs2"===(Ee=String(Ee).toLowerCase())||"ucs-2"===Ee||"utf16le"===Ee||"utf-16le"===Ee)){if(Q.length<2||oe.length<2)return-1;$e=2,Fe/=2,Et/=2,fe/=2}function We(m,U){return 1===$e?m[U]:m.readUInt16BE(U*$e)}if(Re){var lt=-1;for(Le=fe;Le<Fe;Le++)if(We(Q,Le)===We(oe,-1===lt?0:Le-lt)){if(-1===lt&&(lt=Le),Le-lt+1===Et)return lt*$e}else-1!==lt&&(Le-=Le-lt),lt=-1}else for(fe+Et>Fe&&(fe=Fe-Et),Le=fe;Le>=0;Le--){for(var B=!0,w=0;w<Et;w++)if(We(Q,Le+w)!==We(oe,w)){B=!1;break}if(B)return Le}return-1}function we(Q,oe,fe,Ee){fe=Number(fe)||0;var Re=Q.length-fe;Ee?(Ee=Number(Ee))>Re&&(Ee=Re):Ee=Re;var $e=oe.length;Ee>$e/2&&(Ee=$e/2);for(var Fe=0;Fe<Ee;++Fe){var Et=parseInt(oe.substr(2*Fe,2),16);if(pe(Et))return Fe;Q[fe+Fe]=Et}return Fe}function xe(Q,oe,fe,Ee){return ye(Ve(oe,Q.length-fe),Q,fe,Ee)}function Ce(Q,oe,fe,Ee){return ye(function Se(Q){for(var oe=[],fe=0;fe<Q.length;++fe)oe.push(255&Q.charCodeAt(fe));return oe}(oe),Q,fe,Ee)}function C(Q,oe,fe,Ee){return ye(Ue(oe),Q,fe,Ee)}function a(Q,oe,fe,Ee){return ye(function be(Q,oe){for(var fe,Ee,$e=[],Fe=0;Fe<Q.length&&!((oe-=2)<0);++Fe)Ee=(fe=Q.charCodeAt(Fe))>>8,$e.push(fe%256),$e.push(Ee);return $e}(oe,Q.length-fe),Q,fe,Ee)}function u(Q,oe,fe){return f.fromByteArray(0===oe&&fe===Q.length?Q:Q.slice(oe,fe))}function y(Q,oe,fe){fe=Math.min(Q.length,fe);for(var Ee=[],Re=oe;Re<fe;){var We,Le,lt,B,$e=Q[Re],Fe=null,Et=$e>239?4:$e>223?3:$e>191?2:1;if(Re+Et<=fe)switch(Et){case 1:$e<128&&(Fe=$e);break;case 2:128==(192&(We=Q[Re+1]))&&(B=(31&$e)<<6|63&We)>127&&(Fe=B);break;case 3:Le=Q[Re+2],128==(192&(We=Q[Re+1]))&&128==(192&Le)&&(B=(15&$e)<<12|(63&We)<<6|63&Le)>2047&&(B<55296||B>57343)&&(Fe=B);break;case 4:Le=Q[Re+2],lt=Q[Re+3],128==(192&(We=Q[Re+1]))&&128==(192&Le)&&128==(192&lt)&&(B=(15&$e)<<18|(63&We)<<12|(63&Le)<<6|63&lt)>65535&&B<1114112&&(Fe=B)}null===Fe?(Fe=65533,Et=1):Fe>65535&&(Ee.push((Fe-=65536)>>>10&1023|55296),Fe=56320|1023&Fe),Ee.push(Fe),Re+=Et}return function S(Q){var oe=Q.length;if(oe<=g)return String.fromCharCode.apply(String,Q);for(var fe="",Ee=0;Ee<oe;)fe+=String.fromCharCode.apply(String,Q.slice(Ee,Ee+=g));return fe}(Ee)}z.kMaxLength=H,!(M.TYPED_ARRAY_SUPPORT=function x(){try{var Q=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(Q,oe),42===Q.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(Q,oe,fe){return O(Q,oe,fe)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(Q,oe,fe){return function L(Q,oe,fe){return F(Q),Q<=0?P(Q):void 0!==oe?"string"==typeof fe?P(Q).fill(oe,fe):P(Q).fill(oe):P(Q)}(Q,oe,fe)},M.allocUnsafe=function(Q){return D(Q)},M.allocUnsafeSlow=function(Q){return D(Q)},M.isBuffer=function(oe){return null!=oe&&!0===oe._isBuffer&&oe!==M.prototype},M.compare=function(oe,fe){if(De(oe,Uint8Array)&&(oe=M.from(oe,oe.offset,oe.byteLength)),De(fe,Uint8Array)&&(fe=M.from(fe,fe.offset,fe.byteLength)),!M.isBuffer(oe)||!M.isBuffer(fe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(oe===fe)return 0;for(var Ee=oe.length,Re=fe.length,$e=0,Fe=Math.min(Ee,Re);$e<Fe;++$e)if(oe[$e]!==fe[$e]){Ee=oe[$e],Re=fe[$e];break}return Ee<Re?-1:Re<Ee?1:0},M.isEncoding=function(oe){switch(String(oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(oe,fe){if(!Array.isArray(oe))throw new TypeError('"list" argument must be an Array of Buffers');if(0===oe.length)return M.alloc(0);var Ee;if(void 0===fe)for(fe=0,Ee=0;Ee<oe.length;++Ee)fe+=oe[Ee].length;var Re=M.allocUnsafe(fe),$e=0;for(Ee=0;Ee<oe.length;++Ee){var Fe=oe[Ee];if(De(Fe,Uint8Array))$e+Fe.length>Re.length?M.from(Fe).copy(Re,$e):Uint8Array.prototype.set.call(Re,Fe,$e);else{if(!M.isBuffer(Fe))throw new TypeError('"list" argument must be an Array of Buffers');Fe.copy(Re,$e)}$e+=Fe.length}return Re},M.byteLength=ie,M.prototype._isBuffer=!0,M.prototype.swap16=function(){var oe=this.length;if(oe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var fe=0;fe<oe;fe+=2)se(this,fe,fe+1);return this},M.prototype.swap32=function(){var oe=this.length;if(oe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var fe=0;fe<oe;fe+=4)se(this,fe,fe+3),se(this,fe+1,fe+2);return this},M.prototype.swap64=function(){var oe=this.length;if(oe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var fe=0;fe<oe;fe+=8)se(this,fe,fe+7),se(this,fe+1,fe+6),se(this,fe+2,fe+5),se(this,fe+3,fe+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){var oe=this.length;return 0===oe?"":0===arguments.length?y(this,0,oe):ae.apply(this,arguments)},M.prototype.equals=function(oe){if(!M.isBuffer(oe))throw new TypeError("Argument must be a Buffer");return this===oe||0===M.compare(this,oe)},M.prototype.inspect=function(){var oe="",fe=z.INSPECT_MAX_BYTES;return oe=this.toString("hex",0,fe).replace(/(.{2})/g,"$1 ").trim(),this.length>fe&&(oe+=" ... "),"<Buffer "+oe+">"},k&&(M.prototype[k]=M.prototype.inspect),M.prototype.compare=function(oe,fe,Ee,Re,$e){if(De(oe,Uint8Array)&&(oe=M.from(oe,oe.offset,oe.byteLength)),!M.isBuffer(oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof oe);if(void 0===fe&&(fe=0),void 0===Ee&&(Ee=oe?oe.length:0),void 0===Re&&(Re=0),void 0===$e&&($e=this.length),fe<0||Ee>oe.length||Re<0||$e>this.length)throw new RangeError("out of range index");if(Re>=$e&&fe>=Ee)return 0;if(Re>=$e)return-1;if(fe>=Ee)return 1;if(this===oe)return 0;for(var Fe=($e>>>=0)-(Re>>>=0),Et=(Ee>>>=0)-(fe>>>=0),We=Math.min(Fe,Et),Le=this.slice(Re,$e),lt=oe.slice(fe,Ee),B=0;B<We;++B)if(Le[B]!==lt[B]){Fe=Le[B],Et=lt[B];break}return Fe<Et?-1:Et<Fe?1:0},M.prototype.includes=function(oe,fe,Ee){return-1!==this.indexOf(oe,fe,Ee)},M.prototype.indexOf=function(oe,fe,Ee){return de(this,oe,fe,Ee,!0)},M.prototype.lastIndexOf=function(oe,fe,Ee){return de(this,oe,fe,Ee,!1)},M.prototype.write=function(oe,fe,Ee,Re){if(void 0===fe)Re="utf8",Ee=this.length,fe=0;else if(void 0===Ee&&"string"==typeof fe)Re=fe,Ee=this.length,fe=0;else{if(!isFinite(fe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");fe>>>=0,isFinite(Ee)?(Ee>>>=0,void 0===Re&&(Re="utf8")):(Re=Ee,Ee=void 0)}var $e=this.length-fe;if((void 0===Ee||Ee>$e)&&(Ee=$e),oe.length>0&&(Ee<0||fe<0)||fe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Re||(Re="utf8");for(var Fe=!1;;)switch(Re){case"hex":return we(this,oe,fe,Ee);case"utf8":case"utf-8":return xe(this,oe,fe,Ee);case"ascii":case"latin1":case"binary":return Ce(this,oe,fe,Ee);case"base64":return C(this,oe,fe,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,oe,fe,Ee);default:if(Fe)throw new TypeError("Unknown encoding: "+Re);Re=(""+Re).toLowerCase(),Fe=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var g=4096;function T(Q,oe,fe){var Ee="";fe=Math.min(Q.length,fe);for(var Re=oe;Re<fe;++Re)Ee+=String.fromCharCode(127&Q[Re]);return Ee}function N(Q,oe,fe){var Ee="";fe=Math.min(Q.length,fe);for(var Re=oe;Re<fe;++Re)Ee+=String.fromCharCode(Q[Re]);return Ee}function A(Q,oe,fe){var Ee=Q.length;(!oe||oe<0)&&(oe=0),(!fe||fe<0||fe>Ee)&&(fe=Ee);for(var Re="",$e=oe;$e<fe;++$e)Re+=ue[Q[$e]];return Re}function s(Q,oe,fe){for(var Ee=Q.slice(oe,fe),Re="",$e=0;$e<Ee.length-1;$e+=2)Re+=String.fromCharCode(Ee[$e]+256*Ee[$e+1]);return Re}function v(Q,oe,fe){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+oe>fe)throw new RangeError("Trying to access beyond buffer length")}function W(Q,oe,fe,Ee,Re,$e){if(!M.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>Re||oe<$e)throw new RangeError('"value" argument is out of bounds');if(fe+Ee>Q.length)throw new RangeError("Index out of range")}function K(Q,oe,fe,Ee,Re,$e){if(fe+Ee>Q.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("Index out of range")}function ee(Q,oe,fe,Ee,Re){return oe=+oe,fe>>>=0,Re||K(Q,0,fe,4),_.write(Q,oe,fe,Ee,23,4),fe+4}function ce(Q,oe,fe,Ee,Re){return oe=+oe,fe>>>=0,Re||K(Q,0,fe,8),_.write(Q,oe,fe,Ee,52,8),fe+8}M.prototype.slice=function(oe,fe){var Ee=this.length;(oe=~~oe)<0?(oe+=Ee)<0&&(oe=0):oe>Ee&&(oe=Ee),(fe=void 0===fe?Ee:~~fe)<0?(fe+=Ee)<0&&(fe=0):fe>Ee&&(fe=Ee),fe<oe&&(fe=oe);var Re=this.subarray(oe,fe);return Object.setPrototypeOf(Re,M.prototype),Re},M.prototype.readUintLE=M.prototype.readUIntLE=function(oe,fe,Ee){oe>>>=0,fe>>>=0,Ee||v(oe,fe,this.length);for(var Re=this[oe],$e=1,Fe=0;++Fe<fe&&($e*=256);)Re+=this[oe+Fe]*$e;return Re},M.prototype.readUintBE=M.prototype.readUIntBE=function(oe,fe,Ee){oe>>>=0,fe>>>=0,Ee||v(oe,fe,this.length);for(var Re=this[oe+--fe],$e=1;fe>0&&($e*=256);)Re+=this[oe+--fe]*$e;return Re},M.prototype.readUint8=M.prototype.readUInt8=function(oe,fe){return oe>>>=0,fe||v(oe,1,this.length),this[oe]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(oe,fe){return oe>>>=0,fe||v(oe,2,this.length),this[oe]|this[oe+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(oe,fe){return oe>>>=0,fe||v(oe,2,this.length),this[oe]<<8|this[oe+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),(this[oe]|this[oe+1]<<8|this[oe+2]<<16)+16777216*this[oe+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),16777216*this[oe]+(this[oe+1]<<16|this[oe+2]<<8|this[oe+3])},M.prototype.readIntLE=function(oe,fe,Ee){oe>>>=0,fe>>>=0,Ee||v(oe,fe,this.length);for(var Re=this[oe],$e=1,Fe=0;++Fe<fe&&($e*=256);)Re+=this[oe+Fe]*$e;return Re>=($e*=128)&&(Re-=Math.pow(2,8*fe)),Re},M.prototype.readIntBE=function(oe,fe,Ee){oe>>>=0,fe>>>=0,Ee||v(oe,fe,this.length);for(var Re=fe,$e=1,Fe=this[oe+--Re];Re>0&&($e*=256);)Fe+=this[oe+--Re]*$e;return Fe>=($e*=128)&&(Fe-=Math.pow(2,8*fe)),Fe},M.prototype.readInt8=function(oe,fe){return oe>>>=0,fe||v(oe,1,this.length),128&this[oe]?-1*(255-this[oe]+1):this[oe]},M.prototype.readInt16LE=function(oe,fe){oe>>>=0,fe||v(oe,2,this.length);var Ee=this[oe]|this[oe+1]<<8;return 32768&Ee?4294901760|Ee:Ee},M.prototype.readInt16BE=function(oe,fe){oe>>>=0,fe||v(oe,2,this.length);var Ee=this[oe+1]|this[oe]<<8;return 32768&Ee?4294901760|Ee:Ee},M.prototype.readInt32LE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),this[oe]|this[oe+1]<<8|this[oe+2]<<16|this[oe+3]<<24},M.prototype.readInt32BE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),this[oe]<<24|this[oe+1]<<16|this[oe+2]<<8|this[oe+3]},M.prototype.readFloatLE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),_.read(this,oe,!0,23,4)},M.prototype.readFloatBE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),_.read(this,oe,!1,23,4)},M.prototype.readDoubleLE=function(oe,fe){return oe>>>=0,fe||v(oe,8,this.length),_.read(this,oe,!0,52,8)},M.prototype.readDoubleBE=function(oe,fe){return oe>>>=0,fe||v(oe,8,this.length),_.read(this,oe,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(oe,fe,Ee,Re){oe=+oe,fe>>>=0,Ee>>>=0,Re||W(this,oe,fe,Ee,Math.pow(2,8*Ee)-1,0);var Fe=1,Et=0;for(this[fe]=255&oe;++Et<Ee&&(Fe*=256);)this[fe+Et]=oe/Fe&255;return fe+Ee},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(oe,fe,Ee,Re){oe=+oe,fe>>>=0,Ee>>>=0,Re||W(this,oe,fe,Ee,Math.pow(2,8*Ee)-1,0);var Fe=Ee-1,Et=1;for(this[fe+Fe]=255&oe;--Fe>=0&&(Et*=256);)this[fe+Fe]=oe/Et&255;return fe+Ee},M.prototype.writeUint8=M.prototype.writeUInt8=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,1,255,0),this[fe]=255&oe,fe+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,2,65535,0),this[fe]=255&oe,this[fe+1]=oe>>>8,fe+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,2,65535,0),this[fe]=oe>>>8,this[fe+1]=255&oe,fe+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,4,4294967295,0),this[fe+3]=oe>>>24,this[fe+2]=oe>>>16,this[fe+1]=oe>>>8,this[fe]=255&oe,fe+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,4,4294967295,0),this[fe]=oe>>>24,this[fe+1]=oe>>>16,this[fe+2]=oe>>>8,this[fe+3]=255&oe,fe+4},M.prototype.writeIntLE=function(oe,fe,Ee,Re){if(oe=+oe,fe>>>=0,!Re){var $e=Math.pow(2,8*Ee-1);W(this,oe,fe,Ee,$e-1,-$e)}var Fe=0,Et=1,We=0;for(this[fe]=255&oe;++Fe<Ee&&(Et*=256);)oe<0&&0===We&&0!==this[fe+Fe-1]&&(We=1),this[fe+Fe]=(oe/Et|0)-We&255;return fe+Ee},M.prototype.writeIntBE=function(oe,fe,Ee,Re){if(oe=+oe,fe>>>=0,!Re){var $e=Math.pow(2,8*Ee-1);W(this,oe,fe,Ee,$e-1,-$e)}var Fe=Ee-1,Et=1,We=0;for(this[fe+Fe]=255&oe;--Fe>=0&&(Et*=256);)oe<0&&0===We&&0!==this[fe+Fe+1]&&(We=1),this[fe+Fe]=(oe/Et|0)-We&255;return fe+Ee},M.prototype.writeInt8=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,1,127,-128),oe<0&&(oe=255+oe+1),this[fe]=255&oe,fe+1},M.prototype.writeInt16LE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,2,32767,-32768),this[fe]=255&oe,this[fe+1]=oe>>>8,fe+2},M.prototype.writeInt16BE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,2,32767,-32768),this[fe]=oe>>>8,this[fe+1]=255&oe,fe+2},M.prototype.writeInt32LE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,4,2147483647,-2147483648),this[fe]=255&oe,this[fe+1]=oe>>>8,this[fe+2]=oe>>>16,this[fe+3]=oe>>>24,fe+4},M.prototype.writeInt32BE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,4,2147483647,-2147483648),oe<0&&(oe=4294967295+oe+1),this[fe]=oe>>>24,this[fe+1]=oe>>>16,this[fe+2]=oe>>>8,this[fe+3]=255&oe,fe+4},M.prototype.writeFloatLE=function(oe,fe,Ee){return ee(this,oe,fe,!0,Ee)},M.prototype.writeFloatBE=function(oe,fe,Ee){return ee(this,oe,fe,!1,Ee)},M.prototype.writeDoubleLE=function(oe,fe,Ee){return ce(this,oe,fe,!0,Ee)},M.prototype.writeDoubleBE=function(oe,fe,Ee){return ce(this,oe,fe,!1,Ee)},M.prototype.copy=function(oe,fe,Ee,Re){if(!M.isBuffer(oe))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),!Re&&0!==Re&&(Re=this.length),fe>=oe.length&&(fe=oe.length),fe||(fe=0),Re>0&&Re<Ee&&(Re=Ee),Re===Ee||0===oe.length||0===this.length)return 0;if(fe<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(Re<0)throw new RangeError("sourceEnd out of bounds");Re>this.length&&(Re=this.length),oe.length-fe<Re-Ee&&(Re=oe.length-fe+Ee);var $e=Re-Ee;return this===oe&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(fe,Ee,Re):Uint8Array.prototype.set.call(oe,this.subarray(Ee,Re),fe),$e},M.prototype.fill=function(oe,fe,Ee,Re){if("string"==typeof oe){if("string"==typeof fe?(Re=fe,fe=0,Ee=this.length):"string"==typeof Ee&&(Re=Ee,Ee=this.length),void 0!==Re&&"string"!=typeof Re)throw new TypeError("encoding must be a string");if("string"==typeof Re&&!M.isEncoding(Re))throw new TypeError("Unknown encoding: "+Re);if(1===oe.length){var $e=oe.charCodeAt(0);("utf8"===Re&&$e<128||"latin1"===Re)&&(oe=$e)}}else"number"==typeof oe?oe&=255:"boolean"==typeof oe&&(oe=Number(oe));if(fe<0||this.length<fe||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=fe)return this;var Fe;if(fe>>>=0,Ee=void 0===Ee?this.length:Ee>>>0,oe||(oe=0),"number"==typeof oe)for(Fe=fe;Fe<Ee;++Fe)this[Fe]=oe;else{var Et=M.isBuffer(oe)?oe:M.from(oe,Re),We=Et.length;if(0===We)throw new TypeError('The value "'+oe+'" is invalid for argument "value"');for(Fe=0;Fe<Ee-fe;++Fe)this[Fe+fe]=Et[Fe%We]}return this};var _e=/[^+/0-9A-Za-z-_]/g;function Ve(Q,oe){oe=oe||1/0;for(var fe,Ee=Q.length,Re=null,$e=[],Fe=0;Fe<Ee;++Fe){if((fe=Q.charCodeAt(Fe))>55295&&fe<57344){if(!Re){if(fe>56319){(oe-=3)>-1&&$e.push(239,191,189);continue}if(Fe+1===Ee){(oe-=3)>-1&&$e.push(239,191,189);continue}Re=fe;continue}if(fe<56320){(oe-=3)>-1&&$e.push(239,191,189),Re=fe;continue}fe=65536+(Re-55296<<10|fe-56320)}else Re&&(oe-=3)>-1&&$e.push(239,191,189);if(Re=null,fe<128){if((oe-=1)<0)break;$e.push(fe)}else if(fe<2048){if((oe-=2)<0)break;$e.push(fe>>6|192,63&fe|128)}else if(fe<65536){if((oe-=3)<0)break;$e.push(fe>>12|224,fe>>6&63|128,63&fe|128)}else{if(!(fe<1114112))throw new Error("Invalid code point");if((oe-=4)<0)break;$e.push(fe>>18|240,fe>>12&63|128,fe>>6&63|128,63&fe|128)}}return $e}function Ue(Q){return f.toByteArray(function Oe(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(_e,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function ye(Q,oe,fe,Ee){for(var Re=0;Re<Ee&&!(Re+fe>=oe.length||Re>=Q.length);++Re)oe[Re+fe]=Q[Re];return Re}function De(Q,oe){return Q instanceof oe||null!=Q&&null!=Q.constructor&&null!=Q.constructor.name&&Q.constructor.name===oe.name}function pe(Q){return Q!=Q}var ue=function(){for(var Q="0123456789abcdef",oe=new Array(256),fe=0;fe<16;++fe)for(var Ee=16*fe,Re=0;Re<16;++Re)oe[Ee+Re]=Q[fe]+Q[Re];return oe}()},28846:je=>{"use strict";je.exports=function z(E){if("number"==typeof E&&isNaN(E))throw new Error("NaN is not allowed");if("number"==typeof E&&!isFinite(E))throw new Error("Infinity is not allowed");return null===E||"object"!=typeof E?JSON.stringify(E):E.toJSON instanceof Function?z(E.toJSON()):Array.isArray(E)?`[${E.reduce((k,H,x)=>`${k}${0===x?"":","}${z(void 0===H||"symbol"==typeof H?null:H)}`,"")}]`:`{${Object.keys(E).sort().reduce((_,k)=>void 0===E[k]||"symbol"==typeof E[k]?_:`${_}${0===_.length?"":","}${z(k)}:${z(E[k])}`,"")}}`}},42381:(je,z,E)=>{"use strict";var f=E(78341);z.fromCallback=function(_,k){if(void 0===_){var H=new Promise(function(x,P){_=function(M,O){M?P(M):x(O)}});_[void 0!==k?k:"promise"]=H}else if("function"!=typeof _)throw new TypeError("Callback must be a function");return _},z.fromPromise=function(_,k){if(void 0===k)return _;_.then(function(H){f(()=>k(null,H))}).catch(function(H){f(()=>k(H))})}},78341:je=>{je.exports="function"==typeof queueMicrotask?queueMicrotask:z=>Promise.resolve().then(z)},3247:(je,z,E)=>{var f=E(27054).Buffer,_=E(7045).Transform,k=E(78454).StringDecoder;function x(P){_.call(this),this.hashMode="string"==typeof P,this.hashMode?this[P]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}E(71993)(x,_),x.prototype.update=function(P,M,O){"string"==typeof P&&(P=f.from(P,M));var F=this._update(P);return this.hashMode?this:(O&&(F=this._toString(F,O)),F)},x.prototype.setAutoPadding=function(){},x.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},x.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},x.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},x.prototype._transform=function(P,M,O){var F;try{this.hashMode?this._update(P):this.push(this._update(P))}catch(L){F=L}finally{O(F)}},x.prototype._flush=function(P){var M;try{this.push(this.__final())}catch(O){M=O}P(M)},x.prototype._finalOrDigest=function(P){var M=this.__final()||f.alloc(0);return P&&(M=this._toString(M,P,!0)),M},x.prototype._toString=function(P,M,O){if(this._decoder||(this._decoder=new k(M),this._encoding=M),this._encoding!==M)throw new Error("can't switch encodings");var F=this._decoder.write(P);return O&&(F+=this._decoder.end()),F},je.exports=x},27637:(je,z,E)=>{function re(te){return Object.prototype.toString.call(te)}z.isArray=function f(te){return Array.isArray?Array.isArray(te):"[object Array]"===re(te)},z.isBoolean=function _(te){return"boolean"==typeof te},z.isNull=function k(te){return null===te},z.isNullOrUndefined=function H(te){return null==te},z.isNumber=function x(te){return"number"==typeof te},z.isString=function P(te){return"string"==typeof te},z.isSymbol=function M(te){return"symbol"==typeof te},z.isUndefined=function O(te){return void 0===te},z.isRegExp=function F(te){return"[object RegExp]"===re(te)},z.isObject=function L(te){return"object"==typeof te&&null!==te},z.isDate=function D(te){return"[object Date]"===re(te)},z.isError=function X(te){return"[object Error]"===re(te)||te instanceof Error},z.isFunction=function j(te){return"function"==typeof te},z.isPrimitive=function G(te){return null===te||"boolean"==typeof te||"number"==typeof te||"string"==typeof te||"symbol"==typeof te||typeof te>"u"},z.isBuffer=E(83838).Buffer.isBuffer},87303:(je,z,E)=>{var f=E(90518),_=E(89606);je.exports=function(M){return new H(M)};var k={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function H(P){this.curveType=k[P],this.curveType||(this.curveType={name:P}),this.curve=new f.ec(this.curveType.name),this.keys=void 0}function x(P,M,O){Array.isArray(P)||(P=P.toArray());var F=new Buffer(P);if(O&&F.length<O){var L=new Buffer(O-F.length);L.fill(0),F=Buffer.concat([L,F])}return M?F.toString(M):F}k.p224=k.secp224r1,k.p256=k.secp256r1=k.prime256v1,k.p192=k.secp192r1=k.prime192v1,k.p384=k.secp384r1,k.p521=k.secp521r1,H.prototype.generateKeys=function(P,M){return this.keys=this.curve.genKeyPair(),this.getPublicKey(P,M)},H.prototype.computeSecret=function(P,M,O){return M=M||"utf8",Buffer.isBuffer(P)||(P=new Buffer(P,M)),x(this.curve.keyFromPublic(P).getPublic().mul(this.keys.getPrivate()).getX(),O,this.curveType.byteLength)},H.prototype.getPublicKey=function(P,M){var O=this.keys.getPublic("compressed"===M,!0);return"hybrid"===M&&(O[0]=O[O.length-1]%2?7:6),x(O,P)},H.prototype.getPrivateKey=function(P){return x(this.keys.getPrivate(),P)},H.prototype.setPublicKey=function(P,M){return M=M||"utf8",Buffer.isBuffer(P)||(P=new Buffer(P,M)),this.keys._importPublic(P),this},H.prototype.setPrivateKey=function(P,M){M=M||"utf8",Buffer.isBuffer(P)||(P=new Buffer(P,M));var O=new _(P);return O=O.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(O),this}},89606:function(je,z,E){!function(f,_){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var P;"object"==typeof f?f.exports=x:_.BN=x,x.BN=x,x.wordSize=26;try{P=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(77965).Buffer}catch{}function M(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=M(C,u);return u-1>=a&&(y|=M(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,A=Math.min(T,T-N)+y,s=0,v=y;v<A;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,A=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=A>>>26,W=67108863&A,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,A=0|v}return 0!==A?u.words[s]=0|A:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],A=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-A.length]+A+y:A+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof P<"u"),this.toArrayLike(P,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var A,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[s]=A;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[S-s-1]=A}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var A,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,be=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,Et=0|g[7],We=8191&Et,Le=Et>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,tt=ge>>>13,Bt=0|S[1],vt=8191&Bt,It=Bt>>>13,Gt=0|S[2],hn=8191&Gt,dn=Gt>>>13,ar=0|S[3],An=8191&ar,en=ar>>>13,Qt=0|S[4],_t=8191&Qt,ft=Qt>>>13,Wt=0|S[5],qt=8191&Wt,pn=Wt>>>13,fr=0|S[6],gt=8191&fr,Mt=fr>>>13,St=0|S[7],Ye=8191&St,nt=St>>>13,Ht=0|S[8],Nt=8191&Ht,un=Ht>>>13,Wn=0|S[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^u.negative,y.length=19;var Or=(N+(A=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,A=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(N+(A=A+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,A=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(be,Ae)|0,v=Math.imul(be,tt),A=A+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(N+(A=A+Math.imul(K,hn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,hn)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,A=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),A=A+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,It)|0,A=A+Math.imul(_e,hn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,hn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(N+(A=A+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;N=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,A=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),A=A+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,It)|0,A=A+Math.imul(Se,hn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,hn)|0,v=v+Math.imul(be,dn)|0,A=A+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(N+(A=A+Math.imul(K,_t)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,_t)|0))<<13)|0;N=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,A=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),A=A+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,It)|0,A=A+Math.imul(ye,hn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,hn)|0,v=v+Math.imul(De,dn)|0,A=A+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(be,An)|0,v=v+Math.imul(be,en)|0,A=A+Math.imul(_e,_t)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,_t)|0,v=v+Math.imul(Oe,ft)|0;var Te=(N+(A=A+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,pn)|0)+Math.imul(ee,qt)|0))<<13)|0;N=((v=v+Math.imul(ee,pn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,A=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),A=A+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,It)|0,A=A+Math.imul(ue,hn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,hn)|0,v=v+Math.imul(Q,dn)|0,A=A+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,A=A+Math.imul(Se,_t)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(be,_t)|0,v=v+Math.imul(be,ft)|0,A=A+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,pn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,pn)|0;var Be=(N+(A=A+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mt)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,Mt)|0)+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,A=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),A=A+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,It)|0,A=A+Math.imul(fe,hn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,hn)|0,v=v+Math.imul(Ee,dn)|0,A=A+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,A=A+Math.imul(ye,_t)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,_t)|0,v=v+Math.imul(De,ft)|0,A=A+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,pn)|0)+Math.imul(be,qt)|0,v=v+Math.imul(be,pn)|0,A=A+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,Mt)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,Mt)|0;var xt=(N+(A=A+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,A=Math.imul(B,Ae),s=(s=Math.imul(B,tt))+Math.imul(w,Ae)|0,v=Math.imul(w,tt),A=A+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,It)|0,A=A+Math.imul($e,hn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,hn)|0,v=v+Math.imul(Fe,dn)|0,A=A+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,A=A+Math.imul(ue,_t)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,_t)|0,v=v+Math.imul(Q,ft)|0,A=A+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,pn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,pn)|0,A=A+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,Mt)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,Mt)|0,A=A+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(N+(A=A+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;N=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,A=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),A=A+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,It)|0,A=A+Math.imul(We,hn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,hn)|0,v=v+Math.imul(Le,dn)|0,A=A+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,A=A+Math.imul(fe,_t)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,_t)|0,v=v+Math.imul(Ee,ft)|0,A=A+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,pn)|0,A=A+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,Mt)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,Mt)|0,A=A+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Ye)|0,v=v+Math.imul(be,nt)|0,A=A+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(N+(A=A+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;N=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,A=Math.imul(U,vt),s=(s=Math.imul(U,It))+Math.imul(ne,vt)|0,v=Math.imul(ne,It),A=A+Math.imul(B,hn)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,hn)|0,v=v+Math.imul(w,dn)|0,A=A+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,A=A+Math.imul($e,_t)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,_t)|0,v=v+Math.imul(Fe,ft)|0,A=A+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,pn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,pn)|0,A=A+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,Mt)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,Mt)|0,A=A+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,A=A+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(be,Nt)|0,v=v+Math.imul(be,un)|0;var Kn=(N+(A=A+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;N=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(U,hn),s=(s=Math.imul(U,dn))+Math.imul(ne,hn)|0,v=Math.imul(ne,dn),A=A+Math.imul(B,An)|0,s=(s=s+Math.imul(B,en)|0)+Math.imul(w,An)|0,v=v+Math.imul(w,en)|0,A=A+Math.imul(We,_t)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,_t)|0,v=v+Math.imul(Le,ft)|0,A=A+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,pn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,pn)|0,A=A+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,Mt)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,Mt)|0,A=A+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,A=A+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var tr=(N+(A=A+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(be,En)|0))<<13)|0;N=((v=v+Math.imul(be,kn)|0)+(s>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),A=A+Math.imul(B,_t)|0,s=(s=s+Math.imul(B,ft)|0)+Math.imul(w,_t)|0,v=v+Math.imul(w,ft)|0,A=A+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,pn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,pn)|0,A=A+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,Mt)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,Mt)|0,A=A+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,A=A+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var Dr=(N+(A=A+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;N=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,A=Math.imul(U,_t),s=(s=Math.imul(U,ft))+Math.imul(ne,_t)|0,v=Math.imul(ne,ft),A=A+Math.imul(B,qt)|0,s=(s=s+Math.imul(B,pn)|0)+Math.imul(w,qt)|0,v=v+Math.imul(w,pn)|0,A=A+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,Mt)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,Mt)|0,A=A+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,A=A+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Mr=(N+(A=A+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;N=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,A=Math.imul(U,qt),s=(s=Math.imul(U,pn))+Math.imul(ne,qt)|0,v=Math.imul(ne,pn),A=A+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,Mt)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,Mt)|0,A=A+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,A=A+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Ir=(N+(A=A+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;N=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,A=Math.imul(U,gt),s=(s=Math.imul(U,Mt))+Math.imul(ne,gt)|0,v=Math.imul(ne,Mt),A=A+Math.imul(B,Ye)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Ye)|0,v=v+Math.imul(w,nt)|0,A=A+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(N+(A=A+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;N=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,A=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),A=A+Math.imul(B,Nt)|0,s=(s=s+Math.imul(B,un)|0)+Math.imul(w,Nt)|0,v=v+Math.imul(w,un)|0;var ni=(N+(A=A+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;N=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(ni>>>26)|0,ni&=67108863,A=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(N+(A=A+Math.imul(B,En)|0)|0)+((8191&(s=(s=s+Math.imul(B,kn)|0)+Math.imul(w,En)|0))<<13)|0;N=((v=v+Math.imul(w,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(N+(A=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return N=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Be,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=tr,T[12]=Dr,T[13]=Mr,T[14]=Ir,T[15]=jr,T[16]=ni,T[17]=tn,T[18]=_n,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Z).mulp(C,a,u)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,A=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=A;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Z.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Z.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Z.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Z.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var A=N<<1,s=Math.cos(2*Math.PI/A),v=Math.sin(2*Math.PI/A),W=0;W<S;W+=A)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+N],Se=g[W+ce+N],be=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=be),g[W+ce]=Oe+Se,y[W+ce+N]=_e-Ve,g[W+ce+N]=Oe-Se,ce!==A&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Z.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Z.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Z.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Z.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Z.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Z.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),A=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,A,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=A[ce]*W[ce]-s[ce]*K[ce];s[ce]=A[ce]*K[ce]+s[ce]*W[ce],A[ce]=_e}return this.conjugate(A,s,g),this.transform(A,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,A=y;if(g-=T,g=Math.max(0,g),A){for(var s=0;s<T;s++)A.words[s]=this.words[s];A.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return A&&0!==v&&(A.words[A.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var A=(0|a.words[S])*u;N=((T-=67108863&A)>>26)-(A/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,A=g.length-S.length;if("mod"!==u){(s=new x(null)).length=A+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,A);0===W.negative&&(g=W,s&&(s.words[A]=1));for(var K=A-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),A=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++A;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(A)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,A=1;!(u.words[0]&A)&&N<26;++N,A<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(ie[a])return ie[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return ie[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),A=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,A).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,A=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++A||0===S&&0===W)&&(T=this.mul(T,g[N]),A=0,N=0)):A=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=E.nmd(je),this)},67211:(je,z,E)=>{"use strict";var f=E(71993),_=E(34725),k=E(36636),H=E(25443),x=E(3247);function P(M){x.call(this,"digest"),this._hash=M}f(P,x),P.prototype._update=function(M){this._hash.update(M)},P.prototype._final=function(){return this._hash.digest()},je.exports=function(O){return"md5"===(O=O.toLowerCase())?new _:"rmd160"===O||"ripemd160"===O?new k:new P(H(O))}},83407:(je,z,E)=>{var f=E(34725);je.exports=function(_){return(new f).update(_).digest()}},56432:(je,z,E)=>{"use strict";var f=E(71993),_=E(90509),k=E(3247),H=E(27054).Buffer,x=E(83407),P=E(36636),M=E(25443),O=H.alloc(128);function F(L,D){k.call(this,"digest"),"string"==typeof D&&(D=H.from(D));var X="sha512"===L||"sha384"===L?128:64;this._alg=L,this._key=D,D.length>X?D=("rmd160"===L?new P:M(L)).update(D).digest():D.length<X&&(D=H.concat([D,O],X));for(var G=this._ipad=H.allocUnsafe(X),re=this._opad=H.allocUnsafe(X),te=0;te<X;te++)G[te]=54^D[te],re[te]=92^D[te];this._hash="rmd160"===L?new P:M(L),this._hash.update(G)}f(F,k),F.prototype._update=function(L){this._hash.update(L)},F.prototype._final=function(){var L=this._hash.digest();return("rmd160"===this._alg?new P:M(this._alg)).update(this._opad).update(L).digest()},je.exports=function(D,X){return"rmd160"===(D=D.toLowerCase())||"ripemd160"===D?new F("rmd160",X):"md5"===D?new _(x,X):new F(D,X)}},90509:(je,z,E)=>{"use strict";var f=E(71993),_=E(27054).Buffer,k=E(3247),H=_.alloc(128),x=64;function P(M,O){k.call(this,"digest"),"string"==typeof O&&(O=_.from(O)),this._alg=M,this._key=O,O.length>x?O=M(O):O.length<x&&(O=_.concat([O,H],x));for(var F=this._ipad=_.allocUnsafe(x),L=this._opad=_.allocUnsafe(x),D=0;D<x;D++)F[D]=54^O[D],L[D]=92^O[D];this._hash=[F]}f(P,k),P.prototype._update=function(M){this._hash.push(M)},P.prototype._final=function(){var M=this._alg(_.concat(this._hash));return this._alg(_.concat([this._opad,M]))},je.exports=P},91426:(je,z,E)=>{"use strict";z.randomBytes=z.rng=z.pseudoRandomBytes=z.prng=E(3342),z.createHash=z.Hash=E(67211),z.createHmac=z.Hmac=E(56432);var f=E(99560),_=Object.keys(f),k=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(_);z.getHashes=function(){return k};var H=E(93397);z.pbkdf2=H.pbkdf2,z.pbkdf2Sync=H.pbkdf2Sync;var x=E(88862);z.Cipher=x.Cipher,z.createCipher=x.createCipher,z.Cipheriv=x.Cipheriv,z.createCipheriv=x.createCipheriv,z.Decipher=x.Decipher,z.createDecipher=x.createDecipher,z.Decipheriv=x.Decipheriv,z.createDecipheriv=x.createDecipheriv,z.getCiphers=x.getCiphers,z.listCiphers=x.listCiphers;var P=E(4377);z.DiffieHellmanGroup=P.DiffieHellmanGroup,z.createDiffieHellmanGroup=P.createDiffieHellmanGroup,z.getDiffieHellman=P.getDiffieHellman,z.createDiffieHellman=P.createDiffieHellman,z.DiffieHellman=P.DiffieHellman;var M=E(79143);z.createSign=M.createSign,z.Sign=M.Sign,z.createVerify=M.createVerify,z.Verify=M.Verify,z.createECDH=E(87303);var O=E(52965);z.publicEncrypt=O.publicEncrypt,z.privateEncrypt=O.privateEncrypt,z.publicDecrypt=O.publicDecrypt,z.privateDecrypt=O.privateDecrypt;var F=E(9682);z.randomFill=F.randomFill,z.randomFillSync=F.randomFillSync,z.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},z.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:(je,z,E)=>{"use strict";z.utils=E(85671),z.Cipher=E(10219),z.DES=E(64166),z.CBC=E(88800),z.EDE=E(62122)},88800:(je,z,E)=>{"use strict";var f=E(39210),_=E(71993),k={};function H(P){f.equal(P.length,8,"Invalid IV length"),this.iv=new Array(8);for(var M=0;M<this.iv.length;M++)this.iv[M]=P[M]}z.instantiate=function x(P){function M(D){P.call(this,D),this._cbcInit()}_(M,P);for(var O=Object.keys(k),F=0;F<O.length;F++){var L=O[F];M.prototype[L]=k[L]}return M.create=function(X){return new M(X)},M},k._cbcInit=function(){var M=new H(this.options.iv);this._cbcState=M},k._update=function(M,O,F,L){var X=this.constructor.super_.prototype,j=this._cbcState.iv;if("encrypt"===this.type){for(var G=0;G<this.blockSize;G++)j[G]^=M[O+G];for(X._update.call(this,j,0,F,L),G=0;G<this.blockSize;G++)j[G]=F[L+G]}else{for(X._update.call(this,M,O,F,L),G=0;G<this.blockSize;G++)F[L+G]^=j[G];for(G=0;G<this.blockSize;G++)j[G]=M[O+G]}}},10219:(je,z,E)=>{"use strict";var f=E(39210);function _(k){this.options=k,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==k.padding}je.exports=_,_.prototype._init=function(){},_.prototype.update=function(H){return 0===H.length?[]:"decrypt"===this.type?this._updateDecrypt(H):this._updateEncrypt(H)},_.prototype._buffer=function(H,x){for(var P=Math.min(this.buffer.length-this.bufferOff,H.length-x),M=0;M<P;M++)this.buffer[this.bufferOff+M]=H[x+M];return this.bufferOff+=P,P},_.prototype._flushBuffer=function(H,x){return this._update(this.buffer,0,H,x),this.bufferOff=0,this.blockSize},_.prototype._updateEncrypt=function(H){var x=0,P=0,O=new Array(((this.bufferOff+H.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(x+=this._buffer(H,x),this.bufferOff===this.buffer.length&&(P+=this._flushBuffer(O,P)));for(var F=H.length-(H.length-x)%this.blockSize;x<F;x+=this.blockSize)this._update(H,x,O,P),P+=this.blockSize;for(;x<H.length;x++,this.bufferOff++)this.buffer[this.bufferOff]=H[x];return O},_.prototype._updateDecrypt=function(H){for(var x=0,P=0,M=Math.ceil((this.bufferOff+H.length)/this.blockSize)-1,O=new Array(M*this.blockSize);M>0;M--)x+=this._buffer(H,x),P+=this._flushBuffer(O,P);return x+=this._buffer(H,x),O},_.prototype.final=function(H){var x,P;return H&&(x=this.update(H)),P="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),x?x.concat(P):P},_.prototype._pad=function(H,x){if(0===x)return!1;for(;x<H.length;)H[x++]=0;return!0},_.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var H=new Array(this.blockSize);return this._update(this.buffer,0,H,0),H},_.prototype._unpad=function(H){return H},_.prototype._finalDecrypt=function(){f.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var H=new Array(this.blockSize);return this._flushBuffer(H,0),this._unpad(H)}},64166:(je,z,E)=>{"use strict";var f=E(39210),_=E(71993),k=E(85671),H=E(10219);function x(){this.tmp=new Array(2),this.keys=null}function P(O){H.call(this,O);var F=new x;this._desState=F,this.deriveKeys(F,O.key)}_(P,H),je.exports=P,P.create=function(F){return new P(F)};var M=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];P.prototype.deriveKeys=function(F,L){F.keys=new Array(32),f.equal(L.length,this.blockSize,"Invalid key length");var D=k.readUInt32BE(L,0),X=k.readUInt32BE(L,4);k.pc1(D,X,F.tmp,0),D=F.tmp[0],X=F.tmp[1];for(var j=0;j<F.keys.length;j+=2){var G=M[j>>>1];D=k.r28shl(D,G),X=k.r28shl(X,G),k.pc2(D,X,F.keys,j)}},P.prototype._update=function(F,L,D,X){var j=this._desState,G=k.readUInt32BE(F,L),re=k.readUInt32BE(F,L+4);k.ip(G,re,j.tmp,0),G=j.tmp[0],re=j.tmp[1],"encrypt"===this.type?this._encrypt(j,G,re,j.tmp,0):this._decrypt(j,G,re,j.tmp,0),re=j.tmp[1],k.writeUInt32BE(D,G=j.tmp[0],X),k.writeUInt32BE(D,re,X+4)},P.prototype._pad=function(F,L){if(!1===this.padding)return!1;for(var D=F.length-L,X=L;X<F.length;X++)F[X]=D;return!0},P.prototype._unpad=function(F){if(!1===this.padding)return F;for(var L=F[F.length-1],D=F.length-L;D<F.length;D++)f.equal(F[D],L);return F.slice(0,F.length-L)},P.prototype._encrypt=function(F,L,D,X,j){for(var G=L,re=D,te=0;te<F.keys.length;te+=2){var J=F.keys[te],Z=F.keys[te+1];k.expand(re,F.tmp,0);var ie=k.substitute(J^=F.tmp[0],Z^=F.tmp[1]),se=re;re=(G^k.permute(ie))>>>0,G=se}k.rip(re,G,X,j)},P.prototype._decrypt=function(F,L,D,X,j){for(var G=D,re=L,te=F.keys.length-2;te>=0;te-=2){var J=F.keys[te],Z=F.keys[te+1];k.expand(G,F.tmp,0);var ie=k.substitute(J^=F.tmp[0],Z^=F.tmp[1]),se=G;G=(re^k.permute(ie))>>>0,re=se}k.rip(G,re,X,j)}},62122:(je,z,E)=>{"use strict";var f=E(39210),_=E(71993),k=E(10219),H=E(64166);function x(M,O){f.equal(O.length,24,"Invalid key length");var F=O.slice(0,8),L=O.slice(8,16),D=O.slice(16,24);this.ciphers="encrypt"===M?[H.create({type:"encrypt",key:F}),H.create({type:"decrypt",key:L}),H.create({type:"encrypt",key:D})]:[H.create({type:"decrypt",key:D}),H.create({type:"encrypt",key:L}),H.create({type:"decrypt",key:F})]}function P(M){k.call(this,M);var O=new x(this.type,this.options.key);this._edeState=O}_(P,k),je.exports=P,P.create=function(O){return new P(O)},P.prototype._update=function(O,F,L,D){var X=this._edeState;X.ciphers[0]._update(O,F,L,D),X.ciphers[1]._update(L,D,L,D),X.ciphers[2]._update(L,D,L,D)},P.prototype._pad=H.prototype._pad,P.prototype._unpad=H.prototype._unpad},85671:(je,z)=>{"use strict";z.readUInt32BE=function(H,x){return(H[0+x]<<24|H[1+x]<<16|H[2+x]<<8|H[3+x])>>>0},z.writeUInt32BE=function(H,x,P){H[0+P]=x>>>24,H[1+P]=x>>>16&255,H[2+P]=x>>>8&255,H[3+P]=255&x},z.ip=function(H,x,P,M){for(var O=0,F=0,L=6;L>=0;L-=2){for(var D=0;D<=24;D+=8)O<<=1,O|=x>>>D+L&1;for(D=0;D<=24;D+=8)O<<=1,O|=H>>>D+L&1}for(L=6;L>=0;L-=2){for(D=1;D<=25;D+=8)F<<=1,F|=x>>>D+L&1;for(D=1;D<=25;D+=8)F<<=1,F|=H>>>D+L&1}P[M+0]=O>>>0,P[M+1]=F>>>0},z.rip=function(H,x,P,M){for(var O=0,F=0,L=0;L<4;L++)for(var D=24;D>=0;D-=8)O<<=1,O|=x>>>D+L&1,O<<=1,O|=H>>>D+L&1;for(L=4;L<8;L++)for(D=24;D>=0;D-=8)F<<=1,F|=x>>>D+L&1,F<<=1,F|=H>>>D+L&1;P[M+0]=O>>>0,P[M+1]=F>>>0},z.pc1=function(H,x,P,M){for(var O=0,F=0,L=7;L>=5;L--){for(var D=0;D<=24;D+=8)O<<=1,O|=x>>D+L&1;for(D=0;D<=24;D+=8)O<<=1,O|=H>>D+L&1}for(D=0;D<=24;D+=8)O<<=1,O|=x>>D+L&1;for(L=1;L<=3;L++){for(D=0;D<=24;D+=8)F<<=1,F|=x>>D+L&1;for(D=0;D<=24;D+=8)F<<=1,F|=H>>D+L&1}for(D=0;D<=24;D+=8)F<<=1,F|=H>>D+L&1;P[M+0]=O>>>0,P[M+1]=F>>>0},z.r28shl=function(H,x){return H<<x&268435455|H>>>28-x};var E=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];z.pc2=function(H,x,P,M){for(var O=0,F=0,L=E.length>>>1,D=0;D<L;D++)O<<=1,O|=H>>>E[D]&1;for(D=L;D<E.length;D++)F<<=1,F|=x>>>E[D]&1;P[M+0]=O>>>0,P[M+1]=F>>>0},z.expand=function(H,x,P){var M=0,O=0;M=(1&H)<<5|H>>>27;for(var F=23;F>=15;F-=4)M<<=6,M|=H>>>F&63;for(F=11;F>=3;F-=4)O|=H>>>F&63,O<<=6;O|=(31&H)<<1|H>>>31,x[P+0]=M>>>0,x[P+1]=O>>>0};var f=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];z.substitute=function(H,x){for(var P=0,M=0;M<4;M++)P<<=4,P|=f[64*M+(H>>>18-6*M&63)];for(M=0;M<4;M++)P<<=4,P|=f[256+64*M+(x>>>18-6*M&63)];return P>>>0};var _=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];z.permute=function(H){for(var x=0,P=0;P<_.length;P++)x<<=1,x|=H>>>_[P]&1;return x>>>0},z.padSplit=function(H,x,P){for(var M=H.toString(2);M.length<x;)M="0"+M;for(var O=[],F=0;F<x;F+=P)O.push(M.slice(F,F+P));return O.join(" ")}},4377:(je,z,E)=>{var f=E(12727),_=E(23241),k=E(94593),x={binary:!0,hex:!0,base64:!0};z.DiffieHellmanGroup=z.createDiffieHellmanGroup=z.getDiffieHellman=function H(M){var O=new Buffer(_[M].prime,"hex"),F=new Buffer(_[M].gen,"hex");return new k(O,F)},z.createDiffieHellman=z.DiffieHellman=function P(M,O,F,L){return Buffer.isBuffer(O)||void 0===x[O]?P(M,"binary",O,F):(O=O||"binary",L=L||"binary",F=F||new Buffer([2]),Buffer.isBuffer(F)||(F=new Buffer(F,L)),"number"==typeof M?new k(f(M,F),F,!0):(Buffer.isBuffer(M)||(M=new Buffer(M,O)),new k(M,F,!0)))}},94593:(je,z,E)=>{var f=E(38280),k=new(E(53459)),H=new f(24),x=new f(11),P=new f(10),M=new f(3),O=new f(7),F=E(12727),L=E(3342);function D(J,Z){return Z=Z||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,Z)),this._pub=new f(J),this}function X(J,Z){return Z=Z||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,Z)),this._priv=new f(J),this}je.exports=re;var j={};function re(J,Z,ie){this.setGenerator(Z),this.__prime=new f(J),this._prime=f.mont(this.__prime),this._primeLen=J.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,ie?(this.setPublicKey=D,this.setPrivateKey=X):this._primeCode=8}function te(J,Z){var ie=new Buffer(J.toArray());return Z?ie.toString(Z):ie}Object.defineProperty(re.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function G(J,Z){var ie=Z.toString("hex"),ae=[ie,J.toString(16)].join("_");if(ae in j)return j[ae];var de,se=0;if(J.isEven()||!F.simpleSieve||!F.fermatTest(J)||!k.test(J))return se+=1,j[ae]=se+="02"===ie||"05"===ie?8:4,se;switch(k.test(J.shrn(1))||(se+=2),ie){case"02":J.mod(H).cmp(x)&&(se+=8);break;case"05":(de=J.mod(P)).cmp(M)&&de.cmp(O)&&(se+=8);break;default:se+=4}return j[ae]=se,se}(this.__prime,this.__gen)),this._primeCode}}),re.prototype.generateKeys=function(){return this._priv||(this._priv=new f(L(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},re.prototype.computeSecret=function(J){var Z=(J=(J=new f(J)).toRed(this._prime)).redPow(this._priv).fromRed(),ie=new Buffer(Z.toArray()),ae=this.getPrime();if(ie.length<ae.length){var se=new Buffer(ae.length-ie.length);se.fill(0),ie=Buffer.concat([se,ie])}return ie},re.prototype.getPublicKey=function(Z){return te(this._pub,Z)},re.prototype.getPrivateKey=function(Z){return te(this._priv,Z)},re.prototype.getPrime=function(J){return te(this.__prime,J)},re.prototype.getGenerator=function(J){return te(this._gen,J)},re.prototype.setGenerator=function(J,Z){return Z=Z||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,Z)),this.__gen=J,this._gen=new f(J),this}},12727:(je,z,E)=>{var f=E(3342);je.exports=se,se.simpleSieve=ie,se.fermatTest=ae;var _=E(38280),k=new _(24),x=new(E(53459)),P=new _(1),M=new _(2),O=new _(5),D=(new _(16),new _(8),new _(10)),X=new _(3),G=(new _(7),new _(11)),re=new _(4),J=(new _(12),null);function ie(de){for(var le=function Z(){if(null!==J)return J;var le=[];le[0]=2;for(var we=1,xe=3;xe<1048576;xe+=2){for(var Ce=Math.ceil(Math.sqrt(xe)),C=0;C<we&&le[C]<=Ce&&xe%le[C]!=0;C++);we!==C&&le[C]<=Ce||(le[we++]=xe)}return J=le,le}(),we=0;we<le.length;we++)if(0===de.modn(le[we]))return 0===de.cmpn(le[we]);return!0}function ae(de){var le=_.mont(de);return 0===M.toRed(le).redPow(de.subn(1)).fromRed().cmpn(1)}function se(de,le){if(de<16)return new _(2===le||5===le?[140,123]:[140,39]);le=new _(le);for(var we,xe;;){for(we=new _(f(Math.ceil(de/8)));we.bitLength()>de;)we.ishrn(1);if(we.isEven()&&we.iadd(P),we.testn(1)||we.iadd(M),le.cmp(M)){if(!le.cmp(O))for(;we.mod(D).cmp(X);)we.iadd(re)}else for(;we.mod(k).cmp(G);)we.iadd(re);if(ie(xe=we.shrn(1))&&ie(we)&&ae(xe)&&ae(we)&&x.test(xe)&&x.test(we))return we}}},38280:function(je,z,E){!function(f,_){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var P;"object"==typeof f?f.exports=x:_.BN=x,x.BN=x,x.wordSize=26;try{P=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(66089).Buffer}catch{}function M(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=M(C,u);return u-1>=a&&(y|=M(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,A=Math.min(T,T-N)+y,s=0,v=y;v<A;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,A=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=A>>>26,W=67108863&A,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,A=0|v}return 0!==A?u.words[s]=0|A:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],A=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-A.length]+A+y:A+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof P<"u"),this.toArrayLike(P,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var A,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[s]=A;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[S-s-1]=A}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var A,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,be=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,Et=0|g[7],We=8191&Et,Le=Et>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,tt=ge>>>13,Bt=0|S[1],vt=8191&Bt,It=Bt>>>13,Gt=0|S[2],hn=8191&Gt,dn=Gt>>>13,ar=0|S[3],An=8191&ar,en=ar>>>13,Qt=0|S[4],_t=8191&Qt,ft=Qt>>>13,Wt=0|S[5],qt=8191&Wt,pn=Wt>>>13,fr=0|S[6],gt=8191&fr,Mt=fr>>>13,St=0|S[7],Ye=8191&St,nt=St>>>13,Ht=0|S[8],Nt=8191&Ht,un=Ht>>>13,Wn=0|S[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^u.negative,y.length=19;var Or=(N+(A=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,A=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(N+(A=A+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,A=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(be,Ae)|0,v=Math.imul(be,tt),A=A+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(N+(A=A+Math.imul(K,hn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,hn)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,A=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),A=A+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,It)|0,A=A+Math.imul(_e,hn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,hn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(N+(A=A+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;N=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,A=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),A=A+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,It)|0,A=A+Math.imul(Se,hn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,hn)|0,v=v+Math.imul(be,dn)|0,A=A+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(N+(A=A+Math.imul(K,_t)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,_t)|0))<<13)|0;N=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,A=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),A=A+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,It)|0,A=A+Math.imul(ye,hn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,hn)|0,v=v+Math.imul(De,dn)|0,A=A+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(be,An)|0,v=v+Math.imul(be,en)|0,A=A+Math.imul(_e,_t)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,_t)|0,v=v+Math.imul(Oe,ft)|0;var Te=(N+(A=A+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,pn)|0)+Math.imul(ee,qt)|0))<<13)|0;N=((v=v+Math.imul(ee,pn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,A=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),A=A+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,It)|0,A=A+Math.imul(ue,hn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,hn)|0,v=v+Math.imul(Q,dn)|0,A=A+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,A=A+Math.imul(Se,_t)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(be,_t)|0,v=v+Math.imul(be,ft)|0,A=A+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,pn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,pn)|0;var Be=(N+(A=A+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mt)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,Mt)|0)+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,A=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),A=A+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,It)|0,A=A+Math.imul(fe,hn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,hn)|0,v=v+Math.imul(Ee,dn)|0,A=A+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,A=A+Math.imul(ye,_t)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,_t)|0,v=v+Math.imul(De,ft)|0,A=A+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,pn)|0)+Math.imul(be,qt)|0,v=v+Math.imul(be,pn)|0,A=A+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,Mt)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,Mt)|0;var xt=(N+(A=A+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,A=Math.imul(B,Ae),s=(s=Math.imul(B,tt))+Math.imul(w,Ae)|0,v=Math.imul(w,tt),A=A+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,It)|0,A=A+Math.imul($e,hn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,hn)|0,v=v+Math.imul(Fe,dn)|0,A=A+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,A=A+Math.imul(ue,_t)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,_t)|0,v=v+Math.imul(Q,ft)|0,A=A+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,pn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,pn)|0,A=A+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,Mt)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,Mt)|0,A=A+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(N+(A=A+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;N=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,A=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),A=A+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,It)|0,A=A+Math.imul(We,hn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,hn)|0,v=v+Math.imul(Le,dn)|0,A=A+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,A=A+Math.imul(fe,_t)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,_t)|0,v=v+Math.imul(Ee,ft)|0,A=A+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,pn)|0,A=A+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,Mt)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,Mt)|0,A=A+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Ye)|0,v=v+Math.imul(be,nt)|0,A=A+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(N+(A=A+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;N=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,A=Math.imul(U,vt),s=(s=Math.imul(U,It))+Math.imul(ne,vt)|0,v=Math.imul(ne,It),A=A+Math.imul(B,hn)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,hn)|0,v=v+Math.imul(w,dn)|0,A=A+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,A=A+Math.imul($e,_t)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,_t)|0,v=v+Math.imul(Fe,ft)|0,A=A+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,pn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,pn)|0,A=A+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,Mt)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,Mt)|0,A=A+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,A=A+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(be,Nt)|0,v=v+Math.imul(be,un)|0;var Kn=(N+(A=A+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;N=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(U,hn),s=(s=Math.imul(U,dn))+Math.imul(ne,hn)|0,v=Math.imul(ne,dn),A=A+Math.imul(B,An)|0,s=(s=s+Math.imul(B,en)|0)+Math.imul(w,An)|0,v=v+Math.imul(w,en)|0,A=A+Math.imul(We,_t)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,_t)|0,v=v+Math.imul(Le,ft)|0,A=A+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,pn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,pn)|0,A=A+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,Mt)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,Mt)|0,A=A+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,A=A+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var tr=(N+(A=A+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(be,En)|0))<<13)|0;N=((v=v+Math.imul(be,kn)|0)+(s>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),A=A+Math.imul(B,_t)|0,s=(s=s+Math.imul(B,ft)|0)+Math.imul(w,_t)|0,v=v+Math.imul(w,ft)|0,A=A+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,pn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,pn)|0,A=A+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,Mt)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,Mt)|0,A=A+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,A=A+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var Dr=(N+(A=A+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;N=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,A=Math.imul(U,_t),s=(s=Math.imul(U,ft))+Math.imul(ne,_t)|0,v=Math.imul(ne,ft),A=A+Math.imul(B,qt)|0,s=(s=s+Math.imul(B,pn)|0)+Math.imul(w,qt)|0,v=v+Math.imul(w,pn)|0,A=A+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,Mt)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,Mt)|0,A=A+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,A=A+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Mr=(N+(A=A+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;N=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,A=Math.imul(U,qt),s=(s=Math.imul(U,pn))+Math.imul(ne,qt)|0,v=Math.imul(ne,pn),A=A+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,Mt)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,Mt)|0,A=A+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,A=A+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Ir=(N+(A=A+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;N=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,A=Math.imul(U,gt),s=(s=Math.imul(U,Mt))+Math.imul(ne,gt)|0,v=Math.imul(ne,Mt),A=A+Math.imul(B,Ye)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Ye)|0,v=v+Math.imul(w,nt)|0,A=A+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(N+(A=A+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;N=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,A=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),A=A+Math.imul(B,Nt)|0,s=(s=s+Math.imul(B,un)|0)+Math.imul(w,Nt)|0,v=v+Math.imul(w,un)|0;var ni=(N+(A=A+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;N=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(ni>>>26)|0,ni&=67108863,A=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(N+(A=A+Math.imul(B,En)|0)|0)+((8191&(s=(s=s+Math.imul(B,kn)|0)+Math.imul(w,En)|0))<<13)|0;N=((v=v+Math.imul(w,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(N+(A=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return N=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Be,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=tr,T[12]=Dr,T[13]=Mr,T[14]=Ir,T[15]=jr,T[16]=ni,T[17]=tn,T[18]=_n,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Z).mulp(C,a,u)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,A=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=A;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Z.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Z.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Z.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Z.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var A=N<<1,s=Math.cos(2*Math.PI/A),v=Math.sin(2*Math.PI/A),W=0;W<S;W+=A)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+N],Se=g[W+ce+N],be=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=be),g[W+ce]=Oe+Se,y[W+ce+N]=_e-Ve,g[W+ce+N]=Oe-Se,ce!==A&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Z.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Z.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Z.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Z.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Z.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Z.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),A=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,A,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=A[ce]*W[ce]-s[ce]*K[ce];s[ce]=A[ce]*K[ce]+s[ce]*W[ce],A[ce]=_e}return this.conjugate(A,s,g),this.transform(A,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,A=y;if(g-=T,g=Math.max(0,g),A){for(var s=0;s<T;s++)A.words[s]=this.words[s];A.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return A&&0!==v&&(A.words[A.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var A=(0|a.words[S])*u;N=((T-=67108863&A)>>26)-(A/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,A=g.length-S.length;if("mod"!==u){(s=new x(null)).length=A+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,A);0===W.negative&&(g=W,s&&(s.words[A]=1));for(var K=A-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),A=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++A;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(A)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,A=1;!(u.words[0]&A)&&N<26;++N,A<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(ie[a])return ie[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return ie[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),A=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,A).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,A=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++A||0===S&&0===W)&&(T=this.mul(T,g[N]),A=0,N=0)):A=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=E.nmd(je),this)},48967:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.ephemeralKeySize=z.symmetricNonceLength=z.symmetricAlgorithm=z.isHkdfKeyCompressed=z.isEphemeralKeyCompressed=z.ellipticCurve=z.ECIES_CONFIG=void 0;var f=E(29277);z.ECIES_CONFIG=new(function(){return function F(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),z.ellipticCurve=function(){return z.ECIES_CONFIG.ellipticCurve},z.isEphemeralKeyCompressed=function(){return z.ECIES_CONFIG.isEphemeralKeyCompressed},z.isHkdfKeyCompressed=function(){return z.ECIES_CONFIG.isHkdfKeyCompressed},z.symmetricAlgorithm=function(){return z.ECIES_CONFIG.symmetricAlgorithm},z.symmetricNonceLength=function(){return z.ECIES_CONFIG.symmetricNonceLength},z.ephemeralKeySize=function(){var F={secp256k1:z.ECIES_CONFIG.isEphemeralKeyCompressed?f.COMPRESSED_PUBLIC_KEY_SIZE:f.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:f.CURVE25519_PUBLIC_KEY_SIZE,ed25519:f.CURVE25519_PUBLIC_KEY_SIZE};if(z.ECIES_CONFIG.ellipticCurve in F)return F[z.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:(je,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.AEAD_TAG_LENGTH=z.XCHACHA20_NONCE_LENGTH=z.CURVE25519_PUBLIC_KEY_SIZE=z.ETH_PUBLIC_KEY_SIZE=z.UNCOMPRESSED_PUBLIC_KEY_SIZE=z.COMPRESSED_PUBLIC_KEY_SIZE=z.SECRET_KEY_LENGTH=void 0,z.SECRET_KEY_LENGTH=32,z.COMPRESSED_PUBLIC_KEY_SIZE=33,z.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,z.ETH_PUBLIC_KEY_SIZE=64,z.CURVE25519_PUBLIC_KEY_SIZE=32,z.XCHACHA20_NONCE_LENGTH=24,z.AEAD_TAG_LENGTH=16},63397:(je,z,E)=>{"use strict";z.VV=z.Yc=z.w=void 0;var _=E(23790),k=E(48967),H=E(40774),x=E(77399);z.w=function P(L,D){var te,X=new H.PrivateKey,j=L instanceof Uint8Array?new H.PublicKey(L):H.PublicKey.fromHex(L),G=X.encapsulate(j),re=(0,x.aesEncrypt)(G,D);return te=(0,k.isEphemeralKeyCompressed)()?X.publicKey.compressed:X.publicKey.uncompressed,Buffer.from((0,_.concatBytes)(te,re))},z.Yc=function M(L,D){var X=L instanceof Uint8Array?new H.PrivateKey(L):H.PrivateKey.fromHex(L),j=(0,k.ephemeralKeySize)(),G=new H.PublicKey(D.subarray(0,j)),re=D.subarray(j),te=G.decapsulate(X);return Buffer.from((0,x.aesDecrypt)(te,re))};var O=E(48967);Object.defineProperty(z,"VV",{enumerable:!0,get:function(){return O.ECIES_CONFIG}});E(40774)},1210:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PrivateKey=void 0;var f=E(23790),_=E(48967),k=E(77399),H=E(40762),x=function(){function P(M){var O=void 0===M?(0,k.getValidSecret)():M;if(!(0,k.isValidPrivateKey)(O))throw new Error("Invalid private key");this.data=O,this.publicKey=new H.PublicKey((0,k.getPublicKey)(O))}return P.fromHex=function(M){return new P((0,k.decodeHex)(M))},Object.defineProperty(P.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),P.prototype.toHex=function(){return(0,f.bytesToHex)(this.data)},P.prototype.encapsulate=function(M){var O,F;return(0,_.isHkdfKeyCompressed)()?(O=this.publicKey.compressed,F=this.multiply(M,!0)):(O=this.publicKey.uncompressed,F=this.multiply(M,!1)),(0,k.getSharedKey)(O,F)},P.prototype.multiply=function(M,O){return void 0===O&&(O=!1),(0,k.getSharedPoint)(this.data,M.compressed,O)},P.prototype.equals=function(M){return(0,f.equalBytes)(this.data,M.data)},P}();z.PrivateKey=x},40762:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PublicKey=void 0;var f=E(23790),_=E(48967),k=E(77399),H=function(){function x(P){this.data=(0,k.convertPublicKeyFormat)(P,!0)}return x.fromHex=function(P){return new x((0,k.hexToPublicKey)(P))},Object.defineProperty(x.prototype,"uncompressed",{get:function(){return Buffer.from((0,k.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),x.prototype.toHex=function(P){return void 0===P&&(P=!0),(0,f.bytesToHex)(P?this.data:this.uncompressed)},x.prototype.decapsulate=function(P){var M,O;return(0,_.isHkdfKeyCompressed)()?(M=this.data,O=P.multiply(this,!0)):(M=this.uncompressed,O=P.multiply(this,!1)),(0,k.getSharedKey)(M,O)},x.prototype.equals=function(P){return(0,f.equalBytes)(this.data,P.data)},x}();z.PublicKey=H},40774:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PublicKey=z.PrivateKey=void 0;var f=E(1210);Object.defineProperty(z,"PrivateKey",{enumerable:!0,get:function(){return f.PrivateKey}});var _=E(40762);Object.defineProperty(z,"PublicKey",{enumerable:!0,get:function(){return _.PublicKey}})},1849:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.aes256gcm=void 0;var f=E(23790),_=E(91426),k=E(29277);z.aes256gcm=function H(x,P,M){return{tagLength:k.AEAD_TAG_LENGTH,encrypt:function(L){var D=(0,_.createCipheriv)("aes-256-gcm",x,P);M&&D.setAAD(M);var X=D.update(L),j=D.final();return(0,f.concatBytes)(X,j,D.getAuthTag())},decrypt:function(L){var D=L.subarray(0,L.length-k.AEAD_TAG_LENGTH),X=L.subarray(-k.AEAD_TAG_LENGTH),j=(0,_.createDecipheriv)("aes-256-gcm",x,P);M&&j.setAAD(M),j.setAuthTag(X);var G=j.update(D),re=j.final();return(0,f.concatBytes)(G,re)}}}},77553:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hexToPublicKey=z.convertPublicKeyFormat=z.getSharedPoint=z.getSharedKey=z.getPublicKey=z.isValidPrivateKey=z.getValidSecret=void 0;var f=E(23790),_=E(42098),k=E(57340),H=E(91717),x=E(48967),P=E(29277),M=E(99666),O=E(63364);function L(J){return te(function(Z){return Z.utils.isValidPrivateKey(J)},function(){return!0},function(){return!0})}function te(J,Z,ie){if("secp256k1"===(0,x.ellipticCurve)())return J(H.secp256k1);if("x25519"===(0,x.ellipticCurve)())return Z(k.x25519);if("ed25519"===(0,x.ellipticCurve)())return ie(k.ed25519);throw new Error("Not implemented")}z.getValidSecret=function F(){var J;do{J=(0,_.randomBytes)(P.SECRET_KEY_LENGTH)}while(!L(J));return J},z.isValidPrivateKey=L,z.getPublicKey=function D(J){return te(function(Z){return Z.getPublicKey(J)},function(Z){return Z.getPublicKey(J)},function(Z){return Z.getPublicKey(J)})},z.getSharedKey=function X(J,Z){return(0,O.deriveKey)((0,f.concatBytes)(J,Z))},z.getSharedPoint=function j(J,Z,ie){return te(function(ae){return ae.getSharedSecret(J,Z,ie)},function(ae){return ae.getSharedSecret(J,Z)},function(ae){var se=ae.utils.getExtendedPublicKey(J).scalar;return ae.ExtendedPoint.fromHex(Z).multiply(se).toRawBytes()})},z.convertPublicKeyFormat=function G(J,Z){return te(function(ie){return ie.getSharedSecret(BigInt(1),J,Z)},function(){return J},function(){return J})},z.hexToPublicKey=function re(J){var Z=(0,M.decodeHex)(J);return te(function(){if(Z.length===P.ETH_PUBLIC_KEY_SIZE){var ie=new Uint8Array(1+Z.length);return ie.set([4]),ie.set(Z,1),ie}return Z},function(){return Z},function(){return Z})}},99666:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.decodeHex=z.remove0x=void 0;var f=E(23790);function _(H){return H.startsWith("0x")||H.startsWith("0X")?H.slice(2):H}z.remove0x=_,z.decodeHex=function k(H){return(0,f.hexToBytes)(_(H))}},77399:function(je,z,E){"use strict";var f=this&&this.__createBinding||(Object.create?function(k,H,x,P){void 0===P&&(P=x);var M=Object.getOwnPropertyDescriptor(H,x);(!M||("get"in M?!H.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return H[x]}}),Object.defineProperty(k,P,M)}:function(k,H,x,P){void 0===P&&(P=x),k[P]=H[x]}),_=this&&this.__exportStar||function(k,H){for(var x in k)"default"!==x&&!Object.prototype.hasOwnProperty.call(H,x)&&f(H,k,x)};Object.defineProperty(z,"__esModule",{value:!0}),_(E(77553),z),_(E(99666),z),_(E(63364),z)},63364:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.deriveKey=z.aesDecrypt=z.aesEncrypt=void 0;var f=E(59219),_=E(23790),k=E(42098),H=E(57334),x=E(1806),P=E(48967),M=E(29277),O=E(1849);function X(re,te,J){var Z=(0,P.symmetricAlgorithm)(),ie=re?j:G;if("aes-256-gcm"===Z)return ie(O.aes256gcm,te,J,(0,P.symmetricNonceLength)());if("xchacha20"===Z)return ie(f.xchacha20poly1305,te,J,M.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function j(re,te,J,Z){var ie=(0,k.randomBytes)(Z),se=re(te,ie).encrypt(J),de=se.subarray(0,se.length-M.AEAD_TAG_LENGTH),le=se.subarray(-M.AEAD_TAG_LENGTH);return(0,_.concatBytes)(ie,le,de)}function G(re,te,J,Z){var ie=Z+M.AEAD_TAG_LENGTH,ae=J.subarray(0,Z),se=J.subarray(Z,ie),de=J.subarray(ie),le=re(te,Uint8Array.from(ae)),we=(0,_.concatBytes)(de,se);return le.decrypt(we)}z.aesEncrypt=function F(re,te){return X(!0,re,te)},z.aesDecrypt=function L(re,te){return X(!1,re,te)},z.deriveKey=function D(re){return(0,H.hkdf)(x.sha256,re,void 0,void 0,32)}},10475:(je,z)=>{"use strict";function E(M){if(!Number.isSafeInteger(M)||M<0)throw new Error(`Wrong positive integer: ${M}`)}function f(M){if("boolean"!=typeof M)throw new Error(`Expected boolean, not ${M}`)}function _(M,...O){if(!(M instanceof Uint8Array))throw new Error("Expected Uint8Array");if(O.length>0&&!O.includes(M.length))throw new Error(`Expected Uint8Array of length ${O}, not of length=${M.length}`)}function k(M){if("function"!=typeof M||"function"!=typeof M.create)throw new Error("hash must be wrapped by utils.wrapConstructor");E(M.outputLen),E(M.blockLen)}function H(M,O=!0){if(M.destroyed)throw new Error("Hash instance has been destroyed");if(O&&M.finished)throw new Error("Hash#digest() has already been called")}function x(M,O){_(M);const F=O.outputLen;if(M.length<F)throw new Error(`digestInto() expects output buffer of length at least ${F}`)}Object.defineProperty(z,"__esModule",{value:!0}),z.output=z.exists=z.hash=z.bytes=z.bool=z.number=void 0,z.number=E,z.bool=f,z.bytes=_,z.hash=k,z.exists=H,z.output=x,z.default={number:E,bool:f,bytes:_,hash:k,exists:H,output:x}},17035:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.poly1305=z.wrapConstructorWithKey=void 0;const f=E(23790),_=E(10475),k=(P,M)=>255&P[M++]|(255&P[M++])<<8;class H{constructor(M){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,M=(0,f.toBytes)(M),(0,f.ensureBytes)(M,32);const O=k(M,0),F=k(M,2),L=k(M,4),D=k(M,6),X=k(M,8),j=k(M,10),G=k(M,12),re=k(M,14);this.r[0]=8191&O,this.r[1]=8191&(O>>>13|F<<3),this.r[2]=7939&(F>>>10|L<<6),this.r[3]=8191&(L>>>7|D<<9),this.r[4]=255&(D>>>4|X<<12),this.r[5]=X>>>1&8190,this.r[6]=8191&(X>>>14|j<<2),this.r[7]=8065&(j>>>11|G<<5),this.r[8]=8191&(G>>>8|re<<8),this.r[9]=re>>>5&127;for(let te=0;te<8;te++)this.pad[te]=k(M,16+2*te)}process(M,O,F=!1){const L=F?0:2048,{h:D,r:X}=this,j=X[0],G=X[1],re=X[2],te=X[3],J=X[4],Z=X[5],ie=X[6],ae=X[7],se=X[8],de=X[9],le=k(M,O+0),we=k(M,O+2),xe=k(M,O+4),Ce=k(M,O+6),C=k(M,O+8),a=k(M,O+10),u=k(M,O+12),y=k(M,O+14);let g=D[0]+(8191&le),S=D[1]+(8191&(le>>>13|we<<3)),T=D[2]+(8191&(we>>>10|xe<<6)),N=D[3]+(8191&(xe>>>7|Ce<<9)),A=D[4]+(8191&(Ce>>>4|C<<12)),s=D[5]+(C>>>1&8191),v=D[6]+(8191&(C>>>14|a<<2)),W=D[7]+(8191&(a>>>11|u<<5)),K=D[8]+(8191&(u>>>8|y<<8)),ee=D[9]+(y>>>5|L),ce=0,_e=ce+g*j+S*(5*de)+T*(5*se)+N*(5*ae)+A*(5*ie);ce=_e>>>13,_e&=8191,_e+=s*(5*Z)+v*(5*J)+W*(5*te)+K*(5*re)+ee*(5*G),ce+=_e>>>13,_e&=8191;let Oe=ce+g*G+S*j+T*(5*de)+N*(5*se)+A*(5*ae);ce=Oe>>>13,Oe&=8191,Oe+=s*(5*ie)+v*(5*Z)+W*(5*J)+K*(5*te)+ee*(5*re),ce+=Oe>>>13,Oe&=8191;let Ve=ce+g*re+S*G+T*j+N*(5*de)+A*(5*se);ce=Ve>>>13,Ve&=8191,Ve+=s*(5*ae)+v*(5*ie)+W*(5*Z)+K*(5*J)+ee*(5*te),ce+=Ve>>>13,Ve&=8191;let Se=ce+g*te+S*re+T*G+N*j+A*(5*de);ce=Se>>>13,Se&=8191,Se+=s*(5*se)+v*(5*ae)+W*(5*ie)+K*(5*Z)+ee*(5*J),ce+=Se>>>13,Se&=8191;let be=ce+g*J+S*te+T*re+N*G+A*j;ce=be>>>13,be&=8191,be+=s*(5*de)+v*(5*se)+W*(5*ae)+K*(5*ie)+ee*(5*Z),ce+=be>>>13,be&=8191;let Ue=ce+g*Z+S*J+T*te+N*re+A*G;ce=Ue>>>13,Ue&=8191,Ue+=s*j+v*(5*de)+W*(5*se)+K*(5*ae)+ee*(5*ie),ce+=Ue>>>13,Ue&=8191;let ye=ce+g*ie+S*Z+T*J+N*te+A*re;ce=ye>>>13,ye&=8191,ye+=s*G+v*j+W*(5*de)+K*(5*se)+ee*(5*ae),ce+=ye>>>13,ye&=8191;let De=ce+g*ae+S*ie+T*Z+N*J+A*te;ce=De>>>13,De&=8191,De+=s*re+v*G+W*j+K*(5*de)+ee*(5*se),ce+=De>>>13,De&=8191;let pe=ce+g*se+S*ae+T*ie+N*Z+A*J;ce=pe>>>13,pe&=8191,pe+=s*te+v*re+W*G+K*j+ee*(5*de),ce+=pe>>>13,pe&=8191;let ue=ce+g*de+S*se+T*ae+N*ie+A*Z;ce=ue>>>13,ue&=8191,ue+=s*J+v*te+W*re+K*G+ee*j,ce+=ue>>>13,ue&=8191,ce=(ce<<2)+ce|0,ce=ce+_e|0,_e=8191&ce,ce>>>=13,Oe+=ce,D[0]=_e,D[1]=Oe,D[2]=Ve,D[3]=Se,D[4]=be,D[5]=Ue,D[6]=ye,D[7]=De,D[8]=pe,D[9]=ue}finalize(){const{h:M,pad:O}=this,F=new Uint16Array(10);let L=M[1]>>>13;M[1]&=8191;for(let j=2;j<10;j++)M[j]+=L,L=M[j]>>>13,M[j]&=8191;M[0]+=5*L,L=M[0]>>>13,M[0]&=8191,M[1]+=L,L=M[1]>>>13,M[1]&=8191,M[2]+=L,F[0]=M[0]+5,L=F[0]>>>13,F[0]&=8191;for(let j=1;j<10;j++)F[j]=M[j]+L,L=F[j]>>>13,F[j]&=8191;F[9]-=8192;let D=(1^L)-1;for(let j=0;j<10;j++)F[j]&=D;D=~D;for(let j=0;j<10;j++)M[j]=M[j]&D|F[j];M[0]=65535&(M[0]|M[1]<<13),M[1]=65535&(M[1]>>>3|M[2]<<10),M[2]=65535&(M[2]>>>6|M[3]<<7),M[3]=65535&(M[3]>>>9|M[4]<<4),M[4]=65535&(M[4]>>>12|M[5]<<1|M[6]<<14),M[5]=65535&(M[6]>>>2|M[7]<<11),M[6]=65535&(M[7]>>>5|M[8]<<8),M[7]=65535&(M[8]>>>8|M[9]<<5);let X=M[0]+O[0];M[0]=65535&X;for(let j=1;j<8;j++)X=(M[j]+O[j]|0)+(X>>>16)|0,M[j]=65535&X}update(M){_.default.exists(this);const{buffer:O,blockLen:F}=this,L=(M=(0,f.toBytes)(M)).length;for(let D=0;D<L;){const X=Math.min(F-this.pos,L-D);if(X!==F)O.set(M.subarray(D,D+X),this.pos),this.pos+=X,D+=X,this.pos===F&&(this.process(O,0,!1),this.pos=0);else for(;F<=L-D;D+=F)this.process(M,D)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(M){_.default.exists(this),_.default.output(M,this),this.finished=!0;const{buffer:O,h:F}=this;let{pos:L}=this;if(L){for(O[L++]=1;L<16;L++)O[L]=0;this.process(O,0,!0)}this.finalize();let D=0;for(let X=0;X<8;X++)M[D++]=F[X]>>>0,M[D++]=F[X]>>>8;return M}digest(){const{buffer:M,outputLen:O}=this;this.digestInto(M);const F=M.slice(0,O);return this.destroy(),F}}function x(P){const M=(F,L)=>P(L).update((0,f.toBytes)(F)).digest(),O=P(new Uint8Array(32));return M.outputLen=O.outputLen,M.blockLen=O.blockLen,M.create=F=>P(F),M}z.wrapConstructorWithKey=x,z.poly1305=x(P=>new H(P))},70580:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.salsaBasic=void 0;const f=E(10475),_=E(23790),k=(0,_.utf8ToBytes)("expand 16-byte k"),H=(0,_.utf8ToBytes)("expand 32-byte k"),x=(0,_.u32)(k),P=(0,_.u32)(H),M=F=>!(F.byteOffset%4);z.salsaBasic=F=>{const{core:L,rounds:D,counterRight:X,counterLen:j,allow128bitKeys:G,extendNonceFn:re,blockLen:te}=(0,_.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},F);f.default.number(j),f.default.number(D),f.default.number(te),f.default.bool(X),f.default.bool(G);const J=te/4;if(te%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(Z,ie,ae,se,de=0)=>{if(f.default.bytes(Z),f.default.bytes(ie),f.default.bytes(ae),se||(se=new Uint8Array(ae.length)),f.default.bytes(se),f.default.number(de),de<0||de>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(se.length<ae.length)throw new Error(`Salsa/ChaCha: output (${se.length}) is shorter than data (${ae.length})`);const le=[];let we,xe;if(32===Z.length)M(Z)?we=Z:(we=Z.slice(),le.push(we)),xe=P;else{if(16!==Z.length||!G)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${Z.length}`);we=new Uint8Array(32),we.set(Z),we.set(Z,16),xe=x,le.push(we)}if(M(ie)||(ie=ie.slice(),le.push(ie)),re){if(ie.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");we=re(xe,we,ie.subarray(0,16),new Uint8Array(32)),le.push(we),ie=ie.subarray(16)}const Ce=16-j;if(ie.length!==Ce)throw new Error(`Salsa/ChaCha: nonce must be ${Ce} or 16 bytes`);if(12!==Ce){const N=new Uint8Array(12);N.set(ie,X?0:12-ie.length),le.push(ie=N)}const C=new Uint8Array(te),a=(0,_.u32)(C),u=(0,_.u32)(we),y=(0,_.u32)(ie),g=M(ae)&&(0,_.u32)(ae),S=M(se)&&(0,_.u32)(se);le.push(a);const T=ae.length;for(let N=0,A=de;N<T;A++){if(L(xe,u,y,a,A,D),A>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const s=Math.min(te,T-N);if(s===te&&S&&g){const v=N/4;if(N%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let W=0;W<J;W++)S[v+W]=g[v+W]^a[W];N+=te}else{for(let v=0;v<s;v++)se[N+v]=ae[N+v]^C[v];N+=s}}for(let N=0;N<le.length;N++)le[N].fill(0);return se}}},59219:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.xchacha20poly1305=z.chacha20poly1305=z._poly1305_aead=z.chacha12=z.chacha8=z.xchacha20=z.chacha20=z.chacha20orig=z.hchacha=void 0;const f=E(23790),_=E(17035),k=E(70580),H=(D,X)=>D<<X|D>>>32-X;function x(D,X,j,G,re,te=20){let J=D[0],Z=D[1],ie=D[2],ae=D[3],se=X[0],de=X[1],le=X[2],we=X[3],xe=X[4],Ce=X[5],C=X[6],a=X[7],u=re,y=j[0],g=j[1],S=j[2],T=J,N=Z,A=ie,s=ae,v=se,W=de,K=le,ee=we,ce=xe,_e=Ce,Oe=C,Ve=a,Se=u,be=y,Ue=g,ye=S;for(let pe=0;pe<te;pe+=2)T=T+v|0,Se=H(Se^T,16),ce=ce+Se|0,v=H(v^ce,12),T=T+v|0,Se=H(Se^T,8),ce=ce+Se|0,v=H(v^ce,7),N=N+W|0,be=H(be^N,16),_e=_e+be|0,W=H(W^_e,12),N=N+W|0,be=H(be^N,8),_e=_e+be|0,W=H(W^_e,7),A=A+K|0,Ue=H(Ue^A,16),Oe=Oe+Ue|0,K=H(K^Oe,12),A=A+K|0,Ue=H(Ue^A,8),Oe=Oe+Ue|0,K=H(K^Oe,7),s=s+ee|0,ye=H(ye^s,16),Ve=Ve+ye|0,ee=H(ee^Ve,12),s=s+ee|0,ye=H(ye^s,8),Ve=Ve+ye|0,ee=H(ee^Ve,7),T=T+W|0,ye=H(ye^T,16),Oe=Oe+ye|0,W=H(W^Oe,12),T=T+W|0,ye=H(ye^T,8),Oe=Oe+ye|0,W=H(W^Oe,7),N=N+K|0,Se=H(Se^N,16),Ve=Ve+Se|0,K=H(K^Ve,12),N=N+K|0,Se=H(Se^N,8),Ve=Ve+Se|0,K=H(K^Ve,7),A=A+ee|0,be=H(be^A,16),ce=ce+be|0,ee=H(ee^ce,12),A=A+ee|0,be=H(be^A,8),ce=ce+be|0,ee=H(ee^ce,7),s=s+v|0,Ue=H(Ue^s,16),_e=_e+Ue|0,v=H(v^_e,12),s=s+v|0,Ue=H(Ue^s,8),_e=_e+Ue|0,v=H(v^_e,7);let De=0;G[De++]=J+T|0,G[De++]=Z+N|0,G[De++]=ie+A|0,G[De++]=ae+s|0,G[De++]=se+v|0,G[De++]=de+W|0,G[De++]=le+K|0,G[De++]=we+ee|0,G[De++]=xe+ce|0,G[De++]=Ce+_e|0,G[De++]=C+Oe|0,G[De++]=a+Ve|0,G[De++]=u+Se|0,G[De++]=y+be|0,G[De++]=g+Ue|0,G[De++]=S+ye|0}function P(D,X,j,G){const re=(0,f.u32)(X),te=(0,f.u32)(j),J=(0,f.u32)(G);let Z=D[0],ie=D[1],ae=D[2],se=D[3],de=re[0],le=re[1],we=re[2],xe=re[3],Ce=re[4],C=re[5],a=re[6],u=re[7],y=te[0],g=te[1],S=te[2],T=te[3];for(let N=0;N<20;N+=2)Z=Z+de|0,y=H(y^Z,16),Ce=Ce+y|0,de=H(de^Ce,12),Z=Z+de|0,y=H(y^Z,8),Ce=Ce+y|0,de=H(de^Ce,7),ie=ie+le|0,g=H(g^ie,16),C=C+g|0,le=H(le^C,12),ie=ie+le|0,g=H(g^ie,8),C=C+g|0,le=H(le^C,7),ae=ae+we|0,S=H(S^ae,16),a=a+S|0,we=H(we^a,12),ae=ae+we|0,S=H(S^ae,8),a=a+S|0,we=H(we^a,7),se=se+xe|0,T=H(T^se,16),u=u+T|0,xe=H(xe^u,12),se=se+xe|0,T=H(T^se,8),u=u+T|0,xe=H(xe^u,7),Z=Z+le|0,T=H(T^Z,16),a=a+T|0,le=H(le^a,12),Z=Z+le|0,T=H(T^Z,8),a=a+T|0,le=H(le^a,7),ie=ie+we|0,y=H(y^ie,16),u=u+y|0,we=H(we^u,12),ie=ie+we|0,y=H(y^ie,8),u=u+y|0,we=H(we^u,7),ae=ae+xe|0,g=H(g^ae,16),Ce=Ce+g|0,xe=H(xe^Ce,12),ae=ae+xe|0,g=H(g^ae,8),Ce=Ce+g|0,xe=H(xe^Ce,7),se=se+de|0,S=H(S^se,16),C=C+S|0,de=H(de^C,12),se=se+de|0,S=H(S^se,8),C=C+S|0,de=H(de^C,7);return J[0]=Z,J[1]=ie,J[2]=ae,J[3]=se,J[4]=y,J[5]=g,J[6]=S,J[7]=T,G}z.hchacha=P,z.chacha20orig=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:8}),z.chacha20=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:4,allow128bitKeys:!1}),z.xchacha20=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:8,extendNonceFn:P,allow128bitKeys:!1}),z.chacha8=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:4,rounds:8}),z.chacha12=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:4,rounds:12});const M=new Uint8Array(16),O=(D,X)=>{D.update(X);const j=X.length%16;j&&D.update(M.subarray(j))},F=(D,X,j,G,re)=>{const te=D(X,j,new Uint8Array(32)),J=_.poly1305.create(te);re&&O(J,re),O(J,G);const Z=new Uint8Array(16),ie=(0,f.createView)(Z);(0,f.setBigUint64)(ie,0,BigInt(re?re.length:0),!0),(0,f.setBigUint64)(ie,8,BigInt(G.length),!0),J.update(Z);const ae=J.digest();return te.fill(0),ae};z._poly1305_aead=D=>(X,j,G)=>((0,f.ensureBytes)(X,32),(0,f.ensureBytes)(j),{tagLength:16,encrypt:(te,J)=>{const Z=te.length,ie=Z+16;J?(0,f.ensureBytes)(J,ie):J=new Uint8Array(ie),D(X,j,te,J,1);const ae=F(D,X,j,J.subarray(0,-16),G);return J.set(ae,Z),J},decrypt:(te,J)=>{const Z=te.length,ie=Z-16;if(Z<16)throw new Error("encrypted data must be at least 16 bytes");J?(0,f.ensureBytes)(J,ie):J=new Uint8Array(ie);const ae=te.subarray(0,-16),se=te.subarray(-16),de=F(D,X,j,ae,G);if(!(0,f.equalBytes)(se,de))throw new Error("invalid tag");return D(X,j,ae,J,1),J}}),z.chacha20poly1305=(0,z._poly1305_aead)(z.chacha20),z.xchacha20poly1305=(0,z._poly1305_aead)(z.xchacha20)},23790:(je,z,E)=>{"use strict";var f=E(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.setBigUint64=z.Hash=z.equalBytes=z.ensureBytes=z.checkOpts=z.concatBytes=z.toBytes=z.bytesToUtf8=z.utf8ToBytes=z.asyncLoop=z.nextTick=z.hexToBytes=z.bytesToHex=z.isLE=z.createView=z.u32=z.u16=z.u8=void 0;const _=le=>le instanceof Uint8Array;if(z.u8=le=>new Uint8Array(le.buffer,le.byteOffset,le.byteLength),z.u16=le=>new Uint16Array(le.buffer,le.byteOffset,Math.floor(le.byteLength/2)),z.u32=le=>new Uint32Array(le.buffer,le.byteOffset,Math.floor(le.byteLength/4)),z.createView=le=>new DataView(le.buffer,le.byteOffset,le.byteLength),z.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!z.isLE)throw new Error("Non little-endian hardware is not supported");const M=Array.from({length:256},(le,we)=>we.toString(16).padStart(2,"0"));function X(){return(X=f(function*(le,we,xe){let Ce=Date.now();for(let C=0;C<le;C++){xe(C);const a=Date.now()-Ce;a>=0&&a<we||(yield(0,z.nextTick)(),Ce+=a)}})).apply(this,arguments)}function j(le){if("string"!=typeof le)throw new Error("utf8ToBytes expected string, got "+typeof le);return new Uint8Array((new TextEncoder).encode(le))}z.bytesToHex=function O(le){if(!_(le))throw new Error("Uint8Array expected");let we="";for(let xe=0;xe<le.length;xe++)we+=M[le[xe]];return we},z.hexToBytes=function F(le){if("string"!=typeof le)throw new Error("hex string expected, got "+typeof le);const we=le.length;if(we%2)throw new Error("padded hex string expected, got unpadded hex of length "+we);const xe=new Uint8Array(we/2);for(let Ce=0;Ce<xe.length;Ce++){const C=2*Ce,a=le.slice(C,C+2),u=Number.parseInt(a,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");xe[Ce]=u}return xe},z.nextTick=function(){var le=f(function*(){});return function(){return le.apply(this,arguments)}}(),z.asyncLoop=function D(le,we,xe){return X.apply(this,arguments)},z.utf8ToBytes=j,z.bytesToUtf8=function G(le){return(new TextDecoder).decode(le)},z.toBytes=function re(le){if("string"==typeof le&&(le=j(le)),!_(le))throw new Error("expected Uint8Array, got "+typeof le);return le},z.concatBytes=function te(...le){const we=new Uint8Array(le.reduce((Ce,C)=>Ce+C.length,0));let xe=0;return le.forEach(Ce=>{if(!_(Ce))throw new Error("Uint8Array expected");we.set(Ce,xe),xe+=Ce.length}),we},z.checkOpts=function Z(le,we){if(void 0!==we&&("object"!=typeof we||!(le=>"[object Object]"===Object.prototype.toString.call(le)&&le.constructor===Object)(we)))throw new Error("options must be object or undefined");return Object.assign(le,we)},z.ensureBytes=function ie(le,we){if(!(le instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof we&&le.length!==we)throw new Error(`Uint8Array length ${we} expected`)},z.equalBytes=function ae(le,we){if(le.length!==we.length)throw new Error("equalBytes: Different size of Uint8Arrays");let xe=!0;for(let Ce=0;Ce<le.length;Ce++)xe&&(xe=le[Ce]===we[Ce]);return xe},z.Hash=class se{},z.setBigUint64=function de(le,we,xe,Ce){if("function"==typeof le.setBigUint64)return le.setBigUint64(we,xe,Ce);const C=BigInt(32),a=BigInt(4294967295),u=Number(xe>>C&a),y=Number(xe&a),S=Ce?0:4;le.setUint32(we+(Ce?4:0),u,Ce),le.setUint32(we+S,y,Ce)}},89742:(je,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.crypto=void 0,z.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:(je,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getWebcryptoSubtle=z.randomBytes=void 0;const f=E(89742);z.randomBytes=function _(H=32){if(f.crypto&&"function"==typeof f.crypto.getRandomValues)return f.crypto.getRandomValues(new Uint8Array(H));throw new Error("crypto.getRandomValues must be defined")},z.getWebcryptoSubtle=function k(){if(f.crypto&&"object"==typeof f.crypto.subtle&&null!=f.crypto.subtle)return f.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:(je,z,E)=>{"use strict";var f=z;f.version=E(1636).rE,f.utils=E(3136),f.rand=E(35294),f.curve=E(8729),f.curves=E(23401),f.ec=E(29042),f.eddsa=E(83045)},98828:(je,z,E)=>{"use strict";var f=E(88723),_=E(3136),k=_.getNAF,H=_.getJSF,x=_.assert;function P(O,F){this.type=O,this.p=new f(F.p,16),this.red=F.prime?f.red(F.prime):f.mont(this.p),this.zero=new f(0).toRed(this.red),this.one=new f(1).toRed(this.red),this.two=new f(2).toRed(this.red),this.n=F.n&&new f(F.n,16),this.g=F.g&&this.pointFromJSON(F.g,F.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var L=this.n&&this.p.div(this.n);!L||L.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function M(O,F){this.curve=O,this.type=F,this.precomputed=null}je.exports=P,P.prototype.point=function(){throw new Error("Not implemented")},P.prototype.validate=function(){throw new Error("Not implemented")},P.prototype._fixedNafMul=function(F,L){x(F.precomputed);var D=F._getDoubles(),X=k(L,1,this._bitLength),j=(1<<D.step+1)-(D.step%2==0?2:1);j/=3;var re,te,G=[];for(re=0;re<X.length;re+=D.step){te=0;for(var J=re+D.step-1;J>=re;J--)te=(te<<1)+X[J];G.push(te)}for(var Z=this.jpoint(null,null,null),ie=this.jpoint(null,null,null),ae=j;ae>0;ae--){for(re=0;re<G.length;re++)(te=G[re])===ae?ie=ie.mixedAdd(D.points[re]):te===-ae&&(ie=ie.mixedAdd(D.points[re].neg()));Z=Z.add(ie)}return Z.toP()},P.prototype._wnafMul=function(F,L){for(var D=4,X=F._getNAFPoints(D),j=X.points,G=k(L,D=X.wnd,this._bitLength),re=this.jpoint(null,null,null),te=G.length-1;te>=0;te--){for(var J=0;te>=0&&0===G[te];te--)J++;if(te>=0&&J++,re=re.dblp(J),te<0)break;var Z=G[te];x(0!==Z),re="affine"===F.type?re.mixedAdd(Z>0?j[Z-1>>1]:j[-Z-1>>1].neg()):re.add(Z>0?j[Z-1>>1]:j[-Z-1>>1].neg())}return"affine"===F.type?re.toP():re},P.prototype._wnafMulAdd=function(F,L,D,X,j){var Z,ie,ae,G=this._wnafT1,re=this._wnafT2,te=this._wnafT3,J=0;for(Z=0;Z<X;Z++){var se=(ae=L[Z])._getNAFPoints(F);G[Z]=se.wnd,re[Z]=se.points}for(Z=X-1;Z>=1;Z-=2){var de=Z-1,le=Z;if(1===G[de]&&1===G[le]){var we=[L[de],null,null,L[le]];0===L[de].y.cmp(L[le].y)?(we[1]=L[de].add(L[le]),we[2]=L[de].toJ().mixedAdd(L[le].neg())):0===L[de].y.cmp(L[le].y.redNeg())?(we[1]=L[de].toJ().mixedAdd(L[le]),we[2]=L[de].add(L[le].neg())):(we[1]=L[de].toJ().mixedAdd(L[le]),we[2]=L[de].toJ().mixedAdd(L[le].neg()));var xe=[-3,-1,-5,-7,0,7,5,1,3],Ce=H(D[de],D[le]);for(J=Math.max(Ce[0].length,J),te[de]=new Array(J),te[le]=new Array(J),ie=0;ie<J;ie++)te[de][ie]=xe[3*(1+(0|Ce[0][ie]))+(1+(0|Ce[1][ie]))],te[le][ie]=0,re[de]=we}else te[de]=k(D[de],G[de],this._bitLength),te[le]=k(D[le],G[le],this._bitLength),J=Math.max(te[de].length,J),J=Math.max(te[le].length,J)}var u=this.jpoint(null,null,null),y=this._wnafT4;for(Z=J;Z>=0;Z--){for(var g=0;Z>=0;){var S=!0;for(ie=0;ie<X;ie++)y[ie]=0|te[ie][Z],0!==y[ie]&&(S=!1);if(!S)break;g++,Z--}if(Z>=0&&g++,u=u.dblp(g),Z<0)break;for(ie=0;ie<X;ie++){var T=y[ie];0!==T&&(T>0?ae=re[ie][T-1>>1]:T<0&&(ae=re[ie][-T-1>>1].neg()),u="affine"===ae.type?u.mixedAdd(ae):u.add(ae))}}for(Z=0;Z<X;Z++)re[Z]=null;return j?u:u.toP()},P.BasePoint=M,M.prototype.eq=function(){throw new Error("Not implemented")},M.prototype.validate=function(){return this.curve.validate(this)},P.prototype.decodePoint=function(F,L){F=_.toArray(F,L);var D=this.p.byteLength();if((4===F[0]||6===F[0]||7===F[0])&&F.length-1==2*D)return 6===F[0]?x(F[F.length-1]%2==0):7===F[0]&&x(F[F.length-1]%2==1),this.point(F.slice(1,1+D),F.slice(1+D,1+2*D));if((2===F[0]||3===F[0])&&F.length-1===D)return this.pointFromX(F.slice(1,1+D),3===F[0]);throw new Error("Unknown point format")},M.prototype.encodeCompressed=function(F){return this.encode(F,!0)},M.prototype._encode=function(F){var L=this.curve.p.byteLength(),D=this.getX().toArray("be",L);return F?[this.getY().isEven()?2:3].concat(D):[4].concat(D,this.getY().toArray("be",L))},M.prototype.encode=function(F,L){return _.encode(this._encode(L),F)},M.prototype.precompute=function(F){if(this.precomputed)return this;var L={doubles:null,naf:null,beta:null};return L.naf=this._getNAFPoints(8),L.doubles=this._getDoubles(4,F),L.beta=this._getBeta(),this.precomputed=L,this},M.prototype._hasDoubles=function(F){if(!this.precomputed)return!1;var L=this.precomputed.doubles;return!!L&&L.points.length>=Math.ceil((F.bitLength()+1)/L.step)},M.prototype._getDoubles=function(F,L){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var D=[this],X=this,j=0;j<L;j+=F){for(var G=0;G<F;G++)X=X.dbl();D.push(X)}return{step:F,points:D}},M.prototype._getNAFPoints=function(F){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var L=[this],D=(1<<F)-1,X=1===D?null:this.dbl(),j=1;j<D;j++)L[j]=L[j-1].add(X);return{wnd:F,points:L}},M.prototype._getBeta=function(){return null},M.prototype.dblp=function(F){for(var L=this,D=0;D<F;D++)L=L.dbl();return L}},55537:(je,z,E)=>{"use strict";var f=E(3136),_=E(88723),k=E(71993),H=E(98828),x=f.assert;function P(O){this.twisted=1!=(0|O.a),this.mOneA=this.twisted&&-1==(0|O.a),this.extended=this.mOneA,H.call(this,"edwards",O),this.a=new _(O.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new _(O.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new _(O.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),x(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|O.c)}function M(O,F,L,D,X){H.BasePoint.call(this,O,"projective"),null===F&&null===L&&null===D?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new _(F,16),this.y=new _(L,16),this.z=D?new _(D,16):this.curve.one,this.t=X&&new _(X,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}k(P,H),je.exports=P,P.prototype._mulA=function(F){return this.mOneA?F.redNeg():this.a.redMul(F)},P.prototype._mulC=function(F){return this.oneC?F:this.c.redMul(F)},P.prototype.jpoint=function(F,L,D,X){return this.point(F,L,D,X)},P.prototype.pointFromX=function(F,L){(F=new _(F,16)).red||(F=F.toRed(this.red));var D=F.redSqr(),X=this.c2.redSub(this.a.redMul(D)),j=this.one.redSub(this.c2.redMul(this.d).redMul(D)),G=X.redMul(j.redInvm()),re=G.redSqrt();if(0!==re.redSqr().redSub(G).cmp(this.zero))throw new Error("invalid point");var te=re.fromRed().isOdd();return(L&&!te||!L&&te)&&(re=re.redNeg()),this.point(F,re)},P.prototype.pointFromY=function(F,L){(F=new _(F,16)).red||(F=F.toRed(this.red));var D=F.redSqr(),X=D.redSub(this.c2),j=D.redMul(this.d).redMul(this.c2).redSub(this.a),G=X.redMul(j.redInvm());if(0===G.cmp(this.zero)){if(L)throw new Error("invalid point");return this.point(this.zero,F)}var re=G.redSqrt();if(0!==re.redSqr().redSub(G).cmp(this.zero))throw new Error("invalid point");return re.fromRed().isOdd()!==L&&(re=re.redNeg()),this.point(re,F)},P.prototype.validate=function(F){if(F.isInfinity())return!0;F.normalize();var L=F.x.redSqr(),D=F.y.redSqr(),X=L.redMul(this.a).redAdd(D),j=this.c2.redMul(this.one.redAdd(this.d.redMul(L).redMul(D)));return 0===X.cmp(j)},k(M,H.BasePoint),P.prototype.pointFromJSON=function(F){return M.fromJSON(this,F)},P.prototype.point=function(F,L,D,X){return new M(this,F,L,D,X)},M.fromJSON=function(F,L){return new M(F,L[0],L[1],L[2])},M.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},M.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},M.prototype._extDbl=function(){var F=this.x.redSqr(),L=this.y.redSqr(),D=this.z.redSqr();D=D.redIAdd(D);var X=this.curve._mulA(F),j=this.x.redAdd(this.y).redSqr().redISub(F).redISub(L),G=X.redAdd(L),re=G.redSub(D),te=X.redSub(L),J=j.redMul(re),Z=G.redMul(te),ie=j.redMul(te),ae=re.redMul(G);return this.curve.point(J,Z,ae,ie)},M.prototype._projDbl=function(){var X,j,G,re,te,J,F=this.x.redAdd(this.y).redSqr(),L=this.x.redSqr(),D=this.y.redSqr();if(this.curve.twisted){var Z=(re=this.curve._mulA(L)).redAdd(D);this.zOne?(X=F.redSub(L).redSub(D).redMul(Z.redSub(this.curve.two)),j=Z.redMul(re.redSub(D)),G=Z.redSqr().redSub(Z).redSub(Z)):(te=this.z.redSqr(),J=Z.redSub(te).redISub(te),X=F.redSub(L).redISub(D).redMul(J),j=Z.redMul(re.redSub(D)),G=Z.redMul(J))}else re=L.redAdd(D),te=this.curve._mulC(this.z).redSqr(),J=re.redSub(te).redSub(te),X=this.curve._mulC(F.redISub(re)).redMul(J),j=this.curve._mulC(re).redMul(L.redISub(D)),G=re.redMul(J);return this.curve.point(X,j,G)},M.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},M.prototype._extAdd=function(F){var L=this.y.redSub(this.x).redMul(F.y.redSub(F.x)),D=this.y.redAdd(this.x).redMul(F.y.redAdd(F.x)),X=this.t.redMul(this.curve.dd).redMul(F.t),j=this.z.redMul(F.z.redAdd(F.z)),G=D.redSub(L),re=j.redSub(X),te=j.redAdd(X),J=D.redAdd(L),Z=G.redMul(re),ie=te.redMul(J),ae=G.redMul(J),se=re.redMul(te);return this.curve.point(Z,ie,se,ae)},M.prototype._projAdd=function(F){var ie,ae,L=this.z.redMul(F.z),D=L.redSqr(),X=this.x.redMul(F.x),j=this.y.redMul(F.y),G=this.curve.d.redMul(X).redMul(j),re=D.redSub(G),te=D.redAdd(G),J=this.x.redAdd(this.y).redMul(F.x.redAdd(F.y)).redISub(X).redISub(j),Z=L.redMul(re).redMul(J);return this.curve.twisted?(ie=L.redMul(te).redMul(j.redSub(this.curve._mulA(X))),ae=re.redMul(te)):(ie=L.redMul(te).redMul(j.redSub(X)),ae=this.curve._mulC(re).redMul(te)),this.curve.point(Z,ie,ae)},M.prototype.add=function(F){return this.isInfinity()?F:F.isInfinity()?this:this.curve.extended?this._extAdd(F):this._projAdd(F)},M.prototype.mul=function(F){return this._hasDoubles(F)?this.curve._fixedNafMul(this,F):this.curve._wnafMul(this,F)},M.prototype.mulAdd=function(F,L,D){return this.curve._wnafMulAdd(1,[this,L],[F,D],2,!1)},M.prototype.jmulAdd=function(F,L,D){return this.curve._wnafMulAdd(1,[this,L],[F,D],2,!0)},M.prototype.normalize=function(){if(this.zOne)return this;var F=this.z.redInvm();return this.x=this.x.redMul(F),this.y=this.y.redMul(F),this.t&&(this.t=this.t.redMul(F)),this.z=this.curve.one,this.zOne=!0,this},M.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},M.prototype.getX=function(){return this.normalize(),this.x.fromRed()},M.prototype.getY=function(){return this.normalize(),this.y.fromRed()},M.prototype.eq=function(F){return this===F||0===this.getX().cmp(F.getX())&&0===this.getY().cmp(F.getY())},M.prototype.eqXToP=function(F){var L=F.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(L))return!0;for(var D=F.clone(),X=this.curve.redN.redMul(this.z);;){if(D.iadd(this.curve.n),D.cmp(this.curve.p)>=0)return!1;if(L.redIAdd(X),0===this.x.cmp(L))return!0}},M.prototype.toP=M.prototype.normalize,M.prototype.mixedAdd=M.prototype.add},8729:(je,z,E)=>{"use strict";var f=z;f.base=E(98828),f.short=E(68075),f.mont=E(64947),f.edwards=E(55537)},64947:(je,z,E)=>{"use strict";var f=E(88723),_=E(71993),k=E(98828),H=E(3136);function x(M){k.call(this,"mont",M),this.a=new f(M.a,16).toRed(this.red),this.b=new f(M.b,16).toRed(this.red),this.i4=new f(4).toRed(this.red).redInvm(),this.two=new f(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function P(M,O,F){k.BasePoint.call(this,M,"projective"),null===O&&null===F?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new f(O,16),this.z=new f(F,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}_(x,k),je.exports=x,x.prototype.validate=function(O){var F=O.normalize().x,L=F.redSqr(),D=L.redMul(F).redAdd(L.redMul(this.a)).redAdd(F);return 0===D.redSqrt().redSqr().cmp(D)},_(P,k.BasePoint),x.prototype.decodePoint=function(O,F){return this.point(H.toArray(O,F),1)},x.prototype.point=function(O,F){return new P(this,O,F)},x.prototype.pointFromJSON=function(O){return P.fromJSON(this,O)},P.prototype.precompute=function(){},P.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},P.fromJSON=function(O,F){return new P(O,F[0],F[1]||O.one)},P.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},P.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},P.prototype.dbl=function(){var F=this.x.redAdd(this.z).redSqr(),D=this.x.redSub(this.z).redSqr(),X=F.redSub(D),j=F.redMul(D),G=X.redMul(D.redAdd(this.curve.a24.redMul(X)));return this.curve.point(j,G)},P.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},P.prototype.diffAdd=function(O,F){var L=this.x.redAdd(this.z),D=this.x.redSub(this.z),X=O.x.redAdd(O.z),G=O.x.redSub(O.z).redMul(L),re=X.redMul(D),te=F.z.redMul(G.redAdd(re).redSqr()),J=F.x.redMul(G.redISub(re).redSqr());return this.curve.point(te,J)},P.prototype.mul=function(O){for(var F=O.clone(),L=this,D=this.curve.point(null,null),j=[];0!==F.cmpn(0);F.iushrn(1))j.push(F.andln(1));for(var G=j.length-1;G>=0;G--)0===j[G]?(L=L.diffAdd(D,this),D=D.dbl()):(D=L.diffAdd(D,this),L=L.dbl());return D},P.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},P.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},P.prototype.eq=function(O){return 0===this.getX().cmp(O.getX())},P.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},P.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:(je,z,E)=>{"use strict";var f=E(3136),_=E(88723),k=E(71993),H=E(98828),x=f.assert;function P(F){H.call(this,"short",F),this.a=new _(F.a,16).toRed(this.red),this.b=new _(F.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(F),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function M(F,L,D,X){H.BasePoint.call(this,F,"affine"),null===L&&null===D?(this.x=null,this.y=null,this.inf=!0):(this.x=new _(L,16),this.y=new _(D,16),X&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function O(F,L,D,X){H.BasePoint.call(this,F,"jacobian"),null===L&&null===D&&null===X?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _(0)):(this.x=new _(L,16),this.y=new _(D,16),this.z=new _(X,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}k(P,H),je.exports=P,P.prototype._getEndomorphism=function(L){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var D,X;if(L.beta)D=new _(L.beta,16).toRed(this.red);else{var j=this._getEndoRoots(this.p);D=(D=j[0].cmp(j[1])<0?j[0]:j[1]).toRed(this.red)}if(L.lambda)X=new _(L.lambda,16);else{var G=this._getEndoRoots(this.n);0===this.g.mul(G[0]).x.cmp(this.g.x.redMul(D))?X=G[0]:x(0===this.g.mul(X=G[1]).x.cmp(this.g.x.redMul(D)))}return{beta:D,lambda:X,basis:L.basis?L.basis.map(function(te){return{a:new _(te.a,16),b:new _(te.b,16)}}):this._getEndoBasis(X)}}},P.prototype._getEndoRoots=function(L){var D=L===this.p?this.red:_.mont(L),X=new _(2).toRed(D).redInvm(),j=X.redNeg(),G=new _(3).toRed(D).redNeg().redSqrt().redMul(X);return[j.redAdd(G).fromRed(),j.redSub(G).fromRed()]},P.prototype._getEndoBasis=function(L){for(var Z,ie,ae,se,de,le,we,Ce,C,D=this.n.ushrn(Math.floor(this.n.bitLength()/2)),X=L,j=this.n.clone(),G=new _(1),re=new _(0),te=new _(0),J=new _(1),xe=0;0!==X.cmpn(0);){var a=j.div(X);Ce=j.sub(a.mul(X)),C=te.sub(a.mul(G));var u=J.sub(a.mul(re));if(!ae&&Ce.cmp(D)<0)Z=we.neg(),ie=G,ae=Ce.neg(),se=C;else if(ae&&2==++xe)break;we=Ce,j=X,X=Ce,te=G,G=C,J=re,re=u}de=Ce.neg(),le=C;var y=ae.sqr().add(se.sqr());return de.sqr().add(le.sqr()).cmp(y)>=0&&(de=Z,le=ie),ae.negative&&(ae=ae.neg(),se=se.neg()),de.negative&&(de=de.neg(),le=le.neg()),[{a:ae,b:se},{a:de,b:le}]},P.prototype._endoSplit=function(L){var D=this.endo.basis,X=D[0],j=D[1],G=j.b.mul(L).divRound(this.n),re=X.b.neg().mul(L).divRound(this.n),te=G.mul(X.a),J=re.mul(j.a),Z=G.mul(X.b),ie=re.mul(j.b);return{k1:L.sub(te).sub(J),k2:Z.add(ie).neg()}},P.prototype.pointFromX=function(L,D){(L=new _(L,16)).red||(L=L.toRed(this.red));var X=L.redSqr().redMul(L).redIAdd(L.redMul(this.a)).redIAdd(this.b),j=X.redSqrt();if(0!==j.redSqr().redSub(X).cmp(this.zero))throw new Error("invalid point");var G=j.fromRed().isOdd();return(D&&!G||!D&&G)&&(j=j.redNeg()),this.point(L,j)},P.prototype.validate=function(L){if(L.inf)return!0;var D=L.x,X=L.y,j=this.a.redMul(D),G=D.redSqr().redMul(D).redIAdd(j).redIAdd(this.b);return 0===X.redSqr().redISub(G).cmpn(0)},P.prototype._endoWnafMulAdd=function(L,D,X){for(var j=this._endoWnafT1,G=this._endoWnafT2,re=0;re<L.length;re++){var te=this._endoSplit(D[re]),J=L[re],Z=J._getBeta();te.k1.negative&&(te.k1.ineg(),J=J.neg(!0)),te.k2.negative&&(te.k2.ineg(),Z=Z.neg(!0)),j[2*re]=J,j[2*re+1]=Z,G[2*re]=te.k1,G[2*re+1]=te.k2}for(var ie=this._wnafMulAdd(1,j,G,2*re,X),ae=0;ae<2*re;ae++)j[ae]=null,G[ae]=null;return ie},k(M,H.BasePoint),P.prototype.point=function(L,D,X){return new M(this,L,D,X)},P.prototype.pointFromJSON=function(L,D){return M.fromJSON(this,L,D)},M.prototype._getBeta=function(){if(this.curve.endo){var L=this.precomputed;if(L&&L.beta)return L.beta;var D=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(L){var X=this.curve,j=function(G){return X.point(G.x.redMul(X.endo.beta),G.y)};L.beta=D,D.precomputed={beta:null,naf:L.naf&&{wnd:L.naf.wnd,points:L.naf.points.map(j)},doubles:L.doubles&&{step:L.doubles.step,points:L.doubles.points.map(j)}}}return D}},M.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},M.fromJSON=function(L,D,X){"string"==typeof D&&(D=JSON.parse(D));var j=L.point(D[0],D[1],X);if(!D[2])return j;function G(te){return L.point(te[0],te[1],X)}var re=D[2];return j.precomputed={beta:null,doubles:re.doubles&&{step:re.doubles.step,points:[j].concat(re.doubles.points.map(G))},naf:re.naf&&{wnd:re.naf.wnd,points:[j].concat(re.naf.points.map(G))}},j},M.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},M.prototype.isInfinity=function(){return this.inf},M.prototype.add=function(L){if(this.inf)return L;if(L.inf)return this;if(this.eq(L))return this.dbl();if(this.neg().eq(L))return this.curve.point(null,null);if(0===this.x.cmp(L.x))return this.curve.point(null,null);var D=this.y.redSub(L.y);0!==D.cmpn(0)&&(D=D.redMul(this.x.redSub(L.x).redInvm()));var X=D.redSqr().redISub(this.x).redISub(L.x),j=D.redMul(this.x.redSub(X)).redISub(this.y);return this.curve.point(X,j)},M.prototype.dbl=function(){if(this.inf)return this;var L=this.y.redAdd(this.y);if(0===L.cmpn(0))return this.curve.point(null,null);var D=this.curve.a,X=this.x.redSqr(),j=L.redInvm(),G=X.redAdd(X).redIAdd(X).redIAdd(D).redMul(j),re=G.redSqr().redISub(this.x.redAdd(this.x)),te=G.redMul(this.x.redSub(re)).redISub(this.y);return this.curve.point(re,te)},M.prototype.getX=function(){return this.x.fromRed()},M.prototype.getY=function(){return this.y.fromRed()},M.prototype.mul=function(L){return L=new _(L,16),this.isInfinity()?this:this._hasDoubles(L)?this.curve._fixedNafMul(this,L):this.curve.endo?this.curve._endoWnafMulAdd([this],[L]):this.curve._wnafMul(this,L)},M.prototype.mulAdd=function(L,D,X){var j=[this,D],G=[L,X];return this.curve.endo?this.curve._endoWnafMulAdd(j,G):this.curve._wnafMulAdd(1,j,G,2)},M.prototype.jmulAdd=function(L,D,X){var j=[this,D],G=[L,X];return this.curve.endo?this.curve._endoWnafMulAdd(j,G,!0):this.curve._wnafMulAdd(1,j,G,2,!0)},M.prototype.eq=function(L){return this===L||this.inf===L.inf&&(this.inf||0===this.x.cmp(L.x)&&0===this.y.cmp(L.y))},M.prototype.neg=function(L){if(this.inf)return this;var D=this.curve.point(this.x,this.y.redNeg());if(L&&this.precomputed){var X=this.precomputed,j=function(G){return G.neg()};D.precomputed={naf:X.naf&&{wnd:X.naf.wnd,points:X.naf.points.map(j)},doubles:X.doubles&&{step:X.doubles.step,points:X.doubles.points.map(j)}}}return D},M.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},k(O,H.BasePoint),P.prototype.jpoint=function(L,D,X){return new O(this,L,D,X)},O.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var L=this.z.redInvm(),D=L.redSqr(),X=this.x.redMul(D),j=this.y.redMul(D).redMul(L);return this.curve.point(X,j)},O.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},O.prototype.add=function(L){if(this.isInfinity())return L;if(L.isInfinity())return this;var D=L.z.redSqr(),X=this.z.redSqr(),j=this.x.redMul(D),G=L.x.redMul(X),re=this.y.redMul(D.redMul(L.z)),te=L.y.redMul(X.redMul(this.z)),J=j.redSub(G),Z=re.redSub(te);if(0===J.cmpn(0))return 0!==Z.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ie=J.redSqr(),ae=ie.redMul(J),se=j.redMul(ie),de=Z.redSqr().redIAdd(ae).redISub(se).redISub(se),le=Z.redMul(se.redISub(de)).redISub(re.redMul(ae)),we=this.z.redMul(L.z).redMul(J);return this.curve.jpoint(de,le,we)},O.prototype.mixedAdd=function(L){if(this.isInfinity())return L.toJ();if(L.isInfinity())return this;var D=this.z.redSqr(),X=this.x,j=L.x.redMul(D),G=this.y,re=L.y.redMul(D).redMul(this.z),te=X.redSub(j),J=G.redSub(re);if(0===te.cmpn(0))return 0!==J.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var Z=te.redSqr(),ie=Z.redMul(te),ae=X.redMul(Z),se=J.redSqr().redIAdd(ie).redISub(ae).redISub(ae),de=J.redMul(ae.redISub(se)).redISub(G.redMul(ie)),le=this.z.redMul(te);return this.curve.jpoint(se,de,le)},O.prototype.dblp=function(L){if(0===L)return this;if(this.isInfinity())return this;if(!L)return this.dbl();var D;if(this.curve.zeroA||this.curve.threeA){var X=this;for(D=0;D<L;D++)X=X.dbl();return X}var j=this.curve.a,G=this.curve.tinv,re=this.x,te=this.y,J=this.z,Z=J.redSqr().redSqr(),ie=te.redAdd(te);for(D=0;D<L;D++){var ae=re.redSqr(),se=ie.redSqr(),de=se.redSqr(),le=ae.redAdd(ae).redIAdd(ae).redIAdd(j.redMul(Z)),we=re.redMul(se),xe=le.redSqr().redISub(we.redAdd(we)),Ce=we.redISub(xe),C=le.redMul(Ce);C=C.redIAdd(C).redISub(de);var a=ie.redMul(J);D+1<L&&(Z=Z.redMul(de)),re=xe,J=a,ie=C}return this.curve.jpoint(re,ie.redMul(G),J)},O.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},O.prototype._zeroDbl=function(){var L,D,X;if(this.zOne){var j=this.x.redSqr(),G=this.y.redSqr(),re=G.redSqr(),te=this.x.redAdd(G).redSqr().redISub(j).redISub(re);te=te.redIAdd(te);var J=j.redAdd(j).redIAdd(j),Z=J.redSqr().redISub(te).redISub(te),ie=re.redIAdd(re);ie=(ie=ie.redIAdd(ie)).redIAdd(ie),L=Z,D=J.redMul(te.redISub(Z)).redISub(ie),X=this.y.redAdd(this.y)}else{var ae=this.x.redSqr(),se=this.y.redSqr(),de=se.redSqr(),le=this.x.redAdd(se).redSqr().redISub(ae).redISub(de);le=le.redIAdd(le);var we=ae.redAdd(ae).redIAdd(ae),xe=we.redSqr(),Ce=de.redIAdd(de);Ce=(Ce=Ce.redIAdd(Ce)).redIAdd(Ce),L=xe.redISub(le).redISub(le),D=we.redMul(le.redISub(L)).redISub(Ce),X=(X=this.y.redMul(this.z)).redIAdd(X)}return this.curve.jpoint(L,D,X)},O.prototype._threeDbl=function(){var L,D,X;if(this.zOne){var j=this.x.redSqr(),G=this.y.redSqr(),re=G.redSqr(),te=this.x.redAdd(G).redSqr().redISub(j).redISub(re);te=te.redIAdd(te);var J=j.redAdd(j).redIAdd(j).redIAdd(this.curve.a),Z=J.redSqr().redISub(te).redISub(te);L=Z;var ie=re.redIAdd(re);ie=(ie=ie.redIAdd(ie)).redIAdd(ie),D=J.redMul(te.redISub(Z)).redISub(ie),X=this.y.redAdd(this.y)}else{var ae=this.z.redSqr(),se=this.y.redSqr(),de=this.x.redMul(se),le=this.x.redSub(ae).redMul(this.x.redAdd(ae));le=le.redAdd(le).redIAdd(le);var we=de.redIAdd(de),xe=(we=we.redIAdd(we)).redAdd(we);L=le.redSqr().redISub(xe),X=this.y.redAdd(this.z).redSqr().redISub(se).redISub(ae);var Ce=se.redSqr();Ce=(Ce=(Ce=Ce.redIAdd(Ce)).redIAdd(Ce)).redIAdd(Ce),D=le.redMul(we.redISub(L)).redISub(Ce)}return this.curve.jpoint(L,D,X)},O.prototype._dbl=function(){var L=this.curve.a,D=this.x,X=this.y,j=this.z,G=j.redSqr().redSqr(),re=D.redSqr(),te=X.redSqr(),J=re.redAdd(re).redIAdd(re).redIAdd(L.redMul(G)),Z=D.redAdd(D),ie=(Z=Z.redIAdd(Z)).redMul(te),ae=J.redSqr().redISub(ie.redAdd(ie)),se=ie.redISub(ae),de=te.redSqr();de=(de=(de=de.redIAdd(de)).redIAdd(de)).redIAdd(de);var le=J.redMul(se).redISub(de),we=X.redAdd(X).redMul(j);return this.curve.jpoint(ae,le,we)},O.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var L=this.x.redSqr(),D=this.y.redSqr(),X=this.z.redSqr(),j=D.redSqr(),G=L.redAdd(L).redIAdd(L),re=G.redSqr(),te=this.x.redAdd(D).redSqr().redISub(L).redISub(j),J=(te=(te=(te=te.redIAdd(te)).redAdd(te).redIAdd(te)).redISub(re)).redSqr(),Z=j.redIAdd(j);Z=(Z=(Z=Z.redIAdd(Z)).redIAdd(Z)).redIAdd(Z);var ie=G.redIAdd(te).redSqr().redISub(re).redISub(J).redISub(Z),ae=D.redMul(ie);ae=(ae=ae.redIAdd(ae)).redIAdd(ae);var se=this.x.redMul(J).redISub(ae);se=(se=se.redIAdd(se)).redIAdd(se);var de=this.y.redMul(ie.redMul(Z.redISub(ie)).redISub(te.redMul(J)));de=(de=(de=de.redIAdd(de)).redIAdd(de)).redIAdd(de);var le=this.z.redAdd(te).redSqr().redISub(X).redISub(J);return this.curve.jpoint(se,de,le)},O.prototype.mul=function(L,D){return L=new _(L,D),this.curve._wnafMul(this,L)},O.prototype.eq=function(L){if("affine"===L.type)return this.eq(L.toJ());if(this===L)return!0;var D=this.z.redSqr(),X=L.z.redSqr();if(0!==this.x.redMul(X).redISub(L.x.redMul(D)).cmpn(0))return!1;var j=D.redMul(this.z),G=X.redMul(L.z);return 0===this.y.redMul(G).redISub(L.y.redMul(j)).cmpn(0)},O.prototype.eqXToP=function(L){var D=this.z.redSqr(),X=L.toRed(this.curve.red).redMul(D);if(0===this.x.cmp(X))return!0;for(var j=L.clone(),G=this.curve.redN.redMul(D);;){if(j.iadd(this.curve.n),j.cmp(this.curve.p)>=0)return!1;if(X.redIAdd(G),0===this.x.cmp(X))return!0}},O.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},O.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:(je,z,E)=>{"use strict";var O,f=z,_=E(52529),k=E(8729),x=E(3136).assert;function P(F){this.curve="short"===F.type?new k.short(F):"edwards"===F.type?new k.edwards(F):new k.mont(F),this.g=this.curve.g,this.n=this.curve.n,this.hash=F.hash,x(this.g.validate(),"Invalid curve"),x(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function M(F,L){Object.defineProperty(f,F,{configurable:!0,enumerable:!0,get:function(){var D=new P(L);return Object.defineProperty(f,F,{configurable:!0,enumerable:!0,value:D}),D}})}f.PresetCurve=P,M("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),M("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),M("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),M("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),M("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),M("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["9"]}),M("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{O=E(51416)}catch{O=void 0}M("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",O]})},29042:(je,z,E)=>{"use strict";var f=E(88723),_=E(33556),k=E(3136),H=E(23401),x=E(35294),P=k.assert,M=E(60541),O=E(40484);function F(L){if(!(this instanceof F))return new F(L);"string"==typeof L&&(P(Object.prototype.hasOwnProperty.call(H,L),"Unknown curve "+L),L=H[L]),L instanceof H.PresetCurve&&(L={curve:L}),this.curve=L.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=L.curve.g,this.g.precompute(L.curve.n.bitLength()+1),this.hash=L.hash||L.curve.hash}je.exports=F,F.prototype.keyPair=function(D){return new M(this,D)},F.prototype.keyFromPrivate=function(D,X){return M.fromPrivate(this,D,X)},F.prototype.keyFromPublic=function(D,X){return M.fromPublic(this,D,X)},F.prototype.genKeyPair=function(D){D||(D={});for(var X=new _({hash:this.hash,pers:D.pers,persEnc:D.persEnc||"utf8",entropy:D.entropy||x(this.hash.hmacStrength),entropyEnc:D.entropy&&D.entropyEnc||"utf8",nonce:this.n.toArray()}),j=this.n.byteLength(),G=this.n.sub(new f(2));;){var re=new f(X.generate(j));if(!(re.cmp(G)>0))return re.iaddn(1),this.keyFromPrivate(re)}},F.prototype._truncateToN=function(D,X){var j=8*D.byteLength()-this.n.bitLength();return j>0&&(D=D.ushrn(j)),!X&&D.cmp(this.n)>=0?D.sub(this.n):D},F.prototype.sign=function(D,X,j,G){"object"==typeof j&&(G=j,j=null),G||(G={}),X=this.keyFromPrivate(X,j),D=this._truncateToN(new f(D,16));for(var re=this.n.byteLength(),te=X.getPrivate().toArray("be",re),J=D.toArray("be",re),Z=new _({hash:this.hash,entropy:te,nonce:J,pers:G.pers,persEnc:G.persEnc||"utf8"}),ie=this.n.sub(new f(1)),ae=0;;ae++){var se=G.k?G.k(ae):new f(Z.generate(this.n.byteLength()));if(!((se=this._truncateToN(se,!0)).cmpn(1)<=0||se.cmp(ie)>=0)){var de=this.g.mul(se);if(!de.isInfinity()){var le=de.getX(),we=le.umod(this.n);if(0!==we.cmpn(0)){var xe=se.invm(this.n).mul(we.mul(X.getPrivate()).iadd(D));if(0!==(xe=xe.umod(this.n)).cmpn(0)){var Ce=(de.getY().isOdd()?1:0)|(0!==le.cmp(we)?2:0);return G.canonical&&xe.cmp(this.nh)>0&&(xe=this.n.sub(xe),Ce^=1),new O({r:we,s:xe,recoveryParam:Ce})}}}}}},F.prototype.verify=function(D,X,j,G){D=this._truncateToN(new f(D,16)),j=this.keyFromPublic(j,G);var re=(X=new O(X,"hex")).r,te=X.s;if(re.cmpn(1)<0||re.cmp(this.n)>=0||te.cmpn(1)<0||te.cmp(this.n)>=0)return!1;var ae,J=te.invm(this.n),Z=J.mul(D).umod(this.n),ie=J.mul(re).umod(this.n);return this.curve._maxwellTrick?!(ae=this.g.jmulAdd(Z,j.getPublic(),ie)).isInfinity()&&ae.eqXToP(re):!(ae=this.g.mulAdd(Z,j.getPublic(),ie)).isInfinity()&&0===ae.getX().umod(this.n).cmp(re)},F.prototype.recoverPubKey=function(L,D,X,j){P((3&X)===X,"The recovery param is more than two bits"),D=new O(D,j);var G=this.n,re=new f(L),te=D.r,J=D.s,Z=1&X,ie=X>>1;if(te.cmp(this.curve.p.umod(this.curve.n))>=0&&ie)throw new Error("Unable to find sencond key candinate");te=this.curve.pointFromX(ie?te.add(this.curve.n):te,Z);var ae=D.r.invm(G),se=G.sub(re).mul(ae).umod(G),de=J.mul(ae).umod(G);return this.g.mulAdd(se,te,de)},F.prototype.getKeyRecoveryParam=function(L,D,X,j){if(null!==(D=new O(D,j)).recoveryParam)return D.recoveryParam;for(var G=0;G<4;G++){var re;try{re=this.recoverPubKey(L,D,G)}catch{continue}if(re.eq(X))return G}throw new Error("Unable to find valid recovery factor")}},60541:(je,z,E)=>{"use strict";var f=E(88723),k=E(3136).assert;function H(x,P){this.ec=x,this.priv=null,this.pub=null,P.priv&&this._importPrivate(P.priv,P.privEnc),P.pub&&this._importPublic(P.pub,P.pubEnc)}je.exports=H,H.fromPublic=function(P,M,O){return M instanceof H?M:new H(P,{pub:M,pubEnc:O})},H.fromPrivate=function(P,M,O){return M instanceof H?M:new H(P,{priv:M,privEnc:O})},H.prototype.validate=function(){var P=this.getPublic();return P.isInfinity()?{result:!1,reason:"Invalid public key"}:P.validate()?P.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},H.prototype.getPublic=function(P,M){return"string"==typeof P&&(M=P,P=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),M?this.pub.encode(M,P):this.pub},H.prototype.getPrivate=function(P){return"hex"===P?this.priv.toString(16,2):this.priv},H.prototype._importPrivate=function(P,M){this.priv=new f(P,M||16),this.priv=this.priv.umod(this.ec.curve.n)},H.prototype._importPublic=function(P,M){if(P.x||P.y)return"mont"===this.ec.curve.type?k(P.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&k(P.x&&P.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(P.x,P.y));this.pub=this.ec.curve.decodePoint(P,M)},H.prototype.derive=function(P){return P.validate()||k(P.validate(),"public point not validated"),P.mul(this.priv).getX()},H.prototype.sign=function(P,M,O){return this.ec.sign(P,this,M,O)},H.prototype.verify=function(P,M){return this.ec.verify(P,M,this)},H.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:(je,z,E)=>{"use strict";var f=E(88723),_=E(3136),k=_.assert;function H(F,L){if(F instanceof H)return F;this._importDER(F,L)||(k(F.r&&F.s,"Signature without r or s"),this.r=new f(F.r,16),this.s=new f(F.s,16),this.recoveryParam=void 0===F.recoveryParam?null:F.recoveryParam)}function x(){this.place=0}function P(F,L){var D=F[L.place++];if(!(128&D))return D;var X=15&D;if(0===X||X>4)return!1;for(var j=0,G=0,re=L.place;G<X;G++,re++)j<<=8,j|=F[re],j>>>=0;return!(j<=127)&&(L.place=re,j)}function M(F){for(var L=0,D=F.length-1;!F[L]&&!(128&F[L+1])&&L<D;)L++;return 0===L?F:F.slice(L)}function O(F,L){if(L<128)F.push(L);else{var D=1+(Math.log(L)/Math.LN2>>>3);for(F.push(128|D);--D;)F.push(L>>>(D<<3)&255);F.push(L)}}je.exports=H,H.prototype._importDER=function(L,D){L=_.toArray(L,D);var X=new x;if(48!==L[X.place++])return!1;var j=P(L,X);if(!1===j||j+X.place!==L.length||2!==L[X.place++])return!1;var G=P(L,X);if(!1===G)return!1;var re=L.slice(X.place,G+X.place);if(X.place+=G,2!==L[X.place++])return!1;var te=P(L,X);if(!1===te||L.length!==te+X.place)return!1;var J=L.slice(X.place,te+X.place);if(0===re[0]){if(!(128&re[1]))return!1;re=re.slice(1)}if(0===J[0]){if(!(128&J[1]))return!1;J=J.slice(1)}return this.r=new f(re),this.s=new f(J),this.recoveryParam=null,!0},H.prototype.toDER=function(L){var D=this.r.toArray(),X=this.s.toArray();for(128&D[0]&&(D=[0].concat(D)),128&X[0]&&(X=[0].concat(X)),D=M(D),X=M(X);!(X[0]||128&X[1]);)X=X.slice(1);var j=[2];O(j,D.length),(j=j.concat(D)).push(2),O(j,X.length);var G=j.concat(X),re=[48];return O(re,G.length),re=re.concat(G),_.encode(re,L)}},83045:(je,z,E)=>{"use strict";var f=E(52529),_=E(23401),k=E(3136),H=k.assert,x=k.parseBytes,P=E(87222),M=E(5451);function O(F){if(H("ed25519"===F,"only tested with ed25519 so far"),!(this instanceof O))return new O(F);this.curve=F=_[F].curve,this.g=F.g,this.g.precompute(F.n.bitLength()+1),this.pointClass=F.point().constructor,this.encodingLength=Math.ceil(F.n.bitLength()/8),this.hash=f.sha512}je.exports=O,O.prototype.sign=function(L,D){L=x(L);var X=this.keyFromSecret(D),j=this.hashInt(X.messagePrefix(),L),G=this.g.mul(j),re=this.encodePoint(G),te=this.hashInt(re,X.pubBytes(),L).mul(X.priv()),J=j.add(te).umod(this.curve.n);return this.makeSignature({R:G,S:J,Rencoded:re})},O.prototype.verify=function(L,D,X){L=x(L),D=this.makeSignature(D);var j=this.keyFromPublic(X),G=this.hashInt(D.Rencoded(),j.pubBytes(),L),re=this.g.mul(D.S());return D.R().add(j.pub().mul(G)).eq(re)},O.prototype.hashInt=function(){for(var L=this.hash(),D=0;D<arguments.length;D++)L.update(arguments[D]);return k.intFromLE(L.digest()).umod(this.curve.n)},O.prototype.keyFromPublic=function(L){return P.fromPublic(this,L)},O.prototype.keyFromSecret=function(L){return P.fromSecret(this,L)},O.prototype.makeSignature=function(L){return L instanceof M?L:new M(this,L)},O.prototype.encodePoint=function(L){var D=L.getY().toArray("le",this.encodingLength);return D[this.encodingLength-1]|=L.getX().isOdd()?128:0,D},O.prototype.decodePoint=function(L){var D=(L=k.parseBytes(L)).length-1,X=L.slice(0,D).concat(-129&L[D]),j=!!(128&L[D]),G=k.intFromLE(X);return this.curve.pointFromY(G,j)},O.prototype.encodeInt=function(L){return L.toArray("le",this.encodingLength)},O.prototype.decodeInt=function(L){return k.intFromLE(L)},O.prototype.isPoint=function(L){return L instanceof this.pointClass}},87222:(je,z,E)=>{"use strict";var f=E(3136),_=f.assert,k=f.parseBytes,H=f.cachedProperty;function x(P,M){this.eddsa=P,this._secret=k(M.secret),P.isPoint(M.pub)?this._pub=M.pub:this._pubBytes=k(M.pub)}x.fromPublic=function(M,O){return O instanceof x?O:new x(M,{pub:O})},x.fromSecret=function(M,O){return O instanceof x?O:new x(M,{secret:O})},x.prototype.secret=function(){return this._secret},H(x,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),H(x,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),H(x,"privBytes",function(){var M=this.eddsa,O=this.hash(),F=M.encodingLength-1,L=O.slice(0,M.encodingLength);return L[0]&=248,L[F]&=127,L[F]|=64,L}),H(x,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),H(x,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),H(x,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),x.prototype.sign=function(M){return _(this._secret,"KeyPair can only verify"),this.eddsa.sign(M,this)},x.prototype.verify=function(M,O){return this.eddsa.verify(M,O,this)},x.prototype.getSecret=function(M){return _(this._secret,"KeyPair is public only"),f.encode(this.secret(),M)},x.prototype.getPublic=function(M){return f.encode(this.pubBytes(),M)},je.exports=x},5451:(je,z,E)=>{"use strict";var f=E(88723),_=E(3136),k=_.assert,H=_.cachedProperty,x=_.parseBytes;function P(M,O){this.eddsa=M,"object"!=typeof O&&(O=x(O)),Array.isArray(O)&&(O={R:O.slice(0,M.encodingLength),S:O.slice(M.encodingLength)}),k(O.R&&O.S,"Signature without R or S"),M.isPoint(O.R)&&(this._R=O.R),O.S instanceof f&&(this._S=O.S),this._Rencoded=Array.isArray(O.R)?O.R:O.Rencoded,this._Sencoded=Array.isArray(O.S)?O.S:O.Sencoded}H(P,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),H(P,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),H(P,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),H(P,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),P.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},P.prototype.toHex=function(){return _.encode(this.toBytes(),"hex").toUpperCase()},je.exports=P},51416:je=>{je.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:(je,z,E)=>{"use strict";var f=z,_=E(88723),k=E(39210),H=E(21832);f.assert=k,f.toArray=H.toArray,f.zero2=H.zero2,f.toHex=H.toHex,f.encode=H.encode,f.getNAF=function x(L,D,X){var G,j=new Array(Math.max(L.bitLength(),X)+1);for(G=0;G<j.length;G+=1)j[G]=0;var re=1<<D+1,te=L.clone();for(G=0;G<j.length;G++){var J,Z=te.andln(re-1);te.isOdd()?te.isubn(J=Z>(re>>1)-1?(re>>1)-Z:Z):J=0,j[G]=J,te.iushrn(1)}return j},f.getJSF=function P(L,D){var X=[[],[]];L=L.clone(),D=D.clone();for(var re,j=0,G=0;L.cmpn(-j)>0||D.cmpn(-G)>0;){var Z,ie,te=L.andln(3)+j&3,J=D.andln(3)+G&3;3===te&&(te=-1),3===J&&(J=-1),Z=1&te?3!=(re=L.andln(7)+j&7)&&5!==re||2!==J?te:-te:0,X[0].push(Z),ie=1&J?3!=(re=D.andln(7)+G&7)&&5!==re||2!==te?J:-J:0,X[1].push(ie),2*j===Z+1&&(j=1-j),2*G===ie+1&&(G=1-G),L.iushrn(1),D.iushrn(1)}return X},f.cachedProperty=function M(L,D,X){var j="_"+D;L.prototype[D]=function(){return void 0!==this[j]?this[j]:this[j]=X.call(this)}},f.parseBytes=function O(L){return"string"==typeof L?f.toArray(L,"hex"):L},f.intFromLE=function F(L){return new _(L,"hex","le")}},88723:function(je,z,E){!function(f,_){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var P;"object"==typeof f?f.exports=x:_.BN=x,x.BN=x,x.wordSize=26;try{P=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(79368).Buffer}catch{}function M(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=M(C,u);return u-1>=a&&(y|=M(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,A=Math.min(T,T-N)+y,s=0,v=y;v<A;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,A=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=A>>>26,W=67108863&A,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,A=0|v}return 0!==A?u.words[s]=0|A:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],A=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-A.length]+A+y:A+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof P<"u"),this.toArrayLike(P,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var A,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[s]=A;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[S-s-1]=A}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var A,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,be=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,Et=0|g[7],We=8191&Et,Le=Et>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,tt=ge>>>13,Bt=0|S[1],vt=8191&Bt,It=Bt>>>13,Gt=0|S[2],hn=8191&Gt,dn=Gt>>>13,ar=0|S[3],An=8191&ar,en=ar>>>13,Qt=0|S[4],_t=8191&Qt,ft=Qt>>>13,Wt=0|S[5],qt=8191&Wt,pn=Wt>>>13,fr=0|S[6],gt=8191&fr,Mt=fr>>>13,St=0|S[7],Ye=8191&St,nt=St>>>13,Ht=0|S[8],Nt=8191&Ht,un=Ht>>>13,Wn=0|S[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^u.negative,y.length=19;var Or=(N+(A=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,A=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(N+(A=A+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,A=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(be,Ae)|0,v=Math.imul(be,tt),A=A+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(N+(A=A+Math.imul(K,hn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,hn)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,A=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),A=A+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,It)|0,A=A+Math.imul(_e,hn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,hn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(N+(A=A+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;N=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,A=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),A=A+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,It)|0,A=A+Math.imul(Se,hn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,hn)|0,v=v+Math.imul(be,dn)|0,A=A+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(N+(A=A+Math.imul(K,_t)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,_t)|0))<<13)|0;N=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,A=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),A=A+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,It)|0,A=A+Math.imul(ye,hn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,hn)|0,v=v+Math.imul(De,dn)|0,A=A+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(be,An)|0,v=v+Math.imul(be,en)|0,A=A+Math.imul(_e,_t)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,_t)|0,v=v+Math.imul(Oe,ft)|0;var Te=(N+(A=A+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,pn)|0)+Math.imul(ee,qt)|0))<<13)|0;N=((v=v+Math.imul(ee,pn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,A=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),A=A+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,It)|0,A=A+Math.imul(ue,hn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,hn)|0,v=v+Math.imul(Q,dn)|0,A=A+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,A=A+Math.imul(Se,_t)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(be,_t)|0,v=v+Math.imul(be,ft)|0,A=A+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,pn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,pn)|0;var Be=(N+(A=A+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mt)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,Mt)|0)+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,A=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),A=A+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,It)|0,A=A+Math.imul(fe,hn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,hn)|0,v=v+Math.imul(Ee,dn)|0,A=A+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,A=A+Math.imul(ye,_t)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,_t)|0,v=v+Math.imul(De,ft)|0,A=A+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,pn)|0)+Math.imul(be,qt)|0,v=v+Math.imul(be,pn)|0,A=A+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,Mt)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,Mt)|0;var xt=(N+(A=A+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,A=Math.imul(B,Ae),s=(s=Math.imul(B,tt))+Math.imul(w,Ae)|0,v=Math.imul(w,tt),A=A+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,It)|0,A=A+Math.imul($e,hn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,hn)|0,v=v+Math.imul(Fe,dn)|0,A=A+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,A=A+Math.imul(ue,_t)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,_t)|0,v=v+Math.imul(Q,ft)|0,A=A+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,pn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,pn)|0,A=A+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,Mt)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,Mt)|0,A=A+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(N+(A=A+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;N=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,A=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),A=A+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,It)|0,A=A+Math.imul(We,hn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,hn)|0,v=v+Math.imul(Le,dn)|0,A=A+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,A=A+Math.imul(fe,_t)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,_t)|0,v=v+Math.imul(Ee,ft)|0,A=A+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,pn)|0,A=A+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,Mt)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,Mt)|0,A=A+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Ye)|0,v=v+Math.imul(be,nt)|0,A=A+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(N+(A=A+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;N=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,A=Math.imul(U,vt),s=(s=Math.imul(U,It))+Math.imul(ne,vt)|0,v=Math.imul(ne,It),A=A+Math.imul(B,hn)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,hn)|0,v=v+Math.imul(w,dn)|0,A=A+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,A=A+Math.imul($e,_t)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,_t)|0,v=v+Math.imul(Fe,ft)|0,A=A+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,pn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,pn)|0,A=A+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,Mt)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,Mt)|0,A=A+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,A=A+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(be,Nt)|0,v=v+Math.imul(be,un)|0;var Kn=(N+(A=A+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;N=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(U,hn),s=(s=Math.imul(U,dn))+Math.imul(ne,hn)|0,v=Math.imul(ne,dn),A=A+Math.imul(B,An)|0,s=(s=s+Math.imul(B,en)|0)+Math.imul(w,An)|0,v=v+Math.imul(w,en)|0,A=A+Math.imul(We,_t)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,_t)|0,v=v+Math.imul(Le,ft)|0,A=A+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,pn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,pn)|0,A=A+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,Mt)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,Mt)|0,A=A+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,A=A+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var tr=(N+(A=A+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(be,En)|0))<<13)|0;N=((v=v+Math.imul(be,kn)|0)+(s>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),A=A+Math.imul(B,_t)|0,s=(s=s+Math.imul(B,ft)|0)+Math.imul(w,_t)|0,v=v+Math.imul(w,ft)|0,A=A+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,pn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,pn)|0,A=A+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,Mt)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,Mt)|0,A=A+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,A=A+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var Dr=(N+(A=A+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;N=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,A=Math.imul(U,_t),s=(s=Math.imul(U,ft))+Math.imul(ne,_t)|0,v=Math.imul(ne,ft),A=A+Math.imul(B,qt)|0,s=(s=s+Math.imul(B,pn)|0)+Math.imul(w,qt)|0,v=v+Math.imul(w,pn)|0,A=A+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,Mt)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,Mt)|0,A=A+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,A=A+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Mr=(N+(A=A+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;N=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,A=Math.imul(U,qt),s=(s=Math.imul(U,pn))+Math.imul(ne,qt)|0,v=Math.imul(ne,pn),A=A+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,Mt)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,Mt)|0,A=A+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,A=A+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Ir=(N+(A=A+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;N=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,A=Math.imul(U,gt),s=(s=Math.imul(U,Mt))+Math.imul(ne,gt)|0,v=Math.imul(ne,Mt),A=A+Math.imul(B,Ye)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Ye)|0,v=v+Math.imul(w,nt)|0,A=A+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(N+(A=A+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;N=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,A=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),A=A+Math.imul(B,Nt)|0,s=(s=s+Math.imul(B,un)|0)+Math.imul(w,Nt)|0,v=v+Math.imul(w,un)|0;var ni=(N+(A=A+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;N=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(ni>>>26)|0,ni&=67108863,A=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(N+(A=A+Math.imul(B,En)|0)|0)+((8191&(s=(s=s+Math.imul(B,kn)|0)+Math.imul(w,En)|0))<<13)|0;N=((v=v+Math.imul(w,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(N+(A=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return N=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Be,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=tr,T[12]=Dr,T[13]=Mr,T[14]=Ir,T[15]=jr,T[16]=ni,T[17]=tn,T[18]=_n,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Z).mulp(C,a,u)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,A=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=A;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Z.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Z.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Z.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Z.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var A=N<<1,s=Math.cos(2*Math.PI/A),v=Math.sin(2*Math.PI/A),W=0;W<S;W+=A)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+N],Se=g[W+ce+N],be=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=be),g[W+ce]=Oe+Se,y[W+ce+N]=_e-Ve,g[W+ce+N]=Oe-Se,ce!==A&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Z.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Z.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Z.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Z.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Z.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Z.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),A=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,A,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=A[ce]*W[ce]-s[ce]*K[ce];s[ce]=A[ce]*K[ce]+s[ce]*W[ce],A[ce]=_e}return this.conjugate(A,s,g),this.transform(A,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,A=y;if(g-=T,g=Math.max(0,g),A){for(var s=0;s<T;s++)A.words[s]=this.words[s];A.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return A&&0!==v&&(A.words[A.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var A=(0|a.words[S])*u;N=((T-=67108863&A)>>26)-(A/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,A=g.length-S.length;if("mod"!==u){(s=new x(null)).length=A+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,A);0===W.negative&&(g=W,s&&(s.words[A]=1));for(var K=A-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),A=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++A;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(A)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,A=1;!(u.words[0]&A)&&N<26;++N,A<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(ie[a])return ie[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return ie[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),A=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,A).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,A=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++A||0===S&&0===W)&&(T=this.mul(T,g[N]),A=0,N=0)):A=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=E.nmd(je),this)},44356:je=>{"use strict";var f,z="object"==typeof Reflect?Reflect:null,E=z&&"function"==typeof z.apply?z.apply:function(ae,se,de){return Function.prototype.apply.call(ae,se,de)};f=z&&"function"==typeof z.ownKeys?z.ownKeys:Object.getOwnPropertySymbols?function(ae){return Object.getOwnPropertyNames(ae).concat(Object.getOwnPropertySymbols(ae))}:function(ae){return Object.getOwnPropertyNames(ae)};var k=Number.isNaN||function(ae){return ae!=ae};function H(){H.init.call(this)}je.exports=H,je.exports.once=function te(ie,ae){return new Promise(function(se,de){function le(xe){ie.removeListener(ae,we),de(xe)}function we(){"function"==typeof ie.removeListener&&ie.removeListener("error",le),se([].slice.call(arguments))}Z(ie,ae,we,{once:!0}),"error"!==ae&&function J(ie,ae,se){"function"==typeof ie.on&&Z(ie,"error",ae,se)}(ie,le,{once:!0})})},H.EventEmitter=H,H.prototype._events=void 0,H.prototype._eventsCount=0,H.prototype._maxListeners=void 0;var x=10;function P(ie){if("function"!=typeof ie)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ie)}function M(ie){return void 0===ie._maxListeners?H.defaultMaxListeners:ie._maxListeners}function O(ie,ae,se,de){var le,we,xe;if(P(se),void 0===(we=ie._events)?(we=ie._events=Object.create(null),ie._eventsCount=0):(void 0!==we.newListener&&(ie.emit("newListener",ae,se.listener?se.listener:se),we=ie._events),xe=we[ae]),void 0===xe)xe=we[ae]=se,++ie._eventsCount;else if("function"==typeof xe?xe=we[ae]=de?[se,xe]:[xe,se]:de?xe.unshift(se):xe.push(se),(le=M(ie))>0&&xe.length>le&&!xe.warned){xe.warned=!0;var Ce=new Error("Possible EventEmitter memory leak detected. "+xe.length+" "+String(ae)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ce.name="MaxListenersExceededWarning",Ce.emitter=ie,Ce.type=ae,Ce.count=xe.length,function _(ie){console&&console.warn&&console.warn(ie)}(Ce)}return ie}function F(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function L(ie,ae,se){var de={fired:!1,wrapFn:void 0,target:ie,type:ae,listener:se},le=F.bind(de);return le.listener=se,de.wrapFn=le,le}function D(ie,ae,se){var de=ie._events;if(void 0===de)return[];var le=de[ae];return void 0===le?[]:"function"==typeof le?se?[le.listener||le]:[le]:se?function re(ie){for(var ae=new Array(ie.length),se=0;se<ae.length;++se)ae[se]=ie[se].listener||ie[se];return ae}(le):j(le,le.length)}function X(ie){var ae=this._events;if(void 0!==ae){var se=ae[ie];if("function"==typeof se)return 1;if(void 0!==se)return se.length}return 0}function j(ie,ae){for(var se=new Array(ae),de=0;de<ae;++de)se[de]=ie[de];return se}function Z(ie,ae,se,de){if("function"==typeof ie.on)de.once?ie.once(ae,se):ie.on(ae,se);else{if("function"!=typeof ie.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ie);ie.addEventListener(ae,function le(we){de.once&&ie.removeEventListener(ae,le),se(we)})}}Object.defineProperty(H,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(ie){if("number"!=typeof ie||ie<0||k(ie))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ie+".");x=ie}}),H.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},H.prototype.setMaxListeners=function(ae){if("number"!=typeof ae||ae<0||k(ae))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ae+".");return this._maxListeners=ae,this},H.prototype.getMaxListeners=function(){return M(this)},H.prototype.emit=function(ae){for(var se=[],de=1;de<arguments.length;de++)se.push(arguments[de]);var le="error"===ae,we=this._events;if(void 0!==we)le=le&&void 0===we.error;else if(!le)return!1;if(le){var xe;if(se.length>0&&(xe=se[0]),xe instanceof Error)throw xe;var Ce=new Error("Unhandled error."+(xe?" ("+xe.message+")":""));throw Ce.context=xe,Ce}var C=we[ae];if(void 0===C)return!1;if("function"==typeof C)E(C,this,se);else{var a=C.length,u=j(C,a);for(de=0;de<a;++de)E(u[de],this,se)}return!0},H.prototype.on=H.prototype.addListener=function(ae,se){return O(this,ae,se,!1)},H.prototype.prependListener=function(ae,se){return O(this,ae,se,!0)},H.prototype.once=function(ae,se){return P(se),this.on(ae,L(this,ae,se)),this},H.prototype.prependOnceListener=function(ae,se){return P(se),this.prependListener(ae,L(this,ae,se)),this},H.prototype.off=H.prototype.removeListener=function(ae,se){var de,le,we,xe,Ce;if(P(se),void 0===(le=this._events))return this;if(void 0===(de=le[ae]))return this;if(de===se||de.listener===se)0==--this._eventsCount?this._events=Object.create(null):(delete le[ae],le.removeListener&&this.emit("removeListener",ae,de.listener||se));else if("function"!=typeof de){for(we=-1,xe=de.length-1;xe>=0;xe--)if(de[xe]===se||de[xe].listener===se){Ce=de[xe].listener,we=xe;break}if(we<0)return this;0===we?de.shift():function G(ie,ae){for(;ae+1<ie.length;ae++)ie[ae]=ie[ae+1];ie.pop()}(de,we),1===de.length&&(le[ae]=de[0]),void 0!==le.removeListener&&this.emit("removeListener",ae,Ce||se)}return this},H.prototype.removeAllListeners=function(ae){var se,de,le;if(void 0===(de=this._events))return this;if(void 0===de.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==de[ae]&&(0==--this._eventsCount?this._events=Object.create(null):delete de[ae]),this;if(0===arguments.length){var xe,we=Object.keys(de);for(le=0;le<we.length;++le)"removeListener"!==(xe=we[le])&&this.removeAllListeners(xe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(se=de[ae]))this.removeListener(ae,se);else if(void 0!==se)for(le=se.length-1;le>=0;le--)this.removeListener(ae,se[le]);return this},H.prototype.listeners=function(ae){return D(this,ae,!0)},H.prototype.rawListeners=function(ae){return D(this,ae,!1)},H.listenerCount=function(ie,ae){return"function"==typeof ie.listenerCount?ie.listenerCount(ae):X.call(ie,ae)},H.prototype.listenerCount=X,H.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]}},18211:(je,z,E)=>{var f=E(27054).Buffer,_=E(34725);je.exports=function k(H,x,P,M){if(f.isBuffer(H)||(H=f.from(H,"binary")),x&&(f.isBuffer(x)||(x=f.from(x,"binary")),8!==x.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var O=P/8,F=f.alloc(O),L=f.alloc(M||0),D=f.alloc(0);O>0||M>0;){var X=new _;X.update(D),X.update(H),x&&X.update(x),D=X.digest();var j=0;if(O>0){var G=F.length-O;j=Math.min(O,D.length),D.copy(F,G,0,j),O-=j}if(j<D.length&&M>0){var re=L.length-M,te=Math.min(M,D.length-j);D.copy(L,re,j,j+te),M-=te}}return D.fill(0),{key:F,iv:L}}},40362:je=>{"use strict";je.exports=function z(E,f){if(E===f)return!0;if(E&&f&&"object"==typeof E&&"object"==typeof f){if(E.constructor!==f.constructor)return!1;var _,k,H;if(Array.isArray(E)){if((_=E.length)!=f.length)return!1;for(k=_;0!=k--;)if(!z(E[k],f[k]))return!1;return!0}if(E.constructor===RegExp)return E.source===f.source&&E.flags===f.flags;if(E.valueOf!==Object.prototype.valueOf)return E.valueOf()===f.valueOf();if(E.toString!==Object.prototype.toString)return E.toString()===f.toString();if((_=(H=Object.keys(E)).length)!==Object.keys(f).length)return!1;for(k=_;0!=k--;)if(!Object.prototype.hasOwnProperty.call(f,H[k]))return!1;for(k=_;0!=k--;){var x=H[k];if(!z(E[x],f[x]))return!1}return!0}return E!=E&&f!=f}},13686:(je,z,E)=>{"use strict";var f=E(27054).Buffer,_=E(7045).Transform;function x(P){_.call(this),this._block=f.allocUnsafe(P),this._blockSize=P,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}E(71993)(x,_),x.prototype._transform=function(P,M,O){var F=null;try{this.update(P,M)}catch(L){F=L}O(F)},x.prototype._flush=function(P){var M=null;try{this.push(this.digest())}catch(O){M=O}P(M)},x.prototype.update=function(P,M){if(function H(P,M){if(!f.isBuffer(P)&&"string"!=typeof P)throw new TypeError(M+" must be a string or a buffer")}(P,"Data"),this._finalized)throw new Error("Digest already called");f.isBuffer(P)||(P=f.from(P,M));for(var O=this._block,F=0;this._blockOffset+P.length-F>=this._blockSize;){for(var L=this._blockOffset;L<this._blockSize;)O[L++]=P[F++];this._update(),this._blockOffset=0}for(;F<P.length;)O[this._blockOffset++]=P[F++];for(var D=0,X=8*P.length;X>0;++D)this._length[D]+=X,(X=this._length[D]/4294967296|0)>0&&(this._length[D]-=4294967296*X);return this},x.prototype._update=function(){throw new Error("_update is not implemented")},x.prototype.digest=function(P){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var M=this._digest();void 0!==P&&(M=M.toString(P)),this._block.fill(0),this._blockOffset=0;for(var O=0;O<4;++O)this._length[O]=0;return M},x.prototype._digest=function(){throw new Error("_digest is not implemented")},je.exports=x},52529:(je,z,E)=>{var f=z;f.utils=E(68283),f.common=E(12901),f.sha=E(78528),f.ripemd=E(15283),f.hmac=E(37163),f.sha1=f.sha.sha1,f.sha256=f.sha.sha256,f.sha224=f.sha.sha224,f.sha384=f.sha.sha384,f.sha512=f.sha.sha512,f.ripemd160=f.ripemd.ripemd160},12901:(je,z,E)=>{"use strict";var f=E(68283),_=E(39210);function k(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}z.BlockHash=k,k.prototype.update=function(x,P){if(x=f.toArray(x,P),this.pending=this.pending?this.pending.concat(x):x,this.pendingTotal+=x.length,this.pending.length>=this._delta8){var M=(x=this.pending).length%this._delta8;this.pending=x.slice(x.length-M,x.length),0===this.pending.length&&(this.pending=null),x=f.join32(x,0,x.length-M,this.endian);for(var O=0;O<x.length;O+=this._delta32)this._update(x,O,O+this._delta32)}return this},k.prototype.digest=function(x){return this.update(this._pad()),_(null===this.pending),this._digest(x)},k.prototype._pad=function(){var x=this.pendingTotal,P=this._delta8,M=P-(x+this.padLength)%P,O=new Array(M+this.padLength);O[0]=128;for(var F=1;F<M;F++)O[F]=0;if(x<<=3,"big"===this.endian){for(var L=8;L<this.padLength;L++)O[F++]=0;O[F++]=0,O[F++]=0,O[F++]=0,O[F++]=0,O[F++]=x>>>24&255,O[F++]=x>>>16&255,O[F++]=x>>>8&255,O[F++]=255&x}else for(O[F++]=255&x,O[F++]=x>>>8&255,O[F++]=x>>>16&255,O[F++]=x>>>24&255,O[F++]=0,O[F++]=0,O[F++]=0,O[F++]=0,L=8;L<this.padLength;L++)O[F++]=0;return O}},37163:(je,z,E)=>{"use strict";var f=E(68283),_=E(39210);function k(H,x,P){if(!(this instanceof k))return new k(H,x,P);this.Hash=H,this.blockSize=H.blockSize/8,this.outSize=H.outSize/8,this.inner=null,this.outer=null,this._init(f.toArray(x,P))}je.exports=k,k.prototype._init=function(x){x.length>this.blockSize&&(x=(new this.Hash).update(x).digest()),_(x.length<=this.blockSize);for(var P=x.length;P<this.blockSize;P++)x.push(0);for(P=0;P<x.length;P++)x[P]^=54;for(this.inner=(new this.Hash).update(x),P=0;P<x.length;P++)x[P]^=106;this.outer=(new this.Hash).update(x)},k.prototype.update=function(x,P){return this.inner.update(x,P),this},k.prototype.digest=function(x){return this.outer.update(this.inner.digest()),this.outer.digest(x)}},15283:(je,z,E)=>{"use strict";var f=E(68283),_=E(12901),k=f.rotl32,H=f.sum32,x=f.sum32_3,P=f.sum32_4,M=_.BlockHash;function O(){if(!(this instanceof O))return new O;M.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function F(te,J,Z,ie){return te<=15?J^Z^ie:te<=31?J&Z|~J&ie:te<=47?(J|~Z)^ie:te<=63?J&ie|Z&~ie:J^(Z|~ie)}function D(te){return te<=15?1352829926:te<=31?1548603684:te<=47?1836072691:te<=63?2053994217:0}f.inherits(O,M),z.ripemd160=O,O.blockSize=512,O.outSize=160,O.hmacStrength=192,O.padLength=64,O.prototype._update=function(J,Z){for(var ie=this.h[0],ae=this.h[1],se=this.h[2],de=this.h[3],le=this.h[4],we=ie,xe=ae,Ce=se,C=de,a=le,u=0;u<80;u++){var y=H(k(P(ie,F(u,ae,se,de),J[X[u]+Z],(te=u)<=15?0:te<=31?1518500249:te<=47?1859775393:te<=63?2400959708:2840853838),G[u]),le);ie=le,le=de,de=k(se,10),se=ae,ae=y,y=H(k(P(we,F(79-u,xe,Ce,C),J[j[u]+Z],D(u)),re[u]),a),we=a,a=C,C=k(Ce,10),Ce=xe,xe=y}var te;y=x(this.h[1],se,C),this.h[1]=x(this.h[2],de,a),this.h[2]=x(this.h[3],le,we),this.h[3]=x(this.h[4],ie,xe),this.h[4]=x(this.h[0],ae,Ce),this.h[0]=y},O.prototype._digest=function(J){return"hex"===J?f.toHex32(this.h,"little"):f.split32(this.h,"little")};var X=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],j=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],G=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],re=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:(je,z,E)=>{"use strict";z.sha1=E(33468),z.sha224=E(5563),z.sha256=E(27138),z.sha384=E(93898),z.sha512=E(10827)},33468:(je,z,E)=>{"use strict";var f=E(68283),_=E(12901),k=E(95542),H=f.rotl32,x=f.sum32,P=f.sum32_5,M=k.ft_1,O=_.BlockHash,F=[1518500249,1859775393,2400959708,3395469782];function L(){if(!(this instanceof L))return new L;O.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}f.inherits(L,O),je.exports=L,L.blockSize=512,L.outSize=160,L.hmacStrength=80,L.padLength=64,L.prototype._update=function(X,j){for(var G=this.W,re=0;re<16;re++)G[re]=X[j+re];for(;re<G.length;re++)G[re]=H(G[re-3]^G[re-8]^G[re-14]^G[re-16],1);var te=this.h[0],J=this.h[1],Z=this.h[2],ie=this.h[3],ae=this.h[4];for(re=0;re<G.length;re++){var se=~~(re/20),de=P(H(te,5),M(se,J,Z,ie),ae,G[re],F[se]);ae=ie,ie=Z,Z=H(J,30),J=te,te=de}this.h[0]=x(this.h[0],te),this.h[1]=x(this.h[1],J),this.h[2]=x(this.h[2],Z),this.h[3]=x(this.h[3],ie),this.h[4]=x(this.h[4],ae)},L.prototype._digest=function(X){return"hex"===X?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},5563:(je,z,E)=>{"use strict";var f=E(68283),_=E(27138);function k(){if(!(this instanceof k))return new k;_.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}f.inherits(k,_),je.exports=k,k.blockSize=512,k.outSize=224,k.hmacStrength=192,k.padLength=64,k.prototype._digest=function(x){return"hex"===x?f.toHex32(this.h.slice(0,7),"big"):f.split32(this.h.slice(0,7),"big")}},27138:(je,z,E)=>{"use strict";var f=E(68283),_=E(12901),k=E(95542),H=E(39210),x=f.sum32,P=f.sum32_4,M=f.sum32_5,O=k.ch32,F=k.maj32,L=k.s0_256,D=k.s1_256,X=k.g0_256,j=k.g1_256,G=_.BlockHash,re=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function te(){if(!(this instanceof te))return new te;G.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=re,this.W=new Array(64)}f.inherits(te,G),je.exports=te,te.blockSize=512,te.outSize=256,te.hmacStrength=192,te.padLength=64,te.prototype._update=function(Z,ie){for(var ae=this.W,se=0;se<16;se++)ae[se]=Z[ie+se];for(;se<ae.length;se++)ae[se]=P(j(ae[se-2]),ae[se-7],X(ae[se-15]),ae[se-16]);var de=this.h[0],le=this.h[1],we=this.h[2],xe=this.h[3],Ce=this.h[4],C=this.h[5],a=this.h[6],u=this.h[7];for(H(this.k.length===ae.length),se=0;se<ae.length;se++){var y=M(u,D(Ce),O(Ce,C,a),this.k[se],ae[se]),g=x(L(de),F(de,le,we));u=a,a=C,C=Ce,Ce=x(xe,y),xe=we,we=le,le=de,de=x(y,g)}this.h[0]=x(this.h[0],de),this.h[1]=x(this.h[1],le),this.h[2]=x(this.h[2],we),this.h[3]=x(this.h[3],xe),this.h[4]=x(this.h[4],Ce),this.h[5]=x(this.h[5],C),this.h[6]=x(this.h[6],a),this.h[7]=x(this.h[7],u)},te.prototype._digest=function(Z){return"hex"===Z?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},93898:(je,z,E)=>{"use strict";var f=E(68283),_=E(10827);function k(){if(!(this instanceof k))return new k;_.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}f.inherits(k,_),je.exports=k,k.blockSize=1024,k.outSize=384,k.hmacStrength=192,k.padLength=128,k.prototype._digest=function(x){return"hex"===x?f.toHex32(this.h.slice(0,12),"big"):f.split32(this.h.slice(0,12),"big")}},10827:(je,z,E)=>{"use strict";var f=E(68283),_=E(12901),k=E(39210),H=f.rotr64_hi,x=f.rotr64_lo,P=f.shr64_hi,M=f.shr64_lo,O=f.sum64,F=f.sum64_hi,L=f.sum64_lo,D=f.sum64_4_hi,X=f.sum64_4_lo,j=f.sum64_5_hi,G=f.sum64_5_lo,re=_.BlockHash,te=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(){if(!(this instanceof J))return new J;re.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=te,this.W=new Array(160)}function Z(y,g,S,T,N){var A=y&S^~y&N;return A<0&&(A+=4294967296),A}function ie(y,g,S,T,N,A){var s=g&T^~g&A;return s<0&&(s+=4294967296),s}function ae(y,g,S,T,N){var A=y&S^y&N^S&N;return A<0&&(A+=4294967296),A}function se(y,g,S,T,N,A){var s=g&T^g&A^T&A;return s<0&&(s+=4294967296),s}function de(y,g){var A=H(y,g,28)^H(g,y,2)^H(g,y,7);return A<0&&(A+=4294967296),A}function le(y,g){var A=x(y,g,28)^x(g,y,2)^x(g,y,7);return A<0&&(A+=4294967296),A}function we(y,g){var A=H(y,g,14)^H(y,g,18)^H(g,y,9);return A<0&&(A+=4294967296),A}function xe(y,g){var A=x(y,g,14)^x(y,g,18)^x(g,y,9);return A<0&&(A+=4294967296),A}function Ce(y,g){var A=H(y,g,1)^H(y,g,8)^P(y,g,7);return A<0&&(A+=4294967296),A}function C(y,g){var A=x(y,g,1)^x(y,g,8)^M(y,g,7);return A<0&&(A+=4294967296),A}function a(y,g){var A=H(y,g,19)^H(g,y,29)^P(y,g,6);return A<0&&(A+=4294967296),A}function u(y,g){var A=x(y,g,19)^x(g,y,29)^M(y,g,6);return A<0&&(A+=4294967296),A}f.inherits(J,re),je.exports=J,J.blockSize=1024,J.outSize=512,J.hmacStrength=192,J.padLength=128,J.prototype._prepareBlock=function(g,S){for(var T=this.W,N=0;N<32;N++)T[N]=g[S+N];for(;N<T.length;N+=2){var A=a(T[N-4],T[N-3]),s=u(T[N-4],T[N-3]),v=T[N-14],W=T[N-13],K=Ce(T[N-30],T[N-29]),ee=C(T[N-30],T[N-29]),ce=T[N-32],_e=T[N-31];T[N]=D(A,s,v,W,K,ee,ce,_e),T[N+1]=X(A,s,v,W,K,ee,ce,_e)}},J.prototype._update=function(g,S){this._prepareBlock(g,S);var T=this.W,N=this.h[0],A=this.h[1],s=this.h[2],v=this.h[3],W=this.h[4],K=this.h[5],ee=this.h[6],ce=this.h[7],_e=this.h[8],Oe=this.h[9],Ve=this.h[10],Se=this.h[11],be=this.h[12],Ue=this.h[13],ye=this.h[14],De=this.h[15];k(this.k.length===T.length);for(var pe=0;pe<T.length;pe+=2){var ue=ye,Q=De,oe=we(_e,Oe),fe=xe(_e,Oe),Ee=Z(_e,0,Ve,0,be),Re=ie(0,Oe,0,Se,0,Ue),$e=this.k[pe],Fe=this.k[pe+1],Et=T[pe],We=T[pe+1],Le=j(ue,Q,oe,fe,Ee,Re,$e,Fe,Et,We),lt=G(ue,Q,oe,fe,Ee,Re,$e,Fe,Et,We);ue=de(N,A),Q=le(N,A),oe=ae(N,0,s,0,W),fe=se(0,A,0,v,0,K);var B=F(ue,Q,oe,fe),w=L(ue,Q,oe,fe);ye=be,De=Ue,be=Ve,Ue=Se,Ve=_e,Se=Oe,_e=F(ee,ce,Le,lt),Oe=L(ce,ce,Le,lt),ee=W,ce=K,W=s,K=v,s=N,v=A,N=F(Le,lt,B,w),A=L(Le,lt,B,w)}O(this.h,0,N,A),O(this.h,2,s,v),O(this.h,4,W,K),O(this.h,6,ee,ce),O(this.h,8,_e,Oe),O(this.h,10,Ve,Se),O(this.h,12,be,Ue),O(this.h,14,ye,De)},J.prototype._digest=function(g){return"hex"===g?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},95542:(je,z,E)=>{"use strict";var _=E(68283).rotr32;function H(D,X,j){return D&X^~D&j}function x(D,X,j){return D&X^D&j^X&j}function P(D,X,j){return D^X^j}z.ft_1=function k(D,X,j,G){return 0===D?H(X,j,G):1===D||3===D?P(X,j,G):2===D?x(X,j,G):void 0},z.ch32=H,z.maj32=x,z.p32=P,z.s0_256=function M(D){return _(D,2)^_(D,13)^_(D,22)},z.s1_256=function O(D){return _(D,6)^_(D,11)^_(D,25)},z.g0_256=function F(D){return _(D,7)^_(D,18)^D>>>3},z.g1_256=function L(D){return _(D,17)^_(D,19)^D>>>10}},68283:(je,z,E)=>{"use strict";var f=E(39210),_=E(71993);function k(u,y){return!(55296!=(64512&u.charCodeAt(y))||y<0||y+1>=u.length)&&56320==(64512&u.charCodeAt(y+1))}function P(u){return(u>>>24|u>>>8&65280|u<<8&16711680|(255&u)<<24)>>>0}function O(u){return 1===u.length?"0"+u:u}function F(u){return 7===u.length?"0"+u:6===u.length?"00"+u:5===u.length?"000"+u:4===u.length?"0000"+u:3===u.length?"00000"+u:2===u.length?"000000"+u:1===u.length?"0000000"+u:u}z.inherits=_,z.toArray=function H(u,y){if(Array.isArray(u))return u.slice();if(!u)return[];var g=[];if("string"==typeof u)if(y){if("hex"===y)for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),T=0;T<u.length;T+=2)g.push(parseInt(u[T]+u[T+1],16))}else for(var S=0,T=0;T<u.length;T++){var N=u.charCodeAt(T);N<128?g[S++]=N:N<2048?(g[S++]=N>>6|192,g[S++]=63&N|128):k(u,T)?(N=65536+((1023&N)<<10)+(1023&u.charCodeAt(++T)),g[S++]=N>>18|240,g[S++]=N>>12&63|128,g[S++]=N>>6&63|128,g[S++]=63&N|128):(g[S++]=N>>12|224,g[S++]=N>>6&63|128,g[S++]=63&N|128)}else for(T=0;T<u.length;T++)g[T]=0|u[T];return g},z.toHex=function x(u){for(var y="",g=0;g<u.length;g++)y+=O(u[g].toString(16));return y},z.htonl=P,z.toHex32=function M(u,y){for(var g="",S=0;S<u.length;S++){var T=u[S];"little"===y&&(T=P(T)),g+=F(T.toString(16))}return g},z.zero2=O,z.zero8=F,z.join32=function L(u,y,g,S){var T=g-y;f(T%4==0);for(var N=new Array(T/4),A=0,s=y;A<N.length;A++,s+=4)N[A]=("big"===S?u[s]<<24|u[s+1]<<16|u[s+2]<<8|u[s+3]:u[s+3]<<24|u[s+2]<<16|u[s+1]<<8|u[s])>>>0;return N},z.split32=function D(u,y){for(var g=new Array(4*u.length),S=0,T=0;S<u.length;S++,T+=4){var N=u[S];"big"===y?(g[T]=N>>>24,g[T+1]=N>>>16&255,g[T+2]=N>>>8&255,g[T+3]=255&N):(g[T+3]=N>>>24,g[T+2]=N>>>16&255,g[T+1]=N>>>8&255,g[T]=255&N)}return g},z.rotr32=function X(u,y){return u>>>y|u<<32-y},z.rotl32=function j(u,y){return u<<y|u>>>32-y},z.sum32=function G(u,y){return u+y>>>0},z.sum32_3=function re(u,y,g){return u+y+g>>>0},z.sum32_4=function te(u,y,g,S){return u+y+g+S>>>0},z.sum32_5=function J(u,y,g,S,T){return u+y+g+S+T>>>0},z.sum64=function Z(u,y,g,S){var A=S+u[y+1]>>>0;u[y]=(A<S?1:0)+g+u[y]>>>0,u[y+1]=A},z.sum64_hi=function ie(u,y,g,S){return(y+S>>>0<y?1:0)+u+g>>>0},z.sum64_lo=function ae(u,y,g,S){return y+S>>>0},z.sum64_4_hi=function se(u,y,g,S,T,N,A,s){var v=0,W=y;return v+=(W=W+S>>>0)<y?1:0,v+=(W=W+N>>>0)<N?1:0,u+g+T+A+(v+=(W=W+s>>>0)<s?1:0)>>>0},z.sum64_4_lo=function de(u,y,g,S,T,N,A,s){return y+S+N+s>>>0},z.sum64_5_hi=function le(u,y,g,S,T,N,A,s,v,W){var K=0,ee=y;return K+=(ee=ee+S>>>0)<y?1:0,K+=(ee=ee+N>>>0)<N?1:0,K+=(ee=ee+s>>>0)<s?1:0,u+g+T+A+v+(K+=(ee=ee+W>>>0)<W?1:0)>>>0},z.sum64_5_lo=function we(u,y,g,S,T,N,A,s,v,W){return y+S+N+s+W>>>0},z.rotr64_hi=function xe(u,y,g){return(y<<32-g|u>>>g)>>>0},z.rotr64_lo=function Ce(u,y,g){return(u<<32-g|y>>>g)>>>0},z.shr64_hi=function C(u,y,g){return u>>>g},z.shr64_lo=function a(u,y,g){return(u<<32-g|y>>>g)>>>0}},33556:(je,z,E)=>{"use strict";var f=E(52529),_=E(21832),k=E(39210);function H(x){if(!(this instanceof H))return new H(x);this.hash=x.hash,this.predResist=!!x.predResist,this.outLen=this.hash.outSize,this.minEntropy=x.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var P=_.toArray(x.entropy,x.entropyEnc||"hex"),M=_.toArray(x.nonce,x.nonceEnc||"hex"),O=_.toArray(x.pers,x.persEnc||"hex");k(P.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(P,M,O)}je.exports=H,H.prototype._init=function(P,M,O){var F=P.concat(M).concat(O);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var L=0;L<this.V.length;L++)this.K[L]=0,this.V[L]=1;this._update(F),this._reseed=1,this.reseedInterval=281474976710656},H.prototype._hmac=function(){return new f.hmac(this.hash,this.K)},H.prototype._update=function(P){var M=this._hmac().update(this.V).update([0]);P&&(M=M.update(P)),this.K=M.digest(),this.V=this._hmac().update(this.V).digest(),P&&(this.K=this._hmac().update(this.V).update([1]).update(P).digest(),this.V=this._hmac().update(this.V).digest())},H.prototype.reseed=function(P,M,O,F){"string"!=typeof M&&(F=O,O=M,M=null),P=_.toArray(P,M),O=_.toArray(O,F),k(P.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(P.concat(O||[])),this._reseed=1},H.prototype.generate=function(P,M,O,F){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof M&&(F=O,O=M,M=null),O&&(O=_.toArray(O,F||"hex"),this._update(O));for(var L=[];L.length<P;)this.V=this._hmac().update(this.V).digest(),L=L.concat(this.V);var D=L.slice(0,P);return this._update(O),this._reseed++,_.encode(D,M)}},22020:(je,z)=>{z.read=function(E,f,_,k,H){var x,P,M=8*H-k-1,O=(1<<M)-1,F=O>>1,L=-7,D=_?H-1:0,X=_?-1:1,j=E[f+D];for(D+=X,x=j&(1<<-L)-1,j>>=-L,L+=M;L>0;x=256*x+E[f+D],D+=X,L-=8);for(P=x&(1<<-L)-1,x>>=-L,L+=k;L>0;P=256*P+E[f+D],D+=X,L-=8);if(0===x)x=1-F;else{if(x===O)return P?NaN:1/0*(j?-1:1);P+=Math.pow(2,k),x-=F}return(j?-1:1)*P*Math.pow(2,x-k)},z.write=function(E,f,_,k,H,x){var P,M,O,F=8*x-H-1,L=(1<<F)-1,D=L>>1,X=23===H?Math.pow(2,-24)-Math.pow(2,-77):0,j=k?0:x-1,G=k?1:-1,re=f<0||0===f&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(M=isNaN(f)?1:0,P=L):(P=Math.floor(Math.log(f)/Math.LN2),f*(O=Math.pow(2,-P))<1&&(P--,O*=2),(f+=P+D>=1?X/O:X*Math.pow(2,1-D))*O>=2&&(P++,O/=2),P+D>=L?(M=0,P=L):P+D>=1?(M=(f*O-1)*Math.pow(2,H),P+=D):(M=f*Math.pow(2,D-1)*Math.pow(2,H),P=0));H>=8;E[_+j]=255&M,j+=G,M/=256,H-=8);for(P=P<<H|M,F+=H;F>0;E[_+j]=255&P,j+=G,P/=256,F-=8);E[_+j-G]|=128*re}},71993:je=>{je.exports="function"==typeof Object.create?function(E,f){f&&(E.super_=f,E.prototype=Object.create(f.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}))}:function(E,f){if(f){E.super_=f;var _=function(){};_.prototype=f.prototype,E.prototype=new _,E.prototype.constructor=E}}},42853:je=>{"use strict";function z(f,_){for(const k in _)Object.defineProperty(f,k,{value:_[k],enumerable:!0,configurable:!0});return f}je.exports=function E(f,_,k){if(!f||"string"==typeof f)throw new TypeError("Please pass an Error to err-code");k||(k={}),"object"==typeof _&&(k=_,_=""),_&&(k.code=_);try{return z(f,k)}catch{k.message=f.message,k.stack=f.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(f)),z(new x,k)}}},5014:je=>{"use strict";function z(f,_){for(const k in _)Object.defineProperty(f,k,{value:_[k],enumerable:!0,configurable:!0});return f}je.exports=function E(f,_,k){if(!f||"string"==typeof f)throw new TypeError("Please pass an Error to err-code");k||(k={}),"object"==typeof _&&(k=_,_=""),_&&(k.code=_);try{return z(f,k)}catch{k.message=f.message,k.stack=f.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(f)),z(new x,k)}}},3087:je=>{"use strict";function z(f,_){for(const k in _)Object.defineProperty(f,k,{value:_[k],enumerable:!0,configurable:!0});return f}je.exports=function E(f,_,k){if(!f||"string"==typeof f)throw new TypeError("Please pass an Error to err-code");k||(k={}),"object"==typeof _&&(k=_,_=""),_&&(k.code=_);try{return z(f,k)}catch{k.message=f.message,k.stack=f.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(f)),z(new x,k)}}},20053:je=>{var z={}.toString;je.exports=Array.isArray||function(E){return"[object Array]"==z.call(E)}},89994:function(je){je.exports=function(){"use strict";var z=Math.imul,E=Math.clz32;function f(le){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(we){return typeof we}:function(we){return we&&"function"==typeof Symbol&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(le)}function k(le,we){for(var xe,Ce=0;Ce<we.length;Ce++)(xe=we[Ce]).enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(le,xe.key,xe)}function P(le){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(we){return we.__proto__||Object.getPrototypeOf(we)})(le)}function M(le,we){return(M=Object.setPrototypeOf||function(xe,Ce){return xe.__proto__=Ce,xe})(le,we)}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(){return(F=O()?Reflect.construct:function(le,we,xe){var Ce=[null];Ce.push.apply(Ce,we);var a=new(Function.bind.apply(le,Ce));return xe&&M(a,xe.prototype),a}).apply(null,arguments)}function D(le){var we="function"==typeof Map?new Map:void 0;return D=function(xe){function Ce(){return F(xe,arguments,P(this).constructor)}if(null===xe||!function L(le){return-1!==Function.toString.call(le).indexOf("[native code]")}(xe))return xe;if("function"!=typeof xe)throw new TypeError("Super expression must either be null or a function");if(typeof we<"u"){if(we.has(xe))return we.get(xe);we.set(xe,Ce)}return Ce.prototype=Object.create(xe.prototype,{constructor:{value:Ce,enumerable:!1,writable:!0,configurable:!0}}),M(Ce,xe)},D(le)}function X(le){if(void 0===le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function G(le){var we=O();return function(){var xe,Ce=P(le);if(we){var C=P(this).constructor;xe=Reflect.construct(Ce,arguments,C)}else xe=Ce.apply(this,arguments);return function j(le,we){if(we&&("object"==typeof we||"function"==typeof we))return we;if(void 0!==we)throw new TypeError("Derived constructors may only return object or undefined");return X(le)}(this,xe)}}function re(le,we){return function te(le){if(Array.isArray(le))return le}(le)||function J(le,we){var xe=null==le?null:typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(null!=xe){var Ce,C,a=[],u=!0,y=!1;try{for(xe=xe.call(le);!(u=(Ce=xe.next()).done)&&(a.push(Ce.value),!we||a.length!==we);u=!0);}catch(g){y=!0,C=g}finally{try{u||null==xe.return||xe.return()}finally{if(y)throw C}}return a}}(le,we)||Z(le,we)||function ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(le,we){if(le){if("string"==typeof le)return ie(le,we);var xe=Object.prototype.toString.call(le).slice(8,-1);return"Object"===xe&&le.constructor&&(xe=le.constructor.name),"Map"===xe||"Set"===xe?Array.from(le):"Arguments"===xe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe)?ie(le,we):void 0}}function ie(le,we){(null==we||we>le.length)&&(we=le.length);for(var xe=0,Ce=Array(we);xe<we;xe++)Ce[xe]=le[xe];return Ce}var de=function(le){var we=Math.abs,xe=Math.max,Ce=Math.floor;function C(u,y){var g;if(function _(le,we){if(!(le instanceof we))throw new TypeError("Cannot call a class as a function")}(this,C),(g=a.call(this,u)).sign=y,Object.setPrototypeOf(X(g),C.prototype),u>C.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return g}!function x(le,we){if("function"!=typeof we&&null!==we)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(we&&we.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Object.defineProperty(le,"prototype",{writable:!1}),we&&M(le,we)}(C,le);var a=G(C);return function H(le,we,xe){return we&&k(le.prototype,we),xe&&k(le,xe),Object.defineProperty(le,"prototype",{writable:!1}),le}(C,[{key:"toDebugString",value:function(){var u,y=["BigInt["],g=function se(le,we){var xe=typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(!xe){if(Array.isArray(le)||(xe=Z(le))||we&&le&&"number"==typeof le.length){xe&&(le=xe);var Ce=0,C=function(){};return{s:C,n:function(){return Ce>=le.length?{done:!0}:{done:!1,value:le[Ce++]}},e:function(g){throw g},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,y=!1;return{s:function(){xe=xe.call(le)},n:function(){var g=xe.next();return u=g.done,g},e:function(g){y=!0,a=g},f:function(){try{u||null==xe.return||xe.return()}finally{if(y)throw a}}}}(this);try{for(g.s();!(u=g.n()).done;){var S=u.value;y.push((S&&(S>>>0).toString(16))+", ")}}catch(T){g.e(T)}finally{g.f()}return y.push("]"),y.join("")}},{key:"toString",value:function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>u||36<u)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":u&u-1?C.__toStringGeneric(this,u,!1):C.__toStringBasePowerOfTwo(this,u)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var u=new C(this.length,this.sign),y=0;y<this.length;y++)u[y]=this[y];return u}},{key:"__trim",value:function(){for(var u=this.length,y=this[u-1];0===y;)y=this[--u-1],this.pop();return 0===u&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var u=0;u<this.length;u++)this[u]=0}},{key:"__clzmsd",value:function(){return C.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(u,y,g){g>this.length&&(g=this.length);for(var S=32767&u,T=u>>>15,N=0,A=y,s=0;s<g;s++){var v=this.__digit(s),W=32767&v,K=v>>>15,ee=C.__imul(W,S),ce=C.__imul(W,T),_e=C.__imul(K,S),Ve=A+ee+N;N=Ve>>>30,Ve&=1073741823,N+=(Ve+=((32767&ce)<<15)+((32767&_e)<<15))>>>30,A=C.__imul(K,T)+(ce>>>15)+(_e>>>15),this.__setDigit(s,1073741823&Ve)}if(0!==N||0!==A)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(u,y,g){for(var S,T=0,N=0;N<g;N++)T=(S=this.__halfDigit(y+N)+u.__halfDigit(N)+T)>>>15,this.__setHalfDigit(y+N,32767&S);return T}},{key:"__inplaceSub",value:function(u,y,g){var S=0;if(1&y){for(var T=this.__digit(y>>=1),N=32767&T,A=0;A<g-1>>>1;A++){var s=u.__digit(A),v=(T>>>15)-(32767&s)-S;S=1&v>>>15,this.__setDigit(y+A,(32767&v)<<15|32767&N),S=1&(N=(32767&(T=this.__digit(y+A+1)))-(s>>>15)-S)>>>15}var W=u.__digit(A),K=(T>>>15)-(32767&W)-S;if(S=1&K>>>15,this.__setDigit(y+A,(32767&K)<<15|32767&N),y+A+1>=this.length)throw new RangeError("out of bounds");!(1&g)&&(S=1&(N=(32767&(T=this.__digit(y+A+1)))-(W>>>15)-S)>>>15,this.__setDigit(y+u.length,1073709056&T|32767&N))}else{y>>=1;for(var ee=0;ee<u.length-1;ee++){var ce=this.__digit(y+ee),_e=u.__digit(ee),Oe=(32767&ce)-(32767&_e)-S,Ve=(ce>>>15)-(_e>>>15)-(S=1&Oe>>>15);S=1&Ve>>>15,this.__setDigit(y+ee,(32767&Ve)<<15|32767&Oe)}var Se=this.__digit(y+ee),be=u.__digit(ee),Ue=(32767&Se)-(32767&be)-S;S=1&Ue>>>15;var ye=0;!(1&g)&&(S=1&(ye=(Se>>>15)-(be>>>15)-S)>>>15),this.__setDigit(y+ee,(32767&ye)<<15|32767&Ue)}return S}},{key:"__inplaceRightShift",value:function(u){if(0!==u){for(var y,g=this.__digit(0)>>>u,S=this.length-1,T=0;T<S;T++)y=this.__digit(T+1),this.__setDigit(T,1073741823&y<<30-u|g),g=y>>>u;this.__setDigit(S,g)}}},{key:"__digit",value:function(u){return this[u]}},{key:"__unsignedDigit",value:function(u){return this[u]>>>0}},{key:"__setDigit",value:function(u,y){this[u]=0|y}},{key:"__setDigitGrow",value:function(u,y){this[u]=0|y}},{key:"__halfDigitLength",value:function(){var u=this.length;return 32767>=this.__unsignedDigit(u-1)?2*u-1:2*u}},{key:"__halfDigit",value:function(u){return 32767&this[u>>>1]>>>15*(1&u)}},{key:"__setHalfDigit",value:function(u,y){var g=u>>>1,S=this.__digit(g);this.__setDigit(g,1&u?32767&S|y<<15:1073709056&S|32767&y)}}],[{key:"BigInt",value:function(u){var y=Number.isFinite;if("number"==typeof u){if(0===u)return C.__zero();if(C.__isOneDigitInt(u))return 0>u?C.__oneDigit(-u,!0):C.__oneDigit(u,!1);if(!y(u)||Ce(u)!==u)throw new RangeError("The number "+u+" cannot be converted to BigInt because it is not an integer");return C.__fromDouble(u)}if("string"==typeof u){var g=C.__fromString(u);if(null===g)throw new SyntaxError("Cannot convert "+u+" to a BigInt");return g}if("boolean"==typeof u)return!0===u?C.__oneDigit(1,!1):C.__zero();if("object"===f(u)){if(u.constructor===C)return u;var S=C.__toPrimitive(u);return C.BigInt(S)}throw new TypeError("Cannot convert "+u+" to a BigInt")}},{key:"toNumber",value:function(u){var y=u.length;if(0===y)return 0;if(1===y){var g=u.__unsignedDigit(0);return u.sign?-g:g}var S=u.__digit(y-1),T=C.__clz30(S),N=30*y-T;if(1024<N)return u.sign?-1/0:1/0;var A=N-1,s=S,v=y-1,W=T+3,K=32===W?0:s<<W;K>>>=12;var ee=W-12,ce=12<=W?0:s<<20+W,_e=20+W;for(0<ee&&0<v&&(v--,K|=(s=u.__digit(v))>>>30-ee,ce=s<<ee+2,_e=ee+2);0<_e&&0<v;)v--,s=u.__digit(v),ce|=30<=_e?s<<_e-30:s>>>30-_e,_e-=30;var Oe=C.__decideRounding(u,_e,v,s);return 1!==Oe&&(0!==Oe||1&~ce)||0!=(ce=ce+1>>>0)||!(++K>>>20!=0&&(K=0,1023<++A))?(C.__kBitConversionInts[1]=(u.sign?-2147483648:0)|(A=A+1023<<20)|K,C.__kBitConversionInts[0]=ce,C.__kBitConversionDouble[0]):u.sign?-1/0:1/0}},{key:"unaryMinus",value:function(u){if(0===u.length)return u;var y=u.__copy();return y.sign=!u.sign,y}},{key:"bitwiseNot",value:function(u){return u.sign?C.__absoluteSubOne(u).__trim():C.__absoluteAddOne(u,!0)}},{key:"exponentiate",value:function(u,y){if(y.sign)throw new RangeError("Exponent must be positive");if(0===y.length)return C.__oneDigit(1,!1);if(0===u.length)return u;if(1===u.length&&1===u.__digit(0))return!u.sign||1&y.__digit(0)?u:C.unaryMinus(u);if(1<y.length)throw new RangeError("BigInt too big");var g=y.__unsignedDigit(0);if(1===g)return u;if(g>=C.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===u.length&&2===u.__digit(0)){var S=1+(0|g/30),N=new C(S,u.sign&&!!(1&g));return N.__initializeDigits(),N.__setDigit(S-1,1<<g%30),N}var s=null,v=u;for(1&g&&(s=u),g>>=1;0!==g;g>>=1)v=C.multiply(v,v),1&g&&(s=null===s?v:C.multiply(s,v));return s}},{key:"multiply",value:function(u,y){if(0===u.length)return u;if(0===y.length)return y;var g=u.length+y.length;30<=u.__clzmsd()+y.__clzmsd()&&g--;var S=new C(g,u.sign!==y.sign);S.__initializeDigits();for(var T=0;T<u.length;T++)C.__multiplyAccumulate(y,u.__digit(T),S,T);return S.__trim()}},{key:"divide",value:function(u,y){if(0===y.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(u,y))return C.__zero();var g,S=u.sign!==y.sign,T=y.__unsignedDigit(0);if(1===y.length&&32767>=T){if(1===T)return S===u.sign?u:C.unaryMinus(u);g=C.__absoluteDivSmall(u,T,null)}else g=C.__absoluteDivLarge(u,y,!0,!1);return g.sign=S,g.__trim()}},{key:"remainder",value:function(y,g){if(0===g.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(y,g))return y;var S=g.__unsignedDigit(0);if(1===g.length&&32767>=S){if(1===S)return C.__zero();var T=C.__absoluteModSmall(y,S);return 0===T?C.__zero():C.__oneDigit(T,y.sign)}var N=C.__absoluteDivLarge(y,g,!1,!0);return N.sign=y.sign,N.__trim()}},{key:"add",value:function(u,y){var g=u.sign;return g===y.sign?C.__absoluteAdd(u,y,g):0<=C.__absoluteCompare(u,y)?C.__absoluteSub(u,y,g):C.__absoluteSub(y,u,!g)}},{key:"subtract",value:function(u,y){var g=u.sign;return g===y.sign?0<=C.__absoluteCompare(u,y)?C.__absoluteSub(u,y,g):C.__absoluteSub(y,u,!g):C.__absoluteAdd(u,y,g)}},{key:"leftShift",value:function(u,y){return 0===y.length||0===u.length?u:y.sign?C.__rightShiftByAbsolute(u,y):C.__leftShiftByAbsolute(u,y)}},{key:"signedRightShift",value:function(u,y){return 0===y.length||0===u.length?u:y.sign?C.__leftShiftByAbsolute(u,y):C.__rightShiftByAbsolute(u,y)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(u,y){return 0>C.__compareToBigInt(u,y)}},{key:"lessThanOrEqual",value:function(u,y){return 0>=C.__compareToBigInt(u,y)}},{key:"greaterThan",value:function(u,y){return 0<C.__compareToBigInt(u,y)}},{key:"greaterThanOrEqual",value:function(u,y){return 0<=C.__compareToBigInt(u,y)}},{key:"equal",value:function(u,y){if(u.sign!==y.sign||u.length!==y.length)return!1;for(var g=0;g<u.length;g++)if(u.__digit(g)!==y.__digit(g))return!1;return!0}},{key:"notEqual",value:function(u,y){return!C.equal(u,y)}},{key:"bitwiseAnd",value:function(u,y){if(!u.sign&&!y.sign)return C.__absoluteAnd(u,y).__trim();if(u.sign&&y.sign){var g=xe(u.length,y.length)+1,S=C.__absoluteSubOne(u,g),T=C.__absoluteSubOne(y);return S=C.__absoluteOr(S,T,S),C.__absoluteAddOne(S,!0,S).__trim()}if(u.sign){var N=[y,u];u=N[0],y=N[1]}return C.__absoluteAndNot(u,C.__absoluteSubOne(y)).__trim()}},{key:"bitwiseXor",value:function(u,y){if(!u.sign&&!y.sign)return C.__absoluteXor(u,y).__trim();if(u.sign&&y.sign){var g=xe(u.length,y.length),S=C.__absoluteSubOne(u,g),T=C.__absoluteSubOne(y);return C.__absoluteXor(S,T,S).__trim()}var N=xe(u.length,y.length)+1;if(u.sign){var A=[y,u];u=A[0],y=A[1]}var s=C.__absoluteSubOne(y,N);return s=C.__absoluteXor(s,u,s),C.__absoluteAddOne(s,!0,s).__trim()}},{key:"bitwiseOr",value:function(u,y){var g=xe(u.length,y.length);if(!u.sign&&!y.sign)return C.__absoluteOr(u,y).__trim();if(u.sign&&y.sign){var S=C.__absoluteSubOne(u,g),T=C.__absoluteSubOne(y);return S=C.__absoluteAnd(S,T,S),C.__absoluteAddOne(S,!0,S).__trim()}if(u.sign){var N=[y,u];u=N[0],y=N[1]}var A=C.__absoluteSubOne(y,g);return A=C.__absoluteAndNot(A,u,A),C.__absoluteAddOne(A,!0,A).__trim()}},{key:"asIntN",value:function(u,y){if(0===y.length)return y;if(0>(u=Ce(u)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===u)return C.__zero();if(u>=C.__kMaxLengthBits)return y;var g=0|(u+29)/30;if(y.length<g)return y;var S=y.__unsignedDigit(g-1),T=1<<(u-1)%30;if(y.length===g&&S<T)return y;if((S&T)!==T)return C.__truncateToNBits(u,y);if(!y.sign)return C.__truncateAndSubFromPowerOfTwo(u,y,!0);if(!(S&T-1)){for(var N=g-2;0<=N;N--)if(0!==y.__digit(N))return C.__truncateAndSubFromPowerOfTwo(u,y,!1);return y.length===g&&S===T?y:C.__truncateToNBits(u,y)}return C.__truncateAndSubFromPowerOfTwo(u,y,!1)}},{key:"asUintN",value:function(u,y){if(0===y.length)return y;if(0>(u=Ce(u)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===u)return C.__zero();if(y.sign){if(u>C.__kMaxLengthBits)throw new RangeError("BigInt too big");return C.__truncateAndSubFromPowerOfTwo(u,y,!1)}if(u>=C.__kMaxLengthBits)return y;var g=0|(u+29)/30;if(y.length<g)return y;var S=u%30;if(y.length==g){if(0===S)return y;if(!(y.__digit(g-1)>>>S))return y}return C.__truncateToNBits(u,y)}},{key:"ADD",value:function(u,y){if(u=C.__toPrimitive(u),y=C.__toPrimitive(y),"string"==typeof u)return"string"!=typeof y&&(y=y.toString()),u+y;if("string"==typeof y)return u.toString()+y;if(u=C.__toNumeric(u),y=C.__toNumeric(y),C.__isBigInt(u)&&C.__isBigInt(y))return C.add(u,y);if("number"==typeof u&&"number"==typeof y)return u+y;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(u,y){return C.__compare(u,y,0)}},{key:"LE",value:function(u,y){return C.__compare(u,y,1)}},{key:"GT",value:function(u,y){return C.__compare(u,y,2)}},{key:"GE",value:function(u,y){return C.__compare(u,y,3)}},{key:"EQ",value:function(u,y){for(;;){if(C.__isBigInt(u))return C.__isBigInt(y)?C.equal(u,y):C.EQ(y,u);if("number"==typeof u){if(C.__isBigInt(y))return C.__equalToNumber(y,u);if("object"!==f(y))return u==y;y=C.__toPrimitive(y)}else if("string"==typeof u){if(C.__isBigInt(y))return null!==(u=C.__fromString(u))&&C.equal(u,y);if("object"!==f(y))return u==y;y=C.__toPrimitive(y)}else if("boolean"==typeof u){if(C.__isBigInt(y))return C.__equalToNumber(y,+u);if("object"!==f(y))return u==y;y=C.__toPrimitive(y)}else if("symbol"===f(u)){if(C.__isBigInt(y))return!1;if("object"!==f(y))return u==y;y=C.__toPrimitive(y)}else{if("object"!==f(u))return u==y;if("object"===f(y)&&y.constructor!==C)return u==y;u=C.__toPrimitive(u)}}}},{key:"NE",value:function(u,y){return!C.EQ(u,y)}},{key:"DataViewGetBigInt64",value:function(u,y){return C.asIntN(64,C.DataViewGetBigUint64(u,y,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]&&arguments[2],T=re(g?[4,0]:[0,4],2),A=T[1],s=u.getUint32(y+T[0],g),v=u.getUint32(y+A,g),W=new C(3,!1);return W.__setDigit(0,1073741823&v),W.__setDigit(1,(268435455&s)<<2|v>>>30),W.__setDigit(2,s>>>28),W.__trim()}},{key:"DataViewSetBigInt64",value:function(u,y,g){C.DataViewSetBigUint64(u,y,g,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(u,y,g){var S=3<arguments.length&&void 0!==arguments[3]&&arguments[3],T=0,N=0;if(0<(g=C.asUintN(64,g)).length&&(N=g.__digit(0),1<g.length)){var A=g.__digit(1);N|=A<<30,T=A>>>2,2<g.length&&(T|=g.__digit(2)<<28)}var v=re(S?[4,0]:[0,4],2),K=v[1];u.setUint32(y+v[0],T,S),u.setUint32(y+K,N,S)}},{key:"__zero",value:function(){return new C(0,!1)}},{key:"__oneDigit",value:function(u,y){var g=new C(1,y);return g.__setDigit(0,u),g}},{key:"__decideRounding",value:function(u,y,g,S){if(0<y)return-1;var T;if(0>y)T=-y-1;else{if(0===g)return-1;g--,S=u.__digit(g),T=29}var N=1<<T;if(!(S&N))return-1;if(S&(N-=1))return 1;for(;0<g;)if(g--,0!==u.__digit(g))return 1;return 0}},{key:"__fromDouble",value:function(u){C.__kBitConversionDouble[0]=u;var y,S=(2047&C.__kBitConversionInts[1]>>>20)-1023,T=1+(0|S/30),N=new C(T,0>u),A=1048575&C.__kBitConversionInts[1]|1048576,s=C.__kBitConversionInts[0],W=S%30,K=0;if(W<20){var ee=20-W;K=ee+32,y=A>>>ee,A=A<<32-ee|s>>>ee,s<<=32-ee}else if(20===W)K=32,y=A,A=s,s=0;else{var ce=W-20;K=32-ce,y=A<<ce|s>>>32-ce,A=s<<ce,s=0}N.__setDigit(T-1,y);for(var _e=T-2;0<=_e;_e--)0<K?(K-=30,y=A>>>2,A=A<<30|s>>>2,s<<=30):y=0,N.__setDigit(_e,y);return N.__trim()}},{key:"__isWhitespace",value:function(u){return 13>=u&&9<=u||(159>=u?32==u:131071>=u?160==u||5760==u:196607>=u?10>=(u&=131071)||40==u||41==u||47==u||95==u||4096==u:65279==u)}},{key:"__fromString",value:function(u){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,g=0,S=u.length,T=0;if(T===S)return C.__zero();for(var N=u.charCodeAt(T);C.__isWhitespace(N);){if(++T===S)return C.__zero();N=u.charCodeAt(T)}if(43===N){if(++T===S)return null;N=u.charCodeAt(T),g=1}else if(45===N){if(++T===S)return null;N=u.charCodeAt(T),g=-1}if(0===y){if(y=10,48===N){if(++T===S)return C.__zero();if(88===(N=u.charCodeAt(T))||120===N){if(y=16,++T===S)return null;N=u.charCodeAt(T)}else if(79===N||111===N){if(y=8,++T===S)return null;N=u.charCodeAt(T)}else if(66===N||98===N){if(y=2,++T===S)return null;N=u.charCodeAt(T)}}}else if(16===y&&48===N){if(++T===S)return C.__zero();if(88===(N=u.charCodeAt(T))||120===N){if(++T===S)return null;N=u.charCodeAt(T)}}if(0!==g&&10!==y)return null;for(;48===N;){if(++T===S)return C.__zero();N=u.charCodeAt(T)}var A=S-T,s=C.__kMaxBitsPerChar[y],v=C.__kBitsPerCharTableMultiplier-1;if(A>1073741824/s)return null;var K=new C(0|(29+(s*A+v>>>C.__kBitsPerCharTableShift))/30,!1),ee=10>y?y:10,ce=10<y?y-10:0;if(y&y-1){K.__initializeDigits();var ye=!1,De=0;do{for(var pe,ue=0,Q=1;;){if(pe=void 0,N-48>>>0<ee)pe=N-48;else{if(!((32|N)-97>>>0<ce)){ye=!0;break}pe=(32|N)-87}var oe=Q*y;if(1073741823<oe)break;if(Q=oe,ue=ue*y+pe,De++,++T===S){ye=!0;break}N=u.charCodeAt(T)}K.__inplaceMultiplyAdd(Q,ue,0|(s*De+(v=30*C.__kBitsPerCharTableMultiplier-1)>>>C.__kBitsPerCharTableShift)/30)}while(!ye)}else{s>>=C.__kBitsPerCharTableShift;var _e=[],Oe=[],Ve=!1;do{for(var Se,be=0,Ue=0;;){if(Se=void 0,N-48>>>0<ee)Se=N-48;else{if(!((32|N)-97>>>0<ce)){Ve=!0;break}Se=(32|N)-87}if(Ue+=s,be=be<<s|Se,++T===S){Ve=!0;break}if(N=u.charCodeAt(T),30<Ue+s)break}_e.push(be),Oe.push(Ue)}while(!Ve);C.__fillFromParts(K,_e,Oe)}if(T!==S){if(!C.__isWhitespace(N))return null;for(T++;T<S;T++)if(N=u.charCodeAt(T),!C.__isWhitespace(N))return null}return K.sign=-1===g,K.__trim()}},{key:"__fillFromParts",value:function(u,y,g){for(var S=0,T=0,N=0,A=y.length-1;0<=A;A--){var s=y[A],v=g[A];T|=s<<N,30===(N+=v)?(u.__setDigit(S++,T),N=0,T=0):30<N&&(u.__setDigit(S++,1073741823&T),T=s>>>v-(N-=30))}if(0!==T){if(S>=u.length)throw new Error("implementation bug");u.__setDigit(S++,T)}for(;S<u.length;S++)u.__setDigit(S,0)}},{key:"__toStringBasePowerOfTwo",value:function(u,y){var g=u.length,S=y-1,T=S=(15&(S=(51&(S=(85&S>>>1)+(85&S))>>>2)+(51&S))>>>4)+(15&S),N=y-1,A=u.__digit(g-1),v=0|(30*g-C.__clz30(A)+T-1)/T;if(u.sign&&v++,268435456<v)throw new Error("string too long");for(var W=Array(v),K=v-1,ee=0,ce=0,_e=0;_e<g-1;_e++){var Oe=u.__digit(_e);W[K--]=C.__kConversionChars[(ee|Oe<<ce)&N];var Se=T-ce;for(ee=Oe>>>Se,ce=30-Se;ce>=T;)W[K--]=C.__kConversionChars[ee&N],ee>>>=T,ce-=T}for(W[K--]=C.__kConversionChars[(ee|A<<ce)&N],ee=A>>>T-ce;0!==ee;)W[K--]=C.__kConversionChars[ee&N],ee>>>=T;if(u.sign&&(W[K--]="-"),-1!==K)throw new Error("implementation bug");return W.join("")}},{key:"__toStringGeneric",value:function(u,y,g){var S=u.length;if(0===S)return"";if(1===S){var T=u.__unsignedDigit(0).toString(y);return!1===g&&u.sign&&(T="-"+T),T}var W,K,N=30*S-C.__clz30(u.__digit(S-1)),s=C.__kMaxBitsPerChar[y]-1,v=N*C.__kBitsPerCharTableMultiplier,ee=1+(v=0|(v+=s-1)/s)>>1,ce=C.exponentiate(C.__oneDigit(y,!1),C.__oneDigit(ee,!1)),_e=ce.__unsignedDigit(0);if(1===ce.length&&32767>=_e){(W=new C(u.length,!1)).__initializeDigits();for(var Oe,Ve=0,Se=2*u.length-1;0<=Se;Se--)Oe=Ve<<15|u.__halfDigit(Se),W.__setHalfDigit(Se,0|Oe/_e),Ve=0|Oe%_e;K=Ve.toString(y)}else{var be=C.__absoluteDivLarge(u,ce,!0,!0);W=be.quotient;var Ue=be.remainder.__trim();K=C.__toStringGeneric(Ue,y,!0)}W.__trim();for(var ye=C.__toStringGeneric(W,y,!0);K.length<ee;)K="0"+K;return!1===g&&u.sign&&(ye="-"+ye),ye+K}},{key:"__unequalSign",value:function(u){return u?-1:1}},{key:"__absoluteGreater",value:function(u){return u?-1:1}},{key:"__absoluteLess",value:function(u){return u?1:-1}},{key:"__compareToBigInt",value:function(u,y){var g=u.sign;if(g!==y.sign)return C.__unequalSign(g);var S=C.__absoluteCompare(u,y);return 0<S?C.__absoluteGreater(g):0>S?C.__absoluteLess(g):0}},{key:"__compareToNumber",value:function(u,y){if(C.__isOneDigitInt(y)){var g=u.sign,S=0>y;if(g!==S)return C.__unequalSign(g);if(0===u.length){if(S)throw new Error("implementation bug");return 0===y?0:-1}if(1<u.length)return C.__absoluteGreater(g);var T=we(y),N=u.__unsignedDigit(0);return N>T?C.__absoluteGreater(g):N<T?C.__absoluteLess(g):0}return C.__compareToDouble(u,y)}},{key:"__compareToDouble",value:function(u,y){if(y!=y)return y;if(y===1/0)return-1;if(y===-1/0)return 1;var g=u.sign;if(g!==0>y)return C.__unequalSign(g);if(0===y)throw new Error("implementation bug: should be handled elsewhere");if(0===u.length)return-1;C.__kBitConversionDouble[0]=y;var S=2047&C.__kBitConversionInts[1]>>>20;if(2047==S)throw new Error("implementation bug: handled elsewhere");var T=S-1023;if(0>T)return C.__absoluteGreater(g);var N=u.length,A=u.__digit(N-1),s=C.__clz30(A),v=30*N-s,W=T+1;if(v<W)return C.__absoluteLess(g);if(v>W)return C.__absoluteGreater(g);var K=1048576|1048575&C.__kBitConversionInts[1],ee=C.__kBitConversionInts[0],_e=29-s;if(_e!==(0|(v-1)%30))throw new Error("implementation bug");var Oe,Ve=0;if(_e<20){var Se=20-_e;Ve=Se+32,Oe=K>>>Se,K=K<<32-Se|ee>>>Se,ee<<=32-Se}else if(20===_e)Ve=32,Oe=K,K=ee,ee=0;else{var be=_e-20;Ve=32-be,Oe=K<<be|ee>>>32-be,K=ee<<be,ee=0}if((A>>>=0)>(Oe>>>=0))return C.__absoluteGreater(g);if(A<Oe)return C.__absoluteLess(g);for(var Ue=N-2;0<=Ue;Ue--){0<Ve?(Ve-=30,Oe=K>>>2,K=K<<30|ee>>>2,ee<<=30):Oe=0;var ye=u.__unsignedDigit(Ue);if(ye>Oe)return C.__absoluteGreater(g);if(ye<Oe)return C.__absoluteLess(g)}if(0!==K||0!==ee){if(0===Ve)throw new Error("implementation bug");return C.__absoluteLess(g)}return 0}},{key:"__equalToNumber",value:function(u,y){return C.__isOneDigitInt(y)?0===y?0===u.length:1===u.length&&u.sign===0>y&&u.__unsignedDigit(0)===we(y):0===C.__compareToDouble(u,y)}},{key:"__comparisonResultToBool",value:function(u,y){return 0===y?0>u:1===y?0>=u:2===y?0<u:3===y?0<=u:void 0}},{key:"__compare",value:function(u,y,g){if(u=C.__toPrimitive(u),y=C.__toPrimitive(y),"string"==typeof u&&"string"==typeof y)switch(g){case 0:return u<y;case 1:return u<=y;case 2:return u>y;case 3:return u>=y}if(C.__isBigInt(u)&&"string"==typeof y)return null!==(y=C.__fromString(y))&&C.__comparisonResultToBool(C.__compareToBigInt(u,y),g);if("string"==typeof u&&C.__isBigInt(y))return null!==(u=C.__fromString(u))&&C.__comparisonResultToBool(C.__compareToBigInt(u,y),g);if(u=C.__toNumeric(u),y=C.__toNumeric(y),C.__isBigInt(u)){if(C.__isBigInt(y))return C.__comparisonResultToBool(C.__compareToBigInt(u,y),g);if("number"!=typeof y)throw new Error("implementation bug");return C.__comparisonResultToBool(C.__compareToNumber(u,y),g)}if("number"!=typeof u)throw new Error("implementation bug");if(C.__isBigInt(y))return C.__comparisonResultToBool(C.__compareToNumber(y,u),2^g);if("number"!=typeof y)throw new Error("implementation bug");return 0===g?u<y:1===g?u<=y:2===g?u>y:3===g?u>=y:void 0}},{key:"__absoluteAdd",value:function(u,y,g){if(u.length<y.length)return C.__absoluteAdd(y,u,g);if(0===u.length)return u;if(0===y.length)return u.sign===g?u:C.unaryMinus(u);var S=u.length;(0===u.__clzmsd()||y.length===u.length&&0===y.__clzmsd())&&S++;for(var T,N=new C(S,g),A=0,s=0;s<y.length;s++)A=(T=u.__digit(s)+y.__digit(s)+A)>>>30,N.__setDigit(s,1073741823&T);for(;s<u.length;s++){var v=u.__digit(s)+A;A=v>>>30,N.__setDigit(s,1073741823&v)}return s<N.length&&N.__setDigit(s,A),N.__trim()}},{key:"__absoluteSub",value:function(u,y,g){if(0===u.length)return u;if(0===y.length)return u.sign===g?u:C.unaryMinus(u);for(var S,T=new C(u.length,g),N=0,A=0;A<y.length;A++)N=1&(S=u.__digit(A)-y.__digit(A)-N)>>>30,T.__setDigit(A,1073741823&S);for(;A<u.length;A++){var s=u.__digit(A)-N;N=1&s>>>30,T.__setDigit(A,1073741823&s)}return T.__trim()}},{key:"__absoluteAddOne",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,S=u.length;null===g?g=new C(S,y):g.sign=y;for(var T,N=1,A=0;A<S;A++)N=(T=u.__digit(A)+N)>>>30,g.__setDigit(A,1073741823&T);return 0!==N&&g.__setDigitGrow(S,1),g}},{key:"__absoluteSubOne",value:function(u,y){for(var S,g=u.length,T=new C(y=y||g,!1),N=1,A=0;A<g;A++)N=1&(S=u.__digit(A)-N)>>>30,T.__setDigit(A,1073741823&S);if(0!==N)throw new Error("implementation bug");for(var s=g;s<y;s++)T.__setDigit(s,0);return T}},{key:"__absoluteAnd",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,S=u.length,T=y.length,N=T;if(S<T){N=S;var A=u,s=S;u=y,S=T,y=A,T=s}var v=N;null===g?g=new C(v,!1):v=g.length;for(var W=0;W<N;W++)g.__setDigit(W,u.__digit(W)&y.__digit(W));for(;W<v;W++)g.__setDigit(W,0);return g}},{key:"__absoluteAndNot",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,S=u.length,T=y.length,N=T;S<T&&(N=S);var A=S;null===g?g=new C(A,!1):A=g.length;for(var s=0;s<N;s++)g.__setDigit(s,u.__digit(s)&~y.__digit(s));for(;s<S;s++)g.__setDigit(s,u.__digit(s));for(;s<A;s++)g.__setDigit(s,0);return g}},{key:"__absoluteOr",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,S=u.length,T=y.length,N=T;if(S<T){N=S;var A=u,s=S;u=y,S=T,y=A,T=s}var v=S;null===g?g=new C(v,!1):v=g.length;for(var W=0;W<N;W++)g.__setDigit(W,u.__digit(W)|y.__digit(W));for(;W<S;W++)g.__setDigit(W,u.__digit(W));for(;W<v;W++)g.__setDigit(W,0);return g}},{key:"__absoluteXor",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,S=u.length,T=y.length,N=T;if(S<T){N=S;var A=u,s=S;u=y,S=T,y=A,T=s}var v=S;null===g?g=new C(v,!1):v=g.length;for(var W=0;W<N;W++)g.__setDigit(W,u.__digit(W)^y.__digit(W));for(;W<S;W++)g.__setDigit(W,u.__digit(W));for(;W<v;W++)g.__setDigit(W,0);return g}},{key:"__absoluteCompare",value:function(u,y){var g=u.length-y.length;if(0!=g)return g;for(var S=u.length-1;0<=S&&u.__digit(S)===y.__digit(S);)S--;return 0>S?0:u.__unsignedDigit(S)>y.__unsignedDigit(S)?1:-1}},{key:"__multiplyAccumulate",value:function(u,y,g,S){if(0!==y){for(var T=32767&y,N=y>>>15,A=0,s=0,v=0;v<u.length;v++,S++){var W=g.__digit(S),K=u.__digit(v),ee=32767&K,ce=K>>>15,_e=C.__imul(ee,T),Oe=C.__imul(ee,N),Ve=C.__imul(ce,T);A=(W+=s+_e+A)>>>30,W&=1073741823,A+=(W+=((32767&Oe)<<15)+((32767&Ve)<<15))>>>30,s=C.__imul(ce,N)+(Oe>>>15)+(Ve>>>15),g.__setDigit(S,1073741823&W)}for(;0!==A||0!==s;S++){var be=g.__digit(S);be+=A+s,s=0,A=be>>>30,g.__setDigit(S,1073741823&be)}}}},{key:"__internalMultiplyAdd",value:function(u,y,g,S,T){for(var N=g,A=0,s=0;s<S;s++){var v=u.__digit(s),W=C.__imul(32767&v,y),K=C.__imul(v>>>15,y),ee=W+((32767&K)<<15)+A+N;N=ee>>>30,A=K>>>15,T.__setDigit(s,1073741823&ee)}if(T.length>S)for(T.__setDigit(S++,N+A);S<T.length;)T.__setDigit(S++,0);else if(N+A!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===g&&(g=new C(u.length,!1));for(var S=0,T=2*u.length-1;0<=T;T-=2){var N=(S<<15|u.__halfDigit(T))>>>0,A=0|N/y;S=0|(N=((S=0|N%y)<<15|u.__halfDigit(T-1))>>>0)%y,g.__setDigit(T>>>1,A<<15|N/y)}return g}},{key:"__absoluteModSmall",value:function(u,y){for(var S=0,T=2*u.length-1;0<=T;T--)S=0|((S<<15|u.__halfDigit(T))>>>0)%y;return S}},{key:"__absoluteDivLarge",value:function(u,y,g,S){var T=y.__halfDigitLength(),N=y.length,A=u.__halfDigitLength()-T,s=null;g&&(s=new C(A+2>>>1,!1)).__initializeDigits();var v=new C(T+2>>>1,!1);v.__initializeDigits();var W=C.__clz15(y.__halfDigit(T-1));0<W&&(y=C.__specialLeftShift(y,W,0));for(var K=C.__specialLeftShift(u,W,1),ee=y.__halfDigit(T-1),ce=0,_e=A;0<=_e;_e--){var Oe=32767,Ve=K.__halfDigit(_e+T);if(Ve!==ee){var Se=(Ve<<15|K.__halfDigit(_e+T-1))>>>0;Oe=0|Se/ee;for(var be=0|Se%ee,Ue=y.__halfDigit(T-2),ye=K.__halfDigit(_e+T-2);C.__imul(Oe,Ue)>>>0>(be<<16|ye)>>>0&&(Oe--,!(32767<(be+=ee))););}C.__internalMultiplyAdd(y,Oe,0,N,v);var De=K.__inplaceSub(v,_e,T+1);0!==De&&(De=K.__inplaceAdd(y,_e,T),K.__setHalfDigit(_e+T,32767&K.__halfDigit(_e+T)+De),Oe--),g&&(1&_e?ce=Oe<<15:s.__setDigit(_e>>>1,ce|Oe))}if(S)return K.__inplaceRightShift(W),g?{quotient:s,remainder:K}:K;if(g)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(u){return C.__clz30(u)-15}},{key:"__specialLeftShift",value:function(u,y,g){var S=u.length,T=new C(S+g,!1);if(0===y){for(var N=0;N<S;N++)T.__setDigit(N,u.__digit(N));return 0<g&&T.__setDigit(S,0),T}for(var A,s=0,v=0;v<S;v++)A=u.__digit(v),T.__setDigit(v,1073741823&A<<y|s),s=A>>>30-y;return 0<g&&T.__setDigit(S,s),T}},{key:"__leftShiftByAbsolute",value:function(u,y){var g=C.__toShiftAmount(y);if(0>g)throw new RangeError("BigInt too big");var S=0|g/30,T=g%30,N=u.length,A=0!==T&&u.__digit(N-1)>>>30-T!=0,s=N+S+(A?1:0),v=new C(s,u.sign);if(0===T){for(var W=0;W<S;W++)v.__setDigit(W,0);for(;W<s;W++)v.__setDigit(W,u.__digit(W-S))}else{for(var K=0,ee=0;ee<S;ee++)v.__setDigit(ee,0);for(var ce,_e=0;_e<N;_e++)ce=u.__digit(_e),v.__setDigit(_e+S,1073741823&ce<<T|K),K=ce>>>30-T;if(A)v.__setDigit(N+S,K);else if(0!==K)throw new Error("implementation bug")}return v.__trim()}},{key:"__rightShiftByAbsolute",value:function(u,y){var g=u.length,S=u.sign,T=C.__toShiftAmount(y);if(0>T)return C.__rightShiftByMaximum(S);var N=0|T/30,A=T%30,s=g-N;if(0>=s)return C.__rightShiftByMaximum(S);var v=!1;if(S)if(u.__digit(N)&(1<<A)-1)v=!0;else for(var W=0;W<N;W++)if(0!==u.__digit(W)){v=!0;break}v&&0===A&&!~u.__digit(g-1)&&s++;var ee=new C(s,S);if(0===A){ee.__setDigit(s-1,0);for(var ce=N;ce<g;ce++)ee.__setDigit(ce-N,u.__digit(ce))}else{for(var _e,Oe=u.__digit(N)>>>A,Ve=g-N-1,Se=0;Se<Ve;Se++)_e=u.__digit(Se+N+1),ee.__setDigit(Se,1073741823&_e<<30-A|Oe),Oe=_e>>>A;ee.__setDigit(Ve,Oe)}return v&&(ee=C.__absoluteAddOne(ee,!0,ee)),ee.__trim()}},{key:"__rightShiftByMaximum",value:function(u){return u?C.__oneDigit(1,!0):C.__zero()}},{key:"__toShiftAmount",value:function(u){if(1<u.length)return-1;var y=u.__unsignedDigit(0);return y>C.__kMaxLengthBits?-1:y}},{key:"__toPrimitive",value:function(u){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==f(u)||u.constructor===C)return u;if(typeof Symbol<"u"&&"symbol"===f(Symbol.toPrimitive)){var g=u[Symbol.toPrimitive];if(g){var S=g(y);if("object"!==f(S))return S;throw new TypeError("Cannot convert object to primitive value")}}var T=u.valueOf;if(T){var N=T.call(u);if("object"!==f(N))return N}var A=u.toString;if(A){var s=A.call(u);if("object"!==f(s))return s}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(u){return C.__isBigInt(u)?u:+u}},{key:"__isBigInt",value:function(u){return"object"===f(u)&&null!==u&&u.constructor===C}},{key:"__truncateToNBits",value:function(u,y){for(var g=0|(u+29)/30,S=new C(g,y.sign),T=g-1,N=0;N<T;N++)S.__setDigit(N,y.__digit(N));var A=y.__digit(T);if(u%30!=0){var s=32-u%30;A=A<<s>>>s}return S.__setDigit(T,A),S.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(u,y,g){for(var T,S=Math.min,N=0|(u+29)/30,A=new C(N,g),s=0,v=N-1,W=0,K=S(v,y.length);s<K;s++)W=1&(T=0-y.__digit(s)-W)>>>30,A.__setDigit(s,1073741823&T);for(;s<v;s++)A.__setDigit(s,1073741823&-W);var ee,ce=v<y.length?y.__digit(v):0,_e=u%30;if(0===_e)ee=0-ce-W,ee&=1073741823;else{var Oe=32-_e,Ve=1<<32-Oe;ee=Ve-(ce=ce<<Oe>>>Oe)-W,ee&=Ve-1}return A.__setDigit(v,ee),A.__trim()}},{key:"__digitPow",value:function(u,y){for(var g=1;0<y;)1&y&&(g*=u),y>>>=1,u*=u;return g}},{key:"__isOneDigitInt",value:function(u){return(1073741823&u)===u}}]),C}(D(Array));return de.__kMaxLength=33554432,de.__kMaxLengthBits=de.__kMaxLength<<5,de.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],de.__kBitsPerCharTableShift=5,de.__kBitsPerCharTableMultiplier=1<<de.__kBitsPerCharTableShift,de.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],de.__kBitConversionBuffer=new ArrayBuffer(8),de.__kBitConversionDouble=new Float64Array(de.__kBitConversionBuffer),de.__kBitConversionInts=new Int32Array(de.__kBitConversionBuffer),de.__clz30=E?function(le){return E(le)-2}:function(le){var we=Math.LN2,xe=Math.log;return 0===le?30:0|29-(0|xe(le>>>0)/we)},de.__imul=z||function(le,we){return 0|le*we},de}()},44331:je=>{"use strict";var z=je.exports=function(_,k,H){"function"==typeof k&&(H=k,k={}),E(k,"function"==typeof(H=k.cb||H)?H:H.pre||function(){},H.post||function(){},_,"",_)};function E(_,k,H,x,P,M,O,F,L,D){if(x&&"object"==typeof x&&!Array.isArray(x)){for(var X in k(x,P,M,O,F,L,D),x){var j=x[X];if(Array.isArray(j)){if(X in z.arrayKeywords)for(var G=0;G<j.length;G++)E(_,k,H,j[G],P+"/"+X+"/"+G,M,P,X,x,G)}else if(X in z.propsKeywords){if(j&&"object"==typeof j)for(var re in j)E(_,k,H,j[re],P+"/"+X+"/"+f(re),M,P,X,x,re)}else(X in z.keywords||_.allKeys&&!(X in z.skipKeywords))&&E(_,k,H,j,P+"/"+X,M,P,X,x)}H(x,P,M,O,F,L,D)}}function f(_){return _.replace(/~/g,"~0").replace(/\//g,"~1")}z.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},z.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},z.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},z.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:(je,z)=>{"use strict";z.supports=function(...f){const _=f.reduce((k,H)=>Object.assign(k,H),{});return Object.assign(_,{snapshots:_.snapshots||!1,permanence:_.permanence||!1,seek:_.seek||!1,clear:_.clear||!1,getMany:_.getMany||!1,keyIterator:_.keyIterator||!1,valueIterator:_.valueIterator||!1,iteratorNextv:_.iteratorNextv||!1,iteratorAll:_.iteratorAll||!1,status:_.status||!1,createIfMissing:_.createIfMissing||!1,errorIfExists:_.errorIfExists||!1,deferredOpen:_.deferredOpen||!1,promises:_.promises||!1,streams:_.streams||!1,encodings:Object.assign({},_.encodings),events:Object.assign({},_.events),additionalMethods:Object.assign({},_.additionalMethods)})}},25006:(je,z,E)=>{"use strict";const f=E(61747),_=E(40080),{Encoding:k}=E(15045),{BufferFormat:H,ViewFormat:x,UTF8Format:P}=E(48262),M=Symbol("formats"),O=Symbol("encodings"),F=new Set(["buffer","view","utf8"]);z.Transcoder=class L{constructor(J){if(!Array.isArray(J))throw new TypeError("The first argument 'formats' must be an array");if(!J.every(Z=>F.has(Z)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[O]=new Map,this[M]=new Set(J);for(const Z in _)try{this.encoding(Z)}catch(ie){if("LEVEL_ENCODING_NOT_SUPPORTED"!==ie.code)throw ie}}encodings(){return Array.from(new Set(this[O].values()))}encoding(J){let Z=this[O].get(J);if(void 0===Z){if("string"==typeof J&&""!==J){if(Z=G[J],!Z)throw new f(`Encoding '${J}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof J||null===J)throw new TypeError("First argument 'encoding' must be a string or object");Z=function D(te){if(te instanceof k)return te;const Z=te.name||("type"in te&&"string"==typeof te.type?te.type:void 0)||"anonymous-"+re++;switch(function X(te){return"format"in te&&void 0!==te.format?te.format:"buffer"in te&&"boolean"==typeof te.buffer?te.buffer?"buffer":"utf8":"code"in te&&Number.isInteger(te.code)?"view":"buffer"}(te)){case"view":return new x({...te,name:Z});case"utf8":return new P({...te,name:Z});case"buffer":return new H({...te,name:Z});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(J)}const{name:ie,format:ae}=Z;if(!this[M].has(ae))if(this[M].has("view"))Z=Z.createViewTranscoder();else if(this[M].has("buffer"))Z=Z.createBufferTranscoder();else{if(!this[M].has("utf8"))throw new f(`Encoding '${ie}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});Z=Z.createUTF8Transcoder()}for(const se of[J,ie,Z.name,Z.commonName])this[O].set(se,Z)}return Z}};const j={binary:_.buffer,"utf-8":_.utf8},G={..._,...j};let re=0},15045:(je,z,E)=>{"use strict";const f=E(61747),_=new Set(["buffer","view","utf8"]);z.Encoding=class k{constructor(x){if(this.encode=x.encode||this.encode,this.decode=x.decode||this.decode,this.name=x.name||this.name,this.format=x.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!_.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");x.createViewTranscoder&&(this.createViewTranscoder=x.createViewTranscoder),x.createBufferTranscoder&&(this.createBufferTranscoder=x.createBufferTranscoder),x.createUTF8Transcoder&&(this.createUTF8Transcoder=x.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new f(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new f(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new f(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:(je,z,E)=>{"use strict";const{Buffer:f}=E(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:_,textDecoder:k}=E(33619)(),{BufferFormat:H,ViewFormat:x,UTF8Format:P}=E(48262),M=O=>O;z.utf8=new P({encode:function(O){return f.isBuffer(O)?O.toString("utf8"):ArrayBuffer.isView(O)?k.decode(O):String(O)},decode:M,name:"utf8",createViewTranscoder(){return new x({encode:function(O){return ArrayBuffer.isView(O)?O:_.encode(O)},decode:function(O){return k.decode(O)},name:`${this.name}+view`})},createBufferTranscoder(){return new H({encode:function(O){return f.isBuffer(O)?O:ArrayBuffer.isView(O)?f.from(O.buffer,O.byteOffset,O.byteLength):f.from(String(O),"utf8")},decode:function(O){return O.toString("utf8")},name:`${this.name}+buffer`})}}),z.json=new P({encode:JSON.stringify,decode:JSON.parse,name:"json"}),z.buffer=new H({encode:function(O){return f.isBuffer(O)?O:ArrayBuffer.isView(O)?f.from(O.buffer,O.byteOffset,O.byteLength):f.from(String(O),"utf8")},decode:M,name:"buffer",createViewTranscoder(){return new x({encode:function(O){return ArrayBuffer.isView(O)?O:f.from(String(O),"utf8")},decode:function(O){return f.from(O.buffer,O.byteOffset,O.byteLength)},name:`${this.name}+view`})}}),z.view=new x({encode:function(O){return ArrayBuffer.isView(O)?O:_.encode(O)},decode:M,name:"view",createBufferTranscoder(){return new H({encode:function(O){return f.isBuffer(O)?O:ArrayBuffer.isView(O)?f.from(O.buffer,O.byteOffset,O.byteLength):f.from(String(O),"utf8")},decode:M,name:`${this.name}+buffer`})}}),z.hex=new H({encode:function(O){return f.isBuffer(O)?O:f.from(String(O),"hex")},decode:function(O){return O.toString("hex")},name:"hex"}),z.base64=new H({encode:function(O){return f.isBuffer(O)?O:f.from(String(O),"base64")},decode:function(O){return O.toString("base64")},name:"base64"})},48262:(je,z,E)=>{"use strict";const{Buffer:f}=E(484)||{},{Encoding:_}=E(15045),k=E(33619);class H extends _{constructor(O){super({...O,format:"buffer"})}createViewTranscoder(){return new x({encode:this.encode,decode:O=>this.decode(f.from(O.buffer,O.byteOffset,O.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class x extends _{constructor(O){super({...O,format:"view"})}createBufferTranscoder(){return new H({encode:O=>{const F=this.encode(O);return f.from(F.buffer,F.byteOffset,F.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}z.BufferFormat=H,z.ViewFormat=x,z.UTF8Format=class P extends _{constructor(O){super({...O,format:"utf8"})}createBufferTranscoder(){return new H({encode:O=>f.from(this.encode(O),"utf8"),decode:O=>this.decode(O.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:O,textDecoder:F}=k();return new x({encode:L=>O.encode(this.encode(L)),decode:L=>this.decode(F.decode(L)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:je=>{"use strict";let z=null;je.exports=function(){return null===z&&(z={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),z}},484:(je,z,E)=>{"use strict";const f=E(13981),_=E(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function Z(B){return+B!=B&&(B=0),M.alloc(+B)},z.INSPECT_MAX_BYTES=50;const H=2147483647;function P(B){if(B>H)throw new RangeError('The value "'+B+'" is invalid for option "size"');const w=new Uint8Array(B);return Object.setPrototypeOf(w,M.prototype),w}function M(B,w,m){if("number"==typeof B){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return D(B)}return O(B,w,m)}function O(B,w,m){if("string"==typeof B)return function X(B,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!M.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const m=0|ie(B,w);let U=P(m);const ne=U.write(B,w);return ne!==m&&(U=U.slice(0,ne)),U}(B,w);if(ArrayBuffer.isView(B))return function G(B){if(Fe(B,Uint8Array)){const w=new Uint8Array(B);return re(w.buffer,w.byteOffset,w.byteLength)}return j(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Fe(B,ArrayBuffer)||B&&Fe(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(B,SharedArrayBuffer)||B&&Fe(B.buffer,SharedArrayBuffer)))return re(B,w,m);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return M.from(U,w,m);const ne=function te(B){if(M.isBuffer(B)){const w=0|J(B.length),m=P(w);return 0===m.length||B.copy(m,0,0,w),m}return void 0!==B.length?"number"!=typeof B.length||Et(B.length)?P(0):j(B):"Buffer"===B.type&&Array.isArray(B.data)?j(B.data):void 0}(B);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return M.from(B[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function F(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function D(B){return F(B),P(B<0?0:0|J(B))}function j(B){const w=B.length<0?0:0|J(B.length),m=P(w);for(let U=0;U<w;U+=1)m[U]=255&B[U];return m}function re(B,w,m){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===w&&void 0===m?new Uint8Array(B):void 0===m?new Uint8Array(B,w):new Uint8Array(B,w,m),Object.setPrototypeOf(U,M.prototype),U}function J(B){if(B>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|B}function ie(B,w){if(M.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Fe(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const m=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Re(B).length;default:if(ne)return U?-1:oe(B).length;w=(""+w).toLowerCase(),ne=!0}}function ae(B,w,m){let U=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return A(this,w,m);case"utf8":case"utf-8":return y(this,w,m);case"ascii":return T(this,w,m);case"latin1":case"binary":return N(this,w,m);case"base64":return u(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,w,m);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function se(B,w,m){const U=B[w];B[w]=B[m],B[m]=U}function de(B,w,m,U,ne){if(0===B.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),Et(m=+m)&&(m=ne?0:B.length-1),m<0&&(m=B.length+m),m>=B.length){if(ne)return-1;m=B.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof w&&(w=M.from(w,U)),M.isBuffer(w))return 0===w.length?-1:le(B,w,m,U,ne);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(B,w,m):Uint8Array.prototype.lastIndexOf.call(B,w,m):le(B,[w],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(B,w,m,U,ne){let vt,ge=1,Ae=B.length,tt=w.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||w.length<2)return-1;ge=2,Ae/=2,tt/=2,m/=2}function Bt(It,Gt){return 1===ge?It[Gt]:It.readUInt16BE(Gt*ge)}if(ne){let It=-1;for(vt=m;vt<Ae;vt++)if(Bt(B,vt)===Bt(w,-1===It?0:vt-It)){if(-1===It&&(It=vt),vt-It+1===tt)return It*ge}else-1!==It&&(vt-=vt-It),It=-1}else for(m+tt>Ae&&(m=Ae-tt),vt=m;vt>=0;vt--){let It=!0;for(let Gt=0;Gt<tt;Gt++)if(Bt(B,vt+Gt)!==Bt(w,Gt)){It=!1;break}if(It)return vt}return-1}function we(B,w,m,U){m=Number(m)||0;const ne=B.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=w.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const tt=parseInt(w.substr(2*Ae,2),16);if(Et(tt))return Ae;B[m+Ae]=tt}return Ae}function xe(B,w,m,U){return $e(oe(w,B.length-m),B,m,U)}function Ce(B,w,m,U){return $e(function fe(B){const w=[];for(let m=0;m<B.length;++m)w.push(255&B.charCodeAt(m));return w}(w),B,m,U)}function C(B,w,m,U){return $e(Re(w),B,m,U)}function a(B,w,m,U){return $e(function Ee(B,w){let m,U,ne;const ge=[];for(let Ae=0;Ae<B.length&&!((w-=2)<0);++Ae)m=B.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(w,B.length-m),B,m,U)}function u(B,w,m){return f.fromByteArray(0===w&&m===B.length?B:B.slice(w,m))}function y(B,w,m){m=Math.min(B.length,m);const U=[];let ne=w;for(;ne<m;){const ge=B[ne];let Ae=null,tt=ge>239?4:ge>223?3:ge>191?2:1;if(ne+tt<=m){let Bt,vt,It,Gt;switch(tt){case 1:ge<128&&(Ae=ge);break;case 2:Bt=B[ne+1],128==(192&Bt)&&(Gt=(31&ge)<<6|63&Bt,Gt>127&&(Ae=Gt));break;case 3:Bt=B[ne+1],vt=B[ne+2],128==(192&Bt)&&128==(192&vt)&&(Gt=(15&ge)<<12|(63&Bt)<<6|63&vt,Gt>2047&&(Gt<55296||Gt>57343)&&(Ae=Gt));break;case 4:Bt=B[ne+1],vt=B[ne+2],It=B[ne+3],128==(192&Bt)&&128==(192&vt)&&128==(192&It)&&(Gt=(15&ge)<<18|(63&Bt)<<12|(63&vt)<<6|63&It,Gt>65535&&Gt<1114112&&(Ae=Gt))}}null===Ae?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=tt}return function S(B){const w=B.length;if(w<=g)return String.fromCharCode.apply(String,B);let m="",U=0;for(;U<w;)m+=String.fromCharCode.apply(String,B.slice(U,U+=g));return m}(U)}z.kMaxLength=H,!(M.TYPED_ARRAY_SUPPORT=function x(){try{const B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(B,w,m){return O(B,w,m)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(B,w,m){return function L(B,w,m){return F(B),B<=0?P(B):void 0!==w?"string"==typeof m?P(B).fill(w,m):P(B).fill(w):P(B)}(B,w,m)},M.allocUnsafe=function(B){return D(B)},M.allocUnsafeSlow=function(B){return D(B)},M.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==M.prototype},M.compare=function(w,m){if(Fe(w,Uint8Array)&&(w=M.from(w,w.offset,w.byteLength)),Fe(m,Uint8Array)&&(m=M.from(m,m.offset,m.byteLength)),!M.isBuffer(w)||!M.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;let U=w.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(w[ge]!==m[ge]){U=w[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},M.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return M.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<w.length;++U)m+=w[U].length;const ne=M.allocUnsafe(m);let ge=0;for(U=0;U<w.length;++U){let Ae=w[U];if(Fe(Ae,Uint8Array))ge+Ae.length>ne.length?(M.isBuffer(Ae)||(Ae=M.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!M.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},M.byteLength=ie,M.prototype._isBuffer=!0,M.prototype.swap16=function(){const w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<w;m+=2)se(this,m,m+1);return this},M.prototype.swap32=function(){const w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<w;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},M.prototype.swap64=function(){const w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<w;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){const w=this.length;return 0===w?"":0===arguments.length?y(this,0,w):ae.apply(this,arguments)},M.prototype.equals=function(w){if(!M.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===M.compare(this,w)},M.prototype.inspect=function(){let w="";const m=z.INSPECT_MAX_BYTES;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},k&&(M.prototype[k]=M.prototype.inspect),M.prototype.compare=function(w,m,U,ne,ge){if(Fe(w,Uint8Array)&&(w=M.from(w,w.offset,w.byteLength)),!M.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===U&&(U=w?w.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>w.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===w)return 0;let Ae=(ge>>>=0)-(ne>>>=0),tt=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,tt),vt=this.slice(ne,ge),It=w.slice(m,U);for(let Gt=0;Gt<Bt;++Gt)if(vt[Gt]!==It[Gt]){Ae=vt[Gt],tt=It[Gt];break}return Ae<tt?-1:tt<Ae?1:0},M.prototype.includes=function(w,m,U){return-1!==this.indexOf(w,m,U)},M.prototype.indexOf=function(w,m,U){return de(this,w,m,U,!0)},M.prototype.lastIndexOf=function(w,m,U){return de(this,w,m,U,!1)},M.prototype.write=function(w,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),w.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return we(this,w,m,U);case"utf8":case"utf-8":return xe(this,w,m,U);case"ascii":case"latin1":case"binary":return Ce(this,w,m,U);case"base64":return C(this,w,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,w,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(127&B[ne]);return U}function N(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(B[ne]);return U}function A(B,w,m){const U=B.length;(!w||w<0)&&(w=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=w;ge<m;++ge)ne+=We[B[ge]];return ne}function s(B,w,m){const U=B.slice(w,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(B,w,m){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+w>m)throw new RangeError("Trying to access beyond buffer length")}function W(B,w,m,U,ne,ge){if(!M.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>ne||w<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>B.length)throw new RangeError("Index out of range")}function K(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,m}function ee(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m+7]=ge,ge>>=8,B[m+6]=ge,ge>>=8,B[m+5]=ge,ge>>=8,B[m+4]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m+3]=Ae,Ae>>=8,B[m+2]=Ae,Ae>>=8,B[m+1]=Ae,Ae>>=8,B[m]=Ae,m+8}function ce(B,w,m,U,ne,ge){if(m+U>B.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,4),_.write(B,w,m,U,23,4),m+4}function Oe(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,8),_.write(B,w,m,U,52,8),m+8}M.prototype.slice=function(w,m){const U=this.length;(w=~~w)<0?(w+=U)<0&&(w=0):w>U&&(w=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<w&&(m=w);const ne=this.subarray(w,m);return Object.setPrototypeOf(ne,M.prototype),ne},M.prototype.readUintLE=M.prototype.readUIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ne},M.prototype.readUintBE=M.prototype.readUIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[w+--m]*ge;return ne},M.prototype.readUint8=M.prototype.readUInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),this[w]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]|this[w+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]<<8|this[w+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},M.prototype.readBigUInt64LE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m+256*this[++w]+65536*this[++w]+this[++w]*2**24,ge=this[++w]+256*this[++w]+65536*this[++w]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),M.prototype.readBigUInt64BE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m*2**24+65536*this[++w]+256*this[++w]+this[++w],ge=this[++w]*2**24+65536*this[++w]+256*this[++w]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),M.prototype.readIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},M.prototype.readIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=m,ge=1,Ae=this[w+--ne];for(;ne>0&&(ge*=256);)Ae+=this[w+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},M.prototype.readInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},M.prototype.readInt16LE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w]|this[w+1]<<8;return 32768&U?4294901760|U:U},M.prototype.readInt16BE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w+1]|this[w]<<8;return 32768&U?4294901760|U:U},M.prototype.readInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},M.prototype.readInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},M.prototype.readBigInt64LE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];return(void 0===m||void 0===U)&&pe(w,this.length-8),(BigInt(this[w+4]+256*this[w+5]+65536*this[w+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++w]+65536*this[++w]+this[++w]*2**24)}),M.prototype.readBigInt64BE=Le(function(w){De(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=(m<<24)+65536*this[++w]+256*this[++w]+this[++w];return(BigInt(ne)<<BigInt(32))+BigInt(this[++w]*2**24+65536*this[++w]+256*this[++w]+U)}),M.prototype.readFloatLE=function(w,m){return w>>>=0,m||v(w,4,this.length),_.read(this,w,!0,23,4)},M.prototype.readFloatBE=function(w,m){return w>>>=0,m||v(w,4,this.length),_.read(this,w,!1,23,4)},M.prototype.readDoubleLE=function(w,m){return w>>>=0,m||v(w,8,this.length),_.read(this,w,!0,52,8)},M.prototype.readDoubleBE=function(w,m){return w>>>=0,m||v(w,8,this.length),_.read(this,w,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&w;++Ae<U&&(ge*=256);)this[m+Ae]=w/ge&255;return m+U},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)this[m+ge]=w/Ae&255;return m+U},M.prototype.writeUint8=M.prototype.writeUInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,255,0),this[m]=255&w,m+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},M.prototype.writeBigUInt64LE=Le(function(w,m=0){return K(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Le(function(w,m=0){return ee(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=0,Ae=1,tt=0;for(this[m]=255&w;++ge<U&&(Ae*=256);)w<0&&0===tt&&0!==this[m+ge-1]&&(tt=1),this[m+ge]=(w/Ae|0)-tt&255;return m+U},M.prototype.writeIntBE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,tt=0;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)w<0&&0===tt&&0!==this[m+ge+1]&&(tt=1),this[m+ge]=(w/Ae|0)-tt&255;return m+U},M.prototype.writeInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},M.prototype.writeInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},M.prototype.writeInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},M.prototype.writeInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},M.prototype.writeInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},M.prototype.writeBigInt64LE=Le(function(w,m=0){return K(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Le(function(w,m=0){return ee(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeFloatLE=function(w,m,U){return _e(this,w,m,!0,U)},M.prototype.writeFloatBE=function(w,m,U){return _e(this,w,m,!1,U)},M.prototype.writeDoubleLE=function(w,m,U){return Oe(this,w,m,!0,U)},M.prototype.writeDoubleBE=function(w,m,U){return Oe(this,w,m,!1,U)},M.prototype.copy=function(w,m,U,ne){if(!M.isBuffer(w))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=w.length&&(m=w.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),w.length-m<ne-U&&(ne=w.length-m+U);const ge=ne-U;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(w,this.subarray(U,ne),m),ge},M.prototype.fill=function(w,m,U,ne){if("string"==typeof w){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!M.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===w.length){const Ae=w.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(w=Ae)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,w||(w=0),"number"==typeof w)for(ge=m;ge<U;++ge)this[ge]=w;else{const Ae=M.isBuffer(w)?w:M.from(w,ne),tt=Ae.length;if(0===tt)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%tt]}return this};const Ve={};function Se(B,w,m){Ve[B]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function be(B){let w="",m=B.length;const U="-"===B[0]?1:0;for(;m>=U+4;m-=3)w=`_${B.slice(m-3,m)}${w}`;return`${B.slice(0,m)}${w}`}function ye(B,w,m,U,ne,ge){if(B>m||B<w){const Ae="bigint"==typeof w?"n":"";let tt;throw tt=ge>3?0===w||w===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${w}${Ae} and <= ${m}${Ae}`,new Ve.ERR_OUT_OF_RANGE("value",tt,B)}!function Ue(B,w,m){De(w,"offset"),(void 0===B[w]||void 0===B[w+m])&&pe(w,B.length-(m+1))}(U,ne,ge)}function De(B,w){if("number"!=typeof B)throw new Ve.ERR_INVALID_ARG_TYPE(w,"number",B)}function pe(B,w,m){throw Math.floor(B)!==B?(De(B,m),new Ve.ERR_OUT_OF_RANGE(m||"offset","an integer",B)):w<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${w}`,B)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(B,w){return`The "${B}" argument must be of type number. Received type ${typeof w}`},TypeError),Se("ERR_OUT_OF_RANGE",function(B,w,m){let U=`The value of "${B}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=be(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=be(ne)),ne+="n"),U+=` It must be ${w}. Received ${ne}`,U},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function oe(B,w){let m;w=w||1/0;const U=B.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=B.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(w-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(w-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(w-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(w-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((w-=1)<0)break;ge.push(m)}else if(m<2048){if((w-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function Re(B){return f.toByteArray(function Q(B){if((B=(B=B.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function $e(B,w,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=w.length||ne>=B.length);++ne)w[ne+m]=B[ne];return ne}function Fe(B,w){return B instanceof w||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===w.name}function Et(B){return B!=B}const We=function(){const B="0123456789abcdef",w=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)w[U+ne]=B[m]+B[ne]}return w}();function Le(B){return typeof BigInt>"u"?lt:B}function lt(){throw new Error("BigInt not supported")}},54626:(je,z,E)=>{z.Level=E(23963).BrowserLevel},8516:(je,z,E)=>{var f=E(81464);je.exports=f.Symbol},61057:(je,z,E)=>{var f=E(8516),_=E(8488),k=E(53327),P=f?f.toStringTag:void 0;je.exports=function M(O){return null==O?void 0===O?"[object Undefined]":"[object Null]":P&&P in Object(O)?_(O):k(O)}},78657:je=>{var z="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;je.exports=z},46902:(je,z,E)=>{var _=E(72852)(Object.getPrototypeOf,Object);je.exports=_},8488:(je,z,E)=>{var f=E(8516),_=Object.prototype,k=_.hasOwnProperty,H=_.toString,x=f?f.toStringTag:void 0;je.exports=function P(M){var O=k.call(M,x),F=M[x];try{M[x]=void 0;var L=!0}catch{}var D=H.call(M);return L&&(O?M[x]=F:delete M[x]),D}},53327:je=>{var E=Object.prototype.toString;je.exports=function f(_){return E.call(_)}},72852:je=>{je.exports=function z(E,f){return function(_){return E(f(_))}}},81464:(je,z,E)=>{var f=E(78657),_="object"==typeof self&&self&&self.Object===Object&&self,k=f||_||Function("return this")();je.exports=k},57433:je=>{je.exports=function z(E){return null!=E&&"object"==typeof E}},49970:(je,z,E)=>{var f=E(61057),_=E(46902),k=E(57433),M=Function.prototype.toString,O=Object.prototype.hasOwnProperty,F=M.call(Object);je.exports=function L(D){if(!k(D)||"[object Object]"!=f(D))return!1;var X=_(D);if(null===X)return!0;var j=O.call(X,"constructor")&&X.constructor;return"function"==typeof j&&j instanceof j&&M.call(j)==F}},34725:(je,z,E)=>{"use strict";var f=E(71993),_=E(13686),k=E(27054).Buffer,H=new Array(16);function x(){_.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function P(D,X){return D<<X|D>>>32-X}function M(D,X,j,G,re,te,J){return P(D+(X&j|~X&G)+re+te|0,J)+X|0}function O(D,X,j,G,re,te,J){return P(D+(X&G|j&~G)+re+te|0,J)+X|0}function F(D,X,j,G,re,te,J){return P(D+(X^j^G)+re+te|0,J)+X|0}function L(D,X,j,G,re,te,J){return P(D+(j^(X|~G))+re+te|0,J)+X|0}f(x,_),x.prototype._update=function(){for(var D=H,X=0;X<16;++X)D[X]=this._block.readInt32LE(4*X);var j=this._a,G=this._b,re=this._c,te=this._d;j=M(j,G,re,te,D[0],3614090360,7),te=M(te,j,G,re,D[1],3905402710,12),re=M(re,te,j,G,D[2],606105819,17),G=M(G,re,te,j,D[3],3250441966,22),j=M(j,G,re,te,D[4],4118548399,7),te=M(te,j,G,re,D[5],1200080426,12),re=M(re,te,j,G,D[6],2821735955,17),G=M(G,re,te,j,D[7],4249261313,22),j=M(j,G,re,te,D[8],1770035416,7),te=M(te,j,G,re,D[9],2336552879,12),re=M(re,te,j,G,D[10],4294925233,17),G=M(G,re,te,j,D[11],2304563134,22),j=M(j,G,re,te,D[12],1804603682,7),te=M(te,j,G,re,D[13],4254626195,12),re=M(re,te,j,G,D[14],2792965006,17),j=O(j,G=M(G,re,te,j,D[15],1236535329,22),re,te,D[1],4129170786,5),te=O(te,j,G,re,D[6],3225465664,9),re=O(re,te,j,G,D[11],643717713,14),G=O(G,re,te,j,D[0],3921069994,20),j=O(j,G,re,te,D[5],3593408605,5),te=O(te,j,G,re,D[10],38016083,9),re=O(re,te,j,G,D[15],3634488961,14),G=O(G,re,te,j,D[4],3889429448,20),j=O(j,G,re,te,D[9],568446438,5),te=O(te,j,G,re,D[14],3275163606,9),re=O(re,te,j,G,D[3],4107603335,14),G=O(G,re,te,j,D[8],1163531501,20),j=O(j,G,re,te,D[13],2850285829,5),te=O(te,j,G,re,D[2],4243563512,9),re=O(re,te,j,G,D[7],1735328473,14),j=F(j,G=O(G,re,te,j,D[12],2368359562,20),re,te,D[5],4294588738,4),te=F(te,j,G,re,D[8],2272392833,11),re=F(re,te,j,G,D[11],1839030562,16),G=F(G,re,te,j,D[14],4259657740,23),j=F(j,G,re,te,D[1],2763975236,4),te=F(te,j,G,re,D[4],1272893353,11),re=F(re,te,j,G,D[7],4139469664,16),G=F(G,re,te,j,D[10],3200236656,23),j=F(j,G,re,te,D[13],681279174,4),te=F(te,j,G,re,D[0],3936430074,11),re=F(re,te,j,G,D[3],3572445317,16),G=F(G,re,te,j,D[6],76029189,23),j=F(j,G,re,te,D[9],3654602809,4),te=F(te,j,G,re,D[12],3873151461,11),re=F(re,te,j,G,D[15],530742520,16),j=L(j,G=F(G,re,te,j,D[2],3299628645,23),re,te,D[0],4096336452,6),te=L(te,j,G,re,D[7],1126891415,10),re=L(re,te,j,G,D[14],2878612391,15),G=L(G,re,te,j,D[5],4237533241,21),j=L(j,G,re,te,D[12],1700485571,6),te=L(te,j,G,re,D[3],2399980690,10),re=L(re,te,j,G,D[10],4293915773,15),G=L(G,re,te,j,D[1],2240044497,21),j=L(j,G,re,te,D[8],1873313359,6),te=L(te,j,G,re,D[15],4264355552,10),re=L(re,te,j,G,D[6],2734768916,15),G=L(G,re,te,j,D[13],1309151649,21),j=L(j,G,re,te,D[4],4149444226,6),te=L(te,j,G,re,D[11],3174756917,10),re=L(re,te,j,G,D[2],718787259,15),G=L(G,re,te,j,D[9],3951481745,21),this._a=this._a+j|0,this._b=this._b+G|0,this._c=this._c+re|0,this._d=this._d+te|0},x.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=k.allocUnsafe(16);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D},je.exports=x},53459:(je,z,E)=>{var f=E(57223),_=E(35294);function k(H){this.rand=H||new _.Rand}je.exports=k,k.create=function(x){return new k(x)},k.prototype._randbelow=function(x){var P=x.bitLength(),M=Math.ceil(P/8);do{var O=new f(this.rand.generate(M))}while(O.cmp(x)>=0);return O},k.prototype._randrange=function(x,P){var M=P.sub(x);return x.add(this._randbelow(M))},k.prototype.test=function(x,P,M){var O=x.bitLength(),F=f.mont(x),L=new f(1).toRed(F);P||(P=Math.max(1,O/48|0));for(var D=x.subn(1),X=0;!D.testn(X);X++);for(var j=x.shrn(X),G=D.toRed(F);P>0;P--){var te=this._randrange(new f(2),D);M&&M(te);var J=te.toRed(F).redPow(j);if(0!==J.cmp(L)&&0!==J.cmp(G)){for(var Z=1;Z<X;Z++){if(0===(J=J.redSqr()).cmp(L))return!1;if(0===J.cmp(G))break}if(Z===X)return!1}}return!0},k.prototype.getDivisor=function(x,P){var M=x.bitLength(),O=f.mont(x),F=new f(1).toRed(O);P||(P=Math.max(1,M/48|0));for(var L=x.subn(1),D=0;!L.testn(D);D++);for(var X=x.shrn(D),j=L.toRed(O);P>0;P--){var G=this._randrange(new f(2),L),re=x.gcd(G);if(0!==re.cmpn(1))return re;var te=G.toRed(O).redPow(X);if(0!==te.cmp(F)&&0!==te.cmp(j)){for(var J=1;J<D;J++){if(0===(te=te.redSqr()).cmp(F))return te.fromRed().subn(1).gcd(x);if(0===te.cmp(j))break}if(J===D)return(te=te.redSqr()).fromRed().subn(1).gcd(x)}}return!1}},57223:function(je,z,E){!function(f,_){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var P;"object"==typeof f?f.exports=x:_.BN=x,x.BN=x,x.wordSize=26;try{P=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(64688).Buffer}catch{}function M(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=M(C,u);return u-1>=a&&(y|=M(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,A=Math.min(T,T-N)+y,s=0,v=y;v<A;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,A=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=A>>>26,W=67108863&A,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,A=0|v}return 0!==A?u.words[s]=0|A:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],A=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-A.length]+A+y:A+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof P<"u"),this.toArrayLike(P,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var A,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[s]=A;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[S-s-1]=A}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var A,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,be=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,Et=0|g[7],We=8191&Et,Le=Et>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,tt=ge>>>13,Bt=0|S[1],vt=8191&Bt,It=Bt>>>13,Gt=0|S[2],hn=8191&Gt,dn=Gt>>>13,ar=0|S[3],An=8191&ar,en=ar>>>13,Qt=0|S[4],_t=8191&Qt,ft=Qt>>>13,Wt=0|S[5],qt=8191&Wt,pn=Wt>>>13,fr=0|S[6],gt=8191&fr,Mt=fr>>>13,St=0|S[7],Ye=8191&St,nt=St>>>13,Ht=0|S[8],Nt=8191&Ht,un=Ht>>>13,Wn=0|S[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^u.negative,y.length=19;var Or=(N+(A=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,A=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(N+(A=A+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,A=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(be,Ae)|0,v=Math.imul(be,tt),A=A+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(N+(A=A+Math.imul(K,hn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,hn)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,A=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),A=A+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,It)|0,A=A+Math.imul(_e,hn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,hn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(N+(A=A+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;N=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,A=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),A=A+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,It)|0,A=A+Math.imul(Se,hn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,hn)|0,v=v+Math.imul(be,dn)|0,A=A+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(N+(A=A+Math.imul(K,_t)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,_t)|0))<<13)|0;N=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,A=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),A=A+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,It)|0,A=A+Math.imul(ye,hn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,hn)|0,v=v+Math.imul(De,dn)|0,A=A+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(be,An)|0,v=v+Math.imul(be,en)|0,A=A+Math.imul(_e,_t)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,_t)|0,v=v+Math.imul(Oe,ft)|0;var Te=(N+(A=A+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,pn)|0)+Math.imul(ee,qt)|0))<<13)|0;N=((v=v+Math.imul(ee,pn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,A=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),A=A+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,It)|0,A=A+Math.imul(ue,hn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,hn)|0,v=v+Math.imul(Q,dn)|0,A=A+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,A=A+Math.imul(Se,_t)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(be,_t)|0,v=v+Math.imul(be,ft)|0,A=A+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,pn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,pn)|0;var Be=(N+(A=A+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mt)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,Mt)|0)+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,A=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),A=A+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,It)|0,A=A+Math.imul(fe,hn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,hn)|0,v=v+Math.imul(Ee,dn)|0,A=A+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,A=A+Math.imul(ye,_t)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,_t)|0,v=v+Math.imul(De,ft)|0,A=A+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,pn)|0)+Math.imul(be,qt)|0,v=v+Math.imul(be,pn)|0,A=A+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,Mt)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,Mt)|0;var xt=(N+(A=A+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,A=Math.imul(B,Ae),s=(s=Math.imul(B,tt))+Math.imul(w,Ae)|0,v=Math.imul(w,tt),A=A+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,It)|0,A=A+Math.imul($e,hn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,hn)|0,v=v+Math.imul(Fe,dn)|0,A=A+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,A=A+Math.imul(ue,_t)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,_t)|0,v=v+Math.imul(Q,ft)|0,A=A+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,pn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,pn)|0,A=A+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,Mt)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,Mt)|0,A=A+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(N+(A=A+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;N=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,A=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),A=A+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,It)|0,A=A+Math.imul(We,hn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,hn)|0,v=v+Math.imul(Le,dn)|0,A=A+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,A=A+Math.imul(fe,_t)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,_t)|0,v=v+Math.imul(Ee,ft)|0,A=A+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,pn)|0,A=A+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,Mt)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,Mt)|0,A=A+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Ye)|0,v=v+Math.imul(be,nt)|0,A=A+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(N+(A=A+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;N=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,A=Math.imul(U,vt),s=(s=Math.imul(U,It))+Math.imul(ne,vt)|0,v=Math.imul(ne,It),A=A+Math.imul(B,hn)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,hn)|0,v=v+Math.imul(w,dn)|0,A=A+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,A=A+Math.imul($e,_t)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,_t)|0,v=v+Math.imul(Fe,ft)|0,A=A+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,pn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,pn)|0,A=A+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,Mt)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,Mt)|0,A=A+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,A=A+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(be,Nt)|0,v=v+Math.imul(be,un)|0;var Kn=(N+(A=A+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;N=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(U,hn),s=(s=Math.imul(U,dn))+Math.imul(ne,hn)|0,v=Math.imul(ne,dn),A=A+Math.imul(B,An)|0,s=(s=s+Math.imul(B,en)|0)+Math.imul(w,An)|0,v=v+Math.imul(w,en)|0,A=A+Math.imul(We,_t)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,_t)|0,v=v+Math.imul(Le,ft)|0,A=A+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,pn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,pn)|0,A=A+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,Mt)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,Mt)|0,A=A+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,A=A+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var tr=(N+(A=A+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(be,En)|0))<<13)|0;N=((v=v+Math.imul(be,kn)|0)+(s>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),A=A+Math.imul(B,_t)|0,s=(s=s+Math.imul(B,ft)|0)+Math.imul(w,_t)|0,v=v+Math.imul(w,ft)|0,A=A+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,pn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,pn)|0,A=A+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,Mt)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,Mt)|0,A=A+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,A=A+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var Dr=(N+(A=A+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;N=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,A=Math.imul(U,_t),s=(s=Math.imul(U,ft))+Math.imul(ne,_t)|0,v=Math.imul(ne,ft),A=A+Math.imul(B,qt)|0,s=(s=s+Math.imul(B,pn)|0)+Math.imul(w,qt)|0,v=v+Math.imul(w,pn)|0,A=A+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,Mt)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,Mt)|0,A=A+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,A=A+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Mr=(N+(A=A+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;N=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,A=Math.imul(U,qt),s=(s=Math.imul(U,pn))+Math.imul(ne,qt)|0,v=Math.imul(ne,pn),A=A+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,Mt)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,Mt)|0,A=A+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,A=A+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Ir=(N+(A=A+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;N=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,A=Math.imul(U,gt),s=(s=Math.imul(U,Mt))+Math.imul(ne,gt)|0,v=Math.imul(ne,Mt),A=A+Math.imul(B,Ye)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Ye)|0,v=v+Math.imul(w,nt)|0,A=A+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(N+(A=A+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;N=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,A=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),A=A+Math.imul(B,Nt)|0,s=(s=s+Math.imul(B,un)|0)+Math.imul(w,Nt)|0,v=v+Math.imul(w,un)|0;var ni=(N+(A=A+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;N=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(ni>>>26)|0,ni&=67108863,A=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(N+(A=A+Math.imul(B,En)|0)|0)+((8191&(s=(s=s+Math.imul(B,kn)|0)+Math.imul(w,En)|0))<<13)|0;N=((v=v+Math.imul(w,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(N+(A=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return N=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Be,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=tr,T[12]=Dr,T[13]=Mr,T[14]=Ir,T[15]=jr,T[16]=ni,T[17]=tn,T[18]=_n,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Z).mulp(C,a,u)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,A=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=A;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Z.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Z.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Z.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Z.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var A=N<<1,s=Math.cos(2*Math.PI/A),v=Math.sin(2*Math.PI/A),W=0;W<S;W+=A)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+N],Se=g[W+ce+N],be=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=be),g[W+ce]=Oe+Se,y[W+ce+N]=_e-Ve,g[W+ce+N]=Oe-Se,ce!==A&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Z.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Z.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Z.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Z.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Z.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Z.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),A=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,A,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=A[ce]*W[ce]-s[ce]*K[ce];s[ce]=A[ce]*K[ce]+s[ce]*W[ce],A[ce]=_e}return this.conjugate(A,s,g),this.transform(A,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,A=y;if(g-=T,g=Math.max(0,g),A){for(var s=0;s<T;s++)A.words[s]=this.words[s];A.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return A&&0!==v&&(A.words[A.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var A=(0|a.words[S])*u;N=((T-=67108863&A)>>26)-(A/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,A=g.length-S.length;if("mod"!==u){(s=new x(null)).length=A+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,A);0===W.negative&&(g=W,s&&(s.words[A]=1));for(var K=A-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),A=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++A;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(A)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,A=1;!(u.words[0]&A)&&N<26;++N,A<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(ie[a])return ie[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return ie[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),A=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,A).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,A=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++A||0===S&&0===W)&&(T=this.mul(T,g[N]),A=0,N=0)):A=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=E.nmd(je),this)},39210:je=>{function z(E,f){if(!E)throw new Error(f||"Assertion failed")}je.exports=z,z.equal=function(f,_,k){if(f!=_)throw new Error(k||"Assertion failed: "+f+" != "+_)}},21832:(je,z)=>{"use strict";var E=z;function _(H){return 1===H.length?"0"+H:H}function k(H){for(var x="",P=0;P<H.length;P++)x+=_(H[P].toString(16));return x}E.toArray=function f(H,x){if(Array.isArray(H))return H.slice();if(!H)return[];var P=[];if("string"!=typeof H){for(var M=0;M<H.length;M++)P[M]=0|H[M];return P}if("hex"===x)for((H=H.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(H="0"+H),M=0;M<H.length;M+=2)P.push(parseInt(H[M]+H[M+1],16));else for(M=0;M<H.length;M++){var O=H.charCodeAt(M),F=O>>8,L=255&O;F?P.push(F,L):P.push(L)}return P},E.zero2=_,E.toHex=k,E.encode=function(x,P){return"hex"===P?k(x):x}},61747:je=>{"use strict";je.exports=class extends Error{constructor(E,f){super(E||""),"object"==typeof f&&null!==f&&(f.code&&(this.code=String(f.code)),f.expected&&(this.expected=!0),f.transient&&(this.transient=!0),f.cause&&(this.cause=f.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:(je,z,E)=>{je.exports=E(3116)},3116:function(je,z){!function(E,f){"use strict";var _={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function k(j){if(!Array.isArray(j)&&!ArrayBuffer.isView(j))return!1;for(var G=0;G<j.length;G++)if(!Number.isInteger(j[G])||j[G]<0||j[G]>255)return!1;return!0}function H(j,G){return(65535&j)*G+(((j>>>16)*G&65535)<<16)}function x(j,G){return j<<G|j>>>32-G}function P(j){return j=H(j^=j>>>16,2246822507),(j=H(j^=j>>>13,3266489909))^j>>>16}function M(j,G){var re=[0,0,0,0];return re[3]+=(j=[j[0]>>>16,65535&j[0],j[1]>>>16,65535&j[1]])[3]+(G=[G[0]>>>16,65535&G[0],G[1]>>>16,65535&G[1]])[3],re[2]+=re[3]>>>16,re[3]&=65535,re[2]+=j[2]+G[2],re[1]+=re[2]>>>16,re[2]&=65535,re[1]+=j[1]+G[1],re[0]+=re[1]>>>16,re[1]&=65535,re[0]+=j[0]+G[0],re[0]&=65535,[re[0]<<16|re[1],re[2]<<16|re[3]]}function O(j,G){var re=[0,0,0,0];return re[3]+=(j=[j[0]>>>16,65535&j[0],j[1]>>>16,65535&j[1]])[3]*(G=[G[0]>>>16,65535&G[0],G[1]>>>16,65535&G[1]])[3],re[2]+=re[3]>>>16,re[3]&=65535,re[2]+=j[2]*G[3],re[1]+=re[2]>>>16,re[2]&=65535,re[2]+=j[3]*G[2],re[1]+=re[2]>>>16,re[2]&=65535,re[1]+=j[1]*G[3],re[0]+=re[1]>>>16,re[1]&=65535,re[1]+=j[2]*G[2],re[0]+=re[1]>>>16,re[1]&=65535,re[1]+=j[3]*G[1],re[0]+=re[1]>>>16,re[1]&=65535,re[0]+=j[0]*G[3]+j[1]*G[2]+j[2]*G[1]+j[3]*G[0],re[0]&=65535,[re[0]<<16|re[1],re[2]<<16|re[3]]}function F(j,G){return 32==(G%=64)?[j[1],j[0]]:G<32?[j[0]<<G|j[1]>>>32-G,j[1]<<G|j[0]>>>32-G]:[j[1]<<(G-=32)|j[0]>>>32-G,j[0]<<G|j[1]>>>32-G]}function L(j,G){return 0==(G%=64)?j:G<32?[j[0]<<G|j[1]>>>32-G,j[1]<<G]:[j[1]<<G-32,0]}function D(j,G){return[j[0]^G[0],j[1]^G[1]]}function X(j){return j=D(j,[0,j[0]>>>1]),j=D(j=O(j,[4283543511,3981806797]),[0,j[0]>>>1]),D(j=O(j,[3301882366,444984403]),[0,j[0]>>>1])}_.x86.hash32=function(j,G){if(_.inputValidation&&!k(j))return f;for(var re=j.length%4,te=j.length-re,J=G=G||0,Z=0,ie=3432918353,ae=461845907,se=0;se<te;se+=4)Z=H(Z=j[se]|j[se+1]<<8|j[se+2]<<16|j[se+3]<<24,ie),Z=H(Z=x(Z,15),ae),J=H(J=x(J^=Z,13),5)+3864292196;switch(Z=0,re){case 3:Z^=j[se+2]<<16;case 2:Z^=j[se+1]<<8;case 1:Z=H(Z^=j[se],ie),J^=Z=H(Z=x(Z,15),ae)}return(J=P(J^=j.length))>>>0},_.x86.hash128=function(j,G){if(_.inputValidation&&!k(j))return f;for(var re=j.length%16,te=j.length-re,J=G=G||0,Z=G,ie=G,ae=G,se=0,de=0,le=0,we=0,xe=597399067,Ce=2869860233,C=951274213,a=2716044179,u=0;u<te;u+=16)de=j[u+4]|j[u+5]<<8|j[u+6]<<16|j[u+7]<<24,le=j[u+8]|j[u+9]<<8|j[u+10]<<16|j[u+11]<<24,we=j[u+12]|j[u+13]<<8|j[u+14]<<16|j[u+15]<<24,se=x(se=H(se=j[u]|j[u+1]<<8|j[u+2]<<16|j[u+3]<<24,xe),15),J=x(J^=se=H(se,Ce),19),J=H(J+=Z,5)+1444728091,de=x(de=H(de,Ce),16),Z=x(Z^=de=H(de,C),17),Z=H(Z+=ie,5)+197830471,le=x(le=H(le,C),17),ie=x(ie^=le=H(le,a),15),ie=H(ie+=ae,5)+2530024501,we=x(we=H(we,a),18),ae=x(ae^=we=H(we,xe),13),ae=H(ae+=J,5)+850148119;switch(se=0,de=0,le=0,we=0,re){case 15:we^=j[u+14]<<16;case 14:we^=j[u+13]<<8;case 13:we=H(we^=j[u+12],a),ae^=we=H(we=x(we,18),xe);case 12:le^=j[u+11]<<24;case 11:le^=j[u+10]<<16;case 10:le^=j[u+9]<<8;case 9:le=H(le^=j[u+8],C),ie^=le=H(le=x(le,17),a);case 8:de^=j[u+7]<<24;case 7:de^=j[u+6]<<16;case 6:de^=j[u+5]<<8;case 5:de=H(de^=j[u+4],Ce),Z^=de=H(de=x(de,16),C);case 4:se^=j[u+3]<<24;case 3:se^=j[u+2]<<16;case 2:se^=j[u+1]<<8;case 1:se=H(se^=j[u],xe),J^=se=H(se=x(se,15),Ce)}return J^=j.length,J+=Z^=j.length,J+=ie^=j.length,Z+=J+=ae^=j.length,ie+=J,ae+=J,J=P(J),J+=Z=P(Z),J+=ie=P(ie),Z+=J+=ae=P(ae),ie+=J,ae+=J,("00000000"+(J>>>0).toString(16)).slice(-8)+("00000000"+(Z>>>0).toString(16)).slice(-8)+("00000000"+(ie>>>0).toString(16)).slice(-8)+("00000000"+(ae>>>0).toString(16)).slice(-8)},_.x64.hash128=function(j,G){if(_.inputValidation&&!k(j))return f;for(var re=j.length%16,te=j.length-re,J=[0,G=G||0],Z=[0,G],ie=[0,0],ae=[0,0],se=[2277735313,289559509],de=[1291169091,658871167],le=0;le<te;le+=16)ae=[j[le+12]|j[le+13]<<8|j[le+14]<<16|j[le+15]<<24,j[le+8]|j[le+9]<<8|j[le+10]<<16|j[le+11]<<24],ie=F(ie=O(ie=[j[le+4]|j[le+5]<<8|j[le+6]<<16|j[le+7]<<24,j[le]|j[le+1]<<8|j[le+2]<<16|j[le+3]<<24],se),31),J=M(J=F(J=D(J,ie=O(ie,de)),27),Z),J=M(O(J,[0,5]),[0,1390208809]),ae=F(ae=O(ae,de),33),Z=M(Z=F(Z=D(Z,ae=O(ae,se)),31),J),Z=M(O(Z,[0,5]),[0,944331445]);switch(ie=[0,0],ae=[0,0],re){case 15:ae=D(ae,L([0,j[le+14]],48));case 14:ae=D(ae,L([0,j[le+13]],40));case 13:ae=D(ae,L([0,j[le+12]],32));case 12:ae=D(ae,L([0,j[le+11]],24));case 11:ae=D(ae,L([0,j[le+10]],16));case 10:ae=D(ae,L([0,j[le+9]],8));case 9:ae=O(ae=D(ae,[0,j[le+8]]),de),Z=D(Z,ae=O(ae=F(ae,33),se));case 8:ie=D(ie,L([0,j[le+7]],56));case 7:ie=D(ie,L([0,j[le+6]],48));case 6:ie=D(ie,L([0,j[le+5]],40));case 5:ie=D(ie,L([0,j[le+4]],32));case 4:ie=D(ie,L([0,j[le+3]],24));case 3:ie=D(ie,L([0,j[le+2]],16));case 2:ie=D(ie,L([0,j[le+1]],8));case 1:ie=O(ie=D(ie,[0,j[le]]),se),J=D(J,ie=O(ie=F(ie,31),de))}return J=M(J=D(J,[0,j.length]),Z=D(Z,[0,j.length])),Z=M(Z,J),J=M(J=X(J),Z=X(Z)),Z=M(Z,J),("00000000"+(J[0]>>>0).toString(16)).slice(-8)+("00000000"+(J[1]>>>0).toString(16)).slice(-8)+("00000000"+(Z[0]>>>0).toString(16)).slice(-8)+("00000000"+(Z[1]>>>0).toString(16)).slice(-8)},je.exports&&(z=je.exports=_),z.murmurHash3=_}()},50233:je=>{"use strict";var z=Object.prototype.hasOwnProperty,E="~";function f(){}function _(P,M,O){this.fn=P,this.context=M,this.once=O||!1}function k(P,M,O,F,L){if("function"!=typeof O)throw new TypeError("The listener must be a function");var D=new _(O,F||P,L),X=E?E+M:M;return P._events[X]?P._events[X].fn?P._events[X]=[P._events[X],D]:P._events[X].push(D):(P._events[X]=D,P._eventsCount++),P}function H(P,M){0==--P._eventsCount?P._events=new f:delete P._events[M]}function x(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),(new f).__proto__||(E=!1)),x.prototype.eventNames=function(){var O,F,M=[];if(0===this._eventsCount)return M;for(F in O=this._events)z.call(O,F)&&M.push(E?F.slice(1):F);return Object.getOwnPropertySymbols?M.concat(Object.getOwnPropertySymbols(O)):M},x.prototype.listeners=function(M){var F=this._events[E?E+M:M];if(!F)return[];if(F.fn)return[F.fn];for(var L=0,D=F.length,X=new Array(D);L<D;L++)X[L]=F[L].fn;return X},x.prototype.listenerCount=function(M){var F=this._events[E?E+M:M];return F?F.fn?1:F.length:0},x.prototype.emit=function(M,O,F,L,D,X){var j=E?E+M:M;if(!this._events[j])return!1;var te,J,G=this._events[j],re=arguments.length;if(G.fn){switch(G.once&&this.removeListener(M,G.fn,void 0,!0),re){case 1:return G.fn.call(G.context),!0;case 2:return G.fn.call(G.context,O),!0;case 3:return G.fn.call(G.context,O,F),!0;case 4:return G.fn.call(G.context,O,F,L),!0;case 5:return G.fn.call(G.context,O,F,L,D),!0;case 6:return G.fn.call(G.context,O,F,L,D,X),!0}for(J=1,te=new Array(re-1);J<re;J++)te[J-1]=arguments[J];G.fn.apply(G.context,te)}else{var ie,Z=G.length;for(J=0;J<Z;J++)switch(G[J].once&&this.removeListener(M,G[J].fn,void 0,!0),re){case 1:G[J].fn.call(G[J].context);break;case 2:G[J].fn.call(G[J].context,O);break;case 3:G[J].fn.call(G[J].context,O,F);break;case 4:G[J].fn.call(G[J].context,O,F,L);break;default:if(!te)for(ie=1,te=new Array(re-1);ie<re;ie++)te[ie-1]=arguments[ie];G[J].fn.apply(G[J].context,te)}}return!0},x.prototype.on=function(M,O,F){return k(this,M,O,F,!1)},x.prototype.once=function(M,O,F){return k(this,M,O,F,!0)},x.prototype.removeListener=function(M,O,F,L){var D=E?E+M:M;if(!this._events[D])return this;if(!O)return H(this,D),this;var X=this._events[D];if(X.fn)X.fn===O&&(!L||X.once)&&(!F||X.context===F)&&H(this,D);else{for(var j=0,G=[],re=X.length;j<re;j++)(X[j].fn!==O||L&&!X[j].once||F&&X[j].context!==F)&&G.push(X[j]);G.length?this._events[D]=1===G.length?G[0]:G:H(this,D)}return this},x.prototype.removeAllListeners=function(M){var O;return M?this._events[O=E?E+M:M]&&H(this,O):(this._events=new f,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=E,x.EventEmitter=x,je.exports=x},83138:(je,z,E)=>{"use strict";var f=E(49609);z.certificate=E(94772);var _=f.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});z.RSAPrivateKey=_;var k=f.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});z.RSAPublicKey=k;var H=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),x=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())});z.PublicKey=x;var P=f.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(H),this.key("subjectPrivateKey").octstr())});z.PrivateKey=P;var M=f.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});z.EncryptedPrivateKey=M;var O=f.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});z.DSAPrivateKey=O,z.DSAparam=f.define("DSAparam",function(){this.int()});var F=f.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),L=f.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(F),this.key("publicKey").optional().explicit(1).bitstr())});z.ECPrivateKey=L,z.signature=f.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:(je,z,E)=>{"use strict";var f=E(49609),_=f.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),k=f.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),H=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),x=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())}),P=f.define("RelativeDistinguishedName",function(){this.setof(k)}),M=f.define("RDNSequence",function(){this.seqof(P)}),O=f.define("Name",function(){this.choice({rdnSequence:this.use(M)})}),F=f.define("Validity",function(){this.seq().obj(this.key("notBefore").use(_),this.key("notAfter").use(_))}),L=f.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),D=f.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(H),this.key("issuer").use(O),this.key("validity").use(F),this.key("subject").use(O),this.key("subjectPublicKeyInfo").use(x),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(L).optional())}),X=f.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(D),this.key("signatureAlgorithm").use(H),this.key("signatureValue").bitstr())});je.exports=X},89472:(je,z,E)=>{"use strict";var f=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,_=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,k=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,H=E(18211),x=E(43388),P=E(27054).Buffer;je.exports=function(M,O){var D,F=M.toString(),L=F.match(f);if(L){var j="aes"+L[1],G=P.from(L[2],"hex"),re=P.from(L[3].replace(/[\r\n]/g,""),"base64"),te=H(O,G.slice(0,8),parseInt(L[1],10)).key,J=[],Z=x.createDecipheriv(j,te,G);J.push(Z.update(re)),J.push(Z.final()),D=P.concat(J)}else{var X=F.match(k);D=P.from(X[2].replace(/[\r\n]/g,""),"base64")}return{tag:F.match(_)[1],data:D}}},65667:(je,z,E)=>{"use strict";var f=E(83138),_=E(15579),k=E(89472),H=E(43388),x=E(93397),P=E(27054).Buffer;function O(F){var L;"object"==typeof F&&!P.isBuffer(F)&&(L=F.passphrase,F=F.key),"string"==typeof F&&(F=P.from(F));var G,re,D=k(F,L),X=D.tag,j=D.data;switch(X){case"CERTIFICATE":re=f.certificate.decode(j,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(re||(re=f.PublicKey.decode(j,"der")),G=re.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return f.RSAPublicKey.decode(re.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return re.subjectPrivateKey=re.subjectPublicKey,{type:"ec",data:re};case"1.2.840.10040.4.1":return re.algorithm.params.pub_key=f.DSAparam.decode(re.subjectPublicKey.data,"der"),{type:"dsa",data:re.algorithm.params};default:throw new Error("unknown key id "+G)}case"ENCRYPTED PRIVATE KEY":j=function M(F,L){var D=F.algorithm.decrypt.kde.kdeparams.salt,X=parseInt(F.algorithm.decrypt.kde.kdeparams.iters.toString(),10),j=_[F.algorithm.decrypt.cipher.algo.join(".")],G=F.algorithm.decrypt.cipher.iv,re=F.subjectPrivateKey,te=parseInt(j.split("-")[1],10)/8,J=x.pbkdf2Sync(L,D,X,te,"sha1"),Z=H.createDecipheriv(j,J,G),ie=[];return ie.push(Z.update(re)),ie.push(Z.final()),P.concat(ie)}(j=f.EncryptedPrivateKey.decode(j,"der"),L);case"PRIVATE KEY":switch(G=(re=f.PrivateKey.decode(j,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return f.RSAPrivateKey.decode(re.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:re.algorithm.curve,privateKey:f.ECPrivateKey.decode(re.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return re.algorithm.params.priv_key=f.DSAparam.decode(re.subjectPrivateKey,"der"),{type:"dsa",params:re.algorithm.params};default:throw new Error("unknown key id "+G)}case"RSA PUBLIC KEY":return f.RSAPublicKey.decode(j,"der");case"RSA PRIVATE KEY":return f.RSAPrivateKey.decode(j,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:f.DSAPrivateKey.decode(j,"der")};case"EC PRIVATE KEY":return{curve:(j=f.ECPrivateKey.decode(j,"der")).parameters.value,privateKey:j.privateKey};default:throw new Error("unknown key type "+X)}}O.signature=f.signature,je.exports=O},93397:(je,z,E)=>{z.pbkdf2=E(82685),z.pbkdf2Sync=E(59111)},82685:(je,z,E)=>{var P,D,f=E(27054).Buffer,_=E(86111),k=E(45392),H=E(59111),x=E(76643),M=globalThis.crypto&&globalThis.crypto.subtle,O={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},F=[];function X(){return D||(D=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function j(re,te,J,Z,ie){return M.importKey("raw",re,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ae){return M.deriveBits({name:"PBKDF2",salt:te,iterations:J,hash:{name:ie}},ae,Z<<3)}).then(function(ae){return f.from(ae)})}je.exports=function(re,te,J,Z,ie,ae){"function"==typeof ie&&(ae=ie,ie=void 0);var se=O[(ie=ie||"sha1").toLowerCase()];if(se&&"function"==typeof globalThis.Promise){if(_(J,Z),re=x(re,k,"Password"),te=x(te,k,"Salt"),"function"!=typeof ae)throw new Error("No callback provided to pbkdf2");!function G(re,te){re.then(function(J){X()(function(){te(null,J)})},function(J){X()(function(){te(J)})})}(function L(re){if(globalThis.process&&!globalThis.process.browser||!M||!M.importKey||!M.deriveBits)return Promise.resolve(!1);if(void 0!==F[re])return F[re];var te=j(P=P||f.alloc(8),P,10,128,re).then(function(){return!0}).catch(function(){return!1});return F[re]=te,te}(se).then(function(de){return de?j(re,te,J,Z,se):H(re,te,J,Z,ie)}),ae)}else X()(function(){var de;try{de=H(re,te,J,Z,ie)}catch(le){return ae(le)}ae(null,de)})}},45392:(je,z,E)=>{var _,f=E(40573);_=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(f.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",je.exports=_},86111:je=>{var z=Math.pow(2,30)-1;je.exports=function(E,f){if("number"!=typeof E)throw new TypeError("Iterations not a number");if(E<0)throw new TypeError("Bad iterations");if("number"!=typeof f)throw new TypeError("Key length not a number");if(f<0||f>z||f!=f)throw new TypeError("Bad key length")}},59111:(je,z,E)=>{var f=E(83407),_=E(36636),k=E(25443),H=E(27054).Buffer,x=E(86111),P=E(45392),M=E(76643),O=H.alloc(128),F={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function L(j,G,re){var te=function D(j){return"rmd160"===j||"ripemd160"===j?function re(te){return(new _).update(te).digest()}:"md5"===j?f:function G(te){return k(j).update(te).digest()}}(j),J="sha512"===j||"sha384"===j?128:64;G.length>J?G=te(G):G.length<J&&(G=H.concat([G,O],J));for(var Z=H.allocUnsafe(J+F[j]),ie=H.allocUnsafe(J+F[j]),ae=0;ae<J;ae++)Z[ae]=54^G[ae],ie[ae]=92^G[ae];var se=H.allocUnsafe(J+re+4);Z.copy(se,0,0,J),this.ipad1=se,this.ipad2=Z,this.opad=ie,this.alg=j,this.blocksize=J,this.hash=te,this.size=F[j]}L.prototype.run=function(j,G){return j.copy(G,this.blocksize),this.hash(G).copy(this.opad,this.blocksize),this.hash(this.opad)},je.exports=function X(j,G,re,te,J){x(re,te);var Z=new L(J=J||"sha1",j=M(j,P,"Password"),(G=M(G,P,"Salt")).length),ie=H.allocUnsafe(te),ae=H.allocUnsafe(G.length+4);G.copy(ae,0,0,G.length);for(var se=0,de=F[J],le=Math.ceil(te/de),we=1;we<=le;we++){ae.writeUInt32BE(we,G.length);for(var xe=Z.run(ae,Z.ipad1),Ce=xe,C=1;C<re;C++){Ce=Z.run(Ce,Z.ipad2);for(var a=0;a<de;a++)xe[a]^=Ce[a]}xe.copy(ie,se),se+=de}return ie}},76643:(je,z,E)=>{var f=E(27054).Buffer;je.exports=function(_,k,H){if(f.isBuffer(_))return _;if("string"==typeof _)return f.from(_,k);if(ArrayBuffer.isView(_))return f.from(_.buffer);throw new TypeError(H+" must be a string, a Buffer, a typed array or a DataView")}},9656:(je,z,E)=>{"use strict";var f=E(40573);je.exports=typeof f>"u"||!f.version||0===f.version.indexOf("v0.")||0===f.version.indexOf("v1.")&&0!==f.version.indexOf("v1.8.")?{nextTick:function _(k,H,x,P){if("function"!=typeof k)throw new TypeError('"callback" argument must be a function');var O,F,M=arguments.length;switch(M){case 0:case 1:return f.nextTick(k);case 2:return f.nextTick(function(){k.call(null,H)});case 3:return f.nextTick(function(){k.call(null,H,x)});case 4:return f.nextTick(function(){k.call(null,H,x,P)});default:for(O=new Array(M-1),F=0;F<O.length;)O[F++]=arguments[F];return f.nextTick(function(){k.apply(null,O)})}}}:f},40573:je=>{var E,f,z=je.exports={};function _(){throw new Error("setTimeout has not been defined")}function k(){throw new Error("clearTimeout has not been defined")}function H(G){if(E===setTimeout)return setTimeout(G,0);if((E===_||!E)&&setTimeout)return E=setTimeout,setTimeout(G,0);try{return E(G,0)}catch{try{return E.call(null,G,0)}catch{return E.call(this,G,0)}}}!function(){try{E="function"==typeof setTimeout?setTimeout:_}catch{E=_}try{f="function"==typeof clearTimeout?clearTimeout:k}catch{f=k}}();var O,P=[],M=!1,F=-1;function L(){!M||!O||(M=!1,O.length?P=O.concat(P):F=-1,P.length&&D())}function D(){if(!M){var G=H(L);M=!0;for(var re=P.length;re;){for(O=P,P=[];++F<re;)O&&O[F].run();F=-1,re=P.length}O=null,M=!1,function x(G){if(f===clearTimeout)return clearTimeout(G);if((f===k||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(G);try{return f(G)}catch{try{return f.call(null,G)}catch{return f.call(this,G)}}}(G)}}function X(G,re){this.fun=G,this.array=re}function j(){}z.nextTick=function(G){var re=new Array(arguments.length-1);if(arguments.length>1)for(var te=1;te<arguments.length;te++)re[te-1]=arguments[te];P.push(new X(G,re)),1===P.length&&!M&&H(D)},X.prototype.run=function(){this.fun.apply(null,this.array)},z.title="browser",z.browser=!0,z.env={},z.argv=[],z.version="",z.versions={},z.on=j,z.addListener=j,z.once=j,z.off=j,z.removeListener=j,z.removeAllListeners=j,z.emit=j,z.prependListener=j,z.prependOnceListener=j,z.listeners=function(G){return[]},z.binding=function(G){throw new Error("process.binding is not supported")},z.cwd=function(){return"/"},z.chdir=function(G){throw new Error("process.chdir is not supported")},z.umask=function(){return 0}},52965:(je,z,E)=>{z.publicEncrypt=E(87267),z.privateDecrypt=E(98613),z.privateEncrypt=function(_,k){return z.publicEncrypt(_,k,!0)},z.publicDecrypt=function(_,k){return z.privateDecrypt(_,k,!0)}},30715:(je,z,E)=>{var f=E(67211),_=E(27054).Buffer;function k(H){var x=_.allocUnsafe(4);return x.writeUInt32BE(H,0),x}je.exports=function(H,x){for(var O,P=_.alloc(0),M=0;P.length<x;)O=k(M++),P=_.concat([P,f("sha1").update(H).update(O).digest()]);return P.slice(0,x)}},16508:function(je,z,E){!function(f,_){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var P;"object"==typeof f?f.exports=x:_.BN=x,x.BN=x,x.wordSize=26;try{P=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(51069).Buffer}catch{}function M(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=M(C,u);return u-1>=a&&(y|=M(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,A=Math.min(T,T-N)+y,s=0,v=y;v<A;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,A=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=A>>>26,W=67108863&A,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,A=0|v}return 0!==A?u.words[s]=0|A:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],A=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-A.length]+A+y:A+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof P<"u"),this.toArrayLike(P,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var A,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[s]=A;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)A=v.andln(255),v.iushrn(8),N[S-s-1]=A}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var A,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,be=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,Et=0|g[7],We=8191&Et,Le=Et>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,tt=ge>>>13,Bt=0|S[1],vt=8191&Bt,It=Bt>>>13,Gt=0|S[2],hn=8191&Gt,dn=Gt>>>13,ar=0|S[3],An=8191&ar,en=ar>>>13,Qt=0|S[4],_t=8191&Qt,ft=Qt>>>13,Wt=0|S[5],qt=8191&Wt,pn=Wt>>>13,fr=0|S[6],gt=8191&fr,Mt=fr>>>13,St=0|S[7],Ye=8191&St,nt=St>>>13,Ht=0|S[8],Nt=8191&Ht,un=Ht>>>13,Wn=0|S[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^u.negative,y.length=19;var Or=(N+(A=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,A=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(N+(A=A+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,A=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(be,Ae)|0,v=Math.imul(be,tt),A=A+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(N+(A=A+Math.imul(K,hn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,hn)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,A=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),A=A+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,It)|0,A=A+Math.imul(_e,hn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,hn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(N+(A=A+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;N=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,A=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),A=A+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,It)|0,A=A+Math.imul(Se,hn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,hn)|0,v=v+Math.imul(be,dn)|0,A=A+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(N+(A=A+Math.imul(K,_t)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,_t)|0))<<13)|0;N=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,A=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),A=A+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,It)|0,A=A+Math.imul(ye,hn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,hn)|0,v=v+Math.imul(De,dn)|0,A=A+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(be,An)|0,v=v+Math.imul(be,en)|0,A=A+Math.imul(_e,_t)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,_t)|0,v=v+Math.imul(Oe,ft)|0;var Te=(N+(A=A+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,pn)|0)+Math.imul(ee,qt)|0))<<13)|0;N=((v=v+Math.imul(ee,pn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,A=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),A=A+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,It)|0,A=A+Math.imul(ue,hn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,hn)|0,v=v+Math.imul(Q,dn)|0,A=A+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,A=A+Math.imul(Se,_t)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(be,_t)|0,v=v+Math.imul(be,ft)|0,A=A+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,pn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,pn)|0;var Be=(N+(A=A+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mt)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,Mt)|0)+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,A=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),A=A+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,It)|0,A=A+Math.imul(fe,hn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,hn)|0,v=v+Math.imul(Ee,dn)|0,A=A+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,A=A+Math.imul(ye,_t)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,_t)|0,v=v+Math.imul(De,ft)|0,A=A+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,pn)|0)+Math.imul(be,qt)|0,v=v+Math.imul(be,pn)|0,A=A+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,Mt)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,Mt)|0;var xt=(N+(A=A+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,A=Math.imul(B,Ae),s=(s=Math.imul(B,tt))+Math.imul(w,Ae)|0,v=Math.imul(w,tt),A=A+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,It)|0,A=A+Math.imul($e,hn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,hn)|0,v=v+Math.imul(Fe,dn)|0,A=A+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,A=A+Math.imul(ue,_t)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,_t)|0,v=v+Math.imul(Q,ft)|0,A=A+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,pn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,pn)|0,A=A+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,Mt)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,Mt)|0,A=A+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(N+(A=A+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;N=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,A=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),A=A+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,It)|0,A=A+Math.imul(We,hn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,hn)|0,v=v+Math.imul(Le,dn)|0,A=A+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,A=A+Math.imul(fe,_t)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,_t)|0,v=v+Math.imul(Ee,ft)|0,A=A+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,pn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,pn)|0,A=A+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,Mt)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,Mt)|0,A=A+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Ye)|0,v=v+Math.imul(be,nt)|0,A=A+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(N+(A=A+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;N=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,A=Math.imul(U,vt),s=(s=Math.imul(U,It))+Math.imul(ne,vt)|0,v=Math.imul(ne,It),A=A+Math.imul(B,hn)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,hn)|0,v=v+Math.imul(w,dn)|0,A=A+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,A=A+Math.imul($e,_t)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,_t)|0,v=v+Math.imul(Fe,ft)|0,A=A+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,pn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,pn)|0,A=A+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,Mt)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,Mt)|0,A=A+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,A=A+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(be,Nt)|0,v=v+Math.imul(be,un)|0;var Kn=(N+(A=A+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;N=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(U,hn),s=(s=Math.imul(U,dn))+Math.imul(ne,hn)|0,v=Math.imul(ne,dn),A=A+Math.imul(B,An)|0,s=(s=s+Math.imul(B,en)|0)+Math.imul(w,An)|0,v=v+Math.imul(w,en)|0,A=A+Math.imul(We,_t)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,_t)|0,v=v+Math.imul(Le,ft)|0,A=A+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,pn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,pn)|0,A=A+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,Mt)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,Mt)|0,A=A+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,A=A+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var tr=(N+(A=A+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(be,En)|0))<<13)|0;N=((v=v+Math.imul(be,kn)|0)+(s>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),A=A+Math.imul(B,_t)|0,s=(s=s+Math.imul(B,ft)|0)+Math.imul(w,_t)|0,v=v+Math.imul(w,ft)|0,A=A+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,pn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,pn)|0,A=A+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,Mt)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,Mt)|0,A=A+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,A=A+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var Dr=(N+(A=A+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;N=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,A=Math.imul(U,_t),s=(s=Math.imul(U,ft))+Math.imul(ne,_t)|0,v=Math.imul(ne,ft),A=A+Math.imul(B,qt)|0,s=(s=s+Math.imul(B,pn)|0)+Math.imul(w,qt)|0,v=v+Math.imul(w,pn)|0,A=A+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,Mt)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,Mt)|0,A=A+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,A=A+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Mr=(N+(A=A+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;N=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,A=Math.imul(U,qt),s=(s=Math.imul(U,pn))+Math.imul(ne,qt)|0,v=Math.imul(ne,pn),A=A+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,Mt)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,Mt)|0,A=A+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,A=A+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Ir=(N+(A=A+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;N=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,A=Math.imul(U,gt),s=(s=Math.imul(U,Mt))+Math.imul(ne,gt)|0,v=Math.imul(ne,Mt),A=A+Math.imul(B,Ye)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Ye)|0,v=v+Math.imul(w,nt)|0,A=A+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(N+(A=A+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;N=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,A=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),A=A+Math.imul(B,Nt)|0,s=(s=s+Math.imul(B,un)|0)+Math.imul(w,Nt)|0,v=v+Math.imul(w,un)|0;var ni=(N+(A=A+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;N=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(ni>>>26)|0,ni&=67108863,A=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(N+(A=A+Math.imul(B,En)|0)|0)+((8191&(s=(s=s+Math.imul(B,kn)|0)+Math.imul(w,En)|0))<<13)|0;N=((v=v+Math.imul(w,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(N+(A=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return N=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Be,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=tr,T[12]=Dr,T[13]=Mr,T[14]=Ir,T[15]=jr,T[16]=ni,T[17]=tn,T[18]=_n,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Z).mulp(C,a,u)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,A=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=A;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Z.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Z.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Z.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Z.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var A=N<<1,s=Math.cos(2*Math.PI/A),v=Math.sin(2*Math.PI/A),W=0;W<S;W+=A)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+N],Se=g[W+ce+N],be=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=be),g[W+ce]=Oe+Se,y[W+ce+N]=_e-Ve,g[W+ce+N]=Oe-Se,ce!==A&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Z.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Z.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Z.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Z.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Z.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Z.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),A=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,A,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=A[ce]*W[ce]-s[ce]*K[ce];s[ce]=A[ce]*K[ce]+s[ce]*W[ce],A[ce]=_e}return this.conjugate(A,s,g),this.transform(A,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,A=y;if(g-=T,g=Math.max(0,g),A){for(var s=0;s<T;s++)A.words[s]=this.words[s];A.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return A&&0!==v&&(A.words[A.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var A=(0|a.words[S])*u;N=((T-=67108863&A)>>26)-(A/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,A=g.length-S.length;if("mod"!==u){(s=new x(null)).length=A+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,A);0===W.negative&&(g=W,s&&(s.words[A]=1));for(var K=A-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),A=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++A;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(A)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,A=1;!(u.words[0]&A)&&N<26;++N,A<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(ie[a])return ie[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return ie[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),A=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,A).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,A=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++A||0===S&&0===W)&&(T=this.mul(T,g[N]),A=0,N=0)):A=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=E.nmd(je),this)},98613:(je,z,E)=>{var f=E(65667),_=E(30715),k=E(37196),H=E(16508),x=E(14105),P=E(67211),M=E(10568),O=E(27054).Buffer;je.exports=function(j,G,re){var te;te=j.padding?j.padding:re?1:4;var ie,J=f(j),Z=J.modulus.byteLength();if(G.length>Z||new H(G).cmp(J.modulus)>=0)throw new Error("decryption error");ie=re?M(new H(G),J):x(G,J);var ae=O.alloc(Z-ie.length);if(ie=O.concat([ae,ie],Z),4===te)return function F(X,j){var G=X.modulus.byteLength(),re=P("sha1").update(O.alloc(0)).digest(),te=re.length;if(0!==j[0])throw new Error("decryption error");var J=j.slice(1,te+1),Z=j.slice(te+1),ie=k(J,_(Z,te)),ae=k(Z,_(ie,G-te-1));if(function D(X,j){X=O.from(X),j=O.from(j);var G=0,re=X.length;X.length!==j.length&&(G++,re=Math.min(X.length,j.length));for(var te=-1;++te<re;)G+=X[te]^j[te];return G}(re,ae.slice(0,te)))throw new Error("decryption error");for(var se=te;0===ae[se];)se++;if(1!==ae[se++])throw new Error("decryption error");return ae.slice(se)}(J,ie);if(1===te)return function L(X,j,G){for(var re=j.slice(0,2),te=2,J=0;0!==j[te++];)if(te>=j.length){J++;break}var Z=j.slice(2,te-1);if(("0002"!==re.toString("hex")&&!G||"0001"!==re.toString("hex")&&G)&&J++,Z.length<8&&J++,J)throw new Error("decryption error");return j.slice(te)}(0,ie,re);if(3===te)return ie;throw new Error("unknown padding")}},87267:(je,z,E)=>{var f=E(65667),_=E(3342),k=E(67211),H=E(30715),x=E(37196),P=E(16508),M=E(10568),O=E(14105),F=E(27054).Buffer;je.exports=function(G,re,te){var J;J=G.padding?G.padding:te?1:4;var ie,Z=f(G);if(4===J)ie=function L(j,G){var re=j.modulus.byteLength(),te=G.length,J=k("sha1").update(F.alloc(0)).digest(),Z=J.length,ie=2*Z;if(te>re-ie-2)throw new Error("message too long");var ae=F.alloc(re-te-ie-2),se=re-Z-1,de=_(Z),le=x(F.concat([J,ae,F.alloc(1,1),G],se),H(de,se)),we=x(de,H(le,Z));return new P(F.concat([F.alloc(1),we,le],re))}(Z,re);else if(1===J)ie=function D(j,G,re){var Z,te=G.length,J=j.modulus.byteLength();if(te>J-11)throw new Error("message too long");return Z=re?F.alloc(J-te-3,255):function X(j){for(var Z,G=F.allocUnsafe(j),re=0,te=_(2*j),J=0;re<j;)J===te.length&&(te=_(2*j),J=0),(Z=te[J++])&&(G[re++]=Z);return G}(J-te-3),new P(F.concat([F.from([0,re?1:2]),Z,F.alloc(1),G],J))}(Z,re,te);else{if(3!==J)throw new Error("unknown padding");if((ie=new P(re)).cmp(Z.modulus)>=0)throw new Error("data too long for modulus")}return te?O(ie,Z):M(ie,Z)}},10568:(je,z,E)=>{var f=E(16508),_=E(27054).Buffer;je.exports=function k(H,x){return _.from(H.toRed(f.mont(x.modulus)).redPow(new f(x.publicExponent)).fromRed().toArray())}},37196:je=>{je.exports=function(E,f){for(var _=E.length,k=-1;++k<_;)E[k]^=f[k];return E}},24515:je=>{let z;je.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):E=>(z||(z=Promise.resolve())).then(E).catch(f=>setTimeout(()=>{throw f},0))},3342:(je,z,E)=>{"use strict";var f=E(40573),_=65536,x=E(27054).Buffer,P=globalThis.crypto||globalThis.msCrypto;je.exports=P&&P.getRandomValues?function M(O,F){if(O>4294967295)throw new RangeError("requested too many random bytes");var L=x.allocUnsafe(O);if(O>0)if(O>_)for(var D=0;D<O;D+=_)P.getRandomValues(L.slice(D,D+_));else P.getRandomValues(L);return"function"==typeof F?f.nextTick(function(){F(null,L)}):L}:function H(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:(je,z,E)=>{"use strict";var f=E(40573);function _(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var k=E(27054),H=E(3342),x=k.Buffer,P=k.kMaxLength,M=globalThis.crypto||globalThis.msCrypto,O=Math.pow(2,32)-1;function F(G,re){if("number"!=typeof G||G!=G)throw new TypeError("offset must be a number");if(G>O||G<0)throw new TypeError("offset must be a uint32");if(G>P||G>re)throw new RangeError("offset out of range")}function L(G,re,te){if("number"!=typeof G||G!=G)throw new TypeError("size must be a number");if(G>O||G<0)throw new TypeError("size must be a uint32");if(G+re>te||G>P)throw new RangeError("buffer too small")}function X(G,re,te,J){if(f.browser){var ie=new Uint8Array(G.buffer,re,te);return M.getRandomValues(ie),J?void f.nextTick(function(){J(null,G)}):G}if(!J)return H(te).copy(G,re),G;H(te,function(se,de){if(se)return J(se);de.copy(G,re),J(null,G)})}M&&M.getRandomValues||!f.browser?(z.randomFill=function D(G,re,te,J){if(!(x.isBuffer(G)||G instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof re)J=re,re=0,te=G.length;else if("function"==typeof te)J=te,te=G.length-re;else if("function"!=typeof J)throw new TypeError('"cb" argument must be a function');return F(re,G.length),L(te,re,G.length),X(G,re,te,J)},z.randomFillSync=function j(G,re,te){if(typeof re>"u"&&(re=0),!(x.isBuffer(G)||G instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return F(re,G.length),void 0===te&&(te=G.length-re),L(te,re,G.length),X(G,re,te)}):(z.randomFill=_,z.randomFillSync=_)},26113:je=>{"use strict";var E={};function f(P,M,O){O||(O=Error);var L=function(D){function X(j,G,re){return D.call(this,function F(D,X,j){return"string"==typeof M?M:M(D,X,j)}(j,G,re))||this}return function z(P,M){P.prototype=Object.create(M.prototype),P.prototype.constructor=P,P.__proto__=M}(X,D),X}(O);L.prototype.name=O.name,L.prototype.code=P,E[P]=L}function _(P,M){if(Array.isArray(P)){var O=P.length;return P=P.map(function(F){return String(F)}),O>2?"one of ".concat(M," ").concat(P.slice(0,O-1).join(", "),", or ")+P[O-1]:2===O?"one of ".concat(M," ").concat(P[0]," or ").concat(P[1]):"of ".concat(M," ").concat(P[0])}return"of ".concat(M," ").concat(String(P))}f("ERR_INVALID_OPT_VALUE",function(P,M){return'The value "'+M+'" is invalid for option "'+P+'"'},TypeError),f("ERR_INVALID_ARG_TYPE",function(P,M,O){var F,L;if("string"==typeof M&&function k(P,M,O){return P.substr(!O||O<0?0:+O,M.length)===M}(M,"not ")?(F="must not be",M=M.replace(/^not /,"")):F="must be",function H(P,M,O){return(void 0===O||O>P.length)&&(O=P.length),P.substring(O-M.length,O)===M}(P," argument"))L="The ".concat(P," ").concat(F," ").concat(_(M,"type"));else{var D=function x(P,M,O){return"number"!=typeof O&&(O=0),!(O+M.length>P.length)&&-1!==P.indexOf(M,O)}(P,".")?"property":"argument";L='The "'.concat(P,'" ').concat(D," ").concat(F," ").concat(_(M,"type"))}return L+". Received type ".concat(typeof O)},TypeError),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),f("ERR_METHOD_NOT_IMPLEMENTED",function(P){return"The "+P+" method is not implemented"}),f("ERR_STREAM_PREMATURE_CLOSE","Premature close"),f("ERR_STREAM_DESTROYED",function(P){return"Cannot call "+P+" after a stream was destroyed"}),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),f("ERR_STREAM_WRITE_AFTER_END","write after end"),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_UNKNOWN_ENCODING",function(P){return"Unknown encoding: "+P},TypeError),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),je.exports.F=E},74075:(je,z,E)=>{"use strict";var f=E(40573),_=Object.keys||function(D){var X=[];for(var j in D)X.push(j);return X};je.exports=O;var k=E(19609),H=E(47849);E(71993)(O,k);for(var x=_(H.prototype),P=0;P<x.length;P++){var M=x[P];O.prototype[M]||(O.prototype[M]=H.prototype[M])}function O(D){if(!(this instanceof O))return new O(D);k.call(this,D),H.call(this,D),this.allowHalfOpen=!0,D&&(!1===D.readable&&(this.readable=!1),!1===D.writable&&(this.writable=!1),!1===D.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",F)))}function F(){this._writableState.ended||f.nextTick(L,this)}function L(D){D.end()}Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(X){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=X,this._writableState.destroyed=X)}})},18823:(je,z,E)=>{"use strict";je.exports=_;var f=E(2909);function _(k){if(!(this instanceof _))return new _(k);f.call(this,k)}E(71993)(_,f),_.prototype._transform=function(k,H,x){x(null,k)}},19609:(je,z,E)=>{"use strict";var _,f=E(40573);je.exports=a,a.ReadableState=C,E(44356);var D,H=function(ue,Q){return ue.listeners(Q).length},x=E(18342),P=E(83838).Buffer,M=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},L=E(79838);D=L&&L.debuglog?L.debuglog("stream"):function(){};var se,de,le,X=E(19588),j=E(21509),re=E(42934).getHighWaterMark,te=E(26113).F,J=te.ERR_INVALID_ARG_TYPE,Z=te.ERR_STREAM_PUSH_AFTER_EOF,ie=te.ERR_METHOD_NOT_IMPLEMENTED,ae=te.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;E(71993)(a,x);var we=j.errorOrDestroy,xe=["error","close","destroy","pause","resume"];function C(pe,ue,Q){_=_||E(74075),"boolean"!=typeof Q&&(Q=ue instanceof _),this.objectMode=!!(pe=pe||{}).objectMode,Q&&(this.objectMode=this.objectMode||!!pe.readableObjectMode),this.highWaterMark=re(this,pe,"readableHighWaterMark",Q),this.buffer=new X,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==pe.emitClose,this.autoDestroy=!!pe.autoDestroy,this.destroyed=!1,this.defaultEncoding=pe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,pe.encoding&&(se||(se=E(78454).StringDecoder),this.decoder=new se(pe.encoding),this.encoding=pe.encoding)}function a(pe){if(_=_||E(74075),!(this instanceof a))return new a(pe);this._readableState=new C(pe,this,this instanceof _),this.readable=!0,pe&&("function"==typeof pe.read&&(this._read=pe.read),"function"==typeof pe.destroy&&(this._destroy=pe.destroy)),x.call(this)}function u(pe,ue,Q,oe,fe){D("readableAddChunk",ue);var Re,Ee=pe._readableState;if(null===ue)Ee.reading=!1,function A(pe,ue){if(D("onEofChunk"),!ue.ended){if(ue.decoder){var Q=ue.decoder.end();Q&&Q.length&&(ue.buffer.push(Q),ue.length+=ue.objectMode?1:Q.length)}ue.ended=!0,ue.sync?s(pe):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,v(pe)))}}(pe,Ee);else if(fe||(Re=function g(pe,ue){var Q;return!function F(pe){return P.isBuffer(pe)||pe instanceof M}(ue)&&"string"!=typeof ue&&void 0!==ue&&!pe.objectMode&&(Q=new J("chunk",["string","Buffer","Uint8Array"],ue)),Q}(Ee,ue)),Re)we(pe,Re);else if(Ee.objectMode||ue&&ue.length>0)if("string"!=typeof ue&&!Ee.objectMode&&Object.getPrototypeOf(ue)!==P.prototype&&(ue=function O(pe){return P.from(pe)}(ue)),oe)Ee.endEmitted?we(pe,new ae):y(pe,Ee,ue,!0);else if(Ee.ended)we(pe,new Z);else{if(Ee.destroyed)return!1;Ee.reading=!1,Ee.decoder&&!Q?(ue=Ee.decoder.write(ue),Ee.objectMode||0!==ue.length?y(pe,Ee,ue,!1):W(pe,Ee)):y(pe,Ee,ue,!1)}else oe||(Ee.reading=!1,W(pe,Ee));return!Ee.ended&&(Ee.length<Ee.highWaterMark||0===Ee.length)}function y(pe,ue,Q,oe){ue.flowing&&0===ue.length&&!ue.sync?(ue.awaitDrain=0,pe.emit("data",Q)):(ue.length+=ue.objectMode?1:Q.length,oe?ue.buffer.unshift(Q):ue.buffer.push(Q),ue.needReadable&&s(pe)),W(pe,ue)}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ue){this._readableState&&(this._readableState.destroyed=ue)}}),a.prototype.destroy=j.destroy,a.prototype._undestroy=j.undestroy,a.prototype._destroy=function(pe,ue){ue(pe)},a.prototype.push=function(pe,ue){var oe,Q=this._readableState;return Q.objectMode?oe=!0:"string"==typeof pe&&((ue=ue||Q.defaultEncoding)!==Q.encoding&&(pe=P.from(pe,ue),ue=""),oe=!0),u(this,pe,ue,!1,oe)},a.prototype.unshift=function(pe){return u(this,pe,null,!0,!1)},a.prototype.isPaused=function(){return!1===this._readableState.flowing},a.prototype.setEncoding=function(pe){se||(se=E(78454).StringDecoder);var ue=new se(pe);this._readableState.decoder=ue,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,oe="";null!==Q;)oe+=ue.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),""!==oe&&this._readableState.buffer.push(oe),this._readableState.length=oe.length,this};var S=1073741824;function N(pe,ue){return pe<=0||0===ue.length&&ue.ended?0:ue.objectMode?1:pe!=pe?ue.flowing&&ue.length?ue.buffer.head.data.length:ue.length:(pe>ue.highWaterMark&&(ue.highWaterMark=function T(pe){return pe>=S?pe=S:(pe--,pe|=pe>>>1,pe|=pe>>>2,pe|=pe>>>4,pe|=pe>>>8,pe|=pe>>>16,pe++),pe}(pe)),pe<=ue.length?pe:ue.ended?ue.length:(ue.needReadable=!0,0))}function s(pe){var ue=pe._readableState;D("emitReadable",ue.needReadable,ue.emittedReadable),ue.needReadable=!1,ue.emittedReadable||(D("emitReadable",ue.flowing),ue.emittedReadable=!0,f.nextTick(v,pe))}function v(pe){var ue=pe._readableState;D("emitReadable_",ue.destroyed,ue.length,ue.ended),!ue.destroyed&&(ue.length||ue.ended)&&(pe.emit("readable"),ue.emittedReadable=!1),ue.needReadable=!ue.flowing&&!ue.ended&&ue.length<=ue.highWaterMark,Se(pe)}function W(pe,ue){ue.readingMore||(ue.readingMore=!0,f.nextTick(K,pe,ue))}function K(pe,ue){for(;!ue.reading&&!ue.ended&&(ue.length<ue.highWaterMark||ue.flowing&&0===ue.length);){var Q=ue.length;if(D("maybeReadMore read 0"),pe.read(0),Q===ue.length)break}ue.readingMore=!1}function ce(pe){var ue=pe._readableState;ue.readableListening=pe.listenerCount("readable")>0,ue.resumeScheduled&&!ue.paused?ue.flowing=!0:pe.listenerCount("data")>0&&pe.resume()}function _e(pe){D("readable nexttick read 0"),pe.read(0)}function Ve(pe,ue){D("resume",ue.reading),ue.reading||pe.read(0),ue.resumeScheduled=!1,pe.emit("resume"),Se(pe),ue.flowing&&!ue.reading&&pe.read(0)}function Se(pe){var ue=pe._readableState;for(D("flow",ue.flowing);ue.flowing&&null!==pe.read(););}function be(pe,ue){return 0===ue.length?null:(ue.objectMode?Q=ue.buffer.shift():!pe||pe>=ue.length?(Q=ue.decoder?ue.buffer.join(""):1===ue.buffer.length?ue.buffer.first():ue.buffer.concat(ue.length),ue.buffer.clear()):Q=ue.buffer.consume(pe,ue.decoder),Q);var Q}function Ue(pe){var ue=pe._readableState;D("endReadable",ue.endEmitted),ue.endEmitted||(ue.ended=!0,f.nextTick(ye,ue,pe))}function ye(pe,ue){if(D("endReadableNT",pe.endEmitted,pe.length),!pe.endEmitted&&0===pe.length&&(pe.endEmitted=!0,ue.readable=!1,ue.emit("end"),pe.autoDestroy)){var Q=ue._writableState;(!Q||Q.autoDestroy&&Q.finished)&&ue.destroy()}}function De(pe,ue){for(var Q=0,oe=pe.length;Q<oe;Q++)if(pe[Q]===ue)return Q;return-1}a.prototype.read=function(pe){D("read",pe),pe=parseInt(pe,10);var ue=this._readableState,Q=pe;if(0!==pe&&(ue.emittedReadable=!1),0===pe&&ue.needReadable&&((0!==ue.highWaterMark?ue.length>=ue.highWaterMark:ue.length>0)||ue.ended))return D("read: emitReadable",ue.length,ue.ended),0===ue.length&&ue.ended?Ue(this):s(this),null;if(0===(pe=N(pe,ue))&&ue.ended)return 0===ue.length&&Ue(this),null;var fe,oe=ue.needReadable;return D("need readable",oe),(0===ue.length||ue.length-pe<ue.highWaterMark)&&D("length less than watermark",oe=!0),ue.ended||ue.reading?D("reading or ended",oe=!1):oe&&(D("do read"),ue.reading=!0,ue.sync=!0,0===ue.length&&(ue.needReadable=!0),this._read(ue.highWaterMark),ue.sync=!1,ue.reading||(pe=N(Q,ue))),null===(fe=pe>0?be(pe,ue):null)?(ue.needReadable=ue.length<=ue.highWaterMark,pe=0):(ue.length-=pe,ue.awaitDrain=0),0===ue.length&&(ue.ended||(ue.needReadable=!0),Q!==pe&&ue.ended&&Ue(this)),null!==fe&&this.emit("data",fe),fe},a.prototype._read=function(pe){we(this,new ie("_read()"))},a.prototype.pipe=function(pe,ue){var Q=this,oe=this._readableState;switch(oe.pipesCount){case 0:oe.pipes=pe;break;case 1:oe.pipes=[oe.pipes,pe];break;default:oe.pipes.push(pe)}oe.pipesCount+=1,D("pipe count=%d opts=%j",oe.pipesCount,ue);var Ee=ue&&!1===ue.end||pe===f.stdout||pe===f.stderr?m:$e;function $e(){D("onend"),pe.end()}oe.endEmitted?f.nextTick(Ee):Q.once("end",Ee),pe.on("unpipe",function Re(U,ne){D("onunpipe"),U===Q&&ne&&!1===ne.hasUnpiped&&(ne.hasUnpiped=!0,function We(){D("cleanup"),pe.removeListener("close",B),pe.removeListener("finish",w),pe.removeListener("drain",Fe),pe.removeListener("error",lt),pe.removeListener("unpipe",Re),Q.removeListener("end",$e),Q.removeListener("end",m),Q.removeListener("data",Le),Et=!0,oe.awaitDrain&&(!pe._writableState||pe._writableState.needDrain)&&Fe()}())});var Fe=function ee(pe){return function(){var Q=pe._readableState;D("pipeOnDrain",Q.awaitDrain),Q.awaitDrain&&Q.awaitDrain--,0===Q.awaitDrain&&H(pe,"data")&&(Q.flowing=!0,Se(pe))}}(Q);pe.on("drain",Fe);var Et=!1;function Le(U){D("ondata");var ne=pe.write(U);D("dest.write",ne),!1===ne&&((1===oe.pipesCount&&oe.pipes===pe||oe.pipesCount>1&&-1!==De(oe.pipes,pe))&&!Et&&(D("false write response, pause",oe.awaitDrain),oe.awaitDrain++),Q.pause())}function lt(U){D("onerror",U),m(),pe.removeListener("error",lt),0===H(pe,"error")&&we(pe,U)}function B(){pe.removeListener("finish",w),m()}function w(){D("onfinish"),pe.removeListener("close",B),m()}function m(){D("unpipe"),Q.unpipe(pe)}return Q.on("data",Le),function Ce(pe,ue,Q){if("function"==typeof pe.prependListener)return pe.prependListener(ue,Q);pe._events&&pe._events[ue]?Array.isArray(pe._events[ue])?pe._events[ue].unshift(Q):pe._events[ue]=[Q,pe._events[ue]]:pe.on(ue,Q)}(pe,"error",lt),pe.once("close",B),pe.once("finish",w),pe.emit("pipe",Q),oe.flowing||(D("pipe resume"),Q.resume()),pe},a.prototype.unpipe=function(pe){var ue=this._readableState,Q={hasUnpiped:!1};if(0===ue.pipesCount)return this;if(1===ue.pipesCount)return pe&&pe!==ue.pipes||(pe||(pe=ue.pipes),ue.pipes=null,ue.pipesCount=0,ue.flowing=!1,pe&&pe.emit("unpipe",this,Q)),this;if(!pe){var oe=ue.pipes,fe=ue.pipesCount;ue.pipes=null,ue.pipesCount=0,ue.flowing=!1;for(var Ee=0;Ee<fe;Ee++)oe[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}var Re=De(ue.pipes,pe);return-1===Re||(ue.pipes.splice(Re,1),ue.pipesCount-=1,1===ue.pipesCount&&(ue.pipes=ue.pipes[0]),pe.emit("unpipe",this,Q)),this},a.prototype.addListener=a.prototype.on=function(pe,ue){var Q=x.prototype.on.call(this,pe,ue),oe=this._readableState;return"data"===pe?(oe.readableListening=this.listenerCount("readable")>0,!1!==oe.flowing&&this.resume()):"readable"===pe&&!oe.endEmitted&&!oe.readableListening&&(oe.readableListening=oe.needReadable=!0,oe.flowing=!1,oe.emittedReadable=!1,D("on readable",oe.length,oe.reading),oe.length?s(this):oe.reading||f.nextTick(_e,this)),Q},a.prototype.removeListener=function(pe,ue){var Q=x.prototype.removeListener.call(this,pe,ue);return"readable"===pe&&f.nextTick(ce,this),Q},a.prototype.removeAllListeners=function(pe){var ue=x.prototype.removeAllListeners.apply(this,arguments);return("readable"===pe||void 0===pe)&&f.nextTick(ce,this),ue},a.prototype.resume=function(){var pe=this._readableState;return pe.flowing||(D("resume"),pe.flowing=!pe.readableListening,function Oe(pe,ue){ue.resumeScheduled||(ue.resumeScheduled=!0,f.nextTick(Ve,pe,ue))}(this,pe)),pe.paused=!1,this},a.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},a.prototype.wrap=function(pe){var ue=this,Q=this._readableState,oe=!1;for(var fe in pe.on("end",function(){if(D("wrapped end"),Q.decoder&&!Q.ended){var Re=Q.decoder.end();Re&&Re.length&&ue.push(Re)}ue.push(null)}),pe.on("data",function(Re){D("wrapped data"),Q.decoder&&(Re=Q.decoder.write(Re)),Q.objectMode&&null==Re||!(Q.objectMode||Re&&Re.length)||ue.push(Re)||(oe=!0,pe.pause())}),pe)void 0===this[fe]&&"function"==typeof pe[fe]&&(this[fe]=function($e){return function(){return pe[$e].apply(pe,arguments)}}(fe));for(var Ee=0;Ee<xe.length;Ee++)pe.on(xe[Ee],this.emit.bind(this,xe[Ee]));return this._read=function(Re){D("wrapped _read",Re),oe&&(oe=!1,pe.resume())},this},"function"==typeof Symbol&&(a.prototype[Symbol.asyncIterator]=function(){return void 0===de&&(de=E(6320)),de(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ue){this._readableState&&(this._readableState.flowing=ue)}}),a._fromList=be,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(a.from=function(pe,ue){return void 0===le&&(le=E(87654)),le(a,pe,ue)})},2909:(je,z,E)=>{"use strict";je.exports=O;var f=E(26113).F,_=f.ERR_METHOD_NOT_IMPLEMENTED,k=f.ERR_MULTIPLE_CALLBACK,H=f.ERR_TRANSFORM_ALREADY_TRANSFORMING,x=f.ERR_TRANSFORM_WITH_LENGTH_0,P=E(74075);function M(D,X){var j=this._transformState;j.transforming=!1;var G=j.writecb;if(null===G)return this.emit("error",new k);j.writechunk=null,j.writecb=null,null!=X&&this.push(X),G(D);var re=this._readableState;re.reading=!1,(re.needReadable||re.length<re.highWaterMark)&&this._read(re.highWaterMark)}function O(D){if(!(this instanceof O))return new O(D);P.call(this,D),this._transformState={afterTransform:M.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",F)}function F(){var D=this;"function"!=typeof this._flush||this._readableState.destroyed?L(this,null,null):this._flush(function(X,j){L(D,X,j)})}function L(D,X,j){if(X)return D.emit("error",X);if(null!=j&&D.push(j),D._writableState.length)throw new x;if(D._transformState.transforming)throw new H;return D.push(null)}E(71993)(O,P),O.prototype.push=function(D,X){return this._transformState.needTransform=!1,P.prototype.push.call(this,D,X)},O.prototype._transform=function(D,X,j){j(new _("_transform()"))},O.prototype._write=function(D,X,j){var G=this._transformState;if(G.writecb=j,G.writechunk=D,G.writeencoding=X,!G.transforming){var re=this._readableState;(G.needTransform||re.needReadable||re.length<re.highWaterMark)&&this._read(re.highWaterMark)}},O.prototype._read=function(D){var X=this._transformState;null===X.writechunk||X.transforming?X.needTransform=!0:(X.transforming=!0,this._transform(X.writechunk,X.writeencoding,X.afterTransform))},O.prototype._destroy=function(D,X){P.prototype._destroy.call(this,D,function(j){X(j)})}},47849:(je,z,E)=>{"use strict";var H,f=E(40573);function k(Se){var be=this;this.next=null,this.entry=null,this.finish=function(){!function Ve(Se,be,Ue){var ye=Se.entry;for(Se.entry=null;ye;){var De=ye.callback;be.pendingcb--,De(Ue),ye=ye.next}be.corkedRequestsFree.next=Se}(be,Se)}}je.exports=C,C.WritableState=xe;var Ce,x={deprecate:E(3398)},P=E(18342),M=E(83838).Buffer,O=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},D=E(21509),j=E(42934).getHighWaterMark,G=E(26113).F,re=G.ERR_INVALID_ARG_TYPE,te=G.ERR_METHOD_NOT_IMPLEMENTED,J=G.ERR_MULTIPLE_CALLBACK,Z=G.ERR_STREAM_CANNOT_PIPE,ie=G.ERR_STREAM_DESTROYED,ae=G.ERR_STREAM_NULL_VALUES,se=G.ERR_STREAM_WRITE_AFTER_END,de=G.ERR_UNKNOWN_ENCODING,le=D.errorOrDestroy;function we(){}function xe(Se,be,Ue){H=H||E(74075),"boolean"!=typeof Ue&&(Ue=be instanceof H),this.objectMode=!!(Se=Se||{}).objectMode,Ue&&(this.objectMode=this.objectMode||!!Se.writableObjectMode),this.highWaterMark=j(this,Se,"writableHighWaterMark",Ue),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Se.decodeStrings),this.defaultEncoding=Se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(De){!function A(Se,be){var Ue=Se._writableState,ye=Ue.sync,De=Ue.writecb;if("function"!=typeof De)throw new J;if(function N(Se){Se.writing=!1,Se.writecb=null,Se.length-=Se.writelen,Se.writelen=0}(Ue),be)!function T(Se,be,Ue,ye,De){--be.pendingcb,Ue?(f.nextTick(De,ye),f.nextTick(_e,Se,be),Se._writableState.errorEmitted=!0,le(Se,ye)):(De(ye),Se._writableState.errorEmitted=!0,le(Se,ye),_e(Se,be))}(Se,Ue,ye,be,De);else{var pe=K(Ue)||Se.destroyed;!pe&&!Ue.corked&&!Ue.bufferProcessing&&Ue.bufferedRequest&&W(Se,Ue),ye?f.nextTick(s,Se,Ue,pe,De):s(Se,Ue,pe,De)}}(be,De)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Se.emitClose,this.autoDestroy=!!Se.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new k(this)}function C(Se){var be=this instanceof(H=H||E(74075));if(!be&&!Ce.call(C,this))return new C(Se);this._writableState=new xe(Se,this,be),this.writable=!0,Se&&("function"==typeof Se.write&&(this._write=Se.write),"function"==typeof Se.writev&&(this._writev=Se.writev),"function"==typeof Se.destroy&&(this._destroy=Se.destroy),"function"==typeof Se.final&&(this._final=Se.final)),P.call(this)}function S(Se,be,Ue,ye,De,pe,ue){be.writelen=ye,be.writecb=ue,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new ie("write")):Ue?Se._writev(De,be.onwrite):Se._write(De,pe,be.onwrite),be.sync=!1}function s(Se,be,Ue,ye){Ue||function v(Se,be){0===be.length&&be.needDrain&&(be.needDrain=!1,Se.emit("drain"))}(Se,be),be.pendingcb--,ye(),_e(Se,be)}function W(Se,be){be.bufferProcessing=!0;var Ue=be.bufferedRequest;if(Se._writev&&Ue&&Ue.next){var De=new Array(be.bufferedRequestCount),pe=be.corkedRequestsFree;pe.entry=Ue;for(var ue=0,Q=!0;Ue;)De[ue]=Ue,Ue.isBuf||(Q=!1),Ue=Ue.next,ue+=1;De.allBuffers=Q,S(Se,be,!0,be.length,De,"",pe.finish),be.pendingcb++,be.lastBufferedRequest=null,pe.next?(be.corkedRequestsFree=pe.next,pe.next=null):be.corkedRequestsFree=new k(be),be.bufferedRequestCount=0}else{for(;Ue;){var oe=Ue.chunk;if(S(Se,be,!1,be.objectMode?1:oe.length,oe,Ue.encoding,Ue.callback),Ue=Ue.next,be.bufferedRequestCount--,be.writing)break}null===Ue&&(be.lastBufferedRequest=null)}be.bufferedRequest=Ue,be.bufferProcessing=!1}function K(Se){return Se.ending&&0===Se.length&&null===Se.bufferedRequest&&!Se.finished&&!Se.writing}function ee(Se,be){Se._final(function(Ue){be.pendingcb--,Ue&&le(Se,Ue),be.prefinished=!0,Se.emit("prefinish"),_e(Se,be)})}function _e(Se,be){var Ue=K(be);if(Ue&&(function ce(Se,be){!be.prefinished&&!be.finalCalled&&("function"!=typeof Se._final||be.destroyed?(be.prefinished=!0,Se.emit("prefinish")):(be.pendingcb++,be.finalCalled=!0,f.nextTick(ee,Se,be)))}(Se,be),0===be.pendingcb&&(be.finished=!0,Se.emit("finish"),be.autoDestroy))){var ye=Se._readableState;(!ye||ye.autoDestroy&&ye.endEmitted)&&Se.destroy()}return Ue}E(71993)(C,P),xe.prototype.getBuffer=function(){for(var be=this.bufferedRequest,Ue=[];be;)Ue.push(be),be=be.next;return Ue},function(){try{Object.defineProperty(xe.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Ce=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(be){return!!Ce.call(this,be)||this===C&&be&&be._writableState instanceof xe}})):Ce=function(be){return be instanceof this},C.prototype.pipe=function(){le(this,new Z)},C.prototype.write=function(Se,be,Ue){var ye=this._writableState,De=!1,pe=!ye.objectMode&&function L(Se){return M.isBuffer(Se)||Se instanceof O}(Se);return pe&&!M.isBuffer(Se)&&(Se=function F(Se){return M.from(Se)}(Se)),"function"==typeof be&&(Ue=be,be=null),pe?be="buffer":be||(be=ye.defaultEncoding),"function"!=typeof Ue&&(Ue=we),ye.ending?function a(Se,be){var Ue=new se;le(Se,Ue),f.nextTick(be,Ue)}(this,Ue):(pe||function u(Se,be,Ue,ye){var De;return null===Ue?De=new ae:"string"!=typeof Ue&&!be.objectMode&&(De=new re("chunk",["string","Buffer"],Ue)),!De||(le(Se,De),f.nextTick(ye,De),!1)}(this,ye,Se,Ue))&&(ye.pendingcb++,De=function g(Se,be,Ue,ye,De,pe){if(!Ue){var ue=function y(Se,be,Ue){return!Se.objectMode&&!1!==Se.decodeStrings&&"string"==typeof be&&(be=M.from(be,Ue)),be}(be,ye,De);ye!==ue&&(Ue=!0,De="buffer",ye=ue)}var Q=be.objectMode?1:ye.length;be.length+=Q;var oe=be.length<be.highWaterMark;if(oe||(be.needDrain=!0),be.writing||be.corked){var fe=be.lastBufferedRequest;be.lastBufferedRequest={chunk:ye,encoding:De,isBuf:Ue,callback:pe,next:null},fe?fe.next=be.lastBufferedRequest:be.bufferedRequest=be.lastBufferedRequest,be.bufferedRequestCount+=1}else S(Se,be,!1,Q,ye,De,pe);return oe}(this,ye,pe,Se,be,Ue)),De},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var Se=this._writableState;Se.corked&&(Se.corked--,!Se.writing&&!Se.corked&&!Se.bufferProcessing&&Se.bufferedRequest&&W(this,Se))},C.prototype.setDefaultEncoding=function(be){if("string"==typeof be&&(be=be.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((be+"").toLowerCase())>-1))throw new de(be);return this._writableState.defaultEncoding=be,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(Se,be,Ue){Ue(new te("_write()"))},C.prototype._writev=null,C.prototype.end=function(Se,be,Ue){var ye=this._writableState;return"function"==typeof Se?(Ue=Se,Se=null,be=null):"function"==typeof be&&(Ue=be,be=null),null!=Se&&this.write(Se,be),ye.corked&&(ye.corked=1,this.uncork()),ye.ending||function Oe(Se,be,Ue){be.ending=!0,_e(Se,be),Ue&&(be.finished?f.nextTick(Ue):Se.once("finish",Ue)),be.ended=!0,Se.writable=!1}(this,ye,Ue),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(be){this._writableState&&(this._writableState.destroyed=be)}}),C.prototype.destroy=D.destroy,C.prototype._undestroy=D.undestroy,C.prototype._destroy=function(Se,be){be(Se)}},6320:(je,z,E)=>{"use strict";var _,f=E(40573);function k(se,de,le){return de=function H(se){var de=function x(se,de){if("object"!=typeof se||null===se)return se;var le=se[Symbol.toPrimitive];if(void 0!==le){var we=le.call(se,de||"default");if("object"!=typeof we)return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===de?String:Number)(se)}(se,"string");return"symbol"==typeof de?de:String(de)}(de),de in se?Object.defineProperty(se,de,{value:le,enumerable:!0,configurable:!0,writable:!0}):se[de]=le,se}var P=E(33139),M=Symbol("lastResolve"),O=Symbol("lastReject"),F=Symbol("error"),L=Symbol("ended"),D=Symbol("lastPromise"),X=Symbol("handlePromise"),j=Symbol("stream");function G(se,de){return{value:se,done:de}}function re(se){var de=se[M];if(null!==de){var le=se[j].read();null!==le&&(se[D]=null,se[M]=null,se[O]=null,de(G(le,!1)))}}function te(se){f.nextTick(re,se)}var Z=Object.getPrototypeOf(function(){}),ie=Object.setPrototypeOf((k(_={get stream(){return this[j]},next:function(){var de=this,le=this[F];if(null!==le)return Promise.reject(le);if(this[L])return Promise.resolve(G(void 0,!0));if(this[j].destroyed)return new Promise(function(C,a){f.nextTick(function(){de[F]?a(de[F]):C(G(void 0,!0))})});var xe,we=this[D];if(we)xe=new Promise(function J(se,de){return function(le,we){se.then(function(){de[L]?le(G(void 0,!0)):de[X](le,we)},we)}}(we,this));else{var Ce=this[j].read();if(null!==Ce)return Promise.resolve(G(Ce,!1));xe=new Promise(this[X])}return this[D]=xe,xe}},Symbol.asyncIterator,function(){return this}),k(_,"return",function(){var de=this;return new Promise(function(le,we){de[j].destroy(null,function(xe){xe?we(xe):le(G(void 0,!0))})})}),_),Z);je.exports=function(de){var le,we=Object.create(ie,(k(le={},j,{value:de,writable:!0}),k(le,M,{value:null,writable:!0}),k(le,O,{value:null,writable:!0}),k(le,F,{value:null,writable:!0}),k(le,L,{value:de._readableState.endEmitted,writable:!0}),k(le,X,{value:function(Ce,C){var a=we[j].read();a?(we[D]=null,we[M]=null,we[O]=null,Ce(G(a,!1))):(we[M]=Ce,we[O]=C)},writable:!0}),le));return we[D]=null,P(de,function(xe){if(xe&&"ERR_STREAM_PREMATURE_CLOSE"!==xe.code){var Ce=we[O];return null!==Ce&&(we[D]=null,we[M]=null,we[O]=null,Ce(xe)),void(we[F]=xe)}var C=we[M];null!==C&&(we[D]=null,we[M]=null,we[O]=null,C(G(void 0,!0))),we[L]=!0}),de.on("readable",te.bind(null,we)),we}},19588:(je,z,E)=>{"use strict";function f(re,te){var J=Object.keys(re);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(re);te&&(Z=Z.filter(function(ie){return Object.getOwnPropertyDescriptor(re,ie).enumerable})),J.push.apply(J,Z)}return J}function _(re){for(var te=1;te<arguments.length;te++){var J=null!=arguments[te]?arguments[te]:{};te%2?f(Object(J),!0).forEach(function(Z){k(re,Z,J[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(J)):f(Object(J)).forEach(function(Z){Object.defineProperty(re,Z,Object.getOwnPropertyDescriptor(J,Z))})}return re}function k(re,te,J){return(te=M(te))in re?Object.defineProperty(re,te,{value:J,enumerable:!0,configurable:!0,writable:!0}):re[te]=J,re}function x(re,te){for(var J=0;J<te.length;J++){var Z=te[J];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(re,M(Z.key),Z)}}function M(re){var te=function O(re,te){if("object"!=typeof re||null===re)return re;var J=re[Symbol.toPrimitive];if(void 0!==J){var Z=J.call(re,te||"default");if("object"!=typeof Z)return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===te?String:Number)(re)}(re,"string");return"symbol"==typeof te?te:String(te)}var L=E(83838).Buffer,X=E(15340).inspect,j=X&&X.custom||"inspect";function G(re,te,J){L.prototype.copy.call(re,te,J)}je.exports=function(){function re(){(function H(re,te){if(!(re instanceof te))throw new TypeError("Cannot call a class as a function")})(this,re),this.head=null,this.tail=null,this.length=0}return function P(re,te,J){te&&x(re.prototype,te),J&&x(re,J),Object.defineProperty(re,"prototype",{writable:!1})}(re,[{key:"push",value:function(J){var Z={data:J,next:null};this.length>0?this.tail.next=Z:this.head=Z,this.tail=Z,++this.length}},{key:"unshift",value:function(J){var Z={data:J,next:this.head};0===this.length&&(this.tail=Z),this.head=Z,++this.length}},{key:"shift",value:function(){if(0!==this.length){var J=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,J}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(J){if(0===this.length)return"";for(var Z=this.head,ie=""+Z.data;Z=Z.next;)ie+=J+Z.data;return ie}},{key:"concat",value:function(J){if(0===this.length)return L.alloc(0);for(var Z=L.allocUnsafe(J>>>0),ie=this.head,ae=0;ie;)G(ie.data,Z,ae),ae+=ie.data.length,ie=ie.next;return Z}},{key:"consume",value:function(J,Z){var ie;return J<this.head.data.length?(ie=this.head.data.slice(0,J),this.head.data=this.head.data.slice(J)):ie=J===this.head.data.length?this.shift():Z?this._getString(J):this._getBuffer(J),ie}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(J){var Z=this.head,ie=1,ae=Z.data;for(J-=ae.length;Z=Z.next;){var se=Z.data,de=J>se.length?se.length:J;if(ae+=de===se.length?se:se.slice(0,J),0==(J-=de)){de===se.length?(++ie,this.head=Z.next?Z.next:this.tail=null):(this.head=Z,Z.data=se.slice(de));break}++ie}return this.length-=ie,ae}},{key:"_getBuffer",value:function(J){var Z=L.allocUnsafe(J),ie=this.head,ae=1;for(ie.data.copy(Z),J-=ie.data.length;ie=ie.next;){var se=ie.data,de=J>se.length?se.length:J;if(se.copy(Z,Z.length-J,0,de),0==(J-=de)){de===se.length?(++ae,this.head=ie.next?ie.next:this.tail=null):(this.head=ie,ie.data=se.slice(de));break}++ae}return this.length-=ae,Z}},{key:j,value:function(J,Z){return X(this,_(_({},Z),{},{depth:0,customInspect:!1}))}}]),re}()},21509:(je,z,E)=>{"use strict";var f=E(40573);function k(O,F){P(O,F),H(O)}function H(O){O._writableState&&!O._writableState.emitClose||O._readableState&&!O._readableState.emitClose||O.emit("close")}function P(O,F){O.emit("error",F)}je.exports={destroy:function _(O,F){var L=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(F?F(O):O&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,f.nextTick(P,this,O)):f.nextTick(P,this,O)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(O||null,function(j){!F&&j?L._writableState?L._writableState.errorEmitted?f.nextTick(H,L):(L._writableState.errorEmitted=!0,f.nextTick(k,L,j)):f.nextTick(k,L,j):F?(f.nextTick(H,L),F(j)):f.nextTick(H,L)}),this)},undestroy:function x(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function M(O,F){var L=O._readableState,D=O._writableState;L&&L.autoDestroy||D&&D.autoDestroy?O.destroy(F):O.emit("error",F)}}},33139:(je,z,E)=>{"use strict";var f=E(26113).F.ERR_STREAM_PREMATURE_CLOSE;function k(){}je.exports=function x(P,M,O){if("function"==typeof M)return x(P,null,M);M||(M={}),O=function _(P){var M=!1;return function(){if(!M){M=!0;for(var O=arguments.length,F=new Array(O),L=0;L<O;L++)F[L]=arguments[L];P.apply(this,F)}}}(O||k);var F=M.readable||!1!==M.readable&&P.readable,L=M.writable||!1!==M.writable&&P.writable,D=function(){P.writable||j()},X=P._writableState&&P._writableState.finished,j=function(){L=!1,X=!0,F||O.call(P)},G=P._readableState&&P._readableState.endEmitted,re=function(){F=!1,G=!0,L||O.call(P)},te=function(ae){O.call(P,ae)},J=function(){var ae;return F&&!G?((!P._readableState||!P._readableState.ended)&&(ae=new f),O.call(P,ae)):L&&!X?((!P._writableState||!P._writableState.ended)&&(ae=new f),O.call(P,ae)):void 0},Z=function(){P.req.on("finish",j)};return function H(P){return P.setHeader&&"function"==typeof P.abort}(P)?(P.on("complete",j),P.on("abort",J),P.req?Z():P.on("request",Z)):L&&!P._writableState&&(P.on("end",D),P.on("close",D)),P.on("end",re),P.on("finish",j),!1!==M.error&&P.on("error",te),P.on("close",J),function(){P.removeListener("complete",j),P.removeListener("abort",J),P.removeListener("request",Z),P.req&&P.req.removeListener("finish",j),P.removeListener("end",D),P.removeListener("close",D),P.removeListener("finish",j),P.removeListener("end",re),P.removeListener("error",te),P.removeListener("close",J)}}},87654:je=>{je.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:(je,z,E)=>{"use strict";var f,k=E(26113).F,H=k.ERR_MISSING_ARGS,x=k.ERR_STREAM_DESTROYED;function P(j){if(j)throw j}function F(j){j()}function L(j,G){return j.pipe(G)}je.exports=function X(){for(var j=arguments.length,G=new Array(j),re=0;re<j;re++)G[re]=arguments[re];var te=function D(j){return j.length&&"function"==typeof j[j.length-1]?j.pop():P}(G);if(Array.isArray(G[0])&&(G=G[0]),G.length<2)throw new H("streams");var J,Z=G.map(function(ie,ae){var se=ae<G.length-1;return function O(j,G,re,te){te=function _(j){var G=!1;return function(){G||(G=!0,j.apply(void 0,arguments))}}(te);var J=!1;j.on("close",function(){J=!0}),void 0===f&&(f=E(33139)),f(j,{readable:G,writable:re},function(ie){if(ie)return te(ie);J=!0,te()});var Z=!1;return function(ie){if(!J&&!Z){if(Z=!0,function M(j){return j.setHeader&&"function"==typeof j.abort}(j))return j.abort();if("function"==typeof j.destroy)return j.destroy();te(ie||new x("pipe"))}}}(ie,se,ae>0,function(le){J||(J=le),le&&Z.forEach(F),!se&&(Z.forEach(F),te(J))})});return G.reduce(L)}},42934:(je,z,E)=>{"use strict";var f=E(26113).F.ERR_INVALID_OPT_VALUE;je.exports={getHighWaterMark:function k(H,x,P,M){var O=function _(H,x,P){return null!=H.highWaterMark?H.highWaterMark:x?H[P]:null}(x,M,P);if(null!=O){if(!isFinite(O)||Math.floor(O)!==O||O<0)throw new f(M?P:"highWaterMark",O);return Math.floor(O)}return H.objectMode?16:16384}}},18342:(je,z,E)=>{je.exports=E(44356).EventEmitter},5942:(je,z,E)=>{(z=je.exports=E(19609)).Stream=z,z.Readable=z,z.Writable=E(47849),z.Duplex=E(74075),z.Transform=E(2909),z.PassThrough=E(18823),z.finished=E(33139),z.pipeline=E(96249)},85493:(je,z,E)=>{"use strict";var _=E(29293).default;z.s=void 0;const k=E(5942);z.s=class H extends k.Readable{constructor(P){super(),this.bytesRead=0,this.released=!1,this.reader=P.getReader()}_read(){var P=this;return _(function*(){if(P.released)return void P.push(null);P.pendingRead=P.reader.read();const M=yield P.pendingRead;delete P.pendingRead,M.done||P.released?P.push(null):(P.bytesRead+=M.value.length,P.push(M.value))})()}waitForReadToComplete(){var P=this;return _(function*(){P.pendingRead&&(yield P.pendingRead)})()}close(){var P=this;return _(function*(){yield P.syncAndRelease()})()}syncAndRelease(){var P=this;return _(function*(){P.released=!0,yield P.waitForReadToComplete(),yield P.reader.releaseLock()})()}}},36636:(je,z,E)=>{"use strict";var f=E(83838).Buffer,_=E(71993),k=E(13686),H=new Array(16),x=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],P=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],M=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],O=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],F=[0,1518500249,1859775393,2400959708,2840853838],L=[1352829926,1548603684,1836072691,2053994217,0];function D(){k.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function X(Z,ie){return Z<<ie|Z>>>32-ie}function j(Z,ie,ae,se,de,le,we,xe){return X(Z+(ie^ae^se)+le+we|0,xe)+de|0}function G(Z,ie,ae,se,de,le,we,xe){return X(Z+(ie&ae|~ie&se)+le+we|0,xe)+de|0}function re(Z,ie,ae,se,de,le,we,xe){return X(Z+((ie|~ae)^se)+le+we|0,xe)+de|0}function te(Z,ie,ae,se,de,le,we,xe){return X(Z+(ie&se|ae&~se)+le+we|0,xe)+de|0}function J(Z,ie,ae,se,de,le,we,xe){return X(Z+(ie^(ae|~se))+le+we|0,xe)+de|0}_(D,k),D.prototype._update=function(){for(var Z=H,ie=0;ie<16;++ie)Z[ie]=this._block.readInt32LE(4*ie);for(var ae=0|this._a,se=0|this._b,de=0|this._c,le=0|this._d,we=0|this._e,xe=0|this._a,Ce=0|this._b,C=0|this._c,a=0|this._d,u=0|this._e,y=0;y<80;y+=1){var g,S;y<16?(g=j(ae,se,de,le,we,Z[x[y]],F[0],M[y]),S=J(xe,Ce,C,a,u,Z[P[y]],L[0],O[y])):y<32?(g=G(ae,se,de,le,we,Z[x[y]],F[1],M[y]),S=te(xe,Ce,C,a,u,Z[P[y]],L[1],O[y])):y<48?(g=re(ae,se,de,le,we,Z[x[y]],F[2],M[y]),S=re(xe,Ce,C,a,u,Z[P[y]],L[2],O[y])):y<64?(g=te(ae,se,de,le,we,Z[x[y]],F[3],M[y]),S=G(xe,Ce,C,a,u,Z[P[y]],L[3],O[y])):(g=J(ae,se,de,le,we,Z[x[y]],F[4],M[y]),S=j(xe,Ce,C,a,u,Z[P[y]],L[4],O[y])),ae=we,we=le,le=X(de,10),de=se,se=g,xe=u,u=a,a=X(C,10),C=Ce,Ce=S}var T=this._b+de+a|0;this._b=this._c+le+u|0,this._c=this._d+we+xe|0,this._d=this._e+ae+Ce|0,this._e=this._a+se+C|0,this._a=T},D.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Z=f.alloc?f.alloc(20):new f(20);return Z.writeInt32LE(this._a,0),Z.writeInt32LE(this._b,4),Z.writeInt32LE(this._c,8),Z.writeInt32LE(this._d,12),Z.writeInt32LE(this._e,16),Z},je.exports=D},81725:(je,z,E)=>{je.exports=function _(k,H,x){if("number"!=typeof H)throw new Error("second argument must be a Number");let P,M,O,F,L,X,D=!0;function j(re){function te(){x&&x(re,P),x=null}D?f(te):te()}function G(re,te,J){if(P[re]=J,te&&(L=!0),0==--O||te)j(te);else if(!L&&X<M){let Z;F?(Z=F[X],X+=1,k[Z](function(ie,ae){G(Z,ie,ae)})):(Z=X,X+=1,k[Z](function(ie,ae){G(Z,ie,ae)}))}}Array.isArray(k)?(P=[],O=M=k.length):(F=Object.keys(k),P={},O=M=F.length),X=H,O?F?F.some(function(re,te){return k[re](function(J,Z){G(re,J,Z)}),te===H-1}):k.some(function(re,te){return re(function(J,Z){G(te,J,Z)}),te===H-1}):j(null),D=!1};const f=E(24515)},84412:(je,z,E)=>{"use strict";E.d(z,{t:()=>_});var f=E(21413);class _ extends f.B{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const x=super._subscribe(H);return!x.closed&&H.next(this._value),x}getValue(){const{hasError:H,thrownError:x,_value:P}=this;if(H)throw x;return this._throwIfClosed(),P}next(H){super.next(this._value=H)}}},71985:(je,z,E)=>{"use strict";E.d(z,{c:()=>O});var f=E(47707),_=E(18359),k=E(3494),H=E(71203),x=E(41026),P=E(98071),M=E(49786);let O=(()=>{class X{constructor(G){G&&(this._subscribe=G)}lift(G){const re=new X;return re.source=this,re.operator=G,re}subscribe(G,re,te){const J=function D(X){return X&&X instanceof f.vU||function L(X){return X&&(0,P.T)(X.next)&&(0,P.T)(X.error)&&(0,P.T)(X.complete)}(X)&&(0,_.Uv)(X)}(G)?G:new f.Ms(G,re,te);return(0,M.Y)(()=>{const{operator:Z,source:ie}=this;J.add(Z?Z.call(J,ie):ie?this._subscribe(J):this._trySubscribe(J))}),J}_trySubscribe(G){try{return this._subscribe(G)}catch(re){G.error(re)}}forEach(G,re){return new(re=F(re))((te,J)=>{const Z=new f.Ms({next:ie=>{try{G(ie)}catch(ae){J(ae),Z.unsubscribe()}},error:J,complete:te});this.subscribe(Z)})}_subscribe(G){var re;return null===(re=this.source)||void 0===re?void 0:re.subscribe(G)}[k.s](){return this}pipe(...G){return(0,H.m)(G)(this)}toPromise(G){return new(G=F(G))((re,te)=>{let J;this.subscribe(Z=>J=Z,Z=>te(Z),()=>re(J))})}}return X.create=j=>new X(j),X})();function F(X){var j;return null!==(j=X??x.$.Promise)&&void 0!==j?j:Promise}},92771:(je,z,E)=>{"use strict";E.d(z,{m:()=>k});var f=E(21413),_=E(86129);class k extends f.B{constructor(x=1/0,P=1/0,M=_.U){super(),this._bufferSize=x,this._windowTime=P,this._timestampProvider=M,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=P===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,P)}next(x){const{isStopped:P,_buffer:M,_infiniteTimeWindow:O,_timestampProvider:F,_windowTime:L}=this;P||(M.push(x),!O&&M.push(F.now()+L)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const P=this._innerSubscribe(x),{_infiniteTimeWindow:M,_buffer:O}=this,F=O.slice();for(let L=0;L<F.length&&!x.closed;L+=M?1:2)x.next(F[L]);return this._checkFinalizedStatuses(x),P}_trimBuffer(){const{_bufferSize:x,_timestampProvider:P,_buffer:M,_infiniteTimeWindow:O}=this,F=(O?1:2)*x;if(x<1/0&&F<M.length&&M.splice(0,M.length-F),!O){const L=P.now();let D=0;for(let X=1;X<M.length&&M[X]<=L;X+=2)D=X;D&&M.splice(0,D+1)}}}},21413:(je,z,E)=>{"use strict";E.d(z,{B:()=>M});var f=E(71985),_=E(18359);const H=(0,E(81853).L)(F=>function(){F(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=E(57908),P=E(49786);let M=(()=>{class F extends f.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(D){const X=new O(this,this);return X.operator=D,X}_throwIfClosed(){if(this.closed)throw new H}next(D){(0,P.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(D)}})}error(D){(0,P.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=D;const{observers:X}=this;for(;X.length;)X.shift().error(D)}})}complete(){(0,P.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:D}=this;for(;D.length;)D.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var D;return(null===(D=this.observers)||void 0===D?void 0:D.length)>0}_trySubscribe(D){return this._throwIfClosed(),super._trySubscribe(D)}_subscribe(D){return this._throwIfClosed(),this._checkFinalizedStatuses(D),this._innerSubscribe(D)}_innerSubscribe(D){const{hasError:X,isStopped:j,observers:G}=this;return X||j?_.Kn:(this.currentObservers=null,G.push(D),new _.yU(()=>{this.currentObservers=null,(0,x.o)(G,D)}))}_checkFinalizedStatuses(D){const{hasError:X,thrownError:j,isStopped:G}=this;X?D.error(j):G&&D.complete()}asObservable(){const D=new f.c;return D.source=this,D}}return F.create=(L,D)=>new O(L,D),F})();class O extends M{constructor(L,D){super(),this.destination=L,this.source=D}next(L){var D,X;null===(X=null===(D=this.destination)||void 0===D?void 0:D.next)||void 0===X||X.call(D,L)}error(L){var D,X;null===(X=null===(D=this.destination)||void 0===D?void 0:D.error)||void 0===X||X.call(D,L)}complete(){var L,D;null===(D=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===D||D.call(L)}_subscribe(L){var D,X;return null!==(X=null===(D=this.source)||void 0===D?void 0:D.subscribe(L))&&void 0!==X?X:_.Kn}}},47707:(je,z,E)=>{"use strict";E.d(z,{Ms:()=>te,vU:()=>X});var f=E(98071),_=E(18359),k=E(41026),H=E(45334),x=E(85343);const P=F("C",void 0,void 0);function F(se,de,le){return{kind:se,value:de,error:le}}var L=E(19270),D=E(49786);class X extends _.yU{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,_.Uv)(de)&&de.add(this)):this.destination=ae}static create(de,le,we){return new te(de,le,we)}next(de){this.isStopped?ie(function O(se){return F("N",se,void 0)}(de),this):this._next(de)}error(de){this.isStopped?ie(function M(se){return F("E",void 0,se)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?ie(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const j=Function.prototype.bind;function G(se,de){return j.call(se,de)}class re{constructor(de){this.partialObserver=de}next(de){const{partialObserver:le}=this;if(le.next)try{le.next(de)}catch(we){J(we)}}error(de){const{partialObserver:le}=this;if(le.error)try{le.error(de)}catch(we){J(we)}else J(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(le){J(le)}}}class te extends X{constructor(de,le,we){let xe;if(super(),(0,f.T)(de)||!de)xe={next:de??void 0,error:le??void 0,complete:we??void 0};else{let Ce;this&&k.$.useDeprecatedNextContext?(Ce=Object.create(de),Ce.unsubscribe=()=>this.unsubscribe(),xe={next:de.next&&G(de.next,Ce),error:de.error&&G(de.error,Ce),complete:de.complete&&G(de.complete,Ce)}):xe=de}this.destination=new re(xe)}}function J(se){k.$.useDeprecatedSynchronousErrorHandling?(0,D.l)(se):(0,H.m)(se)}function ie(se,de){const{onStoppedNotification:le}=k.$;le&&L.f.setTimeout(()=>le(se,de))}const ae={closed:!0,next:x.l,error:function Z(se){throw se},complete:x.l}},18359:(je,z,E)=>{"use strict";E.d(z,{Kn:()=>P,yU:()=>x,Uv:()=>M});var f=E(98071);const k=(0,E(81853).L)(F=>function(D){F(this),this.message=D?`${D.length} errors occurred during unsubscription:\n${D.map((X,j)=>`${j+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=D});var H=E(57908);class x{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:D}=this;if(D)if(this._parentage=null,Array.isArray(D))for(const G of D)G.remove(this);else D.remove(this);const{initialTeardown:X}=this;if((0,f.T)(X))try{X()}catch(G){L=G instanceof k?G.errors:[G]}const{_finalizers:j}=this;if(j){this._finalizers=null;for(const G of j)try{O(G)}catch(re){L=L??[],re instanceof k?L=[...L,...re.errors]:L.push(re)}}if(L)throw new k(L)}}add(L){var D;if(L&&L!==this)if(this.closed)O(L);else{if(L instanceof x){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(D=this._finalizers)&&void 0!==D?D:[]).push(L)}}_hasParent(L){const{_parentage:D}=this;return D===L||Array.isArray(D)&&D.includes(L)}_addParent(L){const{_parentage:D}=this;this._parentage=Array.isArray(D)?(D.push(L),D):D?[D,L]:L}_removeParent(L){const{_parentage:D}=this;D===L?this._parentage=null:Array.isArray(D)&&(0,H.o)(D,L)}remove(L){const{_finalizers:D}=this;D&&(0,H.o)(D,L),L instanceof x&&L._removeParent(this)}}x.EMPTY=(()=>{const F=new x;return F.closed=!0,F})();const P=x.EMPTY;function M(F){return F instanceof x||F&&"closed"in F&&(0,f.T)(F.remove)&&(0,f.T)(F.add)&&(0,f.T)(F.unsubscribe)}function O(F){(0,f.T)(F)?F():F.unsubscribe()}},41026:(je,z,E)=>{"use strict";E.d(z,{$:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(je,z,E)=>{"use strict";E.d(z,{G:()=>P});var f=E(71985),_=E(18359),k=E(99898),H=E(54360),x=E(39974);class P extends f.c{constructor(O,F){super(),this.source=O,this.subjectFactory=F,this._subject=null,this._refCount=0,this._connection=null,(0,x.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new _.yU;const F=this.getSubject();O.add(this.source.subscribe((0,H._)(F,void 0,()=>{this._teardown(),F.complete()},L=>{this._teardown(),F.error(L)},()=>this._teardown()))),O.closed&&(this._connection=null,O=_.yU.EMPTY)}return O}refCount(){return(0,k.B)()(this)}}},84572:(je,z,E)=>{"use strict";E.d(z,{z:()=>L});var f=E(71985),_=E(93073),k=E(86648),H=E(33669),x=E(6450),P=E(9326),M=E(58496),O=E(54360),F=E(45225);function L(...j){const G=(0,P.lI)(j),re=(0,P.ms)(j),{args:te,keys:J}=(0,_.D)(j);if(0===te.length)return(0,k.H)([],G);const Z=new f.c(function D(j,G,re=H.D){return te=>{X(G,()=>{const{length:J}=j,Z=new Array(J);let ie=J,ae=J;for(let se=0;se<J;se++)X(G,()=>{const de=(0,k.H)(j[se],G);let le=!1;de.subscribe((0,O._)(te,we=>{Z[se]=we,le||(le=!0,ae--),ae||te.next(re(Z.slice()))},()=>{--ie||te.complete()}))},te)},te)}}(te,G,J?ie=>(0,M.e)(J,ie):H.D));return re?Z.pipe((0,x.I)(re)):Z}function X(j,G,re){j?(0,F.N)(re,j,G):G()}},28793:(je,z,E)=>{"use strict";E.d(z,{x:()=>x});var f=E(26365),k=E(9326),H=E(86648);function x(...P){return function _(){return(0,f.U)(1)}()((0,H.H)(P,(0,k.lI)(P)))}},59030:(je,z,E)=>{"use strict";E.d(z,{v:()=>k});var f=E(71985),_=E(58750);function k(H){return new f.c(x=>{(0,_.Tg)(H()).subscribe(x)})}},983:(je,z,E)=>{"use strict";E.d(z,{w:()=>_});const _=new(E(71985).c)(x=>x.complete())},27468:(je,z,E)=>{"use strict";E.d(z,{p:()=>O});var f=E(71985),_=E(93073),k=E(58750),H=E(9326),x=E(54360),P=E(6450),M=E(58496);function O(...F){const L=(0,H.ms)(F),{args:D,keys:X}=(0,_.D)(F),j=new f.c(G=>{const{length:re}=D;if(!re)return void G.complete();const te=new Array(re);let J=re,Z=re;for(let ie=0;ie<re;ie++){let ae=!1;(0,k.Tg)(D[ie]).subscribe((0,x._)(G,se=>{ae||(ae=!0,Z--),te[ie]=se},()=>J--,void 0,()=>{(!J||!ae)&&(Z||G.next(X?(0,M.e)(X,te):te),G.complete())}))}});return L?j.pipe((0,P.I)(L)):j}},86648:(je,z,E)=>{"use strict";E.d(z,{H:()=>we});var f=E(58750),_=E(45225),k=E(39974),H=E(54360);function x(xe,Ce=0){return(0,k.N)((C,a)=>{C.subscribe((0,H._)(a,u=>(0,_.N)(a,xe,()=>a.next(u),Ce),()=>(0,_.N)(a,xe,()=>a.complete(),Ce),u=>(0,_.N)(a,xe,()=>a.error(u),Ce)))})}function P(xe,Ce=0){return(0,k.N)((C,a)=>{a.add(xe.schedule(()=>C.subscribe(a),Ce))})}var F=E(71985),D=E(4761),X=E(98071);function G(xe,Ce){if(!xe)throw new Error("Iterable cannot be null");return new F.c(C=>{(0,_.N)(C,Ce,()=>{const a=xe[Symbol.asyncIterator]();(0,_.N)(C,Ce,()=>{a.next().then(u=>{u.done?C.complete():C.next(u.value)})},0,!0)})})}var re=E(55055),te=E(59858),J=E(47441),Z=E(85397),ie=E(37953),ae=E(50591),se=E(15196);function we(xe,Ce){return Ce?function le(xe,Ce){if(null!=xe){if((0,re.l)(xe))return function M(xe,Ce){return(0,f.Tg)(xe).pipe(P(Ce),x(Ce))}(xe,Ce);if((0,J.X)(xe))return function L(xe,Ce){return new F.c(C=>{let a=0;return Ce.schedule(function(){a===xe.length?C.complete():(C.next(xe[a++]),C.closed||this.schedule())})})}(xe,Ce);if((0,te.y)(xe))return function O(xe,Ce){return(0,f.Tg)(xe).pipe(P(Ce),x(Ce))}(xe,Ce);if((0,ie.T)(xe))return G(xe,Ce);if((0,Z.x)(xe))return function j(xe,Ce){return new F.c(C=>{let a;return(0,_.N)(C,Ce,()=>{a=xe[D.l](),(0,_.N)(C,Ce,()=>{let u,y;try{({value:u,done:y}=a.next())}catch(g){return void C.error(g)}y?C.complete():C.next(u)},0,!0)}),()=>(0,X.T)(a?.return)&&a.return()})}(xe,Ce);if((0,se.U)(xe))return function de(xe,Ce){return G((0,se.C)(xe),Ce)}(xe,Ce)}throw(0,ae.L)(xe)}(xe,Ce):(0,f.Tg)(xe)}},33726:(je,z,E)=>{"use strict";E.d(z,{R:()=>L});var f=E(58750),_=E(71985),k=E(31397),H=E(47441),x=E(98071),P=E(6450);const M=["addListener","removeListener"],O=["addEventListener","removeEventListener"],F=["on","off"];function L(re,te,J,Z){if((0,x.T)(J)&&(Z=J,J=void 0),Z)return L(re,te,J).pipe((0,P.I)(Z));const[ie,ae]=function G(re){return(0,x.T)(re.addEventListener)&&(0,x.T)(re.removeEventListener)}(re)?O.map(se=>de=>re[se](te,de,J)):function X(re){return(0,x.T)(re.addListener)&&(0,x.T)(re.removeListener)}(re)?M.map(D(re,te)):function j(re){return(0,x.T)(re.on)&&(0,x.T)(re.off)}(re)?F.map(D(re,te)):[];if(!ie&&(0,H.X)(re))return(0,k.Z)(se=>L(se,te,J))((0,f.Tg)(re));if(!ie)throw new TypeError("Invalid event target");return new _.c(se=>{const de=(...le)=>se.next(1<le.length?le:le[0]);return ie(de),()=>ae(de)})}function D(re,te){return J=>Z=>re[J](te,Z)}},58750:(je,z,E)=>{"use strict";E.d(z,{Tg:()=>j});var f=E(31635),_=E(47441),k=E(59858),H=E(71985),x=E(55055),P=E(37953),M=E(50591),O=E(85397),F=E(15196),L=E(98071),D=E(45334),X=E(3494);function j(se){if(se instanceof H.c)return se;if(null!=se){if((0,x.l)(se))return function G(se){return new H.c(de=>{const le=se[X.s]();if((0,L.T)(le.subscribe))return le.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,_.X)(se))return function re(se){return new H.c(de=>{for(let le=0;le<se.length&&!de.closed;le++)de.next(se[le]);de.complete()})}(se);if((0,k.y)(se))return function te(se){return new H.c(de=>{se.then(le=>{de.closed||(de.next(le),de.complete())},le=>de.error(le)).then(null,D.m)})}(se);if((0,P.T)(se))return Z(se);if((0,O.x)(se))return function J(se){return new H.c(de=>{for(const le of se)if(de.next(le),de.closed)return;de.complete()})}(se);if((0,F.U)(se))return function ie(se){return Z((0,F.C)(se))}(se)}throw(0,M.L)(se)}function Z(se){return new H.c(de=>{(function ae(se,de){var le,we,xe,Ce;return(0,f.sH)(this,void 0,void 0,function*(){try{for(le=(0,f.xN)(se);!(we=yield le.next()).done;)if(de.next(we.value),de.closed)return}catch(C){xe={error:C}}finally{try{we&&!we.done&&(Ce=le.return)&&(yield Ce.call(le))}finally{if(xe)throw xe.error}}de.complete()})})(se,de).catch(le=>de.error(le))})}},40605:(je,z,E)=>{"use strict";E.d(z,{Y:()=>k});var f=E(43236),_=E(41584);function k(H=0,x=f.E){return H<0&&(H=0),(0,_.O)(H,H,x)}},57786:(je,z,E)=>{"use strict";E.d(z,{h:()=>P});var f=E(26365),_=E(58750),k=E(983),H=E(9326),x=E(86648);function P(...M){const O=(0,H.lI)(M),F=(0,H.R0)(M,1/0),L=M;return L.length?1===L.length?(0,_.Tg)(L[0]):(0,f.U)(F)((0,x.H)(L,O)):k.w}},7673:(je,z,E)=>{"use strict";E.d(z,{of:()=>k});var f=E(9326),_=E(86648);function k(...H){const x=(0,f.lI)(H);return(0,_.H)(H,x)}},18810:(je,z,E)=>{"use strict";E.d(z,{$:()=>k});var f=E(71985),_=E(98071);function k(H,x){const P=(0,_.T)(H)?H:()=>H,M=O=>O.error(P());return new f.c(x?O=>x.schedule(M,0,O):M)}},41584:(je,z,E)=>{"use strict";E.d(z,{O:()=>x});var f=E(71985),_=E(43236),k=E(79470);function x(P=0,M,O=_.b){let F=-1;return null!=M&&((0,k.m)(M)?O=M:F=M),new f.c(L=>{let D=function H(P){return P instanceof Date&&!isNaN(P)}(P)?+P-O.now():P;D<0&&(D=0);let X=0;return O.schedule(function(){L.closed||(L.next(X++),0<=F?this.schedule(void 0,F):L.complete())},D)})}},54360:(je,z,E)=>{"use strict";E.d(z,{_:()=>_});var f=E(47707);function _(H,x,P,M,O){return new k(H,x,P,M,O)}class k extends f.vU{constructor(x,P,M,O,F,L){super(x),this.onFinalize=F,this.shouldUnsubscribe=L,this._next=P?function(D){try{P(D)}catch(X){x.error(X)}}:super._next,this._error=O?function(D){try{O(D)}catch(X){x.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=M?function(){try{M()}catch(D){x.error(D)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:P}=this;super.unsubscribe(),!P&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},99437:(je,z,E)=>{"use strict";E.d(z,{W:()=>H});var f=E(58750),_=E(54360),k=E(39974);function H(x){return(0,k.N)((P,M)=>{let L,O=null,F=!1;O=P.subscribe((0,_._)(M,void 0,void 0,D=>{L=(0,f.Tg)(x(D,H(x)(P))),O?(O.unsubscribe(),O=null,L.subscribe(M)):F=!0})),F&&(O.unsubscribe(),O=null,L.subscribe(M))})}},70274:(je,z,E)=>{"use strict";E.d(z,{H:()=>k});var f=E(31397),_=E(98071);function k(H,x){return(0,_.T)(x)?(0,f.Z)(H,x,1):(0,f.Z)(H,1)}},70152:(je,z,E)=>{"use strict";E.d(z,{B:()=>H});var f=E(43236),_=E(39974),k=E(54360);function H(x,P=f.E){return(0,_.N)((M,O)=>{let F=null,L=null,D=null;const X=()=>{if(F){F.unsubscribe(),F=null;const G=L;L=null,O.next(G)}};function j(){const G=D+x,re=P.now();if(re<G)return F=this.schedule(void 0,G-re),void O.add(F);X()}M.subscribe((0,k._)(O,G=>{L=G,D=P.now(),F||(F=P.schedule(j,x),O.add(F))},()=>{X(),O.complete()},void 0,()=>{L=F=null}))})}},91986:(je,z,E)=>{"use strict";E.d(z,{c:()=>j});var f=E(43236),_=E(28793),k=E(96697),H=E(39974),x=E(54360),P=E(85343),O=E(73703),F=E(31397),L=E(58750);function D(G,re){return re?te=>(0,_.x)(re.pipe((0,k.s)(1),function M(){return(0,H.N)((G,re)=>{G.subscribe((0,x._)(re,P.l))})}()),te.pipe(D(G))):(0,F.Z)((te,J)=>(0,L.Tg)(G(te,J)).pipe((0,k.s)(1),(0,O.u)(te)))}var X=E(41584);function j(G,re=f.E){const te=(0,X.O)(G,re);return D(()=>te)}},23294:(je,z,E)=>{"use strict";E.d(z,{F:()=>H});var f=E(33669),_=E(39974),k=E(54360);function H(P,M=f.D){return P=P??x,(0,_.N)((O,F)=>{let L,D=!0;O.subscribe((0,k._)(F,X=>{const j=M(X);(D||!P(L,j))&&(D=!1,L=j,F.next(X))}))})}function x(P,M){return P===M}},5964:(je,z,E)=>{"use strict";E.d(z,{p:()=>k});var f=E(39974),_=E(54360);function k(H,x){return(0,f.N)((P,M)=>{let O=0;P.subscribe((0,_._)(M,F=>H.call(x,F,O++)&&M.next(F)))})}},70980:(je,z,E)=>{"use strict";E.d(z,{j:()=>_});var f=E(39974);function _(k){return(0,f.N)((H,x)=>{try{H.subscribe(x)}finally{x.add(k)}})}},96354:(je,z,E)=>{"use strict";E.d(z,{T:()=>k});var f=E(39974),_=E(54360);function k(H,x){return(0,f.N)((P,M)=>{let O=0;P.subscribe((0,_._)(M,F=>{M.next(H.call(x,F,O++))}))})}},73703:(je,z,E)=>{"use strict";E.d(z,{u:()=>_});var f=E(96354);function _(k){return(0,f.T)(()=>k)}},26365:(je,z,E)=>{"use strict";E.d(z,{U:()=>k});var f=E(31397),_=E(33669);function k(H=1/0){return(0,f.Z)(_.D,H)}},31397:(je,z,E)=>{"use strict";E.d(z,{Z:()=>O});var f=E(96354),_=E(58750),k=E(39974),H=E(45225),x=E(54360),M=E(98071);function O(F,L,D=1/0){return(0,M.T)(L)?O((X,j)=>(0,f.T)((G,re)=>L(X,G,j,re))((0,_.Tg)(F(X,j))),D):("number"==typeof L&&(D=L),(0,k.N)((X,j)=>function P(F,L,D,X,j,G,re,te){const J=[];let Z=0,ie=0,ae=!1;const se=()=>{ae&&!J.length&&!Z&&L.complete()},de=we=>Z<X?le(we):J.push(we),le=we=>{G&&L.next(we),Z++;let xe=!1;(0,_.Tg)(D(we,ie++)).subscribe((0,x._)(L,Ce=>{j?.(Ce),G?de(Ce):L.next(Ce)},()=>{xe=!0},void 0,()=>{if(xe)try{for(Z--;J.length&&Z<X;){const Ce=J.shift();re?(0,H.N)(L,re,()=>le(Ce)):le(Ce)}se()}catch(Ce){L.error(Ce)}}))};return F.subscribe((0,x._)(L,de,()=>{ae=!0,se()})),()=>{te?.()}}(X,j,F,D)))}},99898:(je,z,E)=>{"use strict";E.d(z,{B:()=>k});var f=E(39974),_=E(54360);function k(){return(0,f.N)((H,x)=>{let P=null;H._refCount++;const M=(0,_._)(x,void 0,void 0,void 0,()=>{if(!H||H._refCount<=0||0<--H._refCount)return void(P=null);const O=H._connection,F=P;P=null,O&&(!F||O===F)&&O.unsubscribe(),x.unsubscribe()});H.subscribe(M),M.closed||(P=H.connect())})}},97647:(je,z,E)=>{"use strict";E.d(z,{u:()=>x});var f=E(58750),_=E(21413),k=E(47707),H=E(39974);function x(M={}){const{connector:O=(()=>new _.B),resetOnError:F=!0,resetOnComplete:L=!0,resetOnRefCountZero:D=!0}=M;return X=>{let j,G,re,te=0,J=!1,Z=!1;const ie=()=>{G?.unsubscribe(),G=void 0},ae=()=>{ie(),j=re=void 0,J=Z=!1},se=()=>{const de=j;ae(),de?.unsubscribe()};return(0,H.N)((de,le)=>{te++,!Z&&!J&&ie();const we=re=re??O();le.add(()=>{te--,0===te&&!Z&&!J&&(G=P(se,D))}),we.subscribe(le),!j&&te>0&&(j=new k.Ms({next:xe=>we.next(xe),error:xe=>{Z=!0,ie(),G=P(ae,F,xe),we.error(xe)},complete:()=>{J=!0,ie(),G=P(ae,L),we.complete()}}),(0,f.Tg)(de).subscribe(j))})(X)}}function P(M,O,...F){if(!0===O)return void M();if(!1===O)return;const L=new k.Ms({next:()=>{L.unsubscribe(),M()}});return(0,f.Tg)(O(...F)).subscribe(L)}},44668:(je,z,E)=>{"use strict";E.d(z,{t:()=>k});var f=E(92771),_=E(97647);function k(H,x,P){let M,O=!1;return H&&"object"==typeof H?({bufferSize:M=1/0,windowTime:x=1/0,refCount:O=!1,scheduler:P}=H):M=H??1/0,(0,_.u)({connector:()=>new f.m(M,x,P),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:O})}},65245:(je,z,E)=>{"use strict";E.d(z,{i:()=>_});var f=E(5964);function _(k){return(0,f.p)((H,x)=>k<=x)}},99172:(je,z,E)=>{"use strict";E.d(z,{Z:()=>H});var f=E(28793),_=E(9326),k=E(39974);function H(...x){const P=(0,_.lI)(x);return(0,k.N)((M,O)=>{(P?(0,f.x)(x,M,P):(0,f.x)(x,M)).subscribe(O)})}},25558:(je,z,E)=>{"use strict";E.d(z,{n:()=>H});var f=E(58750),_=E(39974),k=E(54360);function H(x,P){return(0,_.N)((M,O)=>{let F=null,L=0,D=!1;const X=()=>D&&!F&&O.complete();M.subscribe((0,k._)(O,j=>{F?.unsubscribe();let G=0;const re=L++;(0,f.Tg)(x(j,re)).subscribe(F=(0,k._)(O,te=>O.next(P?P(j,te,re,G++):te),()=>{F=null,X()}))},()=>{D=!0,X()}))})}},96697:(je,z,E)=>{"use strict";E.d(z,{s:()=>H});var f=E(983),_=E(39974),k=E(54360);function H(x){return x<=0?()=>f.w:(0,_.N)((P,M)=>{let O=0;P.subscribe((0,k._)(M,F=>{++O<=x&&(M.next(F),x<=O&&M.complete())}))})}},56977:(je,z,E)=>{"use strict";E.d(z,{Q:()=>x});var f=E(39974),_=E(54360),k=E(58750),H=E(85343);function x(P){return(0,f.N)((M,O)=>{(0,k.Tg)(P).subscribe((0,_._)(O,()=>O.complete(),H.l)),!O.closed&&M.subscribe(O)})}},88141:(je,z,E)=>{"use strict";E.d(z,{M:()=>x});var f=E(98071),_=E(39974),k=E(54360),H=E(33669);function x(P,M,O){const F=(0,f.T)(P)||M||O?{next:P,error:M,complete:O}:P;return F?(0,_.N)((L,D)=>{var X;null===(X=F.subscribe)||void 0===X||X.call(F);let j=!0;L.subscribe((0,k._)(D,G=>{var re;null===(re=F.next)||void 0===re||re.call(F,G),D.next(G)},()=>{var G;j=!1,null===(G=F.complete)||void 0===G||G.call(F),D.complete()},G=>{var re;j=!1,null===(re=F.error)||void 0===re||re.call(F,G),D.error(G)},()=>{var G,re;j&&(null===(G=F.unsubscribe)||void 0===G||G.call(F)),null===(re=F.finalize)||void 0===re||re.call(F)}))}):H.D}},96780:(je,z,E)=>{"use strict";E.d(z,{R:()=>x});var f=E(18359);class _ extends f.yU{constructor(M,O){super()}schedule(M,O=0){return this}}const k={setInterval(P,M,...O){const{delegate:F}=k;return F?.setInterval?F.setInterval(P,M,...O):setInterval(P,M,...O)},clearInterval(P){const{delegate:M}=k;return(M?.clearInterval||clearInterval)(P)},delegate:void 0};var H=E(57908);class x extends _{constructor(M,O){super(M,O),this.scheduler=M,this.work=O,this.pending=!1}schedule(M,O=0){var F;if(this.closed)return this;this.state=M;const L=this.id,D=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(D,L,O)),this.pending=!0,this.delay=O,this.id=null!==(F=this.id)&&void 0!==F?F:this.requestAsyncId(D,this.id,O),this}requestAsyncId(M,O,F=0){return k.setInterval(M.flush.bind(M,this),F)}recycleAsyncId(M,O,F=0){if(null!=F&&this.delay===F&&!1===this.pending)return O;null!=O&&k.clearInterval(O)}execute(M,O){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const F=this._execute(M,O);if(F)return F;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(M,O){let L,F=!1;try{this.work(M)}catch(D){F=!0,L=D||new Error("Scheduled action threw falsy error")}if(F)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:M,scheduler:O}=this,{actions:F}=O;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.o)(F,this),null!=M&&(this.id=this.recycleAsyncId(O,M,null)),this.delay=null,super.unsubscribe()}}}},39687:(je,z,E)=>{"use strict";E.d(z,{q:()=>k});var f=E(86129);class _{constructor(x,P=_.now){this.schedulerActionCtor=x,this.now=P}schedule(x,P=0,M){return new this.schedulerActionCtor(this,x).schedule(M,P)}}_.now=f.U.now;class k extends _{constructor(x,P=_.now){super(x,P),this.actions=[],this._active=!1}flush(x){const{actions:P}=this;if(this._active)return void P.push(x);let M;this._active=!0;do{if(M=x.execute(x.state,x.delay))break}while(x=P.shift());if(this._active=!1,M){for(;x=P.shift();)x.unsubscribe();throw M}}}},30536:(je,z,E)=>{"use strict";E.d(z,{X:()=>M});var f=E(96780),_=E(18359);const k={schedule(F){let L=requestAnimationFrame,D=cancelAnimationFrame;const{delegate:X}=k;X&&(L=X.requestAnimationFrame,D=X.cancelAnimationFrame);const j=L(G=>{D=void 0,F(G)});return new _.yU(()=>D?.(j))},requestAnimationFrame(...F){const{delegate:L}=k;return(L?.requestAnimationFrame||requestAnimationFrame)(...F)},cancelAnimationFrame(...F){const{delegate:L}=k;return(L?.cancelAnimationFrame||cancelAnimationFrame)(...F)},delegate:void 0};var x=E(39687);const M=new class P extends x.q{flush(L){this._active=!0;const D=this._scheduled;this._scheduled=void 0;const{actions:X}=this;let j;L=L||X.shift();do{if(j=L.execute(L.state,L.delay))break}while((L=X[0])&&L.id===D&&X.shift());if(this._active=!1,j){for(;(L=X[0])&&L.id===D&&X.shift();)L.unsubscribe();throw j}}}(class H extends f.R{constructor(L,D){super(L,D),this.scheduler=L,this.work=D}requestAsyncId(L,D,X=0){return null!==X&&X>0?super.requestAsyncId(L,D,X):(L.actions.push(this),L._scheduled||(L._scheduled=k.requestAnimationFrame(()=>L.flush(void 0))))}recycleAsyncId(L,D,X=0){var j;if(null!=X?X>0:this.delay>0)return super.recycleAsyncId(L,D,X);const{actions:G}=L;null!=D&&(null===(j=G[G.length-1])||void 0===j?void 0:j.id)!==D&&(k.cancelAnimationFrame(D),L._scheduled=void 0)}})},25007:(je,z,E)=>{"use strict";E.d(z,{$:()=>G});var f=E(96780);let k,_=1;const H={};function x(te){return te in H&&(delete H[te],!0)}const P={setImmediate(te){const J=_++;return H[J]=!0,k||(k=Promise.resolve()),k.then(()=>x(J)&&te()),J},clearImmediate(te){x(te)}},{setImmediate:O,clearImmediate:F}=P,L={setImmediate(...te){const{delegate:J}=L;return(J?.setImmediate||O)(...te)},clearImmediate(te){const{delegate:J}=L;return(J?.clearImmediate||F)(te)},delegate:void 0};var X=E(39687);const G=new class j extends X.q{flush(J){this._active=!0;const Z=this._scheduled;this._scheduled=void 0;const{actions:ie}=this;let ae;J=J||ie.shift();do{if(ae=J.execute(J.state,J.delay))break}while((J=ie[0])&&J.id===Z&&ie.shift());if(this._active=!1,ae){for(;(J=ie[0])&&J.id===Z&&ie.shift();)J.unsubscribe();throw ae}}}(class D extends f.R{constructor(J,Z){super(J,Z),this.scheduler=J,this.work=Z}requestAsyncId(J,Z,ie=0){return null!==ie&&ie>0?super.requestAsyncId(J,Z,ie):(J.actions.push(this),J._scheduled||(J._scheduled=L.setImmediate(J.flush.bind(J,void 0))))}recycleAsyncId(J,Z,ie=0){var ae;if(null!=ie?ie>0:this.delay>0)return super.recycleAsyncId(J,Z,ie);const{actions:se}=J;null!=Z&&(null===(ae=se[se.length-1])||void 0===ae?void 0:ae.id)!==Z&&(L.clearImmediate(Z),J._scheduled===Z&&(J._scheduled=void 0))}})},43236:(je,z,E)=>{"use strict";E.d(z,{E:()=>k,b:()=>H});var f=E(96780);const k=new(E(39687).q)(f.R),H=k},86129:(je,z,E)=>{"use strict";E.d(z,{U:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},19270:(je,z,E)=>{"use strict";E.d(z,{f:()=>f});const f={setTimeout(_,k,...H){const{delegate:x}=f;return x?.setTimeout?x.setTimeout(_,k,...H):setTimeout(_,k,...H)},clearTimeout(_){const{delegate:k}=f;return(k?.clearTimeout||clearTimeout)(_)},delegate:void 0}},4761:(je,z,E)=>{"use strict";E.d(z,{l:()=>_});const _=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(je,z,E)=>{"use strict";E.d(z,{s:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(je,z,E)=>{"use strict";E.d(z,{R0:()=>P,lI:()=>x,ms:()=>H});var f=E(98071),_=E(79470);function k(M){return M[M.length-1]}function H(M){return(0,f.T)(k(M))?M.pop():void 0}function x(M){return(0,_.m)(k(M))?M.pop():void 0}function P(M,O){return"number"==typeof k(M)?M.pop():O}},93073:(je,z,E)=>{"use strict";E.d(z,{D:()=>x});const{isArray:f}=Array,{getPrototypeOf:_,prototype:k,keys:H}=Object;function x(M){if(1===M.length){const O=M[0];if(f(O))return{args:O,keys:null};if(function P(M){return M&&"object"==typeof M&&_(M)===k}(O)){const F=H(O);return{args:F.map(L=>O[L]),keys:F}}}return{args:M,keys:null}}},57908:(je,z,E)=>{"use strict";function f(_,k){if(_){const H=_.indexOf(k);0<=H&&_.splice(H,1)}}E.d(z,{o:()=>f})},81853:(je,z,E)=>{"use strict";function f(_){const H=_(x=>{Error.call(x),x.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}E.d(z,{L:()=>f})},58496:(je,z,E)=>{"use strict";function f(_,k){return _.reduce((H,x,P)=>(H[x]=k[P],H),{})}E.d(z,{e:()=>f})},49786:(je,z,E)=>{"use strict";E.d(z,{Y:()=>k,l:()=>H});var f=E(41026);let _=null;function k(x){if(f.$.useDeprecatedSynchronousErrorHandling){const P=!_;if(P&&(_={errorThrown:!1,error:null}),x(),P){const{errorThrown:M,error:O}=_;if(_=null,M)throw O}}else x()}function H(x){f.$.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=x)}},45225:(je,z,E)=>{"use strict";function f(_,k,H,x=0,P=!1){const M=k.schedule(function(){H(),P?_.add(this.schedule(null,x)):this.unsubscribe()},x);if(_.add(M),!P)return M}E.d(z,{N:()=>f})},33669:(je,z,E)=>{"use strict";function f(_){return _}E.d(z,{D:()=>f})},47441:(je,z,E)=>{"use strict";E.d(z,{X:()=>f});const f=_=>_&&"number"==typeof _.length&&"function"!=typeof _},37953:(je,z,E)=>{"use strict";E.d(z,{T:()=>_});var f=E(98071);function _(k){return Symbol.asyncIterator&&(0,f.T)(k?.[Symbol.asyncIterator])}},98071:(je,z,E)=>{"use strict";function f(_){return"function"==typeof _}E.d(z,{T:()=>f})},55055:(je,z,E)=>{"use strict";E.d(z,{l:()=>k});var f=E(3494),_=E(98071);function k(H){return(0,_.T)(H[f.s])}},85397:(je,z,E)=>{"use strict";E.d(z,{x:()=>k});var f=E(4761),_=E(98071);function k(H){return(0,_.T)(H?.[f.l])}},74402:(je,z,E)=>{"use strict";E.d(z,{A:()=>k});var f=E(71985),_=E(98071);function k(H){return!!H&&(H instanceof f.c||(0,_.T)(H.lift)&&(0,_.T)(H.subscribe))}},59858:(je,z,E)=>{"use strict";E.d(z,{y:()=>_});var f=E(98071);function _(k){return(0,f.T)(k?.then)}},15196:(je,z,E)=>{"use strict";E.d(z,{C:()=>k,U:()=>H});var f=E(31635),_=E(98071);function k(x){return(0,f.AQ)(this,arguments,function*(){const M=x.getReader();try{for(;;){const{value:O,done:F}=yield(0,f.N3)(M.read());if(F)return yield(0,f.N3)(void 0);yield yield(0,f.N3)(O)}}finally{M.releaseLock()}})}function H(x){return(0,_.T)(x?.getReader)}},79470:(je,z,E)=>{"use strict";E.d(z,{m:()=>_});var f=E(98071);function _(k){return k&&(0,f.T)(k.schedule)}},39974:(je,z,E)=>{"use strict";E.d(z,{N:()=>k,S:()=>_});var f=E(98071);function _(H){return(0,f.T)(H?.lift)}function k(H){return x=>{if(_(x))return x.lift(function(P){try{return H(P,this)}catch(M){this.error(M)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(je,z,E)=>{"use strict";E.d(z,{I:()=>H});var f=E(96354);const{isArray:_}=Array;function H(x){return(0,f.T)(P=>function k(x,P){return _(P)?x(...P):x(P)}(x,P))}},85343:(je,z,E)=>{"use strict";function f(){}E.d(z,{l:()=>f})},71203:(je,z,E)=>{"use strict";E.d(z,{F:()=>_,m:()=>k});var f=E(33669);function _(...H){return k(H)}function k(H){return 0===H.length?f.D:1===H.length?H[0]:function(P){return H.reduce((M,O)=>O(M),P)}}},45334:(je,z,E)=>{"use strict";E.d(z,{m:()=>k});var f=E(41026),_=E(19270);function k(H){_.f.setTimeout(()=>{const{onUnhandledError:x}=f.$;if(!x)throw H;x(H)})}},50591:(je,z,E)=>{"use strict";function f(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(z,{L:()=>f})},27054:(je,z,E)=>{var f=E(83838),_=f.Buffer;function k(x,P){for(var M in x)P[M]=x[M]}function H(x,P,M){return _(x,P,M)}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?je.exports=f:(k(f,z),z.Buffer=H),H.prototype=Object.create(_.prototype),k(_,H),H.from=function(x,P,M){if("number"==typeof x)throw new TypeError("Argument must not be a number");return _(x,P,M)},H.alloc=function(x,P,M){if("number"!=typeof x)throw new TypeError("Argument must be a number");var O=_(x);return void 0!==P?"string"==typeof M?O.fill(P,M):O.fill(P):O.fill(0),O},H.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return _(x)},H.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return f.SlowBuffer(x)}},70463:(je,z,E)=>{var f=E(27054).Buffer;function _(k,H){this._block=f.alloc(k),this._finalSize=H,this._blockSize=k,this._len=0}_.prototype.update=function(k,H){"string"==typeof k&&(k=f.from(k,H=H||"utf8"));for(var x=this._block,P=this._blockSize,M=k.length,O=this._len,F=0;F<M;){for(var L=O%P,D=Math.min(M-F,P-L),X=0;X<D;X++)x[L+X]=k[F+X];F+=D,(O+=D)%P==0&&this._update(x)}return this._len+=M,this},_.prototype.digest=function(k){var H=this._len%this._blockSize;this._block[H]=128,this._block.fill(0,H+1),H>=this._finalSize&&(this._update(this._block),this._block.fill(0));var x=8*this._len;if(x<=4294967295)this._block.writeUInt32BE(x,this._blockSize-4);else{var P=(4294967295&x)>>>0;this._block.writeUInt32BE((x-P)/4294967296,this._blockSize-8),this._block.writeUInt32BE(P,this._blockSize-4)}this._update(this._block);var O=this._hash();return k?O.toString(k):O},_.prototype._update=function(){throw new Error("_update must be implemented by subclass")},je.exports=_},25443:(je,z,E)=>{var f=je.exports=function(k){k=k.toLowerCase();var H=f[k];if(!H)throw new Error(k+" is not supported (we accept pull requests)");return new H};f.sha=E(48585),f.sha1=E(21270),f.sha224=E(42709),f.sha256=E(32148),f.sha384=E(51856),f.sha512=E(3121)},48585:(je,z,E)=>{var f=E(71993),_=E(70463),k=E(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],x=new Array(80);function P(){this.init(),this._w=x,_.call(this,64,56)}function M(L){return L<<5|L>>>27}function O(L){return L<<30|L>>>2}function F(L,D,X,j){return 0===L?D&X|~D&j:2===L?D&X|D&j|X&j:D^X^j}f(P,_),P.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},P.prototype._update=function(L){for(var D=this._w,X=0|this._a,j=0|this._b,G=0|this._c,re=0|this._d,te=0|this._e,J=0;J<16;++J)D[J]=L.readInt32BE(4*J);for(;J<80;++J)D[J]=D[J-3]^D[J-8]^D[J-14]^D[J-16];for(var Z=0;Z<80;++Z){var ie=~~(Z/20),ae=M(X)+F(ie,j,G,re)+te+D[Z]+H[ie]|0;te=re,re=G,G=O(j),j=X,X=ae}this._a=X+this._a|0,this._b=j+this._b|0,this._c=G+this._c|0,this._d=re+this._d|0,this._e=te+this._e|0},P.prototype._hash=function(){var L=k.allocUnsafe(20);return L.writeInt32BE(0|this._a,0),L.writeInt32BE(0|this._b,4),L.writeInt32BE(0|this._c,8),L.writeInt32BE(0|this._d,12),L.writeInt32BE(0|this._e,16),L},je.exports=P},21270:(je,z,E)=>{var f=E(71993),_=E(70463),k=E(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],x=new Array(80);function P(){this.init(),this._w=x,_.call(this,64,56)}function M(D){return D<<1|D>>>31}function O(D){return D<<5|D>>>27}function F(D){return D<<30|D>>>2}function L(D,X,j,G){return 0===D?X&j|~X&G:2===D?X&j|X&G|j&G:X^j^G}f(P,_),P.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},P.prototype._update=function(D){for(var X=this._w,j=0|this._a,G=0|this._b,re=0|this._c,te=0|this._d,J=0|this._e,Z=0;Z<16;++Z)X[Z]=D.readInt32BE(4*Z);for(;Z<80;++Z)X[Z]=M(X[Z-3]^X[Z-8]^X[Z-14]^X[Z-16]);for(var ie=0;ie<80;++ie){var ae=~~(ie/20),se=O(j)+L(ae,G,re,te)+J+X[ie]+H[ae]|0;J=te,te=re,re=F(G),G=j,j=se}this._a=j+this._a|0,this._b=G+this._b|0,this._c=re+this._c|0,this._d=te+this._d|0,this._e=J+this._e|0},P.prototype._hash=function(){var D=k.allocUnsafe(20);return D.writeInt32BE(0|this._a,0),D.writeInt32BE(0|this._b,4),D.writeInt32BE(0|this._c,8),D.writeInt32BE(0|this._d,12),D.writeInt32BE(0|this._e,16),D},je.exports=P},42709:(je,z,E)=>{var f=E(71993),_=E(32148),k=E(70463),H=E(27054).Buffer,x=new Array(64);function P(){this.init(),this._w=x,k.call(this,64,56)}f(P,_),P.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},P.prototype._hash=function(){var M=H.allocUnsafe(28);return M.writeInt32BE(this._a,0),M.writeInt32BE(this._b,4),M.writeInt32BE(this._c,8),M.writeInt32BE(this._d,12),M.writeInt32BE(this._e,16),M.writeInt32BE(this._f,20),M.writeInt32BE(this._g,24),M},je.exports=P},32148:(je,z,E)=>{var f=E(71993),_=E(70463),k=E(27054).Buffer,H=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],x=new Array(64);function P(){this.init(),this._w=x,_.call(this,64,56)}function M(j,G,re){return re^j&(G^re)}function O(j,G,re){return j&G|re&(j|G)}function F(j){return(j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10)}function L(j){return(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7)}function D(j){return(j>>>7|j<<25)^(j>>>18|j<<14)^j>>>3}function X(j){return(j>>>17|j<<15)^(j>>>19|j<<13)^j>>>10}f(P,_),P.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},P.prototype._update=function(j){for(var G=this._w,re=0|this._a,te=0|this._b,J=0|this._c,Z=0|this._d,ie=0|this._e,ae=0|this._f,se=0|this._g,de=0|this._h,le=0;le<16;++le)G[le]=j.readInt32BE(4*le);for(;le<64;++le)G[le]=X(G[le-2])+G[le-7]+D(G[le-15])+G[le-16]|0;for(var we=0;we<64;++we){var xe=de+L(ie)+M(ie,ae,se)+H[we]+G[we]|0,Ce=F(re)+O(re,te,J)|0;de=se,se=ae,ae=ie,ie=Z+xe|0,Z=J,J=te,te=re,re=xe+Ce|0}this._a=re+this._a|0,this._b=te+this._b|0,this._c=J+this._c|0,this._d=Z+this._d|0,this._e=ie+this._e|0,this._f=ae+this._f|0,this._g=se+this._g|0,this._h=de+this._h|0},P.prototype._hash=function(){var j=k.allocUnsafe(32);return j.writeInt32BE(this._a,0),j.writeInt32BE(this._b,4),j.writeInt32BE(this._c,8),j.writeInt32BE(this._d,12),j.writeInt32BE(this._e,16),j.writeInt32BE(this._f,20),j.writeInt32BE(this._g,24),j.writeInt32BE(this._h,28),j},je.exports=P},51856:(je,z,E)=>{var f=E(71993),_=E(3121),k=E(70463),H=E(27054).Buffer,x=new Array(160);function P(){this.init(),this._w=x,k.call(this,128,112)}f(P,_),P.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},P.prototype._hash=function(){var M=H.allocUnsafe(48);function O(F,L,D){M.writeInt32BE(F,D),M.writeInt32BE(L,D+4)}return O(this._ah,this._al,0),O(this._bh,this._bl,8),O(this._ch,this._cl,16),O(this._dh,this._dl,24),O(this._eh,this._el,32),O(this._fh,this._fl,40),M},je.exports=P},3121:(je,z,E)=>{var f=E(71993),_=E(70463),k=E(27054).Buffer,H=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],x=new Array(160);function P(){this.init(),this._w=x,_.call(this,128,112)}function M(te,J,Z){return Z^te&(J^Z)}function O(te,J,Z){return te&J|Z&(te|J)}function F(te,J){return(te>>>28|J<<4)^(J>>>2|te<<30)^(J>>>7|te<<25)}function L(te,J){return(te>>>14|J<<18)^(te>>>18|J<<14)^(J>>>9|te<<23)}function D(te,J){return(te>>>1|J<<31)^(te>>>8|J<<24)^te>>>7}function X(te,J){return(te>>>1|J<<31)^(te>>>8|J<<24)^(te>>>7|J<<25)}function j(te,J){return(te>>>19|J<<13)^(J>>>29|te<<3)^te>>>6}function G(te,J){return(te>>>19|J<<13)^(J>>>29|te<<3)^(te>>>6|J<<26)}function re(te,J){return te>>>0<J>>>0?1:0}f(P,_),P.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},P.prototype._update=function(te){for(var J=this._w,Z=0|this._ah,ie=0|this._bh,ae=0|this._ch,se=0|this._dh,de=0|this._eh,le=0|this._fh,we=0|this._gh,xe=0|this._hh,Ce=0|this._al,C=0|this._bl,a=0|this._cl,u=0|this._dl,y=0|this._el,g=0|this._fl,S=0|this._gl,T=0|this._hl,N=0;N<32;N+=2)J[N]=te.readInt32BE(4*N),J[N+1]=te.readInt32BE(4*N+4);for(;N<160;N+=2){var A=J[N-30],s=J[N-30+1],v=D(A,s),W=X(s,A),K=j(A=J[N-4],s=J[N-4+1]),ee=G(s,A),Oe=J[N-32],Ve=J[N-32+1],Se=W+J[N-14+1]|0,be=v+J[N-14]+re(Se,W)|0;be=(be=be+K+re(Se=Se+ee|0,ee)|0)+Oe+re(Se=Se+Ve|0,Ve)|0,J[N]=be,J[N+1]=Se}for(var Ue=0;Ue<160;Ue+=2){be=J[Ue],Se=J[Ue+1];var ye=O(Z,ie,ae),De=O(Ce,C,a),pe=F(Z,Ce),ue=F(Ce,Z),Q=L(de,y),oe=L(y,de),fe=H[Ue],Ee=H[Ue+1],Re=M(de,le,we),$e=M(y,g,S),Fe=T+oe|0,Et=xe+Q+re(Fe,T)|0;Et=(Et=(Et=Et+Re+re(Fe=Fe+$e|0,$e)|0)+fe+re(Fe=Fe+Ee|0,Ee)|0)+be+re(Fe=Fe+Se|0,Se)|0;var We=ue+De|0,Le=pe+ye+re(We,ue)|0;xe=we,T=S,we=le,S=g,le=de,g=y,de=se+Et+re(y=u+Fe|0,u)|0,se=ae,u=a,ae=ie,a=C,ie=Z,C=Ce,Z=Et+Le+re(Ce=Fe+We|0,Fe)|0}this._al=this._al+Ce|0,this._bl=this._bl+C|0,this._cl=this._cl+a|0,this._dl=this._dl+u|0,this._el=this._el+y|0,this._fl=this._fl+g|0,this._gl=this._gl+S|0,this._hl=this._hl+T|0,this._ah=this._ah+Z+re(this._al,Ce)|0,this._bh=this._bh+ie+re(this._bl,C)|0,this._ch=this._ch+ae+re(this._cl,a)|0,this._dh=this._dh+se+re(this._dl,u)|0,this._eh=this._eh+de+re(this._el,y)|0,this._fh=this._fh+le+re(this._fl,g)|0,this._gh=this._gh+we+re(this._gl,S)|0,this._hh=this._hh+xe+re(this._hl,T)|0},P.prototype._hash=function(){var te=k.allocUnsafe(64);function J(Z,ie,ae){te.writeInt32BE(Z,ae),te.writeInt32BE(ie,ae+4)}return J(this._ah,this._al,0),J(this._bh,this._bl,8),J(this._ch,this._cl,16),J(this._dh,this._dl,24),J(this._eh,this._el,32),J(this._fh,this._fl,40),J(this._gh,this._gl,48),J(this._hh,this._hl,56),te},je.exports=P},18876:je=>{"use strict";function E(H,x){return H+f(x)}function f(H){let x=H;return x-=x>>1&1431655765,x=(858993459&x)+(x>>2&858993459),16843009*(x+(x>>4)&252645135)>>24}function _(H,x){return H[0]-x[0]}function k(H){return H[1]}je.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(x,P){let M=this._internalPositionFor(x,!1);if(void 0===P)-1!==M&&(this._unsetInternalPos(M),this._unsetBit(x),this._changedLength=!0,this._changedData=!0);else{let O=!1;-1===M?(M=this._data.length,this._setBit(x),this._changedData=!0):O=!0,this._setInternalPos(M,x,P,O),this._changedLength=!0}}unset(x){this.set(x,void 0)}get(x){this._sortData();const P=this._internalPositionFor(x,!0);if(-1!==P)return this._data[P][1]}push(x){return this.set(this.length,x),this.length}get length(){if(this._sortData(),this._changedLength){const x=this._data[this._data.length-1];this._length=x?x[0]+1:0,this._changedLength=!1}return this._length}forEach(x){let P=0;for(;P<this.length;)x(this.get(P),P,this),P++}map(x){let P=0,M=new Array(this.length);for(;P<this.length;)M[P]=x(this.get(P),P,this),P++;return M}reduce(x,P){let M=0,O=P;for(;M<this.length;)O=x(O,this.get(M),M),M++;return O}find(x){let M,O,P=0;for(;P<this.length&&!M;)O=this.get(P),M=x(O),P++;return M?O:void 0}_internalPositionFor(x,P){const M=this._bytePosFor(x,P);if(M>=this._bitArrays.length)return-1;const O=this._bitArrays[M],F=x-7*M;return(O&1<<F)>0?this._bitArrays.slice(0,M).reduce(E,0)+f(O&~(4294967295<<F+1))-1:-1}_bytePosFor(x,P){const M=Math.floor(x/7),O=M+1;for(;!P&&this._bitArrays.length<O;)this._bitArrays.push(0);return M}_setBit(x){const P=this._bytePosFor(x,!1);this._bitArrays[P]|=1<<x-7*P}_unsetBit(x){const P=this._bytePosFor(x,!1);this._bitArrays[P]&=~(1<<x-7*P)}_setInternalPos(x,P,M,O){const F=this._data,L=[P,M];if(O)this._sortData(),F[x]=L;else{if(F.length)if(F[F.length-1][0]>=P)F.push(L);else if(F[0][0]<=P)F.unshift(L);else{const D=Math.round(F.length/2);this._data=F.slice(0,D).concat(L).concat(F.slice(D))}else this._data.push(L);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(x){this._data.splice(x,1)}_sortData(){this._changedData&&this._data.sort(_),this._changedData=!1}bitField(){const x=[];let F,P=8,M=0,O=0;const L=this._bitArrays.slice();for(;L.length||M;){0===M&&(F=L.shift(),M=7);const X=Math.min(M,P);O|=(F&~(255<<X))<<8-P,F>>>=X,M-=X,P-=X,(!P||!M&&!L.length)&&(x.push(O),O=0,P=8)}for(var D=x.length-1;D>0&&0===x[D];D--)x.pop();return x}compactArray(){return this._sortData(),this._data.map(k)}}},7045:(je,z,E)=>{je.exports=k;var f=E(44356).EventEmitter;function k(){f.call(this)}E(71993)(k,f),k.Readable=E(19609),k.Writable=E(47849),k.Duplex=E(74075),k.Transform=E(2909),k.PassThrough=E(18823),k.finished=E(33139),k.pipeline=E(96249),k.Stream=k,k.prototype.pipe=function(H,x){var P=this;function M(G){H.writable&&!1===H.write(G)&&P.pause&&P.pause()}function O(){P.readable&&P.resume&&P.resume()}P.on("data",M),H.on("drain",O),!H._isStdio&&(!x||!1!==x.end)&&(P.on("end",L),P.on("close",D));var F=!1;function L(){F||(F=!0,H.end())}function D(){F||(F=!0,"function"==typeof H.destroy&&H.destroy())}function X(G){if(j(),0===f.listenerCount(this,"error"))throw G}function j(){P.removeListener("data",M),H.removeListener("drain",O),P.removeListener("end",L),P.removeListener("close",D),P.removeListener("error",X),H.removeListener("error",X),P.removeListener("end",j),P.removeListener("close",j),H.removeListener("close",j)}return P.on("error",X),H.on("error",X),P.on("end",j),P.on("close",j),H.on("close",j),H.emit("pipe",P),H}},78454:(je,z,E)=>{"use strict";var f=E(27054).Buffer,_=f.isEncoding||function(Z){switch((Z=""+Z)&&Z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(Z){var ie;switch(this.encoding=function H(Z){var ie=function k(Z){if(!Z)return"utf8";for(var ie;;)switch(Z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Z;default:if(ie)return;Z=(""+Z).toLowerCase(),ie=!0}}(Z);if("string"!=typeof ie&&(f.isEncoding===_||!_(Z)))throw new Error("Unknown encoding: "+Z);return ie||Z}(Z),this.encoding){case"utf16le":this.text=X,this.end=j,ie=4;break;case"utf8":this.fillLast=F,ie=4;break;case"base64":this.text=G,this.end=re,ie=3;break;default:return this.write=te,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(ie)}function P(Z){return Z<=127?0:Z>>5==6?2:Z>>4==14?3:Z>>3==30?4:Z>>6==2?-1:-2}function F(Z){var ie=this.lastTotal-this.lastNeed,ae=function O(Z,ie,ae){if(128!=(192&ie[0]))return Z.lastNeed=0,"\ufffd";if(Z.lastNeed>1&&ie.length>1){if(128!=(192&ie[1]))return Z.lastNeed=1,"\ufffd";if(Z.lastNeed>2&&ie.length>2&&128!=(192&ie[2]))return Z.lastNeed=2,"\ufffd"}}(this,Z);return void 0!==ae?ae:this.lastNeed<=Z.length?(Z.copy(this.lastChar,ie,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Z.copy(this.lastChar,ie,0,Z.length),void(this.lastNeed-=Z.length))}function X(Z,ie){if((Z.length-ie)%2==0){var ae=Z.toString("utf16le",ie);if(ae){var se=ae.charCodeAt(ae.length-1);if(se>=55296&&se<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1],ae.slice(0,-1)}return ae}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Z[Z.length-1],Z.toString("utf16le",ie,Z.length-1)}function j(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ie}function G(Z,ie){var ae=(Z.length-ie)%3;return 0===ae?Z.toString("base64",ie):(this.lastNeed=3-ae,this.lastTotal=3,1===ae?this.lastChar[0]=Z[Z.length-1]:(this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1]),Z.toString("base64",ie,Z.length-ae))}function re(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+this.lastChar.toString("base64",0,3-this.lastNeed):ie}function te(Z){return Z.toString(this.encoding)}function J(Z){return Z&&Z.length?this.write(Z):""}z.StringDecoder=x,x.prototype.write=function(Z){if(0===Z.length)return"";var ie,ae;if(this.lastNeed){if(void 0===(ie=this.fillLast(Z)))return"";ae=this.lastNeed,this.lastNeed=0}else ae=0;return ae<Z.length?ie?ie+this.text(Z,ae):this.text(Z,ae):ie||""},x.prototype.end=function D(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+"\ufffd":ie},x.prototype.text=function L(Z,ie){var ae=function M(Z,ie,ae){var se=ie.length-1;if(se<ae)return 0;var de=P(ie[se]);return de>=0?(de>0&&(Z.lastNeed=de-1),de):--se<ae||-2===de?0:(de=P(ie[se]))>=0?(de>0&&(Z.lastNeed=de-2),de):--se<ae||-2===de?0:(de=P(ie[se]))>=0?(de>0&&(2===de?de=0:Z.lastNeed=de-3),de):0}(this,Z,ie);if(!this.lastNeed)return Z.toString("utf8",ie);this.lastTotal=ae;var se=Z.length-(ae-this.lastNeed);return Z.copy(this.lastChar,0,se),Z.toString("utf8",ie,se)},x.prototype.fillLast=function(Z){if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Z.length),this.lastNeed-=Z.length}},95568:function(je,z){!function(E){"use strict";function f(){for(var St=arguments.length,Ye=Array(St),nt=0;nt<St;nt++)Ye[nt]=arguments[nt];if(Ye.length>1){Ye[0]=Ye[0].slice(0,-1);for(var Ht=Ye.length-1,Nt=1;Nt<Ht;++Nt)Ye[Nt]=Ye[Nt].slice(1,-1);return Ye[Ht]=Ye[Ht].slice(1),Ye.join("")}return Ye[0]}function _(St){return"(?:"+St+")"}function k(St){return void 0===St?"undefined":null===St?"null":Object.prototype.toString.call(St).split(" ").pop().split("]").shift().toLowerCase()}function H(St){return St.toUpperCase()}function M(St){var Ye="[A-Za-z]",Ht="[0-9]",un=f(Ht,"[A-Fa-f]"),kn=_(_("%[EFef]"+un+"%"+un+un+"%"+un+un)+"|"+_("%[89A-Fa-f]"+un+"%"+un+un)+"|"+_("%"+un+un)),Jn="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Fn=f("[\\:\\/\\?\\#\\[\\]\\@]",Jn),et=St?"[\\uE000-\\uF8FF]":"[]",Te=f(Ye,Ht,"[\\-\\.\\_\\~]",St?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Be=_(Ye+f(Ye,Ht,"[\\+\\-\\.]")+"*"),xt=_(_(kn+"|"+f(Te,Jn,"[\\:]"))+"*"),In=(_(_("25[0-5]")+"|"+_("2[0-4]"+Ht)+"|"+_("1"+Ht+Ht)+"|"+_("[1-9]"+Ht)+"|"+Ht),_(_("25[0-5]")+"|"+_("2[0-4]"+Ht)+"|"+_("1"+Ht+Ht)+"|"+_("0?[1-9]"+Ht)+"|0?0?"+Ht)),Kn=_(In+"\\."+In+"\\."+In+"\\."+In),tr=_(un+"{1,4}"),Dr=_(_(tr+"\\:"+tr)+"|"+Kn),Mr=_(_(tr+"\\:")+"{6}"+Dr),Ir=_("\\:\\:"+_(tr+"\\:")+"{5}"+Dr),jr=_(_(tr)+"?\\:\\:"+_(tr+"\\:")+"{4}"+Dr),ni=_(_(_(tr+"\\:")+"{0,1}"+tr)+"?\\:\\:"+_(tr+"\\:")+"{3}"+Dr),tn=_(_(_(tr+"\\:")+"{0,2}"+tr)+"?\\:\\:"+_(tr+"\\:")+"{2}"+Dr),_n=_(_(_(tr+"\\:")+"{0,3}"+tr)+"?\\:\\:"+tr+"\\:"+Dr),Tn=_(_(_(tr+"\\:")+"{0,4}"+tr)+"?\\:\\:"+Dr),jn=_(_(_(tr+"\\:")+"{0,5}"+tr)+"?\\:\\:"+tr),hr=_(_(_(tr+"\\:")+"{0,6}"+tr)+"?\\:\\:"),Ar=_([Mr,Ir,jr,ni,tn,_n,Tn,jn,hr].join("|")),xr=_(_(Te+"|"+kn)+"+"),Kr=(_(Ar+"\\%25"+xr),_(Ar+_("\\%25|\\%(?!"+un+"{2})")+xr)),oi=_("[vV]"+un+"+\\."+f(Te,Jn,"[\\:]")+"+"),Ao=_("\\["+_(Kr+"|"+Ar+"|"+oi)+"\\]"),wi=_(_(kn+"|"+f(Te,Jn))+"*"),Io=_(Ao+"|"+Kn+"(?!"+wi+")|"+wi),Co=_(Ht+"*"),is=_(_(xt+"@")+"?"+Io+_("\\:"+Co)+"?"),ji=_(kn+"|"+f(Te,Jn,"[\\:\\@]")),pi=_(ji+"*"),Ui=_(ji+"+"),la=_(_(kn+"|"+f(Te,Jn,"[\\@]"))+"+"),Si=_(_("\\/"+pi)+"*"),os=_("\\/"+_(Ui+Si)+"?"),Ns=_(la+Si),To=_(Ui+Si),$i="(?!"+ji+")",da=(_(Si+"|"+os+"|"+Ns+"|"+To+"|"+$i),_(_(ji+"|"+f("[\\/\\?]",et))+"*")),Ba=_(_(ji+"|[\\/\\?]")+"*"),ll=_(_("\\/\\/"+is+Si)+"|"+os+"|"+To+"|"+$i),Xa=_(Be+"\\:"+ll+_("\\?"+da)+"?"+_("\\#"+Ba)+"?"),Mu=_(_("\\/\\/"+is+Si)+"|"+os+"|"+Ns+"|"+$i),Au=_(Mu+_("\\?"+da)+"?"+_("\\#"+Ba)+"?");return _(Xa+"|"+Au),_(Be+"\\:"+ll+_("\\?"+da)+"?"),_(_("\\/\\/("+_("("+xt+")@")+"?("+Io+")"+_("\\:("+Co+")")+"?)")+"?("+Si+"|"+os+"|"+To+"|"+$i+")"),_("\\?("+da+")"),_("\\#("+Ba+")"),_(_("\\/\\/("+_("("+xt+")@")+"?("+Io+")"+_("\\:("+Co+")")+"?)")+"?("+Si+"|"+os+"|"+Ns+"|"+$i+")"),_("\\?("+da+")"),_("\\#("+Ba+")"),_(_("\\/\\/("+_("("+xt+")@")+"?("+Io+")"+_("\\:("+Co+")")+"?)")+"?("+Si+"|"+os+"|"+To+"|"+$i+")"),_("\\?("+da+")"),_("\\#("+Ba+")"),_("("+xt+")@"),_("\\:("+Co+")"),{NOT_SCHEME:new RegExp(f("[^]",Ye,Ht,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(f("[^\\%\\:]",Te,Jn),"g"),NOT_HOST:new RegExp(f("[^\\%\\[\\]\\:]",Te,Jn),"g"),NOT_PATH:new RegExp(f("[^\\%\\/\\:\\@]",Te,Jn),"g"),NOT_PATH_NOSCHEME:new RegExp(f("[^\\%\\/\\@]",Te,Jn),"g"),NOT_QUERY:new RegExp(f("[^\\%]",Te,Jn,"[\\:\\@\\/\\?]",et),"g"),NOT_FRAGMENT:new RegExp(f("[^\\%]",Te,Jn,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(f("[^]",Te,Jn),"g"),UNRESERVED:new RegExp(Te,"g"),OTHER_CHARS:new RegExp(f("[^\\%]",Te,Fn),"g"),PCT_ENCODED:new RegExp(kn,"g"),IPV4ADDRESS:new RegExp("^("+Kn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ar+")"+_(_("\\%25|\\%(?!"+un+"{2})")+"("+xr+")")+"?\\]?$")}}var O=M(!1),F=M(!0),L=function(){return function(Ye,nt){if(Array.isArray(Ye))return Ye;if(Symbol.iterator in Object(Ye))return function St(Ye,nt){var Ht=[],Nt=!0,un=!1,Wn=void 0;try{for(var kn,En=Ye[Symbol.iterator]();!(Nt=(kn=En.next()).done)&&(Ht.push(kn.value),!nt||Ht.length!==nt);Nt=!0);}catch(Or){un=!0,Wn=Or}finally{try{!Nt&&En.return&&En.return()}finally{if(un)throw Wn}}return Ht}(Ye,nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),X=2147483647,j=36,se=/^xn--/,de=/[^\0-\x7E]/,le=/[\x2E\u3002\uFF0E\uFF61]/g,we={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ce=Math.floor,C=String.fromCharCode;function a(St){throw new RangeError(we[St])}function y(St,Ye){var nt=St.split("@"),Ht="";return nt.length>1&&(Ht=nt[0]+"@",St=nt[1]),Ht+function u(St,Ye){for(var nt=[],Ht=St.length;Ht--;)nt[Ht]=Ye(St[Ht]);return nt}((St=St.replace(le,".")).split("."),Ye).join(".")}function g(St){for(var Ye=[],nt=0,Ht=St.length;nt<Ht;){var Nt=St.charCodeAt(nt++);if(Nt>=55296&&Nt<=56319&&nt<Ht){var un=St.charCodeAt(nt++);56320==(64512&un)?Ye.push(((1023&Nt)<<10)+(1023&un)+65536):(Ye.push(Nt),nt--)}else Ye.push(Nt)}return Ye}var T=function(Ye){return Ye-48<10?Ye-22:Ye-65<26?Ye-65:Ye-97<26?Ye-97:j},N=function(Ye,nt){return Ye+22+75*(Ye<26)-((0!=nt)<<5)},A=function(Ye,nt,Ht){var Nt=0;for(Ye=Ht?Ce(Ye/700):Ye>>1,Ye+=Ce(Ye/nt);Ye>455;Nt+=j)Ye=Ce(Ye/35);return Ce(Nt+36*Ye/(Ye+38))},s=function(Ye){var nt=[],Ht=Ye.length,Nt=0,un=128,Wn=72,En=Ye.lastIndexOf("-");En<0&&(En=0);for(var kn=0;kn<En;++kn)Ye.charCodeAt(kn)>=128&&a("not-basic"),nt.push(Ye.charCodeAt(kn));for(var Or=En>0?En+1:0;Or<Ht;){for(var Jn=Nt,Fn=1,Lt=j;;Lt+=j){Or>=Ht&&a("invalid-input");var et=T(Ye.charCodeAt(Or++));(et>=j||et>Ce((X-Nt)/Fn))&&a("overflow"),Nt+=et*Fn;var Te=Lt<=Wn?1:Lt>=Wn+26?26:Lt-Wn;if(et<Te)break;var Be=j-Te;Fn>Ce(X/Be)&&a("overflow"),Fn*=Be}var xt=nt.length+1;Wn=A(Nt-Jn,xt,0==Jn),Ce(Nt/xt)>X-un&&a("overflow"),un+=Ce(Nt/xt),Nt%=xt,nt.splice(Nt++,0,un)}return String.fromCodePoint.apply(String,nt)},v=function(Ye){var nt=[],Ht=(Ye=g(Ye)).length,Nt=128,un=0,Wn=72,En=!0,kn=!1,Or=void 0;try{for(var Fn,Jn=Ye[Symbol.iterator]();!(En=(Fn=Jn.next()).done);En=!0){var Lt=Fn.value;Lt<128&&nt.push(C(Lt))}}catch(Kr){kn=!0,Or=Kr}finally{try{!En&&Jn.return&&Jn.return()}finally{if(kn)throw Or}}var et=nt.length,Te=et;for(et&&nt.push("-");Te<Ht;){var Be=X,xt=!0,nn=!1,In=void 0;try{for(var tr,Kn=Ye[Symbol.iterator]();!(xt=(tr=Kn.next()).done);xt=!0){var Dr=tr.value;Dr>=Nt&&Dr<Be&&(Be=Dr)}}catch(Kr){nn=!0,In=Kr}finally{try{!xt&&Kn.return&&Kn.return()}finally{if(nn)throw In}}var Mr=Te+1;Be-Nt>Ce((X-un)/Mr)&&a("overflow"),un+=(Be-Nt)*Mr,Nt=Be;var Ir=!0,jr=!1,ni=void 0;try{for(var _n,tn=Ye[Symbol.iterator]();!(Ir=(_n=tn.next()).done);Ir=!0){var Tn=_n.value;if(Tn<Nt&&++un>X&&a("overflow"),Tn==Nt){for(var jn=un,hr=j;;hr+=j){var Ar=hr<=Wn?1:hr>=Wn+26?26:hr-Wn;if(jn<Ar)break;var xr=jn-Ar,zr=j-Ar;nt.push(C(N(Ar+xr%zr,0))),jn=Ce(xr/zr)}nt.push(C(N(jn,0))),Wn=A(un,Mr,Te==et),un=0,++Te}}}catch(Kr){jr=!0,ni=Kr}finally{try{!Ir&&tn.return&&tn.return()}finally{if(jr)throw ni}}++un,++Nt}return nt.join("")},ee={version:"2.1.0",ucs2:{decode:g,encode:function(Ye){return String.fromCodePoint.apply(String,function(St){if(Array.isArray(St)){for(var Ye=0,nt=Array(St.length);Ye<St.length;Ye++)nt[Ye]=St[Ye];return nt}return Array.from(St)}(Ye))}},decode:s,encode:v,toASCII:function(Ye){return y(Ye,function(nt){return de.test(nt)?"xn--"+v(nt):nt})},toUnicode:function(Ye){return y(Ye,function(nt){return se.test(nt)?s(nt.slice(4).toLowerCase()):nt})}},ce={};function _e(St){var Ye=St.charCodeAt(0);return Ye<16?"%0"+Ye.toString(16).toUpperCase():Ye<128?"%"+Ye.toString(16).toUpperCase():Ye<2048?"%"+(Ye>>6|192).toString(16).toUpperCase()+"%"+(63&Ye|128).toString(16).toUpperCase():"%"+(Ye>>12|224).toString(16).toUpperCase()+"%"+(Ye>>6&63|128).toString(16).toUpperCase()+"%"+(63&Ye|128).toString(16).toUpperCase()}function Oe(St){for(var Ye="",nt=0,Ht=St.length;nt<Ht;){var Nt=parseInt(St.substr(nt+1,2),16);if(Nt<128)Ye+=String.fromCharCode(Nt),nt+=3;else if(Nt>=194&&Nt<224){if(Ht-nt>=6){var un=parseInt(St.substr(nt+4,2),16);Ye+=String.fromCharCode((31&Nt)<<6|63&un)}else Ye+=St.substr(nt,6);nt+=6}else if(Nt>=224){if(Ht-nt>=9){var Wn=parseInt(St.substr(nt+4,2),16),En=parseInt(St.substr(nt+7,2),16);Ye+=String.fromCharCode((15&Nt)<<12|(63&Wn)<<6|63&En)}else Ye+=St.substr(nt,9);nt+=9}else Ye+=St.substr(nt,3),nt+=3}return Ye}function Ve(St,Ye){function nt(Ht){var Nt=Oe(Ht);return Nt.match(Ye.UNRESERVED)?Nt:Ht}return St.scheme&&(St.scheme=String(St.scheme).replace(Ye.PCT_ENCODED,nt).toLowerCase().replace(Ye.NOT_SCHEME,"")),void 0!==St.userinfo&&(St.userinfo=String(St.userinfo).replace(Ye.PCT_ENCODED,nt).replace(Ye.NOT_USERINFO,_e).replace(Ye.PCT_ENCODED,H)),void 0!==St.host&&(St.host=String(St.host).replace(Ye.PCT_ENCODED,nt).toLowerCase().replace(Ye.NOT_HOST,_e).replace(Ye.PCT_ENCODED,H)),void 0!==St.path&&(St.path=String(St.path).replace(Ye.PCT_ENCODED,nt).replace(St.scheme?Ye.NOT_PATH:Ye.NOT_PATH_NOSCHEME,_e).replace(Ye.PCT_ENCODED,H)),void 0!==St.query&&(St.query=String(St.query).replace(Ye.PCT_ENCODED,nt).replace(Ye.NOT_QUERY,_e).replace(Ye.PCT_ENCODED,H)),void 0!==St.fragment&&(St.fragment=String(St.fragment).replace(Ye.PCT_ENCODED,nt).replace(Ye.NOT_FRAGMENT,_e).replace(Ye.PCT_ENCODED,H)),St}function Se(St){return St.replace(/^0*(.*)/,"$1")||"0"}function be(St,Ye){var nt=St.match(Ye.IPV4ADDRESS)||[],Nt=L(nt,2)[1];return Nt?Nt.split(".").map(Se).join("."):St}function Ue(St,Ye){var nt=St.match(Ye.IPV6ADDRESS)||[],Ht=L(nt,3),Nt=Ht[1],un=Ht[2];if(Nt){for(var Wn=Nt.toLowerCase().split("::").reverse(),En=L(Wn,2),kn=En[0],Or=En[1],Jn=Or?Or.split(":").map(Se):[],Fn=kn.split(":").map(Se),Lt=Ye.IPV4ADDRESS.test(Fn[Fn.length-1]),et=Lt?7:8,Te=Fn.length-et,Be=Array(et),xt=0;xt<et;++xt)Be[xt]=Jn[xt]||Fn[Te+xt]||"";Lt&&(Be[et-1]=be(Be[et-1],Ye));var In=Be.reduce(function(Mr,Ir,jr){if(!Ir||"0"===Ir){var ni=Mr[Mr.length-1];ni&&ni.index+ni.length===jr?ni.length++:Mr.push({index:jr,length:1})}return Mr},[]).sort(function(Mr,Ir){return Ir.length-Mr.length})[0],Kn=void 0;if(In&&In.length>1){var tr=Be.slice(0,In.index),Dr=Be.slice(In.index+In.length);Kn=tr.join(":")+"::"+Dr.join(":")}else Kn=Be.join(":");return un&&(Kn+="%"+un),Kn}return St}var ye=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,De=void 0==="".match(/(){0}/)[1];function pe(St){var Ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nt={},Ht=!1!==Ye.iri?F:O;"suffix"===Ye.reference&&(St=(Ye.scheme?Ye.scheme+":":"")+"//"+St);var Nt=St.match(ye);if(Nt){De?(nt.scheme=Nt[1],nt.userinfo=Nt[3],nt.host=Nt[4],nt.port=parseInt(Nt[5],10),nt.path=Nt[6]||"",nt.query=Nt[7],nt.fragment=Nt[8],isNaN(nt.port)&&(nt.port=Nt[5])):(nt.scheme=Nt[1]||void 0,nt.userinfo=-1!==St.indexOf("@")?Nt[3]:void 0,nt.host=-1!==St.indexOf("//")?Nt[4]:void 0,nt.port=parseInt(Nt[5],10),nt.path=Nt[6]||"",nt.query=-1!==St.indexOf("?")?Nt[7]:void 0,nt.fragment=-1!==St.indexOf("#")?Nt[8]:void 0,isNaN(nt.port)&&(nt.port=St.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Nt[4]:void 0)),nt.host&&(nt.host=Ue(be(nt.host,Ht),Ht)),nt.reference=void 0!==nt.scheme||void 0!==nt.userinfo||void 0!==nt.host||void 0!==nt.port||nt.path||void 0!==nt.query?void 0===nt.scheme?"relative":void 0===nt.fragment?"absolute":"uri":"same-document",Ye.reference&&"suffix"!==Ye.reference&&Ye.reference!==nt.reference&&(nt.error=nt.error||"URI is not a "+Ye.reference+" reference.");var un=ce[(Ye.scheme||nt.scheme||"").toLowerCase()];if(Ye.unicodeSupport||un&&un.unicodeSupport)Ve(nt,Ht);else{if(nt.host&&(Ye.domainHost||un&&un.domainHost))try{nt.host=ee.toASCII(nt.host.replace(Ht.PCT_ENCODED,Oe).toLowerCase())}catch(Wn){nt.error=nt.error||"Host's domain name can not be converted to ASCII via punycode: "+Wn}Ve(nt,O)}un&&un.parse&&un.parse(nt,Ye)}else nt.error=nt.error||"URI can not be parsed.";return nt}var Q=/^\.\.?\//,oe=/^\/\.(\/|$)/,fe=/^\/\.\.(\/|$)/,Ee=/^\/?(?:.|\n)*?(?=\/|$)/;function Re(St){for(var Ye=[];St.length;)if(St.match(Q))St=St.replace(Q,"");else if(St.match(oe))St=St.replace(oe,"/");else if(St.match(fe))St=St.replace(fe,"/"),Ye.pop();else if("."===St||".."===St)St="";else{var nt=St.match(Ee);if(!nt)throw new Error("Unexpected dot segment condition");var Ht=nt[0];St=St.slice(Ht.length),Ye.push(Ht)}return Ye.join("")}function $e(St){var Ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nt=Ye.iri?F:O,Ht=[],Nt=ce[(Ye.scheme||St.scheme||"").toLowerCase()];if(Nt&&Nt.serialize&&Nt.serialize(St,Ye),St.host&&!nt.IPV6ADDRESS.test(St.host)&&(Ye.domainHost||Nt&&Nt.domainHost))try{St.host=Ye.iri?ee.toUnicode(St.host):ee.toASCII(St.host.replace(nt.PCT_ENCODED,Oe).toLowerCase())}catch(En){St.error=St.error||"Host's domain name can not be converted to "+(Ye.iri?"Unicode":"ASCII")+" via punycode: "+En}Ve(St,nt),"suffix"!==Ye.reference&&St.scheme&&(Ht.push(St.scheme),Ht.push(":"));var un=function ue(St,Ye){var nt=!1!==Ye.iri?F:O,Ht=[];return void 0!==St.userinfo&&(Ht.push(St.userinfo),Ht.push("@")),void 0!==St.host&&Ht.push(Ue(be(String(St.host),nt),nt).replace(nt.IPV6ADDRESS,function(Nt,un,Wn){return"["+un+(Wn?"%25"+Wn:"")+"]"})),("number"==typeof St.port||"string"==typeof St.port)&&(Ht.push(":"),Ht.push(String(St.port))),Ht.length?Ht.join(""):void 0}(St,Ye);if(void 0!==un&&("suffix"!==Ye.reference&&Ht.push("//"),Ht.push(un),St.path&&"/"!==St.path.charAt(0)&&Ht.push("/")),void 0!==St.path){var Wn=St.path;!Ye.absolutePath&&(!Nt||!Nt.absolutePath)&&(Wn=Re(Wn)),void 0===un&&(Wn=Wn.replace(/^\/\//,"/%2F")),Ht.push(Wn)}return void 0!==St.query&&(Ht.push("?"),Ht.push(St.query)),void 0!==St.fragment&&(Ht.push("#"),Ht.push(St.fragment)),Ht.join("")}function Fe(St,Ye){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Nt={};return arguments[3]||(St=pe($e(St,nt),nt),Ye=pe($e(Ye,nt),nt)),!(nt=nt||{}).tolerant&&Ye.scheme?(Nt.scheme=Ye.scheme,Nt.userinfo=Ye.userinfo,Nt.host=Ye.host,Nt.port=Ye.port,Nt.path=Re(Ye.path||""),Nt.query=Ye.query):(void 0!==Ye.userinfo||void 0!==Ye.host||void 0!==Ye.port?(Nt.userinfo=Ye.userinfo,Nt.host=Ye.host,Nt.port=Ye.port,Nt.path=Re(Ye.path||""),Nt.query=Ye.query):(Ye.path?("/"===Ye.path.charAt(0)?Nt.path=Re(Ye.path):(Nt.path=void 0===St.userinfo&&void 0===St.host&&void 0===St.port||St.path?St.path?St.path.slice(0,St.path.lastIndexOf("/")+1)+Ye.path:Ye.path:"/"+Ye.path,Nt.path=Re(Nt.path)),Nt.query=Ye.query):(Nt.path=St.path,Nt.query=void 0!==Ye.query?Ye.query:St.query),Nt.userinfo=St.userinfo,Nt.host=St.host,Nt.port=St.port),Nt.scheme=St.scheme),Nt.fragment=Ye.fragment,Nt}function B(St,Ye){return St&&St.toString().replace(Ye&&Ye.iri?F.PCT_ENCODED:O.PCT_ENCODED,Oe)}var w={scheme:"http",domainHost:!0,parse:function(Ye,nt){return Ye.host||(Ye.error=Ye.error||"HTTP URIs must have a host."),Ye},serialize:function(Ye,nt){var Ht="https"===String(Ye.scheme).toLowerCase();return(Ye.port===(Ht?443:80)||""===Ye.port)&&(Ye.port=void 0),Ye.path||(Ye.path="/"),Ye}},m={scheme:"https",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize};function U(St){return"boolean"==typeof St.secure?St.secure:"wss"===String(St.scheme).toLowerCase()}var ne={scheme:"ws",domainHost:!0,parse:function(Ye,nt){var Ht=Ye;return Ht.secure=U(Ht),Ht.resourceName=(Ht.path||"/")+(Ht.query?"?"+Ht.query:""),Ht.path=void 0,Ht.query=void 0,Ht},serialize:function(Ye,nt){if((Ye.port===(U(Ye)?443:80)||""===Ye.port)&&(Ye.port=void 0),"boolean"==typeof Ye.secure&&(Ye.scheme=Ye.secure?"wss":"ws",Ye.secure=void 0),Ye.resourceName){var Ht=Ye.resourceName.split("?"),Nt=L(Ht,2),un=Nt[0],Wn=Nt[1];Ye.path=un&&"/"!==un?un:void 0,Ye.query=Wn,Ye.resourceName=void 0}return Ye.fragment=void 0,Ye}},ge={scheme:"wss",domainHost:ne.domainHost,parse:ne.parse,serialize:ne.serialize},Ae={},Bt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",vt="[0-9A-Fa-f]",It=_(_("%[EFef]"+vt+"%"+vt+vt+"%"+vt+vt)+"|"+_("%[89A-Fa-f]"+vt+"%"+vt+vt)+"|"+_("%"+vt+vt)),dn=f("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),An=new RegExp(Bt,"g"),en=new RegExp(It,"g"),Qt=new RegExp(f("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',dn),"g"),_t=new RegExp(f("[^]",Bt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ft=_t;function Wt(St){var Ye=Oe(St);return Ye.match(An)?Ye:St}var qt={scheme:"mailto",parse:function(Ye,nt){var Ht=Ye,Nt=Ht.to=Ht.path?Ht.path.split(","):[];if(Ht.path=void 0,Ht.query){for(var un=!1,Wn={},En=Ht.query.split("&"),kn=0,Or=En.length;kn<Or;++kn){var Jn=En[kn].split("=");switch(Jn[0]){case"to":for(var Fn=Jn[1].split(","),Lt=0,et=Fn.length;Lt<et;++Lt)Nt.push(Fn[Lt]);break;case"subject":Ht.subject=B(Jn[1],nt);break;case"body":Ht.body=B(Jn[1],nt);break;default:un=!0,Wn[B(Jn[0],nt)]=B(Jn[1],nt)}}un&&(Ht.headers=Wn)}Ht.query=void 0;for(var Te=0,Be=Nt.length;Te<Be;++Te){var xt=Nt[Te].split("@");if(xt[0]=B(xt[0]),nt.unicodeSupport)xt[1]=B(xt[1],nt).toLowerCase();else try{xt[1]=ee.toASCII(B(xt[1],nt).toLowerCase())}catch(nn){Ht.error=Ht.error||"Email address's domain name can not be converted to ASCII via punycode: "+nn}Nt[Te]=xt.join("@")}return Ht},serialize:function(Ye,nt){var Ht=Ye,Nt=function x(St){return null!=St?St instanceof Array?St:"number"!=typeof St.length||St.split||St.setInterval||St.call?[St]:Array.prototype.slice.call(St):[]}(Ye.to);if(Nt){for(var un=0,Wn=Nt.length;un<Wn;++un){var En=String(Nt[un]),kn=En.lastIndexOf("@"),Or=En.slice(0,kn).replace(en,Wt).replace(en,H).replace(Qt,_e),Jn=En.slice(kn+1);try{Jn=nt.iri?ee.toUnicode(Jn):ee.toASCII(B(Jn,nt).toLowerCase())}catch(Te){Ht.error=Ht.error||"Email address's domain name can not be converted to "+(nt.iri?"Unicode":"ASCII")+" via punycode: "+Te}Nt[un]=Or+"@"+Jn}Ht.path=Nt.join(",")}var Fn=Ye.headers=Ye.headers||{};Ye.subject&&(Fn.subject=Ye.subject),Ye.body&&(Fn.body=Ye.body);var Lt=[];for(var et in Fn)Fn[et]!==Ae[et]&&Lt.push(et.replace(en,Wt).replace(en,H).replace(_t,_e)+"="+Fn[et].replace(en,Wt).replace(en,H).replace(ft,_e));return Lt.length&&(Ht.query=Lt.join("&")),Ht}},pn=/^([^\:]+)\:(.*)/,fr={scheme:"urn",parse:function(Ye,nt){var Ht=Ye.path&&Ye.path.match(pn),Nt=Ye;if(Ht){var un=nt.scheme||Nt.scheme||"urn",Wn=Ht[1].toLowerCase(),En=Ht[2],Or=ce[un+":"+(nt.nid||Wn)];Nt.nid=Wn,Nt.nss=En,Nt.path=void 0,Or&&(Nt=Or.parse(Nt,nt))}else Nt.error=Nt.error||"URN can not be parsed.";return Nt},serialize:function(Ye,nt){var Nt=Ye.nid,Wn=ce[(nt.scheme||Ye.scheme||"urn")+":"+(nt.nid||Nt)];Wn&&(Ye=Wn.serialize(Ye,nt));var En=Ye;return En.path=(Nt||nt.nid)+":"+Ye.nss,En}},gt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Mt={scheme:"urn:uuid",parse:function(Ye,nt){var Ht=Ye;return Ht.uuid=Ht.nss,Ht.nss=void 0,!nt.tolerant&&(!Ht.uuid||!Ht.uuid.match(gt))&&(Ht.error=Ht.error||"UUID is not valid."),Ht},serialize:function(Ye,nt){var Ht=Ye;return Ht.nss=(Ye.uuid||"").toLowerCase(),Ht}};ce[w.scheme]=w,ce[m.scheme]=m,ce[ne.scheme]=ne,ce[ge.scheme]=ge,ce[qt.scheme]=qt,ce[fr.scheme]=fr,ce[Mt.scheme]=Mt,E.SCHEMES=ce,E.pctEncChar=_e,E.pctDecChars=Oe,E.parse=pe,E.removeDotSegments=Re,E.serialize=$e,E.resolveComponents=Fe,E.resolve=function Et(St,Ye,nt){var Ht=function P(St,Ye){var nt=St;if(Ye)for(var Ht in Ye)nt[Ht]=Ye[Ht];return nt}({scheme:"null"},nt);return $e(Fe(pe(St,Ht),pe(Ye,Ht),Ht,!0),Ht)},E.normalize=function We(St,Ye){return"string"==typeof St?St=$e(pe(St,Ye),Ye):"object"===k(St)&&(St=pe($e(St,Ye),Ye)),St},E.equal=function Le(St,Ye,nt){return"string"==typeof St?St=$e(pe(St,nt),nt):"object"===k(St)&&(St=$e(St,nt)),"string"==typeof Ye?Ye=$e(pe(Ye,nt),nt):"object"===k(Ye)&&(Ye=$e(Ye,nt)),St===Ye},E.escapeComponent=function lt(St,Ye){return St&&St.toString().replace(Ye&&Ye.iri?F.ESCAPE:O.ESCAPE,_e)},E.unescapeComponent=B,Object.defineProperty(E,"__esModule",{value:!0})}(z)},3398:je=>{function E(f){try{if(!globalThis.localStorage)return!1}catch{return!1}var _=globalThis.localStorage[f];return null!=_&&"true"===String(_).toLowerCase()}je.exports=function z(f,_){if(E("noDeprecation"))return f;var k=!1;return function H(){if(!k){if(E("throwDeprecation"))throw new Error(_);E("traceDeprecation")?console.trace(_):console.warn(_),k=!0}return f.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},25172:je=>{je.exports=function z(E,f){this.v=E,this.k=f},je.exports.__esModule=!0,je.exports.default=je.exports},93513:(je,z,E)=>{var f=E(25172);je.exports=function _(k){var H={},x=!1;function P(M,O){return x=!0,O=new Promise(function(F){F(k[M](O))}),{done:!1,value:new f(O,1)}}return H[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},H.next=function(M){return x?(x=!1,M):P("next",M)},"function"==typeof k.throw&&(H.throw=function(M){if(x)throw x=!1,M;return P("throw",M)}),"function"==typeof k.return&&(H.return=function(M){return x?(x=!1,M):P("return",M)}),H},je.exports.__esModule=!0,je.exports.default=je.exports},82881:je=>{function E(f){function _(k){if(Object(k)!==k)return Promise.reject(new TypeError(k+" is not an object."));var H=k.done;return Promise.resolve(k.value).then(function(x){return{value:x,done:H}})}return(E=function(H){this.s=H,this.n=H.next}).prototype={s:null,n:null,next:function(){return _(this.n.apply(this.s,arguments))},return:function(H){var x=this.s.return;return void 0===x?Promise.resolve({value:H,done:!0}):_(x.apply(this.s,arguments))},throw:function(H){var x=this.s.return;return void 0===x?Promise.reject(H):_(x.apply(this.s,arguments))}},new E(f)}je.exports=function z(f){var _,k,H,x=2;for(typeof Symbol<"u"&&(k=Symbol.asyncIterator,H=Symbol.iterator);x--;){if(k&&null!=(_=f[k]))return _.call(f);if(H&&null!=(_=f[H]))return new E(_.call(f));k="@@asyncIterator",H="@@iterator"}throw new TypeError("Object is not async iterable")},je.exports.__esModule=!0,je.exports.default=je.exports},29293:je=>{function z(f,_,k,H,x,P,M){try{var O=f[P](M),F=O.value}catch(L){return void k(L)}O.done?_(F):Promise.resolve(F).then(H,x)}je.exports=function E(f){return function(){var _=this,k=arguments;return new Promise(function(H,x){var P=f.apply(_,k);function M(F){z(P,H,x,M,O,"next",F)}function O(F){z(P,H,x,M,O,"throw",F)}M(void 0)})}},je.exports.__esModule=!0,je.exports.default=je.exports},53344:(je,z,E)=>{var f=E(25172);je.exports=function _(k){return new f(k,0)},je.exports.__esModule=!0,je.exports.default=je.exports},42958:(je,z,E)=>{var f=E(25172);function k(H){var x,P;function M(F,L){try{var D=H[F](L),X=D.value,j=X instanceof f;Promise.resolve(j?X.v:X).then(function(G){if(j){var re="return"===F?"return":"next";if(!X.k||G.done)return M(re,G);G=H[re](G).value}O(D.done?"return":"normal",G)},function(G){M("throw",G)})}catch(G){O("throw",G)}}function O(F,L){switch(F){case"return":x.resolve({value:L,done:!0});break;case"throw":x.reject(L);break;default:x.resolve({value:L,done:!1})}(x=x.next)?M(x.key,x.arg):P=null}this._invoke=function(F,L){return new Promise(function(D,X){var j={key:F,arg:L,resolve:D,reject:X,next:null};P?P=P.next=j:(x=P=j,M(F,L))})},"function"!=typeof H.return&&(this.return=void 0)}k.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},k.prototype.next=function(H){return this._invoke("next",H)},k.prototype.throw=function(H){return this._invoke("throw",H)},k.prototype.return=function(H){return this._invoke("return",H)},je.exports=function _(H){return function(){return new k(H.apply(this,arguments))}},je.exports.__esModule=!0,je.exports.default=je.exports},49969:(je,z,E)=>{"use strict";E.d(z,{FX:()=>Ce,If:()=>f,K2:()=>P,MA:()=>X,Os:()=>x,P:()=>G,hZ:()=>k,i0:()=>H,i7:()=>F,iF:()=>M,kY:()=>L,kp:()=>_,sf:()=>we,ui:()=>xe,wk:()=>O});var f=function(C){return C[C.State=0]="State",C[C.Transition=1]="Transition",C[C.Sequence=2]="Sequence",C[C.Group=3]="Group",C[C.Animate=4]="Animate",C[C.Keyframes=5]="Keyframes",C[C.Style=6]="Style",C[C.Trigger=7]="Trigger",C[C.Reference=8]="Reference",C[C.AnimateChild=9]="AnimateChild",C[C.AnimateRef=10]="AnimateRef",C[C.Query=11]="Query",C[C.Stagger=12]="Stagger",C}(f||{});const _="*";function k(C,a){return{type:f.Trigger,name:C,definitions:a,options:{}}}function H(C,a=null){return{type:f.Animate,styles:a,timings:C}}function x(C,a=null){return{type:f.Group,steps:C,options:a}}function P(C,a=null){return{type:f.Sequence,steps:C,options:a}}function M(C){return{type:f.Style,styles:C,offset:null}}function O(C,a,u){return{type:f.State,name:C,styles:a,options:u}}function F(C){return{type:f.Keyframes,steps:C}}function L(C,a,u=null){return{type:f.Transition,expr:C,animation:a,options:u}}function X(C=null){return{type:f.AnimateChild,options:C}}function G(C,a,u=null){return{type:f.Query,selector:C,animation:a,options:u}}class we{constructor(a=0,u=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=a+u}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const u="start"==a?this._onStartFns:this._onDoneFns;u.forEach(y=>y()),u.length=0}}class xe{constructor(a){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=a;let u=0,y=0,g=0;const S=this.players.length;0==S?queueMicrotask(()=>this._onFinish()):this.players.forEach(T=>{T.onDone(()=>{++u==S&&this._onFinish()}),T.onDestroy(()=>{++y==S&&this._onDestroy()}),T.onStart(()=>{++g==S&&this._onStart()})}),this.totalTime=this.players.reduce((T,N)=>Math.max(T,N.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const u=a*this.totalTime;this.players.forEach(y=>{const g=y.totalTime?Math.min(1,u/y.totalTime):1;y.setPosition(g)})}getPosition(){const a=this.players.reduce((u,y)=>null===u||y.totalTime>u.totalTime?y:u,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const u="start"==a?this._onStartFns:this._onDoneFns;u.forEach(y=>y()),u.length=0}}const Ce="!"},18617:(je,z,E)=>{"use strict";E.d(z,{Ae:()=>se,Ai:()=>U,Au:()=>g,Bu:()=>S,FN:()=>Bt,GX:()=>ye,Pd:()=>An,Q_:()=>ar,Uc:()=>Le,Z7:()=>N,_G:()=>Ee,px:()=>ae,vR:()=>vt,vr:()=>C,w6:()=>Re});var f=E(60177),_=E(93953),k=E(36860),H=E(21413),x=E(18359),P=E(84412),M=E(7673),O=E(67336),F=E(88141),L=E(70152),D=E(5964),X=E(96354),j=E(65245),G=E(23294),re=E(56977),te=E(49937),J=E(14085),Z=E(99327);const ie=" ";function ae(en,Qt,_t){const ft=de(en,Qt);_t=_t.trim(),!ft.some(Wt=>Wt.trim()===_t)&&(ft.push(_t),en.setAttribute(Qt,ft.join(ie)))}function se(en,Qt,_t){const ft=de(en,Qt);_t=_t.trim();const Wt=ft.filter(qt=>qt!==_t);Wt.length?en.setAttribute(Qt,Wt.join(ie)):en.removeAttribute(Qt)}function de(en,Qt){return en.getAttribute(Qt)?.match(/\S+/g)??[]}const we="cdk-describedby-message",xe="cdk-describedby-host";let Ce=0,C=(()=>{class en{constructor(_t,ft){this._platform=ft,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ce++,this._document=_t,this._id=(0,_.WQX)(_.sZ2)+"-"+Ce++}describe(_t,ft,Wt){if(!this._canBeDescribed(_t,ft))return;const qt=a(ft,Wt);"string"!=typeof ft?(u(ft,this._id),this._messageRegistry.set(qt,{messageElement:ft,referenceCount:0})):this._messageRegistry.has(qt)||this._createMessageElement(ft,Wt),this._isElementDescribedByMessage(_t,qt)||this._addMessageReference(_t,qt)}removeDescription(_t,ft,Wt){if(!ft||!this._isElementNode(_t))return;const qt=a(ft,Wt);if(this._isElementDescribedByMessage(_t,qt)&&this._removeMessageReference(_t,qt),"string"==typeof ft){const pn=this._messageRegistry.get(qt);pn&&0===pn.referenceCount&&this._deleteMessageElement(qt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const _t=this._document.querySelectorAll(`[${xe}="${this._id}"]`);for(let ft=0;ft<_t.length;ft++)this._removeCdkDescribedByReferenceIds(_t[ft]),_t[ft].removeAttribute(xe);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(_t,ft){const Wt=this._document.createElement("div");u(Wt,this._id),Wt.textContent=_t,ft&&Wt.setAttribute("role",ft),this._createMessagesContainer(),this._messagesContainer.appendChild(Wt),this._messageRegistry.set(a(_t,ft),{messageElement:Wt,referenceCount:0})}_deleteMessageElement(_t){this._messageRegistry.get(_t)?.messageElement?.remove(),this._messageRegistry.delete(_t)}_createMessagesContainer(){if(this._messagesContainer)return;const _t="cdk-describedby-message-container",ft=this._document.querySelectorAll(`.${_t}[platform="server"]`);for(let qt=0;qt<ft.length;qt++)ft[qt].remove();const Wt=this._document.createElement("div");Wt.style.visibility="hidden",Wt.classList.add(_t),Wt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Wt.setAttribute("platform","server"),this._document.body.appendChild(Wt),this._messagesContainer=Wt}_removeCdkDescribedByReferenceIds(_t){const ft=de(_t,"aria-describedby").filter(Wt=>0!=Wt.indexOf(we));_t.setAttribute("aria-describedby",ft.join(" "))}_addMessageReference(_t,ft){const Wt=this._messageRegistry.get(ft);ae(_t,"aria-describedby",Wt.messageElement.id),_t.setAttribute(xe,this._id),Wt.referenceCount++}_removeMessageReference(_t,ft){const Wt=this._messageRegistry.get(ft);Wt.referenceCount--,se(_t,"aria-describedby",Wt.messageElement.id),_t.removeAttribute(xe)}_isElementDescribedByMessage(_t,ft){const Wt=de(_t,"aria-describedby"),qt=this._messageRegistry.get(ft),pn=qt&&qt.messageElement.id;return!!pn&&-1!=Wt.indexOf(pn)}_canBeDescribed(_t,ft){if(!this._isElementNode(_t))return!1;if(ft&&"object"==typeof ft)return!0;const Wt=null==ft?"":`${ft}`.trim(),qt=_t.getAttribute("aria-label");return!(!Wt||qt&&qt.trim()===Wt)}_isElementNode(_t){return _t.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(ft){return new(ft||en)(_.KVO(f.qQ),_.KVO(k.OD))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();function a(en,Qt){return"string"==typeof en?`${Qt||""}/${en}`:en}function u(en,Qt){en.id||(en.id=`${we}-${Qt}-${Ce++}`)}class y{constructor(Qt,_t){this._items=Qt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new H.B,this._typeaheadSubscription=x.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ft=>ft.disabled,this._pressedLetters=[],this.tabOut=new H.B,this.change=new H.B,Qt instanceof _.rOR?this._itemChangesSubscription=Qt.changes.subscribe(ft=>this._itemsChanged(ft.toArray())):(0,_.Hps)(Qt)&&(this._effectRef=(0,_.QZP)(()=>this._itemsChanged(Qt()),{injector:_t}))}skipPredicate(Qt){return this._skipPredicateFn=Qt,this}withWrap(Qt=!0){return this._wrap=Qt,this}withVerticalOrientation(Qt=!0){return this._vertical=Qt,this}withHorizontalOrientation(Qt){return this._horizontal=Qt,this}withAllowedModifierKeys(Qt){return this._allowedModifierKeys=Qt,this}withTypeAhead(Qt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,F.M)(_t=>this._pressedLetters.push(_t)),(0,L.B)(Qt),(0,D.p)(()=>this._pressedLetters.length>0),(0,X.T)(()=>this._pressedLetters.join(""))).subscribe(_t=>{const ft=this._getItemsArray();for(let Wt=1;Wt<ft.length+1;Wt++){const qt=(this._activeItemIndex+Wt)%ft.length,pn=ft[qt];if(!this._skipPredicateFn(pn)&&0===pn.getLabel().toUpperCase().trim().indexOf(_t)){this.setActiveItem(qt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Qt=!0){return this._homeAndEnd=Qt,this}withPageUpDown(Qt=!0,_t=10){return this._pageUpAndDown={enabled:Qt,delta:_t},this}setActiveItem(Qt){const _t=this._activeItem;this.updateActiveItem(Qt),this._activeItem!==_t&&this.change.next(this._activeItemIndex)}onKeydown(Qt){const _t=Qt.keyCode,Wt=["altKey","ctrlKey","metaKey","shiftKey"].every(qt=>!Qt[qt]||this._allowedModifierKeys.indexOf(qt)>-1);switch(_t){case O.wn:return void this.tabOut.next();case O.n6:if(this._vertical&&Wt){this.setNextItemActive();break}return;case O.i7:if(this._vertical&&Wt){this.setPreviousItemActive();break}return;case O.LE:if(this._horizontal&&Wt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case O.UQ:if(this._horizontal&&Wt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case O.yZ:if(this._homeAndEnd&&Wt){this.setFirstItemActive();break}return;case O.Kp:if(this._homeAndEnd&&Wt){this.setLastItemActive();break}return;case O.w_:if(this._pageUpAndDown.enabled&&Wt){const qt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(qt>0?qt:0,1);break}return;case O.dB:if(this._pageUpAndDown.enabled&&Wt){const qt=this._activeItemIndex+this._pageUpAndDown.delta,pn=this._getItemsArray().length;this._setActiveItemByIndex(qt<pn?qt:pn-1,-1);break}return;default:return void((Wt||(0,O.rp)(Qt,"shiftKey"))&&(Qt.key&&1===Qt.key.length?this._letterKeyStream.next(Qt.key.toLocaleUpperCase()):(_t>=O.A&&_t<=O.Z||_t>=O.f2&&_t<=O.bn)&&this._letterKeyStream.next(String.fromCharCode(_t))))}this._pressedLetters=[],Qt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Qt){const _t=this._getItemsArray(),ft="number"==typeof Qt?Qt:_t.indexOf(Qt);this._activeItem=_t[ft]??null,this._activeItemIndex=ft}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Qt){this._wrap?this._setActiveInWrapMode(Qt):this._setActiveInDefaultMode(Qt)}_setActiveInWrapMode(Qt){const _t=this._getItemsArray();for(let ft=1;ft<=_t.length;ft++){const Wt=(this._activeItemIndex+Qt*ft+_t.length)%_t.length;if(!this._skipPredicateFn(_t[Wt]))return void this.setActiveItem(Wt)}}_setActiveInDefaultMode(Qt){this._setActiveItemByIndex(this._activeItemIndex+Qt,Qt)}_setActiveItemByIndex(Qt,_t){const ft=this._getItemsArray();if(ft[Qt]){for(;this._skipPredicateFn(ft[Qt]);)if(!ft[Qt+=_t])return;this.setActiveItem(Qt)}}_getItemsArray(){return(0,_.Hps)(this._items)?this._items():this._items instanceof _.rOR?this._items.toArray():this._items}_itemsChanged(Qt){if(this._activeItem){const _t=Qt.indexOf(this._activeItem);_t>-1&&_t!==this._activeItemIndex&&(this._activeItemIndex=_t)}}}class g extends y{setActiveItem(Qt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Qt),this.activeItem&&this.activeItem.setActiveStyles()}}class S extends y{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Qt){return this._origin=Qt,this}setActiveItem(Qt){super.setActiveItem(Qt),this.activeItem&&this.activeItem.focus(this._origin)}}let N=(()=>{class en{constructor(_t){this._platform=_t}isDisabled(_t){return _t.hasAttribute("disabled")}isVisible(_t){return function s(en){return!!(en.offsetWidth||en.offsetHeight||"function"==typeof en.getClientRects&&en.getClientRects().length)}(_t)&&"visible"===getComputedStyle(_t).visibility}isTabbable(_t){if(!this._platform.isBrowser)return!1;const ft=function A(en){try{return en.frameElement}catch{return null}}(function be(en){return en.ownerDocument&&en.ownerDocument.defaultView||window}(_t));if(ft&&(-1===Oe(ft)||!this.isVisible(ft)))return!1;let Wt=_t.nodeName.toLowerCase(),qt=Oe(_t);return _t.hasAttribute("contenteditable")?-1!==qt:!("iframe"===Wt||"object"===Wt||this._platform.WEBKIT&&this._platform.IOS&&!function Ve(en){let Qt=en.nodeName.toLowerCase(),_t="input"===Qt&&en.type;return"text"===_t||"password"===_t||"select"===Qt||"textarea"===Qt}(_t))&&("audio"===Wt?!!_t.hasAttribute("controls")&&-1!==qt:"video"===Wt?-1!==qt&&(null!==qt||this._platform.FIREFOX||_t.hasAttribute("controls")):_t.tabIndex>=0)}isFocusable(_t,ft){return function Se(en){return!function W(en){return function ee(en){return"input"==en.nodeName.toLowerCase()}(en)&&"hidden"==en.type}(en)&&(function v(en){let Qt=en.nodeName.toLowerCase();return"input"===Qt||"select"===Qt||"button"===Qt||"textarea"===Qt}(en)||function K(en){return function ce(en){return"a"==en.nodeName.toLowerCase()}(en)&&en.hasAttribute("href")}(en)||en.hasAttribute("contenteditable")||_e(en))}(_t)&&!this.isDisabled(_t)&&(ft?.ignoreVisibility||this.isVisible(_t))}static#e=this.\u0275fac=function(ft){return new(ft||en)(_.KVO(k.OD))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();function _e(en){if(!en.hasAttribute("tabindex")||void 0===en.tabIndex)return!1;let Qt=en.getAttribute("tabindex");return!(!Qt||isNaN(parseInt(Qt,10)))}function Oe(en){if(!_e(en))return null;const Qt=parseInt(en.getAttribute("tabindex")||"",10);return isNaN(Qt)?-1:Qt}class Ue{get enabled(){return this._enabled}set enabled(Qt){this._enabled=Qt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Qt,this._startAnchor),this._toggleAnchorTabIndex(Qt,this._endAnchor))}constructor(Qt,_t,ft,Wt,qt=!1,pn){this._element=Qt,this._checker=_t,this._ngZone=ft,this._document=Wt,this._injector=pn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,qt||this.attachAnchors()}destroy(){const Qt=this._startAnchor,_t=this._endAnchor;Qt&&(Qt.removeEventListener("focus",this.startAnchorListener),Qt.remove()),_t&&(_t.removeEventListener("focus",this.endAnchorListener),_t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Qt){return new Promise(_t=>{this._executeOnStable(()=>_t(this.focusInitialElement(Qt)))})}focusFirstTabbableElementWhenReady(Qt){return new Promise(_t=>{this._executeOnStable(()=>_t(this.focusFirstTabbableElement(Qt)))})}focusLastTabbableElementWhenReady(Qt){return new Promise(_t=>{this._executeOnStable(()=>_t(this.focusLastTabbableElement(Qt)))})}_getRegionBoundary(Qt){const _t=this._element.querySelectorAll(`[cdk-focus-region-${Qt}], [cdkFocusRegion${Qt}], [cdk-focus-${Qt}]`);return"start"==Qt?_t.length?_t[0]:this._getFirstTabbableElement(this._element):_t.length?_t[_t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Qt){const _t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(_t){if(!this._checker.isFocusable(_t)){const ft=this._getFirstTabbableElement(_t);return ft?.focus(Qt),!!ft}return _t.focus(Qt),!0}return this.focusFirstTabbableElement(Qt)}focusFirstTabbableElement(Qt){const _t=this._getRegionBoundary("start");return _t&&_t.focus(Qt),!!_t}focusLastTabbableElement(Qt){const _t=this._getRegionBoundary("end");return _t&&_t.focus(Qt),!!_t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Qt){if(this._checker.isFocusable(Qt)&&this._checker.isTabbable(Qt))return Qt;const _t=Qt.children;for(let ft=0;ft<_t.length;ft++){const Wt=_t[ft].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(_t[ft]):null;if(Wt)return Wt}return null}_getLastTabbableElement(Qt){if(this._checker.isFocusable(Qt)&&this._checker.isTabbable(Qt))return Qt;const _t=Qt.children;for(let ft=_t.length-1;ft>=0;ft--){const Wt=_t[ft].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(_t[ft]):null;if(Wt)return Wt}return null}_createAnchor(){const Qt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Qt),Qt.classList.add("cdk-visually-hidden"),Qt.classList.add("cdk-focus-trap-anchor"),Qt.setAttribute("aria-hidden","true"),Qt}_toggleAnchorTabIndex(Qt,_t){Qt?_t.setAttribute("tabindex","0"):_t.removeAttribute("tabindex")}toggleAnchors(Qt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Qt,this._startAnchor),this._toggleAnchorTabIndex(Qt,this._endAnchor))}_executeOnStable(Qt){this._injector?(0,_.mal)(Qt,{injector:this._injector}):setTimeout(Qt)}}let ye=(()=>{class en{constructor(_t,ft,Wt){this._checker=_t,this._ngZone=ft,this._injector=(0,_.WQX)(_.zZn),this._document=Wt}create(_t,ft=!1){return new Ue(_t,this._checker,this._ngZone,this._document,ft,this._injector)}static#e=this.\u0275fac=function(ft){return new(ft||en)(_.KVO(N),_.KVO(_.SKi),_.KVO(f.qQ))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();function Ee(en){return 0===en.buttons||0===en.detail}function Re(en){const Qt=en.touches&&en.touches[0]||en.changedTouches&&en.changedTouches[0];return!(!Qt||-1!==Qt.identifier||null!=Qt.radiusX&&1!==Qt.radiusX||null!=Qt.radiusY&&1!==Qt.radiusY)}const $e=new _.nKC("cdk-input-modality-detector-options"),Fe={ignoreKeys:[O.A$,O.W3,O.eg,O.Ge,O.FX]},We=(0,k.BQ)({passive:!0,capture:!0});let Le=(()=>{class en{get mostRecentModality(){return this._modality.value}constructor(_t,ft,Wt,qt){this._platform=_t,this._mostRecentTarget=null,this._modality=new P.t(null),this._lastTouchMs=0,this._onKeydown=pn=>{this._options?.ignoreKeys?.some(fr=>fr===pn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,k.Fb)(pn))},this._onMousedown=pn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ee(pn)?"keyboard":"mouse"),this._mostRecentTarget=(0,k.Fb)(pn))},this._onTouchstart=pn=>{Re(pn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,k.Fb)(pn))},this._options={...Fe,...qt},this.modalityDetected=this._modality.pipe((0,j.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,G.F)()),_t.isBrowser&&ft.runOutsideAngular(()=>{Wt.addEventListener("keydown",this._onKeydown,We),Wt.addEventListener("mousedown",this._onMousedown,We),Wt.addEventListener("touchstart",this._onTouchstart,We)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,We),document.removeEventListener("mousedown",this._onMousedown,We),document.removeEventListener("touchstart",this._onTouchstart,We))}static#e=this.\u0275fac=function(ft){return new(ft||en)(_.KVO(k.OD),_.KVO(_.SKi),_.KVO(f.qQ),_.KVO($e,8))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();const lt=new _.nKC("liveAnnouncerElement",{providedIn:"root",factory:function B(){return null}}),w=new _.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let m=0,U=(()=>{class en{constructor(_t,ft,Wt,qt){this._ngZone=ft,this._defaultOptions=qt,this._document=Wt,this._liveElement=_t||this._createLiveElement()}announce(_t,...ft){const Wt=this._defaultOptions;let qt,pn;return 1===ft.length&&"number"==typeof ft[0]?pn=ft[0]:[qt,pn]=ft,this.clear(),clearTimeout(this._previousTimeout),qt||(qt=Wt&&Wt.politeness?Wt.politeness:"polite"),null==pn&&Wt&&(pn=Wt.duration),this._liveElement.setAttribute("aria-live",qt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(fr=>this._currentResolve=fr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=_t,"number"==typeof pn&&(this._previousTimeout=setTimeout(()=>this.clear(),pn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const _t="cdk-live-announcer-element",ft=this._document.getElementsByClassName(_t),Wt=this._document.createElement("div");for(let qt=0;qt<ft.length;qt++)ft[qt].remove();return Wt.classList.add(_t),Wt.classList.add("cdk-visually-hidden"),Wt.setAttribute("aria-atomic","true"),Wt.setAttribute("aria-live","polite"),Wt.id="cdk-live-announcer-"+m++,this._document.body.appendChild(Wt),Wt}_exposeAnnouncerToModals(_t){const ft=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Wt=0;Wt<ft.length;Wt++){const qt=ft[Wt],pn=qt.getAttribute("aria-owns");pn?-1===pn.indexOf(_t)&&qt.setAttribute("aria-owns",pn+" "+_t):qt.setAttribute("aria-owns",_t)}}static#e=this.\u0275fac=function(ft){return new(ft||en)(_.KVO(lt,8),_.KVO(_.SKi),_.KVO(f.qQ),_.KVO(w,8))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();var ge=function(en){return en[en.IMMEDIATE=0]="IMMEDIATE",en[en.EVENTUAL=1]="EVENTUAL",en}(ge||{});const Ae=new _.nKC("cdk-focus-monitor-default-options"),tt=(0,k.BQ)({passive:!0,capture:!0});let Bt=(()=>{class en{constructor(_t,ft,Wt,qt,pn){this._ngZone=_t,this._platform=ft,this._inputModalityDetector=Wt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new H.B,this._rootNodeFocusAndBlurListener=fr=>{for(let Mt=(0,k.Fb)(fr);Mt;Mt=Mt.parentElement)"focus"===fr.type?this._onFocus(fr,Mt):this._onBlur(fr,Mt)},this._document=qt,this._detectionMode=pn?.detectionMode||ge.IMMEDIATE}monitor(_t,ft=!1){const Wt=(0,J.i8)(_t);if(!this._platform.isBrowser||1!==Wt.nodeType)return(0,M.of)();const qt=(0,k.KT)(Wt)||this._getDocument(),pn=this._elementInfo.get(Wt);if(pn)return ft&&(pn.checkChildren=!0),pn.subject;const fr={checkChildren:ft,subject:new H.B,rootNode:qt};return this._elementInfo.set(Wt,fr),this._registerGlobalListeners(fr),fr.subject}stopMonitoring(_t){const ft=(0,J.i8)(_t),Wt=this._elementInfo.get(ft);Wt&&(Wt.subject.complete(),this._setClasses(ft),this._elementInfo.delete(ft),this._removeGlobalListeners(Wt))}focusVia(_t,ft,Wt){const qt=(0,J.i8)(_t);qt===this._getDocument().activeElement?this._getClosestElementsInfo(qt).forEach(([fr,gt])=>this._originChanged(fr,ft,gt)):(this._setOrigin(ft),"function"==typeof qt.focus&&qt.focus(Wt))}ngOnDestroy(){this._elementInfo.forEach((_t,ft)=>this.stopMonitoring(ft))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(_t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(_t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:_t&&this._isLastInteractionFromInputLabel(_t)?"mouse":"program"}_shouldBeAttributedToTouch(_t){return this._detectionMode===ge.EVENTUAL||!!_t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(_t,ft){_t.classList.toggle("cdk-focused",!!ft),_t.classList.toggle("cdk-touch-focused","touch"===ft),_t.classList.toggle("cdk-keyboard-focused","keyboard"===ft),_t.classList.toggle("cdk-mouse-focused","mouse"===ft),_t.classList.toggle("cdk-program-focused","program"===ft)}_setOrigin(_t,ft=!1){this._ngZone.runOutsideAngular(()=>{this._origin=_t,this._originFromTouchInteraction="touch"===_t&&ft,this._detectionMode===ge.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(_t,ft){const Wt=this._elementInfo.get(ft),qt=(0,k.Fb)(_t);!Wt||!Wt.checkChildren&&ft!==qt||this._originChanged(ft,this._getFocusOrigin(qt),Wt)}_onBlur(_t,ft){const Wt=this._elementInfo.get(ft);!Wt||Wt.checkChildren&&_t.relatedTarget instanceof Node&&ft.contains(_t.relatedTarget)||(this._setClasses(ft),this._emitOrigin(Wt,null))}_emitOrigin(_t,ft){_t.subject.observers.length&&this._ngZone.run(()=>_t.subject.next(ft))}_registerGlobalListeners(_t){if(!this._platform.isBrowser)return;const ft=_t.rootNode,Wt=this._rootNodeFocusListenerCount.get(ft)||0;Wt||this._ngZone.runOutsideAngular(()=>{ft.addEventListener("focus",this._rootNodeFocusAndBlurListener,tt),ft.addEventListener("blur",this._rootNodeFocusAndBlurListener,tt)}),this._rootNodeFocusListenerCount.set(ft,Wt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,re.Q)(this._stopInputModalityDetector)).subscribe(qt=>{this._setOrigin(qt,!0)}))}_removeGlobalListeners(_t){const ft=_t.rootNode;if(this._rootNodeFocusListenerCount.has(ft)){const Wt=this._rootNodeFocusListenerCount.get(ft);Wt>1?this._rootNodeFocusListenerCount.set(ft,Wt-1):(ft.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tt),ft.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tt),this._rootNodeFocusListenerCount.delete(ft))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(_t,ft,Wt){this._setClasses(_t,ft),this._emitOrigin(Wt,ft),this._lastFocusOrigin=ft}_getClosestElementsInfo(_t){const ft=[];return this._elementInfo.forEach((Wt,qt)=>{(qt===_t||Wt.checkChildren&&qt.contains(_t))&&ft.push([qt,Wt])}),ft}_isLastInteractionFromInputLabel(_t){const{_mostRecentTarget:ft,mostRecentModality:Wt}=this._inputModalityDetector;if("mouse"!==Wt||!ft||ft===_t||"INPUT"!==_t.nodeName&&"TEXTAREA"!==_t.nodeName||_t.disabled)return!1;const qt=_t.labels;if(qt)for(let pn=0;pn<qt.length;pn++)if(qt[pn].contains(ft))return!0;return!1}static#e=this.\u0275fac=function(ft){return new(ft||en)(_.KVO(_.SKi),_.KVO(k.OD),_.KVO(Le),_.KVO(f.qQ,8),_.KVO(Ae,8))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})(),vt=(()=>{class en{constructor(_t,ft){this._elementRef=_t,this._focusMonitor=ft,this._focusOrigin=null,this.cdkFocusChange=new _.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const _t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(_t,1===_t.nodeType&&_t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ft=>{this._focusOrigin=ft,this.cdkFocusChange.emit(ft)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(ft){return new(ft||en)(_.rXU(_.aKT),_.rXU(Bt))};static#t=this.\u0275dir=_.FsC({type:en,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return en})();var It=function(en){return en[en.NONE=0]="NONE",en[en.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",en[en.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",en}(It||{});const Gt="cdk-high-contrast-black-on-white",hn="cdk-high-contrast-white-on-black",dn="cdk-high-contrast-active";let ar=(()=>{class en{constructor(_t,ft){this._platform=_t,this._document=ft,this._breakpointSubscription=(0,_.WQX)(Z.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return It.NONE;const _t=this._document.createElement("div");_t.style.backgroundColor="rgb(1,2,3)",_t.style.position="absolute",this._document.body.appendChild(_t);const ft=this._document.defaultView||window,Wt=ft&&ft.getComputedStyle?ft.getComputedStyle(_t):null,qt=(Wt&&Wt.backgroundColor||"").replace(/ /g,"");switch(_t.remove(),qt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return It.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return It.BLACK_ON_WHITE}return It.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const _t=this._document.body.classList;_t.remove(dn,Gt,hn),this._hasCheckedHighContrastMode=!0;const ft=this.getHighContrastMode();ft===It.BLACK_ON_WHITE?_t.add(dn,Gt):ft===It.WHITE_ON_BLACK&&_t.add(dn,hn)}}static#e=this.\u0275fac=function(ft){return new(ft||en)(_.KVO(k.OD),_.KVO(f.qQ))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})(),An=(()=>{class en{constructor(_t){_t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(ft){return new(ft||en)(_.KVO(ar))};static#t=this.\u0275mod=_.$C({type:en});static#n=this.\u0275inj=_.G2t({imports:[te.w5]})}return en})()},28203:(je,z,E)=>{"use strict";E.d(z,{dS:()=>M,jI:()=>F});var f=E(93953),_=E(60177);const k=new f.nKC("cdk-dir-doc",{providedIn:"root",factory:function H(){return(0,f.WQX)(_.qQ)}}),x=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let M=(()=>{class L{constructor(X){this.value="ltr",this.change=new f.bkB,X&&(this.value=function P(L){const D=L?.toLowerCase()||"";return"auto"===D&&typeof navigator<"u"&&navigator?.language?x.test(navigator.language)?"rtl":"ltr":"rtl"===D?"rtl":"ltr"}((X.body?X.body.dir:null)||(X.documentElement?X.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(j){return new(j||L)(f.KVO(k,8))};static#t=this.\u0275prov=f.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),F=(()=>{class L{static#e=this.\u0275fac=function(j){return new(j||L)};static#t=this.\u0275mod=f.$C({type:L});static#n=this.\u0275inj=f.G2t({})}return L})()},14085:(je,z,E)=>{"use strict";E.d(z,{FG:()=>x,OE:()=>k,a1:()=>P,he:()=>_,i8:()=>M,o1:()=>H});var f=E(93953);function _(F){return null!=F&&"false"!=`${F}`}function k(F,L=0){return H(F)?Number(F):2===arguments.length?L:0}function H(F){return!isNaN(parseFloat(F))&&!isNaN(Number(F))}function x(F){return Array.isArray(F)?F:[F]}function P(F){return null==F?"":"string"==typeof F?F:`${F}px`}function M(F){return F instanceof f.aKT?F.nativeElement:F}},45024:(je,z,E)=>{"use strict";E.d(z,{CB:()=>j,DQ:()=>X,Q3:()=>F,qS:()=>P,sL:()=>L,xn:()=>D,y4:()=>M,zP:()=>re});var f=E(30017),H=(E(74402),E(7673),E(21413)),x=E(93953);class P{}function M(te){return te&&"function"==typeof te.connect&&!(te instanceof f.G)}var F=function(te){return te[te.REPLACED=0]="REPLACED",te[te.INSERTED=1]="INSERTED",te[te.MOVED=2]="MOVED",te[te.REMOVED=3]="REMOVED",te}(F||{});const L=new x.nKC("_ViewRepeater");class D{applyChanges(J,Z,ie,ae,se){J.forEachOperation((de,le,we)=>{let xe,Ce;if(null==de.previousIndex){const C=ie(de,le,we);xe=Z.createEmbeddedView(C.templateRef,C.context,C.index),Ce=F.INSERTED}else null==we?(Z.remove(le),Ce=F.REMOVED):(xe=Z.get(le),Z.move(xe,we),Ce=F.MOVED);se&&se({context:xe?.context,operation:Ce,record:de})})}detach(){}}class X{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(J,Z,ie,ae,se){J.forEachOperation((de,le,we)=>{let xe,Ce;null==de.previousIndex?(xe=this._insertView(()=>ie(de,le,we),we,Z,ae(de)),Ce=xe?F.INSERTED:F.REPLACED):null==we?(this._detachAndCacheView(le,Z),Ce=F.REMOVED):(xe=this._moveView(le,we,Z,ae(de)),Ce=F.MOVED),se&&se({context:xe?.context,operation:Ce,record:de})})}detach(){for(const J of this._viewCache)J.destroy();this._viewCache=[]}_insertView(J,Z,ie,ae){const se=this._insertViewFromCache(Z,ie);if(se)return void(se.context.$implicit=ae);const de=J();return ie.createEmbeddedView(de.templateRef,de.context,de.index)}_detachAndCacheView(J,Z){const ie=Z.detach(J);this._maybeCacheView(ie,Z)}_moveView(J,Z,ie,ae){const se=ie.get(J);return ie.move(se,Z),se.context.$implicit=ae,se}_maybeCacheView(J,Z){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(J);else{const ie=Z.indexOf(J);-1===ie?J.destroy():Z.remove(ie)}}_insertViewFromCache(J,Z){const ie=this._viewCache.pop();return ie&&Z.insert(ie,J),ie||null}}class j{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(J=!1,Z,ie=!0,ae){this._multiple=J,this._emitChanges=ie,this.compareWith=ae,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new H.B,Z&&Z.length&&(J?Z.forEach(se=>this._markSelected(se)):this._markSelected(Z[0]),this._selectedToEmit.length=0)}select(...J){this._verifyValueAssignment(J),J.forEach(ie=>this._markSelected(ie));const Z=this._hasQueuedChanges();return this._emitChangeEvent(),Z}deselect(...J){this._verifyValueAssignment(J),J.forEach(ie=>this._unmarkSelected(ie));const Z=this._hasQueuedChanges();return this._emitChangeEvent(),Z}setSelection(...J){this._verifyValueAssignment(J);const Z=this.selected,ie=new Set(J);J.forEach(se=>this._markSelected(se)),Z.filter(se=>!ie.has(this._getConcreteValue(se,ie))).forEach(se=>this._unmarkSelected(se));const ae=this._hasQueuedChanges();return this._emitChangeEvent(),ae}toggle(J){return this.isSelected(J)?this.deselect(J):this.select(J)}clear(J=!0){this._unmarkAll();const Z=this._hasQueuedChanges();return J&&this._emitChangeEvent(),Z}isSelected(J){return this._selection.has(this._getConcreteValue(J))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(J){this._multiple&&this.selected&&this._selected.sort(J)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(J){J=this._getConcreteValue(J),this.isSelected(J)||(this._multiple||this._unmarkAll(),this.isSelected(J)||this._selection.add(J),this._emitChanges&&this._selectedToEmit.push(J))}_unmarkSelected(J){J=this._getConcreteValue(J),this.isSelected(J)&&(this._selection.delete(J),this._emitChanges&&this._deselectedToEmit.push(J))}_unmarkAll(){this.isEmpty()||this._selection.forEach(J=>this._unmarkSelected(J))}_verifyValueAssignment(J){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(J,Z){if(this.compareWith){Z=Z??this._selection;for(let ie of Z)if(this.compareWith(J,ie))return ie;return J}return J}}let re=(()=>{class te{constructor(){this._listeners=[]}notify(Z,ie){for(let ae of this._listeners)ae(Z,ie)}listen(Z){return this._listeners.push(Z),()=>{this._listeners=this._listeners.filter(ie=>Z!==ie)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(ie){return new(ie||te)};static#t=this.\u0275prov=x.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()},67336:(je,z,E)=>{"use strict";E.d(z,{A:()=>K,A$:()=>O,FX:()=>P,Fm:()=>x,G_:()=>_,Ge:()=>m,Kp:()=>re,LE:()=>ie,SJ:()=>we,UQ:()=>J,W3:()=>M,Z:()=>w,_f:()=>D,bn:()=>N,dB:()=>G,eg:()=>hr,f2:()=>xe,i7:()=>Z,n6:()=>ae,rp:()=>Ar,t6:()=>X,w_:()=>j,wn:()=>k,yZ:()=>te});const _=8,k=9,x=13,P=16,M=17,O=18,D=27,X=32,j=33,G=34,re=35,te=36,J=37,Z=38,ie=39,ae=40,we=46,xe=48,N=57,K=65,w=90,m=91,hr=224;function Ar(xr,...zr){return zr.length?zr.some(Kr=>xr[Kr]):xr.altKey||xr.shiftKey||xr.ctrlKey||xr.metaKey}},99327:(je,z,E)=>{"use strict";E.d(z,{QP:()=>ae,Rp:()=>de});var f=E(93953),_=E(14085),k=E(21413),H=E(84572),x=E(28793),P=E(71985),M=E(96697),O=E(65245),F=E(70152),L=E(96354),D=E(99172),X=E(56977),j=E(36860);const re=new Set;let te,J=(()=>{class le{constructor(xe,Ce){this._platform=xe,this._nonce=Ce,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ie}matchMedia(xe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Z(le,we){if(!re.has(le))try{te||(te=document.createElement("style"),we&&te.setAttribute("nonce",we),te.setAttribute("type","text/css"),document.head.appendChild(te)),te.sheet&&(te.sheet.insertRule(`@media ${le} {body{ }}`,0),re.add(le))}catch(xe){console.error(xe)}}(xe,this._nonce),this._matchMedia(xe)}static#e=this.\u0275fac=function(Ce){return new(Ce||le)(f.KVO(j.OD),f.KVO(f.BIS,8))};static#t=this.\u0275prov=f.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function ie(le){return{matches:"all"===le||""===le,media:le,addListener:()=>{},removeListener:()=>{}}}let ae=(()=>{class le{constructor(xe,Ce){this._mediaMatcher=xe,this._zone=Ce,this._queries=new Map,this._destroySubject=new k.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(xe){return se((0,_.FG)(xe)).some(C=>this._registerQuery(C).mql.matches)}observe(xe){const C=se((0,_.FG)(xe)).map(u=>this._registerQuery(u).observable);let a=(0,H.z)(C);return a=(0,x.x)(a.pipe((0,M.s)(1)),a.pipe((0,O.i)(1),(0,F.B)(0))),a.pipe((0,L.T)(u=>{const y={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:S})=>{y.matches=y.matches||g,y.breakpoints[S]=g}),y}))}_registerQuery(xe){if(this._queries.has(xe))return this._queries.get(xe);const Ce=this._mediaMatcher.matchMedia(xe),a={observable:new P.c(u=>{const y=g=>this._zone.run(()=>u.next(g));return Ce.addListener(y),()=>{Ce.removeListener(y)}}).pipe((0,D.Z)(Ce),(0,L.T)(({matches:u})=>({query:xe,matches:u})),(0,X.Q)(this._destroySubject)),mql:Ce};return this._queries.set(xe,a),a}static#e=this.\u0275fac=function(Ce){return new(Ce||le)(f.KVO(J),f.KVO(f.SKi))};static#t=this.\u0275prov=f.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function se(le){return le.map(we=>we.split(",")).reduce((we,xe)=>we.concat(xe)).map(we=>we.trim())}const de={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},49937:(je,z,E)=>{"use strict";E.d(z,{Wv:()=>D,w5:()=>X});var f=E(14085),_=E(93953),k=E(71985),H=E(21413),x=E(96354),P=E(5964),M=E(70152);let F=(()=>{class j{create(re){return typeof MutationObserver>"u"?null:new MutationObserver(re)}static#e=this.\u0275fac=function(te){return new(te||j)};static#t=this.\u0275prov=_.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),L=(()=>{class j{constructor(re){this._mutationObserverFactory=re,this._observedElements=new Map,this._ngZone=(0,_.WQX)(_.SKi)}ngOnDestroy(){this._observedElements.forEach((re,te)=>this._cleanupObserver(te))}observe(re){const te=(0,f.i8)(re);return new k.c(J=>{const ie=this._observeElement(te).pipe((0,x.T)(ae=>ae.filter(se=>!function O(j){if("characterData"===j.type&&j.target instanceof Comment)return!0;if("childList"===j.type){for(let G=0;G<j.addedNodes.length;G++)if(!(j.addedNodes[G]instanceof Comment))return!1;for(let G=0;G<j.removedNodes.length;G++)if(!(j.removedNodes[G]instanceof Comment))return!1;return!0}return!1}(se))),(0,P.p)(ae=>!!ae.length)).subscribe(ae=>{this._ngZone.run(()=>{J.next(ae)})});return()=>{ie.unsubscribe(),this._unobserveElement(te)}})}_observeElement(re){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(re))this._observedElements.get(re).count++;else{const te=new H.B,J=this._mutationObserverFactory.create(Z=>te.next(Z));J&&J.observe(re,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(re,{observer:J,stream:te,count:1})}return this._observedElements.get(re).stream})}_unobserveElement(re){this._observedElements.has(re)&&(this._observedElements.get(re).count--,this._observedElements.get(re).count||this._cleanupObserver(re))}_cleanupObserver(re){if(this._observedElements.has(re)){const{observer:te,stream:J}=this._observedElements.get(re);te&&te.disconnect(),J.complete(),this._observedElements.delete(re)}}static#e=this.\u0275fac=function(te){return new(te||j)(_.KVO(F))};static#t=this.\u0275prov=_.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),D=(()=>{class j{get disabled(){return this._disabled}set disabled(re){this._disabled=re,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(re){this._debounce=(0,f.OE)(re),this._subscribe()}constructor(re,te){this._contentObserver=re,this._elementRef=te,this.event=new _.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const re=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?re.pipe((0,M.B)(this.debounce)):re).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(te){return new(te||j)(_.rXU(L),_.rXU(_.aKT))};static#t=this.\u0275dir=_.FsC({type:j,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",_.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[_.GFd]})}return j})(),X=(()=>{class j{static#e=this.\u0275fac=function(te){return new(te||j)};static#t=this.\u0275mod=_.$C({type:j});static#n=this.\u0275inj=_.G2t({providers:[F]})}return j})()},98170:(je,z,E)=>{"use strict";E.d(z,{a:()=>F});var f=E(93953),_=E(21413),k=E(71985),H=E(5964),x=E(44668),P=E(56977);class O{constructor(D){this._box=D,this._destroyed=new _.B,this._resizeSubject=new _.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(X=>this._resizeSubject.next(X)))}observe(D){return this._elementObservables.has(D)||this._elementObservables.set(D,new k.c(X=>{const j=this._resizeSubject.subscribe(X);return this._resizeObserver?.observe(D,{box:this._box}),()=>{this._resizeObserver?.unobserve(D),j.unsubscribe(),this._elementObservables.delete(D)}}).pipe((0,H.p)(X=>X.some(j=>j.target===D)),(0,x.t)({bufferSize:1,refCount:!0}),(0,P.Q)(this._destroyed))),this._elementObservables.get(D)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let F=(()=>{class L{constructor(){this._observers=new Map,this._ngZone=(0,f.WQX)(f.SKi)}ngOnDestroy(){for(const[,X]of this._observers)X.destroy();this._observers.clear()}observe(X,j){const G=j?.box||"content-box";return this._observers.has(G)||this._observers.set(G,new O(G)),this._observers.get(G).observe(X)}static#e=this.\u0275fac=function(j){return new(j||L)};static#t=this.\u0275prov=f.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()},66969:(je,z,E)=>{"use strict";E.d(z,{WB:()=>Ee,$Q:()=>fe,hJ:()=>ue,rR:()=>Ce,Sf:()=>s,z_:()=>Fe,yY:()=>v,EB:()=>be,pq:()=>Se});var f=E(67333),_=E(60177),k=E(93953),H=E(14085),x=E(36860),P=E(5964),M=E(56977),O=E(39974),F=E(54360),D=E(28203),X=E(76939),j=E(21413),G=E(18359),re=E(57786),te=E(67336);const J=(0,x.CZ)();class Z{constructor(Le,lt){this._viewportRuler=Le,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=lt}attach(){}enable(){if(this._canBeEnabled()){const Le=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Le.style.left||"",this._previousHTMLStyles.top=Le.style.top||"",Le.style.left=(0,H.a1)(-this._previousScrollPosition.left),Le.style.top=(0,H.a1)(-this._previousScrollPosition.top),Le.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Le=this._document.documentElement,B=Le.style,w=this._document.body.style,m=B.scrollBehavior||"",U=w.scrollBehavior||"";this._isEnabled=!1,B.left=this._previousHTMLStyles.left,B.top=this._previousHTMLStyles.top,Le.classList.remove("cdk-global-scrollblock"),J&&(B.scrollBehavior=w.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),J&&(B.scrollBehavior=m,w.scrollBehavior=U)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const lt=this._document.body,B=this._viewportRuler.getViewportSize();return lt.scrollHeight>B.height||lt.scrollWidth>B.width}}class ae{constructor(Le,lt,B,w){this._scrollDispatcher=Le,this._ngZone=lt,this._viewportRuler=B,this._config=w,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Le){this._overlayRef=Le}enable(){if(this._scrollSubscription)return;const Le=this._scrollDispatcher.scrolled(0).pipe((0,P.p)(lt=>!lt||!this._overlayRef.overlayElement.contains(lt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Le.subscribe(()=>{const lt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(lt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Le.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class se{enable(){}disable(){}attach(){}}function de(We,Le){return Le.some(lt=>We.bottom<lt.top||We.top>lt.bottom||We.right<lt.left||We.left>lt.right)}function le(We,Le){return Le.some(lt=>We.top<lt.top||We.bottom>lt.bottom||We.left<lt.left||We.right>lt.right)}class we{constructor(Le,lt,B,w){this._scrollDispatcher=Le,this._viewportRuler=lt,this._ngZone=B,this._config=w,this._scrollSubscription=null}attach(Le){this._overlayRef=Le}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const lt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:B,height:w}=this._viewportRuler.getViewportSize();de(lt,[{width:B,height:w,bottom:w,right:B,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xe=(()=>{class We{constructor(lt,B,w,m){this._scrollDispatcher=lt,this._viewportRuler=B,this._ngZone=w,this.noop=()=>new se,this.close=U=>new ae(this._scrollDispatcher,this._ngZone,this._viewportRuler,U),this.block=()=>new Z(this._viewportRuler,this._document),this.reposition=U=>new we(this._scrollDispatcher,this._viewportRuler,this._ngZone,U),this._document=m}static#e=this.\u0275fac=function(B){return new(B||We)(k.KVO(f.R),k.KVO(f.Xj),k.KVO(k.SKi),k.KVO(_.qQ))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();class Ce{constructor(Le){if(this.scrollStrategy=new se,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Le){const lt=Object.keys(Le);for(const B of lt)void 0!==Le[B]&&(this[B]=Le[B])}}}class u{constructor(Le,lt){this.connectionPair=Le,this.scrollableViewProperties=lt}}let S=(()=>{class We{constructor(lt){this._attachedOverlays=[],this._document=lt}ngOnDestroy(){this.detach()}add(lt){this.remove(lt),this._attachedOverlays.push(lt)}remove(lt){const B=this._attachedOverlays.indexOf(lt);B>-1&&this._attachedOverlays.splice(B,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(B){return new(B||We)(k.KVO(_.qQ))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),T=(()=>{class We extends S{constructor(lt,B){super(lt),this._ngZone=B,this._keydownListener=w=>{const m=this._attachedOverlays;for(let U=m.length-1;U>-1;U--)if(m[U]._keydownEvents.observers.length>0){const ne=m[U]._keydownEvents;this._ngZone?this._ngZone.run(()=>ne.next(w)):ne.next(w);break}}}add(lt){super.add(lt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(B){return new(B||We)(k.KVO(_.qQ),k.KVO(k.SKi,8))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),N=(()=>{class We extends S{constructor(lt,B,w){super(lt),this._platform=B,this._ngZone=w,this._cursorStyleIsSet=!1,this._pointerDownListener=m=>{this._pointerDownEventTarget=(0,x.Fb)(m)},this._clickListener=m=>{const U=(0,x.Fb)(m),ne="click"===m.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:U;this._pointerDownEventTarget=null;const ge=this._attachedOverlays.slice();for(let Ae=ge.length-1;Ae>-1;Ae--){const tt=ge[Ae];if(tt._outsidePointerEvents.observers.length<1||!tt.hasAttached())continue;if(A(tt.overlayElement,U)||A(tt.overlayElement,ne))break;const Bt=tt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Bt.next(m)):Bt.next(m)}}}add(lt){if(super.add(lt),!this._isAttached){const B=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(B)):this._addEventListeners(B),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=B.style.cursor,B.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const lt=this._document.body;lt.removeEventListener("pointerdown",this._pointerDownListener,!0),lt.removeEventListener("click",this._clickListener,!0),lt.removeEventListener("auxclick",this._clickListener,!0),lt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(lt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(lt){lt.addEventListener("pointerdown",this._pointerDownListener,!0),lt.addEventListener("click",this._clickListener,!0),lt.addEventListener("auxclick",this._clickListener,!0),lt.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(B){return new(B||We)(k.KVO(_.qQ),k.KVO(x.OD),k.KVO(k.SKi,8))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();function A(We,Le){const lt=typeof ShadowRoot<"u"&&ShadowRoot;let B=Le;for(;B;){if(B===We)return!0;B=lt&&B instanceof ShadowRoot?B.host:B.parentNode}return!1}let s=(()=>{class We{constructor(lt,B){this._platform=B,this._document=lt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const lt="cdk-overlay-container";if(this._platform.isBrowser||(0,x.v8)()){const w=this._document.querySelectorAll(`.${lt}[platform="server"], .${lt}[platform="test"]`);for(let m=0;m<w.length;m++)w[m].remove()}const B=this._document.createElement("div");B.classList.add(lt),(0,x.v8)()?B.setAttribute("platform","test"):this._platform.isBrowser||B.setAttribute("platform","server"),this._document.body.appendChild(B),this._containerElement=B}static#e=this.\u0275fac=function(B){return new(B||We)(k.KVO(_.qQ),k.KVO(x.OD))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();class v{constructor(Le,lt,B,w,m,U,ne,ge,Ae,tt=!1,Bt){this._portalOutlet=Le,this._host=lt,this._pane=B,this._config=w,this._ngZone=m,this._keyboardDispatcher=U,this._document=ne,this._location=ge,this._outsideClickDispatcher=Ae,this._animationsDisabled=tt,this._injector=Bt,this._backdropElement=null,this._backdropClick=new j.B,this._attachments=new j.B,this._detachments=new j.B,this._locationChanges=G.yU.EMPTY,this._backdropClickHandler=vt=>this._backdropClick.next(vt),this._backdropTransitionendHandler=vt=>{this._disposeBackdrop(vt.target)},this._keydownEvents=new j.B,this._outsidePointerEvents=new j.B,this._renders=new j.B,w.scrollStrategy&&(this._scrollStrategy=w.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=w.positionStrategy,this._afterRenderRef=(0,k.O8t)(()=>(0,k.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Le){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const lt=this._portalOutlet.attach(Le);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,k.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof lt?.onDestroy&&lt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),lt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Le=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Le}dispose(){const Le=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Le&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Le){Le!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Le,this.hasAttached()&&(Le.attach(this),this.updatePosition()))}updateSize(Le){this._config={...this._config,...Le},this._updateElementSize()}setDirection(Le){this._config={...this._config,direction:Le},this._updateElementDirection()}addPanelClass(Le){this._pane&&this._toggleClasses(this._pane,Le,!0)}removePanelClass(Le){this._pane&&this._toggleClasses(this._pane,Le,!1)}getDirection(){const Le=this._config.direction;return Le?"string"==typeof Le?Le:Le.value:"ltr"}updateScrollStrategy(Le){Le!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Le,this.hasAttached()&&(Le.attach(this),Le.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Le=this._pane.style;Le.width=(0,H.a1)(this._config.width),Le.height=(0,H.a1)(this._config.height),Le.minWidth=(0,H.a1)(this._config.minWidth),Le.minHeight=(0,H.a1)(this._config.minHeight),Le.maxWidth=(0,H.a1)(this._config.maxWidth),Le.maxHeight=(0,H.a1)(this._config.maxHeight)}_togglePointerEvents(Le){this._pane.style.pointerEvents=Le?"":"none"}_attachBackdrop(){const Le="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Le)})}):this._backdropElement.classList.add(Le)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Le=this._backdropElement;if(Le){if(this._animationsDisabled)return void this._disposeBackdrop(Le);Le.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Le.addEventListener("transitionend",this._backdropTransitionendHandler)}),Le.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Le)},500))}}_toggleClasses(Le,lt,B){const w=(0,H.FG)(lt||[]).filter(m=>!!m);w.length&&(B?Le.classList.add(...w):Le.classList.remove(...w))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Le=this._renders.pipe((0,M.Q)((0,re.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Le.unsubscribe())})})}_disposeScrollStrategy(){const Le=this._scrollStrategy;Le&&(Le.disable(),Le.detach&&Le.detach())}_disposeBackdrop(Le){Le&&(Le.removeEventListener("click",this._backdropClickHandler),Le.removeEventListener("transitionend",this._backdropTransitionendHandler),Le.remove(),this._backdropElement===Le&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const W="cdk-overlay-connected-position-bounding-box",K=/([A-Za-z%]+)$/;class ee{get positions(){return this._preferredPositions}constructor(Le,lt,B,w,m){this._viewportRuler=lt,this._document=B,this._platform=w,this._overlayContainer=m,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new j.B,this._resizeSubscription=G.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Le)}attach(Le){this._validatePositions(),Le.hostElement.classList.add(W),this._overlayRef=Le,this._boundingBox=Le.hostElement,this._pane=Le.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Le=this._originRect,lt=this._overlayRect,B=this._viewportRect,w=this._containerRect,m=[];let U;for(let ne of this._preferredPositions){let ge=this._getOriginPoint(Le,w,ne),Ae=this._getOverlayPoint(ge,lt,ne),tt=this._getOverlayFit(Ae,lt,B,ne);if(tt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ne,ge);this._canFitWithFlexibleDimensions(tt,Ae,B)?m.push({position:ne,origin:ge,overlayRect:lt,boundingBoxRect:this._calculateBoundingBoxRect(ge,ne)}):(!U||U.overlayFit.visibleArea<tt.visibleArea)&&(U={overlayFit:tt,overlayPoint:Ae,originPoint:ge,position:ne,overlayRect:lt})}if(m.length){let ne=null,ge=-1;for(const Ae of m){const tt=Ae.boundingBoxRect.width*Ae.boundingBoxRect.height*(Ae.position.weight||1);tt>ge&&(ge=tt,ne=Ae)}return this._isPushed=!1,void this._applyPosition(ne.position,ne.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(U.position,U.originPoint);this._applyPosition(U.position,U.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ce(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(W),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Le=this._lastPosition;if(Le){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const lt=this._getOriginPoint(this._originRect,this._containerRect,Le);this._applyPosition(Le,lt)}else this.apply()}withScrollableContainers(Le){return this._scrollables=Le,this}withPositions(Le){return this._preferredPositions=Le,-1===Le.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Le){return this._viewportMargin=Le,this}withFlexibleDimensions(Le=!0){return this._hasFlexibleDimensions=Le,this}withGrowAfterOpen(Le=!0){return this._growAfterOpen=Le,this}withPush(Le=!0){return this._canPush=Le,this}withLockedPosition(Le=!0){return this._positionLocked=Le,this}setOrigin(Le){return this._origin=Le,this}withDefaultOffsetX(Le){return this._offsetX=Le,this}withDefaultOffsetY(Le){return this._offsetY=Le,this}withTransformOriginOn(Le){return this._transformOriginSelector=Le,this}_getOriginPoint(Le,lt,B){let w,m;if("center"==B.originX)w=Le.left+Le.width/2;else{const U=this._isRtl()?Le.right:Le.left,ne=this._isRtl()?Le.left:Le.right;w="start"==B.originX?U:ne}return lt.left<0&&(w-=lt.left),m="center"==B.originY?Le.top+Le.height/2:"top"==B.originY?Le.top:Le.bottom,lt.top<0&&(m-=lt.top),{x:w,y:m}}_getOverlayPoint(Le,lt,B){let w,m;return w="center"==B.overlayX?-lt.width/2:"start"===B.overlayX?this._isRtl()?-lt.width:0:this._isRtl()?0:-lt.width,m="center"==B.overlayY?-lt.height/2:"top"==B.overlayY?0:-lt.height,{x:Le.x+w,y:Le.y+m}}_getOverlayFit(Le,lt,B,w){const m=Oe(lt);let{x:U,y:ne}=Le,ge=this._getOffset(w,"x"),Ae=this._getOffset(w,"y");ge&&(U+=ge),Ae&&(ne+=Ae);let vt=0-ne,It=ne+m.height-B.height,Gt=this._subtractOverflows(m.width,0-U,U+m.width-B.width),hn=this._subtractOverflows(m.height,vt,It),dn=Gt*hn;return{visibleArea:dn,isCompletelyWithinViewport:m.width*m.height===dn,fitsInViewportVertically:hn===m.height,fitsInViewportHorizontally:Gt==m.width}}_canFitWithFlexibleDimensions(Le,lt,B){if(this._hasFlexibleDimensions){const w=B.bottom-lt.y,m=B.right-lt.x,U=_e(this._overlayRef.getConfig().minHeight),ne=_e(this._overlayRef.getConfig().minWidth);return(Le.fitsInViewportVertically||null!=U&&U<=w)&&(Le.fitsInViewportHorizontally||null!=ne&&ne<=m)}return!1}_pushOverlayOnScreen(Le,lt,B){if(this._previousPushAmount&&this._positionLocked)return{x:Le.x+this._previousPushAmount.x,y:Le.y+this._previousPushAmount.y};const w=Oe(lt),m=this._viewportRect,U=Math.max(Le.x+w.width-m.width,0),ne=Math.max(Le.y+w.height-m.height,0),ge=Math.max(m.top-B.top-Le.y,0),Ae=Math.max(m.left-B.left-Le.x,0);let tt=0,Bt=0;return tt=w.width<=m.width?Ae||-U:Le.x<this._viewportMargin?m.left-B.left-Le.x:0,Bt=w.height<=m.height?ge||-ne:Le.y<this._viewportMargin?m.top-B.top-Le.y:0,this._previousPushAmount={x:tt,y:Bt},{x:Le.x+tt,y:Le.y+Bt}}_applyPosition(Le,lt){if(this._setTransformOrigin(Le),this._setOverlayElementStyles(lt,Le),this._setBoundingBoxStyles(lt,Le),Le.panelClass&&this._addPanelClasses(Le.panelClass),this._positionChanges.observers.length){const B=this._getScrollVisibility();if(Le!==this._lastPosition||!this._lastScrollVisibility||!function Ve(We,Le){return We===Le||We.isOriginClipped===Le.isOriginClipped&&We.isOriginOutsideView===Le.isOriginOutsideView&&We.isOverlayClipped===Le.isOverlayClipped&&We.isOverlayOutsideView===Le.isOverlayOutsideView}(this._lastScrollVisibility,B)){const w=new u(Le,B);this._positionChanges.next(w)}this._lastScrollVisibility=B}this._lastPosition=Le,this._isInitialRender=!1}_setTransformOrigin(Le){if(!this._transformOriginSelector)return;const lt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let B,w=Le.overlayY;B="center"===Le.overlayX?"center":this._isRtl()?"start"===Le.overlayX?"right":"left":"start"===Le.overlayX?"left":"right";for(let m=0;m<lt.length;m++)lt[m].style.transformOrigin=`${B} ${w}`}_calculateBoundingBoxRect(Le,lt){const B=this._viewportRect,w=this._isRtl();let m,U,ne,tt,Bt,vt;if("top"===lt.overlayY)U=Le.y,m=B.height-U+this._viewportMargin;else if("bottom"===lt.overlayY)ne=B.height-Le.y+2*this._viewportMargin,m=B.height-ne+this._viewportMargin;else{const It=Math.min(B.bottom-Le.y+B.top,Le.y),Gt=this._lastBoundingBoxSize.height;m=2*It,U=Le.y-It,m>Gt&&!this._isInitialRender&&!this._growAfterOpen&&(U=Le.y-Gt/2)}if("end"===lt.overlayX&&!w||"start"===lt.overlayX&&w)vt=B.width-Le.x+2*this._viewportMargin,tt=Le.x-this._viewportMargin;else if("start"===lt.overlayX&&!w||"end"===lt.overlayX&&w)Bt=Le.x,tt=B.right-Le.x;else{const It=Math.min(B.right-Le.x+B.left,Le.x),Gt=this._lastBoundingBoxSize.width;tt=2*It,Bt=Le.x-It,tt>Gt&&!this._isInitialRender&&!this._growAfterOpen&&(Bt=Le.x-Gt/2)}return{top:U,left:Bt,bottom:ne,right:vt,width:tt,height:m}}_setBoundingBoxStyles(Le,lt){const B=this._calculateBoundingBoxRect(Le,lt);!this._isInitialRender&&!this._growAfterOpen&&(B.height=Math.min(B.height,this._lastBoundingBoxSize.height),B.width=Math.min(B.width,this._lastBoundingBoxSize.width));const w={};if(this._hasExactPosition())w.top=w.left="0",w.bottom=w.right=w.maxHeight=w.maxWidth="",w.width=w.height="100%";else{const m=this._overlayRef.getConfig().maxHeight,U=this._overlayRef.getConfig().maxWidth;w.height=(0,H.a1)(B.height),w.top=(0,H.a1)(B.top),w.bottom=(0,H.a1)(B.bottom),w.width=(0,H.a1)(B.width),w.left=(0,H.a1)(B.left),w.right=(0,H.a1)(B.right),w.alignItems="center"===lt.overlayX?"center":"end"===lt.overlayX?"flex-end":"flex-start",w.justifyContent="center"===lt.overlayY?"center":"bottom"===lt.overlayY?"flex-end":"flex-start",m&&(w.maxHeight=(0,H.a1)(m)),U&&(w.maxWidth=(0,H.a1)(U))}this._lastBoundingBoxSize=B,ce(this._boundingBox.style,w)}_resetBoundingBoxStyles(){ce(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ce(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Le,lt){const B={},w=this._hasExactPosition(),m=this._hasFlexibleDimensions,U=this._overlayRef.getConfig();if(w){const tt=this._viewportRuler.getViewportScrollPosition();ce(B,this._getExactOverlayY(lt,Le,tt)),ce(B,this._getExactOverlayX(lt,Le,tt))}else B.position="static";let ne="",ge=this._getOffset(lt,"x"),Ae=this._getOffset(lt,"y");ge&&(ne+=`translateX(${ge}px) `),Ae&&(ne+=`translateY(${Ae}px)`),B.transform=ne.trim(),U.maxHeight&&(w?B.maxHeight=(0,H.a1)(U.maxHeight):m&&(B.maxHeight="")),U.maxWidth&&(w?B.maxWidth=(0,H.a1)(U.maxWidth):m&&(B.maxWidth="")),ce(this._pane.style,B)}_getExactOverlayY(Le,lt,B){let w={top:"",bottom:""},m=this._getOverlayPoint(lt,this._overlayRect,Le);return this._isPushed&&(m=this._pushOverlayOnScreen(m,this._overlayRect,B)),"bottom"===Le.overlayY?w.bottom=this._document.documentElement.clientHeight-(m.y+this._overlayRect.height)+"px":w.top=(0,H.a1)(m.y),w}_getExactOverlayX(Le,lt,B){let U,w={left:"",right:""},m=this._getOverlayPoint(lt,this._overlayRect,Le);return this._isPushed&&(m=this._pushOverlayOnScreen(m,this._overlayRect,B)),U=this._isRtl()?"end"===Le.overlayX?"left":"right":"end"===Le.overlayX?"right":"left","right"===U?w.right=this._document.documentElement.clientWidth-(m.x+this._overlayRect.width)+"px":w.left=(0,H.a1)(m.x),w}_getScrollVisibility(){const Le=this._getOriginRect(),lt=this._pane.getBoundingClientRect(),B=this._scrollables.map(w=>w.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:le(Le,B),isOriginOutsideView:de(Le,B),isOverlayClipped:le(lt,B),isOverlayOutsideView:de(lt,B)}}_subtractOverflows(Le,...lt){return lt.reduce((B,w)=>B-Math.max(w,0),Le)}_getNarrowedViewportRect(){const Le=this._document.documentElement.clientWidth,lt=this._document.documentElement.clientHeight,B=this._viewportRuler.getViewportScrollPosition();return{top:B.top+this._viewportMargin,left:B.left+this._viewportMargin,right:B.left+Le-this._viewportMargin,bottom:B.top+lt-this._viewportMargin,width:Le-2*this._viewportMargin,height:lt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Le,lt){return"x"===lt?null==Le.offsetX?this._offsetX:Le.offsetX:null==Le.offsetY?this._offsetY:Le.offsetY}_validatePositions(){}_addPanelClasses(Le){this._pane&&(0,H.FG)(Le).forEach(lt=>{""!==lt&&-1===this._appliedPanelClasses.indexOf(lt)&&(this._appliedPanelClasses.push(lt),this._pane.classList.add(lt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Le=>{this._pane.classList.remove(Le)}),this._appliedPanelClasses=[])}_getOriginRect(){const Le=this._origin;if(Le instanceof k.aKT)return Le.nativeElement.getBoundingClientRect();if(Le instanceof Element)return Le.getBoundingClientRect();const lt=Le.width||0,B=Le.height||0;return{top:Le.y,bottom:Le.y+B,left:Le.x,right:Le.x+lt,height:B,width:lt}}}function ce(We,Le){for(let lt in Le)Le.hasOwnProperty(lt)&&(We[lt]=Le[lt]);return We}function _e(We){if("number"!=typeof We&&null!=We){const[Le,lt]=We.split(K);return lt&&"px"!==lt?null:parseFloat(Le)}return We||null}function Oe(We){return{top:Math.floor(We.top),right:Math.floor(We.right),bottom:Math.floor(We.bottom),left:Math.floor(We.left),width:Math.floor(We.width),height:Math.floor(We.height)}}const Se=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],be=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],Ue="cdk-global-overlay-wrapper";class ye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Le){const lt=Le.getConfig();this._overlayRef=Le,this._width&&!lt.width&&Le.updateSize({width:this._width}),this._height&&!lt.height&&Le.updateSize({height:this._height}),Le.hostElement.classList.add(Ue),this._isDisposed=!1}top(Le=""){return this._bottomOffset="",this._topOffset=Le,this._alignItems="flex-start",this}left(Le=""){return this._xOffset=Le,this._xPosition="left",this}bottom(Le=""){return this._topOffset="",this._bottomOffset=Le,this._alignItems="flex-end",this}right(Le=""){return this._xOffset=Le,this._xPosition="right",this}start(Le=""){return this._xOffset=Le,this._xPosition="start",this}end(Le=""){return this._xOffset=Le,this._xPosition="end",this}width(Le=""){return this._overlayRef?this._overlayRef.updateSize({width:Le}):this._width=Le,this}height(Le=""){return this._overlayRef?this._overlayRef.updateSize({height:Le}):this._height=Le,this}centerHorizontally(Le=""){return this.left(Le),this._xPosition="center",this}centerVertically(Le=""){return this.top(Le),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Le=this._overlayRef.overlayElement.style,lt=this._overlayRef.hostElement.style,B=this._overlayRef.getConfig(),{width:w,height:m,maxWidth:U,maxHeight:ne}=B,ge=!("100%"!==w&&"100vw"!==w||U&&"100%"!==U&&"100vw"!==U),Ae=!("100%"!==m&&"100vh"!==m||ne&&"100%"!==ne&&"100vh"!==ne),tt=this._xPosition,Bt=this._xOffset,vt="rtl"===this._overlayRef.getConfig().direction;let It="",Gt="",hn="";ge?hn="flex-start":"center"===tt?(hn="center",vt?Gt=Bt:It=Bt):vt?"left"===tt||"end"===tt?(hn="flex-end",It=Bt):("right"===tt||"start"===tt)&&(hn="flex-start",Gt=Bt):"left"===tt||"start"===tt?(hn="flex-start",It=Bt):("right"===tt||"end"===tt)&&(hn="flex-end",Gt=Bt),Le.position=this._cssPosition,Le.marginLeft=ge?"0":It,Le.marginTop=Ae?"0":this._topOffset,Le.marginBottom=this._bottomOffset,Le.marginRight=ge?"0":Gt,lt.justifyContent=hn,lt.alignItems=Ae?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Le=this._overlayRef.overlayElement.style,lt=this._overlayRef.hostElement,B=lt.style;lt.classList.remove(Ue),B.justifyContent=B.alignItems=Le.marginTop=Le.marginBottom=Le.marginLeft=Le.marginRight=Le.position="",this._overlayRef=null,this._isDisposed=!0}}let De=(()=>{class We{constructor(lt,B,w,m){this._viewportRuler=lt,this._document=B,this._platform=w,this._overlayContainer=m}global(){return new ye}flexibleConnectedTo(lt){return new ee(lt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(B){return new(B||We)(k.KVO(f.Xj),k.KVO(_.qQ),k.KVO(x.OD),k.KVO(s))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),pe=0,ue=(()=>{class We{constructor(lt,B,w,m,U,ne,ge,Ae,tt,Bt,vt,It){this.scrollStrategies=lt,this._overlayContainer=B,this._componentFactoryResolver=w,this._positionBuilder=m,this._keyboardDispatcher=U,this._injector=ne,this._ngZone=ge,this._document=Ae,this._directionality=tt,this._location=Bt,this._outsideClickDispatcher=vt,this._animationsModuleType=It}create(lt){const B=this._createHostElement(),w=this._createPaneElement(B),m=this._createPortalOutlet(w),U=new Ce(lt);return U.direction=U.direction||this._directionality.value,new v(m,B,w,U,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(k.uvJ))}position(){return this._positionBuilder}_createPaneElement(lt){const B=this._document.createElement("div");return B.id="cdk-overlay-"+pe++,B.classList.add("cdk-overlay-pane"),lt.appendChild(B),B}_createHostElement(){const lt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(lt),lt}_createPortalOutlet(lt){return this._appRef||(this._appRef=this._injector.get(k.o8S)),new X.aI(lt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(B){return new(B||We)(k.KVO(xe),k.KVO(s),k.KVO(k.OM3),k.KVO(De),k.KVO(T),k.KVO(k.zZn),k.KVO(k.SKi),k.KVO(_.qQ),k.KVO(D.dS),k.KVO(_.aZ),k.KVO(N),k.KVO(k.bc$,8))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();const Q=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],oe=new k.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const We=(0,k.WQX)(ue);return()=>We.scrollStrategies.reposition()}});let fe=(()=>{class We{constructor(lt){this.elementRef=lt}static#e=this.\u0275fac=function(B){return new(B||We)(k.rXU(k.aKT))};static#t=this.\u0275dir=k.FsC({type:We,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return We})(),Ee=(()=>{class We{get offsetX(){return this._offsetX}set offsetX(lt){this._offsetX=lt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(lt){this._offsetY=lt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(lt){this._disposeOnNavigation=lt}constructor(lt,B,w,m,U){this._overlay=lt,this._dir=U,this._backdropSubscription=G.yU.EMPTY,this._attachSubscription=G.yU.EMPTY,this._detachSubscription=G.yU.EMPTY,this._positionSubscription=G.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,k.WQX)(k.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new k.bkB,this.positionChange=new k.bkB,this.attach=new k.bkB,this.detach=new k.bkB,this.overlayKeydown=new k.bkB,this.overlayOutsideClick=new k.bkB,this._templatePortal=new X.VA(B,w),this._scrollStrategyFactory=m,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(lt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),lt.origin&&this.open&&this._position.apply()),lt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Q);const lt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=lt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=lt.detachments().subscribe(()=>this.detach.emit()),lt.keydownEvents().subscribe(B=>{this.overlayKeydown.next(B),B.keyCode===te._f&&!this.disableClose&&!(0,te.rp)(B)&&(B.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(B=>{const w=this._getOriginElement(),m=(0,x.Fb)(B);(!w||w!==m&&!w.contains(m))&&this.overlayOutsideClick.next(B)})}_buildConfig(){const lt=this._position=this.positionStrategy||this._createPositionStrategy(),B=new Ce({direction:this._dir,positionStrategy:lt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(B.width=this.width),(this.height||0===this.height)&&(B.height=this.height),(this.minWidth||0===this.minWidth)&&(B.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(B.minHeight=this.minHeight),this.backdropClass&&(B.backdropClass=this.backdropClass),this.panelClass&&(B.panelClass=this.panelClass),B}_updatePositionStrategy(lt){const B=this.positions.map(w=>({originX:w.originX,originY:w.originY,overlayX:w.overlayX,overlayY:w.overlayY,offsetX:w.offsetX||this.offsetX,offsetY:w.offsetY||this.offsetY,panelClass:w.panelClass||void 0}));return lt.setOrigin(this._getOrigin()).withPositions(B).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const lt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(lt),lt}_getOrigin(){return this.origin instanceof fe?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof fe?this.origin.elementRef.nativeElement:this.origin instanceof k.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(lt=>{this.backdropClick.emit(lt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function L(We,Le=!1){return(0,O.N)((lt,B)=>{let w=0;lt.subscribe((0,F._)(B,m=>{const U=We(m,w++);(U||Le)&&B.next(m),!U&&B.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(lt=>{this._ngZone.run(()=>this.positionChange.emit(lt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(B){return new(B||We)(k.rXU(ue),k.rXU(k.C4Q),k.rXU(k.c1b),k.rXU(oe),k.rXU(D.dS,8))};static#t=this.\u0275dir=k.FsC({type:We,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",k.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",k.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",k.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",k.L39],push:[2,"cdkConnectedOverlayPush","push",k.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",k.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[k.GFd,k.OA$]})}return We})();const $e={provide:oe,deps:[ue],useFactory:function Re(We){return()=>We.scrollStrategies.reposition()}};let Fe=(()=>{class We{static#e=this.\u0275fac=function(B){return new(B||We)};static#t=this.\u0275mod=k.$C({type:We});static#n=this.\u0275inj=k.G2t({providers:[ue,$e],imports:[D.jI,X.jc,f.E9,f.E9]})}return We})()},36860:(je,z,E)=>{"use strict";E.d(z,{BD:()=>te,BQ:()=>D,CZ:()=>re,Fb:()=>se,KT:()=>ie,MU:()=>O,OD:()=>H,r5:()=>X,v8:()=>de,vc:()=>ae});var f=E(93953),_=E(60177);let k;try{k=typeof Intl<"u"&&Intl.v8BreakIterator}catch{k=!1}let P,H=(()=>{class le{constructor(xe){this._platformId=xe,this.isBrowser=this._platformId?(0,_.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!k)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Ce){return new(Ce||le)(f.KVO(f.Agw))};static#t=this.\u0275prov=f.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const M=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function O(){if(P)return P;if("object"!=typeof document||!document)return P=new Set(M),P;let le=document.createElement("input");return P=new Set(M.filter(we=>(le.setAttribute("type",we),le.type===we))),P}let F;function D(le){return function L(){if(null==F&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>F=!0}))}finally{F=F||!1}return F}()?le:!!le.capture}var X=function(le){return le[le.NORMAL=0]="NORMAL",le[le.NEGATED=1]="NEGATED",le[le.INVERTED=2]="INVERTED",le}(X||{});let j,G,J;function re(){if(null==G){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return G=!1,G;if("scrollBehavior"in document.documentElement.style)G=!0;else{const le=Element.prototype.scrollTo;G=!!le&&!/\{\s*\[native code\]\s*\}/.test(le.toString())}}return G}function te(){if("object"!=typeof document||!document)return X.NORMAL;if(null==j){const le=document.createElement("div"),we=le.style;le.dir="rtl",we.width="1px",we.overflow="auto",we.visibility="hidden",we.pointerEvents="none",we.position="absolute";const xe=document.createElement("div"),Ce=xe.style;Ce.width="2px",Ce.height="1px",le.appendChild(xe),document.body.appendChild(le),j=X.NORMAL,0===le.scrollLeft&&(le.scrollLeft=1,j=0===le.scrollLeft?X.NEGATED:X.INVERTED),le.remove()}return j}function ie(le){if(function Z(){if(null==J){const le=typeof document<"u"?document.head:null;J=!(!le||!le.createShadowRoot&&!le.attachShadow)}return J}()){const we=le.getRootNode?le.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&we instanceof ShadowRoot)return we}return null}function ae(){let le=typeof document<"u"&&document?document.activeElement:null;for(;le&&le.shadowRoot;){const we=le.shadowRoot.activeElement;if(we===le)break;le=we}return le}function se(le){return le.composedPath?le.composedPath()[0]:le.target}function de(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(je,z,E)=>{"use strict";E.d(z,{A8:()=>L,I3:()=>ie,VA:()=>D,aI:()=>re,bV:()=>J,jc:()=>se,lb:()=>j});var f=E(93953),_=E(60177);class F{attach(we){return this._attachedHost=we,we.attach(this)}detach(){let we=this._attachedHost;null!=we&&(this._attachedHost=null,we.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(we){this._attachedHost=we}}class L extends F{constructor(we,xe,Ce,C,a){super(),this.component=we,this.viewContainerRef=xe,this.injector=Ce,this.componentFactoryResolver=C,this.projectableNodes=a}}class D extends F{constructor(we,xe,Ce,C){super(),this.templateRef=we,this.viewContainerRef=xe,this.context=Ce,this.injector=C}get origin(){return this.templateRef.elementRef}attach(we,xe=this.context){return this.context=xe,super.attach(we)}detach(){return this.context=void 0,super.detach()}}class X extends F{constructor(we){super(),this.element=we instanceof f.aKT?we.nativeElement:we}}class j{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(we){return we instanceof L?(this._attachedPortal=we,this.attachComponentPortal(we)):we instanceof D?(this._attachedPortal=we,this.attachTemplatePortal(we)):this.attachDomPortal&&we instanceof X?(this._attachedPortal=we,this.attachDomPortal(we)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(we){this._disposeFn=we}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class re extends j{constructor(we,xe,Ce,C,a){super(),this.outletElement=we,this._componentFactoryResolver=xe,this._appRef=Ce,this._defaultInjector=C,this.attachDomPortal=u=>{const y=u.element,g=this._document.createComment("dom-portal");y.parentNode.insertBefore(g,y),this.outletElement.appendChild(y),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(y,g)})},this._document=a}attachComponentPortal(we){const Ce=(we.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(we.component);let C;return we.viewContainerRef?(C=we.viewContainerRef.createComponent(Ce,we.viewContainerRef.length,we.injector||we.viewContainerRef.injector,we.projectableNodes||void 0),this.setDisposeFn(()=>C.destroy())):(C=Ce.create(we.injector||this._defaultInjector||f.zZn.NULL),this._appRef.attachView(C.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(C.hostView),C.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(C)),this._attachedPortal=we,C}attachTemplatePortal(we){let xe=we.viewContainerRef,Ce=xe.createEmbeddedView(we.templateRef,we.context,{injector:we.injector});return Ce.rootNodes.forEach(C=>this.outletElement.appendChild(C)),Ce.detectChanges(),this.setDisposeFn(()=>{let C=xe.indexOf(Ce);-1!==C&&xe.remove(C)}),this._attachedPortal=we,Ce}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(we){return we.hostView.rootNodes[0]}}let J=(()=>{class le extends D{constructor(xe,Ce){super(xe,Ce)}static#e=this.\u0275fac=function(Ce){return new(Ce||le)(f.rXU(f.C4Q),f.rXU(f.c1b))};static#t=this.\u0275dir=f.FsC({type:le,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[f.Vt3]})}return le})(),ie=(()=>{class le extends j{constructor(xe,Ce,C){super(),this._componentFactoryResolver=xe,this._viewContainerRef=Ce,this._isInitialized=!1,this.attached=new f.bkB,this.attachDomPortal=a=>{const u=a.element,y=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(y,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(u,y)})},this._document=C}get portal(){return this._attachedPortal}set portal(xe){this.hasAttached()&&!xe&&!this._isInitialized||(this.hasAttached()&&super.detach(),xe&&super.attach(xe),this._attachedPortal=xe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(xe){xe.setAttachedHost(this);const Ce=null!=xe.viewContainerRef?xe.viewContainerRef:this._viewContainerRef,a=(xe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(xe.component),u=Ce.createComponent(a,Ce.length,xe.injector||Ce.injector,xe.projectableNodes||void 0);return Ce!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=xe,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(xe){xe.setAttachedHost(this);const Ce=this._viewContainerRef.createEmbeddedView(xe.templateRef,xe.context,{injector:xe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=xe,this._attachedRef=Ce,this.attached.emit(Ce),Ce}_getRootNode(){const xe=this._viewContainerRef.element.nativeElement;return xe.nodeType===xe.ELEMENT_NODE?xe:xe.parentNode}static#e=this.\u0275fac=function(Ce){return new(Ce||le)(f.rXU(f.OM3),f.rXU(f.c1b),f.rXU(_.qQ))};static#t=this.\u0275dir=f.FsC({type:le,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[f.Vt3]})}return le})(),se=(()=>{class le{static#e=this.\u0275fac=function(Ce){return new(Ce||le)};static#t=this.\u0275mod=f.$C({type:le});static#n=this.\u0275inj=f.G2t({})}return le})()},67333:(je,z,E)=>{"use strict";E.d(z,{uv:()=>u,Gj:()=>ce,R:()=>a,E9:()=>_e,Xj:()=>g});var f=E(14085),_=E(93953),k=E(21413),H=E(7673),x=E(71985),P=E(33726),F=(E(30536),E(25007),E(43236)),L=E(39974),D=E(58750),X=E(54360),G=E(41584);function re(Oe,Ve=F.E){return function j(Oe){return(0,L.N)((Ve,Se)=>{let be=!1,Ue=null,ye=null,De=!1;const pe=()=>{if(ye?.unsubscribe(),ye=null,be){be=!1;const Q=Ue;Ue=null,Se.next(Q)}De&&Se.complete()},ue=()=>{ye=null,De&&Se.complete()};Ve.subscribe((0,X._)(Se,Q=>{be=!0,Ue=Q,ye||(0,D.Tg)(Oe(Q)).subscribe(ye=(0,X._)(Se,pe,ue))},()=>{De=!0,(!be||!ye||ye.closed)&&Se.complete()}))})}(()=>(0,G.O)(Oe,Ve))}var te=E(5964),J=E(56977),Z=E(36860),ie=E(60177),ae=E(28203);let a=(()=>{class Oe{constructor(Se,be,Ue){this._ngZone=Se,this._platform=be,this._scrolled=new k.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ue}register(Se){this.scrollContainers.has(Se)||this.scrollContainers.set(Se,Se.elementScrolled().subscribe(()=>this._scrolled.next(Se)))}deregister(Se){const be=this.scrollContainers.get(Se);be&&(be.unsubscribe(),this.scrollContainers.delete(Se))}scrolled(Se=20){return this._platform.isBrowser?new x.c(be=>{this._globalSubscription||this._addGlobalListener();const Ue=Se>0?this._scrolled.pipe(re(Se)).subscribe(be):this._scrolled.subscribe(be);return this._scrolledCount++,()=>{Ue.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,H.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Se,be)=>this.deregister(be)),this._scrolled.complete()}ancestorScrolled(Se,be){const Ue=this.getAncestorScrollContainers(Se);return this.scrolled(be).pipe((0,te.p)(ye=>!ye||Ue.indexOf(ye)>-1))}getAncestorScrollContainers(Se){const be=[];return this.scrollContainers.forEach((Ue,ye)=>{this._scrollableContainsElement(ye,Se)&&be.push(ye)}),be}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Se,be){let Ue=(0,f.i8)(be),ye=Se.getElementRef().nativeElement;do{if(Ue==ye)return!0}while(Ue=Ue.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Se=this._getWindow();return(0,P.R)(Se.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(be){return new(be||Oe)(_.KVO(_.SKi),_.KVO(Z.OD),_.KVO(ie.qQ,8))};static#t=this.\u0275prov=_.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})(),u=(()=>{class Oe{constructor(Se,be,Ue,ye){this.elementRef=Se,this.scrollDispatcher=be,this.ngZone=Ue,this.dir=ye,this._destroyed=new k.B,this._elementScrolled=new x.c(De=>this.ngZone.runOutsideAngular(()=>(0,P.R)(this.elementRef.nativeElement,"scroll").pipe((0,J.Q)(this._destroyed)).subscribe(De)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Se){const be=this.elementRef.nativeElement,Ue=this.dir&&"rtl"==this.dir.value;null==Se.left&&(Se.left=Ue?Se.end:Se.start),null==Se.right&&(Se.right=Ue?Se.start:Se.end),null!=Se.bottom&&(Se.top=be.scrollHeight-be.clientHeight-Se.bottom),Ue&&(0,Z.BD)()!=Z.r5.NORMAL?(null!=Se.left&&(Se.right=be.scrollWidth-be.clientWidth-Se.left),(0,Z.BD)()==Z.r5.INVERTED?Se.left=Se.right:(0,Z.BD)()==Z.r5.NEGATED&&(Se.left=Se.right?-Se.right:Se.right)):null!=Se.right&&(Se.left=be.scrollWidth-be.clientWidth-Se.right),this._applyScrollToOptions(Se)}_applyScrollToOptions(Se){const be=this.elementRef.nativeElement;(0,Z.CZ)()?be.scrollTo(Se):(null!=Se.top&&(be.scrollTop=Se.top),null!=Se.left&&(be.scrollLeft=Se.left))}measureScrollOffset(Se){const be="left",ye=this.elementRef.nativeElement;if("top"==Se)return ye.scrollTop;if("bottom"==Se)return ye.scrollHeight-ye.clientHeight-ye.scrollTop;const De=this.dir&&"rtl"==this.dir.value;return"start"==Se?Se=De?"right":be:"end"==Se&&(Se=De?be:"right"),De&&(0,Z.BD)()==Z.r5.INVERTED?Se==be?ye.scrollWidth-ye.clientWidth-ye.scrollLeft:ye.scrollLeft:De&&(0,Z.BD)()==Z.r5.NEGATED?Se==be?ye.scrollLeft+ye.scrollWidth-ye.clientWidth:-ye.scrollLeft:Se==be?ye.scrollLeft:ye.scrollWidth-ye.clientWidth-ye.scrollLeft}static#e=this.\u0275fac=function(be){return new(be||Oe)(_.rXU(_.aKT),_.rXU(a),_.rXU(_.SKi),_.rXU(ae.dS,8))};static#t=this.\u0275dir=_.FsC({type:Oe,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Oe})(),g=(()=>{class Oe{constructor(Se,be,Ue){this._platform=Se,this._change=new k.B,this._changeListener=ye=>{this._change.next(ye)},this._document=Ue,be.runOutsideAngular(()=>{if(Se.isBrowser){const ye=this._getWindow();ye.addEventListener("resize",this._changeListener),ye.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Se=this._getWindow();Se.removeEventListener("resize",this._changeListener),Se.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Se={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Se}getViewportRect(){const Se=this.getViewportScrollPosition(),{width:be,height:Ue}=this.getViewportSize();return{top:Se.top,left:Se.left,bottom:Se.top+Ue,right:Se.left+be,height:Ue,width:be}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Se=this._document,be=this._getWindow(),Ue=Se.documentElement,ye=Ue.getBoundingClientRect();return{top:-ye.top||Se.body.scrollTop||be.scrollY||Ue.scrollTop||0,left:-ye.left||Se.body.scrollLeft||be.scrollX||Ue.scrollLeft||0}}change(Se=20){return Se>0?this._change.pipe(re(Se)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Se=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Se.innerWidth,height:Se.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(be){return new(be||Oe)(_.KVO(Z.OD),_.KVO(_.SKi),_.KVO(ie.qQ,8))};static#t=this.\u0275prov=_.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})(),ce=(()=>{class Oe{static#e=this.\u0275fac=function(be){return new(be||Oe)};static#t=this.\u0275mod=_.$C({type:Oe});static#n=this.\u0275inj=_.G2t({})}return Oe})(),_e=(()=>{class Oe{static#e=this.\u0275fac=function(be){return new(be||Oe)};static#t=this.\u0275mod=_.$C({type:Oe});static#n=this.\u0275inj=_.G2t({imports:[ae.jI,ce,ae.jI,ce]})}return Oe})()},60177:(je,z,E)=>{"use strict";E.d(z,{AJ:()=>so,B3:()=>pi,Jj:()=>ps,MD:()=>hc,N0:()=>Ol,QT:()=>k,Sm:()=>te,Sq:()=>Tn,T3:()=>Ui,UE:()=>wo,VF:()=>x,Vy:()=>Jc,Xr:()=>ds,YU:()=>jr,ZD:()=>H,_b:()=>Dr,aZ:()=>Z,bT:()=>Ar,fw:()=>J,hb:()=>G,hj:()=>F,qQ:()=>M,vh:()=>nu});var f=E(93953);let _=null;function k(){return _}function H(st){_??=st}class x{}const M=new f.nKC("");let O=(()=>{class st{historyGo(Tt){throw new Error("")}static#e=this.\u0275fac=function(Kt){return new(Kt||st)};static#t=this.\u0275prov=f.jDH({token:st,factory:()=>(0,f.WQX)(L),providedIn:"platform"})}return st})();const F=new f.nKC("");let L=(()=>{class st extends O{constructor(){super(),this._doc=(0,f.WQX)(M),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(Tt){const Kt=k().getGlobalEventTarget(this._doc,"window");return Kt.addEventListener("popstate",Tt,!1),()=>Kt.removeEventListener("popstate",Tt)}onHashChange(Tt){const Kt=k().getGlobalEventTarget(this._doc,"window");return Kt.addEventListener("hashchange",Tt,!1),()=>Kt.removeEventListener("hashchange",Tt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Tt){this._location.pathname=Tt}pushState(Tt,Kt,Mn){this._history.pushState(Tt,Kt,Mn)}replaceState(Tt,Kt,Mn){this._history.replaceState(Tt,Kt,Mn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Tt=0){this._history.go(Tt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Kt){return new(Kt||st)};static#t=this.\u0275prov=f.jDH({token:st,factory:()=>new st,providedIn:"platform"})}return st})();function D(st,Jt){if(0==st.length)return Jt;if(0==Jt.length)return st;let Tt=0;return st.endsWith("/")&&Tt++,Jt.startsWith("/")&&Tt++,2==Tt?st+Jt.substring(1):1==Tt?st+Jt:st+"/"+Jt}function X(st){const Jt=st.match(/#|\?|$/),Tt=Jt&&Jt.index||st.length;return st.slice(0,Tt-("/"===st[Tt-1]?1:0))+st.slice(Tt)}function j(st){return st&&"?"!==st[0]?"?"+st:st}let G=(()=>{class st{historyGo(Tt){throw new Error("")}static#e=this.\u0275fac=function(Kt){return new(Kt||st)};static#t=this.\u0275prov=f.jDH({token:st,factory:()=>(0,f.WQX)(te),providedIn:"root"})}return st})();const re=new f.nKC("");let te=(()=>{class st extends G{constructor(Tt,Kt){super(),this._platformLocation=Tt,this._removeListenerFns=[],this._baseHref=Kt??this._platformLocation.getBaseHrefFromDOM()??(0,f.WQX)(M).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Tt){this._removeListenerFns.push(this._platformLocation.onPopState(Tt),this._platformLocation.onHashChange(Tt))}getBaseHref(){return this._baseHref}prepareExternalUrl(Tt){return D(this._baseHref,Tt)}path(Tt=!1){const Kt=this._platformLocation.pathname+j(this._platformLocation.search),Mn=this._platformLocation.hash;return Mn&&Tt?`${Kt}${Mn}`:Kt}pushState(Tt,Kt,Mn,nr){const br=this.prepareExternalUrl(Mn+j(nr));this._platformLocation.pushState(Tt,Kt,br)}replaceState(Tt,Kt,Mn,nr){const br=this.prepareExternalUrl(Mn+j(nr));this._platformLocation.replaceState(Tt,Kt,br)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Tt=0){this._platformLocation.historyGo?.(Tt)}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(f.KVO(O),f.KVO(re,8))};static#t=this.\u0275prov=f.jDH({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})(),J=(()=>{class st extends G{constructor(Tt,Kt){super(),this._platformLocation=Tt,this._baseHref="",this._removeListenerFns=[],null!=Kt&&(this._baseHref=Kt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Tt){this._removeListenerFns.push(this._platformLocation.onPopState(Tt),this._platformLocation.onHashChange(Tt))}getBaseHref(){return this._baseHref}path(Tt=!1){const Kt=this._platformLocation.hash??"#";return Kt.length>0?Kt.substring(1):Kt}prepareExternalUrl(Tt){const Kt=D(this._baseHref,Tt);return Kt.length>0?"#"+Kt:Kt}pushState(Tt,Kt,Mn,nr){let br=this.prepareExternalUrl(Mn+j(nr));0==br.length&&(br=this._platformLocation.pathname),this._platformLocation.pushState(Tt,Kt,br)}replaceState(Tt,Kt,Mn,nr){let br=this.prepareExternalUrl(Mn+j(nr));0==br.length&&(br=this._platformLocation.pathname),this._platformLocation.replaceState(Tt,Kt,br)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Tt=0){this._platformLocation.historyGo?.(Tt)}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(f.KVO(O),f.KVO(re,8))};static#t=this.\u0275prov=f.jDH({token:st,factory:st.\u0275fac})}return st})(),Z=(()=>{class st{constructor(Tt){this._subject=new f.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Tt;const Kt=this._locationStrategy.getBaseHref();this._basePath=function de(st){if(new RegExp("^(https?:)?//").test(st)){const[,Tt]=st.split(/\/\/[^\/]+/);return Tt}return st}(X(se(Kt))),this._locationStrategy.onPopState(Mn=>{this._subject.emit({url:this.path(!0),pop:!0,state:Mn.state,type:Mn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Tt=!1){return this.normalize(this._locationStrategy.path(Tt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Tt,Kt=""){return this.path()==this.normalize(Tt+j(Kt))}normalize(Tt){return st.stripTrailingSlash(function ae(st,Jt){if(!st||!Jt.startsWith(st))return Jt;const Tt=Jt.substring(st.length);return""===Tt||["/",";","?","#"].includes(Tt[0])?Tt:Jt}(this._basePath,se(Tt)))}prepareExternalUrl(Tt){return Tt&&"/"!==Tt[0]&&(Tt="/"+Tt),this._locationStrategy.prepareExternalUrl(Tt)}go(Tt,Kt="",Mn=null){this._locationStrategy.pushState(Mn,"",Tt,Kt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Tt+j(Kt)),Mn)}replaceState(Tt,Kt="",Mn=null){this._locationStrategy.replaceState(Mn,"",Tt,Kt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Tt+j(Kt)),Mn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Tt=0){this._locationStrategy.historyGo?.(Tt)}onUrlChange(Tt){return this._urlChangeListeners.push(Tt),this._urlChangeSubscription??=this.subscribe(Kt=>{this._notifyUrlChangeListeners(Kt.url,Kt.state)}),()=>{const Kt=this._urlChangeListeners.indexOf(Tt);this._urlChangeListeners.splice(Kt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Tt="",Kt){this._urlChangeListeners.forEach(Mn=>Mn(Tt,Kt))}subscribe(Tt,Kt,Mn){return this._subject.subscribe({next:Tt,error:Kt,complete:Mn})}static#e=this.normalizeQueryParams=j;static#t=this.joinWithSlash=D;static#n=this.stripTrailingSlash=X;static#f=this.\u0275fac=function(Kt){return new(Kt||st)(f.KVO(G))};static#A=this.\u0275prov=f.jDH({token:st,factory:()=>function ie(){return new Z((0,f.KVO)(G))}(),providedIn:"root"})}return st})();function se(st){return st.replace(/\/index.html$/,"")}var Ce=function(st){return st[st.Format=0]="Format",st[st.Standalone=1]="Standalone",st}(Ce||{}),C=function(st){return st[st.Narrow=0]="Narrow",st[st.Abbreviated=1]="Abbreviated",st[st.Wide=2]="Wide",st[st.Short=3]="Short",st}(C||{}),a=function(st){return st[st.Short=0]="Short",st[st.Medium=1]="Medium",st[st.Long=2]="Long",st[st.Full=3]="Full",st}(a||{});const u={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function W(st,Jt){return Q((0,f.H5H)(st)[f.KH2.DateFormat],Jt)}function K(st,Jt){return Q((0,f.H5H)(st)[f.KH2.TimeFormat],Jt)}function ee(st,Jt){return Q((0,f.H5H)(st)[f.KH2.DateTimeFormat],Jt)}function ce(st,Jt){const Tt=(0,f.H5H)(st),Kt=Tt[f.KH2.NumberSymbols][Jt];if(typeof Kt>"u"){if(Jt===u.CurrencyDecimal)return Tt[f.KH2.NumberSymbols][u.Decimal];if(Jt===u.CurrencyGroup)return Tt[f.KH2.NumberSymbols][u.Group]}return Kt}function ye(st){if(!st[f.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${st[f.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Q(st,Jt){for(let Tt=Jt;Tt>-1;Tt--)if(typeof st[Tt]<"u")return st[Tt];throw new Error("Locale data API: locale data undefined")}function oe(st){const[Jt,Tt]=st.split(":");return{hours:+Jt,minutes:+Tt}}const $e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fe={},Et=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var We=function(st){return st[st.Short=0]="Short",st[st.ShortGMT=1]="ShortGMT",st[st.Long=2]="Long",st[st.Extended=3]="Extended",st}(We||{}),Le=function(st){return st[st.FullYear=0]="FullYear",st[st.Month=1]="Month",st[st.Date=2]="Date",st[st.Hours=3]="Hours",st[st.Minutes=4]="Minutes",st[st.Seconds=5]="Seconds",st[st.FractionalSeconds=6]="FractionalSeconds",st[st.Day=7]="Day",st}(Le||{}),lt=function(st){return st[st.DayPeriods=0]="DayPeriods",st[st.Days=1]="Days",st[st.Months=2]="Months",st[st.Eras=3]="Eras",st}(lt||{});function B(st,Jt,Tt,Kt){let Mn=function pn(st){if(gt(st))return st;if("number"==typeof st&&!isNaN(st))return new Date(st);if("string"==typeof st){if(st=st.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(st)){const[Mn,nr=1,br=1]=st.split("-").map(Jr=>+Jr);return w(Mn,nr-1,br)}const Tt=parseFloat(st);if(!isNaN(st-Tt))return new Date(Tt);let Kt;if(Kt=st.match($e))return function fr(st){const Jt=new Date(0);let Tt=0,Kt=0;const Mn=st[8]?Jt.setUTCFullYear:Jt.setFullYear,nr=st[8]?Jt.setUTCHours:Jt.setHours;st[9]&&(Tt=Number(st[9]+st[10]),Kt=Number(st[9]+st[11])),Mn.call(Jt,Number(st[1]),Number(st[2])-1,Number(st[3]));const br=Number(st[4]||0)-Tt,Jr=Number(st[5]||0)-Kt,Es=Number(st[6]||0),Ki=Math.floor(1e3*parseFloat("0."+(st[7]||0)));return nr.call(Jt,br,Jr,Es,Ki),Jt}(Kt)}const Jt=new Date(st);if(!gt(Jt))throw new Error(`Unable to convert "${st}" into a date`);return Jt}(st);Jt=m(Tt,Jt)||Jt;let Jr,br=[];for(;Jt;){if(Jr=Et.exec(Jt),!Jr){br.push(Jt);break}{br=br.concat(Jr.slice(1));const Wo=br.pop();if(!Wo)break;Jt=Wo}}let Es=Mn.getTimezoneOffset();Kt&&(Es=ft(Kt,Es),Mn=function qt(st,Jt,Tt){const Kt=Tt?-1:1,Mn=st.getTimezoneOffset();return function Wt(st,Jt){return(st=new Date(st.getTime())).setMinutes(st.getMinutes()+Jt),st}(st,Kt*(ft(Jt,Mn)-Mn))}(Mn,Kt,!0));let Ki="";return br.forEach(Wo=>{const Cr=function _t(st){if(Qt[st])return Qt[st];let Jt;switch(st){case"G":case"GG":case"GGG":Jt=Bt(lt.Eras,C.Abbreviated);break;case"GGGG":Jt=Bt(lt.Eras,C.Wide);break;case"GGGGG":Jt=Bt(lt.Eras,C.Narrow);break;case"y":Jt=Ae(Le.FullYear,1,0,!1,!0);break;case"yy":Jt=Ae(Le.FullYear,2,0,!0,!0);break;case"yyy":Jt=Ae(Le.FullYear,3,0,!1,!0);break;case"yyyy":Jt=Ae(Le.FullYear,4,0,!1,!0);break;case"Y":Jt=en(1);break;case"YY":Jt=en(2,!0);break;case"YYY":Jt=en(3);break;case"YYYY":Jt=en(4);break;case"M":case"L":Jt=Ae(Le.Month,1,1);break;case"MM":case"LL":Jt=Ae(Le.Month,2,1);break;case"MMM":Jt=Bt(lt.Months,C.Abbreviated);break;case"MMMM":Jt=Bt(lt.Months,C.Wide);break;case"MMMMM":Jt=Bt(lt.Months,C.Narrow);break;case"LLL":Jt=Bt(lt.Months,C.Abbreviated,Ce.Standalone);break;case"LLLL":Jt=Bt(lt.Months,C.Wide,Ce.Standalone);break;case"LLLLL":Jt=Bt(lt.Months,C.Narrow,Ce.Standalone);break;case"w":Jt=An(1);break;case"ww":Jt=An(2);break;case"W":Jt=An(1,!0);break;case"d":Jt=Ae(Le.Date,1);break;case"dd":Jt=Ae(Le.Date,2);break;case"c":case"cc":Jt=Ae(Le.Day,1);break;case"ccc":Jt=Bt(lt.Days,C.Abbreviated,Ce.Standalone);break;case"cccc":Jt=Bt(lt.Days,C.Wide,Ce.Standalone);break;case"ccccc":Jt=Bt(lt.Days,C.Narrow,Ce.Standalone);break;case"cccccc":Jt=Bt(lt.Days,C.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":Jt=Bt(lt.Days,C.Abbreviated);break;case"EEEE":Jt=Bt(lt.Days,C.Wide);break;case"EEEEE":Jt=Bt(lt.Days,C.Narrow);break;case"EEEEEE":Jt=Bt(lt.Days,C.Short);break;case"a":case"aa":case"aaa":Jt=Bt(lt.DayPeriods,C.Abbreviated);break;case"aaaa":Jt=Bt(lt.DayPeriods,C.Wide);break;case"aaaaa":Jt=Bt(lt.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":Jt=Bt(lt.DayPeriods,C.Abbreviated,Ce.Standalone,!0);break;case"bbbb":Jt=Bt(lt.DayPeriods,C.Wide,Ce.Standalone,!0);break;case"bbbbb":Jt=Bt(lt.DayPeriods,C.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":Jt=Bt(lt.DayPeriods,C.Abbreviated,Ce.Format,!0);break;case"BBBB":Jt=Bt(lt.DayPeriods,C.Wide,Ce.Format,!0);break;case"BBBBB":Jt=Bt(lt.DayPeriods,C.Narrow,Ce.Format,!0);break;case"h":Jt=Ae(Le.Hours,1,-12);break;case"hh":Jt=Ae(Le.Hours,2,-12);break;case"H":Jt=Ae(Le.Hours,1);break;case"HH":Jt=Ae(Le.Hours,2);break;case"m":Jt=Ae(Le.Minutes,1);break;case"mm":Jt=Ae(Le.Minutes,2);break;case"s":Jt=Ae(Le.Seconds,1);break;case"ss":Jt=Ae(Le.Seconds,2);break;case"S":Jt=Ae(Le.FractionalSeconds,1);break;case"SS":Jt=Ae(Le.FractionalSeconds,2);break;case"SSS":Jt=Ae(Le.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Jt=It(We.Short);break;case"ZZZZZ":Jt=It(We.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Jt=It(We.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Jt=It(We.Long);break;default:return null}return Qt[st]=Jt,Jt}(Wo);Ki+=Cr?Cr(Mn,Tt,Es):"''"===Wo?"'":Wo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ki}function w(st,Jt,Tt){const Kt=new Date(0);return Kt.setFullYear(st,Jt,Tt),Kt.setHours(0,0,0),Kt}function m(st,Jt){const Tt=function g(st){return(0,f.H5H)(st)[f.KH2.LocaleId]}(st);if(Fe[Tt]??={},Fe[Tt][Jt])return Fe[Tt][Jt];let Kt="";switch(Jt){case"shortDate":Kt=W(st,a.Short);break;case"mediumDate":Kt=W(st,a.Medium);break;case"longDate":Kt=W(st,a.Long);break;case"fullDate":Kt=W(st,a.Full);break;case"shortTime":Kt=K(st,a.Short);break;case"mediumTime":Kt=K(st,a.Medium);break;case"longTime":Kt=K(st,a.Long);break;case"fullTime":Kt=K(st,a.Full);break;case"short":const Mn=m(st,"shortTime"),nr=m(st,"shortDate");Kt=U(ee(st,a.Short),[Mn,nr]);break;case"medium":const br=m(st,"mediumTime"),Jr=m(st,"mediumDate");Kt=U(ee(st,a.Medium),[br,Jr]);break;case"long":const Es=m(st,"longTime"),Ki=m(st,"longDate");Kt=U(ee(st,a.Long),[Es,Ki]);break;case"full":const Wo=m(st,"fullTime"),Cr=m(st,"fullDate");Kt=U(ee(st,a.Full),[Wo,Cr])}return Kt&&(Fe[Tt][Jt]=Kt),Kt}function U(st,Jt){return Jt&&(st=st.replace(/\{([^}]+)}/g,function(Tt,Kt){return null!=Jt&&Kt in Jt?Jt[Kt]:Tt})),st}function ne(st,Jt,Tt="-",Kt,Mn){let nr="";(st<0||Mn&&st<=0)&&(Mn?st=1-st:(st=-st,nr=Tt));let br=String(st);for(;br.length<Jt;)br="0"+br;return Kt&&(br=br.slice(br.length-Jt)),nr+br}function Ae(st,Jt,Tt=0,Kt=!1,Mn=!1){return function(nr,br){let Jr=function tt(st,Jt){switch(st){case Le.FullYear:return Jt.getFullYear();case Le.Month:return Jt.getMonth();case Le.Date:return Jt.getDate();case Le.Hours:return Jt.getHours();case Le.Minutes:return Jt.getMinutes();case Le.Seconds:return Jt.getSeconds();case Le.FractionalSeconds:return Jt.getMilliseconds();case Le.Day:return Jt.getDay();default:throw new Error(`Unknown DateType value "${st}".`)}}(st,nr);if((Tt>0||Jr>-Tt)&&(Jr+=Tt),st===Le.Hours)0===Jr&&-12===Tt&&(Jr=12);else if(st===Le.FractionalSeconds)return function ge(st,Jt){return ne(st,3).substring(0,Jt)}(Jr,Jt);const Es=ce(br,u.MinusSign);return ne(Jr,Jt,Es,Kt,Mn)}}function Bt(st,Jt,Tt=Ce.Format,Kt=!1){return function(Mn,nr){return function vt(st,Jt,Tt,Kt,Mn,nr){switch(Tt){case lt.Months:return function N(st,Jt,Tt){const Kt=(0,f.H5H)(st),nr=Q([Kt[f.KH2.MonthsFormat],Kt[f.KH2.MonthsStandalone]],Jt);return Q(nr,Tt)}(Jt,Mn,Kt)[st.getMonth()];case lt.Days:return function T(st,Jt,Tt){const Kt=(0,f.H5H)(st),nr=Q([Kt[f.KH2.DaysFormat],Kt[f.KH2.DaysStandalone]],Jt);return Q(nr,Tt)}(Jt,Mn,Kt)[st.getDay()];case lt.DayPeriods:const br=st.getHours(),Jr=st.getMinutes();if(nr){const Ki=function De(st){const Jt=(0,f.H5H)(st);return ye(Jt),(Jt[f.KH2.ExtraData][2]||[]).map(Kt=>"string"==typeof Kt?oe(Kt):[oe(Kt[0]),oe(Kt[1])])}(Jt),Wo=function pe(st,Jt,Tt){const Kt=(0,f.H5H)(st);ye(Kt);const nr=Q([Kt[f.KH2.ExtraData][0],Kt[f.KH2.ExtraData][1]],Jt)||[];return Q(nr,Tt)||[]}(Jt,Mn,Kt),Cr=Ki.findIndex(Jo=>{if(Array.isArray(Jo)){const[ko,xs]=Jo,yl=br>=ko.hours&&Jr>=ko.minutes,Ss=br<xs.hours||br===xs.hours&&Jr<xs.minutes;if(ko.hours<xs.hours){if(yl&&Ss)return!0}else if(yl||Ss)return!0}else if(Jo.hours===br&&Jo.minutes===Jr)return!0;return!1});if(-1!==Cr)return Wo[Cr]}return function S(st,Jt,Tt){const Kt=(0,f.H5H)(st),nr=Q([Kt[f.KH2.DayPeriodsFormat],Kt[f.KH2.DayPeriodsStandalone]],Jt);return Q(nr,Tt)}(Jt,Mn,Kt)[br<12?0:1];case lt.Eras:return function A(st,Jt){return Q((0,f.H5H)(st)[f.KH2.Eras],Jt)}(Jt,Kt)[st.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Tt}`)}}(Mn,nr,st,Jt,Tt,Kt)}}function It(st){return function(Jt,Tt,Kt){const Mn=-1*Kt,nr=ce(Tt,u.MinusSign),br=Mn>0?Math.floor(Mn/60):Math.ceil(Mn/60);switch(st){case We.Short:return(Mn>=0?"+":"")+ne(br,2,nr)+ne(Math.abs(Mn%60),2,nr);case We.ShortGMT:return"GMT"+(Mn>=0?"+":"")+ne(br,1,nr);case We.Long:return"GMT"+(Mn>=0?"+":"")+ne(br,2,nr)+":"+ne(Math.abs(Mn%60),2,nr);case We.Extended:return 0===Kt?"Z":(Mn>=0?"+":"")+ne(br,2,nr)+":"+ne(Math.abs(Mn%60),2,nr);default:throw new Error(`Unknown zone width "${st}"`)}}}const Gt=0,hn=4;function ar(st){const Jt=st.getDay(),Tt=0===Jt?-3:hn-Jt;return w(st.getFullYear(),st.getMonth(),st.getDate()+Tt)}function An(st,Jt=!1){return function(Tt,Kt){let Mn;if(Jt){const nr=new Date(Tt.getFullYear(),Tt.getMonth(),1).getDay()-1,br=Tt.getDate();Mn=1+Math.floor((br+nr)/7)}else{const nr=ar(Tt),br=function dn(st){const Jt=w(st,Gt,1).getDay();return w(st,0,1+(Jt<=hn?hn:hn+7)-Jt)}(nr.getFullYear()),Jr=nr.getTime()-br.getTime();Mn=1+Math.round(Jr/6048e5)}return ne(Mn,st,ce(Kt,u.MinusSign))}}function en(st,Jt=!1){return function(Tt,Kt){return ne(ar(Tt).getFullYear(),st,ce(Kt,u.MinusSign),Jt)}}const Qt={};function ft(st,Jt){st=st.replace(/:/g,"");const Tt=Date.parse("Jan 01, 1970 00:00:00 "+st)/6e4;return isNaN(Tt)?Jt:Tt}function gt(st){return st instanceof Date&&!isNaN(st.valueOf())}function Dr(st,Jt){Jt=encodeURIComponent(Jt);for(const Tt of st.split(";")){const Kt=Tt.indexOf("="),[Mn,nr]=-1==Kt?[Tt,""]:[Tt.slice(0,Kt),Tt.slice(Kt+1)];if(Mn.trim()===Jt)return decodeURIComponent(nr)}return null}const Mr=/\s+/,Ir=[];let jr=(()=>{class st{constructor(Tt,Kt){this._ngEl=Tt,this._renderer=Kt,this.initialClasses=Ir,this.stateMap=new Map}set klass(Tt){this.initialClasses=null!=Tt?Tt.trim().split(Mr):Ir}set ngClass(Tt){this.rawClass="string"==typeof Tt?Tt.trim().split(Mr):Tt}ngDoCheck(){for(const Kt of this.initialClasses)this._updateState(Kt,!0);const Tt=this.rawClass;if(Array.isArray(Tt)||Tt instanceof Set)for(const Kt of Tt)this._updateState(Kt,!0);else if(null!=Tt)for(const Kt of Object.keys(Tt))this._updateState(Kt,!!Tt[Kt]);this._applyStateDiff()}_updateState(Tt,Kt){const Mn=this.stateMap.get(Tt);void 0!==Mn?(Mn.enabled!==Kt&&(Mn.changed=!0,Mn.enabled=Kt),Mn.touched=!0):this.stateMap.set(Tt,{enabled:Kt,changed:!0,touched:!0})}_applyStateDiff(){for(const Tt of this.stateMap){const Kt=Tt[0],Mn=Tt[1];Mn.changed?(this._toggleClass(Kt,Mn.enabled),Mn.changed=!1):Mn.touched||(Mn.enabled&&this._toggleClass(Kt,!1),this.stateMap.delete(Kt)),Mn.touched=!1}}_toggleClass(Tt,Kt){(Tt=Tt.trim()).length>0&&Tt.split(Mr).forEach(Mn=>{Kt?this._renderer.addClass(this._ngEl.nativeElement,Mn):this._renderer.removeClass(this._ngEl.nativeElement,Mn)})}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(f.rXU(f.aKT),f.rXU(f.sFG))};static#t=this.\u0275dir=f.FsC({type:st,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return st})();class _n{constructor(Jt,Tt,Kt,Mn){this.$implicit=Jt,this.ngForOf=Tt,this.index=Kt,this.count=Mn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tn=(()=>{class st{set ngForOf(Tt){this._ngForOf=Tt,this._ngForOfDirty=!0}set ngForTrackBy(Tt){this._trackByFn=Tt}get ngForTrackBy(){return this._trackByFn}constructor(Tt,Kt,Mn){this._viewContainer=Tt,this._template=Kt,this._differs=Mn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Tt){Tt&&(this._template=Tt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Tt=this._ngForOf;!this._differ&&Tt&&(this._differ=this._differs.find(Tt).create(this.ngForTrackBy))}if(this._differ){const Tt=this._differ.diff(this._ngForOf);Tt&&this._applyChanges(Tt)}}_applyChanges(Tt){const Kt=this._viewContainer;Tt.forEachOperation((Mn,nr,br)=>{if(null==Mn.previousIndex)Kt.createEmbeddedView(this._template,new _n(Mn.item,this._ngForOf,-1,-1),null===br?void 0:br);else if(null==br)Kt.remove(null===nr?void 0:nr);else if(null!==nr){const Jr=Kt.get(nr);Kt.move(Jr,br),jn(Jr,Mn)}});for(let Mn=0,nr=Kt.length;Mn<nr;Mn++){const Jr=Kt.get(Mn).context;Jr.index=Mn,Jr.count=nr,Jr.ngForOf=this._ngForOf}Tt.forEachIdentityChange(Mn=>{jn(Kt.get(Mn.currentIndex),Mn)})}static ngTemplateContextGuard(Tt,Kt){return!0}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(f.rXU(f.c1b),f.rXU(f.C4Q),f.rXU(f._q3))};static#t=this.\u0275dir=f.FsC({type:st,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return st})();function jn(st,Jt){st.context.$implicit=Jt.item}let Ar=(()=>{class st{constructor(Tt,Kt){this._viewContainer=Tt,this._context=new xr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Kt}set ngIf(Tt){this._context.$implicit=this._context.ngIf=Tt,this._updateView()}set ngIfThen(Tt){zr("ngIfThen",Tt),this._thenTemplateRef=Tt,this._thenViewRef=null,this._updateView()}set ngIfElse(Tt){zr("ngIfElse",Tt),this._elseTemplateRef=Tt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Tt,Kt){return!0}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(f.rXU(f.c1b),f.rXU(f.C4Q))};static#t=this.\u0275dir=f.FsC({type:st,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return st})();class xr{constructor(){this.$implicit=null,this.ngIf=null}}function zr(st,Jt){if(Jt&&!Jt.createEmbeddedView)throw new Error(`${st} must be a TemplateRef, but received '${(0,f.Tbb)(Jt)}'.`)}let pi=(()=>{class st{constructor(Tt,Kt,Mn){this._ngEl=Tt,this._differs=Kt,this._renderer=Mn,this._ngStyle=null,this._differ=null}set ngStyle(Tt){this._ngStyle=Tt,!this._differ&&Tt&&(this._differ=this._differs.find(Tt).create())}ngDoCheck(){if(this._differ){const Tt=this._differ.diff(this._ngStyle);Tt&&this._applyChanges(Tt)}}_setStyle(Tt,Kt){const[Mn,nr]=Tt.split("."),br=-1===Mn.indexOf("-")?void 0:f.czy.DashCase;null!=Kt?this._renderer.setStyle(this._ngEl.nativeElement,Mn,nr?`${Kt}${nr}`:Kt,br):this._renderer.removeStyle(this._ngEl.nativeElement,Mn,br)}_applyChanges(Tt){Tt.forEachRemovedItem(Kt=>this._setStyle(Kt.key,null)),Tt.forEachAddedItem(Kt=>this._setStyle(Kt.key,Kt.currentValue)),Tt.forEachChangedItem(Kt=>this._setStyle(Kt.key,Kt.currentValue))}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(f.rXU(f.aKT),f.rXU(f.MKu),f.rXU(f.sFG))};static#t=this.\u0275dir=f.FsC({type:st,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return st})(),Ui=(()=>{class st{constructor(Tt){this._viewContainerRef=Tt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Tt){if(this._shouldRecreateView(Tt)){const Kt=this._viewContainerRef;if(this._viewRef&&Kt.remove(Kt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Mn=this._createContextForwardProxy();this._viewRef=Kt.createEmbeddedView(this.ngTemplateOutlet,Mn,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Tt){return!!Tt.ngTemplateOutlet||!!Tt.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Tt,Kt,Mn)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Kt,Mn),get:(Tt,Kt,Mn)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Kt,Mn)}})}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(f.rXU(f.c1b))};static#t=this.\u0275dir=f.FsC({type:st,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.OA$]})}return st})();function Si(st,Jt){return new f.wOt(2100,!1)}class os{createSubscription(Jt,Tt){return(0,f.O8t)(()=>Jt.subscribe({next:Tt,error:Kt=>{throw Kt}}))}dispose(Jt){(0,f.O8t)(()=>Jt.unsubscribe())}}class Ns{createSubscription(Jt,Tt){return Jt.then(Tt,Kt=>{throw Kt})}dispose(Jt){}}const To=new Ns,$i=new os;let ps=(()=>{class st{constructor(Tt){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Tt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Tt){if(!this._obj){if(Tt)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Tt)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Tt!==this._obj?(this._dispose(),this.transform(Tt)):this._latestValue}_subscribe(Tt){this._obj=Tt,this._strategy=this._selectStrategy(Tt),this._subscription=this._strategy.createSubscription(Tt,Kt=>this._updateLatestValue(Tt,Kt))}_selectStrategy(Tt){if((0,f.jNT)(Tt))return To;if((0,f.zjR)(Tt))return $i;throw Si()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Tt,Kt){Tt===this._obj&&(this._latestValue=Kt,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(f.rXU(f.gRc,16))};static#t=this.\u0275pipe=f.EJ8({name:"async",type:st,pure:!1,standalone:!0})}return st})();const Au=new f.nKC(""),ua=new f.nKC("");let nu=(()=>{class st{constructor(Tt,Kt,Mn){this.locale=Tt,this.defaultTimezone=Kt,this.defaultOptions=Mn}transform(Tt,Kt,Mn,nr){if(null==Tt||""===Tt||Tt!=Tt)return null;try{return B(Tt,Kt??this.defaultOptions?.dateFormat??"mediumDate",nr||this.locale,Mn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(br){throw Si()}}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(f.rXU(f.xe9,16),f.rXU(Au,24),f.rXU(ua,24))};static#t=this.\u0275pipe=f.EJ8({name:"date",type:st,pure:!0,standalone:!0})}return st})(),hc=(()=>{class st{static#e=this.\u0275fac=function(Kt){return new(Kt||st)};static#t=this.\u0275mod=f.$C({type:st});static#n=this.\u0275inj=f.G2t({})}return st})();const so="browser",ho="server";function wo(st){return st===so}function Jc(st){return st===ho}let ds=(()=>{class st{static#e=this.\u0275prov=(0,f.jDH)({token:st,providedIn:"root",factory:()=>wo((0,f.WQX)(f.Agw))?new Dc((0,f.WQX)(M),window):new ru})}return st})();class Dc{constructor(Jt,Tt){this.document=Jt,this.window=Tt,this.offset=()=>[0,0]}setOffset(Jt){this.offset=Array.isArray(Jt)?()=>Jt:Jt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Jt){this.window.scrollTo(Jt[0],Jt[1])}scrollToAnchor(Jt){const Tt=function qc(st,Jt){const Tt=st.getElementById(Jt)||st.getElementsByName(Jt)[0];if(Tt)return Tt;if("function"==typeof st.createTreeWalker&&st.body&&"function"==typeof st.body.attachShadow){const Kt=st.createTreeWalker(st.body,NodeFilter.SHOW_ELEMENT);let Mn=Kt.currentNode;for(;Mn;){const nr=Mn.shadowRoot;if(nr){const br=nr.getElementById(Jt)||nr.querySelector(`[name="${Jt}"]`);if(br)return br}Mn=Kt.nextNode()}}return null}(this.document,Jt);Tt&&(this.scrollToElement(Tt),Tt.focus())}setHistoryScrollRestoration(Jt){this.window.history.scrollRestoration=Jt}scrollToElement(Jt){const Tt=Jt.getBoundingClientRect(),Kt=Tt.left+this.window.pageXOffset,Mn=Tt.top+this.window.pageYOffset,nr=this.offset();this.window.scrollTo(Kt-nr[0],Mn-nr[1])}}class ru{setOffset(Jt){}getScrollPosition(){return[0,0]}scrollToPosition(Jt){}scrollToAnchor(Jt){}setHistoryScrollRestoration(Jt){}}class Ol{}},21626:(je,z,E)=>{"use strict";E.d(z,{Qq:()=>ee,q1:()=>un});var f=E(10467),_=E(93953),k=E(7673),H=E(71985),x=E(86648),P=E(70274),M=E(5964),O=E(96354),F=E(70980),L=E(25558),D=E(60177);class X{}class j{}class G{constructor(_n){this.normalizedNames=new Map,this.lazyUpdate=null,_n?"string"==typeof _n?this.lazyInit=()=>{this.headers=new Map,_n.split("\n").forEach(Tn=>{const jn=Tn.indexOf(":");if(jn>0){const hr=Tn.slice(0,jn),Ar=hr.toLowerCase(),xr=Tn.slice(jn+1).trim();this.maybeSetNormalizedName(hr,Ar),this.headers.has(Ar)?this.headers.get(Ar).push(xr):this.headers.set(Ar,[xr])}})}:typeof Headers<"u"&&_n instanceof Headers?(this.headers=new Map,_n.forEach((Tn,jn)=>{this.setHeaderEntries(jn,Tn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(_n).forEach(([Tn,jn])=>{this.setHeaderEntries(Tn,jn)})}:this.headers=new Map}has(_n){return this.init(),this.headers.has(_n.toLowerCase())}get(_n){this.init();const Tn=this.headers.get(_n.toLowerCase());return Tn&&Tn.length>0?Tn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_n){return this.init(),this.headers.get(_n.toLowerCase())||null}append(_n,Tn){return this.clone({name:_n,value:Tn,op:"a"})}set(_n,Tn){return this.clone({name:_n,value:Tn,op:"s"})}delete(_n,Tn){return this.clone({name:_n,value:Tn,op:"d"})}maybeSetNormalizedName(_n,Tn){this.normalizedNames.has(Tn)||this.normalizedNames.set(Tn,_n)}init(){this.lazyInit&&(this.lazyInit instanceof G?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_n=>this.applyUpdate(_n)),this.lazyUpdate=null))}copyFrom(_n){_n.init(),Array.from(_n.headers.keys()).forEach(Tn=>{this.headers.set(Tn,_n.headers.get(Tn)),this.normalizedNames.set(Tn,_n.normalizedNames.get(Tn))})}clone(_n){const Tn=new G;return Tn.lazyInit=this.lazyInit&&this.lazyInit instanceof G?this.lazyInit:this,Tn.lazyUpdate=(this.lazyUpdate||[]).concat([_n]),Tn}applyUpdate(_n){const Tn=_n.name.toLowerCase();switch(_n.op){case"a":case"s":let jn=_n.value;if("string"==typeof jn&&(jn=[jn]),0===jn.length)return;this.maybeSetNormalizedName(_n.name,Tn);const hr=("a"===_n.op?this.headers.get(Tn):void 0)||[];hr.push(...jn),this.headers.set(Tn,hr);break;case"d":const Ar=_n.value;if(Ar){let xr=this.headers.get(Tn);if(!xr)return;xr=xr.filter(zr=>-1===Ar.indexOf(zr)),0===xr.length?(this.headers.delete(Tn),this.normalizedNames.delete(Tn)):this.headers.set(Tn,xr)}else this.headers.delete(Tn),this.normalizedNames.delete(Tn)}}setHeaderEntries(_n,Tn){const jn=(Array.isArray(Tn)?Tn:[Tn]).map(Ar=>Ar.toString()),hr=_n.toLowerCase();this.headers.set(hr,jn),this.maybeSetNormalizedName(_n,hr)}forEach(_n){this.init(),Array.from(this.normalizedNames.keys()).forEach(Tn=>_n(this.normalizedNames.get(Tn),this.headers.get(Tn)))}}class te{encodeKey(_n){return ae(_n)}encodeValue(_n){return ae(_n)}decodeKey(_n){return decodeURIComponent(_n)}decodeValue(_n){return decodeURIComponent(_n)}}const Z=/%(\d[a-f0-9])/gi,ie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ae(tn){return encodeURIComponent(tn).replace(Z,(_n,Tn)=>ie[Tn]??_n)}function se(tn){return`${tn}`}class de{constructor(_n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_n.encoder||new te,_n.fromString){if(_n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function J(tn,_n){const Tn=new Map;return tn.length>0&&tn.replace(/^\?/,"").split("&").forEach(hr=>{const Ar=hr.indexOf("="),[xr,zr]=-1==Ar?[_n.decodeKey(hr),""]:[_n.decodeKey(hr.slice(0,Ar)),_n.decodeValue(hr.slice(Ar+1))],Kr=Tn.get(xr)||[];Kr.push(zr),Tn.set(xr,Kr)}),Tn}(_n.fromString,this.encoder)}else _n.fromObject?(this.map=new Map,Object.keys(_n.fromObject).forEach(Tn=>{const jn=_n.fromObject[Tn],hr=Array.isArray(jn)?jn.map(se):[se(jn)];this.map.set(Tn,hr)})):this.map=null}has(_n){return this.init(),this.map.has(_n)}get(_n){this.init();const Tn=this.map.get(_n);return Tn?Tn[0]:null}getAll(_n){return this.init(),this.map.get(_n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_n,Tn){return this.clone({param:_n,value:Tn,op:"a"})}appendAll(_n){const Tn=[];return Object.keys(_n).forEach(jn=>{const hr=_n[jn];Array.isArray(hr)?hr.forEach(Ar=>{Tn.push({param:jn,value:Ar,op:"a"})}):Tn.push({param:jn,value:hr,op:"a"})}),this.clone(Tn)}set(_n,Tn){return this.clone({param:_n,value:Tn,op:"s"})}delete(_n,Tn){return this.clone({param:_n,value:Tn,op:"d"})}toString(){return this.init(),this.keys().map(_n=>{const Tn=this.encoder.encodeKey(_n);return this.map.get(_n).map(jn=>Tn+"="+this.encoder.encodeValue(jn)).join("&")}).filter(_n=>""!==_n).join("&")}clone(_n){const Tn=new de({encoder:this.encoder});return Tn.cloneFrom=this.cloneFrom||this,Tn.updates=(this.updates||[]).concat(_n),Tn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_n=>this.map.set(_n,this.cloneFrom.map.get(_n))),this.updates.forEach(_n=>{switch(_n.op){case"a":case"s":const Tn=("a"===_n.op?this.map.get(_n.param):void 0)||[];Tn.push(se(_n.value)),this.map.set(_n.param,Tn);break;case"d":if(void 0===_n.value){this.map.delete(_n.param);break}{let jn=this.map.get(_n.param)||[];const hr=jn.indexOf(se(_n.value));-1!==hr&&jn.splice(hr,1),jn.length>0?this.map.set(_n.param,jn):this.map.delete(_n.param)}}}),this.cloneFrom=this.updates=null)}}class we{constructor(){this.map=new Map}set(_n,Tn){return this.map.set(_n,Tn),this}get(_n){return this.map.has(_n)||this.map.set(_n,_n.defaultValue()),this.map.get(_n)}delete(_n){return this.map.delete(_n),this}has(_n){return this.map.has(_n)}keys(){return this.map.keys()}}function Ce(tn){return typeof ArrayBuffer<"u"&&tn instanceof ArrayBuffer}function C(tn){return typeof Blob<"u"&&tn instanceof Blob}function a(tn){return typeof FormData<"u"&&tn instanceof FormData}class y{constructor(_n,Tn,jn,hr){let Ar;if(this.url=Tn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_n.toUpperCase(),function xe(tn){switch(tn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||hr?(this.body=void 0!==jn?jn:null,Ar=hr):Ar=jn,Ar&&(this.reportProgress=!!Ar.reportProgress,this.withCredentials=!!Ar.withCredentials,Ar.responseType&&(this.responseType=Ar.responseType),Ar.headers&&(this.headers=Ar.headers),Ar.context&&(this.context=Ar.context),Ar.params&&(this.params=Ar.params),this.transferCache=Ar.transferCache),this.headers??=new G,this.context??=new we,this.params){const xr=this.params.toString();if(0===xr.length)this.urlWithParams=Tn;else{const zr=Tn.indexOf("?");this.urlWithParams=Tn+(-1===zr?"?":zr<Tn.length-1?"&":"")+xr}}else this.params=new de,this.urlWithParams=Tn}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ce(this.body)||C(this.body)||a(this.body)||function u(tn){return typeof URLSearchParams<"u"&&tn instanceof URLSearchParams}(this.body)?this.body:this.body instanceof de?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||a(this.body)?null:C(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof de?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_n={}){const Tn=_n.method||this.method,jn=_n.url||this.url,hr=_n.responseType||this.responseType,Ar=_n.transferCache??this.transferCache,xr=void 0!==_n.body?_n.body:this.body,zr=_n.withCredentials??this.withCredentials,Kr=_n.reportProgress??this.reportProgress;let oi=_n.headers||this.headers,Ao=_n.params||this.params;const wi=_n.context??this.context;return void 0!==_n.setHeaders&&(oi=Object.keys(_n.setHeaders).reduce((Io,Co)=>Io.set(Co,_n.setHeaders[Co]),oi)),_n.setParams&&(Ao=Object.keys(_n.setParams).reduce((Io,Co)=>Io.set(Co,_n.setParams[Co]),Ao)),new y(Tn,jn,xr,{params:Ao,headers:oi,context:wi,reportProgress:Kr,responseType:hr,withCredentials:zr,transferCache:Ar})}}var g=function(tn){return tn[tn.Sent=0]="Sent",tn[tn.UploadProgress=1]="UploadProgress",tn[tn.ResponseHeader=2]="ResponseHeader",tn[tn.DownloadProgress=3]="DownloadProgress",tn[tn.Response=4]="Response",tn[tn.User=5]="User",tn}(g||{});class S{constructor(_n,Tn=200,jn="OK"){this.headers=_n.headers||new G,this.status=void 0!==_n.status?_n.status:Tn,this.statusText=_n.statusText||jn,this.url=_n.url||null,this.ok=this.status>=200&&this.status<300}}class T extends S{constructor(_n={}){super(_n),this.type=g.ResponseHeader}clone(_n={}){return new T({headers:_n.headers||this.headers,status:void 0!==_n.status?_n.status:this.status,statusText:_n.statusText||this.statusText,url:_n.url||this.url||void 0})}}class N extends S{constructor(_n={}){super(_n),this.type=g.Response,this.body=void 0!==_n.body?_n.body:null}clone(_n={}){return new N({body:void 0!==_n.body?_n.body:this.body,headers:_n.headers||this.headers,status:void 0!==_n.status?_n.status:this.status,statusText:_n.statusText||this.statusText,url:_n.url||this.url||void 0})}}class A extends S{constructor(_n){super(_n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_n.url||"(unknown url)"}`:`Http failure response for ${_n.url||"(unknown url)"}: ${_n.status} ${_n.statusText}`,this.error=_n.error||null}}function K(tn,_n){return{body:_n,headers:tn.headers,context:tn.context,observe:tn.observe,params:tn.params,reportProgress:tn.reportProgress,responseType:tn.responseType,withCredentials:tn.withCredentials,transferCache:tn.transferCache}}let ee=(()=>{class tn{constructor(Tn){this.handler=Tn}request(Tn,jn,hr={}){let Ar;if(Tn instanceof y)Ar=Tn;else{let Kr,oi;Kr=hr.headers instanceof G?hr.headers:new G(hr.headers),hr.params&&(oi=hr.params instanceof de?hr.params:new de({fromObject:hr.params})),Ar=new y(Tn,jn,void 0!==hr.body?hr.body:null,{headers:Kr,context:hr.context,params:oi,reportProgress:hr.reportProgress,responseType:hr.responseType||"json",withCredentials:hr.withCredentials,transferCache:hr.transferCache})}const xr=(0,k.of)(Ar).pipe((0,P.H)(Kr=>this.handler.handle(Kr)));if(Tn instanceof y||"events"===hr.observe)return xr;const zr=xr.pipe((0,M.p)(Kr=>Kr instanceof N));switch(hr.observe||"body"){case"body":switch(Ar.responseType){case"arraybuffer":return zr.pipe((0,O.T)(Kr=>{if(null!==Kr.body&&!(Kr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Kr.body}));case"blob":return zr.pipe((0,O.T)(Kr=>{if(null!==Kr.body&&!(Kr.body instanceof Blob))throw new Error("Response is not a Blob.");return Kr.body}));case"text":return zr.pipe((0,O.T)(Kr=>{if(null!==Kr.body&&"string"!=typeof Kr.body)throw new Error("Response is not a string.");return Kr.body}));default:return zr.pipe((0,O.T)(Kr=>Kr.body))}case"response":return zr;default:throw new Error(`Unreachable: unhandled observe type ${hr.observe}}`)}}delete(Tn,jn={}){return this.request("DELETE",Tn,jn)}get(Tn,jn={}){return this.request("GET",Tn,jn)}head(Tn,jn={}){return this.request("HEAD",Tn,jn)}jsonp(Tn,jn){return this.request("JSONP",Tn,{params:(new de).append(jn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Tn,jn={}){return this.request("OPTIONS",Tn,jn)}patch(Tn,jn,hr={}){return this.request("PATCH",Tn,K(hr,jn))}post(Tn,jn,hr={}){return this.request("POST",Tn,K(hr,jn))}put(Tn,jn,hr={}){return this.request("PUT",Tn,K(hr,jn))}static#e=this.\u0275fac=function(jn){return new(jn||tn)(_.KVO(X))};static#t=this.\u0275prov=_.jDH({token:tn,factory:tn.\u0275fac})}return tn})();const ce=/^\)\]\}',?\n/;function Oe(tn){if(tn.url)return tn.url;const _n="X-Request-URL".toLocaleLowerCase();return tn.headers.get(_n)}let Ve=(()=>{class tn{constructor(){this.fetchImpl=(0,_.WQX)(Se,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,_.WQX)(_.SKi)}handle(Tn){return new H.c(jn=>{const hr=new AbortController;return this.doRequest(Tn,hr.signal,jn).then(be,Ar=>jn.error(new A({error:Ar}))),()=>hr.abort()})}doRequest(Tn,jn,hr){var Ar=this;return(0,f.A)(function*(){const xr=Ar.createRequestInit(Tn);let zr;try{const is=Ar.ngZone.runOutsideAngular(()=>Ar.fetchImpl(Tn.urlWithParams,{signal:jn,...xr}));(function Ue(tn){tn.then(be,be)})(is),hr.next({type:g.Sent}),zr=yield is}catch(is){return void hr.error(new A({error:is,status:is.status??0,statusText:is.statusText,url:Tn.urlWithParams,headers:is.headers}))}const Kr=new G(zr.headers),oi=zr.statusText,Ao=Oe(zr)??Tn.urlWithParams;let wi=zr.status,Io=null;if(Tn.reportProgress&&hr.next(new T({headers:Kr,status:wi,statusText:oi,url:Ao})),zr.body){const is=zr.headers.get("content-length"),ji=[],pi=zr.body.getReader();let la,Si,Ui=0;const os=typeof Zone<"u"&&Zone.current;yield Ar.ngZone.runOutsideAngular((0,f.A)(function*(){for(;;){const{done:To,value:$i}=yield pi.read();if(To)break;if(ji.push($i),Ui+=$i.length,Tn.reportProgress){Si="text"===Tn.responseType?(Si??"")+(la??=new TextDecoder).decode($i,{stream:!0}):void 0;const ps=()=>hr.next({type:g.DownloadProgress,total:is?+is:void 0,loaded:Ui,partialText:Si});os?os.run(ps):ps()}}}));const Ns=Ar.concatChunks(ji,Ui);try{const To=zr.headers.get("Content-Type")??"";Io=Ar.parseBody(Tn,Ns,To)}catch(To){return void hr.error(new A({error:To,headers:new G(zr.headers),status:zr.status,statusText:zr.statusText,url:Oe(zr)??Tn.urlWithParams}))}}0===wi&&(wi=Io?200:0),wi>=200&&wi<300?(hr.next(new N({body:Io,headers:Kr,status:wi,statusText:oi,url:Ao})),hr.complete()):hr.error(new A({error:Io,headers:Kr,status:wi,statusText:oi,url:Ao}))})()}parseBody(Tn,jn,hr){switch(Tn.responseType){case"json":const Ar=(new TextDecoder).decode(jn).replace(ce,"");return""===Ar?null:JSON.parse(Ar);case"text":return(new TextDecoder).decode(jn);case"blob":return new Blob([jn],{type:hr});case"arraybuffer":return jn.buffer}}createRequestInit(Tn){const jn={},hr=Tn.withCredentials?"include":void 0;if(Tn.headers.forEach((Ar,xr)=>jn[Ar]=xr.join(",")),Tn.headers.has("Accept")||(jn.Accept="application/json, text/plain, */*"),!Tn.headers.has("Content-Type")){const Ar=Tn.detectContentTypeHeader();null!==Ar&&(jn["Content-Type"]=Ar)}return{body:Tn.serializeBody(),method:Tn.method,headers:jn,credentials:hr}}concatChunks(Tn,jn){const hr=new Uint8Array(jn);let Ar=0;for(const xr of Tn)hr.set(xr,Ar),Ar+=xr.length;return hr}static#e=this.\u0275fac=function(jn){return new(jn||tn)};static#t=this.\u0275prov=_.jDH({token:tn,factory:tn.\u0275fac})}return tn})();class Se{}function be(){}function ye(tn,_n){return _n(tn)}function De(tn,_n){return(Tn,jn)=>_n.intercept(Tn,{handle:hr=>tn(hr,jn)})}const ue=new _.nKC(""),Q=new _.nKC(""),oe=new _.nKC(""),fe=new _.nKC("",{providedIn:"root",factory:()=>!0});function Ee(){let tn=null;return(_n,Tn)=>{null===tn&&(tn=((0,_.WQX)(ue,{optional:!0})??[]).reduceRight(De,ye));const jn=(0,_.WQX)(_.TgB);if((0,_.WQX)(fe)){const Ar=jn.add();return tn(_n,Tn).pipe((0,F.j)(()=>jn.remove(Ar)))}return tn(_n,Tn)}}let Fe=(()=>{class tn extends X{constructor(Tn,jn){super(),this.backend=Tn,this.injector=jn,this.chain=null,this.pendingTasks=(0,_.WQX)(_.TgB),this.contributeToStability=(0,_.WQX)(fe)}handle(Tn){if(null===this.chain){const jn=Array.from(new Set([...this.injector.get(Q),...this.injector.get(oe,[])]));this.chain=jn.reduceRight((hr,Ar)=>function pe(tn,_n,Tn){return(jn,hr)=>(0,_.N4e)(Tn,()=>_n(jn,Ar=>tn(Ar,hr)))}(hr,Ar,this.injector),ye)}if(this.contributeToStability){const jn=this.pendingTasks.add();return this.chain(Tn,hr=>this.backend.handle(hr)).pipe((0,F.j)(()=>this.pendingTasks.remove(jn)))}return this.chain(Tn,jn=>this.backend.handle(jn))}static#e=this.\u0275fac=function(jn){return new(jn||tn)(_.KVO(j),_.KVO(_.uvJ))};static#t=this.\u0275prov=_.jDH({token:tn,factory:tn.\u0275fac})}return tn})();const tt=/^\)\]\}',?\n/;let vt=(()=>{class tn{constructor(Tn){this.xhrFactory=Tn}handle(Tn){if("JSONP"===Tn.method)throw new _.wOt(-2800,!1);const jn=this.xhrFactory;return(jn.\u0275loadImpl?(0,x.H)(jn.\u0275loadImpl()):(0,k.of)(null)).pipe((0,L.n)(()=>new H.c(Ar=>{const xr=jn.build();if(xr.open(Tn.method,Tn.urlWithParams),Tn.withCredentials&&(xr.withCredentials=!0),Tn.headers.forEach((ji,pi)=>xr.setRequestHeader(ji,pi.join(","))),Tn.headers.has("Accept")||xr.setRequestHeader("Accept","application/json, text/plain, */*"),!Tn.headers.has("Content-Type")){const ji=Tn.detectContentTypeHeader();null!==ji&&xr.setRequestHeader("Content-Type",ji)}if(Tn.responseType){const ji=Tn.responseType.toLowerCase();xr.responseType="json"!==ji?ji:"text"}const zr=Tn.serializeBody();let Kr=null;const oi=()=>{if(null!==Kr)return Kr;const ji=xr.statusText||"OK",pi=new G(xr.getAllResponseHeaders()),Ui=function Bt(tn){return"responseURL"in tn&&tn.responseURL?tn.responseURL:/^X-Request-URL:/m.test(tn.getAllResponseHeaders())?tn.getResponseHeader("X-Request-URL"):null}(xr)||Tn.url;return Kr=new T({headers:pi,status:xr.status,statusText:ji,url:Ui}),Kr},Ao=()=>{let{headers:ji,status:pi,statusText:Ui,url:la}=oi(),Si=null;204!==pi&&(Si=typeof xr.response>"u"?xr.responseText:xr.response),0===pi&&(pi=Si?200:0);let os=pi>=200&&pi<300;if("json"===Tn.responseType&&"string"==typeof Si){const Ns=Si;Si=Si.replace(tt,"");try{Si=""!==Si?JSON.parse(Si):null}catch(To){Si=Ns,os&&(os=!1,Si={error:To,text:Si})}}os?(Ar.next(new N({body:Si,headers:ji,status:pi,statusText:Ui,url:la||void 0})),Ar.complete()):Ar.error(new A({error:Si,headers:ji,status:pi,statusText:Ui,url:la||void 0}))},wi=ji=>{const{url:pi}=oi(),Ui=new A({error:ji,status:xr.status||0,statusText:xr.statusText||"Unknown Error",url:pi||void 0});Ar.error(Ui)};let Io=!1;const Co=ji=>{Io||(Ar.next(oi()),Io=!0);let pi={type:g.DownloadProgress,loaded:ji.loaded};ji.lengthComputable&&(pi.total=ji.total),"text"===Tn.responseType&&xr.responseText&&(pi.partialText=xr.responseText),Ar.next(pi)},is=ji=>{let pi={type:g.UploadProgress,loaded:ji.loaded};ji.lengthComputable&&(pi.total=ji.total),Ar.next(pi)};return xr.addEventListener("load",Ao),xr.addEventListener("error",wi),xr.addEventListener("timeout",wi),xr.addEventListener("abort",wi),Tn.reportProgress&&(xr.addEventListener("progress",Co),null!==zr&&xr.upload&&xr.upload.addEventListener("progress",is)),xr.send(zr),Ar.next({type:g.Sent}),()=>{xr.removeEventListener("error",wi),xr.removeEventListener("abort",wi),xr.removeEventListener("load",Ao),xr.removeEventListener("timeout",wi),Tn.reportProgress&&(xr.removeEventListener("progress",Co),null!==zr&&xr.upload&&xr.upload.removeEventListener("progress",is)),xr.readyState!==xr.DONE&&xr.abort()}})))}static#e=this.\u0275fac=function(jn){return new(jn||tn)(_.KVO(D.N0))};static#t=this.\u0275prov=_.jDH({token:tn,factory:tn.\u0275fac})}return tn})();const It=new _.nKC(""),hn=new _.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ar=new _.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class An{}let en=(()=>{class tn{constructor(Tn,jn,hr){this.doc=Tn,this.platform=jn,this.cookieName=hr,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Tn=this.doc.cookie||"";return Tn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D._b)(Tn,this.cookieName),this.lastCookieString=Tn),this.lastToken}static#e=this.\u0275fac=function(jn){return new(jn||tn)(_.KVO(D.qQ),_.KVO(_.Agw),_.KVO(hn))};static#t=this.\u0275prov=_.jDH({token:tn,factory:tn.\u0275fac})}return tn})();function Qt(tn,_n){const Tn=tn.url.toLowerCase();if(!(0,_.WQX)(It)||"GET"===tn.method||"HEAD"===tn.method||Tn.startsWith("http://")||Tn.startsWith("https://"))return _n(tn);const jn=(0,_.WQX)(An).getToken(),hr=(0,_.WQX)(ar);return null!=jn&&!tn.headers.has(hr)&&(tn=tn.clone({headers:tn.headers.set(hr,jn)})),_n(tn)}var ft=function(tn){return tn[tn.Interceptors=0]="Interceptors",tn[tn.LegacyInterceptors=1]="LegacyInterceptors",tn[tn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",tn[tn.NoXsrfProtection=3]="NoXsrfProtection",tn[tn.JsonpSupport=4]="JsonpSupport",tn[tn.RequestsMadeViaParent=5]="RequestsMadeViaParent",tn[tn.Fetch=6]="Fetch",tn}(ft||{});function qt(...tn){const _n=[ee,vt,Fe,{provide:X,useExisting:Fe},{provide:j,useFactory:()=>(0,_.WQX)(Ve,{optional:!0})??(0,_.WQX)(vt)},{provide:Q,useValue:Qt,multi:!0},{provide:It,useValue:!0},{provide:An,useClass:en}];for(const Tn of tn)_n.push(...Tn.\u0275providers);return(0,_.EmA)(_n)}const fr=new _.nKC("");function gt(){return function Wt(tn,_n){return{\u0275kind:tn,\u0275providers:_n}}(ft.LegacyInterceptors,[{provide:fr,useFactory:Ee},{provide:Q,useExisting:fr,multi:!0}])}let un=(()=>{class tn{static#e=this.\u0275fac=function(jn){return new(jn||tn)};static#t=this.\u0275mod=_.$C({type:tn});static#n=this.\u0275inj=_.G2t({providers:[qt(gt())]})}return tn})()},93953:(je,z,E)=>{"use strict";function f(o,d){return Object.is(o,d)}E.d(z,{bc$:()=>R5,iLQ:()=>dE,sZ2:()=>m_,hnV:()=>gM,wjH:()=>Tl,o8S:()=>ff,BIS:()=>DT,gRc:()=>XR,Ql9:()=>KR,OM3:()=>hb,Ocv:()=>MM,Z63:()=>Me,aKT:()=>Dy,uvJ:()=>au,zcH:()=>zu,bkB:()=>Pf,y_5:()=>_a,$GK:()=>to,nKC:()=>zi,zZn:()=>nl,_q3:()=>DM,MKu:()=>h3,xe9:()=>Sm,Co$:()=>CI,Vns:()=>Ha,SKi:()=>Ea,Xx1:()=>Fa,Agw:()=>A2,PLl:()=>TT,rOR:()=>s_,sFG:()=>uI,_9s:()=>pb,czy:()=>C_,WPN:()=>Qm,kdw:()=>gl,C4Q:()=>rb,NYb:()=>HC,giA:()=>WC,RxE:()=>DR,c1b:()=>jx,gXe:()=>pt,mal:()=>X_,Tzd:()=>fI,L39:()=>jB,EWP:()=>HB,sbv:()=>EI,a0P:()=>Kg,Ol2:()=>Ws,w6W:()=>Tb,QZP:()=>P3,Rfq:()=>ad,WQX:()=>Cr,hFB:()=>g2,naY:()=>AM,Hps:()=>ef,QuC:()=>ja,EmA:()=>Uw,geq:()=>zl,Udg:()=>IO,Jn2:()=>wM,HJs:()=>CO,N4e:()=>zE,vPA:()=>zx,O8t:()=>O3,ebz:()=>io,An2:()=>qp,H3F:()=>IR,zAP:()=>M3,H8p:()=>si,KH2:()=>Zd,TgB:()=>Wm,wOt:()=>Br,WHO:()=>jR,e01:()=>mM,lNU:()=>go,h9k:()=>Sl,$MX:()=>E_,ZF7:()=>vh,Kcf:()=>H5,e5t:()=>F2,UyX:()=>G5,cWb:()=>W5,osQ:()=>X5,H5H:()=>wp,Zy3:()=>Ii,mq5:()=>C0,JZv:()=>Zr,TL3:()=>IB,LfX:()=>iu,plB:()=>Zu,jNT:()=>yM,zjR:()=>lE,ngT:()=>Vl,TL$:()=>I5,Tbb:()=>So,rcV:()=>Jh,nM4:()=>DI,Vt3:()=>Zx,GFd:()=>Ab,OA$:()=>XE,Jv_:()=>L0,aNF:()=>Z1,R7$:()=>xD,BMQ:()=>lc,HbH:()=>pp,ZvI:()=>Hb,AVh:()=>Vf,vxM:()=>T0,wni:()=>K1,C6U:()=>wC,SS7:()=>Dd,VBU:()=>cn,FsC:()=>Fi,jDH:()=>Fo,G2t:()=>sc,$C:()=>Gn,EJ8:()=>lo,rXU:()=>jy,nrm:()=>R1,eu8:()=>Ec,bVm:()=>D0,qex:()=>pg,k0s:()=>Gb,j41:()=>Wb,RV6:()=>vp,xGo:()=>sT,Mr5:()=>bp,pXf:()=>uC,KVO:()=>Ki,kS0:()=>Ty,QTQ:()=>SD,bIt:()=>L1,lsd:()=>dR,joV:()=>zA,qSk:()=>VA,XpG:()=>mC,nI1:()=>er,bMT:()=>Q1,SdG:()=>jS,NAR:()=>U1,Y8G:()=>am,FS9:()=>F1,lJ4:()=>nM,eq3:()=>Y1,l_i:()=>J1,NyB:()=>ga,mGM:()=>N0,sdS:()=>_C,Dyx:()=>ES,Z7z:()=>_S,fX1:()=>wS,Vm6:()=>bS,Njj:()=>OA,eBV:()=>RA,npT:()=>q5,f$h:()=>W2,B4B:()=>fs,n$t:()=>QT,xc7:()=>Vb,Kam:()=>LS,zvX:()=>lm,DNE:()=>c1,C5r:()=>cw,EFF:()=>Tg,JRh:()=>tw,SpI:()=>nw,Lme:()=>hm,DH7:()=>xc,mxI:()=>X1,R50:()=>pm,GBs:()=>As,wEZ:()=>VS});let _=null,k=!1,H=1;const x=Symbol("SIGNAL");function P(o){const d=_;return _=o,d}const L={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function D(o){if(k)throw new Error("");if(null===_)return;_.consumerOnSignalRead(o);const d=_.nextProducerIndex++;we(_),d<_.producerNode.length&&_.producerNode[d]!==o&&le(_)&&de(_.producerNode[d],_.producerIndexOfThis[d]),_.producerNode[d]!==o&&(_.producerNode[d]=o,_.producerIndexOfThis[d]=le(_)?se(o,_,d):0),_.producerLastReadVersion[d]=o.version}function j(o){if((!le(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==H)){if(!o.producerMustRecompute(o)&&!ie(o))return o.dirty=!1,void(o.lastCleanEpoch=H);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=H}}function G(o){if(void 0===o.liveConsumerNode)return;const d=k;k=!0;try{for(const b of o.liveConsumerNode)b.dirty||te(b)}finally{k=d}}function re(){return!1!==_?.consumerAllowSignalWrites}function te(o){o.dirty=!0,G(o),o.consumerMarkedDirty?.(o)}function J(o){return o&&(o.nextProducerIndex=0),P(o)}function Z(o,d){if(P(d),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(le(o))for(let b=o.nextProducerIndex;b<o.producerNode.length;b++)de(o.producerNode[b],o.producerIndexOfThis[b]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function ie(o){we(o);for(let d=0;d<o.producerNode.length;d++){const b=o.producerNode[d],R=o.producerLastReadVersion[d];if(R!==b.version||(j(b),R!==b.version))return!0}return!1}function ae(o){if(we(o),le(o))for(let d=0;d<o.producerNode.length;d++)de(o.producerNode[d],o.producerIndexOfThis[d]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function se(o,d,b){if(xe(o),0===o.liveConsumerNode.length&&Ce(o))for(let R=0;R<o.producerNode.length;R++)o.producerIndexOfThis[R]=se(o.producerNode[R],o,R);return o.liveConsumerIndexOfThis.push(b),o.liveConsumerNode.push(d)-1}function de(o,d){if(xe(o),1===o.liveConsumerNode.length&&Ce(o))for(let R=0;R<o.producerNode.length;R++)de(o.producerNode[R],o.producerIndexOfThis[R]);const b=o.liveConsumerNode.length-1;if(o.liveConsumerNode[d]=o.liveConsumerNode[b],o.liveConsumerIndexOfThis[d]=o.liveConsumerIndexOfThis[b],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,d<o.liveConsumerNode.length){const R=o.liveConsumerIndexOfThis[d],Y=o.liveConsumerNode[d];we(Y),Y.producerIndexOfThis[R]=d}}function le(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function we(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function xe(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function Ce(o){return void 0!==o.producerNode}function C(o){const d=Object.create(g);d.computation=o;const b=()=>{if(j(d),D(d),d.value===y)throw d.error;return d.value};return b[x]=d,b}const a=Symbol("UNSET"),u=Symbol("COMPUTING"),y=Symbol("ERRORED"),g={...L,value:a,dirty:!0,error:null,equal:f,producerMustRecompute:o=>o.value===a||o.value===u,producerRecomputeValue(o){if(o.value===u)throw new Error("Detected cycle in computations.");const d=o.value;o.value=u;const b=J(o);let R;try{R=o.computation()}catch(Y){R=y,o.error=Y}finally{Z(o,b)}d!==a&&d!==y&&R!==y&&o.equal(d,R)?o.value=d:(o.value=R,o.version++)}};let T=function S(){throw new Error};function N(){T()}let s=null;function ee(o,d){re()||N(),o.equal(o.value,d)||(o.value=d,function Ve(o){o.version++,function X(){H++}(),G(o),s?.()}(o))}const Oe={...L,equal:f,value:void 0};const be=()=>{},Ue={...L,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:be};var De=E(84412),pe=E(21413),ue=E(18359),Q=E(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const go="https://g.co/ng/security#xss";class Br extends Error{constructor(d,b){super(Ii(d,b)),this.code=d}}function Ii(o,d){return`NG0${Math.abs(o)}${d?": "+d:""}`}const Ls=Symbol("InputSignalNode#UNSET"),Po={...Oe,transformFn:void 0,applyValueToInputSignal(o,d){ee(o,d)}};function hl(o,d){const b=Object.create(Po);function R(){if(D(b),b.value===Ls)throw new Br(-950,!1);return b.value}return b.value=o,b.transformFn=d?.transform,R[x]=b,R}function qi(o){return{toString:o}.toString()}const Yn="__parameters__";function pr(o,d,b){return qi(()=>{const R=function gn(o){return function(...b){if(o){const R=o(...b);for(const Y in R)this[Y]=R[Y]}}}(d);function Y(...he){if(this instanceof Y)return R.apply(this,he),this;const Ie=new Y(...he);return ze.annotation=Ie,ze;function ze(ot,Dt,Ft){const fn=ot.hasOwnProperty(Yn)?ot[Yn]:Object.defineProperty(ot,Yn,{value:[]})[Yn];for(;fn.length<=Ft;)fn.push(null);return(fn[Ft]=fn[Ft]||[]).push(Ie),ot}}return b&&(Y.prototype=Object.create(b.prototype)),Y.prototype.ngMetadataName=o,Y.annotationCls=Y,Y})}const Zr=globalThis;function qr(o){for(let d in o)if(o[d]===qr)return d;throw Error("Could not find renamed property on target object.")}function Na(o,d){for(const b in d)d.hasOwnProperty(b)&&!o.hasOwnProperty(b)&&(o[b]=d[b])}function So(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(So).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const d=o.toString();if(null==d)return""+d;const b=d.indexOf("\n");return-1===b?d:d.substring(0,b)}function Bd(o,d){return null==o||""===o?null===d?"":d:null==d||""===d?o:o+" "+d}const Nd=qr({__forward_ref__:qr});function ad(o){return o.__forward_ref__=ad,o.toString=function(){return So(this())},o}function Mi(o){return Pl(o)?o():o}function Pl(o){return"function"==typeof o&&o.hasOwnProperty(Nd)&&o.__forward_ref__===ad}function Ya(o,d,b){o!=d&&function di(o,d,b,R){throw new Error(`ASSERTION ERROR: ${o}`+(null==R?"":` [Expected=> ${b} ${R} ${d} <=Actual]`))}(b,o,d,"==")}function Fo(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function sc(o){return{providers:o.providers||[],imports:o.imports||[]}}function dd(o){return pl(o,Nl)||pl(o,ud)}function iu(o){return null!==dd(o)}function pl(o,d){return o.hasOwnProperty(d)?o[d]:null}function ou(o){return o&&(o.hasOwnProperty(Tu)||o.hasOwnProperty(Du))?o[Tu]:null}const Nl=qr({\u0275prov:qr}),Tu=qr({\u0275inj:qr}),ud=qr({ngInjectableDef:qr}),Du=qr({ngInjectorDef:qr});class zi{constructor(d,b){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof b?this.__NG_ELEMENT_ID__=b:void 0!==b&&(this.\u0275prov=Fo({token:this,providedIn:b.providedIn||"root",factory:b.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ef(o){return o&&!!o.\u0275providers}const Qs=qr({\u0275cmp:qr}),Iu=qr({\u0275dir:qr}),Cu=qr({\u0275pipe:qr}),xf=qr({\u0275mod:qr}),gs=qr({\u0275fac:qr}),ku=qr({__NG_ELEMENT_ID__:qr}),Ru=qr({__NG_ENV_ID__:qr});function Ji(o){return"string"==typeof o?o:null==o?"":String(o)}function Ou(o,d){throw new Br(-201,!1)}var to=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(to||{});let ml;function Cc(){return ml}function Lo(o){const d=ml;return ml=o,d}function Ud(o,d,b){const R=dd(o);return R&&"root"==R.providedIn?void 0===R.value?R.value=R.factory():R.value:b&to.Optional?null:void 0!==d?d:void Ou()}const ah={},ch="__NG_DI_FLAG__",st="ngTempTokenPath",Tt=/\n/gm,Mn="__source";let nr;function Jr(o){const d=nr;return nr=o,d}function Es(o,d=to.Default){if(void 0===nr)throw new Br(-203,!1);return null===nr?Ud(o,void 0,d):nr.get(o,d&to.Optional?null:void 0,d)}function Ki(o,d=to.Default){return(Cc()||Es)(Mi(o),d)}function Cr(o,d=to.Default){return Ki(o,Jo(d))}function Jo(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ko(o){const d=[];for(let b=0;b<o.length;b++){const R=Mi(o[b]);if(Array.isArray(R)){if(0===R.length)throw new Br(900,!1);let Y,he=to.Default;for(let Ie=0;Ie<R.length;Ie++){const ze=R[Ie],ot=yl(ze);"number"==typeof ot?-1===ot?Y=ze.token:he|=ot:Y=ze}d.push(Ki(Y,he))}else d.push(Ki(R))}return d}function xs(o,d){return o[ch]=d,o.prototype[ch]=d,o}function yl(o){return o[ch]}const _a=xs(pr("Inject",o=>({token:o})),-1),Fa=xs(pr("Optional"),8),gl=xs(pr("SkipSelf"),4);function Pu(o,d){return o.hasOwnProperty(gs)?o[gs]:null}function Fd(o,d){o.forEach(b=>Array.isArray(b)?Fd(b,d):d(b))}function Af(o,d,b){d>=o.length?o.push(b):o.splice(d,0,b)}function mt(o,d){return d>=o.length-1?o.pop():o.splice(d,1)[0]}function yn(o,d,b){let R=or(o,d);return R>=0?o[1|R]=b:(R=~R,function $t(o,d,b,R){let Y=o.length;if(Y==d)o.push(b,R);else if(1===Y)o.push(R,o[0]),o[0]=b;else{for(Y--,o.push(o[Y-1],o[Y]);Y>d;)o[Y]=o[Y-2],Y--;o[d]=b,o[d+1]=R}}(o,R,d,b)),R}function zn(o,d){const b=or(o,d);if(b>=0)return o[1|b]}function or(o,d){return function $n(o,d,b){let R=0,Y=o.length>>b;for(;Y!==R;){const he=R+(Y-R>>1),Ie=o[he<<b];if(d===Ie)return he<<b;Ie>d?Y=he:R=he+1}return~(Y<<b)}(o,d,1)}const rr={},Xe=[],Me=new zi(""),me=new zi("",-1),ve=new zi("");class Ze{get(d,b=ah){if(b===ah){const R=new Error(`NullInjectorError: No provider for ${So(d)}!`);throw R.name="NullInjectorError",R}return b}}var qe=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(qe||{}),pt=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(pt||{}),Vt=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(Vt||{});function bn(o,d,b){let R=o.length;for(;;){const Y=o.indexOf(d,b);if(-1===Y)return Y;if(0===Y||o.charCodeAt(Y-1)<=32){const he=d.length;if(Y+he===R||o.charCodeAt(Y+he)<=32)return Y}b=Y+1}}function Xt(o,d,b){let R=0;for(;R<b.length;){const Y=b[R];if("number"==typeof Y){if(0!==Y)break;R++;const he=b[R++],Ie=b[R++],ze=b[R++];o.setAttribute(d,Ie,ze,he)}else{const he=Y,Ie=b[++R];sn(he)?o.setProperty(d,he,Ie):o.setAttribute(d,he,Ie),R++}}return R}function bt(o){return 3===o||4===o||6===o}function sn(o){return 64===o.charCodeAt(0)}function Lr(o,d){if(null!==d&&0!==d.length)if(null===o||0===o.length)o=d.slice();else{let b=-1;for(let R=0;R<d.length;R++){const Y=d[R];"number"==typeof Y?b=Y:0===b||mi(o,b,Y,null,-1===b||2===b?d[++R]:null)}}return o}function mi(o,d,b,R,Y){let he=0,Ie=o.length;if(-1===d)Ie=-1;else for(;he<o.length;){const ze=o[he++];if("number"==typeof ze){if(ze===d){Ie=-1;break}if(ze>d){Ie=he-1;break}}}for(;he<o.length;){const ze=o[he];if("number"==typeof ze)break;if(ze===b){if(null===R)return void(null!==Y&&(o[he+1]=Y));if(R===o[he+1])return void(o[he+2]=Y)}he++,null!==R&&he++,null!==Y&&he++}-1!==Ie&&(o.splice(Ie,0,d),he=Ie+1),o.splice(he++,0,b),null!==R&&o.splice(he++,0,R),null!==Y&&o.splice(he++,0,Y)}const ai="ng-template";function hi(o,d,b,R){let Y=0;if(R){for(;Y<d.length&&"string"==typeof d[Y];Y+=2)if("class"===d[Y]&&-1!==bn(d[Y+1].toLowerCase(),b,0))return!0}else if(Oi(o))return!1;if(Y=d.indexOf(1,Y),Y>-1){let he;for(;++Y<d.length&&"string"==typeof(he=d[Y]);)if(he.toLowerCase()===b)return!0}return!1}function Oi(o){return 4===o.type&&o.value!==ai}function zo(o,d,b){return d===(4!==o.type||b?o.value:ai)}function yi(o,d,b){let R=4;const Y=o.attrs,he=null!==Y?function Mo(o){for(let d=0;d<o.length;d++)if(bt(o[d]))return d;return o.length}(Y):0;let Ie=!1;for(let ze=0;ze<d.length;ze++){const ot=d[ze];if("number"!=typeof ot){if(!Ie)if(4&R){if(R=2|1&R,""!==ot&&!zo(o,ot,b)||""===ot&&1===d.length){if(kr(R))return!1;Ie=!0}}else if(8&R){if(null===Y||!hi(o,Y,ot,b)){if(kr(R))return!1;Ie=!0}}else{const Dt=d[++ze],Ft=ki(ot,Y,Oi(o),b);if(-1===Ft){if(kr(R))return!1;Ie=!0;continue}if(""!==Dt){let fn;if(fn=Ft>he?"":Y[Ft+1].toLowerCase(),2&R&&Dt!==fn){if(kr(R))return!1;Ie=!0}}}}else{if(!Ie&&!kr(R)&&!kr(ot))return!1;if(Ie&&kr(ot))continue;Ie=!1,R=ot|1&R}}return kr(R)||Ie}function kr(o){return!(1&o)}function ki(o,d,b,R){if(null===d)return-1;let Y=0;if(R||!b){let he=!1;for(;Y<d.length;){const Ie=d[Y];if(Ie===o)return Y;if(3===Ie||6===Ie)he=!0;else{if(1===Ie||2===Ie){let ze=d[++Y];for(;"string"==typeof ze;)ze=d[++Y];continue}if(4===Ie)break;if(0===Ie){Y+=4;continue}}Y+=he?1:2}return-1}return function ac(o,d){let b=o.indexOf(4);if(b>-1)for(b++;b<o.length;){const R=o[b];if("number"==typeof R)return-1;if(R===d)return b;b++}return-1}(d,o)}function co(o,d,b=!1){for(let R=0;R<d.length;R++)if(yi(o,d[R],b))return!0;return!1}function Ge(o,d){e:for(let b=0;b<d.length;b++){const R=d[b];if(o.length===R.length){for(let Y=0;Y<o.length;Y++)if(o[Y]!==R[Y])continue e;return!0}}return!1}function ut(o,d){return o?":not("+d.trim()+")":d}function Qe(o){let d=o[0],b=1,R=2,Y="",he=!1;for(;b<o.length;){let Ie=o[b];if("string"==typeof Ie)if(2&R){const ze=o[++b];Y+="["+Ie+(ze.length>0?'="'+ze+'"':"")+"]"}else 8&R?Y+="."+Ie:4&R&&(Y+=" "+Ie);else""!==Y&&!kr(Ie)&&(d+=ut(he,Y),Y=""),R=Ie,he=he||!kr(R);b++}return""!==Y&&(d+=ut(he,Y)),d}function cn(o){return qi(()=>{const d=zs(o),b={...d,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===qe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||pt.Emulated,styles:o.styles||Xe,_:null,schemas:o.schemas||null,tView:null,id:""};Lw(b);const R=o.dependencies;return b.directiveDefs=Lp(R,!1),b.pipeDefs=Lp(R,!0),b.id=function Up(o){let d=0;const b=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const Y of b)d=Math.imul(31,d)+Y.charCodeAt(0)|0;return d+=2147483648,"c"+d}(b),b})}function Dn(o){return gi(o)||Us(o)}function sr(o){return null!==o}function Gn(o){return qi(()=>({type:o.type,bootstrap:o.bootstrap||Xe,declarations:o.declarations||Xe,imports:o.imports||Xe,exports:o.exports||Xe,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Wr(o,d){if(null==o)return rr;const b={};for(const R in o)if(o.hasOwnProperty(R)){const Y=o[R];let he,Ie,ze=Vt.None;Array.isArray(Y)?(ze=Y[0],he=Y[1],Ie=Y[2]??he):(he=Y,Ie=Y),d?(b[he]=ze!==Vt.None?[R,ze]:R,d[he]=Ie):b[he]=R}return b}function Fi(o){return qi(()=>{const d=zs(o);return Lw(d),d})}function lo(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function gi(o){return o[Qs]||null}function Us(o){return o[Iu]||null}function ws(o){return o[Cu]||null}function ja(o){const d=gi(o)||Us(o)||ws(o);return null!==d&&d.standalone}function Pi(o,d){const b=o[xf]||null;if(!b&&!0===d)throw new Error(`Type ${So(o)} does not have '\u0275mod' property.`);return b}function zs(o){const d={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:o.inputs||rr,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Xe,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wr(o.inputs,d),outputs:Wr(o.outputs),debugInfo:null}}function Lw(o){o.features?.forEach(d=>d(o))}function Lp(o,d){if(!o)return null;const b=d?ws:Dn;return()=>("function"==typeof o?o():o).map(R=>b(R)).filter(sr)}function Uw(o){return{\u0275providers:o}}function WP(...o){return{\u0275providers:NE(0,o),\u0275fromNgModule:!0}}function NE(o,...d){const b=[],R=new Set;let Y;const he=Ie=>{b.push(Ie)};return Fd(d,Ie=>{const ze=Ie;Fw(ze,he,[],R)&&(Y||=[],Y.push(ze))}),void 0!==Y&&Bm(Y,he),b}function Bm(o,d){for(let b=0;b<o.length;b++){const{ngModule:R,providers:Y}=o[b];yA(Y,he=>{d(he,R)})}}function Fw(o,d,b,R){if(!(o=Mi(o)))return!1;let Y=null,he=ou(o);const Ie=!he&&gi(o);if(he||Ie){if(Ie&&!Ie.standalone)return!1;Y=o}else{const ot=o.ngModule;if(he=ou(ot),!he)return!1;Y=ot}const ze=R.has(Y);if(Ie){if(ze)return!1;if(R.add(Y),Ie.dependencies){const ot="function"==typeof Ie.dependencies?Ie.dependencies():Ie.dependencies;for(const Dt of ot)Fw(Dt,d,b,R)}}else{if(!he)return!1;{if(null!=he.imports&&!ze){let Dt;R.add(Y);try{Fd(he.imports,Ft=>{Fw(Ft,d,b,R)&&(Dt||=[],Dt.push(Ft))})}finally{}void 0!==Dt&&Bm(Dt,d)}if(!ze){const Dt=Pu(Y)||(()=>new Y);d({provide:Y,useFactory:Dt,deps:Xe},Y),d({provide:ve,useValue:Y,multi:!0},Y),d({provide:Me,useValue:()=>Ki(Y),multi:!0},Y)}const ot=he.providers;if(null!=ot&&!ze){const Dt=o;yA(ot,Ft=>{d(Ft,Dt)})}}}return Y!==o&&void 0!==o.providers}function yA(o,d){for(let b of o)Ef(b)&&(b=b.\u0275providers),Array.isArray(b)?yA(b,d):d(b)}const fy=qr({provide:String,useValue:qr});function Bu(o){return null!==o&&"object"==typeof o&&fy in o}function qo(o){return"function"==typeof o}const si=new zi(""),hd={},el={};let UE;function jw(){return void 0===UE&&(UE=new Ze),UE}class au{}class $a extends au{get destroyed(){return this._destroyed}constructor(d,b,R,Y){super(),this.parent=b,this.source=R,this.scopes=Y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,VE(d,Ie=>this.processProvider(Ie)),this.records.set(me,av(void 0,this)),Y.has("environment")&&this.records.set(au,av(void 0,this));const he=this.records.get(si);null!=he&&"string"==typeof he.value&&this.scopes.add(he.value),this.injectorDefTypes=new Set(this.get(ve,Xe,to.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const d=P(null);try{for(const R of this._ngOnDestroyHooks)R.ngOnDestroy();const b=this._onDestroyHooks;this._onDestroyHooks=[];for(const R of b)R()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(d)}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const b=Jr(this),R=Lo(void 0);try{return d()}finally{Jr(b),Lo(R)}}get(d,b=ah,R=to.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(Ru))return d[Ru](this);R=Jo(R);const he=Jr(this),Ie=Lo(void 0);try{if(!(R&to.SkipSelf)){let ot=this.records.get(d);if(void 0===ot){const Dt=function Hs(o){return"function"==typeof o||"object"==typeof o&&o instanceof zi}(d)&&dd(d);ot=Dt&&this.injectableDefInScope(Dt)?av(FE(d),hd):null,this.records.set(d,ot)}if(null!=ot)return this.hydrate(d,ot)}return(R&to.Self?jw():this.parent).get(d,b=R&to.Optional&&b===ah?null:b)}catch(ze){if("NullInjectorError"===ze.name){if((ze[st]=ze[st]||[]).unshift(So(d)),he)throw ze;return function Ss(o,d,b,R){const Y=o[st];throw d[Mn]&&Y.unshift(d[Mn]),o.message=function fd(o,d,b,R=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let Y=So(d);if(Array.isArray(d))Y=d.map(So).join(" -> ");else if("object"==typeof d){let he=[];for(let Ie in d)if(d.hasOwnProperty(Ie)){let ze=d[Ie];he.push(Ie+":"+("string"==typeof ze?JSON.stringify(ze):So(ze)))}Y=`{${he.join(", ")}}`}return`${b}${R?"("+R+")":""}[${Y}]: ${o.replace(Tt,"\n  ")}`}("\n"+o.message,Y,b,R),o.ngTokenPath=Y,o[st]=null,o}(ze,d,"R3InjectorError",this.source)}throw ze}finally{Lo(Ie),Jr(he)}}resolveInjectorInitializers(){const d=P(null),b=Jr(this),R=Lo(void 0);try{const he=this.get(Me,Xe,to.Self);for(const Ie of he)Ie()}finally{Jr(b),Lo(R),P(d)}}toString(){const d=[],b=this.records;for(const R of b.keys())d.push(So(R));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Br(205,!1)}processProvider(d){let b=qo(d=Mi(d))?d:Mi(d&&d.provide);const R=function $E(o){return Bu(o)?av(void 0,o.useValue):av(KE(o),hd)}(d);if(!qo(d)&&!0===d.multi){let Y=this.records.get(b);Y||(Y=av(void 0,hd,!0),Y.factory=()=>ko(Y.multi),this.records.set(b,Y)),b=d,Y.multi.push(d)}this.records.set(b,R)}hydrate(d,b){const R=P(null);try{return b.value===hd&&(b.value=el,b.value=b.factory()),"object"==typeof b.value&&b.value&&function li(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(b.value)&&this._ngOnDestroyHooks.add(b.value),b.value}finally{P(R)}}injectableDefInScope(d){if(!d.providedIn)return!1;const b=Mi(d.providedIn);return"string"==typeof b?"any"===b||this.scopes.has(b):this.injectorDefTypes.has(b)}removeOnDestroy(d){const b=this._onDestroyHooks.indexOf(d);-1!==b&&this._onDestroyHooks.splice(b,1)}}function FE(o){const d=dd(o),b=null!==d?d.factory:Pu(o);if(null!==b)return b;if(o instanceof zi)throw new Br(204,!1);if(o instanceof Function)return function jE(o){if(o.length>0)throw new Br(204,!1);const b=function pc(o){return o&&(o[Nl]||o[ud])||null}(o);return null!==b?()=>b.factory(o):()=>new o}(o);throw new Br(204,!1)}function KE(o,d,b){let R;if(qo(o)){const Y=Mi(o);return Pu(Y)||FE(Y)}if(Bu(o))R=()=>Mi(o.useValue);else if(function LE(o){return!(!o||!o.useFactory)}(o))R=()=>o.useFactory(...ko(o.deps||[]));else if(function I6(o){return!(!o||!o.useExisting)}(o))R=()=>Ki(Mi(o.useExisting));else{const Y=Mi(o&&(o.useClass||o.provide));if(!function GP(o){return!!o.deps}(o))return Pu(Y)||FE(Y);R=()=>new Y(...ko(o.deps))}return R}function av(o,d,b=!1){return{factory:o,value:d,multi:b?[]:void 0}}function VE(o,d){for(const b of o)Array.isArray(b)?VE(b,d):b&&Ef(b)?VE(b.\u0275providers,d):d(b)}function zE(o,d){o instanceof $a&&o.assertNotDestroyed();const R=Jr(o),Y=Lo(void 0);try{return d()}finally{Jr(R),Lo(Y)}}function bl(){return void 0!==Cc()||null!=function br(){return nr}()}function $w(o){if(!bl())throw new Br(-203,!1)}const po=0,Vr=1,Ni=2,Ro=3,Df=4,tl=5,Ms=6,hy=7,ea=8,ss=9,lh=10,_i=11,dv=12,If=13,py=14,Ka=15,Fp=16,uv=17,jp=18,fv=19,B6=20,Lm=21,WE=22,Cf=23,Ci=25,bA=1,Fl=7,my=9,gc=10;var dh=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(dh||{});function Ts(o){return Array.isArray(o)&&"object"==typeof o[bA]}function jl(o){return Array.isArray(o)&&!0===o[bA]}function wA(o){return!!(4&o.flags)}function cu(o){return o.componentOffset>-1}function Vw(o){return!(1&~o.flags)}function uh(o){return!!o.template}function Gh(o){return!!(512&o[Ni])}class $6{constructor(d,b,R){this.previousValue=d,this.currentValue=b,this.firstChange=R}isFirstChange(){return this.firstChange}}function SA(o,d,b,R){null!==d?d.applyValueToInputSignal(d,R):o[b]=R}function XE(){return K6}function K6(o){return o.type.prototype.ngOnChanges&&(o.setInput=V6),kf}function kf(){const o=$l(this),d=o?.current;if(d){const b=o.previous;if(b===rr)o.previous=d;else for(let R in d)b[R]=d[R];o.current=null,this.ngOnChanges(d)}}function V6(o,d,b,R,Y){const he=this.declaredInputs[R],Ie=$l(o)||function H6(o,d){return o[z6]=d}(o,{previous:rr,current:null}),ze=Ie.current||(Ie.current={}),ot=Ie.previous,Dt=ot[he];ze[he]=new $6(Dt&&Dt.currentValue,b,ot===rr),SA(o,d,Y,b)}XE.ngInherit=!0;const z6="__ngSimpleChanges__";function $l(o){return o[z6]||null}const Nu=function(o,d,b){},Lu="svg";function vs(o){for(;Array.isArray(o);)o=o[po];return o}function pv(o,d){return vs(d[o])}function yd(o,d){return vs(d[o.index])}function Ai(o,d){return o.data[d]}function Uu(o,d){return o[d]}function lu(o,d){const b=d[o];return Ts(b)?b:b[po]}function gy(o){return!(128&~o[Ni])}function Fu(o,d){return null==d?null:o[d]}function TA(o){o[uv]=0}function fh(o){1024&o[Ni]||(o[Ni]|=1024,gy(o)&&JE(o))}function mv(o){return!!(9216&o[Ni]||o[Cf]?.dirty)}function YE(o){o[lh].changeDetectionScheduler?.notify(7),64&o[Ni]&&(o[Ni]|=1024),mv(o)&&JE(o)}function JE(o){o[lh].changeDetectionScheduler?.notify(0);let d=Xh(o);for(;null!==d&&!(8192&d[Ni])&&(d[Ni]|=8192,gy(d));)d=Xh(d)}function qE(o,d){if(!(256&~o[Ni]))throw new Br(911,!1);null===o[Lm]&&(o[Lm]=[]),o[Lm].push(d)}function Xh(o){const d=o[Ro];return jl(d)?d[Ro]:d}const uo={lFrame:jA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let IA=!1;function vy(){return uo.bindingsEnabled}function ju(){return null!==uo.skipHydrationRootTNode}function vr(){return uo.lFrame.lView}function Uo(){return uo.lFrame.tView}function RA(o){return uo.lFrame.contextLView=o,o[ea]}function OA(o){return uo.lFrame.contextLView=null,o}function as(){let o=du();for(;null!==o&&64===o.type;)o=o.parent;return o}function du(){return uo.lFrame.currentTNode}function gv(){const o=uo.lFrame,d=o.currentTNode;return o.isParent?d:d.parent}function Rf(o,d){const b=uo.lFrame;b.currentTNode=o,b.isParent=d}function QE(){return uo.lFrame.isParent}function vv(){uo.lFrame.isParent=!1}function BA(){return IA}function NA(o){IA=o}function gd(){const o=uo.lFrame;let d=o.bindingRootIndex;return-1===d&&(d=o.bindingRootIndex=o.tView.bindingStartIndex),d}function jd(){return uo.lFrame.bindingIndex++}function $u(o){const d=uo.lFrame,b=d.bindingIndex;return d.bindingIndex=d.bindingIndex+o,b}function wy(o){uo.lFrame.inI18n=o}function X6(o,d){const b=uo.lFrame;b.bindingIndex=b.bindingRootIndex=o,t2(d)}function t2(o){uo.lFrame.currentDirectiveIndex=o}function n2(o){const d=uo.lFrame.currentDirectiveIndex;return-1===d?null:o[d]}function r2(){return uo.lFrame.currentQueryIndex}function Gw(o){uo.lFrame.currentQueryIndex=o}function _y(o){const d=o[Vr];return 2===d.type?d.declTNode:1===d.type?o[tl]:null}function UA(o,d,b){if(b&to.SkipSelf){let Y=d,he=o;for(;!(Y=Y.parent,null!==Y||b&to.Host||(Y=_y(he),null===Y||(he=he[py],10&Y.type))););if(null===Y)return!1;d=Y,o=he}const R=uo.lFrame=FA();return R.currentTNode=d,R.lView=o,!0}function o2(o){const d=FA(),b=o[Vr];uo.lFrame=d,d.currentTNode=b.firstChild,d.lView=o,d.tView=b,d.contextLView=o,d.bindingIndex=b.bindingStartIndex,d.inI18n=!1}function FA(){const o=uo.lFrame,d=null===o?null:o.child;return null===d?jA(o):d}function jA(o){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=d),d}function $A(){const o=uo.lFrame;return uo.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const KA=$A;function bv(){const o=$A();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function xl(){return uo.lFrame.selectedIndex}function Vm(o){uo.lFrame.selectedIndex=o}function ha(){const o=uo.lFrame;return Ai(o.tView,o.selectedIndex)}function VA(){uo.lFrame.currentNamespace=Lu}function zA(){!function s2(){uo.lFrame.currentNamespace=null}()}let WA=!0;function wv(){return WA}function hh(o){WA=o}function xy(o,d){for(let b=d.directiveStart,R=d.directiveEnd;b<R;b++){const he=o.data[b].type.prototype,{ngAfterContentInit:Ie,ngAfterContentChecked:ze,ngAfterViewInit:ot,ngAfterViewChecked:Dt,ngOnDestroy:Ft}=he;Ie&&(o.contentHooks??=[]).push(-b,Ie),ze&&((o.contentHooks??=[]).push(b,ze),(o.contentCheckHooks??=[]).push(b,ze)),ot&&(o.viewHooks??=[]).push(-b,ot),Dt&&((o.viewHooks??=[]).push(b,Dt),(o.viewCheckHooks??=[]).push(b,Dt)),null!=Ft&&(o.destroyHooks??=[]).push(b,Ft)}}function Xw(o,d,b){GA(o,d,3,b)}function Zw(o,d,b,R){(3&o[Ni])===b&&GA(o,d,b,R)}function a2(o,d){let b=o[Ni];(3&b)===d&&(b&=16383,b+=1,o[Ni]=b)}function GA(o,d,b,R){const he=R??-1,Ie=d.length-1;let ze=0;for(let ot=void 0!==R?65535&o[uv]:0;ot<Ie;ot++)if("number"==typeof d[ot+1]){if(ze=d[ot],null!=R&&ze>=R)break}else d[ot]<0&&(o[uv]+=65536),(ze<he||-1==he)&&(q6(o,b,d,ot),o[uv]=(4294901760&o[uv])+ot+2),ot++}function XA(o,d){Nu(4,o,d);const b=P(null);try{d.call(o)}finally{P(b),Nu(5,o,d)}}function q6(o,d,b,R){const Y=b[R]<0,he=b[R+1],ze=o[Y?-b[R]:b[R]];Y?o[Ni]>>14<o[uv]>>16&&(3&o[Ni])===d&&(o[Ni]+=16384,XA(ze,he)):XA(ze,he)}const $p=-1;class _v{constructor(d,b,R){this.factory=d,this.resolving=!1,this.canSeeViewProviders=b,this.injectImpl=R}}const Ev={};class Kp{constructor(d,b){this.injector=d,this.parentInjector=b}get(d,b,R){R=Jo(R);const Y=this.injector.get(d,Ev,R);return Y!==Ev||b===Ev?Y:this.parentInjector.get(d,b,R)}}function xv(o){return o!==$p}function Sv(o){return 32767&o}function ts(o,d){let b=function YA(o){return o>>16}(o),R=d;for(;b>0;)R=R[py],b--;return R}let ti=!0;function uu(o){const d=ti;return ti=o,d}const JA=255,qA=5;let QA=0;const Vu={};function Of(o,d){const b=Mv(o,d);if(-1!==b)return b;const R=d[Vr];R.firstCreatePass&&(o.injectorIndex=d.length,mh(R.data,o),mh(d,null),mh(R.blueprint,null));const Y=Qw(o,d),he=o.injectorIndex;if(xv(Y)){const Ie=Sv(Y),ze=ts(Y,d),ot=ze[Vr].data;for(let Dt=0;Dt<8;Dt++)d[he+Dt]=ze[Ie+Dt]|ot[Ie+Dt]}return d[he+8]=Y,he}function mh(o,d){o.push(0,0,0,0,0,0,0,0,d)}function Mv(o,d){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===d[o.injectorIndex+8]?-1:o.injectorIndex}function Qw(o,d){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let b=0,R=null,Y=d;for(;null!==Y;){if(R=cT(Y),null===R)return $p;if(b++,Y=Y[py],-1!==R.injectorIndex)return R.injectorIndex|b<<16}return $p}function l2(o,d,b){!function qw(o,d,b){let R;"string"==typeof b?R=b.charCodeAt(0)||0:b.hasOwnProperty(ku)&&(R=b[ku]),null==R&&(R=b[ku]=QA++);const Y=R&JA;d.data[o+(Y>>qA)]|=1<<Y}(o,d,b)}function tT(o,d,b){if(b&to.Optional||void 0!==o)return o;Ou()}function nT(o,d,b,R){if(b&to.Optional&&void 0===R&&(R=null),!(b&(to.Self|to.Host))){const Y=o[ss],he=Lo(void 0);try{return Y?Y.get(d,R,b&to.Optional):Ud(d,R,b&to.Optional)}finally{Lo(he)}}return tT(R,0,b)}function rT(o,d,b,R=to.Default,Y){if(null!==o){if(2048&d[Ni]&&!(R&to.Self)){const Ie=function o4(o,d,b,R,Y){let he=o,Ie=d;for(;null!==he&&null!==Ie&&2048&Ie[Ni]&&!(512&Ie[Ni]);){const ze=iT(he,Ie,b,R|to.Self,Vu);if(ze!==Vu)return ze;let ot=he.parent;if(!ot){const Dt=Ie[B6];if(Dt){const Ft=Dt.get(b,Vu,R);if(Ft!==Vu)return Ft}ot=cT(Ie),Ie=Ie[py]}he=ot}return Y}(o,d,b,R,Vu);if(Ie!==Vu)return Ie}const he=iT(o,d,b,R,Vu);if(he!==Vu)return he}return nT(d,b,R,Y)}function iT(o,d,b,R,Y){const he=function t5(o){if("string"==typeof o)return o.charCodeAt(0)||0;const d=o.hasOwnProperty(ku)?o[ku]:void 0;return"number"==typeof d?d>=0?d&JA:n5:d}(b);if("function"==typeof he){if(!UA(d,o,R))return R&to.Host?tT(Y,0,R):nT(d,b,R,Y);try{let Ie;if(Ie=he(R),null!=Ie||R&to.Optional)return Ie;Ou()}finally{KA()}}else if("number"==typeof he){let Ie=null,ze=Mv(o,d),ot=$p,Dt=R&to.Host?d[Ka][tl]:null;for((-1===ze||R&to.SkipSelf)&&(ot=-1===ze?Qw(o,d):d[ze+8],ot!==$p&&oT(R,!1)?(Ie=d[Vr],ze=Sv(ot),d=ts(ot,d)):ze=-1);-1!==ze;){const Ft=d[Vr];if(Sy(he,ze,Ft.data)){const fn=Av(ze,d,b,Ie,R,Dt);if(fn!==Vu)return fn}ot=d[ze+8],ot!==$p&&oT(R,d[Vr].data[ze+8]===Dt)&&Sy(he,ze,d)?(Ie=Ft,ze=Sv(ot),d=ts(ot,d)):ze=-1}}return Y}function Av(o,d,b,R,Y,he){const Ie=d[Vr],ze=Ie.data[o+8],Ft=zm(ze,Ie,b,null==R?cu(ze)&&ti:R!=Ie&&!!(3&ze.type),Y&to.Host&&he===ze);return null!==Ft?Hm(d,Ie,Ft,ze):Vu}function zm(o,d,b,R,Y){const he=o.providerIndexes,Ie=d.data,ze=1048575&he,ot=o.directiveStart,Ft=he>>20,Rn=Y?ze+Ft:o.directiveEnd;for(let Ln=R?ze:ze+Ft;Ln<Rn;Ln++){const Xn=Ie[Ln];if(Ln<ot&&b===Xn||Ln>=ot&&Xn.type===b)return Ln}if(Y){const Ln=Ie[ot];if(Ln&&uh(Ln)&&Ln.type===b)return ot}return null}function Hm(o,d,b,R){let Y=o[b];const he=d.data;if(function Q6(o){return o instanceof _v}(Y)){const Ie=Y;Ie.resolving&&function sh(o,d){throw d&&d.join(" > "),new Br(-200,o)}(function Hi(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ji(o)}(he[b]));const ze=uu(Ie.canSeeViewProviders);Ie.resolving=!0;const Dt=Ie.injectImpl?Lo(Ie.injectImpl):null;UA(o,R,to.Default);try{Y=o[b]=Ie.factory(void 0,he,o,R),d.firstCreatePass&&b>=R.directiveStart&&function J6(o,d,b){const{ngOnChanges:R,ngOnInit:Y,ngDoCheck:he}=d.type.prototype;if(R){const Ie=K6(d);(b.preOrderHooks??=[]).push(o,Ie),(b.preOrderCheckHooks??=[]).push(o,Ie)}Y&&(b.preOrderHooks??=[]).push(0-o,Y),he&&((b.preOrderHooks??=[]).push(o,he),(b.preOrderCheckHooks??=[]).push(o,he))}(b,he[b],d)}finally{null!==Dt&&Lo(Dt),uu(ze),Ie.resolving=!1,KA()}}return Y}function Sy(o,d,b){return!!(b[d+(o>>qA)]&1<<o)}function oT(o,d){return!(o&to.Self||o&to.Host&&d)}class Nc{constructor(d,b){this._tNode=d,this._lView=b}get(d,b,R){return rT(this._tNode,this._lView,d,Jo(R),b)}}function n5(){return new Nc(as(),vr())}function sT(o){return qi(()=>{const d=o.prototype.constructor,b=d[gs]||aT(d),R=Object.prototype;let Y=Object.getPrototypeOf(o.prototype).constructor;for(;Y&&Y!==R;){const he=Y[gs]||aT(Y);if(he&&he!==b)return he;Y=Object.getPrototypeOf(Y)}return he=>new he})}function aT(o){return Pl(o)?()=>{const d=aT(Mi(o));return d&&d()}:Pu(o)}function cT(o){const d=o[Vr],b=d.type;return 2===b?d.declTNode:1===b?o[tl]:null}function Ty(o){return function eT(o,d){if("class"===d)return o.classes;if("style"===d)return o.styles;const b=o.attrs;if(b){const R=b.length;let Y=0;for(;Y<R;){const he=b[Y];if(bt(he))break;if(0===he)Y+=2;else if("number"==typeof he)for(Y++;Y<R&&"string"==typeof b[Y];)Y++;else{if(he===d)return b[Y+1];Y+=2}}}return null}(as(),o)}function a5(o,d=null,b=null,R){const Y=c5(o,d,b,R);return Y.resolveInjectorInitializers(),Y}function c5(o,d=null,b=null,R,Y=new Set){const he=[b||Xe,WP(o)];return R=R||("object"==typeof o?void 0:So(o)),new $a(he,d||jw(),R||null,Y)}class nl{static#e=this.THROW_IF_NOT_FOUND=ah;static#t=this.NULL=new Ze;static create(d,b){if(Array.isArray(d))return a5({name:""},b,d,"");{const R=d.name??"";return a5({name:R},d.parent,d.providers,R)}}static#n=this.\u0275prov=Fo({token:nl,providedIn:"any",factory:()=>Ki(me)});static#f=this.__NG_ELEMENT_ID__=-1}new zi("").__NG_ELEMENT_ID__=o=>{const d=as();if(null===d)throw new Br(204,!1);if(2&d.type)return d.value;if(o&to.Optional)return null;throw new Br(204,!1)};function yh(o){return o.ngOriginalError}let t_=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=pT;static#t=this.__NG_ENV_ID__=b=>b}return o})();class d5 extends t_{constructor(d){super(),this._lView=d}onDestroy(d){return qE(this._lView,d),()=>function DA(o,d){if(null===o[Lm])return;const b=o[Lm].indexOf(d);-1!==b&&o[Lm].splice(b,1)}(this._lView,d)}}function pT(){return new d5(vr())}let Wm=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new De.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const b=this.taskId++;return this.pendingTasks.add(b),b}remove(b){this.pendingTasks.delete(b),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Fo({token:o,providedIn:"root",factory:()=>new o})}return o})();const Pf=class u5 extends pe.B{constructor(d=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=d,bl()&&(this.destroyRef=Cr(t_,{optional:!0})??void 0,this.pendingTasks=Cr(Wm,{optional:!0})??void 0)}emit(d){const b=P(null);try{super.next(d)}finally{P(b)}}subscribe(d,b,R){let Y=d,he=b||(()=>null),Ie=R;if(d&&"object"==typeof d){const ot=d;Y=ot.next?.bind(ot),he=ot.error?.bind(ot),Ie=ot.complete?.bind(ot)}this.__isAsync&&(he=this.wrapInTimeout(he),Y&&(Y=this.wrapInTimeout(Y)),Ie&&(Ie=this.wrapInTimeout(Ie)));const ze=super.subscribe({next:Y,error:he,complete:Ie});return d instanceof ue.yU&&d.add(ze),ze}wrapInTimeout(d){return b=>{const R=this.pendingTasks?.add();setTimeout(()=>{d(b),void 0!==R&&this.pendingTasks?.remove(R)})}}};function n_(...o){}function mT(o){let d,b;function R(){o=n_;try{void 0!==b&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(b),void 0!==d&&clearTimeout(d)}catch{}}return d=setTimeout(()=>{o(),R()}),"function"==typeof requestAnimationFrame&&(b=requestAnimationFrame(()=>{o(),R()})),()=>R()}function f2(o){return queueMicrotask(()=>o()),()=>{o=n_}}class Ea{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:b=!1,shouldCoalesceRunChangeDetection:R=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pf(!1),this.onMicrotaskEmpty=new Pf(!1),this.onStable=new Pf(!1),this.onError=new Pf(!1),typeof Zone>"u")throw new Br(908,!1);Zone.assertZonePatched();const Y=this;Y._nesting=0,Y._outer=Y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(Y._inner=Y._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(Y._inner=Y._inner.fork(Zone.longStackTraceZoneSpec)),Y.shouldCoalesceEventChangeDetection=!R&&b,Y.shouldCoalesceRunChangeDetection=R,Y.callbackScheduled=!1,function p5(o){const d=()=>{!function h5(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{mT(()=>{o.callbackScheduled=!1,p2(o),o.isCheckStableRunning=!0,h2(o),o.isCheckStableRunning=!1})}),p2(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(b,R,Y,he,Ie,ze)=>{if(function m5(o){return bT(o,"__ignore_ng_zone__")}(ze))return b.invokeTask(Y,he,Ie,ze);try{return gT(o),b.invokeTask(Y,he,Ie,ze)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===he.type||o.shouldCoalesceRunChangeDetection)&&d(),vT(o)}},onInvoke:(b,R,Y,he,Ie,ze,ot)=>{try{return gT(o),b.invoke(Y,he,Ie,ze,ot)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function y5(o){return bT(o,"__scheduler_tick__")}(ze)&&d(),vT(o)}},onHasTask:(b,R,Y,he)=>{b.hasTask(Y,he),R===Y&&("microTask"==he.change?(o._hasPendingMicrotasks=he.microTask,p2(o),h2(o)):"macroTask"==he.change&&(o.hasPendingMacrotasks=he.macroTask))},onHandleError:(b,R,Y,he)=>(b.handleError(Y,he),o.runOutsideAngular(()=>o.onError.emit(he)),!1)})}(Y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ea.isInAngularZone())throw new Br(909,!1)}static assertNotInAngularZone(){if(Ea.isInAngularZone())throw new Br(909,!1)}run(d,b,R){return this._inner.run(d,b,R)}runTask(d,b,R,Y){const he=this._inner,Ie=he.scheduleEventTask("NgZoneEvent: "+Y,d,f5,n_,n_);try{return he.runTask(Ie,b,R)}finally{he.cancelTask(Ie)}}runGuarded(d,b,R){return this._inner.runGuarded(d,b,R)}runOutsideAngular(d){return this._outer.run(d)}}const f5={};function h2(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function p2(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function gT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function vT(o){o._nesting--,h2(o)}class m2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pf,this.onMicrotaskEmpty=new Pf,this.onStable=new Pf,this.onError=new Pf}run(d,b,R){return d.apply(b,R)}runGuarded(d,b,R){return d.apply(b,R)}runOutsideAngular(d){return d()}runTask(d,b,R,Y){return d.apply(b,R)}}function bT(o,d){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[d]}class zu{constructor(){this._console=console}handleError(d){const b=this._findOriginalError(d);this._console.error("ERROR",d),b&&this._console.error("ORIGINAL ERROR",b)}_findOriginalError(d){let b=d&&yh(d);for(;b&&yh(b);)b=yh(b);return b||null}}const i_=new zi("",{providedIn:"root",factory:()=>{const o=Cr(Ea),d=Cr(zu);return b=>o.runOutsideAngular(()=>d.handleError(b))}});class Tv{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Cr(zu,{optional:!0}),this.destroyRef=Cr(t_),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(d){if(this.destroyed)throw new Br(953,!1);return(this.listeners??=[]).push(d),{unsubscribe:()=>{const b=this.listeners?.indexOf(d);void 0!==b&&-1!==b&&this.listeners?.splice(b,1)}}}emit(d){if(this.destroyed)throw new Br(953,!1);if(null===this.listeners)return;const b=P(null);try{for(const R of this.listeners)try{R(d)}catch(Y){this.errorHandler?.handleError(Y)}}finally{P(b)}}}function wT(o,d){return hl(o,d)}const g2=(wT.required=function y2(o){return hl(Ls,o)},wT);function u4(){return Dv(as(),vr())}function Dv(o,d){return new Dy(yd(o,d))}let Dy=(()=>{class o{constructor(b){this.nativeElement=b}static#e=this.__NG_ELEMENT_ID__=u4}return o})();function o_(o){return o instanceof Dy?o.nativeElement:o}function Lc(){return this._results[Symbol.iterator]()}class s_{static#e=Symbol.iterator;get changes(){return this._changes??=new Pf}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const b=s_.prototype;b[Symbol.iterator]||(b[Symbol.iterator]=Lc)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,b){return this._results.reduce(d,b)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,b){this.dirty=!1;const R=function yc(o){return o.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function Pm(o,d,b){if(o.length!==d.length)return!1;for(let R=0;R<o.length;R++){let Y=o[R],he=d[R];if(b&&(Y=b(Y),he=b(he)),he!==Y)return!1}return!0}(this._results,R,b))&&(this._results=R,this.length=R.length,this.last=R[this.length-1],this.first=R[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(d){this._onDirty=d}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Cv(o){return!(128&~o.flags)}const c_=new Map;let v5=0;const kv="__ngContext__";function Uc(o,d){Ts(d)?(o[kv]=d[fv],function w5(o){c_.set(o[fv],o)}(d)):o[kv]=d}function b2(o){return f_(o[dv])}function w2(o){return f_(o[Df])}function f_(o){for(;null!==o&&!jl(o);)o=o[Df];return o}let M2;function I5(o){M2=o}function Vp(){if(void 0!==M2)return M2;if(typeof document<"u")return document;throw new Br(210,!1)}const m_=new zi("",{providedIn:"root",factory:()=>C5}),C5="ng",TT=new zi(""),A2=new zi("",{providedIn:"platform",factory:()=>"unknown"}),R5=new zi(""),DT=new zi("",{providedIn:"root",factory:()=>Vp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let PT=()=>null;function R2(o,d,b=!1){return PT(o,d,b)}const N2=new zi("",{providedIn:"root",factory:()=>!1});let __,Py;function Oy(o){return function qm(){if(void 0===__&&(__=null,Zr.trustedTypes))try{__=Zr.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return __}()?.createHTML(o)||o}function By(){if(void 0===Py&&(Py=null,Zr.trustedTypes))try{Py=Zr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Py}function U2(o){return By()?.createHTML(o)||o}function VT(o){return By()?.createScriptURL(o)||o}class Hp{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${go})`}}class zT extends Hp{getTypeName(){return"HTML"}}class $5 extends Hp{getTypeName(){return"Style"}}class K5 extends Hp{getTypeName(){return"Script"}}class V5 extends Hp{getTypeName(){return"URL"}}class z5 extends Hp{getTypeName(){return"ResourceURL"}}function Jh(o){return o instanceof Hp?o.changingThisBreaksApplicationSecurity:o}function vh(o,d){const b=function Ny(o){return o instanceof Hp&&o.getTypeName()||null}(o);if(null!=b&&b!==d){if("ResourceURL"===b&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${b} (see ${go})`)}return b===d}function H5(o){return new zT(o)}function W5(o){return new $5(o)}function G5(o){return new K5(o)}function X5(o){return new V5(o)}function F2(o){return new z5(o)}function j2(o){const d=new WT(o);return function Wp(){try{return!!(new window.DOMParser).parseFromString(Oy(""),"text/html")}catch{return!1}}()?new HT(d):d}class HT{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const b=(new window.DOMParser).parseFromString(Oy(d),"text/html").body;return null===b?this.inertDocumentHelper.getInertBodyElement(d):(b.removeChild(b.firstChild),b)}catch{return null}}}class WT{constructor(d){this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(d){const b=this.inertDocument.createElement("template");return b.innerHTML=Oy(d),b}}const GT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function E_(o){return(o=String(o)).match(GT)?o:"unsafe:"+o}function qh(o){const d={};for(const b of o.split(","))d[b]=!0;return d}function Fv(...o){const d={};for(const b of o)for(const R in b)b.hasOwnProperty(R)&&(d[R]=!0);return d}const XT=qh("area,br,col,hr,img,wbr"),x_=qh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qh=qh("rp,rt"),$2=Fv(XT,Fv(x_,qh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fv(Qh,qh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fv(Qh,x_)),K2=qh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),M_=Fv(K2,qh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),V2=qh("script,style,template");class Ds{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let b=d.firstChild,R=!0,Y=[];for(;b;)if(b.nodeType===Node.ELEMENT_NODE?R=this.startElement(b):b.nodeType===Node.TEXT_NODE?this.chars(b.nodeValue):this.sanitizedSomething=!0,R&&b.firstChild)Y.push(b),b=JT(b);else for(;b;){b.nodeType===Node.ELEMENT_NODE&&this.endElement(b);let he=jv(b);if(he){b=he;break}b=Y.pop()}return this.buf.join("")}startElement(d){const b=qT(d).toLowerCase();if(!$2.hasOwnProperty(b))return this.sanitizedSomething=!0,!V2.hasOwnProperty(b);this.buf.push("<"),this.buf.push(b);const R=d.attributes;for(let Y=0;Y<R.length;Y++){const he=R.item(Y),Ie=he.name,ze=Ie.toLowerCase();if(!M_.hasOwnProperty(ze)){this.sanitizedSomething=!0;continue}let ot=he.value;K2[ze]&&(ot=E_(ot)),this.buf.push(" ",Ie,'="',J5(ot),'"')}return this.buf.push(">"),!0}endElement(d){const b=qT(d).toLowerCase();$2.hasOwnProperty(b)&&!XT.hasOwnProperty(b)&&(this.buf.push("</"),this.buf.push(b),this.buf.push(">"))}chars(d){this.buf.push(J5(d))}}function jv(o){const d=o.nextSibling;if(d&&o!==d.previousSibling)throw z2(d);return d}function JT(o){const d=o.firstChild;if(d&&function Kl(o,d){return(o.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,d))throw z2(d);return d}function qT(o){const d=o.nodeName;return"string"==typeof d?d:"FORM"}function z2(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const Y5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w4=/([^\#-~ |!])/g;function J5(o){return o.replace(/&/g,"&amp;").replace(Y5,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(w4,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gp;function Sl(o,d){let b=null;try{Gp=Gp||j2(o);let R=d?String(d):"";b=Gp.getInertBodyElement(R);let Y=5,he=R;do{if(0===Y)throw new Error("Failed to sanitize html because the input is unstable");Y--,R=he,he=b.innerHTML,b=Gp.getInertBodyElement(R)}while(R!==he);return Oy((new Ds).sanitizeChildren(H2(b)||b))}finally{if(b){const R=H2(b)||b;for(;R.firstChild;)R.removeChild(R.firstChild)}}}function H2(o){return"content"in o&&function _4(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Qm=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Qm||{});function q5(o){const d=Uy();return d?U2(d.sanitize(Qm.HTML,o)||""):vh(o,"HTML")?U2(Jh(o)):Sl(Vp(),Ji(o))}function fs(o){const d=Uy();return d?d.sanitize(Qm.URL,o)||"":vh(o,"URL")?Jh(o):E_(Ji(o))}function W2(o){const d=Uy();if(d)return VT(d.sanitize(Qm.RESOURCE_URL,o)||"");if(vh(o,"ResourceURL"))return VT(Jh(o));throw new Br(904,!1)}function QT(o,d,b){return function e8(o,d){return"src"===d&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===d&&("base"===o||"link"===o)?W2:fs}(d,b)(o)}function Uy(){const o=vr();return o&&o[lh].sanitizer}const t8=/^>|^->|<!--|-->|--!>|<!-$/g,n8=/(<|>)/g,eD="\u200b$1\u200b";function Wu(o){return o instanceof Function?o():o}function za(o){return"browser"===(o??Cr(nl)).get(A2)}var C_=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(C_||{});let e0;function q2(o,d){return e0(o,d)}function Ml(o,d,b,R,Y){if(null!=R){let he,Ie=!1;jl(R)?he=R:Ts(R)&&(Ie=!0,R=R[po]);const ze=vs(R);0===o&&null!==b?null==Y?hD(d,b,ze):t0(d,b,ze,Y||null,!0):1===o&&null!==b?t0(d,b,ze,Y||null,!0):2===o?function Zv(o,d,b){const R=ep(o,d);R&&function I4(o,d,b,R){o.removeChild(d,b,R)}(o,R,d,b)}(d,ze,Ie):3===o&&d.destroyNode(ze),null!=he&&function m8(o,d,b,R,Y){const he=b[Fl];he!==vs(b)&&Ml(d,o,R,he,Y);for(let ze=gc;ze<b.length;ze++){const ot=b[ze];O_(ot[Vr],ot,o,d,R,he)}}(d,o,he,b,Y)}}function Zp(o,d){return o.createText(d)}function Xu(o,d){return o.createComment(function Hu(o){return o.replace(t8,d=>d.replace(n8,eD))}(d))}function k_(o,d,b){return o.createElement(d,b)}function ex(o,d){d[lh].changeDetectionScheduler?.notify(8),O_(o,d,d[_i],2,null,null)}function dD(o,d){const b=o[my],R=d[Ro];(Ts(R)||d[Ka]!==R[Ro][Ka])&&(o[Ni]|=dh.HasTransplantedViews),null===b?o[my]=[d]:b.push(d)}function tx(o,d){const b=o[my],R=b.indexOf(d);b.splice(R,1)}function Wv(o,d){if(o.length<=gc)return;const b=gc+d,R=o[b];if(R){const Y=R[Fp];null!==Y&&Y!==o&&tx(Y,R),d>0&&(o[b-1][Df]=R[Df]);const he=mt(o,gc+d);!function l8(o,d){ex(o,d),d[po]=null,d[tl]=null}(R[Vr],R);const Ie=he[jp];null!==Ie&&Ie.detachView(he[Vr]),R[Ro]=null,R[Df]=null,R[Ni]&=-129}return R}function R_(o,d){if(!(256&d[Ni])){const b=d[_i];b.destroyNode&&O_(o,d,b,3,null,null),function d8(o){let d=o[dv];if(!d)return nx(o[Vr],o);for(;d;){let b=null;if(Ts(d))b=d[dv];else{const R=d[gc];R&&(b=R)}if(!b){for(;d&&!d[Df]&&d!==o;)Ts(d)&&nx(d[Vr],d),d=d[Ro];null===d&&(d=o),Ts(d)&&nx(d[Vr],d),b=d&&d[Df]}d=b}}(d)}}function nx(o,d){if(256&d[Ni])return;const b=P(null);try{d[Ni]&=-129,d[Ni]|=256,d[Cf]&&ae(d[Cf]),function f8(o,d){let b;if(null!=o&&null!=(b=o.destroyHooks))for(let R=0;R<b.length;R+=2){const Y=d[b[R]];if(!(Y instanceof _v)){const he=b[R+1];if(Array.isArray(he))for(let Ie=0;Ie<he.length;Ie+=2){const ze=Y[he[Ie]],ot=he[Ie+1];Nu(4,ze,ot);try{ot.call(ze)}finally{Nu(5,ze,ot)}}else{Nu(4,Y,he);try{he.call(Y)}finally{Nu(5,Y,he)}}}}}(o,d),function uD(o,d){const b=o.cleanup,R=d[hy];if(null!==b)for(let he=0;he<b.length-1;he+=2)if("string"==typeof b[he]){const Ie=b[he+3];Ie>=0?R[Ie]():R[-Ie].unsubscribe(),he+=2}else b[he].call(R[b[he+1]]);null!==R&&(d[hy]=null);const Y=d[Lm];if(null!==Y){d[Lm]=null;for(let he=0;he<Y.length;he++)(0,Y[he])()}}(o,d),1===d[Vr].type&&d[_i].destroy();const R=d[Fp];if(null!==R&&jl(d[Ro])){R!==d[Ro]&&tx(R,d);const Y=d[jp];null!==Y&&Y.detachView(o)}!function _5(o){c_.delete(o[fv])}(d)}finally{P(b)}}function rx(o,d,b){return fD(o,d.parent,b)}function fD(o,d,b){let R=d;for(;null!==R&&168&R.type;)R=(d=R).parent;if(null===R)return b[po];{const{componentOffset:Y}=R;if(Y>-1){const{encapsulation:he}=o.data[R.directiveStart+Y];if(he===pt.None||he===pt.Emulated)return null}return yd(R,b)}}function t0(o,d,b,R,Y){o.insertBefore(d,b,R,Y)}function hD(o,d,b){o.appendChild(d,b)}function h8(o,d,b,R,Y){null!==R?t0(o,d,b,R,Y):hD(o,d,b)}function ep(o,d){return o.parentNode(d)}function pD(o,d,b){return yD(o,d,b)}function mD(o,d,b){return 40&o.type?yd(o,b):null}let ix,yD=mD;function gD(o,d){yD=o,ix=d}function Gv(o,d,b,R){const Y=rx(o,R,d),he=d[_i],ze=pD(R.parent||d[tl],R,d);if(null!=Y)if(Array.isArray(b))for(let ot=0;ot<b.length;ot++)h8(he,Y,b[ot],ze,!1);else h8(he,Y,b,ze,!1);void 0!==ix&&ix(he,R,d,b,Y)}function n0(o,d){if(null!==d){const b=d.type;if(3&b)return yd(d,o);if(4&b)return r0(-1,o[d.index]);if(8&b){const R=d.child;if(null!==R)return n0(o,R);{const Y=o[d.index];return jl(Y)?r0(-1,Y):vs(Y)}}if(128&b)return n0(o,d.next);if(32&b)return q2(d,o)()||vs(o[d.index]);{const R=Xv(o,d);return null!==R?Array.isArray(R)?R[0]:n0(Xh(o[Ka]),R):n0(o,d.next)}}return null}function Xv(o,d){return null!==d?o[Ka][tl].projection[d.projection]:null}function r0(o,d){const b=gc+o+1;if(b<d.length){const R=d[b],Y=R[Vr].firstChild;if(null!==Y)return n0(R,Y)}return d[Fl]}function Fc(o,d,b,R,Y,he,Ie){for(;null!=b;){if(128===b.type){b=b.next;continue}const ze=R[b.index],ot=b.type;if(Ie&&0===d&&(ze&&Uc(vs(ze),R),b.flags|=2),32&~b.flags)if(8&ot)Fc(o,d,b.child,R,Y,he,!1),Ml(d,o,Y,ze,he);else if(32&ot){const Dt=q2(b,R);let Ft;for(;Ft=Dt();)Ml(d,o,Y,Ft,he);Ml(d,o,Y,ze,he)}else 16&ot?bD(o,d,R,b,Y,he):Ml(d,o,Y,ze,he);b=Ie?b.projectionNext:b.next}}function O_(o,d,b,R,Y,he){Fc(b,R,o.firstChild,d,Y,he,!1)}function bD(o,d,b,R,Y,he){const Ie=b[Ka],ot=Ie[tl].projection[R.projection];if(Array.isArray(ot))for(let Dt=0;Dt<ot.length;Dt++)Ml(d,o,Y,ot[Dt],he);else{let Dt=ot;const Ft=Ie[Ro];Cv(R)&&(Dt.flags|=128),Fc(o,d,Dt,Ft,Y,he,!0)}}function _D(o,d,b){""===b?o.removeAttribute(d,"class"):o.setAttribute(d,"class",b)}function ED(o,d,b){const{mergedAttrs:R,classes:Y,styles:he}=b;null!==R&&Xt(o,d,R),null!==Y&&_D(o,d,Y),null!==he&&function y8(o,d,b){o.setAttribute(d,"style",b)}(o,d,he)}const Eo={};function xD(o=1){Fy(Uo(),vr(),xl()+o,!1)}function Fy(o,d,b,R){if(!R)if(3&~d[Ni]){const he=o.preOrderHooks;null!==he&&Zw(d,he,0,b)}else{const he=o.preOrderCheckHooks;null!==he&&Xw(d,he,b)}Vm(b)}function jy(o,d=to.Default){const b=vr();return null===b?Ki(o,d):rT(as(),b,Mi(o),d)}function SD(){throw new Error("invalid")}function MD(o,d,b,R,Y,he){const Ie=P(null);try{let ze=null;Y&Vt.SignalBased&&(ze=d[R][x]),null!==ze&&void 0!==ze.transformFn&&(he=ze.transformFn(he)),Y&Vt.HasDecoratorInputTransform&&(he=o.inputTransforms[R].call(d,he)),null!==o.setInput?o.setInput(d,ze,he,b,R):SA(d,ze,R,he)}finally{P(Ie)}}function P_(o,d,b,R,Y,he,Ie,ze,ot,Dt,Ft){const fn=d.blueprint.slice();return fn[po]=Y,fn[Ni]=204|R,(null!==Dt||o&&2048&o[Ni])&&(fn[Ni]|=2048),TA(fn),fn[Ro]=fn[py]=o,fn[ea]=b,fn[lh]=Ie||o&&o[lh],fn[_i]=ze||o&&o[_i],fn[ss]=ot||o&&o[ss]||null,fn[tl]=he,fn[fv]=function b5(){return v5++}(),fn[Ms]=Ft,fn[B6]=Dt,fn[Ka]=2==d.type?o[Ka]:fn,fn}function o0(o,d,b,R,Y){let he=o.data[d];if(null===he)he=ox(o,d,b,R,Y),function G6(){return uo.lFrame.inI18n}()&&(he.flags|=32);else if(64&he.type){he.type=b,he.value=R,he.attrs=Y;const Ie=gv();he.injectorIndex=null===Ie?-1:Ie.injectorIndex}return Rf(he,!0),he}function ox(o,d,b,R,Y){const he=du(),Ie=QE(),ot=o.data[d]=function S8(o,d,b,R,Y,he){let Ie=d?d.injectorIndex:-1,ze=0;return ju()&&(ze|=128),{type:b,index:R,insertBeforeIndex:null,injectorIndex:Ie,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ze,providerIndexes:0,value:Y,attrs:he,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Ie?he:he&&he.parent,b,d,R,Y);return null===o.firstChild&&(o.firstChild=ot),null!==he&&(Ie?null==he.child&&null!==ot.parent&&(he.child=ot):null===he.next&&(he.next=ot,ot.prev=he)),ot}function Yv(o,d,b,R){if(0===b)return-1;const Y=d.length;for(let he=0;he<b;he++)d.push(R),o.blueprint.push(R),o.data.push(null);return Y}function AD(o,d,b,R,Y){const he=xl(),Ie=2&R;try{Vm(-1),Ie&&d.length>Ci&&Fy(o,d,Ci,!1),Nu(Ie?2:0,Y),b(R,Y)}finally{Vm(he),Nu(Ie?3:1,Y)}}function sx(o,d,b){if(wA(d)){const R=P(null);try{const he=d.directiveEnd;for(let Ie=d.directiveStart;Ie<he;Ie++){const ze=o.data[Ie];ze.contentQueries&&ze.contentQueries(1,b[Ie],Ie)}}finally{P(R)}}}function Nf(o,d,b){vy()&&(function k8(o,d,b,R){const Y=b.directiveStart,he=b.directiveEnd;cu(b)&&function N8(o,d,b){const R=yd(d,o),Y=TD(b);let Ie=16;b.signals?Ie=4096:b.onPush&&(Ie=64);const ze=s0(o,P_(o,Y,null,Ie,R,d,null,o[lh].rendererFactory.createRenderer(R,b),null,null,null));o[d.index]=ze}(d,b,o.data[Y+b.componentOffset]),o.firstCreatePass||Of(b,d),Uc(R,d);const Ie=b.initialInputs;for(let ze=Y;ze<he;ze++){const ot=o.data[ze],Dt=Hm(d,o,ze,b);Uc(Dt,d),null!==Ie&&L8(0,ze-Y,Dt,ot,0,Ie),uh(ot)&&(lu(b.index,d)[ea]=Hm(d,o,ze,b))}}(o,d,b,yd(b,d)),!(64&~b.flags)&&OD(o,d,b))}function ax(o,d,b=yd){const R=d.localNames;if(null!==R){let Y=d.index+1;for(let he=0;he<R.length;he+=2){const Ie=R[he+1],ze=-1===Ie?b(d,o):o[Ie];o[Y++]=ze}}}function TD(o){const d=o.tView;return null===d||d.incompleteFirstPass?o.tView=cx(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):d}function cx(o,d,b,R,Y,he,Ie,ze,ot,Dt,Ft){const fn=Ci+R,Rn=fn+Y,Ln=function v8(o,d){const b=[];for(let R=0;R<d;R++)b.push(R<o?null:Eo);return b}(fn,Rn),Xn="function"==typeof Dt?Dt():Dt;return Ln[Vr]={type:o,blueprint:Ln,template:b,queries:null,viewQuery:ze,declTNode:d,data:Ln.slice().fill(null,fn),bindingStartIndex:fn,expandoStartIndex:Rn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof he?he():he,pipeRegistry:"function"==typeof Ie?Ie():Ie,firstChild:null,schemas:ot,consts:Xn,incompleteFirstPass:!1,ssrId:Ft}}let DD=()=>null;function ID(o,d,b,R,Y){for(let he in d){if(!d.hasOwnProperty(he))continue;const Ie=d[he];if(void 0===Ie)continue;R??={};let ze,ot=Vt.None;Array.isArray(Ie)?(ze=Ie[0],ot=Ie[1]):ze=Ie;let Dt=he;if(null!==Y){if(!Y.hasOwnProperty(he))continue;Dt=Y[he]}0===o?CD(R,b,Dt,ze,ot):CD(R,b,Dt,ze)}return R}function CD(o,d,b,R,Y){let he;o.hasOwnProperty(b)?(he=o[b]).push(d,R):he=o[b]=[d,R],void 0!==Y&&he.push(Y)}function Kd(o,d,b,R,Y,he,Ie,ze){const ot=yd(d,b);let Ft,Dt=d.inputs;!ze&&null!=Dt&&(Ft=Dt[R])?(eb(o,b,Ft,R,Y),cu(d)&&function T8(o,d){const b=lu(d,o);16&b[Ni]||(b[Ni]|=64)}(b,d.index)):3&d.type&&(R=function A8(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(R),Y=null!=Ie?Ie(Y,d.value||"",R):Y,he.setProperty(ot,R,Y))}function lx(o,d,b,R){if(vy()){const Y=null===R?null:{"":-1},he=function dx(o,d){const b=o.directiveRegistry;let R=null,Y=null;if(b)for(let he=0;he<b.length;he++){const Ie=b[he];if(co(d,Ie.selectors,!1))if(R||(R=[]),uh(Ie))if(null!==Ie.findHostDirectiveDefs){const ze=[];Y=Y||new Map,Ie.findHostDirectiveDefs(Ie,ze,Y),R.unshift(...ze,Ie),ux(o,d,ze.length)}else R.unshift(Ie),ux(o,d,0);else Y=Y||new Map,Ie.findHostDirectiveDefs?.(Ie,R,Y),R.push(Ie)}return null===R?null:[R,Y]}(o,b);let Ie,ze;null===he?Ie=ze=null:[Ie,ze]=he,null!==Ie&&kD(o,d,b,Ie,Y,ze),Y&&function R8(o,d,b){if(d){const R=o.localNames=[];for(let Y=0;Y<d.length;Y+=2){const he=b[d[Y+1]];if(null==he)throw new Br(-301,!1);R.push(d[Y],he)}}}(b,R,Y)}b.mergedAttrs=Lr(b.mergedAttrs,b.attrs)}function kD(o,d,b,R,Y,he){for(let Dt=0;Dt<R.length;Dt++)l2(Of(b,d),o,R[Dt].type);!function P8(o,d,b){o.flags|=1,o.directiveStart=d,o.directiveEnd=d+b,o.providerIndexes=d}(b,o.data.length,R.length);for(let Dt=0;Dt<R.length;Dt++){const Ft=R[Dt];Ft.providersResolver&&Ft.providersResolver(Ft)}let Ie=!1,ze=!1,ot=Yv(o,d,R.length,null);for(let Dt=0;Dt<R.length;Dt++){const Ft=R[Dt];b.mergedAttrs=Lr(b.mergedAttrs,Ft.hostAttrs),B8(o,b,d,ot,Ft),O8(ot,Ft,Y),null!==Ft.contentQueries&&(b.flags|=4),(null!==Ft.hostBindings||null!==Ft.hostAttrs||0!==Ft.hostVars)&&(b.flags|=64);const fn=Ft.type.prototype;!Ie&&(fn.ngOnChanges||fn.ngOnInit||fn.ngDoCheck)&&((o.preOrderHooks??=[]).push(b.index),Ie=!0),!ze&&(fn.ngOnChanges||fn.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(b.index),ze=!0),ot++}!function M8(o,d,b){const Y=d.directiveEnd,he=o.data,Ie=d.attrs,ze=[];let ot=null,Dt=null;for(let Ft=d.directiveStart;Ft<Y;Ft++){const fn=he[Ft],Rn=b?b.get(fn):null,Xn=Rn?Rn.outputs:null;ot=ID(0,fn.inputs,Ft,ot,Rn?Rn.inputs:null),Dt=ID(1,fn.outputs,Ft,Dt,Xn);const gr=null===ot||null===Ie||Oi(d)?null:U8(ot,Ft,Ie);ze.push(gr)}null!==ot&&(ot.hasOwnProperty("class")&&(d.flags|=8),ot.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=ze,d.inputs=ot,d.outputs=Dt}(o,b,he)}function OD(o,d,b){const R=b.directiveStart,Y=b.directiveEnd,he=b.index,Ie=function Z6(){return uo.lFrame.currentDirectiveIndex}();try{Vm(he);for(let ze=R;ze<Y;ze++){const ot=o.data[ze],Dt=d[ze];t2(ze),(null!==ot.hostBindings||0!==ot.hostVars||null!==ot.hostAttrs)&&PD(ot,Dt)}}finally{Vm(-1),t2(Ie)}}function PD(o,d){null!==o.hostBindings&&o.hostBindings(1,d)}function ux(o,d,b){d.componentOffset=b,(o.components??=[]).push(d.index)}function O8(o,d,b){if(b){if(d.exportAs)for(let R=0;R<d.exportAs.length;R++)b[d.exportAs[R]]=o;uh(d)&&(b[""]=o)}}function B8(o,d,b,R,Y){o.data[R]=Y;const he=Y.factory||(Y.factory=Pu(Y.type)),Ie=new _v(he,uh(Y),jy);o.blueprint[R]=Ie,b[R]=Ie,function C8(o,d,b,R,Y){const he=Y.hostBindings;if(he){let Ie=o.hostBindingOpCodes;null===Ie&&(Ie=o.hostBindingOpCodes=[]);const ze=~d.index;(function RD(o){let d=o.length;for(;d>0;){const b=o[--d];if("number"==typeof b&&b<0)return b}return 0})(Ie)!=ze&&Ie.push(ze),Ie.push(b,R,he)}}(o,d,R,Yv(o,b,Y.hostVars,Eo),Y)}function bh(o,d,b,R,Y,he){const Ie=yd(o,d);!function fx(o,d,b,R,Y,he,Ie){if(null==he)o.removeAttribute(d,Y,b);else{const ze=null==Ie?Ji(he):Ie(he,R||"",Y);o.setAttribute(d,Y,ze,b)}}(d[_i],Ie,he,o.value,b,R,Y)}function L8(o,d,b,R,Y,he){const Ie=he[d];if(null!==Ie)for(let ze=0;ze<Ie.length;)MD(R,b,Ie[ze++],Ie[ze++],Ie[ze++],Ie[ze++])}function U8(o,d,b){let R=null,Y=0;for(;Y<b.length;){const he=b[Y];if(0!==he)if(5!==he){if("number"==typeof he)break;if(o.hasOwnProperty(he)){null===R&&(R=[]);const Ie=o[he];for(let ze=0;ze<Ie.length;ze+=3)if(Ie[ze]===d){R.push(he,Ie[ze+1],Ie[ze+2],b[Y+1]);break}}Y+=2}else Y+=2;else Y+=4}return R}function BD(o,d,b,R){return[o,!0,0,d,null,R,null,b,null,null]}function ND(o,d){const b=o.contentQueries;if(null!==b){const R=P(null);try{for(let Y=0;Y<b.length;Y+=2){const Ie=b[Y+1];if(-1!==Ie){const ze=o.data[Ie];Gw(b[Y]),ze.contentQueries(2,d[Ie],Ie)}}}finally{P(R)}}}function s0(o,d){return o[dv]?o[If][Df]=d:o[dv]=d,o[If]=d,d}function Jv(o,d,b){Gw(0);const R=P(null);try{d(o,b)}finally{P(R)}}function qv(o){return o[hy]??=[]}function Qv(o){return o.cleanup??=[]}function LD(o,d,b){return(null===o||uh(o))&&(b=function ZE(o){for(;Array.isArray(o);){if("object"==typeof o[bA])return o;o=o[po]}return null}(b[d.index])),b[_i]}function B_(o,d){const b=o[ss],R=b?b.get(zu,null):null;R&&R.handleError(d)}function eb(o,d,b,R,Y){for(let he=0;he<b.length;){const Ie=b[he++],ze=b[he++],ot=b[he++];MD(o.data[Ie],d[Ie],R,ze,ot,Y)}}function wh(o,d,b){const R=pv(d,o);!function lD(o,d,b){o.setValue(d,b)}(o[_i],R,b)}function F8(o,d){const b=lu(d,o),R=b[Vr];!function UD(o,d){for(let b=d.length;b<o.blueprint.length;b++)d.push(o.blueprint[b])}(R,b);const Y=b[po];null!==Y&&null===b[Ms]&&(b[Ms]=R2(Y,b[ss])),FD(R,b,b[ea])}function FD(o,d,b){o2(d);try{const R=o.viewQuery;null!==R&&Jv(1,R,b);const Y=o.template;null!==Y&&AD(o,d,Y,1,b),o.firstCreatePass&&(o.firstCreatePass=!1),d[jp]?.finishViewCreation(o),o.staticContentQueries&&ND(o,d),o.staticViewQueries&&Jv(2,o.viewQuery,b);const he=o.components;null!==he&&function j8(o,d){for(let b=0;b<d.length;b++)F8(o,d[b])}(d,he)}catch(R){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),R}finally{d[Ni]&=-5,bv()}}function a0(o,d,b,R){const Y=P(null);try{const he=d.tView,ot=P_(o,he,b,4096&o[Ni]?4096:16,null,d,null,null,R?.injector??null,R?.embeddedViewInjector??null,R?.dehydratedView??null);ot[Fp]=o[d.index];const Ft=o[jp];return null!==Ft&&(ot[jp]=Ft.createEmbeddedView(he)),FD(he,ot,b),ot}finally{P(Y)}}function jD(o,d){const b=gc+d;if(b<o.length)return o[b]}function Yp(o,d){return!d||null===d.firstChild||Cv(o)}function $y(o,d,b,R=!0){const Y=d[Vr];if(function u8(o,d,b,R){const Y=gc+R,he=b.length;R>0&&(b[Y-1][Df]=d),R<he-gc?(d[Df]=b[Y],Af(b,gc+R,d)):(b.push(d),d[Df]=null),d[Ro]=b;const Ie=d[Fp];null!==Ie&&b!==Ie&&dD(Ie,d);const ze=d[jp];null!==ze&&ze.insertView(o),YE(d),d[Ni]|=128}(Y,d,o,b),R){const Ie=r0(b,o),ze=d[_i],ot=ep(ze,o[Fl]);null!==ot&&function Q2(o,d,b,R,Y,he){R[po]=Y,R[tl]=d,O_(o,R,b,1,Y,he)}(Y,o[tl],ze,d,ot,Ie)}const he=d[Ms];null!==he&&null!==he.firstChild&&(he.firstChild=null)}function px(o,d){const b=Wv(o,d);return void 0!==b&&R_(b[Vr],b),b}function c0(o,d,b,R,Y=!1){for(;null!==b;){if(128===b.type){b=Y?b.projectionNext:b.next;continue}const he=d[b.index];null!==he&&R.push(vs(he)),jl(he)&&$8(he,R);const Ie=b.type;if(8&Ie)c0(o,d,b.child,R);else if(32&Ie){const ze=q2(b,d);let ot;for(;ot=ze();)R.push(ot)}else if(16&Ie){const ze=Xv(d,b);if(Array.isArray(ze))R.push(...ze);else{const ot=Xh(d[Ka]);c0(ot[Vr],ot,ze,R,!0)}}b=Y?b.projectionNext:b.next}return R}function $8(o,d){for(let b=gc;b<o.length;b++){const R=o[b],Y=R[Vr].firstChild;null!==Y&&c0(R[Vr],R,Y,d)}o[Fl]!==o[po]&&d.push(o[Fl])}let K8=[];const V8={...L,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{JE(o.lView)},consumerOnSignalRead(){this.lView[Cf]=this}},H8={...L,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let d=Xh(o.lView);for(;d&&!Ky(d[Vr]);)d=Xh(d);d&&fh(d)},consumerOnSignalRead(){this.lView[Cf]=this}};function Ky(o){return 2!==o.type}const W8=100;function tb(o,d=!0,b=0){const R=o[lh],Y=R.rendererFactory;Y.begin?.();try{!function G8(o,d){const b=BA();try{NA(!0),N_(o,d);let R=0;for(;mv(o);){if(R===W8)throw new Br(103,!1);R++,N_(o,1)}}finally{NA(b)}}(o,b)}catch(Ie){throw d&&B_(o,Ie),Ie}finally{Y.end?.(),R.inlineEffectRunner?.flush()}}function R4(o,d,b,R){const Y=d[Ni];if(!(256&~Y))return;d[lh].inlineEffectRunner?.flush(),o2(d);let ze=!0,ot=null,Dt=null;Ky(o)?(Dt=function $D(o){return o[Cf]??function mx(o){const d=K8.pop()??Object.create(V8);return d.lView=o,d}(o)}(d),ot=J(Dt)):null===function M(){return _}()?(ze=!1,Dt=function z8(o){const d=o[Cf]??Object.create(H8);return d.lView=o,d}(d),ot=J(Dt)):d[Cf]&&(ae(d[Cf]),d[Cf]=null);try{TA(d),function LA(o){return uo.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==b&&AD(o,d,b,2,R);const Ft=!(3&~Y);if(Ft){const Ln=o.preOrderCheckHooks;null!==Ln&&Xw(d,Ln,null)}else{const Ln=o.preOrderHooks;null!==Ln&&Zw(d,Ln,0,null),a2(d,0)}if(function O4(o){for(let d=b2(o);null!==d;d=w2(d)){if(!(d[Ni]&dh.HasTransplantedViews))continue;const b=d[my];for(let R=0;R<b.length;R++)fh(b[R])}}(d),X8(d,0),null!==o.contentQueries&&ND(o,d),Ft){const Ln=o.contentCheckHooks;null!==Ln&&Xw(d,Ln)}else{const Ln=o.contentHooks;null!==Ln&&Zw(d,Ln,1),a2(d,1)}!function g8(o,d){const b=o.hostBindingOpCodes;if(null!==b)try{for(let R=0;R<b.length;R++){const Y=b[R];if(Y<0)Vm(~Y);else{const he=Y,Ie=b[++R],ze=b[++R];X6(Ie,he),ze(2,d[he])}}}finally{Vm(-1)}}(o,d);const fn=o.components;null!==fn&&L_(d,fn,0);const Rn=o.viewQuery;if(null!==Rn&&Jv(2,Rn,R),Ft){const Ln=o.viewCheckHooks;null!==Ln&&Xw(d,Ln)}else{const Ln=o.viewHooks;null!==Ln&&Zw(d,Ln,2),a2(d,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),d[WE]){for(const Ln of d[WE])Ln();d[WE]=null}d[Ni]&=-73}catch(Ft){throw JE(d),Ft}finally{null!==Dt&&(Z(Dt,ot),ze&&function Al(o){o.lView[Cf]!==o&&(o.lView=null,K8.push(o))}(Dt)),bv()}}function X8(o,d){for(let b=b2(o);null!==b;b=w2(b))for(let R=gc;R<b.length;R++)gx(b[R],d)}function Z8(o,d,b){gx(lu(d,o),b)}function gx(o,d){gy(o)&&N_(o,d)}function N_(o,d){const R=o[Vr],Y=o[Ni],he=o[Cf];let Ie=!!(0===d&&16&Y);if(Ie||=!!(64&Y&&0===d),Ie||=!!(1024&Y),Ie||=!(!he?.dirty||!ie(he)),Ie||=!1,he&&(he.dirty=!1),o[Ni]&=-9217,Ie)R4(R,o,R.template,o[ea]);else if(8192&Y){X8(o,1);const ze=R.components;null!==ze&&L_(o,ze,1)}}function L_(o,d,b){for(let R=0;R<d.length;R++)Z8(o,d[R],b)}function U_(o,d){const b=BA()?64:1088;for(o[lh].changeDetectionScheduler?.notify(d);o;){o[Ni]|=b;const R=Xh(o);if(Gh(o)&&!R)return o;o=R}return null}class nb{get rootNodes(){const d=this._lView,b=d[Vr];return c0(b,d,b.firstChild,[])}constructor(d,b,R=!0){this._lView=d,this._cdRefInjectingView=b,this.notifyErrorHandler=R,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ea]}set context(d){this._lView[ea]=d}get destroyed(){return!(256&~this._lView[Ni])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[Ro];if(jl(d)){const b=d[8],R=b?b.indexOf(this):-1;R>-1&&(Wv(d,R),mt(b,R))}this._attachedToViewContainer=!1}R_(this._lView[Vr],this._lView)}onDestroy(d){qE(this._lView,d)}markForCheck(){U_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ni]&=-129}reattach(){YE(this._lView),this._lView[Ni]|=128}detectChanges(){this._lView[Ni]|=1024,tb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Br(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const d=Gh(this._lView),b=this._lView[Fp];null!==b&&!d&&tx(b,this._lView),ex(this._lView[Vr],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new Br(902,!1);this._appRef=d;const b=Gh(this._lView),R=this._lView[Fp];null!==R&&!b&&dD(R,this._lView),YE(this._lView)}}let rb=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=q8}return o})();const Y8=rb,J8=class extends Y8{constructor(d,b,R){super(),this._declarationLView=d,this._declarationTContainer=b,this.elementRef=R}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,b){return this.createEmbeddedViewImpl(d,b)}createEmbeddedViewImpl(d,b,R){const Y=a0(this._declarationLView,this._declarationTContainer,d,{embeddedViewInjector:b,dehydratedView:R});return new nb(Y)}};function q8(){return F_(as(),vr())}function F_(o,d){return 4&o.type?new J8(d,o,Dv(o,d)):null}function GD(o,d,b){const R=d.insertBeforeIndex,Y=Array.isArray(R)?R[0]:R;return null===Y?mD(o,0,b):vs(b[Y])}function XD(o,d,b,R,Y){const he=d.insertBeforeIndex;if(Array.isArray(he)){let Ie=R,ze=null;if(3&d.type||(ze=Ie,Ie=Y),null!==Ie&&-1===d.componentOffset)for(let ot=1;ot<he.length;ot++)t0(o,Ie,b[he[ot]],ze,!1)}}function Ex(o,d){if(o.push(d),o.length>1)for(let b=o.length-2;b>=0;b--){const R=o[b];ZD(R)||YD(R,d)&&null===JD(R)&&nk(R,d.index)}}function ZD(o){return!(64&o.type)}function YD(o,d){return ZD(d)||o.index>d.index}function JD(o){const d=o.insertBeforeIndex;return Array.isArray(d)?d[0]:d}function nk(o,d){const b=o.insertBeforeIndex;Array.isArray(b)?b[0]=d:(gD(GD,XD),o.insertBeforeIndex=d)}function U4(o,d,b){const R=ox(o,b,64,null,null);return Ex(d,R),R}function qD(o,d,b){o.index=0;const R=function xx(o,d){const b=d[o.currentCaseLViewIndex];return null===b?b:b<0?~b:b}(d,b);o.removes=null!==R?d.remove[R]:Xe}function Lf(o){if(o.index<o.removes.length){const d=o.removes[o.index++];return d>0?o.lView[d]:(o.stack.push(o.index,o.removes),qD(o,o.lView[Vr].data[~d],o.lView),Lf(o))}return 0===o.stack.length?null:(o.removes=o.stack.pop(),o.index=o.stack.pop(),Lf(o))}function j4(){const o={stack:[],index:-1};return function d(b,R){for(o.lView=R;o.stack.length;)o.stack.pop();return qD(o,b.value,R),Lf.bind(null,o)}}let iI=()=>{},Vd=()=>null;function d0(o,d){return Vd(o,d)}class qp{}const u0=new zi("",{providedIn:"root",factory:()=>!1}),aI=new zi("");class Mk{}class cI{}class dI{resolveComponentFactory(d){throw function Ak(o){const d=Error(`No component factory found for ${So(o)}.`);return d.ngComponent=o,d}(d)}}class hb{static#e=this.NULL=new dI}class pb{}let uI=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Dk(){const o=vr(),b=lu(as().index,o);return(Ts(b)?b:o)[_i]}()}return o})(),Ik=(()=>{class o{static#e=this.\u0275prov=Fo({token:o,providedIn:"root",factory:()=>null})}return o})();const G_=new Set;function Vl(o){G_.has(o)||(G_.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}var Tl=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(Tl||{});const Rx={destroy(){}};function fI(o,d){!d&&$w();const b=d?.injector??Cr(nl);return za(b)?(Vl("NgAfterRender"),hI(o,b,!1,d?.phase??Tl.MixedReadWrite)):Rx}function X_(o,d){!d&&$w();const b=d?.injector??Cr(nl);return za(b)?(Vl("NgAfterNextRender"),hI(o,b,!0,d?.phase??Tl.MixedReadWrite)):Rx}function hI(o,d,b,R){const Y=function kk(o,d){if(o instanceof Function)switch(d){case Tl.EarlyRead:return{earlyRead:o};case Tl.Write:return{write:o};case Tl.MixedReadWrite:return{mixedReadWrite:o};case Tl.Read:return{read:o}}return o}(o,R),he=d.get(Wy),Ie=he.handler??=new pI,ze=[],ot=[],Dt=()=>{for(const Ln of ot)Ie.unregister(Ln);Ft()},Ft=d.get(t_).onDestroy(Dt);let fn=0;const Rn=(Ln,Xn)=>{if(!Xn)return;const gr=b?(...Gr)=>(fn--,fn<1&&Dt(),Xn(...Gr)):Xn,Fr=zE(d,()=>new Ox(Ln,ze,gr));Ie.register(Fr),ot.push(Fr),fn++};return Rn(Tl.EarlyRead,Y.earlyRead),Rn(Tl.Write,Y.write),Rn(Tl.MixedReadWrite,Y.mixedReadWrite),Rn(Tl.Read,Y.read),{destroy:Dt}}class Ox{constructor(d,b,R){this.phase=d,this.pipelinedArgs=b,this.callbackFn=R,this.zone=Cr(Ea),this.errorHandler=Cr(zu,{optional:!0}),Cr(qp,{optional:!0})?.notify(6)}invoke(){try{const d=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,d)}catch(d){this.errorHandler?.handleError(d)}}}class pI{constructor(){this.executingCallbacks=!1,this.buckets={[Tl.EarlyRead]:new Set,[Tl.Write]:new Set,[Tl.MixedReadWrite]:new Set,[Tl.Read]:new Set},this.deferredCallbacks=new Set}register(d){(this.executingCallbacks?this.deferredCallbacks:this.buckets[d.phase]).add(d)}unregister(d){this.buckets[d.phase].delete(d),this.deferredCallbacks.delete(d)}execute(){this.executingCallbacks=!0;for(const d of Object.values(this.buckets))for(const b of d)b.invoke();this.executingCallbacks=!1;for(const d of this.deferredCallbacks)this.buckets[d.phase].add(d);this.deferredCallbacks.clear()}destroy(){for(const d of Object.values(this.buckets))d.clear();this.deferredCallbacks.clear()}}let Wy=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const b=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const R of b)R()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Fo({token:o,providedIn:"root",factory:()=>new o})}return o})();function Zu(o){return!!Pi(o)}function yb(o,d,b){let R=b?o.styles:null,Y=b?o.classes:null,he=0;if(null!==d)for(let Ie=0;Ie<d.length;Ie++){const ze=d[Ie];"number"==typeof ze?he=ze:1==he?Y=Bd(Y,ze):2==he&&(R=Bd(R,ze+": "+d[++Ie]+";"))}b?o.styles=R:o.stylesWithoutHost=R,b?o.classes=Y:o.classesWithoutHost=Y}class Lx extends hb{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const b=gi(d);return new Xy(b,this.ngModule)}}function Ux(o,d){const b=[];for(const R in o){if(!o.hasOwnProperty(R))continue;const Y=o[R];if(void 0===Y)continue;const he=Array.isArray(Y),Ie=he?Y[0]:Y;b.push(d?{propName:Ie,templateName:R,isSignal:!!((he?Y[1]:Vt.None)&Vt.SignalBased)}:{propName:Ie,templateName:R})}return b}class Xy extends cI{get inputs(){const d=this.componentDef,b=d.inputTransforms,R=Ux(d.inputs,!0);if(null!==b)for(const Y of R)b.hasOwnProperty(Y.propName)&&(Y.transform=b[Y.propName]);return R}get outputs(){return Ux(this.componentDef.outputs,!1)}constructor(d,b){super(),this.componentDef=d,this.ngModule=b,this.componentType=d.type,this.selector=function yt(o){return o.map(Qe).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!b}create(d,b,R,Y){const he=P(null);try{let Ie=(Y=Y||this.ngModule)instanceof au?Y:Y?.injector;Ie&&null!==this.componentDef.getStandaloneInjector&&(Ie=this.componentDef.getStandaloneInjector(Ie)||Ie);const ze=Ie?new Kp(d,Ie):d,ot=ze.get(pb,null);if(null===ot)throw new Br(407,!1);const Dt=ze.get(Ik,null),Rn={rendererFactory:ot,sanitizer:Dt,inlineEffectRunner:null,afterRenderEventManager:ze.get(Wy,null),changeDetectionScheduler:ze.get(qp,null)},Ln=ot.createRenderer(null,this.componentDef),Xn=this.componentDef.selectors[0][0]||"div",gr=R?function b8(o,d,b,R){const he=R.get(N2,!1)||b===pt.ShadowDom,Ie=o.selectRootElement(d,he);return function w8(o){DD(o)}(Ie),Ie}(Ln,R,this.componentDef.encapsulation,ze):k_(Ln,Xn,function rl(o){const d=o.toLowerCase();return"svg"===d?Lu:"math"===d?"math":null}(Xn));let Fr=512;this.componentDef.signals?Fr|=4096:this.componentDef.onPush||(Fr|=16);let Gr=null;null!==gr&&(Gr=R2(gr,ze,!0));const wr=cx(0,null,null,1,0,null,null,null,null,null,null),oo=P_(null,wr,null,Fr,null,null,Rn,Ln,ze,null,Gr);let rs,ia;o2(oo);try{const Wc=this.componentDef;let Mc,Vg=null;Wc.findHostDirectiveDefs?(Mc=[],Vg=new Map,Wc.findHostDirectiveDefs(Wc,Mc,Vg),Mc.push(Wc)):Mc=[Wc];const kO=function vb(o,d){const b=o[Vr],R=Ci;return o[R]=d,o0(b,R,2,"#host",null)}(oo,gr),Tm=function Y_(o,d,b,R,Y,he,Ie){const ze=Y[Vr];!function bb(o,d,b,R){for(const Y of o)d.mergedAttrs=Lr(d.mergedAttrs,Y.hostAttrs);null!==d.mergedAttrs&&(yb(d,d.mergedAttrs,!0),null!==b&&ED(R,b,d))}(R,o,d,Ie);let ot=null;null!==d&&(ot=R2(d,Y[ss]));const Dt=he.rendererFactory.createRenderer(d,b);let Ft=16;b.signals?Ft=4096:b.onPush&&(Ft=64);const fn=P_(Y,TD(b),null,Ft,Y[o.index],o,he,Dt,null,null,ot);return ze.firstCreatePass&&ux(ze,o,R.length-1),s0(Y,fn),Y[o.index]=fn}(kO,gr,Wc,Mc,oo,Rn,Ln);ia=Ai(wr,Ci),gr&&function gI(o,d,b,R){if(R)Xt(o,b,["ng-version","18.1.3"]);else{const{attrs:Y,classes:he}=function Ut(o){const d=[],b=[];let R=1,Y=2;for(;R<o.length;){let he=o[R];if("string"==typeof he)2===Y?""!==he&&d.push(he,o[++R]):8===Y&&b.push(he);else{if(!kr(Y))break;Y=he}R++}return{attrs:d,classes:b}}(d.selectors[0]);Y&&Xt(o,b,Y),he&&he.length>0&&_D(o,b,he.join(" "))}}(Ln,Wc,gr,R),void 0!==b&&function wb(o,d,b){const R=o.projection=[];for(let Y=0;Y<d.length;Y++){const he=b[Y];R.push(null!=he?Array.from(he):null)}}(ia,this.ngContentSelectors,b),rs=function Fx(o,d,b,R,Y,he){const Ie=as(),ze=Y[Vr],ot=yd(Ie,Y);kD(ze,Y,Ie,b,null,R);for(let Ft=0;Ft<b.length;Ft++)Uc(Hm(Y,ze,Ie.directiveStart+Ft,Ie),Y);OD(ze,Y,Ie),ot&&Uc(ot,Y);const Dt=Hm(Y,ze,Ie.directiveStart+Ie.componentOffset,Ie);if(o[ea]=Y[ea]=Dt,null!==he)for(const Ft of he)Ft(Dt,d);return sx(ze,Ie,Y),Dt}(Tm,Wc,Mc,Vg,oo,[m0]),FD(wr,oo,null)}finally{bv()}return new gb(this.componentType,rs,Dv(ia,oo),oo,ia)}finally{P(he)}}}class gb extends Mk{constructor(d,b,R,Y,he){super(),this.location=R,this._rootLView=Y,this._tNode=he,this.previousInputValues=null,this.instance=b,this.hostView=this.changeDetectorRef=new nb(Y,void 0,!1),this.componentType=d}setInput(d,b){const R=this._tNode.inputs;let Y;if(null!==R&&(Y=R[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),b))return;const he=this._rootLView;eb(he[Vr],he,Y,d,b),this.previousInputValues.set(d,b),U_(lu(this._tNode.index,he),1)}}get injector(){return new Nc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function m0(){const o=as();xy(vr()[Vr],o)}let jx=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Rk}return o})();function Rk(){return Eb(as(),vr())}const J_=jx,hu=class extends J_{constructor(d,b,R){super(),this._lContainer=d,this._hostTNode=b,this._hostLView=R}get element(){return Dv(this._hostTNode,this._hostLView)}get injector(){return new Nc(this._hostTNode,this._hostLView)}get parentInjector(){const d=Qw(this._hostTNode,this._hostLView);if(xv(d)){const b=ts(d,this._hostLView),R=Sv(d);return new Nc(b[Vr].data[R+8],b)}return new Nc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const b=y0(this._lContainer);return null!==b&&b[d]||null}get length(){return this._lContainer.length-gc}createEmbeddedView(d,b,R){let Y,he;"number"==typeof R?Y=R:null!=R&&(Y=R.index,he=R.injector);const Ie=d0(this._lContainer,d.ssrId),ze=d.createEmbeddedViewImpl(b||{},he,Ie);return this.insertImpl(ze,Y,Yp(this._hostTNode,Ie)),ze}createComponent(d,b,R,Y,he){const Ie=d&&!function Wh(o){return"function"==typeof o}(d);let ze;if(Ie)ze=b;else{const Xn=b||{};ze=Xn.index,R=Xn.injector,Y=Xn.projectableNodes,he=Xn.environmentInjector||Xn.ngModuleRef}const ot=Ie?d:new Xy(gi(d)),Dt=R||this.parentInjector;if(!he&&null==ot.ngModule){const gr=(Ie?Dt:this.parentInjector).get(au,null);gr&&(he=gr)}const Ft=gi(ot.componentType??{}),fn=d0(this._lContainer,Ft?.id??null),Ln=ot.create(Dt,Y,fn?.firstChild??null,he);return this.insertImpl(Ln.hostView,ze,Yp(this._hostTNode,fn)),Ln}insert(d,b){return this.insertImpl(d,b,!0)}insertImpl(d,b,R){const Y=d._lView;if(function AA(o){return jl(o[Ro])}(Y)){const ze=this.indexOf(d);if(-1!==ze)this.detach(ze);else{const ot=Y[Ro],Dt=new hu(ot,ot[tl],ot[Ro]);Dt.detach(Dt.indexOf(d))}}const he=this._adjustIndex(b),Ie=this._lContainer;return $y(Ie,Y,he,R),d.attachToViewContainerRef(),Af(_b(Ie),he,d),d}move(d,b){return this.insert(d,b)}indexOf(d){const b=y0(this._lContainer);return null!==b?b.indexOf(d):-1}remove(d){const b=this._adjustIndex(d,-1),R=Wv(this._lContainer,b);R&&(mt(_b(this._lContainer),b),R_(R[Vr],R))}detach(d){const b=this._adjustIndex(d,-1),R=Wv(this._lContainer,b);return R&&null!=mt(_b(this._lContainer),b)?new nb(R):null}_adjustIndex(d,b=0){return d??this.length+b}};function y0(o){return o[8]}function _b(o){return o[8]||(o[8]=[])}function Eb(o,d){let b;const R=d[o.index];return jl(R)?b=R:(b=BD(R,d,null,o),d[o.index]=b,s0(d,b)),bd(b,d,o,R),new hu(b,o,d)}let bd=function vI(o,d,b,R){if(o[Fl])return;let Y;Y=8&b.type?vs(R):function Ok(o,d){const b=o[_i],R=b.createComment(""),Y=yd(d,o);return t0(b,ep(b,Y),R,function k4(o,d){return o.nextSibling(d)}(b,Y),!1),R}(d,b),o[Fl]=Y},Yu=()=>!1;class il{constructor(d){this.queryList=d,this.matches=null}clone(){return new il(this.queryList)}setDirty(){this.queryList.setDirty()}}class $x{constructor(d=[]){this.queries=d}createEmbeddedView(d){const b=d.queries;if(null!==b){const R=null!==d.contentQueries?d.contentQueries[0]:b.length,Y=[];for(let he=0;he<R;he++){const Ie=b.getByIndex(he);Y.push(this.queries[Ie.indexInDeclarationView].clone())}return new $x(Y)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}finishViewCreation(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let b=0;b<this.queries.length;b++)null!==kt(d,b).matches&&this.queries[b].setDirty()}}class Wi{constructor(d,b,R=null){this.flags=b,this.read=R,this.predicate="string"==typeof d?function Vx(o){return o.split(",").map(d=>d.trim())}(d):d}}class ui{constructor(d=[]){this.queries=d}elementStart(d,b){for(let R=0;R<this.queries.length;R++)this.queries[R].elementStart(d,b)}elementEnd(d){for(let b=0;b<this.queries.length;b++)this.queries[b].elementEnd(d)}embeddedTView(d){let b=null;for(let R=0;R<this.length;R++){const Y=null!==b?b.length:0,he=this.getByIndex(R).embeddedTView(d,Y);he&&(he.indexInDeclarationView=R,null!==b?b.push(he):b=[he])}return null!==b?new ui(b):null}template(d,b){for(let R=0;R<this.queries.length;R++)this.queries[R].template(d,b)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class _h{constructor(d,b=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=b}elementStart(d,b){this.isApplyingToNode(b)&&this.matchTNode(d,b)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,b){this.elementStart(d,b)}embeddedTView(d,b){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,b),new _h(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1&~this.metadata.flags){const b=this._declarationNodeIndex;let R=d.parent;for(;null!==R&&8&R.type&&R.index!==b;)R=R.parent;return b===(null!==R?R.index:-1)}return this._appliesToNextNode}matchTNode(d,b){const R=this.metadata.predicate;if(Array.isArray(R))for(let Y=0;Y<R.length;Y++){const he=R[Y];this.matchTNodeWithReadOption(d,b,Qp(b,he)),this.matchTNodeWithReadOption(d,b,zm(b,d,he,!1,!1))}else R===rb?4&b.type&&this.matchTNodeWithReadOption(d,b,-1):this.matchTNodeWithReadOption(d,b,zm(b,d,R,!1,!1))}matchTNodeWithReadOption(d,b,R){if(null!==R){const Y=this.metadata.read;if(null!==Y)if(Y===Dy||Y===jx||Y===rb&&4&b.type)this.addMatch(b.index,-2);else{const he=zm(b,d,Y,!1,!1);null!==he&&this.addMatch(b.index,he)}else this.addMatch(b.index,R)}}addMatch(d,b){null===this.matches?this.matches=[d,b]:this.matches.push(d,b)}}function Qp(o,d){const b=o.localNames;if(null!==b)for(let R=0;R<b.length;R+=2)if(b[R]===d)return b[R+1];return null}function Q_(o,d,b,R){return-1===b?function q_(o,d){return 11&o.type?Dv(o,d):4&o.type?F_(o,d):null}(d,o):-2===b?function bI(o,d,b){return b===Dy?Dv(d,o):b===rb?F_(d,o):b===jx?Eb(d,o):void 0}(o,d,R):Hm(o,o[Vr],b,d)}function wI(o,d,b,R){const Y=d[jp].queries[R];if(null===Y.matches){const he=o.data,Ie=b.matches,ze=[];for(let ot=0;null!==Ie&&ot<Ie.length;ot+=2){const Dt=Ie[ot];ze.push(Dt<0?null:Q_(d,he[Dt],Ie[ot+1],b.metadata.read))}Y.matches=ze}return Y.matches}function xb(o,d,b,R){const Y=o.queries.getByIndex(b),he=Y.matches;if(null!==he){const Ie=wI(o,d,Y,b);for(let ze=0;ze<he.length;ze+=2){const ot=he[ze];if(ot>0)R.push(Ie[ze/2]);else{const Dt=he[ze+1],Ft=d[-ot];for(let fn=gc;fn<Ft.length;fn++){const Rn=Ft[fn];Rn[Fp]===Rn[Ro]&&xb(Rn[Vr],Rn,Dt,R)}if(null!==Ft[my]){const fn=Ft[my];for(let Rn=0;Rn<fn.length;Rn++){const Ln=fn[Rn];xb(Ln[Vr],Ln,Dt,R)}}}}}return R}function Kx(o,d){return o[jp].queries[d].queryList}function mo(o,d,b){const R=new s_(!(4&~b));return function x8(o,d,b,R){const Y=qv(d);Y.push(b),o.firstCreatePass&&Qv(o).push(R,Y.length-1)}(o,d,R,R.destroy),(d[jp]??=new $x).queries.push(new il(R))-1}function e1(o,d,b){const R=Uo();return R.firstCreatePass&&(Sb(R,new Wi(o,d,b),-1),!(2&~d)&&(R.staticViewQueries=!0)),mo(R,vr(),d)}function qu(o,d,b,R){const Y=Uo();if(Y.firstCreatePass){const he=as();Sb(Y,new Wi(d,b,R),he.index),function Qu(o,d){const b=o.contentQueries||(o.contentQueries=[]);d!==(b.length?b[b.length-1]:-1)&&b.push(o.queries.length-1,d)}(Y,o),!(2&~b)&&(Y.staticContentQueries=!0)}return mo(Y,vr(),b)}function Sb(o,d,b){null===o.queries&&(o.queries=new ui),o.queries.track(new _h(d,b))}function kt(o,d){return o.queries.getByIndex(d)}function t1(o,d){const b=o[Vr],R=kt(b,d);return R.crossesNgTemplate?xb(b,o,d,[]):wI(b,o,R,d)}function ef(o){return"function"==typeof o&&void 0!==o[x]}function zx(o,d){Vl("NgSignals");const b=function v(o){const d=Object.create(Oe);d.value=o;const b=()=>(D(d),d.value);return b[x]=d,b}(o),R=b[x];return d?.equal&&(R.equal=d.equal),b.set=Y=>ee(R,Y),b.update=Y=>function ce(o,d){re()||N(),ee(o,d(o.value))}(R,Y),b.asReadonly=Hx.bind(b),b}function Hx(){const o=this[x];if(void 0===o.readonlyFn){const d=()=>this();d[x]=o,o.readonlyFn=d}return o.readonlyFn}function Ei(o){return ef(o)&&"function"==typeof o.set}function tf(o,d){let b;const R=C(()=>{b._dirtyCounter();const Y=function no(o,d){const b=o._lView,R=o._queryIndex;if(void 0===b||void 0===R||4&b[Ni])return d?void 0:Xe;const Y=Kx(b,R),he=t1(b,R);return Y.reset(he,o_),d?Y.first:Y._changesDetected||void 0===o._flatValue?o._flatValue=Y.toArray():o._flatValue}(b,o);if(d&&void 0===Y)throw new Br(-951,!1);return Y});return b=R[x],b._dirtyCounter=zx(0),b._flatValue=void 0,R}function Yr(){return tf(!0,!1)}function Qr(){return tf(!0,!0)}function Qi(o,d){const b=o[x];b._lView=vr(),b._queryIndex=d,b._queryList=Kx(b._lView,d),b._queryList.onDirty(()=>b._dirtyCounter.update(R=>R+1))}function eo(o,d){return Yr()}const io=(eo.required=function ro(o,d){return Qr()},eo);function Qn(o,d){return Yr()}const EI=(Qn.required=function _I(o,d){return Qr()},Qn);function $c(o){const d=Object.create(Po),b=new Tv;function R(){return D(d),ns(d.value),d.value}return d.value=o,R[x]=d,R.asReadonly=Hx.bind(R),R.set=Y=>{d.equal(d.value,Y)||(ee(d,Y),b.emit(Y))},R.update=Y=>{ns(d.value),R.set(Y(d.value))},R.subscribe=b.subscribe.bind(b),R.destroyRef=b.destroyRef,R}function ns(o){if(o===Ls)throw new Br(952,!1)}function ol(o){return $c(o)}const zl=(ol.required=function vc(){return $c(Ls)},ol);function Zx(o){let d=function np(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),b=!0;const R=[o];for(;d;){let Y;if(uh(o))Y=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new Br(903,!1);Y=d.\u0275dir}if(Y){if(b){R.push(Y);const Ie=o;Ie.inputs=s1(o.inputs),Ie.inputTransforms=s1(o.inputTransforms),Ie.declaredInputs=s1(o.declaredInputs),Ie.outputs=s1(o.outputs);const ze=Y.hostBindings;ze&&jk(o,ze);const ot=Y.viewQuery,Dt=Y.contentQueries;if(ot&&Yx(o,ot),Dt&&Fk(o,Dt),Lk(o,Y),Na(o.outputs,Y.outputs),uh(Y)&&Y.data.animation){const Ft=o.data;Ft.animation=(Ft.animation||[]).concat(Y.data.animation)}}const he=Y.features;if(he)for(let Ie=0;Ie<he.length;Ie++){const ze=he[Ie];ze&&ze.ngInherit&&ze(o),ze===Zx&&(b=!1)}}d=Object.getPrototypeOf(d)}!function Uk(o){let d=0,b=null;for(let R=o.length-1;R>=0;R--){const Y=o[R];Y.hostVars=d+=Y.hostVars,Y.hostAttrs=Lr(Y.hostAttrs,b=Lr(b,Y.hostAttrs))}}(R)}function Lk(o,d){for(const b in d.inputs){if(!d.inputs.hasOwnProperty(b)||o.inputs.hasOwnProperty(b))continue;const R=d.inputs[b];if(void 0!==R&&(o.inputs[b]=R,o.declaredInputs[b]=d.declaredInputs[b],null!==d.inputTransforms)){const Y=Array.isArray(R)?R[0]:R;if(!d.inputTransforms.hasOwnProperty(Y))continue;o.inputTransforms??={},o.inputTransforms[Y]=d.inputTransforms[Y]}}}function s1(o){return o===rr?{}:o===Xe?[]:o}function Yx(o,d){const b=o.viewQuery;o.viewQuery=b?(R,Y)=>{d(R,Y),b(R,Y)}:d}function Fk(o,d){const b=o.contentQueries;o.contentQueries=b?(R,Y,he)=>{d(R,Y,he),b(R,Y,he)}:d}function jk(o,d){const b=o.hostBindings;o.hostBindings=b?(R,Y)=>{d(R,Y),b(R,Y)}:d}function DI(o){const d=b=>{const R=(Array.isArray(o)?o:o()).map(Y=>"function"==typeof Y?{directive:Mi(Y),inputs:rr,outputs:rr}:{directive:Mi(Y.directive),inputs:Is(Y.inputs),outputs:Is(Y.outputs)});null===b.hostDirectives?(b.findHostDirectiveDefs=II,b.hostDirectives=R):b.hostDirectives.unshift(...R)};return d.ngInherit=!0,d}function II(o,d,b){if(null!==o.hostDirectives)for(const R of o.hostDirectives){const Y=Us(R.directive);wd(Y.declaredInputs,R.inputs),II(Y,d,b),b.set(Y,R),d.push(Y)}}function Is(o){if(void 0===o||0===o.length)return rr;const d={};for(let b=0;b<o.length;b+=2)d[o[b]]=o[b+1];return d}function wd(o,d){for(const b in d)d.hasOwnProperty(b)&&(o[d[b]]=o[b])}function Ab(o){const d=o.inputConfig,b={};for(const R in d)if(d.hasOwnProperty(R)){const Y=d[R];Array.isArray(Y)&&Y[3]&&(b[R]=Y[3])}o.inputTransforms=b}class Ha{}class CI{}function Tb(o,d){return new wc(o,d??null,[])}class wc extends Ha{constructor(d,b,R){super(),this._parent=b,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lx(this);const Y=Pi(d);this._bootstrapComponents=Wu(Y.bootstrap),this._r3Injector=c5(d,b,[{provide:Ha,useValue:this},{provide:hb,useValue:this.componentFactoryResolver},...R],So(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(b=>b()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class Jx extends CI{constructor(d){super(),this.moduleType=d}create(d){return new wc(this.moduleType,d,[])}}class kI extends Ha{constructor(d){super(),this.componentFactoryResolver=new Lx(this),this.instance=null;const b=new $a([...d.providers,{provide:Ha,useValue:this},{provide:hb,useValue:this.componentFactoryResolver}],d.parent||jw(),d.debugName,new Set(["environment"]));this.injector=b,d.runEnvironmentInitializers&&b.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function Ws(o,d,b=null){return new kI({providers:o,parent:d,debugName:b,runEnvironmentInitializers:!0}).injector}function Db(o){return!!nf(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function nf(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Uf(o,d,b){return o[d]=b}function Cs(o,d,b){return!Object.is(o[d],b)&&(o[d]=b,!0)}function Ff(o,d,b,R){const Y=Cs(o,d,b);return Cs(o,d+1,R)||Y}function Ib(o,d,b,R,Y,he,Ie,ze,ot,Dt){const Ft=b+Ci,fn=d.firstCreatePass?function qy(o,d,b,R,Y,he,Ie,ze,ot){const Dt=d.consts,Ft=o0(d,o,4,Ie||null,ze||null);lx(d,b,Ft,Fu(Dt,ot)),xy(d,Ft);const fn=Ft.tView=cx(2,Ft,R,Y,he,d.directiveRegistry,d.pipeRegistry,null,d.schemas,Dt,null);return null!==d.queries&&(d.queries.template(d,Ft),fn.queries=d.queries.embeddedTView(Ft)),Ft}(Ft,d,o,R,Y,he,Ie,ze,ot):d.data[Ft];Rf(fn,!1);const Rn=qx(d,o,fn,b);wv()&&Gv(d,o,Rn,fn),Uc(Rn,o);const Ln=BD(Rn,o,Rn,fn);return o[Ft]=Ln,s0(o,Ln),function Hr(o,d,b){return Yu(o,d,b)}(Ln,fn,o),Vw(fn)&&Nf(d,o,fn),null!=ot&&ax(o,fn,Dt),fn}function c1(o,d,b,R,Y,he,Ie,ze){const ot=vr(),Dt=Uo();return Ib(ot,Dt,o,d,b,R,Y,Fu(Dt.consts,he),Ie,ze),c1}let qx=function RI(o,d,b,R){return hh(!0),d[_i].createComment("")};function lc(o,d,b,R){const Y=vr();return Cs(Y,jd(),d)&&(Uo(),bh(ha(),Y,o,d,b,R)),lc}function lp(o,d,b,R){return Cs(o,jd(),b)?d+Ji(b)+R:Eo}function dp(o,d,b,R,Y,he){const ze=Ff(o,function Zh(){return uo.lFrame.bindingIndex}(),b,Y);return $u(2),ze?d+Ji(b)+R+Ji(Y)+he:Eo}function ec(o,d){return o<<17|d<<2}function yu(o){return o>>17&32767}function x1(o){return 2|o}function Sd(o){return(131068&o)>>2}function hp(o,d){return-131069&o|d<<2}function _c(o){return 1|o}function M1(o,d,b,R){const Y=o[b+1],he=null===d;let Ie=R?yu(Y):Sd(Y),ze=!1;for(;0!==Ie&&(!1===ze||he);){const Dt=o[Ie+1];Kf(o[Ie],d)&&(ze=!0,o[Ie+1]=R?_c(Dt):x1(Dt)),Ie=R?yu(Dt):Sd(Dt)}ze&&(o[b+1]=R?x1(Y):_c(Y))}function Kf(o,d){return null===o||null==d||(Array.isArray(o)?o[1]:o)===d||!(!Array.isArray(o)||"string"!=typeof d)&&or(o,d)>=0}const dc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Md(o){return o.substring(dc.key,dc.keyEnd)}function $b(o,d){const b=dc.textEnd;return b===d?-1:(d=dc.keyEnd=function sS(o,d,b){for(;d<b&&o.charCodeAt(d)>32;)d++;return d}(o,dc.key=d,b),M0(o,d,b))}function M0(o,d,b){for(;d<b&&o.charCodeAt(d)<=32;)d++;return d}function am(o,d,b){const R=vr();return Cs(R,jd(),d)&&Kd(Uo(),ha(),R,o,d,R[_i],b,!1),am}function Ah(o,d,b,R,Y){const Ie=Y?"class":"style";eb(o,b,d.inputs[Ie],Ie,R)}function Vb(o,d,b){return cf(o,d,b,!1),Vb}function Vf(o,d){return cf(o,d,null,!0),Vf}function pp(o){lf(A1,zf,o,!0)}function zf(o,d){for(let b=function jI(o){return function Kb(o){dc.key=0,dc.keyEnd=0,dc.value=0,dc.valueEnd=0,dc.textEnd=o.length}(o),$b(o,M0(o,0,dc.textEnd))}(d);b>=0;b=$b(d,b))yn(o,Md(d),!0)}function cf(o,d,b,R){const Y=vr(),he=Uo(),Ie=$u(2);he.firstUpdatePass&&dS(he,o,Ie,R),d!==Eo&&Cs(Y,Ie,d)&&Dh(he,he.data[xl()],Y,Y[_i],o,Y[Ie+1]=function df(o,d){return null==o||""===o||("string"==typeof d?o+=d:"object"==typeof o&&(o=So(Jh(o)))),o}(d,b),R,Ie)}function lf(o,d,b,R){const Y=Uo(),he=$u(2);Y.firstUpdatePass&&dS(Y,null,he,R);const Ie=vr();if(b!==Eo&&Cs(Ie,he,b)){const ze=Y.data[xl()];if(pS(ze,R)&&!lS(Y,he)){let ot=R?ze.classesWithoutHost:ze.stylesWithoutHost;null!==ot&&(b=Bd(ot,b||"")),Ah(Y,ze,Ie,b,R)}else!function hS(o,d,b,R,Y,he,Ie,ze){Y===Eo&&(Y=Xe);let ot=0,Dt=0,Ft=0<Y.length?Y[0]:null,fn=0<he.length?he[0]:null;for(;null!==Ft||null!==fn;){const Rn=ot<Y.length?Y[ot+1]:void 0,Ln=Dt<he.length?he[Dt+1]:void 0;let gr,Xn=null;Ft===fn?(ot+=2,Dt+=2,Rn!==Ln&&(Xn=fn,gr=Ln)):null===fn||null!==Ft&&Ft<fn?(ot+=2,Xn=Ft):(Dt+=2,Xn=fn,gr=Ln),null!==Xn&&Dh(o,d,b,R,Xn,gr,Ie,ze),Ft=ot<Y.length?Y[ot]:null,fn=Dt<he.length?he[Dt]:null}}(Y,ze,Ie,Ie[_i],Ie[he+1],Ie[he+1]=function Th(o,d,b){if(null==b||""===b)return Xe;const R=[],Y=Jh(b);if(Array.isArray(Y))for(let he=0;he<Y.length;he++)o(R,Y[he],!0);else if("object"==typeof Y)for(const he in Y)Y.hasOwnProperty(he)&&o(R,he,Y[he]);else"string"==typeof Y&&d(R,Y);return R}(o,d,b),R,he)}}function lS(o,d){return d>=o.expandoStartIndex}function dS(o,d,b,R){const Y=o.data;if(null===Y[b+1]){const he=Y[xl()],Ie=lS(o,b);pS(he,R)&&null===d&&!Ie&&(d=!1),d=function uS(o,d,b,R){const Y=n2(o);let he=R?d.residualClasses:d.residualStyles;if(null===Y)0===(R?d.classBindings:d.styleBindings)&&(b=dg(b=lg(null,o,d,b,R),d.attrs,R),he=null);else{const Ie=d.directiveStylingLast;if(-1===Ie||o[Ie]!==Y)if(b=lg(Y,o,d,b,R),null===he){let ot=function cm(o,d,b){const R=b?d.classBindings:d.styleBindings;if(0!==Sd(R))return o[yu(R)]}(o,d,R);void 0!==ot&&Array.isArray(ot)&&(ot=lg(null,o,d,ot[1],R),ot=dg(ot,d.attrs,R),function mp(o,d,b,R){o[yu(b?d.classBindings:d.styleBindings)]=R}(o,d,R,ot))}else he=function fS(o,d,b){let R;const Y=d.directiveEnd;for(let he=1+d.directiveStylingLast;he<Y;he++)R=dg(R,o[he].hostAttrs,b);return dg(R,d.attrs,b)}(o,d,R)}return void 0!==he&&(R?d.residualClasses=he:d.residualStyles=he),b}(Y,he,d,R),function FI(o,d,b,R,Y,he){let Ie=he?d.classBindings:d.styleBindings,ze=yu(Ie),ot=Sd(Ie);o[R]=b;let Ft,Dt=!1;if(Array.isArray(b)?(Ft=b[1],(null===Ft||or(b,Ft)>0)&&(Dt=!0)):Ft=b,Y)if(0!==ot){const Rn=yu(o[ze+1]);o[R+1]=ec(Rn,ze),0!==Rn&&(o[Rn+1]=hp(o[Rn+1],R)),o[ze+1]=function E1(o,d){return 131071&o|d<<17}(o[ze+1],R)}else o[R+1]=ec(ze,0),0!==ze&&(o[ze+1]=hp(o[ze+1],R)),ze=R;else o[R+1]=ec(ot,0),0===ze?ze=R:o[ot+1]=hp(o[ot+1],R),ot=R;Dt&&(o[R+1]=x1(o[R+1])),M1(o,Ft,R,!0),M1(o,Ft,R,!1),function cg(o,d,b,R,Y){const he=Y?o.residualClasses:o.residualStyles;null!=he&&"string"==typeof d&&or(he,d)>=0&&(b[R+1]=_c(b[R+1]))}(d,Ft,o,R,he),Ie=ec(ze,ot),he?d.classBindings=Ie:d.styleBindings=Ie}(Y,he,d,b,Ie,R)}}function lg(o,d,b,R,Y){let he=null;const Ie=b.directiveEnd;let ze=b.directiveStylingLast;for(-1===ze?ze=b.directiveStart:ze++;ze<Ie&&(he=d[ze],R=dg(R,he.hostAttrs,Y),he!==o);)ze++;return null!==o&&(b.directiveStylingLast=ze),R}function dg(o,d,b){const R=b?1:2;let Y=-1;if(null!==d)for(let he=0;he<d.length;he++){const Ie=d[he];"number"==typeof Ie?Y=Ie:Y===R&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),yn(o,Ie,!!b||d[++he]))}return void 0===o?null:o}function A1(o,d,b){const R=String(d);""!==R&&!R.includes(" ")&&yn(o,R,b)}function Dh(o,d,b,R,Y,he,Ie,ze){if(!(3&d.type))return;const ot=o.data,Dt=ot[ze+1],Ft=function ag(o){return!(1&~o)}(Dt)?A0(ot,d,b,Y,Sd(Dt),Ie):void 0;ug(Ft)||(ug(he)||function jb(o){return!(2&~o)}(Dt)&&(he=A0(ot,null,b,Y,ze,Ie)),function wD(o,d,b,R,Y){if(d)Y?o.addClass(b,R):o.removeClass(b,R);else{let he=-1===R.indexOf("-")?void 0:C_.DashCase;null==Y?o.removeStyle(b,R,he):("string"==typeof Y&&Y.endsWith("!important")&&(Y=Y.slice(0,-10),he|=C_.Important),o.setStyle(b,R,Y,he))}}(R,Ie,pv(xl(),b),Y,he))}function A0(o,d,b,R,Y,he){const Ie=null===d;let ze;for(;Y>0;){const ot=o[Y],Dt=Array.isArray(ot),Ft=Dt?ot[1]:ot,fn=null===Ft;let Rn=b[Y+1];Rn===Eo&&(Rn=fn?Xe:void 0);let Ln=fn?zn(Rn,R):Ft===R?Rn:void 0;if(Dt&&!ug(Ln)&&(Ln=zn(ot,R)),ug(Ln)&&(ze=Ln,Ie))return ze;const Xn=o[Y+1];Y=Ie?yu(Xn):Sd(Xn)}if(null!==d){let ot=he?d.residualClasses:d.residualStyles;null!=ot&&(ze=zn(ot,R))}return ze}function ug(o){return void 0!==o}function pS(o,d){return!!(o.flags&(d?8:16))}function Hb(o,d,b){lf(yn,zf,lp(vr(),o,d,b),!0)}class XI{destroy(d){}updateValue(d,b){}swap(d,b){const R=Math.min(d,b),Y=Math.max(d,b),he=this.detach(Y);if(Y-R>1){const Ie=this.detach(R);this.attach(R,he),this.attach(Y,Ie)}else this.attach(R,he)}move(d,b){this.attach(b,this.detach(d))}}function yp(o,d,b,R,Y){return o===b&&Object.is(d,R)?1:Object.is(Y(o,d),Y(b,R))?-1:0}function D1(o,d,b,R){return!(void 0===d||!d.has(R)||(o.attach(b,d.get(R)),d.delete(R),0))}function I1(o,d,b,R,Y){if(D1(o,d,R,b(R,Y)))o.updateValue(R,Y);else{const he=o.create(R,Y);o.attach(R,he)}}function C1(o,d,b,R){const Y=new Set;for(let he=d;he<=b;he++)Y.add(R(he,o.at(he)));return Y}class vS{constructor(){this.kvMap=new Map,this._vMap=void 0}has(d){return this.kvMap.has(d)}delete(d){if(!this.has(d))return!1;const b=this.kvMap.get(d);return void 0!==this._vMap&&this._vMap.has(b)?(this.kvMap.set(d,this._vMap.get(b)),this._vMap.delete(b)):this.kvMap.delete(d),!0}get(d){return this.kvMap.get(d)}set(d,b){if(this.kvMap.has(d)){let R=this.kvMap.get(d);void 0===this._vMap&&(this._vMap=new Map);const Y=this._vMap;for(;Y.has(R);)R=Y.get(R);Y.set(R,b)}else this.kvMap.set(d,b)}forEach(d){for(let[b,R]of this.kvMap)if(d(R,b),void 0!==this._vMap){const Y=this._vMap;for(;Y.has(R);)R=Y.get(R),d(R,b)}}}function T0(o,d){Vl("NgControlFlow");const b=vr(),R=jd(),Y=b[R]!==Eo?b[R]:-1,he=-1!==Y?hg(b,Ci+Y):void 0;if(Cs(b,R,o)){const ze=P(null);try{if(void 0!==he&&px(he,0),-1!==o){const ot=Ci+o,Dt=hg(b,ot),Ft=k1(b[Vr],ot),fn=d0(Dt,Ft.tView.ssrId);$y(Dt,a0(b,Ft,d,{dehydratedView:fn}),0,Yp(Ft,fn))}}finally{P(ze)}}else if(void 0!==he){const ze=jD(he,0);void 0!==ze&&(ze[ea]=d)}}class ZI{constructor(d,b,R){this.lContainer=d,this.$implicit=b,this.$index=R}get $count(){return this.lContainer.length-gc}}function bS(o){return o}function wS(o,d){return d}class YI{constructor(d,b,R){this.hasEmptyBlock=d,this.trackByFn=b,this.liveCollection=R}}function _S(o,d,b,R,Y,he,Ie,ze,ot,Dt,Ft,fn,Rn){Vl("NgControlFlow");const Ln=vr(),Xn=Uo(),gr=void 0!==ot,Fr=vr(),Gr=ze?Ie.bind(Fr[Ka][ea]):Ie,wr=new YI(gr,Gr);Fr[Ci+o]=wr,Ib(Ln,Xn,o+1,d,b,R,Y,Fu(Xn.consts,he)),gr&&Ib(Ln,Xn,o+2,ot,Dt,Ft,fn,Fu(Xn.consts,Rn))}class JI extends XI{constructor(d,b,R){super(),this.lContainer=d,this.hostLView=b,this.templateTNode=R,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-gc}at(d){return this.getLView(d)[ea].$implicit}attach(d,b){const R=b[Ms];this.needsIndexUpdate||=d!==this.length,$y(this.lContainer,b,d,Yp(this.templateTNode,R))}detach(d){return this.needsIndexUpdate||=d!==this.length-1,function xS(o,d){return Wv(o,d)}(this.lContainer,d)}create(d,b){const R=d0(this.lContainer,this.templateTNode.tView.ssrId),Y=a0(this.hostLView,this.templateTNode,new ZI(this.lContainer,b,d),{dehydratedView:R});return this.operationsCounter?.recordCreate(),Y}destroy(d){R_(d[Vr],d),this.operationsCounter?.recordDestroy()}updateValue(d,b){this.getLView(d)[ea].$implicit=b}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let d=0;d<this.length;d++)this.getLView(d)[ea].$index=d}getLView(d){return function vu(o,d){return jD(o,d)}(this.lContainer,d)}}function ES(o){const d=P(null),b=xl();try{const R=vr(),Y=R[Vr],he=R[b],Ie=b+1,ze=hg(R,Ie);if(void 0===he.liveCollection){const Dt=k1(Y,Ie);he.liveCollection=new JI(ze,R,Dt)}else he.liveCollection.reset();const ot=he.liveCollection;if(function gS(o,d,b){let R,Y,he=0,Ie=o.length-1;if(Array.isArray(d)){let ot=d.length-1;for(;he<=Ie&&he<=ot;){const Dt=o.at(he),Ft=d[he],fn=yp(he,Dt,he,Ft,b);if(0!==fn){fn<0&&o.updateValue(he,Ft),he++;continue}const Rn=o.at(Ie),Ln=d[ot],Xn=yp(Ie,Rn,ot,Ln,b);if(0!==Xn){Xn<0&&o.updateValue(Ie,Ln),Ie--,ot--;continue}const gr=b(he,Dt),Fr=b(Ie,Rn),Gr=b(he,Ft);if(Object.is(Gr,Fr)){const wr=b(ot,Ln);Object.is(wr,gr)?(o.swap(he,Ie),o.updateValue(Ie,Ln),ot--,Ie--):o.move(Ie,he),o.updateValue(he,Ft),he++}else if(R??=new vS,Y??=C1(o,he,Ie,b),D1(o,R,he,Gr))o.updateValue(he,Ft),he++,Ie++;else if(Y.has(Gr))R.set(gr,o.detach(he)),Ie--;else{const wr=o.create(he,d[he]);o.attach(he,wr),he++,Ie++}}for(;he<=ot;)I1(o,R,b,he,d[he]),he++}else if(null!=d){const ot=d[Symbol.iterator]();let Dt=ot.next();for(;!Dt.done&&he<=Ie;){const Ft=o.at(he),fn=Dt.value,Rn=yp(he,Ft,he,fn,b);if(0!==Rn)Rn<0&&o.updateValue(he,fn),he++,Dt=ot.next();else{R??=new vS,Y??=C1(o,he,Ie,b);const Ln=b(he,fn);if(D1(o,R,he,Ln))o.updateValue(he,fn),he++,Ie++,Dt=ot.next();else if(Y.has(Ln)){const Xn=b(he,Ft);R.set(Xn,o.detach(he)),Ie--}else o.attach(he,o.create(he,fn)),he++,Ie++,Dt=ot.next()}}for(;!Dt.done;)I1(o,R,b,o.length,Dt.value),Dt=ot.next()}for(;he<=Ie;)o.destroy(o.detach(Ie--));R?.forEach(ot=>{o.destroy(ot)})}(ot,o,he.trackByFn),ot.updateIndexes(),he.hasEmptyBlock){const Dt=jd(),Ft=0===ot.length;if(Cs(R,Dt,Ft)){const fn=b+2,Rn=hg(R,fn);if(Ft){const Ln=k1(Y,fn),Xn=d0(Rn,Ln.tView.ssrId);$y(Rn,a0(R,Ln,void 0,{dehydratedView:Xn}),0,Yp(Ln,Xn))}else px(Rn,0)}}}finally{P(d)}}function hg(o,d){return o[d]}function k1(o,d){return Ai(o,d)}function Wb(o,d,b,R){const Y=vr(),he=Uo(),Ie=Ci+o,ze=Y[_i],ot=he.firstCreatePass?function qI(o,d,b,R,Y,he){const Ie=d.consts,ot=o0(d,o,2,R,Fu(Ie,Y));return lx(d,b,ot,Fu(Ie,he)),null!==ot.attrs&&yb(ot,ot.attrs,!1),null!==ot.mergedAttrs&&yb(ot,ot.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,ot),ot}(Ie,he,Y,d,b,R):he.data[Ie],Dt=SS(he,Y,ot,ze,d,o);Y[Ie]=Dt;const Ft=Vw(ot);return Rf(ot,!0),ED(ze,Dt,ot),!function op(o){return!(32&~o.flags)}(ot)&&wv()&&Gv(he,Y,Dt,ot),0===function CA(){return uo.lFrame.elementDepthCount}()&&Uc(Dt,Y),function es(){uo.lFrame.elementDepthCount++}(),Ft&&(Nf(he,Y,ot),sx(he,ot,Y)),null!==R&&ax(Y,ot),Wb}function Gb(){let o=as();QE()?vv():(o=o.parent,Rf(o,!1));const d=o;(function El(o){return uo.skipHydrationRootTNode===o})(d)&&function Km(){uo.skipHydrationRootTNode=null}(),function kA(){uo.lFrame.elementDepthCount--}();const b=Uo();return b.firstCreatePass&&(xy(b,o),wA(o)&&b.queries.elementEnd(o)),null!=d.classesWithoutHost&&function ZA(o){return!!(8&o.flags)}(d)&&Ah(b,d,vr(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function Ku(o){return!!(16&o.flags)}(d)&&Ah(b,d,vr(),d.stylesWithoutHost,!1),Gb}function R1(o,d,b,R){return Wb(o,d,b,R),Gb(),R1}let SS=(o,d,b,R,Y,he)=>(hh(!0),k_(R,Y,function HA(){return uo.lFrame.currentNamespace}()));function pg(o,d,b){const R=vr(),Y=Uo(),he=o+Ci,Ie=Y.firstCreatePass?function MS(o,d,b,R,Y){const he=d.consts,Ie=Fu(he,R),ze=o0(d,o,8,"ng-container",Ie);return null!==Ie&&yb(ze,Ie,!0),lx(d,b,ze,Fu(he,Y)),null!==d.queries&&d.queries.elementStart(d,ze),ze}(he,Y,R,d,b):Y.data[he];Rf(Ie,!0);const ze=AS(Y,R,Ie,o);return R[he]=ze,wv()&&Gv(Y,R,ze,Ie),Uc(ze,R),Vw(Ie)&&(Nf(Y,R,Ie),sx(Y,Ie,R)),null!=b&&ax(R,Ie),pg}function D0(){let o=as();const d=Uo();return QE()?vv():(o=o.parent,Rf(o,!1)),d.firstCreatePass&&(xy(d,o),wA(o)&&d.queries.elementEnd(o)),D0}function Ec(o,d,b){return pg(o,d,b),D0(),Ec}let AS=(o,d,b,R)=>(hh(!0),Xu(d[_i],""));function vp(){return vr()}function bp(o,d,b){const R=vr();return Cs(R,jd(),d)&&Kd(Uo(),ha(),R,o,d,R[_i],b,!0),bp}function lm(o,d,b){const R=vr();if(Cs(R,jd(),d)){const he=Uo(),Ie=ha();Kd(he,Ie,R,o,d,LD(n2(he.data),Ie,R),b,!0)}return lm}const Ql=void 0;var Xb=["en",[["a","p"],["AM","PM"],Ql],[["AM","PM"],Ql,Ql],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ql,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ql,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ql,"{1} 'at' {0}",Ql],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function P1(o){const b=Math.floor(Math.abs(o)),R=o.toString().replace(/^[^.]*\.?/,"").length;return 1===b&&0===R?1:5}];let dm={};function wp(o){const d=function Ch(o){return o.toLowerCase().replace(/_/g,"-")}(o);let b=_p(d);if(b)return b;const R=d.split("-")[0];if(b=_p(R),b)return b;if("en"===R)return Xb;throw new Br(701,!1)}function C0(o){return wp(o)[Zd.PluralCase]}function _p(o){return o in dm||(dm[o]=Zr.ng&&Zr.ng.common&&Zr.ng.common.locales&&Zr.ng.common.locales[o]),dm[o]}var Zd=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Zd||{});const R0="en-US",Zb={marker:"element"},Yb={marker:"ICU"};var Td=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}(Td||{});let TS=R0;let Rh=(o,d,b,R)=>(hh(!0),function yg(o,d,b){const R=o[_i];switch(b){case Node.COMMENT_NODE:return Xu(R,d);case Node.TEXT_NODE:return Zp(R,d);case Node.ELEMENT_NODE:return k_(R,d,null)}}(o,b,R));const vg=/\ufffd(\d+):?\d*\ufffd/gi,bg=/\ufffd(\d+)\ufffd/,kS=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Oh="\ufffd",Q4=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,uf=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,oC=/\uE500/g;function sC(o,d,b,R,Y,he,Ie){const ze=Yv(o,R,1,null);let ot=ze<<Td.SHIFT,Dt=gv();d===Dt&&(Dt=null),null===Dt&&(ot|=Td.APPEND_EAGERLY),Ie&&(ot|=Td.COMMENT,function c8(o){void 0===e0&&(e0=o())}(j4)),Y.push(ot,null===he?"":he);const Ft=ox(o,ze,Ie?32:1,null===he?"":he,null);Ex(b,Ft);const fn=Ft.index;return Rf(Ft,!1),null!==Dt&&d!==Dt&&function $_(o,d){let b=o.insertBeforeIndex;null===b?(gD(GD,XD),b=o.insertBeforeIndex=[null,d]):(Ya(Array.isArray(b),!0,"Expecting array here"),b.push(d))}(Dt,fn),Ft}function qk(o,d,b,R,Y,he,Ie,ze){const ot=ze.match(vg),Ft=sC(d,b,R,Ie,Y,ot?null:ze,!1).index;ot&&P0(he,ze,Ft,null,0,null),o.push({kind:0,index:Ft})}function P0(o,d,b,R,Y,he){const Ie=o.length,ze=Ie+1;o.push(null,null);const ot=Ie+2,Dt=d.split(vg);let Ft=0;for(let fn=0;fn<Dt.length;fn++){const Rn=Dt[fn];if(1&fn){const Ln=Y+parseInt(Rn,10);o.push(-1-Ln),Ft|=OS(Ln)}else""!==Rn&&o.push(Rn)}return o.push(b<<2|(R?1:0)),R&&o.push(R,he),o[Ie]=Ft,o[ze]=o.length-ot,Ft}function OS(o){return 1<<Math.min(o,31)}function Vc(o){let d,he,b="",R=0,Y=!1;for(;null!==(d=Q4.exec(o));)Y?d[0]===`${Oh}/*${he}${Oh}`&&(R=d.index,Y=!1):(b+=o.substring(R,d.index+d[0].length),he=d[1],Y=!0);return b+=o.slice(R),b}function $s(o,d,b,R,Y,he,Ie){let ze=0;const ot={type:he.type,currentCaseLViewIndex:Yv(d,b,1,null),anchorIdx:Ie,cases:[],create:[],remove:[],update:[]};(function PS(o,d,b){o.push(OS(d.mainBinding),2,-1-d.mainBinding,b<<2|2)})(R,he,Ie),function tp(o,d,b){const R=o.data[d];null===R?o.data[d]=b:R.value=b}(d,Ie,ot);const Dt=he.values,Ft=[];for(let fn=0;fn<Dt.length;fn++){const Rn=Dt[fn],Ln=[];for(let gr=0;gr<Rn.length;gr++){const Fr=Rn[gr];if("string"!=typeof Fr){const Gr=Ln.push(Fr)-1;Rn[gr]=`\x3c!--\ufffd${Gr}\ufffd--\x3e`}}const Xn=[];Ft.push(Xn),ze=Sp(Xn,d,ot,b,R,Y,he.cases[fn],Rn.join(""),Ln)|ze}ze&&function wg(o,d,b){o.push(d,1,b<<2|3)}(R,ze,Ie),o.push({kind:3,index:Ie,cases:Ft,currentCaseLViewIndex:ot.currentCaseLViewIndex})}function ya(o){const d=[],b=[];let R=1,Y=0;const he=Jb(o=o.replace(kS,function(Ie,ze,ot){return R="select"===ot?0:1,Y=parseInt(ze.slice(1),10),""}));for(let Ie=0;Ie<he.length;){let ze=he[Ie++].trim();1===R&&(ze=ze.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ze.length&&d.push(ze);const ot=Jb(he[Ie++]);d.length>b.length&&b.push(ot)}return{type:R,mainBinding:Y,cases:d,values:b}}function Jb(o){if(!o)return[];let d=0;const b=[],R=[],Y=/[{}]/g;let he;for(Y.lastIndex=0;he=Y.exec(o);){const ze=he.index;if("}"==he[0]){if(b.pop(),0==b.length){const ot=o.substring(d,ze);kS.test(ot)?R.push(ya(ot)):R.push(ot),d=ze+1}}else{if(0==b.length){const ot=o.substring(d,ze);R.push(ot),d=ze+1}b.push("{")}}const Ie=o.substring(d);return R.push(Ie),R}function Sp(o,d,b,R,Y,he,Ie,ze,ot){const Dt=[],Ft=[],fn=[];b.cases.push(Ie),b.create.push(Dt),b.remove.push(Ft),b.update.push(fn);const Ln=j2(Vp()).getInertBodyElement(ze),Xn=H2(Ln)||Ln;return Xn?qb(o,d,b,R,Y,Dt,Ft,fn,Xn,he,ot,0):0}function qb(o,d,b,R,Y,he,Ie,ze,ot,Dt,Ft,fn){let Rn=0,Ln=ot.firstChild;for(;Ln;){const Xn=Yv(d,R,1,null);switch(Ln.nodeType){case Node.ELEMENT_NODE:const gr=Ln,Fr=gr.tagName.toLowerCase();if($2.hasOwnProperty(Fr)){BS(he,Zb,Fr,Dt,Xn),d.data[Xn]=Fr;const rs=gr.attributes;for(let Wc=0;Wc<rs.length;Wc++){const Mc=rs.item(Wc),Vg=Mc.name.toLowerCase();Mc.value.match(vg)?M_.hasOwnProperty(Vg)&&P0(ze,Mc.value,Xn,Mc.name,0,K2[Vg]?E_:null):_g(he,Xn,Mc)}const ia={kind:1,index:Xn,children:[]};o.push(ia),Rn=qb(ia.children,d,b,R,Y,he,Ie,ze,Ln,Xn,Ft,fn+1)|Rn,Xs(Ie,Xn,fn)}break;case Node.TEXT_NODE:const Gr=Ln.textContent||"",wr=Gr.match(vg);BS(he,null,wr?"":Gr,Dt,Xn),Xs(Ie,Xn,fn),wr&&(Rn=P0(ze,Gr,Xn,null,0,null)|Rn),o.push({kind:0,index:Xn});break;case Node.COMMENT_NODE:const oo=bg.exec(Ln.textContent||"");if(oo){const ia=Ft[parseInt(oo[1],10)];BS(he,Yb,"",Dt,Xn),$s(o,d,R,Y,Dt,ia,Xn),lC(Ie,Xn,fn)}}Ln=Ln.nextSibling}return Rn}function Xs(o,d,b){0===b&&o.push(d)}function lC(o,d,b){0===b&&(o.push(~d),o.push(d))}function BS(o,d,b,R,Y){null!==d&&o.push(d),o.push(b,Y,function F4(o,d,b){return o|d<<17|b<<1}(0,R,Y))}function _g(o,d,b){o.push(d<<1|1,b.name,b.value)}function Eg(o,d,b=-1){const R=Uo(),Y=vr(),he=Ci+o,Ie=Fu(R.consts,d),ze=gv();R.firstCreatePass&&function Jk(o,d,b,R,Y,he){const Ie=gv(),ze=[],ot=[],Dt=[[]],Ft=[[]];Y=function cC(o,d){if(function sk(o){return-1===o}(d))return Vc(o);{const b=o.indexOf(`:${d}${Oh}`)+2+d.toString().length,R=o.search(new RegExp(`${Oh}\\/\\*\\d+:${d}${Oh}`));return Vc(o.substring(b,R))}}(Y,he);const fn=function Yk(o){return o.replace(oC," ")}(Y).split(uf);for(let Rn=0;Rn<fn.length;Rn++){let Ln=fn[Rn];if(1&Rn){const Xn=47===Ln.charCodeAt(0),gr=Ln.charCodeAt(Xn?1:0),Fr=Ci+Number.parseInt(Ln.substring(Xn?2:1));if(Xn)Dt.shift(),Ft.shift(),Rf(gv(),!1);else{const Gr=U4(o,Dt[0],Fr);Dt.unshift([]),Rf(Gr,!0);const wr={kind:2,index:Fr,children:[],type:35===gr?0:1};Ft[0].push(wr),Ft.unshift(wr.children)}}else{const Xn=Jb(Ln);for(let gr=0;gr<Xn.length;gr++){let Fr=Xn[gr];if(1&gr){const Gr=Fr;if("object"!=typeof Gr)throw new Error(`Unable to parse ICU expression in "${Y}" message.`);const oo=sC(o,Ie,Dt[0],b,ze,"",!0).index;$s(Ft[0],o,b,ot,d,Gr,oo)}else""!==Fr&&qk(Ft[0],o,Ie,Dt[0],ze,ot,b,Fr)}}}o.data[R]={create:ze,update:ot,ast:Ft[0]}}(R,null===ze?0:ze.index,Y,he,Ie,b),2===R.type?Y[Ka][Ni]|=32:Y[Ni]|=32;const ot=R.data[he],Ft=fD(R,ze===Y[tl]?null:ze,Y),fn=ze&&8&ze.type?Y[ze.index]:null;(function Tx(o,d,b,R){iI(o,d,b,R)})(Y,he,ze,b),function Xk(o,d,b,R){const Y=o[_i];for(let he=0;he<d.length;he++){const Ie=d[he++],Dt=(Ie&Td.APPEND_EAGERLY)===Td.APPEND_EAGERLY,Ft=Ie>>>Td.SHIFT;let fn=o[Ft],Rn=!1;null===fn&&(fn=o[Ft]=Rh(o,Ft,d[he],(Ie&Td.COMMENT)===Td.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Rn=wv()),Dt&&null!==b&&Rn&&t0(Y,b,fn,R,!1)}}(Y,ot.create,Ft,fn),wy(!0)}function uC(o,d,b){Eg(o,d,b),function N1(){wy(!1)}()}let hC=(o,d,b)=>{};function L1(o,d,b,R){const Y=vr(),he=Uo(),Ie=as();return US(he,Y,Y[_i],Ie,o,d,R),L1}function LS(o,d){const b=as(),R=vr(),Y=Uo();return US(Y,R,LD(n2(Y.data),b,R),b,o,d),LS}function US(o,d,b,R,Y,he,Ie){const ze=Vw(R),Dt=o.firstCreatePass&&Qv(o),Ft=d[ea],fn=qv(d);let Rn=!0;if(3&R.type||Ie){const gr=yd(R,d),Fr=Ie?Ie(gr):gr,Gr=fn.length,wr=Ie?rs=>Ie(vs(rs[R.index])):R.index;let oo=null;if(!Ie&&ze&&(oo=function lR(o,d,b,R){const Y=o.cleanup;if(null!=Y)for(let he=0;he<Y.length-1;he+=2){const Ie=Y[he];if(Ie===b&&Y[he+1]===R){const ze=d[hy],ot=Y[he+2];return ze.length>ot?ze[ot]:null}"string"==typeof Ie&&(he+=2)}return null}(o,d,Y,R.index)),null!==oo)(oo.__ngLastListenerFn__||oo).__ngNextListenerFn__=he,oo.__ngLastListenerFn__=he,Rn=!1;else{he=Sg(R,d,Ft,he),hC(gr,Y,he);const rs=b.listen(Fr,Y,he);fn.push(he,rs),Dt&&Dt.push(Y,wr,Gr,Gr+1)}}else he=Sg(R,d,Ft,he);const Ln=R.outputs;let Xn;if(Rn&&null!==Ln&&(Xn=Ln[Y])){const gr=Xn.length;if(gr)for(let Fr=0;Fr<gr;Fr+=2){const ia=d[Xn[Fr]][Xn[Fr+1]].subscribe(he),Wc=fn.length;fn.push(he,ia),Dt&&Dt.push(Y,R.index,Wc,-(Wc+1))}}}function xg(o,d,b,R){const Y=P(null);try{return Nu(6,d,b),!1!==b(R)}catch(he){return B_(o,he),!1}finally{Nu(7,d,b),P(Y)}}function Sg(o,d,b,R){return function Y(he){if(he===Function)return R;U_(o.componentOffset>-1?lu(o.index,d):d,5);let ze=xg(d,b,R,he),ot=Y.__ngNextListenerFn__;for(;ot;)ze=xg(d,b,ot,he)&&ze,ot=ot.__ngNextListenerFn__;return ze}}function mC(o=1){return function Ey(o){return(uo.lFrame.contextLView=function Hw(o,d){for(;o>0;)d=d[py],o--;return d}(o,uo.lFrame.contextLView))[ea]}(o)}function FS(o,d){let b=null;const R=function $r(o){const d=o.attrs;if(null!=d){const b=d.indexOf(5);if(!(1&b))return d[b+1]}return null}(o);for(let Y=0;Y<d.length;Y++){const he=d[Y];if("*"!==he){if(null===R?co(o,he,!0):Ge(R,he))return Y}else b=Y}return b}function U1(o){const d=vr()[Ka][tl];if(!d.projection){const R=d.projection=function it(o,d){const b=[];for(let R=0;R<o;R++)b.push(d);return b}(o?o.length:1,null),Y=R.slice();let he=d.child;for(;null!==he;){if(128!==he.type){const Ie=o?FS(he,o):0;null!==Ie&&(Y[Ie]?Y[Ie].projectionNext=he:R[Ie]=he,Y[Ie]=he)}he=he.next}}}function jS(o,d=0,b,R,Y,he){const Ie=vr(),ze=Uo(),ot=R?o+1:null;null!==ot&&Ib(Ie,ze,ot,R,Y,he,null,b);const Dt=o0(ze,Ci+o,16,null,b||null);null===Dt.projection&&(Dt.projection=d),vv();const fn=!Ie[Ms]||ju();null===Ie[Ka][tl].projection[Dt.projection]&&null!==ot?function $S(o,d,b){const R=Ci+b,Y=d.data[R],he=o[R],Ie=d0(he,Y.tView.ssrId);$y(he,a0(o,Y,void 0,{dehydratedView:Ie}),0,Yp(Y,Ie))}(Ie,ze,ot):fn&&32&~Dt.flags&&function p8(o,d,b){bD(d[_i],0,d,b,rx(o,b,d),pD(b.parent||d[tl],b,d))}(ze,Ie,Dt)}function F1(o,d,b){return j1(o,"",d,"",b),F1}function j1(o,d,b,R,Y){const he=vr(),Ie=lp(he,d,b,R);return Ie!==Eo&&Kd(Uo(),ha(),he,o,Ie,he[_i],Y,!1),j1}function K1(o,d,b,R){qu(o,d,b,R)}function As(o,d,b){e1(o,d,b)}function N0(o){const d=vr(),b=Uo(),R=r2();Gw(R+1);const Y=kt(b,R);if(o.dirty&&function W6(o){return!(4&~o[Ni])}(d)===!(2&~Y.metadata.flags)){if(null===Y.matches)o.reset([]);else{const he=t1(d,R);o.reset(he,o_),o.notifyOnChanges()}return!0}return!1}function dR(){return Kx(vr(),r2())}function wC(o,d,b,R,Y){Qi(d,qu(o,b,R,Y))}function VS(o,d,b,R){Qi(o,e1(d,b,R))}function ga(o=1){Gw(r2()+o)}function Ra(o,d,b,R){b>=o.data.length&&(o.data[b]=null,o.blueprint[b]=null),d[b]=R}function _C(o){return Uu(function e2(){return uo.lFrame.contextLView}(),Ci+o)}function Tg(o,d=""){const b=vr(),R=Uo(),Y=o+Ci,he=R.firstCreatePass?o0(R,Y,1,d,null):R.data[Y],Ie=WS(R,b,he,d,o);b[Y]=Ie,wv()&&Gv(R,b,Ie,he),Rf(he,!1)}let WS=(o,d,b,R,Y)=>(hh(!0),Zp(d[_i],R));function tw(o){return nw("",o,""),tw}function nw(o,d,b){const R=vr(),Y=lp(R,o,d,b);return Y!==Eo&&wh(R,xl(),Y),nw}function hm(o,d,b,R,Y){const he=vr(),Ie=dp(he,o,d,b,R,Y);return Ie!==Eo&&wh(he,xl(),Ie),hm}function pm(o,d,b){Ei(d)&&(d=d());const R=vr();return Cs(R,jd(),d)&&Kd(Uo(),ha(),R,o,d,R[_i],b,!1),pm}function xc(o,d){const b=Ei(o);return b&&o.set(d),b}function X1(o,d){const b=vr(),R=Uo(),Y=as();return US(R,b,b[_i],Y,o,d),X1}const MC={};function Dd(o){const d=Uo(),b=vr(),R=o+Ci;return Rf(o0(d,R,128,null,null),!1),Ra(d,b,R,MC),Dd}function rw(o,d,b,R,Y){if(o=Mi(o),Array.isArray(o))for(let he=0;he<o.length;he++)rw(o[he],d,b,R,Y);else{const he=Uo(),Ie=vr(),ze=as();let ot=qo(o)?o:Mi(o.provide);const Dt=KE(o),Ft=1048575&ze.providerIndexes,fn=ze.directiveStart,Rn=ze.providerIndexes>>20;if(qo(o)||!o.multi){const Ln=new _v(Dt,Y,jy),Xn=QS(ot,d,Y?Ft:Ft+Rn,fn);-1===Xn?(l2(Of(ze,Ie),he,ot),mm(he,o,d.length),d.push(ot),ze.directiveStart++,ze.directiveEnd++,Y&&(ze.providerIndexes+=1048576),b.push(Ln),Ie.push(Ln)):(b[Xn]=Ln,Ie[Xn]=Ln)}else{const Ln=QS(ot,d,Ft+Rn,fn),Xn=QS(ot,d,Ft,Ft+Rn),Fr=Xn>=0&&b[Xn];if(Y&&!Fr||!Y&&!(Ln>=0&&b[Ln])){l2(Of(ze,Ie),he,ot);const Gr=function eM(o,d,b,R,Y){const he=new _v(o,b,jy);return he.multi=[],he.index=d,he.componentProviders=0,qS(he,Y,R&&!b),he}(Y?yR:Yd,b.length,Y,R,Dt);!Y&&Fr&&(b[Xn].providerFactory=Gr),mm(he,o,d.length,0),d.push(ot),ze.directiveStart++,ze.directiveEnd++,Y&&(ze.providerIndexes+=1048576),b.push(Gr),Ie.push(Gr)}else mm(he,o,Ln>-1?Ln:Xn,qS(b[Y?Xn:Ln],Dt,!Y&&R));!Y&&R&&Fr&&b[Xn].componentProviders++}}}function mm(o,d,b,R){const Y=qo(d),he=function gA(o){return!!o.useClass}(d);if(Y||he){const ot=(he?Mi(d.useClass):d).prototype.ngOnDestroy;if(ot){const Dt=o.destroyHooks||(o.destroyHooks=[]);if(!Y&&d.multi){const Ft=Dt.indexOf(b);-1===Ft?Dt.push(b,[R,ot]):Dt[Ft+1].push(R,ot)}else Dt.push(b,ot)}}}function qS(o,d,b){return b&&o.componentProviders++,o.multi.push(d)-1}function QS(o,d,b,R){for(let Y=b;Y<R;Y++)if(d[Y]===o)return Y;return-1}function Yd(o,d,b,R){return xo(this.multi,[])}function yR(o,d,b,R){const Y=this.multi;let he;if(this.providerFactory){const Ie=this.providerFactory.componentProviders,ze=Hm(b,b[Vr],this.providerFactory.index,R);he=ze.slice(0,Ie),xo(Y,he);for(let ot=Ie;ot<ze.length;ot++)he.push(ze[ot])}else he=[],xo(Y,he);return he}function xo(o,d){for(let b=0;b<o.length;b++)d.push((0,o[b])());return d}function L0(o,d=[]){return b=>{b.providersResolver=(R,Y)=>function JS(o,d,b){const R=Uo();if(R.firstCreatePass){const Y=uh(o);rw(b,R.data,R.blueprint,Y,!0),rw(d,R.data,R.blueprint,Y,!1)}}(R,Y?Y(o):o,d)}}let Ig=(()=>{class o{constructor(b){this._injector=b,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(b){if(!b.standalone)return null;if(!this.cachedInjectors.has(b)){const R=NE(0,b.type),Y=R.length>0?Ws([R],this._injector,`Standalone[${b.type.name}]`):null;this.cachedInjectors.set(b,Y)}return this.cachedInjectors.get(b)}ngOnDestroy(){try{for(const b of this.cachedInjectors.values())null!==b&&b.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Fo({token:o,providedIn:"environment",factory:()=>new o(Ki(au))})}return o})();function Z1(o){Vl("NgStandalone"),o.getStandaloneInjector=d=>d.get(Ig).getOrCreateStandaloneInjector(o)}function nM(o,d,b){const R=gd()+o,Y=vr();return Y[R]===Eo?Uf(Y,R,b?d.call(b):d()):function Jy(o,d){return o[d]}(Y,R)}function Y1(o,d,b,R){return sw(vr(),gd(),o,d,b,R)}function J1(o,d,b,R,Y){return function Wf(o,d,b,R,Y,he,Ie){const ze=d+b;return Ff(o,ze,Y,he)?Uf(o,ze+2,Ie?R.call(Ie,Y,he):R(Y,he)):Hf(o,ze+2)}(vr(),gd(),o,d,b,R,Y)}function Hf(o,d){const b=o[d];return b===Eo?void 0:b}function sw(o,d,b,R,Y,he){const Ie=d+b;return Cs(o,Ie,Y)?Uf(o,Ie+1,he?R.call(he,Y):R(Y)):Hf(o,Ie+1)}function er(o,d){const b=Uo();let R;const Y=o+Ci;b.firstCreatePass?(R=function iM(o,d){if(d)for(let b=d.length-1;b>=0;b--){const R=d[b];if(o===R.name)return R}}(d,b.pipeRegistry),b.data[Y]=R,R.onDestroy&&(b.destroyHooks??=[]).push(Y,R.onDestroy)):R=b.data[Y];const he=R.factory||(R.factory=Pu(R.type)),ze=Lo(jy);try{const ot=uu(!1),Dt=he();return uu(ot),Ra(b,vr(),Y,Dt),Dt}finally{Lo(ze)}}function Q1(o,d,b){const R=o+Ci,Y=vr(),he=Uu(Y,R);return function eE(o,d){return o[Vr].data[d].pure}(Y,R)?sw(Y,gd(),d,he.transform,b,he):he.transform(b)}function cw(o,d){return F_(o,d)}class DR{constructor(d){this.full=d;const b=d.split(".");this.major=b[0],this.minor=b[1],this.patch=b.slice(2).join(".")}}let IR=(()=>{class o{log(b){console.log(b)}warn(b){console.warn(b)}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=Fo({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const jR=new zi(""),mM=new zi("");let cE,HC=(()=>{class o{constructor(b,R,Y){this._ngZone=b,this.registry=R,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,cE||(function GC(o){cE=o}(Y),Y.addToWindow(R)),this._watchAngularEvents(),b.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ea.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let b=this._callbacks.pop();clearTimeout(b.timeoutId),b.doneCb()}});else{let b=this.getPendingTasks();this._callbacks=this._callbacks.filter(R=>!R.updateCb||!R.updateCb(b)||(clearTimeout(R.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(b=>({source:b.source,creationLocation:b.creationLocation,data:b.data})):[]}addCallback(b,R,Y){let he=-1;R&&R>0&&(he=setTimeout(()=>{this._callbacks=this._callbacks.filter(Ie=>Ie.timeoutId!==he),b()},R)),this._callbacks.push({doneCb:b,timeoutId:he,updateCb:Y})}whenStable(b,R,Y){if(Y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(b,R,Y),this._runCallbacksIfReady()}registerApplication(b){this.registry.registerApplication(b,this)}unregisterApplication(b){this.registry.unregisterApplication(b)}findProviders(b,R,Y){return[]}static#e=this.\u0275fac=function(R){return new(R||o)(Ki(Ea),Ki(WC),Ki(mM))};static#t=this.\u0275prov=Fo({token:o,factory:o.\u0275fac})}return o})(),WC=(()=>{class o{constructor(){this._applications=new Map}registerApplication(b,R){this._applications.set(b,R)}unregisterApplication(b){this._applications.delete(b)}unregisterAllApplications(){this._applications.clear()}getTestability(b){return this._applications.get(b)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(b,R=!0){return cE?.findTestabilityInTree(this,b,R)??null}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=Fo({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function yM(o){return!!o&&"function"==typeof o.then}function lE(o){return!!o&&"function"==typeof o.subscribe}const gM=new zi("");let fw=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((b,R)=>{this.resolve=b,this.reject=R}),this.appInits=Cr(gM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const b=[];for(const Y of this.appInits){const he=Y();if(yM(he))b.push(he);else if(lE(he)){const Ie=new Promise((ze,ot)=>{he.subscribe({complete:ze,error:ot})});b.push(Ie)}}const R=()=>{this.done=!0,this.resolve()};Promise.all(b).then(()=>{R()}).catch(Y=>{this.reject(Y)}),0===b.length&&R(),this.initialized=!0}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=Fo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const dE=new zi("");let ff=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Cr(i_),this.afterRenderEffectManager=Cr(Wy),this.zonelessEnabled=Cr(u0),this.externalTestViews=new Set,this.beforeRender=new pe.B,this.afterTick=new pe.B,this.componentTypes=[],this.components=[],this.isStable=Cr(Wm).hasPendingTasks.pipe((0,Q.T)(b=>!b)),this._injector=Cr(au)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(b,R){const Y=b instanceof cI;if(!this._injector.get(fw).done)throw!Y&&ja(b),new Br(405,!1);let Ie;Ie=Y?b:this._injector.get(hb).resolveComponentFactory(b),this.componentTypes.push(Ie.componentType);const ze=function H0(o){return o.isBoundToModule}(Ie)?void 0:this._injector.get(Ha),Dt=Ie.create(nl.NULL,[],R||Ie.selector,ze),Ft=Dt.location.nativeElement,fn=Dt.injector.get(jR,null);return fn?.registerApplication(Ft),Dt.onDestroy(()=>{this.detachView(Dt.hostView),uE(this.components,Dt),fn?.unregisterApplication(Ft)}),this._loadComponent(Dt),Dt}tick(){this._tick(!0)}_tick(b){if(this._runningTick)throw new Br(101,!1);const R=P(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(b)}catch(Y){this.internalErrorHandler(Y)}finally{this._runningTick=!1,P(R),this.afterTick.next()}}detectChangesInAttachedViews(b){let R=null;this._injector.destroyed||(R=this._injector.get(pb,null,{optional:!0}));let Y=0;const he=this.afterRenderEffectManager;for(;Y<10;){const Ie=0===Y;if(b||!Ie){this.beforeRender.next(Ie);for(let{_lView:ze,notifyErrorHandler:ot}of this._views)$R(ze,ot,Ie,this.zonelessEnabled)}else R?.begin?.(),R?.end?.();if(Y++,he.executeInternalCallbacks(),!this.allViews.some(({_lView:ze})=>mv(ze))&&(he.execute(),!this.allViews.some(({_lView:ze})=>mv(ze))))break}}attachView(b){const R=b;this._views.push(R),R.attachToAppRef(this)}detachView(b){const R=b;uE(this._views,R),R.detachFromAppRef()}_loadComponent(b){this.attachView(b.hostView),this.tick(),this.components.push(b);const R=this._injector.get(dE,[]);[...this._bootstrapListeners,...R].forEach(Y=>Y(b))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(b=>b()),this._views.slice().forEach(b=>b.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(b){return this._destroyListeners.push(b),()=>uE(this._destroyListeners,b)}destroy(){if(this._destroyed)throw new Br(406,!1);const b=this._injector;b.destroy&&!b.destroyed&&b.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=Fo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function uE(o,d){const b=o.indexOf(d);b>-1&&o.splice(b,1)}function $R(o,d,b,R){(b||mv(o))&&tb(o,d,b&&!R?0:1)}class fB{constructor(d,b){this.ngModuleFactory=d,this.componentFactories=b}}let KR=(()=>{class o{compileModuleSync(b){return new Jx(b)}compileModuleAsync(b){return Promise.resolve(this.compileModuleSync(b))}compileModuleAndAllComponentsSync(b){const R=this.compileModuleSync(b),he=Wu(Pi(b).declarations).reduce((Ie,ze)=>{const ot=gi(ze);return ot&&Ie.push(new Xy(ot)),Ie},[]);return new fB(R,he)}compileModuleAndAllComponentsAsync(b){return Promise.resolve(this.compileModuleAndAllComponentsSync(b))}clearCache(){}clearCacheFor(b){}getModuleId(b){}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=Fo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),pE=(()=>{class o{constructor(){this.zone=Cr(Ea),this.changeDetectionScheduler=Cr(qp),this.applicationRef=Cr(ff)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=Fo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const JC=new zi("",{factory:()=>!1});function mE({ngZoneFactory:o,ignoreChangesOutsideZone:d}){return o??=()=>new Ea(td()),[{provide:Ea,useFactory:o},{provide:Me,multi:!0,useFactory:()=>{const b=Cr(pE,{optional:!0});return()=>b.initialize()}},{provide:Me,multi:!0,useFactory:()=>{const b=Cr(yE);return()=>{b.initialize()}}},!0===d?{provide:aI,useValue:!0}:[]]}function wM(o){const d=o?.ignoreChangesOutsideZone,b=mE({ngZoneFactory:()=>{const R=td(o);return R.shouldCoalesceEventChangeDetection&&Vl("NgZone_CoalesceEvent"),new Ea(R)},ignoreChangesOutsideZone:d});return Uw([{provide:JC,useValue:!0},{provide:u0,useValue:!1},b])}function td(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}let yE=(()=>{class o{constructor(){this.subscription=new ue.yU,this.initialized=!1,this.zone=Cr(Ea),this.pendingTasks=Cr(Wm)}initialize(){if(this.initialized)return;this.initialized=!0;let b=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(b=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ea.assertNotInAngularZone(),queueMicrotask(()=>{null!==b&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(b),b=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ea.assertInAngularZone(),b??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=Fo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Bg=(()=>{class o{constructor(){this.appRef=Cr(ff),this.taskService=Cr(Wm),this.ngZone=Cr(Ea),this.zonelessEnabled=Cr(u0),this.disableScheduling=Cr(aI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ue.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof m2||!this.zoneIsDefined)}notify(b){if(!this.zonelessEnabled&&5===b)return;switch(b){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const R=this.useMicrotaskScheduler?f2:mT;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=R(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=R(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ea.isInAngularZone())}tick(b){if(this.runningTick||this.appRef.destroyed)return;const R=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(b)},void 0,this.schedulerTickApplyArgs)}catch(Y){throw this.taskService.remove(R),Y}finally{this.cleanup()}this.useMicrotaskScheduler=!0,f2(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(R)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const b=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(b)}}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=Fo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Sm=new zi("",{providedIn:"root",factory:()=>Cr(Sm,to.Optional|to.SkipSelf)||function SM(){return typeof $localize<"u"&&$localize.locale||R0}()}),MM=new zi("",{providedIn:"root",factory:()=>"USD"}),gE=new zi("");let W0=null;function AM(){return!1}let XR=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=kl}return o})();function kl(o){return function ZR(o,d,b){if(cu(o)&&!b){const R=lu(o.index,d);return new nb(R,R)}return 175&o.type?new nb(d[Ka],d):null}(as(),vr(),!(16&~o))}class c3{constructor(){}supports(d){return Db(d)}create(d){return new QR(d)}}const qR=(o,d)=>d;class QR{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||qR}forEachItem(d){let b;for(b=this._itHead;null!==b;b=b._next)d(b)}forEachOperation(d){let b=this._itHead,R=this._removalsHead,Y=0,he=null;for(;b||R;){const Ie=!R||b&&b.currentIndex<d3(R,Y,he)?b:R,ze=d3(Ie,Y,he),ot=Ie.currentIndex;if(Ie===R)Y--,R=R._nextRemoved;else if(b=b._next,null==Ie.previousIndex)Y++;else{he||(he=[]);const Dt=ze-Y,Ft=ot-Y;if(Dt!=Ft){for(let Rn=0;Rn<Dt;Rn++){const Ln=Rn<he.length?he[Rn]:he[Rn]=0,Xn=Ln+Rn;Ft<=Xn&&Xn<Dt&&(he[Rn]=Ln+1)}he[Ie.previousIndex]=Ft-Dt}}ze!==ot&&d(Ie,ze,ot)}}forEachPreviousItem(d){let b;for(b=this._previousItHead;null!==b;b=b._nextPrevious)d(b)}forEachAddedItem(d){let b;for(b=this._additionsHead;null!==b;b=b._nextAdded)d(b)}forEachMovedItem(d){let b;for(b=this._movesHead;null!==b;b=b._nextMoved)d(b)}forEachRemovedItem(d){let b;for(b=this._removalsHead;null!==b;b=b._nextRemoved)d(b)}forEachIdentityChange(d){let b;for(b=this._identityChangesHead;null!==b;b=b._nextIdentityChange)d(b)}diff(d){if(null==d&&(d=[]),!Db(d))throw new Br(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let Y,he,Ie,b=this._itHead,R=!1;if(Array.isArray(d)){this.length=d.length;for(let ze=0;ze<this.length;ze++)he=d[ze],Ie=this._trackByFn(ze,he),null!==b&&Object.is(b.trackById,Ie)?(R&&(b=this._verifyReinsertion(b,he,Ie,ze)),Object.is(b.item,he)||this._addIdentityChange(b,he)):(b=this._mismatch(b,he,Ie,ze),R=!0),b=b._next}else Y=0,function Hd(o,d){if(Array.isArray(o))for(let b=0;b<o.length;b++)d(o[b]);else{const b=o[Symbol.iterator]();let R;for(;!(R=b.next()).done;)d(R.value)}}(d,ze=>{Ie=this._trackByFn(Y,ze),null!==b&&Object.is(b.trackById,Ie)?(R&&(b=this._verifyReinsertion(b,ze,Ie,Y)),Object.is(b.item,ze)||this._addIdentityChange(b,ze)):(b=this._mismatch(b,ze,Ie,Y),R=!0),b=b._next,Y++}),this.length=Y;return this._truncate(b),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,b,R,Y){let he;return null===d?he=this._itTail:(he=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(R,null))?(Object.is(d.item,b)||this._addIdentityChange(d,b),this._reinsertAfter(d,he,Y)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(R,Y))?(Object.is(d.item,b)||this._addIdentityChange(d,b),this._moveAfter(d,he,Y)):d=this._addAfter(new eO(b,R),he,Y),d}_verifyReinsertion(d,b,R,Y){let he=null===this._unlinkedRecords?null:this._unlinkedRecords.get(R,null);return null!==he?d=this._reinsertAfter(he,d._prev,Y):d.currentIndex!=Y&&(d.currentIndex=Y,this._addToMoves(d,Y)),d}_truncate(d){for(;null!==d;){const b=d._next;this._addToRemovals(this._unlink(d)),d=b}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,b,R){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const Y=d._prevRemoved,he=d._nextRemoved;return null===Y?this._removalsHead=he:Y._nextRemoved=he,null===he?this._removalsTail=Y:he._prevRemoved=Y,this._insertAfter(d,b,R),this._addToMoves(d,R),d}_moveAfter(d,b,R){return this._unlink(d),this._insertAfter(d,b,R),this._addToMoves(d,R),d}_addAfter(d,b,R){return this._insertAfter(d,b,R),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,b,R){const Y=null===b?this._itHead:b._next;return d._next=Y,d._prev=b,null===Y?this._itTail=d:Y._prev=d,null===b?this._itHead=d:b._next=d,null===this._linkedRecords&&(this._linkedRecords=new l3),this._linkedRecords.put(d),d.currentIndex=R,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const b=d._prev,R=d._next;return null===b?this._itHead=R:b._next=R,null===R?this._itTail=b:R._prev=b,d}_addToMoves(d,b){return d.previousIndex===b||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new l3),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,b){return d.item=b,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class eO{constructor(d,b){this.item=d,this.trackById=b,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tO{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,b){let R;for(R=this._head;null!==R;R=R._nextDup)if((null===b||b<=R.currentIndex)&&Object.is(R.trackById,d))return R;return null}remove(d){const b=d._prevDup,R=d._nextDup;return null===b?this._head=R:b._nextDup=R,null===R?this._tail=b:R._prevDup=b,null===this._head}}class l3{constructor(){this.map=new Map}put(d){const b=d.trackById;let R=this.map.get(b);R||(R=new tO,this.map.set(b,R)),R.add(d)}get(d,b){const Y=this.map.get(d);return Y?Y.get(d,b):null}remove(d){const b=d.trackById;return this.map.get(b).remove(d)&&this.map.delete(b),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function d3(o,d,b){const R=o.previousIndex;if(null===R)return R;let Y=0;return b&&R<b.length&&(Y=b[R]),R+d+Y}class u3{constructor(){}supports(d){return d instanceof Map||nf(d)}create(){return new nO}}class nO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let b;for(b=this._mapHead;null!==b;b=b._next)d(b)}forEachPreviousItem(d){let b;for(b=this._previousMapHead;null!==b;b=b._nextPrevious)d(b)}forEachChangedItem(d){let b;for(b=this._changesHead;null!==b;b=b._nextChanged)d(b)}forEachAddedItem(d){let b;for(b=this._additionsHead;null!==b;b=b._nextAdded)d(b)}forEachRemovedItem(d){let b;for(b=this._removalsHead;null!==b;b=b._nextRemoved)d(b)}diff(d){if(d){if(!(d instanceof Map||nf(d)))throw new Br(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let b=this._mapHead;if(this._appendAfter=null,this._forEach(d,(R,Y)=>{if(b&&b.key===Y)this._maybeAddToChanges(b,R),this._appendAfter=b,b=b._next;else{const he=this._getOrCreateRecordForKey(Y,R);b=this._insertBeforeOrAppend(b,he)}}),b){b._prev&&(b._prev._next=null),this._removalsHead=b;for(let R=b;null!==R;R=R._nextRemoved)R===this._mapHead&&(this._mapHead=null),this._records.delete(R.key),R._nextRemoved=R._next,R.previousValue=R.currentValue,R.currentValue=null,R._prev=null,R._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,b){if(d){const R=d._prev;return b._next=d,b._prev=R,d._prev=b,R&&(R._next=b),d===this._mapHead&&(this._mapHead=b),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=b,b._prev=this._appendAfter):this._mapHead=b,this._appendAfter=b,null}_getOrCreateRecordForKey(d,b){if(this._records.has(d)){const Y=this._records.get(d);this._maybeAddToChanges(Y,b);const he=Y._prev,Ie=Y._next;return he&&(he._next=Ie),Ie&&(Ie._prev=he),Y._next=null,Y._prev=null,Y}const R=new rO(d);return this._records.set(d,R),R.currentValue=b,this._addToAdditions(R),R}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,b){Object.is(b,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=b,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,b){d instanceof Map?d.forEach(b):Object.keys(d).forEach(R=>b(d[R],R))}}class rO{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function f3(){return new DM([new c3])}let DM=(()=>{class o{static#e=this.\u0275prov=Fo({token:o,providedIn:"root",factory:f3});constructor(b){this.factories=b}static create(b,R){if(null!=R){const Y=R.factories.slice();b=b.concat(Y)}return new o(b)}static extend(b){return{provide:o,useFactory:R=>o.create(b,R||f3()),deps:[[o,new gl,new Fa]]}}find(b){const R=this.factories.find(Y=>Y.supports(b));if(null!=R)return R;throw new Br(901,!1)}}return o})();function iO(){return new h3([new u3])}let h3=(()=>{class o{static#e=this.\u0275prov=Fo({token:o,providedIn:"root",factory:iO});constructor(b){this.factories=b}static create(b,R){if(R){const Y=R.factories.slice();b=b.concat(Y)}return new o(b)}static extend(b){return{provide:o,useFactory:R=>o.create(b,R||iO()),deps:[[o,new gl,new Fa]]}}find(b){const R=this.factories.find(Y=>Y.supports(b));if(R)return R;throw new Br(901,!1)}}return o})();function IB(o){try{const{rootComponent:d,appProviders:b,platformProviders:R}=o,Y=function WR(o=[]){if(W0)return W0;const d=function HR(o=[],d){return nl.create({name:d,providers:[{provide:si,useValue:"platform"},{provide:gE,useValue:new Set([()=>W0=null])},...o]})}(o);return W0=d,function XC(){!function A(o){T=o}(()=>{throw new Br(600,!1)})}(),function r3(o){o.get(TT,null)?.forEach(b=>b())}(d),d}(R),he=[mE({}),{provide:qp,useExisting:Bg},...b||[]],ze=new kI({providers:he,parent:Y,debugName:"",runEnvironmentInitializers:!1}).injector,ot=ze.get(Ea);return ot.run(()=>{ze.resolveInjectorInitializers();const Dt=ze.get(zu,null);let Ft;ot.runOutsideAngular(()=>{Ft=ot.onError.subscribe({next:Ln=>{Dt.handleError(Ln)}})});const fn=()=>ze.destroy(),Rn=Y.get(gE);return Rn.add(fn),ze.onDestroy(()=>{Ft.unsubscribe(),Rn.delete(fn)}),function Dp(o,d,b){try{const R=b();return yM(R)?R.catch(Y=>{throw d.runOutsideAngular(()=>o.handleError(Y)),Y}):R}catch(R){throw d.runOutsideAngular(()=>o.handleError(R)),R}}(Dt,ot,()=>{const Ln=ze.get(fw);return Ln.runInitializers(),Ln.donePromise.then(()=>{!function DS(o){"string"==typeof o&&(TS=o.toLowerCase().replace(/_/g,"-"))}(ze.get(Sm,R0)||R0);const gr=ze.get(ff);return void 0!==d&&gr.bootstrap(d),gr})})})}catch(d){return Promise.reject(d)}}const M3=new zi("");function jB(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function IO(o,d=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?d:Number(o)}function HB(o,d){Vl("NgSignals");const b=C(o);return d?.equal&&(b[x].equal=d.equal),b}function O3(o){const d=P(null);try{return o()}finally{P(d)}}const SE=new zi("",{providedIn:"root",factory:()=>Cr(WB)});let WB=(()=>{class o{static#e=this.\u0275prov=Fo({token:o,providedIn:"root",factory:()=>new $g})}return o})();class $g{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Cr(Wm),this.taskId=null}scheduleEffect(d){if(this.enqueue(d),null===this.taskId){const b=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(b),this.taskId=null})}}enqueue(d){const b=d.creationZone;this.queues.has(b)||this.queues.set(b,new Set);const R=this.queues.get(b);R.has(d)||(this.queuedEffectCount++,R.add(d))}flush(){for(;this.queuedEffectCount>0;)for(const[d,b]of this.queues)null===d?this.flushQueue(b):d.run(()=>this.flushQueue(b))}flushQueue(d){for(const b of d)d.delete(b),this.queuedEffectCount--,b.run()}}class $M{constructor(d,b,R,Y,he,Ie){this.scheduler=d,this.effectFn=b,this.creationZone=R,this.injector=he,this.watcher=function Se(o,d,b){const R=Object.create(Ue);b&&(R.consumerAllowSignalWrites=!0),R.fn=o,R.schedule=d;const Y=ot=>{R.cleanupFn=ot};return R.ref={notify:()=>te(R),run:()=>{if(null===R.fn)return;if(function O(){return k}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(R.dirty=!1,R.hasRun&&!ie(R))return;R.hasRun=!0;const ot=J(R);try{R.cleanupFn(),R.cleanupFn=be,R.fn(Y)}finally{Z(R,ot)}},cleanup:()=>R.cleanupFn(),destroy:()=>function Ie(ot){(function he(ot){return null===ot.fn&&null===ot.schedule})(ot)||(ae(ot),ot.cleanupFn(),ot.fn=null,ot.schedule=null,ot.cleanupFn=be)}(R),[x]:R},R.ref}(ze=>this.runEffect(ze),()=>this.schedule(),Ie),this.unregisterOnDestroy=Y?.onDestroy(()=>this.destroy())}runEffect(d){try{this.effectFn(d)}catch(b){this.injector.get(zu,null,{optional:!0})?.handleError(b)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function P3(o,d){Vl("NgSignals"),!d?.injector&&$w();const b=d?.injector??Cr(nl),R=!0!==d?.manualCleanup?b.get(t_):null,Y=new $M(b.get(SE),o,typeof Zone>"u"?null:Zone.current,R,b,d?.allowSignalWrites??!1),he=b.get(XR,null,{optional:!0});return he&&8&he._lView[Ni]?(he._lView[WE]??=[]).push(Y.watcher.notify):Y.watcher.notify(),Y}function Kg(o,d){const b=gi(o),R=d.elementInjector||jw();return new Xy(b).create(R,d.projectableNodes,d.hostElement,d.environmentInjector)}function CO(o){const d=gi(o);if(!d)return null;const b=new Xy(d);return{get selector(){return b.selector},get type(){return b.componentType},get inputs(){return b.inputs},get outputs(){return b.outputs},get ngContentSelectors(){return b.ngContentSelectors},get isStandalone(){return d.standalone},get isSignal(){return d.signals}}}},89417:(je,z,E)=>{"use strict";E.d(z,{BC:()=>fe,JD:()=>so,MJ:()=>ji,X1:()=>Bl,YN:()=>Ya,YS:()=>Yn,cV:()=>Io,cb:()=>Ee,cz:()=>Z,j4:()=>fc,k0:()=>se,kq:()=>F,l_:()=>Yc,me:()=>re,ok:()=>Za,qT:()=>Xa,tU:()=>ao,v8:()=>wa,vO:()=>pe,vS:()=>ll,xq:()=>Rt});var f=E(93953),_=E(60177),k=E(86648),H=E(27468),x=E(21413),P=E(96354);let M=(()=>{class Ot{constructor(wt,rn){this._renderer=wt,this._elementRef=rn,this.onChange=Bn=>{},this.onTouched=()=>{}}setProperty(wt,rn){this._renderer.setProperty(this._elementRef.nativeElement,wt,rn)}registerOnTouched(wt){this.onTouched=wt}registerOnChange(wt){this.onChange=wt}setDisabledState(wt){this.setProperty("disabled",wt)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(f.sFG),f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:Ot})}return Ot})(),O=(()=>{class Ot extends M{static#e=this.\u0275fac=(()=>{let wt;return function(Bn){return(wt||(wt=f.xGo(Ot)))(Bn||Ot)}})();static#t=this.\u0275dir=f.FsC({type:Ot,features:[f.Vt3]})}return Ot})();const F=new f.nKC(""),X={provide:F,useExisting:(0,f.Rfq)(()=>re),multi:!0},G=new f.nKC("");let re=(()=>{class Ot extends M{constructor(wt,rn,Bn){super(wt,rn),this._compositionMode=Bn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j(){const Ot=(0,_.QT)()?(0,_.QT)().getUserAgent():"";return/android (\d+)/.test(Ot.toLowerCase())}())}writeValue(wt){this.setProperty("value",wt??"")}_handleInput(wt){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(wt)}_compositionStart(){this._composing=!0}_compositionEnd(wt){this._composing=!1,this._compositionMode&&this.onChange(wt)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(f.sFG),f.rXU(f.aKT),f.rXU(G,8))};static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(rn,Bn){1&rn&&f.bIt("input",function(Vi){return Bn._handleInput(Vi.target.value)})("blur",function(){return Bn.onTouched()})("compositionstart",function(){return Bn._compositionStart()})("compositionend",function(Vi){return Bn._compositionEnd(Vi.target.value)})},features:[f.Jv_([X]),f.Vt3]})}return Ot})();function te(Ot){return null==Ot||("string"==typeof Ot||Array.isArray(Ot))&&0===Ot.length}function J(Ot){return null!=Ot&&"number"==typeof Ot.length}const Z=new f.nKC(""),ie=new f.nKC(""),ae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class se{static min(jt){return function de(Ot){return jt=>{if(te(jt.value)||te(Ot))return null;const wt=parseFloat(jt.value);return!isNaN(wt)&&wt<Ot?{min:{min:Ot,actual:jt.value}}:null}}(jt)}static max(jt){return function le(Ot){return jt=>{if(te(jt.value)||te(Ot))return null;const wt=parseFloat(jt.value);return!isNaN(wt)&&wt>Ot?{max:{max:Ot,actual:jt.value}}:null}}(jt)}static required(jt){return we(jt)}static requiredTrue(jt){return xe(jt)}static email(jt){return function Ce(Ot){return te(Ot.value)||ae.test(Ot.value)?null:{email:!0}}(jt)}static minLength(jt){return function C(Ot){return jt=>te(jt.value)||!J(jt.value)?null:jt.value.length<Ot?{minlength:{requiredLength:Ot,actualLength:jt.value.length}}:null}(jt)}static maxLength(jt){return a(jt)}static pattern(jt){return function u(Ot){if(!Ot)return y;let jt,wt;return"string"==typeof Ot?(wt="","^"!==Ot.charAt(0)&&(wt+="^"),wt+=Ot,"$"!==Ot.charAt(Ot.length-1)&&(wt+="$"),jt=new RegExp(wt)):(wt=Ot.toString(),jt=Ot),rn=>{if(te(rn.value))return null;const Bn=rn.value;return jt.test(Bn)?null:{pattern:{requiredPattern:wt,actualValue:Bn}}}}(jt)}static nullValidator(jt){return null}static compose(jt){return v(jt)}static composeAsync(jt){return K(jt)}}function we(Ot){return te(Ot.value)?{required:!0}:null}function xe(Ot){return!0===Ot.value?null:{required:!0}}function a(Ot){return jt=>J(jt.value)&&jt.value.length>Ot?{maxlength:{requiredLength:Ot,actualLength:jt.value.length}}:null}function y(Ot){return null}function g(Ot){return null!=Ot}function S(Ot){return(0,f.jNT)(Ot)?(0,k.H)(Ot):Ot}function T(Ot){let jt={};return Ot.forEach(wt=>{jt=null!=wt?{...jt,...wt}:jt}),0===Object.keys(jt).length?null:jt}function N(Ot,jt){return jt.map(wt=>wt(Ot))}function s(Ot){return Ot.map(jt=>function A(Ot){return!Ot.validate}(jt)?jt:wt=>jt.validate(wt))}function v(Ot){if(!Ot)return null;const jt=Ot.filter(g);return 0==jt.length?null:function(wt){return T(N(wt,jt))}}function W(Ot){return null!=Ot?v(s(Ot)):null}function K(Ot){if(!Ot)return null;const jt=Ot.filter(g);return 0==jt.length?null:function(wt){const rn=N(wt,jt).map(S);return(0,H.p)(rn).pipe((0,P.T)(T))}}function ee(Ot){return null!=Ot?K(s(Ot)):null}function ce(Ot,jt){return null===Ot?[jt]:Array.isArray(Ot)?[...Ot,jt]:[Ot,jt]}function _e(Ot){return Ot._rawValidators}function Oe(Ot){return Ot._rawAsyncValidators}function Ve(Ot){return Ot?Array.isArray(Ot)?Ot:[Ot]:[]}function Se(Ot,jt){return Array.isArray(Ot)?Ot.includes(jt):Ot===jt}function be(Ot,jt){const wt=Ve(jt);return Ve(Ot).forEach(Bn=>{Se(wt,Bn)||wt.push(Bn)}),wt}function Ue(Ot,jt){return Ve(jt).filter(wt=>!Se(Ot,wt))}class ye{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(jt){this._rawValidators=jt||[],this._composedValidatorFn=W(this._rawValidators)}_setAsyncValidators(jt){this._rawAsyncValidators=jt||[],this._composedAsyncValidatorFn=ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(jt){this._onDestroyCallbacks.push(jt)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(jt=>jt()),this._onDestroyCallbacks=[]}reset(jt=void 0){this.control&&this.control.reset(jt)}hasError(jt,wt){return!!this.control&&this.control.hasError(jt,wt)}getError(jt,wt){return this.control?this.control.getError(jt,wt):null}}class De extends ye{get formDirective(){return null}get path(){return null}}class pe extends ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ue{constructor(jt){this._cd=jt}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let fe=(()=>{class Ot extends ue{constructor(wt){super(wt)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(pe,2))};static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(rn,Bn){2&rn&&f.AVh("ng-untouched",Bn.isUntouched)("ng-touched",Bn.isTouched)("ng-pristine",Bn.isPristine)("ng-dirty",Bn.isDirty)("ng-valid",Bn.isValid)("ng-invalid",Bn.isInvalid)("ng-pending",Bn.isPending)},features:[f.Vt3]})}return Ot})(),Ee=(()=>{class Ot extends ue{constructor(wt){super(wt)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(De,10))};static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(rn,Bn){2&rn&&f.AVh("ng-untouched",Bn.isUntouched)("ng-touched",Bn.isTouched)("ng-pristine",Bn.isPristine)("ng-dirty",Bn.isDirty)("ng-valid",Bn.isValid)("ng-invalid",Bn.isInvalid)("ng-pending",Bn.isPending)("ng-submitted",Bn.isSubmitted)},features:[f.Vt3]})}return Ot})();const Gt="VALID",hn="INVALID",dn="PENDING",ar="DISABLED";class An{}class en extends An{constructor(jt,wt){super(),this.value=jt,this.source=wt}}class Qt extends An{constructor(jt,wt){super(),this.pristine=jt,this.source=wt}}class _t extends An{constructor(jt,wt){super(),this.touched=jt,this.source=wt}}class ft extends An{constructor(jt,wt){super(),this.status=jt,this.source=wt}}class Wt extends An{constructor(jt){super(),this.source=jt}}class qt extends An{constructor(jt){super(),this.source=jt}}function pn(Ot){return(St(Ot)?Ot.validators:Ot)||null}function gt(Ot,jt){return(St(jt)?jt.asyncValidators:Ot)||null}function St(Ot){return null!=Ot&&!Array.isArray(Ot)&&"object"==typeof Ot}function Ye(Ot,jt,wt){const rn=Ot.controls;if(!(jt?Object.keys(rn):rn).length)throw new f.wOt(1e3,"");if(!rn[wt])throw new f.wOt(1001,"")}function nt(Ot,jt,wt){Ot._forEachChild((rn,Bn)=>{if(void 0===wt[Bn])throw new f.wOt(1002,"")})}class Ht{constructor(jt,wt){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,f.EWP)(()=>this.statusReactive()),this.statusReactive=(0,f.vPA)(void 0),this._pristine=(0,f.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,f.vPA)(!0),this._touched=(0,f.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,f.vPA)(!1),this._events=new x.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(jt),this._assignAsyncValidators(wt)}get validator(){return this._composedValidatorFn}set validator(jt){this._rawValidators=this._composedValidatorFn=jt}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(jt){this._rawAsyncValidators=this._composedAsyncValidatorFn=jt}get parent(){return this._parent}get status(){return(0,f.O8t)(this.statusReactive)}set status(jt){(0,f.O8t)(()=>this.statusReactive.set(jt))}get valid(){return this.status===Gt}get invalid(){return this.status===hn}get pending(){return this.status==dn}get disabled(){return this.status===ar}get enabled(){return this.status!==ar}get pristine(){return(0,f.O8t)(this.pristineReactive)}set pristine(jt){(0,f.O8t)(()=>this.pristineReactive.set(jt))}get dirty(){return!this.pristine}get touched(){return(0,f.O8t)(this.touchedReactive)}set touched(jt){(0,f.O8t)(()=>this.touchedReactive.set(jt))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(jt){this._assignValidators(jt)}setAsyncValidators(jt){this._assignAsyncValidators(jt)}addValidators(jt){this.setValidators(be(jt,this._rawValidators))}addAsyncValidators(jt){this.setAsyncValidators(be(jt,this._rawAsyncValidators))}removeValidators(jt){this.setValidators(Ue(jt,this._rawValidators))}removeAsyncValidators(jt){this.setAsyncValidators(Ue(jt,this._rawAsyncValidators))}hasValidator(jt){return Se(this._rawValidators,jt)}hasAsyncValidator(jt){return Se(this._rawAsyncValidators,jt)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(jt={}){const wt=!1===this.touched;this.touched=!0;const rn=jt.sourceControl??this;this._parent&&!jt.onlySelf&&this._parent.markAsTouched({...jt,sourceControl:rn}),wt&&!1!==jt.emitEvent&&this._events.next(new _t(!0,rn))}markAllAsTouched(jt={}){this.markAsTouched({onlySelf:!0,emitEvent:jt.emitEvent,sourceControl:this}),this._forEachChild(wt=>wt.markAllAsTouched(jt))}markAsUntouched(jt={}){const wt=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const rn=jt.sourceControl??this;this._forEachChild(Bn=>{Bn.markAsUntouched({onlySelf:!0,emitEvent:jt.emitEvent,sourceControl:rn})}),this._parent&&!jt.onlySelf&&this._parent._updateTouched(jt,rn),wt&&!1!==jt.emitEvent&&this._events.next(new _t(!1,rn))}markAsDirty(jt={}){const wt=!0===this.pristine;this.pristine=!1;const rn=jt.sourceControl??this;this._parent&&!jt.onlySelf&&this._parent.markAsDirty({...jt,sourceControl:rn}),wt&&!1!==jt.emitEvent&&this._events.next(new Qt(!1,rn))}markAsPristine(jt={}){const wt=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const rn=jt.sourceControl??this;this._forEachChild(Bn=>{Bn.markAsPristine({onlySelf:!0,emitEvent:jt.emitEvent})}),this._parent&&!jt.onlySelf&&this._parent._updatePristine(jt,rn),wt&&!1!==jt.emitEvent&&this._events.next(new Qt(!0,rn))}markAsPending(jt={}){this.status=dn;const wt=jt.sourceControl??this;!1!==jt.emitEvent&&(this._events.next(new ft(this.status,wt)),this.statusChanges.emit(this.status)),this._parent&&!jt.onlySelf&&this._parent.markAsPending({...jt,sourceControl:wt})}disable(jt={}){const wt=this._parentMarkedDirty(jt.onlySelf);this.status=ar,this.errors=null,this._forEachChild(Bn=>{Bn.disable({...jt,onlySelf:!0})}),this._updateValue();const rn=jt.sourceControl??this;!1!==jt.emitEvent&&(this._events.next(new en(this.value,rn)),this._events.next(new ft(this.status,rn)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...jt,skipPristineCheck:wt},this),this._onDisabledChange.forEach(Bn=>Bn(!0))}enable(jt={}){const wt=this._parentMarkedDirty(jt.onlySelf);this.status=Gt,this._forEachChild(rn=>{rn.enable({...jt,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:jt.emitEvent}),this._updateAncestors({...jt,skipPristineCheck:wt},this),this._onDisabledChange.forEach(rn=>rn(!1))}_updateAncestors(jt,wt){this._parent&&!jt.onlySelf&&(this._parent.updateValueAndValidity(jt),jt.skipPristineCheck||this._parent._updatePristine({},wt),this._parent._updateTouched({},wt))}setParent(jt){this._parent=jt}getRawValue(){return this.value}updateValueAndValidity(jt={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const rn=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===dn)&&this._runAsyncValidator(rn,jt.emitEvent)}const wt=jt.sourceControl??this;!1!==jt.emitEvent&&(this._events.next(new en(this.value,wt)),this._events.next(new ft(this.status,wt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!jt.onlySelf&&this._parent.updateValueAndValidity({...jt,sourceControl:wt})}_updateTreeValidity(jt={emitEvent:!0}){this._forEachChild(wt=>wt._updateTreeValidity(jt)),this.updateValueAndValidity({onlySelf:!0,emitEvent:jt.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ar:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(jt,wt){if(this.asyncValidator){this.status=dn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==wt};const rn=S(this.asyncValidator(this));this._asyncValidationSubscription=rn.subscribe(Bn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Bn,{emitEvent:wt,shouldHaveEmitted:jt})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const jt=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,jt}return!1}setErrors(jt,wt={}){this.errors=jt,this._updateControlsErrors(!1!==wt.emitEvent,this,wt.shouldHaveEmitted)}get(jt){let wt=jt;return null==wt||(Array.isArray(wt)||(wt=wt.split(".")),0===wt.length)?null:wt.reduce((rn,Bn)=>rn&&rn._find(Bn),this)}getError(jt,wt){const rn=wt?this.get(wt):this;return rn&&rn.errors?rn.errors[jt]:null}hasError(jt,wt){return!!this.getError(jt,wt)}get root(){let jt=this;for(;jt._parent;)jt=jt._parent;return jt}_updateControlsErrors(jt,wt,rn){this.status=this._calculateStatus(),jt&&this.statusChanges.emit(this.status),(jt||rn)&&this._events.next(new ft(this.status,wt)),this._parent&&this._parent._updateControlsErrors(jt,wt,rn)}_initObservables(){this.valueChanges=new f.bkB,this.statusChanges=new f.bkB}_calculateStatus(){return this._allControlsDisabled()?ar:this.errors?hn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dn)?dn:this._anyControlsHaveStatus(hn)?hn:Gt}_anyControlsHaveStatus(jt){return this._anyControls(wt=>wt.status===jt)}_anyControlsDirty(){return this._anyControls(jt=>jt.dirty)}_anyControlsTouched(){return this._anyControls(jt=>jt.touched)}_updatePristine(jt,wt){const rn=!this._anyControlsDirty(),Bn=this.pristine!==rn;this.pristine=rn,this._parent&&!jt.onlySelf&&this._parent._updatePristine(jt,wt),Bn&&this._events.next(new Qt(this.pristine,wt))}_updateTouched(jt={},wt){this.touched=this._anyControlsTouched(),this._events.next(new _t(this.touched,wt)),this._parent&&!jt.onlySelf&&this._parent._updateTouched(jt,wt)}_registerOnCollectionChange(jt){this._onCollectionChange=jt}_setUpdateStrategy(jt){St(jt)&&null!=jt.updateOn&&(this._updateOn=jt.updateOn)}_parentMarkedDirty(jt){return!jt&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(jt){return null}_assignValidators(jt){this._rawValidators=Array.isArray(jt)?jt.slice():jt,this._composedValidatorFn=function fr(Ot){return Array.isArray(Ot)?W(Ot):Ot||null}(this._rawValidators)}_assignAsyncValidators(jt){this._rawAsyncValidators=Array.isArray(jt)?jt.slice():jt,this._composedAsyncValidatorFn=function Mt(Ot){return Array.isArray(Ot)?ee(Ot):Ot||null}(this._rawAsyncValidators)}}class Nt extends Ht{constructor(jt,wt,rn){super(pn(wt),gt(rn,wt)),this.controls=jt,this._initObservables(),this._setUpdateStrategy(wt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(jt,wt){return this.controls[jt]?this.controls[jt]:(this.controls[jt]=wt,wt.setParent(this),wt._registerOnCollectionChange(this._onCollectionChange),wt)}addControl(jt,wt,rn={}){this.registerControl(jt,wt),this.updateValueAndValidity({emitEvent:rn.emitEvent}),this._onCollectionChange()}removeControl(jt,wt={}){this.controls[jt]&&this.controls[jt]._registerOnCollectionChange(()=>{}),delete this.controls[jt],this.updateValueAndValidity({emitEvent:wt.emitEvent}),this._onCollectionChange()}setControl(jt,wt,rn={}){this.controls[jt]&&this.controls[jt]._registerOnCollectionChange(()=>{}),delete this.controls[jt],wt&&this.registerControl(jt,wt),this.updateValueAndValidity({emitEvent:rn.emitEvent}),this._onCollectionChange()}contains(jt){return this.controls.hasOwnProperty(jt)&&this.controls[jt].enabled}setValue(jt,wt={}){nt(this,0,jt),Object.keys(jt).forEach(rn=>{Ye(this,!0,rn),this.controls[rn].setValue(jt[rn],{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt)}patchValue(jt,wt={}){null!=jt&&(Object.keys(jt).forEach(rn=>{const Bn=this.controls[rn];Bn&&Bn.patchValue(jt[rn],{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt))}reset(jt={},wt={}){this._forEachChild((rn,Bn)=>{rn.reset(jt?jt[Bn]:null,{onlySelf:!0,emitEvent:wt.emitEvent})}),this._updatePristine(wt,this),this._updateTouched(wt,this),this.updateValueAndValidity(wt)}getRawValue(){return this._reduceChildren({},(jt,wt,rn)=>(jt[rn]=wt.getRawValue(),jt))}_syncPendingControls(){let jt=this._reduceChildren(!1,(wt,rn)=>!!rn._syncPendingControls()||wt);return jt&&this.updateValueAndValidity({onlySelf:!0}),jt}_forEachChild(jt){Object.keys(this.controls).forEach(wt=>{const rn=this.controls[wt];rn&&jt(rn,wt)})}_setUpControls(){this._forEachChild(jt=>{jt.setParent(this),jt._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(jt){for(const[wt,rn]of Object.entries(this.controls))if(this.contains(wt)&&jt(rn))return!0;return!1}_reduceValue(){return this._reduceChildren({},(wt,rn,Bn)=>((rn.enabled||this.disabled)&&(wt[Bn]=rn.value),wt))}_reduceChildren(jt,wt){let rn=jt;return this._forEachChild((Bn,ei)=>{rn=wt(rn,Bn,ei)}),rn}_allControlsDisabled(){for(const jt of Object.keys(this.controls))if(this.controls[jt].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(jt){return this.controls.hasOwnProperty(jt)?this.controls[jt]:null}}class kn extends Nt{}const Jn=new f.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Fn}),Fn="always";function Lt(Ot,jt){return[...jt.path,Ot]}function et(Ot,jt,wt=Fn){nn(Ot,jt),jt.valueAccessor.writeValue(Ot.value),(Ot.disabled||"always"===wt)&&jt.valueAccessor.setDisabledState?.(Ot.disabled),function Kn(Ot,jt){jt.valueAccessor.registerOnChange(wt=>{Ot._pendingValue=wt,Ot._pendingChange=!0,Ot._pendingDirty=!0,"change"===Ot.updateOn&&Dr(Ot,jt)})}(Ot,jt),function Mr(Ot,jt){const wt=(rn,Bn)=>{jt.valueAccessor.writeValue(rn),Bn&&jt.viewToModelUpdate(rn)};Ot.registerOnChange(wt),jt._registerOnDestroy(()=>{Ot._unregisterOnChange(wt)})}(Ot,jt),function tr(Ot,jt){jt.valueAccessor.registerOnTouched(()=>{Ot._pendingTouched=!0,"blur"===Ot.updateOn&&Ot._pendingChange&&Dr(Ot,jt),"submit"!==Ot.updateOn&&Ot.markAsTouched()})}(Ot,jt),function xt(Ot,jt){if(jt.valueAccessor.setDisabledState){const wt=rn=>{jt.valueAccessor.setDisabledState(rn)};Ot.registerOnDisabledChange(wt),jt._registerOnDestroy(()=>{Ot._unregisterOnDisabledChange(wt)})}}(Ot,jt)}function Te(Ot,jt,wt=!0){const rn=()=>{};jt.valueAccessor&&(jt.valueAccessor.registerOnChange(rn),jt.valueAccessor.registerOnTouched(rn)),In(Ot,jt),Ot&&(jt._invokeOnDestroyCallbacks(),Ot._registerOnCollectionChange(()=>{}))}function Be(Ot,jt){Ot.forEach(wt=>{wt.registerOnValidatorChange&&wt.registerOnValidatorChange(jt)})}function nn(Ot,jt){const wt=_e(Ot);null!==jt.validator?Ot.setValidators(ce(wt,jt.validator)):"function"==typeof wt&&Ot.setValidators([wt]);const rn=Oe(Ot);null!==jt.asyncValidator?Ot.setAsyncValidators(ce(rn,jt.asyncValidator)):"function"==typeof rn&&Ot.setAsyncValidators([rn]);const Bn=()=>Ot.updateValueAndValidity();Be(jt._rawValidators,Bn),Be(jt._rawAsyncValidators,Bn)}function In(Ot,jt){let wt=!1;if(null!==Ot){if(null!==jt.validator){const Bn=_e(Ot);if(Array.isArray(Bn)&&Bn.length>0){const ei=Bn.filter(Vi=>Vi!==jt.validator);ei.length!==Bn.length&&(wt=!0,Ot.setValidators(ei))}}if(null!==jt.asyncValidator){const Bn=Oe(Ot);if(Array.isArray(Bn)&&Bn.length>0){const ei=Bn.filter(Vi=>Vi!==jt.asyncValidator);ei.length!==Bn.length&&(wt=!0,Ot.setAsyncValidators(ei))}}}const rn=()=>{};return Be(jt._rawValidators,rn),Be(jt._rawAsyncValidators,rn),wt}function Dr(Ot,jt){Ot._pendingDirty&&Ot.markAsDirty(),Ot.setValue(Ot._pendingValue,{emitModelToViewChange:!1}),jt.viewToModelUpdate(Ot._pendingValue),Ot._pendingChange=!1}function Ir(Ot,jt){nn(Ot,jt)}function hr(Ot,jt){if(!Ot.hasOwnProperty("model"))return!1;const wt=Ot.model;return!!wt.isFirstChange()||!Object.is(jt,wt.currentValue)}function xr(Ot,jt){Ot._syncPendingControls(),jt.forEach(wt=>{const rn=wt.control;"submit"===rn.updateOn&&rn._pendingChange&&(wt.viewToModelUpdate(rn._pendingValue),rn._pendingChange=!1)})}function zr(Ot,jt){if(!jt)return null;let wt,rn,Bn;return Array.isArray(jt),jt.forEach(ei=>{ei.constructor===re?wt=ei:function Ar(Ot){return Object.getPrototypeOf(Ot.constructor)===O}(ei)?rn=ei:Bn=ei}),Bn||rn||wt||null}const Ao={provide:De,useExisting:(0,f.Rfq)(()=>Io)},wi=Promise.resolve();let Io=(()=>{class Ot extends De{get submitted(){return(0,f.O8t)(this.submittedReactive)}constructor(wt,rn,Bn){super(),this.callSetDisabledState=Bn,this._submitted=(0,f.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,f.vPA)(!1),this._directives=new Set,this.ngSubmit=new f.bkB,this.form=new Nt({},W(wt),ee(rn))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(wt){wi.then(()=>{const rn=this._findContainer(wt.path);wt.control=rn.registerControl(wt.name,wt.control),et(wt.control,wt,this.callSetDisabledState),wt.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(wt)})}getControl(wt){return this.form.get(wt.path)}removeControl(wt){wi.then(()=>{const rn=this._findContainer(wt.path);rn&&rn.removeControl(wt.name),this._directives.delete(wt)})}addFormGroup(wt){wi.then(()=>{const rn=this._findContainer(wt.path),Bn=new Nt({});Ir(Bn,wt),rn.registerControl(wt.name,Bn),Bn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(wt){wi.then(()=>{const rn=this._findContainer(wt.path);rn&&rn.removeControl(wt.name)})}getFormGroup(wt){return this.form.get(wt.path)}updateModel(wt,rn){wi.then(()=>{this.form.get(wt.path).setValue(rn)})}setValue(wt){this.control.setValue(wt)}onSubmit(wt){return this.submittedReactive.set(!0),xr(this.form,this._directives),this.ngSubmit.emit(wt),"dialog"===wt?.target?.method}onReset(){this.resetForm()}resetForm(wt=void 0){this.form.reset(wt),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(wt){return wt.pop(),wt.length?this.form.get(wt):this.form}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(Z,10),f.rXU(ie,10),f.rXU(Jn,8))};static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(rn,Bn){1&rn&&f.bIt("submit",function(Vi){return Bn.onSubmit(Vi)})("reset",function(){return Bn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f.Jv_([Ao]),f.Vt3]})}return Ot})();function Co(Ot,jt){const wt=Ot.indexOf(jt);wt>-1&&Ot.splice(wt,1)}function is(Ot){return"object"==typeof Ot&&null!==Ot&&2===Object.keys(Ot).length&&"value"in Ot&&"disabled"in Ot}const ji=class extends Ht{constructor(jt=null,wt,rn){super(pn(wt),gt(rn,wt)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(jt),this._setUpdateStrategy(wt),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),St(wt)&&(wt.nonNullable||wt.initialValueIsDefault)&&(this.defaultValue=is(jt)?jt.value:jt)}setValue(jt,wt={}){this.value=this._pendingValue=jt,this._onChange.length&&!1!==wt.emitModelToViewChange&&this._onChange.forEach(rn=>rn(this.value,!1!==wt.emitViewToModelChange)),this.updateValueAndValidity(wt)}patchValue(jt,wt={}){this.setValue(jt,wt)}reset(jt=this.defaultValue,wt={}){this._applyFormState(jt),this.markAsPristine(wt),this.markAsUntouched(wt),this.setValue(this.value,wt),this._pendingChange=!1}_updateValue(){}_anyControls(jt){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(jt){this._onChange.push(jt)}_unregisterOnChange(jt){Co(this._onChange,jt)}registerOnDisabledChange(jt){this._onDisabledChange.push(jt)}_unregisterOnDisabledChange(jt){Co(this._onDisabledChange,jt)}_forEachChild(jt){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(jt){is(jt)?(this.value=this._pendingValue=jt.value,jt.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=jt}};let la=(()=>{class Ot extends De{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Lt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let wt;return function(Bn){return(wt||(wt=f.xGo(Ot)))(Bn||Ot)}})();static#t=this.\u0275dir=f.FsC({type:Ot,features:[f.Vt3]})}return Ot})();const da={provide:pe,useExisting:(0,f.Rfq)(()=>ll)},Ba=Promise.resolve();let ll=(()=>{class Ot extends pe{constructor(wt,rn,Bn,ei,Vi,ys){super(),this._changeDetectorRef=Vi,this.callSetDisabledState=ys,this.control=new ji,this._registered=!1,this.name="",this.update=new f.bkB,this._parent=wt,this._setValidators(rn),this._setAsyncValidators(Bn),this.valueAccessor=zr(0,ei)}ngOnChanges(wt){if(this._checkForErrors(),!this._registered||"name"in wt){if(this._registered&&(this._checkName(),this.formDirective)){const rn=wt.name.previousValue;this.formDirective.removeControl({name:rn,path:this._getPath(rn)})}this._setUpControl()}"isDisabled"in wt&&this._updateDisabled(wt),hr(wt,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(wt){this.viewModel=wt,this.update.emit(wt)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){et(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(wt){Ba.then(()=>{this.control.setValue(wt,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(wt){const rn=wt.isDisabled.currentValue,Bn=0!==rn&&(0,f.L39)(rn);Ba.then(()=>{Bn&&!this.control.disabled?this.control.disable():!Bn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(wt){return this._parent?Lt(wt,this._parent):[wt]}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(De,9),f.rXU(Z,10),f.rXU(ie,10),f.rXU(F,10),f.rXU(f.gRc,8),f.rXU(Jn,8))};static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f.Jv_([da]),f.Vt3,f.OA$]})}return Ot})(),Xa=(()=>{class Ot{static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Ot})();const ic=new f.nKC(""),Aa={provide:pe,useExisting:(0,f.Rfq)(()=>Yc)};let Yc=(()=>{class Ot extends pe{set isDisabled(wt){}static#e=this._ngModelWarningSentOnce=!1;constructor(wt,rn,Bn,ei,Vi){super(),this._ngModelWarningConfig=ei,this.callSetDisabledState=Vi,this.update=new f.bkB,this._ngModelWarningSent=!1,this._setValidators(wt),this._setAsyncValidators(rn),this.valueAccessor=zr(0,Bn)}ngOnChanges(wt){if(this._isControlChanged(wt)){const rn=wt.form.previousValue;rn&&Te(rn,this,!1),et(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}hr(wt,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Te(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(wt){this.viewModel=wt,this.update.emit(wt)}_isControlChanged(wt){return wt.hasOwnProperty("form")}static#t=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(Z,10),f.rXU(ie,10),f.rXU(F,10),f.rXU(ic,8),f.rXU(Jn,8))};static#n=this.\u0275dir=f.FsC({type:Ot,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f.Jv_([Aa]),f.Vt3,f.OA$]})}return Ot})();const ul={provide:De,useExisting:(0,f.Rfq)(()=>fc)};let fc=(()=>{class Ot extends De{get submitted(){return(0,f.O8t)(this._submittedReactive)}set submitted(wt){this._submittedReactive.set(wt)}constructor(wt,rn,Bn){super(),this.callSetDisabledState=Bn,this._submitted=(0,f.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,f.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.bkB,this._setValidators(wt),this._setAsyncValidators(rn)}ngOnChanges(wt){this._checkFormPresent(),wt.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(In(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(wt){const rn=this.form.get(wt.path);return et(rn,wt,this.callSetDisabledState),rn.updateValueAndValidity({emitEvent:!1}),this.directives.push(wt),rn}getControl(wt){return this.form.get(wt.path)}removeControl(wt){Te(wt.control||null,wt,!1),function Kr(Ot,jt){const wt=Ot.indexOf(jt);wt>-1&&Ot.splice(wt,1)}(this.directives,wt)}addFormGroup(wt){this._setUpFormContainer(wt)}removeFormGroup(wt){this._cleanUpFormContainer(wt)}getFormGroup(wt){return this.form.get(wt.path)}addFormArray(wt){this._setUpFormContainer(wt)}removeFormArray(wt){this._cleanUpFormContainer(wt)}getFormArray(wt){return this.form.get(wt.path)}updateModel(wt,rn){this.form.get(wt.path).setValue(rn)}onSubmit(wt){return this._submittedReactive.set(!0),xr(this.form,this.directives),this.ngSubmit.emit(wt),this.form._events.next(new Wt(this.control)),"dialog"===wt?.target?.method}onReset(){this.resetForm()}resetForm(wt=void 0){this.form.reset(wt),this._submittedReactive.set(!1),this.form._events.next(new qt(this.form))}_updateDomValue(){this.directives.forEach(wt=>{const rn=wt.control,Bn=this.form.get(wt.path);rn!==Bn&&(Te(rn||null,wt),(Ot=>Ot instanceof ji)(Bn)&&(et(Bn,wt,this.callSetDisabledState),wt.control=Bn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(wt){const rn=this.form.get(wt.path);Ir(rn,wt),rn.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(wt){if(this.form){const rn=this.form.get(wt.path);rn&&function jr(Ot,jt){return In(Ot,jt)}(rn,wt)&&rn.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nn(this.form,this),this._oldForm&&In(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(Z,10),f.rXU(ie,10),f.rXU(Jn,8))};static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["","formGroup",""]],hostBindings:function(rn,Bn){1&rn&&f.bIt("submit",function(Vi){return Bn.onSubmit(Vi)})("reset",function(){return Bn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f.Jv_([ul]),f.Vt3,f.OA$]})}return Ot})();const Vs={provide:De,useExisting:(0,f.Rfq)(()=>Tc)};let Tc=(()=>{class Ot extends la{constructor(wt,rn,Bn){super(),this.name=null,this._parent=wt,this._setValidators(rn),this._setAsyncValidators(Bn)}_checkParentType(){fl(this._parent)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(De,13),f.rXU(Z,10),f.rXU(ie,10))};static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[f.Jv_([Vs]),f.Vt3]})}return Ot})();const Js={provide:De,useExisting:(0,f.Rfq)(()=>wa)};let wa=(()=>{class Ot extends De{constructor(wt,rn,Bn){super(),this.name=null,this._parent=wt,this._setValidators(rn),this._setAsyncValidators(Bn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Lt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){fl(this._parent)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(De,13),f.rXU(Z,10),f.rXU(ie,10))};static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[f.Jv_([Js]),f.Vt3]})}return Ot})();function fl(Ot){return!(Ot instanceof Tc||Ot instanceof fc||Ot instanceof wa)}const hc={provide:pe,useExisting:(0,f.Rfq)(()=>so)};let so=(()=>{class Ot extends pe{set isDisabled(wt){}static#e=this._ngModelWarningSentOnce=!1;constructor(wt,rn,Bn,ei,Vi){super(),this._ngModelWarningConfig=Vi,this._added=!1,this.name=null,this.update=new f.bkB,this._ngModelWarningSent=!1,this._parent=wt,this._setValidators(rn),this._setAsyncValidators(Bn),this.valueAccessor=zr(0,ei)}ngOnChanges(wt){this._added||this._setUpControl(),hr(wt,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(wt){this.viewModel=wt,this.update.emit(wt)}get path(){return Lt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(rn){return new(rn||Ot)(f.rXU(De,13),f.rXU(Z,10),f.rXU(ie,10),f.rXU(F,10),f.rXU(ic,8))};static#n=this.\u0275dir=f.FsC({type:Ot,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[f.Jv_([hc]),f.Vt3,f.OA$]})}return Ot})();let Ls=(()=>{class Ot{constructor(){this._validator=y}ngOnChanges(wt){if(this.inputName in wt){const rn=this.normalizeInput(wt[this.inputName].currentValue);this._enabled=this.enabled(rn),this._validator=this._enabled?this.createValidator(rn):y,this._onChange&&this._onChange()}}validate(wt){return this._validator(wt)}registerOnValidatorChange(wt){this._onChange=wt}enabled(wt){return null!=wt}static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275dir=f.FsC({type:Ot,features:[f.OA$]})}return Ot})();const qi={provide:Z,useExisting:(0,f.Rfq)(()=>Yn),multi:!0},on={provide:Z,useExisting:(0,f.Rfq)(()=>Rt),multi:!0};let Yn=(()=>{class Ot extends Ls{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.L39,this.createValidator=wt=>we}enabled(wt){return wt}static#e=this.\u0275fac=(()=>{let wt;return function(Bn){return(wt||(wt=f.xGo(Ot)))(Bn||Ot)}})();static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(rn,Bn){2&rn&&f.BMQ("required",Bn._enabled?"":null)},inputs:{required:"required"},features:[f.Jv_([qi]),f.Vt3]})}return Ot})(),Rt=(()=>{class Ot extends Yn{constructor(){super(...arguments),this.createValidator=wt=>xe}static#e=this.\u0275fac=(()=>{let wt;return function(Bn){return(wt||(wt=f.xGo(Ot)))(Bn||Ot)}})();static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(rn,Bn){2&rn&&f.BMQ("required",Bn._enabled?"":null)},features:[f.Jv_([on]),f.Vt3]})}return Ot})();const Zr={provide:Z,useExisting:(0,f.Rfq)(()=>ao),multi:!0};let ao=(()=>{class Ot extends Ls{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=wt=>function Br(Ot){return"number"==typeof Ot?Ot:parseInt(Ot,10)}(wt),this.createValidator=wt=>a(wt)}static#e=this.\u0275fac=(()=>{let wt;return function(Bn){return(wt||(wt=f.xGo(Ot)))(Bn||Ot)}})();static#t=this.\u0275dir=f.FsC({type:Ot,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(rn,Bn){2&rn&&f.BMQ("maxlength",Bn._enabled?Bn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[f.Jv_([Zr]),f.Vt3]})}return Ot})(),vf=(()=>{class Ot{static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275mod=f.$C({type:Ot});static#n=this.\u0275inj=f.G2t({})}return Ot})();class Nd extends Ht{constructor(jt,wt,rn){super(pn(wt),gt(rn,wt)),this.controls=jt,this._initObservables(),this._setUpdateStrategy(wt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(jt){return this.controls[this._adjustIndex(jt)]}push(jt,wt={}){this.controls.push(jt),this._registerControl(jt),this.updateValueAndValidity({emitEvent:wt.emitEvent}),this._onCollectionChange()}insert(jt,wt,rn={}){this.controls.splice(jt,0,wt),this._registerControl(wt),this.updateValueAndValidity({emitEvent:rn.emitEvent})}removeAt(jt,wt={}){let rn=this._adjustIndex(jt);rn<0&&(rn=0),this.controls[rn]&&this.controls[rn]._registerOnCollectionChange(()=>{}),this.controls.splice(rn,1),this.updateValueAndValidity({emitEvent:wt.emitEvent})}setControl(jt,wt,rn={}){let Bn=this._adjustIndex(jt);Bn<0&&(Bn=0),this.controls[Bn]&&this.controls[Bn]._registerOnCollectionChange(()=>{}),this.controls.splice(Bn,1),wt&&(this.controls.splice(Bn,0,wt),this._registerControl(wt)),this.updateValueAndValidity({emitEvent:rn.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(jt,wt={}){nt(this,0,jt),jt.forEach((rn,Bn)=>{Ye(this,!1,Bn),this.at(Bn).setValue(rn,{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt)}patchValue(jt,wt={}){null!=jt&&(jt.forEach((rn,Bn)=>{this.at(Bn)&&this.at(Bn).patchValue(rn,{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt))}reset(jt=[],wt={}){this._forEachChild((rn,Bn)=>{rn.reset(jt[Bn],{onlySelf:!0,emitEvent:wt.emitEvent})}),this._updatePristine(wt,this),this._updateTouched(wt,this),this.updateValueAndValidity(wt)}getRawValue(){return this.controls.map(jt=>jt.getRawValue())}clear(jt={}){this.controls.length<1||(this._forEachChild(wt=>wt._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:jt.emitEvent}))}_adjustIndex(jt){return jt<0?jt+this.length:jt}_syncPendingControls(){let jt=this.controls.reduce((wt,rn)=>!!rn._syncPendingControls()||wt,!1);return jt&&this.updateValueAndValidity({onlySelf:!0}),jt}_forEachChild(jt){this.controls.forEach((wt,rn)=>{jt(wt,rn)})}_updateValue(){this.value=this.controls.filter(jt=>jt.enabled||this.disabled).map(jt=>jt.value)}_anyControls(jt){return this.controls.some(wt=>wt.enabled&&jt(wt))}_setUpControls(){this._forEachChild(jt=>this._registerControl(jt))}_allControlsDisabled(){for(const jt of this.controls)if(jt.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(jt){jt.setParent(this),jt._registerOnCollectionChange(this._onCollectionChange)}_find(jt){return this.at(jt)??null}}function Pl(Ot){return!!Ot&&(void 0!==Ot.asyncValidators||void 0!==Ot.validators||void 0!==Ot.updateOn)}let Za=(()=>{class Ot{constructor(){this.useNonNullable=!1}get nonNullable(){const wt=new Ot;return wt.useNonNullable=!0,wt}group(wt,rn=null){const Bn=this._reduceControls(wt);let ei={};return Pl(rn)?ei=rn:null!==rn&&(ei.validators=rn.validator,ei.asyncValidators=rn.asyncValidator),new Nt(Bn,ei)}record(wt,rn=null){const Bn=this._reduceControls(wt);return new kn(Bn,rn)}control(wt,rn,Bn){let ei={};return this.useNonNullable?(Pl(rn)?ei=rn:(ei.validators=rn,ei.asyncValidators=Bn),new ji(wt,{...ei,nonNullable:!0})):new ji(wt,rn,Bn)}array(wt,rn,Bn){const ei=wt.map(Vi=>this._createControl(Vi));return new Nd(ei,rn,Bn)}_reduceControls(wt){const rn={};return Object.keys(wt).forEach(Bn=>{rn[Bn]=this._createControl(wt[Bn])}),rn}_createControl(wt){return wt instanceof ji||wt instanceof Ht?wt:Array.isArray(wt)?this.control(wt[0],wt.length>1?wt[1]:null,wt.length>2?wt[2]:null):this.control(wt)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275prov=f.jDH({token:Ot,factory:Ot.\u0275fac,providedIn:"root"})}return Ot})(),Ya=(()=>{class Ot{static withConfig(wt){return{ngModule:Ot,providers:[{provide:Jn,useValue:wt.callSetDisabledState??Fn}]}}static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275mod=f.$C({type:Ot});static#n=this.\u0275inj=f.G2t({imports:[vf]})}return Ot})(),Bl=(()=>{class Ot{static withConfig(wt){return{ngModule:Ot,providers:[{provide:ic,useValue:wt.warnOnNgModelWithFormControl??"always"},{provide:Jn,useValue:wt.callSetDisabledState??Fn}]}}static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275mod=f.$C({type:Ot});static#n=this.\u0275inj=f.G2t({imports:[vf]})}return Ot})()},94073:()=>{"use strict";const je=":";Error;const ce=function(Ve,...Se){if(ce.translate){const Ue=ce.translate(Ve,Se);Ve=Ue[0],Se=Ue[1]}let be=Oe(Ve[0],Ve.raw[0]);for(let Ue=1;Ue<Ve.length;Ue++)be+=Se[Ue-1]+Oe(Ve[Ue],Ve.raw[Ue]);return be},_e=":";function Oe(Ve,Se){return Se.charAt(0)===_e?Ve.substring(function y(Ve,Se){for(let be=1,Ue=1;be<Ve.length;be++,Ue++)if("\\"===Se[Ue])Ue++;else if(Ve[be]===je)return be;throw new Error(`Unterminated $localize metadata block in "${Se}".`)}(Ve,Se)+1):Ve}globalThis.$localize=ce},88834:(je,z,E)=>{"use strict";E.d(z,{$z:()=>de,Hl:()=>T,It:()=>le,iY:()=>g});var f=E(36860),_=E(93953),k=E(18617),H=E(86600);const x=["mat-button",""],P=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],M=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],F=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",j=["mat-icon-button",""],G=["*"],te=new _.nKC("MAT_BUTTON_CONFIG"),Z=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ie=(()=>{class N{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(s){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,s)}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=s,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(s){this._disabled=s,this._updateRippleDisabled()}constructor(s,v,W,K){this._elementRef=s,this._platform=v,this._ngZone=W,this._animationMode=K,this._focusMonitor=(0,_.WQX)(k.FN),this._rippleLoader=(0,_.WQX)(H.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const ee=(0,_.WQX)(te,{optional:!0}),ce=s.nativeElement,_e=ce.classList;this.disabledInteractive=ee?.disabledInteractive??!1,this.color=ee?.color??null,this._rippleLoader?.configureRipple(ce,{className:"mat-mdc-button-ripple"});for(const{attribute:Oe,mdcClasses:Ve}of Z)ce.hasAttribute(Oe)&&_e.add(...Ve)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(s="program",v){s?this._focusMonitor.focusVia(this._elementRef.nativeElement,s,v):this._elementRef.nativeElement.focus(v)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(v){_.QTQ()};static#t=this.\u0275dir=_.FsC({type:N,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",_.L39],disabled:[2,"disabled","disabled",_.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",_.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",_.L39]},features:[_.GFd]})}return N})(),se=(()=>{class N extends ie{constructor(s,v,W,K){super(s,v,W,K),this._haltDisabledEvents=ee=>{this.disabled&&(ee.preventDefault(),ee.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(v){_.QTQ()};static#t=this.\u0275dir=_.FsC({type:N,inputs:{tabIndex:[2,"tabIndex","tabIndex",s=>null==s?void 0:(0,_.Udg)(s)]},features:[_.GFd,_.Vt3]})}return N})(),de=(()=>{class N extends ie{constructor(s,v,W,K){super(s,v,W,K)}static#e=this.\u0275fac=function(v){return new(v||N)(_.rXU(_.aKT),_.rXU(f.OD),_.rXU(_.SKi),_.rXU(_.bc$,8))};static#t=this.\u0275cmp=_.VBU({type:N,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(v,W){2&v&&(_.BMQ("disabled",W._getDisabledAttribute())("aria-disabled",W._getAriaDisabled()),_.HbH(W.color?"mat-"+W.color:""),_.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[_.Vt3,_.aNF],attrs:x,ngContentSelectors:M,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(_.NAR(P),_.nrm(0,"span",0),_.SdG(1),_.j41(2,"span",1),_.SdG(3,1),_.k0s(),_.SdG(4,2),_.nrm(5,"span",2)(6,"span",3)),2&v&&_.AVh("mdc-button__ripple",!W._isFab)("mdc-fab__ripple",W._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return N})(),le=(()=>{class N extends se{constructor(s,v,W,K){super(s,v,W,K)}static#e=this.\u0275fac=function(v){return new(v||N)(_.rXU(_.aKT),_.rXU(f.OD),_.rXU(_.SKi),_.rXU(_.bc$,8))};static#t=this.\u0275cmp=_.VBU({type:N,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(v,W){2&v&&(_.BMQ("disabled",W._getDisabledAttribute())("tabindex",W.disabled&&!W.disabledInteractive?-1:W.tabIndex)("aria-disabled",W._getDisabledAttribute()),_.HbH(W.color?"mat-"+W.color:""),_.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[_.Vt3,_.aNF],attrs:x,ngContentSelectors:M,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(_.NAR(P),_.nrm(0,"span",0),_.SdG(1),_.j41(2,"span",1),_.SdG(3,1),_.k0s(),_.SdG(4,2),_.nrm(5,"span",2)(6,"span",3)),2&v&&_.AVh("mdc-button__ripple",!W._isFab)("mdc-fab__ripple",W._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',F],encapsulation:2,changeDetection:0})}return N})(),g=(()=>{class N extends ie{constructor(s,v,W,K){super(s,v,W,K),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(v){return new(v||N)(_.rXU(_.aKT),_.rXU(f.OD),_.rXU(_.SKi),_.rXU(_.bc$,8))};static#t=this.\u0275cmp=_.VBU({type:N,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(v,W){2&v&&(_.BMQ("disabled",W._getDisabledAttribute())("aria-disabled",W._getAriaDisabled()),_.HbH(W.color?"mat-"+W.color:""),_.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[_.Vt3,_.aNF],attrs:j,ngContentSelectors:G,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(_.NAR(),_.nrm(0,"span",0),_.SdG(1),_.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',F],encapsulation:2,changeDetection:0})}return N})(),T=(()=>{class N{static#e=this.\u0275fac=function(v){return new(v||N)};static#t=this.\u0275mod=_.$C({type:N});static#n=this.\u0275inj=_.G2t({imports:[H.yE,H.pZ,H.yE]})}return N})()},25596:(je,z,E)=>{"use strict";E.d(z,{Hu:()=>xe,Lc:()=>G,MM:()=>te,QG:()=>le,RN:()=>L,WQ:()=>J,YY:()=>re,aJ:()=>X,dh:()=>D,kF:()=>Z,m2:()=>j});var f=E(93953),_=E(60177),k=E(86600);const H=["*"],x=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],P=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","[mat-card-image], [matCardImage],\n                    [mat-card-sm-image], [matCardImageSmall],\n                    [mat-card-md-image], [matCardImageMedium],\n                    [mat-card-lg-image], [matCardImageLarge],\n                    [mat-card-xl-image], [matCardImageXLarge]","*"],M=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],O=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],F=new f.nKC("MAT_CARD_CONFIG");let L=(()=>{class Ce{constructor(a){this.appearance=a?.appearance||"raised"}static#e=this.\u0275fac=function(u){return new(u||Ce)(f.rXU(F,8))};static#t=this.\u0275cmp=f.VBU({type:Ce,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(u,y){2&u&&f.AVh("mat-mdc-card-outlined","outlined"===y.appearance)("mdc-card--outlined","outlined"===y.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[f.aNF],ngContentSelectors:H,decls:1,vars:0,template:function(u,y){1&u&&(f.NAR(),f.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return Ce})(),D=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=f.FsC({type:Ce,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return Ce})(),X=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275cmp=f.VBU({type:Ce,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],standalone:!0,features:[f.aNF],ngContentSelectors:P,decls:4,vars:0,template:function(u,y){1&u&&(f.NAR(x),f.j41(0,"div"),f.SdG(1),f.k0s(),f.SdG(2,1),f.SdG(3,2))},encapsulation:2,changeDetection:0})}return Ce})(),j=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=f.FsC({type:Ce,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return Ce})(),G=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=f.FsC({type:Ce,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return Ce})(),re=(()=>{class Ce{constructor(){this.align="start"}static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=f.FsC({type:Ce,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(u,y){2&u&&f.AVh("mat-mdc-card-actions-align-end","end"===y.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return Ce})(),te=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275cmp=f.VBU({type:Ce,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[f.aNF],ngContentSelectors:O,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(u,y){1&u&&(f.NAR(M),f.SdG(0),f.j41(1,"div",0),f.SdG(2,1),f.k0s(),f.SdG(3,2))},encapsulation:2,changeDetection:0})}return Ce})(),J=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=f.FsC({type:Ce,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return Ce})(),Z=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=f.FsC({type:Ce,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}return Ce})(),le=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=f.FsC({type:Ce,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"],standalone:!0})}return Ce})(),xe=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275mod=f.$C({type:Ce});static#n=this.\u0275inj=f.G2t({imports:[k.yE,_.MD,k.yE]})}return Ce})()},86600:(je,z,E)=>{"use strict";E.d(z,{r5:()=>se,ed:()=>de,es:()=>ye,QC:()=>Bt,is:()=>Ae,$E:()=>w,yE:()=>xe,Np:()=>Q,wT:()=>hn,Sy:()=>An,wg:()=>ne,O5:()=>ge,r6:()=>m,Ej:()=>pn,pZ:()=>U,ug:()=>lt,X0:()=>T,tO:()=>fr,jb:()=>dn,TL:()=>ar});var f=E(93953),_=E(18617),k=E(28203),x=E(60177),P=E(36860),M=E(14085),O=E(21413),F=E(67336);const X=["text"],j=[[["mat-icon"]],"*"],G=["mat-icon","*"];function re(gt,Mt){if(1&gt&&f.nrm(0,"mat-pseudo-checkbox",1),2&gt){const St=f.XpG();f.Y8G("disabled",St.disabled)("state",St.selected?"checked":"unchecked")}}function te(gt,Mt){if(1&gt&&f.nrm(0,"mat-pseudo-checkbox",3),2&gt){const St=f.XpG();f.Y8G("disabled",St.disabled)}}function J(gt,Mt){if(1&gt&&(f.j41(0,"span",4),f.EFF(1),f.k0s()),2&gt){const St=f.XpG();f.R7$(),f.SpI("(",St.group.label,")")}}const Z=["mat-internal-form-field",""],ie=["*"];let se=(()=>{class gt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return gt})(),de=(()=>{class gt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return gt})();const we=new f.nKC("mat-sanity-checks",{providedIn:"root",factory:function le(){return!0}});let xe=(()=>{class gt{constructor(St,Ye,nt){this._sanityChecks=Ye,this._document=nt,this._hasDoneGlobalChecks=!1,St._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(St){return!(0,P.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[St])}static#e=this.\u0275fac=function(Ye){return new(Ye||gt)(f.KVO(_.Q_),f.KVO(we,8),f.KVO(x.qQ))};static#t=this.\u0275mod=f.$C({type:gt});static#n=this.\u0275inj=f.G2t({imports:[k.jI,k.jI]})}return gt})();class T{constructor(Mt,St,Ye,nt,Ht){this._defaultMatcher=Mt,this.ngControl=St,this._parentFormGroup=Ye,this._parentForm=nt,this._stateChanges=Ht,this.errorState=!1}updateErrorState(){const Mt=this.errorState,St=this._parentFormGroup||this._parentForm,Ye=this.matcher||this._defaultMatcher,nt=this.ngControl?this.ngControl.control:null,Ht=Ye?.isErrorState(nt,St)??!1;Ht!==Mt&&(this.errorState=Ht,this._stateChanges.next())}}let ye=(()=>{class gt{isErrorState(St,Ye){return!!(St&&St.invalid&&(St.touched||Ye&&Ye.submitted))}static#e=this.\u0275fac=function(Ye){return new(Ye||gt)};static#t=this.\u0275prov=f.jDH({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})(),Q=(()=>{class gt{static#e=this.\u0275fac=function(Ye){return new(Ye||gt)};static#t=this.\u0275mod=f.$C({type:gt});static#n=this.\u0275inj=f.G2t({imports:[xe,xe]})}return gt})();var oe=function(gt){return gt[gt.FADING_IN=0]="FADING_IN",gt[gt.VISIBLE=1]="VISIBLE",gt[gt.FADING_OUT=2]="FADING_OUT",gt[gt.HIDDEN=3]="HIDDEN",gt}(oe||{});class fe{constructor(Mt,St,Ye,nt=!1){this._renderer=Mt,this.element=St,this.config=Ye,this._animationForciblyDisabledThroughCss=nt,this.state=oe.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ee=(0,P.BQ)({passive:!0,capture:!0});class Re{constructor(){this._events=new Map,this._delegateEventHandler=Mt=>{const St=(0,P.Fb)(Mt);St&&this._events.get(Mt.type)?.forEach((Ye,nt)=>{(nt===St||nt.contains(St))&&Ye.forEach(Ht=>Ht.handleEvent(Mt))})}}addHandler(Mt,St,Ye,nt){const Ht=this._events.get(St);if(Ht){const Nt=Ht.get(Ye);Nt?Nt.add(nt):Ht.set(Ye,new Set([nt]))}else this._events.set(St,new Map([[Ye,new Set([nt])]])),Mt.runOutsideAngular(()=>{document.addEventListener(St,this._delegateEventHandler,Ee)})}removeHandler(Mt,St,Ye){const nt=this._events.get(Mt);if(!nt)return;const Ht=nt.get(St);Ht&&(Ht.delete(Ye),0===Ht.size&&nt.delete(St),0===nt.size&&(this._events.delete(Mt),document.removeEventListener(Mt,this._delegateEventHandler,Ee)))}}const $e={enterDuration:225,exitDuration:150},Et=(0,P.BQ)({passive:!0,capture:!0}),We=["mousedown","touchstart"],Le=["mouseup","mouseleave","touchend","touchcancel"];class lt{static#e=this._eventManager=new Re;constructor(Mt,St,Ye,nt){this._target=Mt,this._ngZone=St,this._platform=nt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,nt.isBrowser&&(this._containerElement=(0,M.i8)(Ye))}fadeInRipple(Mt,St,Ye={}){const nt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ht={...$e,...Ye.animation};Ye.centered&&(Mt=nt.left+nt.width/2,St=nt.top+nt.height/2);const Nt=Ye.radius||function B(gt,Mt,St){const Ye=Math.max(Math.abs(gt-St.left),Math.abs(gt-St.right)),nt=Math.max(Math.abs(Mt-St.top),Math.abs(Mt-St.bottom));return Math.sqrt(Ye*Ye+nt*nt)}(Mt,St,nt),un=Mt-nt.left,Wn=St-nt.top,En=Ht.enterDuration,kn=document.createElement("div");kn.classList.add("mat-ripple-element"),kn.style.left=un-Nt+"px",kn.style.top=Wn-Nt+"px",kn.style.height=2*Nt+"px",kn.style.width=2*Nt+"px",null!=Ye.color&&(kn.style.backgroundColor=Ye.color),kn.style.transitionDuration=`${En}ms`,this._containerElement.appendChild(kn);const Or=window.getComputedStyle(kn),Fn=Or.transitionDuration,Lt="none"===Or.transitionProperty||"0s"===Fn||"0s, 0s"===Fn||0===nt.width&&0===nt.height,et=new fe(this,kn,Ye,Lt);kn.style.transform="scale3d(1, 1, 1)",et.state=oe.FADING_IN,Ye.persistent||(this._mostRecentTransientRipple=et);let Te=null;return!Lt&&(En||Ht.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Be=()=>{Te&&(Te.fallbackTimer=null),clearTimeout(nn),this._finishRippleTransition(et)},xt=()=>this._destroyRipple(et),nn=setTimeout(xt,En+100);kn.addEventListener("transitionend",Be),kn.addEventListener("transitioncancel",xt),Te={onTransitionEnd:Be,onTransitionCancel:xt,fallbackTimer:nn}}),this._activeRipples.set(et,Te),(Lt||!En)&&this._finishRippleTransition(et),et}fadeOutRipple(Mt){if(Mt.state===oe.FADING_OUT||Mt.state===oe.HIDDEN)return;const St=Mt.element,Ye={...$e,...Mt.config.animation};St.style.transitionDuration=`${Ye.exitDuration}ms`,St.style.opacity="0",Mt.state=oe.FADING_OUT,(Mt._animationForciblyDisabledThroughCss||!Ye.exitDuration)&&this._finishRippleTransition(Mt)}fadeOutAll(){this._getActiveRipples().forEach(Mt=>Mt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Mt=>{Mt.config.persistent||Mt.fadeOut()})}setupTriggerEvents(Mt){const St=(0,M.i8)(Mt);!this._platform.isBrowser||!St||St===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=St,We.forEach(Ye=>{lt._eventManager.addHandler(this._ngZone,Ye,St,this)}))}handleEvent(Mt){"mousedown"===Mt.type?this._onMousedown(Mt):"touchstart"===Mt.type?this._onTouchStart(Mt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Le.forEach(St=>{this._triggerElement.addEventListener(St,this,Et)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Mt){Mt.state===oe.FADING_IN?this._startFadeOutTransition(Mt):Mt.state===oe.FADING_OUT&&this._destroyRipple(Mt)}_startFadeOutTransition(Mt){const St=Mt===this._mostRecentTransientRipple,{persistent:Ye}=Mt.config;Mt.state=oe.VISIBLE,!Ye&&(!St||!this._isPointerDown)&&Mt.fadeOut()}_destroyRipple(Mt){const St=this._activeRipples.get(Mt)??null;this._activeRipples.delete(Mt),this._activeRipples.size||(this._containerRect=null),Mt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Mt.state=oe.HIDDEN,null!==St&&(Mt.element.removeEventListener("transitionend",St.onTransitionEnd),Mt.element.removeEventListener("transitioncancel",St.onTransitionCancel),null!==St.fallbackTimer&&clearTimeout(St.fallbackTimer)),Mt.element.remove()}_onMousedown(Mt){const St=(0,_._G)(Mt),Ye=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!St&&!Ye&&(this._isPointerDown=!0,this.fadeInRipple(Mt.clientX,Mt.clientY,this._target.rippleConfig))}_onTouchStart(Mt){if(!this._target.rippleDisabled&&!(0,_.w6)(Mt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const St=Mt.changedTouches;if(St)for(let Ye=0;Ye<St.length;Ye++)this.fadeInRipple(St[Ye].clientX,St[Ye].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Mt=>{!Mt.config.persistent&&(Mt.state===oe.VISIBLE||Mt.config.terminateOnPointerUp&&Mt.state===oe.FADING_IN)&&Mt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Mt=this._triggerElement;Mt&&(We.forEach(St=>lt._eventManager.removeHandler(St,Mt,this)),this._pointerUpEventsRegistered&&(Le.forEach(St=>Mt.removeEventListener(St,this,Et)),this._pointerUpEventsRegistered=!1))}}const w=new f.nKC("mat-ripple-global-options");let m=(()=>{class gt{get disabled(){return this._disabled}set disabled(St){St&&this.fadeOutAllNonPersistent(),this._disabled=St,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(St){this._trigger=St,this._setupTriggerEventsIfEnabled()}constructor(St,Ye,nt,Ht,Nt){this._elementRef=St,this._animationMode=Nt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ht||{},this._rippleRenderer=new lt(this,Ye,St,nt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(St,Ye=0,nt){return"number"==typeof St?this._rippleRenderer.fadeInRipple(St,Ye,{...this.rippleConfig,...nt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...St})}static#e=this.\u0275fac=function(Ye){return new(Ye||gt)(f.rXU(f.aKT),f.rXU(f.SKi),f.rXU(P.OD),f.rXU(w,8),f.rXU(f.bc$,8))};static#t=this.\u0275dir=f.FsC({type:gt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ye,nt){2&Ye&&f.AVh("mat-ripple-unbounded",nt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return gt})(),U=(()=>{class gt{static#e=this.\u0275fac=function(Ye){return new(Ye||gt)};static#t=this.\u0275mod=f.$C({type:gt});static#n=this.\u0275inj=f.G2t({imports:[xe,xe]})}return gt})(),ne=(()=>{class gt{constructor(St){this._animationMode=St,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Ye){return new(Ye||gt)(f.rXU(f.bc$,8))};static#t=this.\u0275cmp=f.VBU({type:gt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Ye,nt){2&Ye&&f.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===nt.state)("mat-pseudo-checkbox-checked","checked"===nt.state)("mat-pseudo-checkbox-disabled",nt.disabled)("mat-pseudo-checkbox-minimal","minimal"===nt.appearance)("mat-pseudo-checkbox-full","full"===nt.appearance)("_mat-animation-noopable","NoopAnimations"===nt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[f.aNF],decls:0,vars:0,template:function(Ye,nt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return gt})(),ge=(()=>{class gt{static#e=this.\u0275fac=function(Ye){return new(Ye||gt)};static#t=this.\u0275mod=f.$C({type:gt});static#n=this.\u0275inj=f.G2t({imports:[xe]})}return gt})();const Ae=new f.nKC("MAT_OPTION_PARENT_COMPONENT"),Bt=new f.nKC("MatOptgroup");let It=0;class Gt{constructor(Mt,St=!1){this.source=Mt,this.isUserInput=St}}let hn=(()=>{class gt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(St){this._disabled=St}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(St,Ye,nt,Ht){this._element=St,this._changeDetectorRef=Ye,this._parent=nt,this.group=Ht,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+It++,this.onSelectionChange=new f.bkB,this._stateChanges=new O.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(St=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),St&&this._emitSelectionChangeEvent())}deselect(St=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),St&&this._emitSelectionChangeEvent())}focus(St,Ye){const nt=this._getHostElement();"function"==typeof nt.focus&&nt.focus(Ye)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(St){(St.keyCode===F.Fm||St.keyCode===F.t6)&&!(0,F.rp)(St)&&(this._selectViaInteraction(),St.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const St=this.viewValue;St!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=St)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(St=!1){this.onSelectionChange.emit(new Gt(this,St))}static#e=this.\u0275fac=function(Ye){return new(Ye||gt)(f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(Ae,8),f.rXU(Bt,8))};static#t=this.\u0275cmp=f.VBU({type:gt,selectors:[["mat-option"]],viewQuery:function(Ye,nt){if(1&Ye&&f.GBs(X,7),2&Ye){let Ht;f.mGM(Ht=f.lsd())&&(nt._text=Ht.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Ye,nt){1&Ye&&f.bIt("click",function(){return nt._selectViaInteraction()})("keydown",function(Nt){return nt._handleKeydown(Nt)}),2&Ye&&(f.Mr5("id",nt.id),f.BMQ("aria-selected",nt.selected)("aria-disabled",nt.disabled.toString()),f.AVh("mdc-list-item--selected",nt.selected)("mat-mdc-option-multiple",nt.multiple)("mat-mdc-option-active",nt.active)("mdc-list-item--disabled",nt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",f.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[f.GFd,f.aNF],ngContentSelectors:G,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Ye,nt){1&Ye&&(f.NAR(j),f.DNE(0,re,1,2,"mat-pseudo-checkbox",1),f.SdG(1),f.j41(2,"span",2,0),f.SdG(4,1),f.k0s(),f.DNE(5,te,1,1,"mat-pseudo-checkbox",3)(6,J,2,1,"span",4),f.nrm(7,"div",5)),2&Ye&&(f.vxM(nt.multiple?0:-1),f.R7$(5),f.vxM(nt.multiple||!nt.selected||nt.hideSingleSelectionIndicator?-1:5),f.R7$(),f.vxM(nt.group&&nt.group._inert?6:-1),f.R7$(),f.Y8G("matRippleTrigger",nt._getHostElement())("matRippleDisabled",nt.disabled||nt.disableRipple))},dependencies:[ne,m],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return gt})();function dn(gt,Mt,St){if(St.length){let Ye=Mt.toArray(),nt=St.toArray(),Ht=0;for(let Nt=0;Nt<gt+1;Nt++)Ye[Nt].group&&Ye[Nt].group===nt[Ht]&&Ht++;return Ht}return 0}function ar(gt,Mt,St,Ye){return gt<St?gt:gt+Mt>St+Ye?Math.max(0,gt-Ye+Mt):St}let An=(()=>{class gt{static#e=this.\u0275fac=function(Ye){return new(Ye||gt)};static#t=this.\u0275mod=f.$C({type:gt});static#n=this.\u0275inj=f.G2t({imports:[U,xe,ge]})}return gt})();const en={capture:!0},Qt=["focus","mousedown","mouseenter","touchstart"],_t="mat-ripple-loader-uninitialized",ft="mat-ripple-loader-class-name",Wt="mat-ripple-loader-centered",qt="mat-ripple-loader-disabled";let pn=(()=>{class gt{constructor(){this._document=(0,f.WQX)(x.qQ,{optional:!0}),this._animationMode=(0,f.WQX)(f.bc$,{optional:!0}),this._globalRippleOptions=(0,f.WQX)(w,{optional:!0}),this._platform=(0,f.WQX)(P.OD),this._ngZone=(0,f.WQX)(f.SKi),this._hosts=new Map,this._onInteraction=St=>{const Ye=(0,P.Fb)(St);if(Ye instanceof HTMLElement){const nt=Ye.closest(`[${_t}="${this._globalRippleOptions?.namespace??""}"]`);nt&&this._createRipple(nt)}},this._ngZone.runOutsideAngular(()=>{for(const St of Qt)this._document?.addEventListener(St,this._onInteraction,en)})}ngOnDestroy(){const St=this._hosts.keys();for(const Ye of St)this.destroyRipple(Ye);for(const Ye of Qt)this._document?.removeEventListener(Ye,this._onInteraction,en)}configureRipple(St,Ye){St.setAttribute(_t,this._globalRippleOptions?.namespace??""),(Ye.className||!St.hasAttribute(ft))&&St.setAttribute(ft,Ye.className||""),Ye.centered&&St.setAttribute(Wt,""),Ye.disabled&&St.setAttribute(qt,"")}getRipple(St){return this._hosts.get(St)||this._createRipple(St)}setDisabled(St,Ye){const nt=this._hosts.get(St);nt?nt.disabled=Ye:Ye?St.setAttribute(qt,""):St.removeAttribute(qt)}_createRipple(St){if(!this._document)return;const Ye=this._hosts.get(St);if(Ye)return Ye;St.querySelector(".mat-ripple")?.remove();const nt=this._document.createElement("span");nt.classList.add("mat-ripple",St.getAttribute(ft)),St.append(nt);const Ht=new m(new f.aKT(nt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ht._isInitialized=!0,Ht.trigger=St,Ht.centered=St.hasAttribute(Wt),Ht.disabled=St.hasAttribute(qt),this.attachRipple(St,Ht),Ht}attachRipple(St,Ye){St.removeAttribute(_t),this._hosts.set(St,Ye)}destroyRipple(St){const Ye=this._hosts.get(St);Ye&&(Ye.ngOnDestroy(),this._hosts.delete(St))}static#e=this.\u0275fac=function(Ye){return new(Ye||gt)};static#t=this.\u0275prov=f.jDH({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})(),fr=(()=>{class gt{static#e=this.\u0275fac=function(Ye){return new(Ye||gt)};static#t=this.\u0275cmp=f.VBU({type:gt,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Ye,nt){2&Ye&&f.AVh("mdc-form-field--align-end","before"===nt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[f.aNF],attrs:Z,ngContentSelectors:ie,decls:1,vars:0,template:function(Ye,nt){1&Ye&&(f.NAR(),f.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return gt})()},75351:(je,z,E)=>{"use strict";E.d(z,{Vh:()=>Ue,bZ:()=>oe,E7:()=>Et,tx:()=>Ee,Yi:()=>Fe,hM:()=>lt,CP:()=>Se,BI:()=>$e});var f=E(66969),_=E(60177),k=E(93953),H=E(18617),x=E(36860),P=E(76939),M=E(67336),O=E(21413),F=E(59030),L=E(7673),D=E(28203),X=E(99172);function j(m,U){}class G{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let te=(()=>{class m extends P.lb{constructor(ne,ge,Ae,tt,Bt,vt,It,Gt){super(),this._elementRef=ne,this._focusTrapFactory=ge,this._config=tt,this._interactivityChecker=Bt,this._ngZone=vt,this._overlayRef=It,this._focusMonitor=Gt,this._platform=(0,k.WQX)(x.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,k.WQX)(k.gRc),this._injector=(0,k.WQX)(k.zZn),this._isDestroyed=!1,this.attachDomPortal=hn=>{this._portalOutlet.hasAttached();const dn=this._portalOutlet.attachDomPortal(hn);return this._contentAttached(),dn},this._document=Ae,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(ne){this._ariaLabelledByQueue.push(ne),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(ne){const ge=this._ariaLabelledByQueue.indexOf(ne);ge>-1&&(this._ariaLabelledByQueue.splice(ge,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(ne){this._portalOutlet.hasAttached();const ge=this._portalOutlet.attachComponentPortal(ne);return this._contentAttached(),ge}attachTemplatePortal(ne){this._portalOutlet.hasAttached();const ge=this._portalOutlet.attachTemplatePortal(ne);return this._contentAttached(),ge}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ne,ge){this._interactivityChecker.isFocusable(ne)||(ne.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Ae=()=>{ne.removeEventListener("blur",Ae),ne.removeEventListener("mousedown",Ae),ne.removeAttribute("tabindex")};ne.addEventListener("blur",Ae),ne.addEventListener("mousedown",Ae)})),ne.focus(ge)}_focusByCssSelector(ne,ge){let Ae=this._elementRef.nativeElement.querySelector(ne);Ae&&this._forceFocus(Ae,ge)}_trapFocus(){this._isDestroyed||(0,k.mal)(()=>{const ne=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ne.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const ne=this._config.restoreFocus;let ge=null;if("string"==typeof ne?ge=this._document.querySelector(ne):"boolean"==typeof ne?ge=ne?this._elementFocusedBeforeDialogWasOpened:null:ne&&(ge=ne),this._config.restoreFocus&&ge&&"function"==typeof ge.focus){const Ae=(0,x.vc)(),tt=this._elementRef.nativeElement;(!Ae||Ae===this._document.body||Ae===tt||tt.contains(Ae))&&(this._focusMonitor?(this._focusMonitor.focusVia(ge,this._closeInteractionType),this._closeInteractionType=null):ge.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ne=this._elementRef.nativeElement,ge=(0,x.vc)();return ne===ge||ne.contains(ge)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,x.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(k.aKT),k.rXU(H.GX),k.rXU(_.qQ,8),k.rXU(G),k.rXU(H.Z7),k.rXU(k.SKi),k.rXU(f.yY),k.rXU(H.FN))};static#t=this.\u0275cmp=k.VBU({type:m,selectors:[["cdk-dialog-container"]],viewQuery:function(ge,Ae){if(1&ge&&k.GBs(P.I3,7),2&ge){let tt;k.mGM(tt=k.lsd())&&(Ae._portalOutlet=tt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ge,Ae){2&ge&&k.BMQ("id",Ae._config.id||null)("role",Ae._config.role)("aria-modal",Ae._config.ariaModal)("aria-labelledby",Ae._config.ariaLabel?null:Ae._ariaLabelledByQueue[0])("aria-label",Ae._config.ariaLabel)("aria-describedby",Ae._config.ariaDescribedBy||null)},standalone:!0,features:[k.Vt3,k.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ge,Ae){1&ge&&k.DNE(0,j,0,0,"ng-template",0)},dependencies:[P.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return m})();class J{constructor(U,ne){this.overlayRef=U,this.config=ne,this.closed=new O.B,this.disableClose=ne.disableClose,this.backdropClick=U.backdropClick(),this.keydownEvents=U.keydownEvents(),this.outsidePointerEvents=U.outsidePointerEvents(),this.id=ne.id,this.keydownEvents.subscribe(ge=>{ge.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(ge)&&(ge.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=U.detachments().subscribe(()=>{!1!==ne.closeOnOverlayDetachments&&this.close()})}close(U,ne){if(this.containerInstance){const ge=this.closed;this.containerInstance._closeInteractionType=ne?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),ge.next(U),ge.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(U="",ne=""){return this.overlayRef.updateSize({width:U,height:ne}),this}addPanelClass(U){return this.overlayRef.addPanelClass(U),this}removePanelClass(U){return this.overlayRef.removePanelClass(U),this}}const Z=new k.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const m=(0,k.WQX)(f.hJ);return()=>m.scrollStrategies.block()}}),ie=new k.nKC("DialogData"),ae=new k.nKC("DefaultDialogConfig");let le=0,we=(()=>{class m{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ne,ge,Ae,tt,Bt,vt){this._overlay=ne,this._injector=ge,this._defaultOptions=Ae,this._parentDialog=tt,this._overlayContainer=Bt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new O.B,this._afterOpenedAtThisLevel=new O.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,F.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,X.Z)(void 0))),this._scrollStrategy=vt}open(ne,ge){(ge={...this._defaultOptions||new G,...ge}).id=ge.id||"cdk-dialog-"+le++,ge.id&&this.getDialogById(ge.id);const tt=this._getOverlayConfig(ge),Bt=this._overlay.create(tt),vt=new J(Bt,ge),It=this._attachContainer(Bt,vt,ge);return vt.containerInstance=It,this._attachDialogContent(ne,vt,It,ge),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(vt),vt.closed.subscribe(()=>this._removeOpenDialog(vt,!0)),this.afterOpened.next(vt),vt}closeAll(){xe(this.openDialogs,ne=>ne.close())}getDialogById(ne){return this.openDialogs.find(ge=>ge.id===ne)}ngOnDestroy(){xe(this._openDialogsAtThisLevel,ne=>{!1===ne.config.closeOnDestroy&&this._removeOpenDialog(ne,!1)}),xe(this._openDialogsAtThisLevel,ne=>ne.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ne){const ge=new f.rR({positionStrategy:ne.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ne.scrollStrategy||this._scrollStrategy(),panelClass:ne.panelClass,hasBackdrop:ne.hasBackdrop,direction:ne.direction,minWidth:ne.minWidth,minHeight:ne.minHeight,maxWidth:ne.maxWidth,maxHeight:ne.maxHeight,width:ne.width,height:ne.height,disposeOnNavigation:ne.closeOnNavigation});return ne.backdropClass&&(ge.backdropClass=ne.backdropClass),ge}_attachContainer(ne,ge,Ae){const tt=Ae.injector||Ae.viewContainerRef?.injector,Bt=[{provide:G,useValue:Ae},{provide:J,useValue:ge},{provide:f.yY,useValue:ne}];let vt;Ae.container?"function"==typeof Ae.container?vt=Ae.container:(vt=Ae.container.type,Bt.push(...Ae.container.providers(Ae))):vt=te;const It=new P.A8(vt,Ae.viewContainerRef,k.zZn.create({parent:tt||this._injector,providers:Bt}),Ae.componentFactoryResolver);return ne.attach(It).instance}_attachDialogContent(ne,ge,Ae,tt){if(ne instanceof k.C4Q){const Bt=this._createInjector(tt,ge,Ae,void 0);let vt={$implicit:tt.data,dialogRef:ge};tt.templateContext&&(vt={...vt,..."function"==typeof tt.templateContext?tt.templateContext():tt.templateContext}),Ae.attachTemplatePortal(new P.VA(ne,null,vt,Bt))}else{const Bt=this._createInjector(tt,ge,Ae,this._injector),vt=Ae.attachComponentPortal(new P.A8(ne,tt.viewContainerRef,Bt,tt.componentFactoryResolver));ge.componentRef=vt,ge.componentInstance=vt.instance}}_createInjector(ne,ge,Ae,tt){const Bt=ne.injector||ne.viewContainerRef?.injector,vt=[{provide:ie,useValue:ne.data},{provide:J,useValue:ge}];return ne.providers&&("function"==typeof ne.providers?vt.push(...ne.providers(ge,ne,Ae)):vt.push(...ne.providers)),ne.direction&&(!Bt||!Bt.get(D.dS,null,{optional:!0}))&&vt.push({provide:D.dS,useValue:{value:ne.direction,change:(0,L.of)()}}),k.zZn.create({parent:Bt||tt,providers:vt})}_removeOpenDialog(ne,ge){const Ae=this.openDialogs.indexOf(ne);Ae>-1&&(this.openDialogs.splice(Ae,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((tt,Bt)=>{tt?Bt.setAttribute("aria-hidden",tt):Bt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),ge&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ne=this._overlayContainer.getContainerElement();if(ne.parentElement){const ge=ne.parentElement.children;for(let Ae=ge.length-1;Ae>-1;Ae--){const tt=ge[Ae];tt!==ne&&"SCRIPT"!==tt.nodeName&&"STYLE"!==tt.nodeName&&!tt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(tt,tt.getAttribute("aria-hidden")),tt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ne=this._parentDialog;return ne?ne._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.KVO(f.hJ),k.KVO(k.zZn),k.KVO(ae,8),k.KVO(m,12),k.KVO(f.Sf),k.KVO(Z))};static#t=this.\u0275prov=k.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function xe(m,U){let ne=m.length;for(;ne--;)U(m[ne])}let Ce=(()=>{class m{static#e=this.\u0275fac=function(ge){return new(ge||m)};static#t=this.\u0275mod=k.$C({type:m});static#n=this.\u0275inj=k.G2t({providers:[we],imports:[f.z_,P.jc,H.Pd,P.jc]})}return m})();var C=E(14085),a=E(57786),u=E(5964),y=E(96697),g=E(67333),S=E(86600);function N(m,U){}E(49969);class A{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const s="mdc-dialog--open",v="mdc-dialog--opening",W="mdc-dialog--closing";let ce=(()=>{class m extends te{constructor(ne,ge,Ae,tt,Bt,vt,It,Gt,hn){super(ne,ge,Ae,tt,Bt,vt,It,hn),this._animationMode=Gt,this._animationStateChanged=new k.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Oe(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Oe(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(_e,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(v,s)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(s),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(s),this._animationsEnabled?(this._hostElement.style.setProperty(_e,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(W)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(ne){this._actionSectionCount+=ne,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(v,W)}_waitForAnimationToComplete(ne,ge){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(ge,ne)}_requestAnimationFrame(ne){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ne):ne()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ne){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ne})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(ne){const ge=super.attachComponentPortal(ne);return ge.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),ge}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(k.aKT),k.rXU(H.GX),k.rXU(_.qQ,8),k.rXU(A),k.rXU(H.Z7),k.rXU(k.SKi),k.rXU(f.yY),k.rXU(k.bc$,8),k.rXU(H.FN))};static#t=this.\u0275cmp=k.VBU({type:m,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(ge,Ae){2&ge&&(k.Mr5("id",Ae._config.id),k.BMQ("aria-modal",Ae._config.ariaModal)("role",Ae._config.role)("aria-labelledby",Ae._config.ariaLabel?null:Ae._ariaLabelledByQueue[0])("aria-label",Ae._config.ariaLabel)("aria-describedby",Ae._config.ariaDescribedBy||null),k.AVh("_mat-animation-noopable",!Ae._animationsEnabled)("mat-mdc-dialog-container-with-actions",Ae._actionSectionCount>0))},standalone:!0,features:[k.Vt3,k.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(ge,Ae){1&ge&&(k.j41(0,"div",0)(1,"div",1),k.DNE(2,N,0,0,"ng-template",2),k.k0s()())},dependencies:[P.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, inherit);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, inherit);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return m})();const _e="--mat-dialog-transition-duration";function Oe(m){return null==m?null:"number"==typeof m?m:m.endsWith("ms")?(0,C.OE)(m.substring(0,m.length-2)):m.endsWith("s")?1e3*(0,C.OE)(m.substring(0,m.length-1)):"0"===m?0:null}var Ve=function(m){return m[m.OPEN=0]="OPEN",m[m.CLOSING=1]="CLOSING",m[m.CLOSED=2]="CLOSED",m}(Ve||{});class Se{constructor(U,ne,ge){this._ref=U,this._containerInstance=ge,this._afterOpened=new O.B,this._beforeClosed=new O.B,this._state=Ve.OPEN,this.disableClose=ne.disableClose,this.id=U.id,U.addPanelClass("mat-mdc-dialog-panel"),ge._animationStateChanged.pipe((0,u.p)(Ae=>"opened"===Ae.state),(0,y.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ge._animationStateChanged.pipe((0,u.p)(Ae=>"closed"===Ae.state),(0,y.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),U.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,a.h)(this.backdropClick(),this.keydownEvents().pipe((0,u.p)(Ae=>Ae.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(Ae)))).subscribe(Ae=>{this.disableClose||(Ae.preventDefault(),be(this,"keydown"===Ae.type?"keyboard":"mouse"))})}close(U){this._result=U,this._containerInstance._animationStateChanged.pipe((0,u.p)(ne=>"closing"===ne.state),(0,y.s)(1)).subscribe(ne=>{this._beforeClosed.next(U),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ne.totalTime+100)}),this._state=Ve.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(U){let ne=this._ref.config.positionStrategy;return U&&(U.left||U.right)?U.left?ne.left(U.left):ne.right(U.right):ne.centerHorizontally(),U&&(U.top||U.bottom)?U.top?ne.top(U.top):ne.bottom(U.bottom):ne.centerVertically(),this._ref.updatePosition(),this}updateSize(U="",ne=""){return this._ref.updateSize(U,ne),this}addPanelClass(U){return this._ref.addPanelClass(U),this}removePanelClass(U){return this._ref.removePanelClass(U),this}getState(){return this._state}_finishDialogClose(){this._state=Ve.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function be(m,U,ne){return m._closeInteractionType=U,m.close(ne)}const Ue=new k.nKC("MatMdcDialogData"),ye=new k.nKC("mat-mdc-dialog-default-options"),De=new k.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const m=(0,k.WQX)(f.hJ);return()=>m.scrollStrategies.block()}});let Q=0,oe=(()=>{class m{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ne=this._parentDialog;return ne?ne._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ne,ge,Ae,tt,Bt,vt,It,Gt){this._overlay=ne,this._defaultOptions=tt,this._scrollStrategy=Bt,this._parentDialog=vt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new O.B,this._afterOpenedAtThisLevel=new O.B,this.dialogConfigClass=A,this.afterAllClosed=(0,F.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,X.Z)(void 0))),this._dialog=ge.get(we),this._dialogRefConstructor=Se,this._dialogContainerType=ce,this._dialogDataToken=Ue}open(ne,ge){let Ae;(ge={...this._defaultOptions||new A,...ge}).id=ge.id||"mat-mdc-dialog-"+Q++,ge.scrollStrategy=ge.scrollStrategy||this._scrollStrategy();const tt=this._dialog.open(ne,{...ge,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ge},{provide:G,useValue:ge}]},templateContext:()=>({dialogRef:Ae}),providers:(Bt,vt,It)=>(Ae=new this._dialogRefConstructor(Bt,ge,It),Ae.updatePosition(ge?.position),[{provide:this._dialogContainerType,useValue:It},{provide:this._dialogDataToken,useValue:vt.data},{provide:this._dialogRefConstructor,useValue:Ae}])});return Ae.componentRef=tt.componentRef,Ae.componentInstance=tt.componentInstance,this.openDialogs.push(Ae),this.afterOpened.next(Ae),Ae.afterClosed().subscribe(()=>{const Bt=this.openDialogs.indexOf(Ae);Bt>-1&&(this.openDialogs.splice(Bt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Ae}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ne){return this.openDialogs.find(ge=>ge.id===ne)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ne){let ge=ne.length;for(;ge--;)ne[ge].close()}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.KVO(f.hJ),k.KVO(k.zZn),k.KVO(_.aZ,8),k.KVO(ye,8),k.KVO(De),k.KVO(m,12),k.KVO(f.Sf),k.KVO(k.bc$,8))};static#t=this.\u0275prov=k.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})(),fe=0,Ee=(()=>{class m{constructor(ne,ge,Ae){this.dialogRef=ne,this._elementRef=ge,this._dialog=Ae,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=We(this._elementRef,this._dialog.openDialogs))}ngOnChanges(ne){const ge=ne._matDialogClose||ne._matDialogCloseResult;ge&&(this.dialogResult=ge.currentValue)}_onButtonClick(ne){be(this.dialogRef,0===ne.screenX&&0===ne.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(Se,8),k.rXU(k.aKT),k.rXU(oe))};static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(ge,Ae){1&ge&&k.bIt("click",function(Bt){return Ae._onButtonClick(Bt)}),2&ge&&k.BMQ("aria-label",Ae.ariaLabel||null)("type",Ae.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[k.OA$]})}return m})(),Re=(()=>{class m{constructor(ne,ge,Ae){this._dialogRef=ne,this._elementRef=ge,this._dialog=Ae}ngOnInit(){this._dialogRef||(this._dialogRef=We(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(Se,8),k.rXU(k.aKT),k.rXU(oe))};static#t=this.\u0275dir=k.FsC({type:m,standalone:!0})}return m})(),$e=(()=>{class m extends Re{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+fe++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let ne;return function(Ae){return(ne||(ne=k.xGo(m)))(Ae||m)}})();static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(ge,Ae){2&ge&&k.Mr5("id",Ae.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[k.Vt3]})}return m})(),Fe=(()=>{class m{static#e=this.\u0275fac=function(ge){return new(ge||m)};static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[k.nM4([g.uv])]})}return m})(),Et=(()=>{class m extends Re{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let ne;return function(Ae){return(ne||(ne=k.xGo(m)))(Ae||m)}})();static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(ge,Ae){2&ge&&k.AVh("mat-mdc-dialog-actions-align-start","start"===Ae.align)("mat-mdc-dialog-actions-align-center","center"===Ae.align)("mat-mdc-dialog-actions-align-end","end"===Ae.align)},inputs:{align:"align"},standalone:!0,features:[k.Vt3]})}return m})();function We(m,U){let ne=m.nativeElement.parentElement;for(;ne&&!ne.classList.contains("mat-mdc-dialog-container");)ne=ne.parentElement;return ne?U.find(ge=>ge.id===ne.id):null}let lt=(()=>{class m{static#e=this.\u0275fac=function(ge){return new(ge||m)};static#t=this.\u0275mod=k.$C({type:m});static#n=this.\u0275inj=k.G2t({providers:[oe],imports:[Ce,f.z_,P.jc,S.yE,S.yE]})}return m})()},71997:(je,z,E)=>{"use strict";E.d(z,{q:()=>H,w:()=>x});var f=E(93953),_=E(14085),k=E(86600);let H=(()=>{class P{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(O){this._vertical=(0,_.he)(O)}get inset(){return this._inset}set inset(O){this._inset=(0,_.he)(O)}static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275cmp=f.VBU({type:P,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(F,L){2&F&&(f.BMQ("aria-orientation",L.vertical?"vertical":"horizontal"),f.AVh("mat-divider-vertical",L.vertical)("mat-divider-horizontal",!L.vertical)("mat-divider-inset",L.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[f.aNF],decls:0,vars:0,template:function(F,L){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return P})(),x=(()=>{class P{static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275mod=f.$C({type:P});static#n=this.\u0275inj=f.G2t({imports:[k.yE,k.yE]})}return P})()},53719:(je,z,E)=>{"use strict";E.d(z,{MV:()=>Ve,RG:()=>Ae,TL:()=>_e,U$:()=>lt,nJ:()=>K,qT:()=>$e,rl:()=>ge,xb:()=>Le,yw:()=>ye});var f=E(93953),_=E(28203),k=E(14085),H=E(36860),x=E(60177),P=E(18359),M=E(21413),O=E(57786),F=E(56977),L=E(98170),D=E(49969),X=E(49937),j=E(86600);const G=["notch"],re=["matFormFieldNotchedOutline",""],te=["*"],J=["textField"],Z=["iconPrefixContainer"],ie=["textPrefixContainer"],ae=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],se=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function de(tt,Bt){1&tt&&f.nrm(0,"span",19)}function le(tt,Bt){if(1&tt&&(f.j41(0,"label",18),f.SdG(1,1),f.DNE(2,de,1,0,"span",19),f.k0s()),2&tt){const vt=f.XpG(2);f.Y8G("floating",vt._shouldLabelFloat())("monitorResize",vt._hasOutline())("id",vt._labelId),f.BMQ("for",vt._control.disableAutomaticLabeling?null:vt._control.id),f.R7$(2),f.vxM(!vt.hideRequiredMarker&&vt._control.required?2:-1)}}function we(tt,Bt){if(1&tt&&f.DNE(0,le,3,5,"label",18),2&tt){const vt=f.XpG();f.vxM(vt._hasFloatingLabel()?0:-1)}}function xe(tt,Bt){1&tt&&f.nrm(0,"div",5)}function Ce(tt,Bt){}function C(tt,Bt){if(1&tt&&f.DNE(0,Ce,0,0,"ng-template",11),2&tt){f.XpG(2);const vt=f.sdS(1);f.Y8G("ngTemplateOutlet",vt)}}function a(tt,Bt){if(1&tt&&(f.j41(0,"div",7),f.DNE(1,C,1,1,null,11),f.k0s()),2&tt){const vt=f.XpG();f.Y8G("matFormFieldNotchedOutlineOpen",vt._shouldLabelFloat()),f.R7$(),f.vxM(vt._forceDisplayInfixLabel()?-1:1)}}function u(tt,Bt){1&tt&&(f.j41(0,"div",8,2),f.SdG(2,2),f.k0s())}function y(tt,Bt){1&tt&&(f.j41(0,"div",9,3),f.SdG(2,3),f.k0s())}function g(tt,Bt){}function S(tt,Bt){if(1&tt&&f.DNE(0,g,0,0,"ng-template",11),2&tt){f.XpG();const vt=f.sdS(1);f.Y8G("ngTemplateOutlet",vt)}}function T(tt,Bt){1&tt&&(f.j41(0,"div",12),f.SdG(1,4),f.k0s())}function N(tt,Bt){1&tt&&(f.j41(0,"div",13),f.SdG(1,5),f.k0s())}function A(tt,Bt){1&tt&&f.nrm(0,"div",14)}function s(tt,Bt){if(1&tt&&(f.j41(0,"div",16),f.SdG(1,6),f.k0s()),2&tt){const vt=f.XpG();f.Y8G("@transitionMessages",vt._subscriptAnimationState)}}function v(tt,Bt){if(1&tt&&(f.j41(0,"mat-hint",20),f.EFF(1),f.k0s()),2&tt){const vt=f.XpG(2);f.Y8G("id",vt._hintLabelId),f.R7$(),f.JRh(vt.hintLabel)}}function W(tt,Bt){if(1&tt&&(f.j41(0,"div",17),f.DNE(1,v,2,2,"mat-hint",20),f.SdG(2,7),f.nrm(3,"div",21),f.SdG(4,8),f.k0s()),2&tt){const vt=f.XpG();f.Y8G("@transitionMessages",vt._subscriptAnimationState),f.R7$(),f.vxM(vt.hintLabel?1:-1)}}let K=(()=>{class tt{static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275dir=f.FsC({type:tt,selectors:[["mat-label"]],standalone:!0})}return tt})(),ee=0;const ce=new f.nKC("MatError");let _e=(()=>{class tt{constructor(vt,It){this.id="mat-mdc-error-"+ee++,vt||It.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(It){return new(It||tt)(f.kS0("aria-live"),f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:tt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(It,Gt){2&It&&f.Mr5("id",Gt.id)},inputs:{id:"id"},standalone:!0,features:[f.Jv_([{provide:ce,useExisting:tt}])]})}return tt})(),Oe=0,Ve=(()=>{class tt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Oe++}static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275dir=f.FsC({type:tt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(It,Gt){2&It&&(f.Mr5("id",Gt.id),f.BMQ("align",null),f.AVh("mat-mdc-form-field-hint-end","end"===Gt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return tt})();const Se=new f.nKC("MatPrefix"),Ue=new f.nKC("MatSuffix");let ye=(()=>{class tt{constructor(){this._isText=!1}set _isTextSelector(vt){this._isText=!0}static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275dir=f.FsC({type:tt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[f.Jv_([{provide:Ue,useExisting:tt}])]})}return tt})();const De=new f.nKC("FloatingLabelParent");let pe=(()=>{class tt{get floating(){return this._floating}set floating(vt){this._floating=vt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(vt){this._monitorResize=vt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(vt){this._elementRef=vt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,f.WQX)(L.a),this._ngZone=(0,f.WQX)(f.SKi),this._parent=(0,f.WQX)(De),this._resizeSubscription=new P.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ue(tt){if(null!==tt.offsetParent)return tt.scrollWidth;const vt=tt.cloneNode(!0);vt.style.setProperty("position","absolute"),vt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(vt);const It=vt.scrollWidth;return vt.remove(),It}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(It){return new(It||tt)(f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:tt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(It,Gt){2&It&&f.AVh("mdc-floating-label--float-above",Gt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return tt})();const Q="mdc-line-ripple--active",oe="mdc-line-ripple--deactivating";let fe=(()=>{class tt{constructor(vt,It){this._elementRef=vt,this._handleTransitionEnd=Gt=>{const hn=this._elementRef.nativeElement.classList,dn=hn.contains(oe);"opacity"===Gt.propertyName&&dn&&hn.remove(Q,oe)},It.runOutsideAngular(()=>{vt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const vt=this._elementRef.nativeElement.classList;vt.remove(oe),vt.add(Q)}deactivate(){this._elementRef.nativeElement.classList.add(oe)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(It){return new(It||tt)(f.rXU(f.aKT),f.rXU(f.SKi))};static#t=this.\u0275dir=f.FsC({type:tt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return tt})(),Ee=(()=>{class tt{constructor(vt,It){this._elementRef=vt,this._ngZone=It,this.open=!1}ngAfterViewInit(){const vt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");vt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(vt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>vt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(vt){this._notch.nativeElement.style.width=this.open&&vt?`calc(${vt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(It){return new(It||tt)(f.rXU(f.aKT),f.rXU(f.SKi))};static#t=this.\u0275cmp=f.VBU({type:tt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(It,Gt){if(1&It&&f.GBs(G,5),2&It){let hn;f.mGM(hn=f.lsd())&&(Gt._notch=hn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(It,Gt){2&It&&f.AVh("mdc-notched-outline--notched",Gt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[f.aNF],attrs:re,ngContentSelectors:te,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(It,Gt){1&It&&(f.NAR(),f.nrm(0,"div",1),f.j41(1,"div",2,0),f.SdG(3),f.k0s(),f.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return tt})();const Re={transitionMessages:(0,D.hZ)("transitionMessages",[(0,D.wk)("enter",(0,D.iF)({opacity:1,transform:"translateY(0%)"})),(0,D.kY)("void => enter",[(0,D.iF)({opacity:0,transform:"translateY(-5px)"}),(0,D.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $e=(()=>{class tt{static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275dir=f.FsC({type:tt})}return tt})();const Le=new f.nKC("MatFormField"),lt=new f.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let B=0;const w="fill",U="fixed";let ge=(()=>{class tt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(vt){this._hideRequiredMarker=(0,k.he)(vt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(vt){vt!==this._floatLabel&&(this._floatLabel=vt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(vt){const It=this._appearance;this._appearance=vt||this._defaults?.appearance||w,"outline"===this._appearance&&this._appearance!==It&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||U}set subscriptSizing(vt){this._subscriptSizing=vt||this._defaults?.subscriptSizing||U}get hintLabel(){return this._hintLabel}set hintLabel(vt){this._hintLabel=vt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(vt){this._explicitFormFieldControl=vt}constructor(vt,It,Gt,hn,dn,ar,An,en){this._elementRef=vt,this._changeDetectorRef=It,this._dir=hn,this._platform=dn,this._defaults=ar,this._animationMode=An,this._labelChild=(0,f.sbv)(K),this._hideRequiredMarker=!1,this.color="primary",this._appearance=w,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+B++,this._hintLabelId="mat-mdc-hint-"+B++,this._subscriptAnimationState="",this._destroyed=new M.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,f.WQX)(f.zZn),this.getLabelId=(0,f.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,f.EWP)(()=>!!this._labelChild()),ar&&(ar.appearance&&(this.appearance=ar.appearance),this._hideRequiredMarker=!!ar?.hideRequiredMarker,ar.color&&(this.color=ar.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const vt=this._control;vt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${vt.controlType}`),vt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),vt.ngControl&&vt.ngControl.valueChanges&&vt.ngControl.valueChanges.pipe((0,F.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(vt=>!vt._isText),this._hasTextPrefix=!!this._prefixChildren.find(vt=>vt._isText),this._hasIconSuffix=!!this._suffixChildren.find(vt=>!vt._isText),this._hasTextSuffix=!!this._suffixChildren.find(vt=>vt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,O.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,f.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,F.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(vt){const It=this._control?this._control.ngControl:null;return It&&It[vt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let vt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&vt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const It=this._hintChildren?this._hintChildren.find(hn=>"start"===hn.align):null,Gt=this._hintChildren?this._hintChildren.find(hn=>"end"===hn.align):null;It?vt.push(It.id):this._hintLabel&&vt.push(this._hintLabelId),Gt&&vt.push(Gt.id)}else this._errorChildren&&vt.push(...this._errorChildren.map(It=>It.id));this._control.setDescribedByIds(vt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const vt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(vt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const It=this._iconPrefixContainer?.nativeElement,Gt=this._textPrefixContainer?.nativeElement,hn=It?.getBoundingClientRect().width??0,dn=Gt?.getBoundingClientRect().width??0;vt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${hn+dn}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const vt=this._elementRef.nativeElement;if(vt.getRootNode){const It=vt.getRootNode();return It&&It!==vt}return document.documentElement.contains(vt)}static#e=this.\u0275fac=function(It){return new(It||tt)(f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(f.SKi),f.rXU(_.dS),f.rXU(H.OD),f.rXU(lt,8),f.rXU(f.bc$,8),f.rXU(x.qQ))};static#t=this.\u0275cmp=f.VBU({type:tt,selectors:[["mat-form-field"]],contentQueries:function(It,Gt,hn){if(1&It&&(f.C6U(hn,Gt._labelChild,K,5),f.wni(hn,$e,5),f.wni(hn,Se,5),f.wni(hn,Ue,5),f.wni(hn,ce,5),f.wni(hn,Ve,5)),2&It){let dn;f.NyB(),f.mGM(dn=f.lsd())&&(Gt._formFieldControl=dn.first),f.mGM(dn=f.lsd())&&(Gt._prefixChildren=dn),f.mGM(dn=f.lsd())&&(Gt._suffixChildren=dn),f.mGM(dn=f.lsd())&&(Gt._errorChildren=dn),f.mGM(dn=f.lsd())&&(Gt._hintChildren=dn)}},viewQuery:function(It,Gt){if(1&It&&(f.GBs(J,5),f.GBs(Z,5),f.GBs(ie,5),f.GBs(pe,5),f.GBs(Ee,5),f.GBs(fe,5)),2&It){let hn;f.mGM(hn=f.lsd())&&(Gt._textField=hn.first),f.mGM(hn=f.lsd())&&(Gt._iconPrefixContainer=hn.first),f.mGM(hn=f.lsd())&&(Gt._textPrefixContainer=hn.first),f.mGM(hn=f.lsd())&&(Gt._floatingLabel=hn.first),f.mGM(hn=f.lsd())&&(Gt._notchedOutline=hn.first),f.mGM(hn=f.lsd())&&(Gt._lineRipple=hn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(It,Gt){2&It&&f.AVh("mat-mdc-form-field-label-always-float",Gt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Gt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Gt._hasIconSuffix)("mat-form-field-invalid",Gt._control.errorState)("mat-form-field-disabled",Gt._control.disabled)("mat-form-field-autofilled",Gt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Gt._animationMode)("mat-form-field-appearance-fill","fill"==Gt.appearance)("mat-form-field-appearance-outline","outline"==Gt.appearance)("mat-form-field-hide-placeholder",Gt._hasFloatingLabel()&&!Gt._shouldLabelFloat())("mat-focused",Gt._control.focused)("mat-primary","accent"!==Gt.color&&"warn"!==Gt.color)("mat-accent","accent"===Gt.color)("mat-warn","warn"===Gt.color)("ng-untouched",Gt._shouldForward("untouched"))("ng-touched",Gt._shouldForward("touched"))("ng-pristine",Gt._shouldForward("pristine"))("ng-dirty",Gt._shouldForward("dirty"))("ng-valid",Gt._shouldForward("valid"))("ng-invalid",Gt._shouldForward("invalid"))("ng-pending",Gt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[f.Jv_([{provide:Le,useExisting:tt},{provide:De,useExisting:tt}]),f.aNF],ngContentSelectors:se,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(It,Gt){if(1&It){const hn=f.RV6();f.NAR(ae),f.DNE(0,we,1,1,"ng-template",null,0,f.C5r),f.j41(2,"div",4,1),f.bIt("click",function(ar){return f.eBV(hn),f.Njj(Gt._control.onContainerClick(ar))}),f.DNE(4,xe,1,0,"div",5),f.j41(5,"div",6),f.DNE(6,a,2,2,"div",7)(7,u,3,0,"div",8)(8,y,3,0,"div",9),f.j41(9,"div",10),f.DNE(10,S,1,1,null,11),f.SdG(11),f.k0s(),f.DNE(12,T,2,0,"div",12)(13,N,2,0,"div",13),f.k0s(),f.DNE(14,A,1,0,"div",14),f.k0s(),f.j41(15,"div",15),f.DNE(16,s,2,1,"div",16)(17,W,5,2,"div",17),f.k0s()}if(2&It){let hn;f.R7$(2),f.AVh("mdc-text-field--filled",!Gt._hasOutline())("mdc-text-field--outlined",Gt._hasOutline())("mdc-text-field--no-label",!Gt._hasFloatingLabel())("mdc-text-field--disabled",Gt._control.disabled)("mdc-text-field--invalid",Gt._control.errorState),f.R7$(2),f.vxM(Gt._hasOutline()||Gt._control.disabled?-1:4),f.R7$(2),f.vxM(Gt._hasOutline()?6:-1),f.R7$(),f.vxM(Gt._hasIconPrefix?7:-1),f.R7$(),f.vxM(Gt._hasTextPrefix?8:-1),f.R7$(2),f.vxM(!Gt._hasOutline()||Gt._forceDisplayInfixLabel()?10:-1),f.R7$(2),f.vxM(Gt._hasTextSuffix?12:-1),f.R7$(),f.vxM(Gt._hasIconSuffix?13:-1),f.R7$(),f.vxM(Gt._hasOutline()?-1:14),f.R7$(),f.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Gt.subscriptSizing),f.R7$(),f.vxM("error"===(hn=Gt._getDisplayedMessages())?16:"hint"===hn?17:-1)}},dependencies:[pe,Ee,x.T3,fe,Ve],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Re.transitionMessages]},changeDetection:0})}return tt})(),Ae=(()=>{class tt{static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275mod=f.$C({type:tt});static#n=this.\u0275inj=f.G2t({imports:[j.yE,x.MD,X.w5,j.yE]})}return tt})()},99213:(je,z,E)=>{"use strict";E.d(z,{An:()=>v,m_:()=>W});var f=E(93953),_=E(86600),k=E(60177),H=E(7673),x=E(18810),P=E(27468),M=E(18359),O=E(88141),F=E(96354),L=E(99437),D=E(70980),X=E(97647),j=E(96697),G=E(21626),re=E(345);const te=["*"];let J;function ie(K){return function Z(){if(void 0===J&&(J=null,typeof window<"u")){const K=window;void 0!==K.trustedTypes&&(J=K.trustedTypes.createPolicy("angular#components",{createHTML:ee=>ee}))}return J}()?.createHTML(K)||K}function ae(K){return Error(`Unable to find icon with the name "${K}"`)}function de(K){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${K}".`)}function le(K){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${K}".`)}class we{constructor(ee,ce,_e){this.url=ee,this.svgText=ce,this.options=_e}}let xe=(()=>{class K{constructor(ce,_e,Oe,Ve){this._httpClient=ce,this._sanitizer=_e,this._errorHandler=Ve,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Oe}addSvgIcon(ce,_e,Oe){return this.addSvgIconInNamespace("",ce,_e,Oe)}addSvgIconLiteral(ce,_e,Oe){return this.addSvgIconLiteralInNamespace("",ce,_e,Oe)}addSvgIconInNamespace(ce,_e,Oe,Ve){return this._addSvgIconConfig(ce,_e,new we(Oe,null,Ve))}addSvgIconResolver(ce){return this._resolvers.push(ce),this}addSvgIconLiteralInNamespace(ce,_e,Oe,Ve){const Se=this._sanitizer.sanitize(f.WPN.HTML,Oe);if(!Se)throw le(Oe);const be=ie(Se);return this._addSvgIconConfig(ce,_e,new we("",be,Ve))}addSvgIconSet(ce,_e){return this.addSvgIconSetInNamespace("",ce,_e)}addSvgIconSetLiteral(ce,_e){return this.addSvgIconSetLiteralInNamespace("",ce,_e)}addSvgIconSetInNamespace(ce,_e,Oe){return this._addSvgIconSetConfig(ce,new we(_e,null,Oe))}addSvgIconSetLiteralInNamespace(ce,_e,Oe){const Ve=this._sanitizer.sanitize(f.WPN.HTML,_e);if(!Ve)throw le(_e);const Se=ie(Ve);return this._addSvgIconSetConfig(ce,new we("",Se,Oe))}registerFontClassAlias(ce,_e=ce){return this._fontCssClassesByAlias.set(ce,_e),this}classNameForFontAlias(ce){return this._fontCssClassesByAlias.get(ce)||ce}setDefaultFontSetClass(...ce){return this._defaultFontSetClass=ce,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ce){const _e=this._sanitizer.sanitize(f.WPN.RESOURCE_URL,ce);if(!_e)throw de(ce);const Oe=this._cachedIconsByUrl.get(_e);return Oe?(0,H.of)(a(Oe)):this._loadSvgIconFromConfig(new we(ce,null)).pipe((0,O.M)(Ve=>this._cachedIconsByUrl.set(_e,Ve)),(0,F.T)(Ve=>a(Ve)))}getNamedSvgIcon(ce,_e=""){const Oe=u(_e,ce);let Ve=this._svgIconConfigs.get(Oe);if(Ve)return this._getSvgFromConfig(Ve);if(Ve=this._getIconConfigFromResolvers(_e,ce),Ve)return this._svgIconConfigs.set(Oe,Ve),this._getSvgFromConfig(Ve);const Se=this._iconSetConfigs.get(_e);return Se?this._getSvgFromIconSetConfigs(ce,Se):(0,x.$)(ae(Oe))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ce){return ce.svgText?(0,H.of)(a(this._svgElementFromConfig(ce))):this._loadSvgIconFromConfig(ce).pipe((0,F.T)(_e=>a(_e)))}_getSvgFromIconSetConfigs(ce,_e){const Oe=this._extractIconWithNameFromAnySet(ce,_e);if(Oe)return(0,H.of)(Oe);const Ve=_e.filter(Se=>!Se.svgText).map(Se=>this._loadSvgIconSetFromConfig(Se).pipe((0,L.W)(be=>{const ye=`Loading icon set URL: ${this._sanitizer.sanitize(f.WPN.RESOURCE_URL,Se.url)} failed: ${be.message}`;return this._errorHandler.handleError(new Error(ye)),(0,H.of)(null)})));return(0,P.p)(Ve).pipe((0,F.T)(()=>{const Se=this._extractIconWithNameFromAnySet(ce,_e);if(!Se)throw ae(ce);return Se}))}_extractIconWithNameFromAnySet(ce,_e){for(let Oe=_e.length-1;Oe>=0;Oe--){const Ve=_e[Oe];if(Ve.svgText&&Ve.svgText.toString().indexOf(ce)>-1){const Se=this._svgElementFromConfig(Ve),be=this._extractSvgIconFromSet(Se,ce,Ve.options);if(be)return be}}return null}_loadSvgIconFromConfig(ce){return this._fetchIcon(ce).pipe((0,O.M)(_e=>ce.svgText=_e),(0,F.T)(()=>this._svgElementFromConfig(ce)))}_loadSvgIconSetFromConfig(ce){return ce.svgText?(0,H.of)(null):this._fetchIcon(ce).pipe((0,O.M)(_e=>ce.svgText=_e))}_extractSvgIconFromSet(ce,_e,Oe){const Ve=ce.querySelector(`[id="${_e}"]`);if(!Ve)return null;const Se=Ve.cloneNode(!0);if(Se.removeAttribute("id"),"svg"===Se.nodeName.toLowerCase())return this._setSvgAttributes(Se,Oe);if("symbol"===Se.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Se),Oe);const be=this._svgElementFromString(ie("<svg></svg>"));return be.appendChild(Se),this._setSvgAttributes(be,Oe)}_svgElementFromString(ce){const _e=this._document.createElement("DIV");_e.innerHTML=ce;const Oe=_e.querySelector("svg");if(!Oe)throw Error("<svg> tag not found");return Oe}_toSvgElement(ce){const _e=this._svgElementFromString(ie("<svg></svg>")),Oe=ce.attributes;for(let Ve=0;Ve<Oe.length;Ve++){const{name:Se,value:be}=Oe[Ve];"id"!==Se&&_e.setAttribute(Se,be)}for(let Ve=0;Ve<ce.childNodes.length;Ve++)ce.childNodes[Ve].nodeType===this._document.ELEMENT_NODE&&_e.appendChild(ce.childNodes[Ve].cloneNode(!0));return _e}_setSvgAttributes(ce,_e){return ce.setAttribute("fit",""),ce.setAttribute("height","100%"),ce.setAttribute("width","100%"),ce.setAttribute("preserveAspectRatio","xMidYMid meet"),ce.setAttribute("focusable","false"),_e&&_e.viewBox&&ce.setAttribute("viewBox",_e.viewBox),ce}_fetchIcon(ce){const{url:_e,options:Oe}=ce,Ve=Oe?.withCredentials??!1;if(!this._httpClient)throw function se(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==_e)throw Error(`Cannot fetch icon from URL "${_e}".`);const Se=this._sanitizer.sanitize(f.WPN.RESOURCE_URL,_e);if(!Se)throw de(_e);const be=this._inProgressUrlFetches.get(Se);if(be)return be;const Ue=this._httpClient.get(Se,{responseType:"text",withCredentials:Ve}).pipe((0,F.T)(ye=>ie(ye)),(0,D.j)(()=>this._inProgressUrlFetches.delete(Se)),(0,X.u)());return this._inProgressUrlFetches.set(Se,Ue),Ue}_addSvgIconConfig(ce,_e,Oe){return this._svgIconConfigs.set(u(ce,_e),Oe),this}_addSvgIconSetConfig(ce,_e){const Oe=this._iconSetConfigs.get(ce);return Oe?Oe.push(_e):this._iconSetConfigs.set(ce,[_e]),this}_svgElementFromConfig(ce){if(!ce.svgElement){const _e=this._svgElementFromString(ce.svgText);this._setSvgAttributes(_e,ce.options),ce.svgElement=_e}return ce.svgElement}_getIconConfigFromResolvers(ce,_e){for(let Oe=0;Oe<this._resolvers.length;Oe++){const Ve=this._resolvers[Oe](_e,ce);if(Ve)return y(Ve)?new we(Ve.url,null,Ve.options):new we(Ve,null)}}static#e=this.\u0275fac=function(_e){return new(_e||K)(f.KVO(G.Qq,8),f.KVO(re.up),f.KVO(k.qQ,8),f.KVO(f.zcH))};static#t=this.\u0275prov=f.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();function a(K){return K.cloneNode(!0)}function u(K,ee){return K+":"+ee}function y(K){return!(!K.url||!K.options)}const g=new f.nKC("MAT_ICON_DEFAULT_OPTIONS"),S=new f.nKC("mat-icon-location",{providedIn:"root",factory:function T(){const K=(0,f.WQX)(k.qQ),ee=K?K.location:null;return{getPathname:()=>ee?ee.pathname+ee.search:""}}}),N=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],A=N.map(K=>`[${K}]`).join(", "),s=/^url\(['"]?#(.*?)['"]?\)$/;let v=(()=>{class K{get color(){return this._color||this._defaultColor}set color(ce){this._color=ce}get svgIcon(){return this._svgIcon}set svgIcon(ce){ce!==this._svgIcon&&(ce?this._updateSvgIcon(ce):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ce)}get fontSet(){return this._fontSet}set fontSet(ce){const _e=this._cleanupFontValue(ce);_e!==this._fontSet&&(this._fontSet=_e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ce){const _e=this._cleanupFontValue(ce);_e!==this._fontIcon&&(this._fontIcon=_e,this._updateFontIconClasses())}constructor(ce,_e,Oe,Ve,Se,be){this._elementRef=ce,this._iconRegistry=_e,this._location=Ve,this._errorHandler=Se,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=M.yU.EMPTY,be&&(be.color&&(this.color=this._defaultColor=be.color),be.fontSet&&(this.fontSet=be.fontSet)),Oe||ce.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(ce){if(!ce)return["",""];const _e=ce.split(":");switch(_e.length){case 1:return["",_e[0]];case 2:return _e;default:throw Error(`Invalid icon name: "${ce}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ce=this._elementsWithExternalReferences;if(ce&&ce.size){const _e=this._location.getPathname();_e!==this._previousPath&&(this._previousPath=_e,this._prependPathToReferences(_e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ce){this._clearSvgElement();const _e=this._location.getPathname();this._previousPath=_e,this._cacheChildrenWithExternalReferences(ce),this._prependPathToReferences(_e),this._elementRef.nativeElement.appendChild(ce)}_clearSvgElement(){const ce=this._elementRef.nativeElement;let _e=ce.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();_e--;){const Oe=ce.childNodes[_e];(1!==Oe.nodeType||"svg"===Oe.nodeName.toLowerCase())&&Oe.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ce=this._elementRef.nativeElement,_e=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Oe=>Oe.length>0);this._previousFontSetClass.forEach(Oe=>ce.classList.remove(Oe)),_e.forEach(Oe=>ce.classList.add(Oe)),this._previousFontSetClass=_e,this.fontIcon!==this._previousFontIconClass&&!_e.includes("mat-ligature-font")&&(this._previousFontIconClass&&ce.classList.remove(this._previousFontIconClass),this.fontIcon&&ce.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ce){return"string"==typeof ce?ce.trim().split(" ")[0]:ce}_prependPathToReferences(ce){const _e=this._elementsWithExternalReferences;_e&&_e.forEach((Oe,Ve)=>{Oe.forEach(Se=>{Ve.setAttribute(Se.name,`url('${ce}#${Se.value}')`)})})}_cacheChildrenWithExternalReferences(ce){const _e=ce.querySelectorAll(A),Oe=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ve=0;Ve<_e.length;Ve++)N.forEach(Se=>{const be=_e[Ve],Ue=be.getAttribute(Se),ye=Ue?Ue.match(s):null;if(ye){let De=Oe.get(be);De||(De=[],Oe.set(be,De)),De.push({name:Se,value:ye[1]})}})}_updateSvgIcon(ce){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ce){const[_e,Oe]=this._splitIconName(ce);_e&&(this._svgNamespace=_e),Oe&&(this._svgName=Oe),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Oe,_e).pipe((0,j.s)(1)).subscribe(Ve=>this._setSvgElement(Ve),Ve=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${_e}:${Oe}! ${Ve.message}`))})}}static#e=this.\u0275fac=function(_e){return new(_e||K)(f.rXU(f.aKT),f.rXU(xe),f.kS0("aria-hidden"),f.rXU(S),f.rXU(f.zcH),f.rXU(g,8))};static#t=this.\u0275cmp=f.VBU({type:K,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(_e,Oe){2&_e&&(f.BMQ("data-mat-icon-type",Oe._usingFontIcon()?"font":"svg")("data-mat-icon-name",Oe._svgName||Oe.fontIcon)("data-mat-icon-namespace",Oe._svgNamespace||Oe.fontSet)("fontIcon",Oe._usingFontIcon()?Oe.fontIcon:null),f.HbH(Oe.color?"mat-"+Oe.color:""),f.AVh("mat-icon-inline",Oe.inline)("mat-icon-no-color","primary"!==Oe.color&&"accent"!==Oe.color&&"warn"!==Oe.color))},inputs:{color:"color",inline:[2,"inline","inline",f.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[f.GFd,f.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(_e,Oe){1&_e&&(f.NAR(),f.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return K})(),W=(()=>{class K{static#e=this.\u0275fac=function(_e){return new(_e||K)};static#t=this.\u0275mod=f.$C({type:K});static#n=this.\u0275inj=f.G2t({imports:[_.yE,_.yE]})}return K})()},99631:(je,z,E)=>{"use strict";E.d(z,{fg:()=>Z,fS:()=>ie});var f=E(14085),_=E(36860),k=E(93953),H=E(983),x=E(21413);const P=(0,_.BQ)({passive:!0});let M=(()=>{class ae{constructor(de,le){this._platform=de,this._ngZone=le,this._monitoredElements=new Map}monitor(de){if(!this._platform.isBrowser)return H.w;const le=(0,f.i8)(de),we=this._monitoredElements.get(le);if(we)return we.subject;const xe=new x.B,Ce="cdk-text-field-autofilled",C=a=>{"cdk-text-field-autofill-start"!==a.animationName||le.classList.contains(Ce)?"cdk-text-field-autofill-end"===a.animationName&&le.classList.contains(Ce)&&(le.classList.remove(Ce),this._ngZone.run(()=>xe.next({target:a.target,isAutofilled:!1}))):(le.classList.add(Ce),this._ngZone.run(()=>xe.next({target:a.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{le.addEventListener("animationstart",C,P),le.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(le,{subject:xe,unlisten:()=>{le.removeEventListener("animationstart",C,P)}}),xe}stopMonitoring(de){const le=(0,f.i8)(de),we=this._monitoredElements.get(le);we&&(we.unlisten(),we.subject.complete(),le.classList.remove("cdk-text-field-autofill-monitored"),le.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(le))}ngOnDestroy(){this._monitoredElements.forEach((de,le)=>this.stopMonitoring(le))}static#e=this.\u0275fac=function(le){return new(le||ae)(k.KVO(_.OD),k.KVO(k.SKi))};static#t=this.\u0275prov=k.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),L=(()=>{class ae{static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275mod=k.$C({type:ae});static#n=this.\u0275inj=k.G2t({})}return ae})();var D=E(89417),X=E(86600),j=E(53719);const re=new k.nKC("MAT_INPUT_VALUE_ACCESSOR"),te=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let J=0,Z=(()=>{class ae{get disabled(){return this._disabled}set disabled(de){this._disabled=(0,f.he)(de),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(de){this._id=de||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(D.k0.required)??!1}set required(de){this._required=(0,f.he)(de)}get type(){return this._type}set type(de){this._type=de||"text",this._validateType(),!this._isTextarea&&(0,_.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(de){this._errorStateTracker.matcher=de}get value(){return this._inputValueAccessor.value}set value(de){de!==this.value&&(this._inputValueAccessor.value=de,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(de){this._readonly=(0,f.he)(de)}get errorState(){return this._errorStateTracker.errorState}set errorState(de){this._errorStateTracker.errorState=de}constructor(de,le,we,xe,Ce,C,a,u,y,g){this._elementRef=de,this._platform=le,this.ngControl=we,this._autofillMonitor=u,this._ngZone=y,this._formField=g,this._uid="mat-input-"+J++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new x.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(N=>(0,_.MU)().has(N)),this._iOSKeyupListener=N=>{const A=N.target;!A.value&&0===A.selectionStart&&0===A.selectionEnd&&(A.setSelectionRange(1,1),A.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const S=this._elementRef.nativeElement,T=S.nodeName.toLowerCase();this._inputValueAccessor=a||S,this._previousNativeValue=this.value,this.id=this.id,le.IOS&&y.runOutsideAngular(()=>{de.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new X.X0(C,we,Ce,xe,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===T,this._isTextarea="textarea"===T,this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=S.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(de=>{this.autofilled=de.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(de){this._elementRef.nativeElement.focus(de)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(de){de!==this.focused&&(this.focused=de,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const de=this._elementRef.nativeElement.value;this._previousNativeValue!==de&&(this._previousNativeValue=de,this.stateChanges.next())}_dirtyCheckPlaceholder(){const de=this._getPlaceholder();if(de!==this._previousPlaceholder){const le=this._elementRef.nativeElement;this._previousPlaceholder=de,de?le.setAttribute("placeholder",de):le.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){te.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let de=this._elementRef.nativeElement.validity;return de&&de.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const de=this._elementRef.nativeElement,le=de.options[0];return this.focused||de.multiple||!this.empty||!!(de.selectedIndex>-1&&le&&le.label)}return this.focused||!this.empty}setDescribedByIds(de){de.length?this._elementRef.nativeElement.setAttribute("aria-describedby",de.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const de=this._elementRef.nativeElement;return this._isNativeSelect&&(de.multiple||de.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(le){return new(le||ae)(k.rXU(k.aKT),k.rXU(_.OD),k.rXU(D.vO,10),k.rXU(D.cV,8),k.rXU(D.j4,8),k.rXU(X.es),k.rXU(re,10),k.rXU(M),k.rXU(k.SKi),k.rXU(j.xb,8))};static#t=this.\u0275dir=k.FsC({type:ae,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(le,we){1&le&&k.bIt("focus",function(){return we._focusChanged(!0)})("blur",function(){return we._focusChanged(!1)})("input",function(){return we._onInput()}),2&le&&(k.Mr5("id",we.id)("disabled",we.disabled)("required",we.required),k.BMQ("name",we.name||null)("readonly",we.readonly&&!we._isNativeSelect||null)("aria-invalid",we.empty&&we.required?null:we.errorState)("aria-required",we.required)("id",we.id),k.AVh("mat-input-server",we._isServer)("mat-mdc-form-field-textarea-control",we._isInFormField&&we._isTextarea)("mat-mdc-form-field-input-control",we._isInFormField)("mdc-text-field__input",we._isInFormField)("mat-mdc-native-select-inline",we._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[k.Jv_([{provide:j.qT,useExisting:ae}]),k.OA$]})}return ae})(),ie=(()=>{class ae{static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275mod=k.$C({type:ae});static#n=this.\u0275inj=k.G2t({imports:[X.yE,j.RG,j.RG,L,X.yE]})}return ae})()},3902:(je,z,E)=>{"use strict";E.d(z,{C_:()=>ce,EI:()=>Re,Fg:()=>lt,YE:()=>oe,ZV:()=>Se,_L:()=>Fe,jt:()=>Q,yE:()=>ee,zi:()=>Ve});var f=E(93953),_=E(14085),k=E(36860),H=E(86600),x=E(18359),P=E(57786),O=(E(21413),E(49937)),F=E(60177),L=E(71997);E(18617),E(45024),E(67336),E(89417),E(56977);const te=["*"],J='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color);font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color);font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color);opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color);opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',Z=["unscopedContent"],ie=["text"],ae=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],se=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],K=new f.nKC("ListOption");let ee=(()=>{class B{constructor(m){this._elementRef=m}static#e=this.\u0275fac=function(U){return new(U||B)(f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:B,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return B})(),ce=(()=>{class B{constructor(m){this._elementRef=m}static#e=this.\u0275fac=function(U){return new(U||B)(f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:B,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return B})(),_e=(()=>{class B{static#e=this.\u0275fac=function(U){return new(U||B)};static#t=this.\u0275dir=f.FsC({type:B,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return B})(),Oe=(()=>{class B{constructor(m){this._listOption=m}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(U){return new(U||B)(f.rXU(K,8))};static#t=this.\u0275dir=f.FsC({type:B,hostVars:4,hostBindings:function(U,ne){2&U&&f.AVh("mdc-list-item__start",ne._isAlignedAtStart())("mdc-list-item__end",!ne._isAlignedAtStart())},standalone:!0})}return B})(),Ve=(()=>{class B extends Oe{static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=f.xGo(B)))(ne||B)}})();static#t=this.\u0275dir=f.FsC({type:B,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[f.Vt3]})}return B})(),Se=(()=>{class B extends Oe{static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=f.xGo(B)))(ne||B)}})();static#t=this.\u0275dir=f.FsC({type:B,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[f.Vt3]})}return B})();const be=new f.nKC("MAT_LIST_CONFIG");let Ue=(()=>{class B{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,f.WQX)(be,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(m){this._disableRipple=(0,_.he)(m)}get disabled(){return this._disabled}set disabled(m){this._disabled=(0,_.he)(m)}static#e=this.\u0275fac=function(U){return new(U||B)};static#t=this.\u0275dir=f.FsC({type:B,hostVars:1,hostBindings:function(U,ne){2&U&&f.BMQ("aria-disabled",ne.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return B})(),ye=(()=>{class B{set lines(m){this._explicitLines=(0,_.OE)(m,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(m){this._disableRipple=(0,_.he)(m)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(m){this._disabled=(0,_.he)(m)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(m,U,ne,ge,Ae,tt){this._elementRef=m,this._ngZone=U,this._listBase=ne,this._platform=ge,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new x.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=Ae||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===tt,ne&&!ne._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new H.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,P.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(m){if(!this._lines||!this._titles||!this._unscopedContent)return;m&&this._checkDomForUnscopedTextContent();const U=this._explicitLines??this._inferLinesFromContent(),ne=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",U<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",U<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===U),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===U),this._hasUnscopedTextContent){const ge=0===this._titles.length&&1===U;ne.classList.toggle("mdc-list-item__primary-text",ge),ne.classList.toggle("mdc-list-item__secondary-text",!ge)}else ne.classList.remove("mdc-list-item__primary-text"),ne.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let m=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(m+=1),m}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(m=>m.nodeType!==m.COMMENT_NODE).some(m=>!(!m.textContent||!m.textContent.trim()))}static#e=this.\u0275fac=function(U){return new(U||B)(f.rXU(f.aKT),f.rXU(f.SKi),f.rXU(Ue,8),f.rXU(k.OD),f.rXU(H.$E,8),f.rXU(f.bc$,8))};static#t=this.\u0275dir=f.FsC({type:B,contentQueries:function(U,ne,ge){if(1&U&&(f.wni(ge,Ve,4),f.wni(ge,Se,4)),2&U){let Ae;f.mGM(Ae=f.lsd())&&(ne._avatars=Ae),f.mGM(Ae=f.lsd())&&(ne._icons=Ae)}},hostVars:4,hostBindings:function(U,ne){2&U&&(f.BMQ("aria-disabled",ne.disabled)("disabled",ne._isButtonElement&&ne.disabled||null),f.AVh("mdc-list-item--disabled",ne.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return B})(),Q=(()=>{class B extends Ue{static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=f.xGo(B)))(ne||B)}})();static#t=this.\u0275cmp=f.VBU({type:B,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[f.Jv_([{provide:Ue,useExisting:B}]),f.Vt3,f.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(U,ne){1&U&&(f.NAR(),f.SdG(0))},styles:[J],encapsulation:2,changeDetection:0})}return B})(),oe=(()=>{class B extends ye{get activated(){return this._activated}set activated(m){this._activated=(0,_.he)(m)}constructor(m,U,ne,ge,Ae,tt){super(m,U,ne,ge,Ae,tt),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#e=this.\u0275fac=function(U){return new(U||B)(f.rXU(f.aKT),f.rXU(f.SKi),f.rXU(Ue,8),f.rXU(k.OD),f.rXU(H.$E,8),f.rXU(f.bc$,8))};static#t=this.\u0275cmp=f.VBU({type:B,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(U,ne,ge){if(1&U&&(f.wni(ge,ce,5),f.wni(ge,ee,5),f.wni(ge,_e,5)),2&U){let Ae;f.mGM(Ae=f.lsd())&&(ne._lines=Ae),f.mGM(Ae=f.lsd())&&(ne._titles=Ae),f.mGM(Ae=f.lsd())&&(ne._meta=Ae)}},viewQuery:function(U,ne){if(1&U&&(f.GBs(Z,5),f.GBs(ie,5)),2&U){let ge;f.mGM(ge=f.lsd())&&(ne._unscopedContent=ge.first),f.mGM(ge=f.lsd())&&(ne._itemText=ge.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(U,ne){2&U&&(f.BMQ("aria-current",ne._getAriaCurrent()),f.AVh("mdc-list-item--activated",ne.activated)("mdc-list-item--with-leading-avatar",0!==ne._avatars.length)("mdc-list-item--with-leading-icon",0!==ne._icons.length)("mdc-list-item--with-trailing-meta",0!==ne._meta.length)("mat-mdc-list-item-both-leading-and-trailing",ne._hasBothLeadingAndTrailing())("_mat-animation-noopable",ne._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:se,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(U,ne){if(1&U){const ge=f.RV6();f.NAR(ae),f.SdG(0),f.j41(1,"span",1),f.SdG(2,1),f.SdG(3,2),f.j41(4,"span",2,0),f.bIt("cdkObserveContent",function(){return f.eBV(ge),f.Njj(ne._updateItemLines(!0))}),f.SdG(6,3),f.k0s()(),f.SdG(7,4),f.SdG(8,5),f.nrm(9,"div",3)}},dependencies:[O.Wv],encapsulation:2,changeDetection:0})}return B})(),Re=(()=>{class B{static#e=this.\u0275fac=function(U){return new(U||B)};static#t=this.\u0275dir=f.FsC({type:B,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return B})(),Fe=(()=>{class B extends Ue{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=f.xGo(B)))(ne||B)}})();static#t=this.\u0275cmp=f.VBU({type:B,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[f.Jv_([{provide:Ue,useExisting:B}]),f.Vt3,f.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(U,ne){1&U&&(f.NAR(),f.SdG(0))},styles:[J],encapsulation:2,changeDetection:0})}return B})(),lt=(()=>{class B{static#e=this.\u0275fac=function(U){return new(U||B)};static#t=this.\u0275mod=f.$C({type:B});static#n=this.\u0275inj=f.G2t({imports:[O.w5,F.MD,H.yE,H.pZ,H.O5,L.w]})}return B})()},59115:(je,z,E)=>{"use strict";E.d(z,{Cn:()=>De,Cp:()=>ye,fb:()=>y,kk:()=>_e});var f=E(93953),_=E(18617),k=E(67336),H=E(21413),x=E(57786),P=E(18359),M=E(7673),O=E(25007),F=E(99172),L=E(25558),D=E(56977),X=E(5964),j=E(96697),G=E(91986),re=E(60177),te=E(86600),J=E(76939),Z=E(49969),ie=E(28203),ae=E(66969),se=E(36860),de=E(67333);const le=["mat-menu-item",""],we=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],xe=["mat-icon, [matMenuItemIcon]","*"];function Ce(pe,ue){1&pe&&(f.qSk(),f.j41(0,"svg",2),f.nrm(1,"polygon",3),f.k0s())}const C=["*"];function a(pe,ue){if(1&pe){const Q=f.RV6();f.j41(0,"div",0),f.bIt("keydown",function(fe){f.eBV(Q);const Ee=f.XpG();return f.Njj(Ee._handleKeydown(fe))})("click",function(){f.eBV(Q);const fe=f.XpG();return f.Njj(fe.closed.emit("click"))})("@transformMenu.start",function(fe){f.eBV(Q);const Ee=f.XpG();return f.Njj(Ee._onAnimationStart(fe))})("@transformMenu.done",function(fe){f.eBV(Q);const Ee=f.XpG();return f.Njj(Ee._onAnimationDone(fe))}),f.j41(1,"div",1),f.SdG(2),f.k0s()()}if(2&pe){const Q=f.XpG();f.HbH(Q._classList),f.Y8G("id",Q.panelId)("@transformMenu",Q._panelAnimationState),f.BMQ("aria-label",Q.ariaLabel||null)("aria-labelledby",Q.ariaLabelledby||null)("aria-describedby",Q.ariaDescribedby||null)}}const u=new f.nKC("MAT_MENU_PANEL");let y=(()=>{class pe{constructor(Q,oe,fe,Ee,Re){this._elementRef=Q,this._document=oe,this._focusMonitor=fe,this._parentMenu=Ee,this._changeDetectorRef=Re,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new H.B,this._focused=new H.B,this._highlighted=!1,this._triggersSubmenu=!1,Ee?.addItem?.(this)}focus(Q,oe){this._focusMonitor&&Q?this._focusMonitor.focusVia(this._getHostElement(),Q,oe):this._getHostElement().focus(oe),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Q){this.disabled&&(Q.preventDefault(),Q.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Q=this._elementRef.nativeElement.cloneNode(!0),oe=Q.querySelectorAll("mat-icon, .material-icons");for(let fe=0;fe<oe.length;fe++)oe[fe].remove();return Q.textContent?.trim()||""}_setHighlighted(Q){this._highlighted=Q,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Q){this._triggersSubmenu=Q,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(oe){return new(oe||pe)(f.rXU(f.aKT),f.rXU(re.qQ),f.rXU(_.FN),f.rXU(u,8),f.rXU(f.gRc))};static#t=this.\u0275cmp=f.VBU({type:pe,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(oe,fe){1&oe&&f.bIt("click",function(Re){return fe._checkDisabled(Re)})("mouseenter",function(){return fe._handleMouseEnter()}),2&oe&&(f.BMQ("role",fe.role)("tabindex",fe._getTabIndex())("aria-disabled",fe.disabled)("disabled",fe.disabled||null),f.AVh("mat-mdc-menu-item-highlighted",fe._highlighted)("mat-mdc-menu-item-submenu-trigger",fe._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",f.L39],disableRipple:[2,"disableRipple","disableRipple",f.L39]},exportAs:["matMenuItem"],standalone:!0,features:[f.GFd,f.aNF],attrs:le,ngContentSelectors:xe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(oe,fe){1&oe&&(f.NAR(we),f.SdG(0),f.j41(1,"span",0),f.SdG(2,1),f.k0s(),f.nrm(3,"div",1),f.DNE(4,Ce,2,0,":svg:svg",2)),2&oe&&(f.R7$(3),f.Y8G("matRippleDisabled",fe.disableRipple||fe.disabled)("matRippleTrigger",fe._getHostElement()),f.R7$(),f.vxM(fe._triggersSubmenu?4:-1))},dependencies:[te.r6],encapsulation:2,changeDetection:0})}return pe})();const N=new f.nKC("MatMenuContent"),s={transformMenu:(0,Z.hZ)("transformMenu",[(0,Z.wk)("void",(0,Z.iF)({opacity:0,transform:"scale(0.8)"})),(0,Z.kY)("void => enter",(0,Z.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Z.iF)({opacity:1,transform:"scale(1)"}))),(0,Z.kY)("* => void",(0,Z.i0)("100ms 25ms linear",(0,Z.iF)({opacity:0})))]),fadeInItems:(0,Z.hZ)("fadeInItems",[(0,Z.wk)("showing",(0,Z.iF)({opacity:1})),(0,Z.kY)("void => *",[(0,Z.iF)({opacity:0}),(0,Z.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let K=0;const ee=new f.nKC("mat-menu-default-options",{providedIn:"root",factory:function ce(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let _e=(()=>{class pe{get xPosition(){return this._xPosition}set xPosition(Q){this._xPosition=Q,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Q){this._yPosition=Q,this.setPositionClasses()}set panelClass(Q){const oe=this._previousPanelClass,fe={...this._classList};oe&&oe.length&&oe.split(" ").forEach(Ee=>{fe[Ee]=!1}),this._previousPanelClass=Q,Q&&Q.length&&(Q.split(" ").forEach(Ee=>{fe[Ee]=!0}),this._elementRef.nativeElement.className=""),this._classList=fe}get classList(){return this.panelClass}set classList(Q){this.panelClass=Q}constructor(Q,oe,fe,Ee){this._elementRef=Q,this._changeDetectorRef=Ee,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new f.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new H.B,this.closed=new f.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+K++,this._injector=(0,f.WQX)(f.zZn),this.overlayPanelClass=fe.overlayPanelClass||"",this._xPosition=fe.xPosition,this._yPosition=fe.yPosition,this.backdropClass=fe.backdropClass,this.overlapTrigger=fe.overlapTrigger,this.hasBackdrop=fe.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new _.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,F.Z)(this._directDescendantItems),(0,L.n)(Q=>(0,x.h)(...Q.map(oe=>oe._focused)))).subscribe(Q=>this._keyManager.updateActiveItem(Q)),this._directDescendantItems.changes.subscribe(Q=>{const oe=this._keyManager;if("enter"===this._panelAnimationState&&oe.activeItem?._hasFocus()){const fe=Q.toArray(),Ee=Math.max(0,Math.min(fe.length-1,oe.activeItemIndex||0));fe[Ee]&&!fe[Ee].disabled?oe.setActiveItem(Ee):oe.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,F.Z)(this._directDescendantItems),(0,L.n)(oe=>(0,x.h)(...oe.map(fe=>fe._hovered))))}addItem(Q){}removeItem(Q){}_handleKeydown(Q){const oe=Q.keyCode,fe=this._keyManager;switch(oe){case k._f:(0,k.rp)(Q)||(Q.preventDefault(),this.closed.emit("keydown"));break;case k.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case k.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(oe===k.i7||oe===k.n6)&&fe.setFocusOrigin("keyboard"),void fe.onKeydown(Q)}Q.stopPropagation()}focusFirstItem(Q="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,f.mal)(()=>{let oe=null;if(this._directDescendantItems.length&&(oe=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!oe||!oe.contains(document.activeElement)){const fe=this._keyManager;fe.setFocusOrigin(Q).setFirstItemActive(),!fe.activeItem&&oe&&oe.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Q){if(null===this._baseElevation){const $e=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt($e)}const oe=Math.min(this._baseElevation+Q,24),fe=`${this._elevationPrefix}${oe}`,Ee=Object.keys(this._classList).find(Re=>Re.startsWith(this._elevationPrefix));if(!Ee||Ee===this._previousElevation){const Re={...this._classList};this._previousElevation&&(Re[this._previousElevation]=!1),Re[fe]=!0,this._previousElevation=fe,this._classList=Re}}setPositionClasses(Q=this.xPosition,oe=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===Q,"mat-menu-after":"after"===Q,"mat-menu-above":"above"===oe,"mat-menu-below":"below"===oe},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Q){this._animationDone.next(Q),this._isAnimating=!1}_onAnimationStart(Q){this._isAnimating=!0,"enter"===Q.toState&&0===this._keyManager.activeItemIndex&&(Q.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,F.Z)(this._allItems)).subscribe(Q=>{this._directDescendantItems.reset(Q.filter(oe=>oe._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(oe){return new(oe||pe)(f.rXU(f.aKT),f.rXU(f.SKi),f.rXU(ee),f.rXU(f.gRc))};static#t=this.\u0275cmp=f.VBU({type:pe,selectors:[["mat-menu"]],contentQueries:function(oe,fe,Ee){if(1&oe&&(f.wni(Ee,N,5),f.wni(Ee,y,5),f.wni(Ee,y,4)),2&oe){let Re;f.mGM(Re=f.lsd())&&(fe.lazyContent=Re.first),f.mGM(Re=f.lsd())&&(fe._allItems=Re),f.mGM(Re=f.lsd())&&(fe.items=Re)}},viewQuery:function(oe,fe){if(1&oe&&f.GBs(f.C4Q,5),2&oe){let Ee;f.mGM(Ee=f.lsd())&&(fe.templateRef=Ee.first)}},hostVars:3,hostBindings:function(oe,fe){2&oe&&f.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",f.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",Q=>null==Q?null:(0,f.L39)(Q)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[f.Jv_([{provide:u,useExisting:pe}]),f.GFd,f.aNF],ngContentSelectors:C,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(oe,fe){1&oe&&(f.NAR(),f.DNE(0,a,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[s.transformMenu,s.fadeInItems]},changeDetection:0})}return pe})();const Oe=new f.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const pe=(0,f.WQX)(ae.hJ);return()=>pe.scrollStrategies.reposition()}}),Se={provide:Oe,deps:[ae.hJ],useFactory:function Ve(pe){return()=>pe.scrollStrategies.reposition()}},be=(0,se.BQ)({passive:!0});let ye=(()=>{class pe{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Q){this.menu=Q}get menu(){return this._menu}set menu(Q){Q!==this._menu&&(this._menu=Q,this._menuCloseSubscription.unsubscribe(),Q&&(this._menuCloseSubscription=Q.close.subscribe(oe=>{this._destroyMenu(oe),("click"===oe||"tab"===oe)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(oe)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(Q,oe,fe,Ee,Re,$e,Fe,Et,We){this._overlay=Q,this._element=oe,this._viewContainerRef=fe,this._menuItemInstance=$e,this._dir=Fe,this._focusMonitor=Et,this._ngZone=We,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=P.yU.EMPTY,this._hoverSubscription=P.yU.EMPTY,this._menuCloseSubscription=P.yU.EMPTY,this._changeDetectorRef=(0,f.WQX)(f.gRc),this._handleTouchStart=Le=>{(0,_.w6)(Le)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new f.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new f.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Ee,this._parentMaterialMenu=Re instanceof _e?Re:void 0,oe.nativeElement.addEventListener("touchstart",this._handleTouchStart,be)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,be),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Q=this.menu;if(this._menuOpen||!Q)return;const oe=this._createOverlay(Q),fe=oe.getConfig(),Ee=fe.positionStrategy;this._setPosition(Q,Ee),fe.hasBackdrop=null==Q.hasBackdrop?!this.triggersSubmenu():Q.hasBackdrop,oe.attach(this._getPortal(Q)),Q.lazyContent&&Q.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Q),Q instanceof _e&&(Q._startAnimation(),Q._directDescendantItems.changes.pipe((0,D.Q)(Q.close)).subscribe(()=>{Ee.withLockedPosition(!1).reapplyLastPosition(),Ee.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Q,oe){this._focusMonitor&&Q?this._focusMonitor.focusVia(this._element,Q,oe):this._element.nativeElement.focus(oe)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Q){if(!this._overlayRef||!this.menuOpen)return;const oe=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Q||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,oe instanceof _e?(oe._resetAnimation(),oe.lazyContent?oe._animationDone.pipe((0,X.p)(fe=>"void"===fe.toState),(0,j.s)(1),(0,D.Q)(oe.lazyContent._attached)).subscribe({next:()=>oe.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),oe?.lazyContent?.detach())}_initMenu(Q){Q.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Q.direction=this.dir,this._setMenuElevation(Q),Q.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Q){if(Q.setElevation){let oe=0,fe=Q.parentMenu;for(;fe;)oe++,fe=fe.parentMenu;Q.setElevation(oe)}}_setIsMenuOpen(Q){Q!==this._menuOpen&&(this._menuOpen=Q,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Q),this._changeDetectorRef.markForCheck())}_createOverlay(Q){if(!this._overlayRef){const oe=this._getOverlayConfig(Q);this._subscribeToPositions(Q,oe.positionStrategy),this._overlayRef=this._overlay.create(oe),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Q){return new ae.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Q.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Q.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Q,oe){Q.setPositionClasses&&oe.positionChanges.subscribe(fe=>{const Ee="start"===fe.connectionPair.overlayX?"after":"before",Re="top"===fe.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Q.setPositionClasses(Ee,Re)):Q.setPositionClasses(Ee,Re)})}_setPosition(Q,oe){let[fe,Ee]="before"===Q.xPosition?["end","start"]:["start","end"],[Re,$e]="above"===Q.yPosition?["bottom","top"]:["top","bottom"],[Fe,Et]=[Re,$e],[We,Le]=[fe,Ee],lt=0;if(this.triggersSubmenu()){if(Le=fe="before"===Q.xPosition?"start":"end",Ee=We="end"===fe?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const B=this._parentMaterialMenu.items.first;this._parentInnerPadding=B?B._getHostElement().offsetTop:0}lt="bottom"===Re?this._parentInnerPadding:-this._parentInnerPadding}}else Q.overlapTrigger||(Fe="top"===Re?"bottom":"top",Et="top"===$e?"bottom":"top");oe.withPositions([{originX:fe,originY:Fe,overlayX:We,overlayY:Re,offsetY:lt},{originX:Ee,originY:Fe,overlayX:Le,overlayY:Re,offsetY:lt},{originX:fe,originY:Et,overlayX:We,overlayY:$e,offsetY:-lt},{originX:Ee,originY:Et,overlayX:Le,overlayY:$e,offsetY:-lt}])}_menuClosingActions(){const Q=this._overlayRef.backdropClick(),oe=this._overlayRef.detachments(),fe=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,M.of)(),Ee=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,X.p)(Re=>Re!==this._menuItemInstance),(0,X.p)(()=>this._menuOpen)):(0,M.of)();return(0,x.h)(Q,fe,Ee,oe)}_handleMousedown(Q){(0,_._G)(Q)||(this._openedBy=0===Q.button?"mouse":void 0,this.triggersSubmenu()&&Q.preventDefault())}_handleKeydown(Q){const oe=Q.keyCode;(oe===k.Fm||oe===k.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(oe===k.LE&&"ltr"===this.dir||oe===k.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Q){this.triggersSubmenu()?(Q.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,X.p)(Q=>Q===this._menuItemInstance&&!Q.disabled),(0,G.c)(0,O.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof _e&&this.menu._isAnimating?this.menu._animationDone.pipe((0,j.s)(1),(0,G.c)(0,O.$),(0,D.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Q){return(!this._portal||this._portal.templateRef!==Q.templateRef)&&(this._portal=new J.VA(Q.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(oe){return new(oe||pe)(f.rXU(ae.hJ),f.rXU(f.aKT),f.rXU(f.c1b),f.rXU(Oe),f.rXU(u,8),f.rXU(y,10),f.rXU(ie.dS,8),f.rXU(_.FN),f.rXU(f.SKi))};static#t=this.\u0275dir=f.FsC({type:pe,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(oe,fe){1&oe&&f.bIt("click",function(Re){return fe._handleClick(Re)})("mousedown",function(Re){return fe._handleMousedown(Re)})("keydown",function(Re){return fe._handleKeydown(Re)}),2&oe&&f.BMQ("aria-haspopup",fe.menu?"menu":null)("aria-expanded",fe.menuOpen)("aria-controls",fe.menuOpen?fe.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return pe})(),De=(()=>{class pe{static#e=this.\u0275fac=function(oe){return new(oe||pe)};static#t=this.\u0275mod=f.$C({type:pe});static#n=this.\u0275inj=f.G2t({providers:[Se],imports:[re.MD,te.pZ,te.yE,ae.z_,de.Gj,te.yE]})}return pe})()},9183:(je,z,E)=>{"use strict";E.d(z,{D6:()=>X,LG:()=>L});var f=E(93953),_=E(60177),k=E(86600);const H=["determinateSpinner"];function x(j,G){if(1&j&&(f.qSk(),f.j41(0,"svg",11),f.nrm(1,"circle",12),f.k0s()),2&j){const re=f.XpG();f.BMQ("viewBox",re._viewBox()),f.R7$(),f.xc7("stroke-dasharray",re._strokeCircumference(),"px")("stroke-dashoffset",re._strokeCircumference()/2,"px")("stroke-width",re._circleStrokeWidth(),"%"),f.BMQ("r",re._circleRadius())}}const P=new f.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function M(){return{diameter:O}}}),O=100;let L=(()=>{class j{get color(){return this._color||this._defaultColor}set color(re){this._color=re}constructor(re,te,J){this._elementRef=re,this._defaultColor="primary",this._value=0,this._diameter=O,this._noopAnimations="NoopAnimations"===te&&!!J&&!J._forceAnimations,this.mode="mat-spinner"===re.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",J&&(J.color&&(this.color=this._defaultColor=J.color),J.diameter&&(this.diameter=J.diameter),J.strokeWidth&&(this.strokeWidth=J.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(re){this._value=Math.max(0,Math.min(100,re||0))}get diameter(){return this._diameter}set diameter(re){this._diameter=re||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(re){this._strokeWidth=re||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const re=2*this._circleRadius()+this.strokeWidth;return`0 0 ${re} ${re}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(te){return new(te||j)(f.rXU(f.aKT),f.rXU(f.bc$,8),f.rXU(P))};static#t=this.\u0275cmp=f.VBU({type:j,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(te,J){if(1&te&&f.GBs(H,5),2&te){let Z;f.mGM(Z=f.lsd())&&(J._determinateCircle=Z.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(te,J){2&te&&(f.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===J.mode?J.value:null)("mode",J.mode),f.HbH("mat-"+J.color),f.xc7("width",J.diameter,"px")("height",J.diameter,"px")("--mdc-circular-progress-size",J.diameter+"px")("--mdc-circular-progress-active-indicator-width",J.diameter+"px"),f.AVh("_mat-animation-noopable",J._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===J.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",f.Udg],diameter:[2,"diameter","diameter",f.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",f.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[f.GFd,f.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(te,J){if(1&te&&(f.DNE(0,x,2,8,"ng-template",null,0,f.C5r),f.j41(2,"div",2,1),f.qSk(),f.j41(4,"svg",3),f.nrm(5,"circle",4),f.k0s()(),f.joV(),f.j41(6,"div",5)(7,"div",6)(8,"div",7),f.eu8(9,8),f.k0s(),f.j41(10,"div",9),f.eu8(11,8),f.k0s(),f.j41(12,"div",10),f.eu8(13,8),f.k0s()()()),2&te){const Z=f.sdS(1);f.R7$(4),f.BMQ("viewBox",J._viewBox()),f.R7$(),f.xc7("stroke-dasharray",J._strokeCircumference(),"px")("stroke-dashoffset",J._strokeDashOffset(),"px")("stroke-width",J._circleStrokeWidth(),"%"),f.BMQ("r",J._circleRadius()),f.R7$(4),f.Y8G("ngTemplateOutlet",Z),f.R7$(2),f.Y8G("ngTemplateOutlet",Z),f.R7$(2),f.Y8G("ngTemplateOutlet",Z)}},dependencies:[_.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return j})(),X=(()=>{class j{static#e=this.\u0275fac=function(te){return new(te||j)};static#t=this.\u0275mod=f.$C({type:j});static#n=this.\u0275inj=f.G2t({imports:[_.MD,k.yE]})}return j})()},5951:(je,z,E)=>{"use strict";E.d(z,{Wk:()=>Z});var f=E(18617),_=E(45024),k=E(93953),x=(E(89417),E(86600)),P=E(60177);const M=["input"],O=["formField"],F=["*"];let L=0;class D{constructor(ae,se){this.source=ae,this.value=se}}const j=new k.nKC("MatRadioGroup"),G=new k.nKC("mat-radio-default-options",{providedIn:"root",factory:function re(){return{color:"accent"}}});let J=(()=>{class ie{get checked(){return this._checked}set checked(se){this._checked!==se&&(this._checked=se,se&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!se&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),se&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(se){this._value!==se&&(this._value=se,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===se),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(se){this._labelPosition=se}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(se){this._setDisabled(se)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(se){this._required=se}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(se){this._color=se}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(se,de,le,we,xe,Ce,C,a){this._elementRef=de,this._changeDetector=le,this._focusMonitor=we,this._radioDispatcher=xe,this._providerOverride=C,this._uniqueId="mat-radio-"+ ++L,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new k.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,k.WQX)(k.zZn),this.radioGroup=se,this._noopAnimations="NoopAnimations"===Ce,a&&(this.tabIndex=(0,k.Udg)(a,0))}focus(se,de){de?this._focusMonitor.focusVia(this._inputElement,de,se):this._inputElement.nativeElement.focus(se)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((se,de)=>{se!==this.id&&de===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(se=>{!se&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new D(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(se){se.stopPropagation()}_onInputInteraction(se){if(se.stopPropagation(),!this.checked&&!this.disabled){const de=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),de&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(se){this._onInputInteraction(se),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(se){this._disabled!==se&&(this._disabled=se,this._changeDetector.markForCheck())}_updateTabIndex(){const se=this.radioGroup;let de;if(de=se&&se.selected&&!this.disabled?se.selected===this?this.tabIndex:-1:this.tabIndex,de!==this._previousTabIndex){const le=this._inputElement?.nativeElement;le&&(le.setAttribute("tabindex",de+""),this._previousTabIndex=de,(0,k.mal)(()=>{queueMicrotask(()=>{se&&se.selected&&se.selected!==this&&document.activeElement===le&&(se.selected?._inputElement.nativeElement.focus(),document.activeElement===le&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(de){return new(de||ie)(k.rXU(j,8),k.rXU(k.aKT),k.rXU(k.gRc),k.rXU(f.FN),k.rXU(_.zP),k.rXU(k.bc$,8),k.rXU(G,8),k.kS0("tabindex"))};static#t=this.\u0275cmp=k.VBU({type:ie,selectors:[["mat-radio-button"]],viewQuery:function(de,le){if(1&de&&(k.GBs(M,5),k.GBs(O,7,k.aKT)),2&de){let we;k.mGM(we=k.lsd())&&(le._inputElement=we.first),k.mGM(we=k.lsd())&&(le._rippleTrigger=we.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(de,le){1&de&&k.bIt("focus",function(){return le._inputElement.nativeElement.focus()}),2&de&&(k.BMQ("id",le.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),k.AVh("mat-primary","primary"===le.color)("mat-accent","accent"===le.color)("mat-warn","warn"===le.color)("mat-mdc-radio-checked",le.checked)("_mat-animation-noopable",le._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",k.L39],tabIndex:[2,"tabIndex","tabIndex",se=>null==se?0:(0,k.Udg)(se)],checked:[2,"checked","checked",k.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",k.L39],required:[2,"required","required",k.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[k.GFd,k.aNF],ngContentSelectors:F,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(de,le){if(1&de){const we=k.RV6();k.NAR(),k.j41(0,"div",2,0)(2,"div",3)(3,"div",4),k.bIt("click",function(Ce){return k.eBV(we),k.Njj(le._onTouchTargetClick(Ce))}),k.k0s(),k.j41(4,"input",5,1),k.bIt("change",function(Ce){return k.eBV(we),k.Njj(le._onInputInteraction(Ce))}),k.k0s(),k.j41(6,"div",6),k.nrm(7,"div",7)(8,"div",8),k.k0s(),k.j41(9,"div",9),k.nrm(10,"div",10),k.k0s()(),k.j41(11,"label",11),k.SdG(12),k.k0s()()}2&de&&(k.Y8G("labelPosition",le.labelPosition),k.R7$(2),k.AVh("mdc-radio--disabled",le.disabled),k.R7$(2),k.Y8G("id",le.inputId)("checked",le.checked)("disabled",le.disabled)("required",le.required),k.BMQ("name",le.name)("value",le.value)("aria-label",le.ariaLabel)("aria-labelledby",le.ariaLabelledby)("aria-describedby",le.ariaDescribedby),k.R7$(5),k.Y8G("matRippleTrigger",le._rippleTrigger.nativeElement)("matRippleDisabled",le._isRippleDisabled())("matRippleCentered",!0),k.R7$(2),k.Y8G("for",le.inputId))},dependencies:[x.r6,x.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return ie})(),Z=(()=>{class ie{static#e=this.\u0275fac=function(de){return new(de||ie)};static#t=this.\u0275mod=k.$C({type:ie});static#n=this.\u0275inj=k.G2t({imports:[x.yE,P.MD,x.pZ,J,x.yE]})}return ie})()},82798:(je,z,E)=>{"use strict";E.d(z,{$2:()=>Ve,VO:()=>Oe,Ve:()=>Se});var f=E(66969),_=E(60177),k=E(93953),H=E(86600),x=E(53719),P=E(67333),M=E(18617),O=E(28203),F=E(45024),L=E(67336),D=E(89417),X=E(21413),j=E(59030),G=E(57786),re=E(99172),te=E(25558),J=E(5964),Z=E(96354),ie=E(23294),ae=E(56977),se=E(96697),de=E(49969);const le=["trigger"],we=["panel"],xe=[[["mat-select-trigger"]],"*"],Ce=["mat-select-trigger","*"];function C(be,Ue){if(1&be&&(k.j41(0,"span",4),k.EFF(1),k.k0s()),2&be){const ye=k.XpG();k.R7$(),k.JRh(ye.placeholder)}}function a(be,Ue){1&be&&k.SdG(0)}function u(be,Ue){if(1&be&&(k.j41(0,"span",11),k.EFF(1),k.k0s()),2&be){const ye=k.XpG(2);k.R7$(),k.JRh(ye.triggerValue)}}function y(be,Ue){if(1&be&&(k.j41(0,"span",5),k.DNE(1,a,1,0)(2,u,2,1,"span",11),k.k0s()),2&be){const ye=k.XpG();k.R7$(),k.vxM(ye.customTrigger?1:2)}}function g(be,Ue){if(1&be){const ye=k.RV6();k.j41(0,"div",12,1),k.bIt("@transformPanel.done",function(pe){k.eBV(ye);const ue=k.XpG();return k.Njj(ue._panelDoneAnimatingStream.next(pe.toState))})("keydown",function(pe){k.eBV(ye);const ue=k.XpG();return k.Njj(ue._handleKeydown(pe))}),k.SdG(2,1),k.k0s()}if(2&be){const ye=k.XpG();k.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ye._getPanelTheme(),""),k.Y8G("ngClass",ye.panelClass)("@transformPanel","showing"),k.BMQ("id",ye.id+"-panel")("aria-multiselectable",ye.multiple)("aria-label",ye.ariaLabel||null)("aria-labelledby",ye._getPanelAriaLabelledby())}}const S={transformPanelWrap:(0,de.hZ)("transformPanelWrap",[(0,de.kY)("* => void",(0,de.P)("@transformPanel",[(0,de.MA)()],{optional:!0}))]),transformPanel:(0,de.hZ)("transformPanel",[(0,de.wk)("void",(0,de.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,de.kY)("void => showing",(0,de.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,de.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,de.kY)("* => void",(0,de.i0)("100ms linear",(0,de.iF)({opacity:0})))])};let s=0;const v=new k.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const be=(0,k.WQX)(f.hJ);return()=>be.scrollStrategies.reposition()}}),K=new k.nKC("MAT_SELECT_CONFIG"),ee={provide:v,deps:[f.hJ],useFactory:function W(be){return()=>be.scrollStrategies.reposition()}},ce=new k.nKC("MatSelectTrigger");class _e{constructor(Ue,ye){this.source=Ue,this.value=ye}}let Oe=(()=>{class be{_scrollOptionIntoView(ye){const De=this.options.toArray()[ye];if(De){const pe=this.panel.nativeElement,ue=(0,H.jb)(ye,this.options,this.optionGroups),Q=De._getHostElement();pe.scrollTop=0===ye&&1===ue?0:(0,H.TL)(Q.offsetTop,Q.offsetHeight,pe.scrollTop,pe.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ye){return new _e(this,ye)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ye){this._hideSingleSelectionIndicator=ye,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(ye){this._placeholder=ye,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(D.k0.required)??!1}set required(ye){this._required=ye,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ye){this._multiple=ye}get compareWith(){return this._compareWith}set compareWith(ye){this._compareWith=ye,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ye){this._assignValue(ye)&&this._onChange(ye)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ye){this._errorStateTracker.matcher=ye}get id(){return this._id}set id(ye){this._id=ye||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(ye){this._errorStateTracker.errorState=ye}constructor(ye,De,pe,ue,Q,oe,fe,Ee,Re,$e,Fe,Et,We,Le){this._viewportRuler=ye,this._changeDetectorRef=De,this._elementRef=Q,this._dir=oe,this._parentFormField=Re,this.ngControl=$e,this._liveAnnouncer=We,this._defaultOptions=Le,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(lt,B)=>lt===B,this._uid="mat-select-"+s++,this._triggerAriaLabelledBy=null,this._destroy=new X.B,this.stateChanges=new X.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+s++,this._panelDoneAnimatingStream=new X.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new X.B,this.optionSelectionChanges=(0,j.v)(()=>{const lt=this.options;return lt?lt.changes.pipe((0,re.Z)(lt),(0,te.n)(()=>(0,G.h)(...lt.map(B=>B.onSelectionChange)))):this._initialized.pipe((0,te.n)(()=>this.optionSelectionChanges))}),this.openedChange=new k.bkB,this._openedStream=this.openedChange.pipe((0,J.p)(lt=>lt),(0,Z.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,J.p)(lt=>!lt),(0,Z.T)(()=>{})),this.selectionChange=new k.bkB,this.valueChange=new k.bkB,this._trackedModal=null,this._skipPredicate=lt=>!this.panelOpen&&lt.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Le?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Le.typeaheadDebounceInterval),this._errorStateTracker=new H.X0(ue,$e,Ee,fe,this.stateChanges),this._scrollStrategyFactory=Et,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Fe)||0,this.id=this.id}ngOnInit(){this._selectionModel=new F.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,ie.F)(),(0,ae.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,ae.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,ae.Q)(this._destroy)).subscribe(ye=>{ye.added.forEach(De=>De.select()),ye.removed.forEach(De=>De.deselect())}),this.options.changes.pipe((0,re.Z)(null),(0,ae.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ye=this._getTriggerAriaLabelledby(),De=this.ngControl;if(ye!==this._triggerAriaLabelledBy){const pe=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ye,ye?pe.setAttribute("aria-labelledby",ye):pe.removeAttribute("aria-labelledby")}De&&(this._previousControl!==De.control&&(void 0!==this._previousControl&&null!==De.disabled&&De.disabled!==this.disabled&&(this.disabled=De.disabled),this._previousControl=De.control),this.updateErrorState())}ngOnChanges(ye){(ye.disabled||ye.userAriaDescribedBy)&&this.stateChanges.next(),ye.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const ye=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ye)return;const De=`${this.id}-panel`;this._trackedModal&&(0,M.Ae)(this._trackedModal,"aria-owns",De),(0,M.px)(ye,"aria-owns",De),this._trackedModal=ye}_clearFromModal(){this._trackedModal&&((0,M.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(ye){this._assignValue(ye)}registerOnChange(ye){this._onChange=ye}registerOnTouched(ye){this._onTouched=ye}setDisabledState(ye){this.disabled=ye,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ye=this._selectionModel.selected.map(De=>De.viewValue);return this._isRtl()&&ye.reverse(),ye.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ye){this.disabled||(this.panelOpen?this._handleOpenKeydown(ye):this._handleClosedKeydown(ye))}_handleClosedKeydown(ye){const De=ye.keyCode,pe=De===L.n6||De===L.i7||De===L.UQ||De===L.LE,ue=De===L.Fm||De===L.t6,Q=this._keyManager;if(!Q.isTyping()&&ue&&!(0,L.rp)(ye)||(this.multiple||ye.altKey)&&pe)ye.preventDefault(),this.open();else if(!this.multiple){const oe=this.selected;Q.onKeydown(ye);const fe=this.selected;fe&&oe!==fe&&this._liveAnnouncer.announce(fe.viewValue,1e4)}}_handleOpenKeydown(ye){const De=this._keyManager,pe=ye.keyCode,ue=pe===L.n6||pe===L.i7,Q=De.isTyping();if(ue&&ye.altKey)ye.preventDefault(),this.close();else if(Q||pe!==L.Fm&&pe!==L.t6||!De.activeItem||(0,L.rp)(ye))if(!Q&&this._multiple&&pe===L.A&&ye.ctrlKey){ye.preventDefault();const oe=this.options.some(fe=>!fe.disabled&&!fe.selected);this.options.forEach(fe=>{fe.disabled||(oe?fe.select():fe.deselect())})}else{const oe=De.activeItemIndex;De.onKeydown(ye),this._multiple&&ue&&ye.shiftKey&&De.activeItem&&De.activeItemIndex!==oe&&De.activeItem._selectViaInteraction()}else ye.preventDefault(),De.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,se.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ye){if(this.options.forEach(De=>De.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ye)Array.isArray(ye),ye.forEach(De=>this._selectOptionByValue(De)),this._sortValues();else{const De=this._selectOptionByValue(ye);De?this._keyManager.updateActiveItem(De):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ye){const De=this.options.find(pe=>{if(this._selectionModel.isSelected(pe))return!1;try{return null!=pe.value&&this._compareWith(pe.value,ye)}catch{return!1}});return De&&this._selectionModel.select(De),De}_assignValue(ye){return!!(ye!==this._value||this._multiple&&Array.isArray(ye))&&(this.options&&this._setSelectionByValue(ye),this._value=ye,!0)}_getOverlayWidth(ye){return"auto"===this.panelWidth?(ye instanceof f.$Q?ye.elementRef:ye||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const ye of this.options)ye._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new M.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ye=(0,G.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,ae.Q)(ye)).subscribe(De=>{this._onSelect(De.source,De.isUserInput),De.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,G.h)(...this.options.map(De=>De._stateChanges)).pipe((0,ae.Q)(ye)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ye,De){const pe=this._selectionModel.isSelected(ye);null!=ye.value||this._multiple?(pe!==ye.selected&&(ye.selected?this._selectionModel.select(ye):this._selectionModel.deselect(ye)),De&&this._keyManager.setActiveItem(ye),this.multiple&&(this._sortValues(),De&&this.focus())):(ye.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ye.value)),pe!==this._selectionModel.isSelected(ye)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ye=this.options.toArray();this._selectionModel.sort((De,pe)=>this.sortComparator?this.sortComparator(De,pe,ye):ye.indexOf(De)-ye.indexOf(pe)),this.stateChanges.next()}}_propagateChanges(ye){let De;De=this.multiple?this.selected.map(pe=>pe.value):this.selected?this.selected.value:ye,this._value=De,this.valueChange.emit(De),this._onChange(De),this.selectionChange.emit(this._getChangeEvent(De)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ye=-1;for(let De=0;De<this.options.length;De++)if(!this.options.get(De).disabled){ye=De;break}this._keyManager.setActiveItem(ye)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ye){this._elementRef.nativeElement.focus(ye)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ye?ye+" ":"")+this.ariaLabelledby:ye}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();let De=(ye?ye+" ":"")+this._valueId;return this.ariaLabelledby&&(De+=" "+this.ariaLabelledby),De}_panelDoneAnimating(ye){this.openedChange.emit(ye)}setDescribedByIds(ye){ye.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ye.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(De){return new(De||be)(k.rXU(P.Xj),k.rXU(k.gRc),k.rXU(k.SKi),k.rXU(H.es),k.rXU(k.aKT),k.rXU(O.dS,8),k.rXU(D.cV,8),k.rXU(D.j4,8),k.rXU(x.xb,8),k.rXU(D.vO,10),k.kS0("tabindex"),k.rXU(v),k.rXU(M.Ai),k.rXU(K,8))};static#t=this.\u0275cmp=k.VBU({type:be,selectors:[["mat-select"]],contentQueries:function(De,pe,ue){if(1&De&&(k.wni(ue,ce,5),k.wni(ue,H.wT,5),k.wni(ue,H.QC,5)),2&De){let Q;k.mGM(Q=k.lsd())&&(pe.customTrigger=Q.first),k.mGM(Q=k.lsd())&&(pe.options=Q),k.mGM(Q=k.lsd())&&(pe.optionGroups=Q)}},viewQuery:function(De,pe){if(1&De&&(k.GBs(le,5),k.GBs(we,5),k.GBs(f.WB,5)),2&De){let ue;k.mGM(ue=k.lsd())&&(pe.trigger=ue.first),k.mGM(ue=k.lsd())&&(pe.panel=ue.first),k.mGM(ue=k.lsd())&&(pe._overlayDir=ue.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(De,pe){1&De&&k.bIt("keydown",function(Q){return pe._handleKeydown(Q)})("focus",function(){return pe._onFocus()})("blur",function(){return pe._onBlur()}),2&De&&(k.BMQ("id",pe.id)("tabindex",pe.disabled?-1:pe.tabIndex)("aria-controls",pe.panelOpen?pe.id+"-panel":null)("aria-expanded",pe.panelOpen)("aria-label",pe.ariaLabel||null)("aria-required",pe.required.toString())("aria-disabled",pe.disabled.toString())("aria-invalid",pe.errorState)("aria-activedescendant",pe._getAriaActiveDescendant()),k.AVh("mat-mdc-select-disabled",pe.disabled)("mat-mdc-select-invalid",pe.errorState)("mat-mdc-select-required",pe.required)("mat-mdc-select-empty",pe.empty)("mat-mdc-select-multiple",pe.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",k.L39],disableRipple:[2,"disableRipple","disableRipple",k.L39],tabIndex:[2,"tabIndex","tabIndex",ye=>null==ye?0:(0,k.Udg)(ye)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",k.L39],placeholder:"placeholder",required:[2,"required","required",k.L39],multiple:[2,"multiple","multiple",k.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",k.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",k.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[k.Jv_([{provide:x.qT,useExisting:be},{provide:H.is,useExisting:be}]),k.GFd,k.OA$,k.aNF],ngContentSelectors:Ce,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(De,pe){if(1&De){const ue=k.RV6();k.NAR(xe),k.j41(0,"div",2,0),k.bIt("click",function(){return k.eBV(ue),k.Njj(pe.open())}),k.j41(3,"div",3),k.DNE(4,C,2,1,"span",4)(5,y,3,1,"span",5),k.k0s(),k.j41(6,"div",6)(7,"div",7),k.qSk(),k.j41(8,"svg",8),k.nrm(9,"path",9),k.k0s()()()(),k.DNE(10,g,3,9,"ng-template",10),k.bIt("backdropClick",function(){return k.eBV(ue),k.Njj(pe.close())})("attach",function(){return k.eBV(ue),k.Njj(pe._onAttached())})("detach",function(){return k.eBV(ue),k.Njj(pe.close())})}if(2&De){const ue=k.sdS(1);k.R7$(3),k.BMQ("id",pe._valueId),k.R7$(),k.vxM(pe.empty?4:5),k.R7$(6),k.Y8G("cdkConnectedOverlayPanelClass",pe._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",pe._scrollStrategy)("cdkConnectedOverlayOrigin",pe._preferredOverlayOrigin||ue)("cdkConnectedOverlayOpen",pe.panelOpen)("cdkConnectedOverlayPositions",pe._positions)("cdkConnectedOverlayWidth",pe._overlayWidth)}},dependencies:[f.$Q,f.WB,_.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[S.transformPanel]},changeDetection:0})}return be})(),Ve=(()=>{class be{static#e=this.\u0275fac=function(De){return new(De||be)};static#t=this.\u0275dir=k.FsC({type:be,selectors:[["mat-select-trigger"]],standalone:!0,features:[k.Jv_([{provide:ce,useExisting:be}])]})}return be})(),Se=(()=>{class be{static#e=this.\u0275fac=function(De){return new(De||be)};static#t=this.\u0275mod=k.$C({type:be});static#n=this.\u0275inj=k.G2t({providers:[ee],imports:[_.MD,f.z_,H.Sy,H.yE,P.Gj,x.RG,H.Sy,H.yE]})}return be})()},2042:(je,z,E)=>{"use strict";E.d(z,{B4:()=>J,NQ:()=>xe,aE:()=>we});var f=E(93953),_=E(18617),k=E(67336),H=E(92771),x=E(21413),P=E(57786),M=E(49969),O=E(86600);const F=["mat-sort-header",""],L=["*"];function D(Ce,C){if(1&Ce){const a=f.RV6();f.j41(0,"div",2),f.bIt("@arrowPosition.start",function(){f.eBV(a);const y=f.XpG();return f.Njj(y._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){f.eBV(a);const y=f.XpG();return f.Njj(y._disableViewStateAnimation=!1)}),f.nrm(1,"div",3),f.j41(2,"div",4),f.nrm(3,"div",5)(4,"div",6)(5,"div",7),f.k0s()()}if(2&Ce){const a=f.XpG();f.Y8G("@arrowOpacity",a._getArrowViewState())("@arrowPosition",a._getArrowViewState())("@allowChildren",a._getArrowDirectionState()),f.R7$(2),f.Y8G("@indicator",a._getArrowDirectionState()),f.R7$(),f.Y8G("@leftPointer",a._getArrowDirectionState()),f.R7$(),f.Y8G("@rightPointer",a._getArrowDirectionState())}}const te=new f.nKC("MAT_SORT_DEFAULT_OPTIONS");let J=(()=>{class Ce{get direction(){return this._direction}set direction(a){this._direction=a}constructor(a){this._defaultOptions=a,this._initializedStream=new H.m(1),this.sortables=new Map,this._stateChanges=new x.B,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new f.bkB,this.initialized=this._initializedStream}register(a){this.sortables.set(a.id,a)}deregister(a){this.sortables.delete(a.id)}sort(a){this.active!=a.id?(this.active=a.id,this.direction=a.start?a.start:this.start):this.direction=this.getNextSortDirection(a),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(a){if(!a)return"";let y=function Z(Ce,C){let a=["asc","desc"];return"desc"==Ce&&a.reverse(),C||a.push(""),a}(a.start||this.start,a?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),g=y.indexOf(this.direction)+1;return g>=y.length&&(g=0),y[g]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function(u){return new(u||Ce)(f.rXU(te,8))};static#t=this.\u0275dir=f.FsC({type:Ce,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",f.L39],disabled:[2,"matSortDisabled","disabled",f.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[f.GFd,f.OA$]})}return Ce})();const ie=O.ed.ENTERING+" "+O.r5.STANDARD_CURVE,ae={indicator:(0,M.hZ)("indicator",[(0,M.wk)("active-asc, asc",(0,M.iF)({transform:"translateY(0px)"})),(0,M.wk)("active-desc, desc",(0,M.iF)({transform:"translateY(10px)"})),(0,M.kY)("active-asc <=> active-desc",(0,M.i0)(ie))]),leftPointer:(0,M.hZ)("leftPointer",[(0,M.wk)("active-asc, asc",(0,M.iF)({transform:"rotate(-45deg)"})),(0,M.wk)("active-desc, desc",(0,M.iF)({transform:"rotate(45deg)"})),(0,M.kY)("active-asc <=> active-desc",(0,M.i0)(ie))]),rightPointer:(0,M.hZ)("rightPointer",[(0,M.wk)("active-asc, asc",(0,M.iF)({transform:"rotate(45deg)"})),(0,M.wk)("active-desc, desc",(0,M.iF)({transform:"rotate(-45deg)"})),(0,M.kY)("active-asc <=> active-desc",(0,M.i0)(ie))]),arrowOpacity:(0,M.hZ)("arrowOpacity",[(0,M.wk)("desc-to-active, asc-to-active, active",(0,M.iF)({opacity:1})),(0,M.wk)("desc-to-hint, asc-to-hint, hint",(0,M.iF)({opacity:.54})),(0,M.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,M.iF)({opacity:0})),(0,M.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,M.i0)("0ms")),(0,M.kY)("* <=> *",(0,M.i0)(ie))]),arrowPosition:(0,M.hZ)("arrowPosition",[(0,M.kY)("* => desc-to-hint, * => desc-to-active",(0,M.i0)(ie,(0,M.i7)([(0,M.iF)({transform:"translateY(-25%)"}),(0,M.iF)({transform:"translateY(0)"})]))),(0,M.kY)("* => hint-to-desc, * => active-to-desc",(0,M.i0)(ie,(0,M.i7)([(0,M.iF)({transform:"translateY(0)"}),(0,M.iF)({transform:"translateY(25%)"})]))),(0,M.kY)("* => asc-to-hint, * => asc-to-active",(0,M.i0)(ie,(0,M.i7)([(0,M.iF)({transform:"translateY(25%)"}),(0,M.iF)({transform:"translateY(0)"})]))),(0,M.kY)("* => hint-to-asc, * => active-to-asc",(0,M.i0)(ie,(0,M.i7)([(0,M.iF)({transform:"translateY(0)"}),(0,M.iF)({transform:"translateY(-25%)"})]))),(0,M.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,M.iF)({transform:"translateY(0)"})),(0,M.wk)("hint-to-desc, active-to-desc, desc",(0,M.iF)({transform:"translateY(-25%)"})),(0,M.wk)("hint-to-asc, active-to-asc, asc",(0,M.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,M.hZ)("allowChildren",[(0,M.kY)("* <=> *",[(0,M.P)("@*",(0,M.MA)(),{optional:!0})])])};let se=(()=>{class Ce{constructor(){this.changes=new x.B}static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275prov=f.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();const le={provide:se,deps:[[new f.Xx1,new f.kdw,se]],useFactory:function de(Ce){return Ce||new se}};let we=(()=>{class Ce{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(a){this._updateSortActionDescription(a)}constructor(a,u,y,g,S,T,N,A){this._intl=a,this._changeDetectorRef=u,this._sort=y,this._columnDef=g,this._focusMonitor=S,this._elementRef=T,this._ariaDescriber=N,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",A?.arrowPosition&&(this.arrowPosition=A?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(a=>{const u=!!a;u!==this._showIndicatorHint&&(this._setIndicatorHintVisible(u),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(a){this._isDisabled()&&a||(this._showIndicatorHint=a,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(a){this._viewState=a||{},this._disableViewStateAnimation&&(this._viewState={toState:a.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(a){!this._isDisabled()&&(a.keyCode===k.t6||a.keyCode===k.Fm)&&(a.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const a=this._viewState.fromState;return(a?`${a}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(a){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,a)),this._sortActionDescription=a}_handleStateChanges(){this._rerenderSubscription=(0,P.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(u){return new(u||Ce)(f.rXU(se),f.rXU(f.gRc),f.rXU(J,8),f.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),f.rXU(_.FN),f.rXU(f.aKT),f.rXU(_.vr,8),f.rXU(te,8))};static#t=this.\u0275cmp=f.VBU({type:Ce,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(u,y){1&u&&f.bIt("click",function(){return y._handleClick()})("keydown",function(S){return y._handleKeydown(S)})("mouseenter",function(){return y._setIndicatorHintVisible(!0)})("mouseleave",function(){return y._setIndicatorHintVisible(!1)}),2&u&&(f.BMQ("aria-sort",y._getAriaSortAttribute()),f.AVh("mat-sort-header-disabled",y._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",f.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",f.L39]},exportAs:["matSortHeader"],standalone:!0,features:[f.GFd,f.aNF],attrs:F,ngContentSelectors:L,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(u,y){1&u&&(f.NAR(),f.j41(0,"div",0)(1,"div",1),f.SdG(2),f.k0s(),f.DNE(3,D,6,6,"div",2),f.k0s()),2&u&&(f.AVh("mat-sort-header-sorted",y._isSorted())("mat-sort-header-position-before","before"===y.arrowPosition),f.BMQ("tabindex",y._isDisabled()?null:0)("role",y._isDisabled()?null:"button"),f.R7$(3),f.vxM(y._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color);opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[ae.indicator,ae.leftPointer,ae.rightPointer,ae.arrowOpacity,ae.arrowPosition,ae.allowChildren]},changeDetection:0})}return Ce})(),xe=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275mod=f.$C({type:Ce});static#n=this.\u0275inj=f.G2t({providers:[le],imports:[O.yE]})}return Ce})()},9159:(je,z,E)=>{"use strict";E.d(z,{$R:()=>gt,YV:()=>_t,cC:()=>qt,KS:()=>pn,tL:()=>ft,YZ:()=>Ht,ji:()=>St,NB:()=>un,iL:()=>nt,Zl:()=>Qt,I6:()=>Fn,tP:()=>Or});var f=E(93953),_=E(28203),k=E(45024),H=E(36860),x=E(67333),P=E(60177),M=E(21413),O=E(84412),F=E(74402),L=E(7673),D=E(56977);const X=[[["caption"]],[["colgroup"],["col"]],"*"],j=["caption","colgroup, col","*"];function G(Lt,et){1&Lt&&f.SdG(0,2)}function re(Lt,et){1&Lt&&(f.j41(0,"thead",0),f.eu8(1,1),f.k0s(),f.j41(2,"tbody",0),f.eu8(3,2)(4,3),f.k0s(),f.j41(5,"tfoot",0),f.eu8(6,4),f.k0s())}function te(Lt,et){1&Lt&&f.eu8(0,1)(1,2)(2,3)(3,4)}const ie=new f.nKC("CDK_TABLE");let se=(()=>{class Lt{constructor(Te){this.template=Te}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.C4Q))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","cdkCellDef",""]],standalone:!0})}return Lt})(),de=(()=>{class Lt{constructor(Te){this.template=Te}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.C4Q))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return Lt})(),le=(()=>{class Lt{constructor(Te){this.template=Te}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.C4Q))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return Lt})(),we=(()=>{class Lt{get name(){return this._name}set name(Te){this._setNameInput(Te)}get sticky(){return this._sticky}set sticky(Te){Te!==this._sticky&&(this._sticky=Te,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Te){Te!==this._stickyEnd&&(this._stickyEnd=Te,this._hasStickyChanged=!0)}constructor(Te){this._table=Te,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const Te=this._hasStickyChanged;return this.resetStickyChanged(),Te}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Te){Te&&(this._name=Te,this.cssClassFriendlyName=Te.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(ie,8))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","cdkColumnDef",""]],contentQueries:function(Be,xt,nn){if(1&Be&&(f.wni(nn,se,5),f.wni(nn,de,5),f.wni(nn,le,5)),2&Be){let In;f.mGM(In=f.lsd())&&(xt.cell=In.first),f.mGM(In=f.lsd())&&(xt.headerCell=In.first),f.mGM(In=f.lsd())&&(xt.footerCell=In.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",f.L39],stickyEnd:[2,"stickyEnd","stickyEnd",f.L39]},standalone:!0,features:[f.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Lt}]),f.GFd]})}return Lt})();class xe{constructor(et,Te){Te.nativeElement.classList.add(...et._columnCssClassName)}}let Ce=(()=>{class Lt extends xe{constructor(Te,Be){super(Te,Be)}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(we),f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[f.Vt3]})}return Lt})(),a=(()=>{class Lt extends xe{constructor(Te,Be){super(Te,Be);const xt=Te._table?._getCellRole();xt&&Be.nativeElement.setAttribute("role",xt)}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(we),f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[f.Vt3]})}return Lt})();class u{constructor(){this.tasks=[],this.endTasks=[]}}const y=new f.nKC("_COALESCED_STYLE_SCHEDULER");let g=(()=>{class Lt{constructor(Te){this._currentSchedule=null,this._ngZone=(0,f.WQX)(f.SKi)}schedule(Te){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Te)}scheduleEnd(Te){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Te)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new u,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Te=this._currentSchedule;this._currentSchedule=new u;for(const Be of Te.tasks)Be();for(const Be of Te.endTasks)Be()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.KVO(f.SKi))};static#t=this.\u0275prov=f.jDH({token:Lt,factory:Lt.\u0275fac})}return Lt})(),T=(()=>{class Lt{constructor(Te,Be){this.template=Te,this._differs=Be}ngOnChanges(Te){if(!this._columnsDiffer){const Be=Te.columns&&Te.columns.currentValue||[];this._columnsDiffer=this._differs.find(Be).create(),this._columnsDiffer.diff(Be)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Te){return this instanceof N?Te.headerCell.template:this instanceof A?Te.footerCell.template:Te.cell.template}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.C4Q),f.rXU(f._q3))};static#t=this.\u0275dir=f.FsC({type:Lt,features:[f.OA$]})}return Lt})(),N=(()=>{class Lt extends T{get sticky(){return this._sticky}set sticky(Te){Te!==this._sticky&&(this._sticky=Te,this._hasStickyChanged=!0)}constructor(Te,Be,xt){super(Te,Be),this._table=xt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(Te){super.ngOnChanges(Te)}hasStickyChanged(){const Te=this._hasStickyChanged;return this.resetStickyChanged(),Te}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.C4Q),f.rXU(f._q3),f.rXU(ie,8))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",f.L39]},standalone:!0,features:[f.GFd,f.Vt3,f.OA$]})}return Lt})(),A=(()=>{class Lt extends T{get sticky(){return this._sticky}set sticky(Te){Te!==this._sticky&&(this._sticky=Te,this._hasStickyChanged=!0)}constructor(Te,Be,xt){super(Te,Be),this._table=xt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(Te){super.ngOnChanges(Te)}hasStickyChanged(){const Te=this._hasStickyChanged;return this.resetStickyChanged(),Te}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.C4Q),f.rXU(f._q3),f.rXU(ie,8))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",f.L39]},standalone:!0,features:[f.GFd,f.Vt3,f.OA$]})}return Lt})(),s=(()=>{class Lt extends T{constructor(Te,Be,xt){super(Te,Be),this._table=xt}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.C4Q),f.rXU(f._q3),f.rXU(ie,8))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[f.Vt3]})}return Lt})(),v=(()=>{class Lt{static#e=this.mostRecentCellOutlet=null;constructor(Te){this._viewContainer=Te,Lt.mostRecentCellOutlet=this}ngOnDestroy(){Lt.mostRecentCellOutlet===this&&(Lt.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.c1b))};static#n=this.\u0275dir=f.FsC({type:Lt,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return Lt})(),W=(()=>{class Lt{static#e=this.\u0275fac=function(Be){return new(Be||Lt)};static#t=this.\u0275cmp=f.VBU({type:Lt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[f.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Be,xt){1&Be&&f.eu8(0,0)},dependencies:[v],encapsulation:2})}return Lt})(),ee=(()=>{class Lt{static#e=this.\u0275fac=function(Be){return new(Be||Lt)};static#t=this.\u0275cmp=f.VBU({type:Lt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[f.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Be,xt){1&Be&&f.eu8(0,0)},dependencies:[v],encapsulation:2})}return Lt})(),ce=(()=>{class Lt{constructor(Te){this.templateRef=Te,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.C4Q))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return Lt})();const _e=["top","bottom","left","right"];class Oe{constructor(et,Te,Be,xt,nn=!0,In=!0,Kn){this._isNativeHtmlTable=et,this._stickCellCss=Te,this.direction=Be,this._coalescedStyleScheduler=xt,this._isBrowser=nn,this._needsPositionStickyOnElement=In,this._positionListener=Kn,this._cachedCellWidths=[],this._borderCellCss={top:`${Te}-border-elem-top`,bottom:`${Te}-border-elem-bottom`,left:`${Te}-border-elem-left`,right:`${Te}-border-elem-right`}}clearStickyPositioning(et,Te){const Be=[];for(const xt of et)if(xt.nodeType===xt.ELEMENT_NODE){Be.push(xt);for(let nn=0;nn<xt.children.length;nn++)Be.push(xt.children[nn])}this._coalescedStyleScheduler.schedule(()=>{for(const xt of Be)this._removeStickyStyle(xt,Te)})}updateStickyColumns(et,Te,Be,xt=!0){et.length&&this._isBrowser&&(Te.some(nn=>nn)||Be.some(nn=>nn))?this._coalescedStyleScheduler.schedule(()=>{const nn=et[0],In=nn.children.length,Kn=this._getCellWidths(nn,xt),tr=this._getStickyStartColumnPositions(Kn,Te),Dr=this._getStickyEndColumnPositions(Kn,Be),Mr=Te.lastIndexOf(!0),Ir=Be.indexOf(!0),jr="rtl"===this.direction,ni=jr?"right":"left",tn=jr?"left":"right";for(const _n of et)for(let Tn=0;Tn<In;Tn++){const jn=_n.children[Tn];Te[Tn]&&this._addStickyStyle(jn,ni,tr[Tn],Tn===Mr),Be[Tn]&&this._addStickyStyle(jn,tn,Dr[Tn],Tn===Ir)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Mr?[]:Kn.slice(0,Mr+1).map((_n,Tn)=>Te[Tn]?_n:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Ir?[]:Kn.slice(Ir).map((_n,Tn)=>Be[Tn+Ir]?_n:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(et,Te,Be){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const xt="bottom"===Be?et.slice().reverse():et,nn="bottom"===Be?Te.slice().reverse():Te,In=[],Kn=[],tr=[];for(let Mr=0,Ir=0;Mr<xt.length;Mr++){if(!nn[Mr])continue;In[Mr]=Ir;const jr=xt[Mr];tr[Mr]=this._isNativeHtmlTable?Array.from(jr.children):[jr];const ni=jr.getBoundingClientRect().height;Ir+=ni,Kn[Mr]=ni}const Dr=nn.lastIndexOf(!0);for(let Mr=0;Mr<xt.length;Mr++){if(!nn[Mr])continue;const Ir=In[Mr],jr=Mr===Dr;for(const ni of tr[Mr])this._addStickyStyle(ni,Be,Ir,jr)}"top"===Be?this._positionListener?.stickyHeaderRowsUpdated({sizes:Kn,offsets:In,elements:tr}):this._positionListener?.stickyFooterRowsUpdated({sizes:Kn,offsets:In,elements:tr})})}updateStickyFooterContainer(et,Te){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const Be=et.querySelector("tfoot");Be&&(Te.some(xt=>!xt)?this._removeStickyStyle(Be,["bottom"]):this._addStickyStyle(Be,"bottom",0,!1))})}_removeStickyStyle(et,Te){for(const xt of Te)et.style[xt]="",et.classList.remove(this._borderCellCss[xt]);_e.some(xt=>-1===Te.indexOf(xt)&&et.style[xt])?et.style.zIndex=this._getCalculatedZIndex(et):(et.style.zIndex="",this._needsPositionStickyOnElement&&(et.style.position=""),et.classList.remove(this._stickCellCss))}_addStickyStyle(et,Te,Be,xt){et.classList.add(this._stickCellCss),xt&&et.classList.add(this._borderCellCss[Te]),et.style[Te]=`${Be}px`,et.style.zIndex=this._getCalculatedZIndex(et),this._needsPositionStickyOnElement&&(et.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(et){const Te={top:100,bottom:10,left:1,right:1};let Be=0;for(const xt of _e)et.style[xt]&&(Be+=Te[xt]);return Be?`${Be}`:""}_getCellWidths(et,Te=!0){if(!Te&&this._cachedCellWidths.length)return this._cachedCellWidths;const Be=[],xt=et.children;for(let nn=0;nn<xt.length;nn++)Be.push(xt[nn].getBoundingClientRect().width);return this._cachedCellWidths=Be,Be}_getStickyStartColumnPositions(et,Te){const Be=[];let xt=0;for(let nn=0;nn<et.length;nn++)Te[nn]&&(Be[nn]=xt,xt+=et[nn]);return Be}_getStickyEndColumnPositions(et,Te){const Be=[];let xt=0;for(let nn=et.length;nn>0;nn--)Te[nn]&&(Be[nn]=xt,xt+=et[nn]);return Be}}const Q=new f.nKC("CDK_SPL");let fe=(()=>{class Lt{constructor(Te,Be){this.viewContainer=Te,this.elementRef=Be;const xt=(0,f.WQX)(ie);xt._rowOutlet=this,xt._outletAssigned()}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.c1b),f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","rowOutlet",""]],standalone:!0})}return Lt})(),Ee=(()=>{class Lt{constructor(Te,Be){this.viewContainer=Te,this.elementRef=Be;const xt=(0,f.WQX)(ie);xt._headerRowOutlet=this,xt._outletAssigned()}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.c1b),f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","headerRowOutlet",""]],standalone:!0})}return Lt})(),Re=(()=>{class Lt{constructor(Te,Be){this.viewContainer=Te,this.elementRef=Be;const xt=(0,f.WQX)(ie);xt._footerRowOutlet=this,xt._outletAssigned()}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.c1b),f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","footerRowOutlet",""]],standalone:!0})}return Lt})(),$e=(()=>{class Lt{constructor(Te,Be){this.viewContainer=Te,this.elementRef=Be;const xt=(0,f.WQX)(ie);xt._noDataRowOutlet=this,xt._outletAssigned()}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f.c1b),f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return Lt})(),We=(()=>{class Lt{_getCellRole(){if(void 0===this._cellRoleInternal){const Te=this._elementRef.nativeElement.getAttribute("role"),Be="grid"===Te||"treegrid"===Te?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===Be?null:Be}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(Te){this._trackByFn=Te}get dataSource(){return this._dataSource}set dataSource(Te){this._dataSource!==Te&&this._switchDataSource(Te)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Te){this._multiTemplateDataRows=Te,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Te){this._fixedLayout=Te,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(Te,Be,xt,nn,In,Kn,tr,Dr,Mr,Ir,jr,ni){this._differs=Te,this._changeDetectorRef=Be,this._elementRef=xt,this._dir=In,this._platform=tr,this._viewRepeater=Dr,this._coalescedStyleScheduler=Mr,this._viewportRuler=Ir,this._stickyPositioningListener=jr,this._onDestroy=new M.B,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new f.bkB,this.viewChange=new O.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,f.WQX)(f.zZn),nn||xt.nativeElement.setAttribute("role","table"),this._document=Kn,this._isServer=!tr.isBrowser,this._isNativeHtmlTable="TABLE"===xt.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((Te,Be)=>this.trackBy?this.trackBy(Be.dataIndex,Be.data):Be),this._viewportRuler.change().pipe((0,D.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Te=>{Te?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,k.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Te=this._dataDiffer.diff(this._renderRows);if(!Te)return this._updateNoDataRow(),void this.contentChanged.next();const Be=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Te,Be,(xt,nn,In)=>this._getEmbeddedViewArgs(xt.item,In),xt=>xt.item.data,xt=>{xt.operation===k.Q3.INSERTED&&xt.context&&this._renderCellTemplateForItem(xt.record.item.rowDef,xt.context)}),this._updateRowIndexContext(),Te.forEachIdentityChange(xt=>{Be.get(xt.currentIndex).context.$implicit=xt.item.data}),this._updateNoDataRow(),(0,f.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(Te){this._customColumnDefs.add(Te)}removeColumnDef(Te){this._customColumnDefs.delete(Te)}addRowDef(Te){this._customRowDefs.add(Te)}removeRowDef(Te){this._customRowDefs.delete(Te)}addHeaderRowDef(Te){this._customHeaderRowDefs.add(Te),this._headerRowDefChanged=!0}removeHeaderRowDef(Te){this._customHeaderRowDefs.delete(Te),this._headerRowDefChanged=!0}addFooterRowDef(Te){this._customFooterRowDefs.add(Te),this._footerRowDefChanged=!0}removeFooterRowDef(Te){this._customFooterRowDefs.delete(Te),this._footerRowDefChanged=!0}setNoDataRow(Te){this._customNoDataRow=Te}updateStickyHeaderRowStyles(){const Te=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const xt=lt(this._headerRowOutlet,"thead");xt&&(xt.style.display=Te.length?"":"none")}const Be=this._headerRowDefs.map(xt=>xt.sticky);this._stickyStyler.clearStickyPositioning(Te,["top"]),this._stickyStyler.stickRows(Te,Be,"top"),this._headerRowDefs.forEach(xt=>xt.resetStickyChanged())}updateStickyFooterRowStyles(){const Te=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const xt=lt(this._footerRowOutlet,"tfoot");xt&&(xt.style.display=Te.length?"":"none")}const Be=this._footerRowDefs.map(xt=>xt.sticky);this._stickyStyler.clearStickyPositioning(Te,["bottom"]),this._stickyStyler.stickRows(Te,Be,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Be),this._footerRowDefs.forEach(xt=>xt.resetStickyChanged())}updateStickyColumnStyles(){const Te=this._getRenderedRows(this._headerRowOutlet),Be=this._getRenderedRows(this._rowOutlet),xt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Te,...Be,...xt],["left","right"]),this._stickyColumnStylesNeedReset=!1),Te.forEach((nn,In)=>{this._addStickyColumnStyles([nn],this._headerRowDefs[In])}),this._rowDefs.forEach(nn=>{const In=[];for(let Kn=0;Kn<Be.length;Kn++)this._renderRows[Kn].rowDef===nn&&In.push(Be[Kn]);this._addStickyColumnStyles(In,nn)}),xt.forEach((nn,In)=>{this._addStickyColumnStyles([nn],this._footerRowDefs[In])}),Array.from(this._columnDefsByName.values()).forEach(nn=>nn.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const Be=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Be,this._forceRecalculateCellWidths=Be,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const Te=[],Be=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let xt=0;xt<this._data.length;xt++){let nn=this._data[xt];const In=this._getRenderRowsForData(nn,xt,Be.get(nn));this._cachedRenderRowsMap.has(nn)||this._cachedRenderRowsMap.set(nn,new WeakMap);for(let Kn=0;Kn<In.length;Kn++){let tr=In[Kn];const Dr=this._cachedRenderRowsMap.get(tr.data);Dr.has(tr.rowDef)?Dr.get(tr.rowDef).push(tr):Dr.set(tr.rowDef,[tr]),Te.push(tr)}}return Te}_getRenderRowsForData(Te,Be,xt){return this._getRowDefs(Te,Be).map(In=>{const Kn=xt&&xt.has(In)?xt.get(In):[];if(Kn.length){const tr=Kn.shift();return tr.dataIndex=Be,tr}return{data:Te,rowDef:In,dataIndex:Be}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Le(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Be=>{this._columnDefsByName.has(Be.name),this._columnDefsByName.set(Be.name,Be)})}_cacheRowDefs(){this._headerRowDefs=Le(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Le(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Le(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Te=this._rowDefs.filter(Be=>!Be.when);this._defaultRowDef=Te[0]}_renderUpdatedColumns(){const Te=(In,Kn)=>In||!!Kn.getColumnsDiff(),Be=this._rowDefs.reduce(Te,!1);Be&&this._forceRenderDataRows();const xt=this._headerRowDefs.reduce(Te,!1);xt&&this._forceRenderHeaderRows();const nn=this._footerRowDefs.reduce(Te,!1);return nn&&this._forceRenderFooterRows(),Be||xt||nn}_switchDataSource(Te){this._data=[],(0,k.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Te||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=Te}_observeRenderChanges(){if(!this.dataSource)return;let Te;(0,k.y4)(this.dataSource)?Te=this.dataSource.connect(this):(0,F.A)(this.dataSource)?Te=this.dataSource:Array.isArray(this.dataSource)&&(Te=(0,L.of)(this.dataSource)),this._renderChangeSubscription=Te.pipe((0,D.Q)(this._onDestroy)).subscribe(Be=>{this._data=Be||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Te,Be)=>this._renderRow(this._headerRowOutlet,Te,Be)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Te,Be)=>this._renderRow(this._footerRowOutlet,Te,Be)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Te,Be){const xt=Array.from(Be.columns||[]).map(Kn=>this._columnDefsByName.get(Kn)),nn=xt.map(Kn=>Kn.sticky),In=xt.map(Kn=>Kn.stickyEnd);this._stickyStyler.updateStickyColumns(Te,nn,In,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Te){const Be=[];for(let xt=0;xt<Te.viewContainer.length;xt++){const nn=Te.viewContainer.get(xt);Be.push(nn.rootNodes[0])}return Be}_getRowDefs(Te,Be){if(1==this._rowDefs.length)return[this._rowDefs[0]];let xt=[];if(this.multiTemplateDataRows)xt=this._rowDefs.filter(nn=>!nn.when||nn.when(Be,Te));else{let nn=this._rowDefs.find(In=>In.when&&In.when(Be,Te))||this._defaultRowDef;nn&&xt.push(nn)}return xt}_getEmbeddedViewArgs(Te,Be){return{templateRef:Te.rowDef.template,context:{$implicit:Te.data},index:Be}}_renderRow(Te,Be,xt,nn={}){const In=Te.viewContainer.createEmbeddedView(Be.template,nn,xt);return this._renderCellTemplateForItem(Be,nn),In}_renderCellTemplateForItem(Te,Be){for(let xt of this._getCellTemplates(Te))v.mostRecentCellOutlet&&v.mostRecentCellOutlet._viewContainer.createEmbeddedView(xt,Be);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Te=this._rowOutlet.viewContainer;for(let Be=0,xt=Te.length;Be<xt;Be++){const In=Te.get(Be).context;In.count=xt,In.first=0===Be,In.last=Be===xt-1,In.even=Be%2==0,In.odd=!In.even,this.multiTemplateDataRows?(In.dataIndex=this._renderRows[Be].dataIndex,In.renderIndex=Be):In.index=this._renderRows[Be].dataIndex}}_getCellTemplates(Te){return Te&&Te.columns?Array.from(Te.columns,Be=>{const xt=this._columnDefsByName.get(Be);return Te.extractCellTemplate(xt)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Te=(Be,xt)=>Be||xt.hasStickyChanged();this._headerRowDefs.reduce(Te,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Te,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Te,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Oe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,L.of)()).pipe((0,D.Q)(this._onDestroy)).subscribe(Be=>{this._stickyStyler.direction=Be,this.updateStickyColumnStyles()})}_getOwnDefs(Te){return Te.filter(Be=>!Be._table||Be._table===this)}_updateNoDataRow(){const Te=this._customNoDataRow||this._noDataRow;if(!Te)return;const Be=0===this._rowOutlet.viewContainer.length;if(Be===this._isShowingNoDataRow)return;const xt=this._noDataRowOutlet.viewContainer;if(Be){const nn=xt.createEmbeddedView(Te.templateRef),In=nn.rootNodes[0];1===nn.rootNodes.length&&In?.nodeType===this._document.ELEMENT_NODE&&(In.setAttribute("role","row"),In.classList.add(Te._contentClassName))}else xt.clear();this._isShowingNoDataRow=Be,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(Be){return new(Be||Lt)(f.rXU(f._q3),f.rXU(f.gRc),f.rXU(f.aKT),f.kS0("role"),f.rXU(_.dS,8),f.rXU(P.qQ),f.rXU(H.OD),f.rXU(k.sL),f.rXU(y),f.rXU(x.Xj),f.rXU(Q,12),f.rXU(f.SKi,8))};static#t=this.\u0275cmp=f.VBU({type:Lt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Be,xt,nn){if(1&Be&&(f.wni(nn,ce,5),f.wni(nn,we,5),f.wni(nn,s,5),f.wni(nn,N,5),f.wni(nn,A,5)),2&Be){let In;f.mGM(In=f.lsd())&&(xt._noDataRow=In.first),f.mGM(In=f.lsd())&&(xt._contentColumnDefs=In),f.mGM(In=f.lsd())&&(xt._contentRowDefs=In),f.mGM(In=f.lsd())&&(xt._contentHeaderRowDefs=In),f.mGM(In=f.lsd())&&(xt._contentFooterRowDefs=In)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(Be,xt){2&Be&&f.AVh("cdk-table-fixed-layout",xt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",f.L39],fixedLayout:[2,"fixedLayout","fixedLayout",f.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[f.Jv_([{provide:ie,useExisting:Lt},{provide:k.sL,useClass:k.xn},{provide:y,useClass:g},{provide:Q,useValue:null}]),f.GFd,f.aNF],ngContentSelectors:j,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Be,xt){1&Be&&(f.NAR(X),f.SdG(0),f.SdG(1,1),f.DNE(2,G,1,0)(3,re,7,0)(4,te,4,0)),2&Be&&(f.R7$(2),f.vxM(xt._isServer?2:-1),f.R7$(),f.vxM(xt._isNativeHtmlTable?3:4))},dependencies:[Ee,fe,$e,Re],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return Lt})();function Le(Lt,et){return Lt.concat(Array.from(et))}function lt(Lt,et){const Te=et.toUpperCase();let Be=Lt.viewContainer.element.nativeElement;for(;Be;){const xt=1===Be.nodeType?Be.nodeName:null;if(xt===Te)return Be;if("TABLE"===xt)break;Be=Be.parentNode}return null}let m=(()=>{class Lt{static#e=this.\u0275fac=function(Be){return new(Be||Lt)};static#t=this.\u0275mod=f.$C({type:Lt});static#n=this.\u0275inj=f.G2t({imports:[x.E9]})}return Lt})();var ne=E(86600),ge=E(57786),Ae=E(84572),tt=E(14085),Bt=E(96354);const vt=[[["caption"]],[["colgroup"],["col"]],"*"],It=["caption","colgroup, col","*"];function Gt(Lt,et){1&Lt&&f.SdG(0,2)}function hn(Lt,et){1&Lt&&(f.j41(0,"thead",0),f.eu8(1,1),f.k0s(),f.j41(2,"tbody",2),f.eu8(3,3)(4,4),f.k0s(),f.j41(5,"tfoot",0),f.eu8(6,5),f.k0s())}function dn(Lt,et){1&Lt&&f.eu8(0,1)(1,3)(2,4)(3,5)}let Qt=(()=>{class Lt extends We{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=f.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275cmp=f.VBU({type:Lt,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(Be,xt){2&Be&&f.AVh("mdc-table-fixed-layout",xt.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[f.Jv_([{provide:We,useExisting:Lt},{provide:ie,useExisting:Lt},{provide:y,useClass:g},{provide:k.sL,useClass:k.xn},{provide:Q,useValue:null}]),f.Vt3,f.aNF],ngContentSelectors:It,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Be,xt){1&Be&&(f.NAR(vt),f.SdG(0),f.SdG(1,1),f.DNE(2,Gt,1,0)(3,hn,7,0)(4,dn,4,0)),2&Be&&(f.R7$(2),f.vxM(xt._isServer?2:-1),f.R7$(),f.vxM(xt._isNativeHtmlTable?3:4))},dependencies:[Ee,fe,$e,Re],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return Lt})(),_t=(()=>{class Lt extends se{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=f.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","matCellDef",""]],standalone:!0,features:[f.Jv_([{provide:se,useExisting:Lt}]),f.Vt3]})}return Lt})(),ft=(()=>{class Lt extends de{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=f.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[f.Jv_([{provide:de,useExisting:Lt}]),f.Vt3]})}return Lt})(),qt=(()=>{class Lt extends we{get name(){return this._name}set name(Te){this._setNameInput(Te)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=f.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[f.Jv_([{provide:we,useExisting:Lt},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Lt}]),f.Vt3]})}return Lt})(),pn=(()=>{class Lt extends Ce{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=f.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[f.Vt3]})}return Lt})(),gt=(()=>{class Lt extends a{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=f.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[f.Vt3]})}return Lt})(),St=(()=>{class Lt extends N{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=f.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",f.L39]},standalone:!0,features:[f.Jv_([{provide:N,useExisting:Lt}]),f.GFd,f.Vt3]})}return Lt})(),nt=(()=>{class Lt extends s{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=f.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=f.FsC({type:Lt,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[f.Jv_([{provide:s,useExisting:Lt}]),f.Vt3]})}return Lt})(),Ht=(()=>{class Lt extends W{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=f.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275cmp=f.VBU({type:Lt,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[f.Jv_([{provide:W,useExisting:Lt}]),f.Vt3,f.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Be,xt){1&Be&&f.eu8(0,0)},dependencies:[v],encapsulation:2})}return Lt})(),un=(()=>{class Lt extends ee{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=f.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275cmp=f.VBU({type:Lt,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[f.Jv_([{provide:ee,useExisting:Lt}]),f.Vt3,f.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Be,xt){1&Be&&f.eu8(0,0)},dependencies:[v],encapsulation:2})}return Lt})(),Or=(()=>{class Lt{static#e=this.\u0275fac=function(Be){return new(Be||Lt)};static#t=this.\u0275mod=f.$C({type:Lt});static#n=this.\u0275inj=f.G2t({imports:[ne.yE,m,ne.yE]})}return Lt})();class Fn extends k.qS{get data(){return this._data.value}set data(et){et=Array.isArray(et)?et:[],this._data.next(et),this._renderChangesSubscription||this._filterData(et)}get filter(){return this._filter.value}set filter(et){this._filter.next(et),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(et){this._sort=et,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(et){this._paginator=et,this._updateChangeSubscription()}constructor(et=[]){super(),this._renderData=new O.t([]),this._filter=new O.t(""),this._internalPageChanges=new M.B,this._renderChangesSubscription=null,this.sortingDataAccessor=(Te,Be)=>{const xt=Te[Be];if((0,tt.o1)(xt)){const nn=Number(xt);return nn<9007199254740991?nn:xt}return xt},this.sortData=(Te,Be)=>{const xt=Be.active,nn=Be.direction;return xt&&""!=nn?Te.sort((In,Kn)=>{let tr=this.sortingDataAccessor(In,xt),Dr=this.sortingDataAccessor(Kn,xt);const Mr=typeof tr,Ir=typeof Dr;Mr!==Ir&&("number"===Mr&&(tr+=""),"number"===Ir&&(Dr+=""));let jr=0;return null!=tr&&null!=Dr?tr>Dr?jr=1:tr<Dr&&(jr=-1):null!=tr?jr=1:null!=Dr&&(jr=-1),jr*("asc"==nn?1:-1)}):Te},this.filterPredicate=(Te,Be)=>{const xt=Object.keys(Te).reduce((In,Kn)=>In+Te[Kn]+"\u25ec","").toLowerCase(),nn=Be.trim().toLowerCase();return-1!=xt.indexOf(nn)},this._data=new O.t(et),this._updateChangeSubscription()}_updateChangeSubscription(){const et=this._sort?(0,ge.h)(this._sort.sortChange,this._sort.initialized):(0,L.of)(null),Te=this._paginator?(0,ge.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,L.of)(null),xt=(0,Ae.z)([this._data,this._filter]).pipe((0,Bt.T)(([Kn])=>this._filterData(Kn))),nn=(0,Ae.z)([xt,et]).pipe((0,Bt.T)(([Kn])=>this._orderData(Kn))),In=(0,Ae.z)([nn,Te]).pipe((0,Bt.T)(([Kn])=>this._pageData(Kn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=In.subscribe(Kn=>this._renderData.next(Kn))}_filterData(et){return this.filteredData=null==this.filter||""===this.filter?et:et.filter(Te=>this.filterPredicate(Te,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(et){return this.sort?this.sortData(et.slice(),this.sort):et}_pageData(et){if(!this.paginator)return et;const Te=this.paginator.pageIndex*this.paginator.pageSize;return et.slice(Te,Te+this.paginator.pageSize)}_updatePaginator(et){Promise.resolve().then(()=>{const Te=this.paginator;if(Te&&(Te.length=et,Te.pageIndex>0)){const Be=Math.ceil(Te.length/Te.pageSize)-1||0,xt=Math.min(Te.pageIndex,Be);xt!==Te.pageIndex&&(Te.pageIndex=xt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}},55911:(je,z,E)=>{"use strict";E.d(z,{KQ:()=>O,s5:()=>L});var f=E(93953),_=E(86600),k=E(36860),H=E(60177);const x=["*",[["mat-toolbar-row"]]],P=["*","mat-toolbar-row"];let M=(()=>{class D{static#e=this.\u0275fac=function(G){return new(G||D)};static#t=this.\u0275dir=f.FsC({type:D,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return D})(),O=(()=>{class D{constructor(j,G,re){this._elementRef=j,this._platform=G,this._document=re}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(G){return new(G||D)(f.rXU(f.aKT),f.rXU(k.OD),f.rXU(H.qQ))};static#t=this.\u0275cmp=f.VBU({type:D,selectors:[["mat-toolbar"]],contentQueries:function(G,re,te){if(1&G&&f.wni(te,M,5),2&G){let J;f.mGM(J=f.lsd())&&(re._toolbarRows=J)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(G,re){2&G&&(f.HbH(re.color?"mat-"+re.color:""),f.AVh("mat-toolbar-multiple-rows",re._toolbarRows.length>0)("mat-toolbar-single-row",0===re._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[f.aNF],ngContentSelectors:P,decls:2,vars:0,template:function(G,re){1&G&&(f.NAR(x),f.SdG(0),f.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return D})(),L=(()=>{class D{static#e=this.\u0275fac=function(G){return new(G||D)};static#t=this.\u0275mod=f.$C({type:D});static#n=this.\u0275inj=f.G2t({imports:[_.yE,_.yE]})}return D})()},14823:(je,z,E)=>{"use strict";E.d(z,{oV:()=>y,uc:()=>T});var f=E(56977),_=E(14085),k=E(67336),H=E(93953),x=E(60177),P=E(36860),M=E(18617),O=E(28203),F=E(66969),L=E(67333),D=E(76939),X=E(21413),G=(E(49969),E(86600));const re=["tooltip"],Z=new H.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const N=(0,H.WQX)(F.hJ);return()=>N.scrollStrategies.reposition({scrollThrottle:20})}}),ae={provide:Z,deps:[F.hJ],useFactory:function ie(N){return()=>N.scrollStrategies.reposition({scrollThrottle:20})}},de=new H.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function se(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),we="tooltip-panel",xe=(0,P.BQ)({passive:!0});let y=(()=>{class N{get position(){return this._position}set position(s){s!==this._position&&(this._position=s,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(s){this._positionAtOrigin=(0,_.he)(s),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(s){this._disabled=(0,_.he)(s),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(s){this._showDelay=(0,_.OE)(s)}get hideDelay(){return this._hideDelay}set hideDelay(s){this._hideDelay=(0,_.OE)(s),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(s){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=s?String(s).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(s){this._tooltipClass=s,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(s,v,W,K,ee,ce,_e,Oe,Ve,Se,be,Ue){this._overlay=s,this._elementRef=v,this._scrollDispatcher=W,this._viewContainerRef=K,this._ngZone=ee,this._platform=ce,this._ariaDescriber=_e,this._focusMonitor=Oe,this._dir=Se,this._defaultOptions=be,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=g,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new X.B,this._injector=(0,H.WQX)(H.zZn),this._scrollStrategy=Ve,this._document=Ue,be&&(this._showDelay=be.showDelay,this._hideDelay=be.hideDelay,be.position&&(this.position=be.position),be.positionAtOrigin&&(this.positionAtOrigin=be.positionAtOrigin),be.touchGestures&&(this.touchGestures=be.touchGestures)),Se.change.pipe((0,f.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,f.Q)(this._destroyed)).subscribe(s=>{s?"keyboard"===s&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const s=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([v,W])=>{s.removeEventListener(v,W,xe)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(s,this.message,"tooltip"),this._focusMonitor.stopMonitoring(s)}show(s=this.showDelay,v){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const W=this._createOverlay(v);this._detach(),this._portal=this._portal||new D.A8(this._tooltipComponent,this._viewContainerRef);const K=this._tooltipInstance=W.attach(this._portal).instance;K._triggerElement=this._elementRef.nativeElement,K._mouseLeaveHideDelay=this._hideDelay,K.afterHidden().pipe((0,f.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),K.show(s)}hide(s=this.hideDelay){const v=this._tooltipInstance;v&&(v.isVisible()?v.hide(s):(v._cancelPendingAnimations(),this._detach()))}toggle(s){this._isTooltipVisible()?this.hide():this.show(void 0,s)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(s){if(this._overlayRef){const K=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!s)&&K._origin instanceof H.aKT)return this._overlayRef;this._detach()}const v=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),W=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&s||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(v);return W.positionChanges.pipe((0,f.Q)(this._destroyed)).subscribe(K=>{this._updateCurrentPositionClass(K.connectionPair),this._tooltipInstance&&K.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:W,panelClass:`${this._cssClassPrefix}-${we}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,f.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,f.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,f.Q)(this._destroyed)).subscribe(K=>{this._isTooltipVisible()&&K.keyCode===k._f&&!(0,k.rp)(K)&&(K.preventDefault(),K.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(s){const v=s.getConfig().positionStrategy,W=this._getOrigin(),K=this._getOverlayPosition();v.withPositions([this._addOffset({...W.main,...K.main}),this._addOffset({...W.fallback,...K.fallback})])}_addOffset(s){const W=!this._dir||"ltr"==this._dir.value;return"top"===s.originY?s.offsetY=-8:"bottom"===s.originY?s.offsetY=8:"start"===s.originX?s.offsetX=W?-8:8:"end"===s.originX&&(s.offsetX=W?8:-8),s}_getOrigin(){const s=!this._dir||"ltr"==this._dir.value,v=this.position;let W;"above"==v||"below"==v?W={originX:"center",originY:"above"==v?"top":"bottom"}:"before"==v||"left"==v&&s||"right"==v&&!s?W={originX:"start",originY:"center"}:("after"==v||"right"==v&&s||"left"==v&&!s)&&(W={originX:"end",originY:"center"});const{x:K,y:ee}=this._invertPosition(W.originX,W.originY);return{main:W,fallback:{originX:K,originY:ee}}}_getOverlayPosition(){const s=!this._dir||"ltr"==this._dir.value,v=this.position;let W;"above"==v?W={overlayX:"center",overlayY:"bottom"}:"below"==v?W={overlayX:"center",overlayY:"top"}:"before"==v||"left"==v&&s||"right"==v&&!s?W={overlayX:"end",overlayY:"center"}:("after"==v||"right"==v&&s||"left"==v&&!s)&&(W={overlayX:"start",overlayY:"center"});const{x:K,y:ee}=this._invertPosition(W.overlayX,W.overlayY);return{main:W,fallback:{overlayX:K,overlayY:ee}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,H.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(s){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=s,this._tooltipInstance._markForCheck())}_invertPosition(s,v){return"above"===this.position||"below"===this.position?"top"===v?v="bottom":"bottom"===v&&(v="top"):"end"===s?s="start":"start"===s&&(s="end"),{x:s,y:v}}_updateCurrentPositionClass(s){const{overlayY:v,originX:W,originY:K}=s;let ee;if(ee="center"===v?this._dir&&"rtl"===this._dir.value?"end"===W?"left":"right":"start"===W?"left":"right":"bottom"===v&&"top"===K?"above":"below",ee!==this._currentPosition){const ce=this._overlayRef;if(ce){const _e=`${this._cssClassPrefix}-${we}-`;ce.removePanelClass(_e+this._currentPosition),ce.addPanelClass(_e+ee)}this._currentPosition=ee}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",s=>{let v;this._setupPointerExitEventsIfNeeded(),void 0!==s.x&&void 0!==s.y&&(v=s),this.show(void 0,v)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",s=>{const v=s.targetTouches?.[0],W=v?{x:v.clientX,y:v.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,W),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const s=[];if(this._platformSupportsMouseEvents())s.push(["mouseleave",v=>{const W=v.relatedTarget;(!W||!this._overlayRef?.overlayElement.contains(W))&&this.hide()}],["wheel",v=>this._wheelListener(v)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const v=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};s.push(["touchend",v],["touchcancel",v])}this._addListeners(s),this._passiveListeners.push(...s)}_addListeners(s){s.forEach(([v,W])=>{this._elementRef.nativeElement.addEventListener(v,W,xe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(s){if(this._isTooltipVisible()){const v=this._document.elementFromPoint(s.clientX,s.clientY),W=this._elementRef.nativeElement;v!==W&&!W.contains(v)&&this.hide()}}_disableNativeGesturesIfNecessary(){const s=this.touchGestures;if("off"!==s){const v=this._elementRef.nativeElement,W=v.style;("on"===s||"INPUT"!==v.nodeName&&"TEXTAREA"!==v.nodeName)&&(W.userSelect=W.msUserSelect=W.webkitUserSelect=W.MozUserSelect="none"),("on"===s||!v.draggable)&&(W.webkitUserDrag="none"),W.touchAction="none",W.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(v){return new(v||N)(H.rXU(F.hJ),H.rXU(H.aKT),H.rXU(L.R),H.rXU(H.c1b),H.rXU(H.SKi),H.rXU(P.OD),H.rXU(M.vr),H.rXU(M.FN),H.rXU(Z),H.rXU(O.dS),H.rXU(de,8),H.rXU(x.qQ))};static#t=this.\u0275dir=H.FsC({type:N,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(v,W){2&v&&H.AVh("mat-mdc-tooltip-disabled",W.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return N})(),g=(()=>{class N{constructor(s,v,W){this._changeDetectorRef=s,this._elementRef=v,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new X.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===W}show(s){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},s)}hide(s){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},s)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:s}){(!s||!this._triggerElement.contains(s))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const s=this._elementRef.nativeElement.getBoundingClientRect();return s.height>24&&s.width>=200}_handleAnimationEnd({animationName:s}){(s===this._showAnimation||s===this._hideAnimation)&&this._finalizeAnimation(s===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(s){s?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(s){const v=this._tooltip.nativeElement,W=this._showAnimation,K=this._hideAnimation;if(v.classList.remove(s?K:W),v.classList.add(s?W:K),this._isVisible!==s&&(this._isVisible=s,this._changeDetectorRef.markForCheck()),s&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const ee=getComputedStyle(v);("0s"===ee.getPropertyValue("animation-duration")||"none"===ee.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}s&&this._onShow(),this._animationsDisabled&&(v.classList.add("_mat-animation-noopable"),this._finalizeAnimation(s))}static#e=this.\u0275fac=function(v){return new(v||N)(H.rXU(H.gRc),H.rXU(H.aKT),H.rXU(H.bc$,8))};static#t=this.\u0275cmp=H.VBU({type:N,selectors:[["mat-tooltip-component"]],viewQuery:function(v,W){if(1&v&&H.GBs(re,7),2&v){let K;H.mGM(K=H.lsd())&&(W._tooltip=K.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(v,W){1&v&&H.bIt("mouseleave",function(ee){return W._handleMouseLeave(ee)}),2&v&&H.xc7("zoom",W.isVisible()?1:null)},standalone:!0,features:[H.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(v,W){if(1&v){const K=H.RV6();H.j41(0,"div",1,0),H.bIt("animationend",function(ce){return H.eBV(K),H.Njj(W._handleAnimationEnd(ce))}),H.j41(2,"div",2),H.EFF(3),H.k0s()()}2&v&&(H.AVh("mdc-tooltip--multiline",W._isMultiline),H.Y8G("ngClass",W.tooltipClass),H.R7$(3),H.JRh(W.message))},dependencies:[x.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return N})(),T=(()=>{class N{static#e=this.\u0275fac=function(v){return new(v||N)};static#t=this.\u0275mod=H.$C({type:N});static#n=this.\u0275inj=H.G2t({providers:[ae],imports:[M.Pd,x.MD,F.z_,G.yE,G.yE,L.Gj]})}return N})()},345:(je,z,E)=>{"use strict";E.d(z,{B7:()=>xe,B8:()=>K,hE:()=>fe,up:()=>Ae});var f=E(60177),_=E(93953);class k extends f.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends k{static makeCurrent(){(0,f.ZD)(new H)}onAndCancel(_t,ft,Wt){return _t.addEventListener(ft,Wt),()=>{_t.removeEventListener(ft,Wt)}}dispatchEvent(_t,ft){_t.dispatchEvent(ft)}remove(_t){_t.parentNode&&_t.parentNode.removeChild(_t)}createElement(_t,ft){return(ft=ft||this.getDefaultDocument()).createElement(_t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_t){return _t.nodeType===Node.ELEMENT_NODE}isShadowRoot(_t){return _t instanceof DocumentFragment}getGlobalEventTarget(_t,ft){return"window"===ft?window:"document"===ft?_t:"body"===ft?_t.body:null}getBaseHref(_t){const ft=function P(){return x=x||document.querySelector("base"),x?x.getAttribute("href"):null}();return null==ft?null:function M(Qt){return new URL(Qt,document.baseURI).pathname}(ft)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(_t){return(0,f._b)(document.cookie,_t)}}let x=null,F=(()=>{class Qt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Wt){return new(Wt||Qt)};static#t=this.\u0275prov=_.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();const L=new _.nKC("");let D=(()=>{class Qt{constructor(ft,Wt){this._zone=Wt,this._eventNameToPlugin=new Map,ft.forEach(qt=>{qt.manager=this}),this._plugins=ft.slice().reverse()}addEventListener(ft,Wt,qt){return this._findPluginFor(Wt).addEventListener(ft,Wt,qt)}getZone(){return this._zone}_findPluginFor(ft){let Wt=this._eventNameToPlugin.get(ft);if(Wt)return Wt;if(Wt=this._plugins.find(pn=>pn.supports(ft)),!Wt)throw new _.wOt(5101,!1);return this._eventNameToPlugin.set(ft,Wt),Wt}static#e=this.\u0275fac=function(Wt){return new(Wt||Qt)(_.KVO(L),_.KVO(_.SKi))};static#t=this.\u0275prov=_.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();class X{constructor(_t){this._doc=_t}}const j="ng-app-id";let G=(()=>{class Qt{constructor(ft,Wt,qt,pn={}){this.doc=ft,this.appId=Wt,this.nonce=qt,this.platformId=pn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,f.Vy)(pn),this.resetHostNodes()}addStyles(ft){for(const Wt of ft)1===this.changeUsageCount(Wt,1)&&this.onStyleAdded(Wt)}removeStyles(ft){for(const Wt of ft)this.changeUsageCount(Wt,-1)<=0&&this.onStyleRemoved(Wt)}ngOnDestroy(){const ft=this.styleNodesInDOM;ft&&(ft.forEach(Wt=>Wt.remove()),ft.clear());for(const Wt of this.getAllStyles())this.onStyleRemoved(Wt);this.resetHostNodes()}addHost(ft){this.hostNodes.add(ft);for(const Wt of this.getAllStyles())this.addStyleToHost(ft,Wt)}removeHost(ft){this.hostNodes.delete(ft)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ft){for(const Wt of this.hostNodes)this.addStyleToHost(Wt,ft)}onStyleRemoved(ft){const Wt=this.styleRef;Wt.get(ft)?.elements?.forEach(qt=>qt.remove()),Wt.delete(ft)}collectServerRenderedStyles(){const ft=this.doc.head?.querySelectorAll(`style[${j}="${this.appId}"]`);if(ft?.length){const Wt=new Map;return ft.forEach(qt=>{null!=qt.textContent&&Wt.set(qt.textContent,qt)}),Wt}return null}changeUsageCount(ft,Wt){const qt=this.styleRef;if(qt.has(ft)){const pn=qt.get(ft);return pn.usage+=Wt,pn.usage}return qt.set(ft,{usage:Wt,elements:[]}),Wt}getStyleElement(ft,Wt){const qt=this.styleNodesInDOM,pn=qt?.get(Wt);if(pn?.parentNode===ft)return qt.delete(Wt),pn.removeAttribute(j),pn;{const fr=this.doc.createElement("style");return this.nonce&&fr.setAttribute("nonce",this.nonce),fr.textContent=Wt,this.platformIsServer&&fr.setAttribute(j,this.appId),ft.appendChild(fr),fr}}addStyleToHost(ft,Wt){const qt=this.getStyleElement(ft,Wt),pn=this.styleRef,fr=pn.get(Wt)?.elements;fr?fr.push(qt):pn.set(Wt,{elements:[qt],usage:1})}resetHostNodes(){const ft=this.hostNodes;ft.clear(),ft.add(this.doc.head)}static#e=this.\u0275fac=function(Wt){return new(Wt||Qt)(_.KVO(f.qQ),_.KVO(_.sZ2),_.KVO(_.BIS,8),_.KVO(_.Agw))};static#t=this.\u0275prov=_.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();const re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},te=/%COMP%/g,J="%COMP%",Z=`_nghost-${J}`,ie=`_ngcontent-${J}`,se=new _.nKC("",{providedIn:"root",factory:()=>!0});function we(Qt,_t){return _t.map(ft=>ft.replace(te,Qt))}let xe=(()=>{class Qt{constructor(ft,Wt,qt,pn,fr,gt,Mt,St=null){this.eventManager=ft,this.sharedStylesHost=Wt,this.appId=qt,this.removeStylesOnCompDestroy=pn,this.doc=fr,this.platformId=gt,this.ngZone=Mt,this.nonce=St,this.rendererByCompId=new Map,this.platformIsServer=(0,f.Vy)(gt),this.defaultRenderer=new Ce(ft,fr,Mt,this.platformIsServer)}createRenderer(ft,Wt){if(!ft||!Wt)return this.defaultRenderer;this.platformIsServer&&Wt.encapsulation===_.gXe.ShadowDom&&(Wt={...Wt,encapsulation:_.gXe.Emulated});const qt=this.getOrCreateRenderer(ft,Wt);return qt instanceof S?qt.applyToHost(ft):qt instanceof g&&qt.applyStyles(),qt}getOrCreateRenderer(ft,Wt){const qt=this.rendererByCompId;let pn=qt.get(Wt.id);if(!pn){const fr=this.doc,gt=this.ngZone,Mt=this.eventManager,St=this.sharedStylesHost,Ye=this.removeStylesOnCompDestroy,nt=this.platformIsServer;switch(Wt.encapsulation){case _.gXe.Emulated:pn=new S(Mt,St,Wt,this.appId,Ye,fr,gt,nt);break;case _.gXe.ShadowDom:return new y(Mt,St,ft,Wt,fr,gt,this.nonce,nt);default:pn=new g(Mt,St,Wt,Ye,fr,gt,nt)}qt.set(Wt.id,pn)}return pn}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Wt){return new(Wt||Qt)(_.KVO(D),_.KVO(G),_.KVO(_.sZ2),_.KVO(se),_.KVO(f.qQ),_.KVO(_.Agw),_.KVO(_.SKi),_.KVO(_.BIS))};static#t=this.\u0275prov=_.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();class Ce{constructor(_t,ft,Wt,qt){this.eventManager=_t,this.doc=ft,this.ngZone=Wt,this.platformIsServer=qt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(_t,ft){return ft?this.doc.createElementNS(re[ft]||ft,_t):this.doc.createElement(_t)}createComment(_t){return this.doc.createComment(_t)}createText(_t){return this.doc.createTextNode(_t)}appendChild(_t,ft){(u(_t)?_t.content:_t).appendChild(ft)}insertBefore(_t,ft,Wt){_t&&(u(_t)?_t.content:_t).insertBefore(ft,Wt)}removeChild(_t,ft){_t&&_t.removeChild(ft)}selectRootElement(_t,ft){let Wt="string"==typeof _t?this.doc.querySelector(_t):_t;if(!Wt)throw new _.wOt(-5104,!1);return ft||(Wt.textContent=""),Wt}parentNode(_t){return _t.parentNode}nextSibling(_t){return _t.nextSibling}setAttribute(_t,ft,Wt,qt){if(qt){ft=qt+":"+ft;const pn=re[qt];pn?_t.setAttributeNS(pn,ft,Wt):_t.setAttribute(ft,Wt)}else _t.setAttribute(ft,Wt)}removeAttribute(_t,ft,Wt){if(Wt){const qt=re[Wt];qt?_t.removeAttributeNS(qt,ft):_t.removeAttribute(`${Wt}:${ft}`)}else _t.removeAttribute(ft)}addClass(_t,ft){_t.classList.add(ft)}removeClass(_t,ft){_t.classList.remove(ft)}setStyle(_t,ft,Wt,qt){qt&(_.czy.DashCase|_.czy.Important)?_t.style.setProperty(ft,Wt,qt&_.czy.Important?"important":""):_t.style[ft]=Wt}removeStyle(_t,ft,Wt){Wt&_.czy.DashCase?_t.style.removeProperty(ft):_t.style[ft]=""}setProperty(_t,ft,Wt){null!=_t&&(_t[ft]=Wt)}setValue(_t,ft){_t.nodeValue=ft}listen(_t,ft,Wt){if("string"==typeof _t&&!(_t=(0,f.QT)().getGlobalEventTarget(this.doc,_t)))throw new Error(`Unsupported event target ${_t} for event ${ft}`);return this.eventManager.addEventListener(_t,ft,this.decoratePreventDefault(Wt))}decoratePreventDefault(_t){return ft=>{if("__ngUnwrap__"===ft)return _t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>_t(ft)):_t(ft))&&ft.preventDefault()}}}function u(Qt){return"TEMPLATE"===Qt.tagName&&void 0!==Qt.content}class y extends Ce{constructor(_t,ft,Wt,qt,pn,fr,gt,Mt){super(_t,pn,fr,Mt),this.sharedStylesHost=ft,this.hostEl=Wt,this.shadowRoot=Wt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=we(qt.id,qt.styles);for(const Ye of St){const nt=document.createElement("style");gt&&nt.setAttribute("nonce",gt),nt.textContent=Ye,this.shadowRoot.appendChild(nt)}}nodeOrShadowRoot(_t){return _t===this.hostEl?this.shadowRoot:_t}appendChild(_t,ft){return super.appendChild(this.nodeOrShadowRoot(_t),ft)}insertBefore(_t,ft,Wt){return super.insertBefore(this.nodeOrShadowRoot(_t),ft,Wt)}removeChild(_t,ft){return super.removeChild(this.nodeOrShadowRoot(_t),ft)}parentNode(_t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class g extends Ce{constructor(_t,ft,Wt,qt,pn,fr,gt,Mt){super(_t,pn,fr,gt),this.sharedStylesHost=ft,this.removeStylesOnCompDestroy=qt,this.styles=Mt?we(Mt,Wt.styles):Wt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class S extends g{constructor(_t,ft,Wt,qt,pn,fr,gt,Mt){const St=qt+"-"+Wt.id;super(_t,ft,Wt,pn,fr,gt,Mt,St),this.contentAttr=function de(Qt){return ie.replace(te,Qt)}(St),this.hostAttr=function le(Qt){return Z.replace(te,Qt)}(St)}applyToHost(_t){this.applyStyles(),this.setAttribute(_t,this.hostAttr,"")}createElement(_t,ft){const Wt=super.createElement(_t,ft);return super.setAttribute(Wt,this.contentAttr,""),Wt}}let T=(()=>{class Qt extends X{constructor(ft){super(ft)}supports(ft){return!0}addEventListener(ft,Wt,qt){return ft.addEventListener(Wt,qt,!1),()=>this.removeEventListener(ft,Wt,qt)}removeEventListener(ft,Wt,qt){return ft.removeEventListener(Wt,qt)}static#e=this.\u0275fac=function(Wt){return new(Wt||Qt)(_.KVO(f.qQ))};static#t=this.\u0275prov=_.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})(),N=(()=>{class Qt extends X{constructor(ft){super(ft),this.delegate=(0,_.WQX)(_.zAP,{optional:!0})}supports(ft){return!!this.delegate&&this.delegate.supports(ft)}addEventListener(ft,Wt,qt){return this.delegate.addEventListener(ft,Wt,qt)}removeEventListener(ft,Wt,qt){return this.delegate.removeEventListener(ft,Wt,qt)}static#e=this.\u0275fac=function(Wt){return new(Wt||Qt)(_.KVO(f.qQ))};static#t=this.\u0275prov=_.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();const A=["alt","control","meta","shift"],s={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v={alt:Qt=>Qt.altKey,control:Qt=>Qt.ctrlKey,meta:Qt=>Qt.metaKey,shift:Qt=>Qt.shiftKey};let W=(()=>{class Qt extends X{constructor(ft){super(ft)}supports(ft){return null!=Qt.parseEventName(ft)}addEventListener(ft,Wt,qt){const pn=Qt.parseEventName(Wt),fr=Qt.eventCallback(pn.fullKey,qt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.QT)().onAndCancel(ft,pn.domEventName,fr))}static parseEventName(ft){const Wt=ft.toLowerCase().split("."),qt=Wt.shift();if(0===Wt.length||"keydown"!==qt&&"keyup"!==qt)return null;const pn=Qt._normalizeKey(Wt.pop());let fr="",gt=Wt.indexOf("code");if(gt>-1&&(Wt.splice(gt,1),fr="code."),A.forEach(St=>{const Ye=Wt.indexOf(St);Ye>-1&&(Wt.splice(Ye,1),fr+=St+".")}),fr+=pn,0!=Wt.length||0===pn.length)return null;const Mt={};return Mt.domEventName=qt,Mt.fullKey=fr,Mt}static matchEventFullKeyCode(ft,Wt){let qt=s[ft.key]||ft.key,pn="";return Wt.indexOf("code.")>-1&&(qt=ft.code,pn="code."),!(null==qt||!qt)&&(qt=qt.toLowerCase()," "===qt?qt="space":"."===qt&&(qt="dot"),A.forEach(fr=>{fr!==qt&&(0,v[fr])(ft)&&(pn+=fr+".")}),pn+=qt,pn===Wt)}static eventCallback(ft,Wt,qt){return pn=>{Qt.matchEventFullKeyCode(pn,ft)&&qt.runGuarded(()=>Wt(pn))}}static _normalizeKey(ft){return"esc"===ft?"escape":ft}static#e=this.\u0275fac=function(Wt){return new(Wt||Qt)(_.KVO(f.qQ))};static#t=this.\u0275prov=_.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();function K(Qt,_t){return(0,_.TL3)({rootComponent:Qt,...ce(_t)})}function ce(Qt){return{appProviders:[...pe,...Qt?.providers??[]],platformProviders:be}}const be=[{provide:_.Agw,useValue:f.AJ},{provide:_.PLl,useValue:function Oe(){H.makeCurrent()},multi:!0},{provide:f.qQ,useFactory:function Se(){return(0,_.TL$)(document),document},deps:[]}],pe=[{provide:_.H8p,useValue:"root"},{provide:_.zcH,useFactory:function Ve(){return new _.zcH},deps:[]},{provide:L,useClass:T,multi:!0,deps:[f.qQ,_.SKi,_.Agw]},{provide:L,useClass:W,multi:!0,deps:[f.qQ]},{provide:L,useClass:N,multi:!0},xe,G,D,{provide:_._9s,useExisting:xe},{provide:f.N0,useClass:F,deps:[]},[]];let fe=(()=>{class Qt{constructor(ft){this._doc=ft}getTitle(){return this._doc.title}setTitle(ft){this._doc.title=ft||""}static#e=this.\u0275fac=function(Wt){return new(Wt||Qt)(_.KVO(f.qQ))};static#t=this.\u0275prov=_.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})(),Ae=(()=>{class Qt{static#e=this.\u0275fac=function(Wt){return new(Wt||Qt)};static#t=this.\u0275prov=_.jDH({token:Qt,factory:function(Wt){let qt=null;return qt=Wt?new(Wt||Qt):_.KVO(tt),qt},providedIn:"root"})}return Qt})(),tt=(()=>{class Qt extends Ae{constructor(ft){super(),this._doc=ft}sanitize(ft,Wt){if(null==Wt)return null;switch(ft){case _.WPN.NONE:return Wt;case _.WPN.HTML:return(0,_.ZF7)(Wt,"HTML")?(0,_.rcV)(Wt):(0,_.h9k)(this._doc,String(Wt)).toString();case _.WPN.STYLE:return(0,_.ZF7)(Wt,"Style")?(0,_.rcV)(Wt):Wt;case _.WPN.SCRIPT:if((0,_.ZF7)(Wt,"Script"))return(0,_.rcV)(Wt);throw new _.wOt(5200,!1);case _.WPN.URL:return(0,_.ZF7)(Wt,"URL")?(0,_.rcV)(Wt):(0,_.$MX)(String(Wt));case _.WPN.RESOURCE_URL:if((0,_.ZF7)(Wt,"ResourceURL"))return(0,_.rcV)(Wt);throw new _.wOt(5201,!1);default:throw new _.wOt(5202,!1)}}bypassSecurityTrustHtml(ft){return(0,_.Kcf)(ft)}bypassSecurityTrustStyle(ft){return(0,_.cWb)(ft)}bypassSecurityTrustScript(ft){return(0,_.UyX)(ft)}bypassSecurityTrustUrl(ft){return(0,_.osQ)(ft)}bypassSecurityTrustResourceUrl(ft){return(0,_.e5t)(ft)}static#e=this.\u0275fac=function(Wt){return new(Wt||Qt)(_.KVO(f.qQ))};static#t=this.\u0275prov=_.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})()},18498:(je,z,E)=>{"use strict";E.d(z,{nX:()=>ho,wF:()=>xr,Z:()=>Ar,Kp:()=>Pu,Ix:()=>Ss,Wk:()=>Fa,wQ:()=>kc,iI:()=>sn,n3:()=>oc,lh:()=>mt,Sn:()=>me});var f=E(93953),_=E(74402),k=E(86648),H=E(7673),x=E(84412),P=E(84572);const O=(0,E(81853).L)(Ge=>function(){Ge(this),this.name="EmptyError",this.message="no elements in sequence"});var F=E(28793),L=E(59030),D=E(71203),X=E(18810),j=E(983),G=E(30017),re=E(21413),te=E(18359),J=E(60177),Z=E(96354),ie=E(25558),ae=E(96697),se=E(99172),de=E(5964),le=E(31397),we=E(39974),xe=E(54360);function Ce(Ge){return(0,we.N)((ut,Qe)=>{let yt=!1;ut.subscribe((0,xe._)(Qe,Ut=>{yt=!0,Qe.next(Ut)},()=>{yt||Qe.next(Ge),Qe.complete()}))})}function C(Ge=a){return(0,we.N)((ut,Qe)=>{let yt=!1;ut.subscribe((0,xe._)(Qe,Ut=>{yt=!0,Qe.next(Ut)},()=>yt?Qe.complete():Qe.error(Ge())))})}function a(){return new O}var u=E(33669);function y(Ge,ut){const Qe=arguments.length>=2;return yt=>yt.pipe(Ge?(0,de.p)((Ut,cn)=>Ge(Ut,cn,yt)):u.D,(0,ae.s)(1),Qe?Ce(ut):C(()=>new O))}var g=E(70274),S=E(88141),T=E(99437);function s(Ge){return Ge<=0?()=>j.w:(0,we.N)((ut,Qe)=>{let yt=[];ut.subscribe((0,xe._)(Qe,Ut=>{yt.push(Ut),Ge<yt.length&&yt.shift()},()=>{for(const Ut of yt)Qe.next(Ut);Qe.complete()},void 0,()=>{yt=null}))})}var W=E(73703),K=E(70980),ee=E(99898),ce=E(56977),_e=E(26365),Oe=E(345);const Ve="primary",Se=Symbol("RouteTitle");class be{constructor(ut){this.params=ut||{}}has(ut){return Object.prototype.hasOwnProperty.call(this.params,ut)}get(ut){if(this.has(ut)){const Qe=this.params[ut];return Array.isArray(Qe)?Qe[0]:Qe}return null}getAll(ut){if(this.has(ut)){const Qe=this.params[ut];return Array.isArray(Qe)?Qe:[Qe]}return[]}get keys(){return Object.keys(this.params)}}function Ue(Ge){return new be(Ge)}function ye(Ge,ut,Qe){const yt=Qe.path.split("/");if(yt.length>Ge.length||"full"===Qe.pathMatch&&(ut.hasChildren()||yt.length<Ge.length))return null;const Ut={};for(let cn=0;cn<yt.length;cn++){const Dn=yt[cn],sr=Ge[cn];if(":"===Dn[0])Ut[Dn.substring(1)]=sr;else if(Dn!==sr.path)return null}return{consumed:Ge.slice(0,yt.length),posParams:Ut}}function pe(Ge,ut){const Qe=Ge?ue(Ge):void 0,yt=ut?ue(ut):void 0;if(!Qe||!yt||Qe.length!=yt.length)return!1;let Ut;for(let cn=0;cn<Qe.length;cn++)if(Ut=Qe[cn],!Q(Ge[Ut],ut[Ut]))return!1;return!0}function ue(Ge){return[...Object.keys(Ge),...Object.getOwnPropertySymbols(Ge)]}function Q(Ge,ut){if(Array.isArray(Ge)&&Array.isArray(ut)){if(Ge.length!==ut.length)return!1;const Qe=[...Ge].sort(),yt=[...ut].sort();return Qe.every((Ut,cn)=>yt[cn]===Ut)}return Ge===ut}function oe(Ge){return Ge.length>0?Ge[Ge.length-1]:null}function fe(Ge){return(0,_.A)(Ge)?Ge:(0,f.jNT)(Ge)?(0,k.H)(Promise.resolve(Ge)):(0,H.of)(Ge)}const Ee={exact:function Et(Ge,ut,Qe){if(!ge(Ge.segments,ut.segments)||!B(Ge.segments,ut.segments,Qe)||Ge.numberOfChildren!==ut.numberOfChildren)return!1;for(const yt in ut.children)if(!Ge.children[yt]||!Et(Ge.children[yt],ut.children[yt],Qe))return!1;return!0},subset:Le},Re={exact:function Fe(Ge,ut){return pe(Ge,ut)},subset:function We(Ge,ut){return Object.keys(ut).length<=Object.keys(Ge).length&&Object.keys(ut).every(Qe=>Q(Ge[Qe],ut[Qe]))},ignored:()=>!0};function $e(Ge,ut,Qe){return Ee[Qe.paths](Ge.root,ut.root,Qe.matrixParams)&&Re[Qe.queryParams](Ge.queryParams,ut.queryParams)&&!("exact"===Qe.fragment&&Ge.fragment!==ut.fragment)}function Le(Ge,ut,Qe){return lt(Ge,ut,ut.segments,Qe)}function lt(Ge,ut,Qe,yt){if(Ge.segments.length>Qe.length){const Ut=Ge.segments.slice(0,Qe.length);return!(!ge(Ut,Qe)||ut.hasChildren()||!B(Ut,Qe,yt))}if(Ge.segments.length===Qe.length){if(!ge(Ge.segments,Qe)||!B(Ge.segments,Qe,yt))return!1;for(const Ut in ut.children)if(!Ge.children[Ut]||!Le(Ge.children[Ut],ut.children[Ut],yt))return!1;return!0}{const Ut=Qe.slice(0,Ge.segments.length),cn=Qe.slice(Ge.segments.length);return!!(ge(Ge.segments,Ut)&&B(Ge.segments,Ut,yt)&&Ge.children[Ve])&&lt(Ge.children[Ve],ut,cn,yt)}}function B(Ge,ut,Qe){return ut.every((yt,Ut)=>Re[Qe](Ge[Ut].parameters,yt.parameters))}class w{constructor(ut=new m([],{}),Qe={},yt=null){this.root=ut,this.queryParams=Qe,this.fragment=yt}get queryParamMap(){return this._queryParamMap??=Ue(this.queryParams),this._queryParamMap}toString(){return vt.serialize(this)}}class m{constructor(ut,Qe){this.segments=ut,this.children=Qe,this.parent=null,Object.values(Qe).forEach(yt=>yt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return It(this)}}class U{constructor(ut,Qe){this.path=ut,this.parameters=Qe}get parameterMap(){return this._parameterMap??=Ue(this.parameters),this._parameterMap}toString(){return _t(this)}}function ge(Ge,ut){return Ge.length===ut.length&&Ge.every((Qe,yt)=>Qe.path===ut[yt].path)}let tt=(()=>{class Ge{static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:()=>new Bt,providedIn:"root"})}return Ge})();class Bt{parse(ut){const Qe=new Ht(ut);return new w(Qe.parseRootSegment(),Qe.parseQueryParams(),Qe.parseFragment())}serialize(ut){const Qe=`/${Gt(ut.root,!0)}`,yt=function Wt(Ge){const ut=Object.entries(Ge).map(([Qe,yt])=>Array.isArray(yt)?yt.map(Ut=>`${dn(Qe)}=${dn(Ut)}`).join("&"):`${dn(Qe)}=${dn(yt)}`).filter(Qe=>Qe);return ut.length?`?${ut.join("&")}`:""}(ut.queryParams);return`${Qe}${yt}${"string"==typeof ut.fragment?`#${function ar(Ge){return encodeURI(Ge)}(ut.fragment)}`:""}`}}const vt=new Bt;function It(Ge){return Ge.segments.map(ut=>_t(ut)).join("/")}function Gt(Ge,ut){if(!Ge.hasChildren())return It(Ge);if(ut){const Qe=Ge.children[Ve]?Gt(Ge.children[Ve],!1):"",yt=[];return Object.entries(Ge.children).forEach(([Ut,cn])=>{Ut!==Ve&&yt.push(`${Ut}:${Gt(cn,!1)}`)}),yt.length>0?`${Qe}(${yt.join("//")})`:Qe}{const Qe=function Ae(Ge,ut){let Qe=[];return Object.entries(Ge.children).forEach(([yt,Ut])=>{yt===Ve&&(Qe=Qe.concat(ut(Ut,yt)))}),Object.entries(Ge.children).forEach(([yt,Ut])=>{yt!==Ve&&(Qe=Qe.concat(ut(Ut,yt)))}),Qe}(Ge,(yt,Ut)=>Ut===Ve?[Gt(Ge.children[Ve],!1)]:[`${Ut}:${Gt(yt,!1)}`]);return 1===Object.keys(Ge.children).length&&null!=Ge.children[Ve]?`${It(Ge)}/${Qe[0]}`:`${It(Ge)}/(${Qe.join("//")})`}}function hn(Ge){return encodeURIComponent(Ge).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dn(Ge){return hn(Ge).replace(/%3B/gi,";")}function An(Ge){return hn(Ge).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function en(Ge){return decodeURIComponent(Ge)}function Qt(Ge){return en(Ge.replace(/\+/g,"%20"))}function _t(Ge){return`${An(Ge.path)}${function ft(Ge){return Object.entries(Ge).map(([ut,Qe])=>`;${An(ut)}=${An(Qe)}`).join("")}(Ge.parameters)}`}const qt=/^[^\/()?;#]+/;function pn(Ge){const ut=Ge.match(qt);return ut?ut[0]:""}const fr=/^[^\/()?;=#]+/,Mt=/^[^=?&#]+/,Ye=/^[^&#]+/;class Ht{constructor(ut){this.url=ut,this.remaining=ut}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new m([],{}):new m([],this.parseChildren())}parseQueryParams(){const ut={};if(this.consumeOptional("?"))do{this.parseQueryParam(ut)}while(this.consumeOptional("&"));return ut}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ut=[];for(this.peekStartsWith("(")||ut.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ut.push(this.parseSegment());let Qe={};this.peekStartsWith("/(")&&(this.capture("/"),Qe=this.parseParens(!0));let yt={};return this.peekStartsWith("(")&&(yt=this.parseParens(!1)),(ut.length>0||Object.keys(Qe).length>0)&&(yt[Ve]=new m(ut,Qe)),yt}parseSegment(){const ut=pn(this.remaining);if(""===ut&&this.peekStartsWith(";"))throw new f.wOt(4009,!1);return this.capture(ut),new U(en(ut),this.parseMatrixParams())}parseMatrixParams(){const ut={};for(;this.consumeOptional(";");)this.parseParam(ut);return ut}parseParam(ut){const Qe=function gt(Ge){const ut=Ge.match(fr);return ut?ut[0]:""}(this.remaining);if(!Qe)return;this.capture(Qe);let yt="";if(this.consumeOptional("=")){const Ut=pn(this.remaining);Ut&&(yt=Ut,this.capture(yt))}ut[en(Qe)]=en(yt)}parseQueryParam(ut){const Qe=function St(Ge){const ut=Ge.match(Mt);return ut?ut[0]:""}(this.remaining);if(!Qe)return;this.capture(Qe);let yt="";if(this.consumeOptional("=")){const Dn=function nt(Ge){const ut=Ge.match(Ye);return ut?ut[0]:""}(this.remaining);Dn&&(yt=Dn,this.capture(yt))}const Ut=Qt(Qe),cn=Qt(yt);if(ut.hasOwnProperty(Ut)){let Dn=ut[Ut];Array.isArray(Dn)||(Dn=[Dn],ut[Ut]=Dn),Dn.push(cn)}else ut[Ut]=cn}parseParens(ut){const Qe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const yt=pn(this.remaining),Ut=this.remaining[yt.length];if("/"!==Ut&&")"!==Ut&&";"!==Ut)throw new f.wOt(4010,!1);let cn;yt.indexOf(":")>-1?(cn=yt.slice(0,yt.indexOf(":")),this.capture(cn),this.capture(":")):ut&&(cn=Ve);const Dn=this.parseChildren();Qe[cn]=1===Object.keys(Dn).length?Dn[Ve]:new m([],Dn),this.consumeOptional("//")}return Qe}peekStartsWith(ut){return this.remaining.startsWith(ut)}consumeOptional(ut){return!!this.peekStartsWith(ut)&&(this.remaining=this.remaining.substring(ut.length),!0)}capture(ut){if(!this.consumeOptional(ut))throw new f.wOt(4011,!1)}}function Nt(Ge){return Ge.segments.length>0?new m([],{[Ve]:Ge}):Ge}function un(Ge){const ut={};for(const[yt,Ut]of Object.entries(Ge.children)){const cn=un(Ut);if(yt===Ve&&0===cn.segments.length&&cn.hasChildren())for(const[Dn,sr]of Object.entries(cn.children))ut[Dn]=sr;else(cn.segments.length>0||cn.hasChildren())&&(ut[yt]=cn)}return function Wn(Ge){if(1===Ge.numberOfChildren&&Ge.children[Ve]){const ut=Ge.children[Ve];return new m(Ge.segments.concat(ut.segments),ut.children)}return Ge}(new m(Ge.segments,ut))}function En(Ge){return Ge instanceof w}function Or(Ge){let ut;const Ut=Nt(function Qe(cn){const Dn={};for(const Gn of cn.children){const Wr=Qe(Gn);Dn[Gn.outlet]=Wr}const sr=new m(cn.url,Dn);return cn===Ge&&(ut=sr),sr}(Ge.root));return ut??Ut}function Jn(Ge,ut,Qe,yt){let Ut=Ge;for(;Ut.parent;)Ut=Ut.parent;if(0===ut.length)return et(Ut,Ut,Ut,Qe,yt);const cn=function xt(Ge){if("string"==typeof Ge[0]&&1===Ge.length&&"/"===Ge[0])return new Be(!0,0,Ge);let ut=0,Qe=!1;const yt=Ge.reduce((Ut,cn,Dn)=>{if("object"==typeof cn&&null!=cn){if(cn.outlets){const sr={};return Object.entries(cn.outlets).forEach(([Gn,Wr])=>{sr[Gn]="string"==typeof Wr?Wr.split("/"):Wr}),[...Ut,{outlets:sr}]}if(cn.segmentPath)return[...Ut,cn.segmentPath]}return"string"!=typeof cn?[...Ut,cn]:0===Dn?(cn.split("/").forEach((sr,Gn)=>{0==Gn&&"."===sr||(0==Gn&&""===sr?Qe=!0:".."===sr?ut++:""!=sr&&Ut.push(sr))}),Ut):[...Ut,cn]},[]);return new Be(Qe,ut,yt)}(ut);if(cn.toRoot())return et(Ut,Ut,new m([],{}),Qe,yt);const Dn=function In(Ge,ut,Qe){if(Ge.isAbsolute)return new nn(ut,!0,0);if(!Qe)return new nn(ut,!1,NaN);if(null===Qe.parent)return new nn(Qe,!0,0);const yt=Fn(Ge.commands[0])?0:1;return function Kn(Ge,ut,Qe){let yt=Ge,Ut=ut,cn=Qe;for(;cn>Ut;){if(cn-=Ut,yt=yt.parent,!yt)throw new f.wOt(4005,!1);Ut=yt.segments.length}return new nn(yt,!1,Ut-cn)}(Qe,Qe.segments.length-1+yt,Ge.numberOfDoubleDots)}(cn,Ut,Ge),sr=Dn.processChildren?Mr(Dn.segmentGroup,Dn.index,cn.commands):Dr(Dn.segmentGroup,Dn.index,cn.commands);return et(Ut,Dn.segmentGroup,sr,Qe,yt)}function Fn(Ge){return"object"==typeof Ge&&null!=Ge&&!Ge.outlets&&!Ge.segmentPath}function Lt(Ge){return"object"==typeof Ge&&null!=Ge&&Ge.outlets}function et(Ge,ut,Qe,yt,Ut){let Dn,cn={};yt&&Object.entries(yt).forEach(([Gn,Wr])=>{cn[Gn]=Array.isArray(Wr)?Wr.map(Fi=>`${Fi}`):`${Wr}`}),Dn=Ge===ut?Qe:Te(Ge,ut,Qe);const sr=Nt(un(Dn));return new w(sr,cn,Ut)}function Te(Ge,ut,Qe){const yt={};return Object.entries(Ge.children).forEach(([Ut,cn])=>{yt[Ut]=cn===ut?Qe:Te(cn,ut,Qe)}),new m(Ge.segments,yt)}class Be{constructor(ut,Qe,yt){if(this.isAbsolute=ut,this.numberOfDoubleDots=Qe,this.commands=yt,ut&&yt.length>0&&Fn(yt[0]))throw new f.wOt(4003,!1);const Ut=yt.find(Lt);if(Ut&&Ut!==oe(yt))throw new f.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nn{constructor(ut,Qe,yt){this.segmentGroup=ut,this.processChildren=Qe,this.index=yt}}function Dr(Ge,ut,Qe){if(Ge??=new m([],{}),0===Ge.segments.length&&Ge.hasChildren())return Mr(Ge,ut,Qe);const yt=function Ir(Ge,ut,Qe){let yt=0,Ut=ut;const cn={match:!1,pathIndex:0,commandIndex:0};for(;Ut<Ge.segments.length;){if(yt>=Qe.length)return cn;const Dn=Ge.segments[Ut],sr=Qe[yt];if(Lt(sr))break;const Gn=`${sr}`,Wr=yt<Qe.length-1?Qe[yt+1]:null;if(Ut>0&&void 0===Gn)break;if(Gn&&Wr&&"object"==typeof Wr&&void 0===Wr.outlets){if(!_n(Gn,Wr,Dn))return cn;yt+=2}else{if(!_n(Gn,{},Dn))return cn;yt++}Ut++}return{match:!0,pathIndex:Ut,commandIndex:yt}}(Ge,ut,Qe),Ut=Qe.slice(yt.commandIndex);if(yt.match&&yt.pathIndex<Ge.segments.length){const cn=new m(Ge.segments.slice(0,yt.pathIndex),{});return cn.children[Ve]=new m(Ge.segments.slice(yt.pathIndex),Ge.children),Mr(cn,0,Ut)}return yt.match&&0===Ut.length?new m(Ge.segments,{}):yt.match&&!Ge.hasChildren()?jr(Ge,ut,Qe):yt.match?Mr(Ge,0,Ut):jr(Ge,ut,Qe)}function Mr(Ge,ut,Qe){if(0===Qe.length)return new m(Ge.segments,{});{const yt=function tr(Ge){return Lt(Ge[0])?Ge[0].outlets:{[Ve]:Ge}}(Qe),Ut={};if(Object.keys(yt).some(cn=>cn!==Ve)&&Ge.children[Ve]&&1===Ge.numberOfChildren&&0===Ge.children[Ve].segments.length){const cn=Mr(Ge.children[Ve],ut,Qe);return new m(Ge.segments,cn.children)}return Object.entries(yt).forEach(([cn,Dn])=>{"string"==typeof Dn&&(Dn=[Dn]),null!==Dn&&(Ut[cn]=Dr(Ge.children[cn],ut,Dn))}),Object.entries(Ge.children).forEach(([cn,Dn])=>{void 0===yt[cn]&&(Ut[cn]=Dn)}),new m(Ge.segments,Ut)}}function jr(Ge,ut,Qe){const yt=Ge.segments.slice(0,ut);let Ut=0;for(;Ut<Qe.length;){const cn=Qe[Ut];if(Lt(cn)){const Gn=ni(cn.outlets);return new m(yt,Gn)}if(0===Ut&&Fn(Qe[0])){yt.push(new U(Ge.segments[ut].path,tn(Qe[0]))),Ut++;continue}const Dn=Lt(cn)?cn.outlets[Ve]:`${cn}`,sr=Ut<Qe.length-1?Qe[Ut+1]:null;Dn&&sr&&Fn(sr)?(yt.push(new U(Dn,tn(sr))),Ut+=2):(yt.push(new U(Dn,{})),Ut++)}return new m(yt,{})}function ni(Ge){const ut={};return Object.entries(Ge).forEach(([Qe,yt])=>{"string"==typeof yt&&(yt=[yt]),null!==yt&&(ut[Qe]=jr(new m([],{}),0,yt))}),ut}function tn(Ge){const ut={};return Object.entries(Ge).forEach(([Qe,yt])=>ut[Qe]=`${yt}`),ut}function _n(Ge,ut,Qe){return Ge==Qe.path&&pe(ut,Qe.parameters)}const Tn="imperative";var jn=function(Ge){return Ge[Ge.NavigationStart=0]="NavigationStart",Ge[Ge.NavigationEnd=1]="NavigationEnd",Ge[Ge.NavigationCancel=2]="NavigationCancel",Ge[Ge.NavigationError=3]="NavigationError",Ge[Ge.RoutesRecognized=4]="RoutesRecognized",Ge[Ge.ResolveStart=5]="ResolveStart",Ge[Ge.ResolveEnd=6]="ResolveEnd",Ge[Ge.GuardsCheckStart=7]="GuardsCheckStart",Ge[Ge.GuardsCheckEnd=8]="GuardsCheckEnd",Ge[Ge.RouteConfigLoadStart=9]="RouteConfigLoadStart",Ge[Ge.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",Ge[Ge.ChildActivationStart=11]="ChildActivationStart",Ge[Ge.ChildActivationEnd=12]="ChildActivationEnd",Ge[Ge.ActivationStart=13]="ActivationStart",Ge[Ge.ActivationEnd=14]="ActivationEnd",Ge[Ge.Scroll=15]="Scroll",Ge[Ge.NavigationSkipped=16]="NavigationSkipped",Ge}(jn||{});class hr{constructor(ut,Qe){this.id=ut,this.url=Qe}}class Ar extends hr{constructor(ut,Qe,yt="imperative",Ut=null){super(ut,Qe),this.type=jn.NavigationStart,this.navigationTrigger=yt,this.restoredState=Ut}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xr extends hr{constructor(ut,Qe,yt){super(ut,Qe),this.urlAfterRedirects=yt,this.type=jn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var zr=function(Ge){return Ge[Ge.Redirect=0]="Redirect",Ge[Ge.SupersededByNewNavigation=1]="SupersededByNewNavigation",Ge[Ge.NoDataFromResolver=2]="NoDataFromResolver",Ge[Ge.GuardRejected=3]="GuardRejected",Ge}(zr||{}),Kr=function(Ge){return Ge[Ge.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",Ge[Ge.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",Ge}(Kr||{});class oi extends hr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.reason=yt,this.code=Ut,this.type=jn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ao extends hr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.reason=yt,this.code=Ut,this.type=jn.NavigationSkipped}}class wi extends hr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.error=yt,this.target=Ut,this.type=jn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Io extends hr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.urlAfterRedirects=yt,this.state=Ut,this.type=jn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co extends hr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.urlAfterRedirects=yt,this.state=Ut,this.type=jn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class is extends hr{constructor(ut,Qe,yt,Ut,cn){super(ut,Qe),this.urlAfterRedirects=yt,this.state=Ut,this.shouldActivate=cn,this.type=jn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ji extends hr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.urlAfterRedirects=yt,this.state=Ut,this.type=jn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends hr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.urlAfterRedirects=yt,this.state=Ut,this.type=jn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui{constructor(ut){this.route=ut,this.type=jn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class la{constructor(ut){this.route=ut,this.type=jn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Si{constructor(ut){this.snapshot=ut,this.type=jn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class os{constructor(ut){this.snapshot=ut,this.type=jn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ns{constructor(ut){this.snapshot=ut,this.type=jn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(ut){this.snapshot=ut,this.type=jn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(ut,Qe,yt){this.routerEvent=ut,this.position=Qe,this.anchor=yt,this.type=jn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ps{}class da{constructor(ut,Qe){this.url=ut,this.navigationBehaviorOptions=Qe}}function ba(Ge){return Ge.outlet||Ve}function Aa(Ge){if(!Ge)return null;if(Ge.routeConfig?._injector)return Ge.routeConfig._injector;for(let ut=Ge.parent;ut;ut=ut.parent){const Qe=ut.routeConfig;if(Qe?._loadedInjector)return Qe._loadedInjector;if(Qe?._injector)return Qe._injector}return null}class Yc{get injector(){return Aa(this.route?.snapshot)??this.rootInjector}set injector(ut){}constructor(ut){this.rootInjector=ut,this.outlet=null,this.route=null,this.children=new ul(this.rootInjector),this.attachRef=null}}let ul=(()=>{class Ge{constructor(Qe){this.rootInjector=Qe,this.contexts=new Map}onChildOutletCreated(Qe,yt){const Ut=this.getOrCreateContext(Qe);Ut.outlet=yt,this.contexts.set(Qe,Ut)}onChildOutletDestroyed(Qe){const yt=this.getContext(Qe);yt&&(yt.outlet=null,yt.attachRef=null)}onOutletDeactivated(){const Qe=this.contexts;return this.contexts=new Map,Qe}onOutletReAttached(Qe){this.contexts=Qe}getOrCreateContext(Qe){let yt=this.getContext(Qe);return yt||(yt=new Yc(this.rootInjector),this.contexts.set(Qe,yt)),yt}getContext(Qe){return this.contexts.get(Qe)||null}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(f.KVO(f.uvJ))};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();class fc{constructor(ut){this._root=ut}get root(){return this._root.value}parent(ut){const Qe=this.pathFromRoot(ut);return Qe.length>1?Qe[Qe.length-2]:null}children(ut){const Qe=Vs(ut,this._root);return Qe?Qe.children.map(yt=>yt.value):[]}firstChild(ut){const Qe=Vs(ut,this._root);return Qe&&Qe.children.length>0?Qe.children[0].value:null}siblings(ut){const Qe=Tc(ut,this._root);return Qe.length<2?[]:Qe[Qe.length-2].children.map(Ut=>Ut.value).filter(Ut=>Ut!==ut)}pathFromRoot(ut){return Tc(ut,this._root).map(Qe=>Qe.value)}}function Vs(Ge,ut){if(Ge===ut.value)return ut;for(const Qe of ut.children){const yt=Vs(Ge,Qe);if(yt)return yt}return null}function Tc(Ge,ut){if(Ge===ut.value)return[ut];for(const Qe of ut.children){const yt=Tc(Ge,Qe);if(yt.length)return yt.unshift(ut),yt}return[]}class Js{constructor(ut,Qe){this.value=ut,this.children=Qe}toString(){return`TreeNode(${this.value})`}}function wa(Ge){const ut={};return Ge&&Ge.children.forEach(Qe=>ut[Qe.value.outlet]=Qe),ut}class fl extends fc{constructor(ut,Qe){super(ut),this.snapshot=Qe,ds(this,ut)}toString(){return this.snapshot.toString()}}function hc(Ge){const ut=function so(Ge){const cn=new Jc([],{},{},"",{},Ve,Ge,null,{});return new Pd("",new Js(cn,[]))}(Ge),Qe=new x.t([new U("",{})]),yt=new x.t({}),Ut=new x.t({}),cn=new x.t({}),Dn=new x.t(""),sr=new ho(Qe,yt,cn,Dn,Ut,Ve,Ge,ut.root);return sr.snapshot=ut.root,new fl(new Js(sr,[]),ut)}class ho{constructor(ut,Qe,yt,Ut,cn,Dn,sr,Gn){this.urlSubject=ut,this.paramsSubject=Qe,this.queryParamsSubject=yt,this.fragmentSubject=Ut,this.dataSubject=cn,this.outlet=Dn,this.component=sr,this._futureSnapshot=Gn,this.title=this.dataSubject?.pipe((0,Z.T)(Wr=>Wr[Se]))??(0,H.of)(void 0),this.url=ut,this.params=Qe,this.queryParams=yt,this.fragment=Ut,this.data=cn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Z.T)(ut=>Ue(ut))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Z.T)(ut=>Ue(ut))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wo(Ge,ut,Qe="emptyOnly"){let yt;const{routeConfig:Ut}=Ge;return yt=null===ut||"always"!==Qe&&""!==Ut?.path&&(ut.component||ut.routeConfig?.loadComponent)?{params:{...Ge.params},data:{...Ge.data},resolve:{...Ge.data,...Ge._resolvedData??{}}}:{params:{...ut.params,...Ge.params},data:{...ut.data,...Ge.data},resolve:{...Ge.data,...ut.data,...Ut?.data,...Ge._resolvedData}},Ut&&Ol(Ut)&&(yt.resolve[Se]=Ut.title),yt}class Jc{get title(){return this.data?.[Se]}constructor(ut,Qe,yt,Ut,cn,Dn,sr,Gn,Wr){this.url=ut,this.params=Qe,this.queryParams=yt,this.fragment=Ut,this.data=cn,this.outlet=Dn,this.component=sr,this.routeConfig=Gn,this._resolve=Wr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ue(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ue(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(yt=>yt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pd extends fc{constructor(ut,Qe){super(Qe),this.url=ut,ds(this,Qe)}toString(){return Dc(this._root)}}function ds(Ge,ut){ut.value._routerState=Ge,ut.children.forEach(Qe=>ds(Ge,Qe))}function Dc(Ge){const ut=Ge.children.length>0?` { ${Ge.children.map(Dc).join(", ")} } `:"";return`${Ge.value}${ut}`}function qc(Ge){if(Ge.snapshot){const ut=Ge.snapshot,Qe=Ge._futureSnapshot;Ge.snapshot=Qe,pe(ut.queryParams,Qe.queryParams)||Ge.queryParamsSubject.next(Qe.queryParams),ut.fragment!==Qe.fragment&&Ge.fragmentSubject.next(Qe.fragment),pe(ut.params,Qe.params)||Ge.paramsSubject.next(Qe.params),function De(Ge,ut){if(Ge.length!==ut.length)return!1;for(let Qe=0;Qe<Ge.length;++Qe)if(!pe(Ge[Qe],ut[Qe]))return!1;return!0}(ut.url,Qe.url)||Ge.urlSubject.next(Qe.url),pe(ut.data,Qe.data)||Ge.dataSubject.next(Qe.data)}else Ge.snapshot=Ge._futureSnapshot,Ge.dataSubject.next(Ge._futureSnapshot.data)}function ru(Ge,ut){const Qe=pe(Ge.params,ut.params)&&function ne(Ge,ut){return ge(Ge,ut)&&Ge.every((Qe,yt)=>pe(Qe.parameters,ut[yt].parameters))}(Ge.url,ut.url);return Qe&&!(!Ge.parent!=!ut.parent)&&(!Ge.parent||ru(Ge.parent,ut.parent))}function Ol(Ge){return"string"==typeof Ge.title||null===Ge.title}let oc=(()=>{class Ge{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ve,this.activateEvents=new f.bkB,this.deactivateEvents=new f.bkB,this.attachEvents=new f.bkB,this.detachEvents=new f.bkB,this.parentContexts=(0,f.WQX)(ul),this.location=(0,f.WQX)(f.c1b),this.changeDetector=(0,f.WQX)(f.gRc),this.inputBinder=(0,f.WQX)(Br,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Qe){if(Qe.name){const{firstChange:yt,previousValue:Ut}=Qe.name;if(yt)return;this.isTrackedInParentContexts(Ut)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ut)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Qe){return this.parentContexts.getContext(Qe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Qe=this.parentContexts.getContext(this.name);Qe?.route&&(Qe.attachRef?this.attach(Qe.attachRef,Qe.route):this.activateWith(Qe.route,Qe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.wOt(4012,!1);this.location.detach();const Qe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Qe.instance),Qe}attach(Qe,yt){this.activated=Qe,this._activatedRoute=yt,this.location.insert(Qe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Qe.instance)}deactivate(){if(this.activated){const Qe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Qe)}}activateWith(Qe,yt){if(this.isActivated)throw new f.wOt(4013,!1);this._activatedRoute=Qe;const Ut=this.location,Dn=Qe.snapshot.component,sr=this.parentContexts.getOrCreateContext(this.name).children,Gn=new go(Qe,sr,Ut.injector);this.activated=Ut.createComponent(Dn,{index:Ut.length,injector:Gn,environmentInjector:yt}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275dir=f.FsC({type:Ge,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.OA$]})}return Ge})();class go{__ngOutletInjector(ut){return new go(this.route,this.childContexts,ut)}constructor(ut,Qe,yt){this.route=ut,this.childContexts=Qe,this.parent=yt}get(ut,Qe){return ut===ho?this.route:ut===ul?this.childContexts:this.parent.get(ut,Qe)}}const Br=new f.nKC("");let Ii=(()=>{class Ge{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Qe){this.unsubscribeFromRouteData(Qe),this.subscribeToRouteData(Qe)}unsubscribeFromRouteData(Qe){this.outletDataSubscriptions.get(Qe)?.unsubscribe(),this.outletDataSubscriptions.delete(Qe)}subscribeToRouteData(Qe){const{activatedRoute:yt}=Qe,Ut=(0,P.z)([yt.queryParams,yt.params,yt.data]).pipe((0,ie.n)(([cn,Dn,sr],Gn)=>(sr={...cn,...Dn,...sr},0===Gn?(0,H.of)(sr):Promise.resolve(sr)))).subscribe(cn=>{if(!Qe.isActivated||!Qe.activatedComponentRef||Qe.activatedRoute!==yt||null===yt.component)return void this.unsubscribeFromRouteData(Qe);const Dn=(0,f.HJs)(yt.component);if(Dn)for(const{templateName:sr}of Dn.inputs)Qe.activatedComponentRef.setInput(sr,cn[sr]);else this.unsubscribeFromRouteData(Qe)});this.outletDataSubscriptions.set(Qe,Ut)}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function Po(Ge,ut,Qe){if(Qe&&Ge.shouldReuseRoute(ut.value,Qe.value.snapshot)){const yt=Qe.value;yt._futureSnapshot=ut.value;const Ut=function qs(Ge,ut,Qe){return ut.children.map(yt=>{for(const Ut of Qe.children)if(Ge.shouldReuseRoute(yt.value,Ut.value.snapshot))return Po(Ge,yt,Ut);return Po(Ge,yt)})}(Ge,ut,Qe);return new Js(yt,Ut)}{if(Ge.shouldAttach(ut.value)){const cn=Ge.retrieve(ut.value);if(null!==cn){const Dn=cn.route;return Dn.value._futureSnapshot=ut.value,Dn.children=ut.children.map(sr=>Po(Ge,sr)),Dn}}const yt=function bs(Ge){return new ho(new x.t(Ge.url),new x.t(Ge.params),new x.t(Ge.queryParams),new x.t(Ge.fragment),new x.t(Ge.data),Ge.outlet,Ge.component,Ge)}(ut.value),Ut=ut.children.map(cn=>Po(Ge,cn));return new Js(yt,Ut)}}class hl{constructor(ut,Qe){this.redirectTo=ut,this.navigationBehaviorOptions=Qe}}const qi="ngNavigationCancelingError";function on(Ge,ut){const{redirectTo:Qe,navigationBehaviorOptions:yt}=En(ut)?{redirectTo:ut,navigationBehaviorOptions:void 0}:ut,Ut=Yn(!1,zr.Redirect);return Ut.url=Qe,Ut.navigationBehaviorOptions=yt,Ut}function Yn(Ge,ut){const Qe=new Error(`NavigationCancelingError: ${Ge||""}`);return Qe[qi]=!0,Qe.cancellationCode=ut,Qe}function an(Ge){return!!Ge&&Ge[qi]}class Er{constructor(ut,Qe,yt,Ut,cn){this.routeReuseStrategy=ut,this.futureState=Qe,this.currState=yt,this.forwardEvent=Ut,this.inputBindingEnabled=cn}activate(ut){const Qe=this.futureState._root,yt=this.currState?this.currState._root:null;this.deactivateChildRoutes(Qe,yt,ut),qc(this.futureState.root),this.activateChildRoutes(Qe,yt,ut)}deactivateChildRoutes(ut,Qe,yt){const Ut=wa(Qe);ut.children.forEach(cn=>{const Dn=cn.value.outlet;this.deactivateRoutes(cn,Ut[Dn],yt),delete Ut[Dn]}),Object.values(Ut).forEach(cn=>{this.deactivateRouteAndItsChildren(cn,yt)})}deactivateRoutes(ut,Qe,yt){const Ut=ut.value,cn=Qe?Qe.value:null;if(Ut===cn)if(Ut.component){const Dn=yt.getContext(Ut.outlet);Dn&&this.deactivateChildRoutes(ut,Qe,Dn.children)}else this.deactivateChildRoutes(ut,Qe,yt);else cn&&this.deactivateRouteAndItsChildren(Qe,yt)}deactivateRouteAndItsChildren(ut,Qe){ut.value.component&&this.routeReuseStrategy.shouldDetach(ut.value.snapshot)?this.detachAndStoreRouteSubtree(ut,Qe):this.deactivateRouteAndOutlet(ut,Qe)}detachAndStoreRouteSubtree(ut,Qe){const yt=Qe.getContext(ut.value.outlet),Ut=yt&&ut.value.component?yt.children:Qe,cn=wa(ut);for(const Dn of Object.values(cn))this.deactivateRouteAndItsChildren(Dn,Ut);if(yt&&yt.outlet){const Dn=yt.outlet.detach(),sr=yt.children.onOutletDeactivated();this.routeReuseStrategy.store(ut.value.snapshot,{componentRef:Dn,route:ut,contexts:sr})}}deactivateRouteAndOutlet(ut,Qe){const yt=Qe.getContext(ut.value.outlet),Ut=yt&&ut.value.component?yt.children:Qe,cn=wa(ut);for(const Dn of Object.values(cn))this.deactivateRouteAndItsChildren(Dn,Ut);yt&&(yt.outlet&&(yt.outlet.deactivate(),yt.children.onOutletDeactivated()),yt.attachRef=null,yt.route=null)}activateChildRoutes(ut,Qe,yt){const Ut=wa(Qe);ut.children.forEach(cn=>{this.activateRoutes(cn,Ut[cn.value.outlet],yt),this.forwardEvent(new To(cn.value.snapshot))}),ut.children.length&&this.forwardEvent(new os(ut.value.snapshot))}activateRoutes(ut,Qe,yt){const Ut=ut.value,cn=Qe?Qe.value:null;if(qc(Ut),Ut===cn)if(Ut.component){const Dn=yt.getOrCreateContext(Ut.outlet);this.activateChildRoutes(ut,Qe,Dn.children)}else this.activateChildRoutes(ut,Qe,yt);else if(Ut.component){const Dn=yt.getOrCreateContext(Ut.outlet);if(this.routeReuseStrategy.shouldAttach(Ut.snapshot)){const sr=this.routeReuseStrategy.retrieve(Ut.snapshot);this.routeReuseStrategy.store(Ut.snapshot,null),Dn.children.onOutletReAttached(sr.contexts),Dn.attachRef=sr.componentRef,Dn.route=sr.route.value,Dn.outlet&&Dn.outlet.attach(sr.componentRef,sr.route.value),qc(sr.route.value),this.activateChildRoutes(ut,null,Dn.children)}else Dn.attachRef=null,Dn.route=Ut,Dn.outlet&&Dn.outlet.activateWith(Ut,Dn.injector),this.activateChildRoutes(ut,null,Dn.children)}else this.activateChildRoutes(ut,null,yt)}}class Zr{constructor(ut){this.path=ut,this.route=this.path[this.path.length-1]}}class ao{constructor(ut,Qe){this.component=ut,this.route=Qe}}function Bo(Ge,ut,Qe){const yt=Ge._root;return So(yt,ut?ut._root:null,Qe,[yt.value])}function Na(Ge,ut){const Qe=Symbol(),yt=ut.get(Ge,Qe);return yt===Qe?"function"!=typeof Ge||(0,f.LfX)(Ge)?ut.get(Ge):Ge:yt}function So(Ge,ut,Qe,yt,Ut={canDeactivateChecks:[],canActivateChecks:[]}){const cn=wa(ut);return Ge.children.forEach(Dn=>{(function Bd(Ge,ut,Qe,yt,Ut={canDeactivateChecks:[],canActivateChecks:[]}){const cn=Ge.value,Dn=ut?ut.value:null,sr=Qe?Qe.getContext(Ge.value.outlet):null;if(Dn&&cn.routeConfig===Dn.routeConfig){const Gn=function vf(Ge,ut,Qe){if("function"==typeof Qe)return Qe(Ge,ut);switch(Qe){case"pathParamsChange":return!ge(Ge.url,ut.url);case"pathParamsOrQueryParamsChange":return!ge(Ge.url,ut.url)||!pe(Ge.queryParams,ut.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ru(Ge,ut)||!pe(Ge.queryParams,ut.queryParams);default:return!ru(Ge,ut)}}(Dn,cn,cn.routeConfig.runGuardsAndResolvers);Gn?Ut.canActivateChecks.push(new Zr(yt)):(cn.data=Dn.data,cn._resolvedData=Dn._resolvedData),So(Ge,ut,cn.component?sr?sr.children:null:Qe,yt,Ut),Gn&&sr&&sr.outlet&&sr.outlet.isActivated&&Ut.canDeactivateChecks.push(new ao(sr.outlet.component,Dn))}else Dn&&Nd(ut,sr,Ut),Ut.canActivateChecks.push(new Zr(yt)),So(Ge,null,cn.component?sr?sr.children:null:Qe,yt,Ut)})(Dn,cn[Dn.value.outlet],Qe,yt.concat([Dn.value]),Ut),delete cn[Dn.value.outlet]}),Object.entries(cn).forEach(([Dn,sr])=>Nd(sr,Qe.getContext(Dn),Ut)),Ut}function Nd(Ge,ut,Qe){const yt=wa(Ge),Ut=Ge.value;Object.entries(yt).forEach(([cn,Dn])=>{Nd(Dn,Ut.component?ut?ut.children.getContext(cn):null:ut,Qe)}),Qe.canDeactivateChecks.push(new ao(Ut.component&&ut&&ut.outlet&&ut.outlet.isActivated?ut.outlet.component:null,Ut))}function ad(Ge){return"function"==typeof Ge}function Ya(Ge){return Ge instanceof O||"EmptyError"===Ge?.name}const Bl=Symbol("INITIAL_VALUE");function Ot(){return(0,ie.n)(Ge=>(0,P.z)(Ge.map(ut=>ut.pipe((0,ae.s)(1),(0,se.Z)(Bl)))).pipe((0,Z.T)(ut=>{for(const Qe of ut)if(!0!==Qe){if(Qe===Bl)return Bl;if(!1===Qe||jt(Qe))return Qe}return!0}),(0,de.p)(ut=>ut!==Bl),(0,ae.s)(1)))}function jt(Ge){return En(Ge)||Ge instanceof hl}function Om(Ge){return(0,D.F)((0,S.M)(ut=>{if("boolean"!=typeof ut)throw on(0,ut)}),(0,Z.T)(ut=>!0===ut))}class La{constructor(ut){this.segmentGroup=ut||null}}class Fo extends Error{constructor(ut){super(),this.urlTree=ut}}function Qc(Ge){return(0,X.$)(new La(Ge))}class pl{constructor(ut,Qe){this.urlSerializer=ut,this.urlTree=Qe}lineralizeSegments(ut,Qe){let yt=[],Ut=Qe.root;for(;;){if(yt=yt.concat(Ut.segments),0===Ut.numberOfChildren)return(0,H.of)(yt);if(Ut.numberOfChildren>1||!Ut.children[Ve])return(0,X.$)(new f.wOt(4e3,!1));Ut=Ut.children[Ve]}}applyRedirectCommands(ut,Qe,yt,Ut,cn){if("string"!=typeof Qe){const sr=Qe,{queryParams:Gn,fragment:Wr,routeConfig:Fi,url:lo,outlet:gi,params:Us,data:ws,title:ja}=Ut,Pi=(0,f.N4e)(cn,()=>sr({params:Us,data:ws,queryParams:Gn,fragment:Wr,routeConfig:Fi,url:lo,outlet:gi,title:ja}));if(Pi instanceof w)throw new Fo(Pi);Qe=Pi}const Dn=this.applyRedirectCreateUrlTree(Qe,this.urlSerializer.parse(Qe),ut,yt);if("/"===Qe[0])throw new Fo(Dn);return Dn}applyRedirectCreateUrlTree(ut,Qe,yt,Ut){const cn=this.createSegmentGroup(ut,Qe.root,yt,Ut);return new w(cn,this.createQueryParams(Qe.queryParams,this.urlTree.queryParams),Qe.fragment)}createQueryParams(ut,Qe){const yt={};return Object.entries(ut).forEach(([Ut,cn])=>{if("string"==typeof cn&&":"===cn[0]){const sr=cn.substring(1);yt[Ut]=Qe[sr]}else yt[Ut]=cn}),yt}createSegmentGroup(ut,Qe,yt,Ut){const cn=this.createSegments(ut,Qe.segments,yt,Ut);let Dn={};return Object.entries(Qe.children).forEach(([sr,Gn])=>{Dn[sr]=this.createSegmentGroup(ut,Gn,yt,Ut)}),new m(cn,Dn)}createSegments(ut,Qe,yt,Ut){return Qe.map(cn=>":"===cn.path[0]?this.findPosParam(ut,cn,Ut):this.findOrReturn(cn,yt))}findPosParam(ut,Qe,yt){const Ut=yt[Qe.path.substring(1)];if(!Ut)throw new f.wOt(4001,!1);return Ut}findOrReturn(ut,Qe){let yt=0;for(const Ut of Qe){if(Ut.path===ut.path)return Qe.splice(yt),Ut;yt++}return ut}}const pc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ou(Ge,ut,Qe,yt,Ut){const cn=Nl(Ge,ut,Qe);return cn.matched?(yt=function ll(Ge,ut){return Ge.providers&&!Ge._injector&&(Ge._injector=(0,f.Ol2)(Ge.providers,ut,`Route: ${Ge.path}`)),Ge._injector??ut}(ut,yt),function zh(Ge,ut,Qe,yt){const Ut=ut.canMatch;if(!Ut||0===Ut.length)return(0,H.of)(!0);const cn=Ut.map(Dn=>{const sr=Na(Dn,Ge);return fe(function wf(Ge){return Ge&&ad(Ge.canMatch)}(sr)?sr.canMatch(ut,Qe):(0,f.N4e)(Ge,()=>sr(ut,Qe)))});return(0,H.of)(cn).pipe(Ot(),Om())}(yt,ut,Qe).pipe((0,Z.T)(Dn=>!0===Dn?cn:{...pc}))):(0,H.of)(cn)}function Nl(Ge,ut,Qe){if("**"===ut.path)return function Tu(Ge){return{matched:!0,parameters:Ge.length>0?oe(Ge).parameters:{},consumedSegments:Ge,remainingSegments:[],positionalParamSegments:{}}}(Qe);if(""===ut.path)return"full"===ut.pathMatch&&(Ge.hasChildren()||Qe.length>0)?{...pc}:{matched:!0,consumedSegments:[],remainingSegments:Qe,parameters:{},positionalParamSegments:{}};const Ut=(ut.matcher||ye)(Qe,Ge,ut);if(!Ut)return{...pc};const cn={};Object.entries(Ut.posParams??{}).forEach(([sr,Gn])=>{cn[sr]=Gn.path});const Dn=Ut.consumed.length>0?{...cn,...Ut.consumed[Ut.consumed.length-1].parameters}:cn;return{matched:!0,consumedSegments:Ut.consumed,remainingSegments:Qe.slice(Ut.consumed.length),parameters:Dn,positionalParamSegments:Ut.posParams??{}}}function ud(Ge,ut,Qe,yt){return Qe.length>0&&function Ta(Ge,ut,Qe){return Qe.some(yt=>Ic(Ge,ut,yt)&&ba(yt)!==Ve)}(Ge,Qe,yt)?{segmentGroup:new m(ut,zi(yt,new m(Qe,Ge.children))),slicedSegments:[]}:0===Qe.length&&function _f(Ge,ut,Qe){return Qe.some(yt=>Ic(Ge,ut,yt))}(Ge,Qe,yt)?{segmentGroup:new m(Ge.segments,Du(Ge,Qe,yt,Ge.children)),slicedSegments:Qe}:{segmentGroup:new m(Ge.segments,Ge.children),slicedSegments:Qe}}function Du(Ge,ut,Qe,yt){const Ut={};for(const cn of Qe)if(Ic(Ge,ut,cn)&&!yt[ba(cn)]){const Dn=new m([],{});Ut[ba(cn)]=Dn}return{...yt,...Ut}}function zi(Ge,ut){const Qe={};Qe[Ve]=ut;for(const yt of Ge)if(""===yt.path&&ba(yt)!==Ve){const Ut=new m([],{});Qe[ba(yt)]=Ut}return Qe}function Ic(Ge,ut,Qe){return(!(Ge.hasChildren()||ut.length>0)||"full"!==Qe.pathMatch)&&""===Qe.path}class Bp{}class Np{constructor(ut,Qe,yt,Ut,cn,Dn,sr){this.injector=ut,this.configLoader=Qe,this.rootComponentType=yt,this.config=Ut,this.urlTree=cn,this.paramsInheritanceStrategy=Dn,this.urlSerializer=sr,this.applyRedirects=new pl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ut){return new f.wOt(4002,`'${ut.segmentGroup}'`)}recognize(){const ut=ud(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ut).pipe((0,Z.T)(({children:Qe,rootSnapshot:yt})=>{const Ut=new Js(yt,Qe),cn=new Pd("",Ut),Dn=function kn(Ge,ut,Qe=null,yt=null){return Jn(Or(Ge),ut,Qe,yt)}(yt,[],this.urlTree.queryParams,this.urlTree.fragment);return Dn.queryParams=this.urlTree.queryParams,cn.url=this.urlSerializer.serialize(Dn),{state:cn,tree:Dn}}))}match(ut){const Qe=new Jc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,ut,Ve,Qe).pipe((0,Z.T)(yt=>({children:yt,rootSnapshot:Qe})),(0,T.W)(yt=>{if(yt instanceof Fo)return this.urlTree=yt.urlTree,this.match(yt.urlTree.root);throw yt instanceof La?this.noMatchError(yt):yt}))}processSegmentGroup(ut,Qe,yt,Ut,cn){return 0===yt.segments.length&&yt.hasChildren()?this.processChildren(ut,Qe,yt,cn):this.processSegment(ut,Qe,yt,yt.segments,Ut,!0,cn).pipe((0,Z.T)(Dn=>Dn instanceof Js?[Dn]:[]))}processChildren(ut,Qe,yt,Ut){const cn=[];for(const Dn of Object.keys(yt.children))"primary"===Dn?cn.unshift(Dn):cn.push(Dn);return(0,k.H)(cn).pipe((0,g.H)(Dn=>{const sr=yt.children[Dn],Gn=function ic(Ge,ut){const Qe=Ge.filter(yt=>ba(yt)===ut);return Qe.push(...Ge.filter(yt=>ba(yt)!==ut)),Qe}(Qe,Dn);return this.processSegmentGroup(ut,Gn,sr,Dn,Ut)}),function A(Ge,ut){return(0,we.N)(function N(Ge,ut,Qe,yt,Ut){return(cn,Dn)=>{let sr=Qe,Gn=ut,Wr=0;cn.subscribe((0,xe._)(Dn,Fi=>{const lo=Wr++;Gn=sr?Ge(Gn,Fi,lo):(sr=!0,Fi),yt&&Dn.next(Gn)},Ut&&(()=>{sr&&Dn.next(Gn),Dn.complete()})))}}(Ge,ut,arguments.length>=2,!0))}((Dn,sr)=>(Dn.push(...sr),Dn)),Ce(null),function v(Ge,ut){const Qe=arguments.length>=2;return yt=>yt.pipe(Ge?(0,de.p)((Ut,cn)=>Ge(Ut,cn,yt)):u.D,s(1),Qe?Ce(ut):C(()=>new O))}(),(0,le.Z)(Dn=>{if(null===Dn)return Qc(yt);const sr=Qs(Dn);return function sv(Ge){Ge.sort((ut,Qe)=>ut.value.outlet===Ve?-1:Qe.value.outlet===Ve?1:ut.value.outlet.localeCompare(Qe.value.outlet))}(sr),(0,H.of)(sr)}))}processSegment(ut,Qe,yt,Ut,cn,Dn,sr){return(0,k.H)(Qe).pipe((0,g.H)(Gn=>this.processSegmentAgainstRoute(Gn._injector??ut,Qe,Gn,yt,Ut,cn,Dn,sr).pipe((0,T.W)(Wr=>{if(Wr instanceof La)return(0,H.of)(null);throw Wr}))),y(Gn=>!!Gn),(0,T.W)(Gn=>{if(Ya(Gn))return function Ld(Ge,ut,Qe){return 0===ut.length&&!Ge.children[Qe]}(yt,Ut,cn)?(0,H.of)(new Bp):Qc(yt);throw Gn}))}processSegmentAgainstRoute(ut,Qe,yt,Ut,cn,Dn,sr,Gn){return function su(Ge,ut,Qe,yt){return!!(ba(Ge)===yt||yt!==Ve&&Ic(ut,Qe,Ge))&&Nl(ut,Ge,Qe).matched}(yt,Ut,cn,Dn)?void 0===yt.redirectTo?this.matchSegmentAgainstRoute(ut,Ut,yt,cn,Dn,Gn):this.allowRedirects&&sr?this.expandSegmentAgainstRouteUsingRedirect(ut,Ut,Qe,yt,cn,Dn,Gn):Qc(Ut):Qc(Ut)}expandSegmentAgainstRouteUsingRedirect(ut,Qe,yt,Ut,cn,Dn,sr){const{matched:Gn,parameters:Wr,consumedSegments:Fi,positionalParamSegments:lo,remainingSegments:gi}=Nl(Qe,Ut,cn);if(!Gn)return Qc(Qe);"string"==typeof Ut.redirectTo&&"/"===Ut.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Us=new Jc(cn,Wr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cu(Ut),ba(Ut),Ut.component??Ut._loadedComponent??null,Ut,xf(Ut)),ws=wo(Us,sr,this.paramsInheritanceStrategy);Us.params=Object.freeze(ws.params),Us.data=Object.freeze(ws.data);const ja=this.applyRedirects.applyRedirectCommands(Fi,Ut.redirectTo,lo,Us,ut);return this.applyRedirects.lineralizeSegments(Ut,ja).pipe((0,le.Z)(Pi=>this.processSegment(ut,yt,Qe,Pi.concat(gi),Dn,!1,sr)))}matchSegmentAgainstRoute(ut,Qe,yt,Ut,cn,Dn){const sr=ou(Qe,yt,Ut,ut);return"**"===yt.path&&(Qe.children={}),sr.pipe((0,ie.n)(Gn=>Gn.matched?this.getChildConfig(ut=yt._injector??ut,yt,Ut).pipe((0,ie.n)(({routes:Wr})=>{const Fi=yt._loadedInjector??ut,{parameters:lo,consumedSegments:gi,remainingSegments:Us}=Gn,ws=new Jc(gi,lo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cu(yt),ba(yt),yt.component??yt._loadedComponent??null,yt,xf(yt)),ja=wo(ws,Dn,this.paramsInheritanceStrategy);ws.params=Object.freeze(ja.params),ws.data=Object.freeze(ja.data);const{segmentGroup:Pi,slicedSegments:zs}=ud(Qe,gi,Us,Wr);if(0===zs.length&&Pi.hasChildren())return this.processChildren(Fi,Wr,Pi,ws).pipe((0,Z.T)(Lp=>new Js(ws,Lp)));if(0===Wr.length&&0===zs.length)return(0,H.of)(new Js(ws,[]));const Lw=ba(yt)===cn;return this.processSegment(Fi,Wr,Pi,zs,Lw?Ve:cn,!0,ws).pipe((0,Z.T)(Lp=>new Js(ws,Lp instanceof Js?[Lp]:[])))})):Qc(Qe)))}getChildConfig(ut,Qe,yt){return Qe.children?(0,H.of)({routes:Qe.children,injector:ut}):Qe.loadChildren?void 0!==Qe._loadedRoutes?(0,H.of)({routes:Qe._loadedRoutes,injector:Qe._loadedInjector}):function ld(Ge,ut,Qe,yt){const Ut=ut.canLoad;if(void 0===Ut||0===Ut.length)return(0,H.of)(!0);const cn=Ut.map(Dn=>{const sr=Na(Dn,Ge);return fe(function Pl(Ge){return Ge&&ad(Ge.canLoad)}(sr)?sr.canLoad(ut,Qe):(0,f.N4e)(Ge,()=>sr(ut,Qe)))});return(0,H.of)(cn).pipe(Ot(),Om())}(ut,Qe,yt).pipe((0,le.Z)(Ut=>Ut?this.configLoader.loadChildren(ut,Qe).pipe((0,S.M)(cn=>{Qe._loadedRoutes=cn.routes,Qe._loadedInjector=cn.injector})):function iu(Ge){return(0,X.$)(Yn(!1,zr.GuardRejected))}())):(0,H.of)({routes:[],injector:ut})}}function Ef(Ge){const ut=Ge.value.routeConfig;return ut&&""===ut.path}function Qs(Ge){const ut=[],Qe=new Set;for(const yt of Ge){if(!Ef(yt)){ut.push(yt);continue}const Ut=ut.find(cn=>yt.value.routeConfig===cn.value.routeConfig);void 0!==Ut?(Ut.children.push(...yt.children),Qe.add(Ut)):ut.push(yt)}for(const yt of Qe){const Ut=Qs(yt.children);ut.push(new Js(yt.value,Ut))}return ut.filter(yt=>!Qe.has(yt))}function Cu(Ge){return Ge.data||{}}function xf(Ge){return Ge.resolve||{}}function Ru(Ge){const ut=Ge.children.map(Qe=>Ru(Qe)).flat();return[Ge,...ut]}function Ua(Ge){return(0,ie.n)(ut=>{const Qe=Ge(ut);return Qe?(0,k.H)(Qe).pipe((0,Z.T)(()=>ut)):(0,H.of)(ut)})}let sh=(()=>{class Ge{buildTitle(Qe){let yt,Ut=Qe.root;for(;void 0!==Ut;)yt=this.getResolvedTitleForRoute(Ut)??yt,Ut=Ut.children.find(cn=>cn.outlet===Ve);return yt}getResolvedTitleForRoute(Qe){return Qe.data[Se]}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:()=>(0,f.WQX)(mc),providedIn:"root"})}return Ge})(),mc=(()=>{class Ge extends sh{constructor(Qe){super(),this.title=Qe}updateTitle(Qe){const yt=this.buildTitle(Qe);void 0!==yt&&this.title.setTitle(yt)}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(f.KVO(Oe.hE))};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const Ll=new f.nKC("",{providedIn:"root",factory:()=>({})});let Ou=(()=>{class Ge{static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275cmp=f.VBU({type:Ge,selectors:[["ng-component"]],standalone:!0,features:[f.aNF],decls:1,vars:0,template:function(yt,Ut){1&yt&&f.nrm(0,"router-outlet")},dependencies:[oc],encapsulation:2})}return Ge})();function to(Ge){const ut=Ge.children&&Ge.children.map(to),Qe=ut?{...Ge,children:ut}:{...Ge};return!Qe.component&&!Qe.loadComponent&&(ut||Qe.loadChildren)&&Qe.outlet&&Qe.outlet!==Ve&&(Qe.component=Ou),Qe}const ml=new f.nKC("");let Cc=(()=>{class Ge{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.WQX)(f.Ql9)}loadComponent(Qe){if(this.componentLoaders.get(Qe))return this.componentLoaders.get(Qe);if(Qe._loadedComponent)return(0,H.of)(Qe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Qe);const yt=fe(Qe.loadComponent()).pipe((0,Z.T)(Ul),(0,S.M)(cn=>{this.onLoadEndListener&&this.onLoadEndListener(Qe),Qe._loadedComponent=cn}),(0,K.j)(()=>{this.componentLoaders.delete(Qe)})),Ut=new G.G(yt,()=>new re.B).pipe((0,ee.B)());return this.componentLoaders.set(Qe,Ut),Ut}loadChildren(Qe,yt){if(this.childrenLoaders.get(yt))return this.childrenLoaders.get(yt);if(yt._loadedRoutes)return(0,H.of)({routes:yt._loadedRoutes,injector:yt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(yt);const cn=function Lo(Ge,ut,Qe,yt){return fe(Ge.loadChildren()).pipe((0,Z.T)(Ul),(0,le.Z)(Ut=>Ut instanceof f.Co$||Array.isArray(Ut)?(0,H.of)(Ut):(0,k.H)(ut.compileModuleAsync(Ut))),(0,Z.T)(Ut=>{yt&&yt(Ge);let cn,Dn,sr=!1;return Array.isArray(Ut)?(Dn=Ut,!0):(cn=Ut.create(Qe).injector,Dn=cn.get(ml,[],{optional:!0,self:!0}).flat()),{routes:Dn.map(to),injector:cn}}))}(yt,this.compiler,Qe,this.onLoadEndListener).pipe((0,K.j)(()=>{this.childrenLoaders.delete(yt)})),Dn=new G.G(cn,()=>new re.B).pipe((0,ee.B)());return this.childrenLoaders.set(yt,Dn),Dn}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function Ul(Ge){return function Ud(Ge){return Ge&&"object"==typeof Ge&&"default"in Ge}(Ge)?Ge.default:Ge}let Mf=(()=>{class Ge{static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:()=>(0,f.WQX)(ah),providedIn:"root"})}return Ge})(),ah=(()=>{class Ge{shouldProcessUrl(Qe){return!0}extract(Qe){return Qe}merge(Qe,yt){return Qe}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const ch=new f.nKC(""),st=new f.nKC("");function Jt(Ge,ut,Qe){const yt=Ge.get(st),Ut=Ge.get(J.qQ);return Ge.get(f.SKi).runOutsideAngular(()=>{if(!Ut.startViewTransition||yt.skipNextTransition)return yt.skipNextTransition=!1,new Promise(Wr=>setTimeout(Wr));let cn;const Dn=new Promise(Wr=>{cn=Wr}),sr=Ut.startViewTransition(()=>(cn(),function Tt(Ge){return new Promise(ut=>{(0,f.mal)({read:()=>setTimeout(ut)},{injector:Ge})})}(Ge))),{onViewTransitionCreated:Gn}=yt;return Gn&&(0,f.N4e)(Ge,()=>Gn({transition:sr,from:ut,to:Qe})),Dn})}const Kt=new f.nKC("");let Mn=(()=>{class Ge{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re.B,this.transitionAbortSubject=new re.B,this.configLoader=(0,f.WQX)(Cc),this.environmentInjector=(0,f.WQX)(f.uvJ),this.urlSerializer=(0,f.WQX)(tt),this.rootContexts=(0,f.WQX)(ul),this.location=(0,f.WQX)(J.aZ),this.inputBindingEnabled=null!==(0,f.WQX)(Br,{optional:!0}),this.titleStrategy=(0,f.WQX)(sh),this.options=(0,f.WQX)(Ll,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,f.WQX)(Mf),this.createViewTransition=(0,f.WQX)(ch,{optional:!0}),this.navigationErrorHandler=(0,f.WQX)(Kt,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,H.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ut=>this.events.next(new la(Ut)),this.configLoader.onLoadStartListener=Ut=>this.events.next(new Ui(Ut))}complete(){this.transitions?.complete()}handleNavigationRequest(Qe){const yt=++this.navigationId;this.transitions?.next({...this.transitions.value,...Qe,id:yt})}setupNavigations(Qe,yt,Ut){return this.transitions=new x.t({id:0,currentUrlTree:yt,currentRawUrl:yt,extractedUrl:this.urlHandlingStrategy.extract(yt),urlAfterRedirects:this.urlHandlingStrategy.extract(yt),rawUrl:yt,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Tn,restoredState:null,currentSnapshot:Ut.snapshot,targetSnapshot:null,currentRouterState:Ut,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,de.p)(cn=>0!==cn.id),(0,Z.T)(cn=>({...cn,extractedUrl:this.urlHandlingStrategy.extract(cn.rawUrl)})),(0,ie.n)(cn=>{let Dn=!1,sr=!1;return(0,H.of)(cn).pipe((0,ie.n)(Gn=>{if(this.navigationId>cn.id)return this.cancelNavigationTransition(cn,"",zr.SupersededByNewNavigation),j.w;this.currentTransition=cn,this.currentNavigation={id:Gn.id,initialUrl:Gn.rawUrl,extractedUrl:Gn.extractedUrl,targetBrowserUrl:"string"==typeof Gn.extras.browserUrl?this.urlSerializer.parse(Gn.extras.browserUrl):Gn.extras.browserUrl,trigger:Gn.source,extras:Gn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Wr=!Qe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Wr&&"reload"!==(Gn.extras.onSameUrlNavigation??Qe.onSameUrlNavigation)){const lo="";return this.events.next(new Ao(Gn.id,this.urlSerializer.serialize(Gn.rawUrl),lo,Kr.IgnoredSameUrlNavigation)),Gn.resolve(!1),j.w}if(this.urlHandlingStrategy.shouldProcessUrl(Gn.rawUrl))return(0,H.of)(Gn).pipe((0,ie.n)(lo=>{const gi=this.transitions?.getValue();return this.events.next(new Ar(lo.id,this.urlSerializer.serialize(lo.extractedUrl),lo.source,lo.restoredState)),gi!==this.transitions?.getValue()?j.w:Promise.resolve(lo)}),function gs(Ge,ut,Qe,yt,Ut,cn){return(0,le.Z)(Dn=>function Hh(Ge,ut,Qe,yt,Ut,cn,Dn="emptyOnly"){return new Np(Ge,ut,Qe,yt,Ut,Dn,cn).recognize()}(Ge,ut,Qe,yt,Dn.extractedUrl,Ut,cn).pipe((0,Z.T)(({state:sr,tree:Gn})=>({...Dn,targetSnapshot:sr,urlAfterRedirects:Gn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Qe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,S.M)(lo=>{cn.targetSnapshot=lo.targetSnapshot,cn.urlAfterRedirects=lo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:lo.urlAfterRedirects};const gi=new Io(lo.id,this.urlSerializer.serialize(lo.extractedUrl),this.urlSerializer.serialize(lo.urlAfterRedirects),lo.targetSnapshot);this.events.next(gi)}));if(Wr&&this.urlHandlingStrategy.shouldProcessUrl(Gn.currentRawUrl)){const{id:lo,extractedUrl:gi,source:Us,restoredState:ws,extras:ja}=Gn,Pi=new Ar(lo,this.urlSerializer.serialize(gi),Us,ws);this.events.next(Pi);const zs=hc(this.rootComponentType).snapshot;return this.currentTransition=cn={...Gn,targetSnapshot:zs,urlAfterRedirects:gi,extras:{...ja,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=gi,(0,H.of)(cn)}{const lo="";return this.events.next(new Ao(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),lo,Kr.IgnoredByUrlHandlingStrategy)),Gn.resolve(!1),j.w}}),(0,S.M)(Gn=>{const Wr=new Co(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects),Gn.targetSnapshot);this.events.next(Wr)}),(0,Z.T)(Gn=>(this.currentTransition=cn={...Gn,guards:Bo(Gn.targetSnapshot,Gn.currentSnapshot,this.rootContexts)},cn)),function wt(Ge,ut){return(0,le.Z)(Qe=>{const{targetSnapshot:yt,currentSnapshot:Ut,guards:{canActivateChecks:cn,canDeactivateChecks:Dn}}=Qe;return 0===Dn.length&&0===cn.length?(0,H.of)({...Qe,guardsResult:!0}):function rn(Ge,ut,Qe,yt){return(0,k.H)(Ge).pipe((0,le.Z)(Ut=>function fa(Ge,ut,Qe,yt,Ut){const cn=ut&&ut.routeConfig?ut.routeConfig.canDeactivate:null;if(!cn||0===cn.length)return(0,H.of)(!0);const Dn=cn.map(sr=>{const Gn=Aa(ut)??Ut,Wr=Na(sr,Gn);return fe(function cd(Ge){return Ge&&ad(Ge.canDeactivate)}(Wr)?Wr.canDeactivate(Ge,ut,Qe,yt):(0,f.N4e)(Gn,()=>Wr(Ge,ut,Qe,yt))).pipe(y())});return(0,H.of)(Dn).pipe(Ot())}(Ut.component,Ut.route,Qe,ut,yt)),y(Ut=>!0!==Ut,!0))}(Dn,yt,Ut,Ge).pipe((0,le.Z)(sr=>sr&&function Mi(Ge){return"boolean"==typeof Ge}(sr)?function Bn(Ge,ut,Qe,yt){return(0,k.H)(ut).pipe((0,g.H)(Ut=>(0,F.x)(function Vi(Ge,ut){return null!==Ge&&ut&&ut(new Si(Ge)),(0,H.of)(!0)}(Ut.route.parent,yt),function ei(Ge,ut){return null!==Ge&&ut&&ut(new Ns(Ge)),(0,H.of)(!0)}(Ut.route,yt),function di(Ge,ut,Qe){const yt=ut[ut.length-1],cn=ut.slice(0,ut.length-1).reverse().map(Dn=>function qr(Ge){const ut=Ge.routeConfig?Ge.routeConfig.canActivateChild:null;return ut&&0!==ut.length?{node:Ge,guards:ut}:null}(Dn)).filter(Dn=>null!==Dn).map(Dn=>(0,L.v)(()=>{const sr=Dn.guards.map(Gn=>{const Wr=Aa(Dn.node)??Qe,Fi=Na(Gn,Wr);return fe(function bf(Ge){return Ge&&ad(Ge.canActivateChild)}(Fi)?Fi.canActivateChild(yt,Ge):(0,f.N4e)(Wr,()=>Fi(yt,Ge))).pipe(y())});return(0,H.of)(sr).pipe(Ot())}));return(0,H.of)(cn).pipe(Ot())}(Ge,Ut.path,Qe),function ys(Ge,ut,Qe){const yt=ut.routeConfig?ut.routeConfig.canActivate:null;if(!yt||0===yt.length)return(0,H.of)(!0);const Ut=yt.map(cn=>(0,L.v)(()=>{const Dn=Aa(ut)??Qe,sr=Na(cn,Dn);return fe(function Za(Ge){return Ge&&ad(Ge.canActivate)}(sr)?sr.canActivate(ut,Ge):(0,f.N4e)(Dn,()=>sr(ut,Ge))).pipe(y())}));return(0,H.of)(Ut).pipe(Ot())}(Ge,Ut.route,Qe))),y(Ut=>!0!==Ut,!0))}(yt,cn,Ge,ut):(0,H.of)(sr)),(0,Z.T)(sr=>({...Qe,guardsResult:sr})))})}(this.environmentInjector,Gn=>this.events.next(Gn)),(0,S.M)(Gn=>{if(cn.guardsResult=Gn.guardsResult,Gn.guardsResult&&"boolean"!=typeof Gn.guardsResult)throw on(0,Gn.guardsResult);const Wr=new is(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects),Gn.targetSnapshot,!!Gn.guardsResult);this.events.next(Wr)}),(0,de.p)(Gn=>!!Gn.guardsResult||(this.cancelNavigationTransition(Gn,"",zr.GuardRejected),!1)),Ua(Gn=>{if(Gn.guards.canActivateChecks.length)return(0,H.of)(Gn).pipe((0,S.M)(Wr=>{const Fi=new ji(Wr.id,this.urlSerializer.serialize(Wr.extractedUrl),this.urlSerializer.serialize(Wr.urlAfterRedirects),Wr.targetSnapshot);this.events.next(Fi)}),(0,ie.n)(Wr=>{let Fi=!1;return(0,H.of)(Wr).pipe(function ku(Ge,ut){return(0,le.Z)(Qe=>{const{targetSnapshot:yt,guards:{canActivateChecks:Ut}}=Qe;if(!Ut.length)return(0,H.of)(Qe);const cn=new Set(Ut.map(Gn=>Gn.route)),Dn=new Set;for(const Gn of cn)if(!Dn.has(Gn))for(const Wr of Ru(Gn))Dn.add(Wr);let sr=0;return(0,k.H)(Dn).pipe((0,g.H)(Gn=>cn.has(Gn)?function Ji(Ge,ut,Qe,yt){const Ut=Ge.routeConfig,cn=Ge._resolve;return void 0!==Ut?.title&&!Ol(Ut)&&(cn[Se]=Ut.title),function Hi(Ge,ut,Qe,yt){const Ut=ue(Ge);if(0===Ut.length)return(0,H.of)({});const cn={};return(0,k.H)(Ut).pipe((0,le.Z)(Dn=>function Sf(Ge,ut,Qe,yt){const Ut=Aa(ut)??yt,cn=Na(Ge,Ut);return fe(cn.resolve?cn.resolve(ut,Qe):(0,f.N4e)(Ut,()=>cn(ut,Qe)))}(Ge[Dn],ut,Qe,yt).pipe(y(),(0,S.M)(sr=>{if(sr instanceof hl)throw on(new Bt,sr);cn[Dn]=sr}))),s(1),(0,W.u)(cn),(0,T.W)(Dn=>Ya(Dn)?j.w:(0,X.$)(Dn)))}(cn,Ge,ut,yt).pipe((0,Z.T)(Dn=>(Ge._resolvedData=Dn,Ge.data=wo(Ge,Ge.parent,Qe).resolve,null)))}(Gn,yt,Ge,ut):(Gn.data=wo(Gn,Gn.parent,Ge).resolve,(0,H.of)(void 0))),(0,S.M)(()=>sr++),s(1),(0,le.Z)(Gn=>sr===Dn.size?(0,H.of)(Qe):j.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,S.M)({next:()=>Fi=!0,complete:()=>{Fi||this.cancelNavigationTransition(Wr,"",zr.NoDataFromResolver)}}))}),(0,S.M)(Wr=>{const Fi=new pi(Wr.id,this.urlSerializer.serialize(Wr.extractedUrl),this.urlSerializer.serialize(Wr.urlAfterRedirects),Wr.targetSnapshot);this.events.next(Fi)}))}),Ua(Gn=>{const Wr=Fi=>{const lo=[];Fi.routeConfig?.loadComponent&&!Fi.routeConfig._loadedComponent&&lo.push(this.configLoader.loadComponent(Fi.routeConfig).pipe((0,S.M)(gi=>{Fi.component=gi}),(0,Z.T)(()=>{})));for(const gi of Fi.children)lo.push(...Wr(gi));return lo};return(0,P.z)(Wr(Gn.targetSnapshot.root)).pipe(Ce(null),(0,ae.s)(1))}),Ua(()=>this.afterPreactivation()),(0,ie.n)(()=>{const{currentSnapshot:Gn,targetSnapshot:Wr}=cn,Fi=this.createViewTransition?.(this.environmentInjector,Gn.root,Wr.root);return Fi?(0,k.H)(Fi).pipe((0,Z.T)(()=>cn)):(0,H.of)(cn)}),(0,Z.T)(Gn=>{const Wr=function Ls(Ge,ut,Qe){const yt=Po(Ge,ut._root,Qe?Qe._root:void 0);return new fl(yt,ut)}(Qe.routeReuseStrategy,Gn.targetSnapshot,Gn.currentRouterState);return this.currentTransition=cn={...Gn,targetRouterState:Wr},this.currentNavigation.targetRouterState=Wr,cn}),(0,S.M)(()=>{this.events.next(new ps)}),((Ge,ut,Qe,yt)=>(0,Z.T)(Ut=>(new Er(ut,Ut.targetRouterState,Ut.currentRouterState,Qe,yt).activate(Ge),Ut)))(this.rootContexts,Qe.routeReuseStrategy,Gn=>this.events.next(Gn),this.inputBindingEnabled),(0,ae.s)(1),(0,S.M)({next:Gn=>{Dn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xr(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Gn.targetRouterState.snapshot),Gn.resolve(!0)},complete:()=>{Dn=!0}}),(0,ce.Q)(this.transitionAbortSubject.pipe((0,S.M)(Gn=>{throw Gn}))),(0,K.j)(()=>{!Dn&&!sr&&this.cancelNavigationTransition(cn,"",zr.SupersededByNewNavigation),this.currentTransition?.id===cn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,T.W)(Gn=>{if(sr=!0,an(Gn))this.events.next(new oi(cn.id,this.urlSerializer.serialize(cn.extractedUrl),Gn.message,Gn.cancellationCode)),function Rt(Ge){return an(Ge)&&En(Ge.url)}(Gn)?this.events.next(new da(Gn.url,Gn.navigationBehaviorOptions)):cn.resolve(!1);else{const Wr=new wi(cn.id,this.urlSerializer.serialize(cn.extractedUrl),Gn,cn.targetSnapshot??void 0);try{const Fi=(0,f.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Wr));if(Fi instanceof hl){const{message:lo,cancellationCode:gi}=on(0,Fi);this.events.next(new oi(cn.id,this.urlSerializer.serialize(cn.extractedUrl),lo,gi)),this.events.next(new da(Fi.redirectTo,Fi.navigationBehaviorOptions))}else{this.events.next(Wr);const lo=Qe.errorHandler(Gn);cn.resolve(!!lo)}}catch(Fi){this.options.resolveNavigationPromiseOnError?cn.resolve(!1):cn.reject(Fi)}}return j.w}))}))}cancelNavigationTransition(Qe,yt,Ut){const cn=new oi(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),yt,Ut);this.events.next(cn),Qe.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const Qe=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),yt=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return Qe.toString()!==yt?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function nr(Ge){return Ge!==Tn}let br=(()=>{class Ge{static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:()=>(0,f.WQX)(Es),providedIn:"root"})}return Ge})();class Jr{shouldDetach(ut){return!1}store(ut,Qe){}shouldAttach(ut){return!1}retrieve(ut){return null}shouldReuseRoute(ut,Qe){return ut.routeConfig===Qe.routeConfig}}let Es=(()=>{class Ge extends Jr{static#e=this.\u0275fac=(()=>{let Qe;return function(Ut){return(Qe||(Qe=f.xGo(Ge)))(Ut||Ge)}})();static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Ki=(()=>{class Ge{static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:()=>(0,f.WQX)(Wo),providedIn:"root"})}return Ge})(),Wo=(()=>{class Ge extends Ki{constructor(){super(...arguments),this.location=(0,f.WQX)(J.aZ),this.urlSerializer=(0,f.WQX)(tt),this.options=(0,f.WQX)(Ll,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,f.WQX)(Mf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new w,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(Qe){return this.location.subscribe(yt=>{"popstate"===yt.type&&Qe(yt.url,yt.state)})}handleRouterEvent(Qe,yt){if(Qe instanceof Ar)this.stateMemento=this.createStateMemento();else if(Qe instanceof Ao)this.rawUrlTree=yt.initialUrl;else if(Qe instanceof Io){if("eager"===this.urlUpdateStrategy&&!yt.extras.skipLocationChange){const Ut=this.urlHandlingStrategy.merge(yt.finalUrl,yt.initialUrl);this.setBrowserUrl(yt.targetBrowserUrl??Ut,yt)}}else Qe instanceof ps?(this.currentUrlTree=yt.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(yt.finalUrl,yt.initialUrl),this.routerState=yt.targetRouterState,"deferred"===this.urlUpdateStrategy&&!yt.extras.skipLocationChange&&this.setBrowserUrl(yt.targetBrowserUrl??this.rawUrlTree,yt)):Qe instanceof oi&&(Qe.code===zr.GuardRejected||Qe.code===zr.NoDataFromResolver)?this.restoreHistory(yt):Qe instanceof wi?this.restoreHistory(yt,!0):Qe instanceof xr&&(this.lastSuccessfulId=Qe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(Qe,yt){const Ut=Qe instanceof w?this.urlSerializer.serialize(Qe):Qe;if(this.location.isCurrentPathEqualTo(Ut)||yt.extras.replaceUrl){const Dn={...yt.extras.state,...this.generateNgRouterState(yt.id,this.browserPageId)};this.location.replaceState(Ut,"",Dn)}else{const cn={...yt.extras.state,...this.generateNgRouterState(yt.id,this.browserPageId+1)};this.location.go(Ut,"",cn)}}restoreHistory(Qe,yt=!1){if("computed"===this.canceledNavigationResolution){const cn=this.currentPageId-this.browserPageId;0!==cn?this.location.historyGo(cn):this.currentUrlTree===Qe.finalUrl&&0===cn&&(this.resetState(Qe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(yt&&this.resetState(Qe),this.resetUrlToCurrentUrlTree())}resetState(Qe){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Qe.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Qe,yt){return"computed"===this.canceledNavigationResolution?{navigationId:Qe,\u0275routerPageId:yt}:{navigationId:Qe}}static#e=this.\u0275fac=(()=>{let Qe;return function(Ut){return(Qe||(Qe=f.xGo(Ge)))(Ut||Ge)}})();static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();var Cr=function(Ge){return Ge[Ge.COMPLETE=0]="COMPLETE",Ge[Ge.FAILED=1]="FAILED",Ge[Ge.REDIRECTING=2]="REDIRECTING",Ge}(Cr||{});function Jo(Ge,ut){Ge.events.pipe((0,de.p)(Qe=>Qe instanceof xr||Qe instanceof oi||Qe instanceof wi||Qe instanceof Ao),(0,Z.T)(Qe=>Qe instanceof xr||Qe instanceof Ao?Cr.COMPLETE:Qe instanceof oi&&(Qe.code===zr.Redirect||Qe.code===zr.SupersededByNewNavigation)?Cr.REDIRECTING:Cr.FAILED),(0,de.p)(Qe=>Qe!==Cr.REDIRECTING),(0,ae.s)(1)).subscribe(()=>{ut()})}function ko(Ge){throw Ge}const xs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ss=(()=>{class Ge{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,f.WQX)(f.H3F),this.stateManager=(0,f.WQX)(Ki),this.options=(0,f.WQX)(Ll,{optional:!0})||{},this.pendingTasks=(0,f.WQX)(f.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,f.WQX)(Mn),this.urlSerializer=(0,f.WQX)(tt),this.location=(0,f.WQX)(J.aZ),this.urlHandlingStrategy=(0,f.WQX)(Mf),this._events=new re.B,this.errorHandler=this.options.errorHandler||ko,this.navigated=!1,this.routeReuseStrategy=(0,f.WQX)(br),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,f.WQX)(ml,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,f.WQX)(Br,{optional:!0}),this.eventsSubscription=new te.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Qe=>{this.console.warn(Qe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const Qe=this.navigationTransitions.events.subscribe(yt=>{try{const Ut=this.navigationTransitions.currentTransition,cn=this.navigationTransitions.currentNavigation;if(null!==Ut&&null!==cn)if(this.stateManager.handleRouterEvent(yt,cn),yt instanceof oi&&yt.code!==zr.Redirect&&yt.code!==zr.SupersededByNewNavigation)this.navigated=!0;else if(yt instanceof xr)this.navigated=!0;else if(yt instanceof da){const Dn=yt.navigationBehaviorOptions,sr=this.urlHandlingStrategy.merge(yt.url,Ut.currentRawUrl),Gn={browserUrl:Ut.extras.browserUrl,info:Ut.extras.info,skipLocationChange:Ut.extras.skipLocationChange,replaceUrl:Ut.extras.replaceUrl||"eager"===this.urlUpdateStrategy||nr(Ut.source),...Dn};this.scheduleNavigation(sr,Tn,null,Gn,{resolve:Ut.resolve,reject:Ut.reject,promise:Ut.promise})}(function _a(Ge){return!(Ge instanceof ps||Ge instanceof da)})(yt)&&this._events.next(yt)}catch(Ut){this.navigationTransitions.transitionAbortSubject.next(Ut)}});this.eventsSubscription.add(Qe)}resetRootComponentType(Qe){this.routerState.root.component=Qe,this.navigationTransitions.rootComponentType=Qe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((Qe,yt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Qe,"popstate",yt)},0)})}navigateToSyncWithBrowser(Qe,yt,Ut){const cn={replaceUrl:!0},Dn=Ut?.navigationId?Ut:null;if(Ut){const Gn={...Ut};delete Gn.navigationId,delete Gn.\u0275routerPageId,0!==Object.keys(Gn).length&&(cn.state=Gn)}const sr=this.parseUrl(Qe);this.scheduleNavigation(sr,yt,Dn,cn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Qe){this.config=Qe.map(to),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(Qe,yt={}){const{relativeTo:Ut,queryParams:cn,fragment:Dn,queryParamsHandling:sr,preserveFragment:Gn}=yt,Wr=Gn?this.currentUrlTree.fragment:Dn;let lo,Fi=null;switch(sr){case"merge":Fi={...this.currentUrlTree.queryParams,...cn};break;case"preserve":Fi=this.currentUrlTree.queryParams;break;default:Fi=cn||null}null!==Fi&&(Fi=this.removeEmptyProps(Fi));try{lo=Or(Ut?Ut.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Qe[0]||"/"!==Qe[0][0])&&(Qe=[]),lo=this.currentUrlTree.root}return Jn(lo,Qe,Fi,Wr??null)}navigateByUrl(Qe,yt={skipLocationChange:!1}){const Ut=En(Qe)?Qe:this.parseUrl(Qe),cn=this.urlHandlingStrategy.merge(Ut,this.rawUrlTree);return this.scheduleNavigation(cn,Tn,null,yt)}navigate(Qe,yt={skipLocationChange:!1}){return function fd(Ge){for(let ut=0;ut<Ge.length;ut++)if(null==Ge[ut])throw new f.wOt(4008,!1)}(Qe),this.navigateByUrl(this.createUrlTree(Qe,yt),yt)}serializeUrl(Qe){return this.urlSerializer.serialize(Qe)}parseUrl(Qe){try{return this.urlSerializer.parse(Qe)}catch{return this.urlSerializer.parse("/")}}isActive(Qe,yt){let Ut;if(Ut=!0===yt?{...xs}:!1===yt?{...yl}:yt,En(Qe))return $e(this.currentUrlTree,Qe,Ut);const cn=this.parseUrl(Qe);return $e(this.currentUrlTree,cn,Ut)}removeEmptyProps(Qe){return Object.entries(Qe).reduce((yt,[Ut,cn])=>(null!=cn&&(yt[Ut]=cn),yt),{})}scheduleNavigation(Qe,yt,Ut,cn,Dn){if(this.disposed)return Promise.resolve(!1);let sr,Gn,Wr;Dn?(sr=Dn.resolve,Gn=Dn.reject,Wr=Dn.promise):Wr=new Promise((lo,gi)=>{sr=lo,Gn=gi});const Fi=this.pendingTasks.add();return Jo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Fi))}),this.navigationTransitions.handleNavigationRequest({source:yt,restoredState:Ut,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Qe,extras:cn,resolve:sr,reject:Gn,promise:Wr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wr.catch(lo=>Promise.reject(lo))}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Fa=(()=>{class Ge{constructor(Qe,yt,Ut,cn,Dn,sr){this.router=Qe,this.route=yt,this.tabIndexAttribute=Ut,this.renderer=cn,this.el=Dn,this.locationStrategy=sr,this.href=null,this.onChanges=new re.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Gn=Dn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Gn||"area"===Gn,this.isAnchorElement?this.subscription=Qe.events.subscribe(Wr=>{Wr instanceof xr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Qe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Qe)}ngOnChanges(Qe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Qe){null==Qe?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=En(Qe)||Array.isArray(Qe)?Qe:[Qe],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Qe,yt,Ut,cn,Dn){const sr=this.urlTree;return!!(null===sr||this.isAnchorElement&&(0!==Qe||yt||Ut||cn||Dn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(sr,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Qe=this.urlTree;this.href=null!==Qe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Qe)):null;const yt=null===this.href?null:(0,f.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",yt)}applyAttributeValue(Qe,yt){const Ut=this.renderer,cn=this.el.nativeElement;null!==yt?Ut.setAttribute(cn,Qe,yt):Ut.removeAttribute(cn,Qe)}get urlTree(){return null===this.routerLinkInput?null:En(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(f.rXU(Ss),f.rXU(ho),f.kS0("tabindex"),f.rXU(f.sFG),f.rXU(f.aKT),f.rXU(J.hb))};static#t=this.\u0275dir=f.FsC({type:Ge,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(yt,Ut){1&yt&&f.bIt("click",function(Dn){return Ut.onClick(Dn.button,Dn.ctrlKey,Dn.shiftKey,Dn.altKey,Dn.metaKey)}),2&yt&&f.BMQ("target",Ut.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",f.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",f.L39],replaceUrl:[2,"replaceUrl","replaceUrl",f.L39],routerLink:"routerLink"},standalone:!0,features:[f.GFd,f.OA$]})}return Ge})(),kc=(()=>{class Ge{get isActive(){return this._isActive}constructor(Qe,yt,Ut,cn,Dn){this.router=Qe,this.element=yt,this.renderer=Ut,this.cdr=cn,this.link=Dn,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.bkB,this.routerEventsSubscription=Qe.events.subscribe(sr=>{sr instanceof xr&&this.update()})}ngAfterContentInit(){(0,H.of)(this.links.changes,(0,H.of)(null)).pipe((0,_e.U)()).subscribe(Qe=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Qe=[...this.links.toArray(),this.link].filter(yt=>!!yt).map(yt=>yt.onChanges);this.linkInputChangesSubscription=(0,k.H)(Qe).pipe((0,_e.U)()).subscribe(yt=>{this._isActive!==this.isLinkActive(this.router)(yt)&&this.update()})}set routerLinkActive(Qe){const yt=Array.isArray(Qe)?Qe:Qe.split(" ");this.classes=yt.filter(Ut=>!!Ut)}ngOnChanges(Qe){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Qe=this.hasActiveLinks();this.classes.forEach(yt=>{Qe?this.renderer.addClass(this.element.nativeElement,yt):this.renderer.removeClass(this.element.nativeElement,yt)}),Qe&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==Qe&&(this._isActive=Qe,this.cdr.markForCheck(),this.isActiveChange.emit(Qe))})}isLinkActive(Qe){const yt=function gl(Ge){return!!Ge.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Ut=>{const cn=Ut.urlTree;return!!cn&&Qe.isActive(cn,yt)}}hasActiveLinks(){const Qe=this.isLinkActive(this.router);return this.link&&Qe(this.link)||this.links.some(Qe)}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(f.rXU(Ss),f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(f.gRc),f.rXU(Fa,8))};static#t=this.\u0275dir=f.FsC({type:Ge,selectors:[["","routerLinkActive",""]],contentQueries:function(yt,Ut,cn){if(1&yt&&f.wni(cn,Fa,5),2&yt){let Dn;f.mGM(Dn=f.lsd())&&(Ut.links=Dn)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.OA$]})}return Ge})();class vl{}let Pu=(()=>{class Ge{preload(Qe,yt){return yt().pipe((0,T.W)(()=>(0,H.of)(null)))}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),yc=(()=>{class Ge{constructor(Qe,yt,Ut,cn,Dn){this.router=Qe,this.injector=Ut,this.preloadingStrategy=cn,this.loader=Dn}setUpPreloading(){this.subscription=this.router.events.pipe((0,de.p)(Qe=>Qe instanceof xr),(0,g.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Qe,yt){const Ut=[];for(const cn of yt){cn.providers&&!cn._injector&&(cn._injector=(0,f.Ol2)(cn.providers,Qe,`Route: ${cn.path}`));const Dn=cn._injector??Qe,sr=cn._loadedInjector??Dn;(cn.loadChildren&&!cn._loadedRoutes&&void 0===cn.canLoad||cn.loadComponent&&!cn._loadedComponent)&&Ut.push(this.preloadConfig(Dn,cn)),(cn.children||cn._loadedRoutes)&&Ut.push(this.processRoutes(sr,cn.children??cn._loadedRoutes))}return(0,k.H)(Ut).pipe((0,_e.U)())}preloadConfig(Qe,yt){return this.preloadingStrategy.preload(yt,()=>{let Ut;Ut=yt.loadChildren&&void 0===yt.canLoad?this.loader.loadChildren(Qe,yt):(0,H.of)(null);const cn=Ut.pipe((0,le.Z)(Dn=>null===Dn?(0,H.of)(void 0):(yt._loadedRoutes=Dn.routes,yt._loadedInjector=Dn.injector,this.processRoutes(Dn.injector??Qe,Dn.routes))));if(yt.loadComponent&&!yt._loadedComponent){const Dn=this.loader.loadComponent(yt);return(0,k.H)([cn,Dn]).pipe((0,_e.U)())}return cn})}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(f.KVO(Ss),f.KVO(f.Ql9),f.KVO(f.uvJ),f.KVO(vl),f.KVO(Cc))};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const Fd=new f.nKC("");let Af=(()=>{class Ge{constructor(Qe,yt,Ut,cn,Dn={}){this.urlSerializer=Qe,this.transitions=yt,this.viewportScroller=Ut,this.zone=cn,this.options=Dn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Dn.scrollPositionRestoration||="disabled",Dn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Qe=>{Qe instanceof Ar?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Qe.navigationTrigger,this.restoredId=Qe.restoredState?Qe.restoredState.navigationId:0):Qe instanceof xr?(this.lastId=Qe.id,this.scheduleScrollEvent(Qe,this.urlSerializer.parse(Qe.urlAfterRedirects).fragment)):Qe instanceof Ao&&Qe.code===Kr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Qe,this.urlSerializer.parse(Qe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Qe=>{Qe instanceof $i&&(Qe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Qe.position):Qe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Qe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Qe,yt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $i(Qe,"popstate"===this.lastSource?this.store[this.restoredId]:null,yt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(yt){f.QTQ()};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function mt(Ge,...ut){return(0,f.EmA)([{provide:ml,multi:!0,useValue:Ge},[],{provide:ho,useFactory:it,deps:[Ss]},{provide:f.iLQ,multi:!0,useFactory:zn},ut.map(Qe=>Qe.\u0275providers)])}function it(Ge){return Ge.routerState.root}function Je(Ge,ut){return{\u0275kind:Ge,\u0275providers:ut}}function zn(){const Ge=(0,f.WQX)(f.zZn);return ut=>{const Qe=Ge.get(f.o8S);if(ut!==Qe.components[0])return;const yt=Ge.get(Ss),Ut=Ge.get(or);1===Ge.get(ur)&&yt.initialNavigation(),Ge.get(Me,null,f.$GK.Optional)?.setUpPreloading(),Ge.get(Fd,null,f.$GK.Optional)?.init(),yt.resetRootComponentType(Qe.componentTypes[0]),Ut.closed||(Ut.next(),Ut.complete(),Ut.unsubscribe())}}const or=new f.nKC("",{factory:()=>new re.B}),ur=new f.nKC("",{providedIn:"root",factory:()=>1}),Me=new f.nKC("");function me(Ge){return Je(0,[{provide:Me,useExisting:yc},{provide:vl,useExisting:Ge}])}function Vt(Ge){return Je(9,[{provide:ch,useValue:Jt},{provide:st,useValue:{skipNextTransition:!!Ge?.skipInitialTransition,...Ge}}])}const Xt=new f.nKC("ROUTER_FORROOT_GUARD"),bt=[J.aZ,{provide:tt,useClass:Bt},Ss,ul,{provide:ho,useFactory:it,deps:[Ss]},Cc,[]];let sn=(()=>{class Ge{constructor(Qe){}static forRoot(Qe,yt){return{ngModule:Ge,providers:[bt,[],{provide:ml,multi:!0,useValue:Qe},{provide:Xt,useFactory:hi,deps:[[Ss,new f.Xx1,new f.kdw]]},{provide:Ll,useValue:yt||{}},yt?.useHash?{provide:J.hb,useClass:J.fw}:{provide:J.hb,useClass:J.Sm},{provide:Fd,useFactory:()=>{const Ge=(0,f.WQX)(J.Xr),ut=(0,f.WQX)(f.SKi),Qe=(0,f.WQX)(Ll),yt=(0,f.WQX)(Mn),Ut=(0,f.WQX)(tt);return Qe.scrollOffset&&Ge.setOffset(Qe.scrollOffset),new Af(Ut,yt,Ge,ut,Qe)}},yt?.preloadingStrategy?me(yt.preloadingStrategy).\u0275providers:[],yt?.initialNavigation?Oi(yt):[],yt?.bindToComponentInputs?Je(8,[Ii,{provide:Br,useExisting:Ii}]).\u0275providers:[],yt?.enableViewTransitions?Vt().\u0275providers:[],[{provide:zo,useFactory:zn},{provide:f.iLQ,multi:!0,useExisting:zo}]]}}static forChild(Qe){return{ngModule:Ge,providers:[{provide:ml,multi:!0,useValue:Qe}]}}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(f.KVO(Xt,8))};static#t=this.\u0275mod=f.$C({type:Ge});static#n=this.\u0275inj=f.G2t({})}return Ge})();function hi(Ge){return"guarded"}function Oi(Ge){return["disabled"===Ge.initialNavigation?Je(3,[{provide:f.hnV,multi:!0,useFactory:()=>{const ut=(0,f.WQX)(Ss);return()=>{ut.setUpLocationChangeListener()}}},{provide:ur,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ge.initialNavigation?Je(2,[{provide:ur,useValue:0},{provide:f.hnV,multi:!0,deps:[f.zZn],useFactory:ut=>{const Qe=ut.get(J.hj,Promise.resolve());return()=>Qe.then(()=>new Promise(yt=>{const Ut=ut.get(Ss),cn=ut.get(or);Jo(Ut,()=>{yt(!0)}),ut.get(Mn).afterPreactivation=()=>(yt(!0),cn.closed?(0,H.of)(void 0):cn),Ut.initialNavigation()}))}}]).\u0275providers:[]]}const zo=new f.nKC("")},52039:(je,z,E)=>{"use strict";E.d(z,{oU:()=>en,Q2:()=>ar});class _ extends Error{constructor(nt,Ht){super(`${nt}: ${Ht}`),this.code=nt,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class D{constructor(nt,Ht,Nt){this.name=nt,this.prefix=Ht,this.baseEncode=Nt}encode(nt){if(nt instanceof Uint8Array)return`${this.prefix}${this.baseEncode(nt)}`;throw Error("Unknown type, must be binary type")}}class X{constructor(nt,Ht,Nt){if(this.name=nt,this.prefix=Ht,void 0===Ht.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Ht.codePointAt(0),this.baseDecode=Nt}decode(nt){if("string"==typeof nt){if(nt.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(nt)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(nt.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(nt){return G(this,nt)}}class j{constructor(nt){this.decoders=nt}or(nt){return G(this,nt)}decode(nt){const Nt=this.decoders[nt[0]];if(Nt)return Nt.decode(nt);throw RangeError(`Unable to decode multibase string ${JSON.stringify(nt)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const G=(Ye,nt)=>new j({...Ye.decoders||{[Ye.prefix]:Ye},...nt.decoders||{[nt.prefix]:nt}});class re{constructor(nt,Ht,Nt,un){this.name=nt,this.prefix=Ht,this.baseEncode=Nt,this.baseDecode=un,this.encoder=new D(nt,Ht,Nt),this.decoder=new X(nt,Ht,un)}encode(nt){return this.encoder.encode(nt)}decode(nt){return this.decoder.decode(nt)}}const ae=({name:Ye,prefix:nt,bitsPerChar:Ht,alphabet:Nt})=>(({name:Ye,prefix:nt,encode:Ht,decode:Nt})=>new re(Ye,nt,Ht,Nt))({prefix:nt,name:Ye,encode:un=>((Ye,nt,Ht)=>{const Nt="="===nt[nt.length-1],un=(1<<Ht)-1;let Wn="",En=0,kn=0;for(let Or=0;Or<Ye.length;++Or)for(kn=kn<<8|Ye[Or],En+=8;En>Ht;)En-=Ht,Wn+=nt[un&kn>>En];if(En&&(Wn+=nt[un&kn<<Ht-En]),Nt)for(;Wn.length*Ht&7;)Wn+="=";return Wn})(un,Nt,Ht),decode:un=>((Ye,nt,Ht,Nt)=>{const un={};for(let Fn=0;Fn<nt.length;++Fn)un[nt[Fn]]=Fn;let Wn=Ye.length;for(;"="===Ye[Wn-1];)--Wn;const En=new Uint8Array(Wn*Ht/8|0);let kn=0,Or=0,Jn=0;for(let Fn=0;Fn<Wn;++Fn){const Lt=un[Ye[Fn]];if(void 0===Lt)throw new SyntaxError(`Non-${Nt} character`);Or=Or<<Ht|Lt,kn+=Ht,kn>=8&&(kn-=8,En[Jn++]=255&Or>>kn)}if(kn>=Ht||255&Or<<8-kn)throw new SyntaxError("Unexpected end of data");return En})(un,Nt,Ht,Ye)}),le=(ae({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ae({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ae({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));ae({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class xe{static encode(nt){return le.baseEncode(nt)}static decodeAsBytes(nt,Ht){if(!xe.isBase64UrlString(nt))throw new _("EncodedStringIncorrectEncoding",`Given ${Ht} must be base64url string.`);return le.baseDecode(nt)}static decodeAsString(nt,Ht){const Nt=xe.decodeAsBytes(nt,Ht);return xe.bytesToString(Nt)}static isBase64UrlString(nt){return/^[A-Za-z0-9_-]+$/.test(nt)}static stringToBytes(nt){return(new TextEncoder).encode(nt)}static bytesToString(nt){return(new TextDecoder).decode(nt)}}var Ce=E(95568),C=function(Ye){return Ye.Public="public",Ye.Private="private",Ye}(C||{});const a=C;class u{static validateEs256kOperationKey(nt,Ht){const Nt=new Set(["kty","crv","x","y"]);Ht===a.Private&&Nt.add("d");for(const un in nt)if(!Nt.has(un))throw new _("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${un}'.`);if("secp256k1"!==nt.crv)throw new _("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${nt.crv}.'`);if("EC"!==nt.kty)throw new _("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${nt.kty}.'`);if(43!==nt.x.length)throw new _("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==nt.y.length)throw new _("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(Ht===a.Private&&(void 0===nt.d||43!==nt.d.length))throw new _("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(nt){if(nt.length>50)throw new _("IdTooLong",`Key ID length ${nt.length} exceed max allowed length of 50.`);if(!xe.isBase64UrlString(nt))throw new _("IdNotUsingBase64UrlCharacterSet",`Key ID '${nt}' is not a Base64URL string.`)}static validatePublicKeyPurposes(nt){if(void 0===nt)return;const Ht=new Set;for(const Nt of nt){if(Ht.has(Nt))throw new _("PublicKeyPurposeDuplicated",`Public key purpose '${Nt}' already specified.`);Ht.add(Nt)}}}const g=(()=>{class Ye{}return Ye.hashAlgorithmInMultihashCode=18,Ye.maxCanonicalizedDeltaSizeInBytes=1e3,Ye})();var S=E(28846);class T{static canonicalizeAsBytes(nt){const Ht=T.removeAllUndefinedProperties(nt),Nt=S(Ht);return xe.stringToBytes(Nt)}static removeAllUndefinedProperties(nt){for(const Ht in nt)"object"==typeof nt[Ht]?T.removeAllUndefinedProperties(nt[Ht]):void 0===nt[Ht]&&delete nt[Ht];return nt}}var A=128,v=-128,W=Math.pow(2,31),ce=128,_e=127,Ve=Math.pow(2,7),Se=Math.pow(2,14),be=Math.pow(2,21),Ue=Math.pow(2,28),ye=Math.pow(2,35),De=Math.pow(2,42),pe=Math.pow(2,49),ue=Math.pow(2,56),Q=Math.pow(2,63);const Re={encode:function K(Ye,nt,Ht){nt=nt||[];for(var Nt=Ht=Ht||0;Ye>=W;)nt[Ht++]=255&Ye|A,Ye/=128;for(;Ye&v;)nt[Ht++]=255&Ye|A,Ye>>>=7;return nt[Ht]=0|Ye,K.bytes=Ht-Nt+1,nt},decode:function Oe(Ye,Nt){var En,Ht=0,un=0,Wn=Nt=Nt||0,kn=Ye.length;do{if(Wn>=kn)throw Oe.bytes=0,new RangeError("Could not decode varint");En=Ye[Wn++],Ht+=un<28?(En&_e)<<un:(En&_e)*Math.pow(2,un),un+=7}while(En>=ce);return Oe.bytes=Wn-Nt,Ht},encodingLength:function(Ye){return Ye<Ve?1:Ye<Se?2:Ye<be?3:Ye<Ue?4:Ye<ye?5:Ye<De?6:Ye<pe?7:Ye<ue?8:Ye<Q?9:10}},$e=(Ye,nt=0)=>[Re.decode(Ye,nt),Re.decode.bytes],Fe=(Ye,nt,Ht=0)=>(Re.encode(Ye,nt,Ht),nt),Et=Ye=>Re.encodingLength(Ye),We=(Ye,nt)=>{const Ht=nt.byteLength,Nt=Et(Ye),un=Nt+Et(Ht),Wn=new Uint8Array(un+Ht);return Fe(Ye,Wn,0),Fe(Ht,Wn,Nt),Wn.set(nt,un),new B(Ye,Ht,nt,Wn)};class B{constructor(nt,Ht,Nt,un){this.code=nt,this.size=Ht,this.digest=Nt,this.bytes=un}}var w=E(10467);const m=({name:Ye,code:nt,encode:Ht})=>new U(Ye,nt,Ht);class U{constructor(nt,Ht,Nt){this.name=nt,this.code=Ht,this.encode=Nt}digest(nt){if(nt instanceof Uint8Array){const Ht=this.encode(nt);return Ht instanceof Uint8Array?We(this.code,Ht):Ht.then(Nt=>We(this.code,Nt))}throw Error("Unknown type, must be binary type")}}const ne=Ye=>function(){var nt=(0,w.A)(function*(Ht){return new Uint8Array(yield crypto.subtle.digest(Ye,Ht))});return function(Ht){return nt.apply(this,arguments)}}(),ge=m({name:"sha2-256",code:18,encode:ne("SHA-256")});m({name:"sha2-512",code:19,encode:ne("SHA-512")});var tt=function(Ye,nt,Ht,Nt){return new(Ht||(Ht=Promise))(function(Wn,En){function kn(Fn){try{Jn(Nt.next(Fn))}catch(Lt){En(Lt)}}function Or(Fn){try{Jn(Nt.throw(Fn))}catch(Lt){En(Lt)}}function Jn(Fn){Fn.done?Wn(Fn.value):function un(Wn){return Wn instanceof Ht?Wn:new Ht(function(En){En(Wn)})}(Fn.value).then(kn,Or)}Jn((Nt=Nt.apply(Ye,nt||[])).next())})};class Bt{static hash(nt,Ht){return tt(this,void 0,void 0,function*(){let Nt;if(18!==Ht)throw new _("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Ht} is not supported.`);return Nt=(yield ge.digest(nt)).bytes,Nt})}static hashAsNonMultihashBytes(nt,Ht){return tt(this,void 0,void 0,function*(){let Nt;if(18!==Ht)throw new _("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Ht} is not supported.`);return Nt=yield ge.encode(nt),Nt})}static canonicalizeThenHashThenEncode(nt,Ht){return tt(this,void 0,void 0,function*(){const Nt=T.canonicalizeAsBytes(nt);return yield Bt.hashThenEncode(Nt,Ht)})}static canonicalizeThenDoubleHashThenEncode(nt,Ht){return tt(this,void 0,void 0,function*(){const Nt=T.canonicalizeAsBytes(nt),un=yield Bt.hashAsNonMultihashBytes(Nt,Ht);return yield Bt.hashThenEncode(un,Ht)})}static hashThenEncode(nt,Ht){return tt(this,void 0,void 0,function*(){const Nt=yield Bt.hash(nt,Ht);return xe.encode(Nt)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(nt,Ht){let Nt;const un=xe.decodeAsBytes(nt,Ht);try{Nt=(Ye=>{const nt=(Ye=>{if(Ye instanceof Uint8Array&&"Uint8Array"===Ye.constructor.name)return Ye;if(Ye instanceof ArrayBuffer)return new Uint8Array(Ye);if(ArrayBuffer.isView(Ye))return new Uint8Array(Ye.buffer,Ye.byteOffset,Ye.byteLength);throw new Error("Unknown type, must be binary type")})(Ye),[Ht,Nt]=$e(nt),[un,Wn]=$e(nt.subarray(Nt)),En=nt.subarray(Nt+Wn);if(En.byteLength!==un)throw new Error("Incorrect length");return new B(Ht,un,En,nt)})(un)}catch{throw new _("MultihashStringNotAMultihash",`Given ${Ht} string '${nt}' is not a multihash after decoding.`)}const Wn=g.hashAlgorithmInMultihashCode;if(Wn!==Nt.code)throw new _("MultihashUnsupportedHashAlgorithm",`Given ${Ht} uses unsupported multihash algorithm with code ${Nt.code}, should use ${Wn} or change IonSdkConfig to desired hashing algorithm.`)}}var vt=function(Ye){return Ye.Create="create",Ye.Update="update",Ye.Deactivate="deactivate",Ye.Recover="recover",Ye}(vt||{});const It=vt;var Gt=function(Ye){return Ye.Replace="replace",Ye.AddPublicKeys="add-public-keys",Ye.RemovePublicKeys="remove-public-keys",Ye.AddServices="add-services",Ye.RemoveServices="remove-services",Ye}(Gt||{});const hn=Gt;var dn=function(Ye,nt,Ht,Nt){return new(Ht||(Ht=Promise))(function(Wn,En){function kn(Fn){try{Jn(Nt.next(Fn))}catch(Lt){En(Lt)}}function Or(Fn){try{Jn(Nt.throw(Fn))}catch(Lt){En(Lt)}}function Jn(Fn){Fn.done?Wn(Fn.value):function un(Wn){return Wn instanceof Ht?Wn:new Ht(function(En){En(Wn)})}(Fn.value).then(kn,Or)}Jn((Nt=Nt.apply(Ye,nt||[])).next())})};class ar{static createCreateRequest(nt){return dn(this,void 0,void 0,function*(){const Ht=nt.recoveryKey,Nt=nt.updateKey,un=nt.document.publicKeys,Wn=nt.document.services;u.validateEs256kOperationKey(Ht,a.Public),u.validateEs256kOperationKey(Nt,a.Public),ar.validateDidDocumentKeys(un),ar.validateServices(Wn);const En=g.hashAlgorithmInMultihashCode,kn=[{action:hn.Replace,document:nt.document}],Or={updateCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(Nt,En),patches:kn};ar.validateDeltaSize(Or);const Fn={deltaHash:yield Bt.canonicalizeThenHashThenEncode(Or,En),recoveryCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(Ht,En)};return{type:It.Create,suffixData:Fn,delta:Or}})}static createDeactivateRequest(nt){return dn(this,void 0,void 0,function*(){ar.validateDidSuffix(nt.didSuffix),u.validateEs256kOperationKey(nt.recoveryPublicKey,a.Public);const Ht=g.hashAlgorithmInMultihashCode,Nt=yield Bt.canonicalizeThenHashThenEncode(nt.recoveryPublicKey,Ht),un={didSuffix:nt.didSuffix,recoveryKey:nt.recoveryPublicKey},Wn=yield nt.signer.sign({alg:"ES256K"},un);return{type:It.Deactivate,didSuffix:nt.didSuffix,revealValue:Nt,signedData:Wn}})}static createRecoverRequest(nt){return dn(this,void 0,void 0,function*(){ar.validateDidSuffix(nt.didSuffix),u.validateEs256kOperationKey(nt.recoveryPublicKey,a.Public),u.validateEs256kOperationKey(nt.nextRecoveryPublicKey,a.Public),u.validateEs256kOperationKey(nt.nextUpdatePublicKey,a.Public),ar.validateDidDocumentKeys(nt.document.publicKeys),ar.validateServices(nt.document.services);const Ht=g.hashAlgorithmInMultihashCode,Nt=yield Bt.canonicalizeThenHashThenEncode(nt.recoveryPublicKey,Ht),En={patches:[{action:hn.Replace,document:nt.document}],updateCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(nt.nextUpdatePublicKey,Ht)},kn=yield Bt.canonicalizeThenHashThenEncode(En,Ht),Jn={recoveryCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(nt.nextRecoveryPublicKey,Ht),recoveryKey:nt.recoveryPublicKey,deltaHash:kn},Fn=yield nt.signer.sign({alg:"ES256K"},Jn);return{type:It.Recover,didSuffix:nt.didSuffix,revealValue:Nt,delta:En,signedData:Fn}})}static createUpdateRequest(nt){return dn(this,void 0,void 0,function*(){if(ar.validateDidSuffix(nt.didSuffix),u.validateEs256kOperationKey(nt.updatePublicKey,a.Public),u.validateEs256kOperationKey(nt.nextUpdatePublicKey,a.Public),ar.validateServices(nt.servicesToAdd),ar.validateDidDocumentKeys(nt.publicKeysToAdd),void 0!==nt.idsOfServicesToRemove)for(const Be of nt.idsOfServicesToRemove)u.validateId(Be);if(void 0!==nt.idsOfPublicKeysToRemove)for(const Be of nt.idsOfPublicKeysToRemove)u.validateId(Be);const Ht=[],Nt=nt.servicesToAdd;void 0!==Nt&&Nt.length>0&&Ht.push({action:hn.AddServices,services:Nt});const un=nt.idsOfServicesToRemove;void 0!==un&&un.length>0&&Ht.push({action:hn.RemoveServices,ids:un});const Wn=nt.publicKeysToAdd;void 0!==Wn&&Wn.length>0&&Ht.push({action:hn.AddPublicKeys,publicKeys:Wn});const En=nt.idsOfPublicKeysToRemove;void 0!==En&&En.length>0&&Ht.push({action:hn.RemovePublicKeys,ids:En});const kn=g.hashAlgorithmInMultihashCode,Or=yield Bt.canonicalizeThenHashThenEncode(nt.updatePublicKey,kn),Fn={patches:Ht,updateCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(nt.nextUpdatePublicKey,kn)},Lt=yield Bt.canonicalizeThenHashThenEncode(Fn,kn),et={updateKey:nt.updatePublicKey,deltaHash:Lt},Te=yield nt.signer.sign({alg:"ES256K"},et);return{type:It.Update,didSuffix:nt.didSuffix,revealValue:Or,delta:Fn,signedData:Te}})}static validateDidSuffix(nt){Bt.validateEncodedHashComputedUsingSupportedHashAlgorithm(nt,"didSuffix")}static validateDidDocumentKeys(nt){if(void 0===nt)return;const Ht=new Set;for(const Nt of nt){if(Array.isArray(Nt.publicKeyJwk))throw new _("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(u.validateId(Nt.id),Ht.has(Nt.id))throw new _("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${Nt.id}' already exists.`);Ht.add(Nt.id),u.validatePublicKeyPurposes(Nt.purposes)}}static validateServices(nt){if(void 0!==nt&&0!==nt.length){const Ht=new Set;for(const Nt of nt){if(ar.validateService(Nt),Ht.has(Nt.id))throw new _("DidDocumentServiceIdDuplicated","Service id has to be unique");Ht.add(Nt.id)}}}static validateService(nt){if(u.validateId(nt.id),nt.type.length>30)throw new _("ServiceTypeTooLong",`Service endpoint type length ${nt.type.length} exceeds max allowed length of 30.`);if(Array.isArray(nt.serviceEndpoint))throw new _("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof nt.serviceEndpoint&&void 0!==Ce.parse(nt.serviceEndpoint).error)throw new _("ServiceEndpointStringNotValidUri",`Service endpoint string '${nt.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(nt){const Ht=T.canonicalizeAsBytes(nt);if(Ht.length>g.maxCanonicalizedDeltaSizeInBytes)throw new _("DeltaExceedsMaximumSize",`Delta of ${Ht.length} bytes exceeded limit of ${g.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var An=function(Ye,nt,Ht,Nt){return new(Ht||(Ht=Promise))(function(Wn,En){function kn(Fn){try{Jn(Nt.next(Fn))}catch(Lt){En(Lt)}}function Or(Fn){try{Jn(Nt.throw(Fn))}catch(Lt){En(Lt)}}function Jn(Fn){Fn.done?Wn(Fn.value):function un(Wn){return Wn instanceof Ht?Wn:new Ht(function(En){En(Wn)})}(Fn.value).then(kn,Or)}Jn((Nt=Nt.apply(Ye,nt||[])).next())})};class en{static createLongFormDid(nt){return An(this,void 0,void 0,function*(){const Ht=yield ar.createCreateRequest(nt),Nt=yield en.computeDidUniqueSuffix(Ht.suffixData);let un;un=void 0===g.network||"mainnet"===g.network?`did:ion:${Nt}`:`did:ion:${g.network}:${Nt}`;const En=T.canonicalizeAsBytes({suffixData:Ht.suffixData,delta:Ht.delta});return`${un}:${xe.encode(En)}`})}static computeDidUniqueSuffix(nt){return An(this,void 0,void 0,function*(){const Ht=T.canonicalizeAsBytes(nt),Nt=yield Bt.hash(Ht,g.hashAlgorithmInMultihashCode);return xe.encode(Nt)})}}E(63741),E(68464)},49402:(je,z,E)=>{"use strict";E.d(z,{hB:()=>Wt,D4:()=>Wn,lF:()=>un});const f=/^(\d{1,3}\.){3,3}\d{1,3}$/,k=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,x={name:"v4",size:4,isFormat:et=>f.test(et),encode(et,Te,Be){Be=~~Be,Te=Te||new Uint8Array(Be+4);const xt=et.length;let nn=0;for(let In=0;In<xt;){const Kn=et.charCodeAt(In++);46===Kn?(Te[Be++]=nn,nn=0):nn=10*nn+(Kn-48)}return Te[Be]=nn,Te},decode:(et,Te)=>(Te=~~Te,`${et[Te++]}.${et[Te++]}.${et[Te++]}.${et[Te]}`)},P={name:"v6",size:16,isFormat:et=>et.length>0&&k.test(et),encode(et,Te,Be){let xt=16+(Be=~~Be),nn=-1,In=0,Kn=0,tr=!0,Dr=!1;Te=Te||new Uint8Array(Be+16);for(let Mr=0;Mr<et.length;Mr++){let Ir=et.charCodeAt(Mr);58===Ir?(tr?-1!==nn?(Be<xt&&(Te[Be]=0),Be<xt-1&&(Te[Be+1]=0),Be+=2):Be<xt&&(nn=Be):(!0===Dr?(Be<xt&&(Te[Be]=Kn),Be++):(Be<xt&&(Te[Be]=In>>8),Be<xt-1&&(Te[Be+1]=255&In),Be+=2),In=0,Kn=0),tr=!0,Dr=!1):46===Ir?(Be<xt&&(Te[Be]=Kn),Be++,Kn=0,In=0,tr=!1,Dr=!0):(tr=!1,Ir>=97?Ir-=87:Ir>=65?Ir-=55:(Ir-=48,Kn=10*Kn+Ir),In=(In<<4)+Ir)}if(!1===tr)!0===Dr?(Be<xt&&(Te[Be]=Kn),Be++):(Be<xt&&(Te[Be]=In>>8),Be<xt-1&&(Te[Be+1]=255&In),Be+=2);else if(0===nn)Be<xt&&(Te[Be]=0),Be<xt-1&&(Te[Be+1]=0),Be+=2;else if(-1!==nn){Be+=2;for(let Mr=Math.min(Be-1,xt-1);Mr>=nn+2;Mr--)Te[Mr]=Te[Mr-2];Te[nn]=0,Te[nn+1]=0,nn=Be}if(nn!==Be&&-1!==nn)for(Be>xt-2&&(Be=xt-2);xt>nn;)Te[--xt]=Be<xt&&Be>nn?Te[--Be]:0;else for(;Be<xt;)Te[Be++]=0;return Te},decode(et,Te){Te=~~Te;let Be="";for(let xt=0;xt<16;xt+=2)0!==xt&&(Be+=":"),Be+=(et[Te+xt]<<8|et[Te+xt+1]).toString(16);return Be.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function O(et){if(x.isFormat(et))return x.size;if(P.isFormat(et))return P.size;throw Error(`Invalid ip address: ${et}`)}function X(et){switch(et){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+et}function j(et){switch(et.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return et.toUpperCase().startsWith("UNKNOWN_")?parseInt(et.slice(8)):0}function G(et){switch(et){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+et}function te(et){switch(et){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+et}function Z(et){switch(et){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+et}function ie(et){switch(et.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function se(et){if("number"==typeof et)return et;if(!et)return-1;switch(et.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const Te=et.match(/_(\d+)$/);return Te?parseInt(Te[1],10):-1}const de=55296,le=56320;function xe(et){let Te=0;const Be=et.length;for(let xt=0;xt<Be;xt+=1){const nn=et.charCodeAt(xt);if(nn<=127)Te+=1;else if(nn<=2047)Te+=2;else if((63488&nn)!==de)Te+=3;else{const In=xt+1;In===Be||nn>=le||(64512&et.charCodeAt(In))!==le?Te+=3:(xt=In,Te+=4)}}return Te}function Ce(et,Te,Be){const xt=et.length;null==Be&&(Be=0),void 0===Te&&(Te=new Uint8Array(xe(et)+Be));let nn=Be;for(let In=0;In<xt;In+=1){let Kn=et.charCodeAt(In);if(Kn<=127)Te[nn++]=Kn;else if(Kn<=2047)Te[nn++]=192|(1984&Kn)>>6,Te[nn++]=128|63&Kn;else if((63488&Kn)!==de)Te[nn++]=224|(61440&Kn)>>12,Te[nn++]=128|(4032&Kn)>>6,Te[nn++]=128|63&Kn;else{const tr=In+1;if(tr===xt||Kn>=le)Te[nn++]=239,Te[nn++]=191,Te[nn++]=189;else{const Dr=et.charCodeAt(tr);(64512&Dr)!==le?(Te[nn++]=239,Te[nn++]=191,Te[nn++]=189):(In=tr,Kn=65536|(1023&Kn)<<10|1023&Dr,Te[nn++]=240|(1835008&Kn)>>18,Te[nn++]=128|(258048&Kn)>>12,Te[nn++]=128|(4032&Kn)>>6,Te[nn++]=128|63&Kn)}}}return Ce.bytes=nn-Be,Te}function C(et,Te,Be){let xt="";null==Te&&(Te=0),null==Be&&(Be=et.length);for(let nn=Te;nn<Be;){const In=et[nn++];let Kn;In<=128?Kn=In:In>191&&In<224?Kn=(31&In)<<6|63&et[nn++]:In>239&&In<365?(Kn=((7&In)<<18|(63&et[nn++])<<12|(63&et[nn++])<<6|63&et[nn++])-65536,xt+=String.fromCharCode(de|Kn>>10&1023),Kn=le|1023&Kn):Kn=(15&In)<<12|(63&et[nn++])<<6|63&et[nn++],xt+=String.fromCharCode(Kn)}return C.bytes=Be-Te,xt}Ce.bytes=0,C.bytes=0;const a=et=>et instanceof Uint8Array;function u(et){return"string"==typeof et?xe(et):et.byteLength}function y(et){return et instanceof Uint8Array?et:Array.isArray(et)?new Uint8Array(et):Ce(et)}function g(et,Te,Be){if("string"!=typeof Te)throw new Error("unknown input type");return Ce(Te,et,Be),Ce.bytes}const S={},T=new Array(255);for(let et=0;et<=15;et+=1){const Te=et.toString(16),Be=Te.toUpperCase();for(let xt=0;xt<=15;xt+=1){const nn=xt.toString(16),In=nn.toUpperCase(),Kn=et<<4|xt,tr=`${Te}${nn}`;T[Kn]=tr,S[tr]=Kn,S[`${Be}${nn}`]=Kn,S[`${Te}${In}`]=Kn,S[`${Be}${In}`]=Kn}}function A(et){return et.length>>>1}const v=Math.pow(2,24),W=Math.pow(2,16),K=Math.pow(2,8),ee=(et,Te)=>et[Te]*v+et[Te+1]*W+et[Te+2]*K+et[Te+3],ce=(et,Te)=>et[Te]<<8|et[Te+1],_e=(et,Te,Be)=>(et[Be+3]=Te=+Te,et[Be+2]=Te>>>=8,et[Be+1]=Te>>>=8,et[Be]=Te>>>=8,Be+4),Oe=(et,Te,Be)=>(et[Be]=Te>>8,et[Be+1]=255&Te,Be+2);function Ve(et,Te,Be,xt,nn){return Be<0&&(xt-=Be,Be=0),xt<0&&(xt=0),nn<0?new Uint8Array(0):Be>=Te.length||xt>=nn?0:function Se(et,Te,Be,xt,nn){nn-xt>Te.length-Be&&(nn=xt+Te.length-Be);let In=nn-xt;const Kn=et.length-xt;return In>Kn&&(In=Kn),(0!==xt||nn<et.length)&&(et=new Uint8Array(et.buffer,et.byteOffset+xt,In)),Te.set(et,Be),In}(et,Te,Be,xt,nn)}function Q({bytes:et=0,encode:Te,decode:Be,encodingLength:xt}){return Te.bytes=et,Be.bytes=et,{encode:Te,decode:Be,encodingLength:xt||(()=>et)}}const oe=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(oe.encodingLength(et))),Be||(Be=0);const xt=Be,nn=et.replace(/^\.|\.$/gm,"");if(nn.length){const In=nn.split(".");for(let Kn=0;Kn<In.length;Kn++){const tr=g(Te,In[Kn],Be+1);Te[Be]=tr,Be+=tr+1}}return Te[Be++]=0,oe.encode.bytes=Be-xt,Te},decode(et,Te){Te||(Te=0);const Be=[];let xt=Te,nn=0,In=0,Kn=!1;for(;;){if(Te>=et.length)throw new Error("Cannot decode name (buffer overflow)");const tr=et[Te++];if(In+=Kn?0:1,0===tr)break;if(192&tr){if(192&~tr)throw new Error("Cannot decode name (bad label)");{if(Te+1>et.length)throw new Error("Cannot decode name (buffer overflow)");const Dr=ce(et,Te-1)-49152;if(Dr>=xt)throw new Error("Cannot decode name (bad pointer)");Te=Dr,xt=Dr,In+=Kn?0:1,Kn=!0}}else{if(Te+tr>et.length)throw new Error("Cannot decode name (buffer overflow)");if(nn+=tr+1,nn>254)throw new Error("Cannot decode name (name too long)");Be.push(C(et,Te,Te+tr)),Te+=tr,In+=Kn?0:tr}}return oe.decode.bytes=In,0===Be.length?".":Be.join(".")},encodingLength:et=>"."===et||".."===et?1:u(et.replace(/^\.|\.$/gm,""))+2}),fe=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(fe.encodingLength(et))),Be||(Be=0);const xt=g(Te,et,Be+1);return Te[Be]=xt,fe.encode.bytes=xt+1,Te},decode(et,Te){Te||(Te=0);const Be=et[Te],xt=C(et,Te+1,Te+1+Be);return fe.decode.bytes=Be+1,xt},encodingLength:et=>u(et)+1}),Ee=Q({bytes:12,encode(et,Te,Be){Te||(Te=new Uint8Array(Ee.encodingLength(et))),Be||(Be=0);const xt=32767&(et.flags||0),nn="response"===et.type?32768:0;return Oe(Te,et.id||0,Be),Oe(Te,xt|nn,Be+2),Oe(Te,et.questions.length,Be+4),Oe(Te,et.answers.length,Be+6),Oe(Te,et.authorities.length,Be+8),Oe(Te,et.additionals.length,Be+10),Te},decode(et,Te){if(Te||(Te=0),et.length<12)throw new Error("Header must be 12 bytes");const Be=ce(et,Te+2);return{id:ce(et,Te),type:32768&Be?"response":"query",flags:32767&Be,flag_qr:1==(Be>>15&1),opcode:te(Be>>11&15),flag_aa:1==(Be>>10&1),flag_tc:1==(Be>>9&1),flag_rd:1==(Be>>8&1),flag_ra:1==(Be>>7&1),flag_z:1==(Be>>6&1),flag_ad:1==(Be>>5&1),flag_cd:1==(Be>>4&1),rcode:G(15&Be),questions:new Array(ce(et,Te+4)),answers:new Array(ce(et,Te+6)),authorities:new Array(ce(et,Te+8)),additionals:new Array(ce(et,Te+10))}},encodingLength:()=>12}),Re=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(Re.encodingLength(et))),Be||(Be=0);const xt=et.length;return Oe(Te,xt,Be),Ve(et,Te,Be+2,0,xt),Re.encode.bytes=xt+2,Te},decode(et,Te){Te||(Te=0);const Be=ce(et,Te),xt=et.slice(Te+2,Te+2+Be);return Re.decode.bytes=Be+2,xt},encodingLength:et=>et.length+2}),$e=Q({encode:(et,Te,Be)=>(Te||(Te=new Uint8Array($e.encodingLength(et))),Be||(Be=0),oe.encode(et,Te,Be+2),Oe(Te,oe.encode.bytes,Be),$e.encode.bytes=oe.encode.bytes+2,Te),decode(et,Te){Te||(Te=0);const Be=ce(et,Te),xt=oe.decode(et,Te+2);return $e.decode.bytes=Be+2,xt},encodingLength:et=>oe.encodingLength(et)+2}),Fe=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(Fe.encodingLength(et))),Be||(Be=0);const xt=Be;return oe.encode(et.mname,Te,Be+=2),oe.encode(et.rname,Te,Be+=oe.encode.bytes),_e(Te,et.serial||0,Be+=oe.encode.bytes),_e(Te,et.refresh||0,Be+=4),_e(Te,et.retry||0,Be+=4),_e(Te,et.expire||0,Be+=4),_e(Te,et.minimum||0,Be+=4),Oe(Te,(Be+=4)-xt-2,xt),Fe.encode.bytes=Be-xt,Te},decode(et,Te){Te||(Te=0);const Be=Te,xt={};return xt.mname=oe.decode(et,Te+=2),xt.rname=oe.decode(et,Te+=oe.decode.bytes),xt.serial=ee(et,Te+=oe.decode.bytes),xt.refresh=ee(et,Te+=4),xt.retry=ee(et,Te+=4),xt.expire=ee(et,Te+=4),xt.minimum=ee(et,Te+=4),Fe.decode.bytes=(Te+=4)-Be,xt},encodingLength:et=>22+oe.encodingLength(et.mname)+oe.encodingLength(et.rname)}),Et=Q({encode(et,Te,Be){Array.isArray(et)||(et=[et]);for(let nn=0;nn<et.length;nn++)if("string"==typeof et[nn]&&(et[nn]=y(et[nn])),!a(et[nn]))throw new Error("Must be a Buffer");Te||(Te=new Uint8Array(Et.encodingLength(et))),Be||(Be=0);const xt=Be;return Be+=2,et.forEach(function(nn){Te[Be++]=nn.length,Ve(nn,Te,Be,0,nn.length),Be+=nn.length}),Oe(Te,Be-xt-2,xt),Et.encode.bytes=Be-xt,Te},decode(et,Te){Te||(Te=0);const Be=Te;let xt=ce(et,Te);Te+=2;const nn=[];for(;xt>0;){const In=et[Te++];if(--xt,xt<In)throw new Error("Buffer overflow");nn.push(et.slice(Te,Te+In)),Te+=In,xt-=In}return Et.decode.bytes=Te-Be,nn},encodingLength(et){Array.isArray(et)||(et=[et]);let Te=2;return et.forEach(function(Be){Te+="string"==typeof Be?u(Be)+1:Be.length+1}),Te}}),We=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(We.encodingLength(et))),Be||(Be=0),"string"==typeof et&&(et=y(et)),et||(et=new Uint8Array(0));const xt=Be,nn=et.length;return Ve(et,Te,Be+=2,0,nn),Oe(Te,(Be+=nn)-xt-2,xt),We.encode.bytes=Be-xt,Te},decode(et,Te){Te||(Te=0);const Be=Te,xt=ce(et,Te),nn=et.slice(Te+=2,Te+xt);return We.decode.bytes=(Te+=xt)-Be,nn},encodingLength:et=>et?(a(et)?et.length:u(et))+2:2}),Le=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(Le.encodingLength(et))),Be||(Be=0);const xt=Be;return fe.encode(et.cpu,Te,Be+=2),fe.encode(et.os,Te,Be+=fe.encode.bytes),Oe(Te,(Be+=fe.encode.bytes)-xt-2,xt),Le.encode.bytes=Be-xt,Te},decode(et,Te){Te||(Te=0);const Be=Te,xt={};return xt.cpu=fe.decode(et,Te+=2),xt.os=fe.decode(et,Te+=fe.decode.bytes),Le.decode.bytes=(Te+=fe.decode.bytes)-Be,xt},encodingLength:et=>fe.encodingLength(et.cpu)+fe.encodingLength(et.os)+2}),lt=Q({encode:(et,Te,Be)=>(Te||(Te=new Uint8Array(lt.encodingLength(et))),Be||(Be=0),oe.encode(et,Te,Be+2),Oe(Te,oe.encode.bytes,Be),lt.encode.bytes=oe.encode.bytes+2,Te),decode(et,Te){Te||(Te=0);const Be=oe.decode(et,Te+2);return lt.decode.bytes=oe.decode.bytes+2,Be},encodingLength:et=>oe.encodingLength(et)+2}),B=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(B.encodingLength(et))),Be||(Be=0),Oe(Te,et.priority||0,Be+2),Oe(Te,et.weight||0,Be+4),Oe(Te,et.port||0,Be+6),oe.encode(et.target,Te,Be+8);const xt=oe.encode.bytes+6;return Oe(Te,xt,Be),B.encode.bytes=xt+2,Te},decode(et,Te){Te||(Te=0);const Be=ce(et,Te),xt={};return xt.priority=ce(et,Te+2),xt.weight=ce(et,Te+4),xt.port=ce(et,Te+6),xt.target=oe.decode(et,Te+8),B.decode.bytes=Be+2,xt},encodingLength:et=>8+oe.encodingLength(et.target)}),w=Q({encode(et,Te,Be){const xt=w.encodingLength(et);return Te||(Te=new Uint8Array(w.encodingLength(et))),Be||(Be=0),et.issuerCritical&&(et.flags=w.ISSUER_CRITICAL),Oe(Te,xt-2,Be),Te[Be+=2]=et.flags||0,fe.encode(et.tag,Te,Be+=1),g(Te,et.value,Be+=fe.encode.bytes),Be+=u(et.value),w.encode.bytes=xt,Te},decode(et,Te){Te||(Te=0);const Be=ce(et,Te),xt=Te+=2,nn={};return nn.flags=et[Te],nn.tag=fe.decode(et,Te+=1),nn.value=C(et,Te+=fe.decode.bytes,xt+Be),nn.issuerCritical=!!(nn.flags&w.ISSUER_CRITICAL),w.decode.bytes=Be+2,nn},encodingLength:et=>fe.encodingLength(et.tag)+fe.encodingLength(et.value)+2});w.ISSUER_CRITICAL=128;const m=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(m.encodingLength(et))),Be||(Be=0);const xt=Be;return Oe(Te,et.preference||0,Be+=2),oe.encode(et.exchange,Te,Be+=2),Oe(Te,(Be+=oe.encode.bytes)-xt-2,xt),m.encode.bytes=Be-xt,Te},decode(et,Te){Te||(Te=0);const Be=Te,xt={};return xt.preference=ce(et,Te+=2),xt.exchange=oe.decode(et,Te+=2),m.decode.bytes=(Te+=oe.decode.bytes)-Be,xt},encodingLength:et=>4+oe.encodingLength(et.exchange)}),U=Q({encode:(et,Te,Be)=>(Te||(Te=new Uint8Array(U.encodingLength(et))),Be||(Be=0),Oe(Te,4,Be),x.encode(et,Te,Be+=2),Te),decode:(et,Te)=>(Te||(Te=0),x.decode(et,Te+=2)),bytes:6}),ne=Q({encode:(et,Te,Be)=>(Te||(Te=new Uint8Array(ne.encodingLength(et))),Be||(Be=0),Oe(Te,16,Be),P.encode(et,Te,Be+=2),ne.encode.bytes=18,Te),decode(et,Te){Te||(Te=0);const Be=P.decode(et,Te+=2);return ne.decode.bytes=18,Be},bytes:18}),ge=et=>new Uint8Array(et),Ae=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(Ae.encodingLength(et))),Be||(Be=0);const xt=Be,nn=se(et.code);if(Oe(Te,nn,Be),Be+=2,et.data)Oe(Te,et.data.length,Be),Ve(et.data,Te,Be+=2),Be+=et.data.length;else switch(nn){case 8:{const In=et.sourcePrefixLength||0,Kn=et.family||function F(et){return O(et)===x.size?1:2}(et.ip),tr=function L(et,Te,Be){Be=~~Be;const xt=O(et);return"function"==typeof Te&&(Te=Te(Be+xt)),xt===x.size?x.encode(et,Te,Be):P.encode(et,Te,Be)}(et.ip,ge),Dr=Math.ceil(In/8);Oe(Te,Dr+4,Be),Oe(Te,Kn,Be+=2),Be+=2,Te[Be++]=In,Te[Be++]=et.scopePrefixLength||0,Ve(tr,Te,Be,0,Dr),Be+=Dr}break;case 11:et.timeout?(Oe(Te,2,Be),Oe(Te,et.timeout,Be+=2),Be+=2):(Oe(Te,0,Be),Be+=2);break;case 12:{const In=et.length||0;Oe(Te,In,Be),Te.fill(0,Be+=2,Be+In),Be+=In}break;case 14:Oe(Te,2*et.tags.length,Be),Be+=2;for(const Kn of et.tags)Oe(Te,Kn,Be),Be+=2;break;default:throw new Error(`Unknown roption code: ${et.code}`)}return Ae.encode.bytes=Be-xt,Te},decode(et,Te){Te||(Te=0);const Be={};Be.code=ce(et,Te),Be.type=function ae(et){switch(et){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return et<0?null:`OPTION_${et}`}(Be.code);const xt=ce(et,Te+=2);switch(Be.data=et.slice(Te+=2,Te+xt),Be.code){case 8:Be.family=ce(et,Te),Te+=2,Be.sourcePrefixLength=et[Te++],Be.scopePrefixLength=et[Te++];{const nn=new Uint8Array(1===Be.family?4:16);Ve(et,nn,0,Te,Te+xt-4),Be.ip=function D(et,Te,Be){if(Te=~~Te,(Be=Be||et.length-Te)===x.size)return x.decode(et,Te,Be);if(Be===P.size)return P.decode(et,Te,Be);throw Error(`Invalid buffer size needs to be ${x.size} for v4 or ${P.size} for v6.`)}(nn)}break;case 11:xt>0&&(Be.timeout=ce(et,Te),Te+=2);break;case 14:Be.tags=[];for(let nn=0;nn<xt;nn+=2)Be.tags.push(ce(et,Te)),Te+=2}return Ae.decode.bytes=xt+4,Be},encodingLength(et){if(et.data)return et.data.length+4;switch(se(et.code)){case 8:return Math.ceil((et.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof et.timeout?6:4;case 12:return et.length+4;case 14:return 4+2*et.tags.length}throw new Error(`Unknown roption code: ${et.code}`)}}),tt=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(tt.encodingLength(et))),Be||(Be=0);const xt=Be,nn=Jn(et,Ae);return Oe(Te,nn,Be),Be=Fn(et,Ae,Te,Be+2),tt.encode.bytes=Be-xt,Te},decode(et,Te){Te||(Te=0);const Be=Te,xt=[];let nn=ce(et,Te);Te+=2;let In=0;for(;nn>0;)xt[In++]=Ae.decode(et,Te),Te+=Ae.decode.bytes,nn-=Ae.decode.bytes;return tt.decode.bytes=Te-Be,xt},encodingLength:et=>2+Jn(et||[],Ae)}),Bt=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(Bt.encodingLength(et))),Be||(Be=0);const xt=Be,nn=et.key;if(!a(nn))throw new Error("Key must be a Buffer");return Oe(Te,et.flags,Be+=2),Te[Be+=2]=Bt.PROTOCOL_DNSSEC,Te[Be+=1]=et.algorithm,Ve(nn,Te,Be+=1,0,nn.length),Bt.encode.bytes=(Be+=nn.length)-xt,Oe(Te,Bt.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Be=Te,xt={},nn=ce(et,Te);if(xt.flags=ce(et,Te+=2),et[Te+=2]!==Bt.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return xt.algorithm=et[Te+=1],xt.key=et.slice(Te+=1,Be+nn+2),Bt.decode.bytes=(Te+=xt.key.length)-Be,xt},encodingLength:et=>6+u(et.key)});Bt.PROTOCOL_DNSSEC=3,Bt.ZONE_KEY=128,Bt.SECURE_ENTRYPOINT=32768;const vt=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(vt.encodingLength(et))),Be||(Be=0);const xt=Be,nn=et.signature;if(!a(nn))throw new Error("Signature must be a Buffer");return Be+=2,Oe(Te,j(et.typeCovered),Be),Te[Be+=2]=et.algorithm,Te[Be+=1]=et.labels,_e(Te,et.originalTTL,Be+=1),_e(Te,et.expiration,Be+=4),_e(Te,et.inception,Be+=4),Oe(Te,et.keyTag,Be+=4),oe.encode(et.signersName,Te,Be+=2),Ve(nn,Te,Be+=oe.encode.bytes,0,nn.length),vt.encode.bytes=(Be+=nn.length)-xt,Oe(Te,vt.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Be=Te,xt={},nn=ce(et,Te);return xt.typeCovered=X(ce(et,Te+=2)),xt.algorithm=et[Te+=2],xt.labels=et[Te+=1],xt.originalTTL=ee(et,Te+=1),xt.expiration=ee(et,Te+=4),xt.inception=ee(et,Te+=4),xt.keyTag=ce(et,Te+=4),xt.signersName=oe.decode(et,Te+=2),xt.signature=et.slice(Te+=oe.decode.bytes,Be+nn+2),vt.decode.bytes=(Te+=xt.signature.length)-Be,xt},encodingLength:et=>20+oe.encodingLength(et.signersName)+u(et.signature)}),It=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(It.encodingLength(et))),Be||(Be=0);const xt=Be;return oe.encode(et.mbox||".",Te,Be+=2),oe.encode(et.txt||".",Te,Be+=oe.encode.bytes),It.encode.bytes=(Be+=oe.encode.bytes)-xt,Oe(Te,It.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Be=Te,xt={};return xt.mbox=oe.decode(et,Te+=2)||".",xt.txt=oe.decode(et,Te+=oe.decode.bytes)||".",It.decode.bytes=(Te+=oe.decode.bytes)-Be,xt},encodingLength:et=>2+oe.encodingLength(et.mbox||".")+oe.encodingLength(et.txt||".")}),Gt=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(Gt.encodingLength(et))),Be||(Be=0);const xt=Be,nn=[];for(let In=0;In<et.length;In++){const Kn=j(et[In]);void 0===nn[Kn>>8]&&(nn[Kn>>8]=[]),nn[Kn>>8][Kn>>3&31]|=1<<7-(7&Kn)}for(let In=0;In<nn.length;In++)if(void 0!==nn[In]){const Kn=y(nn[In]);Te[Be]=In,Te[Be+=1]=Kn.length,Ve(Kn,Te,Be+=1,0,Kn.length),Be+=Kn.length}return Gt.encode.bytes=Be-xt,Te},decode(et,Te,Be){Te||(Te=0);const xt=Te,nn=[];for(;Te-xt<Be;){const In=et[Te],Kn=et[Te+=1];Te+=1;for(let tr=0;tr<Kn;tr++){const Dr=et[Te+tr];for(let Mr=0;Mr<8;Mr++)if(Dr&1<<7-Mr){const Ir=X(In<<8|tr<<3|Mr);nn.push(Ir)}}Te+=Kn}return Gt.decode.bytes=Te-xt,nn},encodingLength(et){const Te=[];for(let xt=0;xt<et.length;xt++){const nn=j(et[xt]);Te[nn>>8]=Math.max(Te[nn>>8]||0,255&nn)}let Be=0;for(let xt=0;xt<Te.length;xt++)void 0!==Te[xt]&&(Be+=2+Math.ceil((Te[xt]+1)/8));return Be}}),hn=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(hn.encodingLength(et))),Be||(Be=0);const xt=Be;return oe.encode(et.nextDomain,Te,Be+=2),Gt.encode(et.rrtypes,Te,Be+=oe.encode.bytes),hn.encode.bytes=(Be+=Gt.encode.bytes)-xt,Oe(Te,hn.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Be=Te,xt={},nn=ce(et,Te);return xt.nextDomain=oe.decode(et,Te+=2),xt.rrtypes=Gt.decode(et,Te+=oe.decode.bytes,nn-(Te-Be)),hn.decode.bytes=(Te+=Gt.decode.bytes)-Be,xt},encodingLength:et=>2+oe.encodingLength(et.nextDomain)+Gt.encodingLength(et.rrtypes)}),dn=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(dn.encodingLength(et))),Be||(Be=0);const xt=Be,nn=et.salt;if(!a(nn))throw new Error("salt must be a Buffer");const In=et.nextDomain;if(!a(In))throw new Error("nextDomain must be a Buffer");return Te[Be+=2]=et.algorithm,Te[Be+=1]=et.flags,Oe(Te,et.iterations,Be+=1),Te[Be+=2]=nn.length,Ve(nn,Te,Be+=1,0,nn.length),Te[Be+=nn.length]=In.length,Ve(In,Te,Be+=1,0,In.length),Gt.encode(et.rrtypes,Te,Be+=In.length),dn.encode.bytes=(Be+=Gt.encode.bytes)-xt,Oe(Te,dn.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Be=Te,xt={},nn=ce(et,Te);xt.algorithm=et[Te+=2],xt.flags=et[Te+=1],xt.iterations=ce(et,Te+=1);const In=et[Te+=2];xt.salt=et.slice(Te+=1,Te+In);const Kn=et[Te+=In];return xt.nextDomain=et.slice(Te+=1,Te+Kn),xt.rrtypes=Gt.decode(et,Te+=Kn,nn-(Te-Be)),dn.decode.bytes=(Te+=Gt.decode.bytes)-Be,xt},encodingLength:et=>8+et.salt.length+et.nextDomain.length+Gt.encodingLength(et.rrtypes)}),ar=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(ar.encodingLength(et))),Be||(Be=0);const xt=Be,nn=et.digest;if(!a(nn))throw new Error("Digest must be a Buffer");return Oe(Te,et.keyTag,Be+=2),Te[Be+=2]=et.algorithm,Te[Be+=1]=et.digestType,Ve(nn,Te,Be+=1,0,nn.length),ar.encode.bytes=(Be+=nn.length)-xt,Oe(Te,ar.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Be=Te,xt={},nn=ce(et,Te);return xt.keyTag=ce(et,Te+=2),xt.algorithm=et[Te+=2],xt.digestType=et[Te+=1],xt.digest=et.slice(Te+=1,Be+nn+2),ar.decode.bytes=(Te+=xt.digest.length)-Be,xt},encodingLength:et=>6+u(et.digest)}),An=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(An.encodingLength(et))),Be||(Be=0);const xt=Be;Te[Be+=2]=et.algorithm,Te[Be+=1]=et.hash,Be+=1;const nn=A(et.fingerprint),In=en(et.hash);if(nn!==In)throw new Error(`Invalid length of fingerprint "${et.fingerprint}" for hashType=${et.hash}: ${nn} != ${In}`);return function s(et,Te,Be,xt){let nn=0;for(;Be<xt;){const In=Te.substr(nn,2),Kn=S[In];if(void 0===Kn)return;et[Be++]=Kn,nn+=2}}(Te,et.fingerprint,Be,Be+=nn),An.encode.bytes=Be-xt,Oe(Te,An.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Be=Te,xt={};xt.algorithm=et[Te+=2],xt.hash=et[Te+=1],Te+=1;const nn=en(xt.hash);return xt.fingerprint=function N(et,Te,Be){let xt="";for(let nn=Te;nn<Be;){const In=et[nn++];xt+=T[In]}return xt}(et,Te,Te+nn),An.decode.bytes=(Te+=nn)-Be,xt},encodingLength:et=>4+A(et.fingerprint)});function en(et){if(1===et)return 20;if(2===et)return 32;throw new Error(`Invalid hashType=${et}, supported=1,2`)}function Qt(et){switch(et.toUpperCase()){case"A":return U;case"PTR":case"CNAME":case"DNAME":return lt;case"TXT":return Et;case"NULL":return We;case"AAAA":return ne;case"SRV":return B;case"HINFO":return Le;case"CAA":return w;case"NS":return $e;case"SOA":return Fe;case"MX":return m;case"OPT":return tt;case"DNSKEY":return Bt;case"RRSIG":return vt;case"RP":return It;case"NSEC":return hn;case"NSEC3":return dn;case"SSHFP":return An;case"DS":return ar}return Re}An.getFingerprintLengthForHashType=en;const _t=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(_t.encodingLength(et))),Be||(Be=0);const xt=Be;if(oe.encode(et.name,Te,Be),Be+=oe.encode.bytes,Oe(Te,j(et.type),Be),"OPT"===et.type.toUpperCase()){if("."!==et.name)throw new Error("OPT name must be root.");Oe(Te,et.udpPayloadSize||4096,Be+2),Te[Be+4]=et.extendedRcode||0,Te[Be+5]=et.ednsVersion||0,Oe(Te,et.flags||0,Be+6),tt.encode(et.options||[],Te,Be+=8),Be+=tt.encode.bytes}else{let nn=ie(void 0===et.class?"IN":et.class);et.flush&&(nn|=32768),Oe(Te,nn,Be+2),_e(Te,et.ttl||0,Be+4),Be+=8;const In=Qt(et.type);In.encode(et.data,Te,Be),Be+=In.encode.bytes}return _t.encode.bytes=Be-xt,Te},decode(et,Te){Te||(Te=0);const Be={},xt=Te;if(Be.name=oe.decode(et,Te),Be.type=X(ce(et,Te+=oe.decode.bytes)),"OPT"===Be.type)Be.udpPayloadSize=ce(et,Te+2),Be.extendedRcode=et[Te+4],Be.ednsVersion=et[Te+5],Be.flags=ce(et,Te+6),Be.flag_do=1==(Be.flags>>15&1),Be.options=tt.decode(et,Te+8),Te+=8+tt.decode.bytes;else{const nn=ce(et,Te+2);Be.ttl=ee(et,Te+4),Be.class=Z(-32769&nn),Be.flush=!!(32768&nn);const In=Qt(Be.type);Be.data=In.decode(et,Te+8),Te+=8+In.decode.bytes}return _t.decode.bytes=Te-xt,Be},encodingLength(et){const Te=null!=et.data?et.data:et.options;return oe.encodingLength(et.name)+8+Qt(et.type).encodingLength(Te)}}),ft=Q({encode(et,Te,Be){Te||(Te=new Uint8Array(ft.encodingLength(et))),Be||(Be=0);const xt=Be;return oe.encode(et.name,Te,Be),Be+=oe.encode.bytes,Oe(Te,j(et.type),Be),Be+=2,Oe(Te,ie(void 0===et.class?"IN":et.class),Be),ft.encode.bytes=(Be+=2)-xt,et},decode(et,Te){Te||(Te=0);const Be=Te,xt={};return xt.name=oe.decode(et,Te),xt.type=X(ce(et,Te+=oe.decode.bytes)),xt.class=Z(ce(et,Te+=2)),Te+=2,!!(32768&xt.class)&&(xt.class&=-32769),ft.decode.bytes=Te-Be,xt},encodingLength:et=>oe.encodingLength(et.name)+4}),Wt=1024,Ye={encode:function(et,Te,Be){const xt=!Te;xt&&(Te=new Uint8Array(En(et))),Be||(Be=0);const nn=Be;return et.questions||(et.questions=[]),et.answers||(et.answers=[]),et.authorities||(et.authorities=[]),et.additionals||(et.additionals=[]),Ee.encode(et,Te,Be),Be=Fn(et.questions,ft,Te,Be+=Ee.encode.bytes),Be=Fn(et.answers,_t,Te,Be),Be=Fn(et.authorities,_t,Te,Be),Be=Fn(et.additionals,_t,Te,Be),Ye.encode.bytes=Be-nn,xt&&un.bytes!==Te.length?Te.slice(0,un.bytes):Te},decode:function(et,Te){Te||(Te=0);const Be=Te,xt=Ee.decode(et,Te);return Te=Lt(xt.questions,ft,et,Te+=Ee.decode.bytes),Te=Lt(xt.answers,_t,et,Te),Te=Lt(xt.authorities,_t,et,Te),Te=Lt(xt.additionals,_t,et,Te),Ye.decode.bytes=Te-Be,xt},encodingLength:function(et){return Ee.encodingLength(et)+Jn(et.questions||[],ft)+Jn(et.answers||[],_t)+Jn(et.authorities||[],_t)+Jn(et.additionals||[],_t)}};function nt(et,Te){if(et.questions)throw new Error("Only one .question object expected instead of a .questions array!");const Be=Object.assign({type:Te},et);return Be.question&&(Be.questions=[Be.question],delete Be.question),Be}Ye.encode.bytes=0,Ye.decode.bytes=0;const Ht={encode:function(et,Te,Be){return Te=Ye.encode(nt(et,"query"),Te,Be),Ht.encode.bytes=Ye.encode.bytes,Te},decode:function(et,Te){const Be=Ye.decode(et,Te);return Ht.decode.bytes=Ye.decode.bytes,Be.questions&&(Be.question=Be.questions[0],delete Be.questions),Be},encodingLength:function(et){return Ye.encodingLength(nt(et,"query"))}};Ht.encode.bytes=0,Ht.decode.bytes=0;const Nt={encode:function(et,Te,Be){return Te=Ye.encode(nt(et,"response"),Te,Be),Nt.encode.bytes=Ye.encode.bytes,Te},decode:function(et,Te){const Be=Ye.decode(et,Te);return Nt.decode.bytes=Ye.decode.bytes,Be.questions&&(Be.question=Be.questions[0],delete Be.questions),Be},encodingLength:function(et){return Ye.encodingLength(nt(et,"response"))}};Nt.encode.bytes=0,Nt.decode.bytes=0;const un=Ye.encode,Wn=Ye.decode,En=Ye.encodingLength;function Jn(et,Te){let Be=0;for(let xt=0;xt<et.length;xt++)Be+=Te.encodingLength(et[xt]);return Be}function Fn(et,Te,Be,xt){for(let nn=0;nn<et.length;nn++)Te.encode(et[nn],Be,xt),xt+=Te.encode.bytes;return xt}function Lt(et,Te,Be,xt){for(let nn=0;nn<et.length;nn++)et[nn]=Te.decode(Be,xt),xt+=Te.decode.bytes;return xt}},34931:(je,z,E)=>{"use strict";function f(L){if(!Number.isSafeInteger(L)||L<0)throw new Error(`wrong positive integer: ${L}`)}function _(L){if("boolean"!=typeof L)throw new Error(`boolean expected, not ${L}`)}function H(L,...D){if(!function k(L){return null!=L&&"object"==typeof L&&(L instanceof Uint8Array||"Uint8Array"===L.constructor.name)}(L))throw new Error("Uint8Array expected");if(D.length>0&&!D.includes(L.length))throw new Error(`Uint8Array expected of length ${D}, not of length=${L.length}`)}function P(L,D=!0){if(L.destroyed)throw new Error("Hash instance has been destroyed");if(D&&L.finished)throw new Error("Hash#digest() has already been called")}function M(L,D){H(L);const X=D.outputLen;if(L.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}E.d(z,{CG:()=>M,ai:()=>f,ee:()=>H,lc:()=>_,t2:()=>P})},94730:(je,z,E)=>{"use strict";var f=E(25953),_=E(34931);const k=(T,N)=>255&T[N++]|(255&T[N++])<<8;class H{constructor(N){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,N=(0,f.ZJ)(N),(0,f.qj)(N,32);const A=k(N,0),s=k(N,2),v=k(N,4),W=k(N,6),K=k(N,8),ee=k(N,10),ce=k(N,12),_e=k(N,14);this.r[0]=8191&A,this.r[1]=8191&(A>>>13|s<<3),this.r[2]=7939&(s>>>10|v<<6),this.r[3]=8191&(v>>>7|W<<9),this.r[4]=255&(W>>>4|K<<12),this.r[5]=K>>>1&8190,this.r[6]=8191&(K>>>14|ee<<2),this.r[7]=8065&(ee>>>11|ce<<5),this.r[8]=8191&(ce>>>8|_e<<8),this.r[9]=_e>>>5&127;for(let Oe=0;Oe<8;Oe++)this.pad[Oe]=k(N,16+2*Oe)}process(N,A,s=!1){const v=s?0:2048,{h:W,r:K}=this,ee=K[0],ce=K[1],_e=K[2],Oe=K[3],Ve=K[4],Se=K[5],be=K[6],Ue=K[7],ye=K[8],De=K[9],pe=k(N,A+0),ue=k(N,A+2),Q=k(N,A+4),oe=k(N,A+6),fe=k(N,A+8),Ee=k(N,A+10),Re=k(N,A+12),$e=k(N,A+14);let Fe=W[0]+(8191&pe),Et=W[1]+(8191&(pe>>>13|ue<<3)),We=W[2]+(8191&(ue>>>10|Q<<6)),Le=W[3]+(8191&(Q>>>7|oe<<9)),lt=W[4]+(8191&(oe>>>4|fe<<12)),B=W[5]+(fe>>>1&8191),w=W[6]+(8191&(fe>>>14|Ee<<2)),m=W[7]+(8191&(Ee>>>11|Re<<5)),U=W[8]+(8191&(Re>>>8|$e<<8)),ne=W[9]+($e>>>5|v),ge=0,Ae=ge+Fe*ee+Et*(5*De)+We*(5*ye)+Le*(5*Ue)+lt*(5*be);ge=Ae>>>13,Ae&=8191,Ae+=B*(5*Se)+w*(5*Ve)+m*(5*Oe)+U*(5*_e)+ne*(5*ce),ge+=Ae>>>13,Ae&=8191;let tt=ge+Fe*ce+Et*ee+We*(5*De)+Le*(5*ye)+lt*(5*Ue);ge=tt>>>13,tt&=8191,tt+=B*(5*be)+w*(5*Se)+m*(5*Ve)+U*(5*Oe)+ne*(5*_e),ge+=tt>>>13,tt&=8191;let Bt=ge+Fe*_e+Et*ce+We*ee+Le*(5*De)+lt*(5*ye);ge=Bt>>>13,Bt&=8191,Bt+=B*(5*Ue)+w*(5*be)+m*(5*Se)+U*(5*Ve)+ne*(5*Oe),ge+=Bt>>>13,Bt&=8191;let vt=ge+Fe*Oe+Et*_e+We*ce+Le*ee+lt*(5*De);ge=vt>>>13,vt&=8191,vt+=B*(5*ye)+w*(5*Ue)+m*(5*be)+U*(5*Se)+ne*(5*Ve),ge+=vt>>>13,vt&=8191;let It=ge+Fe*Ve+Et*Oe+We*_e+Le*ce+lt*ee;ge=It>>>13,It&=8191,It+=B*(5*De)+w*(5*ye)+m*(5*Ue)+U*(5*be)+ne*(5*Se),ge+=It>>>13,It&=8191;let Gt=ge+Fe*Se+Et*Ve+We*Oe+Le*_e+lt*ce;ge=Gt>>>13,Gt&=8191,Gt+=B*ee+w*(5*De)+m*(5*ye)+U*(5*Ue)+ne*(5*be),ge+=Gt>>>13,Gt&=8191;let hn=ge+Fe*be+Et*Se+We*Ve+Le*Oe+lt*_e;ge=hn>>>13,hn&=8191,hn+=B*ce+w*ee+m*(5*De)+U*(5*ye)+ne*(5*Ue),ge+=hn>>>13,hn&=8191;let dn=ge+Fe*Ue+Et*be+We*Se+Le*Ve+lt*Oe;ge=dn>>>13,dn&=8191,dn+=B*_e+w*ce+m*ee+U*(5*De)+ne*(5*ye),ge+=dn>>>13,dn&=8191;let ar=ge+Fe*ye+Et*Ue+We*be+Le*Se+lt*Ve;ge=ar>>>13,ar&=8191,ar+=B*Oe+w*_e+m*ce+U*ee+ne*(5*De),ge+=ar>>>13,ar&=8191;let An=ge+Fe*De+Et*ye+We*Ue+Le*be+lt*Se;ge=An>>>13,An&=8191,An+=B*Ve+w*Oe+m*_e+U*ce+ne*ee,ge+=An>>>13,An&=8191,ge=(ge<<2)+ge|0,ge=ge+Ae|0,Ae=8191&ge,ge>>>=13,tt+=ge,W[0]=Ae,W[1]=tt,W[2]=Bt,W[3]=vt,W[4]=It,W[5]=Gt,W[6]=hn,W[7]=dn,W[8]=ar,W[9]=An}finalize(){const{h:N,pad:A}=this,s=new Uint16Array(10);let v=N[1]>>>13;N[1]&=8191;for(let ee=2;ee<10;ee++)N[ee]+=v,v=N[ee]>>>13,N[ee]&=8191;N[0]+=5*v,v=N[0]>>>13,N[0]&=8191,N[1]+=v,v=N[1]>>>13,N[1]&=8191,N[2]+=v,s[0]=N[0]+5,v=s[0]>>>13,s[0]&=8191;for(let ee=1;ee<10;ee++)s[ee]=N[ee]+v,v=s[ee]>>>13,s[ee]&=8191;s[9]-=8192;let W=(1^v)-1;for(let ee=0;ee<10;ee++)s[ee]&=W;W=~W;for(let ee=0;ee<10;ee++)N[ee]=N[ee]&W|s[ee];N[0]=65535&(N[0]|N[1]<<13),N[1]=65535&(N[1]>>>3|N[2]<<10),N[2]=65535&(N[2]>>>6|N[3]<<7),N[3]=65535&(N[3]>>>9|N[4]<<4),N[4]=65535&(N[4]>>>12|N[5]<<1|N[6]<<14),N[5]=65535&(N[6]>>>2|N[7]<<11),N[6]=65535&(N[7]>>>5|N[8]<<8),N[7]=65535&(N[8]>>>8|N[9]<<5);let K=N[0]+A[0];N[0]=65535&K;for(let ee=1;ee<8;ee++)K=(N[ee]+A[ee]|0)+(K>>>16)|0,N[ee]=65535&K}update(N){(0,_.t2)(this);const{buffer:A,blockLen:s}=this,v=(N=(0,f.ZJ)(N)).length;for(let W=0;W<v;){const K=Math.min(s-this.pos,v-W);if(K!==s)A.set(N.subarray(W,W+K),this.pos),this.pos+=K,W+=K,this.pos===s&&(this.process(A,0,!1),this.pos=0);else for(;s<=v-W;W+=s)this.process(N,W)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(N){(0,_.t2)(this),(0,_.CG)(N,this),this.finished=!0;const{buffer:A,h:s}=this;let{pos:v}=this;if(v){for(A[v++]=1;v<16;v++)A[v]=0;this.process(A,0,!0)}this.finalize();let W=0;for(let K=0;K<8;K++)N[W++]=s[K]>>>0,N[W++]=s[K]>>>8;return N}digest(){const{buffer:N,outputLen:A}=this;this.digestInto(N);const s=N.slice(0,A);return this.destroy(),s}}const P=function x(T){const N=(s,v)=>T(v).update((0,f.ZJ)(s)).digest(),A=T(new Uint8Array(32));return N.outputLen=A.outputLen,N.blockLen=A.blockLen,N.create=s=>T(s),N}(T=>new H(T)),M=(0,f.AI)("expand 16-byte k"),O=(0,f.AI)("expand 32-byte k"),F=(0,f.DH)(M),L=(0,f.DH)(O);function D(T,N){return T<<N|T>>>32-N}function X(T){return T.byteOffset%4==0}const re=2**32-1,te=new Uint32Array;function Z(T,N){const{allowShortKeys:A,extendNonceFn:s,counterLength:v,counterRight:W,rounds:K}=(0,f.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},N);if("function"!=typeof T)throw new Error("core must be a function");return(0,_.ai)(v),(0,_.ai)(K),(0,_.lc)(W),(0,_.lc)(A),(ee,ce,_e,Oe,Ve=0)=>{(0,_.ee)(ee),(0,_.ee)(ce),(0,_.ee)(_e);const Se=_e.length;if(Oe||(Oe=new Uint8Array(Se)),(0,_.ee)(Oe),(0,_.ai)(Ve),Ve<0||Ve>=re)throw new Error("arx: counter overflow");if(Oe.length<Se)throw new Error(`arx: output (${Oe.length}) is shorter than data (${Se})`);const be=[];let ye,De,Ue=ee.length;if(32===Ue)ye=ee.slice(),be.push(ye),De=L;else{if(16!==Ue||!A)throw new Error(`arx: invalid 32-byte key, got length=${Ue}`);ye=new Uint8Array(32),ye.set(ee),ye.set(ee,16),De=F,be.push(ye)}X(ce)||(ce=ce.slice(),be.push(ce));const pe=(0,f.DH)(ye);if(s){if(24!==ce.length)throw new Error("arx: extended nonce must be 24 bytes");s(De,pe,(0,f.DH)(ce.subarray(0,16)),pe),ce=ce.subarray(16)}const ue=16-v;if(ue!==ce.length)throw new Error(`arx: nonce must be ${ue} or 16 bytes`);if(12!==ue){const oe=new Uint8Array(12);oe.set(ce,W?0:12-ce.length),be.push(ce=oe)}const Q=(0,f.DH)(ce);for(function J(T,N,A,s,v,W,K,ee){const ce=v.length,_e=new Uint8Array(64),Oe=(0,f.DH)(_e),Ve=X(v)&&X(W),Se=Ve?(0,f.DH)(v):te,be=Ve?(0,f.DH)(W):te;for(let Ue=0;Ue<ce;K++){if(T(N,A,s,Oe,K,ee),K>=re)throw new Error("arx: counter overflow");const ye=Math.min(64,ce-Ue);if(Ve&&64===ye){const De=Ue/4;if(Ue%4!=0)throw new Error("arx: invalid block position");for(let ue,pe=0;pe<16;pe++)ue=De+pe,be[ue]=Se[ue]^Oe[pe];Ue+=64}else{for(let pe,De=0;De<ye;De++)pe=Ue+De,W[pe]=v[pe]^_e[De];Ue+=ye}}}(T,De,pe,Q,_e,Oe,Ve,K);be.length>0;)be.pop().fill(0);return Oe}}function ie(T,N,A,s,v,W=20){let K=T[0],ee=T[1],ce=T[2],_e=T[3],Oe=N[0],Ve=N[1],Se=N[2],be=N[3],Ue=N[4],ye=N[5],De=N[6],pe=N[7],ue=v,Q=A[0],oe=A[1],fe=A[2],Ee=K,Re=ee,$e=ce,Fe=_e,Et=Oe,We=Ve,Le=Se,lt=be,B=Ue,w=ye,m=De,U=pe,ne=ue,ge=Q,Ae=oe,tt=fe;for(let vt=0;vt<W;vt+=2)Ee=Ee+Et|0,ne=D(ne^Ee,16),B=B+ne|0,Et=D(Et^B,12),Ee=Ee+Et|0,ne=D(ne^Ee,8),B=B+ne|0,Et=D(Et^B,7),Re=Re+We|0,ge=D(ge^Re,16),w=w+ge|0,We=D(We^w,12),Re=Re+We|0,ge=D(ge^Re,8),w=w+ge|0,We=D(We^w,7),$e=$e+Le|0,Ae=D(Ae^$e,16),m=m+Ae|0,Le=D(Le^m,12),$e=$e+Le|0,Ae=D(Ae^$e,8),m=m+Ae|0,Le=D(Le^m,7),Fe=Fe+lt|0,tt=D(tt^Fe,16),U=U+tt|0,lt=D(lt^U,12),Fe=Fe+lt|0,tt=D(tt^Fe,8),U=U+tt|0,lt=D(lt^U,7),Ee=Ee+We|0,tt=D(tt^Ee,16),m=m+tt|0,We=D(We^m,12),Ee=Ee+We|0,tt=D(tt^Ee,8),m=m+tt|0,We=D(We^m,7),Re=Re+Le|0,ne=D(ne^Re,16),U=U+ne|0,Le=D(Le^U,12),Re=Re+Le|0,ne=D(ne^Re,8),U=U+ne|0,Le=D(Le^U,7),$e=$e+lt|0,ge=D(ge^$e,16),B=B+ge|0,lt=D(lt^B,12),$e=$e+lt|0,ge=D(ge^$e,8),B=B+ge|0,lt=D(lt^B,7),Fe=Fe+Et|0,Ae=D(Ae^Fe,16),w=w+Ae|0,Et=D(Et^w,12),Fe=Fe+Et|0,Ae=D(Ae^Fe,8),w=w+Ae|0,Et=D(Et^w,7);let Bt=0;s[Bt++]=K+Ee|0,s[Bt++]=ee+Re|0,s[Bt++]=ce+$e|0,s[Bt++]=_e+Fe|0,s[Bt++]=Oe+Et|0,s[Bt++]=Ve+We|0,s[Bt++]=Se+Le|0,s[Bt++]=be+lt|0,s[Bt++]=Ue+B|0,s[Bt++]=ye+w|0,s[Bt++]=De+m|0,s[Bt++]=pe+U|0,s[Bt++]=ue+ne|0,s[Bt++]=Q+ge|0,s[Bt++]=oe+Ae|0,s[Bt++]=fe+tt|0}const de=Z(ie,{counterRight:!1,counterLength:4,allowShortKeys:!1}),le=Z(ie,{counterRight:!1,counterLength:8,extendNonceFn:function ae(T,N,A,s){let v=T[0],W=T[1],K=T[2],ee=T[3],ce=N[0],_e=N[1],Oe=N[2],Ve=N[3],Se=N[4],be=N[5],Ue=N[6],ye=N[7],De=A[0],pe=A[1],ue=A[2],Q=A[3];for(let fe=0;fe<20;fe+=2)v=v+ce|0,De=D(De^v,16),Se=Se+De|0,ce=D(ce^Se,12),v=v+ce|0,De=D(De^v,8),Se=Se+De|0,ce=D(ce^Se,7),W=W+_e|0,pe=D(pe^W,16),be=be+pe|0,_e=D(_e^be,12),W=W+_e|0,pe=D(pe^W,8),be=be+pe|0,_e=D(_e^be,7),K=K+Oe|0,ue=D(ue^K,16),Ue=Ue+ue|0,Oe=D(Oe^Ue,12),K=K+Oe|0,ue=D(ue^K,8),Ue=Ue+ue|0,Oe=D(Oe^Ue,7),ee=ee+Ve|0,Q=D(Q^ee,16),ye=ye+Q|0,Ve=D(Ve^ye,12),ee=ee+Ve|0,Q=D(Q^ee,8),ye=ye+Q|0,Ve=D(Ve^ye,7),v=v+_e|0,Q=D(Q^v,16),Ue=Ue+Q|0,_e=D(_e^Ue,12),v=v+_e|0,Q=D(Q^v,8),Ue=Ue+Q|0,_e=D(_e^Ue,7),W=W+Oe|0,De=D(De^W,16),ye=ye+De|0,Oe=D(Oe^ye,12),W=W+Oe|0,De=D(De^W,8),ye=ye+De|0,Oe=D(Oe^ye,7),K=K+Ve|0,pe=D(pe^K,16),Se=Se+pe|0,Ve=D(Ve^Se,12),K=K+Ve|0,pe=D(pe^K,8),Se=Se+pe|0,Ve=D(Ve^Se,7),ee=ee+ce|0,ue=D(ue^ee,16),be=be+ue|0,ce=D(ce^be,12),ee=ee+ce|0,ue=D(ue^ee,8),be=be+ue|0,ce=D(ce^be,7);let oe=0;s[oe++]=v,s[oe++]=W,s[oe++]=K,s[oe++]=ee,s[oe++]=De,s[oe++]=pe,s[oe++]=ue,s[oe++]=Q},allowShortKeys:!1}),Ce=new Uint8Array(16),C=(T,N)=>{T.update(N);const A=N.length%16;A&&T.update(Ce.subarray(A))},a=new Uint8Array(32);function u(T,N,A,s,v){const W=T(N,A,a),K=P.create(W);v&&C(K,v),C(K,s);const ee=new Uint8Array(16),ce=(0,f.O8)(ee);(0,f.zp)(ce,0,BigInt(v?v.length:0),!0),(0,f.zp)(ce,8,BigInt(s.length),!0),K.update(ee);const _e=K.digest();return W.fill(0),_e}const y=T=>(N,A,s)=>((0,f.qj)(N,32),(0,f.qj)(A),{encrypt:(W,K)=>{const ee=W.length,ce=ee+16;K?(0,f.qj)(K,ce):K=new Uint8Array(ce),T(N,A,W,K,1);const _e=u(T,N,A,K.subarray(0,-16),s);return K.set(_e,ee),K},decrypt:(W,K)=>{const ee=W.length,ce=ee-16;if(ee<16)throw new Error("encrypted data must be at least 16 bytes");K?(0,f.qj)(K,ce):K=new Uint8Array(ce);const _e=W.subarray(0,-16),Oe=W.subarray(-16),Ve=u(T,N,A,_e,s);if(!(0,f.ex)(Oe,Ve))throw new Error("invalid tag");return T(N,A,_e,K,1),K}});y(de),y(le)},25953:(je,z,E)=>{"use strict";E.d(z,{AI:()=>Z,DH:()=>k,O8:()=>x,ZJ:()=>ae,ex:()=>xe,qj:()=>we,qn:()=>C,tY:()=>le,zp:()=>a});const k=y=>new Uint32Array(y.buffer,y.byteOffset,Math.floor(y.byteLength/4));function H(y){return y instanceof Uint8Array||null!=y&&"object"==typeof y&&"Uint8Array"===y.constructor.name}const x=y=>new DataView(y.buffer,y.byteOffset,y.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Z(y){if("string"!=typeof y)throw new Error("utf8ToBytes expected string, got "+typeof y);return new Uint8Array((new TextEncoder).encode(y))}function ae(y){if("string"==typeof y)y=Z(y);else{if(!H(y))throw new Error("expected Uint8Array, got "+typeof y);y=y.slice()}return y}const de=y=>"[object Object]"===Object.prototype.toString.call(y)&&y.constructor===Object;function le(y,g){if(void 0!==g&&("object"!=typeof g||!de(g)))throw new Error("options must be object or undefined");return Object.assign(y,g)}function we(y,g){if(!H(y))throw new Error("Uint8Array expected");if("number"==typeof g&&y.length!==g)throw new Error(`Uint8Array length ${g} expected`)}function xe(y,g){if(y.length!==g.length)return!1;let S=0;for(let T=0;T<y.length;T++)S|=y[T]^g[T];return 0===S}const C=(y,g)=>(Object.assign(g,y),g);function a(y,g,S,T){if("function"==typeof y.setBigUint64)return y.setBigUint64(g,S,T);const N=BigInt(32),A=BigInt(4294967295),s=Number(S>>N&A),v=Number(S&A),K=T?0:4;y.setUint32(g+(T?4:0),s,T),y.setUint32(g+K,v,T)}},91879:(je,z,E)=>{"use strict";E.d(z,{NZ:()=>x});const f="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function x(){if(f&&"object"==typeof f.subtle&&null!=f.subtle)return f.subtle;throw new Error("crypto.subtle must be defined")}E(25953),E(34931)},2716:(je,z,E)=>{"use strict";E.d(z,{s:()=>se});var f=E(75781),_=E(62953),k=E(35765),H=E(91006),x=E(7184);const{Ph:M,aT:O}=H,F={Err:class extends Error{constructor(le=""){super(le)}},_parseInt(de){const{Err:le}=F;if(de.length<2||2!==de[0])throw new le("Invalid signature integer tag");const we=de[1],xe=de.subarray(2,we+2);if(!we||xe.length!==we)throw new le("Invalid signature integer: wrong length");if(128&xe[0])throw new le("Invalid signature integer: negative");if(0===xe[0]&&!(128&xe[1]))throw new le("Invalid signature integer: unnecessary leading zero");return{d:M(xe),l:de.subarray(we+2)}},toSig(de){const{Err:le}=F,we="string"==typeof de?O(de):de;if(!H.aY(we))throw new Error("ui8a expected");let xe=we.length;if(xe<2||48!=we[0])throw new le("Invalid signature tag");if(we[1]!==xe-2)throw new le("Invalid signature: incorrect length");const{d:Ce,l:C}=F._parseInt(we.subarray(2)),{d:a,l:u}=F._parseInt(C);if(u.length)throw new le("Invalid signature: left bytes after parsing");return{r:Ce,s:a}},hexFromSig(de){const le=g=>8&Number.parseInt(g[0],16)?"00"+g:g,we=g=>{const S=g.toString(16);return 1&S.length?`0${S}`:S},xe=le(we(de.s)),Ce=le(we(de.r)),C=xe.length/2,a=Ce.length/2,u=we(C),y=we(a);return`30${we(a+C+4)}02${y}${Ce}02${u}${xe}`}},L=BigInt(0),D=BigInt(1),j=(BigInt(2),BigInt(3));function J(de){const le=function te(de){const le=(0,x.h)(de);return H.Q5(le,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...le})}(de),{Fp:we,n:xe}=le,Ce=we.BYTES+1,C=2*we.BYTES+1;function u(oe){return k.zi(oe,xe)}function y(oe){return k.B8(oe,xe)}const{ProjectivePoint:g,normPrivateKeyToScalar:S,weierstrassEquation:T,isWithinCurveOrder:N}=function re(de){const le=function P(de){const le=(0,x.h)(de);H.Q5(le,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:we,Fp:xe,a:Ce}=le;if(we){if(!xe.eql(Ce,xe.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof we||"bigint"!=typeof we.beta||"function"!=typeof we.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...le})}(de),{Fp:we}=le,xe=le.toBytes||((s,v,W)=>{const K=v.toAffine();return H.Id(Uint8Array.from([4]),we.toBytes(K.x),we.toBytes(K.y))}),Ce=le.fromBytes||(s=>{const v=s.subarray(1);return{x:we.fromBytes(v.subarray(0,we.BYTES)),y:we.fromBytes(v.subarray(we.BYTES,2*we.BYTES))}});function C(s){const{a:v,b:W}=le,K=we.sqr(s),ee=we.mul(K,s);return we.add(we.add(ee,we.mul(s,v)),W)}if(!we.eql(we.sqr(le.Gy),C(le.Gx)))throw new Error("bad generator point: equation left != right");function a(s){return"bigint"==typeof s&&L<s&&s<le.n}function u(s){if(!a(s))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(s){const{allowedPrivateKeyLengths:v,nByteLength:W,wrapPrivateKey:K,n:ee}=le;if(v&&"bigint"!=typeof s){if(H.aY(s)&&(s=H.My(s)),"string"!=typeof s||!v.includes(s.length))throw new Error("Invalid key");s=s.padStart(2*W,"0")}let ce;try{ce="bigint"==typeof s?s:H.Ph((0,H.qj)("private key",s,W))}catch{throw new Error(`private key must be ${W} bytes, hex or bigint, not ${typeof s}`)}return K&&(ce=k.zi(ce,ee)),u(ce),ce}const g=new Map;function S(s){if(!(s instanceof T))throw new Error("ProjectivePoint expected")}class T{constructor(v,W,K){if(this.px=v,this.py=W,this.pz=K,null==v||!we.isValid(v))throw new Error("x required");if(null==W||!we.isValid(W))throw new Error("y required");if(null==K||!we.isValid(K))throw new Error("z required")}static fromAffine(v){const{x:W,y:K}=v||{};if(!v||!we.isValid(W)||!we.isValid(K))throw new Error("invalid affine point");if(v instanceof T)throw new Error("projective point not allowed");const ee=ce=>we.eql(ce,we.ZERO);return ee(W)&&ee(K)?T.ZERO:new T(W,K,we.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const W=we.invertBatch(v.map(K=>K.pz));return v.map((K,ee)=>K.toAffine(W[ee])).map(T.fromAffine)}static fromHex(v){const W=T.fromAffine(Ce((0,H.qj)("pointHex",v)));return W.assertValidity(),W}static fromPrivateKey(v){return T.BASE.multiply(y(v))}_setWindowSize(v){this._WINDOW_SIZE=v,g.delete(this)}assertValidity(){if(this.is0()){if(le.allowInfinityPoint&&!we.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:W}=this.toAffine();if(!we.isValid(v)||!we.isValid(W))throw new Error("bad point: x or y not FE");const K=we.sqr(W),ee=C(v);if(!we.eql(K,ee))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(we.isOdd)return!we.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){S(v);const{px:W,py:K,pz:ee}=this,{px:ce,py:_e,pz:Oe}=v,Ve=we.eql(we.mul(W,Oe),we.mul(ce,ee)),Se=we.eql(we.mul(K,Oe),we.mul(_e,ee));return Ve&&Se}negate(){return new T(this.px,we.neg(this.py),this.pz)}double(){const{a:v,b:W}=le,K=we.mul(W,j),{px:ee,py:ce,pz:_e}=this;let Oe=we.ZERO,Ve=we.ZERO,Se=we.ZERO,be=we.mul(ee,ee),Ue=we.mul(ce,ce),ye=we.mul(_e,_e),De=we.mul(ee,ce);return De=we.add(De,De),Se=we.mul(ee,_e),Se=we.add(Se,Se),Oe=we.mul(v,Se),Ve=we.mul(K,ye),Ve=we.add(Oe,Ve),Oe=we.sub(Ue,Ve),Ve=we.add(Ue,Ve),Ve=we.mul(Oe,Ve),Oe=we.mul(De,Oe),Se=we.mul(K,Se),ye=we.mul(v,ye),De=we.sub(be,ye),De=we.mul(v,De),De=we.add(De,Se),Se=we.add(be,be),be=we.add(Se,be),be=we.add(be,ye),be=we.mul(be,De),Ve=we.add(Ve,be),ye=we.mul(ce,_e),ye=we.add(ye,ye),be=we.mul(ye,De),Oe=we.sub(Oe,be),Se=we.mul(ye,Ue),Se=we.add(Se,Se),Se=we.add(Se,Se),new T(Oe,Ve,Se)}add(v){S(v);const{px:W,py:K,pz:ee}=this,{px:ce,py:_e,pz:Oe}=v;let Ve=we.ZERO,Se=we.ZERO,be=we.ZERO;const Ue=le.a,ye=we.mul(le.b,j);let De=we.mul(W,ce),pe=we.mul(K,_e),ue=we.mul(ee,Oe),Q=we.add(W,K),oe=we.add(ce,_e);Q=we.mul(Q,oe),oe=we.add(De,pe),Q=we.sub(Q,oe),oe=we.add(W,ee);let fe=we.add(ce,Oe);return oe=we.mul(oe,fe),fe=we.add(De,ue),oe=we.sub(oe,fe),fe=we.add(K,ee),Ve=we.add(_e,Oe),fe=we.mul(fe,Ve),Ve=we.add(pe,ue),fe=we.sub(fe,Ve),be=we.mul(Ue,oe),Ve=we.mul(ye,ue),be=we.add(Ve,be),Ve=we.sub(pe,be),be=we.add(pe,be),Se=we.mul(Ve,be),pe=we.add(De,De),pe=we.add(pe,De),ue=we.mul(Ue,ue),oe=we.mul(ye,oe),pe=we.add(pe,ue),ue=we.sub(De,ue),ue=we.mul(Ue,ue),oe=we.add(oe,ue),De=we.mul(pe,oe),Se=we.add(Se,De),De=we.mul(fe,oe),Ve=we.mul(Q,Ve),Ve=we.sub(Ve,De),De=we.mul(Q,pe),be=we.mul(fe,be),be=we.add(be,De),new T(Ve,Se,be)}subtract(v){return this.add(v.negate())}is0(){return this.equals(T.ZERO)}wNAF(v){return A.wNAFCached(this,g,v,W=>{const K=we.invertBatch(W.map(ee=>ee.pz));return W.map((ee,ce)=>ee.toAffine(K[ce])).map(T.fromAffine)})}multiplyUnsafe(v){const W=T.ZERO;if(v===L)return W;if(u(v),v===D)return this;const{endo:K}=le;if(!K)return A.unsafeLadder(this,v);let{k1neg:ee,k1:ce,k2neg:_e,k2:Oe}=K.splitScalar(v),Ve=W,Se=W,be=this;for(;ce>L||Oe>L;)ce&D&&(Ve=Ve.add(be)),Oe&D&&(Se=Se.add(be)),be=be.double(),ce>>=D,Oe>>=D;return ee&&(Ve=Ve.negate()),_e&&(Se=Se.negate()),Se=new T(we.mul(Se.px,K.beta),Se.py,Se.pz),Ve.add(Se)}multiply(v){u(v);let K,ee,W=v;const{endo:ce}=le;if(ce){const{k1neg:_e,k1:Oe,k2neg:Ve,k2:Se}=ce.splitScalar(W);let{p:be,f:Ue}=this.wNAF(Oe),{p:ye,f:De}=this.wNAF(Se);be=A.constTimeNegate(_e,be),ye=A.constTimeNegate(Ve,ye),ye=new T(we.mul(ye.px,ce.beta),ye.py,ye.pz),K=be.add(ye),ee=Ue.add(De)}else{const{p:_e,f:Oe}=this.wNAF(W);K=_e,ee=Oe}return T.normalizeZ([K,ee])[0]}multiplyAndAddUnsafe(v,W,K){const ee=T.BASE,ce=(Oe,Ve)=>Ve!==L&&Ve!==D&&Oe.equals(ee)?Oe.multiply(Ve):Oe.multiplyUnsafe(Ve),_e=ce(this,W).add(ce(v,K));return _e.is0()?void 0:_e}toAffine(v){const{px:W,py:K,pz:ee}=this,ce=this.is0();null==v&&(v=ce?we.ONE:we.inv(ee));const _e=we.mul(W,v),Oe=we.mul(K,v),Ve=we.mul(ee,v);if(ce)return{x:we.ZERO,y:we.ZERO};if(!we.eql(Ve,we.ONE))throw new Error("invZ was invalid");return{x:_e,y:Oe}}isTorsionFree(){const{h:v,isTorsionFree:W}=le;if(v===D)return!0;if(W)return W(T,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:W}=le;return v===D?this:W?W(T,this):this.multiplyUnsafe(le.h)}toRawBytes(v=!0){return this.assertValidity(),xe(T,this,v)}toHex(v=!0){return H.My(this.toRawBytes(v))}}T.BASE=new T(le.Gx,le.Gy,we.ONE),T.ZERO=new T(we.ZERO,we.ONE,we.ZERO);const N=le.nBitLength,A=(0,x.A)(T,le.endo?Math.ceil(N/2):N);return{CURVE:le,ProjectivePoint:T,normPrivateKeyToScalar:y,weierstrassEquation:C,isWithinCurveOrder:a}}({...le,toBytes(oe,fe,Ee){const Re=fe.toAffine(),$e=we.toBytes(Re.x),Fe=H.Id;return Ee?Fe(Uint8Array.from([fe.hasEvenY()?2:3]),$e):Fe(Uint8Array.from([4]),$e,we.toBytes(Re.y))},fromBytes(oe){const fe=oe.length,Ee=oe[0],Re=oe.subarray(1);if(fe!==Ce||2!==Ee&&3!==Ee){if(fe===C&&4===Ee)return{x:we.fromBytes(Re.subarray(0,we.BYTES)),y:we.fromBytes(Re.subarray(we.BYTES,2*we.BYTES))};throw new Error(`Point of length ${fe} was invalid. Expected ${Ce} compressed bytes or ${C} uncompressed bytes`)}{const $e=H.Ph(Re);if(!function a(oe){return L<oe&&oe<we.ORDER}($e))throw new Error("Point is not on curve");const Fe=T($e);let Et=we.sqrt(Fe);return!(1&~Ee)!=((Et&D)===D)&&(Et=we.neg(Et)),{x:$e,y:Et}}}}),A=oe=>H.My(H.lq(oe,le.nByteLength));function s(oe){return oe>xe>>D}const W=(oe,fe,Ee)=>H.Ph(oe.slice(fe,Ee));class K{constructor(fe,Ee,Re){this.r=fe,this.s=Ee,this.recovery=Re,this.assertValidity()}static fromCompact(fe){const Ee=le.nByteLength;return fe=(0,H.qj)("compactSignature",fe,2*Ee),new K(W(fe,0,Ee),W(fe,Ee,2*Ee))}static fromDER(fe){const{r:Ee,s:Re}=F.toSig((0,H.qj)("DER",fe));return new K(Ee,Re)}assertValidity(){if(!N(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!N(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(fe){return new K(this.r,this.s,fe)}recoverPublicKey(fe){const{r:Ee,s:Re,recovery:$e}=this,Fe=Se((0,H.qj)("msgHash",fe));if(null==$e||![0,1,2,3].includes($e))throw new Error("recovery id invalid");const Et=2===$e||3===$e?Ee+le.n:Ee;if(Et>=we.ORDER)throw new Error("recovery id 2 or 3 invalid");const Le=g.fromHex((1&$e?"03":"02")+A(Et)),lt=y(Et),B=u(-Fe*lt),w=u(Re*lt),m=g.BASE.multiplyAndAddUnsafe(Le,B,w);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return s(this.s)}normalizeS(){return this.hasHighS()?new K(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return H.aT(this.toDERHex())}toDERHex(){return F.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return H.aT(this.toCompactHex())}toCompactHex(){return A(this.r)+A(this.s)}}const ee={isValidPrivateKey(oe){try{return S(oe),!0}catch{return!1}},normPrivateKeyToScalar:S,randomPrivateKey:()=>{const oe=k.Tp(le.n);return k.qy(le.randomBytes(oe),le.n)},precompute:(oe=8,fe=g.BASE)=>(fe._setWindowSize(oe),fe.multiply(BigInt(3)),fe)};function _e(oe){const fe=H.aY(oe),Ee="string"==typeof oe,Re=(fe||Ee)&&oe.length;return fe?Re===Ce||Re===C:Ee?Re===2*Ce||Re===2*C:oe instanceof g}const Ve=le.bits2int||function(oe){const fe=H.Ph(oe),Ee=8*oe.length-le.nBitLength;return Ee>0?fe>>BigInt(Ee):fe},Se=le.bits2int_modN||function(oe){return u(Ve(oe))},be=H.OG(le.nBitLength);function Ue(oe){if("bigint"!=typeof oe)throw new Error("bigint expected");if(!(L<=oe&&oe<be))throw new Error(`bigint expected < 2^${le.nBitLength}`);return H.lq(oe,le.nByteLength)}const De={lowS:le.lowS,prehash:!1},pe={lowS:le.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:le,getPublicKey:function ce(oe,fe=!0){return g.fromPrivateKey(oe).toRawBytes(fe)},getSharedSecret:function Oe(oe,fe,Ee=!0){if(_e(oe))throw new Error("first arg must be private key");if(!_e(fe))throw new Error("second arg must be public key");return g.fromHex(fe).multiply(S(oe)).toRawBytes(Ee)},sign:function ue(oe,fe,Ee=De){const{seed:Re,k2sig:$e}=function ye(oe,fe,Ee=De){if(["recovered","canonical"].some(ne=>ne in Ee))throw new Error("sign() legacy options not supported");const{hash:Re,randomBytes:$e}=le;let{lowS:Fe,prehash:Et,extraEntropy:We}=Ee;null==Fe&&(Fe=!0),oe=(0,H.qj)("msgHash",oe),Et&&(oe=(0,H.qj)("prehashed msgHash",Re(oe)));const Le=Se(oe),lt=S(fe),B=[Ue(lt),Ue(Le)];if(null!=We){const ne=!0===We?$e(we.BYTES):We;B.push((0,H.qj)("extraEntropy",ne))}const w=H.Id(...B),m=Le;return{seed:w,k2sig:function U(ne){const ge=Ve(ne);if(!N(ge))return;const Ae=y(ge),tt=g.BASE.multiply(ge).toAffine(),Bt=u(tt.x);if(Bt===L)return;const vt=u(Ae*u(m+Bt*lt));if(vt===L)return;let It=(tt.x===Bt?0:2)|Number(tt.y&D),Gt=vt;return Fe&&s(vt)&&(Gt=function v(oe){return s(oe)?u(-oe):oe}(vt),It^=1),new K(Bt,Gt,It)}}}(oe,fe,Ee);return H.fg(le.hash.outputLen,le.nByteLength,le.hmac)(Re,$e)},verify:function Q(oe,fe,Ee,Re=pe){const $e=oe;if(fe=(0,H.qj)("msgHash",fe),Ee=(0,H.qj)("publicKey",Ee),"strict"in Re)throw new Error("options.strict was renamed to lowS");const{lowS:Fe,prehash:Et}=Re;let We,Le;try{if("string"==typeof $e||H.aY($e))try{We=K.fromDER($e)}catch(tt){if(!(tt instanceof F.Err))throw tt;We=K.fromCompact($e)}else{if("object"!=typeof $e||"bigint"!=typeof $e.r||"bigint"!=typeof $e.s)throw new Error("PARSE");{const{r:tt,s:Bt}=$e;We=new K(tt,Bt)}}Le=g.fromHex(Ee)}catch(tt){if("PARSE"===tt.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Fe&&We.hasHighS())return!1;Et&&(fe=le.hash(fe));const{r:lt,s:B}=We,w=Se(fe),m=y(B),U=u(w*m),ne=u(lt*m),ge=g.BASE.multiplyAndAddUnsafe(Le,U,ne)?.toAffine();return!!ge&&u(ge.x)===lt},ProjectivePoint:g,Signature:K,utils:ee}}function ae(de){return{hash:de,hmac:(le,...we)=>(0,f.w)(de,le,(0,_.Id)(...we)),randomBytes:_.po}}function se(de,le){const we=xe=>J({...de,...ae(xe)});return Object.freeze({...we(le),create:we})}BigInt(4)},7184:(je,z,E)=>{"use strict";E.d(z,{A:()=>x,h:()=>P});var f=E(35765),_=E(91006);const k=BigInt(0),H=BigInt(1);function x(M,O){const F=(D,X)=>{const j=X.negate();return D?j:X},L=D=>({windows:Math.ceil(O/D)+1,windowSize:2**(D-1)});return{constTimeNegate:F,unsafeLadder(D,X){let j=M.ZERO,G=D;for(;X>k;)X&H&&(j=j.add(G)),G=G.double(),X>>=H;return j},precomputeWindow(D,X){const{windows:j,windowSize:G}=L(X),re=[];let te=D,J=te;for(let Z=0;Z<j;Z++){J=te,re.push(J);for(let ie=1;ie<G;ie++)J=J.add(te),re.push(J);te=J.double()}return re},wNAF(D,X,j){const{windows:G,windowSize:re}=L(D);let te=M.ZERO,J=M.BASE;const Z=BigInt(2**D-1),ie=2**D,ae=BigInt(D);for(let se=0;se<G;se++){const de=se*re;let le=Number(j&Z);j>>=ae,le>re&&(le-=ie,j+=H);const we=de,xe=de+Math.abs(le)-1,C=le<0;0===le?J=J.add(F(se%2!=0,X[we])):te=te.add(F(C,X[xe]))}return{p:te,f:J}},wNAFCached(D,X,j,G){const re=D._WINDOW_SIZE||1;let te=X.get(D);return te||(te=this.precomputeWindow(D,re),1!==re&&X.set(D,G(te))),this.wNAF(re,te,j)}}}function P(M){return(0,f.jr)(M.Fp),(0,_.Q5)(M,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,f.LH)(M.n,M.nBitLength),...M,p:M.Fp.ORDER})}},35765:(je,z,E)=>{"use strict";E.d(z,{B8:()=>G,D0:()=>xe,LH:()=>we,Tp:()=>y,Tv:()=>C,dQ:()=>J,jr:()=>ie,n7:()=>X,qy:()=>g,zH:()=>j,zi:()=>D});var f=E(91006);const _=BigInt(0),k=BigInt(1),H=BigInt(2),x=BigInt(3),P=BigInt(4),M=BigInt(5),O=BigInt(8);function D(S,T){const N=S%T;return N>=_?N:T+N}function X(S,T,N){if(N<=_||T<_)throw new Error("Expected power/modulo > 0");if(N===k)return _;let A=k;for(;T>_;)T&k&&(A=A*S%N),S=S*S%N,T>>=k;return A}function j(S,T,N){let A=S;for(;T-- >_;)A*=A,A%=N;return A}function G(S,T){if(S===_||T<=_)throw new Error(`invert: expected positive integers, got n=${S} mod=${T}`);let N=D(S,T),A=T,s=_,v=k,W=k,K=_;for(;N!==_;){const ce=A/N,_e=A%N,Oe=s-W*ce,Ve=v-K*ce;A=N,N=_e,s=W,v=K,W=Oe,K=Ve}if(A!==k)throw new Error("invert: does not exist");return D(s,T)}BigInt(9),BigInt(16);const J=(S,T)=>(D(S,T)&k)===k,Z=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ie(S){const N=Z.reduce((A,s)=>(A[s]="function",A),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,f.Q5)(S,N)}function we(S,T){const N=void 0!==T?T:S.toString(2).length;return{nBitLength:N,nByteLength:Math.ceil(N/8)}}function xe(S,T,N=!1,A={}){if(S<=_)throw new Error(`Expected Field ORDER > 0, got ${S}`);const{nBitLength:s,nByteLength:v}=we(S,T);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const W=function te(S){if(S%P===x){const T=(S+k)/P;return function(A,s){const v=A.pow(s,T);if(!A.eql(A.sqr(v),s))throw new Error("Cannot find square root");return v}}if(S%O===M){const T=(S-M)/O;return function(A,s){const v=A.mul(s,H),W=A.pow(v,T),K=A.mul(s,W),ee=A.mul(A.mul(K,H),W),ce=A.mul(K,A.sub(ee,A.ONE));if(!A.eql(A.sqr(ce),s))throw new Error("Cannot find square root");return ce}}return function re(S){const T=(S-k)/H;let N,A,s;for(N=S-k,A=0;N%H===_;N/=H,A++);for(s=H;s<S&&X(s,T,S)!==S-k;s++);if(1===A){const W=(S+k)/P;return function(ee,ce){const _e=ee.pow(ce,W);if(!ee.eql(ee.sqr(_e),ce))throw new Error("Cannot find square root");return _e}}const v=(N+k)/H;return function(K,ee){if(K.pow(ee,T)===K.neg(K.ONE))throw new Error("Cannot find square root");let ce=A,_e=K.pow(K.mul(K.ONE,s),N),Oe=K.pow(ee,v),Ve=K.pow(ee,N);for(;!K.eql(Ve,K.ONE);){if(K.eql(Ve,K.ZERO))return K.ZERO;let Se=1;for(let Ue=K.sqr(Ve);Se<ce&&!K.eql(Ue,K.ONE);Se++)Ue=K.sqr(Ue);const be=K.pow(_e,k<<BigInt(ce-Se-1));_e=K.sqr(be),Oe=K.mul(Oe,be),Ve=K.mul(Ve,_e),ce=Se}return Oe}}(S)}(S),K=Object.freeze({ORDER:S,BITS:s,BYTES:v,MASK:(0,f.OG)(s),ZERO:_,ONE:k,create:ee=>D(ee,S),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return _<=ee&&ee<S},is0:ee=>ee===_,isOdd:ee=>(ee&k)===k,neg:ee=>D(-ee,S),eql:(ee,ce)=>ee===ce,sqr:ee=>D(ee*ee,S),add:(ee,ce)=>D(ee+ce,S),sub:(ee,ce)=>D(ee-ce,S),mul:(ee,ce)=>D(ee*ce,S),pow:(ee,ce)=>function ae(S,T,N){if(N<_)throw new Error("Expected power > 0");if(N===_)return S.ONE;if(N===k)return T;let A=S.ONE,s=T;for(;N>_;)N&k&&(A=S.mul(A,s)),s=S.sqr(s),N>>=k;return A}(K,ee,ce),div:(ee,ce)=>D(ee*G(ce,S),S),sqrN:ee=>ee*ee,addN:(ee,ce)=>ee+ce,subN:(ee,ce)=>ee-ce,mulN:(ee,ce)=>ee*ce,inv:ee=>G(ee,S),sqrt:A.sqrt||(ee=>W(K,ee)),invertBatch:ee=>function se(S,T){const N=new Array(T.length),A=T.reduce((v,W,K)=>S.is0(W)?v:(N[K]=v,S.mul(v,W)),S.ONE),s=S.inv(A);return T.reduceRight((v,W,K)=>S.is0(W)?v:(N[K]=S.mul(v,N[K]),S.mul(v,W)),s),N}(K,ee),cmov:(ee,ce,_e)=>_e?ce:ee,toBytes:ee=>N?(0,f.z)(ee,v):(0,f.lq)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return N?(0,f.lX)(ee):(0,f.Ph)(ee)}});return Object.freeze(K)}function C(S,T){if(!S.isOdd)throw new Error("Field doesn't have isOdd");const N=S.sqrt(T);return S.isOdd(N)?S.neg(N):N}function u(S){if("bigint"!=typeof S)throw new Error("field order must be bigint");const T=S.toString(2).length;return Math.ceil(T/8)}function y(S){const T=u(S);return T+Math.ceil(T/2)}function g(S,T,N=!1){const A=S.length,s=u(T),v=y(T);if(A<16||A<v||A>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${A}`);const K=D(N?(0,f.Ph)(S):(0,f.lX)(S),T-k)+k;return N?(0,f.z)(K,s):(0,f.lq)(K,s)}},91006:(je,z,E)=>{"use strict";E.d(z,{Id:()=>Z,My:()=>P,OG:()=>we,Ph:()=>X,Q5:()=>u,aT:()=>D,aY:()=>H,fg:()=>C,lX:()=>j,lq:()=>G,qj:()=>J,z:()=>re}),BigInt(0);const _=BigInt(1),k=BigInt(2);function H(y){return y instanceof Uint8Array||null!=y&&"object"==typeof y&&"Uint8Array"===y.constructor.name}const x=Array.from({length:256},(y,g)=>g.toString(16).padStart(2,"0"));function P(y){if(!H(y))throw new Error("Uint8Array expected");let g="";for(let S=0;S<y.length;S++)g+=x[y[S]];return g}function O(y){if("string"!=typeof y)throw new Error("hex string expected, got "+typeof y);return BigInt(""===y?"0":`0x${y}`)}const F={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function L(y){return y>=F._0&&y<=F._9?y-F._0:y>=F._A&&y<=F._F?y-(F._A-10):y>=F._a&&y<=F._f?y-(F._a-10):void 0}function D(y){if("string"!=typeof y)throw new Error("hex string expected, got "+typeof y);const g=y.length,S=g/2;if(g%2)throw new Error("padded hex string expected, got unpadded hex of length "+g);const T=new Uint8Array(S);for(let N=0,A=0;N<S;N++,A+=2){const s=L(y.charCodeAt(A)),v=L(y.charCodeAt(A+1));if(void 0===s||void 0===v)throw new Error('hex string expected, got non-hex character "'+(y[A]+y[A+1])+'" at index '+A);T[N]=16*s+v}return T}function X(y){return O(P(y))}function j(y){if(!H(y))throw new Error("Uint8Array expected");return O(P(Uint8Array.from(y).reverse()))}function G(y,g){return D(y.toString(16).padStart(2*g,"0"))}function re(y,g){return G(y,g).reverse()}function J(y,g,S){let T;if("string"==typeof g)try{T=D(g)}catch(A){throw new Error(`${y} must be valid hex string, got "${g}". Cause: ${A}`)}else{if(!H(g))throw new Error(`${y} must be hex string or Uint8Array`);T=Uint8Array.from(g)}const N=T.length;if("number"==typeof S&&N!==S)throw new Error(`${y} expected ${S} bytes, got ${N}`);return T}function Z(...y){let g=0;for(let N=0;N<y.length;N++){const A=y[N];if(!H(A))throw new Error("Uint8Array expected");g+=A.length}let S=new Uint8Array(g),T=0;for(let N=0;N<y.length;N++){const A=y[N];S.set(A,T),T+=A.length}return S}const we=y=>(k<<BigInt(y-1))-_,xe=y=>new Uint8Array(y),Ce=y=>Uint8Array.from(y);function C(y,g,S){if("number"!=typeof y||y<2)throw new Error("hashLen must be a number");if("number"!=typeof g||g<2)throw new Error("qByteLen must be a number");if("function"!=typeof S)throw new Error("hmacFn must be a function");let T=xe(y),N=xe(y),A=0;const s=()=>{T.fill(1),N.fill(0),A=0},v=(...ce)=>S(N,T,...ce),W=(ce=xe())=>{N=v(Ce([0]),ce),T=v(),0!==ce.length&&(N=v(Ce([1]),ce),T=v())},K=()=>{if(A++>=1e3)throw new Error("drbg: tried 1000 values");let ce=0;const _e=[];for(;ce<g;){T=v();const Oe=T.slice();_e.push(Oe),ce+=T.length}return Z(..._e)};return(ce,_e)=>{let Oe;for(s(),W(ce);!(Oe=_e(K()));)W();return s(),Oe}}const a={bigint:y=>"bigint"==typeof y,function:y=>"function"==typeof y,boolean:y=>"boolean"==typeof y,string:y=>"string"==typeof y,stringOrUint8Array:y=>"string"==typeof y||H(y),isSafeInteger:y=>Number.isSafeInteger(y),array:y=>Array.isArray(y),field:(y,g)=>g.Fp.isValid(y),hash:y=>"function"==typeof y&&Number.isSafeInteger(y.outputLen)};function u(y,g,S={}){const T=(N,A,s)=>{const v=a[A];if("function"!=typeof v)throw new Error(`Invalid validator "${A}", expected function`);const W=y[N];if(!(s&&void 0===W||v(W,y)))throw new Error(`Invalid param ${String(N)}=${W} (${typeof W}), expected ${A}`)};for(const[N,A]of Object.entries(g))T(N,A,!1);for(const[N,A]of Object.entries(S))T(N,A,!0);return y}},86295:(je,z,E)=>{"use strict";E.d(z,{ev:()=>T,OA:()=>ee,GU:()=>W,TU:()=>v});var f=E(25431),_=E(62953),k=E(35765),H=E(91006),x=E(7184);const P=BigInt(0),M=BigInt(1),O=BigInt(2),F=BigInt(8),L={zip215:!0};function X(U){const ne=function D(U){const ne=(0,x.h)(U);return H.Q5(U,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...ne})}(U),{Fp:ge,n:Ae,prehash:tt,hash:Bt,randomBytes:vt,nByteLength:It,h:Gt}=ne,hn=O<<BigInt(8*It)-M,dn=ge.create,ar=ne.uvRatio||((Fn,Lt)=>{try{return{isValid:!0,value:ge.sqrt(Fn*ge.inv(Lt))}}catch{return{isValid:!1,value:P}}}),An=ne.adjustScalarBytes||(Fn=>Fn),en=ne.domain||((Fn,Lt,et)=>{if(Lt.length||et)throw new Error("Contexts/pre-hash are not supported");return Fn}),Qt=Fn=>"bigint"==typeof Fn&&P<Fn,_t=(Fn,Lt)=>Qt(Fn)&&Qt(Lt)&&Fn<Lt,ft=Fn=>Fn===P||_t(Fn,hn);function Wt(Fn,Lt){if(_t(Fn,Lt))return Fn;throw new Error(`Expected valid scalar < ${Lt}, got ${typeof Fn} ${Fn}`)}function qt(Fn){return Fn===P?Fn:Wt(Fn,Ae)}const pn=new Map;function fr(Fn){if(!(Fn instanceof gt))throw new Error("ExtendedPoint expected")}class gt{constructor(Lt,et,Te,Be){if(this.ex=Lt,this.ey=et,this.ez=Te,this.et=Be,!ft(Lt))throw new Error("x required");if(!ft(et))throw new Error("y required");if(!ft(Te))throw new Error("z required");if(!ft(Be))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Lt){if(Lt instanceof gt)throw new Error("extended point not allowed");const{x:et,y:Te}=Lt||{};if(!ft(et)||!ft(Te))throw new Error("invalid affine point");return new gt(et,Te,M,dn(et*Te))}static normalizeZ(Lt){const et=ge.invertBatch(Lt.map(Te=>Te.ez));return Lt.map((Te,Be)=>Te.toAffine(et[Be])).map(gt.fromAffine)}_setWindowSize(Lt){this._WINDOW_SIZE=Lt,pn.delete(this)}assertValidity(){const{a:Lt,d:et}=ne;if(this.is0())throw new Error("bad point: ZERO");const{ex:Te,ey:Be,ez:xt,et:nn}=this,In=dn(Te*Te),Kn=dn(Be*Be),tr=dn(xt*xt),Dr=dn(tr*tr),Mr=dn(In*Lt);if(dn(tr*dn(Mr+Kn))!==dn(Dr+dn(et*dn(In*Kn))))throw new Error("bad point: equation left != right (1)");if(dn(Te*Be)!==dn(xt*nn))throw new Error("bad point: equation left != right (2)")}equals(Lt){fr(Lt);const{ex:et,ey:Te,ez:Be}=this,{ex:xt,ey:nn,ez:In}=Lt,Kn=dn(et*In),tr=dn(xt*Be),Dr=dn(Te*In),Mr=dn(nn*Be);return Kn===tr&&Dr===Mr}is0(){return this.equals(gt.ZERO)}negate(){return new gt(dn(-this.ex),this.ey,this.ez,dn(-this.et))}double(){const{a:Lt}=ne,{ex:et,ey:Te,ez:Be}=this,xt=dn(et*et),nn=dn(Te*Te),In=dn(O*dn(Be*Be)),Kn=dn(Lt*xt),tr=et+Te,Dr=dn(dn(tr*tr)-xt-nn),Mr=Kn+nn,Ir=Mr-In,jr=Kn-nn,ni=dn(Dr*Ir),tn=dn(Mr*jr),_n=dn(Dr*jr),Tn=dn(Ir*Mr);return new gt(ni,tn,Tn,_n)}add(Lt){fr(Lt);const{a:et,d:Te}=ne,{ex:Be,ey:xt,ez:nn,et:In}=this,{ex:Kn,ey:tr,ez:Dr,et:Mr}=Lt;if(et===BigInt(-1)){const oi=dn((xt-Be)*(tr+Kn)),Ao=dn((xt+Be)*(tr-Kn)),wi=dn(Ao-oi);if(wi===P)return this.double();const Io=dn(nn*O*Mr),Co=dn(In*O*Dr),is=Co+Io,ji=Ao+oi,pi=Co-Io,Ui=dn(is*wi),la=dn(ji*pi),Si=dn(is*pi),os=dn(wi*ji);return new gt(Ui,la,os,Si)}const Ir=dn(Be*Kn),jr=dn(xt*tr),ni=dn(In*Te*Mr),tn=dn(nn*Dr),_n=dn((Be+xt)*(Kn+tr)-Ir-jr),Tn=tn-ni,jn=tn+ni,hr=dn(jr-et*Ir),Ar=dn(_n*Tn),xr=dn(jn*hr),zr=dn(_n*hr),Kr=dn(Tn*jn);return new gt(Ar,xr,Kr,zr)}subtract(Lt){return this.add(Lt.negate())}wNAF(Lt){return Ye.wNAFCached(this,pn,Lt,gt.normalizeZ)}multiply(Lt){const{p:et,f:Te}=this.wNAF(Wt(Lt,Ae));return gt.normalizeZ([et,Te])[0]}multiplyUnsafe(Lt){let et=qt(Lt);return et===P?St:this.equals(St)||et===M?this:this.equals(Mt)?this.wNAF(et).p:Ye.unsafeLadder(this,et)}isSmallOrder(){return this.multiplyUnsafe(Gt).is0()}isTorsionFree(){return Ye.unsafeLadder(this,Ae).is0()}toAffine(Lt){const{ex:et,ey:Te,ez:Be}=this,xt=this.is0();null==Lt&&(Lt=xt?F:ge.inv(Be));const nn=dn(et*Lt),In=dn(Te*Lt),Kn=dn(Be*Lt);if(xt)return{x:P,y:M};if(Kn!==M)throw new Error("invZ was invalid");return{x:nn,y:In}}clearCofactor(){const{h:Lt}=ne;return Lt===M?this:this.multiplyUnsafe(Lt)}static fromHex(Lt,et=!1){const{d:Te,a:Be}=ne,xt=ge.BYTES,nn=(Lt=(0,H.qj)("pointHex",Lt,xt)).slice(),In=Lt[xt-1];nn[xt-1]=-129&In;const Kn=H.lX(nn);Kn===P||Wt(Kn,et?hn:ge.ORDER);const tr=dn(Kn*Kn),Dr=dn(tr-M),Mr=dn(Te*tr-Be);let{isValid:Ir,value:jr}=ar(Dr,Mr);if(!Ir)throw new Error("Point.fromHex: invalid y coordinate");const ni=(jr&M)===M,tn=!!(128&In);if(!et&&jr===P&&tn)throw new Error("Point.fromHex: x=0 and x_0=1");return tn!==ni&&(jr=dn(-jr)),gt.fromAffine({x:jr,y:Kn})}static fromPrivateKey(Lt){return Nt(Lt).point}toRawBytes(){const{x:Lt,y:et}=this.toAffine(),Te=H.z(et,ge.BYTES);return Te[Te.length-1]|=Lt&M?128:0,Te}toHex(){return H.My(this.toRawBytes())}}gt.BASE=new gt(ne.Gx,ne.Gy,M,dn(ne.Gx*ne.Gy)),gt.ZERO=new gt(P,M,M,P);const{BASE:Mt,ZERO:St}=gt,Ye=(0,x.A)(gt,8*It);function nt(Fn){return(0,k.zi)(Fn,Ae)}function Ht(Fn){return nt(H.lX(Fn))}function Nt(Fn){const Lt=It;Fn=(0,H.qj)("private key",Fn,Lt);const et=(0,H.qj)("hashed private key",Bt(Fn),2*Lt),Te=An(et.slice(0,Lt)),Be=et.slice(Lt,2*Lt),xt=Ht(Te),nn=Mt.multiply(xt),In=nn.toRawBytes();return{head:Te,prefix:Be,scalar:xt,point:nn,pointBytes:In}}function Wn(Fn=new Uint8Array,...Lt){const et=H.Id(...Lt);return Ht(Bt(en(et,(0,H.qj)("context",Fn),!!tt)))}const kn=L;return Mt._setWindowSize(8),{CURVE:ne,getPublicKey:function un(Fn){return Nt(Fn).pointBytes},sign:function En(Fn,Lt,et={}){Fn=(0,H.qj)("message",Fn),tt&&(Fn=tt(Fn));const{prefix:Te,scalar:Be,pointBytes:xt}=Nt(Lt),nn=Wn(et.context,Te,Fn),In=Mt.multiply(nn).toRawBytes(),tr=nt(nn+Wn(et.context,In,xt,Fn)*Be);qt(tr);const Dr=H.Id(In,H.z(tr,ge.BYTES));return(0,H.qj)("result",Dr,2*It)},verify:function Or(Fn,Lt,et,Te=kn){const{context:Be,zip215:xt}=Te,nn=ge.BYTES;Fn=(0,H.qj)("signature",Fn,2*nn),Lt=(0,H.qj)("message",Lt),tt&&(Lt=tt(Lt));const In=H.lX(Fn.slice(nn,2*nn));let Kn,tr,Dr;try{Kn=gt.fromHex(et,xt),tr=gt.fromHex(Fn.slice(0,nn),xt),Dr=Mt.multiplyUnsafe(In)}catch{return!1}if(!xt&&Kn.isSmallOrder())return!1;const Mr=Wn(Be,tr.toRawBytes(),Kn.toRawBytes(),Lt);return tr.add(Kn.multiplyUnsafe(Mr)).subtract(Dr).clearCofactor().equals(gt.ZERO)},ExtendedPoint:gt,utils:{getExtendedPublicKey:Nt,randomPrivateKey:()=>vt(ge.BYTES),precompute:(Fn=8,Lt=gt.BASE)=>(Lt._setWindowSize(Fn),Lt.multiply(BigInt(3)),Lt)}}}const j=BigInt(0),G=BigInt(1),J=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Z=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ae=(BigInt(0),BigInt(1)),se=BigInt(2),de=BigInt(5),le=BigInt(10),we=BigInt(20),xe=BigInt(40),Ce=BigInt(80);function C(U){const ne=J,Ae=U*U%ne*U%ne,tt=(0,k.zH)(Ae,se,ne)*Ae%ne,Bt=(0,k.zH)(tt,ae,ne)*U%ne,vt=(0,k.zH)(Bt,de,ne)*Bt%ne,It=(0,k.zH)(vt,le,ne)*vt%ne,Gt=(0,k.zH)(It,we,ne)*It%ne,hn=(0,k.zH)(Gt,xe,ne)*Gt%ne,dn=(0,k.zH)(hn,Ce,ne)*hn%ne,ar=(0,k.zH)(dn,Ce,ne)*hn%ne,An=(0,k.zH)(ar,le,ne)*vt%ne;return{pow_p_5_8:(0,k.zH)(An,se,ne)*U%ne,b2:Ae}}function a(U){return U[0]&=248,U[31]&=127,U[31]|=64,U}const g=(0,k.D0)(J,void 0,!0),S={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:g,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:f.Zf,randomBytes:_.po,adjustScalarBytes:a,uvRatio:function u(U,ne){const ge=J,Ae=(0,k.zi)(ne*ne*ne,ge),Bt=C(U*(0,k.zi)(Ae*Ae*ne,ge)).pow_p_5_8;let vt=(0,k.zi)(U*Ae*Bt,ge);const It=(0,k.zi)(ne*vt*vt,ge),Gt=vt,hn=(0,k.zi)(vt*Z,ge),dn=It===U,ar=It===(0,k.zi)(-U,ge),An=It===(0,k.zi)(-U*Z,ge);return dn&&(vt=Gt),(ar||An)&&(vt=hn),(0,k.dQ)(vt,ge)&&(vt=(0,k.zi)(-vt,ge)),{isValid:dn||ar,value:vt}}},T=X(S);const v=function te(U){const ne=function re(U){return(0,H.Q5)(U,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...U})}(U),{P:ge}=ne,Ae=pn=>(0,k.zi)(pn,ge),tt=ne.montgomeryBits,Bt=Math.ceil(tt/8),vt=ne.nByteLength,It=ne.adjustScalarBytes||(pn=>pn),Gt=ne.powPminus2||(pn=>(0,k.n7)(pn,ge-BigInt(2),ge));function hn(pn,fr,gt){const Mt=Ae(pn*(fr-gt));return[fr=Ae(fr-Mt),gt=Ae(gt+Mt)]}function dn(pn){if("bigint"==typeof pn&&j<=pn&&pn<ge)return pn;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const ar=(ne.a-BigInt(2))/BigInt(4);function en(pn){return(0,H.z)(Ae(pn),Bt)}function ft(pn,fr){const gt=function Qt(pn){const fr=(0,H.qj)("u coordinate",pn,Bt);return 32===vt&&(fr[31]&=127),(0,H.lX)(fr)}(fr),Mt=function _t(pn){const fr=(0,H.qj)("scalar",pn),gt=fr.length;if(gt!==Bt&&gt!==vt)throw new Error(`Expected ${Bt} or ${vt} bytes, got ${gt}`);return(0,H.lX)(It(fr))}(pn),St=function An(pn,fr){const gt=dn(pn),Mt=dn(fr),St=gt;let Wn,Ye=G,nt=j,Ht=gt,Nt=G,un=j;for(let kn=BigInt(tt-1);kn>=j;kn--){const Or=Mt>>kn&G;un^=Or,Wn=hn(un,Ye,Ht),Ye=Wn[0],Ht=Wn[1],Wn=hn(un,nt,Nt),nt=Wn[0],Nt=Wn[1],un=Or;const Jn=Ye+nt,Fn=Ae(Jn*Jn),Lt=Ye-nt,et=Ae(Lt*Lt),Te=Fn-et,Be=Ht+Nt,nn=Ae((Ht-Nt)*Jn),In=Ae(Be*Lt),Kn=nn+In,tr=nn-In;Ht=Ae(Kn*Kn),Nt=Ae(St*Ae(tr*tr)),Ye=Ae(Fn*et),nt=Ae(Te*(Fn+Ae(ar*Te)))}Wn=hn(un,Ye,Ht),Ye=Wn[0],Ht=Wn[1],Wn=hn(un,nt,Nt),nt=Wn[0],Nt=Wn[1];const En=Gt(nt);return Ae(Ye*En)}(gt,Mt);if(St===j)throw new Error("Invalid private or public key received");return en(St)}const Wt=en(ne.Gu);function qt(pn){return ft(pn,Wt)}return{scalarMult:ft,scalarMultBase:qt,getSharedSecret:(pn,fr)=>ft(pn,fr),getPublicKey:pn=>qt(pn),utils:{randomPrivateKey:()=>ne.randomBytes(ne.nByteLength)},GuBytes:Wt}}({P:J,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:U=>{const ne=J,{pow_p_5_8:ge,b2:Ae}=C(U);return(0,k.zi)((0,k.zH)(ge,BigInt(3),ne)*Ae,ne)},adjustScalarBytes:a,randomBytes:_.po});function W(U){const{y:ne}=T.ExtendedPoint.fromHex(U),ge=BigInt(1);return g.toBytes(g.create((ge+ne)*g.inv(ge-ne)))}function ee(U){const ne=S.hash(U.subarray(0,32));return S.adjustScalarBytes(ne).subarray(0,32)}const ce=(g.ORDER+BigInt(3))/BigInt(8);g.pow(se,ce),g.sqrt(g.neg(g.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,k.Tv)(g,g.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:(je,z,E)=>{"use strict";E.d(z,{Ag:()=>O});var f=E(2716),_=E(47565);const H=(0,E(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),x=H.create(BigInt("-3")),P=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),O=(0,f.s)({a:x,b:P,Fp:H,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},_.s)},94256:(je,z,E)=>{"use strict";E.d(z,{bI:()=>D});var f=E(47565),_=E(35765),k=E(2716);const H=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),x=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),P=BigInt(1),M=BigInt(2),O=(A,s)=>(A+s/M)/s;const L=(0,_.D0)(H,void 0,void 0,{sqrt:function F(A){const s=H,v=BigInt(3),W=BigInt(6),K=BigInt(11),ee=BigInt(22),ce=BigInt(23),_e=BigInt(44),Oe=BigInt(88),Ve=A*A*A%s,Se=Ve*Ve*A%s,be=(0,_.zH)(Se,v,s)*Se%s,Ue=(0,_.zH)(be,v,s)*Se%s,ye=(0,_.zH)(Ue,M,s)*Ve%s,De=(0,_.zH)(ye,K,s)*ye%s,pe=(0,_.zH)(De,ee,s)*De%s,ue=(0,_.zH)(pe,_e,s)*pe%s,Q=(0,_.zH)(ue,Oe,s)*ue%s,oe=(0,_.zH)(Q,_e,s)*pe%s,fe=(0,_.zH)(oe,v,s)*Se%s,Ee=(0,_.zH)(fe,ce,s)*De%s,Re=(0,_.zH)(Ee,W,s)*Ve%s,$e=(0,_.zH)(Re,M,s);if(!L.eql(L.sqr($e),A))throw new Error("Cannot find square root");return $e}}),D=(0,k.s)({a:BigInt(0),b:BigInt(7),Fp:L,n:x,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:A=>{const s=x,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),W=-P*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),K=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=v,ce=BigInt("0x100000000000000000000000000000000"),_e=O(ee*A,s),Oe=O(-W*A,s);let Ve=(0,_.zi)(A-_e*v-Oe*K,s),Se=(0,_.zi)(-_e*W-Oe*ee,s);const be=Ve>ce,Ue=Se>ce;if(be&&(Ve=s-Ve),Ue&&(Se=s-Se),Ve>ce||Se>ce)throw new Error("splitScalar: Endomorphism failed, k="+A);return{k1neg:be,k1:Ve,k2neg:Ue,k2:Se}}}},f.s);BigInt(0)},63741:(je,z,E)=>{"use strict";E.d(z,{Rn:()=>s,Wp:()=>Ue,kv:()=>Oe,wJ:()=>ee});var f=E(10467);const _=2n**255n-19n,k=2n**252n+27742317777372353535851937790883648493n,H=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,x=0x6666666666666666666666666666666666666666666666666666666666666658n,P={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:_,n:k,h:8,Gx:H,Gy:x},M=(ue="")=>{throw new Error(ue)},O=ue=>"string"==typeof ue,F=(ue,Q)=>!(ue instanceof Uint8Array)||"number"==typeof Q&&Q>0&&ue.length!==Q?M("Uint8Array expected"):ue,L=ue=>new Uint8Array(ue),D=(ue,Q)=>F(O(ue)?ae(ue):L(ue),Q),X=(ue,Q=_)=>{let oe=ue%Q;return oe>=0n?oe:Q+oe},j=ue=>ue instanceof re?ue:M("Point expected");let G;class re{constructor(Q,oe,fe,Ee){this.ex=Q,this.ey=oe,this.ez=fe,this.et=Ee}static fromAffine(Q){return new re(Q.x,Q.y,1n,X(Q.x*Q.y))}static fromHex(Q,oe=!0){const{d:fe}=P,Ee=(Q=D(Q,32)).slice();Ee[31]=-129&Q[31];const Re=de(Ee);0n===Re||(oe&&!(0n<Re&&Re<_)&&M("bad y coord 1"),!oe&&!(0n<Re&&Re<2n**256n)&&M("bad y coord 2"));const $e=X(Re*Re),Fe=X($e-1n),Et=X(fe*$e+1n);let{isValid:We,value:Le}=a(Fe,Et);return We||M("bad y coordinate 3"),!!(128&Q[31])!=(1n===(1n&Le))&&(Le=X(-Le)),new re(Le,Re,1n,X(Le*Re))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(Q){const{ex:oe,ey:fe,ez:Ee}=this,{ex:Re,ey:$e,ez:Fe}=j(Q),Et=X(oe*Fe),We=X(Re*Ee),Le=X(fe*Fe),lt=X($e*Ee);return Et===We&&Le===lt}is0(){return this.equals(J)}negate(){return new re(X(-this.ex),this.ey,this.ez,X(-this.et))}double(){const{ex:Q,ey:oe,ez:fe}=this,{a:Ee}=P,Re=X(Q*Q),$e=X(oe*oe),Fe=X(2n*X(fe*fe)),Et=X(Ee*Re),We=Q+oe,Le=X(X(We*We)-Re-$e),lt=Et+$e,B=lt-Fe,w=Et-$e,m=X(Le*B),U=X(lt*w),ne=X(Le*w),ge=X(B*lt);return new re(m,U,ge,ne)}add(Q){const{ex:oe,ey:fe,ez:Ee,et:Re}=this,{ex:$e,ey:Fe,ez:Et,et:We}=j(Q),{a:Le,d:lt}=P,B=X(oe*$e),w=X(fe*Fe),m=X(Re*lt*We),U=X(Ee*Et),ne=X((oe+fe)*($e+Fe)-B-w),ge=X(U-m),Ae=X(U+m),tt=X(w-Le*B),Bt=X(ne*ge),vt=X(Ae*tt),It=X(ne*tt),Gt=X(ge*Ae);return new re(Bt,vt,Gt,It)}mul(Q,oe=!0){if(0n===Q)return!0===oe?M("cannot multiply by 0"):J;if("bigint"==typeof Q&&0n<Q&&Q<k||M("invalid scalar, must be < L"),!oe&&this.is0()||1n===Q)return this;if(this.equals(te))return pe(Q).p;let fe=J,Ee=te;for(let Re=this;Q>0n;Re=Re.double(),Q>>=1n)1n&Q?fe=fe.add(Re):oe&&(Ee=Ee.add(Re));return fe}multiply(Q){return this.mul(Q)}clearCofactor(){return this.mul(BigInt(P.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let Q=this.mul(k/2n,!1).double();return Q=Q.add(this),Q.is0()}toAffine(){const{ex:Q,ey:oe,ez:fe}=this;if(this.is0())return{x:0n,y:0n};const Ee=we(fe);return 1n!==X(fe*Ee)&&M("invalid inverse"),{x:X(Q*Ee),y:X(oe*Ee)}}toRawBytes(){const{x:Q,y:oe}=this.toAffine(),fe=se(oe);return fe[31]|=1n&Q?128:0,fe}toHex(){return ie(this.toRawBytes())}}re.BASE=new re(H,x,1n,X(H*x)),re.ZERO=new re(0n,1n,1n,0n);const{BASE:te,ZERO:J}=re,Z=(ue,Q)=>ue.toString(16).padStart(Q,"0"),ie=ue=>Array.from(ue).map(Q=>Z(Q,2)).join(""),ae=ue=>{const Q=ue.length;(!O(ue)||Q%2)&&M("hex invalid 1");const oe=L(Q/2);for(let fe=0;fe<oe.length;fe++){const Ee=2*fe,Re=ue.slice(Ee,Ee+2),$e=Number.parseInt(Re,16);(Number.isNaN($e)||$e<0)&&M("hex invalid 2"),oe[fe]=$e}return oe},se=ue=>ae(Z(ue,64)).reverse(),de=ue=>BigInt("0x"+ie(L(F(ue)).reverse())),le=(...ue)=>{const Q=L(ue.reduce((fe,Ee)=>fe+F(Ee).length,0));let oe=0;return ue.forEach(fe=>{Q.set(fe,oe),oe+=fe.length}),Q},we=(ue,Q=_)=>{(0n===ue||Q<=0n)&&M("no inverse n="+ue+" mod="+Q);let oe=X(ue,Q),fe=Q,Ee=0n,Re=1n,$e=1n,Fe=0n;for(;0n!==oe;){const Et=fe/oe,We=fe%oe,Le=Ee-$e*Et,lt=Re-Fe*Et;fe=oe,oe=We,Ee=$e,Re=Fe,$e=Le,Fe=lt}return 1n===fe?X(Ee,Q):M("no inverse")},xe=(ue,Q)=>{let oe=ue;for(;Q-- >0n;)oe*=oe,oe%=_;return oe},C=19681161376707505956807079304988542015446066515923890162744021073123829784752n,a=(ue,Q)=>{const oe=X(Q*Q*Q),Ee=(ue=>{const oe=ue*ue%_*ue%_,fe=xe(oe,2n)*oe%_,Ee=xe(fe,1n)*ue%_,Re=xe(Ee,5n)*Ee%_,$e=xe(Re,10n)*Re%_,Fe=xe($e,20n)*$e%_,Et=xe(Fe,40n)*Fe%_,We=xe(Et,80n)*Et%_,Le=xe(We,80n)*Et%_,lt=xe(Le,10n)*Re%_;return{pow_p_5_8:xe(lt,2n)*ue%_,b2:oe}})(ue*X(oe*oe*Q)).pow_p_5_8;let Re=X(ue*oe*Ee);const $e=X(Q*Re*Re),Fe=Re,Et=X(Re*C),We=$e===ue,Le=$e===X(-ue),lt=$e===X(-ue*C);return We&&(Re=Fe),(Le||lt)&&(Re=Et),1n===(1n&X(Re))&&(Re=X(-Re)),{isValid:We||Le,value:Re}},u=ue=>X(de(ue),k);let y;const g=(...ue)=>be.sha512Async(...ue),S=(...ue)=>"function"==typeof y?y(...ue):M("etc.sha512Sync not set"),T=ue=>{const Q=ue.slice(0,32);Q[0]&=248,Q[31]&=127,Q[31]|=64;const oe=ue.slice(32,64),fe=u(Q),Ee=te.mul(fe),Re=Ee.toRawBytes();return{head:Q,prefix:oe,scalar:fe,point:Ee,pointBytes:Re}},N=ue=>g(D(ue,32)).then(T),s=ue=>N(ue).then(Q=>Q.pointBytes);function W(ue,Q){return ue?g(Q.hashable).then(Q.finish):Q.finish(S(Q.hashable))}const ee=function(){var ue=(0,f.A)(function*(Q,oe){const fe=D(Q),Ee=yield N(oe);return W(!0,((ue,Q,oe)=>{const{pointBytes:fe,scalar:Ee}=ue,Re=u(Q),$e=te.mul(Re).toRawBytes();return{hashable:le($e,fe,oe),finish:We=>{const Le=X(Re+u(We)*Ee,k);return F(le($e,se(Le)),64)}}})(Ee,yield g(Ee.prefix,fe),fe))});return function(oe,fe){return ue.apply(this,arguments)}}(),Oe=function(){var ue=(0,f.A)(function*(Q,oe,fe){return W(!0,((ue,Q,oe)=>{Q=D(Q),ue=D(ue,64);const fe=re.fromHex(oe,!1),Ee=re.fromHex(ue.slice(0,32),!1),Re=de(ue.slice(32,64)),$e=te.mul(Re,!1);return{hashable:le(Ee.toRawBytes(),fe.toRawBytes(),Q),finish:We=>{const Le=u(We);return Ee.add(fe.mul(Le,!1)).add($e.negate()).clearCofactor().is0()}}})(Q,oe,fe))});return function(oe,fe,Ee){return ue.apply(this,arguments)}}(),Se=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,be={bytesToHex:ie,hexToBytes:ae,concatBytes:le,mod:X,invert:we,randomBytes:ue=>{const Q=Se();return Q||M("crypto.getRandomValues must be defined"),Q.getRandomValues(L(ue))},sha512Async:(ue=(0,f.A)(function*(...Q){const oe=Se();oe||M("crypto.subtle or etc.sha512Async must be defined");const fe=le(...Q);return L(yield oe.subtle.digest("SHA-512",fe.buffer))}),function(){return ue.apply(this,arguments)}),sha512Sync:void 0};var ue;Object.defineProperties(be,{sha512Sync:{configurable:!1,get:()=>y,set(ue){y||(y=ue)}}});const Ue={getExtendedPublicKeyAsync:N,getExtendedPublicKey:ue=>T(S(D(ue,32))),randomPrivateKey:()=>be.randomBytes(32),precompute:(ue=8,Q=te)=>(Q.multiply(3n),Q)},pe=ue=>{const Q=G||(G=(()=>{const ue=[];let oe=te,fe=oe;for(let Ee=0;Ee<33;Ee++){fe=oe,ue.push(fe);for(let Re=1;Re<128;Re++)fe=fe.add(oe),ue.push(fe);oe=fe.double()}return ue})()),oe=(Le,lt)=>{let B=lt.negate();return Le?B:lt};let fe=J,Ee=te;const Fe=BigInt(255),We=BigInt(8);for(let Le=0;Le<33;Le++){const lt=128*Le;let B=Number(ue&Fe);ue>>=We,B>128&&(B-=256,ue+=1n);const w=lt,m=lt+Math.abs(B)-1,ne=B<0;0===B?Ee=Ee.add(oe(Le%2!=0,Q[w])):fe=fe.add(oe(ne,Q[m]))}return{p:fe,f:Ee}}},37099:(je,z,E)=>{"use strict";function f(L){if(!Number.isSafeInteger(L)||L<0)throw new Error(`Wrong positive integer: ${L}`)}function H(L,...D){if(!function k(L){return L instanceof Uint8Array||null!=L&&"object"==typeof L&&"Uint8Array"===L.constructor.name}(L))throw new Error("Expected Uint8Array");if(D.length>0&&!D.includes(L.length))throw new Error(`Expected Uint8Array of length ${D}, not of length=${L.length}`)}function x(L){if("function"!=typeof L||"function"!=typeof L.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");f(L.outputLen),f(L.blockLen)}function P(L,D=!0){if(L.destroyed)throw new Error("Hash instance has been destroyed");if(D&&L.finished)throw new Error("Hash#digest() has already been called")}function M(L,D){H(L);const X=D.outputLen;if(L.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}E.d(z,{CG:()=>M,ai:()=>f,ee:()=>H,t2:()=>P,tW:()=>x})},36405:(je,z,E)=>{"use strict";E.d(z,{D:()=>H});var f=E(37099),_=E(62953);class H extends _.Vw{constructor(P,M,O,F){super(),this.blockLen=P,this.outputLen=M,this.padOffset=O,this.isLE=F,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(P),this.view=(0,_.O8)(this.buffer)}update(P){(0,f.t2)(this);const{view:M,buffer:O,blockLen:F}=this,L=(P=(0,_.ZJ)(P)).length;for(let D=0;D<L;){const X=Math.min(F-this.pos,L-D);if(X!==F)O.set(P.subarray(D,D+X),this.pos),this.pos+=X,D+=X,this.pos===F&&(this.process(M,0),this.pos=0);else{const j=(0,_.O8)(P);for(;F<=L-D;D+=F)this.process(j,D)}}return this.length+=P.length,this.roundClean(),this}digestInto(P){(0,f.t2)(this),(0,f.CG)(P,this),this.finished=!0;const{buffer:M,view:O,blockLen:F,isLE:L}=this;let{pos:D}=this;M[D++]=128,this.buffer.subarray(D).fill(0),this.padOffset>F-D&&(this.process(O,0),D=0);for(let te=D;te<F;te++)M[te]=0;(function k(x,P,M,O){if("function"==typeof x.setBigUint64)return x.setBigUint64(P,M,O);const F=BigInt(32),L=BigInt(4294967295),D=Number(M>>F&L),X=Number(M&L),G=O?0:4;x.setUint32(P+(O?4:0),D,O),x.setUint32(P+G,X,O)})(O,F-8,BigInt(8*this.length),L),this.process(O,0);const X=(0,_.O8)(P),j=this.outputLen;if(j%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=j/4,re=this.get();if(G>re.length)throw new Error("_sha2: outputLen bigger than state");for(let te=0;te<G;te++)X.setUint32(4*te,re[te],L)}digest(){const{buffer:P,outputLen:M}=this;this.digestInto(P);const O=P.slice(0,M);return this.destroy(),O}_cloneInto(P){P||(P=new this.constructor),P.set(...this.get());const{blockLen:M,buffer:O,length:F,finished:L,destroyed:D,pos:X}=this;return P.length=F,P.pos=X,P.finished=L,P.destroyed=D,F%M&&P.buffer.set(O),P}}},86703:(je,z,E)=>{"use strict";E.d(z,{E:()=>f});const f="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:(je,z,E)=>{"use strict";E.d(z,{w:()=>H});var f=E(37099),_=E(62953);class k extends _.Vw{constructor(P,M){super(),this.finished=!1,this.destroyed=!1,(0,f.tW)(P);const O=(0,_.ZJ)(M);if(this.iHash=P.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const F=this.blockLen,L=new Uint8Array(F);L.set(O.length>F?P.create().update(O).digest():O);for(let D=0;D<L.length;D++)L[D]^=54;this.iHash.update(L),this.oHash=P.create();for(let D=0;D<L.length;D++)L[D]^=106;this.oHash.update(L),L.fill(0)}update(P){return(0,f.t2)(this),this.iHash.update(P),this}digestInto(P){(0,f.t2)(this),(0,f.ee)(P,this.outputLen),this.finished=!0,this.iHash.digestInto(P),this.oHash.update(P),this.oHash.digestInto(P),this.destroy()}digest(){const P=new Uint8Array(this.oHash.outputLen);return this.digestInto(P),P}_cloneInto(P){P||(P=Object.create(Object.getPrototypeOf(this),{}));const{oHash:M,iHash:O,finished:F,destroyed:L,blockLen:D,outputLen:X}=this;return P.finished=F,P.destroyed=L,P.blockLen=D,P.outputLen=X,P.oHash=M._cloneInto(P.oHash),P.iHash=O._cloneInto(P.iHash),P}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const H=(x,P,M)=>new k(x,P).update(M).digest();H.create=(x,P)=>new k(x,P)},47565:(je,z,E)=>{"use strict";E.d(z,{s:()=>L});var f=E(36405),_=E(62953);const k=(X,j,G)=>X&j^~X&G,H=(X,j,G)=>X&j^X&G^j&G,x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),P=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),M=new Uint32Array(64);class O extends f.D{constructor(){super(64,32,8,!1),this.A=0|P[0],this.B=0|P[1],this.C=0|P[2],this.D=0|P[3],this.E=0|P[4],this.F=0|P[5],this.G=0|P[6],this.H=0|P[7]}get(){const{A:j,B:G,C:re,D:te,E:J,F:Z,G:ie,H:ae}=this;return[j,G,re,te,J,Z,ie,ae]}set(j,G,re,te,J,Z,ie,ae){this.A=0|j,this.B=0|G,this.C=0|re,this.D=0|te,this.E=0|J,this.F=0|Z,this.G=0|ie,this.H=0|ae}process(j,G){for(let le=0;le<16;le++,G+=4)M[le]=j.getUint32(G,!1);for(let le=16;le<64;le++){const we=M[le-15],xe=M[le-2],Ce=(0,_.Ow)(we,7)^(0,_.Ow)(we,18)^we>>>3,C=(0,_.Ow)(xe,17)^(0,_.Ow)(xe,19)^xe>>>10;M[le]=C+M[le-7]+Ce+M[le-16]|0}let{A:re,B:te,C:J,D:Z,E:ie,F:ae,G:se,H:de}=this;for(let le=0;le<64;le++){const xe=de+((0,_.Ow)(ie,6)^(0,_.Ow)(ie,11)^(0,_.Ow)(ie,25))+k(ie,ae,se)+x[le]+M[le]|0,C=((0,_.Ow)(re,2)^(0,_.Ow)(re,13)^(0,_.Ow)(re,22))+H(re,te,J)|0;de=se,se=ae,ae=ie,ie=Z+xe|0,Z=J,J=te,te=re,re=xe+C|0}re=re+this.A|0,te=te+this.B|0,J=J+this.C|0,Z=Z+this.D|0,ie=ie+this.E|0,ae=ae+this.F|0,se=se+this.G|0,de=de+this.H|0,this.set(re,te,J,Z,ie,ae,se,de)}roundClean(){M.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const L=(0,_.ld)(()=>new O)},25431:(je,z,E)=>{"use strict";E.d(z,{Zf:()=>v});var f=E(36405);const _=BigInt(2**32-1),k=BigInt(32);function H(ce,_e=!1){return _e?{h:Number(ce&_),l:Number(ce>>k&_)}:{h:0|Number(ce>>k&_),l:0|Number(ce&_)}}const C_split=function x(ce,_e=!1){let Oe=new Uint32Array(ce.length),Ve=new Uint32Array(ce.length);for(let Se=0;Se<ce.length;Se++){const{h:be,l:Ue}=H(ce[Se],_e);[Oe[Se],Ve[Se]]=[be,Ue]}return[Oe,Ve]},C_shrSH=(ce,_e,Oe)=>ce>>>Oe,C_shrSL=(ce,_e,Oe)=>ce<<32-Oe|_e>>>Oe,C_rotrSH=(ce,_e,Oe)=>ce>>>Oe|_e<<32-Oe,C_rotrSL=(ce,_e,Oe)=>ce<<32-Oe|_e>>>Oe,C_rotrBH=(ce,_e,Oe)=>ce<<64-Oe|_e>>>Oe-32,C_rotrBL=(ce,_e,Oe)=>ce>>>Oe-32|_e<<64-Oe,C_add=function ie(ce,_e,Oe,Ve){const Se=(_e>>>0)+(Ve>>>0);return{h:ce+Oe+(Se/2**32|0)|0,l:0|Se}},C_add3L=(ce,_e,Oe)=>(ce>>>0)+(_e>>>0)+(Oe>>>0),C_add3H=(ce,_e,Oe,Ve)=>_e+Oe+Ve+(ce/2**32|0)|0,C_add4L=(ce,_e,Oe,Ve)=>(ce>>>0)+(_e>>>0)+(Oe>>>0)+(Ve>>>0),C_add4H=(ce,_e,Oe,Ve,Se)=>_e+Oe+Ve+Se+(ce/2**32|0)|0,C_add5H=(ce,_e,Oe,Ve,Se,be)=>_e+Oe+Ve+Se+be+(ce/2**32|0)|0,C_add5L=(ce,_e,Oe,Ve,Se)=>(ce>>>0)+(_e>>>0)+(Oe>>>0)+(Ve>>>0)+(Se>>>0);var a=E(62953);const[u,y]=C_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(ce=>BigInt(ce))),g=new Uint32Array(80),S=new Uint32Array(80);class T extends f.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:_e,Al:Oe,Bh:Ve,Bl:Se,Ch:be,Cl:Ue,Dh:ye,Dl:De,Eh:pe,El:ue,Fh:Q,Fl:oe,Gh:fe,Gl:Ee,Hh:Re,Hl:$e}=this;return[_e,Oe,Ve,Se,be,Ue,ye,De,pe,ue,Q,oe,fe,Ee,Re,$e]}set(_e,Oe,Ve,Se,be,Ue,ye,De,pe,ue,Q,oe,fe,Ee,Re,$e){this.Ah=0|_e,this.Al=0|Oe,this.Bh=0|Ve,this.Bl=0|Se,this.Ch=0|be,this.Cl=0|Ue,this.Dh=0|ye,this.Dl=0|De,this.Eh=0|pe,this.El=0|ue,this.Fh=0|Q,this.Fl=0|oe,this.Gh=0|fe,this.Gl=0|Ee,this.Hh=0|Re,this.Hl=0|$e}process(_e,Oe){for(let We=0;We<16;We++,Oe+=4)g[We]=_e.getUint32(Oe),S[We]=_e.getUint32(Oe+=4);for(let We=16;We<80;We++){const Le=0|g[We-15],lt=0|S[We-15],B=C_rotrSH(Le,lt,1)^C_rotrSH(Le,lt,8)^C_shrSH(Le,lt,7),w=C_rotrSL(Le,lt,1)^C_rotrSL(Le,lt,8)^C_shrSL(Le,lt,7),m=0|g[We-2],U=0|S[We-2],ne=C_rotrSH(m,U,19)^C_rotrBH(m,U,61)^C_shrSH(m,U,6),ge=C_rotrSL(m,U,19)^C_rotrBL(m,U,61)^C_shrSL(m,U,6),Ae=C_add4L(w,ge,S[We-7],S[We-16]),tt=C_add4H(Ae,B,ne,g[We-7],g[We-16]);g[We]=0|tt,S[We]=0|Ae}let{Ah:Ve,Al:Se,Bh:be,Bl:Ue,Ch:ye,Cl:De,Dh:pe,Dl:ue,Eh:Q,El:oe,Fh:fe,Fl:Ee,Gh:Re,Gl:$e,Hh:Fe,Hl:Et}=this;for(let We=0;We<80;We++){const Le=C_rotrSH(Q,oe,14)^C_rotrSH(Q,oe,18)^C_rotrBH(Q,oe,41),lt=C_rotrSL(Q,oe,14)^C_rotrSL(Q,oe,18)^C_rotrBL(Q,oe,41),B=Q&fe^~Q&Re,m=C_add5L(Et,lt,oe&Ee^~oe&$e,y[We],S[We]),U=C_add5H(m,Fe,Le,B,u[We],g[We]),ne=0|m,ge=C_rotrSH(Ve,Se,28)^C_rotrBH(Ve,Se,34)^C_rotrBH(Ve,Se,39),Ae=C_rotrSL(Ve,Se,28)^C_rotrBL(Ve,Se,34)^C_rotrBL(Ve,Se,39),tt=Ve&be^Ve&ye^be&ye,Bt=Se&Ue^Se&De^Ue&De;Fe=0|Re,Et=0|$e,Re=0|fe,$e=0|Ee,fe=0|Q,Ee=0|oe,({h:Q,l:oe}=C_add(0|pe,0|ue,0|U,0|ne)),pe=0|ye,ue=0|De,ye=0|be,De=0|Ue,be=0|Ve,Ue=0|Se;const vt=C_add3L(ne,Ae,Bt);Ve=C_add3H(vt,U,ge,tt),Se=0|vt}({h:Ve,l:Se}=C_add(0|this.Ah,0|this.Al,0|Ve,0|Se)),({h:be,l:Ue}=C_add(0|this.Bh,0|this.Bl,0|be,0|Ue)),({h:ye,l:De}=C_add(0|this.Ch,0|this.Cl,0|ye,0|De)),({h:pe,l:ue}=C_add(0|this.Dh,0|this.Dl,0|pe,0|ue)),({h:Q,l:oe}=C_add(0|this.Eh,0|this.El,0|Q,0|oe)),({h:fe,l:Ee}=C_add(0|this.Fh,0|this.Fl,0|fe,0|Ee)),({h:Re,l:$e}=C_add(0|this.Gh,0|this.Gl,0|Re,0|$e)),({h:Fe,l:Et}=C_add(0|this.Hh,0|this.Hl,0|Fe,0|Et)),this.set(Ve,Se,be,Ue,ye,De,pe,ue,Q,oe,fe,Ee,Re,$e,Fe,Et)}roundClean(){g.fill(0),S.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const v=(0,a.ld)(()=>new T)},62953:(je,z,E)=>{"use strict";E.d(z,{$h:()=>re,AI:()=>J,Id:()=>ie,My:()=>L,O8:()=>P,Ow:()=>M,Vw:()=>ae,ZJ:()=>Z,aT:()=>j,ld:()=>le,po:()=>Ce,tY:()=>de});var f=E(10467),_=E(86703);function x(C){return C instanceof Uint8Array||null!=C&&"object"==typeof C&&"Uint8Array"===C.constructor.name}const P=C=>new DataView(C.buffer,C.byteOffset,C.byteLength),M=(C,a)=>C<<32-a|C>>>a;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const F=Array.from({length:256},(C,a)=>a.toString(16).padStart(2,"0"));function L(C){if(!x(C))throw new Error("Uint8Array expected");let a="";for(let u=0;u<C.length;u++)a+=F[C[u]];return a}const D={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function X(C){return C>=D._0&&C<=D._9?C-D._0:C>=D._A&&C<=D._F?C-(D._A-10):C>=D._a&&C<=D._f?C-(D._a-10):void 0}function j(C){if("string"!=typeof C)throw new Error("hex string expected, got "+typeof C);const a=C.length,u=a/2;if(a%2)throw new Error("padded hex string expected, got unpadded hex of length "+a);const y=new Uint8Array(u);for(let g=0,S=0;g<u;g++,S+=2){const T=X(C.charCodeAt(S)),N=X(C.charCodeAt(S+1));if(void 0===T||void 0===N)throw new Error('hex string expected, got non-hex character "'+(C[S]+C[S+1])+'" at index '+S);y[g]=16*T+N}return y}const G=function(){var C=(0,f.A)(function*(){});return function(){return C.apply(this,arguments)}}();function re(C,a,u){return te.apply(this,arguments)}function te(){return(te=(0,f.A)(function*(C,a,u){let y=Date.now();for(let g=0;g<C;g++){u(g);const S=Date.now()-y;S>=0&&S<a||(yield G(),y+=S)}})).apply(this,arguments)}function J(C){if("string"!=typeof C)throw new Error("utf8ToBytes expected string, got "+typeof C);return new Uint8Array((new TextEncoder).encode(C))}function Z(C){if("string"==typeof C&&(C=J(C)),!x(C))throw new Error("expected Uint8Array, got "+typeof C);return C}function ie(...C){let a=0;for(let y=0;y<C.length;y++){const g=C[y];if(!x(g))throw new Error("Uint8Array expected");a+=g.length}const u=new Uint8Array(a);for(let y=0,g=0;y<C.length;y++){const S=C[y];u.set(S,g),g+=S.length}return u}class ae{clone(){return this._cloneInto()}}const se={}.toString;function de(C,a){if(void 0!==a&&"[object Object]"!==se.call(a))throw new Error("Options should be object or undefined");return Object.assign(C,a)}function le(C){const a=y=>C().update(Z(y)).digest(),u=C();return a.outputLen=u.outputLen,a.blockLen=u.blockLen,a.create=()=>C(),a}function Ce(C=32){if(_.E&&"function"==typeof _.E.getRandomValues)return _.E.getRandomValues(new Uint8Array(C));throw new Error("crypto.getRandomValues must be defined")}},68464:(je,z,E)=>{"use strict";E.d(z,{CB:()=>se,MX:()=>pe,Wp:()=>fe,jn:()=>oe,lG:()=>s,wJ:()=>Ue});var f=E(10467);const _=2n**256n,k=_-0x1000003d1n,H=_-0x14551231950b75fc4402da1732fc9bebfn,x=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,P=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,M={p:k,n:H,a:0n,b:7n,Gx:x,Gy:P},O=32,F=Fe=>Z(Z(Fe*Fe)*Fe+M.b),L=(Fe="")=>{throw new Error(Fe)},D=Fe=>"bigint"==typeof Fe,X=Fe=>"string"==typeof Fe,j=Fe=>D(Fe)&&0n<Fe&&Fe<k,G=Fe=>D(Fe)&&0n<Fe&&Fe<H,re=(Fe,Et)=>!(Fe instanceof Uint8Array)||"number"==typeof Et&&Et>0&&Fe.length!==Et?L("Uint8Array expected"):Fe,te=Fe=>new Uint8Array(Fe),J=(Fe,Et)=>re(X(Fe)?Ce(Fe):te(Fe),Et),Z=(Fe,Et=k)=>{let We=Fe%Et;return We>=0n?We:Et+We},ie=Fe=>Fe instanceof se?Fe:L("Point expected");let ae;class se{constructor(Et,We,Le){this.px=Et,this.py=We,this.pz=Le}static fromAffine(Et){return new se(Et.x,Et.y,1n)}static fromHex(Et){let We;const Le=(Et=J(Et))[0],lt=Et.subarray(1),B=a(lt,0,O),w=Et.length;if(33===w&&[2,3].includes(Le)){j(B)||L("Point hex invalid: x not FE");let m=T(F(B));!(1&~Le)!=(1n===(1n&m))&&(m=Z(-m)),We=new se(B,m,1n)}return 65===w&&4===Le&&(We=new se(B,a(lt,O,2*O),1n)),We?We.ok():L("Point is not on curve")}static fromPrivateKey(Et){return de.mul(N(Et))}get x(){return this.aff().x}get y(){return this.aff().y}equals(Et){const{px:We,py:Le,pz:lt}=this,{px:B,py:w,pz:m}=ie(Et),U=Z(We*m),ne=Z(B*lt),ge=Z(Le*m),Ae=Z(w*lt);return U===ne&&ge===Ae}negate(){return new se(this.px,Z(-this.py),this.pz)}double(){return this.add(this)}add(Et){const{px:We,py:Le,pz:lt}=this,{px:B,py:w,pz:m}=ie(Et),{a:U,b:ne}=M;let ge=0n,Ae=0n,tt=0n;const Bt=Z(3n*ne);let vt=Z(We*B),It=Z(Le*w),Gt=Z(lt*m),hn=Z(We+Le),dn=Z(B+w);hn=Z(hn*dn),dn=Z(vt+It),hn=Z(hn-dn),dn=Z(We+lt);let ar=Z(B+m);return dn=Z(dn*ar),ar=Z(vt+Gt),dn=Z(dn-ar),ar=Z(Le+lt),ge=Z(w+m),ar=Z(ar*ge),ge=Z(It+Gt),ar=Z(ar-ge),tt=Z(U*dn),ge=Z(Bt*Gt),tt=Z(ge+tt),ge=Z(It-tt),tt=Z(It+tt),Ae=Z(ge*tt),It=Z(vt+vt),It=Z(It+vt),Gt=Z(U*Gt),dn=Z(Bt*dn),It=Z(It+Gt),Gt=Z(vt-Gt),Gt=Z(U*Gt),dn=Z(dn+Gt),vt=Z(It*dn),Ae=Z(Ae+vt),vt=Z(ar*dn),ge=Z(hn*ge),ge=Z(ge-vt),vt=Z(hn*It),tt=Z(ar*tt),tt=Z(tt+vt),new se(ge,Ae,tt)}mul(Et,We=!0){if(!We&&0n===Et)return le;if(G(Et)||L("invalid scalar"),this.equals(de))return $e(Et).p;let Le=le,lt=de;for(let B=this;Et>0n;B=B.double(),Et>>=1n)1n&Et?Le=Le.add(B):We&&(lt=lt.add(B));return Le}mulAddQUns(Et,We,Le){return this.mul(We,!1).add(Et.mul(Le,!1)).ok()}toAffine(){const{px:Et,py:We,pz:Le}=this;if(this.equals(le))return{x:0n,y:0n};if(1n===Le)return{x:Et,y:We};const lt=S(Le);return 1n!==Z(Le*lt)&&L("invalid inverse"),{x:Z(Et*lt),y:Z(We*lt)}}assertValidity(){const{x:Et,y:We}=this.aff();return(!j(Et)||!j(We))&&L("Point invalid: x or y"),Z(We*We)===F(Et)?this:L("Point invalid: not on curve")}multiply(Et){return this.mul(Et)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(Et=!0){const{x:We,y:Le}=this.aff();return(Et?0n===(1n&Le)?"02":"03":"04")+y(We)+(Et?"":y(Le))}toRawBytes(Et=!0){return Ce(this.toHex(Et))}}se.BASE=new se(x,P,1n),se.ZERO=new se(0n,1n,0n);const{BASE:de,ZERO:le}=se,we=(Fe,Et)=>Fe.toString(16).padStart(Et,"0"),xe=Fe=>Array.from(Fe).map(Et=>we(Et,2)).join(""),Ce=Fe=>{const Et=Fe.length;(!X(Fe)||Et%2)&&L("hex invalid 1");const We=te(Et/2);for(let Le=0;Le<We.length;Le++){const lt=2*Le,B=Fe.slice(lt,lt+2),w=Number.parseInt(B,16);(Number.isNaN(w)||w<0)&&L("hex invalid 2"),We[Le]=w}return We},C=Fe=>BigInt("0x"+(xe(Fe)||"0")),a=(Fe,Et,We)=>C(Fe.slice(Et,We)),u=Fe=>D(Fe)&&Fe>=0n&&Fe<_?Ce(we(Fe,2*O)):L("bigint expected"),y=Fe=>xe(u(Fe)),g=(...Fe)=>{const Et=te(Fe.reduce((Le,lt)=>Le+re(lt).length,0));let We=0;return Fe.forEach(Le=>{Et.set(Le,We),We+=Le.length}),Et},S=(Fe,Et=k)=>{(0n===Fe||Et<=0n)&&L("no inverse n="+Fe+" mod="+Et);let We=Z(Fe,Et),Le=Et,lt=0n,B=1n,w=1n,m=0n;for(;0n!==We;){const U=Le/We,ne=Le%We,ge=lt-w*U,Ae=B-m*U;Le=We,We=ne,lt=w,B=m,w=ge,m=Ae}return 1n===Le?Z(lt,Et):L("no inverse")},T=Fe=>{let Et=1n;for(let We=Fe,Le=(k+1n)/4n;Le>0n;Le>>=1n)1n&Le&&(Et=Et*We%k),We=We*We%k;return Z(Et*Et)===Fe?Et:L("sqrt invalid")},N=Fe=>(D(Fe)||(Fe=C(J(Fe,O))),G(Fe)?Fe:L("private key out of range")),A=Fe=>Fe>H>>1n;function s(Fe,Et=!0){return se.fromPrivateKey(Fe).toRawBytes(Et)}class v{constructor(Et,We,Le){this.r=Et,this.s=We,this.recovery=Le,this.assertValidity()}static fromCompact(Et){return Et=J(Et,64),new v(a(Et,0,O),a(Et,O,2*O))}assertValidity(){return G(this.r)&&G(this.s)?this:L()}addRecoveryBit(Et){return new v(this.r,this.s,Et)}hasHighS(){return A(this.s)}recoverPublicKey(Et){const{r:We,s:Le,recovery:lt}=this;[0,1,2,3].includes(lt)||L("recovery id invalid");const B=K(J(Et,32)),w=2===lt||3===lt?We+H:We;w>=k&&L("q.x invalid");const U=se.fromHex((1&lt?"03":"02")+y(w)),ne=S(w,H),ge=Z(-B*ne,H),Ae=Z(Le*ne,H);return de.mulAddQUns(U,ge,Ae)}toCompactRawBytes(){return Ce(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const W=Fe=>{const Et=8*Fe.length-256,We=C(Fe);return Et>0?We>>BigInt(Et):We},K=Fe=>Z(W(Fe),H),ee=Fe=>u(Fe),ce=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let _e;const Oe={lowS:!0},Ve={lowS:!0};function Ue(Fe,Et){return ye.apply(this,arguments)}function ye(){return(ye=(0,f.A)(function*(Fe,Et,We=Oe){const{seed:Le,k2sig:lt}=function Se(Fe,Et,We=Oe){["der","recovered","canonical"].some(Ae=>Ae in We)&&L("sign() legacy options not supported");let{lowS:Le}=We;null==Le&&(Le=!0);const lt=K(J(Fe)),B=ee(lt),w=N(Et),m=[ee(w),B];let U=We.extraEntropy;if(U){!0===U&&(U=oe.randomBytes(O));const Ae=J(U);Ae.length!==O&&L(),m.push(Ae)}const ne=lt;return{seed:g(...m),k2sig:Ae=>{const tt=W(Ae);if(!G(tt))return;const Bt=S(tt,H),vt=de.mul(tt).aff(),It=Z(vt.x,H);if(0n===It)return;const Gt=Z(Bt*Z(ne+Z(w*It,H),H),H);if(0n===Gt)return;let hn=Gt,dn=(vt.x===It?0:2)|Number(1n&vt.y);return Le&&A(Gt)&&(hn=Z(-Gt,H),dn^=1),new v(It,hn,dn)}}}(Fe,Et,We);return function be(Fe){let Et=te(O),We=te(O),Le=0;const lt=()=>{Et.fill(1),We.fill(0),Le=0},B="drbg: tried 1000 values";if(Fe){const w=(...ne)=>oe.hmacSha256Async(We,Et,...ne),m=function(){var ne=(0,f.A)(function*(ge=te()){We=yield w(te([0]),ge),Et=yield w(),0!==ge.length&&(We=yield w(te([1]),ge),Et=yield w())});return function(){return ne.apply(this,arguments)}}(),U=function(){var ne=(0,f.A)(function*(){return Le++>=1e3&&L(B),Et=yield w(),Et});return function(){return ne.apply(this,arguments)}}();return function(){var ne=(0,f.A)(function*(ge,Ae){let tt;for(lt(),yield m(ge);!(tt=Ae(yield U()));)yield m();return lt(),tt});return function(ge,Ae){return ne.apply(this,arguments)}}()}{const w=(...ne)=>{const ge=_e;return ge||L("etc.hmacSha256Sync not set"),ge(We,Et,...ne)},m=(ne=te())=>{We=w(te([0]),ne),Et=w(),0!==ne.length&&(We=w(te([1]),ne),Et=w())},U=()=>(Le++>=1e3&&L(B),Et=w(),Et);return(ne,ge)=>{let Ae;for(lt(),m(ne);!(Ae=ge(U()));)m();return lt(),Ae}}}(!0)(Le,lt)})).apply(this,arguments)}function pe(Fe,Et,We,Le=Ve){let B,w,m,{lowS:lt}=Le;null==lt&&(lt=!0),"strict"in Le&&L("verify() legacy options not supported");const U=Fe&&"object"==typeof Fe&&"r"in Fe;!U&&J(Fe).length!==2*O&&L("signature must be 64 bytes");try{B=U?new v(Fe.r,Fe.s).assertValidity():v.fromCompact(Fe),w=K(J(Et,O)),m=We instanceof se?We.ok():se.fromHex(We)}catch{return!1}if(!B)return!1;const{r:ne,s:ge}=B;if(lt&&A(ge))return!1;let Ae;try{const Bt=S(ge,H),vt=Z(w*Bt,H),It=Z(ne*Bt,H);Ae=de.mulAddQUns(m,vt,It).aff()}catch{return!1}return!!Ae&&Z(Ae.x,H)===ne}function Q(Fe){((Fe=J(Fe)).length<O+8||Fe.length>1024)&&L("expected proper params");const We=Z(C(Fe),H-1n)+1n;return u(We)}const oe={hexToBytes:Ce,bytesToHex:xe,concatBytes:g,bytesToNumberBE:C,numberToBytesBE:u,mod:Z,invert:S,hmacSha256Async:(Fe=(0,f.A)(function*(Et,...We){const Le=ce();if(!Le)return L("etc.hmacSha256Async not set");const lt=Le.subtle,B=yield lt.importKey("raw",Et,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return te(yield lt.sign("HMAC",B,g(...We)))}),function(We){return Fe.apply(this,arguments)}),hmacSha256Sync:_e,hashToPrivateKey:Q,randomBytes:Fe=>{const Et=ce();return Et||L("crypto.getRandomValues must be defined"),Et.getRandomValues(te(Fe))}},fe={normPrivateKeyToScalar:N,isValidPrivateKey:Fe=>{try{return!!N(Fe)}catch{return!1}},randomPrivateKey:()=>Q(oe.randomBytes(O+8)),precompute:(Fe=8,Et=de)=>(Et.multiply(3n),Et)};var Fe;Object.defineProperties(oe,{hmacSha256Sync:{configurable:!1,get:()=>_e,set(Fe){_e||(_e=Fe)}}});const $e=Fe=>{const Et=ae||(ae=(()=>{const Fe=[];let We=de,Le=We;for(let lt=0;lt<33;lt++){Le=We,Fe.push(Le);for(let B=1;B<128;B++)Le=Le.add(We),Fe.push(Le);We=Le.double()}return Fe})()),We=(ge,Ae)=>{let tt=Ae.negate();return ge?tt:Ae};let Le=le,lt=de;const m=BigInt(255),ne=BigInt(8);for(let ge=0;ge<33;ge++){const Ae=128*ge;let tt=Number(Fe&m);Fe>>=ne,tt>128&&(tt-=256,Fe+=1n);const Bt=Ae,vt=Ae+Math.abs(tt)-1,Gt=tt<0;0===tt?lt=lt.add(We(ge%2!=0,Et[Bt])):Le=Le.add(We(Gt,Et[vt]))}return{p:Le,f:lt}}},53813:(je,z,E)=>{"use strict";function _(ye){return ye instanceof Uint8Array||null!=ye&&"object"==typeof ye&&"Uint8Array"===ye.constructor.name}function O(ye,De,pe){if(De<2)throw new Error(`convertRadix: wrong from=${De}, base cannot be less than 2`);if(pe<2)throw new Error(`convertRadix: wrong to=${pe}, base cannot be less than 2`);if(!Array.isArray(ye))throw new Error("convertRadix: data should be array");if(!ye.length)return[];let ue=0;const Q=[],oe=Array.from(ye);for(oe.forEach(fe=>{if(fe<0||fe>=De)throw new Error(`Wrong integer: ${fe}`)});;){let fe=0,Ee=!0;for(let Re=ue;Re<oe.length;Re++){const $e=oe[Re],Fe=De*fe+$e;if(!Number.isSafeInteger(Fe)||De*fe/De!==fe||Fe-$e!=De*fe)throw new Error("convertRadix: carry overflow");fe=Fe%pe;const Et=Math.floor(Fe/pe);if(oe[Re]=Et,!Number.isSafeInteger(Et)||Et*pe+fe!==Fe)throw new Error("convertRadix: carry overflow");Ee&&(Et?Ee=!1:ue=Re)}if(Q.push(fe),Ee)break}for(let fe=0;fe<ye.length-1&&0===ye[fe];fe++)Q.push(0);return Q.reverse()}E.d(z,{Wp:()=>te});const F=(ye,De)=>De?F(De,ye%De):ye,L=(ye,De)=>ye+(De-F(ye,De));function D(ye,De,pe,ue){if(!Array.isArray(ye))throw new Error("convertRadix2: data should be array");if(De<=0||De>32)throw new Error(`convertRadix2: wrong from=${De}`);if(pe<=0||pe>32)throw new Error(`convertRadix2: wrong to=${pe}`);if(L(De,pe)>32)throw new Error(`convertRadix2: carry overflow from=${De} to=${pe} carryBits=${L(De,pe)}`);let Q=0,oe=0;const fe=2**pe-1,Ee=[];for(const Re of ye){if(Re>=2**De)throw new Error(`convertRadix2: invalid data word=${Re} from=${De}`);if(Q=Q<<De|Re,oe+De>32)throw new Error(`convertRadix2: carry overflow pos=${oe} from=${De}`);for(oe+=De;oe>=pe;oe-=pe)Ee.push((Q>>oe-pe&fe)>>>0);Q&=2**oe-1}if(Q=Q<<pe-oe&fe,!ue&&oe>=De)throw new Error("Excess padding");if(!ue&&Q)throw new Error(`Non-zero padding: ${Q}`);return ue&&oe>0&&Ee.push(Q>>>0),Ee}const te={alphabet:function H(ye){return{encode:De=>{if(!Array.isArray(De)||De.length&&"number"!=typeof De[0])throw new Error("alphabet.encode input should be an array of numbers");return De.map(pe=>{if(pe<0||pe>=ye.length)throw new Error(`Digit index outside alphabet: ${pe} (alphabet: ${ye.length})`);return ye[pe]})},decode:De=>{if(!Array.isArray(De)||De.length&&"string"!=typeof De[0])throw new Error("alphabet.decode input should be array of strings");return De.map(pe=>{if("string"!=typeof pe)throw new Error(`alphabet.decode: not string element=${pe}`);const ue=ye.indexOf(pe);if(-1===ue)throw new Error(`Unknown letter: "${pe}". Allowed: ${ye}`);return ue})}}},chain:function k(...ye){const De=oe=>oe,pe=(oe,fe)=>Ee=>oe(fe(Ee));return{encode:ye.map(oe=>oe.encode).reduceRight(pe,De),decode:ye.map(oe=>oe.decode).reduce(pe,De)}},checksum:function re(ye,De){if("function"!=typeof De)throw new Error("checksum fn should be function");return{encode(pe){if(!_(pe))throw new Error("checksum.encode: input should be Uint8Array");const ue=De(pe).slice(0,ye),Q=new Uint8Array(pe.length+ye);return Q.set(pe),Q.set(ue,pe.length),Q},decode(pe){if(!_(pe))throw new Error("checksum.decode: input should be Uint8Array");const ue=pe.slice(0,-ye),Q=De(ue).slice(0,ye),oe=pe.slice(-ye);for(let fe=0;fe<ye;fe++)if(Q[fe]!==oe[fe])throw new Error("Invalid checksum");return ue}}},convertRadix:O,convertRadix2:D,radix:function X(ye){return{encode:De=>{if(!_(De))throw new Error("radix.encode input should be Uint8Array");return O(Array.from(De),256,ye)},decode:De=>{if(!Array.isArray(De)||De.length&&"number"!=typeof De[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(O(De,ye,256))}}},radix2:function j(ye,De=!1){if(ye<=0||ye>32)throw new Error("radix2: bits should be in (0..32]");if(L(8,ye)>32||L(ye,8)>32)throw new Error("radix2: carry overflow");return{encode:pe=>{if(!_(pe))throw new Error("radix2.encode input should be Uint8Array");return D(Array.from(pe),8,ye,!De)},decode:pe=>{if(!Array.isArray(pe)||pe.length&&"number"!=typeof pe[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(D(pe,ye,8,De))}}},join:function x(ye=""){if("string"!=typeof ye)throw new Error("join separator should be string");return{encode:De=>{if(!Array.isArray(De)||De.length&&"string"!=typeof De[0])throw new Error("join.encode input should be array of strings");for(let pe of De)if("string"!=typeof pe)throw new Error(`join.encode: non-string input=${pe}`);return De.join(ye)},decode:De=>{if("string"!=typeof De)throw new Error("join.decode input should be string");return De.split(ye)}}},padding:function P(ye,De="="){if("string"!=typeof De)throw new Error("padding chr should be string");return{encode(pe){if(!Array.isArray(pe)||pe.length&&"string"!=typeof pe[0])throw new Error("padding.encode input should be array of strings");for(let ue of pe)if("string"!=typeof ue)throw new Error(`padding.encode: non-string input=${ue}`);for(;pe.length*ye%8;)pe.push(De);return pe},decode(pe){if(!Array.isArray(pe)||pe.length&&"string"!=typeof pe[0])throw new Error("padding.encode input should be array of strings");for(let Q of pe)if("string"!=typeof Q)throw new Error(`padding.decode: non-string input=${Q}`);let ue=pe.length;if(ue*ye%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;ue>0&&pe[ue-1]===De;ue--)if(!((ue-1)*ye%8))throw new Error("Invalid padding: string has too much padding");return pe.slice(0,ue)}}}}},62590:(je,z,E)=>{"use strict";E.d(z,{DP:()=>kE,Bq:()=>HU,rr:()=>qU,yc:()=>TF,rM:()=>FF,B2:()=>m6,U0:()=>zd,QZ:()=>KU,dk:()=>MF,nx:()=>Pa,cW:()=>bF,Vu:()=>uA,TX:()=>xF,eP:()=>Pw,qB:()=>A6,oN:()=>BF,X7:()=>ZU,dK:()=>GU,pO:()=>JU});var f={};E.r(f),E.d(f,{DO:()=>Mr,OG:()=>pi,My:()=>jr,Ph:()=>hr,lX:()=>Ar,Id:()=>Ao,fg:()=>Si,qj:()=>oi,aT:()=>jn,aY:()=>Dr,lq:()=>xr,z:()=>zr,Q5:()=>Ns});var _={};E.r(_),E.d(_,{base10:()=>ld});var k={};E.r(k),E.d(k,{base16:()=>Om,base16upper:()=>zh});var H={};E.r(H),E.d(H,{base2:()=>La});var x={};E.r(x),E.d(x,{base256emoji:()=>pl});var P={};E.r(P),E.d(P,{base32:()=>pc,base32hex:()=>ud,base32hexpad:()=>zi,base32hexpadupper:()=>Ta,base32hexupper:()=>Du,base32pad:()=>Nl,base32padupper:()=>Tu,base32upper:()=>ou,base32z:()=>_f});var M={};E.r(M),E.d(M,{base36:()=>Ic,base36upper:()=>su});var O={};E.r(O),E.d(O,{base58btc:()=>Ld,base58flickr:()=>Bp});var F={};E.r(F),E.d(F,{base64:()=>Hh,base64pad:()=>ov,base64url:()=>Np,base64urlpad:()=>sv});var L={};E.r(L),E.d(L,{base8:()=>Ef});var D={};E.r(D),E.d(D,{identity:()=>Qs});var X={};E.r(X),E.d(X,{code:()=>gs,decode:()=>Ru,encode:()=>ku,name:()=>xf});var j={};E.r(j),E.d(j,{code:()=>Hi,decode:()=>Ua,encode:()=>Sf,name:()=>Ji});var G={};E.r(G),E.d(G,{identity:()=>gl});var re={};E.r(re),E.d(re,{sha256:()=>yc,sha512:()=>Fd});var te={};E.r(te),E.d(te,{Authorization:()=>lo,AuthorizationDelegatedGrant:()=>Lw,AuthorizationOwner:()=>UE,Definitions:()=>vA,GeneralJwk:()=>k6,GeneralJws:()=>R6,GenericSignaturePayload:()=>XE,JwkVerificationMethod:()=>O6,MessagesFilter:()=>HE,MessagesQuery:()=>Vr,MessagesRead:()=>Df,MessagesSubscribe:()=>hy,NumberRangeFilter:()=>lh,PaginationCursor:()=>dv,PermissionGrantData:()=>py,PermissionRequestData:()=>my,PermissionRevocationData:()=>jl,PermissionsDefinitions:()=>Vw,PermissionsScopes:()=>N6,ProtocolDefinition:()=>_A,ProtocolRuleSet:()=>QP,ProtocolsConfigure:()=>e4,ProtocolsQuery:()=>xA,PublicJwk:()=>SA,RecordsDelete:()=>jw,RecordsFilter:()=>$6,RecordsQuery:()=>FE,RecordsRead:()=>t4,RecordsSubscribe:()=>VE,RecordsWrite:()=>$w,RecordsWriteDataEncoded:()=>C6,RecordsWriteSignaturePayload:()=>V6,RecordsWriteUnidentified:()=>Oc,StringRangeFilter:()=>H6});var J={};E.r(J),E.d(J,{code:()=>Cy,decode:()=>kv,encode:()=>ST,name:()=>$d});var Z={};E.r(Z),E.d(Z,{code:()=>x_,createLink:()=>qh,createNode:()=>E_,decode:()=>S_,encode:()=>Qh,name:()=>XT,prepare:()=>Wp,validate:()=>GT});var ie={};E.r(ie),E.d(ie,{code:()=>e0,decode:()=>c8,encode:()=>q2,name:()=>C_});var ae={};E.r(ae),E.d(ae,{base10:()=>O_});var se={};E.r(se),E.d(se,{base16:()=>p8,base16upper:()=>bD});var de={};E.r(de),E.d(de,{base2:()=>m8});var le={};E.r(le),E.d(le,{base256emoji:()=>xD});var we={};E.r(we),E.d(we,{base32:()=>Fy,base32hex:()=>g8,base32hexpad:()=>o0,base32hexpadupper:()=>ox,base32hexupper:()=>P_,base32pad:()=>SD,base32padupper:()=>MD,base32upper:()=>jy,base32z:()=>Yv});var xe={};E.r(xe),E.d(xe,{base36:()=>AD,base36upper:()=>sx});var Ce={};E.r(Ce),E.d(Ce,{base58btc:()=>Nf,base58flickr:()=>ax});var C={};E.r(C),E.d(C,{base64:()=>TD,base64pad:()=>cx,base64url:()=>v8,base64urlpad:()=>b8});var a={};E.r(a),E.d(a,{base8:()=>w8});var u={};E.r(u),E.d(u,{identity:()=>DD});var y={};E.r(y),E.d(y,{code:()=>S8,decode:()=>CD,encode:()=>ID,name:()=>x8});var g={};E.r(g),E.d(g,{code:()=>A8,decode:()=>T8,encode:()=>Kd,name:()=>M8});var S={};E.r(S),E.d(S,{identity:()=>j8});var T={};E.r(T),E.d(T,{sha256:()=>$y,sha512:()=>px});var N={};E.r(N),E.d(N,{OG:()=>V0,My:()=>_m,Ph:()=>Rg,lX:()=>K0,Id:()=>Og,fg:()=>FC,qj:()=>Sc,aT:()=>dw,aY:()=>Gf,lq:()=>Tp,z:()=>uw,Q5:()=>z0});var A=E(49970),s=E(14725);const v=new TextEncoder,W=new TextDecoder;class K{static base64UrlToBytes(t){return s.r0.baseDecode(t)}static base64UrlToObject(t){const n=s.r0.baseDecode(t);return K.bytesToObject(n)}static bytesToBase64Url(t){return s.r0.baseEncode(t)}static bytesToString(t){return W.decode(t)}static bytesToObject(t){const n=K.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return v.encode(n)}static stringToBase64Url(t){const n=v.encode(t);return s.r0.baseEncode(n)}static stringToBytes(t){return v.encode(t)}}var ee=E(63741);class ce extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var _e=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.MessagesGrantAuthorizationMismatchedProtocol="EventsGrantAuthorizationMismatchedProtocol",r.MessagesSubscribeAuthorizationFailed="MessagesSubscribeAuthorizationFailed",r.MessagesSubscribeEventStreamUnimplemented="MessagesSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessagesReadInvalidCid="MessagesReadInvalidCid",r.MessagesReadAuthorizationFailed="MessagesReadAuthorizationFailed",r.MessageGetInvalidCid="MessageGetInvalidCid",r.MessagesQueryAuthorizationFailed="MessagesQueryAuthorizationFailed",r.MessagesReadVerifyScopeFailed="MessagesReadVerifyScopeFailed",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol="PermissionsProtocolCreateGrantRecordsScopeMissingProtocol",r.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol="PermissionsProtocolCreateRequestRecordsScopeMissingProtocol",r.PermissionsProtocolGetScopeInvalidProtocol="PermissionsProtocolGetScopeInvalidProtocol",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeProtocolMismatch="PermissionsProtocolValidateScopeProtocolMismatch",r.PermissionsProtocolValidateScopeMissingProtocolTag="PermissionsProtocolValidateScopeMissingProtocolTag",r.PermissionsProtocolValidateRevocationProtocolTagMismatch="PermissionsProtocolValidateRevocationProtocolTagMismatch",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetNewestWriteRecordNotFound="RecordsWriteGetNewestWriteRecordNotFound",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r}(_e||{}),Oe=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function Ve(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new ce(_e.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function Se(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:K.bytesToBase64Url(r)}}const be={sign:(r,t)=>Oe(void 0,void 0,void 0,function*(){Ve(t);const n=K.base64UrlToBytes(t.d);return ee.wJ(r,n)}),verify:(r,t,n)=>Oe(void 0,void 0,void 0,function*(){Ve(n);const i=K.base64UrlToBytes(n.x);return ee.kv(t,r,i)}),generateKeyPair:()=>Oe(void 0,void 0,void 0,function*(){const r=ee.Wp.randomPrivateKey(),t=yield ee.Rn(r),n=K.bytesToBase64Url(r),i=Se(t);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:n})}}),publicKeyToJwk:r=>Oe(void 0,void 0,void 0,function*(){return Se(r)})};var Ue=E(68464),ye=E(10467),De=E(92059);const pe=r=>function(){var t=(0,ye.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),ue=(0,De.H)({name:"sha2-256",code:18,encode:pe("SHA-256")});(0,De.H)({name:"sha2-512",code:19,encode:pe("SHA-512")});var oe=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Ee{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new ce(_e.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return oe(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Ue.CB.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:K.bytesToBase64Url(n.subarray(1,33)),y:K.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return oe(this,void 0,void 0,function*(){const n=yield Ee.getPublicKey(t),i=yield Ee.publicKeyToJwk(n);return i.d=K.bytesToBase64Url(t),i})}static publicJwkToBytes(t){const n=K.base64UrlToBytes(t.x),i=K.base64UrlToBytes(t.y);return Ue.CB.fromAffine({x:Ue.jn.bytesToNumberBE(n),y:Ue.jn.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(t){return K.base64UrlToBytes(t.d)}static sign(t,n){return oe(this,void 0,void 0,function*(){Ee.validateKey(n);const i=yield ue.encode(t),l=Ee.privateJwkToBytes(n);return(yield Ue.wJ(i,l)).toCompactRawBytes()})}static verify(t,n,i){return oe(this,void 0,void 0,function*(){Ee.validateKey(i);const l=Ee.publicJwkToBytes(i),p=yield ue.encode(t);return Ue.MX(n,p,l)})}static generateKeyPair(){return oe(this,void 0,void 0,function*(){const t=Ue.Wp.randomPrivateKey(),n=Ue.lG(t,!1),i=K.bytesToBase64Url(t),l=yield Ee.publicKeyToJwk(n);return{publicJwk:l,privateJwk:Object.assign(Object.assign({},l),{d:i})}})}static generateKeyPairRaw(){return oe(this,void 0,void 0,function*(){const t=Ue.Wp.randomPrivateKey();return{publicKey:Ue.lG(t,!0),privateKey:t}})}static getPublicKey(t){return oe(this,void 0,void 0,function*(){return Ue.lG(t,!0)})}static getPublicJwk(t){return oe(this,void 0,void 0,function*(){return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"])})}}function Re(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function Et(r,...t){if(!function Fe(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function Le(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const m="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ae=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),tt=(r,t)=>r<<32-t|r>>>t;function pn(r){return"string"==typeof r&&(r=function qt(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}(r)),Et(r),r}new Uint8Array(new Uint32Array([287454020]).buffer);class gt{clone(){return this._cloneInto()}}function Ye(r){const t=i=>r().update(pn(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function Nt(r=32){if(m&&"function"==typeof m.getRandomValues)return m.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}const Wn=(r,t,n)=>r&t^~r&n,En=(r,t,n)=>r&t^r&n^t&n;class kn extends gt{constructor(t,n,i,l){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ae(this.buffer)}update(t){Le(this);const{view:n,buffer:i,blockLen:l}=this,p=(t=pn(t)).length;for(let c=0;c<p;){const h=Math.min(l-this.pos,p-c);if(h!==l)i.set(t.subarray(c,c+h),this.pos),this.pos+=h,c+=h,this.pos===l&&(this.process(n,0),this.pos=0);else{const V=Ae(t);for(;l<=p-c;c+=l)this.process(V,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Le(this),function lt(r,t){Et(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:l,isLE:p}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>l-c&&(this.process(i,0),c=0);for(let q=c;q<l;q++)n[q]=0;(function un(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const l=BigInt(32),p=BigInt(4294967295),c=Number(n>>l&p),h=Number(n&p),$=i?0:4;r.setUint32(t+(i?4:0),c,i),r.setUint32(t+$,h,i)})(i,l-8,BigInt(8*this.length),p),this.process(i,0);const h=Ae(t),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $=V/4,I=this.get();if($>I.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<$;q++)h.setUint32(4*q,I[q],p)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:l,finished:p,destroyed:c,pos:h}=this;return t.length=l,t.pos=h,t.finished=p,t.destroyed=c,l%n&&t.buffer.set(i),t}}const Or=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fn=new Uint32Array(64);class Lt extends kn{constructor(){super(64,32,8,!1),this.A=0|Jn[0],this.B=0|Jn[1],this.C=0|Jn[2],this.D=0|Jn[3],this.E=0|Jn[4],this.F=0|Jn[5],this.G=0|Jn[6],this.H=0|Jn[7]}get(){const{A:t,B:n,C:i,D:l,E:p,F:c,G:h,H:V}=this;return[t,n,i,l,p,c,h,V]}set(t,n,i,l,p,c,h,V){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|l,this.E=0|p,this.F=0|c,this.G=0|h,this.H=0|V}process(t,n){for(let q=0;q<16;q++,n+=4)Fn[q]=t.getUint32(n,!1);for(let q=16;q<64;q++){const ke=Fn[q-15],Ne=Fn[q-2],Pe=tt(ke,7)^tt(ke,18)^ke>>>3,Ke=tt(Ne,17)^tt(Ne,19)^Ne>>>10;Fn[q]=Ke+Fn[q-7]+Pe+Fn[q-16]|0}let{A:i,B:l,C:p,D:c,E:h,F:V,G:$,H:I}=this;for(let q=0;q<64;q++){const Ne=I+(tt(h,6)^tt(h,11)^tt(h,25))+Wn(h,V,$)+Or[q]+Fn[q]|0,Ke=(tt(i,2)^tt(i,13)^tt(i,22))+En(i,l,p)|0;I=$,$=V,V=h,h=c+Ne|0,c=p,p=l,l=i,i=Ne+Ke|0}i=i+this.A|0,l=l+this.B|0,p=p+this.C|0,c=c+this.D|0,h=h+this.E|0,V=V+this.F|0,$=$+this.G|0,I=I+this.H|0,this.set(i,l,p,c,h,V,$,I)}roundClean(){Fn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Te=Ye(()=>new Lt);class xt extends gt{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function We(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Re(r.outputLen),Re(r.blockLen)}(t);const i=pn(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,p=new Uint8Array(l);p.set(i.length>l?t.create().update(i).digest():i);for(let c=0;c<p.length;c++)p[c]^=54;this.iHash.update(p),this.oHash=t.create();for(let c=0;c<p.length;c++)p[c]^=106;this.oHash.update(p),p.fill(0)}update(t){return Le(this),this.iHash.update(t),this}digestInto(t){Le(this),Et(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:l,destroyed:p,blockLen:c,outputLen:h}=this;return t.finished=l,t.destroyed=p,t.blockLen=c,t.outputLen=h,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nn=(r,t,n)=>new xt(r,t).update(n).digest();nn.create=(r,t)=>new xt(r,t);const Kn=BigInt(1),tr=BigInt(2);function Dr(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}function Mr(r){if(!Dr(r))throw new Error("Uint8Array expected")}const Ir=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function jr(r){Mr(r);let t="";for(let n=0;n<r.length;n++)t+=Ir[r[n]];return t}function tn(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const _n={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Tn(r){return r>=_n._0&&r<=_n._9?r-_n._0:r>=_n._A&&r<=_n._F?r-(_n._A-10):r>=_n._a&&r<=_n._f?r-(_n._a-10):void 0}function jn(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let l=0,p=0;l<n;l++,p+=2){const c=Tn(r.charCodeAt(p)),h=Tn(r.charCodeAt(p+1));if(void 0===c||void 0===h)throw new Error('hex string expected, got non-hex character "'+(r[p]+r[p+1])+'" at index '+p);i[l]=16*c+h}return i}function hr(r){return tn(jr(r))}function Ar(r){return Mr(r),tn(jr(Uint8Array.from(r).reverse()))}function xr(r,t){return jn(r.toString(16).padStart(2*t,"0"))}function zr(r,t){return xr(r,t).reverse()}function oi(r,t,n){let i;if("string"==typeof t)try{i=jn(t)}catch(p){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${p}`)}else{if(!Dr(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const l=i.length;if("number"==typeof n&&l!==n)throw new Error(`${r} expected ${n} bytes, got ${l}`);return i}function Ao(...r){let t=0;for(let i=0;i<r.length;i++){const l=r[i];Mr(l),t+=l.length}const n=new Uint8Array(t);for(let i=0,l=0;i<r.length;i++){const p=r[i];n.set(p,l),l+=p.length}return n}const pi=r=>(tr<<BigInt(r-1))-Kn,Ui=r=>new Uint8Array(r),la=r=>Uint8Array.from(r);function Si(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=Ui(r),l=Ui(r),p=0;const c=()=>{i.fill(1),l.fill(0),p=0},h=(...q)=>n(l,i,...q),V=(q=Ui())=>{l=h(la([0]),q),i=h(),0!==q.length&&(l=h(la([1]),q),i=h())},$=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let q=0;const ke=[];for(;q<t;){i=h();const Ne=i.slice();ke.push(Ne),q+=i.length}return Ao(...ke)};return(q,ke)=>{let Ne;for(c(),V(q);!(Ne=ke($()));)V();return c(),Ne}}const os={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||Dr(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function Ns(r,t,n={}){const i=(l,p,c)=>{const h=os[p];if("function"!=typeof h)throw new Error(`Invalid validator "${p}", expected function`);const V=r[l];if(!(c&&void 0===V||h(V,r)))throw new Error(`Invalid param ${String(l)}=${V} (${typeof V}), expected ${p}`)};for(const[l,p]of Object.entries(t))i(l,p,!1);for(const[l,p]of Object.entries(n))i(l,p,!0);return r}const To=BigInt(0),$i=BigInt(1),ps=BigInt(2),da=BigInt(3),Ba=BigInt(4),ll=BigInt(5),Xa=BigInt(8);function ua(r,t){const n=r%t;return n>=To?n:t+n}function nu(r,t,n){if(n<=To||t<To)throw new Error("Expected power/modulo > 0");if(n===$i)return To;let i=$i;for(;t>To;)t&$i&&(i=i*r%n),r=r*r%n,t>>=$i;return i}function dl(r,t){if(r===To||t<=To)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=ua(r,t),i=t,l=To,p=$i,c=$i,h=To;for(;n!==To;){const $=i/n,I=i%n,q=l-c*$,ke=p-h*$;i=n,n=I,l=c,p=h,c=q,h=ke}if(i!==$i)throw new Error("invert: does not exist");return ua(l,t)}BigInt(9),BigInt(16);const Aa=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Js(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function ho(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function wo(r){const t=ho(r);return t+Math.ceil(t/2)}const Pd=BigInt(0),ds=BigInt(1);function qc(r){return function Yc(r){Ns(r,Aa.reduce((i,l)=>(i[l]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),Ns(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Js(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:Ol,aT:oc}=f,go={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=go;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Ol(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=go,n="string"==typeof r?oc(r):r;Mr(n);let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:l,l:p}=go._parseInt(n.subarray(2)),{d:c,l:h}=go._parseInt(p);if(h.length)throw new t("Invalid signature: left bytes after parsing");return{r:l,s:c}},hexFromSig(r){const t=$=>8&Number.parseInt($[0],16)?"00"+$:$,n=$=>{const I=$.toString(16);return 1&I.length?`0${I}`:I},i=t(n(r.s)),l=t(n(r.r)),p=i.length/2,c=l.length/2,h=n(p),V=n(c);return`30${n(c+p+4)}02${V}${l}02${h}${i}`}},Br=BigInt(0),Ii=BigInt(1),Po=(BigInt(2),BigInt(3));function qi(r){const t=function hl(r){const t=qc(r);return Ns(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,l=n.BYTES+1,p=2*n.BYTES+1;function h(ln){return ua(ln,i)}function V(ln){return dl(ln,i)}const{ProjectivePoint:$,normPrivateKeyToScalar:I,weierstrassEquation:q,isWithinCurveOrder:ke}=function bs(r){const t=function ru(r){const t=qc(r);Ns(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:l}=t;if(n){if(!i.eql(l,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Pe,Ke,rt)=>{const ht=Ke.toAffine();return Ao(Uint8Array.from([4]),n.toBytes(ht.x),n.toBytes(ht.y))}),l=t.fromBytes||(Pe=>{const Ke=Pe.subarray(1);return{x:n.fromBytes(Ke.subarray(0,n.BYTES)),y:n.fromBytes(Ke.subarray(n.BYTES,2*n.BYTES))}});function p(Pe){const{a:Ke,b:rt}=t,ht=n.sqr(Pe),ct=n.mul(ht,Pe);return n.add(n.add(ct,n.mul(Pe,Ke)),rt)}if(!n.eql(n.sqr(t.Gy),p(t.Gx)))throw new Error("bad generator point: equation left != right");function c(Pe){return"bigint"==typeof Pe&&Br<Pe&&Pe<t.n}function h(Pe){if(!c(Pe))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function V(Pe){const{allowedPrivateKeyLengths:Ke,nByteLength:rt,wrapPrivateKey:ht,n:ct}=t;if(Ke&&"bigint"!=typeof Pe){if(Dr(Pe)&&(Pe=jr(Pe)),"string"!=typeof Pe||!Ke.includes(Pe.length))throw new Error("Invalid key");Pe=Pe.padStart(2*rt,"0")}let dt;try{dt="bigint"==typeof Pe?Pe:hr(oi("private key",Pe,rt))}catch{throw new Error(`private key must be ${rt} bytes, hex or bigint, not ${typeof Pe}`)}return ht&&(dt=ua(dt,ct)),h(dt),dt}const $=new Map;function I(Pe){if(!(Pe instanceof q))throw new Error("ProjectivePoint expected")}class q{constructor(Ke,rt,ht){if(this.px=Ke,this.py=rt,this.pz=ht,null==Ke||!n.isValid(Ke))throw new Error("x required");if(null==rt||!n.isValid(rt))throw new Error("y required");if(null==ht||!n.isValid(ht))throw new Error("z required")}static fromAffine(Ke){const{x:rt,y:ht}=Ke||{};if(!Ke||!n.isValid(rt)||!n.isValid(ht))throw new Error("invalid affine point");if(Ke instanceof q)throw new Error("projective point not allowed");const ct=dt=>n.eql(dt,n.ZERO);return ct(rt)&&ct(ht)?q.ZERO:new q(rt,ht,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ke){const rt=n.invertBatch(Ke.map(ht=>ht.pz));return Ke.map((ht,ct)=>ht.toAffine(rt[ct])).map(q.fromAffine)}static fromHex(Ke){const rt=q.fromAffine(l(oi("pointHex",Ke)));return rt.assertValidity(),rt}static fromPrivateKey(Ke){return q.BASE.multiply(V(Ke))}_setWindowSize(Ke){this._WINDOW_SIZE=Ke,$.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ke,y:rt}=this.toAffine();if(!n.isValid(Ke)||!n.isValid(rt))throw new Error("bad point: x or y not FE");const ht=n.sqr(rt),ct=p(Ke);if(!n.eql(ht,ct))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ke}=this.toAffine();if(n.isOdd)return!n.isOdd(Ke);throw new Error("Field doesn't support isOdd")}equals(Ke){I(Ke);const{px:rt,py:ht,pz:ct}=this,{px:dt,py:At,pz:Pt}=Ke,Ct=n.eql(n.mul(rt,Pt),n.mul(dt,ct)),zt=n.eql(n.mul(ht,Pt),n.mul(At,ct));return Ct&&zt}negate(){return new q(this.px,n.neg(this.py),this.pz)}double(){const{a:Ke,b:rt}=t,ht=n.mul(rt,Po),{px:ct,py:dt,pz:At}=this;let Pt=n.ZERO,Ct=n.ZERO,zt=n.ZERO,Zt=n.mul(ct,ct),xn=n.mul(dt,dt),Cn=n.mul(At,At),Nn=n.mul(ct,dt);return Nn=n.add(Nn,Nn),zt=n.mul(ct,At),zt=n.add(zt,zt),Pt=n.mul(Ke,zt),Ct=n.mul(ht,Cn),Ct=n.add(Pt,Ct),Pt=n.sub(xn,Ct),Ct=n.add(xn,Ct),Ct=n.mul(Pt,Ct),Pt=n.mul(Nn,Pt),zt=n.mul(ht,zt),Cn=n.mul(Ke,Cn),Nn=n.sub(Zt,Cn),Nn=n.mul(Ke,Nn),Nn=n.add(Nn,zt),zt=n.add(Zt,Zt),Zt=n.add(zt,Zt),Zt=n.add(Zt,Cn),Zt=n.mul(Zt,Nn),Ct=n.add(Ct,Zt),Cn=n.mul(dt,At),Cn=n.add(Cn,Cn),Zt=n.mul(Cn,Nn),Pt=n.sub(Pt,Zt),zt=n.mul(Cn,xn),zt=n.add(zt,zt),zt=n.add(zt,zt),new q(Pt,Ct,zt)}add(Ke){I(Ke);const{px:rt,py:ht,pz:ct}=this,{px:dt,py:At,pz:Pt}=Ke;let Ct=n.ZERO,zt=n.ZERO,Zt=n.ZERO;const xn=t.a,Cn=n.mul(t.b,Po);let Nn=n.mul(rt,dt),ir=n.mul(ht,At),Pn=n.mul(ct,Pt),Hn=n.add(rt,ht),ln=n.add(dt,At);Hn=n.mul(Hn,ln),ln=n.add(Nn,ir),Hn=n.sub(Hn,ln),ln=n.add(rt,ct);let vn=n.add(dt,Pt);return ln=n.mul(ln,vn),vn=n.add(Nn,Pn),ln=n.sub(ln,vn),vn=n.add(ht,ct),Ct=n.add(At,Pt),vn=n.mul(vn,Ct),Ct=n.add(ir,Pn),vn=n.sub(vn,Ct),Zt=n.mul(xn,ln),Ct=n.mul(Cn,Pn),Zt=n.add(Ct,Zt),Ct=n.sub(ir,Zt),Zt=n.add(ir,Zt),zt=n.mul(Ct,Zt),ir=n.add(Nn,Nn),ir=n.add(ir,Nn),Pn=n.mul(xn,Pn),ln=n.mul(Cn,ln),ir=n.add(ir,Pn),Pn=n.sub(Nn,Pn),Pn=n.mul(xn,Pn),ln=n.add(ln,Pn),Nn=n.mul(ir,ln),zt=n.add(zt,Nn),Nn=n.mul(vn,ln),Ct=n.mul(Hn,Ct),Ct=n.sub(Ct,Nn),Nn=n.mul(Hn,ir),Zt=n.mul(vn,Zt),Zt=n.add(Zt,Nn),new q(Ct,zt,Zt)}subtract(Ke){return this.add(Ke.negate())}is0(){return this.equals(q.ZERO)}wNAF(Ke){return Ne.wNAFCached(this,$,Ke,rt=>{const ht=n.invertBatch(rt.map(ct=>ct.pz));return rt.map((ct,dt)=>ct.toAffine(ht[dt])).map(q.fromAffine)})}multiplyUnsafe(Ke){const rt=q.ZERO;if(Ke===Br)return rt;if(h(Ke),Ke===Ii)return this;const{endo:ht}=t;if(!ht)return Ne.unsafeLadder(this,Ke);let{k1neg:ct,k1:dt,k2neg:At,k2:Pt}=ht.splitScalar(Ke),Ct=rt,zt=rt,Zt=this;for(;dt>Br||Pt>Br;)dt&Ii&&(Ct=Ct.add(Zt)),Pt&Ii&&(zt=zt.add(Zt)),Zt=Zt.double(),dt>>=Ii,Pt>>=Ii;return ct&&(Ct=Ct.negate()),At&&(zt=zt.negate()),zt=new q(n.mul(zt.px,ht.beta),zt.py,zt.pz),Ct.add(zt)}multiply(Ke){h(Ke);let ht,ct,rt=Ke;const{endo:dt}=t;if(dt){const{k1neg:At,k1:Pt,k2neg:Ct,k2:zt}=dt.splitScalar(rt);let{p:Zt,f:xn}=this.wNAF(Pt),{p:Cn,f:Nn}=this.wNAF(zt);Zt=Ne.constTimeNegate(At,Zt),Cn=Ne.constTimeNegate(Ct,Cn),Cn=new q(n.mul(Cn.px,dt.beta),Cn.py,Cn.pz),ht=Zt.add(Cn),ct=xn.add(Nn)}else{const{p:At,f:Pt}=this.wNAF(rt);ht=At,ct=Pt}return q.normalizeZ([ht,ct])[0]}multiplyAndAddUnsafe(Ke,rt,ht){const ct=q.BASE,dt=(Pt,Ct)=>Ct!==Br&&Ct!==Ii&&Pt.equals(ct)?Pt.multiply(Ct):Pt.multiplyUnsafe(Ct),At=dt(this,rt).add(dt(Ke,ht));return At.is0()?void 0:At}toAffine(Ke){const{px:rt,py:ht,pz:ct}=this,dt=this.is0();null==Ke&&(Ke=dt?n.ONE:n.inv(ct));const At=n.mul(rt,Ke),Pt=n.mul(ht,Ke),Ct=n.mul(ct,Ke);if(dt)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Ct,n.ONE))throw new Error("invZ was invalid");return{x:At,y:Pt}}isTorsionFree(){const{h:Ke,isTorsionFree:rt}=t;if(Ke===Ii)return!0;if(rt)return rt(q,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ke,clearCofactor:rt}=t;return Ke===Ii?this:rt?rt(q,this):this.multiplyUnsafe(t.h)}toRawBytes(Ke=!0){return this.assertValidity(),i(q,this,Ke)}toHex(Ke=!0){return jr(this.toRawBytes(Ke))}}q.BASE=new q(t.Gx,t.Gy,n.ONE),q.ZERO=new q(n.ZERO,n.ONE,n.ZERO);const ke=t.nBitLength,Ne=function Dc(r,t){const n=(l,p)=>{const c=p.negate();return l?c:p},i=l=>({windows:Math.ceil(t/l)+1,windowSize:2**(l-1)});return{constTimeNegate:n,unsafeLadder(l,p){let c=r.ZERO,h=l;for(;p>Pd;)p&ds&&(c=c.add(h)),h=h.double(),p>>=ds;return c},precomputeWindow(l,p){const{windows:c,windowSize:h}=i(p),V=[];let $=l,I=$;for(let q=0;q<c;q++){I=$,V.push(I);for(let ke=1;ke<h;ke++)I=I.add($),V.push(I);$=I.double()}return V},wNAF(l,p,c){const{windows:h,windowSize:V}=i(l);let $=r.ZERO,I=r.BASE;const q=BigInt(2**l-1),ke=2**l,Ne=BigInt(l);for(let Pe=0;Pe<h;Pe++){const Ke=Pe*V;let rt=Number(c&q);c>>=Ne,rt>V&&(rt-=ke,c+=ds);const ht=Ke,ct=Ke+Math.abs(rt)-1,At=rt<0;0===rt?I=I.add(n(Pe%2!=0,p[ht])):$=$.add(n(At,p[ct]))}return{p:$,f:I}},wNAFCached(l,p,c,h){const V=l._WINDOW_SIZE||1;let $=p.get(l);return $||($=this.precomputeWindow(l,V),1!==V&&p.set(l,h($))),this.wNAF(V,$,c)}}}(q,t.endo?Math.ceil(ke/2):ke);return{CURVE:t,ProjectivePoint:q,normPrivateKeyToScalar:V,weierstrassEquation:p,isWithinCurveOrder:c}}({...t,toBytes(ln,vn,wn){const Un=vn.toAffine(),Sn=n.toBytes(Un.x),Vn=Ao;return wn?Vn(Uint8Array.from([vn.hasEvenY()?2:3]),Sn):Vn(Uint8Array.from([4]),Sn,n.toBytes(Un.y))},fromBytes(ln){const vn=ln.length,wn=ln[0],Un=ln.subarray(1);if(vn!==l||2!==wn&&3!==wn){if(vn===p&&4===wn)return{x:n.fromBytes(Un.subarray(0,n.BYTES)),y:n.fromBytes(Un.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${vn} was invalid. Expected ${l} compressed bytes or ${p} uncompressed bytes`)}{const Sn=hr(Un);if(!function c(ln){return Br<ln&&ln<n.ORDER}(Sn))throw new Error("Point is not on curve");const Vn=q(Sn);let lr;try{lr=n.sqrt(Vn)}catch(dr){const _r=dr instanceof Error?": "+dr.message:"";throw new Error("Point is not on curve"+_r)}return!(1&~wn)!=((lr&Ii)===Ii)&&(lr=n.neg(lr)),{x:Sn,y:lr}}}}),Ne=ln=>jr(xr(ln,t.nByteLength));function Pe(ln){return ln>i>>Ii}const rt=(ln,vn,wn)=>hr(ln.slice(vn,wn));class ht{constructor(vn,wn,Un){this.r=vn,this.s=wn,this.recovery=Un,this.assertValidity()}static fromCompact(vn){const wn=t.nByteLength;return vn=oi("compactSignature",vn,2*wn),new ht(rt(vn,0,wn),rt(vn,wn,2*wn))}static fromDER(vn){const{r:wn,s:Un}=go.toSig(oi("DER",vn));return new ht(wn,Un)}assertValidity(){if(!ke(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!ke(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(vn){return new ht(this.r,this.s,vn)}recoverPublicKey(vn){const{r:wn,s:Un,recovery:Sn}=this,Vn=zt(oi("msgHash",vn));if(null==Sn||![0,1,2,3].includes(Sn))throw new Error("recovery id invalid");const lr=2===Sn||3===Sn?wn+t.n:wn;if(lr>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const mn=$.fromHex((1&Sn?"03":"02")+Ne(lr)),dr=V(lr),_r=h(-Vn*dr),Zn=h(Un*dr),On=$.BASE.multiplyAndAddUnsafe(mn,_r,Zn);if(!On)throw new Error("point at infinify");return On.assertValidity(),On}hasHighS(){return Pe(this.s)}normalizeS(){return this.hasHighS()?new ht(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return jn(this.toDERHex())}toDERHex(){return go.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return jn(this.toCompactHex())}toCompactHex(){return Ne(this.r)+Ne(this.s)}}const ct={isValidPrivateKey(ln){try{return I(ln),!0}catch{return!1}},normPrivateKeyToScalar:I,randomPrivateKey:()=>{const ln=wo(t.n);return function Jc(r,t,n=!1){const i=r.length,l=ho(t),p=wo(t);if(i<16||i<p||i>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${i}`);const h=ua(n?hr(r):Ar(r),t-$i)+$i;return n?zr(h,l):xr(h,l)}(t.randomBytes(ln),t.n)},precompute:(ln=8,vn=$.BASE)=>(vn._setWindowSize(ln),vn.multiply(BigInt(3)),vn)};function At(ln){const vn=Dr(ln),wn="string"==typeof ln,Un=(vn||wn)&&ln.length;return vn?Un===l||Un===p:wn?Un===2*l||Un===2*p:ln instanceof $}const Ct=t.bits2int||function(ln){const vn=hr(ln),wn=8*ln.length-t.nBitLength;return wn>0?vn>>BigInt(wn):vn},zt=t.bits2int_modN||function(ln){return h(Ct(ln))},Zt=pi(t.nBitLength);function xn(ln){if("bigint"!=typeof ln)throw new Error("bigint expected");if(!(Br<=ln&&ln<Zt))throw new Error(`bigint expected < 2^${t.nBitLength}`);return xr(ln,t.nByteLength)}const Nn={lowS:t.lowS,prehash:!1},ir={lowS:t.lowS,prehash:!1};return $.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function dt(ln,vn=!0){return $.fromPrivateKey(ln).toRawBytes(vn)},getSharedSecret:function Pt(ln,vn,wn=!0){if(At(ln))throw new Error("first arg must be private key");if(!At(vn))throw new Error("second arg must be public key");return $.fromHex(vn).multiply(I(ln)).toRawBytes(wn)},sign:function Pn(ln,vn,wn=Nn){const{seed:Un,k2sig:Sn}=function Cn(ln,vn,wn=Nn){if(["recovered","canonical"].some(mr=>mr in wn))throw new Error("sign() legacy options not supported");const{hash:Un,randomBytes:Sn}=t;let{lowS:Vn,prehash:lr,extraEntropy:cr}=wn;null==Vn&&(Vn=!0),ln=oi("msgHash",ln),lr&&(ln=oi("prehashed msgHash",Un(ln)));const mn=zt(ln),dr=I(vn),_r=[xn(dr),xn(mn)];if(null!=cr&&!1!==cr){const mr=!0===cr?Sn(n.BYTES):cr;_r.push(oi("extraEntropy",mr))}const Zn=Ao(..._r),On=mn;return{seed:Zn,k2sig:function qn(mr){const Rr=Ct(mr);if(!ke(Rr))return;const Nr=V(Rr),Sr=$.BASE.multiply(Rr).toAffine(),Tr=h(Sr.x);if(Tr===Br)return;const fi=h(Nr*h(On+Tr*dr));if(fi===Br)return;let Zs=(Sr.x===Tr?0:2)|Number(Sr.y&Ii),yr=fi;return Vn&&Pe(fi)&&(yr=function Ke(ln){return Pe(ln)?h(-ln):ln}(fi),Zs^=1),new ht(Tr,yr,Zs)}}}(ln,vn,wn);return Si(t.hash.outputLen,t.nByteLength,t.hmac)(Un,Sn)},verify:function Hn(ln,vn,wn,Un=ir){const Sn=ln;if(vn=oi("msgHash",vn),wn=oi("publicKey",wn),"strict"in Un)throw new Error("options.strict was renamed to lowS");const{lowS:Vn,prehash:lr}=Un;let cr,mn;try{if("string"==typeof Sn||Dr(Sn))try{cr=ht.fromDER(Sn)}catch(Sr){if(!(Sr instanceof go.Err))throw Sr;cr=ht.fromCompact(Sn)}else{if("object"!=typeof Sn||"bigint"!=typeof Sn.r||"bigint"!=typeof Sn.s)throw new Error("PARSE");{const{r:Sr,s:Tr}=Sn;cr=new ht(Sr,Tr)}}mn=$.fromHex(wn)}catch(Sr){if("PARSE"===Sr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Vn&&cr.hasHighS())return!1;lr&&(vn=t.hash(vn));const{r:dr,s:_r}=cr,Zn=zt(vn),On=V(_r),qn=h(Zn*On),mr=h(dr*On),Rr=$.BASE.multiplyAndAddUnsafe(mn,qn,mr)?.toAffine();return!!Rr&&h(Rr.x)===dr},ProjectivePoint:$,Signature:ht,utils:ct}}function Rt(r){return{hash:r,hmac:(t,...n)=>nn(r,t,function fr(...r){let t=0;for(let i=0;i<r.length;i++){const l=r[i];Et(l),t+=l.length}const n=new Uint8Array(t);for(let i=0,l=0;i<r.length;i++){const p=r[i];n.set(p,l),l+=p.length}return n}(...n)),randomBytes:Nt}}BigInt(4);const gn=function wa(r,t,n=!1,i={}){if(r<=To)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:l,nByteLength:p}=Js(r,t);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=function ba(r){if(r%Ba===da){const t=(r+$i)/Ba;return function(i,l){const p=i.pow(l,t);if(!i.eql(i.sqr(p),l))throw new Error("Cannot find square root");return p}}if(r%Xa===ll){const t=(r-ll)/Xa;return function(i,l){const p=i.mul(l,ps),c=i.pow(p,t),h=i.mul(l,c),V=i.mul(i.mul(h,ps),c),$=i.mul(h,i.sub(V,i.ONE));if(!i.eql(i.sqr($),l))throw new Error("Cannot find square root");return $}}return function Od(r){const t=(r-$i)/ps;let n,i,l;for(n=r-$i,i=0;n%ps===To;n/=ps,i++);for(l=ps;l<r&&nu(l,t,r)!==r-$i;l++);if(1===i){const c=(r+$i)/Ba;return function(V,$){const I=V.pow($,c);if(!V.eql(V.sqr(I),$))throw new Error("Cannot find square root");return I}}const p=(n+$i)/ps;return function(h,V){if(h.pow(V,t)===h.neg(h.ONE))throw new Error("Cannot find square root");let $=i,I=h.pow(h.mul(h.ONE,l),n),q=h.pow(V,p),ke=h.pow(V,n);for(;!h.eql(ke,h.ONE);){if(h.eql(ke,h.ZERO))return h.ZERO;let Ne=1;for(let Ke=h.sqr(ke);Ne<$&&!h.eql(Ke,h.ONE);Ne++)Ke=h.sqr(Ke);const Pe=h.pow(I,$i<<BigInt($-Ne-1));I=h.sqr(Pe),q=h.mul(q,Pe),ke=h.mul(ke,I),$=Ne}return q}}(r)}(r),h=Object.freeze({ORDER:r,BITS:l,BYTES:p,MASK:pi(l),ZERO:To,ONE:$i,create:V=>ua(V,r),isValid:V=>{if("bigint"!=typeof V)throw new Error("Invalid field element: expected bigint, got "+typeof V);return To<=V&&V<r},is0:V=>V===To,isOdd:V=>(V&$i)===$i,neg:V=>ua(-V,r),eql:(V,$)=>V===$,sqr:V=>ua(V*V,r),add:(V,$)=>ua(V+$,r),sub:(V,$)=>ua(V-$,r),mul:(V,$)=>ua(V*$,r),pow:(V,$)=>function ul(r,t,n){if(n<To)throw new Error("Expected power > 0");if(n===To)return r.ONE;if(n===$i)return t;let i=r.ONE,l=t;for(;n>To;)n&$i&&(i=r.mul(i,l)),l=r.sqr(l),n>>=$i;return i}(h,V,$),div:(V,$)=>ua(V*dl($,r),r),sqrN:V=>V*V,addN:(V,$)=>V+$,subN:(V,$)=>V-$,mulN:(V,$)=>V*$,inv:V=>dl(V,r),sqrt:i.sqrt||(V=>c(h,V)),invertBatch:V=>function fc(r,t){const n=new Array(t.length),i=t.reduce((p,c,h)=>r.is0(c)?p:(n[h]=p,r.mul(p,c)),r.ONE),l=r.inv(i);return t.reduceRight((p,c,h)=>r.is0(c)?p:(n[h]=r.mul(p,n[h]),r.mul(p,c)),l),n}(h,V),cmov:(V,$,I)=>I?$:V,toBytes:V=>n?zr(V,p):xr(V,p),fromBytes:V=>{if(V.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${V.length}`);return n?Ar(V):hr(V)}});return Object.freeze(h)}(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Zr=function an(r,t){const n=i=>qi({...r,...Rt(i)});return Object.freeze({...n(t),create:n})}({a:gn.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:gn,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Te),ao=Zr;function Mi(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class Ot{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class jt{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return rn(this,t)}}class wt{decoders;constructor(t){this.decoders=t}or(t){return rn(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function rn(r,t){return new wt({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class Bn{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new Ot(t,n,i),this.decoder=new jt(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function ei({name:r,prefix:t,encode:n,decode:i}){return new Bn(r,t,n,i)}function Vi({name:r,prefix:t,alphabet:n}){const{encode:i,decode:l}=function cd(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var p=r.charAt(l),c=p.charCodeAt(0);if(255!==n[c])throw new TypeError(p+" is ambiguous");n[c]=l}var h=r.length,V=r.charAt(0),$=Math.log(h)/Math.log(256),I=Math.log(256)/Math.log(h);function ke(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ke=0;if(" "!==Pe[Ke]){for(var rt=0,ht=0;Pe[Ke]===V;)rt++,Ke++;for(var ct=(Pe.length-Ke)*$+1>>>0,dt=new Uint8Array(ct);Pe[Ke];){var At=n[Pe.charCodeAt(Ke)];if(255===At)return;for(var Pt=0,Ct=ct-1;(0!==At||Pt<ht)&&-1!==Ct;Ct--,Pt++)dt[Ct]=(At+=h*dt[Ct]>>>0)%256>>>0,At=At/256>>>0;if(0!==At)throw new Error("Non-zero carry");ht=Pt,Ke++}if(" "!==Pe[Ke]){for(var zt=ct-ht;zt!==ct&&0===dt[zt];)zt++;for(var Zt=new Uint8Array(rt+(ct-zt)),xn=rt;zt!==ct;)Zt[xn++]=dt[zt++];return Zt}}}return{encode:function q(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ke=0,rt=0,ht=0,ct=Pe.length;ht!==ct&&0===Pe[ht];)ht++,Ke++;for(var dt=(ct-ht)*I+1>>>0,At=new Uint8Array(dt);ht!==ct;){for(var Pt=Pe[ht],Ct=0,zt=dt-1;(0!==Pt||Ct<rt)&&-1!==zt;zt--,Ct++)At[zt]=(Pt+=256*At[zt]>>>0)%h>>>0,Pt=Pt/h>>>0;if(0!==Pt)throw new Error("Non-zero carry");rt=Ct,ht++}for(var Zt=dt-rt;Zt!==dt&&0===At[Zt];)Zt++;for(var xn=V.repeat(Ke);Zt<dt;++Zt)xn+=r.charAt(At[Zt]);return xn},decodeUnsafe:ke,decode:function Ne(Pe){var Ke=ke(Pe);if(Ke)return Ke;throw new Error(`Non-${t} character`)}}}(n,r);return ei({prefix:t,name:r,encode:i,decode:p=>Mi(l(p))})}function fa({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return ei({prefix:t,name:r,encode:l=>function di(r,t,n){const i="="===t[t.length-1],l=(1<<n)-1;let p="",c=0,h=0;for(let V=0;V<r.length;++V)for(h=h<<8|r[V],c+=8;c>n;)c-=n,p+=t[l&h>>c];if(0!==c&&(p+=t[l&h<<n-c]),i)for(;p.length*n&7;)p+="=";return p}(l,i,n),decode:l=>function ys(r,t,n,i){const l={};for(let I=0;I<t.length;++I)l[t[I]]=I;let p=r.length;for(;"="===r[p-1];)--p;const c=new Uint8Array(p*n/8|0);let h=0,V=0,$=0;for(let I=0;I<p;++I){const q=l[r[I]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,h+=n,h>=8&&(h-=8,c[$++]=255&V>>h)}if(h>=n||255&V<<8-h)throw new SyntaxError("Unexpected end of data");return c}(l,i,n,r)})}const ld=Vi({prefix:"9",name:"base10",alphabet:"0123456789"}),Om=fa({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zh=fa({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),La=fa({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Fo=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Qc=Fo.reduce((r,t,n)=>(r[n]=t,r),[]),sc=Fo.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),pl=ei({prefix:"\u{1f680}",name:"base256emoji",encode:function dd(r){return r.reduce((t,n)=>t+Qc[n],"")},decode:function iu(r){const t=[];for(const n of r){const i=sc[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),pc=fa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ou=fa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Nl=fa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tu=fa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ud=fa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Du=fa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zi=fa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ta=fa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_f=fa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ic=Vi({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),su=Vi({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Ld=Vi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Bp=Vi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Hh=fa({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ov=fa({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Np=fa({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sv=fa({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ef=fa({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Qs=ei({prefix:"\0",name:"identity",encode:r=>function bf(r){return(new TextDecoder).decode(r)}(r),decode:r=>function Za(r){return(new TextEncoder).encode(r)}(r)}),Iu=new TextEncoder,Cu=new TextDecoder,xf="json",gs=512;function ku(r){return Iu.encode(JSON.stringify(r))}function Ru(r){return JSON.parse(Cu.decode(r))}const Ji="raw",Hi=85;function Sf(r){return Mi(r)}function Ua(r){return Mi(r)}var mc=128,Ou=-128,to=Math.pow(2,31),Lo=128,Ud=127,Mf=Math.pow(2,7),ah=Math.pow(2,14),ch=Math.pow(2,21),st=Math.pow(2,28),Jt=Math.pow(2,35),Tt=Math.pow(2,42),Kt=Math.pow(2,49),Mn=Math.pow(2,56),nr=Math.pow(2,63);const Ki={encode:function ml(r,t,n){t=t||[];for(var i=n=n||0;r>=to;)t[n++]=255&r|mc,r/=128;for(;r&Ou;)t[n++]=255&r|mc,r>>>=7;return t[n]=0|r,ml.bytes=n-i+1,t},decode:function Ul(r,i){var c,n=0,l=0,p=i=i||0,h=r.length;do{if(p>=h)throw Ul.bytes=0,new RangeError("Could not decode varint");c=r[p++],n+=l<28?(c&Ud)<<l:(c&Ud)*Math.pow(2,l),l+=7}while(c>=Lo);return Ul.bytes=p-i,n},encodingLength:function(r){return r<Mf?1:r<ah?2:r<ch?3:r<st?4:r<Jt?5:r<Tt?6:r<Kt?7:r<Mn?8:r<nr?9:10}};function Cr(r,t,n=0){return Ki.encode(r,t,n),t}function Jo(r){return Ki.encodingLength(r)}function ko(r,t){const n=t.byteLength,i=Jo(r),l=i+Jo(n),p=new Uint8Array(l+n);return Cr(r,p,0),Cr(n,p,i),p.set(t,l),new Ss(r,n,t,p)}class Ss{code;size;digest;bytes;constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}const Fa=Mi,gl={code:0,name:"identity",encode:Fa,digest:function kc(r){return ko(0,Fa(r))}};function vl({name:r,code:t,encode:n}){return new Pu(r,t,n)}class Pu{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?ko(this.code,n):n.then(i=>ko(this.code,i))}throw Error("Unknown type, must be binary type")}}function Pm(r){return function(){var t=(0,ye.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const yc=vl({name:"sha2-256",code:18,encode:Pm("SHA-256")}),Fd=vl({name:"sha2-512",code:19,encode:Pm("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Xe={...D,...H,...L,..._,...k,...P,...M,...O,...F,...x};function ve(r=0){return new Uint8Array(r)}function Ze(r=0){return new Uint8Array(r)}function qe(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const pt=qe("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Vt=qe("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=Ze((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),Xt={utf8:pt,"utf-8":pt,hex:Xe.base16,latin1:Vt,ascii:Vt,binary:Vt,...Xe};function bt(r,t="utf8"){const n=Xt[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}var Lr=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const mi_toString=function sn(r,t="utf8"){const n=Xt[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(r).substring(1)};class ai{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new ce(_e.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return Lr(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Zr.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:K.bytesToBase64Url(n.subarray(1,33)),y:K.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return K.base64UrlToBytes(t.d)}static sign(t,n){return Lr(this,void 0,void 0,function*(){ai.validateKey(n);const i=yield ue.encode(t),l=ai.privateJwkToBytes(n);return Promise.resolve(Zr.sign(i,l).toCompactRawBytes())})}static verify(t,n,i){return Lr(this,void 0,void 0,function*(){let l;ai.validateKey(i),l=64===n.length?Zr.Signature.fromCompact(n):Zr.Signature.fromDER(n);const p=yield ue.encode(t),c=Zr.ProjectivePoint.fromAffine({x:ai.bytesToBigInt(K.base64UrlToBytes(i.x)),y:ai.bytesToBigInt(K.base64UrlToBytes(i.y))}).toRawBytes(!1);return Zr.verify(l,p,c)})}static generateKeyPair(){return Lr(this,void 0,void 0,function*(){const t=Zr.utils.randomPrivateKey(),n=ao.getPublicKey(t,!1),i=K.bytesToBase64Url(t),l=yield ai.publicKeyToJwk(n);return{publicJwk:l,privateJwk:Object.assign(Object.assign({},l),{d:i})}})}static bytesToBigInt(t){return BigInt("0x"+mi_toString(t,"base16"))}}const hi={Ed25519:be,secp256k1:{sign:Ee.sign,verify:Ee.verify,generateKeyPair:Ee.generateKeyPair,publicKeyToJwk:Ee.publicKeyToJwk},"P-256":{sign:ai.sign,verify:ai.verify,generateKeyPair:ai.generateKeyPair,publicKeyToJwk:ai.publicKeyToJwk}};class zo{constructor(t){var n,i;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new ce(_e.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new ce(_e.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(i=t.algorithm)&&void 0!==i?i:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=hi[t.privateJwk.crv],!this.signatureAlgorithm)throw new ce(_e.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(hi)}`)}sign(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class kr{static getKid(t){const{kid:n}=K.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=kr.getKid(t);return kr.extractDid(n)}static verifySignature(t,n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l=hi[i.crv];if(!l)throw new ce(_e.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(hi)}`);const p=K.stringToBytes(`${n.protected}.${t}`),c=K.base64UrlToBytes(n.signature);return yield l.verify(p,c,i)})}static decodePlainObjectPayload(t){let n;try{n=K.base64UrlToObject(t.payload)}catch{throw new ce(_e.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!A(n))throw new ce(_e.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(i=>kr.createSigner(i))}static createSigner(t){return new zo({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var ki=E(40573);const co="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,$r=new Set,Mo="object"==typeof ki&&ki?ki:{},ac=(r,t,n,i)=>{"function"==typeof Mo.emitWarning?Mo.emitWarning(r,t,n,i):console.error(`[${n}] ${t}: ${r}`)};let Ge=globalThis.AbortController,ut=globalThis.AbortSignal;if(typeof Ge>"u"){ut=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,l){this._onabort.push(l)}},Ge=class{constructor(){t()}signal=new ut;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const l of this.signal._onabort)l(i);this.signal.onabort?.(i)}}};let r="1"!==Mo.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,ac("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const Ut=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),cn=r=>Ut(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?Dn:null:null;class Dn extends Array{constructor(t){super(t),this.fill(0)}}class sr{heap;length;static#e=!1;static create(t){const n=cn(t);if(!n)return[];sr.#e=!0;const i=new sr(t,n);return sr.#e=!1,i}constructor(t,n){if(!sr.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class Gn{#e;#t;#n;#f;#A;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#y;#a;#o;#r;#u;#p;#d;#c;#g;#l;#E;#x;#v;#b;#M;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#d},get tail(){return t.#c},free:t.#g,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,i,l,p)=>t.#R(n,i,l,p),moveToTail:n=>t.#I(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#y}get size(){return this.#s}get fetchMethod(){return this.#A}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:i,ttlResolution:l=1,ttlAutopurge:p,updateAgeOnGet:c,updateAgeOnHas:h,allowStale:V,dispose:$,disposeAfter:I,noDisposeOnSet:q,noUpdateTTL:ke,maxSize:Ne=0,maxEntrySize:Pe=0,sizeCalculation:Ke,fetchMethod:rt,noDeleteOnFetchRejection:ht,noDeleteOnStaleGet:ct,allowStaleOnFetchRejection:dt,allowStaleOnFetchAbort:At,ignoreFetchAbort:Pt}=t;if(0!==n&&!Ut(n))throw new TypeError("max option must be a nonnegative integer");const Ct=n?cn(n):Array;if(!Ct)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=Ne,this.maxEntrySize=Pe||this.#t,this.sizeCalculation=Ke,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==rt&&"function"!=typeof rt)throw new TypeError("fetchMethod must be a function if specified");if(this.#A=rt,this.#M=!!rt,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new Ct(n),this.#p=new Ct(n),this.#d=0,this.#c=0,this.#g=sr.create(n),this.#s=0,this.#y=0,"function"==typeof $&&(this.#n=$),"function"==typeof I?(this.#f=I,this.#l=[]):(this.#f=void 0,this.#l=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!q,this.noUpdateTTL=!!ke,this.noDeleteOnFetchRejection=!!ht,this.allowStaleOnFetchRejection=!!dt,this.allowStaleOnFetchAbort=!!At,this.ignoreFetchAbort=!!Pt,0!==this.maxEntrySize){if(0!==this.#t&&!Ut(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Ut(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!V,this.noDeleteOnStaleGet=!!ct,this.updateAgeOnGet=!!c,this.updateAgeOnHas=!!h,this.ttlResolution=Ut(l)||0===l?l:1,this.ttlAutopurge=!!p,this.ttl=i||0,this.ttl){if(!Ut(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const zt="LRU_CACHE_UNBOUNDED";!$r.has(zt)&&($r.add(zt),ac("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",zt,Gn))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#O(){const t=new Dn(this.#e),n=new Dn(this.#e);this.#v=t,this.#x=n,this.#P=(p,c,h=co.now())=>{if(n[p]=0!==c?h:0,t[p]=c,0!==c&&this.ttlAutopurge){const V=setTimeout(()=>{this.#m(p)&&this.delete(this.#o[p])},c+1);V.unref&&V.unref()}},this.#T=p=>{n[p]=0!==t[p]?co.now():0},this.#S=(p,c)=>{if(t[c]){const h=t[c],V=n[c];p.ttl=h,p.start=V,p.now=i||l(),p.remainingTTL=h-(p.now-V)}};let i=0;const l=()=>{const p=co.now();if(this.ttlResolution>0){i=p;const c=setTimeout(()=>i=0,this.ttlResolution);c.unref&&c.unref()}return p};this.getRemainingTTL=p=>{const c=this.#a.get(p);if(void 0===c)return 0;const h=t[c],V=n[c];return 0===h||0===V?1/0:h-((i||l())-V)},this.#m=p=>0!==t[p]&&0!==n[p]&&(i||l())-n[p]>t[p]}#T=()=>{};#S=()=>{};#P=()=>{};#m=()=>!1;#U(){const t=new Dn(this.#e);this.#y=0,this.#E=t,this.#D=n=>{this.#y-=t[n],t[n]=0},this.#B=(n,i,l,p)=>{if(this.#i(i))return 0;if(!Ut(l)){if(!p)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof p)throw new TypeError("sizeCalculation must be a function");if(l=p(i,n),!Ut(l))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return l},this.#C=(n,i,l)=>{if(t[n]=i,this.#t){const p=this.#t-t[n];for(;this.#y>p;)this.#k(!0)}this.#y+=t[n],l&&(l.entrySize=i,l.totalCalculatedSize=this.#y)}}#D=t=>{};#C=(t,n,i)=>{};#B=(t,n,i,l)=>{if(i||l)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#d);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#d;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#N(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const i of this.#w()){const l=this.#r[i],p=this.#i(l)?l.__staleWhileFetching:l;if(void 0!==p&&t(p,this.#o[i],this))return this.get(this.#o[i],n)}}forEach(t,n=this){for(const i of this.#w()){const l=this.#r[i],p=this.#i(l)?l.__staleWhileFetching:l;void 0!==p&&t.call(n,p,this.#o[i],this)}}rforEach(t,n=this){for(const i of this.#_()){const l=this.#r[i],p=this.#i(l)?l.__staleWhileFetching:l;void 0!==p&&t.call(n,p,this.#o[i],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const i=this.#o[n],l=this.#r[n],p=this.#i(l)?l.__staleWhileFetching:l;if(void 0===p||void 0===i)continue;const c={value:p};if(this.#v&&this.#x){c.ttl=this.#v[n];const h=co.now()-this.#x[n];c.start=Math.floor(Date.now()-h)}this.#E&&(c.size=this.#E[n]),t.unshift([i,c])}return t}load(t){this.clear();for(const[n,i]of t){if(i.start){const l=Date.now()-i.start;i.start=co.now()-l}this.set(n,i.value,i)}}set(t,n,i={}){if(void 0===n)return this.delete(t),this;const{ttl:l=this.ttl,start:p,noDisposeOnSet:c=this.noDisposeOnSet,sizeCalculation:h=this.sizeCalculation,status:V}=i;let{noUpdateTTL:$=this.noUpdateTTL}=i;const I=this.#B(t,n,i.size||0,h);if(this.maxEntrySize&&I>this.maxEntrySize)return V&&(V.set="miss",V.maxEntrySizeExceeded=!0),this.delete(t),this;let q=0===this.#s?void 0:this.#a.get(t);if(void 0===q)q=0===this.#s?this.#c:0!==this.#g.length?this.#g.pop():this.#s===this.#e?this.#k(!1):this.#s,this.#o[q]=t,this.#r[q]=n,this.#a.set(t,q),this.#u[this.#c]=q,this.#p[q]=this.#c,this.#c=q,this.#s++,this.#C(q,I,V),V&&(V.set="add"),$=!1;else{this.#I(q);const ke=this.#r[q];if(n!==ke){if(this.#M&&this.#i(ke)?ke.__abortController.abort(new Error("replaced")):c||(this.#b&&this.#n?.(ke,t,"set"),this.#h&&this.#l?.push([ke,t,"set"])),this.#D(q),this.#C(q,I,V),this.#r[q]=n,V){V.set="replace";const Ne=ke&&this.#i(ke)?ke.__staleWhileFetching:ke;void 0!==Ne&&(V.oldValue=Ne)}}else V&&(V.set="update")}if(0!==l&&!this.#v&&this.#O(),this.#v&&($||this.#P(q,l,p),V&&this.#S(V,q)),!c&&this.#h&&this.#l){const ke=this.#l;let Ne;for(;Ne=ke?.shift();)this.#f?.(...Ne)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#d];if(this.#k(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#k(t){const n=this.#d,i=this.#o[n],l=this.#r[n];return this.#M&&this.#i(l)?l.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(l,i,"evict"),this.#h&&this.#l?.push([l,i,"evict"])),this.#D(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#g.push(n)),1===this.#s?(this.#d=this.#c=0,this.#g.length=0):this.#d=this.#u[n],this.#a.delete(i),this.#s--,n}has(t,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:l}=n,p=this.#a.get(t);if(void 0!==p){const c=this.#r[p];if(this.#i(c)&&void 0===c.__staleWhileFetching)return!1;if(!this.#m(p))return i&&this.#T(p),l&&(l.has="hit",this.#S(l,p)),!0;l&&(l.has="stale",this.#S(l,p))}else l&&(l.has="miss");return!1}peek(t,n={}){const{allowStale:i=this.allowStale}=n,l=this.#a.get(t);if(void 0!==l&&(i||!this.#m(l))){const p=this.#r[l];return this.#i(p)?p.__staleWhileFetching:p}}#R(t,n,i,l){const p=void 0===n?void 0:this.#r[n];if(this.#i(p))return p;const c=new Ge,{signal:h}=i;h?.addEventListener("abort",()=>c.abort(h.reason),{signal:c.signal});const V={signal:c.signal,options:i,context:l},$=(Ke,rt=!1)=>{const{aborted:ht}=c.signal,ct=i.ignoreFetchAbort&&void 0!==Ke;return i.status&&(ht&&!rt?(i.status.fetchAborted=!0,i.status.fetchError=c.signal.reason,ct&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!ht||ct||rt?(this.#r[n]===Ne&&(void 0===Ke?Ne.__staleWhileFetching?this.#r[n]=Ne.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,Ke,V.options))),Ke):q(c.signal.reason)},q=Ke=>{const{aborted:rt}=c.signal,ht=rt&&i.allowStaleOnFetchAbort,ct=ht||i.allowStaleOnFetchRejection,At=Ne;if(this.#r[n]===Ne&&((ct||i.noDeleteOnFetchRejection)&&void 0!==At.__staleWhileFetching?ht||(this.#r[n]=At.__staleWhileFetching):this.delete(t)),ct)return i.status&&void 0!==At.__staleWhileFetching&&(i.status.returnedStale=!0),At.__staleWhileFetching;if(At.__returned===At)throw Ke};i.status&&(i.status.fetchDispatched=!0);const Ne=new Promise((Ke,rt)=>{const ht=this.#A?.(t,p,V);ht&&ht instanceof Promise&&ht.then(ct=>Ke(ct),rt),c.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(Ke(),i.allowStaleOnFetchAbort&&(Ke=ct=>$(ct,!0)))})}).then($,Ke=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=Ke),q(Ke))),Pe=Object.assign(Ne,{__abortController:c,__staleWhileFetching:p,__returned:void 0});return void 0===n?(this.set(t,Pe,{...V.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Pe,Pe}#i(t){if(!this.#M)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Ge}fetch(t,n={}){var i=this;return(0,ye.A)(function*(){const{allowStale:l=i.allowStale,updateAgeOnGet:p=i.updateAgeOnGet,noDeleteOnStaleGet:c=i.noDeleteOnStaleGet,ttl:h=i.ttl,noDisposeOnSet:V=i.noDisposeOnSet,size:$=0,sizeCalculation:I=i.sizeCalculation,noUpdateTTL:q=i.noUpdateTTL,noDeleteOnFetchRejection:ke=i.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ne=i.allowStaleOnFetchRejection,ignoreFetchAbort:Pe=i.ignoreFetchAbort,allowStaleOnFetchAbort:Ke=i.allowStaleOnFetchAbort,context:rt,forceRefresh:ht=!1,status:ct,signal:dt}=n;if(!i.#M)return ct&&(ct.fetch="get"),i.get(t,{allowStale:l,updateAgeOnGet:p,noDeleteOnStaleGet:c,status:ct});const At={allowStale:l,updateAgeOnGet:p,noDeleteOnStaleGet:c,ttl:h,noDisposeOnSet:V,size:$,sizeCalculation:I,noUpdateTTL:q,noDeleteOnFetchRejection:ke,allowStaleOnFetchRejection:Ne,allowStaleOnFetchAbort:Ke,ignoreFetchAbort:Pe,status:ct,signal:dt};let Pt=i.#a.get(t);if(void 0===Pt){ct&&(ct.fetch="miss");const Ct=i.#R(t,Pt,At,rt);return Ct.__returned=Ct}{const Ct=i.#r[Pt];if(i.#i(Ct)){const Nn=l&&void 0!==Ct.__staleWhileFetching;return ct&&(ct.fetch="inflight",Nn&&(ct.returnedStale=!0)),Nn?Ct.__staleWhileFetching:Ct.__returned=Ct}const zt=i.#m(Pt);if(!ht&&!zt)return ct&&(ct.fetch="hit"),i.#I(Pt),p&&i.#T(Pt),ct&&i.#S(ct,Pt),Ct;const Zt=i.#R(t,Pt,At,rt),Cn=void 0!==Zt.__staleWhileFetching&&l;return ct&&(ct.fetch=zt?"stale":"refresh",Cn&&zt&&(ct.returnedStale=!0)),Cn?Zt.__staleWhileFetching:Zt.__returned=Zt}})()}get(t,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:l=this.updateAgeOnGet,noDeleteOnStaleGet:p=this.noDeleteOnStaleGet,status:c}=n,h=this.#a.get(t);if(void 0!==h){const V=this.#r[h],$=this.#i(V);return c&&this.#S(c,h),this.#m(h)?(c&&(c.get="stale"),$?(c&&i&&void 0!==V.__staleWhileFetching&&(c.returnedStale=!0),i?V.__staleWhileFetching:void 0):(p||this.delete(t),c&&i&&(c.returnedStale=!0),i?V:void 0)):(c&&(c.get="hit"),$?V.__staleWhileFetching:(this.#I(h),l&&this.#T(h),V))}c&&(c.get="miss")}#L(t,n){this.#p[n]=t,this.#u[t]=n}#I(t){t!==this.#c&&(t===this.#d?this.#d=this.#u[t]:this.#L(this.#p[t],this.#u[t]),this.#L(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const i=this.#a.get(t);if(void 0!==i)if(n=!0,1===this.#s)this.clear();else{this.#D(i);const l=this.#r[i];this.#i(l)?l.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(l,t,"delete"),this.#h&&this.#l?.push([l,t,"delete"])),this.#a.delete(t),this.#o[i]=void 0,this.#r[i]=void 0,i===this.#c?this.#c=this.#p[i]:i===this.#d?this.#d=this.#u[i]:(this.#u[this.#p[i]]=this.#u[i],this.#p[this.#u[i]]=this.#p[i]),this.#s--,this.#g.push(i)}}if(this.#h&&this.#l?.length){const i=this.#l;let l;for(;l=i?.shift();)this.#f?.(...l)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#o[t];this.#b&&this.#n?.(n,i,"delete"),this.#h&&this.#l?.push([n,i,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#d=0,this.#c=0,this.#g.length=0,this.#y=0,this.#s=0,this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var Wr=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Fi{constructor(t){this.timeToLiveInSeconds=t,this.cache=new Gn({max:1e5,ttl:1e3*t})}set(t,n){return Wr(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return Wr(this,void 0,void 0,function*(){return this.cache.get(t)})}}const lo=zs,ja=new RegExp("^[A-Za-z0-9_-]+$","u");function Pi(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=Pi.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Pi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const ke=0;for(const Ne in r)if("payload"!==Ne&&"signatures"!==Ne)return Pi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ne},message:"must NOT have additional properties"}],!1;if(0===ke){if(void 0!==r.payload){let Ne=r.payload;const Pe=0;if("string"!=typeof Ne)return Pi.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ja.test(Ne))return Pi.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var $=0===Pe}else $=!0;if($)if(void 0!==r.signatures){let Ne=r.signatures;const Pe=0;if(0===Pe){if(!Array.isArray(Ne))return Pi.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Ne.length<1)return Pi.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const rt=Ne.length;for(let ht=0;ht<rt;ht++){let ct=Ne[ht];const dt=0;if(0===dt){if(!ct||"object"!=typeof ct||Array.isArray(ct))return Pi.errors=[{instancePath:t+"/signatures/"+ht,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==ct.protected){let Pt=ct.protected;const Ct=0;if("string"!=typeof Pt)return Pi.errors=[{instancePath:t+"/signatures/"+ht+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ja.test(Pt))return Pi.errors=[{instancePath:t+"/signatures/"+ht+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var q=0===Ct}else q=!0;if(q)if(void 0!==ct.signature){let Pt=ct.signature;const Ct=0;if("string"!=typeof Pt)return Pi.errors=[{instancePath:t+"/signatures/"+ht+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ja.test(Pt))return Pi.errors=[{instancePath:t+"/signatures/"+ht+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;q=0===Ct}else q=!0}if(0!==dt)break}}}$=0===Pe}else $=!0}}return Pi.errors=null,!0}function zs(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=zs.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return zs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const $=h;for(const I in r)if("signature"!==I)return zs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;$===h&&void 0!==r.signature&&(Pi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:l,dynamicAnchors:p})||(c=null===c?Pi.errors:c.concat(Pi.errors),h=c.length))}}return zs.errors=c,0===h}Pi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},zs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Lw=el,Up={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},NE=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),Bm=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),Fw=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),Rc=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),fy={validate:hd};function Bu(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Bu.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Bu.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const I=h;for(const q in r)if("signature"!==q&&"authorDelegatedGrant"!==q&&"ownerSignature"!==q&&"ownerDelegatedGrant"!==q)return Bu.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;if(I===h){let q;if(void 0!==r.ownerSignature&&void 0===r.signature&&(q="signature"))return Bu.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:q,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const ke=h;Pi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:l,dynamicAnchors:p})||(c=null===c?Pi.errors:c.concat(Pi.errors),h=c.length);var $=ke===h}else $=!0;if($){if(void 0!==r.authorDelegatedGrant){const ke=h;fy.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:l,dynamicAnchors:p})||(c=null===c?fy.validate.errors:c.concat(fy.validate.errors),h=c.length),$=ke===h}else $=!0;if($){if(void 0!==r.ownerSignature){const ke=h;Pi(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:l,dynamicAnchors:p})||(c=null===c?Pi.errors:c.concat(Pi.errors),h=c.length),$=ke===h}else $=!0;if($)if(void 0!==r.ownerDelegatedGrant){const ke=h;fy.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:l,dynamicAnchors:p})||(c=null===c?fy.validate.errors:c.concat(fy.validate.errors),h=c.length),$=ke===h}else $=!0}}}}}return Bu.errors=c,0===h}Bu.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const LE={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function qo(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=qo.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=h,I=h;let q=!1,ke=null;const Ne=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Hn;if(void 0===r.crv&&(Hn="crv")||void 0===r.x&&(Hn="x")){const ln={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:Hn},message:"must have required property '"+Hn+"'"};null===c?c=[ln]:c.push(ln),h++}else{if(void 0!==r.kty){const ln=h;if("EC"!==r.kty){const vn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===c?c=[vn]:c.push(vn),h++}var Pe=ln===h}else Pe=!0;if(Pe){if(void 0!==r.crv){const ln=h;if("string"!=typeof r.crv){const wn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}Pe=ln===h}else Pe=!0;if(Pe){if(void 0!==r.x){const ln=h;if("string"!=typeof r.x){const wn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}Pe=ln===h}else Pe=!0;if(Pe){if(void 0!==r.y){const ln=h;if("string"!=typeof r.y){const wn={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}Pe=ln===h}else Pe=!0;if(Pe)if(void 0!==r.d){const ln=h;if("string"!=typeof r.d){const wn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}Pe=ln===h}else Pe=!0}}}}}if(ct=Ne===h){q=!0,ke=0;var Ke={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const rt=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Hn;if(void 0===r.crv&&(Hn="crv")||void 0===r.x&&(Hn="x")){const ln={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:Hn},message:"must have required property '"+Hn+"'"};null===c?c=[ln]:c.push(ln),h++}else{if(void 0!==r.kty){const ln=h;if("OKP"!==r.kty){const vn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===c?c=[vn]:c.push(vn),h++}var ht=ln===h}else ht=!0;if(ht){if(void 0!==r.crv){const ln=h;if("string"!=typeof r.crv){const wn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}ht=ln===h}else ht=!0;if(ht){if(void 0!==r.x){const ln=h;if("string"!=typeof r.x){const wn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}ht=ln===h}else ht=!0;if(ht)if(void 0!==r.d){const ln=h;if("string"!=typeof r.d){const wn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}ht=ln===h}else ht=!0}}}}if((ct=rt===h)&&q)q=!1,ke=[ke,1];else{ct&&(q=!0,ke=1,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.crv=!0,Ke.x=!0,Ke.d=!0));const Hn=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let vn;if(void 0===r.n&&(vn="n")||void 0===r.e&&(vn="e")){const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:vn},message:"must have required property '"+vn+"'"};null===c?c=[wn]:c.push(wn),h++}else{if(void 0!==r.kty){const wn=h;if("RSA"!==r.kty){const Un={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===c?c=[Un]:c.push(Un),h++}var dt=wn===h}else dt=!0;if(dt){if(void 0!==r.n){const wn=h;if("string"!=typeof r.n){const Sn={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.e){const wn=h;if("string"!=typeof r.e){const Sn={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.d){const wn=h;if("string"!=typeof r.d){const Sn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.p){const wn=h;if("string"!=typeof r.p){const Sn={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.q){const wn=h;if("string"!=typeof r.q){const Sn={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.dp){const wn=h;if("string"!=typeof r.dp){const Sn={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.dq){const wn=h;if("string"!=typeof r.dq){const Sn={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.qi){const wn=h;if("string"!=typeof r.qi){const Sn={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt)if(void 0!==r.oth){let wn=r.oth;const Un=h;if(!wn||"object"!=typeof wn||Array.isArray(wn)){const Vn={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Vn]:c.push(Vn),h++}dt=Un===h}else dt=!0}}}}}}}}}}if((ct=Hn===h)&&q)q=!1,ke=[ke,2];else{ct&&(q=!0,ke=2,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.n=!0,Ke.e=!0,Ke.d=!0,Ke.p=!0,Ke.q=!0,Ke.dp=!0,Ke.dq=!0,Ke.qi=!0,Ke.oth=!0));const vn=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Un;if(void 0===r.k&&(Un="k")){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:Un},message:"must have required property '"+Un+"'"};null===c?c=[Sn]:c.push(Sn),h++}else{if(void 0!==r.kty){const Sn=h;if("oct"!==r.kty){const Vn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===c?c=[Vn]:c.push(Vn),h++}var At=Sn===h}else At=!0;if(At)if(void 0!==r.k){const Sn=h;if("string"!=typeof r.k){const lr={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[lr]:c.push(lr),h++}At=Sn===h}else At=!0}}var ct;(ct=vn===h)&&q?(q=!1,ke=[ke,3]):ct&&(q=!0,ke=3,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.k=!0))}}if(!q){const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:ke},message:"must match exactly one schema in oneOf"};return null===c?c=[Hn]:c.push(Hn),h++,qo.errors=c,!1}if(h=I,null!==c&&(I?c.length=I:c=null),h===$){if(!r||"object"!=typeof r||Array.isArray(r))return qo.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Hn;if(void 0===r.kty&&(Hn="kty"))return qo.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:Hn},message:"must have required property '"+Hn+"'"}],!1;if(!0!==Ke&&((Ke=Ke||{}).alg=!0,Ke.kid=!0,Ke.kty=!0,Ke.crv=!0,Ke.use=!0,Ke.key_ops=!0,Ke.x5u=!0,Ke.x5c=!0,Ke.x5t=!0,Ke["x5t#S256"]=!0),void 0!==r.alg){const ln=h;if("string"!=typeof r.alg)return qo.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.kid){const ln=h;if("string"!=typeof r.kid)return qo.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.kty){let ln=r.kty;const vn=h;if("EC"!==ln&&"RSA"!==ln&&"oct"!==ln&&"OKP"!==ln)return qo.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:LE.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Pt=vn===h}else Pt=!0;if(Pt){if(void 0!==r.crv){const ln=h;if("string"!=typeof r.crv)return qo.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.use){const ln=h;if("string"!=typeof r.use)return qo.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.key_ops){const ln=h;if("string"!=typeof r.key_ops)return qo.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.x5u){const ln=h;if("string"!=typeof r.x5u)return qo.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.x5c){const ln=h;if("string"!=typeof r.x5c)return qo.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.x5t){const ln=h;if("string"!=typeof r.x5t)return qo.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt)if(void 0!==r["x5t#S256"]){const ln=h;if("string"!=typeof r["x5t#S256"])return qo.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0}}}}}}}}}}if($===h){const Hn=h,ln=h,vn=h;let wn=!1;const Un=h,Sn=h;let Vn=!1;const lr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.d&&(yr="d")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}if(Vn=Vn||lr===h,Vn)h=Sn,null!==c&&(Sn?c.length=Sn:c=null);else{const yr={};null===c?c=[yr]:c.push(yr),h++}if(h===Un)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const yr={};null===c?c=[yr]:c.push(yr),h++}}else{const yr={};null===c?c=[yr]:c.push(yr),h++}var ir=Un===h;if(wn=wn||ir,ir)var Zt={kty:!0};const cr=h,mn=h;let dr=!1;const _r=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.d&&(yr="d")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}if(dr=dr||_r===h,dr)h=mn,null!==c&&(mn?c.length=mn:c=null);else{const yr={};null===c?c=[yr]:c.push(yr),h++}if(h===cr)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const yr={};null===c?c=[yr]:c.push(yr),h++}}else{const yr={};null===c?c=[yr]:c.push(yr),h++}ir=cr===h,wn=wn||ir,ir&&!0!==Zt&&((Zt=Zt||{}).kty=!0);const Zn=h,On=h;let qn=!1;const mr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.d&&(yr="d")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}var Cn=mr===h;qn=qn||Cn;const Rr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.p&&(yr="p")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}Cn=Rr===h,qn=qn||Cn;const Nr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.q&&(yr="q")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}Cn=Nr===h,qn=qn||Cn;const Sr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.dp&&(yr="dp")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}Cn=Sr===h,qn=qn||Cn;const Tr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.dq&&(yr="dq")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}Cn=Tr===h,qn=qn||Cn;const fi=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.qi&&(yr="qi")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}Cn=fi===h,qn=qn||Cn;const Zs=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.oth&&(yr="oth")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}if(Cn=Zs===h,qn=qn||Cn,qn)h=On,null!==c&&(On?c.length=On:c=null);else{const yr={};null===c?c=[yr]:c.push(yr),h++}if(h===Zn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const yr=h;if("RSA"!==r.kty){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}var Nn=yr===h}else Nn=!0;if(Nn)if(void 0!==r.oth){let yr=r.oth;const Ri=h;if(!yr||"object"!=typeof yr||Array.isArray(yr)){const bi={};null===c?c=[bi]:c.push(bi),h++}Nn=Ri===h}else Nn=!0}else{const yr={};null===c?c=[yr]:c.push(yr),h++}if(ir=Zn===h,wn=wn||ir,ir&&!0!==Zt&&((Zt=Zt||{}).kty=!0,Zt.d=!0,Zt.p=!0,Zt.q=!0,Zt.dp=!0,Zt.dq=!0,Zt.qi=!0,Zt.oth=!0),wn)h=vn,null!==c&&(vn?c.length=vn:c=null);else{const yr={};null===c?c=[yr]:c.push(yr),h++}if(ln===h)return qo.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=Hn,null!==c&&(Hn?c.length=Hn:c=null)}return qo.errors=c,V.props=Ke,0===h}qo.evaluated={dynamicProps:!0,dynamicItems:!1};const gA=Object.prototype.hasOwnProperty;function si(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=si.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=h;let I=!1;const q=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let cr;if(void 0===r.contextId&&(cr="contextId")){const mn={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:cr},message:"must have required property '"+cr+"'"};null===c?c=[mn]:c.push(mn),h++}else if(void 0!==r.descriptor){let mn=r.descriptor;if(h==h)if(mn&&"object"==typeof mn&&!Array.isArray(mn)){let _r;if(void 0===mn.protocol&&(_r="protocol")||void 0===mn.protocolPath&&(_r="protocolPath")){const Zn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:_r},message:"must have required property '"+_r+"'"};null===c?c=[Zn]:c.push(Zn),h++}}else{const _r={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[_r]:c.push(_r),h++}}}var Pt=q===h;if(I=I||Pt,Pt)var ke={descriptor:!0};const Ne=h,Pe=h,Ke=h,rt=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let cr;if(void 0===r.contextId&&(cr="contextId")){const mn={};null===c?c=[mn]:c.push(mn),h++}}if(rt===h){const cr={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[cr]:c.push(cr),h++}else h=Ke,null!==c&&(Ke?c.length=Ke:c=null);if(Pe===h){const cr=h;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let dr=r.descriptor;if(!dr||"object"!=typeof dr||Array.isArray(dr)){const On={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[On]:c.push(On),h++}const _r=h,Zn=h;if(dr&&"object"==typeof dr&&!Array.isArray(dr)){let On;if(void 0===dr.protocol&&(On="protocol")){const qn={};null===c?c=[qn]:c.push(qn),h++}}if(Zn===h){const On={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[On]:c.push(On),h++}else h=_r,null!==c&&(_r?c.length=_r:c=null)}if(cr===h&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Zn=r.descriptor;if(!Zn||"object"!=typeof Zn||Array.isArray(Zn)){const mr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mr]:c.push(mr),h++}const On=h,qn=h;if(Zn&&"object"==typeof Zn&&!Array.isArray(Zn)){let mr;if(void 0===Zn.protocolPath&&(mr="protocolPath")){const Rr={};null===c?c=[Rr]:c.push(Rr),h++}}if(qn===h){const mr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[mr]:c.push(mr),h++}else h=On,null!==c&&(On?c.length=On:c=null)}}if(Pt=Ne===h,I=I||Pt,Pt&&!0!==ke&&((ke=ke||{}).descriptor=!0),!I){const cr={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===c?c=[cr]:c.push(cr),h++,si.errors=c,!1}if(h=$,null!==c&&($?c.length=$:c=null),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return si.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let cr;if(void 0===r.descriptor&&(cr="descriptor"))return si.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:cr},message:"must have required property '"+cr+"'"}],!1;if(!0!==ke&&((ke=ke||{}).recordId=!0,ke.contextId=!0,ke.attestation=!0,ke.authorization=!0,ke.encryption=!0,ke.descriptor=!0),void 0!==r.recordId){const mn=h;if("string"!=typeof r.recordId)return si.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ct=mn===h}else Ct=!0;if(Ct){if(void 0!==r.contextId){let mn=r.contextId;const dr=h;if(h===dr){if("string"!=typeof mn)return si.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!NE.test(mn))return si.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}Ct=dr===h}else Ct=!0;if(Ct){if(void 0!==r.attestation){const mn=h;Pi(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:l,dynamicAnchors:p})||(c=null===c?Pi.errors:c.concat(Pi.errors),h=c.length),Ct=mn===h}else Ct=!0;if(Ct){if(void 0!==r.authorization){const mn=h;Bu(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?Bu.errors:c.concat(Bu.errors),h=c.length),Ct=mn===h}else Ct=!0;if(Ct){if(void 0!==r.encryption){let mn=r.encryption;const dr=h;if(h===dr){if(!mn||"object"!=typeof mn||Array.isArray(mn))return si.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Zn;if(void 0===mn.algorithm&&(Zn="algorithm")||void 0===mn.initializationVector&&(Zn="initializationVector")||void 0===mn.keyEncryption&&(Zn="keyEncryption"))return si.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"}],!1;{const On=h;for(const qn in mn)if("algorithm"!==qn&&"initializationVector"!==qn&&"keyEncryption"!==qn)return si.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(On===h){if(void 0!==mn.algorithm){let qn=mn.algorithm;const mr=h;if("string"!=typeof qn)return si.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==qn)return si.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Up.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var zt=mr===h}else zt=!0;if(zt){if(void 0!==mn.initializationVector){let qn=mn.initializationVector;const mr=h;if(h==h){if("string"!=typeof qn)return si.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ja.test(qn))return si.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}zt=mr===h}else zt=!0;if(zt)if(void 0!==mn.keyEncryption){let qn=mn.keyEncryption;const mr=h;if(h===mr){if(!Array.isArray(qn))return si.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(qn.length<1)return si.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Nr=qn.length;for(let Sr=0;Sr<Nr;Sr++){let Tr=qn[Sr];const fi=h;if(h===fi){if(!Tr||"object"!=typeof Tr||Array.isArray(Tr))return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let yr;if(void 0===Tr.rootKeyId&&(yr="rootKeyId")||void 0===Tr.derivationScheme&&(yr="derivationScheme")||void 0===Tr.algorithm&&(yr="algorithm")||void 0===Tr.encryptedKey&&(yr="encryptedKey")||void 0===Tr.initializationVector&&(yr="initializationVector")||void 0===Tr.ephemeralPublicKey&&(yr="ephemeralPublicKey")||void 0===Tr.messageAuthenticationCode&&(yr="messageAuthenticationCode"))return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:yr},message:"must have required property '"+yr+"'"}],!1;{const Ri=h;for(const Bi in Tr)if("rootKeyId"!==Bi&&"derivationScheme"!==Bi&&"derivedPublicKey"!==Bi&&"algorithm"!==Bi&&"encryptedKey"!==Bi&&"initializationVector"!==Bi&&"ephemeralPublicKey"!==Bi&&"messageAuthenticationCode"!==Bi)return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Bi},message:"must NOT have additional properties"}],!1;if(Ri===h){if(void 0!==Tr.rootKeyId){const Bi=h;if("string"!=typeof Tr.rootKeyId)return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var xn=Bi===h}else xn=!0;if(xn){if(void 0!==Tr.derivationScheme){let Bi=Tr.derivationScheme;const bi=h;if("string"!=typeof Bi)return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==Bi&&"protocolContext"!==Bi&&"protocolPath"!==Bi&&"schemas"!==Bi)return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:Up.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;xn=bi===h}else xn=!0;if(xn){if(void 0!==Tr.derivedPublicKey){const Bi=h;qo(Tr.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Sr+"/derivedPublicKey",parentData:Tr,parentDataProperty:"derivedPublicKey",rootData:l,dynamicAnchors:p})||(c=null===c?qo.errors:c.concat(qo.errors),h=c.length),xn=Bi===h}else xn=!0;if(xn){if(void 0!==Tr.algorithm){let Bi=Tr.algorithm;const bi=h;if("string"!=typeof Bi)return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==Bi)return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Up.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;xn=bi===h}else xn=!0;if(xn){if(void 0!==Tr.encryptedKey){let Bi=Tr.encryptedKey;const bi=h;if(h==h){if("string"!=typeof Bi)return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ja.test(Bi))return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}xn=bi===h}else xn=!0;if(xn){if(void 0!==Tr.initializationVector){let Bi=Tr.initializationVector;const bi=h;if(h==h){if("string"!=typeof Bi)return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ja.test(Bi))return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}xn=bi===h}else xn=!0;if(xn){if(void 0!==Tr.ephemeralPublicKey){const Bi=h;qo(Tr.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Sr+"/ephemeralPublicKey",parentData:Tr,parentDataProperty:"ephemeralPublicKey",rootData:l,dynamicAnchors:p})||(c=null===c?qo.errors:c.concat(qo.errors),h=c.length),xn=Bi===h}else xn=!0;if(xn)if(void 0!==Tr.messageAuthenticationCode){let Bi=Tr.messageAuthenticationCode;const bi=h;if(h==h){if("string"!=typeof Bi)return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ja.test(Bi))return si.errors=[{instancePath:t+"/encryption/keyEncryption/"+Sr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}xn=bi===h}else xn=!0}}}}}}}}}}if(fi!==h)break}}}zt=mr===h}else zt=!0}}}}}Ct=dr===h}else Ct=!0;if(Ct)if(void 0!==r.descriptor){let mn=r.descriptor;const dr=h,_r=h;let Zn=!1;const On=h;if(mn&&"object"==typeof mn&&!Array.isArray(mn)){let yr;if(void 0===mn.published&&(yr="published")||void 0===mn.datePublished&&(yr="datePublished")){const Ri={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:yr},message:"must have required property '"+yr+"'"};null===c?c=[Ri]:c.push(Ri),h++}else if(void 0!==mn.published){let Ri=mn.published;if("boolean"!=typeof Ri){const Bi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[Bi]:c.push(Bi),h++}if(!0!==Ri){const Bi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Up.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===c?c=[Bi]:c.push(Bi),h++}}}var ln=On===h;if(Zn=Zn||ln,ln)var Cn={published:!0};const qn=h,mr=h,Rr=h;if(mn&&"object"==typeof mn&&!Array.isArray(mn)){let yr;if(void 0===mn.datePublished&&(yr="datePublished")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}if(Rr===h){const yr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[yr]:c.push(yr),h++}else h=mr,null!==c&&(mr?c.length=mr:c=null);if(h===qn&&mn&&"object"==typeof mn&&!Array.isArray(mn)&&void 0!==mn.published){let yr=mn.published;if("boolean"!=typeof yr){const Ri={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[Ri]:c.push(Ri),h++}if(!1!==yr){const Ri={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:Up.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===c?c=[Ri]:c.push(Ri),h++}}ln=qn===h,Zn=Zn||ln,ln&&!0!==Cn&&((Cn=Cn||{}).published=!0);const Nr=h,Sr=h,Tr=h,fi=h;if(mn&&"object"==typeof mn&&!Array.isArray(mn)){let yr;if(void 0===mn.published&&(yr="published")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}if(fi===h){const yr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[yr]:c.push(yr),h++}else h=Tr,null!==c&&(Tr?c.length=Tr:c=null);if(Sr===h){const Ri=h,Bi=h;if(mn&&"object"==typeof mn&&!Array.isArray(mn)){let Bs;if(void 0===mn.datePublished&&(Bs="datePublished")){const od={};null===c?c=[od]:c.push(od),h++}}if(Bi===h){const Bs={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Bs]:c.push(Bs),h++}else h=Ri,null!==c&&(Ri?c.length=Ri:c=null)}if(ln=Nr===h,Zn=Zn||ln,!Zn){const yr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===c?c=[yr]:c.push(yr),h++,si.errors=c,!1}if(h=_r,null!==c&&(_r?c.length=_r:c=null),h===dr){if(!mn||"object"!=typeof mn||Array.isArray(mn))return si.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let yr;if(void 0===mn.interface&&(yr="interface")||void 0===mn.method&&(yr="method")||void 0===mn.dataCid&&(yr="dataCid")||void 0===mn.dataSize&&(yr="dataSize")||void 0===mn.dateCreated&&(yr="dateCreated")||void 0===mn.messageTimestamp&&(yr="messageTimestamp")||void 0===mn.dataFormat&&(yr="dataFormat"))return si.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:yr},message:"must have required property '"+yr+"'"}],!1;{const Ri=h;for(const Bi in mn)if(!gA.call(Up.properties.descriptor.properties,Bi))return si.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Bi},message:"must NOT have additional properties"}],!1;if(Ri===h){let Bi;if(void 0!==mn.parentId&&void 0===mn.protocol&&(Bi="protocol"))return si.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:Bi,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==mn.interface){let bi=mn.interface;const Bs=h;if("string"!=typeof bi)return si.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==bi)return si.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Up.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var vn=Bs===h}else vn=!0;if(vn){if(void 0!==mn.method){let bi=mn.method;const Bs=h;if("string"!=typeof bi)return si.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==bi)return si.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Up.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;vn=Bs===h}else vn=!0;if(vn){if(void 0!==mn.recipient){let bi=mn.recipient;const Bs=h;if(h==h){if("string"!=typeof bi)return si.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(bi))return si.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}vn=Bs===h}else vn=!0;if(vn){if(void 0!==mn.protocol){const bi=h;if("string"!=typeof mn.protocol)return si.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn=bi===h}else vn=!0;if(vn){if(void 0!==mn.protocolPath){let bi=mn.protocolPath;const Bs=h;if(h===Bs){if("string"!=typeof bi)return si.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Fw.test(bi))return si.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}vn=Bs===h}else vn=!0;if(vn){if(void 0!==mn.schema){const bi=h;if("string"!=typeof mn.schema)return si.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn=bi===h}else vn=!0;if(vn){if(void 0!==mn.tags){let bi=mn.tags;const Bs=h;if(h===Bs){if(!bi||"object"!=typeof bi||Array.isArray(bi))return si.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(bi).length>10)return si.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(bi).length<1)return si.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Zo in bi){let Yo=bi[Zo];const Ys=h,cs=h;let Di=!1,ls=null;const sd=h;if("string"!=typeof Yo){const Zc={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Zc]:c.push(Zc),h++}(wn=sd===h)&&(Di=!0,ls=0);const Ac=h;if("number"!=typeof Yo||!isFinite(Yo)){const Zc={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[Zc]:c.push(Zc),h++}if((wn=Ac===h)&&Di)Di=!1,ls=[ls,1];else{wn&&(Di=!0,ls=1);const Zc=h;if("boolean"!=typeof Yo){const Nw={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[Nw]:c.push(Nw),h++}if((wn=Zc===h)&&Di)Di=!1,ls=[ls,2];else{wn&&(Di=!0,ls=2);const Nw=h;if(h===Nw)if(Array.isArray(Yo))if(Yo.length>10){const ih={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===c?c=[ih]:c.push(ih),h++}else if(Yo.length<1){const ih={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[ih]:c.push(ih),h++}else{const ih=Yo.length;for(let T6=0;T6<ih;T6++){const Vh=h;if("string"!=typeof Yo[T6]){const mA={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+T6,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[mA]:c.push(mA),h++}if(Vh!==h)break}}else{const ih={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[ih]:c.push(ih),h++}if((wn=Nw===h)&&Di)Di=!1,ls=[ls,3];else{if(wn){Di=!0,ls=3;var Sn=!0}const ih=h;if(h===ih)if(Array.isArray(Yo))if(Yo.length>10){const Vh={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===c?c=[Vh]:c.push(Vh),h++}else if(Yo.length<1){const Vh={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[Vh]:c.push(Vh),h++}else{const Vh=Yo.length;for(let D6=0;D6<Vh;D6++){let mA=Yo[D6];const KF=h;if("number"!=typeof mA||!isFinite(mA)){const L9={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+D6,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[L9]:c.push(L9),h++}if(KF!==h)break}}else{const Vh={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[Vh]:c.push(Vh),h++}var wn;(wn=ih===h)&&Di?(Di=!1,ls=[ls,4]):wn&&(Di=!0,ls=4,!0!==Sn&&(Sn=!0))}}}if(!Di){const Zc={instancePath:t+"/descriptor/tags/"+Zo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:ls},message:"must match exactly one schema in oneOf"};return null===c?c=[Zc]:c.push(Zc),h++,si.errors=c,!1}if(h=cs,null!==c&&(cs?c.length=cs:c=null),Ys!==h)break}}vn=Bs===h}else vn=!0;if(vn){if(void 0!==mn.parentId){const bi=h;if("string"!=typeof mn.parentId)return si.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn=bi===h}else vn=!0;if(vn){if(void 0!==mn.dataCid){const bi=h;if("string"!=typeof mn.dataCid)return si.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn=bi===h}else vn=!0;if(vn){if(void 0!==mn.dataSize){let bi=mn.dataSize;const Bs=h;if("number"!=typeof bi||!isFinite(bi))return si.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;vn=Bs===h}else vn=!0;if(vn){if(void 0!==mn.dateCreated){let bi=mn.dateCreated;const Bs=h;if(h==h){if("string"!=typeof bi)return si.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(bi))return si.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}vn=Bs===h}else vn=!0;if(vn){if(void 0!==mn.messageTimestamp){let bi=mn.messageTimestamp;const Bs=h;if(h==h){if("string"!=typeof bi)return si.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(bi))return si.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}vn=Bs===h}else vn=!0;if(vn){if(void 0!==mn.published){const bi=h;if("boolean"!=typeof mn.published)return si.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;vn=bi===h}else vn=!0;if(vn){if(void 0!==mn.datePublished){let bi=mn.datePublished;const Bs=h;if(h==h){if("string"!=typeof bi)return si.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(bi))return si.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}vn=Bs===h}else vn=!0;if(vn)if(void 0!==mn.dataFormat){const bi=h;if("string"!=typeof mn.dataFormat)return si.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn=bi===h}else vn=!0}}}}}}}}}}}}}}}}}Ct=dr===h}else Ct=!0}}}}}}return si.errors=c,V.props=ke,0===h}function hd(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=hd.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),si(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:l,dynamicAnchors:p}))var $=si.evaluated.props;else c=null===c?si.errors:c.concat(si.errors),h=c.length;if(0===h){if(!r||"object"!=typeof r||Array.isArray(r))return hd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.recordId&&(q="recordId")||void 0===r.authorization&&(q="authorization")||void 0===r.encodedData&&(q="encodedData"))return hd.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;if(!0!==$&&(($=$||{}).encodedData=!0),void 0!==r.encodedData){const ke=h;if("string"!=typeof r.encodedData)return hd.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=ke===h}else I=!0;if(I&&!0!==$)for(const ke in r)if(!$||!$[ke])return hd.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:ke},message:"must NOT have unevaluated properties"}],!1}}return hd.errors=c,0===h}function el(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=el.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return el.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const I=h;for(const q in r)if("signature"!==q&&"authorDelegatedGrant"!==q)return el.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;if(I===h){if(void 0!==r.signature){const q=h;Pi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:l,dynamicAnchors:p})||(c=null===c?Pi.errors:c.concat(Pi.errors),h=c.length);var $=q===h}else $=!0;if($)if(void 0!==r.authorDelegatedGrant){const q=h;hd(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:l,dynamicAnchors:p})||(c=null===c?hd.errors:c.concat(hd.errors),h=c.length),$=q===h}else $=!0}}}return el.errors=c,0===h}si.evaluated={dynamicProps:!0,dynamicItems:!1},hd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},el.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const UE=Bu,jw=$a,au={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function $a(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=$a.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return $a.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.authorization&&(q="authorization")||void 0===r.descriptor&&(q="descriptor"))return $a.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const ke=h;for(const Ne in r)if("authorization"!==Ne&&"descriptor"!==Ne)return $a.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ne},message:"must NOT have additional properties"}],!1;if(ke===h){if(void 0!==r.authorization){const Ne=h;el(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?el.errors:c.concat(el.errors),h=c.length);var $=Ne===h}else $=!0;if($)if(void 0!==r.descriptor){let Ne=r.descriptor;const Pe=h;if(h===Pe){if(!Ne||"object"!=typeof Ne||Array.isArray(Ne))return $a.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Ne.interface&&(rt="interface")||void 0===Ne.method&&(rt="method")||void 0===Ne.messageTimestamp&&(rt="messageTimestamp")||void 0===Ne.recordId&&(rt="recordId")||void 0===Ne.prune&&(rt="prune"))return $a.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const ht=h;for(const ct in Ne)if("interface"!==ct&&"method"!==ct&&"messageTimestamp"!==ct&&"recordId"!==ct&&"prune"!==ct)return $a.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(ht===h){if(void 0!==Ne.interface){let ct=Ne.interface;const dt=h;if("string"!=typeof ct)return $a.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==ct)return $a.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:au.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=dt===h}else I=!0;if(I){if(void 0!==Ne.method){let ct=Ne.method;const dt=h;if("string"!=typeof ct)return $a.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==ct)return $a.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:au.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=dt===h}else I=!0;if(I){if(void 0!==Ne.messageTimestamp){let ct=Ne.messageTimestamp;const dt=h;if(h==h){if("string"!=typeof ct)return $a.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(ct))return $a.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=dt===h}else I=!0;if(I){if(void 0!==Ne.recordId){const ct=h;if("string"!=typeof Ne.recordId)return $a.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=ct===h}else I=!0;if(I)if(void 0!==Ne.prune){const ct=h;if("boolean"!=typeof Ne.prune)return $a.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;I=ct===h}else I=!0}}}}}}}$=Pe===h}else $=!0}}}}return $a.errors=c,0===h}$a.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const FE=Hs,jE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},$E={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},KE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function li(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=li.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return li.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return li.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const cr=h;for(const mn in r)if(!gA.call(KE.properties,mn))return li.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mn},message:"must NOT have additional properties"}],!1;if(cr===h){if(void 0!==r.datePublished){const mn=h,dr=h;let _r=!1,Zn=null;const On=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nr;if(void 0===r.published&&(Nr="published")){const Sr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:Nr},message:"must have required property '"+Nr+"'"};null===c?c=[Sr]:c.push(Sr),h++}else if(void 0!==r.published&&!0!==r.published){const Sr={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:KE.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===c?c=[Sr]:c.push(Sr),h++}}On===h&&(_r=!0,Zn=0);const qn=h,mr=h,Rr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nr;if(void 0===r.published&&(Nr="published")){const Sr={};null===c?c=[Sr]:c.push(Sr),h++}}var q;if(Rr===h){const Nr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Nr]:c.push(Nr),h++}else h=mr,null!==c&&(mr?c.length=mr:c=null);if((q=qn===h)&&_r?(_r=!1,Zn=[Zn,1]):q&&(_r=!0,Zn=1),!_r){const Nr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:Zn},message:"must match exactly one schema in oneOf"};return null===c?c=[Nr]:c.push(Nr),h++,li.errors=c,!1}h=dr,null!==c&&(dr?c.length=dr:c=null);var ke=mn===h}else ke=!0;if(ke){if(void 0!==r.protocol){const mn=h;if("string"!=typeof r.protocol)return li.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ne=mn===h}else Ne=!0;if(Ne){if(void 0!==r.protocolPath){const mn=h;if("string"!=typeof r.protocolPath)return li.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ne=mn===h}else Ne=!0;if(Ne){if(void 0!==r.author){let mn=r.author;const dr=h;if(h==h){if("string"!=typeof mn)return li.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(mn))return li.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Ne=dr===h}else Ne=!0;if(Ne){if(void 0!==r.attester){let mn=r.attester;const dr=h;if(h==h){if("string"!=typeof mn)return li.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(mn))return li.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Ne=dr===h}else Ne=!0;if(Ne){if(void 0!==r.recipient){let mn=r.recipient;const dr=h;if(h==h){if("string"!=typeof mn)return li.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(mn))return li.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Ne=dr===h}else Ne=!0;if(Ne){if(void 0!==r.contextId){const mn=h;if("string"!=typeof r.contextId)return li.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ne=mn===h}else Ne=!0;if(Ne){if(void 0!==r.schema){const mn=h;if("string"!=typeof r.schema)return li.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ne=mn===h}else Ne=!0;if(Ne){if(void 0!==r.tags){let mn=r.tags;const dr=h;if(h===dr){if(!mn||"object"!=typeof mn||Array.isArray(mn))return li.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(mn).length<1)return li.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Zn in mn){let On=mn[Zn];const qn=h,mr=h;let Rr=!1,Nr=null;const Sr=h;if("string"!=typeof On){const fi={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[fi]:c.push(fi),h++}(Pe=Sr===h)&&(Rr=!0,Nr=0);const Tr=h;if("number"!=typeof On||!isFinite(On)){const fi={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[fi]:c.push(fi),h++}if((Pe=Tr===h)&&Rr)Rr=!1,Nr=[Nr,1];else{Pe&&(Rr=!0,Nr=1);const fi=h;if("boolean"!=typeof On){const yr={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[yr]:c.push(yr),h++}if((Pe=fi===h)&&Rr)Rr=!1,Nr=[Nr,2];else{Pe&&(Rr=!0,Nr=2);const yr=h;if(h===yr)if(On&&"object"==typeof On&&!Array.isArray(On))if(Object.keys(On).length<1){const Bi={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===c?c=[Bi]:c.push(Bi),h++}else{const Bi=h;for(const bi in On)if("startsWith"!==bi){const Bs={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bi},message:"must NOT have additional properties"};null===c?c=[Bs]:c.push(Bs),h++;break}if(Bi===h&&void 0!==On.startsWith&&"string"!=typeof On.startsWith){const bi={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[bi]:c.push(bi),h++}}else{const Bi={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Bi]:c.push(Bi),h++}if((Pe=yr===h)&&Rr)Rr=!1,Nr=[Nr,3];else{if(Pe){Rr=!0,Nr=3;var Ke=!0}const Bi=h;if(h==h)if(On&&"object"==typeof On&&!Array.isArray(On))if(Object.keys(On).length<1){const od={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===c?c=[od]:c.push(od),h++}else{const od=h;for(const Zo in On)if("gt"!==Zo&&"gte"!==Zo&&"lt"!==Zo&&"lte"!==Zo){const Yo={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Zo},message:"must NOT have additional properties"};null===c?c=[Yo]:c.push(Yo),h++;break}if(od===h){if(void 0!==On.gt){const Zo=h,Yo=h,Ys=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let cs;if(void 0===On.gte&&(cs="gte")){const Di={};null===c?c=[Di]:c.push(Di),h++}}if(Ys===h){const cs={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[cs]:c.push(cs),h++}else h=Yo,null!==c&&(Yo?c.length=Yo:c=null);var ht=Zo===h}else ht=!0;if(ht){if(void 0!==On.gte){const Zo=h,Yo=h,Ys=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let Di;if(void 0===On.gt&&(Di="gt")){const ls={};null===c?c=[ls]:c.push(ls),h++}}if(Ys===h){const Di={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Di]:c.push(Di),h++}else h=Yo,null!==c&&(Yo?c.length=Yo:c=null);ht=Zo===h}else ht=!0;if(ht){if(void 0!==On.lt){const Zo=h,Yo=h,Ys=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let Di;if(void 0===On.lte&&(Di="lte")){const ls={};null===c?c=[ls]:c.push(ls),h++}}if(Ys===h){const Di={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Di]:c.push(Di),h++}else h=Yo,null!==c&&(Yo?c.length=Yo:c=null);ht=Zo===h}else ht=!0;if(ht){if(void 0!==On.lte){const Zo=h,Yo=h,Ys=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let Di;if(void 0===On.lt&&(Di="lt")){const ls={};null===c?c=[ls]:c.push(ls),h++}}if(Ys===h){const Di={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Di]:c.push(Di),h++}else h=Yo,null!==c&&(Yo?c.length=Yo:c=null);ht=Zo===h}else ht=!0;if(ht){if(void 0!==On.gt){const Zo=h;if("string"!=typeof On.gt){const Yo={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Yo]:c.push(Yo),h++}var Pt=Zo===h}else Pt=!0;if(Pt){if(void 0!==On.gte){const Zo=h;if("string"!=typeof On.gte){const Ys={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Ys]:c.push(Ys),h++}Pt=Zo===h}else Pt=!0;if(Pt){if(void 0!==On.lt){const Zo=h;if("string"!=typeof On.lt){const Ys={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Ys]:c.push(Ys),h++}Pt=Zo===h}else Pt=!0;if(Pt)if(void 0!==On.lte){const Zo=h;if("string"!=typeof On.lte){const Ys={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Ys]:c.push(Ys),h++}Pt=Zo===h}else Pt=!0}}}}}}}}else{const od={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[od]:c.push(od),h++}if((Pe=Bi===h)&&Rr)Rr=!1,Nr=[Nr,4];else{Pe&&(Rr=!0,Nr=4,!0!==Ke&&(Ke=!0));const od=h;if(h==h)if(On&&"object"==typeof On&&!Array.isArray(On))if(Object.keys(On).length<1){const Ys={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===c?c=[Ys]:c.push(Ys),h++}else{const Ys=h;for(const cs in On)if("gt"!==cs&&"gte"!==cs&&"lt"!==cs&&"lte"!==cs){const Di={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cs},message:"must NOT have additional properties"};null===c?c=[Di]:c.push(Di),h++;break}if(Ys===h){if(void 0!==On.gt){const cs=h,Di=h,ls=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let sd;if(void 0===On.gte&&(sd="gte")){const Ac={};null===c?c=[Ac]:c.push(Ac),h++}}if(ls===h){const sd={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[sd]:c.push(sd),h++}else h=Di,null!==c&&(Di?c.length=Di:c=null);var zt=cs===h}else zt=!0;if(zt){if(void 0!==On.gte){const cs=h,Di=h,ls=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let Ac;if(void 0===On.gt&&(Ac="gt")){const Zc={};null===c?c=[Zc]:c.push(Zc),h++}}if(ls===h){const Ac={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Ac]:c.push(Ac),h++}else h=Di,null!==c&&(Di?c.length=Di:c=null);zt=cs===h}else zt=!0;if(zt){if(void 0!==On.lt){const cs=h,Di=h,ls=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let Ac;if(void 0===On.lte&&(Ac="lte")){const Zc={};null===c?c=[Zc]:c.push(Zc),h++}}if(ls===h){const Ac={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Ac]:c.push(Ac),h++}else h=Di,null!==c&&(Di?c.length=Di:c=null);zt=cs===h}else zt=!0;if(zt){if(void 0!==On.lte){const cs=h,Di=h,ls=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let Ac;if(void 0===On.lt&&(Ac="lt")){const Zc={};null===c?c=[Zc]:c.push(Zc),h++}}if(ls===h){const Ac={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Ac]:c.push(Ac),h++}else h=Di,null!==c&&(Di?c.length=Di:c=null);zt=cs===h}else zt=!0;if(zt){if(void 0!==On.gt){let cs=On.gt;const Di=h;if("number"!=typeof cs||!isFinite(cs)){const ls={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[ls]:c.push(ls),h++}var Nn=Di===h}else Nn=!0;if(Nn){if(void 0!==On.gte){let cs=On.gte;const Di=h;if("number"!=typeof cs||!isFinite(cs)){const sd={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[sd]:c.push(sd),h++}Nn=Di===h}else Nn=!0;if(Nn){if(void 0!==On.lt){let cs=On.lt;const Di=h;if("number"!=typeof cs||!isFinite(cs)){const sd={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[sd]:c.push(sd),h++}Nn=Di===h}else Nn=!0;if(Nn)if(void 0!==On.lte){let cs=On.lte;const Di=h;if("number"!=typeof cs||!isFinite(cs)){const sd={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[sd]:c.push(sd),h++}Nn=Di===h}else Nn=!0}}}}}}}}else{const Ys={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Ys]:c.push(Ys),h++}var Pe;(Pe=od===h)&&Rr?(Rr=!1,Nr=[Nr,5]):Pe&&(Rr=!0,Nr=5,!0!==Ke&&(Ke=!0))}}}}if(!Rr){const fi={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Nr},message:"must match exactly one schema in oneOf"};return null===c?c=[fi]:c.push(fi),h++,li.errors=c,!1}if(h=mr,null!==c&&(mr?c.length=mr:c=null),qn!==h)break}}Ne=dr===h}else Ne=!0;if(Ne){if(void 0!==r.recordId){const mn=h;if("string"!=typeof r.recordId)return li.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ne=mn===h}else Ne=!0;if(Ne){if(void 0!==r.parentId){const mn=h;if("string"!=typeof r.parentId)return li.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ne=mn===h}else Ne=!0;if(Ne){if(void 0!==r.published){const mn=h;if("boolean"!=typeof r.published)return li.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Ne=mn===h}else Ne=!0;if(Ne){if(void 0!==r.dataFormat){const mn=h;if("string"!=typeof r.dataFormat)return li.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ne=mn===h}else Ne=!0;if(Ne){if(void 0!==r.dataSize){let mn=r.dataSize;const dr=h;if(h==h){if(!mn||"object"!=typeof mn||Array.isArray(mn))return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(mn).length<1)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const On=h;for(const qn in mn)if("gt"!==qn&&"gte"!==qn&&"lt"!==qn&&"lte"!==qn)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(On===h){if(void 0!==mn.gt){const qn=h,mr=h,Rr=h;if(mn&&"object"==typeof mn&&!Array.isArray(mn)){let Nr;if(void 0===mn.gte&&(Nr="gte")){const Sr={};null===c?c=[Sr]:c.push(Sr),h++}}if(Rr===h)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=mr,null!==c&&(mr?c.length=mr:c=null);var Hn=qn===h}else Hn=!0;if(Hn){if(void 0!==mn.gte){const qn=h,mr=h,Rr=h;if(mn&&"object"==typeof mn&&!Array.isArray(mn)){let Sr;if(void 0===mn.gt&&(Sr="gt")){const Tr={};null===c?c=[Tr]:c.push(Tr),h++}}if(Rr===h)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=mr,null!==c&&(mr?c.length=mr:c=null),Hn=qn===h}else Hn=!0;if(Hn){if(void 0!==mn.lt){const qn=h,mr=h,Rr=h;if(mn&&"object"==typeof mn&&!Array.isArray(mn)){let Sr;if(void 0===mn.lte&&(Sr="lte")){const Tr={};null===c?c=[Tr]:c.push(Tr),h++}}if(Rr===h)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=mr,null!==c&&(mr?c.length=mr:c=null),Hn=qn===h}else Hn=!0;if(Hn){if(void 0!==mn.lte){const qn=h,mr=h,Rr=h;if(mn&&"object"==typeof mn&&!Array.isArray(mn)){let Sr;if(void 0===mn.lt&&(Sr="lt")){const Tr={};null===c?c=[Tr]:c.push(Tr),h++}}if(Rr===h)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=mr,null!==c&&(mr?c.length=mr:c=null),Hn=qn===h}else Hn=!0;if(Hn){if(void 0!==mn.gt){let qn=mn.gt;const mr=h;if("number"!=typeof qn||!isFinite(qn))return li.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Un=mr===h}else Un=!0;if(Un){if(void 0!==mn.gte){let qn=mn.gte;const mr=h;if("number"!=typeof qn||!isFinite(qn))return li.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Un=mr===h}else Un=!0;if(Un){if(void 0!==mn.lt){let qn=mn.lt;const mr=h;if("number"!=typeof qn||!isFinite(qn))return li.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Un=mr===h}else Un=!0;if(Un)if(void 0!==mn.lte){let qn=mn.lte;const mr=h;if("number"!=typeof qn||!isFinite(qn))return li.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Un=mr===h}else Un=!0}}}}}}}}}Ne=dr===h}else Ne=!0;if(Ne){if(void 0!==r.dataCid){const mn=h;if("string"!=typeof r.dataCid)return li.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ne=mn===h}else Ne=!0;if(Ne){if(void 0!==r.dateCreated){let mn=r.dateCreated;const dr=h;if(h===dr){if(!mn||"object"!=typeof mn||Array.isArray(mn))return li.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(mn).length<1)return li.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Zn=h;for(const On in mn)if("from"!==On&&"to"!==On)return li.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:On},message:"must NOT have additional properties"}],!1;if(Zn===h){if(void 0!==mn.from){let On=mn.from;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(On))return li.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Sn=qn===h}else Sn=!0;if(Sn)if(void 0!==mn.to){let On=mn.to;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(On))return li.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Sn=qn===h}else Sn=!0}}}Ne=dr===h}else Ne=!0;if(Ne){if(void 0!==r.datePublished){let mn=r.datePublished;const dr=h;if(h===dr){if(!mn||"object"!=typeof mn||Array.isArray(mn))return li.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(mn).length<1)return li.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Zn=h;for(const On in mn)if("from"!==On&&"to"!==On)return li.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:On},message:"must NOT have additional properties"}],!1;if(Zn===h){if(void 0!==mn.from){let On=mn.from;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(On))return li.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Vn=qn===h}else Vn=!0;if(Vn)if(void 0!==mn.to){let On=mn.to;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(On))return li.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Vn=qn===h}else Vn=!0}}}Ne=dr===h}else Ne=!0;if(Ne)if(void 0!==r.dateUpdated){let mn=r.dateUpdated;const dr=h;if(h===dr){if(!mn||"object"!=typeof mn||Array.isArray(mn))return li.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(mn).length<1)return li.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Zn=h;for(const On in mn)if("from"!==On&&"to"!==On)return li.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:On},message:"must NOT have additional properties"}],!1;if(Zn===h){if(void 0!==mn.from){let On=mn.from;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(On))return li.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var lr=qn===h}else lr=!0;if(lr)if(void 0!==mn.to){let On=mn.to;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(On))return li.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}lr=qn===h}else lr=!0}}}Ne=dr===h}else Ne=!0}}}}}}}}}}}}}}}}}}}return li.errors=c,0===h}function Hs(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Hs.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Hs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ne;if(void 0===r.descriptor&&(Ne="descriptor"))return Hs.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ne},message:"must have required property '"+Ne+"'"}],!1;{const Pe=h;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return Hs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(Pe===h){if(void 0!==r.authorization){const Ke=h;el(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?el.errors:c.concat(el.errors),h=c.length);var $=Ke===h}else $=!0;if($)if(void 0!==r.descriptor){let Ke=r.descriptor;const rt=h;if(h===rt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ct;if(void 0===Ke.interface&&(ct="interface")||void 0===Ke.method&&(ct="method")||void 0===Ke.messageTimestamp&&(ct="messageTimestamp")||void 0===Ke.filter&&(ct="filter"))return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ct},message:"must have required property '"+ct+"'"}],!1;{const dt=h;for(const At in Ke)if("interface"!==At&&"method"!==At&&"messageTimestamp"!==At&&"filter"!==At&&"pagination"!==At&&"dateSort"!==At)return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:At},message:"must NOT have additional properties"}],!1;if(dt===h){if(void 0!==Ke.interface){let At=Ke.interface;const Pt=h;if("string"!=typeof At)return Hs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==At)return Hs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:jE.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=Pt===h}else I=!0;if(I){if(void 0!==Ke.method){let At=Ke.method;const Pt=h;if("string"!=typeof At)return Hs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==At)return Hs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:jE.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=Pt===h}else I=!0;if(I){if(void 0!==Ke.messageTimestamp){let At=Ke.messageTimestamp;const Pt=h;if(h==h){if("string"!=typeof At)return Hs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(At))return Hs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=Pt===h}else I=!0;if(I){if(void 0!==Ke.filter){const At=h;li(Ke.filter,{instancePath:t+"/descriptor/filter",parentData:Ke,parentDataProperty:"filter",rootData:l,dynamicAnchors:p})||(c=null===c?li.errors:c.concat(li.errors),h=c.length),I=At===h}else I=!0;if(I){if(void 0!==Ke.pagination){let At=Ke.pagination;const Pt=h;if(h===Pt){if(!At||"object"!=typeof At||Array.isArray(At))return Hs.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const zt=h;for(const Zt in At)if("limit"!==Zt&&"cursor"!==Zt)return Hs.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Zt},message:"must NOT have additional properties"}],!1;if(zt===h){if(void 0!==At.limit){let Zt=At.limit;const xn=h;if(h===xn){if("number"!=typeof Zt||!isFinite(Zt))return Hs.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Zt<1||isNaN(Zt))return Hs.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var q=xn===h}else q=!0;if(q)if(void 0!==At.cursor){let Zt=At.cursor;const xn=h;if(h==h){if(!Zt||"object"!=typeof Zt||Array.isArray(Zt))return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Zt).length<1)return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let ir;if(void 0===Zt.messageCid&&(ir="messageCid")||void 0===Zt.value&&(ir="value"))return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:ir},message:"must have required property '"+ir+"'"}],!1;{const Pn=h;for(const Hn in Zt)if("messageCid"!==Hn&&"value"!==Hn)return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Hn},message:"must NOT have additional properties"}],!1;if(Pn===h){if(void 0!==Zt.messageCid){const Hn=h;if("string"!=typeof Zt.messageCid)return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ke=Hn===h}else ke=!0;if(ke)if(void 0!==Zt.value){let Hn=Zt.value;const ln=h;if("string"!=typeof Hn&&("number"!=typeof Hn||!isFinite(Hn)))return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:$E.properties.value.type},message:"must be string,number"}],!1;ke=ln===h}else ke=!0}}}}q=xn===h}else q=!0}}}I=Pt===h}else I=!0;if(I)if(void 0!==Ke.dateSort){let At=Ke.dateSort;const Pt=h;if("string"!=typeof At)return Hs.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==At&&"createdDescending"!==At&&"publishedAscending"!==At&&"publishedDescending"!==At)return Hs.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:jE.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;I=Pt===h}else I=!0}}}}}}}}$=rt===h}else $=!0}}}}return Hs.errors=c,0===h}li.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Hs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const VE=bl,zE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function bl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=bl.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return bl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.descriptor&&(q="descriptor"))return bl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const ke=h;for(const Ne in r)if("authorization"!==Ne&&"descriptor"!==Ne)return bl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ne},message:"must NOT have additional properties"}],!1;if(ke===h){if(void 0!==r.authorization){const Ne=h;el(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?el.errors:c.concat(el.errors),h=c.length);var $=Ne===h}else $=!0;if($)if(void 0!==r.descriptor){let Ne=r.descriptor;const Pe=h;if(h===Pe){if(!Ne||"object"!=typeof Ne||Array.isArray(Ne))return bl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Ne.interface&&(rt="interface")||void 0===Ne.method&&(rt="method")||void 0===Ne.messageTimestamp&&(rt="messageTimestamp")||void 0===Ne.filter&&(rt="filter"))return bl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const ht=h;for(const ct in Ne)if("interface"!==ct&&"method"!==ct&&"messageTimestamp"!==ct&&"filter"!==ct)return bl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(ht===h){if(void 0!==Ne.interface){let ct=Ne.interface;const dt=h;if("string"!=typeof ct)return bl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==ct)return bl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:zE.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=dt===h}else I=!0;if(I){if(void 0!==Ne.method){let ct=Ne.method;const dt=h;if("string"!=typeof ct)return bl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==ct)return bl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:zE.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=dt===h}else I=!0;if(I){if(void 0!==Ne.messageTimestamp){let ct=Ne.messageTimestamp;const dt=h;if(h==h){if("string"!=typeof ct)return bl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(ct))return bl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=dt===h}else I=!0;if(I)if(void 0!==Ne.filter){const ct=h;li(Ne.filter,{instancePath:t+"/descriptor/filter",parentData:Ne,parentDataProperty:"filter",rootData:l,dynamicAnchors:p})||(c=null===c?li.errors:c.concat(li.errors),h=c.length),I=ct===h}else I=!0}}}}}}$=Pe===h}else $=!0}}}}return bl.errors=c,0===h}bl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $w=Nm;function Nm(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Nm.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),si(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:l,dynamicAnchors:p}))var $=si.evaluated.props;else c=null===c?si.errors:c.concat(si.errors),h=c.length;if(0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Nm.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.recordId&&(I="recordId")||void 0===r.authorization&&(I="authorization"))return Nm.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;if(!0!==$)for(const q in r)if(!$||!$[q])return Nm.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:q},message:"must NOT have unevaluated properties"}],!1}}return Nm.errors=c,0===h}Nm.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const C6=hd,Oc=si,vA=Wh;function Wh(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=Wh.evaluated;return V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Wh.errors=null,!0):(Wh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Wh.evaluated={dynamicProps:!1,dynamicItems:!1};const k6=wl;function wl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=wl.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=h;let I=!1,q=null;const ke=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pt;if(void 0===r.crv&&(Pt="crv")||void 0===r.x&&(Pt="x")){const Ct={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:Pt},message:"must have required property '"+Pt+"'"};null===c?c=[Ct]:c.push(Ct),h++}else{if(void 0!==r.kty){const Ct=h;if("EC"!==r.kty){const zt={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===c?c=[zt]:c.push(zt),h++}var Ne=Ct===h}else Ne=!0;if(Ne){if(void 0!==r.crv){const Ct=h;if("string"!=typeof r.crv){const Zt={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Zt]:c.push(Zt),h++}Ne=Ct===h}else Ne=!0;if(Ne){if(void 0!==r.x){const Ct=h;if("string"!=typeof r.x){const Zt={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Zt]:c.push(Zt),h++}Ne=Ct===h}else Ne=!0;if(Ne){if(void 0!==r.y){const Ct=h;if("string"!=typeof r.y){const Zt={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Zt]:c.push(Zt),h++}Ne=Ct===h}else Ne=!0;if(Ne)if(void 0!==r.d){const Ct=h;if("string"!=typeof r.d){const Zt={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Zt]:c.push(Zt),h++}Ne=Ct===h}else Ne=!0}}}}}if(ht=ke===h){I=!0,q=0;var Pe={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const Ke=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pt;if(void 0===r.crv&&(Pt="crv")||void 0===r.x&&(Pt="x")){const Ct={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:Pt},message:"must have required property '"+Pt+"'"};null===c?c=[Ct]:c.push(Ct),h++}else{if(void 0!==r.kty){const Ct=h;if("OKP"!==r.kty){const zt={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===c?c=[zt]:c.push(zt),h++}var rt=Ct===h}else rt=!0;if(rt){if(void 0!==r.crv){const Ct=h;if("string"!=typeof r.crv){const Zt={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Zt]:c.push(Zt),h++}rt=Ct===h}else rt=!0;if(rt){if(void 0!==r.x){const Ct=h;if("string"!=typeof r.x){const Zt={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Zt]:c.push(Zt),h++}rt=Ct===h}else rt=!0;if(rt)if(void 0!==r.d){const Ct=h;if("string"!=typeof r.d){const Zt={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Zt]:c.push(Zt),h++}rt=Ct===h}else rt=!0}}}}if((ht=Ke===h)&&I)I=!1,q=[q,1];else{ht&&(I=!0,q=1,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.crv=!0,Pe.x=!0,Pe.d=!0));const Pt=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let zt;if(void 0===r.n&&(zt="n")||void 0===r.e&&(zt="e")){const Zt={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:zt},message:"must have required property '"+zt+"'"};null===c?c=[Zt]:c.push(Zt),h++}else{if(void 0!==r.kty){const Zt=h;if("RSA"!==r.kty){const xn={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===c?c=[xn]:c.push(xn),h++}var ct=Zt===h}else ct=!0;if(ct){if(void 0!==r.n){const Zt=h;if("string"!=typeof r.n){const Cn={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Zt===h}else ct=!0;if(ct){if(void 0!==r.e){const Zt=h;if("string"!=typeof r.e){const Cn={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Zt===h}else ct=!0;if(ct){if(void 0!==r.d){const Zt=h;if("string"!=typeof r.d){const Cn={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Zt===h}else ct=!0;if(ct){if(void 0!==r.p){const Zt=h;if("string"!=typeof r.p){const Cn={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Zt===h}else ct=!0;if(ct){if(void 0!==r.q){const Zt=h;if("string"!=typeof r.q){const Cn={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Zt===h}else ct=!0;if(ct){if(void 0!==r.dp){const Zt=h;if("string"!=typeof r.dp){const Cn={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Zt===h}else ct=!0;if(ct){if(void 0!==r.dq){const Zt=h;if("string"!=typeof r.dq){const Cn={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Zt===h}else ct=!0;if(ct){if(void 0!==r.qi){const Zt=h;if("string"!=typeof r.qi){const Cn={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Zt===h}else ct=!0;if(ct)if(void 0!==r.oth){let Zt=r.oth;const xn=h;if(!Zt||"object"!=typeof Zt||Array.isArray(Zt)){const Nn={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Nn]:c.push(Nn),h++}ct=xn===h}else ct=!0}}}}}}}}}}if((ht=Pt===h)&&I)I=!1,q=[q,2];else{ht&&(I=!0,q=2,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.n=!0,Pe.e=!0,Pe.d=!0,Pe.p=!0,Pe.q=!0,Pe.dp=!0,Pe.dq=!0,Pe.qi=!0,Pe.oth=!0));const zt=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let xn;if(void 0===r.k&&(xn="k")){const Cn={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:xn},message:"must have required property '"+xn+"'"};null===c?c=[Cn]:c.push(Cn),h++}else{if(void 0!==r.kty){const Cn=h;if("oct"!==r.kty){const Nn={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===c?c=[Nn]:c.push(Nn),h++}var dt=Cn===h}else dt=!0;if(dt)if(void 0!==r.k){const Cn=h;if("string"!=typeof r.k){const ir={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ir]:c.push(ir),h++}dt=Cn===h}else dt=!0}}var ht;(ht=zt===h)&&I?(I=!1,q=[q,3]):ht&&(I=!0,q=3,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.k=!0))}}if(!I){const Pt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf"};return null===c?c=[Pt]:c.push(Pt),h++,wl.errors=c,!1}if(h=$,null!==c&&($?c.length=$:c=null),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return wl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pt;if(void 0===r.kty&&(Pt="kty"))return wl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Pt},message:"must have required property '"+Pt+"'"}],!1;if(!0!==Pe&&((Pe=Pe||{}).alg=!0,Pe.kid=!0,Pe.kty=!0,Pe.crv=!0,Pe.use=!0,Pe.key_ops=!0,Pe.x5u=!0,Pe.x5c=!0,Pe.x5t=!0,Pe["x5t#S256"]=!0),void 0!==r.alg){const Ct=h;if("string"!=typeof r.alg)return wl.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var At=Ct===h}else At=!0;if(At){if(void 0!==r.kid){const Ct=h;if("string"!=typeof r.kid)return wl.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.kty){let Ct=r.kty;const zt=h;if("EC"!==Ct&&"RSA"!==Ct&&"oct"!==Ct&&"OKP"!==Ct)return wl.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:LE.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;At=zt===h}else At=!0;if(At){if(void 0!==r.crv){const Ct=h;if("string"!=typeof r.crv)return wl.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.use){const Ct=h;if("string"!=typeof r.use)return wl.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.key_ops){const Ct=h;if("string"!=typeof r.key_ops)return wl.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.x5u){const Ct=h;if("string"!=typeof r.x5u)return wl.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.x5c){const Ct=h;if("string"!=typeof r.x5c)return wl.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.x5t){const Ct=h;if("string"!=typeof r.x5t)return wl.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At)if(void 0!==r["x5t#S256"]){const Ct=h;if("string"!=typeof r["x5t#S256"])return wl.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0}}}}}}}}}}return wl.errors=c,V.props=Pe,0===h}wl.evaluated={dynamicProps:!0,dynamicItems:!1};const R6=Pi,O6=Tf,P6={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function Tf(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Tf.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Tf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.id&&(I="id")||void 0===r.type&&(I="type")||void 0===r.controller&&(I="controller")||void 0===r.publicKeyJwk&&(I="publicKeyJwk"))return Tf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=h;for(const ke in r)if("id"!==ke&&"type"!==ke&&"controller"!==ke&&"publicKeyJwk"!==ke)return Tf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ke},message:"must NOT have additional properties"}],!1;if(q===h){if(void 0!==r.id){const ke=h;if("string"!=typeof r.id)return Tf.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=ke===h}else $=!0;if($){if(void 0!==r.type){let ke=r.type;const Ne=h;if("JsonWebKey"!==ke&&"JsonWebKey2020"!==ke)return Tf.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:P6.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;$=Ne===h}else $=!0;if($){if(void 0!==r.controller){let ke=r.controller;const Ne=h;if(h==h){if("string"!=typeof ke)return Tf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(ke))return Tf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}$=Ne===h}else $=!0;if($)if(void 0!==r.publicKeyJwk){const ke=h;qo(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:l,dynamicAnchors:p})||(c=null===c?qo.errors:c.concat(qo.errors),h=c.length),$=ke===h}else $=!0}}}}}}return Tf.errors=c,0===h}Tf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const HE=po,lv={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Write"],type:"string"},protocol:{type:"string"},messageTimestamp:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}}};function po(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=po.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return po.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return po.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const q=0;for(const ke in r)if("interface"!==ke&&"method"!==ke&&"protocol"!==ke&&"messageTimestamp"!==ke)return po.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ke},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.interface){let ke=r.interface;const Ne=0;if("string"!=typeof ke)return po.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==ke&&"Records"!==ke)return po.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:lv.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var $=0===Ne}else $=!0;if($){if(void 0!==r.method){let ke=r.method;const Ne=0;if("string"!=typeof ke)return po.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==ke&&"Delete"!==ke&&"Write"!==ke)return po.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:lv.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;$=0===Ne}else $=!0;if($){if(void 0!==r.protocol){const ke=0;if("string"!=typeof r.protocol)return po.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0;if($)if(void 0!==r.messageTimestamp){let ke=r.messageTimestamp;const Ne=0;if(0===Ne){if(!ke||"object"!=typeof ke||Array.isArray(ke))return po.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(ke).length<1)return po.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ke=0;for(const rt in ke)if("from"!==rt&&"to"!==rt)return po.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(0===Ke){if(void 0!==ke.from){let rt=ke.from;const ht=0;if("string"!=typeof rt)return po.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(rt))return po.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;var I=0===ht}else I=!0;if(I)if(void 0!==ke.to){let rt=ke.to;const ht=0;if("string"!=typeof rt)return po.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(rt))return po.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;I=0===ht}else I=!0}}}$=0===Ne}else $=!0}}}}return po.errors=null,!0}po.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Vr=Ro,Ni={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function Ro(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Ro.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Ro.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ne;if(void 0===r.authorization&&(Ne="authorization")||void 0===r.descriptor&&(Ne="descriptor"))return Ro.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ne},message:"must have required property '"+Ne+"'"}],!1;{const Pe=h;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return Ro.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(Pe===h){if(void 0!==r.authorization){const Ke=h;zs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?zs.errors:c.concat(zs.errors),h=c.length);var $=Ke===h}else $=!0;if($)if(void 0!==r.descriptor){let Ke=r.descriptor;const rt=h;if(h===rt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return Ro.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ct;if(void 0===Ke.interface&&(ct="interface")||void 0===Ke.method&&(ct="method")||void 0===Ke.messageTimestamp&&(ct="messageTimestamp")||void 0===Ke.filters&&(ct="filters"))return Ro.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ct},message:"must have required property '"+ct+"'"}],!1;{const dt=h;for(const At in Ke)if("interface"!==At&&"method"!==At&&"messageTimestamp"!==At&&"filters"!==At&&"cursor"!==At)return Ro.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:At},message:"must NOT have additional properties"}],!1;if(dt===h){if(void 0!==Ke.interface){let At=Ke.interface;const Pt=h;if("string"!=typeof At)return Ro.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==At)return Ro.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ni.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=Pt===h}else I=!0;if(I){if(void 0!==Ke.method){let At=Ke.method;const Pt=h;if("string"!=typeof At)return Ro.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==At)return Ro.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ni.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=Pt===h}else I=!0;if(I){if(void 0!==Ke.messageTimestamp){let At=Ke.messageTimestamp;const Pt=h;if(h==h){if("string"!=typeof At)return Ro.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(At))return Ro.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=Pt===h}else I=!0;if(I){if(void 0!==Ke.filters){let At=Ke.filters;const Pt=h;if(h===Pt){if(!Array.isArray(At))return Ro.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const zt=At.length;for(let Zt=0;Zt<zt;Zt++){const xn=h;if(po(At[Zt],{instancePath:t+"/descriptor/filters/"+Zt,parentData:At,parentDataProperty:Zt,rootData:l,dynamicAnchors:p})||(c=null===c?po.errors:c.concat(po.errors),h=c.length),xn!==h)break}}}I=Pt===h}else I=!0;if(I)if(void 0!==Ke.cursor){let At=Ke.cursor;const Pt=h;if(h==h){if(!At||"object"!=typeof At||Array.isArray(At))return Ro.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(At).length<1)return Ro.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Zt;if(void 0===At.messageCid&&(Zt="messageCid")||void 0===At.value&&(Zt="value"))return Ro.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Zt},message:"must have required property '"+Zt+"'"}],!1;{const xn=h;for(const Cn in At)if("messageCid"!==Cn&&"value"!==Cn)return Ro.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"}],!1;if(xn===h){if(void 0!==At.messageCid){const Cn=h;if("string"!=typeof At.messageCid)return Ro.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ke=Cn===h}else ke=!0;if(ke)if(void 0!==At.value){let Cn=At.value;const Nn=h;if("string"!=typeof Cn&&("number"!=typeof Cn||!isFinite(Cn)))return Ro.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:$E.properties.value.type},message:"must be string,number"}],!1;ke=Nn===h}else ke=!0}}}}I=Pt===h}else I=!0}}}}}}}$=rt===h}else $=!0}}}}return Ro.errors=c,0===h}Ro.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Df=Ms,tl={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-read.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCid:{type:"string"}}}}};function Ms(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Ms.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Ms.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.authorization&&(q="authorization")||void 0===r.descriptor&&(q="descriptor"))return Ms.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const ke=h;for(const Ne in r)if("authorization"!==Ne&&"descriptor"!==Ne)return Ms.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ne},message:"must NOT have additional properties"}],!1;if(ke===h){if(void 0!==r.authorization){const Ne=h;zs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?zs.errors:c.concat(zs.errors),h=c.length);var $=Ne===h}else $=!0;if($)if(void 0!==r.descriptor){let Ne=r.descriptor;const Pe=h;if(h===Pe){if(!Ne||"object"!=typeof Ne||Array.isArray(Ne))return Ms.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Ne.interface&&(rt="interface")||void 0===Ne.method&&(rt="method")||void 0===Ne.messageTimestamp&&(rt="messageTimestamp"))return Ms.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const ht=h;for(const ct in Ne)if("interface"!==ct&&"method"!==ct&&"messageTimestamp"!==ct&&"messageCid"!==ct)return Ms.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(ht===h){if(void 0!==Ne.interface){let ct=Ne.interface;const dt=h;if("string"!=typeof ct)return Ms.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==ct)return Ms.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:tl.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=dt===h}else I=!0;if(I){if(void 0!==Ne.method){let ct=Ne.method;const dt=h;if("string"!=typeof ct)return Ms.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==ct)return Ms.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:tl.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=dt===h}else I=!0;if(I){if(void 0!==Ne.messageTimestamp){let ct=Ne.messageTimestamp;const dt=h;if(h==h){if("string"!=typeof ct)return Ms.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(ct))return Ms.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=dt===h}else I=!0;if(I)if(void 0!==Ne.messageCid){const ct=h;if("string"!=typeof Ne.messageCid)return Ms.errors=[{instancePath:t+"/descriptor/messageCid",schemaPath:"#/properties/descriptor/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=ct===h}else I=!0}}}}}}$=Pe===h}else $=!0}}}}return Ms.errors=c,0===h}Ms.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const hy=ss,ea={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}}}}}};function ss(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=ss.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return ss.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ke;if(void 0===r.descriptor&&(ke="descriptor")||void 0===r.authorization&&(ke="authorization"))return ss.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ke},message:"must have required property '"+ke+"'"}],!1;{const Ne=h;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return ss.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Ne===h){if(void 0!==r.authorization){const Pe=h;zs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?zs.errors:c.concat(zs.errors),h=c.length);var $=Pe===h}else $=!0;if($)if(void 0!==r.descriptor){let Pe=r.descriptor;const Ke=h;if(h===Ke){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return ss.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ht;if(void 0===Pe.interface&&(ht="interface")||void 0===Pe.method&&(ht="method")||void 0===Pe.messageTimestamp&&(ht="messageTimestamp")||void 0===Pe.filters&&(ht="filters"))return ss.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ht},message:"must have required property '"+ht+"'"}],!1;{const ct=h;for(const dt in Pe)if("interface"!==dt&&"method"!==dt&&"messageTimestamp"!==dt&&"filters"!==dt)return ss.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dt},message:"must NOT have additional properties"}],!1;if(ct===h){if(void 0!==Pe.interface){let dt=Pe.interface;const At=h;if("string"!=typeof dt)return ss.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==dt)return ss.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ea.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=At===h}else I=!0;if(I){if(void 0!==Pe.method){let dt=Pe.method;const At=h;if("string"!=typeof dt)return ss.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==dt)return ss.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ea.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=At===h}else I=!0;if(I){if(void 0!==Pe.messageTimestamp){const dt=h;if("string"!=typeof Pe.messageTimestamp)return ss.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=dt===h}else I=!0;if(I)if(void 0!==Pe.filters){let dt=Pe.filters;const At=h;if(h===At){if(!Array.isArray(dt))return ss.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Ct=dt.length;for(let zt=0;zt<Ct;zt++){const Zt=h;if(po(dt[zt],{instancePath:t+"/descriptor/filters/"+zt,parentData:dt,parentDataProperty:zt,rootData:l,dynamicAnchors:p})||(c=null===c?po.errors:c.concat(po.errors),h=c.length),Zt!==h)break}}}I=At===h}else I=!0}}}}}}$=Ke===h}else $=!0}}}}return ss.errors=c,0===h}ss.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const lh=_i;function _i(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=_i.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return _i.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return _i.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ke=h;for(const rt in r)if("gt"!==rt&&"gte"!==rt&&"lt"!==rt&&"lte"!==rt)return _i.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(Ke===h){if(void 0!==r.gt){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let dt;if(void 0===r.gte&&(dt="gte")){const At={};null===c?c=[At]:c.push(At),h++}}if(ct===h)return _i.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null);var I=rt===h}else I=!0;if(I){if(void 0!==r.gte){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.gt&&(At="gt")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return _i.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.lt){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.lte&&(At="lte")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return _i.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.lte){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.lt&&(At="lt")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return _i.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.gt){let rt=r.gt;const ht=h;if("number"!=typeof rt||!isFinite(rt))return _i.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Pe=ht===h}else Pe=!0;if(Pe){if(void 0!==r.gte){let rt=r.gte;const ht=h;if("number"!=typeof rt||!isFinite(rt))return _i.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=ht===h}else Pe=!0;if(Pe){if(void 0!==r.lt){let rt=r.lt;const ht=h;if("number"!=typeof rt||!isFinite(rt))return _i.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=ht===h}else Pe=!0;if(Pe)if(void 0!==r.lte){let rt=r.lte;const ht=h;if("number"!=typeof rt||!isFinite(rt))return _i.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=ht===h}else Pe=!0}}}}}}}}}return _i.errors=c,0===h}_i.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const dv=If;function If(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=If.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return If.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return If.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let I;if(void 0===r.messageCid&&(I="messageCid")||void 0===r.value&&(I="value"))return If.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=0;for(const ke in r)if("messageCid"!==ke&&"value"!==ke)return If.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ke},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.messageCid){const ke=0;if("string"!=typeof r.messageCid)return If.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=0===ke}else $=!0;if($)if(void 0!==r.value){let ke=r.value;const Ne=0;if("string"!=typeof ke&&("number"!=typeof ke||!isFinite(ke)))return If.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:$E.properties.value.type},message:"must be string,number"}],!1;$=0===Ne}else $=!0}}}return If.errors=null,!0}If.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const py=Pc,Fp={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function Fl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Fl.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=h;let I=!1,q=null;const ke=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.interface&&(Nn="interface")||void 0===r.method&&(Nn="method")){const ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===c?c=[ir]:c.push(ir),h++}else{const ir=h;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[Hn]:c.push(Hn),h++;break}if(ir===h){if(void 0!==r.interface){const Pn=h;if("Messages"!==r.interface){const Hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[Hn]:c.push(Hn),h++}var Pe=Pn===h}else Pe=!0;if(Pe){if(void 0!==r.method){const Pn=h;if("Query"!==r.method){const ln={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[ln]:c.push(ln),h++}Pe=Pn===h}else Pe=!0;if(Pe)if(void 0!==r.protocol){const Pn=h;if("string"!=typeof r.protocol){const ln={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ln]:c.push(ln),h++}Pe=Pn===h}else Pe=!0}}}}else{const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Nn]:c.push(Nn),h++}if(dt=ke===h){I=!0,q=0;var Ke=!0}const rt=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.interface&&(Nn="interface")||void 0===r.method&&(Nn="method")){const ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===c?c=[ir]:c.push(ir),h++}else{const ir=h;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[Hn]:c.push(Hn),h++;break}if(ir===h){if(void 0!==r.interface){const Pn=h;if("Messages"!==r.interface){const Hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[Hn]:c.push(Hn),h++}var ct=Pn===h}else ct=!0;if(ct){if(void 0!==r.method){const Pn=h;if("Read"!==r.method){const ln={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[ln]:c.push(ln),h++}ct=Pn===h}else ct=!0;if(ct)if(void 0!==r.protocol){const Pn=h;if("string"!=typeof r.protocol){const ln={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ln]:c.push(ln),h++}ct=Pn===h}else ct=!0}}}}else{const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Nn]:c.push(Nn),h++}if((dt=rt===h)&&I)I=!1,q=[q,1];else{dt&&(I=!0,q=1,!0!==Ke&&(Ke=!0));const Nn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Hn;if(void 0===r.interface&&(Hn="interface")||void 0===r.method&&(Hn="method")){const ln={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:Hn},message:"must have required property '"+Hn+"'"};null===c?c=[ln]:c.push(ln),h++}else{const ln=h;for(const vn in r)if("interface"!==vn&&"method"!==vn&&"protocol"!==vn){const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:vn},message:"must NOT have additional properties"};null===c?c=[wn]:c.push(wn),h++;break}if(ln===h){if(void 0!==r.interface){const vn=h;if("Messages"!==r.interface){const wn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[wn]:c.push(wn),h++}var At=vn===h}else At=!0;if(At){if(void 0!==r.method){const vn=h;if("Subscribe"!==r.method){const Un={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[Un]:c.push(Un),h++}At=vn===h}else At=!0;if(At)if(void 0!==r.protocol){const vn=h;if("string"!=typeof r.protocol){const Un={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Un]:c.push(Un),h++}At=vn===h}else At=!0}}}}else{const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Hn]:c.push(Hn),h++}if((dt=Nn===h)&&I)I=!1,q=[q,2];else{dt&&(I=!0,q=2,!0!==Ke&&(Ke=!0));const Hn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let wn;if(void 0===r.interface&&(wn="interface")||void 0===r.method&&(wn="method")){const Un={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:wn},message:"must have required property '"+wn+"'"};null===c?c=[Un]:c.push(Un),h++}else{const Un=h;for(const Sn in r)if("interface"!==Sn&&"method"!==Sn){const Vn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sn},message:"must NOT have additional properties"};null===c?c=[Vn]:c.push(Vn),h++;break}if(Un===h){if(void 0!==r.interface){const Sn=h;if("Protocols"!==r.interface){const Vn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===c?c=[Vn]:c.push(Vn),h++}var Pt=Sn===h}else Pt=!0;if(Pt)if(void 0!==r.method){const Sn=h;if("Query"!==r.method){const lr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[lr]:c.push(lr),h++}Pt=Sn===h}else Pt=!0}}}else{const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[wn]:c.push(wn),h++}if((dt=Hn===h)&&I)I=!1,q=[q,3];else{dt&&(I=!0,q=3,!0!==Ke&&(Ke=!0));const wn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Vn;if(void 0===r.interface&&(Vn="interface")||void 0===r.method&&(Vn="method")){const lr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Vn},message:"must have required property '"+Vn+"'"};null===c?c=[lr]:c.push(lr),h++}else{const lr=h;for(const cr in r)if("interface"!==cr&&"method"!==cr&&"protocol"!==cr&&"contextId"!==cr&&"protocolPath"!==cr){const mn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cr},message:"must NOT have additional properties"};null===c?c=[mn]:c.push(mn),h++;break}if(lr===h){if(void 0!==r.interface){const cr=h;if("Records"!==r.interface){const mn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[mn]:c.push(mn),h++}var Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.method){const cr=h;if("Read"!==r.method){const dr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.protocol){const cr=h;if("string"!=typeof r.protocol){const dr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.contextId){const cr=h;if("string"!=typeof r.contextId){const dr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct)if(void 0!==r.protocolPath){const cr=h;if("string"!=typeof r.protocolPath){const dr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0}}}}}}else{const Vn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Vn]:c.push(Vn),h++}if((dt=wn===h)&&I)I=!1,q=[q,4];else{dt&&(I=!0,q=4,!0!==Ke&&(Ke=!0));const Vn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let mn;if(void 0===r.interface&&(mn="interface")||void 0===r.method&&(mn="method")){const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:mn},message:"must have required property '"+mn+"'"};null===c?c=[dr]:c.push(dr),h++}else{const dr=h;for(const _r in r)if("interface"!==_r&&"method"!==_r&&"protocol"!==_r&&"contextId"!==_r&&"protocolPath"!==_r){const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_r},message:"must NOT have additional properties"};null===c?c=[Zn]:c.push(Zn),h++;break}if(dr===h){if(void 0!==r.interface){const _r=h;if("Records"!==r.interface){const Zn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Zn]:c.push(Zn),h++}var zt=_r===h}else zt=!0;if(zt){if(void 0!==r.method){const _r=h;if("Delete"!==r.method){const On={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===c?c=[On]:c.push(On),h++}zt=_r===h}else zt=!0;if(zt){if(void 0!==r.protocol){const _r=h;if("string"!=typeof r.protocol){const On={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=_r===h}else zt=!0;if(zt){if(void 0!==r.contextId){const _r=h;if("string"!=typeof r.contextId){const On={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=_r===h}else zt=!0;if(zt)if(void 0!==r.protocolPath){const _r=h;if("string"!=typeof r.protocolPath){const On={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=_r===h}else zt=!0}}}}}}else{const mn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mn]:c.push(mn),h++}if((dt=Vn===h)&&I)I=!1,q=[q,5];else{dt&&(I=!0,q=5,!0!==Ke&&(Ke=!0));const mn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Zn;if(void 0===r.interface&&(Zn="interface")||void 0===r.method&&(Zn="method")){const On={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===c?c=[On]:c.push(On),h++}else{const On=h;for(const qn in r)if("interface"!==qn&&"method"!==qn&&"protocol"!==qn&&"contextId"!==qn&&"protocolPath"!==qn){const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"};null===c?c=[mr]:c.push(mr),h++;break}if(On===h){if(void 0!==r.interface){const qn=h;if("Records"!==r.interface){const mr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[mr]:c.push(mr),h++}var Zt=qn===h}else Zt=!0;if(Zt){if(void 0!==r.method){const qn=h;if("Write"!==r.method){const Rr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===c?c=[Rr]:c.push(Rr),h++}Zt=qn===h}else Zt=!0;if(Zt){if(void 0!==r.protocol){const qn=h;if("string"!=typeof r.protocol){const Rr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Rr]:c.push(Rr),h++}Zt=qn===h}else Zt=!0;if(Zt){if(void 0!==r.contextId){const qn=h;if("string"!=typeof r.contextId){const Rr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Rr]:c.push(Rr),h++}Zt=qn===h}else Zt=!0;if(Zt)if(void 0!==r.protocolPath){const qn=h;if("string"!=typeof r.protocolPath){const Rr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Rr]:c.push(Rr),h++}Zt=qn===h}else Zt=!0}}}}}}else{const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Zn]:c.push(Zn),h++}if((dt=mn===h)&&I)I=!1,q=[q,6];else{dt&&(I=!0,q=6,!0!==Ke&&(Ke=!0));const Zn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let mr;if(void 0===r.interface&&(mr="interface")||void 0===r.method&&(mr="method")){const Rr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:mr},message:"must have required property '"+mr+"'"};null===c?c=[Rr]:c.push(Rr),h++}else{const Rr=h;for(const Nr in r)if("interface"!==Nr&&"method"!==Nr&&"protocol"!==Nr&&"contextId"!==Nr&&"protocolPath"!==Nr){const Sr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Nr},message:"must NOT have additional properties"};null===c?c=[Sr]:c.push(Sr),h++;break}if(Rr===h){if(void 0!==r.interface){const Nr=h;if("Records"!==r.interface){const Sr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Sr]:c.push(Sr),h++}var xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.method){const Nr=h;if("Query"!==r.method){const Tr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[Tr]:c.push(Tr),h++}xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.protocol){const Nr=h;if("string"!=typeof r.protocol){const Tr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),h++}xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.contextId){const Nr=h;if("string"!=typeof r.contextId){const Tr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),h++}xn=Nr===h}else xn=!0;if(xn)if(void 0!==r.protocolPath){const Nr=h;if("string"!=typeof r.protocolPath){const Tr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),h++}xn=Nr===h}else xn=!0}}}}}}else{const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mr]:c.push(mr),h++}if((dt=Zn===h)&&I)I=!1,q=[q,7];else{dt&&(I=!0,q=7,!0!==Ke&&(Ke=!0));const mr=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Sr;if(void 0===r.interface&&(Sr="interface")||void 0===r.method&&(Sr="method")){const Tr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Sr},message:"must have required property '"+Sr+"'"};null===c?c=[Tr]:c.push(Tr),h++}else{const Tr=h;for(const fi in r)if("interface"!==fi&&"method"!==fi&&"protocol"!==fi&&"contextId"!==fi&&"protocolPath"!==fi){const Zs={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fi},message:"must NOT have additional properties"};null===c?c=[Zs]:c.push(Zs),h++;break}if(Tr===h){if(void 0!==r.interface){const fi=h;if("Records"!==r.interface){const Zs={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Zs]:c.push(Zs),h++}var Cn=fi===h}else Cn=!0;if(Cn){if(void 0!==r.method){const fi=h;if("Subscribe"!==r.method){const yr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[yr]:c.push(yr),h++}Cn=fi===h}else Cn=!0;if(Cn){if(void 0!==r.protocol){const fi=h;if("string"!=typeof r.protocol){const yr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=fi===h}else Cn=!0;if(Cn){if(void 0!==r.contextId){const fi=h;if("string"!=typeof r.contextId){const yr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=fi===h}else Cn=!0;if(Cn)if(void 0!==r.protocolPath){const fi=h;if("string"!=typeof r.protocolPath){const yr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=fi===h}else Cn=!0}}}}}}else{const Sr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Sr]:c.push(Sr),h++}var dt;(dt=mr===h)&&I?(I=!1,q=[q,8]):dt&&(I=!0,q=8,!0!==Ke&&(Ke=!0))}}}}}}}if(!I){const Nn={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf"};return null===c?c=[Nn]:c.push(Nn),h++,Fl.errors=c,!1}return h=$,null!==c&&($?c.length=$:c=null),Fl.errors=c,V.props=Ke,0===h}function Pc(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Pc.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Pc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.dateExpires&&(I="dateExpires")||void 0===r.scope&&(I="scope"))return Pc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=h;for(const ke in r)if("description"!==ke&&"dateExpires"!==ke&&"requestId"!==ke&&"delegated"!==ke&&"scope"!==ke&&"conditions"!==ke)return Pc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ke},message:"must NOT have additional properties"}],!1;if(q===h){if(void 0!==r.description){const ke=h;if("string"!=typeof r.description)return Pc.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=ke===h}else $=!0;if($){if(void 0!==r.dateExpires){let ke=r.dateExpires;const Ne=h;if(h==h){if("string"!=typeof ke)return Pc.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(ke))return Pc.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}$=Ne===h}else $=!0;if($){if(void 0!==r.requestId){const ke=h;if("string"!=typeof r.requestId)return Pc.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=ke===h}else $=!0;if($){if(void 0!==r.delegated){const ke=h;if("boolean"!=typeof r.delegated)return Pc.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$=ke===h}else $=!0;if($){if(void 0!==r.scope){const ke=h;Fl(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:l,dynamicAnchors:p})||(c=null===c?Fl.errors:c.concat(Fl.errors),h=c.length),$=ke===h}else $=!0;if($)if(void 0!==r.conditions){let ke=r.conditions;const Ne=h;if(h==h){if(!ke||"object"!=typeof ke||Array.isArray(ke))return Pc.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const rt=h;for(const ht in ke)if("publication"!==ht)return Pc.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ht},message:"must NOT have additional properties"}],!1;if(rt===h&&void 0!==ke.publication){let ht=ke.publication;if("string"!=typeof ht)return Pc.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==ht&&"Prohibited"!==ht)return Pc.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Fp.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}$=Ne===h}else $=!0}}}}}}}}return Pc.errors=c,0===h}Fl.evaluated={dynamicProps:!0,dynamicItems:!1},Pc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const my=Ts;function dh(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=dh.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=h;let I=!1,q=null;const ke=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.interface&&(Nn="interface")||void 0===r.method&&(Nn="method")){const ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===c?c=[ir]:c.push(ir),h++}else{const ir=h;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[Hn]:c.push(Hn),h++;break}if(ir===h){if(void 0!==r.interface){const Pn=h;if("Messages"!==r.interface){const Hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[Hn]:c.push(Hn),h++}var Pe=Pn===h}else Pe=!0;if(Pe){if(void 0!==r.method){const Pn=h;if("Query"!==r.method){const ln={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[ln]:c.push(ln),h++}Pe=Pn===h}else Pe=!0;if(Pe)if(void 0!==r.protocol){const Pn=h;if("string"!=typeof r.protocol){const ln={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ln]:c.push(ln),h++}Pe=Pn===h}else Pe=!0}}}}else{const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Nn]:c.push(Nn),h++}if(dt=ke===h){I=!0,q=0;var Ke=!0}const rt=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.interface&&(Nn="interface")||void 0===r.method&&(Nn="method")){const ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===c?c=[ir]:c.push(ir),h++}else{const ir=h;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[Hn]:c.push(Hn),h++;break}if(ir===h){if(void 0!==r.interface){const Pn=h;if("Messages"!==r.interface){const Hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[Hn]:c.push(Hn),h++}var ct=Pn===h}else ct=!0;if(ct){if(void 0!==r.method){const Pn=h;if("Read"!==r.method){const ln={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[ln]:c.push(ln),h++}ct=Pn===h}else ct=!0;if(ct)if(void 0!==r.protocol){const Pn=h;if("string"!=typeof r.protocol){const ln={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ln]:c.push(ln),h++}ct=Pn===h}else ct=!0}}}}else{const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Nn]:c.push(Nn),h++}if((dt=rt===h)&&I)I=!1,q=[q,1];else{dt&&(I=!0,q=1,!0!==Ke&&(Ke=!0));const Nn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Hn;if(void 0===r.interface&&(Hn="interface")||void 0===r.method&&(Hn="method")){const ln={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:Hn},message:"must have required property '"+Hn+"'"};null===c?c=[ln]:c.push(ln),h++}else{const ln=h;for(const vn in r)if("interface"!==vn&&"method"!==vn&&"protocol"!==vn){const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:vn},message:"must NOT have additional properties"};null===c?c=[wn]:c.push(wn),h++;break}if(ln===h){if(void 0!==r.interface){const vn=h;if("Messages"!==r.interface){const wn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[wn]:c.push(wn),h++}var At=vn===h}else At=!0;if(At){if(void 0!==r.method){const vn=h;if("Subscribe"!==r.method){const Un={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[Un]:c.push(Un),h++}At=vn===h}else At=!0;if(At)if(void 0!==r.protocol){const vn=h;if("string"!=typeof r.protocol){const Un={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Un]:c.push(Un),h++}At=vn===h}else At=!0}}}}else{const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Hn]:c.push(Hn),h++}if((dt=Nn===h)&&I)I=!1,q=[q,2];else{dt&&(I=!0,q=2,!0!==Ke&&(Ke=!0));const Hn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let wn;if(void 0===r.interface&&(wn="interface")||void 0===r.method&&(wn="method")){const Un={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:wn},message:"must have required property '"+wn+"'"};null===c?c=[Un]:c.push(Un),h++}else{const Un=h;for(const Sn in r)if("interface"!==Sn&&"method"!==Sn){const Vn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sn},message:"must NOT have additional properties"};null===c?c=[Vn]:c.push(Vn),h++;break}if(Un===h){if(void 0!==r.interface){const Sn=h;if("Protocols"!==r.interface){const Vn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===c?c=[Vn]:c.push(Vn),h++}var Pt=Sn===h}else Pt=!0;if(Pt)if(void 0!==r.method){const Sn=h;if("Query"!==r.method){const lr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[lr]:c.push(lr),h++}Pt=Sn===h}else Pt=!0}}}else{const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[wn]:c.push(wn),h++}if((dt=Hn===h)&&I)I=!1,q=[q,3];else{dt&&(I=!0,q=3,!0!==Ke&&(Ke=!0));const wn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Vn;if(void 0===r.interface&&(Vn="interface")||void 0===r.method&&(Vn="method")){const lr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Vn},message:"must have required property '"+Vn+"'"};null===c?c=[lr]:c.push(lr),h++}else{const lr=h;for(const cr in r)if("interface"!==cr&&"method"!==cr&&"protocol"!==cr&&"contextId"!==cr&&"protocolPath"!==cr){const mn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cr},message:"must NOT have additional properties"};null===c?c=[mn]:c.push(mn),h++;break}if(lr===h){if(void 0!==r.interface){const cr=h;if("Records"!==r.interface){const mn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[mn]:c.push(mn),h++}var Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.method){const cr=h;if("Read"!==r.method){const dr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.protocol){const cr=h;if("string"!=typeof r.protocol){const dr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.contextId){const cr=h;if("string"!=typeof r.contextId){const dr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct)if(void 0!==r.protocolPath){const cr=h;if("string"!=typeof r.protocolPath){const dr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0}}}}}}else{const Vn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Vn]:c.push(Vn),h++}if((dt=wn===h)&&I)I=!1,q=[q,4];else{dt&&(I=!0,q=4,!0!==Ke&&(Ke=!0));const Vn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let mn;if(void 0===r.interface&&(mn="interface")||void 0===r.method&&(mn="method")){const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:mn},message:"must have required property '"+mn+"'"};null===c?c=[dr]:c.push(dr),h++}else{const dr=h;for(const _r in r)if("interface"!==_r&&"method"!==_r&&"protocol"!==_r&&"contextId"!==_r&&"protocolPath"!==_r){const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_r},message:"must NOT have additional properties"};null===c?c=[Zn]:c.push(Zn),h++;break}if(dr===h){if(void 0!==r.interface){const _r=h;if("Records"!==r.interface){const Zn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Zn]:c.push(Zn),h++}var zt=_r===h}else zt=!0;if(zt){if(void 0!==r.method){const _r=h;if("Delete"!==r.method){const On={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===c?c=[On]:c.push(On),h++}zt=_r===h}else zt=!0;if(zt){if(void 0!==r.protocol){const _r=h;if("string"!=typeof r.protocol){const On={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=_r===h}else zt=!0;if(zt){if(void 0!==r.contextId){const _r=h;if("string"!=typeof r.contextId){const On={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=_r===h}else zt=!0;if(zt)if(void 0!==r.protocolPath){const _r=h;if("string"!=typeof r.protocolPath){const On={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=_r===h}else zt=!0}}}}}}else{const mn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mn]:c.push(mn),h++}if((dt=Vn===h)&&I)I=!1,q=[q,5];else{dt&&(I=!0,q=5,!0!==Ke&&(Ke=!0));const mn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Zn;if(void 0===r.interface&&(Zn="interface")||void 0===r.method&&(Zn="method")){const On={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===c?c=[On]:c.push(On),h++}else{const On=h;for(const qn in r)if("interface"!==qn&&"method"!==qn&&"protocol"!==qn&&"contextId"!==qn&&"protocolPath"!==qn){const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"};null===c?c=[mr]:c.push(mr),h++;break}if(On===h){if(void 0!==r.interface){const qn=h;if("Records"!==r.interface){const mr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[mr]:c.push(mr),h++}var Zt=qn===h}else Zt=!0;if(Zt){if(void 0!==r.method){const qn=h;if("Write"!==r.method){const Rr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===c?c=[Rr]:c.push(Rr),h++}Zt=qn===h}else Zt=!0;if(Zt){if(void 0!==r.protocol){const qn=h;if("string"!=typeof r.protocol){const Rr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Rr]:c.push(Rr),h++}Zt=qn===h}else Zt=!0;if(Zt){if(void 0!==r.contextId){const qn=h;if("string"!=typeof r.contextId){const Rr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Rr]:c.push(Rr),h++}Zt=qn===h}else Zt=!0;if(Zt)if(void 0!==r.protocolPath){const qn=h;if("string"!=typeof r.protocolPath){const Rr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Rr]:c.push(Rr),h++}Zt=qn===h}else Zt=!0}}}}}}else{const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Zn]:c.push(Zn),h++}if((dt=mn===h)&&I)I=!1,q=[q,6];else{dt&&(I=!0,q=6,!0!==Ke&&(Ke=!0));const Zn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let mr;if(void 0===r.interface&&(mr="interface")||void 0===r.method&&(mr="method")){const Rr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:mr},message:"must have required property '"+mr+"'"};null===c?c=[Rr]:c.push(Rr),h++}else{const Rr=h;for(const Nr in r)if("interface"!==Nr&&"method"!==Nr&&"protocol"!==Nr&&"contextId"!==Nr&&"protocolPath"!==Nr){const Sr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Nr},message:"must NOT have additional properties"};null===c?c=[Sr]:c.push(Sr),h++;break}if(Rr===h){if(void 0!==r.interface){const Nr=h;if("Records"!==r.interface){const Sr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Sr]:c.push(Sr),h++}var xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.method){const Nr=h;if("Query"!==r.method){const Tr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[Tr]:c.push(Tr),h++}xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.protocol){const Nr=h;if("string"!=typeof r.protocol){const Tr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),h++}xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.contextId){const Nr=h;if("string"!=typeof r.contextId){const Tr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),h++}xn=Nr===h}else xn=!0;if(xn)if(void 0!==r.protocolPath){const Nr=h;if("string"!=typeof r.protocolPath){const Tr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),h++}xn=Nr===h}else xn=!0}}}}}}else{const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mr]:c.push(mr),h++}if((dt=Zn===h)&&I)I=!1,q=[q,7];else{dt&&(I=!0,q=7,!0!==Ke&&(Ke=!0));const mr=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Sr;if(void 0===r.interface&&(Sr="interface")||void 0===r.method&&(Sr="method")){const Tr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Sr},message:"must have required property '"+Sr+"'"};null===c?c=[Tr]:c.push(Tr),h++}else{const Tr=h;for(const fi in r)if("interface"!==fi&&"method"!==fi&&"protocol"!==fi&&"contextId"!==fi&&"protocolPath"!==fi){const Zs={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fi},message:"must NOT have additional properties"};null===c?c=[Zs]:c.push(Zs),h++;break}if(Tr===h){if(void 0!==r.interface){const fi=h;if("Records"!==r.interface){const Zs={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Zs]:c.push(Zs),h++}var Cn=fi===h}else Cn=!0;if(Cn){if(void 0!==r.method){const fi=h;if("Subscribe"!==r.method){const yr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[yr]:c.push(yr),h++}Cn=fi===h}else Cn=!0;if(Cn){if(void 0!==r.protocol){const fi=h;if("string"!=typeof r.protocol){const yr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=fi===h}else Cn=!0;if(Cn){if(void 0!==r.contextId){const fi=h;if("string"!=typeof r.contextId){const yr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=fi===h}else Cn=!0;if(Cn)if(void 0!==r.protocolPath){const fi=h;if("string"!=typeof r.protocolPath){const yr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=fi===h}else Cn=!0}}}}}}else{const Sr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Sr]:c.push(Sr),h++}var dt;(dt=mr===h)&&I?(I=!1,q=[q,8]):dt&&(I=!0,q=8,!0!==Ke&&(Ke=!0))}}}}}}}if(!I){const Nn={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf"};return null===c?c=[Nn]:c.push(Nn),h++,dh.errors=c,!1}return h=$,null!==c&&($?c.length=$:c=null),dh.errors=c,V.props=Ke,0===h}function Ts(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Ts.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Ts.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.delegated&&(I="delegated")||void 0===r.scope&&(I="scope"))return Ts.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=h;for(const ke in r)if("description"!==ke&&"delegated"!==ke&&"scope"!==ke&&"conditions"!==ke)return Ts.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ke},message:"must NOT have additional properties"}],!1;if(q===h){if(void 0!==r.description){const ke=h;if("string"!=typeof r.description)return Ts.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=ke===h}else $=!0;if($){if(void 0!==r.delegated){const ke=h;if("boolean"!=typeof r.delegated)return Ts.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$=ke===h}else $=!0;if($){if(void 0!==r.scope){const ke=h;dh(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:l,dynamicAnchors:p})||(c=null===c?dh.errors:c.concat(dh.errors),h=c.length),$=ke===h}else $=!0;if($)if(void 0!==r.conditions){let ke=r.conditions;const Ne=h;if(h==h){if(!ke||"object"!=typeof ke||Array.isArray(ke))return Ts.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const rt=h;for(const ht in ke)if("publication"!==ht)return Ts.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ht},message:"must NOT have additional properties"}],!1;if(rt===h&&void 0!==ke.publication){let ht=ke.publication;if("string"!=typeof ht)return Ts.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==ht&&"Prohibited"!==ht)return Ts.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Fp.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}$=Ne===h}else $=!0}}}}}}return Ts.errors=c,0===h}dh.evaluated={dynamicProps:!0,dynamicItems:!1},Ts.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const jl=cu;function cu(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=cu.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return cu.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const $=0;for(const I in r)if("description"!==I)return cu.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;if(0===$&&void 0!==r.description&&"string"!=typeof r.description)return cu.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return cu.errors=null,!0}cu.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Vw=Gh;function Gh(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=Gh.evaluated;return V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Gh.errors=null,!0):(Gh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Gh.evaluated={dynamicProps:!1,dynamicItems:!1};const N6=Um;function Um(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=Um.evaluated;return V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Um.errors=null,!0):(Um.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Um.evaluated={dynamicProps:!1,dynamicItems:!1};const _A=Bc,zw=new RegExp(".*","u"),hv={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},L6=new RegExp("^[^$].*$","u"),JP=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),qP=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),U6=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),EA={validate:Qo};function Qo(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Qo.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Qo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const ir=h;for(const Pn in r)if("$encryption"!==Pn&&"$actions"!==Pn&&"$role"!==Pn&&"$size"!==Pn&&"$tags"!==Pn&&!L6.test(Pn))return Qo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"}],!1;if(ir===h){if(void 0!==r.$encryption){let Pn=r.$encryption;const Hn=h;if(h===Hn){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return Qo.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ln;if(void 0===Pn.rootKeyId&&(ln="rootKeyId")||void 0===Pn.publicKeyJwk&&(ln="publicKeyJwk"))return Qo.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:ln},message:"must have required property '"+ln+"'"}],!1;{const vn=h;for(const wn in Pn)if("rootKeyId"!==wn&&"publicKeyJwk"!==wn)return Qo.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wn},message:"must NOT have additional properties"}],!1;if(vn===h){if(void 0!==Pn.rootKeyId){const wn=h;if("string"!=typeof Pn.rootKeyId)return Qo.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=wn===h}else $=!0;if($)if(void 0!==Pn.publicKeyJwk){const wn=h;qo(Pn.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:Pn,parentDataProperty:"publicKeyJwk",rootData:l,dynamicAnchors:p})||(c=null===c?qo.errors:c.concat(qo.errors),h=c.length),$=wn===h}else $=!0}}}}var I=Hn===h}else I=!0;if(I){if(void 0!==r.$actions){let Pn=r.$actions;const Hn=h;if(h===Hn){if(!Array.isArray(Pn))return Qo.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Pn.length<1)return Qo.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const vn=Pn.length;for(let wn=0;wn<vn;wn++){let Un=Pn[wn];const Sn=h;if(!Un||"object"!=typeof Un||Array.isArray(Un))return Qo.errors=[{instancePath:t+"/$actions/"+wn,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const Vn=h;let lr=!1,cr=null;const mn=h;if(Un&&"object"==typeof Un&&!Array.isArray(Un)){let Zn;if(void 0===Un.who&&(Zn="who")||void 0===Un.can&&(Zn="can")){const On={instancePath:t+"/$actions/"+wn,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===c?c=[On]:c.push(On),h++}else{const On=h;for(const qn in Un)if("who"!==qn&&"of"!==qn&&"can"!==qn){const mr={instancePath:t+"/$actions/"+wn,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"};null===c?c=[mr]:c.push(mr),h++;break}if(On===h){if(void 0!==Un.who){let qn=Un.who;const mr=h;if("string"!=typeof qn){const Rr={instancePath:t+"/$actions/"+wn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Rr]:c.push(Rr),h++}if("anyone"!==qn&&"author"!==qn&&"recipient"!==qn){const Rr={instancePath:t+"/$actions/"+wn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:hv.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===c?c=[Rr]:c.push(Rr),h++}var ke=mr===h}else ke=!0;if(ke){if(void 0!==Un.of){const qn=h;if("string"!=typeof Un.of){const Rr={instancePath:t+"/$actions/"+wn+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Rr]:c.push(Rr),h++}ke=qn===h}else ke=!0;if(ke)if(void 0!==Un.can){let qn=Un.can;const mr=h;if(h===mr)if(Array.isArray(qn))if(qn.length<1){const Nr={instancePath:t+"/$actions/"+wn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[Nr]:c.push(Nr),h++}else{const Nr=qn.length;for(let Sr=0;Sr<Nr;Sr++){let Tr=qn[Sr];const fi=h;if("string"!=typeof Tr){const yr={instancePath:t+"/$actions/"+wn+"/can/"+Sr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}if("co-delete"!==Tr&&"co-prune"!==Tr&&"co-update"!==Tr&&"create"!==Tr&&"delete"!==Tr&&"prune"!==Tr&&"read"!==Tr&&"update"!==Tr){const yr={instancePath:t+"/$actions/"+wn+"/can/"+Sr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:hv.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===c?c=[yr]:c.push(yr),h++}if(fi!==h)break}}else{const Nr={instancePath:t+"/$actions/"+wn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[Nr]:c.push(Nr),h++}ke=mr===h}else ke=!0}}}}if(mn===h){lr=!0,cr=0;var Pe=!0}const dr=h;if(Un&&"object"==typeof Un&&!Array.isArray(Un)){let Zn;if(void 0===Un.role&&(Zn="role")||void 0===Un.can&&(Zn="can")){const On={instancePath:t+"/$actions/"+wn,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===c?c=[On]:c.push(On),h++}else{if(void 0!==Un.role){const On=h;if("string"!=typeof Un.role){const qn={instancePath:t+"/$actions/"+wn+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[qn]:c.push(qn),h++}var Ke=On===h}else Ke=!0;if(Ke)if(void 0!==Un.can){let On=Un.can;const qn=h;if(h===qn)if(Array.isArray(On))if(On.length<1){const Rr={instancePath:t+"/$actions/"+wn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[Rr]:c.push(Rr),h++}else{const Rr=On.length;for(let Nr=0;Nr<Rr;Nr++){let Sr=On[Nr];const Tr=h;if("string"!=typeof Sr){const Zs={instancePath:t+"/$actions/"+wn+"/can/"+Nr,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Zs]:c.push(Zs),h++}if("co-delete"!==Sr&&"co-update"!==Sr&&"create"!==Sr&&"delete"!==Sr&&"query"!==Sr&&"subscribe"!==Sr&&"read"!==Sr&&"update"!==Sr){const Zs={instancePath:t+"/$actions/"+wn+"/can/"+Nr,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:hv.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===c?c=[Zs]:c.push(Zs),h++}if(Tr!==h)break}}else{const Rr={instancePath:t+"/$actions/"+wn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[Rr]:c.push(Rr),h++}Ke=qn===h}else Ke=!0}}var ht;if((ht=dr===h)&&lr?(lr=!1,cr=[cr,1]):ht&&(lr=!0,cr=1,!0!==Pe&&((Pe=Pe||{}).role=!0,Pe.can=!0)),!lr){const Zn={instancePath:t+"/$actions/"+wn,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:cr},message:"must match exactly one schema in oneOf"};return null===c?c=[Zn]:c.push(Zn),h++,Qo.errors=c,!1}if(h=Vn,null!==c&&(Vn?c.length=Vn:c=null),Sn!==h)break}}}I=Hn===h}else I=!0;if(I){if(void 0!==r.$role){const Pn=h;if("boolean"!=typeof r.$role)return Qo.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;I=Pn===h}else I=!0;if(I){if(void 0!==r.$size){let Pn=r.$size;const Hn=h;if(h===Hn){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return Qo.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const vn=h;for(const wn in Pn)if("min"!==wn&&"max"!==wn)return Qo.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wn},message:"must NOT have additional properties"}],!1;if(vn===h){if(void 0!==Pn.min){let wn=Pn.min;const Un=h;if(h===Un){if("number"!=typeof wn||!isFinite(wn))return Qo.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(wn<0||isNaN(wn))return Qo.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var ct=Un===h}else ct=!0;if(ct)if(void 0!==Pn.max){let wn=Pn.max;const Un=h;if(h===Un){if("number"!=typeof wn||!isFinite(wn))return Qo.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(wn<0||isNaN(wn))return Qo.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}ct=Un===h}else ct=!0}}}I=Hn===h}else I=!0;if(I){if(void 0!==r.$tags){let Pn=r.$tags;const Hn=h;if(h===Hn){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return Qo.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Pn).length<1)return Qo.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==Pn.$requiredTags){let vn=Pn.$requiredTags;const wn=h;if(h===wn){if(!Array.isArray(vn))return Qo.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Un=vn.length;for(let Sn=0;Sn<Un;Sn++){const Vn=h;if("string"!=typeof vn[Sn])return Qo.errors=[{instancePath:t+"/$tags/$requiredTags/"+Sn,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Vn!==h)break}}}var At=wn===h}else At=!0;if(At){if(void 0!==Pn.$allowUndefinedTags){const vn=h;if("boolean"!=typeof Pn.$allowUndefinedTags)return Qo.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;At=vn===h}else At=!0;if(At){var Pt={$requiredTags:!0,$allowUndefinedTags:!0};for(const vn in Pn)if(JP.test(vn)){let wn=Pn[vn];if(h==h){if(!wn||"object"!=typeof wn||Array.isArray(wn))return Qo.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Sn=h;for(const Vn in wn)if("type"!==Vn&&"items"!==Vn&&"contains"!==Vn&&!qP.test(Vn))return Qo.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Vn},message:"must NOT have additional properties"}],!1;if(Sn===h){if(void 0!==wn.type){let Vn=wn.type;const lr=h;if("string"!==Vn&&"number"!==Vn&&"integer"!==Vn&&"boolean"!==Vn&&"array"!==Vn)return Qo.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:hv.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Ct=lr===h}else Ct=!0;if(Ct){if(void 0!==wn.items){let Vn=wn.items;const lr=h;if(h===lr){if(!Vn||"object"!=typeof Vn||Array.isArray(Vn))return Qo.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Vn.type){let mn=Vn.type;const dr=h;if("string"!==mn&&"number"!==mn&&"integer"!==mn)return Qo.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:hv.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var zt=dr===h}else zt=!0;if(zt){var Zt={type:!0};for(const mn in Vn)U6.test(mn)&&(Zt[mn]=!0)}}Ct=lr===h}else Ct=!0;if(Ct)if(void 0!==wn.contains){let Vn=wn.contains;const lr=h;if(h===lr){if(!Vn||"object"!=typeof Vn||Array.isArray(Vn))return Qo.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Vn.type){let mn=Vn.type;const dr=h;if("string"!==mn&&"number"!==mn&&"integer"!==mn)return Qo.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:hv.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var xn=dr===h}else xn=!0;if(xn){var Cn={type:!0};for(const mn in Vn)U6.test(mn)&&(Cn[mn]=!0)}}Ct=lr===h}else Ct=!0}}}}Pt[vn]=!0}}}}I=Hn===h}else I=!0;if(I)for(const Pn in r)if(L6.test(Pn)){const Hn=h;if(EA.validate(r[Pn],{instancePath:t+"/"+Pn.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:Pn,rootData:l,dynamicAnchors:p})||(c=null===c?EA.validate.errors:c.concat(EA.validate.errors),h=c.length),Hn!==h)break}}}}}}}}return Qo.errors=c,0===h}function Bc(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Bc.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Bc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pe;if(void 0===r.protocol&&(Pe="protocol")||void 0===r.published&&(Pe="published")||void 0===r.types&&(Pe="types")||void 0===r.structure&&(Pe="structure"))return Bc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Pe},message:"must have required property '"+Pe+"'"}],!1;{const Ke=h;for(const rt in r)if("protocol"!==rt&&"published"!==rt&&"types"!==rt&&"structure"!==rt)return Bc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(Ke===h){if(void 0!==r.protocol){const rt=h;if("string"!=typeof r.protocol)return Bc.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=rt===h}else $=!0;if($){if(void 0!==r.published){const rt=h;if("boolean"!=typeof r.published)return Bc.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$=rt===h}else $=!0;if($){if(void 0!==r.types){let rt=r.types;const ht=h;if(h===ht){if(!rt||"object"!=typeof rt||Array.isArray(rt))return Bc.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var I={};for(const dt in rt)if(zw.test(dt)){let At=rt[dt];if(h==h){if(!At||"object"!=typeof At||Array.isArray(At))return Bc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ct=h;for(const zt in At)if("schema"!==zt&&"dataFormats"!==zt)return Bc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:zt},message:"must NOT have additional properties"}],!1;if(Ct===h){if(void 0!==At.schema){const zt=h;if("string"!=typeof At.schema)return Bc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var q=zt===h}else q=!0;if(q)if(void 0!==At.dataFormats){let zt=At.dataFormats;const Zt=h;if(h===Zt){if(!Array.isArray(zt))return Bc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(zt.length<1)return Bc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Cn=zt.length;for(let Nn=0;Nn<Cn;Nn++){const ir=h;if("string"!=typeof zt[Nn])return Bc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+Nn,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(ir!==h)break}}}q=Zt===h}else q=!0}}}I[dt]=!0}}$=ht===h}else $=!0;if($)if(void 0!==r.structure){let rt=r.structure;const ht=h;if(h===ht){if(!rt||"object"!=typeof rt||Array.isArray(rt))return Bc.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Ne={};for(const dt in rt)zw.test(dt)&&(Qo(rt[dt],{instancePath:t+"/structure/"+dt.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:rt,parentDataProperty:dt,rootData:l,dynamicAnchors:p})||(c=null===c?Qo.errors:c.concat(Qo.errors),h=c.length),Ne[dt]=!0)}$=ht===h}else $=!0}}}}}}return Bc.errors=c,0===h}Qo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Bc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const QP=Qo,e4=pd,F6={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function pd(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=pd.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return pd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.authorization&&(q="authorization")||void 0===r.descriptor&&(q="descriptor"))return pd.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const ke=h;for(const Ne in r)if("authorization"!==Ne&&"descriptor"!==Ne)return pd.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ne},message:"must NOT have additional properties"}],!1;if(ke===h){if(void 0!==r.authorization){const Ne=h;zs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?zs.errors:c.concat(zs.errors),h=c.length);var $=Ne===h}else $=!0;if($)if(void 0!==r.descriptor){let Ne=r.descriptor;const Pe=h;if(h===Pe){if(!Ne||"object"!=typeof Ne||Array.isArray(Ne))return pd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Ne.interface&&(rt="interface")||void 0===Ne.method&&(rt="method")||void 0===Ne.messageTimestamp&&(rt="messageTimestamp")||void 0===Ne.definition&&(rt="definition"))return pd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const ht=h;for(const ct in Ne)if("interface"!==ct&&"method"!==ct&&"messageTimestamp"!==ct&&"definition"!==ct)return pd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(ht===h){if(void 0!==Ne.interface){let ct=Ne.interface;const dt=h;if("string"!=typeof ct)return pd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==ct)return pd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:F6.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=dt===h}else I=!0;if(I){if(void 0!==Ne.method){let ct=Ne.method;const dt=h;if("string"!=typeof ct)return pd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==ct)return pd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:F6.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=dt===h}else I=!0;if(I){if(void 0!==Ne.messageTimestamp){let ct=Ne.messageTimestamp;const dt=h;if(h==h){if("string"!=typeof ct)return pd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(ct))return pd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=dt===h}else I=!0;if(I)if(void 0!==Ne.definition){const ct=h;Bc(Ne.definition,{instancePath:t+"/descriptor/definition",parentData:Ne,parentDataProperty:"definition",rootData:l,dynamicAnchors:p})||(c=null===c?Bc.errors:c.concat(Bc.errors),h=c.length),I=ct===h}else I=!0}}}}}}$=Pe===h}else $=!0}}}}return pd.errors=c,0===h}pd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const xA=cc,GE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function cc(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=cc.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return cc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ke;if(void 0===r.descriptor&&(ke="descriptor"))return cc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ke},message:"must have required property '"+ke+"'"}],!1;{const Ne=h;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return cc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Ne===h){if(void 0!==r.authorization){const Pe=h;zs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?zs.errors:c.concat(zs.errors),h=c.length);var $=Pe===h}else $=!0;if($)if(void 0!==r.descriptor){let Pe=r.descriptor;const Ke=h;if(h===Ke){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return cc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ht;if(void 0===Pe.interface&&(ht="interface")||void 0===Pe.method&&(ht="method")||void 0===Pe.messageTimestamp&&(ht="messageTimestamp"))return cc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ht},message:"must have required property '"+ht+"'"}],!1;{const ct=h;for(const dt in Pe)if("interface"!==dt&&"method"!==dt&&"messageTimestamp"!==dt&&"filter"!==dt)return cc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dt},message:"must NOT have additional properties"}],!1;if(ct===h){if(void 0!==Pe.interface){let dt=Pe.interface;const At=h;if("string"!=typeof dt)return cc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==dt)return cc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:GE.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=At===h}else I=!0;if(I){if(void 0!==Pe.method){let dt=Pe.method;const At=h;if("string"!=typeof dt)return cc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==dt)return cc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:GE.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=At===h}else I=!0;if(I){if(void 0!==Pe.messageTimestamp){let dt=Pe.messageTimestamp;const At=h;if(h==h){if("string"!=typeof dt)return cc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(dt))return cc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=At===h}else I=!0;if(I)if(void 0!==Pe.filter){let dt=Pe.filter;const At=h;if(h===At){if(!dt||"object"!=typeof dt||Array.isArray(dt))return cc.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(dt).length<1)return cc.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ct=h;for(const zt in dt)if("protocol"!==zt&&"recipient"!==zt)return cc.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:zt},message:"must NOT have additional properties"}],!1;if(Ct===h){if(void 0!==dt.protocol){const zt=h;if("string"!=typeof dt.protocol)return cc.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var q=zt===h}else q=!0;if(q)if(void 0!==dt.recipient){let zt=dt.recipient;const Zt=h;if(h==h){if("string"!=typeof zt)return cc.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(zt))return cc.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}q=Zt===h}else q=!0}}}I=At===h}else I=!0}}}}}}$=Ke===h}else $=!0}}}}return cc.errors=c,0===h}cc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const t4=md,j6={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function md(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=md.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return md.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.descriptor&&(q="descriptor"))return md.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const ke=h;for(const Ne in r)if("authorization"!==Ne&&"descriptor"!==Ne)return md.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ne},message:"must NOT have additional properties"}],!1;if(ke===h){if(void 0!==r.authorization){const Ne=h;el(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?el.errors:c.concat(el.errors),h=c.length);var $=Ne===h}else $=!0;if($)if(void 0!==r.descriptor){let Ne=r.descriptor;const Pe=h;if(h===Pe){if(!Ne||"object"!=typeof Ne||Array.isArray(Ne))return md.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Ne.interface&&(rt="interface")||void 0===Ne.method&&(rt="method")||void 0===Ne.messageTimestamp&&(rt="messageTimestamp")||void 0===Ne.filter&&(rt="filter"))return md.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const ht=h;for(const ct in Ne)if("interface"!==ct&&"method"!==ct&&"messageTimestamp"!==ct&&"filter"!==ct)return md.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(ht===h){if(void 0!==Ne.interface){let ct=Ne.interface;const dt=h;if("string"!=typeof ct)return md.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==ct)return md.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:j6.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=dt===h}else I=!0;if(I){if(void 0!==Ne.method){let ct=Ne.method;const dt=h;if("string"!=typeof ct)return md.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==ct)return md.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:j6.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=dt===h}else I=!0;if(I){if(void 0!==Ne.messageTimestamp){let ct=Ne.messageTimestamp;const dt=h;if(h==h){if("string"!=typeof ct)return md.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(ct))return md.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=dt===h}else I=!0;if(I)if(void 0!==Ne.filter){const ct=h;li(Ne.filter,{instancePath:t+"/descriptor/filter",parentData:Ne,parentDataProperty:"filter",rootData:l,dynamicAnchors:p})||(c=null===c?li.errors:c.concat(li.errors),h=c.length),I=ct===h}else I=!0}}}}}}$=Pe===h}else $=!0}}}}return md.errors=c,0===h}md.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $6=li,SA=qo,XE=kf;function kf(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=kf.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return kf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.descriptorCid&&(I="descriptorCid"))return kf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=0;for(const ke in r)if("descriptorCid"!==ke&&"delegatedGrantId"!==ke&&"permissionGrantId"!==ke&&"protocolRole"!==ke)return kf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ke},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.descriptorCid){const ke=0;if("string"!=typeof r.descriptorCid)return kf.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=0===ke}else $=!0;if($){if(void 0!==r.delegatedGrantId){const ke=0;if("string"!=typeof r.delegatedGrantId)return kf.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0;if($){if(void 0!==r.permissionGrantId){const ke=0;if("string"!=typeof r.permissionGrantId)return kf.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0;if($)if(void 0!==r.protocolRole){const ke=0;if("string"!=typeof r.protocolRole)return kf.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0}}}}}return kf.errors=null,!0}kf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const V6=$l;function $l(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=$l.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return $l.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.descriptorCid&&(I="descriptorCid")||void 0===r.recordId&&(I="recordId"))return $l.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=0;for(const ke in r)if("descriptorCid"!==ke&&"recordId"!==ke&&"contextId"!==ke&&"attestationCid"!==ke&&"encryptionCid"!==ke&&"delegatedGrantId"!==ke&&"permissionGrantId"!==ke&&"protocolRole"!==ke)return $l.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ke},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.descriptorCid){const ke=0;if("string"!=typeof r.descriptorCid)return $l.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=0===ke}else $=!0;if($){if(void 0!==r.recordId){const ke=0;if("string"!=typeof r.recordId)return $l.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0;if($){if(void 0!==r.contextId){const ke=0;if("string"!=typeof r.contextId)return $l.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0;if($){if(void 0!==r.attestationCid){const ke=0;if("string"!=typeof r.attestationCid)return $l.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0;if($){if(void 0!==r.encryptionCid){const ke=0;if("string"!=typeof r.encryptionCid)return $l.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0;if($){if(void 0!==r.delegatedGrantId){const ke=0;if("string"!=typeof r.delegatedGrantId)return $l.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0;if($){if(void 0!==r.permissionGrantId){const ke=0;if("string"!=typeof r.permissionGrantId)return $l.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0;if($)if(void 0!==r.protocolRole){const ke=0;if("string"!=typeof r.protocolRole)return $l.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===ke}else $=!0}}}}}}}}}return $l.errors=null,!0}$l.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const H6=_l;function _l(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=_l.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return _l.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return _l.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ke=h;for(const rt in r)if("gt"!==rt&&"gte"!==rt&&"lt"!==rt&&"lte"!==rt)return _l.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(Ke===h){if(void 0!==r.gt){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let dt;if(void 0===r.gte&&(dt="gte")){const At={};null===c?c=[At]:c.push(At),h++}}if(ct===h)return _l.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null);var I=rt===h}else I=!0;if(I){if(void 0!==r.gte){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.gt&&(At="gt")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return _l.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.lt){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.lte&&(At="lte")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return _l.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.lte){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.lt&&(At="lt")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return _l.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.gt){const rt=h;if("string"!=typeof r.gt)return _l.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Pe=rt===h}else Pe=!0;if(Pe){if(void 0!==r.gte){const rt=h;if("string"!=typeof r.gte)return _l.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=rt===h}else Pe=!0;if(Pe){if(void 0!==r.lt){const rt=h;if("string"!=typeof r.lt)return _l.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=rt===h}else Pe=!0;if(Pe)if(void 0!==r.lte){const rt=h;if("string"!=typeof r.lte)return _l.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=rt===h}else Pe=!0}}}}}}}}}return _l.errors=c,0===h}function yy(r,t){const n=te[r];if(!n)throw new ce(_e.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[i]=n.errors;let{instancePath:l,message:p,keyword:c}=i;if(l||(l=r),"additionalProperties"===c)throw new ce(_e.SchemaValidatorAdditionalPropertyNotAllowed,`${p}: ${l}: ${i.params.additionalProperty}`);if("unevaluatedProperties"===c)throw new ce(_e.SchemaValidatorUnevaluatedPropertyNotAllowed,`${p}: ${l}: ${i.params.unevaluatedProperty}`);throw new ce(_e.SchemaValidatorFailure,`${l}: ${p}`)}_l.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var Nu=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Lu{constructor(t){this.cache=t||new Fi(600)}static get singleton(){return void 0===Lu._singleton&&(Lu._singleton=new Lu),Lu._singleton}static verifySignatures(t,n){return Nu(this,void 0,void 0,function*(){return yield Lu.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return Nu(this,void 0,void 0,function*(){const i=[];for(const l of t.signatures){let p;const c=kr.getKid(l),h=`${l.protected}.${t.payload}.${l.signature}`,V=yield this.cache.get(h);if(void 0===V){const I=yield Lu.getPublicKey(c,n);p=yield kr.verifySignature(t.payload,l,I),yield this.cache.set(h,p)}else p=V;const $=kr.extractDid(c);if(!p)throw new ce(_e.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${$}`);i.push($)}return{signers:i}})}static getPublicKey(t,n){return Nu(this,void 0,void 0,function*(){const i=kr.extractDid(t),{didDocument:l}=yield n.resolve(i),{verificationMethod:p=[]}=l||{};let c;for(const V of p)if(t.endsWith(V.id)){c=V;break}if(!c)throw new ce(_e.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");yy("JwkVerificationMethod",c);const{publicKeyJwk:h}=c;return h})}}const MA=["string","number","bigint","symbol"],vs=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class Pr{constructor(t,n,i){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Pr.uint=new Pr(0,"uint",!0),Pr.negint=new Pr(1,"negint",!0),Pr.bytes=new Pr(2,"bytes",!0),Pr.string=new Pr(3,"string",!0),Pr.array=new Pr(4,"array",!1),Pr.map=new Pr(5,"map",!1),Pr.tag=new Pr(6,"tag",!1),Pr.float=new Pr(7,"float",!0),Pr.false=new Pr(7,"false",!0),Pr.true=new Pr(7,"true",!0),Pr.null=new Pr(7,"null",!0),Pr.undefined=new Pr(7,"undefined",!0),Pr.break=new Pr(7,"break",!0);class Ai{constructor(t,n,i){this.type=t,this.value=n,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Uu=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,lu=new TextDecoder,W6=new TextEncoder;function gy(r){return Uu&&globalThis.Buffer.isBuffer(r)}function AA(r){return r instanceof Uint8Array?gy(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const Fu=Uu?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):yv(r,t,n):(r,t,n)=>n-t>64?lu.decode(r.subarray(t,n)):yv(r,t,n),TA=Uu?r=>r.length>64?globalThis.Buffer.from(r):uo(r):r=>r.length>64?W6.encode(r):uo(r),fh=r=>Uint8Array.from(r),Hw=Uu?(r,t,n)=>gy(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),mv=Uu?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),AA(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let i=0;for(let l of r)i+l.length>n.length&&(l=l.subarray(0,n.length-i)),n.set(l,i),i+=l.length;return n},YE=Uu?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function uo(r,t=1/0){let n;const i=r.length;let l=null;const p=[];for(let c=0;c<i;++c){if(n=r.charCodeAt(c),n>55295&&n<57344){if(!l){if(n>56319){(t-=3)>-1&&p.push(239,191,189);continue}if(c+1===i){(t-=3)>-1&&p.push(239,191,189);continue}l=n;continue}if(n<56320){(t-=3)>-1&&p.push(239,191,189),l=n;continue}n=65536+(l-55296<<10|n-56320)}else l&&(t-=3)>-1&&p.push(239,191,189);if(l=null,n<128){if((t-=1)<0)break;p.push(n)}else if(n<2048){if((t-=2)<0)break;p.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;p.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;p.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return p}function yv(r,t,n){const i=[];for(;t<n;){const l=r[t];let p=null,c=l>239?4:l>223?3:l>191?2:1;if(t+c<=n){let h,V,$,I;switch(c){case 1:l<128&&(p=l);break;case 2:h=r[t+1],128==(192&h)&&(I=(31&l)<<6|63&h,I>127&&(p=I));break;case 3:h=r[t+1],V=r[t+2],128==(192&h)&&128==(192&V)&&(I=(15&l)<<12|(63&h)<<6|63&V,I>2047&&(I<55296||I>57343)&&(p=I));break;case 4:h=r[t+1],V=r[t+2],$=r[t+3],128==(192&h)&&128==(192&V)&&128==(192&$)&&(I=(15&l)<<18|(63&h)<<12|(63&V)<<6|63&$,I>65535&&I<1114112&&(p=I))}}null===p?(p=65533,c=1):p>65535&&(p-=65536,i.push(p>>>10&1023|55296),p=56320|1023&p),i.push(p),t+=c}return function IA(r){const t=r.length;if(t<=Ww)return String.fromCharCode.apply(String,r);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,r.slice(i,i+=Ww));return n}(i)}const Ww=4096;class CA{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const l=n.length-(this.maxCursor-this.cursor)-1;l<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,l),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=YE(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const i=this.chunks[0];t&&this.cursor>i.length/2?(n=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=Hw(i,0,this.cursor)}else n=mv(this.chunks,this.cursor);return t&&this.reset(),n}}const es="CBOR decode error:",kA="CBOR encode error:",vy=[];function ju(r,t,n){if(r.length-t<n)throw new Error(`${es} not enough data for type`)}vy[23]=1,vy[24]=2,vy[25]=3,vy[26]=5,vy[27]=9;const El=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Fm(r,t,n){ju(r,t,1);const i=r[t];if(!0===n.strict&&i<El[0])throw new Error(`${es} integer encoded in more bytes than necessary (strict decode)`);return i}function jm(r,t,n){ju(r,t,2);const i=r[t]<<8|r[t+1];if(!0===n.strict&&i<El[1])throw new Error(`${es} integer encoded in more bytes than necessary (strict decode)`);return i}function $m(r,t,n){ju(r,t,4);const i=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&i<El[2])throw new Error(`${es} integer encoded in more bytes than necessary (strict decode)`);return i}function Km(r,t,n){ju(r,t,8);const l=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],p=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(l);if(!0===n.strict&&p<El[3])throw new Error(`${es} integer encoded in more bytes than necessary (strict decode)`);if(p<=Number.MAX_SAFE_INTEGER)return Number(p);if(!0===n.allowBigInt)return p;throw new Error(`${es} integers outside of the safe integer range are not supported`)}function as(r,t){return du(r,0,t.value)}function du(r,t,n){if(n<El[0]){const i=Number(n);r.push([t|i])}else if(n<El[1]){const i=Number(n);r.push([24|t,i])}else if(n<El[2]){const i=Number(n);r.push([25|t,i>>>8,255&i])}else if(n<El[3]){const i=Number(n);r.push([26|t,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(n);if(!(i<El[4]))throw new Error(`${es} encountered BigInt larger than allowable range`);{const l=[27|t,0,0,0,0,0,0,0];let p=Number(i&BigInt(4294967295)),c=Number(i>>BigInt(32)&BigInt(4294967295));l[8]=255&p,p>>=8,l[7]=255&p,p>>=8,l[6]=255&p,p>>=8,l[5]=255&p,l[4]=255&c,c>>=8,l[3]=255&c,c>>=8,l[2]=255&c,c>>=8,l[1]=255&c,r.push(l)}}}as.encodedSize=function(t){return du.encodedSize(t.value)},du.encodedSize=function(t){return t<El[0]?1:t<El[1]?2:t<El[2]?3:t<El[3]?5:9},as.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const vv=BigInt(-1),e2=BigInt(1);function PA(r,t){const n=t.value;du(r,t.type.majorEncoded,"bigint"==typeof n?n*vv-e2:-1*n-1)}function by(r,t,n,i){ju(r,t,n+i);const l=Hw(r,t+n,t+n+i);return new Ai(Pr.bytes,l,n+i)}function BA(r,t,n,i){return by(r,t,1,n)}function jd(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===Pr.string?TA(r.value):r.value),r.encodedBytes}function $u(r,t){const n=jd(t);du(r,t.type.majorEncoded,n.length),r.push(n)}function wy(r,t,n,i,l){const p=n+i;ju(r,t,p);const c=new Ai(Pr.string,Fu(r,t+n,t+p),p);return!0===l.retainStringBytes&&(c.byteValue=Hw(r,t+n,t+p)),c}function X6(r,t,n,i){return wy(r,t,1,n,i)}PA.encodedSize=function(t){const n=t.value,i="bigint"==typeof n?n*vv-e2:-1*n-1;return i<El[0]?1:i<El[1]?2:i<El[2]?3:i<El[3]?5:9},PA.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},$u.encodedSize=function(t){const n=jd(t);return du.encodedSize(n.length)+n.length},$u.compareTokens=function(t,n){return function G6(r,t){return r.length<t.length?-1:r.length>t.length?1:function Xh(r,t){if(gy(r)&&gy(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(jd(t),jd(n))};const Gw=$u;function _y(r,t,n,i){return new Ai(Pr.array,i,n)}function UA(r,t,n,i){return _y(0,0,1,n)}function bv(r,t){du(r,Pr.array.majorEncoded,t.value)}function Ey(r,t,n,i){return new Ai(Pr.map,i,n)}function xl(r,t,n,i){return Ey(0,0,1,n)}function s2(r,t){du(r,Pr.map.majorEncoded,t.value)}function HA(r,t,n,i){return new Ai(Pr.tag,n,1)}function xy(r,t){du(r,Pr.tag.majorEncoded,t.value)}bv.compareTokens=as.compareTokens,bv.encodedSize=function(t){return du.encodedSize(t.value)},s2.compareTokens=as.compareTokens,s2.encodedSize=function(t){return du.encodedSize(t.value)},xy.compareTokens=as.compareTokens,xy.encodedSize=function(t){return du.encodedSize(t.value)};function $p(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${es} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${es} Infinity values are not supported`)}return new Ai(Pr.float,r,t)}function Yw(r,t,n){const i=t.value;if(!1===i)r.push([20|Pr.float.majorEncoded]);else if(!0===i)r.push([21|Pr.float.majorEncoded]);else if(null===i)r.push([22|Pr.float.majorEncoded]);else if(void 0===i)r.push([23|Pr.float.majorEncoded]);else{let l,p=!1;(!n||!0!==n.float64)&&(e5(i),l=Ev(ph,1),i===l||Number.isNaN(i)?(ph[0]=249,r.push(ph.slice(0,3)),p=!0):(Kp(i),l=xv(ph,1),i===l&&(ph[0]=250,r.push(ph.slice(0,5)),p=!0))),p||(function Sv(r){Ku.setFloat64(0,r,!1)}(i),l=YA(ph,1),ph[0]=251,r.push(ph.slice(0,9)))}}Yw.encodedSize=function(t,n){const i=t.value;if(!1===i||!0===i||null==i)return 1;if(!n||!0!==n.float64){e5(i);let l=Ev(ph,1);if(i===l||Number.isNaN(i))return 3;if(Kp(i),l=xv(ph,1),i===l)return 5}return 9};const ZA=new ArrayBuffer(9),Ku=new DataView(ZA,1),ph=new Uint8Array(ZA,0);function e5(r){if(r===1/0)Ku.setUint16(0,31744,!1);else if(r===-1/0)Ku.setUint16(0,64512,!1);else if(Number.isNaN(r))Ku.setUint16(0,32256,!1);else{Ku.setFloat32(0,r);const t=Ku.getUint32(0),n=(2139095040&t)>>23,i=8388607&t;if(255===n)Ku.setUint16(0,31744,!1);else if(0===n)Ku.setUint16(0,(2147483648&r)>>16|i>>13,!1);else{const l=n-127;l<-24?Ku.setUint16(0,0):Ku.setUint16(0,l<-14?(2147483648&t)>>16|1<<24+l:(2147483648&t)>>16|l+15<<10|i>>13,!1)}}}function Ev(r,t){if(r.length-t<2)throw new Error(`${es} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const i=n>>10&31,l=1023&n;let p;return p=0===i?l*2**-24:31!==i?(l+1024)*2**(i-25):0===l?1/0:NaN,32768&n?-p:p}function Kp(r){Ku.setFloat32(0,r,!1)}function xv(r,t){if(r.length-t<4)throw new Error(`${es} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function YA(r,t){if(r.length-t<8)throw new Error(`${es} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function ts(r,t,n){throw new Error(`${es} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function Jw(r){return()=>{throw new Error(`${es} ${r}`)}}Yw.compareTokens=as.compareTokens;const ti=[];for(let r=0;r<=23;r++)ti[r]=ts;ti[24]=function vr(r,t,n,i){return new Ai(Pr.uint,Fm(r,t+1,i),2)},ti[25]=function Uo(r,t,n,i){return new Ai(Pr.uint,jm(r,t+1,i),3)},ti[26]=function RA(r,t,n,i){return new Ai(Pr.uint,$m(r,t+1,i),5)},ti[27]=function OA(r,t,n,i){return new Ai(Pr.uint,Km(r,t+1,i),9)},ti[28]=ts,ti[29]=ts,ti[30]=ts,ti[31]=ts;for(let r=32;r<=55;r++)ti[r]=ts;ti[56]=function gv(r,t,n,i){return new Ai(Pr.negint,-1-Fm(r,t+1,i),2)},ti[57]=function Rf(r,t,n,i){return new Ai(Pr.negint,-1-jm(r,t+1,i),3)},ti[58]=function QE(r,t,n,i){return new Ai(Pr.negint,-1-$m(r,t+1,i),5)},ti[59]=function r4(r,t,n,i){const l=Km(r,t+1,i);if("bigint"!=typeof l){const p=-1-l;if(p>=Number.MIN_SAFE_INTEGER)return new Ai(Pr.negint,p,9)}if(!0!==i.allowBigInt)throw new Error(`${es} integers outside of the safe integer range are not supported`);return new Ai(Pr.negint,vv-BigInt(l),9)},ti[60]=ts,ti[61]=ts,ti[62]=ts,ti[63]=ts;for(let r=64;r<=87;r++)ti[r]=BA;ti[88]=function NA(r,t,n,i){return by(r,t,2,Fm(r,t+1,i))},ti[89]=function gd(r,t,n,i){return by(r,t,3,jm(r,t+1,i))},ti[90]=function Zh(r,t,n,i){return by(r,t,5,$m(r,t+1,i))},ti[91]=function LA(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${es} 64-bit integer bytes lengths not supported`);return by(r,t,9,l)},ti[92]=ts,ti[93]=ts,ti[94]=ts,ti[95]=Jw("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)ti[r]=X6;ti[120]=function Z6(r,t,n,i){return wy(r,t,2,Fm(r,t+1,i),i)},ti[121]=function t2(r,t,n,i){return wy(r,t,3,jm(r,t+1,i),i)},ti[122]=function n2(r,t,n,i){return wy(r,t,5,$m(r,t+1,i),i)},ti[123]=function r2(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${es} 64-bit integer string lengths not supported`);return wy(r,t,9,l,i)},ti[124]=ts,ti[125]=ts,ti[126]=ts,ti[127]=Jw("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)ti[r]=UA;ti[152]=function o2(r,t,n,i){return _y(0,0,2,Fm(r,t+1,i))},ti[153]=function FA(r,t,n,i){return _y(0,0,3,jm(r,t+1,i))},ti[154]=function jA(r,t,n,i){return _y(0,0,5,$m(r,t+1,i))},ti[155]=function $A(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${es} 64-bit integer array lengths not supported`);return _y(0,0,9,l)},ti[156]=ts,ti[157]=ts,ti[158]=ts,ti[159]=function KA(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${es} indefinite length items not allowed`);return _y(0,0,1,1/0)};for(let r=160;r<=183;r++)ti[r]=xl;ti[184]=function Vm(r,t,n,i){return Ey(0,0,2,Fm(r,t+1,i))},ti[185]=function ha(r,t,n,i){return Ey(0,0,3,jm(r,t+1,i))},ti[186]=function VA(r,t,n,i){return Ey(0,0,5,$m(r,t+1,i))},ti[187]=function Y6(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${es} 64-bit integer map lengths not supported`);return Ey(0,0,9,l)},ti[188]=ts,ti[189]=ts,ti[190]=ts,ti[191]=function zA(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${es} indefinite length items not allowed`);return Ey(0,0,1,1/0)};for(let r=192;r<=215;r++)ti[r]=HA;ti[216]=function WA(r,t,n,i){return new Ai(Pr.tag,Fm(r,t+1,i),2)},ti[217]=function wv(r,t,n,i){return new Ai(Pr.tag,jm(r,t+1,i),3)},ti[218]=function hh(r,t,n,i){return new Ai(Pr.tag,$m(r,t+1,i),5)},ti[219]=function J6(r,t,n,i){return new Ai(Pr.tag,Km(r,t+1,i),9)},ti[220]=ts,ti[221]=ts,ti[222]=ts,ti[223]=ts;for(let r=224;r<=243;r++)ti[r]=Jw("simple values are not supported");ti[244]=ts,ti[245]=ts,ti[246]=ts,ti[247]=function XA(r,t,n,i){if(!1===i.allowUndefined)throw new Error(`${es} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new Ai(Pr.null,null,1):new Ai(Pr.undefined,void 0,1)},ti[248]=Jw("simple values are not supported"),ti[249]=function _v(r,t,n,i){return $p(Ev(r,t+1),3,i)},ti[250]=function Q6(r,t,n,i){return $p(xv(r,t+1),5,i)},ti[251]=function c2(r,t,n,i){return $p(YA(r,t+1),9,i)},ti[252]=ts,ti[253]=ts,ti[254]=ts,ti[255]=function q6(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${es} indefinite length items not allowed`);return new Ai(Pr.break,void 0,1)};const uu=[];for(let r=0;r<24;r++)uu[r]=new Ai(Pr.uint,r,1);for(let r=-1;r>=-24;r--)uu[31-r]=new Ai(Pr.negint,r,1);uu[64]=new Ai(Pr.bytes,new Uint8Array(0),1),uu[96]=new Ai(Pr.string,"",1),uu[128]=new Ai(Pr.array,0,1),uu[160]=new Ai(Pr.map,0,1),uu[244]=new Ai(Pr.false,!1,1),uu[245]=new Ai(Pr.true,!0,1),uu[246]=new Ai(Pr.null,null,1);const JA={float64:!1,mapSorter:function l2(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],i=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==i.type)return n.type.compare(i.type);const p=QA[n.type.major].compareTokens(n,i);return 0===p&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),p},quickEncodeToken:function i4(r){switch(r.type){case Pr.false:return fh([244]);case Pr.true:return fh([245]);case Pr.null:return fh([246]);case Pr.bytes:return r.value.length?void 0:fh([64]);case Pr.string:return""===r.value?fh([96]):void 0;case Pr.array:return 0===r.value?fh([128]):void 0;case Pr.map:return 0===r.value?fh([160]):void 0;case Pr.uint:return r.value<24?fh([Number(r.value)]):void 0;case Pr.negint:if(r.value>=-24)return fh([31-Number(r.value)])}}},QA=function qA(){const r=[];return r[Pr.uint.major]=as,r[Pr.negint.major]=PA,r[Pr.bytes.major]=$u,r[Pr.string.major]=Gw,r[Pr.array.major]=bv,r[Pr.map.major]=s2,r[Pr.tag.major]=xy,r[Pr.float.major]=Yw,r}(),Vu=new CA;class qw{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${kA} object contains circular references`);return new qw(n,t)}}const Of={null:new Ai(Pr.null,null),undefined:new Ai(Pr.undefined,void 0),true:new Ai(Pr.true,!0),false:new Ai(Pr.false,!1),emptyArray:new Ai(Pr.array,0),emptyMap:new Ai(Pr.map,0)},mh={number:(r,t,n,i)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new Ai(r>=0?Pr.uint:Pr.negint,r):new Ai(Pr.float,r),bigint:(r,t,n,i)=>r>=BigInt(0)?new Ai(Pr.uint,r):new Ai(Pr.negint,r),Uint8Array:(r,t,n,i)=>new Ai(Pr.bytes,r),string:(r,t,n,i)=>new Ai(Pr.string,r),boolean:(r,t,n,i)=>r?Of.true:Of.false,null:(r,t,n,i)=>Of.null,undefined:(r,t,n,i)=>Of.undefined,ArrayBuffer:(r,t,n,i)=>new Ai(Pr.bytes,new Uint8Array(r)),DataView:(r,t,n,i)=>new Ai(Pr.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,i){if(!r.length)return!0===n.addBreakTokens?[Of.emptyArray,new Ai(Pr.break)]:Of.emptyArray;i=qw.createCheck(i,r);const l=[];let p=0;for(const c of r)l[p++]=Mv(c,n,i);return n.addBreakTokens?[new Ai(Pr.array,r.length),l,new Ai(Pr.break)]:[new Ai(Pr.array,r.length),l]},Object(r,t,n,i){const l="Object"!==t,p=l?r.keys():Object.keys(r),c=l?r.size:p.length;if(!c)return!0===n.addBreakTokens?[Of.emptyMap,new Ai(Pr.break)]:Of.emptyMap;i=qw.createCheck(i,r);const h=[];let V=0;for(const $ of p)h[V++]=[Mv($,n,i),Mv(l?r.get($):r[$],n,i)];return function Qw(r,t){t.mapSorter&&r.sort(t.mapSorter)}(h,n),n.addBreakTokens?[new Ai(Pr.map,c),h,new Ai(Pr.break)]:[new Ai(Pr.map,c),h]}};mh.Map=mh.Object,mh.Buffer=mh.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))mh[`${r}Array`]=mh.DataView;function Mv(r,t={},n){const i=function ZE(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(MA.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function pv(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function yd(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(vs.includes(t))return t}(r);return n||"Object"}(r),l=t&&t.typeEncoders&&t.typeEncoders[i]||mh[i];if("function"==typeof l){const c=l(r,i,t,n);if(null!=c)return c}const p=mh[i];if(!p)throw new Error(`${kA} unsupported type: ${i}`);return p(r,i,t,n)}function eT(r,t,n,i){if(Array.isArray(t))for(const l of t)eT(r,l,n,i);else n[t.type.major](r,t,i)}function tT(r,t,n){const i=Mv(r,n);if(!Array.isArray(i)&&n.quickEncodeToken){const l=n.quickEncodeToken(i);if(l)return l;const p=t[i.type.major];if(p.encodedSize){const c=p.encodedSize(i,n),h=new CA(c);if(p(h,i,n),1!==h.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return AA(h.chunks[0])}}return Vu.reset(),eT(Vu,i,t,n),Vu.toBytes(!0)}const rT={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class iT{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=uu[t];if(void 0===n){const i=ti[t];if(!i)throw new Error(`${es} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=i(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const Av=Symbol.for("DONE"),zm=Symbol.for("BREAK");function Sy(r,t){if(r.done())return Av;const n=r.next();if(n.type===Pr.break)return zm;if(n.type.terminal)return n.value;if(n.type===Pr.array)return function Hm(r,t,n){const i=[];for(let l=0;l<r.value;l++){const p=Sy(t,n);if(p===zm){if(r.value===1/0)break;throw new Error(`${es} got unexpected break to lengthed array`)}if(p===Av)throw new Error(`${es} found array but not enough entries (got ${l}, expected ${r.value})`);i[l]=p}return i}(n,r,t);if(n.type===Pr.map)return function t5(r,t,n){const i=!0===n.useMaps,l=i?void 0:{},p=i?new Map:void 0;for(let c=0;c<r.value;c++){const h=Sy(t,n);if(h===zm){if(r.value===1/0)break;throw new Error(`${es} got unexpected break to lengthed map`)}if(h===Av)throw new Error(`${es} found map but not enough entries (got ${c} [no key], expected ${r.value})`);if(!0!==i&&"string"!=typeof h)throw new Error(`${es} non-string keys not supported (got ${typeof h})`);if(!0===n.rejectDuplicateMapKeys&&(i&&p.has(h)||!i&&h in l))throw new Error(`${es} found repeat map key "${h}"`);const V=Sy(t,n);if(V===Av)throw new Error(`${es} found map but not enough entries (got ${c} [no value], expected ${r.value})`);i?p.set(h,V):l[h]=V}return i?p:l}(n,r,t);if(n.type===Pr.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const i=Sy(r,t);return t.tags[n.value](i)}throw new Error(`${es} tag not supported (${n.value})`)}throw new Error("unsupported")}const Ty=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class e_{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class dT{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return uT(this,t)}}class i5{constructor(t){this.decoders=t}or(t){return uT(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const uT=(r,t)=>new i5({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class o5{constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new e_(t,n,i),this.decoder=new dT(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const d2=({name:r,prefix:t,encode:n,decode:i})=>new o5(r,t,n,i),fT=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:l}=function My(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var p=r.charAt(l),c=p.charCodeAt(0);if(255!==n[c])throw new TypeError(p+" is ambiguous");n[c]=l}var h=r.length,V=r.charAt(0),$=Math.log(h)/Math.log(256),I=Math.log(256)/Math.log(h);function ke(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ke=0;if(" "!==Pe[Ke]){for(var rt=0,ht=0;Pe[Ke]===V;)rt++,Ke++;for(var ct=(Pe.length-Ke)*$+1>>>0,dt=new Uint8Array(ct);Pe[Ke];){var At=n[Pe.charCodeAt(Ke)];if(255===At)return;for(var Pt=0,Ct=ct-1;(0!==At||Pt<ht)&&-1!==Ct;Ct--,Pt++)dt[Ct]=(At+=h*dt[Ct]>>>0)%256>>>0,At=At/256>>>0;if(0!==At)throw new Error("Non-zero carry");ht=Pt,Ke++}if(" "!==Pe[Ke]){for(var zt=ct-ht;zt!==ct&&0===dt[zt];)zt++;for(var Zt=new Uint8Array(rt+(ct-zt)),xn=rt;zt!==ct;)Zt[xn++]=dt[zt++];return Zt}}}return{encode:function q(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ke=0,rt=0,ht=0,ct=Pe.length;ht!==ct&&0===Pe[ht];)ht++,Ke++;for(var dt=(ct-ht)*I+1>>>0,At=new Uint8Array(dt);ht!==ct;){for(var Pt=Pe[ht],Ct=0,zt=dt-1;(0!==Pt||Ct<rt)&&-1!==zt;zt--,Ct++)At[zt]=(Pt+=256*At[zt]>>>0)%h>>>0,Pt=Pt/h>>>0;if(0!==Pt)throw new Error("Non-zero carry");rt=Ct,ht++}for(var Zt=dt-rt;Zt!==dt&&0===At[Zt];)Zt++;for(var xn=V.repeat(Ke);Zt<dt;++Zt)xn+=r.charAt(At[Zt]);return xn},decodeUnsafe:ke,decode:function Ne(Pe){var Ke=ke(Pe);if(Ke)return Ke;throw new Error(`Non-${t} character`)}}}(n,t);return d2({prefix:r,name:t,encode:i,decode:p=>Ty(l(p))})},Yh=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>d2({prefix:t,name:r,encode:l=>((r,t,n)=>{const i="="===t[t.length-1],l=(1<<n)-1;let p="",c=0,h=0;for(let V=0;V<r.length;++V)for(h=h<<8|r[V],c+=8;c>n;)c-=n,p+=t[l&h>>c];if(c&&(p+=t[l&h<<n-c]),i)for(;p.length*n&7;)p+="=";return p})(l,i,n),decode:l=>((r,t,n,i)=>{const l={};for(let I=0;I<t.length;++I)l[t[I]]=I;let p=r.length;for(;"="===r[p-1];)--p;const c=new Uint8Array(p*n/8|0);let h=0,V=0,$=0;for(let I=0;I<p;++I){const q=l[r[I]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,h+=n,h>=8&&(h-=8,c[$++]=255&V>>h)}if(h>=n||255&V<<8-h)throw new SyntaxError("Unexpected end of data");return c})(l,i,n,r)}),u2=Yh({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),yh=(Yh({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Yh({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Yh({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Yh({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Yh({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Yh({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Yh({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Yh({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),fT({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));fT({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var pT=128,c4=-128,u5=Math.pow(2,31),mT=128,f2=127,Ea=Math.pow(2,7),f5=Math.pow(2,14),h2=Math.pow(2,21),h5=Math.pow(2,28),p5=Math.pow(2,35),p2=Math.pow(2,42),gT=Math.pow(2,49),vT=Math.pow(2,56),m2=Math.pow(2,63);const r_={encode:function Pf(r,t,n){t=t||[];for(var i=n=n||0;r>=u5;)t[n++]=255&r|pT,r/=128;for(;r&c4;)t[n++]=255&r|pT,r>>>=7;return t[n]=0|r,Pf.bytes=n-i+1,t},decode:function yT(r,i){var c,n=0,l=0,p=i=i||0,h=r.length;do{if(p>=h)throw yT.bytes=0,new RangeError("Could not decode varint");c=r[p++],n+=l<28?(c&f2)<<l:(c&f2)*Math.pow(2,l),l+=7}while(c>=mT);return yT.bytes=p-i,n},encodingLength:function(r){return r<Ea?1:r<f5?2:r<h2?3:r<h5?4:r<p5?5:r<p2?6:r<gT?7:r<vT?8:r<m2?9:10}},zu=(r,t=0)=>[r_.decode(r,t),r_.decode.bytes],i_=(r,t,n=0)=>(r_.encode(r,t,n),t),Tv=r=>r_.encodingLength(r);class y2{constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}const g2=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?Iv(n,o_(r),t||yh.encoder):g5(n,o_(r),t||u2.encoder)},Dy=new WeakMap,o_=r=>{const t=Dy.get(r);if(null==t){const n=new Map;return Dy.set(r,n),n}return t};class Lc{constructor(t,n,i,l){this.code=n,this.version=t,this.multihash=i,this.bytes=l,this["/"]=l}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==Iy)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==_T)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Lc.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=((r,t)=>{const n=t.byteLength,i=Tv(r),l=i+Tv(n),p=new Uint8Array(l+n);return i_(r,p,0),i_(n,p,i),p.set(t,l),new y2(r,n,t,p)})(t,n);return Lc.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Lc.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return g2(this,t)}toJSON(){return{"/":g2(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Lc)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:l,multihash:p,bytes:c}=n;return new Lc(i,l,p,c||Cv(i,l,p.bytes))}if(!0===n[a_]){const{version:i,multihash:l,code:p}=n,c=(r=>{const t=Ty(r),[n,i]=zu(t),[l,p]=zu(t.subarray(i)),c=t.subarray(i+p);if(c.byteLength!==l)throw new Error("Incorrect length");return new y2(n,l,c,t)})(l);return Lc.create(i,p,c)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==Iy)throw new Error(`Version 0 CID must use dag-pb (code: ${Iy}) block encoding`);return new Lc(t,n,i,i.bytes);case 1:{const l=Cv(t,n,i.bytes);return new Lc(t,n,i,l)}default:throw new Error("Invalid version")}}static createV0(t){return Lc.create(0,Iy,t)}static createV1(t,n){return Lc.create(1,t,n)}static decode(t){const[n,i]=Lc.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Lc.inspectBytes(t),i=n.size-n.multihashSize,l=Ty(t.subarray(i,i+n.multihashSize));if(l.byteLength!==n.multihashSize)throw new Error("Incorrect length");const p=l.subarray(n.multihashSize-n.digestSize),c=new y2(n.multihashCode,n.digestSize,p,l);return[0===n.version?Lc.createV0(c):Lc.createV1(n.codec,c),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[q,ke]=zu(t.subarray(n));return n+=ke,q};let l=i(),p=Iy;if(18===l?(l=0,n=0):p=i(),0!==l&&1!==l)throw new RangeError(`Invalid CID version ${l}`);const c=n,h=i(),V=i(),$=n+V;return{version:l,codec:p,multihashCode:h,digestSize:V,multihashSize:$-c,size:$}}static parse(t,n){const[i,l]=s_(t,n),p=Lc.decode(l);if(0===p.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return o_(p).set(i,t),p}}const s_=(r,t)=>{switch(r[0]){case"Q":return[yh.prefix,(t||yh).decode(`${yh.prefix}${r}`)];case yh.prefix:return[yh.prefix,(t||yh).decode(r)];case u2.prefix:return[u2.prefix,(t||u2).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},Iv=(r,t,n)=>{const{prefix:i}=n;if(i!==yh.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const l=t.get(i);if(null==l){const p=n.encode(r).slice(1);return t.set(i,p),p}return l},g5=(r,t,n)=>{const{prefix:i}=n,l=t.get(i);if(null==l){const p=n.encode(r);return t.set(i,p),p}return l},Iy=112,_T=18,Cv=(r,t,n)=>{const i=Tv(r),l=i+Tv(t),p=new Uint8Array(l+n.byteLength);return i_(r,p,0),i_(t,p,i),p.set(n,l),p},a_=Symbol.for("@ipld/js-cid/CID"),ET={float64:!0,typeEncoders:{Object:function v5(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=Lc.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Ai(Pr.tag,42),new Ai(Pr.bytes,n)]},undefined:function b5(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function w5(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},xT={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};xT.tags[42]=function _5(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Lc.decode(r.subarray(1))};const $d="dag-cbor",Cy=113,ST=r=>function nT(r,t){return t=Object.assign({},JA,t),tT(r,QA,t)}(r,ET),kv=r=>function oT(r,t){if(!(r instanceof Uint8Array))throw new Error(`${es} data to decode must be a Uint8Array`);const n=(t=Object.assign({},rT,t)).tokenizer||new iT(r,t),i=Sy(n,t);if(i===Av)throw new Error(`${es} did not find any content to decode`);if(i===zm)throw new Error(`${es} got unexpected break`);if(!n.done())throw new Error(`${es} too many terminals, data makes no sense`);return i}(r,xT);var gh=E(41405),Gm=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},Uc=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}},Va=function(r){return this instanceof Va?(this.v=r,this):new Va(r)},Rv=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),p=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(ke){i[ke]&&(l[ke]=function(Ne){return new Promise(function(Pe,Ke){p.push([ke,Ne,Pe,Ke])>1||h(ke,Ne)})})}function h(ke,Ne){try{!function V(ke){ke.value instanceof Va?Promise.resolve(ke.value.v).then($,I):q(p[0][2],ke)}(i[ke](Ne))}catch(Pe){q(p[0][3],Pe)}}function $(ke){h("next",ke)}function I(ke){h("throw",ke)}function q(ke,Ne){ke(Ne),p.shift(),p.length&&h(p[0][0],p[0][1])}};class v2{open(){return Gm(this,void 0,void 0,function*(){})}close(){return Gm(this,void 0,void 0,function*(){})}put(t,n,i){return Gm(this,void 0,void 0,function*(){return t})}get(t,n){return Gm(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return Gm(this,void 0,void 0,function*(){return!1})}delete(t,n){return Gm(this,void 0,void 0,function*(){})}isEmpty(t){return Gm(this,void 0,void 0,function*(){return!0})}putMany(t,n){return Rv(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=Uc(t);!(l=(I=yield Va($.next())).done);V=!0){V=!1;const q=I.value;yield Va(this.put(q.cid,q.block,n)),yield yield Va(q.cid)}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield Va(c.call($)))}finally{if(p)throw p.error}}})}getMany(t,n){return Rv(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=Uc(t);!(l=(I=yield Va($.next())).done);V=!0){V=!1;const q=I.value;yield yield Va({cid:q,block:yield Va(this.get(q,n))})}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield Va(c.call($)))}finally{if(p)throw p.error}}})}getAll(t){return Rv(this,arguments,function*(){var i,l,p,c;const h=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var I,V=!0,$=Uc(h);!(i=(I=yield Va($.next())).done);V=!0){c=I.value,V=!1;const[q,ke]=c;yield yield Va({cid:gh.TO.decode(q),block:ke})}}catch(q){l={error:q}}finally{try{!V&&!i&&(p=$.return)&&(yield Va(p.call($)))}finally{if(l)throw l.error}}})}deleteMany(t,n){return Rv(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=Uc(t);!(l=(I=yield Va($.next())).done);V=!0){V=!1;const q=I.value;yield Va(this.delete(q,n)),yield yield Va(q)}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield Va(c.call($)))}finally{if(p)throw p.error}}})}clear(){return Gm(this,void 0,void 0,function*(){})}}var Bf=E(41861);function l_(r,t){this.v=r,this.k=t}function vi(r){return new l_(r,0)}function us(r){return function(){return new Ov(r.apply(this,arguments))}}function Ov(r){var t,n;function i(p,c){try{var h=r[p](c),V=h.value,$=V instanceof l_;Promise.resolve($?V.v:V).then(function(I){if($){var q="return"===p?"return":"next";if(!V.k||I.done)return i(q,I);I=r[q](I).value}l(h.done?"return":"normal",I)},function(I){i("throw",I)})}catch(I){l("throw",I)}}function l(p,c){switch(p){case"return":t.resolve({value:c,done:!0});break;case"throw":t.reject(c);break;default:t.resolve({value:c,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(p,c){return new Promise(function(h,V){var $={key:p,arg:c,resolve:h,reject:V,next:null};n?n=n.next=$:(t=n=$,i(p,c))})},"function"!=typeof r.return&&(this.return=void 0)}function jo(r){var t,n,i,l=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,i=Symbol.iterator);l--;){if(n&&null!=(t=r[n]))return t.call(r);if(i&&null!=(t=r[i]))return new d_(t.call(r));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function d_(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var i=n.done;return Promise.resolve(n.value).then(function(l){return{value:l,done:i}})}return(d_=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(i){var l=this.s.return;return void 0===l?Promise.resolve({value:i,done:!0}):t(l.apply(this.s,arguments))},throw:function(i){var l=this.s.return;return void 0===l?Promise.reject(i):t(l.apply(this.s,arguments))}},new d_(r)}Ov.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ov.prototype.next=function(r){return this._invoke("next",r)},Ov.prototype.throw=function(r){return this._invoke("throw",r)},Ov.prototype.return=function(r){return this._invoke("return",r)};var u_=E(5014);const b2=function x5(r,t=1){return t=Number(t),function E5(r){return null!=r[Symbol.asyncIterator]}(r)?us(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var p,i=!1,l=!1;try{for(var h,c=jo(r);i=!(h=yield vi(c.next())).done;i=!1)for(n.push(h.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(V){l=!0,p=V}finally{try{i&&null!=c.return&&(yield vi(c.return()))}finally{if(l)throw p}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const i of r)for(n.push(i);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function w2(r){return f_.apply(this,arguments)}function f_(){return f_=us(function*(r,t=1){var l,n=!1,i=!1;try{for(var c,p=jo(b2(r,t));n=!(c=yield vi(p.next())).done;n=!1){const V=c.value.map(function(){var $=(0,ye.A)(function*(I){return I().then(q=>({ok:!0,value:q}),q=>({ok:!1,err:q}))});return function(I){return $.apply(this,arguments)}}());for(let $=0;$<V.length;$++){const I=yield vi(V[$]);if(!I.ok)throw I.err;yield I.value}}}catch(h){i=!0,l=h}finally{try{n&&null!=p.return&&(yield vi(p.return()))}finally{if(i)throw l}}}),f_.apply(this,arguments)}function h_(r,t){null==t&&(t=r.reduce((l,p)=>l+p.length,0));const n=Ze(t);let i=0;for(const l of r)n.set(l,i),i+=l.length;return n}function MT(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const E2=Symbol.for("@achingbrain/uint8arraylist");function x2(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const i of r){const l=n+i.byteLength;if(t<l)return{buf:i,index:t-n};n=l}throw new RangeError("index is out of bounds")}function p_(r){return!!r?.[E2]}class Xm{bufs;length;[E2]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const i of t)if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.push(i);else{if(!p_(i))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.push(...i.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const i of t.reverse())if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.unshift(i);else{if(!p_(i))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.unshift(...i.bufs)}this.length+=n}get(t){const n=x2(this.bufs,t);return n.buf[n.index]}set(t,n){const i=x2(this.bufs,t);i.buf[i.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let i=0;i<t.length;i++)this.set(n+i,t[i]);else{if(!p_(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let i=0;i<t.length;i++)this.set(n+i,t.get(i))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:i,length:l}=this._subList(t,n);return h_(i,l)}subarray(t,n){const{bufs:i,length:l}=this._subList(t,n);return 1===i.length?i[0]:h_(i,l)}sublist(t,n){const{bufs:i,length:l}=this._subList(t,n),p=new Xm;return p.length=l,p.bufs=[...i],p}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const i=[];let l=0;for(let p=0;p<this.bufs.length;p++){const c=this.bufs[p],h=l,V=h+c.byteLength;if(l=V,t>=V)continue;const $=t>=h&&t<V,I=n>h&&n<=V;if($&&I){if(t===h&&n===V){i.push(c);break}const q=t-h;i.push(c.subarray(q,q+(n-t)));break}if($){if(0===t){i.push(c);continue}i.push(c.subarray(t-h))}else{if(I){if(n===V){i.push(c);break}i.push(c.subarray(0,n-h));break}i.push(c)}}return{bufs:i,length:n-t}}indexOf(t,n=0){if(!(p_(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const i=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const l=i.byteLength;if(0===l)throw new TypeError("search must be at least 1 byte long");const c=new Int32Array(256);for(let q=0;q<256;q++)c[q]=-1;for(let q=0;q<l;q++)c[i[q]]=q;const h=c,V=this.byteLength-i.byteLength,$=i.byteLength-1;let I;for(let q=n;q<=V;q+=I){I=0;for(let ke=$;ke>=0;ke--){const Ne=this.get(q+ke);if(i[ke]!==Ne){I=Math.max(1,ke-h[Ne]);break}}if(0===I)return q}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const i=Ze(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,n),this.write(i,t)}getInt16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,n)}setInt16(t,n,i){const l=ve(2);new DataView(l.buffer,l.byteOffset,l.byteLength).setInt16(0,n,i),this.write(l,t)}getInt32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,n)}setInt32(t,n,i){const l=ve(4);new DataView(l.buffer,l.byteOffset,l.byteLength).setInt32(0,n,i),this.write(l,t)}getBigInt64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,n)}setBigInt64(t,n,i){const l=ve(8);new DataView(l.buffer,l.byteOffset,l.byteLength).setBigInt64(0,n,i),this.write(l,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const i=Ze(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,n),this.write(i,t)}getUint16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,n)}setUint16(t,n,i){const l=ve(2);new DataView(l.buffer,l.byteOffset,l.byteLength).setUint16(0,n,i),this.write(l,t)}getUint32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,n)}setUint32(t,n,i){const l=ve(4);new DataView(l.buffer,l.byteOffset,l.byteLength).setUint32(0,n,i),this.write(l,t)}getBigUint64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,n)}setBigUint64(t,n,i){const l=ve(8);new DataView(l.buffer,l.byteOffset,l.byteLength).setBigUint64(0,n,i),this.write(l,t)}getFloat32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,n)}setFloat32(t,n,i){const l=ve(4);new DataView(l.buffer,l.byteOffset,l.byteLength).setFloat32(0,n,i),this.write(l,t)}getFloat64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,n)}setFloat64(t,n,i){const l=ve(8);new DataView(l.buffer,l.byteOffset,l.byteLength).setFloat64(0,n,i),this.write(l,t)}equals(t){if(null==t||!(t instanceof Xm)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!MT(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const i=new Xm;return i.bufs=t,null==n&&(n=t.reduce((l,p)=>l+p.byteLength,0)),i.length=n,i}}const M5=(r={})=>{const t=r.chunkSize??262144;return function(){var n=us(function*(l){let p=new Xm,c=0,h=!1;var I,V=!1,$=!1;try{for(var ke,q=jo(l);V=!(ke=yield vi(q.next())).done;V=!1){const Ne=ke.value;for(p.append(Ne),c+=Ne.length;c>=t;)if(yield p.slice(0,t),h=!0,t===p.length)p=new Xm,c=0;else{const Pe=new Xm;Pe.append(p.sublist(t)),p=Pe,c-=t}}}catch(Ne){$=!0,I=Ne}finally{try{V&&null!=q.return&&(yield vi(q.return()))}finally{if($)throw I}}(!h||c>0)&&(yield p.subarray(0,c))});return function i(l){return n.apply(this,arguments)}}()};function S2(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class C5{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class TT{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return k5(this,t)}}class A2{decoders;constructor(t){this.decoders=t}or(t){return k5(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function k5(r,t){return new A2({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class R5{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new C5(t,n,i),this.decoder=new TT(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function DT({name:r,prefix:t,encode:n,decode:i}){return new R5(r,t,n,i)}function IT({name:r,prefix:t,alphabet:n}){const{encode:i,decode:l}=function M2(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var p=r.charAt(l),c=p.charCodeAt(0);if(255!==n[c])throw new TypeError(p+" is ambiguous");n[c]=l}var h=r.length,V=r.charAt(0),$=Math.log(h)/Math.log(256),I=Math.log(256)/Math.log(h);function ke(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ke=0;if(" "!==Pe[Ke]){for(var rt=0,ht=0;Pe[Ke]===V;)rt++,Ke++;for(var ct=(Pe.length-Ke)*$+1>>>0,dt=new Uint8Array(ct);Pe[Ke];){var At=n[Pe.charCodeAt(Ke)];if(255===At)return;for(var Pt=0,Ct=ct-1;(0!==At||Pt<ht)&&-1!==Ct;Ct--,Pt++)dt[Ct]=(At+=h*dt[Ct]>>>0)%256>>>0,At=At/256>>>0;if(0!==At)throw new Error("Non-zero carry");ht=Pt,Ke++}if(" "!==Pe[Ke]){for(var zt=ct-ht;zt!==ct&&0===dt[zt];)zt++;for(var Zt=new Uint8Array(rt+(ct-zt)),xn=rt;zt!==ct;)Zt[xn++]=dt[zt++];return Zt}}}return{encode:function q(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ke=0,rt=0,ht=0,ct=Pe.length;ht!==ct&&0===Pe[ht];)ht++,Ke++;for(var dt=(ct-ht)*I+1>>>0,At=new Uint8Array(dt);ht!==ct;){for(var Pt=Pe[ht],Ct=0,zt=dt-1;(0!==Pt||Ct<rt)&&-1!==zt;zt--,Ct++)At[zt]=(Pt+=256*At[zt]>>>0)%h>>>0,Pt=Pt/h>>>0;if(0!==Pt)throw new Error("Non-zero carry");rt=Ct,ht++}for(var Zt=dt-rt;Zt!==dt&&0===At[Zt];)Zt++;for(var xn=V.repeat(Ke);Zt<dt;++Zt)xn+=r.charAt(At[Zt]);return xn},decodeUnsafe:ke,decode:function Ne(Pe){var Ke=ke(Pe);if(Ke)return Ke;throw new Error(`Non-${t} character`)}}}(n,r);return DT({prefix:t,name:r,encode:i,decode:p=>S2(l(p))})}function zp({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return DT({prefix:t,name:r,encode:l=>function h4(r,t,n){const i="="===t[t.length-1],l=(1<<n)-1;let p="",c=0,h=0;for(let V=0;V<r.length;++V)for(h=h<<8|r[V],c+=8;c>n;)c-=n,p+=t[l&h>>c];if(0!==c&&(p+=t[l&h<<n-c]),i)for(;p.length*n&7;)p+="=";return p}(l,i,n),decode:l=>function O5(r,t,n,i){const l={};for(let I=0;I<t.length;++I)l[t[I]]=I;let p=r.length;for(;"="===r[p-1];)--p;const c=new Uint8Array(p*n/8|0);let h=0,V=0,$=0;for(let I=0;I<p;++I){const q=l[r[I]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,h+=n,h>=8&&(h-=8,c[$++]=255&V>>h)}if(h>=n||255&V<<8-h)throw new SyntaxError("Unexpected end of data");return c}(l,i,n,r)})}const Zm=zp({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),fu=(zp({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),zp({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zp({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zp({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zp({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zp({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zp({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zp({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),IT({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));IT({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ky=128,m4=-128,C2=Math.pow(2,31),PT=128,BT=127,R2=Math.pow(2,7),NT=Math.pow(2,14),B5=Math.pow(2,21),N5=Math.pow(2,28),Bv=Math.pow(2,35),LT=Math.pow(2,42),O2=Math.pow(2,49),L5=Math.pow(2,56),y4=Math.pow(2,63);const Ym={encode:function Ry(r,t,n){t=t||[];for(var i=n=n||0;r>=C2;)t[n++]=255&r|ky,r/=128;for(;r&m4;)t[n++]=255&r|ky,r>>>=7;return t[n]=0|r,Ry.bytes=n-i+1,t},decode:function k2(r,i){var c,n=0,l=0,p=i=i||0,h=r.length;do{if(p>=h)throw k2.bytes=0,new RangeError("Could not decode varint");c=r[p++],n+=l<28?(c&BT)<<l:(c&BT)*Math.pow(2,l),l+=7}while(c>=PT);return k2.bytes=p-i,n},encodingLength:function(r){return r<R2?1:r<NT?2:r<B5?3:r<N5?4:r<Bv?5:r<LT?6:r<O2?7:r<L5?8:r<y4?9:10}};function Lv(r,t=0){return[Ym.decode(r,t),Ym.decode.bytes]}function Uv(r,t,n=0){return Ym.encode(r,t,n),t}function v_(r){return Ym.encodingLength(r)}class Jm{code;size;digest;bytes;constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}function b_(r,t){const{bytes:n,version:i}=r;return 0===i?function jT(r,t,n){const{prefix:i}=n;if(i!==fu.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const l=t.get(i);if(null==l){const p=n.encode(r).slice(1);return t.set(i,p),p}return l}(n,w_(r),t??fu.encoder):function __(r,t,n){const{prefix:i}=n,l=t.get(i);if(null==l){const p=n.encode(r);return t.set(i,p),p}return l}(n,w_(r),t??Zm.encoder)}const N2=new WeakMap;function w_(r){const t=N2.get(r);if(null==t){const n=new Map;return N2.set(r,n),n}return t}class xa{code;version;multihash;bytes;"/";constructor(t,n,i,l){this.code=n,this.version=t,this.multihash=i,this.bytes=l,this["/"]=l}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==qm)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Oy)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return xa.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=function UT(r,t){const n=t.byteLength,i=v_(r),l=i+v_(n),p=new Uint8Array(l+n);return Uv(r,p,0),Uv(n,p,i),p.set(t,l),new Jm(r,n,t,p)}(t,n);return xa.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return xa.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function FT(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function T5(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return b_(this,t)}toJSON(){return{"/":b_(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof xa)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:l,multihash:p,bytes:c}=n;return new xa(i,l,p,c??$T(i,l,p.bytes))}if(!0===n[j5]){const{version:i,multihash:l,code:p}=n,c=function P2(r){const t=S2(r),[n,i]=Lv(t),[l,p]=Lv(t.subarray(i)),c=t.subarray(i+p);if(c.byteLength!==l)throw new Error("Incorrect length");return new Jm(n,l,c,t)}(l);return xa.create(i,p,c)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==qm)throw new Error(`Version 0 CID must use dag-pb (code: ${qm}) block encoding`);return new xa(t,n,i,i.bytes);case 1:{const l=$T(t,n,i.bytes);return new xa(t,n,i,l)}default:throw new Error("Invalid version")}}static createV0(t){return xa.create(0,qm,t)}static createV1(t,n){return xa.create(1,t,n)}static decode(t){const[n,i]=xa.decodeFirst(t);if(0!==i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=xa.inspectBytes(t),i=n.size-n.multihashSize,l=S2(t.subarray(i,i+n.multihashSize));if(l.byteLength!==n.multihashSize)throw new Error("Incorrect length");const p=l.subarray(n.multihashSize-n.digestSize),c=new Jm(n.multihashCode,n.digestSize,p,l);return[0===n.version?xa.createV0(c):xa.createV1(n.codec,c),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[q,ke]=Lv(t.subarray(n));return n+=ke,q};let l=i(),p=qm;if(18===l?(l=0,n=0):p=i(),0!==l&&1!==l)throw new RangeError(`Invalid CID version ${l}`);const c=n,h=i(),V=i(),$=n+V;return{version:l,codec:p,multihashCode:h,digestSize:V,multihashSize:$-c,size:$}}static parse(t,n){const[i,l]=function L2(r,t){switch(r[0]){case"Q":return[fu.prefix,(t??fu).decode(`${fu.prefix}${r}`)];case fu.prefix:return[fu.prefix,(t??fu).decode(r)];case Zm.prefix:return[Zm.prefix,(t??Zm).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),p=xa.decode(l);if(0===p.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return w_(p).set(i,t),p}}const qm=112,Oy=18;function $T(r,t,n){const i=v_(r),l=i+v_(t),p=new Uint8Array(l+n.byteLength);return Uv(r,p,0),Uv(t,p,i),p.set(n,l),p}const j5=Symbol.for("@ipld/js-cid/CID"),v4=new TextDecoder;function Py(r,t){let n=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const l=r[t++];if(n+=i<28?(127&l)<<i:(127&l)*2**i,l<128)break}return[n,t]}function By(r,t){let n;[n,t]=Py(r,t);const i=t+n;if(n<0||i<0)throw new Error("protobuf: invalid length");if(i>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,i),i]}function U2(r,t){let n;return[n,t]=Py(r,t),[7&n,n>>3,t]}function KT(r){const t={},n=r.length;let i=0;for(;i<n;){let l,p;if([l,p,i]=U2(r,i),1===p){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==l)throw new Error(`protobuf: (PBLink) wrong wireType (${l}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,i]=By(r,i)}else if(2===p){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==l)throw new Error(`protobuf: (PBLink) wrong wireType (${l}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let c;[c,i]=By(r,i),t.Name=v4.decode(c)}else{if(3!==p)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${p}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==l)throw new Error(`protobuf: (PBLink) wrong wireType (${l}) for Tsize`);[t.Tsize,i]=Py(r,i)}}if(i>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const Hp=new TextEncoder,zT=2**32,$5=2**31;function K5(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=vh(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const i=Hp.encode(r.Name);n-=i.length,t.set(i,n),n=vh(t,n,i.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=vh(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function z5(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+Ny(n)}if("string"==typeof r.Name){const n=Hp.encode(r.Name).length;t+=1+n+Ny(n)}return"number"==typeof r.Tsize&&(t+=1+Ny(r.Tsize)),t}function vh(r,t,n){const i=t-=Ny(n);for(;n>=$5;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,i}function Ny(r){return r%2==0&&r++,Math.floor((function H5(r){let t=0;return r>=zT&&(r=Math.floor(r/zT),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+W5[r]}(r)+6)/7)}const W5=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],G5=["Data","Links"],X5=["Hash","Name","Tsize"],F2=new TextEncoder;function j2(r,t){if(r===t)return 0;const n=r.Name?F2.encode(r.Name):[],i=t.Name?F2.encode(t.Name):[];let l=n.length,p=i.length;for(let c=0,h=Math.min(l,p);c<h;++c)if(n[c]!==i[c]){l=n[c],p=i[c];break}return l<p?-1:p<l?1:0}function HT(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function WT(r){if("object"==typeof r.asCID){const n=xa.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=xa.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=xa.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=xa.decode(r.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function Wp(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=F2.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map(WT),t.Links.sort(j2)}else t.Links=[];return t}function GT(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!HT(r,G5))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!HT(n,X5))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===j2(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function E_(r,t=[]){return Wp({Data:r,Links:t})}function qh(r,t,n){return WT({Hash:n,Name:r,Tsize:t})}const XT="dag-pb",x_=112;function Qh(r){GT(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const i={};return n.Hash&&(i.Hash=n.Hash.bytes),void 0!==n.Name&&(i.Name=n.Name),void 0!==n.Tsize&&(i.Tsize=n.Tsize),i})),r.Data&&(t.Data=r.Data),function V5(r){const t=function Jh(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+Ny(n)}if(r.Links)for(const n of r.Links){const i=z5(n);t+=1+i+Ny(i)}return t}(r),n=new Uint8Array(t);let i=t;if(r.Data&&(i-=r.Data.length,n.set(r.Data,i),i=vh(n,i,r.Data.length)-1,n[i]=10),r.Links)for(let l=r.Links.length-1;l>=0;l--){const p=K5(r.Links[l],n.subarray(0,i));i-=p,i=vh(n,i,p)-1,n[i]=18}return n}(t)}function S_(r){const t=function Fv(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function VT(r){const t=r.length;let i,p,n=0,l=!1;for(;n<t;){let h,V;if([h,V,n]=U2(r,n),2!==h)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${h}`);if(1===V){if(p)throw new Error("protobuf: (PBNode) duplicate Data section");[p,n]=By(r,n),i&&(l=!0)}else{if(2!==V)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${V}`);{if(l)throw new Error("protobuf: (PBNode) duplicate Links section");let $;i||(i=[]),[$,n]=By(r,n),i.push(KT($))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const c={};return p&&(c.Data=p),c.Links=i||[],c}(t),i={};return n.Data&&(i.Data=n.Data),n.Links&&(i.Links=n.Links.map(l=>{const p={};try{p.Hash=xa.decode(l.Hash)}catch{}if(!p.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==l.Name&&(p.Name=l.Name),void 0!==l.Tsize&&(p.Tsize=l.Tsize),p})),i}var Z5=E(3087);const b4=Math.pow(2,7),$2=Math.pow(2,14),K2=Math.pow(2,21),ZT=Math.pow(2,28),YT=Math.pow(2,35),M_=Math.pow(2,42),V2=Math.pow(2,49),Ds=128,Kl=127;function jv(r){if(r<b4)return 1;if(r<$2)return 2;if(r<K2)return 3;if(r<ZT)return 4;if(r<YT)return 5;if(r<M_)return 6;if(r<V2)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function JT(r,t,n=0){switch(jv(r)){case 8:t[n++]=255&r|Ds,r/=128;case 7:t[n++]=255&r|Ds,r/=128;case 6:t[n++]=255&r|Ds,r/=128;case 5:t[n++]=255&r|Ds,r/=128;case 4:t[n++]=255&r|Ds,r>>>=7;case 3:t[n++]=255&r|Ds,r>>>=7;case 2:t[n++]=255&r|Ds,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const Gp=new Float32Array([-0]),Sl=new Uint8Array(Gp.buffer);function H2(r,t,n){Gp[0]=r,t[n]=Sl[0],t[n+1]=Sl[1],t[n+2]=Sl[2],t[n+3]=Sl[3]}const $v=new Float64Array([-0]),fs=new Uint8Array($v.buffer);function W2(r,t,n){$v[0]=r,t[n]=fs[0],t[n+1]=fs[1],t[n+2]=fs[2],t[n+3]=fs[3],t[n+4]=fs[4],t[n+5]=fs[5],t[n+6]=fs[6],t[n+7]=fs[7]}const e8=BigInt(Number.MAX_SAFE_INTEGER),QT=BigInt(Number.MIN_SAFE_INTEGER);class vd{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(n+4294967296*i)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(BigInt(n)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}static fromBigInt(t){if(0n===t)return Ly;if(t<e8&&t>QT)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let i=t>>32n,l=t-(i<<32n);return n&&(i=0n|~i,l=0n|~l,++l>Uy&&(l=0n,++i>Uy&&(i=0n))),new vd(Number(l),Number(i))}static fromNumber(t){if(0===t)return Ly;const n=t<0;n&&(t=-t);let i=t>>>0,l=(t-i)/4294967296>>>0;return n&&(l=~l>>>0,i=~i>>>0,++i>4294967295&&(i=0,++l>4294967295&&(l=0))),new vd(i,l)}static from(t){return"number"==typeof t?vd.fromNumber(t):"bigint"==typeof t?vd.fromBigInt(t):"string"==typeof t?vd.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new vd(t.low>>>0,t.high>>>0):Ly}}const Ly=new vd(0,0);Ly.toBigInt=function(){return 0n},Ly.zzEncode=Ly.zzDecode=function(){return this},Ly.length=function(){return 1};const Uy=4294967296n;function eD(r,t,n){const i=n;let l,p;for(let c=0;c<r.length;++c)l=r.charCodeAt(c),l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=63&l|128):55296==(64512&l)&&56320==(64512&(p=r.charCodeAt(c+1)))?(l=65536+((1023&l)<<10)+(1023&p),++c,t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=63&l|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=63&l|128);return n-i}function Hu(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function A_(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class r8{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Hu(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw Hu(this,4);return A_(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Hu(this,4);return 0|A_(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw Hu(this,4);const t=function Qm(r,t){return Sl[0]=r[t],Sl[1]=r[t+1],Sl[2]=r[t+2],Sl[3]=r[t+3],Gp[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw Hu(this,4);const t=function Q5(r,t){return fs[0]=r[t],fs[1]=r[t+1],fs[2]=r[t+2],fs[3]=r[t+3],fs[4]=r[t+4],fs[5]=r[t+5],fs[6]=r[t+6],fs[7]=r[t+7],$v[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw Hu(this,t);return this.pos+=t,n===i?new Uint8Array(0):this.buf.subarray(n,i)}string(){const t=this.bytes();return function n8(r,t,n){if(n-t<1)return"";let l;const p=[];let h,c=0;for(;t<n;)h=r[t++],h<128?p[c++]=h:h>191&&h<224?p[c++]=(31&h)<<6|63&r[t++]:h>239&&h<365?(h=((7&h)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,p[c++]=55296+(h>>10),p[c++]=56320+(1023&h)):p[c++]=(15&h)<<12|(63&r[t++])<<6|63&r[t++],c>8191&&((l??(l=[])).push(String.fromCharCode.apply(String,p)),c=0);return null!=l?(c>0&&l.push(String.fromCharCode.apply(String,p.slice(0,c))),l.join("")):String.fromCharCode.apply(String,p.slice(0,c))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw Hu(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw Hu(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new vd(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw Hu(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw Hu(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Hu(this,8);const t=A_(this.buf,this.pos+=4),n=A_(this.buf,this.pos+=4);return new vd(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function z2(r,t){let n=r[t],i=0;if(i+=n&Kl,n<Ds||(n=r[t+1],i+=(n&Kl)<<7,n<Ds)||(n=r[t+2],i+=(n&Kl)<<14,n<Ds)||(n=r[t+3],i+=(n&Kl)<<21,n<Ds)||(n=r[t+4],i+=(n&Kl)*ZT,n<Ds)||(n=r[t+5],i+=(n&Kl)*YT,n<Ds)||(n=r[t+6],i+=(n&Kl)*M_,n<Ds)||(n=r[t+7],i+=(n&Kl)*V2,n<Ds))return i;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=jv(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function G2(r,t,n){const i=function i8(r){return new r8(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(i,void 0,n)}class Kv{fn;len;next;val;constructor(t,n,i){this.fn=t,this.len=n,this.next=void 0,this.val=i}}function Vv(){}class S4{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const M4=function o8(r){const t=r??8192,n=t>>>1;let i,l=t;return function(c){if(c<1||c>n)return Ze(c);l+c>t&&(i=Ze(t),l=0);const h=i.subarray(l,l+=c);return 7&l&&(l=1+(7|l)),h}}();class tD{len;head;tail;states;constructor(){this.len=0,this.head=new Kv(Vv,0,0),this.tail=this.head,this.states=null}_push(t,n,i){return this.tail=this.tail.next=new Kv(t,n,i),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new T4((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(Z2,10,vd.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=vd.fromBigInt(t);return this._push(Z2,n.length(),n)}uint64Number(t){return this._push(JT,jv(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=vd.fromBigInt(t).zzEncode();return this._push(Z2,n.length(),n)}sint64Number(t){const n=vd.fromNumber(t).zzEncode();return this._push(Z2,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(nD,1,t?1:0)}fixed32(t){return this._push(zv,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=vd.fromBigInt(t);return this._push(zv,4,n.lo)._push(zv,4,n.hi)}fixed64Number(t){const n=vd.fromNumber(t);return this._push(zv,4,n.lo)._push(zv,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(H2,4,t)}double(t){return this._push(W2,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(nD,1,0):this.uint32(n)._push(T_,n,t)}string(t){const n=function t8(r){let t=0,n=0;for(let i=0;i<r.length;++i)n=r.charCodeAt(i),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(i+1))?(++i,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(eD,n,t):this._push(nD,1,0)}fork(){return this.states=new S4(this),this.head=this.tail=new Kv(Vv,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Kv(Vv,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),0!==i&&(this.tail.next=t.next,this.tail=n,this.len+=i),this}finish(){let t=this.head.next;const n=function X2(r){return null!=globalThis.Buffer?Ze(r):M4(r)}(this.len);let i=0;for(;null!=t;)t.fn(t.val,n,i),i+=t.len,t=t.next;return n}}function nD(r,t,n){t[n]=255&r}function A4(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class T4 extends Kv{next;constructor(t,n){super(A4,t,n),this.next=void 0}}function Z2(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function zv(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function T_(r,t,n){t.set(r,n)}function D_(r,t,n){t.set(r,n)}function rD(r,t,n){r.length<40?eD(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set(bt(r),n)}function I_(r,t){const n=function iD(){return new tD}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(tD.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push(D_,t,r),this},tD.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(rD,t,r),this});var za,Hv,s8,Y2=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(Y2||{});function oD(r,t,n,i){return{name:r,type:t,encode:n,decode:i}}function Xp(r,t){return oD("message",Y2.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var l;let n,i;(l=t=r.DataType||(r.DataType={})).Raw="Raw",l.Directory="Directory",l.File="File",l.Metadata="Metadata",l.Symlink="Symlink",l.HAMTShard="HAMTShard",function(l){l[l.Raw=0]="Raw",l[l.Directory=1]="Directory",l[l.File=2]="File",l[l.Metadata=3]="Metadata",l[l.Symlink=4]="Symlink",l[l.HAMTShard=5]="HAMTShard"}(n||(n={})),function(l){l.codec=()=>function sD(r){function t(l){if(null==r[l.toString()])throw new Error("Invalid enum value");return r[l]}return oD("enum",Y2.VARINT,function(p,c){const h=t(p);c.int32(h)},function(p){return t(p.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==i&&(i=Xp((l,p,c={})=>{if(!1!==c.lengthDelimited&&p.fork(),null!=l.Type&&(p.uint32(8),r.DataType.codec().encode(l.Type,p)),null!=l.Data&&(p.uint32(18),p.bytes(l.Data)),null!=l.filesize&&(p.uint32(24),p.uint64(l.filesize)),null!=l.blocksizes)for(const h of l.blocksizes)p.uint32(32),p.uint64(h);null!=l.hashType&&(p.uint32(40),p.uint64(l.hashType)),null!=l.fanout&&(p.uint32(48),p.uint64(l.fanout)),null!=l.mode&&(p.uint32(56),p.uint32(l.mode)),null!=l.mtime&&(p.uint32(66),Hv.codec().encode(l.mtime,p)),!1!==c.lengthDelimited&&p.ldelim()},(l,p)=>{const c={blocksizes:[]},h=null==p?l.len:l.pos+p;for(;l.pos<h;){const V=l.uint32();switch(V>>>3){case 1:c.Type=r.DataType.codec().decode(l);break;case 2:c.Data=l.bytes();break;case 3:c.filesize=l.uint64();break;case 4:c.blocksizes.push(l.uint64());break;case 5:c.hashType=l.uint64();break;case 6:c.fanout=l.uint64();break;case 7:c.mode=l.uint32();break;case 8:c.mtime=Hv.codec().decode(l,l.uint32());break;default:l.skipType(7&V)}}return c})),i),r.encode=l=>I_(l,r.codec()),r.decode=l=>G2(l,r.codec())}(za||(za={})),function(r){let t;r.codec=()=>(null==t&&(t=Xp((n,i,l={})=>{!1!==l.lengthDelimited&&i.fork(),null!=n.Seconds&&(i.uint32(8),i.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(i.uint32(21),i.fixed32(n.FractionalNanoseconds)),!1!==l.lengthDelimited&&i.ldelim()},(n,i)=>{const l={},p=null==i?n.len:n.pos+i;for(;n.pos<p;){const c=n.uint32();switch(c>>>3){case 1:l.Seconds=n.int64();break;case 2:l.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&c)}}return l})),t),r.encode=n=>I_(n,r.codec()),r.decode=n=>G2(n,r.codec())}(Hv||(Hv={})),function(r){let t;r.codec=()=>(null==t&&(t=Xp((n,i,l={})=>{!1!==l.lengthDelimited&&i.fork(),null!=n.MimeType&&(i.uint32(10),i.string(n.MimeType)),!1!==l.lengthDelimited&&i.ldelim()},(n,i)=>{const l={},p=null==i?n.len:n.pos+i;for(;n.pos<p;){const c=n.uint32();c>>>3==1?l.MimeType=n.string():n.skipType(7&c)}return l})),t),r.encode=n=>I_(n,r.codec()),r.decode=n=>G2(n,r.codec())}(s8||(s8={}));const aD={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},D4=["directory","hamt-sharded-directory"],a8=parseInt("0644",8),J2=parseInt("0755",8);class Gu{static unmarshal(t){const n=za.decode(t),i=new Gu({type:aD[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return i._originalMode=n.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:i,blockSizes:l,hashType:p,fanout:c,mtime:h,mode:V}=t;if(null!=n&&!Object.values(aD).includes(n))throw Z5(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=i,this.hashType=p,this.fanout=c,this.blockSizes=l??[],this._originalMode=0,this.mode=V,this.mtime=h}set mode(t){this._mode=null==t?this.isDirectory()?J2:a8:4095&t}get mode(){return this._mode}isDirectory(){return D4.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=za.DataType.Raw;break;case"directory":t=za.DataType.Directory;break;case"file":t=za.DataType.File;break;case"metadata":t=za.DataType.Metadata;break;case"symlink":t=za.DataType.Symlink;break;case"hamt-sharded-directory":t=za.DataType.HAMTShard;break;default:throw Z5(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let i,l,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(i=4294963200&this._originalMode|(this.mode??0),i===a8&&!this.isDirectory()&&(i=void 0),i===J2&&this.isDirectory()&&(i=void 0)),null!=this.mtime&&(l={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),za.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:l})}}var cD=E(52054);const C_="raw",e0=85,q2=r=>(0,cD.au)(r),c8=r=>(0,cD.au)(r);class Ml extends Event{type;detail;constructor(t,n){super(t),this.type=t,this.detail=n}}const Zp=function(){var r=(0,ye.A)(function*(t,n,i){null==i.codec&&(i.codec=Z);const l=yield ue.digest(t),p=Bf.TO.create(i.cidVersion,i.codec.code,l);return yield n.put(p,t,i),p});return function(n,i,l){return r.apply(this,arguments)}}();function lD(r){return function(){var t=us(function*(i,l){let p=0n;var V,c=!1,h=!1;try{for(var I,$=jo(i.content);c=!(I=yield vi($.next())).done;c=!1){let q=I.value;yield(0,ye.A)(function*(){let ke;const Ne={codec:Z,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(Ne.codec=ie,Ne.cidVersion=1):(ke=new Gu({type:r.leafType,data:q}),q=Qh({Data:ke.marshal(),Links:[]}));const Pe=yield Zp(q,l,Ne);return p+=BigInt(q.byteLength),r.onProgress?.(new Ml("unixfs:importer:progress:file:write",{bytesWritten:p,cid:Pe,path:i.path})),{cid:Pe,unixfs:ke,size:BigInt(q.length),block:q}})}}catch(q){h=!0,V=q}finally{try{c&&null!=$.return&&(yield vi($.return()))}finally{if(h)throw V}}});return function n(i,l){return t.apply(this,arguments)}}()}function Xu(r){var t={},n=!1;function i(l,p){return n=!0,{done:!1,value:new l_(p=new Promise(function(c){c(r[l](p))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(l){return n?(n=!1,l):i("next",l)},"function"==typeof r.throw&&(t.throw=function(l){if(n)throw n=!1,l;return i("throw",l)}),"function"==typeof r.return&&(t.return=function(l){return n?(n=!1,l):i("return",l)}),t}const k_=function(){var r=(0,ye.A)(function*(t,n,i){const l=new Gu({type:"directory",mtime:t.mtime,mode:t.mode}),p=Qh(Wp({Data:l.marshal()}));return{cid:yield Zp(p,n,i),path:t.path,unixfs:l,size:BigInt(p.length),originalPath:t.originalPath,block:p}});return function(n,i,l){return r.apply(this,arguments)}}();function Q2(){return(Q2=us(function*(r,t,n){let l,i=-1;var h,p=!1,c=!1;try{for(var $,V=jo(w2(n.bufferImporter(r,t),n.blockWriteConcurrency));p=!($=yield vi(V.next())).done;p=!1){const I=$.value;i++,0!==i?(1===i&&null!=l&&(yield{...l,block:void 0,single:void 0},l=void 0),yield{...I,block:void 0}):l={...I,single:!0}}}catch(I){c=!0,h=I}finally{try{p&&null!=V.return&&(yield vi(V.return()))}finally{if(c)throw h}}null!=l&&(yield l)})).apply(this,arguments)}function ex(r){return!0===r.single}const d8=(r,t,n)=>function(){var l=(0,ye.A)(function*(p){if(1===p.length&&ex(p[0])&&n.reduceSingleLeafToSelf){const q=p[0];let ke=q.block;return ex(q)&&(void 0!==r.mtime||void 0!==r.mode)&&(q.unixfs=new Gu({type:"file",mtime:r.mtime,mode:r.mode,data:q.block}),ke={Data:q.unixfs.marshal(),Links:[]},q.block=Qh(Wp(ke)),q.cid=yield Zp(q.block,t,{...n,cidVersion:n.cidVersion}),q.size=BigInt(q.block.length)),n.onProgress?.(new Ml("unixfs:importer:progress:file:layout",{cid:q.cid,path:q.originalPath})),{cid:q.cid,path:r.path,unixfs:q.unixfs,size:q.size,originalPath:q.originalPath}}const c=new Gu({type:"file",mtime:r.mtime,mode:r.mode}),h=p.filter(q=>q.cid.code===e0&&q.size>0||null!=q.unixfs&&null==q.unixfs.data&&q.unixfs.fileSize()>0n||!!q.unixfs?.data?.length).map(q=>q.cid.code===e0?(c.addBlockSize(q.size),{Name:"",Tsize:Number(q.size),Hash:q.cid}):(c.addBlockSize(null==q.unixfs||null==q.unixfs.data?q.unixfs?.fileSize()??0n:BigInt(q.unixfs.data.length)),{Name:"",Tsize:Number(q.size),Hash:q.cid})),V={Data:c.marshal(),Links:h},$=Qh(Wp(V)),I=yield Zp($,t,n);return n.onProgress?.(new Ml("unixfs:importer:progress:file:layout",{cid:I,path:r.originalPath})),{cid:I,path:r.path,unixfs:c,size:BigInt($.length+V.Links.reduce((q,ke)=>q+(ke.Tsize??0),0)),originalPath:r.originalPath,block:$}});return function(c){return l.apply(this,arguments)}}(),u8=function(){var r=(0,ye.A)(function*(t,n,i){return i.layout(function l8(r,t,n){return Q2.apply(this,arguments)}(t,n,i),d8(t,n,i))});return function(n,i,l){return r.apply(this,arguments)}}();function Wv(r){try{if(r instanceof Uint8Array)return us(function*(){yield r})();if(function dD(r){return Symbol.iterator in r}(r))return us(function*(){yield*Xu(jo(r))})();if(function tx(r){return Symbol.asyncIterator in r}(r))return r}catch{throw u_(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw u_(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function nx(r){return null!=r.content}function uD(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const ep=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class yD{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ix{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Gv(this,t)}}class gD{constructor(t){this.decoders=t}or(t){return Gv(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Gv=(r,t)=>new gD({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class n0{constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new yD(t,n,i),this.decoder=new ix(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Xv=({name:r,prefix:t,encode:n,decode:i})=>new n0(r,t,n,i),r0=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:l}=function f8(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var p=r.charAt(l),c=p.charCodeAt(0);if(255!==n[c])throw new TypeError(p+" is ambiguous");n[c]=l}var h=r.length,V=r.charAt(0),$=Math.log(h)/Math.log(256),I=Math.log(256)/Math.log(h);function ke(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ke=0;if(" "!==Pe[Ke]){for(var rt=0,ht=0;Pe[Ke]===V;)rt++,Ke++;for(var ct=(Pe.length-Ke)*$+1>>>0,dt=new Uint8Array(ct);Pe[Ke];){var At=n[Pe.charCodeAt(Ke)];if(255===At)return;for(var Pt=0,Ct=ct-1;(0!==At||Pt<ht)&&-1!==Ct;Ct--,Pt++)dt[Ct]=(At+=h*dt[Ct]>>>0)%256>>>0,At=At/256>>>0;if(0!==At)throw new Error("Non-zero carry");ht=Pt,Ke++}if(" "!==Pe[Ke]){for(var zt=ct-ht;zt!==ct&&0===dt[zt];)zt++;for(var Zt=new Uint8Array(rt+(ct-zt)),xn=rt;zt!==ct;)Zt[xn++]=dt[zt++];return Zt}}}return{encode:function q(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ke=0,rt=0,ht=0,ct=Pe.length;ht!==ct&&0===Pe[ht];)ht++,Ke++;for(var dt=(ct-ht)*I+1>>>0,At=new Uint8Array(dt);ht!==ct;){for(var Pt=Pe[ht],Ct=0,zt=dt-1;(0!==Pt||Ct<rt)&&-1!==zt;zt--,Ct++)At[zt]=(Pt+=256*At[zt]>>>0)%h>>>0,Pt=Pt/h>>>0;if(0!==Pt)throw new Error("Non-zero carry");rt=Ct,ht++}for(var Zt=dt-rt;Zt!==dt&&0===At[Zt];)Zt++;for(var xn=V.repeat(Ke);Zt<dt;++Zt)xn+=r.charAt(At[Zt]);return xn},decodeUnsafe:ke,decode:function Ne(Pe){var Ke=ke(Pe);if(Ke)return Ke;throw new Error(`Non-${t} character`)}}}(n,t);return Xv({prefix:r,name:t,encode:i,decode:p=>ep(l(p))})},Fc=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>Xv({prefix:t,name:r,encode:l=>((r,t,n)=>{const i="="===t[t.length-1],l=(1<<n)-1;let p="",c=0,h=0;for(let V=0;V<r.length;++V)for(h=h<<8|r[V],c+=8;c>n;)c-=n,p+=t[l&h>>c];if(c&&(p+=t[l&h<<n-c]),i)for(;p.length*n&7;)p+="=";return p})(l,i,n),decode:l=>((r,t,n,i)=>{const l={};for(let I=0;I<t.length;++I)l[t[I]]=I;let p=r.length;for(;"="===r[p-1];)--p;const c=new Uint8Array(p*n/8|0);let h=0,V=0,$=0;for(let I=0;I<p;++I){const q=l[r[I]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,h+=n,h>=8&&(h-=8,c[$++]=255&V>>h)}if(h>=n||255&V<<8-h)throw new SyntaxError("Unexpected end of data");return c})(l,i,n,r)}),O_=r0({prefix:"9",name:"base10",alphabet:"0123456789"}),p8=Fc({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bD=Fc({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),m8=Fc({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wD=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),y8=wD.reduce((r,t,n)=>(r[n]=t,r),[]),_D=wD.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),xD=Xv({prefix:"\u{1f680}",name:"base256emoji",encode:function ED(r){return r.reduce((t,n)=>t+y8[n],"")},decode:function Eo(r){const t=[];for(const n of r){const i=_D[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),Fy=Fc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jy=Fc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),SD=Fc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),MD=Fc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),g8=Fc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),P_=Fc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),o0=Fc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ox=Fc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Yv=Fc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),AD=r0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sx=r0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Nf=r0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ax=r0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),TD=Fc({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cx=Fc({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),v8=Fc({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),b8=Fc({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),w8=Fc({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),DD=Xv({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),_8=new TextEncoder,E8=new TextDecoder,x8="json",S8=512,ID=r=>_8.encode(JSON.stringify(r)),CD=r=>JSON.parse(E8.decode(r)),M8="raw",A8=85,Kd=r=>ep(r),T8=r=>ep(r);var I8=128,kD=-128,C8=Math.pow(2,31),ux=Math.pow(2,7),R8=Math.pow(2,14),O8=Math.pow(2,21),P8=Math.pow(2,28),B8=Math.pow(2,35),N8=Math.pow(2,42),bh=Math.pow(2,49),fx=Math.pow(2,56),L8=Math.pow(2,63);const s0_encode=function RD(r,t,n){t=t||[];for(var i=n=n||0;r>=C8;)t[n++]=255&r|I8,r/=128;for(;r&kD;)t[n++]=255&r|I8,r>>>=7;return t[n]=0|r,RD.bytes=n-i+1,t},s0_encodingLength=function(r){return r<ux?1:r<R8?2:r<O8?3:r<P8?4:r<B8?5:r<N8?6:r<bh?7:r<fx?8:r<L8?9:10},hx=(r,t,n=0)=>(s0_encode(r,t,n),t),qv=r=>s0_encodingLength(r),Qv=(r,t)=>{const n=t.byteLength,i=qv(r),l=i+qv(n),p=new Uint8Array(l+n);return hx(r,p,0),hx(n,p,i),p.set(t,l),new eb(r,n,t,p)};class eb{constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}const UD=ep,j8={code:0,name:"identity",encode:UD,digest:r=>Qv(0,UD(r))},a0=({name:r,code:t,encode:n})=>new jD(r,t,n);class jD{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Qv(this.code,n):n.then(i=>Qv(this.code,i))}throw Error("Unknown type, must be binary type")}}const Yp=r=>function(){var t=(0,ye.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),$y=a0({name:"sha2-256",code:18,encode:Yp("SHA-256")}),px=a0({name:"sha2-512",code:19,encode:Yp("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const yx={...u,...de,...a,...ae,...se,...we,...xe,...Ce,...C,...le};function gx(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const N_=gx("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),L_=gx("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function Z8(r=0){return null!=globalThis.Buffer?.allocUnsafe?uD(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),nb={utf8:N_,"utf-8":N_,hex:yx.base16,latin1:L_,ascii:L_,binary:L_,...yx};function rb(r,t="utf8"){const n=nb[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):uD(globalThis.Buffer.from(r,"utf-8"))}const Y8=()=>function(){var r=us(function*(n){var p,i=!1,l=!1;try{for(var h,c=jo(n);i=!(h=yield vi(c.next())).done;i=!1){const V=h.value;if(void 0===V.length)throw u_(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof V||V instanceof String)yield rb(V.toString());else if(Array.isArray(V))yield Uint8Array.from(V);else{if(!(V instanceof Uint8Array))throw u_(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield V}}}catch(V){l=!0,p=V}finally{try{i&&null!=c.return&&(yield vi(c.return()))}finally{if(l)throw p}}});return function t(n){return r.apply(this,arguments)}}(),J8=174;function q8(r){const t=r?.maxChildrenPerNode??J8;return function(){var n=(0,ye.A)(function*(l,p){const c=[];var $,h=!1,V=!1;try{for(var q,I=jo(b2(l,t));h=!(q=yield I.next()).done;h=!1){const ke=q.value;c.push(yield p(ke))}}catch(ke){V=!0,$=ke}finally{try{h&&null!=I.return&&(yield I.return())}finally{if(V)throw $}}return c.length>1?i(c,p):c[0]});function i(l,p){return n.apply(this,arguments)}return i}()}class ib{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const bx=Bf.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),KD=Bf.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class wx extends ib{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var i=this;return(0,ye.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,i._children.set(t,n)})()}get(t){var n=this;return(0,ye.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return us(function*(){for(const[n,i]of t._children.entries())yield{key:n,child:i}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?KD.bytes.byteLength:bx.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return us(function*(){const i=[];for(const[Pe,Ke]of n._children.entries()){let rt=Ke;if(Ke instanceof ib){var c,l=!1,p=!1;try{for(var V,h=jo(Ke.flush(t));l=!(V=yield vi(h.next())).done;l=!1){const ht=V.value;rt=ht,yield ht}}catch(ht){p=!0,c=ht}finally{try{l&&null!=h.return&&(yield vi(h.return()))}finally{if(p)throw c}}}null!=rt.size&&null!=rt.cid&&i.push({Name:Pe,Tsize:Number(rt.size),Hash:rt.cid})}const $=new Gu({type:"directory",mtime:n.mtime,mode:n.mode}),I={Data:$.marshal(),Links:i},q=Qh(Wp(I)),ke=yield vi(Zp(q,t,n.options)),Ne=q.length+I.Links.reduce((Pe,Ke)=>Pe+(null==Ke.Tsize?0:Ke.Tsize),0);n.cid=ke,n.size=Ne,yield{cid:ke,unixfs:$,path:n.path,size:BigInt(Ne)}})()}}const N4=new Uint8Array(0);function VD(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):N4}class ab{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class GD{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Ex(this,t)}}class XD{decoders;constructor(t){this.decoders=t}or(t){return Ex(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Ex(r,t){return new XD({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class ZD{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new ab(t,n,i),this.decoder=new GD(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function YD({name:r,prefix:t,encode:n,decode:i}){return new ZD(r,t,n,i)}function JD({name:r,prefix:t,alphabet:n}){const{encode:i,decode:l}=function HD(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var p=r.charAt(l),c=p.charCodeAt(0);if(255!==n[c])throw new TypeError(p+" is ambiguous");n[c]=l}var h=r.length,V=r.charAt(0),$=Math.log(h)/Math.log(256),I=Math.log(256)/Math.log(h);function ke(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ke=0;if(" "!==Pe[Ke]){for(var rt=0,ht=0;Pe[Ke]===V;)rt++,Ke++;for(var ct=(Pe.length-Ke)*$+1>>>0,dt=new Uint8Array(ct);Pe[Ke];){var At=n[Pe.charCodeAt(Ke)];if(255===At)return;for(var Pt=0,Ct=ct-1;(0!==At||Pt<ht)&&-1!==Ct;Ct--,Pt++)dt[Ct]=(At+=h*dt[Ct]>>>0)%256>>>0,At=At/256>>>0;if(0!==At)throw new Error("Non-zero carry");ht=Pt,Ke++}if(" "!==Pe[Ke]){for(var zt=ct-ht;zt!==ct&&0===dt[zt];)zt++;for(var Zt=new Uint8Array(rt+(ct-zt)),xn=rt;zt!==ct;)Zt[xn++]=dt[zt++];return Zt}}}return{encode:function q(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ke=0,rt=0,ht=0,ct=Pe.length;ht!==ct&&0===Pe[ht];)ht++,Ke++;for(var dt=(ct-ht)*I+1>>>0,At=new Uint8Array(dt);ht!==ct;){for(var Pt=Pe[ht],Ct=0,zt=dt-1;(0!==Pt||Ct<rt)&&-1!==zt;zt--,Ct++)At[zt]=(Pt+=256*At[zt]>>>0)%h>>>0,Pt=Pt/h>>>0;if(0!==Pt)throw new Error("Non-zero carry");rt=Ct,ht++}for(var Zt=dt-rt;Zt!==dt&&0===At[Zt];)Zt++;for(var xn=V.repeat(Ke);Zt<dt;++Zt)xn+=r.charAt(At[Zt]);return xn},decodeUnsafe:ke,decode:function Ne(Pe){var Ke=ke(Pe);if(Ke)return Ke;throw new Error(`Non-${t} character`)}}}(n,r);return YD({prefix:t,name:r,encode:i,decode:p=>function ob(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(l(p))})}function tp({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return YD({prefix:t,name:r,encode:l=>function cb(r,t,n){const i="="===t[t.length-1],l=(1<<n)-1;let p="",c=0,h=0;for(let V=0;V<r.length;++V)for(h=h<<8|r[V],c+=8;c>n;)c-=n,p+=t[l&h>>c];if(0!==c&&(p+=t[l&h<<n-c]),i)for(;p.length*n&7;)p+="=";return p}(l,i,n),decode:l=>function nk(r,t,n,i){const l={};for(let I=0;I<t.length;++I)l[t[I]]=I;let p=r.length;for(;"="===r[p-1];)--p;const c=new Uint8Array(p*n/8|0);let h=0,V=0,$=0;for(let I=0;I<p;++I){const q=l[r[I]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,h+=n,h>=8&&(h-=8,c[$++]=255&V>>h)}if(h>=n||255&V<<8-h)throw new SyntaxError("Unexpected end of data");return c}(l,i,n,r)})}tp({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tp({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tp({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tp({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tp({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tp({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tp({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tp({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tp({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),JD({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),JD({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var QD=128,lk=-128,dk=Math.pow(2,31),eI=128,Sx=127,db=Math.pow(2,7),V_=Math.pow(2,14),$4=Math.pow(2,21),uk=Math.pow(2,28),tI=Math.pow(2,35),Ax=Math.pow(2,42),fk=Math.pow(2,49),nI=Math.pow(2,56),hk=Math.pow(2,63);const Vy={encode:function K_(r,t,n){t=t||[];for(var i=n=n||0;r>=dk;)t[n++]=255&r|QD,r/=128;for(;r&lk;)t[n++]=255&r|QD,r>>>=7;return t[n]=0|r,K_.bytes=n-i+1,t},decode:function Mx(r,i){var c,n=0,l=0,p=i=i||0,h=r.length;do{if(p>=h)throw Mx.bytes=0,new RangeError("Could not decode varint");c=r[p++],n+=l<28?(c&Sx)<<l:(c&Sx)*Math.pow(2,l),l+=7}while(c>=eI);return Mx.bytes=p-i,n},encodingLength:function(r){return r<db?1:r<V_?2:r<$4?3:r<uk?4:r<tI?5:r<Ax?6:r<fk?7:r<nI?8:r<hk?9:10}};function z_(r,t,n=0){return Vy.encode(r,t,n),t}function H_(r){return Vy.encodingLength(r)}function Dx(r,t){const n=t.byteLength,i=H_(r),l=i+H_(n),p=new Uint8Array(l+n);return z_(r,p,0),z_(n,p,i),p.set(t,l),new ub(r,n,t,p)}class ub{code;size;digest;bytes;constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}function kx({name:r,code:t,encode:n}){return new bk(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class bk{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Dx(this.code,n):n.then(i=>Dx(this.code,i))}throw Error("Unknown type, must be binary type")}}var W_=E(13026);kx({name:"murmur3-32",code:35,encode:r=>function wk(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(W_.x86.hash32(r))});const fb=kx({name:"murmur3-128",code:34,encode:r=>VD(W_.x64.hash128(r))});kx({name:"murmur3-x64-64",code:34,encode:r=>VD(W_.x64.hash128(r)).subarray(0,8)});var Ek=E(18876);class Vd{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,i=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=i,this._children=new Ek,this.key=null}put(t,n){var i=this;return(0,ye.A)(function*(){const l=yield i._findNewBucketAndPos(t);l.bucket._putAt(l,t,n)})()}get(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findChild(t);if(null!=i)return i.value})()}del(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findPlace(t),l=i.bucket._at(i.pos);null!=l&&l.key===t&&i.bucket._delAt(i.pos)})()}leafCount(){return this._children.compactArray().reduce((n,i)=>i instanceof Vd?n+i.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof Vd?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((l,p,c)=>(null!=p&&l.push(p instanceof Vd?p.serialize(t,n):t(p,c)),l),[]))}asyncTransform(t,n){var i=this;return(0,ye.A)(function*(){return qp(i,t,n)})()}toJSON(){return this.serialize(Sk,d0)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findPlace(t),l=i.bucket._at(i.pos);if(!(l instanceof Vd)&&null!=l&&l.key===t)return l})()}_findPlace(t){var n=this;return(0,ye.A)(function*(){const i=n._options.hash("string"==typeof t?bt(t):t),l=yield i.take(n._options.bits),p=n._children.get(l);return p instanceof Vd?p._findPlace(i):{bucket:n,pos:l,hash:i,existingChild:p}})()}_findNewBucketAndPos(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findPlace(t);if(null!=i.existingChild&&i.existingChild.key!==t){const l=new Vd(n._options,i.bucket,i.pos);i.bucket._putObjectAt(i.pos,l);const p=yield l._findPlace(i.existingChild.hash);return p.bucket._putAt(p,i.existingChild.key,i.existingChild.value),l._findNewBucketAndPos(i.hash)}return i})()}_putAt(t,n,i){this._putObjectAt(t.pos,{key:n,value:i,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(xk);if(null!=t&&!(t instanceof Vd)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function xk(r){return!!r}function Sk(r,t){return r.key}function d0(r){return r}function qp(r,t,n){return u0.apply(this,arguments)}function u0(){return(u0=(0,ye.A)(function*(r,t,n){const i=[];for(const l of r._children.compactArray())if(l instanceof Vd)yield qp(l,t,n);else{const p=yield t(l);i.push({bitField:r._children.bitField(),children:p})}return n(i)})).apply(this,arguments)}const H4=[255,254,252,248,240,224,192,128],aI=[1,3,7,15,31,63,127,255];class Mk{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,i=0;for(;n>0&&this._haveBits();){const l=this._value[this._currentBytePos],p=this._currentBitPos+1,c=Math.min(p,n);i=(i<<c)+cI(l,p-c,c),n-=c,this._currentBitPos-=c,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function cI(r,t,n){const i=function Ak(r,t){return H4[r]&aI[Math.min(t+r-1,7)]}(t,n);return(r&i)>>>t}function lI(r){return function t(n){return n instanceof Tk?n:new Tk(n,r)}}class Tk{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,ye.A)(function*(){let i=t;for(;n._availableBits<i;)yield n._produceMoreBits();let l=0;for(;i>0;){const p=n._buffers[n._currentBufferIndex],c=Math.min(p.availableBits(),i);l=(l<<c)+p.take(c),i-=c,n._availableBits-=c,0===p.availableBits()&&n._currentBufferIndex++}return l})()}untake(t){let n=t;for(;n>0;){const i=this._buffers[this._currentBufferIndex],l=Math.min(i.totalBits()-i.availableBits(),n);i.untake(l),n-=l,this._availableBits+=l,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,ye.A)(function*(){t._depth++;const n=t._depth>0?h_([t._value,Uint8Array.from([t._depth])]):t._value,i=yield t._hashFn(n),l=new Mk(i);t._buffers.push(l),t._availableBits+=l.availableBits()})()}}function dI(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:lI(r.hashFn)};return new Vd(t)}function hb(r){return pb.apply(this,arguments)}function pb(){return(pb=(0,ye.A)(function*(r){return(yield fb.encode(r)).slice(0,8).reverse()})).apply(this,arguments)}const uI=BigInt(34),Ik=class Dk extends ib{_bucket;constructor(t,n){super(t,n),this._bucket=dI({hashFn:hb,bits:8})}put(t,n){var i=this;return(0,ye.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,yield i._bucket.put(t,n)})()}get(t){var n=this;return(0,ye.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return us(function*(){var l,n=!1,i=!1;try{for(var c,p=jo(t._bucket.eachLeafSeries());n=!(c=yield vi(p.next())).done;n=!1){const{key:h,value:V}=c.value;yield{key:h,child:V}}}catch(h){i=!0,l=h}finally{try{n&&null!=p.return&&(yield vi(p.return()))}finally{if(i)throw l}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=Tl(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return us(function*(){var p,i=!1,l=!1;try{for(var h,c=jo(Ck(n._bucket,t,n,n.options));i=!(h=yield vi(c.next())).done;i=!1)yield{...h.value,path:n.path}}catch(V){l=!0,p=V}finally{try{i&&null!=c.return&&(yield vi(c.return()))}finally{if(l)throw p}}})()}};function Ck(r,t,n,i){return G_.apply(this,arguments)}function G_(){return(G_=us(function*(r,t,n,i){const l=r._children,p=[];let c=0n;for(let zt=0;zt<l.length;zt++){const Zt=l.get(zt);if(null==Zt)continue;const xn=zt.toString(16).toUpperCase().padStart(2,"0");if(Zt instanceof Vd){let Cn;var $,h=!1,V=!1;try{for(var q,I=jo(Ck(Zt,t,null,i));h=!(q=yield vi(I.next())).done;h=!1)Cn=q.value}catch(Nn){V=!0,$=Nn}finally{try{h&&null!=I.return&&(yield vi(I.return()))}finally{if(V)throw $}}if(null==Cn)throw new Error("Could not flush sharded directory, no subshard found");p.push({Name:xn,Tsize:Number(Cn.size),Hash:Cn.cid}),c+=Cn.size}else if(Vl(Zt.value)){const Cn=Zt.value;let Nn;var Pe,ke=!1,Ne=!1;try{for(var rt,Ke=jo(Cn.flush(t));ke=!(rt=yield vi(Ke.next())).done;ke=!1)Nn=rt.value,yield Nn}catch(Pn){Ne=!0,Pe=Pn}finally{try{ke&&null!=Ke.return&&(yield vi(Ke.return()))}finally{if(Ne)throw Pe}}if(null==Nn)throw new Error("Did not flush dir");p.push({Name:xn+Zt.key,Tsize:Number(Nn.size),Hash:Nn.cid}),c+=Nn.size}else{const Cn=Zt.value;if(null==Cn.cid)continue;const ir=Cn.size;p.push({Name:xn+Zt.key,Tsize:Number(ir),Hash:Cn.cid}),c+=BigInt(ir??0)}}const ht=Uint8Array.from(l.bitField().reverse()),ct=new Gu({type:"hamt-sharded-directory",data:ht,fanout:BigInt(r.tableSize()),hashType:uI,mtime:n?.mtime,mode:n?.mode}),At=Qh(Wp({Data:ct.marshal(),Links:p})),Pt=yield vi(Zp(At,t,i)),Ct=BigInt(At.byteLength)+c;yield{cid:Pt,unixfs:ct,size:Ct}})).apply(this,arguments)}function Vl(r){return"function"==typeof r.flush}function Tl(r,t,n){const i=r._children,l=[];for(let V=0;V<i.length;V++){const $=i.get(V);if(null==$)continue;const I=V.toString(16).toUpperCase().padStart(2,"0");if($ instanceof Vd){const q=Tl($,null,n);l.push({Name:I,Tsize:Number(q),Hash:0===n.cidVersion?bx:KD})}else if("function"==typeof $.value.flush){const ke=$.value.nodeSize();l.push({Name:I+$.key,Tsize:Number(ke),Hash:0===n.cidVersion?bx:KD})}else{const q=$.value;if(null==q.cid)continue;l.push({Name:I+$.key,Tsize:Number(q.size),Hash:q.cid})}}const p=Uint8Array.from(i.bitField().reverse());return Qh(Wp({Data:new Gu({type:"hamt-sharded-directory",data:p,fanout:BigInt(r.tableSize()),hashType:uI,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:l})).length}function Rx(r,t,n,i){return mb.apply(this,arguments)}function mb(){return mb=(0,ye.A)(function*(r,t,n,i){let l=t;t instanceof wx&&t.estimateNodeSize()>n&&(l=yield function fI(r,t){return X_.apply(this,arguments)}(t,i));const p=l.parent;if(null!=p){if(l!==t){if(null!=r&&(r.parent=l),null==l.parentKey)throw new Error("No parent key found");yield p.put(l.parentKey,l)}return Rx(l,p,n,i)}return l}),mb.apply(this,arguments)}function X_(){return(X_=(0,ye.A)(function*(r,t){const n=new Ik({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var p,i=!1,l=!1;try{for(var h,c=jo(r.eachChildSeries());i=!(h=yield c.next()).done;i=!1){const{key:V,child:$}=h.value;yield n.put(V,$)}}catch(V){l=!0,p=V}finally{try{i&&null!=c.return&&(yield c.return())}finally{if(l)throw p}}return n})).apply(this,arguments)}const kk=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function hI(r,t,n){return Ox.apply(this,arguments)}function Ox(){return(Ox=(0,ye.A)(function*(r,t,n){const i=kk(r.path??""),l=i.length-1;let p=t,c="";for(let h=0;h<i.length;h++){const V=i[h];c+=`${""!==c?"/":""}${V}`;const $=h===l;if(p.dirty=!0,p.cid=void 0,p.size=void 0,$)yield p.put(V,r),t=yield Rx(null,p,n.shardSplitThresholdBytes,n);else{let I=yield p.get(V);(null==I||!(I instanceof ib))&&(I=new wx({root:!1,dir:!0,parent:p,parentKey:V,path:c,dirty:!0,flat:!0,mtime:I?.unixfs?.mtime,mode:I?.unixfs?.mode},n)),yield p.put(V,I),p=I}}return t})).apply(this,arguments)}function pI(r,t){return Wy.apply(this,arguments)}function Wy(){return(Wy=us(function*(r,t){r instanceof ib?yield*Xu(jo(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)})).apply(this,arguments)}function Zu(r,t){return Gy.apply(this,arguments)}function Gy(){return Gy=us(function*(r,t,n={}){let i;i=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const l=n.wrapWithDirectory??!1,p=n.shardSplitThresholdBytes??262144,c=n.cidVersion??1,h=n.rawLeaves??!0,V=n.leafType??"file",$=n.fileImportConcurrency??50,I=n.blockWriteConcurrency??10,q=n.reduceSingleLeafToSelf??!0,ke=n.chunker??M5(),Ne=n.chunkValidator??Y8(),Pe=n.dagBuilder??function R_(r){return function(){var t=us(function*(i,l){var h,p=!1,c=!1;try{for(var $,V=jo(i);p=!($=yield vi(V.next())).done;p=!1){const I=$.value;{let q;if(null!=I.path&&(q=I.path,I.path=I.path.split("/").filter(ke=>null!=ke&&"."!==ke).join("/")),nx(I)){const ke={path:I.path,mtime:I.mtime,mode:I.mode,content:us(function*(){let Ne=0n;var rt,Pe=!1,Ke=!1;try{for(var ct,ht=jo(r.chunker(r.chunkValidator(Wv(I.content))));Pe=!(ct=yield vi(ht.next())).done;Pe=!1){const dt=ct.value;{const At=BigInt(dt.byteLength);Ne+=At,r.onProgress?.(new Ml("unixfs:importer:progress:file:read",{bytesRead:Ne,chunkSize:At,path:I.path})),yield dt}}}catch(dt){Ke=!0,rt=dt}finally{try{Pe&&null!=ht.return&&(yield vi(ht.return()))}finally{if(Ke)throw rt}}})(),originalPath:q};yield(0,ye.A)(function*(){return u8(ke,l,r)})}else{if(null==I.path)throw new Error("Import candidate must have content or path or both");{const ke={path:I.path,mtime:I.mtime,mode:I.mode,originalPath:q};yield(0,ye.A)(function*(){return k_(ke,l,r)})}}}}}catch(I){c=!0,h=I}finally{try{p&&null!=V.return&&(yield vi(V.return()))}finally{if(c)throw h}}});return function n(i,l){return t.apply(this,arguments)}}()}({chunker:ke,chunkValidator:Ne,wrapWithDirectory:l,layout:n.layout??q8(),bufferImporter:n.bufferImporter??lD({cidVersion:c,rawLeaves:h,leafType:V,onProgress:n.onProgress}),blockWriteConcurrency:I,reduceSingleLeafToSelf:q,cidVersion:c,onProgress:n.onProgress}),Ke=n.treeBuilder??function Px(r){return function(){var t=us(function*(i,l){let c,p=new wx({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),h=!1;var I,V=!1,$=!1;try{for(var ke,q=jo(i);V=!(ke=yield vi(q.next())).done;V=!1){const ct=ke.value;{if(null==ct)continue;const dt=`${ct.originalPath??""}`.split("/")[0];null!=dt&&""!==dt&&(null==c?(c=dt,h=!0):c!==dt&&(h=!1)),p=yield vi(hI(ct,p,r)),(null==ct.unixfs||!ct.unixfs.isDirectory())&&(yield ct)}}}catch(ct){$=!0,I=ct}finally{try{V&&null!=q.return&&(yield vi(q.return()))}finally{if($)throw I}}if(r.wrapWithDirectory||h&&p.childCount()>1)yield*Xu(jo(pI(p,l)));else{var Ke,Ne=!1,Pe=!1;try{for(var ht,rt=jo(p.eachChildSeries());Ne=!(ht=yield vi(rt.next())).done;Ne=!1){const ct=ht.value;null!=ct&&(yield*Xu(jo(pI(ct.child,l))))}}catch(ct){Pe=!0,Ke=ct}finally{try{Ne&&null!=rt.return&&(yield vi(rt.return()))}finally{if(Pe)throw Ke}}}});return function n(i,l){return t.apply(this,arguments)}}()}({wrapWithDirectory:l,shardSplitThresholdBytes:p,cidVersion:c,onProgress:n.onProgress});var ct,rt=!1,ht=!1;try{for(var At,dt=jo(Ke(w2(Pe(i,t),$),t));rt=!(At=yield vi(dt.next())).done;rt=!1){const Pt=At.value;yield{cid:Pt.cid,path:Pt.path,unixfs:Pt.unixfs,size:Pt.size}}}catch(Pt){ht=!0,ct=Pt}finally{try{rt&&null!=dt.return&&(yield vi(dt.return()))}finally{if(ht)throw ct}}}),Gy.apply(this,arguments)}var yI=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},yb=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}};const Lx={[ue.code]:ue},Ux={[Cy]:J};class rl{static computeCid(t,n=Cy,i=ue.code){return yI(this,void 0,void 0,function*(){const l=Ux[n];if(!l)throw new ce(_e.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const p=Lx[i];if(!p)throw new ce(_e.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);const c=l.encode(t),h=yield p.digest(c);return(yield Bf.TO.createV1(l.code,h)).toString()})}static parseCid(t){const n=Bf.TO.parse(t).toV1();if(!Ux[n.code])throw new ce(_e.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!Lx[n.multihash.code])throw new ce(_e.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,i,l;return yI(this,void 0,void 0,function*(){const c=Zu([{content:t}],new v2,{cidVersion:1});let h;try{for(var I,V=!0,$=yb(c);I=yield $.next(),!(n=I.done);V=!0)V=!1,h=I.value}catch(q){i={error:q}}finally{try{!V&&!n&&(l=$.return)&&(yield l.call($))}finally{if(i)throw i.error}}return h?h.cid.toString():""})}static computeDagPbCidFromStream(t){var n,i,l;return yI(this,void 0,void 0,function*(){const c=Zu([{content:t}],new v2,{cidVersion:1});let h;try{for(var I,V=!0,$=yb(c);I=yield $.next(),!(n=I.done);V=!0)V=!1,h=I.value}catch(q){i={error:q}}finally{try{!V&&!n&&(l=$.return)&&(yield l.call($))}finally{if(i)throw i.error}}return h?h.cid.toString():""})}}var Xy=E(91426),gb=E(63397),vb=E(65797),Y_=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};gb.VV.isEphemeralKeyCompressed=!0;class bb{static aes256CtrEncrypt(t,n,i){return Y_(this,void 0,void 0,function*(){const l=Xy.createCipheriv("aes-256-ctr",t,n),p=new vb.Readable({read(){}});return i.on("data",c=>{const h=l.update(c);p.push(h)}),i.on("end",()=>{const c=l.final();p.push(c),p.push(null)}),i.on("error",c=>{p.emit("error",c)}),p})}static aes256CtrDecrypt(t,n,i){return Y_(this,void 0,void 0,function*(){const l=Xy.createDecipheriv("aes-256-ctr",t,n),p=new vb.Readable({read(){}});return i.on("data",c=>{const h=l.update(c);p.push(h)}),i.on("end",()=>{const c=l.final();p.push(c),p.push(null)}),i.on("error",c=>{p.emit("error",c)}),p})}static eciesSecp256k1Encrypt(t,n){return Y_(this,void 0,void 0,function*(){const i=Buffer.from(t),l=Buffer.from(n),p=gb.w(i,l);let c=0,h=bb.isEphemeralKeyCompressed?33:65;const V=p.subarray(c,h);c=h,h+=gb.VV.symmetricNonceLength;const $=p.subarray(c,h);c=h,h+=16;const I=p.subarray(c,h);return{ciphertext:p.subarray(h),ephemeralPublicKey:V,initializationVector:$,messageAuthenticationCode:I}})}static eciesSecp256k1Decrypt(t){return Y_(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),i=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return gb.Yc(n,i)})}static get isEphemeralKeyCompressed(){return gb.VV.isEphemeralKeyCompressed}}var Fx=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(Fx||{}),gI=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class wb{constructor(t){this.jws=t}static create(t,n=[]){return gI(this,void 0,void 0,function*(){const i={payload:K.bytesToBase64Url(t),signatures:[]},l=new wb(i);for(const p of n)yield l.addSignature(p);return l})}addSignature(t){return gI(this,void 0,void 0,function*(){const i=JSON.stringify({kid:t.keyId,alg:t.algorithm}),l=K.stringToBase64Url(i),c=K.stringToBytes(`${l}.${this.jws.payload}`),h=yield t.sign(c),V=K.bytesToBase64Url(h);this.jws.signatures.push({protected:l,signature:V})})}getJws(){return this.jws}}const m0="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var J_=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},hu=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(hu||{});class y0{static derivePrivateKey(t,n){var i;return J_(this,void 0,void 0,function*(){const l=Ee.privateJwkToBytes(t.derivedPrivateKey),p=null!==(i=t.derivationPath)&&void 0!==i?i:[],c=yield y0.derivePrivateKeyBytes(l,n),h=yield Ee.privateKeyToJwk(c);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...p,...n],derivedPrivateKey:h}})}static derivePublicKey(t,n){return J_(this,void 0,void 0,function*(){const i=yield y0.derivePrivateKey(t,n);return yield Ee.getPublicJwk(i.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return J_(this,void 0,void 0,function*(){y0.validateKeyDerivationPath(n);let i=t;for(const l of n){const p=K.stringToBytes(l);i=yield y0.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:i,info:p,keyLengthInBytes:32})}return i})}static deriveKeyUsingHkdf(t){return J_(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:i,info:l,keyLengthInBytes:p}=t,h=yield function Rk(){if(m0&&"object"==typeof m0.subtle&&null!=m0.subtle)return m0.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",i,{name:"HKDF"},!1,["deriveBits"]),V=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:l},h,8*p);return new Uint8Array(V)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new ce(_e.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function _b(r,t){return r>t?1:r<t?-1:0}function Eb(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function bd(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&bd(r[t])})}var Yu=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Hr{static validateJsonSchema(t){yy(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:kr.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return Yu(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield rl.computeCid(n)})}static compareCid(t,n){return Yu(this,void 0,void 0,function*(){return _b(yield Hr.getCid(t),yield Hr.getCid(n))})}static createAuthorization(t){return Yu(this,void 0,void 0,function*(){const{descriptor:n,signer:i,delegatedGrant:l,permissionGrantId:p,protocolRole:c}=t;let h;void 0!==l&&(h=yield Hr.getCid(l));const $={signature:yield Hr.createSignature(n,i,{delegatedGrantId:h,permissionGrantId:p,protocolRole:c})};return void 0!==l&&($.authorDelegatedGrant=l),$})}static createSignature(t,n,i){return Yu(this,void 0,void 0,function*(){const l=yield rl.computeCid(t),p=Object.assign({descriptorCid:l},i);bd(p);const c=K.objectToBytes(p);return(yield wb.create(c,[n])).getJws()})}static getNewestMessage(t){return Yu(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Hr.isNewer(i,n)))&&(n=i);return n})}static getOldestMessage(t){return Yu(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Hr.isOlder(i,n)))&&(n=i);return n})}static isNewer(t,n){return Yu(this,void 0,void 0,function*(){return(yield Hr.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return Yu(this,void 0,void 0,function*(){return(yield Hr.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return Yu(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:Hr.compareCid(t,n)})}static validateSignatureStructure(t,n,i="GenericSignaturePayload"){return Yu(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new ce(_e.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const l=kr.decodePlainObjectPayload(t);yy(i,l);const{descriptorCid:p}=l,c=yield rl.computeCid(n);if(p!==c)throw new ce(_e.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${p} does not match expected CID ${c}`);return l})}}class Ju{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new Ju(t)})}constructor(t){this.id=t.recordId,this.grantor=Hr.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const i=K.base64UrlToObject(t.encodedData);this.dateExpires=i.dateExpires,this.delegated=i.delegated,this.description=i.description,this.requestId=i.requestId,this.scope=i.scope,this.conditions=i.conditions}}var zd=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(zd||{});class il{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const i of n)if(this.matchFilter(t,i))return!0;return!1}static matchFilter(t,n){for(const i in n){const l=n[i],p=t[i];if(void 0===p||!(Array.isArray(p)?this.matchAnyIndexValue(l,p):this.matchIndexValue(l,p)))return!1}return!0}static matchAnyIndexValue(t,n){for(const i of n)if(this.matchIndexValue(t,i))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const i of t)if(n===i)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class $x{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:i,attester:l,parentId:p,recipient:c,contextId:h,protocolPath:$,schema:I,protocol:q}=t,ke=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==i)return{recordId:i};if(void 0!==l)return{attester:l};if(void 0!==p)return{parentId:p};if(void 0!==c)return{recipient:c};if(void 0!==h)return{contextId:h};if(void 0!==$)return{protocolPath:$};if(void 0!==I)return{schema:I};if(void 0!==q)return{protocol:q};const Pe=Object.keys(ke)[0],Ke={};return Ke[Pe]=t[Pe],Ke}}var Wi=function(r){return r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}(Wi||{}),ui=function(r){return r.Configure="Configure",r.Query="Query",r.Read="Read",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(ui||{});function _h(r){let t;try{t=Qp(r)}catch{t=void 0}if(r!==t)throw new ce(_e.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function Qp(r){return bI(r)}function q_(r){let t;try{t=Q_(r)}catch{t=void 0}if(r!==t)throw new ce(_e.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function Q_(r){return bI(r)}function bI(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function wI(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new ce(_e.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var xb=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class mo{static isRecordsWrite(t){return t.descriptor.interface===Wi.Records&&t.descriptor.method===ui.Write}static getAuthor(t){let n;return n=Hr.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,i){return xb(this,void 0,void 0,function*(){const{encryption:l}=t,p=l.keyEncryption.find(Ke=>Ke.rootKeyId===n.rootKeyId&&Ke.derivationScheme===n.derivationScheme);if(void 0===p)throw new ce(_e.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const c=mo.constructKeyDerivationPath(p.derivationScheme,t),h=yield mo.derivePrivateKey(n,c),V=K.base64UrlToBytes(p.encryptedKey),$=Ee.publicJwkToBytes(p.ephemeralPublicKey),I=K.base64UrlToBytes(p.initializationVector),q=K.base64UrlToBytes(p.messageAuthenticationCode),ke=yield bb.eciesSecp256k1Decrypt({ciphertext:V,ephemeralPublicKey:$,initializationVector:I,messageAuthenticationCode:q,privateKey:h}),Ne=K.base64UrlToBytes(l.initializationVector);return yield bb.aes256CtrDecrypt(ke,Ne,i)})}static constructKeyDerivationPath(t,n){const i=n.descriptor,l=n.contextId;let p;return p=t===hu.DataFormats?mo.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):t===hu.ProtocolPath?mo.constructKeyDerivationPathUsingProtocolPathScheme(i):t===hu.ProtocolContext?mo.constructKeyDerivationPathUsingProtocolContextScheme(l):mo.constructKeyDerivationPathUsingSchemasScheme(i.schema),p}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[hu.DataFormats,t,n]:[hu.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new ce(_e.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[hu.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new ce(_e.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[hu.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new ce(_e.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[hu.Schemas,t]}static derivePrivateKey(t,n){var i;return xb(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new ce(_e.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const l=null!==(i=t.derivationPath)&&void 0!==i?i:[];mo.validateAncestorKeyAndDescentKeyDerivationPathsMatch(l,n);const p=n.slice(l.length),c=Ee.privateJwkToBytes(t.derivedPrivateKey);return yield y0.derivePrivateKeyBytes(c,p)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let i=0;i<t.length;i++){const l=t[i],p=n[i];if(l!==p)throw new ce(_e.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${l}' mismatches against the descendant key derivation segment '${p}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,i;n=void 0===t.protocol?void 0:Qp(t.protocol),i=void 0===t.schema?void 0:Q_(t.schema);const l=Object.assign(Object.assign({},t),{protocol:n,schema:i});return bd(l),l}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const i in t)n[`tag.${i}`]=t[i];return n}static convertTagsFilter(t){const n={};for(const i in t){const l=t[i];n[`tag.${i}`]=this.isStartsWithFilter(l)?il.constructPrefixFilterAsRangeFilter(l.startsWith):l}return n}static convertFilter(t,n){const{tags:i}=t,l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["tags"]);let p={};void 0!==i&&(p=Object.assign({},this.convertTagsFilter(i)));const c=Object.assign(Object.assign({},l),p),{dateCreated:h,datePublished:V,dateUpdated:$,contextId:I}=t,q=h?il.convertRangeCriterion(h):void 0;q&&(c.dateCreated=q);const ke=V?il.convertRangeCriterion(V):void 0;ke&&(c.published=!0,c.datePublished=ke),!0!==c.published&&(n===zd.PublishedAscending||n===zd.PublishedDescending)&&(c.published=!0);const Ne=$?il.convertRangeCriterion($):void 0;Ne&&(c.messageTimestamp=Ne,delete c.dateUpdated);const Pe=I?il.constructPrefixFilterAsRangeFilter(I):void 0;return Pe&&(c.contextId=Pe),c}static validateDelegatedGrantReferentialIntegrity(t,n,i){var l,p;return xb(this,void 0,void 0,function*(){const c=void 0!==n?.delegatedGrantId,h=void 0!==(null===(l=t.authorization)||void 0===l?void 0:l.authorDelegatedGrant);if(c!==h)throw new ce(_e.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${c},          authorDelegatedGrant defined: ${h}`);if(h){const I=t.authorization.authorDelegatedGrant;if(!0!==(yield Ju.parse(I)).delegated)throw new ce(_e.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const ke=I.descriptor.recipient,Ne=Hr.getSigner(t);if(ke!==Ne)throw new ce(_e.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${ke} in author delegated grant must be the same as the signer ${Ne} of the message signature.`);const Pe=yield Hr.getCid(I);if(Pe!==n.delegatedGrantId)throw new ce(_e.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Pe} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const V=void 0!==i?.delegatedGrantId,$=void 0!==(null===(p=t.authorization)||void 0===p?void 0:p.ownerDelegatedGrant);if(V!==$)throw new ce(_e.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${V},          ownerDelegatedGrant defined: ${$}`);if($){const I=t.authorization.ownerDelegatedGrant;if(!0!==(yield Ju.parse(I)).delegated)throw new ce(_e.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const ke=I.descriptor.recipient,Ne=kr.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(ke!==Ne)throw new ce(_e.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${ke} in owner delegated grant must be the same as the signer ${Ne} of the owner signature.`);const Pe=yield Hr.getCid(I);if(Pe!==i.delegatedGrantId)throw new ce(_e.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Pe} must be the same as           the delegatedGrantId ${i.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var e1=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class qu{static performBaseValidation(t){return e1(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}=t,h=n.descriptor;qu.verifyExpectedGrantorAndGrantee(i,l,p);const V=i;yield qu.verifyGrantActive(V,h.messageTimestamp,p,c),yield qu.verifyGrantScopeInterfaceAndMethod(h.interface,h.method,p)})}static verifyExpectedGrantorAndGrantee(t,n,i){const l=i.grantee;if(n!==l)throw new ce(_e.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${l}, but need to be granted to ${n}`);const p=i.grantor;if(t!==p)throw new ce(_e.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${p}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,i,l){return e1(this,void 0,void 0,function*(){if(n<i.dateGranted)throw new ce(_e.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=i.dateExpires)throw new ce(_e.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const p={parentId:i.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:c}=yield l.query(t,[p]),h=yield Hr.getOldestMessage(c);if(void 0!==h&&h.descriptor.messageTimestamp<=n)throw new ce(_e.GrantAuthorizationGrantRevoked,`Permission grant with CID ${i.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,i){return e1(this,void 0,void 0,function*(){if(t!==i.scope.interface)throw new ce(_e.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${i.id}`);if(n!==i.scope.method)throw new ce(_e.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${i.id}`)})}}var Vx=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(Vx||{}),Sb=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Qu{static authorizeWrite(t){return Sb(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}=t;yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}),Qu.verifyScope(n,p.scope),Qu.verifyConditions(n,p.conditions)})}static authorizeRead(t){return Sb(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:i,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h}=t;yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h}),Qu.verifyScope(i,c.scope)})}static authorizeQueryOrSubscribe(t){return Sb(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}=t;yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c});const V=p.scope.protocol,$=n.descriptor.filter.protocol;if(void 0!==V&&$!==V)throw new ce(_e.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${V} does not match protocol in message ${$}`)})}static authorizeDelete(t){return Sb(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:i,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h}=t;yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h});const $=c.scope.protocol,I=i.descriptor.protocol;if(void 0!==$&&I!==$)throw new ce(_e.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${$} does not match protocol in record to delete ${I}`)})}static verifyScope(t,n){if(n.protocol!==t.descriptor.protocol)throw new ce(_e.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new ce(_e.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new ce(_e.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyConditions(t,n){if(n?.publication===Vx.Required&&!t.descriptor.published)throw new ce(_e.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===Vx.Prohibited&&t.descriptor.published)throw new ce(_e.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}}var kt=E(89994);const t1={};function ef(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r,n,i))}for(const n of Object.getOwnPropertyNames(r.prototype)){const i=Object.getOwnPropertyDescriptor(r.prototype,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r.prototype,n,i))}pa(t,r),pa(`${t}.prototype`,r.prototype)}function pa(r,t){const n=`%${r}%`;if(void 0!==t1[n])throw new Error(`intrinsic ${r} already exists`);t1[n]=t}function Ur(r){return t1[r]}var zx,Hx;const Ei="slot-epochNanoSeconds",tf="slot-timezone-identifier",Yr="slot-year",Qr="slot-month",ri="slot-day",Qi="slot-hour",no="slot-minute",eo="slot-second",ro="slot-millisecond",io="slot-microsecond",fo="slot-nanosecond",Qn="slot-calendar",_I="slot-date-brand",EI="slot-year-month-brand",Bk="slot-month-day-brand",$c="slot-cached-instant",ns="slot-time-zone",ol="slot-years",vc="slot-months",zl="slot-weeks",Hl="slot-days",Wl="slot-hours",Gl="slot-minutes",Xl="slot-seconds",Zl="slot-milliseconds",Yl="slot-microseconds",Dl="slot-nanoseconds",_s="slot-calendar-identifier",Zy=new WeakMap,Wx=Symbol.for("@@Temporal__GetSlots");(zx=globalThis)[Wx]||(zx[Wx]=function(t){return Zy.get(t)});const xI=globalThis[Wx],n1=Symbol.for("@@Temporal__CreateSlots");(Hx=globalThis)[n1]||(Hx[n1]=function(t){Zy.set(t,Object.create(null))});const Eh=globalThis[n1];function bc(r,...t){if(!r||"object"!=typeof r)return!1;const n=xI(r);return!!n&&t.every(i=>i in n)}function He(r,t){const n=xI(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function yo(r,t,n){const i=xI(r);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=n}const SI=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,em=new RegExp("(?:"+[`(?:${SI.source})(?:\\/(?:${SI.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),Gx=/(?:[+\u2212-]\d{6}|\d{4})/,r1=/(?:0[1-9]|1[0-2])/,o1=/(?:0[1-9]|[12]\d|3[01])/,G4=new RegExp(`(${Gx.source})(?:-(${r1.source})-(${o1.source})|(${r1.source})(${o1.source}))`),Xx=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,Nk=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,MI=new RegExp(`([zZ])|${Nk.source}?`),np=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,Zx=new RegExp([`^${G4.source}`,`(?:(?:T|\\s+)${Xx.source}(?:${MI.source})?)?`,`(?:\\[!?(${em.source})\\])?`,`((?:${np.source})*)$`].join(""),"i"),Lk=new RegExp([`^T?${Xx.source}`,`(?:${MI.source})?`,`(?:\\[!?${em.source}\\])?`,`((?:${np.source})*)$`].join(""),"i"),Uk=new RegExp(`^(${Gx.source})-?(${r1.source})(?:\\[!?${em.source}\\])?((?:${np.source})*)$`),s1=new RegExp(`^(?:--)?(${r1.source})-?(${o1.source})(?:\\[!?${em.source}\\])?((?:${np.source})*)$`),Yx=/(\d+)(?:[.,](\d{1,9}))?/,Fk=new RegExp(`(?:${Yx.source}H)?(?:${Yx.source}M)?(?:${Yx.source}S)?`),jk=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${Fk.source})?$`,"i"),$k=Array.prototype.includes,AI=Array.prototype.push,TI=globalThis.Intl.DateTimeFormat,DI=Math.min,II=Math.max,Is=Math.abs,wd=Math.floor,Mb=Math.sign,tm=Math.trunc,Ab=Number.isNaN,Ha=Number.isFinite,CI=Number,Tb=String,X4=Number.MAX_SAFE_INTEGER,wc=Object.create,Jx=Object.getOwnPropertyDescriptor,a1=Reflect.apply,kI=Reflect.ownKeys,Ws=kt.BigInt(0),Yy=kt.BigInt(1),rp=kt.BigInt(60),Db=kt.BigInt(24),Ho=kt.BigInt(1e3),Hd=kt.BigInt(1e6),nf=kt.BigInt(1e9),Kk=kt.BigInt(-1),Uf=kt.multiply(kt.BigInt(3600),nf),Jy=kt.multiply(rp,nf),Cs=kt.multiply(Uf,Db),Ff=kt.multiply(kt.BigInt(-86400),kt.BigInt(1e17)),ip=kt.multiply(kt.BigInt(86400),kt.BigInt(1e17)),_d=-271821,op=275760,qy=kt.multiply(kt.BigInt(-388152),kt.BigInt(1e13)),Ib=kt.multiply(Cs,kt.BigInt(3660)),c1=kt.multiply(Cs,kt.BigInt(366)),qx=kt.multiply(Cs,kt.BigInt(14)),RI=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function pu(r){return kt.equal(r,Ws)}function Go(r,t){const n=r[t];if(void 0!==n)return n}function Xr(r,t,n){return a1(r,t,arguments.length>2?n:[])}function ks(r){return"object"==typeof r&&null!==r||"function"==typeof r}function Qy(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return CI(r)}function Do(r){const t=Qy(r);if(Ab(t)||0===t)return 0;if(!Ha(t))return t;const n=wd(Is(t));return 0===n?0:Mb(t)*n}function sl(r){if("number"!=typeof r||Ab(r)||!Ha(r))return!1;const t=Is(r);return wd(t)===t}function Ja(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return Tb(r)}function Oo(r){const t=Qy(r);if(0===t)return 0;if(Ab(t)||!Ha(t))throw new RangeError("invalid number value");const n=tm(t);return 0===n?0:n}function eg(r,t){const n=Oo(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function Da(r){const t=Qy(r);if(!Ha(t))throw new RangeError("infinity is out of range");if(!sl(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function Sa(r,t){return{quotient:kt.divide(r,t),remainder:kt.remainder(r,t)}}function Cb(r){return kt.lessThan(r,Ws)}function Qx(r){return pu(r)?0:Cb(r)?-1:1}function Wd(r){return kt.lessThan(r,Ws)?kt.multiply(r,Kk):r}const l1=new Map([["year",Oo],["month",eg],["monthCode",Ja],["day",eg],["hour",Oo],["minute",Oo],["second",Oo],["millisecond",Oo],["microsecond",Oo],["nanosecond",Oo],["years",Da],["months",Da],["weeks",Da],["days",Da],["hours",Da],["minutes",Da],["seconds",Da],["milliseconds",Da],["microseconds",Da],["nanoseconds",Da],["era",Ja],["eraYear",Do],["offset",Ja]]),OI=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),nm=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],xh=new Map(nm.map(r=>[r[0],r[1]])),Vk=new Map(nm.map(([r,t])=>[t,r])),Gd=nm.map(([,r])=>r),PI=Array.from(xh.keys()).sort(),BI=new Map;function d1(r){let t=BI.get(r);return void 0===t&&(t=new TI("en-us",{timeZone:Tb(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),BI.set(r,t)),t}function eS(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function g0(r,t,n,i){if(null==t)return;const l=kI(t);for(const p of l)if(!n.some(c=>Object.is(c,p))&&Object.prototype.propertyIsEnumerable.call(t,p)){const c=t[p];if(i&&i.some(h=>Object.is(h,c)))continue;r[p]=c}}function qa(r){return bc(r,Ei)&&!bc(r,ns,Qn)}function rf(r){return bc(r,tf)}function ma(r){return bc(r,_s)}function Fs(r){return bc(r,ol,vc,Hl,Wl,Gl,Xl,Zl,Yl,Dl)}function _o(r){return bc(r,_I)}function Gs(r){return bc(r,Qi,no,eo,ro,io,fo)&&!bc(r,Yr,Qr,ri)}function Li(r){return bc(r,Yr,Qr,ri,Qi,no,eo,ro,io,fo)}function $o(r){return bc(r,EI)}function Qa(r){return bc(r,Bk)}function ii(r){return bc(r,Ei,ns,Qn)}function rm(r){if(bc(r,Qn)||bc(r,ns))throw new TypeError("with() does not support a calendar or timeZone property");if(Gs(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function u1(r,t){return"never"===t?"":f1(ec(r),t)}function f1(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function jf(r){const t=Zx.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const i=Do(n),l=Do(t[2]||t[4]),p=Do(t[3]||t[5]),c=Do(t[6]),h=void 0!==t[6],V=Do(t[7]||t[10]);let $=Do(t[8]||t[11]);60===$&&($=59);const I=(t[9]||t[12])+"000000000",q=Do(I.slice(0,3)),ke=Do(I.slice(3,6)),Ne=Do(I.slice(6,9));let Pe,Ke=!1;if(t[13])Pe=void 0,Ke=!0;else if(t[14]&&t[15]){const Ct=t[17]||"00";let zt=t[18]||"0";if(Pe=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+zt){for(;zt.endsWith("0");)zt=zt.slice(0,-1);Pe+=`:${Ct}.${zt}`}else+Ct&&(Pe+=`:${Ct}`);"-00:00"===Pe&&(Pe="+00:00")}const rt=t[19],ht=t[20];let ct;for(const[,dt,At,Pt]of ht.matchAll(np))if("u-ca"===At)void 0===ct&&(ct=Pt);else if("!"===dt)throw new RangeError(`Unrecognized annotation: !${At}=${Pt}`);return mS(i,l,p,c,V,$,q,ke,Ne),{year:i,month:l,day:p,hasTime:h,hour:c,minute:V,second:$,millisecond:q,microsecond:ke,nanosecond:Ne,ianaName:rt,offset:Pe,z:Ke,calendar:ct}}function nS(r){const t=Uk.exec(r);let n,i,l,p;if(t){let c=t[1];if("\u2212"===c[0]&&(c=`-${c.slice(1)}`),"-000000"===c)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=Do(c),i=Do(t[2]);const h=t[3];for(const[,V,$,I]of h.matchAll(np))if("u-ca"===$)void 0===l&&(l=I);else if("!"===V)throw new RangeError(`Unrecognized annotation: !${$}=${I}`);if(void 0!==l&&"iso8601"!==l)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let c;if(({year:n,month:i,calendar:l,day:p,z:c}=jf(r)),c)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:i,calendar:l,referenceISODay:p}}function rS(r){const t=s1.exec(r);let n,i,l,p;if(t){n=Do(t[1]),i=Do(t[2]);const c=t[3];for(const[,h,V,$]of c.matchAll(np))if("u-ca"===V)void 0===l&&(l=$);else if("!"===h)throw new RangeError(`Unrecognized annotation: !${V}=${$}`);if(void 0!==l&&"iso8601"!==l)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let c;if(({month:n,day:i,calendar:l,year:p,z:c}=jf(r)),c)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:i,calendar:l,referenceISOYear:p}}function kb(r,t,n,i){let l=r,p=t,c=n;switch(i){case"reject":Ih(l,p,c);break;case"constrain":({year:l,month:p,day:c}=WI(l,p,c))}return{year:l,month:p,day:c}}function h1(r,t,n,i,l,p,c){let h=r,V=t,$=n,I=i,q=l,ke=p;switch(c){case"reject":T1(h,V,$,I,q,ke);break;case"constrain":({hour:h,minute:V,second:$,millisecond:I,microsecond:q,nanosecond:ke}=(Ke=V,rt=$,ht=I,ct=q,dt=ke,{hour:Ad(h,0,23),minute:Ad(Ke,0,59),second:Ad(rt,0,59),millisecond:Ad(ht,0,999),microsecond:Ad(ct,0,999),nanosecond:Ad(dt,0,999)}))}var Ke,rt,ht,ct,dt;return{hour:h,minute:V,second:$,millisecond:I,microsecond:q,nanosecond:ke}}function v0(r){if(!ks(r))return function(Pe){const Ke=jk.exec(Pe);if(!Ke)throw new RangeError(`invalid duration: ${Pe}`);if(Ke.slice(2).every(wn=>void 0===wn))throw new RangeError(`invalid duration: ${Pe}`);const rt="-"===Ke[1]||"\u2212"===Ke[1]?-1:1,ht=void 0===Ke[2]?0:Oo(Ke[2])*rt,ct=void 0===Ke[3]?0:Oo(Ke[3])*rt,dt=void 0===Ke[4]?0:Oo(Ke[4])*rt,At=void 0===Ke[5]?0:Oo(Ke[5])*rt,Pt=void 0===Ke[6]?0:Oo(Ke[6])*rt,Ct=Ke[7],zt=Ke[8],Zt=Ke[9],xn=Ke[10],Cn=Ke[11];let Nn=0,ir=0,Pn=0;if(void 0!==Ct){if(zt??Zt??xn??Cn)throw new RangeError("only the smallest unit can be fractional");Pn=3600*Do((Ct+"000000000").slice(0,9))*rt}else if(Nn=void 0===zt?0:Oo(zt)*rt,void 0!==Zt){if(xn??Cn)throw new RangeError("only the smallest unit can be fractional");Pn=60*Do((Zt+"000000000").slice(0,9))*rt}else ir=void 0===xn?0:Oo(xn)*rt,void 0!==Cn&&(Pn=Do((Cn+"000000000").slice(0,9))*rt);const Hn=Pn%1e3,ln=tm(Pn/1e3)%1e3,vn=tm(Pn/1e6)%1e3;return ir+=tm(Pn/1e9)%60,Nn+=tm(Pn/6e10),yS(ht,ct,dt,At,Pt,Nn,ir,vn,ln,Hn),{years:ht,months:ct,weeks:dt,days:At,hours:Pt,minutes:Nn,seconds:ir,milliseconds:vn,microseconds:ln,nanoseconds:Hn}}(Ja(r));if(Fs(r))return{years:He(r,ol),months:He(r,vc),weeks:He(r,zl),days:He(r,Hl),hours:He(r,Wl),minutes:He(r,Gl),seconds:He(r,Xl),milliseconds:He(r,Zl),microseconds:He(r,Yl),nanoseconds:He(r,Dl)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Pe){if(!ks(Pe))throw new TypeError("invalid duration-like");const Ke={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let rt=!1;for(const ht of PI){const ct=Pe[ht];void 0!==ct&&(rt=!0,Ke[ht]=Da(ct))}if(!rt)throw new TypeError("invalid duration-like");return Ke}(r);for(const Ne of PI){const Pe=n[Ne];void 0!==Pe&&(t[Ne]=Pe)}let{years:i,months:l,weeks:p,days:c,hours:h,minutes:V,seconds:$,milliseconds:I,microseconds:q,nanoseconds:ke}=t;return yS(i,l,p,c,h,V,$,I,q,ke),{years:i,months:l,weeks:p,days:c,hours:h,minutes:V,seconds:$,milliseconds:I,microseconds:q,nanoseconds:ke}}function Ia(r){return void 0===r?"constrain":k0(r,"overflow",["constrain","reject"],"constrain")}function b0(r){return void 0===r?"compatible":k0(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function sf(r,t){return k0(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function p1(r,t){return void 0===r?t:k0(r,"offset",["prefer","use","ignore","reject"],t)}function m1(r){return k0(r,"calendarName",["auto","always","never","critical"],"auto")}function ng(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=Qy(t),!Ha(t))throw new RangeError("roundingIncrement must be finite");const n=tm(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function im(r,t,n){const i=n?t:t-1;if(r>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function w0(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==Ja(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=wd(t);if(!Ha(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function Rb(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const _0=Symbol("~required~");function Ed(r,t,n,i,l=[]){const p=[];for(const[,$,I]of nm)"datetime"!==n&&n!==I||p.push($);p.push(...l);let c=i;c===_0?c=void 0:void 0!==c&&p.push(c);const h=[...p];for(const $ of p){const I=Vk.get($);void 0!==I&&h.push(I)}let V=k0(r,t,h,c);if(void 0===V&&i===_0)throw new RangeError(`${t} is required`);return xh.has(V)?xh.get(V):V}function y1(r){const t=r.relativeTo;if(void 0===t)return t;let n,i,l,p,c,h,V,$,I,q,ke,Ne,Pe="option",Ke=!1;if(ks(t)){if(ii(t)||_o(t))return t;if(Li(t))return cg(t);q=sg(t);const rt=ka(q,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);rt.push("timeZone","offset");const ht=vo(t,rt,[]),ct=wc(null);ct.overflow="constrain",({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I}=Ob(q,ht,ct)),Ne=ht.offset,void 0===Ne&&(Pe="wall"),ke=ht.timeZone,void 0!==ke&&(ke=_c(ke))}else{let rt,ht;if(({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I,calendar:q,ianaName:rt,offset:Ne,z:ht}=jf(Ja(t))),rt)ke=_c(rt),ht?Pe="exact":Ne||(Pe="wall"),Ke=!0;else if(ht)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(q||(q="iso8601"),!Zd(q))throw new RangeError(`invalid calendar identifier ${q}`);q=Ch(q)}return void 0===ke?xd(n,i,l,q):Ca(Bb(n,i,l,p,c,h,V,$,I,Pe,"option"===Pe?Ah(Ne):0,ke,"compatible","reject",Ke),ke,q)}function iS(r,t,n,i,l,p,c,h,V,$){for(const[I,q]of[["years",r],["months",t],["weeks",n],["days",i],["hours",l],["minutes",p],["seconds",c],["milliseconds",h],["microseconds",V],["nanoseconds",$]])if(0!==q)return xh.get(I);return"nanosecond"}function E0(r,t){return Gd.indexOf(r)>Gd.indexOf(t)?t:r}function vo(r,t,n,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const l=wc(null);let p=!1;t.sort();for(const c of t){let h=r[c];if(void 0!==h)p=!0,l1.has(c)&&(h=l1.get(c)(h)),l[c]=h;else if("partial"!==n){if($k.call(n,c))throw new TypeError(`required property '${c}' missing or undefined`);h=OI.get(c),l[c]=h}}if("partial"===n&&!p)throw new TypeError(i);return l}function g1(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],i=vo(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),l={};for(const p of n){const c=Jx(i,p);void 0!==c?l[p]=c.value:"complete"===t&&(l[p]=0)}return l}function hs(r,t){let n=r;if(ks(n)){if(_o(n))return n;if(ii(n)&&(Ia(t),n=Md(He(n,ns),He(n,$c),He(n,Qn))),Li(n))return Ia(t),xd(He(n,Yr),He(n,Qr),He(n,ri),He(n,Qn));const V=sg(n);return Sd(V,vo(n,ka(V,["day","month","monthCode","year"]),[]),t)}Ia(t);let{year:i,month:l,day:p,calendar:c,z:h}=jf(Ja(n));if(h)throw new RangeError("Z designator not supported for PlainDate");if(c||(c="iso8601"),!Zd(c))throw new RangeError(`invalid calendar identifier ${c}`);return c=Ch(c),xd(i,l,p,c)}function Ob(r,t,n){let{hour:i,minute:l,second:p,millisecond:c,microsecond:h,nanosecond:V}=g1(t);const $=Ia(n),I=Sd(r,t,n),q=He(I,Yr),ke=He(I,Qr),Ne=He(I,ri);return({hour:i,minute:l,second:p,millisecond:c,microsecond:h,nanosecond:V}=h1(i,l,p,c,h,V,$)),{year:q,month:ke,day:Ne,hour:i,minute:l,second:p,millisecond:c,microsecond:h,nanosecond:V}}function x0(r,t){let n,i,l,p,c,h,V,$,I,q;if(ks(r)){if(Li(r))return r;if(ii(r))return Ia(t),Md(He(r,ns),He(r,$c),He(r,Qn));if(_o(r))return Ia(t),Jl(He(r,Yr),He(r,Qr),He(r,ri),0,0,0,0,0,0,He(r,Qn));q=sg(r);const ke=vo(r,ka(q,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I}=Ob(q,ke,t))}else{let ke;if(Ia(t),({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I,calendar:q,z:ke}=jf(Ja(r))),ke)throw new RangeError("Z designator not supported for PlainDateTime");if(mS(n,i,l,p,c,h,V,$,I),q||(q="iso8601"),!Zd(q))throw new RangeError(`invalid calendar identifier ${q}`);q=Ch(q)}return Jl(n,i,l,p,c,h,V,$,I,q)}function rg(r){if(Fs(r))return r;let{years:t,months:n,weeks:i,days:l,hours:p,minutes:c,seconds:h,milliseconds:V,microseconds:$,nanoseconds:I}=v0(r);return new(Ur("%Temporal.Duration%"))(t,n,i,l,p,c,h,V,$,I)}function $f(r){if(qa(r))return r;if(ii(r))return new(Ur("%Temporal.Instant%"))(He(r,Ei));const t=function tg(r){let{year:t,month:n,day:i,hour:l,minute:p,second:c,millisecond:h,microsecond:V,nanosecond:$,offset:I,z:q}=function(Ke){const rt=jf(Ke);if(!rt.z&&!rt.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return rt}(r);if(!q&&!I)throw new RangeError("Temporal.Instant requires a time zone offset");const ke=q?0:Ah(I);({year:t,month:n,day:i,hour:l,minute:p,second:c,millisecond:h,microsecond:V,nanosecond:$}=hS(t,n,i,l,p,c,h,V,$-ke));const Ne=pp(t,n,i,l,p,c,h,V,$);if(null===Ne)throw new RangeError("DateTime outside of supported range");return Ne}(Ja(r));return new(Ur("%Temporal.Instant%"))(t)}function NI(r,t){let n=r;if(ks(n)){if(Qa(n))return n;let h,V;if(bc(n,Qn))h=He(n,Qn),V=!1;else{let I=n.calendar;V=void 0===I,void 0===I&&(I="iso8601"),h=ql(I)}const $=vo(n,ka(h,["day","month","monthCode","year"]),[]);return V&&void 0!==$.month&&void 0===$.monthCode&&void 0===$.year&&($.year=1972),ag(h,$,t)}Ia(t);let{month:i,day:l,referenceISOYear:p,calendar:c}=rS(Ja(n));if(void 0===c&&(c="iso8601"),!Zd(c))throw new RangeError(`invalid calendar identifier ${c}`);return c=Ch(c),void 0===p?(Ih(1972,i,l),og(i,l,c)):ag(c,og(i,l,c,p))}function sp(r,t="constrain"){let n,i,l,p,c,h,V=r;if(ks(V)){if(Gs(V))return V;if(ii(V)&&(V=Md(He(V,ns),He(V,$c),He(V,Qn))),Li(V))return new(Ur("%Temporal.PlainTime%"))(He(V,Qi),He(V,no),He(V,eo),He(V,ro),He(V,io),He(V,fo));({hour:n,minute:i,second:l,millisecond:p,microsecond:c,nanosecond:h}=g1(V)),({hour:n,minute:i,second:l,millisecond:p,microsecond:c,nanosecond:h}=h1(n,i,l,p,c,h,t))}else({hour:n,minute:i,second:l,millisecond:p,microsecond:c,nanosecond:h}=function(I){const q=Lk.exec(I);let ke,Ne,Pe,Ke,rt,ht,ct;if(q){ke=Do(q[1]),Ne=Do(q[2]||q[5]),Pe=Do(q[3]||q[6]),60===Pe&&(Pe=59);const dt=(q[4]||q[7])+"000000000";Ke=Do(dt.slice(0,3)),rt=Do(dt.slice(3,6)),ht=Do(dt.slice(6,9)),ct=q[14];for(const[,At,Pt,Ct]of ct.matchAll(np))if("u-ca"!==Pt&&"!"===At)throw new RangeError(`Unrecognized annotation: !${Pt}=${Ct}`);if(q[8])throw new RangeError("Z designator not supported for PlainTime")}else{let dt,At;if(({hasTime:At,hour:ke,minute:Ne,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht,z:dt}=jf(I)),!At)throw new RangeError(`time is missing in string: ${I}`);if(dt)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(I))return{hour:ke,minute:Ne,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht};try{const{month:dt,day:At}=rS(I);Ih(1972,dt,At)}catch{try{const{year:dt,month:At}=nS(I);Ih(dt,At,1)}catch{return{hour:ke,minute:Ne,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht}}}throw new RangeError(`invalid ISO 8601 time-only string ${I}; may need a T prefix`)}(Ja(V))),T1(n,i,l,p,c,h);return new(Ur("%Temporal.PlainTime%"))(n,i,l,p,c,h)}function Pb(r,t){if(ks(r)){if($o(r))return r;const c=sg(r);return hp(c,vo(r,ka(c,["month","monthCode","year"]),[]),t)}Ia(t);let{year:n,month:i,referenceISODay:l,calendar:p}=nS(Ja(r));if(void 0===p&&(p="iso8601"),!Zd(p))throw new RangeError(`invalid calendar identifier ${p}`);return p=Ch(p),void 0===l?(Ih(n,i,1),cp(n,i,p)):hp(p,cp(n,i,p,l))}function Bb(r,t,n,i,l,p,c,h,V,$,I,q,ke,Ne,Pe){const Ke=new(Ur("%Temporal.PlainDateTime%"))(r,t,n,i,l,p,c,h,V);if("wall"===$||"ignore"===Ne)return He(Il(q,Ke,ke),Ei);if("exact"===$||"use"===Ne){const ht=pp(r,t,n,i,l,p,c,h,V);if(null===ht)throw new RangeError("ZonedDateTime outside of supported range");return kt.subtract(ht,kt.BigInt(I))}const rt=$b(q,Ke);for(const ht of rt){const ct=Kf(q,ht),dt=kt.toNumber(Xd(kt.BigInt(ct),Jy,"halfExpand"));if(ct===I||Pe&&dt===I)return He(ht,Ei)}if("reject"===Ne){const ht=gu(I),ct=rf(q)?He(q,tf):"time zone";throw new RangeError(`Offset ${ht} is invalid for ${Ke.toString()} in ${ct}`)}return He(jI(rt,q,Ke,ke),Ei)}function ig(r,t){let n,i,l,p,c,h,V,$,I,q,ke,Ne,Pe,Ke,rt=!1,ht="option";if(ks(r)){if(ii(r))return r;Ne=sg(r);const dt=ka(Ne,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);dt.push("timeZone","offset");const At=vo(r,dt,["timeZone"]);q=_c(At.timeZone),ke=At.offset,void 0===ke&&(ht="wall"),Pe=b0(t),Ke=p1(t,"reject"),({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I}=Ob(Ne,At,t))}else{let dt,At;if(({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I,ianaName:dt,offset:ke,z:At,calendar:Ne}=function(Ct){const zt=jf(Ct);if(!zt.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return zt}(Ja(r))),q=_c(dt),At?ht="exact":ke||(ht="wall"),Ne||(Ne="iso8601"),!Zd(Ne))throw new RangeError(`invalid calendar identifier ${Ne}`);Ne=Ch(Ne),rt=!0,Pe=b0(t),Ke=p1(t,"reject"),Ia(t)}let ct=0;return"option"===ht&&(ct=Ah(ke)),Ca(Bb(n,i,l,p,c,h,V,$,I,ht,ct,q,Pe,Ke,rt),q,Ne)}function ap(r,t,n,i,l){Ih(t,n,i),GI(t,n,i),Eh(r),yo(r,Yr,t),yo(r,Qr,n),yo(r,ri,i),yo(r,Qn,l),yo(r,_I,!0)}function xd(r,t,n,i="iso8601"){const l=Ur("%Temporal.PlainDate%"),p=wc(l.prototype);return ap(p,r,t,n,i),p}function LI(r,t,n,i,l,p,c,h,V,$,I){mS(t,n,i,l,p,c,h,V,$),XI(t,n,i,l,p,c,h,V,$),Eh(r),yo(r,Yr,t),yo(r,Qr,n),yo(r,ri,i),yo(r,Qi,l),yo(r,no,p),yo(r,eo,c),yo(r,ro,h),yo(r,io,V),yo(r,fo,$),yo(r,Qn,I)}function Jl(r,t,n,i,l,p,c,h,V,$="iso8601"){const I=Ur("%Temporal.PlainDateTime%"),q=wc(I.prototype);return LI(q,r,t,n,i,l,p,c,h,V,$),q}function UI(r,t,n,i,l){Ih(l,t,n),GI(l,t,n),Eh(r),yo(r,Qr,t),yo(r,ri,n),yo(r,Yr,l),yo(r,Qn,i),yo(r,Bk,!0)}function og(r,t,n="iso8601",i=1972){const l=Ur("%Temporal.PlainMonthDay%"),p=wc(l.prototype);return UI(p,r,t,n,i),p}function oS(r,t,n,i,l){var c,h;Ih(t,n,l),h=n,Kc(c=t,_d,op),c===_d?Kc(h,4,12):c===op&&Kc(h,1,9),Eh(r),yo(r,Yr,t),yo(r,Qr,n),yo(r,ri,l),yo(r,Qn,i),yo(r,EI,!0)}function cp(r,t,n="iso8601",i=1){const l=Ur("%Temporal.PlainYearMonth%"),p=wc(l.prototype);return oS(p,r,t,n,i),p}function v1(r,t,n,i){yp(t),Eh(r),yo(r,Ei,t),yo(r,ns,n),yo(r,Qn,i);const l=new(Ur("%Temporal.Instant%"))(He(r,Ei));yo(r,$c,l)}function Ca(r,t,n="iso8601"){const i=Ur("%Temporal.ZonedDateTime%"),l=wc(i.prototype);return v1(l,r,t,n),l}function ka(r,t){if("string"==typeof r){const l=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.fields%"),l,[t])}const n=Xr(Go(r,"fields"),r,[t]),i=[];for(const l of n){if("string"!=typeof l)throw new TypeError("bad return from calendar.fields()");AI.call(i,l)}return i}function af(r,t,n){if("string"==typeof r){const l=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.mergeFields%"),l,[t,n])}const i=Xr(Go(r,"mergeFields"),r,[t,n]);if(!ks(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function lc(r,t,n,i,l){let p=l;if("string"==typeof r){const h=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.dateAdd%"),h,[t,n,i])}void 0===p&&(p=Go(r,"dateAdd"));const c=a1(p,r,[t,n,i]);if(!_o(c))throw new TypeError("invalid result");return c}function mu(r,t,n,i,l){let p=l;if("string"==typeof r){const h=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.dateUntil%"),h,[t,n,i])}void 0===p&&(p=Go(r,"dateUntil"));const c=a1(p,r,[t,n,i]);if(!Fs(c))throw new TypeError("invalid result");return c}function lp(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.year%"),i,[t])}let n=Xr(Go(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!sl(n))throw new RangeError("calendar year result must be an integer");return n}function dp(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.month%"),i,[t])}let n=Xr(Go(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!sl(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function Sh(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.monthCode%"),i,[t])}let n=Xr(Go(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function Mh(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.day%"),i,[t])}const n=Xr(Go(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!sl(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function up(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.era%"),i,[t])}let n=Xr(Go(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function fp(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.eraYear%"),i,[t])}let n=Xr(Go(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!sl(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function om(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.dayOfWeek%"),i,[t])}const n=Xr(Go(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!sl(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function sm(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.dayOfYear%"),i,[t])}const n=Xr(Go(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!sl(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function b1(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.weekOfYear%"),i,[t])}const n=Xr(Go(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!sl(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function w1(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.yearOfWeek%"),i,[t])}const n=Xr(Go(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!sl(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function _1(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.daysInWeek%"),i,[t])}const n=Xr(Go(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!sl(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function Nb(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.daysInMonth%"),i,[t])}const n=Xr(Go(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!sl(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function Lb(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.daysInYear%"),i,[t])}const n=Xr(Go(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!sl(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function Ub(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.monthsInYear%"),i,[t])}const n=Xr(Go(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!sl(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function Fb(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.inLeapYear%"),i,[t])}const n=Xr(Go(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function ql(r){if(ks(r)){if(bc(r,Qn))return He(r,Qn);if(!(ma(l=r)||"dateAdd"in l&&"dateFromFields"in l&&"dateUntil"in l&&"day"in l&&"dayOfWeek"in l&&"dayOfYear"in l&&"daysInMonth"in l&&"daysInWeek"in l&&"daysInYear"in l&&"fields"in l&&"id"in l&&"inLeapYear"in l&&"mergeFields"in l&&"month"in l&&"monthCode"in l&&"monthDayFromFields"in l&&"monthsInYear"in l&&"weekOfYear"in l&&"year"in l&&"yearMonthFromFields"in l&&"yearOfWeek"in l))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var l;const t=Ja(r);if(Zd(t))return Ch(t);let n;try{({calendar:n}=jf(t))}catch{try{({calendar:n}=nS(t))}catch{({calendar:n}=rS(t))}}if(n||(n="iso8601"),!Zd(n))throw new RangeError(`invalid calendar identifier ${n}`);return Ch(n)}function sg(r){if(bc(r,Qn))return He(r,Qn);const{calendar:t}=r;return void 0===t?"iso8601":ql(t)}function ec(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function yu(r){return ks(r)?r:new(Ur("%Temporal.Calendar%"))(r)}function jb(r,t){return r===t||ec(r)===ec(t)}function E1(r,t,n){if(r===t)return;const i=ec(r),l=ec(t);if(i!==l)throw new RangeError(`cannot ${n} of ${i} and ${l} calendars`)}function x1(r,t){if(r===t)return t;const n=ec(r),i=ec(t);if(n===i||"iso8601"===n)return t;if("iso8601"===i)return r;throw new RangeError("irreconcilable calendars")}function Sd(r,t,n,i){if("string"==typeof r){const p=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.dateFromFields%"),p,[t,n])}const l=Xr(i??Go(r,"dateFromFields"),r,[t,n]);if(!_o(l))throw new TypeError("invalid result");return l}function hp(r,t,n){if("string"==typeof r){const l=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.yearMonthFromFields%"),l,[t,n])}let i=Xr(Go(r,"yearMonthFromFields"),r,[t,n]);if(!$o(i))throw new TypeError("invalid result");return i}function ag(r,t,n){if("string"==typeof r){const l=new(Ur("%Temporal.Calendar%"))(r);return Xr(Ur("%Temporal.Calendar.prototype.monthDayFromFields%"),l,[t,n])}let i=Xr(Go(r,"monthDayFromFields"),r,[t,n]);if(!Qa(i))throw new TypeError("invalid result");return i}function _c(r){if(ks(r)){if(ii(r))return He(r,ns);if(!(rf(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function tS(r){const{ianaName:t,offset:n,z:i}=function(p){if(new RegExp(`^${em.source}$`,"i").test(p))return{ianaName:p};try{const c=jf(p);if(c.z||c.offset||c.ianaName)return c}catch{}throw new RangeError(`Invalid time zone: ${p}`)}(r);return t?Vb(t):i?"UTC":gu(Ah(n))}(Ja(r))}function S1(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function zk(r){return ks(r)?r:new(Ur("%Temporal.TimeZone%"))(r)}function FI(r,t){return r===t||S1(r)===S1(t)}function cg(r){return xd(He(r,Yr),He(r,Qr),He(r,ri),He(r,Qn))}function M1(r){return new(Ur("%Temporal.PlainTime%"))(He(r,Qi),He(r,no),He(r,eo),He(r,ro),He(r,io),He(r,fo))}function Kf(r,t,n){if("string"==typeof r){const l=new(Ur("%Temporal.TimeZone%"))(r);return Xr(Ur("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),l,[t])}const i=Xr(n??Go(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!sl(i)||Is(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function dc(r,t){return gu(Kf(r,t))}function Md(r,t,n){const i=He(t,Ei),l=Kf(r,t);let{year:p,month:c,day:h,hour:V,minute:$,second:I,millisecond:q,microsecond:ke,nanosecond:Ne}=zf(i);return({year:p,month:c,day:h,hour:V,minute:$,second:I,millisecond:q,microsecond:ke,nanosecond:Ne}=hS(p,c,h,V,$,I,q,ke,Ne+l)),Jl(p,c,h,V,$,I,q,ke,Ne,n)}function Il(r,t,n){return jI($b(r,t),r,t,n)}function jI(r,t,n,i){const l=Ur("%Temporal.Instant%"),p=r.length;if(1===p)return r[0];if(p)switch(i){case"compatible":case"earlier":return r[0];case"later":return r[p-1];case"reject":throw new RangeError("multiple instants found")}const c=He(n,Yr),h=He(n,Qr),V=He(n,ri),$=He(n,Qi),I=He(n,no),q=He(n,eo),ke=He(n,ro),Ne=He(n,io),Pe=He(n,fo),Ke=pp(c,h,V,$,I,q,ke,Ne,Pe);if(null===Ke)throw new RangeError("DateTime outside of supported range");const rt=new l(kt.subtract(Ke,Cs)),ht=new l(kt.add(Ke,Cs)),ct=Kf(t,rt),dt=Kf(t,ht)-ct;switch(i){case"earlier":{const At=He(n,Qn),Pt=Ur("%Temporal.PlainDateTime%"),Ct=xS(c,h,V,$,I,q,ke,Ne,Pe,At,0,0,0,0,0,0,0,0,0,-dt,void 0);return $b(t,new Pt(Ct.year,Ct.month,Ct.day,Ct.hour,Ct.minute,Ct.second,Ct.millisecond,Ct.microsecond,Ct.nanosecond,At))[0]}case"compatible":case"later":{const At=He(n,Qn),Pt=Ur("%Temporal.PlainDateTime%"),Ct=xS(c,h,V,$,I,q,ke,Ne,Pe,At,0,0,0,0,0,0,0,0,0,dt,void 0),zt=$b(t,new Pt(Ct.year,Ct.month,Ct.day,Ct.hour,Ct.minute,Ct.second,Ct.millisecond,Ct.microsecond,Ct.nanosecond,At));return zt[zt.length-1]}case"reject":throw new RangeError("no such instant found")}}function $b(r,t,n){if("string"==typeof r){const p=new(Ur("%Temporal.TimeZone%"))(r);return Xr(Ur("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),p,[t])}const i=Xr(n??Go(r,"getPossibleInstantsFor"),r,[t]),l=[];for(const p of i){if(!qa(p))throw new TypeError("bad return from getPossibleInstantsFor");AI.call(l,p)}return l}function S0(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${Is(r)}`.slice(-6):`0000${r}`.slice(-4),t}function js(r){return`00${r}`.slice(-2)}function Kb(r,t,n,i,l){if("minute"===l)return"";const p=`:${js(r)}`;let c,h=1e6*t+1e3*n+i;if("auto"===l){if(0===h)return p;for(c=`${h}`.padStart(9,"0");"0"===c[c.length-1];)c=c.slice(0,-1)}else{if(0===l)return p;c=`${h}`.padStart(9,"0").slice(0,l)}return`${p}.${c}`}function M0(r,t,n){let i=t;void 0===i&&(i="UTC");const l=Md(i,r,"iso8601"),p=S0(He(l,Yr)),c=js(He(l,Qr)),h=js(He(l,ri)),V=js(He(l,Qi)),$=js(He(l,no)),I=Kb(He(l,eo),He(l,ro),He(l,io),He(l,fo),n);let q="Z";return void 0!==t&&(q=VI(Kf(i,r))),`${p}-${c}-${h}T${V}:${$}${I}${q}`}function sS(r,t="auto",n){function i(xn){return xn<=X4?xn.toString(10):kt.BigInt(xn).toString(10)}const l=He(r,ol),p=He(r,vc),c=He(r,zl),h=He(r,Hl),V=He(r,Wl),$=He(r,Gl);let I=He(r,Xl),q=He(r,Zl),ke=He(r,Yl),Ne=He(r,Dl);const Pe=Th(l,p,c,h,V,$,I,q,ke,Ne);if(n){const{unit:xn,increment:Cn,roundingMode:Nn}=n;({seconds:I,milliseconds:q,microseconds:ke,nanoseconds:Ne}=gp(0,0,0,0,0,0,I,q,ke,Ne,Cn,xn,Nn))}const Ke=[];l&&Ke.push(`${i(Is(l))}Y`),p&&Ke.push(`${i(Is(p))}M`),c&&Ke.push(`${i(Is(c))}W`),h&&Ke.push(`${i(Is(h))}D`);const rt=[];V&&rt.push(`${i(Is(V))}H`),$&&rt.push(`${i(Is($))}M`);const ht=[];let ct,dt,At,Pt,Ct=A0(0,0,0,I,q,ke,Ne,0);({quotient:Ct,remainder:ct}=Sa(Ct,Ho)),({quotient:Ct,remainder:dt}=Sa(Ct,Ho)),({quotient:Pt,remainder:At}=Sa(Ct,Ho));const zt=1e6*Is(kt.toNumber(At))+1e3*Is(kt.toNumber(dt))+Is(kt.toNumber(ct));let Zt;if("auto"===t){if(0!==zt)for(Zt=`${zt}`.padStart(9,"0");"0"===Zt[Zt.length-1];)Zt=Zt.slice(0,-1)}else 0!==t&&(Zt=`${zt}`.padStart(9,"0").slice(0,t));return Zt&&ht.unshift(".",Zt),kt.equal(Pt,Ws)&&!ht.length&&"auto"===t||ht.unshift(Wd(Pt).toString()),ht.length&&rt.push(`${ht.join("")}S`),rt.length&&rt.unshift("T"),Ke.length||rt.length?`${Pe<0?"-":""}P${Ke.join("")}${rt.join("")}`:"PT0S"}function $I(r,t="auto"){return`${S0(He(r,Yr))}-${js(He(r,Qr))}-${js(He(r,ri))}${u1(He(r,Qn),t)}`}function aS(r,t,n="auto",i){let l=He(r,Yr),p=He(r,Qr),c=He(r,ri),h=He(r,Qi),V=He(r,no),$=He(r,eo),I=He(r,ro),q=He(r,io),ke=He(r,fo);if(i){const{unit:Ne,increment:Pe,roundingMode:Ke}=i;({year:l,month:p,day:c,hour:h,minute:V,second:$,millisecond:I,microsecond:q,nanosecond:ke}=MS(l,p,c,h,V,$,I,q,ke,Pe,Ne,Ke))}return`${S0(l)}-${js(p)}-${js(c)}T${js(h)}:${js(V)}${Kb($,I,q,ke,t)}${u1(He(r,Qn),n)}`}function KI(r,t="auto"){let n=`${js(He(r,Qr))}-${js(He(r,ri))}`;const i=ec(He(r,Qn));("always"===t||"critical"===t||"iso8601"!==i)&&(n=`${S0(He(r,Yr))}-${n}`);const l=f1(i,t);return l&&(n+=l),n}function cS(r,t="auto"){let n=`${S0(He(r,Yr))}-${js(He(r,Qr))}`;const i=ec(He(r,Qn));("always"===t||"critical"===t||"iso8601"!==i)&&(n+=`-${js(He(r,ri))}`);const l=f1(i,t);return l&&(n+=l),n}function Hk(r,t,n="auto",i="auto",l="auto",p){let c=He(r,$c);if(p){const{unit:I,increment:q,roundingMode:ke}=p,Ne=O1(He(r,Ei),q,I,ke);c=new(Ur("%Temporal.Instant%"))(Ne)}const h=He(r,ns),V=Md(h,c,"iso8601");let $=`${S0(He(V,Yr))}-${js(He(V,Qr))}-${js(He(V,ri))}T${js(He(V,Qi))}:${js(He(V,no))}${Kb(He(V,eo),He(V,ro),He(V,io),He(V,fo),t)}`;return"never"!==l&&($+=VI(Kf(h,c))),"never"!==i&&($+=`[${"critical"===i?"!":""}${S1(h)}]`),$+=u1(He(r,Qn),n),$}function am(r){return eC.test(Tb(r))}function Ah(r){const t=eC.exec(Tb(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function Vb(r){return am(r)?gu(Ah(r)):d1(Tb(r)).resolvedOptions().timeZone}function Vf(r,t){const{year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I}=cf(r,t),q=n%400,ke=(n-q)/400,Ne=kt.multiply(kt.BigInt(146097),Cs),Pe=pp(q,i,l,p,c,h,V,$,I),Ke=kt.add(Pe,kt.multiply(Ne,kt.BigInt(ke)));return kt.toNumber(kt.subtract(Ke,t))}function gu(r){const t=r<0?"-":"+",n=Is(r),i=n%1e9,l=wd(n/1e9)%60,p=wd(n/6e10)%60,c=js(wd(n/36e11)),h=js(p),V=js(l);let $="";if(i){let I=`${i}`.padStart(9,"0");for(;"0"===I[I.length-1];)I=I.slice(0,-1);$=`:${V}.${I}`}else l&&($=`:${V}`);return`${t}${c}:${h}${$}`}function VI(r){let t=kt.toNumber(Xd(kt.BigInt(r),Jy,"halfExpand"));const n=t<0?"-":"+";t=Is(t);const i=t/6e10%60;return`${n}${js(wd(t/36e11))}:${js(i)}`}function pp(r,t,n,i,l,p,c,h,V){const $=new Date;$.setUTCHours(i,l,p,c),$.setUTCFullYear(r,t-1,n);const I=$.getTime();if(Ab(I))return null;let q=kt.multiply(kt.BigInt(I),Hd);return q=kt.add(q,kt.multiply(kt.BigInt(h),Ho)),q=kt.add(q,kt.BigInt(V)),kt.lessThan(q,Ff)||kt.greaterThan(q,ip)?null:q}function zf(r){const{quotient:t,remainder:n}=Sa(r,Hd);let i=kt.toNumber(t),l=kt.toNumber(n);l<0&&(l+=1e6,i-=1);const p=wd(l/1e3)%1e3,c=l%1e3,h=new Date(i);return{epochMilliseconds:i,year:h.getUTCFullYear(),month:h.getUTCMonth()+1,day:h.getUTCDate(),hour:h.getUTCHours(),minute:h.getUTCMinutes(),second:h.getUTCSeconds(),millisecond:h.getUTCMilliseconds(),microsecond:p,nanosecond:c}}function cf(r,t){const{epochMilliseconds:n,millisecond:i,microsecond:l,nanosecond:p}=zf(t),{year:c,month:h,day:V,hour:$,minute:I,second:q}=(Pe=n,function(ht){const ct=ht.split(/[^\w]+/);if(7!==ct.length)throw new RangeError(`expected 7 parts in "${ht}`);const dt=+ct[0],At=+ct[1];let Pt=+ct[2];const Ct=ct[3].toUpperCase();if("B"===Ct||"BC"===Ct)Pt=1-Pt;else if("A"!==Ct&&"AD"!==Ct)throw new RangeError(`Unknown era ${Ct} in "${ht}`);let zt=+ct[4];24===zt&&(zt=0);const Zt=+ct[5],xn=+ct[6];if(!(Ha(Pt)&&Ha(dt)&&Ha(At)&&Ha(zt)&&Ha(Zt)&&Ha(xn)))throw new RangeError(`Invalid number in "${ht}`);return{year:Pt,month:dt,day:At,hour:zt,minute:Zt,second:xn}}(d1(r).format(new Date(Pe))));var Pe;return hS(c,h,V,$,I,q,i,l,p)}function lf(r,t){return kt.lessThan(r,t)?t:r}function lS(){return kt.add(dm(),Ib)}function dS(r,t){if(kt.lessThan(t,qy))return dS(r,qy);const n=kt.add(t,c1),i=lf(lS(),n);let l=lf(qy,t);const p=Vf(r,l);let c=l,h=p;for(;p===h&&kt.lessThan(kt.BigInt(l),i);){if(c=kt.add(l,qx),kt.greaterThan(c,ip))return null;h=Vf(r,c),p===h&&(l=c)}return p===h?null:tC(V=>Vf(r,V),l,c,p,h)}function uS(r,t){const n=lS(),i=kt.greaterThan(t,n),l=i?kt.subtract(t,c1):qy;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const $=He($f("2088-01-01T00Z"),Ei);if(kt.lessThan($,t))return uS(r,$)}let p=kt.subtract(t,Yy);if(kt.lessThan(p,qy))return null;const c=Vf(r,p);let h=p,V=c;for(;c===V&&kt.greaterThan(p,l);){if(h=kt.subtract(p,qx),kt.lessThan(h,qy))return null;V=Vf(r,h),c===V&&(p=h)}if(c===V){if(i){const $=kt.subtract(n,Cs);return uS(r,$)}return null}return tC($=>Vf(r,$),h,p,V,c)}function cm(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function mp(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[cm(r)?"leapyear":"standard"][t-1]}function fS(r,t,n){const i=t+(t<3?10:-2),l=r-(t<3?1:0),p=wd(l/100),c=l-100*p,h=(n+wd(2.6*i-.2)+(c+wd(c/4))+(wd(p/4)-2*p))%7;return h+(h<=0?7:0)}function lg(r,t,n){let i=n;for(let l=t-1;l>0;l--)i+=mp(r,l);return i}function dg(r,t,n){const i=lg(r,t,n),l=fS(r,t,n)||7,p=fS(r,1,1),c=wd((i-l+10)/7);return c<1?5===p||6===p&&cm(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===c&&(cm(r)?366:365)-i<4-l?{week:1,year:r+1}:{week:c,year:r}}function Th(r,t,n,i,l,p,c,h,V,$){for(const I of[r,t,n,i,l,p,c,h,V,$])if(0!==I)return I<0?-1:1;return 0}function zb(r,t){let n=r,i=t;if(!Ha(n)||!Ha(i))throw new RangeError("infinity is out of range");return i-=1,n+=wd(i/12),i%=12,i<0&&(i+=12),i+=1,{year:n,month:i}}function A1(r,t,n){let i=r,l=t,p=n;if(!Ha(p))throw new RangeError("infinity is out of range");({year:i,month:l}=zb(i,l));const c=146097;if(Is(p)>c){const $=tm(p/c);i+=400*$,p-=$*c}let h=0,V=l>2?i:i-1;for(;h=cm(V)?366:365,p<-h;)i-=1,V-=1,p+=h;for(V+=1;h=cm(V)?366:365,p>h;)i+=1,V+=1,p-=h;for(;p<1;)({year:i,month:l}=zb(i,l-1)),p+=mp(i,l);for(;p>mp(i,l);)p-=mp(i,l),({year:i,month:l}=zb(i,l+1));return{year:i,month:l,day:p}}function hS(r,t,n,i,l,p,c,h,V){const{deltaDays:$,hour:I,minute:q,second:ke,millisecond:Ne,microsecond:Pe,nanosecond:Ke}=Dh(i,l,p,c,h,V),{year:rt,month:ht,day:ct}=A1(r,t,n+$);return{year:rt,month:ht,day:ct,hour:I,minute:q,second:ke,millisecond:Ne,microsecond:Pe,nanosecond:Ke}}function Dh(r,t,n,i,l,p){let c,h=kt.BigInt(r),V=kt.BigInt(t),$=kt.BigInt(n),I=kt.BigInt(i),q=kt.BigInt(l),ke=kt.BigInt(p);return({quotient:c,remainder:ke}=bp(ke,Ho)),q=kt.add(q,c),({quotient:c,remainder:q}=bp(q,Ho)),I=kt.add(I,c),({quotient:c,remainder:I}=bp(I,Ho)),$=kt.add($,c),({quotient:c,remainder:$}=bp($,rp)),V=kt.add(V,c),({quotient:c,remainder:V}=bp(V,rp)),h=kt.add(h,c),({quotient:c,remainder:h}=bp(h,Db)),{deltaDays:kt.toNumber(c),hour:kt.toNumber(h),minute:kt.toNumber(V),second:kt.toNumber($),millisecond:kt.toNumber(I),microsecond:kt.toNumber(q),nanosecond:kt.toNumber(ke)}}function A0(r,t,n,i,l,p,c,h){const V=kt.BigInt(r);let $=kt.BigInt(c);0!==r&&($=kt.subtract(kt.BigInt(c),kt.BigInt(h)));const I=kt.add(kt.BigInt(t),kt.multiply(V,kt.BigInt(24))),q=kt.add(kt.BigInt(n),kt.multiply(I,rp)),ke=kt.add(kt.BigInt(i),kt.multiply(q,rp)),Ne=kt.add(kt.BigInt(l),kt.multiply(ke,Ho)),Pe=kt.add(kt.BigInt(p),kt.multiply(Ne,Ho));return kt.add(kt.BigInt($),kt.multiply(Pe,Ho))}function ug(r,t){const n=Ur("%Temporal.Instant%"),i=Mb(kt.toNumber(r));let l=kt.BigInt(r),p=864e11;if(0===i)return{days:0,nanoseconds:Ws,dayLengthNs:p};if(!ii(t)){let dt;return({quotient:dt,remainder:l}=Sa(l,kt.BigInt(p))),{days:kt.toNumber(dt),nanoseconds:l,dayLengthNs:p}}const c=He(t,Ei),h=He(t,$c),V=kt.add(c,l),$=new n(V),I=He(t,ns),q=He(t,Qn),ke=Md(I,h,q),Ne=Md(I,$,q);let{days:Pe}=C1(He(ke,Yr),He(ke,Qr),He(ke,ri),He(ke,Qi),He(ke,no),He(ke,eo),He(ke,ro),He(ke,io),He(ke,fo),He(Ne,Yr),He(Ne,Qr),He(Ne,ri),He(Ne,Qi),He(Ne,no),He(Ne,eo),He(Ne,ro),He(Ne,io),He(Ne,fo),q,"day",wc(null)),Ke=vu(h,I,q,0,0,0,Pe,0,0,0,0,0,0),rt=kt.BigInt(Pe);if(1===i)for(;kt.greaterThan(rt,Ws)&&kt.greaterThan(Ke,V);)rt=kt.subtract(rt,Yy),Ke=vu(h,I,q,0,0,0,kt.toNumber(rt),0,0,0,0,0,0);l=kt.subtract(V,Ke);let ht=!1,ct=new n(Ke);do{const dt=vu(ct,I,q,0,0,0,i,0,0,0,0,0,0),At=He(ct,Ei);p=kt.toNumber(kt.subtract(dt,At)),ht=kt.greaterThanOrEqual(kt.multiply(kt.subtract(l,kt.BigInt(p)),kt.BigInt(i)),Ws),ht&&(l=kt.subtract(l,kt.BigInt(p)),ct=new n(dt),rt=kt.add(rt,kt.BigInt(i)))}while(ht);if(!pu(rt)&&Qx(rt)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!pu(l)&&Qx(l)!==i)throw Cb(l)&&1===i?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(kt.greaterThanOrEqual(Wd(l),Wd(kt.BigInt(p))))throw new Error("assert not reached");return{days:kt.toNumber(rt),nanoseconds:l,dayLengthNs:Is(p)}}function df(r,t,n,i,l,p,c,h,V){let $=pS(r,t,n,i,l,p,c,h,V);if("positive overflow"===$||"negative overflow"===$)throw new RangeError("Duration out of range");return $}function pS(r,t,n,i,l,p,c,h,V){let $,I,q,ke,Ne,Pe,Ke=r;if(ii(V)){const zt=vu(He(V,$c),He(V,ns),He(V,Qn),0,0,0,Ke,t,n,i,l,p,c),Zt=He(V,Ei);$=kt.subtract(zt,Zt)}else $=A0(Ke,t,n,i,l,p,c,0);"year"===h||"month"===h||"week"===h||"day"===h?({days:Ke,nanoseconds:$}=ug($,V)):Ke=0;const rt=kt.lessThan($,Ws)?-1:1;switch($=Wd($),I=q=ke=Ne=Pe=Ws,h){case"year":case"month":case"week":case"day":case"hour":({quotient:I,remainder:$}=Sa($,Ho)),({quotient:q,remainder:I}=Sa(I,Ho)),({quotient:ke,remainder:q}=Sa(q,Ho)),({quotient:Ne,remainder:ke}=Sa(ke,rp)),({quotient:Pe,remainder:Ne}=Sa(Ne,rp));break;case"minute":({quotient:I,remainder:$}=Sa($,Ho)),({quotient:q,remainder:I}=Sa(I,Ho)),({quotient:ke,remainder:q}=Sa(q,Ho)),({quotient:Ne,remainder:ke}=Sa(ke,rp));break;case"second":({quotient:I,remainder:$}=Sa($,Ho)),({quotient:q,remainder:I}=Sa(I,Ho)),({quotient:ke,remainder:q}=Sa(q,Ho));break;case"millisecond":({quotient:I,remainder:$}=Sa($,Ho)),({quotient:q,remainder:I}=Sa(I,Ho));break;case"microsecond":({quotient:I,remainder:$}=Sa($,Ho));break;case"nanosecond":break;default:throw new Error("assert not reached")}const ht=kt.toNumber(Pe)*rt,ct=kt.toNumber(Ne)*rt,dt=kt.toNumber(ke)*rt,At=kt.toNumber(q)*rt,Pt=kt.toNumber(I)*rt,Ct=kt.toNumber($)*rt;for(const zt of[Ke,ht,ct,dt,At,Pt,Ct])if(!Ha(zt))return 1===rt?"positive overflow":"negative overflow";return{days:Ke,hours:ht,minutes:ct,seconds:dt,milliseconds:At,microseconds:Pt,nanoseconds:Ct}}function Hb(r,t,n,i,l,p){const c=Ur("%Temporal.Duration%"),h=Th(r,t,n,i,0,0,0,0,0,0);if(0===h)return{years:r,months:t,weeks:n,days:i};const V=kt.BigInt(h);let $,I,q=kt.BigInt(r),ke=kt.BigInt(t),Ne=kt.BigInt(n),Pe=kt.BigInt(i);p&&(I=hs(p),$=He(I,Qn));const Ke=new c(h),rt=new c(0,h),ht=new c(0,0,h);switch(l){case"year":break;case"month":{if(!$)throw new RangeError("a starting point is required for months balancing");let ct,dt;for("string"!=typeof $&&(ct=Go($,"dateAdd"),dt=Go($,"dateUntil"));!pu(q);){const At=lc($,I,Ke,void 0,ct),Pt=wc(null);Pt.largestUnit="month";const Ct=mu($,I,At,Pt,dt),zt=kt.BigInt(He(Ct,vc));I=At,ke=kt.add(ke,zt),q=kt.subtract(q,V)}}break;case"week":{if(!$)throw new RangeError("a starting point is required for weeks balancing");const ct="string"!=typeof $?Go($,"dateAdd"):void 0;for(;!pu(q);){let dt;({relativeTo:I,days:dt}=Ec($,I,Ke,ct)),Pe=kt.add(Pe,kt.BigInt(dt)),q=kt.subtract(q,V)}for(;!pu(ke);){let dt;({relativeTo:I,days:dt}=Ec($,I,rt,ct)),Pe=kt.add(Pe,kt.BigInt(dt)),ke=kt.subtract(ke,V)}break}default:{if(pu(q)&&pu(ke)&&pu(Ne))break;if(!$)throw new RangeError("a starting point is required for balancing calendar units");const ct="string"!=typeof $?Go($,"dateAdd"):void 0;for(;!pu(q);){let dt;({relativeTo:I,days:dt}=Ec($,I,Ke,ct)),Pe=kt.add(Pe,kt.BigInt(dt)),q=kt.subtract(q,V)}for(;!pu(ke);){let dt;({relativeTo:I,days:dt}=Ec($,I,rt,ct)),Pe=kt.add(Pe,kt.BigInt(dt)),ke=kt.subtract(ke,V)}for(;!pu(Ne);){let dt;({relativeTo:I,days:dt}=Ec($,I,ht,ct)),Pe=kt.add(Pe,kt.BigInt(dt)),Ne=kt.subtract(Ne,V)}break}}return{years:kt.toNumber(q),months:kt.toNumber(ke),weeks:kt.toNumber(Ne),days:kt.toNumber(Pe)}}function zI(r,t,n,i,l){if(ii(r)){const p=He(r,$c),c=He(r,ns),h=He(r,Qn),V=Kf(c,p),$=vu(p,c,h,t,n,i,l,0,0,0,0,0,0);return Kf(c,new(Ur("%Temporal.Instant%"))($))-V}return 0}function HI(r){return new(Ur("%Temporal.Duration%"))(-He(r,ol),-He(r,vc),-He(r,zl),-He(r,Hl),-He(r,Wl),-He(r,Gl),-He(r,Xl),-He(r,Zl),-He(r,Yl),-He(r,Dl))}function Ad(r,t,n){return DI(n,II(t,r))}function WI(r,t,n){const i=Ad(t,1,12);return{year:r,month:i,day:Ad(n,1,mp(r,i))}}function Kc(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function Ih(r,t,n){Kc(t,1,12),Kc(n,1,mp(r,t))}function GI(r,t,n){XI(r,t,n,12,0,0,0,0,0)}function T1(r,t,n,i,l,p){Kc(r,0,23),Kc(t,0,59),Kc(n,0,59),Kc(i,0,999),Kc(l,0,999),Kc(p,0,999)}function mS(r,t,n,i,l,p,c,h,V){Ih(r,t,n),T1(i,l,p,c,h,V)}function XI(r,t,n,i,l,p,c,h,V){if(Kc(r,_d,op),r===_d&&null==pp(r,t,n+1,i,l,p,c,h,V-1)||r===op&&null==pp(r,t,n-1,i,l,p,c,h,V+1))throw new RangeError("DateTime outside of supported range")}function yp(r){if(kt.lessThan(r,Ff)||kt.greaterThan(r,ip))throw new RangeError("Instant outside of supported range")}function yS(r,t,n,i,l,p,c,h,V,$){const I=Th(r,t,n,i,l,p,c,h,V,$);for(const q of[r,t,n,i,l,p,c,h,V,$]){if(!Ha(q))throw new RangeError("infinite values not allowed as duration fields");const ke=Mb(q);if(0!==ke&&ke!==I)throw new RangeError("mixed-sign values not allowed as duration fields")}}function gS(r,t,n,i,l,p,c){switch(c){case"year":case"month":{const h=-vp(r,t,n,i,l,p);if(0===h)return{years:0,months:0,weeks:0,days:0};const V={year:r,month:t,day:n},$={year:i,month:l,day:p};let I=$.year-V.year,q=fg(r,t,n,I,0,0,0,"constrain"),ke=-vp(q.year,q.month,q.day,i,l,p);if(0===ke)return"year"===c?{years:I,months:0,weeks:0,days:0}:{years:0,months:12*I,weeks:0,days:0};let Ne=$.month-V.month;if(ke!==h&&(I-=h,Ne+=12*h),q=fg(r,t,n,I,Ne,0,0,"constrain"),ke=-vp(q.year,q.month,q.day,i,l,p),0===ke)return"year"===c?{years:I,months:Ne,weeks:0,days:0}:{years:0,months:Ne+12*I,weeks:0,days:0};ke!==h&&(Ne-=h,Ne===-h&&(I-=h,Ne=11*h),q=fg(r,t,n,I,Ne,0,0,"constrain"));let Pe=0;return Pe=q.month===$.month?$.day-q.day:h<0?-q.day-(mp($.year,$.month)-$.day):$.day+(mp(q.year,q.month)-q.day),"month"===c&&(Ne+=12*I,I=0),{years:I,months:Ne,weeks:0,days:Pe}}case"week":case"day":{let h,V,$;vp(r,t,n,i,l,p)<0?(V={year:r,month:t,day:n},h={year:i,month:l,day:p},$=1):(V={year:i,month:l,day:p},h={year:r,month:t,day:n},$=-1);let I=lg(h.year,h.month,h.day)-lg(V.year,V.month,V.day);for(let ke=V.year;ke<h.year;++ke)I+=cm(ke)?366:365;let q=0;return"week"===c&&(q=wd(I/7),I%=7),q*=$,I*=$,{years:0,months:0,weeks:q,days:I}}default:throw new Error("assert not reached")}}function D1(r,t,n,i,l,p,c,h,V,$,I,q){let ke=c-r,Ne=h-t,Pe=V-n,Ke=$-i,rt=I-l,ht=q-p;const ct=Th(0,0,0,0,ke,Ne,Pe,Ke,rt,ht);ke*=ct,Ne*=ct,Pe*=ct,Ke*=ct,rt*=ct,ht*=ct;let dt=0;if(({deltaDays:dt,hour:ke,minute:Ne,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht}=Dh(ke,Ne,Pe,Ke,rt,ht)),0!=dt)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return ke*=ct,Ne*=ct,Pe*=ct,Ke*=ct,rt*=ct,ht*=ct,{hours:ke,minutes:Ne,seconds:Pe,milliseconds:Ke,microseconds:rt,nanoseconds:ht}}function I1(r,t,n,i,l,p){const c=kt.subtract(t,r);let h=0,V=0,$=kt.toNumber(kt.remainder(c,Ho)),I=kt.toNumber(kt.remainder(kt.divide(c,Ho),Ho)),q=kt.toNumber(kt.remainder(kt.divide(c,Hd),Ho)),ke=kt.toNumber(kt.divide(c,nf));return({hours:h,minutes:V,seconds:ke,milliseconds:q,microseconds:I,nanoseconds:$}=gp(0,0,0,0,0,0,ke,q,I,$,n,i,p)),df(0,h,V,ke,q,I,$,l)}function C1(r,t,n,i,l,p,c,h,V,$,I,q,ke,Ne,Pe,Ke,rt,ht,ct,dt,At){let Pt=r,Ct=t,zt=n,{hours:Zt,minutes:xn,seconds:Cn,milliseconds:Nn,microseconds:ir,nanoseconds:Pn}=D1(i,l,p,c,h,V,ke,Ne,Pe,Ke,rt,ht);const Hn=Th(0,0,0,0,Zt,xn,Cn,Nn,ir,Pn);vp($,I,q,Pt,Ct,zt)===-Hn&&(({year:Pt,month:Ct,day:zt}=A1(Pt,Ct,zt-Hn)),({hours:Zt,minutes:xn,seconds:Cn,milliseconds:Nn,microseconds:ir,nanoseconds:Pn}=df(-Hn,Zt,xn,Cn,Nn,ir,Pn,dt)));const ln=xd(Pt,Ct,zt,ct),vn=xd($,I,q,ct),wn=E0("day",dt),Un=_p(At);Un.largestUnit=wn;let{years:Sn,months:Vn,weeks:lr,days:cr}=mu(ct,ln,vn,Un);return({days:cr,hours:Zt,minutes:xn,seconds:Cn,milliseconds:Nn,microseconds:ir,nanoseconds:Pn}=df(cr,Zt,xn,Cn,Nn,ir,Pn,dt)),{years:Sn,months:Vn,weeks:lr,days:cr,hours:Zt,minutes:xn,seconds:Cn,milliseconds:Nn,microseconds:ir,nanoseconds:Pn}}function vS(r,t,n,i,l,p){const c=kt.subtract(t,r);if(kt.equal(c,Ws))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const h=Ur("%Temporal.Instant%"),V=new h(r),$=new h(t),I=Md(n,V,i),q=Md(n,$,i);let{years:ke,months:Ne,weeks:Pe,days:Ke}=C1(He(I,Yr),He(I,Qr),He(I,ri),He(I,Qi),He(I,no),He(I,eo),He(I,ro),He(I,io),He(I,fo),He(q,Yr),He(q,Qr),He(q,ri),He(q,Qi),He(q,no),He(q,eo),He(q,ro),He(q,io),He(q,fo),i,l,p);const rt=vu(V,n,i,ke,Ne,Pe,0,0,0,0,0,0,0);let ht=kt.subtract(t,rt);const ct=Ca(rt,n,i);({nanoseconds:ht,days:Ke}=ug(ht,ct));const{hours:dt,minutes:At,seconds:Pt,milliseconds:Ct,microseconds:zt,nanoseconds:Zt}=df(0,0,0,0,0,0,kt.toNumber(ht),"hour");return{years:ke,months:Ne,weeks:Pe,days:Ke,hours:dt,minutes:At,seconds:Pt,milliseconds:Ct,microseconds:zt,nanoseconds:Zt}}function T0(r,t,n,i,l,p){const c=nm.reduce((Ne,Pe)=>{const Ke=Pe[0],rt=Pe[1];return"datetime"!==n&&Pe[2]!==n||i.includes(rt)||Ne.push(rt,Ke),Ne},[]);let h=Ed(t,"largestUnit",n,"auto");if(i.includes(h))throw new RangeError(`largestUnit must be one of ${c.join(", ")}, not ${h}`);const V=ng(t);let $=sf(t,"trunc");"since"===r&&($=function(Pe){switch(Pe){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Pe}}($));const I=Ed(t,"smallestUnit",n,l);if(i.includes(I))throw new RangeError(`smallestUnit must be one of ${c.join(", ")}, not ${I}`);const q=E0(p,I);if("auto"===h&&(h=q),E0(h,I)!==h)throw new RangeError(`largestUnit ${h} cannot be smaller than smallestUnit ${I}`);const ke={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[I];return void 0!==ke&&im(V,ke,!1),{largestUnit:h,roundingIncrement:V,roundingMode:$,smallestUnit:I}}function ZI(r,t,n,i){const l="since"===r?-1:1,p=$f(n),c=T0(r,_p(i),"time",[],"nanosecond","second"),h=He(t,Ei),V=He(p,Ei);let{hours:$,minutes:I,seconds:q,milliseconds:ke,microseconds:Ne,nanoseconds:Pe}=I1(h,V,c.roundingIncrement,c.smallestUnit,c.largestUnit,c.roundingMode);return new(Ur("%Temporal.Duration%"))(0,0,0,0,l*$,l*I,l*q,l*ke,l*Ne,l*Pe)}function bS(r,t,n,i){const l="since"===r?-1:1,p=hs(n),c=He(t,Qn);E1(c,He(p,Qn),"compute difference between dates");const h=_p(i),V=T0(r,h,"date",[],"day","day");h.largestUnit=V.largestUnit;let{years:$,months:I,weeks:q,days:ke}=mu(c,t,p,h);return"day"===V.smallestUnit&&1===V.roundingIncrement||({years:$,months:I,weeks:q,days:ke}=gp($,I,q,ke,0,0,0,0,0,0,V.roundingIncrement,V.smallestUnit,V.roundingMode,t)),new(Ur("%Temporal.Duration%"))(l*$,l*I,l*q,l*ke,0,0,0,0,0,0)}function wS(r,t,n,i){const l="since"===r?-1:1,p=x0(n),c=He(t,Qn);E1(c,He(p,Qn),"compute difference between dates");const h=_p(i),V=T0(r,h,"datetime",[],"nanosecond","day");let{years:$,months:I,weeks:q,days:ke,hours:Ne,minutes:Pe,seconds:Ke,milliseconds:rt,microseconds:ht,nanoseconds:ct}=C1(He(t,Yr),He(t,Qr),He(t,ri),He(t,Qi),He(t,no),He(t,eo),He(t,ro),He(t,io),He(t,fo),He(p,Yr),He(p,Qr),He(p,ri),He(p,Qi),He(p,no),He(p,eo),He(p,ro),He(p,io),He(p,fo),c,V.largestUnit,h);const dt=cg(t);return({years:$,months:I,weeks:q,days:ke,hours:Ne,minutes:Pe,seconds:Ke,milliseconds:rt,microseconds:ht,nanoseconds:ct}=gp($,I,q,ke,Ne,Pe,Ke,rt,ht,ct,V.roundingIncrement,V.smallestUnit,V.roundingMode,dt)),({days:ke,hours:Ne,minutes:Pe,seconds:Ke,milliseconds:rt,microseconds:ht,nanoseconds:ct}=df(ke,Ne,Pe,Ke,rt,ht,ct,V.largestUnit)),new(Ur("%Temporal.Duration%"))(l*$,l*I,l*q,l*ke,l*Ne,l*Pe,l*Ke,l*rt,l*ht,l*ct)}function YI(r,t,n,i){const l="since"===r?-1:1,p=sp(n),c=T0(r,_p(i),"time",[],"nanosecond","hour");let{hours:h,minutes:V,seconds:$,milliseconds:I,microseconds:q,nanoseconds:ke}=D1(He(t,Qi),He(t,no),He(t,eo),He(t,ro),He(t,io),He(t,fo),He(p,Qi),He(p,no),He(p,eo),He(p,ro),He(p,io),He(p,fo));return({hours:h,minutes:V,seconds:$,milliseconds:I,microseconds:q,nanoseconds:ke}=gp(0,0,0,0,h,V,$,I,q,ke,c.roundingIncrement,c.smallestUnit,c.roundingMode)),({hours:h,minutes:V,seconds:$,milliseconds:I,microseconds:q,nanoseconds:ke}=df(0,h,V,$,I,q,ke,c.largestUnit)),new(Ur("%Temporal.Duration%"))(0,0,0,0,l*h,l*V,l*$,l*I,l*q,l*ke)}function _S(r,t,n,i){const l="since"===r?-1:1,p=Pb(n),c=He(t,Qn);E1(c,He(p,Qn),"compute difference between months");const h=_p(i),V=T0(r,h,"date",["week","day"],"month","year");h.largestUnit=V.largestUnit;const $=ka(c,["monthCode","year"]),I=vo(t,$,[]);I.day=1;const q=Sd(c,I),ke=vo(p,$,[]);ke.day=1;const Ne=Sd(c,ke);let{years:Pe,months:Ke}=mu(c,q,Ne,h);return"month"===V.smallestUnit&&1===V.roundingIncrement||({years:Pe,months:Ke}=gp(Pe,Ke,0,0,0,0,0,0,0,0,V.roundingIncrement,V.smallestUnit,V.roundingMode,q)),new(Ur("%Temporal.Duration%"))(l*Pe,l*Ke,0,0,0,0,0,0,0,0)}function Wk(r,t,n,i){const l="since"===r?-1:1,p=ig(n),c=He(t,Qn);E1(c,He(p,Qn),"compute difference between dates");const h=_p(i),V=T0(r,h,"datetime",[],"nanosecond","hour");h.largestUnit=V.largestUnit;const $=He(t,Ei),I=He(p,Ei);let q,ke,Ne,Pe,Ke,rt,ht,ct,dt,At;if("year"!==V.largestUnit&&"month"!==V.largestUnit&&"week"!==V.largestUnit&&"day"!==V.largestUnit)q=0,ke=0,Ne=0,Pe=0,({hours:Ke,minutes:rt,seconds:ht,milliseconds:ct,microseconds:dt,nanoseconds:At}=I1($,I,V.roundingIncrement,V.smallestUnit,V.largestUnit,V.roundingMode));else{const Pt=He(t,ns);if(!FI(Pt,He(p,ns)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:q,months:ke,weeks:Ne,days:Pe,hours:Ke,minutes:rt,seconds:ht,milliseconds:ct,microseconds:dt,nanoseconds:At}=vS($,I,Pt,c,V.largestUnit,h)),({years:q,months:ke,weeks:Ne,days:Pe,hours:Ke,minutes:rt,seconds:ht,milliseconds:ct,microseconds:dt,nanoseconds:At}=gp(q,ke,Ne,Pe,Ke,rt,ht,ct,dt,At,V.roundingIncrement,V.smallestUnit,V.roundingMode,t)),({years:q,months:ke,weeks:Ne,days:Pe,hours:Ke,minutes:rt,seconds:ht,milliseconds:ct,microseconds:dt,nanoseconds:At}=QI(q,ke,Ne,Pe,Ke,rt,ht,ct,dt,At,V.roundingIncrement,V.smallestUnit,V.roundingMode,t))}return new(Ur("%Temporal.Duration%"))(l*q,l*ke,l*Ne,l*Pe,l*Ke,l*rt,l*ht,l*ct,l*dt,l*At)}function fg(r,t,n,i,l,p,c,h){let V=r,$=t,I=n,q=p,ke=c;return V+=i,$+=l,({year:V,month:$}=zb(V,$)),({year:V,month:$,day:I}=kb(V,$,I,h)),ke+=7*q,I+=ke,({year:V,month:$,day:I}=A1(V,$,I)),{year:V,month:$,day:I}}function JI(r,t,n,i,l,p,c,h,V,$,I,q){let ke=r,Ne=t,Pe=n,Ke=i,rt=l,ht=p;ke+=c,Ne+=h,Pe+=V,Ke+=$,rt+=I,ht+=q;let ct=0;return({deltaDays:ct,hour:ke,minute:Ne,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht}=Dh(ke,Ne,Pe,Ke,rt,ht)),{deltaDays:ct,hour:ke,minute:Ne,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht}}function ES(r,t,n,i,l,p,c,h,V,$,I,q,ke,Ne,Pe,Ke,rt,ht,ct,dt,At){const Pt=E0(iS(r,t,n,i,l,p,c,h,V,$),iS(I,q,ke,Ne,Pe,Ke,rt,ht,ct,dt));let Ct,zt,Zt,xn,Cn,Nn,ir,Pn,Hn,ln;if(At)if(_o(At)){const vn=Ur("%Temporal.Duration%"),wn=He(At,Qn),Un=new vn(r,t,n,i,0,0,0,0,0,0),Sn=new vn(I,q,ke,Ne,0,0,0,0,0,0),Vn="string"!=typeof wn?Go(wn,"dateAdd"):void 0,lr=lc(wn,At,Un,void 0,Vn),cr=lc(wn,lr,Sn,void 0,Vn),mn=E0("day",Pt),dr=wc(null);dr.largestUnit=mn,({years:Ct,months:zt,weeks:Zt,days:xn}=mu(wn,At,cr,dr)),({days:xn,hours:Cn,minutes:Nn,seconds:ir,milliseconds:Pn,microseconds:Hn,nanoseconds:ln}=df(xn,kt.add(kt.BigInt(l),kt.BigInt(Pe)),kt.add(kt.BigInt(p),kt.BigInt(Ke)),kt.add(kt.BigInt(c),kt.BigInt(rt)),kt.add(kt.BigInt(h),kt.BigInt(ht)),kt.add(kt.BigInt(V),kt.BigInt(ct)),kt.add(kt.BigInt($),kt.BigInt(dt)),Pt))}else{const vn=Ur("%Temporal.Instant%"),wn=He(At,ns),Un=He(At,Qn),Sn=vu(He(At,$c),wn,Un,r,t,n,i,l,p,c,h,V,$),Vn=vu(new vn(Sn),wn,Un,I,q,ke,Ne,Pe,Ke,rt,ht,ct,dt);"year"!==Pt&&"month"!==Pt&&"week"!==Pt&&"day"!==Pt?(Ct=0,zt=0,Zt=0,xn=0,({hours:Cn,minutes:Nn,seconds:ir,milliseconds:Pn,microseconds:Hn,nanoseconds:ln}=I1(He(At,Ei),Vn,1,"nanosecond",Pt,"halfExpand"))):({years:Ct,months:zt,weeks:Zt,days:xn,hours:Cn,minutes:Nn,seconds:ir,milliseconds:Pn,microseconds:Hn,nanoseconds:ln}=vS(He(At,Ei),Vn,wn,Un,Pt,wc(null)))}else{if("year"===Pt||"month"===Pt||"week"===Pt)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");Ct=zt=Zt=0,({days:xn,hours:Cn,minutes:Nn,seconds:ir,milliseconds:Pn,microseconds:Hn,nanoseconds:ln}=df(i+Ne,kt.add(kt.BigInt(l),kt.BigInt(Pe)),kt.add(kt.BigInt(p),kt.BigInt(Ke)),kt.add(kt.BigInt(c),kt.BigInt(rt)),kt.add(kt.BigInt(h),kt.BigInt(ht)),kt.add(kt.BigInt(V),kt.BigInt(ct)),kt.add(kt.BigInt($),kt.BigInt(dt)),Pt))}return yS(Ct,zt,Zt,xn,Cn,Nn,ir,Pn,Hn,ln),{years:Ct,months:zt,weeks:Zt,days:xn,hours:Cn,minutes:Nn,seconds:ir,milliseconds:Pn,microseconds:Hn,nanoseconds:ln}}function hg(r,t,n,i,l,p,c){let h=Ws;h=kt.add(h,kt.BigInt(c)),h=kt.add(h,kt.multiply(kt.BigInt(p),Ho)),h=kt.add(h,kt.multiply(kt.BigInt(l),Hd)),h=kt.add(h,kt.multiply(kt.BigInt(i),nf)),h=kt.add(h,kt.multiply(kt.BigInt(n),kt.BigInt(6e10))),h=kt.add(h,kt.multiply(kt.BigInt(t),kt.BigInt(36e11)));const V=kt.add(r,h);return yp(V),V}function xS(r,t,n,i,l,p,c,h,V,$,I,q,ke,Ne,Pe,Ke,rt,ht,ct,dt,At){let Pt=Ne,{deltaDays:Ct,hour:zt,minute:Zt,second:xn,millisecond:Cn,microsecond:Nn,nanosecond:ir}=JI(i,l,p,c,h,V,Pe,Ke,rt,ht,ct,dt);Pt+=Ct;const Pn=Ur("%Temporal.Duration%"),Hn=lc($,xd(r,t,n,$),new Pn(I,q,ke,Pt,0,0,0,0,0,0),At);return{year:He(Hn,Yr),month:He(Hn,Qr),day:He(Hn,ri),hour:zt,minute:Zt,second:xn,millisecond:Cn,microsecond:Nn,nanosecond:ir}}function vu(r,t,n,i,l,p,c,h,V,$,I,q,ke,Ne){const Pe=Ur("%Temporal.Duration%");if(0===Th(i,l,p,c,0,0,0,0,0,0))return hg(He(r,Ei),h,V,$,I,q,ke);const Ke=Md(t,r,n),rt=lc(n,xd(He(Ke,Yr),He(Ke,Qr),He(Ke,ri),n),new Pe(i,l,p,c,0,0,0,0,0,0),Ne),ht=Jl(He(rt,Yr),He(rt,Qr),He(rt,ri),He(Ke,Qi),He(Ke,no),He(Ke,eo),He(Ke,ro),He(Ke,io),He(Ke,fo),n);return hg(He(Il(t,ht,"compatible"),Ei),h,V,$,I,q,ke)}function k1(r,t,n,i){const l="subtract"===r?-1:1;let{years:p,months:c,weeks:h,days:V,hours:$,minutes:I,seconds:q,milliseconds:ke,microseconds:Ne,nanoseconds:Pe}=v0(n);const Ke=y1(No(i));return({years:p,months:c,weeks:h,days:V,hours:$,minutes:I,seconds:q,milliseconds:ke,microseconds:Ne,nanoseconds:Pe}=ES(He(t,ol),He(t,vc),He(t,zl),He(t,Hl),He(t,Wl),He(t,Gl),He(t,Xl),He(t,Zl),He(t,Yl),He(t,Dl),l*p,l*c,l*h,l*V,l*$,l*I,l*q,l*ke,l*Ne,l*Pe,Ke)),new(Ur("%Temporal.Duration%"))(p,c,h,V,$,I,q,ke,Ne,Pe)}function qI(r,t,n){const i="subtract"===r?-1:1,{hours:l,minutes:p,seconds:c,milliseconds:h,microseconds:V,nanoseconds:$}=function(ke,Ne){let Pe=v0(ke);for(const Ke of["years","months","weeks","days"])if(0!==Pe[Ke])throw new RangeError(`Duration field ${Ke} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Pe}(n),I=hg(He(t,Ei),i*l,i*p,i*c,i*h,i*V,i*$);return new(Ur("%Temporal.Instant%"))(I)}function Wb(r,t,n,i){const l="subtract"===r?-1:1,{years:p,months:c,weeks:h,days:V,hours:$,minutes:I,seconds:q,milliseconds:ke,microseconds:Ne,nanoseconds:Pe}=v0(n),Ke=No(i),rt=He(t,Qn),{year:ht,month:ct,day:dt,hour:At,minute:Pt,second:Ct,millisecond:zt,microsecond:Zt,nanosecond:xn}=xS(He(t,Yr),He(t,Qr),He(t,ri),He(t,Qi),He(t,no),He(t,eo),He(t,ro),He(t,io),He(t,fo),rt,l*p,l*c,l*h,l*V,l*$,l*I,l*q,l*ke,l*Ne,l*Pe,Ke);return Jl(ht,ct,dt,At,Pt,Ct,zt,Zt,xn,rt)}function Gb(r,t,n){const i="subtract"===r?-1:1,{hours:l,minutes:p,seconds:c,milliseconds:h,microseconds:V,nanoseconds:$}=v0(n);let{hour:I,minute:q,second:ke,millisecond:Ne,microsecond:Pe,nanosecond:Ke}=JI(He(t,Qi),He(t,no),He(t,eo),He(t,ro),He(t,io),He(t,fo),i*l,i*p,i*c,i*h,i*V,i*$);return({hour:I,minute:q,second:ke,millisecond:Ne,microsecond:Pe,nanosecond:Ke}=h1(I,q,ke,Ne,Pe,Ke,"reject")),new(Ur("%Temporal.PlainTime%"))(I,q,ke,Ne,Pe,Ke)}function R1(r,t,n,i){let l=v0(n);"subtract"===r&&(l={years:-l.years,months:-l.months,weeks:-l.weeks,days:-l.days,hours:-l.hours,minutes:-l.minutes,seconds:-l.seconds,milliseconds:-l.milliseconds,microseconds:-l.microseconds,nanoseconds:-l.nanoseconds});let{years:p,months:c,weeks:h,days:V,hours:$,minutes:I,seconds:q,milliseconds:ke,microseconds:Ne,nanoseconds:Pe}=l;({days:V}=df(V,$,I,q,ke,Ne,Pe,"day"));const Ke=No(i),rt=He(t,Qn),ht=ka(rt,["monthCode","year"]),ct=vo(t,ht,[]),dt=wc(null);g0(dt,ct,[]),ct.day=1;let At=Sd(rt,ct);const Pt=Th(p,c,h,V,0,0,0,0,0,0),Ct=Go(rt,"dateAdd"),zt=Ur("%Temporal.Duration%");if(Pt<0){const Cn=lc(rt,At,new zt(0,1,0,0,0,0,0,0,0,0),void 0,Ct),Nn=lc(rt,Cn,new zt(0,0,0,-1,0,0,0,0,0,0),void 0,Ct);dt.day=Mh(rt,Nn),At=Sd(rt,dt)}const Zt=new zt(p,c,h,V,0,0,0,0,0,0),xn=_p(Ke);return hp(rt,vo(lc(rt,At,Zt,Ke,Ct),ht,[]),xn)}function SS(r,t,n,i){const l="subtract"===r?-1:1,{years:p,months:c,weeks:h,days:V,hours:$,minutes:I,seconds:q,milliseconds:ke,microseconds:Ne,nanoseconds:Pe}=v0(n),Ke=No(i),rt=He(t,ns),ht=He(t,Qn);return Ca(vu(He(t,$c),rt,ht,l*p,l*c,l*h,l*V,l*$,l*I,l*q,l*ke,l*Ne,l*Pe,Ke),rt,ht)}function Xd(r,t,n){if(kt.equal(t,Yy))return r;let{quotient:i,remainder:l}=Sa(r,t);if(kt.equal(l,Ws))return r;const p=kt.lessThan(l,Ws)?-1:1,c=Wd(kt.multiply(l,kt.BigInt(2))),h=kt.equal(c,t),V=kt.greaterThan(c,t);switch(n){case"ceil":p>0&&(i=kt.add(i,kt.BigInt(p)));break;case"floor":p<0&&(i=kt.add(i,kt.BigInt(p)));break;case"expand":i=kt.add(i,kt.BigInt(p));break;case"trunc":break;case"halfCeil":(V||h&&p>0)&&(i=kt.add(i,kt.BigInt(p)));break;case"halfFloor":(V||h&&p<0)&&(i=kt.add(i,kt.BigInt(p)));break;case"halfExpand":(V||h)&&(i=kt.add(i,kt.BigInt(p)));break;case"halfTrunc":V&&(i=kt.add(i,kt.BigInt(p)));break;case"halfEven":(V||h&&1===kt.toNumber(kt.remainder(Wd(i),kt.BigInt(2))))&&(i=kt.add(i,kt.BigInt(p)))}return kt.multiply(i,t)}function O1(r,t,n,i){let{remainder:l}=bp(r,Cs);const p=kt.subtract(r,l),c=Xd(l,kt.BigInt(R0[n]*t),i);return kt.add(p,c)}function MS(r,t,n,i,l,p,c,h,V,$,I,q,ke=864e11){const{deltaDays:Ne,hour:Pe,minute:Ke,second:rt,millisecond:ht,microsecond:ct,nanosecond:dt}=pg(i,l,p,c,h,V,$,I,q,ke),{year:At,month:Pt,day:Ct}=A1(r,t,n+Ne);return{year:At,month:Pt,day:Ct,hour:Pe,minute:Ke,second:rt,millisecond:ht,microsecond:ct,nanosecond:dt}}function pg(r,t,n,i,l,p,c,h,V,$=864e11){let I=Ws;switch(h){case"day":case"hour":I=kt.BigInt(r);case"minute":I=kt.add(kt.multiply(I,rp),kt.BigInt(t));case"second":I=kt.add(kt.multiply(I,rp),kt.BigInt(n));case"millisecond":I=kt.add(kt.multiply(I,Ho),kt.BigInt(i));case"microsecond":I=kt.add(kt.multiply(I,Ho),kt.BigInt(l));case"nanosecond":I=kt.add(kt.multiply(I,Ho),kt.BigInt(p))}const q="day"===h?$:R0[h],ke=Xd(I,kt.BigInt(q*c),V),Ne=kt.toNumber(kt.divide(ke,kt.BigInt(q)));switch(h){case"day":return{deltaDays:Ne,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Dh(Ne,0,0,0,0,0);case"minute":return Dh(r,Ne,0,0,0,0);case"second":return Dh(r,t,Ne,0,0,0);case"millisecond":return Dh(r,t,n,Ne,0,0);case"microsecond":return Dh(r,t,n,i,Ne,0);case"nanosecond":return Dh(r,t,n,i,l,Ne);default:throw new Error(`Invalid unit ${h}`)}}function D0(r,t){return gS(He(r,Yr),He(r,Qr),He(r,ri),He(t,Yr),He(t,Qr),He(t,ri),"day").days}function Ec(r,t,n,i){const l=lc(r,t,n,void 0,i);return{relativeTo:l,days:D0(t,l)}}function AS(r,t,n,i,l){const p=He(r,ns),c=He(r,Qn);return Ca(vu(He(r,$c),p,c,t,n,i,l,0,0,0,0,0,0),p,c)}function QI(r,t,n,i,l,p,c,h,V,$,I,q,ke,Ne){let Pe=r,Ke=t,rt=n,ht=i,ct=l,dt=p,At=c,Pt=h,Ct=V,zt=$;if(!ii(Ne)||"year"===q||"month"===q||"week"===q||"day"===q||"nanosecond"===q&&1===I)return{years:Pe,months:Ke,weeks:rt,days:ht,hours:ct,minutes:dt,seconds:At,milliseconds:Pt,microseconds:Ct,nanoseconds:zt};let Zt=A0(0,ct,dt,At,Pt,Ct,zt,0);const xn=Mb(kt.toNumber(Zt)),Cn=He(Ne,ns),Nn=He(Ne,Qn),ir=vu(He(Ne,$c),Cn,Nn,Pe,Ke,rt,ht,0,0,0,0,0,0),Pn=vu(new(Ur("%Temporal.Instant%"))(ir),Cn,Nn,0,0,0,xn,0,0,0,0,0,0),Hn=kt.subtract(Pn,ir);return kt.greaterThanOrEqual(kt.multiply(kt.subtract(Zt,Hn),kt.BigInt(xn)),Ws)&&(({years:Pe,months:Ke,weeks:rt,days:ht}=ES(Pe,Ke,rt,ht,0,0,0,0,0,0,0,0,0,xn,0,0,0,0,0,0,Ne)),Zt=O1(kt.subtract(Zt,Hn),I,q,ke),({hours:ct,minutes:dt,seconds:At,milliseconds:Pt,microseconds:Ct,nanoseconds:zt}=df(0,0,0,0,0,0,kt.toNumber(Zt),"hour"))),{years:Pe,months:Ke,weeks:rt,days:ht,hours:ct,minutes:dt,seconds:At,milliseconds:Pt,microseconds:Ct,nanoseconds:zt}}function gp(r,t,n,i,l,p,c,h,V,$,I,q,ke,Ne){let Pe=r,Ke=t,rt=n,ht=i,ct=l,dt=p,At=c,Pt=h,Ct=V,zt=kt.BigInt($);const Zt=Ur("%Temporal.Duration%");let xn,Cn,Nn,ir,Pn=Ne;if(Pn){if(ii(Pn))Cn=Pn,Pn=hs(Pn);else if(!_o(Pn))throw new TypeError("starting point must be PlainDate or ZonedDateTime");xn=He(Pn,Qn)}if("year"===q||"month"===q||"week"===q||"day"===q){let Hn,ln,vn;zt=A0(0,ct,dt,At,Pt,Ct,$,0),Cn&&(Hn=AS(Cn,Pe,Ke,rt,ht)),({days:ln,nanoseconds:zt,dayLengthNs:vn}=ug(zt,Hn)),Nn=kt.BigInt(vn),ht+=ln,ct=dt=At=Pt=Ct=0}switch(q){case"year":{if(!xn)throw new RangeError("A starting point is required for years rounding");const Hn=new Zt(Pe),ln="string"!=typeof xn?Go(xn,"dateAdd"):void 0,vn=lc(xn,Pn,Hn,void 0,ln),wn=lc(xn,Pn,new Zt(Pe,Ke,rt),void 0,ln);Pn=vn,ht+=D0(vn,wn);const Un=lc(xn,Pn,new Zt(0,0,0,ht),void 0,ln),Sn=wc(null);Sn.largestUnit="year";const Vn=mu(xn,Pn,Un,Sn).years;Pe+=Vn;const lr=Pn;Pn=lc(xn,Pn,new Zt(Vn),void 0,ln),ht-=D0(lr,Pn);const cr=new Zt(ht<0?-1:1);let{days:mn}=Ec(xn,Pn,cr,ln);mn=Is(mn);const dr=kt.multiply(kt.BigInt(mn),Nn);zt=kt.add(kt.add(kt.multiply(dr,kt.BigInt(Pe)),kt.multiply(kt.BigInt(ht),Nn)),zt);const _r=Xd(zt,kt.multiply(dr,kt.BigInt(I)),ke);ir=Ql(zt,dr),Pe=kt.toNumber(kt.divide(_r,dr)),zt=Ws,Ke=rt=ht=0;break}case"month":{if(!xn)throw new RangeError("A starting point is required for months rounding");const Hn=new Zt(Pe,Ke),ln="string"!=typeof xn?Go(xn,"dateAdd"):void 0,vn=lc(xn,Pn,Hn,void 0,ln),wn=lc(xn,Pn,new Zt(Pe,Ke,rt),void 0,ln);Pn=vn,ht+=D0(vn,wn);const Un=Mb(ht),Sn=new Zt(0,ht<0?-1:1);let Vn;for(({relativeTo:Pn,days:Vn}=Ec(xn,Pn,Sn,ln));Is(ht)>=Is(Vn);)Ke+=Un,ht-=Vn,({relativeTo:Pn,days:Vn}=Ec(xn,Pn,Sn,ln));Vn=Is(Vn);const lr=kt.multiply(kt.BigInt(Vn),Nn);zt=kt.add(kt.add(kt.multiply(lr,kt.BigInt(Ke)),kt.multiply(kt.BigInt(ht),Nn)),zt);const cr=Xd(zt,kt.multiply(lr,kt.BigInt(I)),ke);ir=Ql(zt,lr),Ke=kt.toNumber(kt.divide(cr,lr)),zt=Ws,rt=ht=0;break}case"week":{if(!xn)throw new RangeError("A starting point is required for weeks rounding");const Hn=Mb(ht),ln=new Zt(0,0,ht<0?-1:1),vn="string"!=typeof xn?Go(xn,"dateAdd"):void 0;let wn;for(({relativeTo:Pn,days:wn}=Ec(xn,Pn,ln,vn));Is(ht)>=Is(wn);)rt+=Hn,ht-=wn,({relativeTo:Pn,days:wn}=Ec(xn,Pn,ln,vn));wn=Is(wn);const Un=kt.multiply(kt.BigInt(wn),Nn);zt=kt.add(kt.add(kt.multiply(Un,kt.BigInt(rt)),kt.multiply(kt.BigInt(ht),Nn)),zt);const Sn=Xd(zt,kt.multiply(Un,kt.BigInt(I)),ke);ir=Ql(zt,Un),rt=kt.toNumber(kt.divide(Sn,Un)),zt=Ws,ht=0;break}case"day":{const Hn=Nn;zt=kt.add(kt.multiply(Hn,kt.BigInt(ht)),zt);const ln=Xd(zt,kt.multiply(Hn,kt.BigInt(I)),ke);ir=Ql(zt,Hn),ht=kt.toNumber(kt.divide(ln,Hn)),zt=Ws;break}case"hour":{let ln=kt.multiply(kt.BigInt(ct),kt.BigInt(36e11));ln=kt.add(ln,kt.multiply(kt.BigInt(dt),kt.BigInt(6e10))),ln=kt.add(ln,kt.multiply(kt.BigInt(At),nf)),ln=kt.add(ln,kt.multiply(kt.BigInt(Pt),Hd)),ln=kt.add(ln,kt.multiply(kt.BigInt(Ct),Ho)),ln=kt.add(ln,zt),ir=Ql(ln,kt.BigInt(36e11));const vn=Xd(ln,kt.BigInt(36e11*I),ke);ct=kt.toNumber(kt.divide(vn,kt.BigInt(36e11))),zt=Ws,dt=At=Pt=Ct=0;break}case"minute":{let ln=kt.multiply(kt.BigInt(dt),kt.BigInt(6e10));ln=kt.add(ln,kt.multiply(kt.BigInt(At),nf)),ln=kt.add(ln,kt.multiply(kt.BigInt(Pt),Hd)),ln=kt.add(ln,kt.multiply(kt.BigInt(Ct),Ho)),ln=kt.add(ln,zt),ir=Ql(ln,kt.BigInt(6e10));const vn=Xd(ln,kt.BigInt(6e10*I),ke);dt=kt.toNumber(kt.divide(vn,kt.BigInt(6e10))),zt=Ws,At=Pt=Ct=0;break}case"second":{let ln=kt.multiply(kt.BigInt(At),nf);ln=kt.add(ln,kt.multiply(kt.BigInt(Pt),Hd)),ln=kt.add(ln,kt.multiply(kt.BigInt(Ct),Ho)),ln=kt.add(ln,zt),ir=Ql(ln,kt.BigInt(1e9));const vn=Xd(ln,kt.BigInt(1e9*I),ke);At=kt.toNumber(kt.divide(vn,kt.BigInt(1e9))),zt=Ws,Pt=Ct=0;break}case"millisecond":{let ln=kt.multiply(kt.BigInt(Pt),Hd);ln=kt.add(ln,kt.multiply(kt.BigInt(Ct),Ho)),ln=kt.add(ln,zt),ir=Ql(ln,kt.BigInt(1e6));const vn=Xd(ln,kt.BigInt(1e6*I),ke);Pt=kt.toNumber(kt.divide(vn,kt.BigInt(1e6))),zt=Ws,Ct=0;break}case"microsecond":{let ln=kt.multiply(kt.BigInt(Ct),Ho);ln=kt.add(ln,zt),ir=Ql(ln,kt.BigInt(1e3));const vn=Xd(ln,kt.BigInt(1e3*I),ke);Ct=kt.toNumber(kt.divide(vn,kt.BigInt(1e3))),zt=Ws;break}case"nanosecond":ir=kt.toNumber(zt),zt=Xd(kt.BigInt(zt),kt.BigInt(I),ke)}return{years:Pe,months:Ke,weeks:rt,days:ht,hours:ct,minutes:dt,seconds:At,milliseconds:Pt,microseconds:Ct,nanoseconds:kt.toNumber(zt),total:ir}}function vp(r,t,n,i,l,p){for(const[c,h]of[[r,i],[t,l],[n,p]])if(c!==h)return wp(c-h);return 0}function bp(r,t){let{quotient:n,remainder:i}=Sa(r,t);return kt.lessThan(i,Ws)&&(n=kt.subtract(n,Yy),i=kt.add(i,t)),{quotient:n,remainder:i}}function lm(r,t){const{quotient:n,remainder:i}=Sa(r,t);return pu(i)||!Cb(r)==!Cb(t)?n:kt.subtract(n,Yy)}function Ql(r,t){const{quotient:n,remainder:i}=Sa(r,t);return kt.toNumber(n)+kt.toNumber(i)/kt.toNumber(t)}function P1(r){const t=Xb(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function Xb(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=a1(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return kt.BigInt("bigint"==typeof t?t.toString(10):t)}const dm=(()=>{let r=kt.BigInt(Date.now()%1e6);return()=>{const t=kt.BigInt(Date.now()),n=kt.add(kt.multiply(t,Hd),r);return r=kt.remainder(t,Hd),kt.greaterThan(n,ip)?ip:kt.lessThan(n,Ff)?Ff:n}})();function I0(){return(new TI).resolvedOptions().timeZone}function wp(r){return r<0?-1:r>0?1:r}function No(r){if(void 0===r)return wc(null);if(ks(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function C0(r,t){const n=wc(null);return n[r]=t,n}function _p(r){const t=wc(null);return g0(t,No(r),[]),t}function k0(r,t,n,i){let l=r[t];if(void 0!==l){if(l=Ja(l),!n.includes(l))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${l}`);return l}return i}function Zd(r){return RI.includes(Ch(r))}function Ch(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const eC=new RegExp(`^${Nk.source}$`);function tC(r,t,n,i=r(t),l=r(n)){let p=kt.BigInt(t),c=kt.BigInt(n),h=i,V=l;for(;kt.greaterThan(kt.subtract(c,p),Yy);){const $=kt.divide(kt.add(p,c),kt.BigInt(2)),I=r($);if(I===h)p=$,h=I;else{if(I!==V)throw new Error(`invalid state in bisection ${h} - ${I} - ${V}`);c=$,V=I}}return c}const R0={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},nC=Symbol("date"),Zb=Symbol("ym"),Yb=Symbol("md"),Td=Symbol("time"),TS=Symbol("datetime"),DS=Symbol("instant"),mg=Symbol("original"),kh=Symbol("timezone"),ed=Symbol("calendar-id"),rC=Symbol("locale"),IS=Symbol("options"),yg=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),Rh=globalThis.Intl.DateTimeFormat,Ep=Object.assign,Gk=Object.prototype.hasOwnProperty,Xk=Reflect.apply;function O0(r,t){let n=r[t];return"function"==typeof n&&(n=new Rh(r[rC],n(r[IS])),r[t]=n),n}function um(r,t={}){if(!(this instanceof um))return new um(r,t);const n=void 0!==t,i=n?Ep({},t):{},l=new Rh(r,i),p=l.resolvedOptions();if(n){const c=Ep({},p);for(const h in c)Xk(Gk,i,[h])||delete c[h];this[IS]=c}else this[IS]=i;this[rC]=p.locale,this[mg]=l,this[kh]=p.timeZone,this[ed]=p.calendar,this[nC]=J4,this[Zb]=Z4,this[Yb]=Y4,this[Td]=Zk,this[TS]=q4,this[DS]=iC}Object.defineProperty(um,"name",{writable:!0,value:"DateTimeFormat"}),um.supportedLocalesOf=function(r,t){return Rh.supportedLocalesOf(r,t)};const B1={resolvedOptions:yg(function(){return this[mg].resolvedOptions()}),format:yg(function(t,...n){let{instant:i,formatter:l}=Oh(t,this);return i&&l?l.format(i.epochMilliseconds):this[mg].format(t,...n)}),formatRange:yg(function(t,n){if(bg(t)||bg(n)){if(!kS(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:l}=Oh(t,this),{instant:p,formatter:c}=Oh(n,this);if(i&&p&&l&&c&&l===c)return l.formatRange(i.epochMilliseconds,p.epochMilliseconds)}return this[mg].formatRange(t,n)})};"formatToParts"in Rh.prototype&&(B1.formatToParts=yg(function(t,...n){let{instant:i,formatter:l}=Oh(t,this);return i&&l?l.formatToParts(i.epochMilliseconds):this[mg].formatToParts(t,...n)})),"formatRangeToParts"in Rh.prototype&&(B1.formatRangeToParts=yg(function(t,n){if(bg(t)||bg(n)){if(!kS(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:l}=Oh(t,this),{instant:p,formatter:c}=Oh(n,this);if(i&&p&&l&&c&&l===c)return l.formatRangeToParts(i.epochMilliseconds,p.epochMilliseconds)}return this[mg].formatRangeToParts(t,n)})),um.prototype=Object.create(Rh.prototype,B1),Object.defineProperty(um,"prototype",{writable:!1,enumerable:!1,configurable:!1});const xp=um;function gg(r={},t={}){const n=Ep({},r);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[i]=i in t?t[i]:n[i],!1!==n[i]&&void 0!==n[i]||delete n[i];return n}function Zk(r){let t=gg(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return CS(t)||(t=Ep({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function Z4(r){let t=gg(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=Ep(t,{year:"numeric",month:"numeric"})),t}function Y4(r){let t=gg(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=Ep({},t,{month:"numeric",day:"numeric"})),t}function J4(r){let t=gg(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return vg(t)||(t=Ep({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function q4(r){let t=gg(r,{timeZoneName:!1});return CS(t)||vg(t)||(t=Ep({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function iC(r){let t=r;return CS(t)||vg(t)||(t=Ep({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function vg(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function CS(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function bg(r){return _o(r)||Gs(r)||Li(r)||ii(r)||$o(r)||Qa(r)||qa(r)}function kS(r,t){return!(!bg(r)||!bg(t)||Gs(r)&&!Gs(t)||_o(r)&&!_o(t)||Li(r)&&!Li(t)||ii(r)&&!ii(t)||$o(r)&&!$o(t)||Qa(r)&&!Qa(t)||qa(r)&&!qa(t))}function Oh(r,t){const n=Ur("%Temporal.PlainDateTime%");if(Gs(r)){const i=new n(1970,1,1,He(r,Qi),He(r,no),He(r,eo),He(r,ro),He(r,io),He(r,fo),t[ed]);return{instant:Il(t[kh],i,"compatible"),formatter:O0(t,Td)}}if($o(r)){const i=He(r,Yr),l=He(r,Qr),p=He(r,ri),c=ec(He(r,Qn));if(c!==t[ed])throw new RangeError(`cannot format PlainYearMonth with calendar ${c} in locale with calendar ${t[ed]}`);const h=new n(i,l,p,12,0,0,0,0,0,c);return{instant:Il(t[kh],h,"compatible"),formatter:O0(t,Zb)}}if(Qa(r)){const i=He(r,Yr),l=He(r,Qr),p=He(r,ri),c=ec(He(r,Qn));if(c!==t[ed])throw new RangeError(`cannot format PlainMonthDay with calendar ${c} in locale with calendar ${t[ed]}`);const h=new n(i,l,p,12,0,0,0,0,0,c);return{instant:Il(t[kh],h,"compatible"),formatter:O0(t,Yb)}}if(_o(r)){const i=He(r,Yr),l=He(r,Qr),p=He(r,ri),c=ec(He(r,Qn));if("iso8601"!==c&&c!==t[ed])throw new RangeError(`cannot format PlainDate with calendar ${c} in locale with calendar ${t[ed]}`);const h=new n(i,l,p,12,0,0,0,0,0,t[ed]);return{instant:Il(t[kh],h,"compatible"),formatter:O0(t,nC)}}if(Li(r)){const i=He(r,Yr),l=He(r,Qr),p=He(r,ri),c=He(r,Qi),h=He(r,no),V=He(r,eo),$=He(r,ro),I=He(r,io),q=He(r,fo),ke=ec(He(r,Qn));if("iso8601"!==ke&&ke!==t[ed])throw new RangeError(`cannot format PlainDateTime with calendar ${ke} in locale with calendar ${t[ed]}`);let Ne=r;return"iso8601"===ke&&(Ne=new n(i,l,p,c,h,V,$,I,q,t[ed])),{instant:Il(t[kh],Ne,"compatible"),formatter:O0(t,TS)}}if(ii(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return qa(r)?{instant:r,formatter:O0(t,DS)}:{}}Object.freeze({__proto__:null,DateTimeFormat:xp});class uf{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=Xb(t);yp(n),Eh(this),yo(this,Ei,n)}get epochSeconds(){if(!qa(this))throw new TypeError("invalid receiver");const t=He(this,Ei);return kt.toNumber(lm(t,nf))}get epochMilliseconds(){if(!qa(this))throw new TypeError("invalid receiver");const t=kt.BigInt(He(this,Ei));return kt.toNumber(lm(t,Hd))}get epochMicroseconds(){if(!qa(this))throw new TypeError("invalid receiver");return P1(lm(kt.BigInt(He(this,Ei)),Ho))}get epochNanoseconds(){if(!qa(this))throw new TypeError("invalid receiver");return P1(kt.BigInt(He(this,Ei)))}add(t){if(!qa(this))throw new TypeError("invalid receiver");return qI("add",this,t)}subtract(t){if(!qa(this))throw new TypeError("invalid receiver");return qI("subtract",this,t)}until(t,n){if(!qa(this))throw new TypeError("invalid receiver");return ZI("until",this,t,n)}since(t,n){if(!qa(this))throw new TypeError("invalid receiver");return ZI("since",this,t,n)}round(t){if(!qa(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?C0("smallestUnit",t):No(t),i=ng(n),l=sf(n,"halfExpand"),p=Ed(n,"smallestUnit","time",_0);im(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[p],!0);const c=O1(He(this,Ei),i,p,l);return new uf(c)}equals(t){if(!qa(this))throw new TypeError("invalid receiver");const n=$f(t),i=He(this,Ei),l=He(n,Ei);return kt.equal(kt.BigInt(i),kt.BigInt(l))}toString(t){if(!qa(this))throw new TypeError("invalid receiver");const n=No(t),i=w0(n),l=sf(n,"trunc"),p=Ed(n,"smallestUnit","time",void 0);if("hour"===p)throw new RangeError('smallestUnit must be a time unit other than "hour"');let c=n.timeZone;void 0!==c&&(c=_c(c));const{precision:h,unit:V,increment:$}=Rb(p,i),I=O1(He(this,Ei),$,V,l);return M0(new uf(I),c,h)}toJSON(){if(!qa(this))throw new TypeError("invalid receiver");return M0(this,void 0,"auto")}toLocaleString(t,n){if(!qa(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!qa(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const i=ql(n),l=t.timeZone;if(void 0===l)throw new TypeError("missing timeZone property in toZonedDateTime");const p=_c(l);return Ca(He(this,Ei),p,i)}toZonedDateTimeISO(t){if(!qa(this))throw new TypeError("invalid receiver");const n=_c(t);return Ca(He(this,Ei),n,"iso8601")}static fromEpochSeconds(t){const n=Qy(t),i=kt.multiply(kt.BigInt(n),nf);return yp(i),new uf(i)}static fromEpochMilliseconds(t){const n=Qy(t),i=kt.multiply(kt.BigInt(n),Hd);return yp(i),new uf(i)}static fromEpochMicroseconds(t){const n=Xb(t),i=kt.multiply(n,Ho);return yp(i),new uf(i)}static fromEpochNanoseconds(t){const n=Xb(t);return yp(n),new uf(n)}static from(t){return qa(t)?new uf(He(t,Ei)):$f(t)}static compare(t,n){const i=$f(t),l=$f(n),p=He(i,Ei),c=He(l,Ei);return kt.lessThan(p,c)?-1:kt.greaterThan(p,c)?1:0}}ef(uf,"Temporal.Instant");const oC=Array.prototype.includes,Yk=Array.prototype.push,eB=globalThis.Intl.DateTimeFormat,Jk=Array.prototype.sort,sC=Math.abs,qk=Math.floor,RS=Object.create,P0=Object.entries,aC=Set,OS=Reflect.ownKeys,Vc=Set.prototype.add,cC=Set.prototype.values,$s={};class ya{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=Ja(t);if(!Zd(n))throw new RangeError(`invalid calendar identifier ${n}`);Eh(this),yo(this,_s,Ch(n))}get id(){if(!ma(this))throw new TypeError("invalid receiver");return He(this,_s)}dateFromFields(t,n){if(!ma(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid fields");const i=No(n),l=He(this,_s);return $s[l].dateFromFields(t,i,l)}yearMonthFromFields(t,n){if(!ma(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid fields");const i=No(n),l=He(this,_s);return $s[l].yearMonthFromFields(t,i,l)}monthDayFromFields(t,n){if(!ma(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid fields");const i=No(n),l=He(this,_s);return $s[l].monthDayFromFields(t,i,l)}fields(t){if(!ma(this))throw new TypeError("invalid receiver");const n=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const l of t){if("string"!=typeof l)throw new TypeError("invalid fields");if(!i.has(l))throw new RangeError(`invalid field name ${l}`);i.delete(l),Yk.call(n,l)}return $s[He(this,_s)].fields(n)}mergeFields(t,n){if(!ma(this))throw new TypeError("invalid receiver");const i=eS(t),l=RS(null);g0(l,i,[],[void 0]);const p=eS(n),c=RS(null);g0(c,p,[],[void 0]);const h=OS(c),V=$s[He(this,_s)].fieldKeysToIgnore(h),$=RS(null),I=OS(l);for(const q of I){let ke;ke=Xr(oC,V,[q])?c[q]:l[q],void 0!==ke&&($[q]=ke)}return g0($,c,[]),$}dateAdd(t,n,i){if(!ma(this))throw new TypeError("invalid receiver");const l=hs(t),p=rg(n),c=Ia(No(i)),{days:h}=df(He(p,Hl),He(p,Wl),He(p,Gl),He(p,Xl),He(p,Zl),He(p,Yl),He(p,Dl),"day"),V=He(this,_s);return $s[V].dateAdd(l,He(p,ol),He(p,vc),He(p,zl),h,c,V)}dateUntil(t,n,i){if(!ma(this))throw new TypeError("invalid receiver");const l=hs(t),p=hs(n);let c=Ed(No(i),"largestUnit","date","auto");"auto"===c&&(c="day");const{years:h,months:V,weeks:$,days:I}=$s[He(this,_s)].dateUntil(l,p,c);return new(Ur("%Temporal.Duration%"))(h,V,$,I,0,0,0,0,0,0)}year(t){let n=t;if(!ma(this))throw new TypeError("invalid receiver");return $o(n)||(n=hs(n)),$s[He(this,_s)].year(n)}month(t){let n=t;if(!ma(this))throw new TypeError("invalid receiver");if(Qa(n))throw new TypeError("use monthCode on PlainMonthDay instead");return $o(n)||(n=hs(n)),$s[He(this,_s)].month(n)}monthCode(t){let n=t;if(!ma(this))throw new TypeError("invalid receiver");return $o(n)||Qa(n)||(n=hs(n)),$s[He(this,_s)].monthCode(n)}day(t){let n=t;if(!ma(this))throw new TypeError("invalid receiver");return Qa(n)||(n=hs(n)),$s[He(this,_s)].day(n)}era(t){let n=t;if(!ma(this))throw new TypeError("invalid receiver");return $o(n)||(n=hs(n)),$s[He(this,_s)].era(n)}eraYear(t){let n=t;if(!ma(this))throw new TypeError("invalid receiver");return $o(n)||(n=hs(n)),$s[He(this,_s)].eraYear(n)}dayOfWeek(t){if(!ma(this))throw new TypeError("invalid receiver");const n=hs(t);return $s[He(this,_s)].dayOfWeek(n)}dayOfYear(t){if(!ma(this))throw new TypeError("invalid receiver");const n=hs(t);return $s[He(this,_s)].dayOfYear(n)}weekOfYear(t){if(!ma(this))throw new TypeError("invalid receiver");const n=hs(t);return $s[He(this,_s)].weekOfYear(n)}yearOfWeek(t){if(!ma(this))throw new TypeError("invalid receiver");const n=hs(t);return $s[He(this,_s)].yearOfWeek(n)}daysInWeek(t){if(!ma(this))throw new TypeError("invalid receiver");const n=hs(t);return $s[He(this,_s)].daysInWeek(n)}daysInMonth(t){let n=t;if(!ma(this))throw new TypeError("invalid receiver");return $o(n)||(n=hs(n)),$s[He(this,_s)].daysInMonth(n)}daysInYear(t){let n=t;if(!ma(this))throw new TypeError("invalid receiver");return $o(n)||(n=hs(n)),$s[He(this,_s)].daysInYear(n)}monthsInYear(t){let n=t;if(!ma(this))throw new TypeError("invalid receiver");return $o(n)||(n=hs(n)),$s[He(this,_s)].monthsInYear(n)}inLeapYear(t){let n=t;if(!ma(this))throw new TypeError("invalid receiver");return $o(n)||(n=hs(n)),$s[He(this,_s)].inLeapYear(n)}toString(){if(!ma(this))throw new TypeError("invalid receiver");return He(this,_s)}toJSON(){if(!ma(this))throw new TypeError("invalid receiver");return He(this,_s)}static from(t){return yu(ql(t))}}function Jb(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function Sp(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function qb(r,t,n=12){let{month:i,monthCode:l}=r;if(void 0===l){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===t&&Kc(i,1,n),"constrain"===t&&(i=Ad(i,1,n)),l=Sp(i)}else{const p=Jb(l);if(void 0!==i&&i!==p)throw new RangeError(`monthCode ${l} and month ${i} must match if both are present`);if(l!==Sp(p))throw new RangeError(`Invalid month code: ${l}`);if(i=p,i<1||i>n)throw new RangeError(`Invalid monthCode: ${l}`)}return{...r,month:i,monthCode:l}}ef(ya,"Temporal.Calendar"),pa("Temporal.Calendar.from",ya.from),pa("Temporal.Calendar.prototype.dateAdd",ya.prototype.dateAdd),pa("Temporal.Calendar.prototype.dateFromFields",ya.prototype.dateFromFields),pa("Temporal.Calendar.prototype.dateUntil",ya.prototype.dateUntil),pa("Temporal.Calendar.prototype.day",ya.prototype.day),pa("Temporal.Calendar.prototype.dayOfWeek",ya.prototype.dayOfWeek),pa("Temporal.Calendar.prototype.dayOfYear",ya.prototype.dayOfYear),pa("Temporal.Calendar.prototype.daysInMonth",ya.prototype.daysInMonth),pa("Temporal.Calendar.prototype.daysInWeek",ya.prototype.daysInWeek),pa("Temporal.Calendar.prototype.daysInYear",ya.prototype.daysInYear),pa("Temporal.Calendar.prototype.era",ya.prototype.era),pa("Temporal.Calendar.prototype.eraYear",ya.prototype.eraYear),pa("Temporal.Calendar.prototype.fields",ya.prototype.fields),pa("Temporal.Calendar.prototype.inLeapYear",ya.prototype.inLeapYear),pa("Temporal.Calendar.prototype.mergeFields",ya.prototype.mergeFields),pa("Temporal.Calendar.prototype.month",ya.prototype.month),pa("Temporal.Calendar.prototype.monthCode",ya.prototype.monthCode),pa("Temporal.Calendar.prototype.monthDayFromFields",ya.prototype.monthDayFromFields),pa("Temporal.Calendar.prototype.monthsInYear",ya.prototype.monthsInYear),pa("Temporal.Calendar.prototype.weekOfYear",ya.prototype.weekOfYear),pa("Temporal.Calendar.prototype.year",ya.prototype.year),pa("Temporal.Calendar.prototype.yearMonthFromFields",ya.prototype.yearMonthFromFields),pa("Temporal.Calendar.prototype.yearOfWeek",ya.prototype.yearOfWeek),$s.iso8601={dateFromFields(r,t,n){let i=vo(r,["day","month","monthCode","year"],["year","day"]);const l=Ia(t);i=qb(i);let{year:p,month:c,day:h}=i;return({year:p,month:c,day:h}=kb(p,c,h,l)),xd(p,c,h,n)},yearMonthFromFields(r,t,n){let i=vo(r,["month","monthCode","year"],["year"]);const l=Ia(t);i=qb(i);let{year:p,month:c}=i;return({year:p,month:c}=function(V,$,I){let q=V,ke=$;switch(I){case"reject":Ih(q,ke,1);break;case"constrain":({year:q,month:ke}=WI(q,ke))}return{year:q,month:ke}}(p,c,l)),cp(p,c,n,1)},monthDayFromFields(r,t,n){let i=vo(r,["day","month","monthCode","year"],["day"]);const l=Ia(t);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const p=void 0===i.monthCode;i=qb(i);let{month:c,day:h,year:V}=i;return({month:c,day:h}=kb(p?V:1972,c,h,l)),og(c,h,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new aC;for(let n=0;n<r.length;n++){const i=r[n];Xr(Vc,t,[i]),"month"===i?Xr(Vc,t,["monthCode"]):"monthCode"===i&&Xr(Vc,t,["month"])}return[...Xr(cC,t,[])]},dateAdd(r,t,n,i,l,p,c){let h=He(r,Yr),V=He(r,Qr),$=He(r,ri);return({year:h,month:V,day:$}=fg(h,V,$,t,n,i,l,p)),xd(h,V,$,c)},dateUntil:(r,t,n)=>gS(He(r,Yr),He(r,Qr),He(r,ri),He(t,Yr),He(t,Qr),He(t,ri),n),year:r=>He(r,Yr),era(){},eraYear(){},month:r=>He(r,Qr),monthCode:r=>Sp(He(r,Qr)),day:r=>He(r,ri),dayOfWeek:r=>fS(He(r,Yr),He(r,Qr),He(r,ri)),dayOfYear:r=>lg(He(r,Yr),He(r,Qr),He(r,ri)),weekOfYear:r=>dg(He(r,Yr),He(r,Qr),He(r,ri)).week,yearOfWeek:r=>dg(He(r,Yr),He(r,Qr),He(r,ri)).year,daysInWeek:()=>7,daysInMonth:r=>mp(He(r,Yr),He(r,Qr)),daysInYear(r){let t=r;return bc(t,Yr)||(t=hs(t)),cm(He(t,Yr))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return bc(t,Yr)||(t=hs(t)),cm(He(t,Yr))}};class Xs{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const i of t.map.entries()){if(++n>Xs.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(Xs.objectMap.get(t))throw new RangeError("object already cached");Xs.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=Xs.objectMap.get(t);return n||(n=new Xs,Xs.objectMap.set(t,n)),n}}function lC({isoYear:r,isoMonth:t,isoDay:n}){return`${S0(r)}-${js(t)}-${js(n)}T00:00Z`}function PS(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}Xs.objectMap=new WeakMap,Xs.MAX_CACHE_ENTRIES=1e3;class wg{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new eB(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:i,month:l,day:p}=t,c=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:l,isoDay:p,id:this.id}),h=n.get(c);if(h)return h;const V=this.getFormatter();let $,I;try{I=lC({isoYear:i,isoMonth:l,isoDay:p}),$=V.formatToParts(new Date(I))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:l,isoDay:p})}`)}const q={};for(let{type:Ne,value:Pe}of $){if("year"===Ne&&(q.eraYear=+Pe),"relatedYear"===Ne&&(q.eraYear=+Pe),"month"===Ne){const Ke=/^([0-9]*)(.*?)$/.exec(Pe);if(!Ke||3!=Ke.length||!Ke[1]&&!Ke[2])throw new RangeError(`Unexpected month: ${Pe}`);if(q.month=Ke[1]?+Ke[1]:1,q.month<1)throw new RangeError(`Invalid month ${Pe} from ${I}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(q.month>13)throw new RangeError(`Invalid month ${Pe} from ${I}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);Ke[2]&&(q.monthExtra=Ke[2])}"day"===Ne&&(q.day=+Pe),this.hasEra&&"era"===Ne&&null!=Pe&&""!==Pe&&(Pe=Pe.split(" (")[0],q.era=Pe.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===q.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:Ne,eraYear:Pe}=this.reviseIntlEra(q,t);q.era=Ne,q.eraYear=Pe}this.checkIcuBugs&&this.checkIcuBugs(t);const ke=this.adjustCalendarDate(q,n,"constrain",!0);if(void 0===ke.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===ke.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===ke.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(c,ke),["constrain","reject"].forEach(Ne=>{const Pe=JSON.stringify({func:"calendarToIsoDate",year:ke.year,month:ke.month,day:ke.day,overflow:Ne,id:this.id});n.set(Pe,t)}),ke}validateCalendarDate(t){const{era:n,month:i,year:l,day:p,eraYear:c,monthCode:h,monthExtra:V}=t;if(void 0!==V)throw new RangeError("Unexpected `monthExtra` value");if(void 0===l&&void 0===c)throw new TypeError("year or eraYear is required");if(void 0===i&&void 0===h)throw new TypeError("month or monthCode is required");if(void 0===p)throw new RangeError("Missing day");if(void 0!==h){if("string"!=typeof h)throw new RangeError("monthCode must be a string, not "+typeof h);if(!/^M([01]?\d)(L?)$/.test(h))throw new RangeError(`Invalid monthCode: ${h}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==c&&void 0!==l&&c!==l)throw new RangeError(`eraYear ${c} does not match year ${l}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,i="constrain",l=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let p=t;if(this.validateCalendarDate(p),this.constantEra){const{year:$,eraYear:I}=p;p={...p,era:this.constantEra,year:void 0!==$?$:I,eraYear:void 0!==I?I:$}}const c=this.monthsInYear(p,n);let{month:h,monthCode:V}=p;return({month:h,monthCode:V}=qb(p,i,c)),{...p,month:h,monthCode:V}}regulateMonthDayNaive(t,n,i){const l=this.monthsInYear(t,i);let{month:p,day:c}=t;return"reject"===n?(Kc(p,1,l),Kc(c,1,this.maximumMonthLength(t))):(p=Ad(p,1,l),c=Ad(c,1,this.maximumMonthLength({...t,month:p}))),{...t,month:p,day:c}}calendarToIsoDate(t,n="constrain",i){const l=t;let p=this.adjustCalendarDate(t,i,n,!1);p=this.regulateMonthDayNaive(p,n,i);const{year:c,month:h,day:V}=p,$=JSON.stringify({func:"calendarToIsoDate",year:c,month:h,day:V,overflow:n,id:this.id});let I,q=i.get($);if(q||void 0!==l.year&&void 0!==l.month&&void 0!==l.day&&(l.year!==p.year||l.month!==p.month||l.day!==p.day)&&(I=JSON.stringify({func:"calendarToIsoDate",year:l.year,month:l.month,day:l.day,overflow:n,id:this.id}),q=i.get(I),q))return q;let ke=this.estimateIsoDate({year:c,month:h,day:V});const Ne=ct=>{let dt=this.addDaysIso(ke,ct);if(p.day>this.minimumMonthLength(p)){let At=this.isoToCalendarDate(dt,i);for(;At.month!==h||At.year!==c;){if("reject"===n)throw new RangeError(`day ${V} does not exist in month ${h} of year ${c}`);dt=this.addDaysIso(dt,-1),At=this.isoToCalendarDate(dt,i)}}return dt};let Pe=0,Ke=this.isoToCalendarDate(ke,i),rt=PS(p,Ke);0===rt.years&&0===rt.months&&0===rt.days||(ke=this.addDaysIso(ke,365*rt.years+30*rt.months+rt.days),Ke=this.isoToCalendarDate(ke,i),rt=PS(p,Ke),0===rt.years&&0===rt.months?ke=Ne(rt.days):Pe=this.compareCalendarDates(p,Ke));let ht=8;for(;Pe;){ke=this.addDaysIso(ke,Pe*ht);const ct=Ke;Ke=this.isoToCalendarDate(ke,i);const dt=Pe;if(Pe=this.compareCalendarDates(p,Ke),Pe)if(rt=PS(p,Ke),0===rt.years&&0===rt.months)ke=Ne(rt.days),Pe=0;else if(dt&&Pe!==dt)if(ht>1)ht/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...l})}`);this.compareCalendarDates(Ke,ct)>0&&(ke=this.addDaysIso(ke,-1)),Pe=0}}if(i.set($,ke),I&&i.set(I,ke),void 0===p.year||void 0===p.month||void 0===p.day||void 0===p.monthCode||this.hasEra&&(void 0===p.era||void 0===p.eraYear))throw new RangeError("Unexpected missing property");return ke}temporalToCalendarDate(t,n){const i={year:He(t,Yr),month:He(t,Qr),day:He(t,ri)};return this.isoToCalendarDate(i,n)}compareCalendarDates(t,n){const i=vo(t,["day","month","year"],["day","month","year"]),l=vo(n,["day","month","year"],["day","month","year"]);return i.year!==l.year?wp(i.year-l.year):i.month!==l.month?wp(i.month-l.month):i.day!==l.day?wp(i.day-l.day):0}regulateDate(t,n="constrain",i){const l=this.calendarToIsoDate(t,n,i);return this.isoToCalendarDate(l,i)}addDaysIso(t,n){return fg(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,i){const l=this.calendarToIsoDate(t,"constrain",i),p=this.addDaysIso(l,n);return this.isoToCalendarDate(p,i)}addMonthsCalendar(t,n,i,l){let p=t;const{day:c}=p;for(let h=0,V=sC(n);h<V;h++){const{month:$}=p,I=p,q=n<0?-Math.max(c,this.daysInPreviousMonth(p,l)):this.daysInMonth(p,l),ke=this.calendarToIsoDate(p,"constrain",l);let Ne=this.addDaysIso(ke,q);if(p=this.isoToCalendarDate(Ne,l),n>0){const Pe=this.monthsInYear(I,l);for(;p.month-1!=$%Pe;)Ne=this.addDaysIso(Ne,-1),p=this.isoToCalendarDate(Ne,l)}p.day!==c&&(p=this.regulateDate({...p,day:c},"constrain",l))}if("reject"===i&&p.day!==c)throw new RangeError(`Day ${c} does not exist in resulting calendar month`);return p}addCalendar(t,{years:n=0,months:i=0,weeks:l=0,days:p=0},c,h){const{year:V,day:$,monthCode:I}=t,q=this.adjustCalendarDate({year:V+n,monthCode:I,day:$},h),ke=this.addMonthsCalendar(q,i,c,h);return this.addDaysCalendar(ke,p+7*l,h)}untilCalendar(t,n,i,l){let p=0,c=0,h=0,V=0;switch(i){case"day":p=this.calendarDaysUntil(t,n,l);break;case"week":{const $=this.calendarDaysUntil(t,n,l);p=$%7,c=($-p)/7;break}case"month":case"year":{const $=this.compareCalendarDates(n,t);if(!$)return{years:0,months:0,weeks:0,days:0};const I=n.year-t.year;if("year"===i&&I){let Pe=0;n.monthCode>t.monthCode&&(Pe=1),n.monthCode<t.monthCode&&(Pe=-1),Pe||(Pe=Math.sign(n.day-t.day)),V=Pe*$<0?I-$:I}let ke,Ne=V?this.addCalendar(t,{years:V},"constrain",l):t;do{h+=$,ke=Ne,Ne=this.addMonthsCalendar(ke,$,"constrain",l),Ne.day!==t.day&&(Ne=this.regulateDate({...Ne,day:t.day},"constrain",l))}while(this.compareCalendarDates(n,Ne)*$>=0);h-=$,p=this.calendarDaysUntil(ke,n,l);break}}return{years:V,months:h,weeks:c,days:p}}daysInMonth(t,n){const{day:i}=t,l=this.maximumMonthLength(t),p=this.minimumMonthLength(t);if(p===l)return p;const c=i<=l-p?l:p,h=this.calendarToIsoDate(t,"constrain",n),V=this.addDaysIso(h,c),$=this.isoToCalendarDate(V,n),I=this.addDaysIso(V,-$.day);return this.isoToCalendarDate(I,n).day}daysInPreviousMonth(t,n){const{day:i,month:l,year:p}=t;let c={year:l>1?p:p-1,month:l,day:1};const h=l>1?l-1:this.monthsInYear(c,n);c={...c,month:h};const V=this.minimumMonthLength(c),$=this.maximumMonthLength(c);if(V===$)return $;const I=this.calendarToIsoDate(t,"constrain",n),q=this.addDaysIso(I,-i);return this.isoToCalendarDate(q,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,i){const l=this.calendarToIsoDate(t,"constrain",i),p=this.calendarToIsoDate(n,"constrain",i);return this.isoDaysUntil(l,p)}isoDaysUntil(t,n){return gS(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,i){let l,p,c,h,V,{monthCode:$,day:I}=t;if(void 0===$){let{year:Ne,era:Pe,eraYear:Ke}=t;if(void 0===Ne&&(void 0===Pe||void 0===Ke))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:$,day:I}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,i),i))}const q=this.isoToCalendarDate({year:1972,month:12,day:31},i),ke=q.monthCode>$||q.monthCode===$&&q.day>=I?q.year:q.year-1;for(let Ne=0;Ne<100;Ne++){const Pe=this.adjustCalendarDate({day:I,monthCode:$,year:ke-Ne},i),Ke=this.calendarToIsoDate(Pe,"constrain",i),rt=this.isoToCalendarDate(Ke,i);if(({year:l,month:p,day:c}=Ke),rt.monthCode===$&&rt.day===I)return{month:p,day:c,year:l};"constrain"===n&&(void 0===h||rt.monthCode===h.monthCode&&rt.day>h.day)&&(h=rt,V=Ke)}if("constrain"===n&&void 0!==V)return V;throw new RangeError(`No recent ${this.id} year with monthCode ${$} and day ${I}`)}}class BS extends wg{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:i,year:l}=t,p=this.getMonthCode(l,i),c=P0(this.months).find(V=>V[1].monthCode===p);if(void 0===c)throw new RangeError(`unmatched Hebrew month: ${i}`);const h=c[1].days;return"number"==typeof h?h:h[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?Sp(5,!0):Sp(n<6?n:n-1):Sp(n)}adjustCalendarDate(t,n,i="constrain",l=!1){let{year:p,eraYear:c,month:h,monthCode:V,day:$,monthExtra:I}=t;if(void 0===p&&void 0!==c&&(p=c),void 0===c&&void 0!==p&&(c=p),l){if(I){const q=this.months[I];if(!q)throw new RangeError(`Unrecognized month from formatToParts: ${I}`);h=this.inLeapYear({year:p})?q.leap:q.regular}return V=this.getMonthCode(p,h),{year:p,month:h,day:$,era:void 0,eraYear:c,monthCode:V}}if(this.validateCalendarDate(t),void 0===h)if(V.endsWith("L")){if("M05L"!==V)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${V}`);if(h=6,!this.inLeapYear({year:p})){if("reject"===i)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${p} which is not a leap year`);h=6,V="M06"}}else{h=Jb(V),this.inLeapYear({year:p})&&h>=6&&h++;const q=this.monthsInYear({year:p});if(h<1||h>q)throw new RangeError(`Invalid monthCode: ${V}`)}else if("reject"===i?(Kc(h,1,this.monthsInYear({year:p})),Kc($,1,this.maximumMonthLength({year:p,month:h}))):(h=Ad(h,1,this.monthsInYear({year:p})),$=Ad($,1,this.maximumMonthLength({year:p,month:h}))),void 0===V)V=this.getMonthCode(p,h);else if(this.getMonthCode(p,h)!==V)throw new RangeError(`monthCode ${V} doesn't correspond to month ${h} in Hebrew year ${p}`);return{...t,day:$,month:h,monthCode:V,year:p,eraYear:c}}}class _g extends wg{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:qk(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class NS extends _g{constructor(){super(...arguments),this.id="islamic"}}class Qk extends _g{constructor(){super(...arguments),this.id="islamic-umalqura"}}class eR extends _g{constructor(){super(...arguments),this.id="islamic-tbla"}}class tR extends _g{constructor(){super(...arguments),this.id="islamic-civil"}}class nR extends _g{constructor(){super(...arguments),this.id="islamic-rgsa"}}class rR extends _g{constructor(){super(...arguments),this.id="islamicc"}}class iR extends wg{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return NS.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class oR extends wg{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return dC(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let i=this.months[n];if(void 0===i)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&i.leap&&(i=i.leap),i}estimateIsoDate(t){const n=this.adjustCalendarDate(t),i=this.getMonthInfo(n);return fg(n.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function dC(r){return r%4==0&&(r%100!=0||r%400==0)}class Eg extends wg{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:i,anchorEra:l}=function(c){let h,V=c;if(0===V.length)throw new RangeError("Invalid era data: eras are required");if(1===V.length&&V[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===V.length&&!V[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(V.filter(I=>null!=I.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");V.forEach(I=>{if(I.isAnchor||!I.anchorEpoch&&!I.reverseOf){if(h)throw new RangeError("Invalid era data: cannot have multiple anchor eras");h=I,I.anchorEpoch={year:I.hasYearZero?0:1}}else if(!I.name)throw new RangeError("If era name is blank, it must be the anchor era")}),V=V.filter(I=>I.name),V.forEach(I=>{const{reverseOf:q}=I;if(q){const ke=V.find(Ne=>Ne.name===q);if(void 0===ke)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${q}`);I.reverseOf=ke,I.anchorEpoch=ke.anchorEpoch,I.isoEpoch=ke.isoEpoch}void 0===I.anchorEpoch.month&&(I.anchorEpoch.month=1),void 0===I.anchorEpoch.day&&(I.anchorEpoch.day=1)}),Jk.call(V,(I,q)=>{if(I.reverseOf)return 1;if(q.reverseOf)return-1;if(!I.isoEpoch||!q.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return q.isoEpoch.year-I.isoEpoch.year});const $=V[V.length-1].reverseOf;if($&&$!==V[V.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return V.forEach((I,q)=>{I.genericName="era"+(V.length-1-q)}),{eras:V,anchorEra:h||V[0]}}(n);this.anchorEra=l,this.eras=i}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return dC(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(h,V)=>{const $=t[h];if(null!=$&&$!=V)throw new RangeError(`Input ${h} ${$} doesn't match calculated value ${V}`)},i=h=>{let V;const $={...t,year:h},I=this.eras.find((q,ke)=>{if(ke===this.eras.length-1){if(q.reverseOf){if(h>0)throw new RangeError(`Signed year ${h} is invalid for era ${q.name}`);return V=q.anchorEpoch.year-h,!0}return V=h-q.anchorEpoch.year+(q.hasYearZero?0:1),!0}return this.compareCalendarDates($,q.anchorEpoch)>=0&&(V=h-q.anchorEpoch.year+(q.hasYearZero?0:1),!0)});if(!I)throw new RangeError(`Year ${h} was not matched by any era`);return{eraYear:V,era:I.name}};let{year:l,eraYear:p,era:c}=t;if(null!=l)({eraYear:p,era:c}=i(l)),n("era",c),n("eraYear",p);else{if(null==p)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const h=void 0===c?void 0:this.eras.find(V=>V.name===c||V.genericName===c);if(!h)throw new RangeError(`Era ${c} (ISO year ${p}) was not matched by any era`);if(p<1&&h.reverseOf)throw new RangeError(`Years in ${c} era must be positive, not ${l}`);l=h.reverseOf?h.anchorEpoch.year-p:p+h.anchorEpoch.year-(h.hasYearZero?0:1),n("year",l),({eraYear:p,era:c}=i(l))}}return{...t,year:l,eraYear:p,era:c}}adjustCalendarDate(t,n,i="constrain"){let l=t;const{month:p,monthCode:c}=l;return void 0===p&&(l={...l,month:Jb(c)}),this.validateCalendarDate(l),l=this.completeEraYear(l),super.adjustCalendarDate(l,n,i)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:i,month:l,day:p}=n,{anchorEra:c}=this;return kb(i+c.isoEpoch.year-(c.hasYearZero?0:1),l,p,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&vp(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class N1 extends Eg{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class uC extends N1{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class sR extends N1{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class fC extends N1{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class aR extends Eg{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class cR extends Eg{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class hC extends Eg{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:i}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:i}}}class pC extends Eg{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:i,eraYear:l}=t,{year:p}=n;return this.eras.find(c=>c.name===i)?{era:i,eraYear:l}:p<1?{era:"bce",eraYear:1-p}:{era:"ce",eraYear:p}}}class L1 extends wg{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const i=this.getMonthList(t.year,n);return 13===P0(i).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),l=n.get(i);if(l)return l;const p=this.getFormatter(),c=(rt,ht)=>{const ct=lC({isoYear:rt,isoMonth:2,isoDay:1}),dt=new Date(ct);dt.setUTCDate(ht+1);const At=p.formatToParts(dt),Pt=At.find(Zt=>"month"===Zt.type).value,Ct=+At.find(Zt=>"day"===Zt.type).value;let zt=At.find(Zt=>"relatedYear"===Zt.type);if(void 0===zt)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return zt=+zt.value,{calendarMonthString:Pt,calendarDay:Ct,calendarYearToVerify:zt}};let h=17,{calendarMonthString:V,calendarDay:$,calendarYearToVerify:I}=c(t,h);"1"!==V&&(h+=29,({calendarMonthString:V,calendarDay:$}=c(t,h))),h-=$-5;const q={};let ke,Ne,Pe=1,Ke=!1;do{({calendarMonthString:V,calendarDay:$,calendarYearToVerify:I}=c(t,h)),ke&&(q[Ne].daysInMonth=ke+30-$),I!==t?Ke=!0:(q[V]={monthIndex:Pe++},h+=30),ke=$,Ne=V}while(!Ke);return q[Ne].daysInMonth=ke+30-$,n.set(i,q),q}estimateIsoDate(t){const{year:n,month:i}=t;return{year:n,month:i>=12?12:i+1,day:1}}adjustCalendarDate(t,n,i="constrain",l=!1){let{year:p,month:c,monthExtra:h,day:V,monthCode:$,eraYear:I}=t;if(l){if(p=I,h&&"bis"!==h)throw new RangeError(`Unexpected leap month suffix: ${h}`);const q=Sp(c,void 0!==h),ke=`${c}${h||""}`,Ne=this.getMonthList(p,n)[ke];if(void 0===Ne)throw new RangeError(`Unmatched month ${ke} in Chinese year ${p}`);return c=Ne.monthIndex,{year:p,month:c,day:V,era:void 0,eraYear:I,monthCode:q}}if(this.validateCalendarDate(t),void 0===p&&(p=I),void 0===I&&(I=p),void 0===c){const q=this.getMonthList(p,n);let ke=$.replace("L","bis").slice(1);"0"===ke[0]&&(ke=ke.slice(1));let Ne=q[ke];if(c=Ne&&Ne.monthIndex,void 0===c&&$.endsWith("L")&&"M13L"!=$&&"constrain"===i){let Pe=$.slice(1,-1);"0"===Pe[0]&&(Pe=Pe.slice(1)),Ne=q[Pe],Ne&&(c=Ne.monthIndex,$=Sp(Pe))}if(void 0===c)throw new RangeError(`Unmatched month ${$} in Chinese year ${p}`)}else if(void 0===$){const q=this.getMonthList(p,n),ke=P0(q),Ne=ke.length;"reject"===i?(Kc(c,1,Ne),Kc(V,1,this.maximumMonthLength())):(c=Ad(c,1,Ne),V=Ad(V,1,this.maximumMonthLength()));const Pe=ke.find(([,Ke])=>Ke.monthIndex===c);if(void 0===Pe)throw new RangeError(`Invalid month ${c} in Chinese year ${p}`);$=Sp(Pe[0].replace("bis",""),-1!==Pe[0].indexOf("bis"))}else{const q=this.getMonthList(p,n);let ke=$.replace("L","bis").slice(1);"0"===ke[0]&&(ke=ke.slice(1));const Ne=q[ke];if(!Ne)throw new RangeError(`Unmatched monthCode ${$} in Chinese year ${p}`);if(c!==Ne.monthIndex)throw new RangeError(`monthCode ${$} doesn't correspond to month ${c} in Chinese year ${p}`)}return{...t,year:p,eraYear:I,month:c,monthCode:$,day:V}}}class LS extends L1{constructor(){super(...arguments),this.id="chinese"}}class lR extends L1{constructor(){super(...arguments),this.id="dangi"}}class US{constructor(t){this.helper=t}dateFromFields(t,n,i){const l=new Xs,p=vo(t,this.fields(["day","month","monthCode","year"]),[]),c=Ia(n),{year:h,month:V,day:$}=this.helper.calendarToIsoDate(p,c,l),I=xd(h,V,$,i);return l.setObject(I),I}yearMonthFromFields(t,n,i){const l=new Xs,p=vo(t,this.fields(["month","monthCode","year"]),[]),c=Ia(n),{year:h,month:V,day:$}=this.helper.calendarToIsoDate({...p,day:1},c,l),I=cp(h,V,i,$);return l.setObject(I),I}monthDayFromFields(t,n,i){const l=new Xs,p=vo(t,this.fields(["day","month","monthCode","year"]),[]),c=Ia(n),{year:h,month:V,day:$}=this.helper.monthDayFromFields(p,c,l),I=og(V,$,i,h);return l.setObject(I),I}fields(t){let n=t;return oC.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new aC;for(let i=0;i<t.length;i++){const l=t[i];switch(Xr(Vc,n,[l]),l){case"era":Xr(Vc,n,["eraYear"]),Xr(Vc,n,["year"]);break;case"eraYear":Xr(Vc,n,["era"]),Xr(Vc,n,["year"]);break;case"year":Xr(Vc,n,["era"]),Xr(Vc,n,["eraYear"]);break;case"month":Xr(Vc,n,["monthCode"]),this.helper.erasBeginMidYear&&(Xr(Vc,n,["era"]),Xr(Vc,n,["eraYear"]));break;case"monthCode":Xr(Vc,n,["month"]),this.helper.erasBeginMidYear&&(Xr(Vc,n,["era"]),Xr(Vc,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Xr(Vc,n,["era"]),Xr(Vc,n,["eraYear"]))}}return[...Xr(cC,n,[])]}dateAdd(t,n,i,l,p,c,h){const V=Xs.getCacheForObject(t),$=this.helper.temporalToCalendarDate(t,V),I=this.helper.addCalendar($,{years:n,months:i,weeks:l,days:p},c,V),q=this.helper.calendarToIsoDate(I,"constrain",V),{year:ke,month:Ne,day:Pe}=q,Ke=xd(ke,Ne,Pe,h);return new Xs(V).setObject(Ke),Ke}dateUntil(t,n,i){const l=Xs.getCacheForObject(t),p=Xs.getCacheForObject(n),c=this.helper.temporalToCalendarDate(t,l),h=this.helper.temporalToCalendarDate(n,p);return this.helper.untilCalendar(c,h,i,l)}year(t){const n=Xs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=Xs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=Xs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=Xs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=Xs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=Xs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return $s.iso8601.dayOfWeek(t)}dayOfYear(t){const n=Xs.getCacheForObject(t),i=this.helper.isoToCalendarDate(t,n),l=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(l,i,n)+1}weekOfYear(t){return $s.iso8601.weekOfYear(t)}yearOfWeek(t){return $s.iso8601.yearOfWeek(t)}daysInWeek(t){return $s.iso8601.daysInWeek(t)}daysInMonth(t){const n=Xs.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n),l=this.helper.maximumMonthLength(i);if(l===this.helper.minimumMonthLength(i))return l;const p=this.helper.startOfCalendarMonth(i),c=this.helper.addMonthsCalendar(p,1,"constrain",n);return this.helper.calendarDaysUntil(p,c,n)}daysInYear(t){let n=t;bc(n,Yr)||(n=hs(n));const i=Xs.getCacheForObject(n),l=this.helper.temporalToCalendarDate(n,i),p=this.helper.startOfCalendarYear(l),c=this.helper.addCalendar(p,{years:1},"constrain",i);return this.helper.calendarDaysUntil(p,c,i)}monthsInYear(t){const n=Xs.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(i,n)}inLeapYear(t){let n=t;bc(n,Yr)||(n=hs(n));const i=Xs.getCacheForObject(n),l=this.helper.temporalToCalendarDate(n,i);return this.helper.inLeapYear(l,i)}}for(const r of[BS,iR,fC,uC,sR,LS,lR,aR,oR,cR,hC,pC,NS,Qk,eR,tR,nR,rR]){const t=new r;$s[t.id]=new US(t)}class xg{constructor(t,n,i,l="iso8601"){ap(this,Oo(t),Oo(n),Oo(i),ql(l))}get calendarId(){if(!_o(this))throw new TypeError("invalid receiver");return ec(He(this,Qn))}get era(){if(!_o(this))throw new TypeError("invalid receiver");return up(He(this,Qn),this)}get eraYear(){if(!_o(this))throw new TypeError("invalid receiver");return fp(He(this,Qn),this)}get year(){if(!_o(this))throw new TypeError("invalid receiver");return lp(He(this,Qn),this)}get month(){if(!_o(this))throw new TypeError("invalid receiver");return dp(He(this,Qn),this)}get monthCode(){if(!_o(this))throw new TypeError("invalid receiver");return Sh(He(this,Qn),this)}get day(){if(!_o(this))throw new TypeError("invalid receiver");return Mh(He(this,Qn),this)}get dayOfWeek(){if(!_o(this))throw new TypeError("invalid receiver");return om(He(this,Qn),this)}get dayOfYear(){if(!_o(this))throw new TypeError("invalid receiver");return sm(He(this,Qn),this)}get weekOfYear(){if(!_o(this))throw new TypeError("invalid receiver");return b1(He(this,Qn),this)}get yearOfWeek(){if(!_o(this))throw new TypeError("invalid receiver");return w1(He(this,Qn),this)}get daysInWeek(){if(!_o(this))throw new TypeError("invalid receiver");return _1(He(this,Qn),this)}get daysInMonth(){if(!_o(this))throw new TypeError("invalid receiver");return Nb(He(this,Qn),this)}get daysInYear(){if(!_o(this))throw new TypeError("invalid receiver");return Lb(He(this,Qn),this)}get monthsInYear(){if(!_o(this))throw new TypeError("invalid receiver");return Ub(He(this,Qn),this)}get inLeapYear(){if(!_o(this))throw new TypeError("invalid receiver");return Fb(He(this,Qn),this)}with(t,n){if(!_o(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid argument");rm(t);const i=No(n),l=He(this,Qn),p=ka(l,["day","month","monthCode","year"]);let c=vo(this,p,[]);return c=af(l,c,vo(t,p,"partial")),c=vo(c,p,[]),Sd(l,c,i)}withCalendar(t){if(!_o(this))throw new TypeError("invalid receiver");const n=ql(t);return new xg(He(this,Yr),He(this,Qr),He(this,ri),n)}add(t,n){if(!_o(this))throw new TypeError("invalid receiver");const i=rg(t),l=No(n);return lc(He(this,Qn),this,i,l)}subtract(t,n){if(!_o(this))throw new TypeError("invalid receiver");const i=HI(rg(t)),l=No(n);return lc(He(this,Qn),this,i,l)}until(t,n){if(!_o(this))throw new TypeError("invalid receiver");return bS("until",this,t,n)}since(t,n){if(!_o(this))throw new TypeError("invalid receiver");return bS("since",this,t,n)}equals(t){if(!_o(this))throw new TypeError("invalid receiver");const n=hs(t);for(const i of[Yr,Qr,ri])if(He(this,i)!==He(n,i))return!1;return jb(He(this,Qn),He(n,Qn))}toString(t){if(!_o(this))throw new TypeError("invalid receiver");return $I(this,m1(No(t)))}toJSON(){if(!_o(this))throw new TypeError("invalid receiver");return $I(this)}toLocaleString(t,n){if(!_o(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!_o(this))throw new TypeError("invalid receiver");const n=He(this,Yr),i=He(this,Qr),l=He(this,ri),p=He(this,Qn);if(void 0===t)return Jl(n,i,l,0,0,0,0,0,0,p);const c=sp(t);return Jl(n,i,l,He(c,Qi),He(c,no),He(c,eo),He(c,ro),He(c,io),He(c,fo),p)}toZonedDateTime(t){if(!_o(this))throw new TypeError("invalid receiver");let n,i;if(ks(t))if(rf(t))n=t;else{const Pe=t.timeZone;void 0===Pe?n=_c(t):(n=_c(Pe),i=t.plainTime)}else n=_c(t);const l=He(this,Yr),p=He(this,Qr),c=He(this,ri),h=He(this,Qn);let V=0,$=0,I=0,q=0,ke=0,Ne=0;return void 0!==i&&(i=sp(i),V=He(i,Qi),$=He(i,no),I=He(i,eo),q=He(i,ro),ke=He(i,io),Ne=He(i,fo)),Ca(He(Il(n,Jl(l,p,c,V,$,I,q,ke,Ne,h),"compatible"),Ei),n,h)}toPlainYearMonth(){if(!_o(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return hp(t,vo(this,ka(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!_o(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return ag(t,vo(this,ka(t,["day","monthCode"]),[]))}getISOFields(){if(!_o(this))throw new TypeError("invalid receiver");return{calendar:He(this,Qn),isoDay:He(this,ri),isoMonth:He(this,Qr),isoYear:He(this,Yr)}}getCalendar(){if(!_o(this))throw new TypeError("invalid receiver");return yu(He(this,Qn))}static from(t,n){const i=No(n);return _o(t)?(Ia(i),xd(He(t,Yr),He(t,Qr),He(t,ri),He(t,Qn))):hs(t,i)}static compare(t,n){const i=hs(t),l=hs(n);return vp(He(i,Yr),He(i,Qr),He(i,ri),He(l,Yr),He(l,Qr),He(l,ri))}}ef(xg,"Temporal.PlainDate");class Sg{constructor(t,n,i,l=0,p=0,c=0,h=0,V=0,$=0,I="iso8601"){LI(this,Oo(t),Oo(n),Oo(i),void 0===l?0:Oo(l),void 0===p?0:Oo(p),void 0===c?0:Oo(c),void 0===h?0:Oo(h),void 0===V?0:Oo(V),void 0===$?0:Oo($),ql(I))}get calendarId(){if(!Li(this))throw new TypeError("invalid receiver");return ec(He(this,Qn))}get year(){if(!Li(this))throw new TypeError("invalid receiver");return lp(He(this,Qn),this)}get month(){if(!Li(this))throw new TypeError("invalid receiver");return dp(He(this,Qn),this)}get monthCode(){if(!Li(this))throw new TypeError("invalid receiver");return Sh(He(this,Qn),this)}get day(){if(!Li(this))throw new TypeError("invalid receiver");return Mh(He(this,Qn),this)}get hour(){if(!Li(this))throw new TypeError("invalid receiver");return He(this,Qi)}get minute(){if(!Li(this))throw new TypeError("invalid receiver");return He(this,no)}get second(){if(!Li(this))throw new TypeError("invalid receiver");return He(this,eo)}get millisecond(){if(!Li(this))throw new TypeError("invalid receiver");return He(this,ro)}get microsecond(){if(!Li(this))throw new TypeError("invalid receiver");return He(this,io)}get nanosecond(){if(!Li(this))throw new TypeError("invalid receiver");return He(this,fo)}get era(){if(!Li(this))throw new TypeError("invalid receiver");return up(He(this,Qn),this)}get eraYear(){if(!Li(this))throw new TypeError("invalid receiver");return fp(He(this,Qn),this)}get dayOfWeek(){if(!Li(this))throw new TypeError("invalid receiver");return om(He(this,Qn),this)}get dayOfYear(){if(!Li(this))throw new TypeError("invalid receiver");return sm(He(this,Qn),this)}get weekOfYear(){if(!Li(this))throw new TypeError("invalid receiver");return b1(He(this,Qn),this)}get yearOfWeek(){if(!Li(this))throw new TypeError("invalid receiver");return w1(He(this,Qn),this)}get daysInWeek(){if(!Li(this))throw new TypeError("invalid receiver");return _1(He(this,Qn),this)}get daysInYear(){if(!Li(this))throw new TypeError("invalid receiver");return Lb(He(this,Qn),this)}get daysInMonth(){if(!Li(this))throw new TypeError("invalid receiver");return Nb(He(this,Qn),this)}get monthsInYear(){if(!Li(this))throw new TypeError("invalid receiver");return Ub(He(this,Qn),this)}get inLeapYear(){if(!Li(this))throw new TypeError("invalid receiver");return Fb(He(this,Qn),this)}with(t,n){if(!Li(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid argument");rm(t);const i=No(n),l=He(this,Qn),p=ka(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let c=vo(this,p,[]);c=af(l,c,vo(t,p,"partial")),c=vo(c,p,[]);const{year:h,month:V,day:$,hour:I,minute:q,second:ke,millisecond:Ne,microsecond:Pe,nanosecond:Ke}=Ob(l,c,i);return Jl(h,V,$,I,q,ke,Ne,Pe,Ke,l)}withPlainTime(t){if(!Li(this))throw new TypeError("invalid receiver");const n=He(this,Yr),i=He(this,Qr),l=He(this,ri),p=He(this,Qn);if(void 0===t)return Jl(n,i,l,0,0,0,0,0,0,p);const c=sp(t);return Jl(n,i,l,He(c,Qi),He(c,no),He(c,eo),He(c,ro),He(c,io),He(c,fo),p)}withPlainDate(t){if(!Li(this))throw new TypeError("invalid receiver");const n=hs(t),i=He(n,Yr),l=He(n,Qr),p=He(n,ri);let c=He(n,Qn);const h=He(this,Qi),V=He(this,no),$=He(this,eo),I=He(this,ro),q=He(this,io),ke=He(this,fo);return c=x1(He(this,Qn),c),Jl(i,l,p,h,V,$,I,q,ke,c)}withCalendar(t){if(!Li(this))throw new TypeError("invalid receiver");const n=ql(t);return new Sg(He(this,Yr),He(this,Qr),He(this,ri),He(this,Qi),He(this,no),He(this,eo),He(this,ro),He(this,io),He(this,fo),n)}add(t,n){if(!Li(this))throw new TypeError("invalid receiver");return Wb("add",this,t,n)}subtract(t,n){if(!Li(this))throw new TypeError("invalid receiver");return Wb("subtract",this,t,n)}until(t,n){if(!Li(this))throw new TypeError("invalid receiver");return wS("until",this,t,n)}since(t,n){if(!Li(this))throw new TypeError("invalid receiver");return wS("since",this,t,n)}round(t){if(!Li(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?C0("smallestUnit",t):No(t),i=ng(n),l=sf(n,"halfExpand"),p=Ed(n,"smallestUnit","time",_0,["day"]),c={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[p];im(i,c,1===c);let h=He(this,Yr),V=He(this,Qr),$=He(this,ri),I=He(this,Qi),q=He(this,no),ke=He(this,eo),Ne=He(this,ro),Pe=He(this,io),Ke=He(this,fo);return({year:h,month:V,day:$,hour:I,minute:q,second:ke,millisecond:Ne,microsecond:Pe,nanosecond:Ke}=MS(h,V,$,I,q,ke,Ne,Pe,Ke,i,p,l)),Jl(h,V,$,I,q,ke,Ne,Pe,Ke,He(this,Qn))}equals(t){if(!Li(this))throw new TypeError("invalid receiver");const n=x0(t);for(const i of[Yr,Qr,ri,Qi,no,eo,ro,io,fo])if(He(this,i)!==He(n,i))return!1;return jb(He(this,Qn),He(n,Qn))}toString(t){if(!Li(this))throw new TypeError("invalid receiver");const n=No(t),i=m1(n),l=w0(n),p=sf(n,"trunc"),c=Ed(n,"smallestUnit","time",void 0);if("hour"===c)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:h,unit:V,increment:$}=Rb(c,l);return aS(this,h,i,{unit:V,increment:$,roundingMode:p})}toJSON(){if(!Li(this))throw new TypeError("invalid receiver");return aS(this,"auto")}toLocaleString(t,n){if(!Li(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!Li(this))throw new TypeError("invalid receiver");const i=_c(t);return Ca(He(Il(i,this,b0(No(n))),Ei),i,He(this,Qn))}toPlainDate(){if(!Li(this))throw new TypeError("invalid receiver");return cg(this)}toPlainYearMonth(){if(!Li(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return hp(t,vo(this,ka(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Li(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return ag(t,vo(this,ka(t,["day","monthCode"]),[]))}toPlainTime(){if(!Li(this))throw new TypeError("invalid receiver");return M1(this)}getISOFields(){if(!Li(this))throw new TypeError("invalid receiver");return{calendar:He(this,Qn),isoDay:He(this,ri),isoHour:He(this,Qi),isoMicrosecond:He(this,io),isoMillisecond:He(this,ro),isoMinute:He(this,no),isoMonth:He(this,Qr),isoNanosecond:He(this,fo),isoSecond:He(this,eo),isoYear:He(this,Yr)}}getCalendar(){if(!Li(this))throw new TypeError("invalid receiver");return yu(He(this,Qn))}static from(t,n){const i=No(n);return Li(t)?(Ia(i),Jl(He(t,Yr),He(t,Qr),He(t,ri),He(t,Qi),He(t,no),He(t,eo),He(t,ro),He(t,io),He(t,fo),He(t,Qn))):x0(t,i)}static compare(t,n){const i=x0(t),l=x0(n);for(const p of[Yr,Qr,ri,Qi,no,eo,ro,io,fo]){const c=He(i,p),h=He(l,p);if(c!==h)return wp(c-h)}return 0}}ef(Sg,"Temporal.PlainDateTime");class B0{constructor(t=0,n=0,i=0,l=0,p=0,c=0,h=0,V=0,$=0,I=0){const q=void 0===t?0:Da(t),ke=void 0===n?0:Da(n),Ne=void 0===i?0:Da(i),Pe=void 0===l?0:Da(l),Ke=void 0===p?0:Da(p),rt=void 0===c?0:Da(c),ht=void 0===h?0:Da(h),ct=void 0===V?0:Da(V),dt=void 0===$?0:Da($),At=void 0===I?0:Da(I);yS(q,ke,Ne,Pe,Ke,rt,ht,ct,dt,At),Eh(this),yo(this,ol,q),yo(this,vc,ke),yo(this,zl,Ne),yo(this,Hl,Pe),yo(this,Wl,Ke),yo(this,Gl,rt),yo(this,Xl,ht),yo(this,Zl,ct),yo(this,Yl,dt),yo(this,Dl,At)}get years(){if(!Fs(this))throw new TypeError("invalid receiver");return He(this,ol)}get months(){if(!Fs(this))throw new TypeError("invalid receiver");return He(this,vc)}get weeks(){if(!Fs(this))throw new TypeError("invalid receiver");return He(this,zl)}get days(){if(!Fs(this))throw new TypeError("invalid receiver");return He(this,Hl)}get hours(){if(!Fs(this))throw new TypeError("invalid receiver");return He(this,Wl)}get minutes(){if(!Fs(this))throw new TypeError("invalid receiver");return He(this,Gl)}get seconds(){if(!Fs(this))throw new TypeError("invalid receiver");return He(this,Xl)}get milliseconds(){if(!Fs(this))throw new TypeError("invalid receiver");return He(this,Zl)}get microseconds(){if(!Fs(this))throw new TypeError("invalid receiver");return He(this,Yl)}get nanoseconds(){if(!Fs(this))throw new TypeError("invalid receiver");return He(this,Dl)}get sign(){if(!Fs(this))throw new TypeError("invalid receiver");return Th(He(this,ol),He(this,vc),He(this,zl),He(this,Hl),He(this,Wl),He(this,Gl),He(this,Xl),He(this,Zl),He(this,Yl),He(this,Dl))}get blank(){if(!Fs(this))throw new TypeError("invalid receiver");return 0===Th(He(this,ol),He(this,vc),He(this,zl),He(this,Hl),He(this,Wl),He(this,Gl),He(this,Xl),He(this,Zl),He(this,Yl),He(this,Dl))}with(t){if(!Fs(this))throw new TypeError("invalid receiver");const n=vo(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=He(this,ol),months:l=He(this,vc),weeks:p=He(this,zl),days:c=He(this,Hl),hours:h=He(this,Wl),minutes:V=He(this,Gl),seconds:$=He(this,Xl),milliseconds:I=He(this,Zl),microseconds:q=He(this,Yl),nanoseconds:ke=He(this,Dl)}=n;return new B0(i,l,p,c,h,V,$,I,q,ke)}negated(){if(!Fs(this))throw new TypeError("invalid receiver");return HI(this)}abs(){if(!Fs(this))throw new TypeError("invalid receiver");return new B0(Math.abs(He(this,ol)),Math.abs(He(this,vc)),Math.abs(He(this,zl)),Math.abs(He(this,Hl)),Math.abs(He(this,Wl)),Math.abs(He(this,Gl)),Math.abs(He(this,Xl)),Math.abs(He(this,Zl)),Math.abs(He(this,Yl)),Math.abs(He(this,Dl)))}add(t,n){if(!Fs(this))throw new TypeError("invalid receiver");return k1("add",this,t,n)}subtract(t,n){if(!Fs(this))throw new TypeError("invalid receiver");return k1("subtract",this,t,n)}round(t){if(!Fs(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=He(this,ol),i=He(this,vc),l=He(this,zl),p=He(this,Hl),c=He(this,Wl),h=He(this,Gl),V=He(this,Xl),$=He(this,Zl),I=He(this,Yl),q=He(this,Dl),ke=iS(n,i,l,p,c,h,V,$,I,q);const Ne="string"==typeof t?C0("smallestUnit",t):No(t);let Pe=Ed(Ne,"largestUnit","datetime",void 0,["auto"]),Ke=y1(Ne);const rt=ng(Ne),ht=sf(Ne,"halfExpand");let ct=Ed(Ne,"smallestUnit","datetime",void 0),dt=!0;ct||(dt=!1,ct="nanosecond"),ke=E0(ke,ct);let At=!0;if(Pe||(At=!1,Pe=ke),"auto"===Pe&&(Pe=ke),!dt&&!At)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(E0(Pe,ct)!==Pe)throw new RangeError(`largestUnit ${Pe} cannot be smaller than smallestUnit ${ct}`);const Pt={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[ct];return void 0!==Pt&&im(rt,Pt,!1),({years:n,months:i,weeks:l,days:p}=Hb(n,i,l,p,Pe,Ke)),({years:n,months:i,weeks:l,days:p,hours:c,minutes:h,seconds:V,milliseconds:$,microseconds:I,nanoseconds:q}=gp(n,i,l,p,c,h,V,$,I,q,rt,ct,ht,Ke)),({years:n,months:i,weeks:l,days:p,hours:c,minutes:h,seconds:V,milliseconds:$,microseconds:I,nanoseconds:q}=QI(n,i,l,p,c,h,V,$,I,q,rt,ct,ht,Ke)),({days:p,hours:c,minutes:h,seconds:V,milliseconds:$,microseconds:I,nanoseconds:q}=df(p,c,h,V,$,I,q,Pe,Ke)),({years:n,months:i,weeks:l,days:p}=function(zt,Zt,xn,Cn,Nn,ir){const Pn=Ur("%Temporal.Duration%"),Hn=Th(zt,Zt,xn,Cn,0,0,0,0,0,0);if(0===Hn)return{years:zt,months:Zt,weeks:xn,days:Cn};const ln=kt.BigInt(Hn);let vn,wn,Un=kt.BigInt(zt),Sn=kt.BigInt(Zt),Vn=kt.BigInt(xn),lr=kt.BigInt(Cn);ir&&(wn=hs(ir),vn=He(wn,Qn));const cr=new Pn(Hn),mn=new Pn(0,Hn),dr=new Pn(0,0,Hn);switch(Nn){case"year":{if(!vn)throw new RangeError("a starting point is required for years balancing");const _r="string"!=typeof vn?Go(vn,"dateAdd"):void 0;let Zn,On,qn;for(({relativeTo:Zn,days:On}=Ec(vn,wn,cr,_r));kt.greaterThanOrEqual(Wd(lr),kt.BigInt(Is(On)));)lr=kt.subtract(lr,kt.BigInt(On)),Un=kt.add(Un,ln),wn=Zn,({relativeTo:Zn,days:On}=Ec(vn,wn,cr,_r));for(({relativeTo:Zn,days:qn}=Ec(vn,wn,mn,_r));kt.greaterThanOrEqual(Wd(lr),kt.BigInt(Is(qn)));)lr=kt.subtract(lr,kt.BigInt(qn)),Sn=kt.add(Sn,ln),wn=Zn,({relativeTo:Zn,days:qn}=Ec(vn,wn,mn,_r));Zn=lc(vn,wn,cr,void 0,_r);const mr="string"!=typeof vn?Go(vn,"dateUntil"):void 0,Rr=wc(null);Rr.largestUnit="month";let Nr=mu(vn,wn,Zn,Rr,mr),Sr=He(Nr,vc);for(;kt.greaterThanOrEqual(Wd(Sn),kt.BigInt(Is(Sr)));){Sn=kt.subtract(Sn,kt.BigInt(Sr)),Un=kt.add(Un,ln),wn=Zn,Zn=lc(vn,wn,cr,void 0,_r);const Tr=wc(null);Tr.largestUnit="month",Nr=mu(vn,wn,Zn,Tr,mr),Sr=He(Nr,vc)}break}case"month":{if(!vn)throw new RangeError("a starting point is required for months balancing");const _r="string"!=typeof vn?Go(vn,"dateAdd"):void 0;let Zn,On;for(({relativeTo:Zn,days:On}=Ec(vn,wn,mn,_r));kt.greaterThanOrEqual(Wd(lr),kt.BigInt(Is(On)));)lr=kt.subtract(lr,kt.BigInt(On)),Sn=kt.add(Sn,ln),wn=Zn,({relativeTo:Zn,days:On}=Ec(vn,wn,mn,_r));break}case"week":{if(!vn)throw new RangeError("a starting point is required for weeks balancing");const _r="string"!=typeof vn?Go(vn,"dateAdd"):void 0;let Zn,On;for(({relativeTo:Zn,days:On}=Ec(vn,wn,dr,_r));kt.greaterThanOrEqual(Wd(lr),kt.BigInt(Is(On)));)lr=kt.subtract(lr,kt.BigInt(On)),Vn=kt.add(Vn,ln),wn=Zn,({relativeTo:Zn,days:On}=Ec(vn,wn,dr,_r));break}}return{years:kt.toNumber(Un),months:kt.toNumber(Sn),weeks:kt.toNumber(Vn),days:kt.toNumber(lr)}}(n,i,l,p,Pe,Ke)),new B0(n,i,l,p,c,h,V,$,I,q)}total(t){if(!Fs(this))throw new TypeError("invalid receiver");let n=He(this,ol),i=He(this,vc),l=He(this,zl),p=He(this,Hl),c=He(this,Wl),h=He(this,Gl),V=He(this,Xl),$=He(this,Zl),I=He(this,Yl),q=He(this,Dl);if(void 0===t)throw new TypeError("options argument is required");const ke="string"==typeof t?C0("unit",t):No(t),Ne=y1(ke),Pe=Ed(ke,"unit","datetime",_0);let Ke;({years:n,months:i,weeks:l,days:p}=Hb(n,i,l,p,Pe,Ne)),ii(Ne)&&(Ke=AS(Ne,n,i,l,0));let rt=pS(p,c,h,V,$,I,q,Pe,Ke);if("positive overflow"===rt)return 1/0;if("negative overflow"===rt)return-1/0;({days:p,hours:c,minutes:h,seconds:V,milliseconds:$,microseconds:I,nanoseconds:q}=rt);const{total:ht}=gp(n,i,l,p,c,h,V,$,I,q,1,Pe,"trunc",Ne);return ht}toString(t){if(!Fs(this))throw new TypeError("invalid receiver");const n=No(t),i=w0(n),l=sf(n,"trunc"),p=Ed(n,"smallestUnit","time",void 0);if("hour"===p||"minute"===p)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:c,unit:h,increment:V}=Rb(p,i);return sS(this,c,{unit:h,increment:V,roundingMode:l})}toJSON(){if(!Fs(this))throw new TypeError("invalid receiver");return sS(this)}toLocaleString(t,n){if(!Fs(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),sS(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return Fs(t)?new B0(He(t,ol),He(t,vc),He(t,zl),He(t,Hl),He(t,Wl),He(t,Gl),He(t,Xl),He(t,Zl),He(t,Yl),He(t,Dl)):rg(t)}static compare(t,n,i){const l=rg(t),p=rg(n),c=y1(No(i)),h=He(l,ol),V=He(l,vc),$=He(l,zl);let I=He(l,Hl);const q=He(l,Wl),ke=He(l,Gl),Ne=He(l,Xl),Pe=He(l,Zl),Ke=He(l,Yl);let rt=He(l,Dl);const ht=He(p,ol),ct=He(p,vc),dt=He(p,zl);let At=He(p,Hl);const Pt=He(p,Wl),Ct=He(p,Gl),zt=He(p,Xl),Zt=He(p,Zl),xn=He(p,Yl);let Cn=He(p,Dl);const Nn=zI(c,h,V,$,I),ir=zI(c,ht,ct,dt,At);0===h&&0===ht&&0===V&&0===ct&&0===$&&0===dt||(({days:I}=Hb(h,V,$,I,"day",c)),({days:At}=Hb(ht,ct,dt,At,"day",c)));const Pn=A0(I,q,ke,Ne,Pe,Ke,rt,Nn),Hn=A0(At,Pt,Ct,zt,Zt,xn,Cn,ir);return wp(kt.toNumber(kt.subtract(Pn,Hn)))}}ef(B0,"Temporal.Duration");const mC=Object.create;class FS{constructor(t,n,i="iso8601",l=1972){UI(this,Oo(t),Oo(n),ql(i),Oo(l))}get monthCode(){if(!Qa(this))throw new TypeError("invalid receiver");return Sh(He(this,Qn),this)}get day(){if(!Qa(this))throw new TypeError("invalid receiver");return Mh(He(this,Qn),this)}get calendarId(){if(!Qa(this))throw new TypeError("invalid receiver");return ec(He(this,Qn))}with(t,n){if(!Qa(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid argument");rm(t);const i=No(n),l=He(this,Qn),p=ka(l,["day","month","monthCode","year"]);let c=vo(this,p,[]);return c=af(l,c,vo(t,p,"partial")),c=vo(c,p,[]),ag(l,c,i)}equals(t){if(!Qa(this))throw new TypeError("invalid receiver");const n=NI(t);for(const i of[Qr,ri,Yr])if(He(this,i)!==He(n,i))return!1;return jb(He(this,Qn),He(n,Qn))}toString(t){if(!Qa(this))throw new TypeError("invalid receiver");return KI(this,m1(No(t)))}toJSON(){if(!Qa(this))throw new TypeError("invalid receiver");return KI(this)}toLocaleString(t,n){if(!Qa(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!Qa(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("argument should be an object");const n=He(this,Qn),i=ka(n,["day","monthCode"]),l=vo(this,i,[]),p=ka(n,["year"]);let c=af(n,l,vo(t,p,[]));c=vo(c,[...new Set([...i,...p])],[]);const h=mC(null);return h.overflow="reject",Sd(n,c,h)}getISOFields(){if(!Qa(this))throw new TypeError("invalid receiver");return{calendar:He(this,Qn),isoDay:He(this,ri),isoMonth:He(this,Qr),isoYear:He(this,Yr)}}getCalendar(){if(!Qa(this))throw new TypeError("invalid receiver");return yu(He(this,Qn))}static from(t,n){const i=No(n);return Qa(t)?(Ia(i),og(He(t,Qr),He(t,ri),He(t,Qn),He(t,Yr))):NI(t,i)}}ef(FS,"Temporal.PlainMonthDay");const U1=()=>new(Ur("%Temporal.Instant%"))(dm()),jS=(r,t=I0())=>{const n=_c(t),i=ql(r);return Md(n,U1(),i)},$S=(r=I0())=>Md(_c(r),U1(),"iso8601"),F1=(r,t=I0())=>{const n=_c(t),i=ql(r);return Ca(dm(),n,i)},j1={instant:U1,plainDateTime:jS,plainDateTimeISO:$S,plainDate:(r,t=I0())=>cg(jS(r,t)),plainDateISO:(r=I0())=>cg($S(r)),plainTimeISO:(r=I0())=>M1($S(r)),timeZoneId:()=>I0(),zonedDateTime:F1,zonedDateTimeISO:(r=I0())=>F1("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(j1,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const yC=Object.assign;function KS(r,t,n){let i=He(r,Qi),l=He(r,no),p=He(r,eo),c=He(r,ro),h=He(r,io),V=He(r,fo);if(n){const{unit:$,increment:I,roundingMode:q}=n;({hour:i,minute:l,second:p,millisecond:c,microsecond:h,nanosecond:V}=pg(i,l,p,c,h,V,I,$,q))}return`${js(i)}:${js(l)}${Kb(p,c,h,V,t)}`}class fm{constructor(t=0,n=0,i=0,l=0,p=0,c=0){const h=void 0===t?0:Oo(t),V=void 0===n?0:Oo(n),$=void 0===i?0:Oo(i),I=void 0===l?0:Oo(l),q=void 0===p?0:Oo(p),ke=void 0===c?0:Oo(c);T1(h,V,$,I,q,ke),Eh(this),yo(this,Qi,h),yo(this,no,V),yo(this,eo,$),yo(this,ro,I),yo(this,io,q),yo(this,fo,ke)}get hour(){if(!Gs(this))throw new TypeError("invalid receiver");return He(this,Qi)}get minute(){if(!Gs(this))throw new TypeError("invalid receiver");return He(this,no)}get second(){if(!Gs(this))throw new TypeError("invalid receiver");return He(this,eo)}get millisecond(){if(!Gs(this))throw new TypeError("invalid receiver");return He(this,ro)}get microsecond(){if(!Gs(this))throw new TypeError("invalid receiver");return He(this,io)}get nanosecond(){if(!Gs(this))throw new TypeError("invalid receiver");return He(this,fo)}with(t,n){if(!Gs(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid argument");rm(t);const i=Ia(No(n)),l=g1(t,"partial"),p=g1(this);let{hour:c,minute:h,second:V,millisecond:$,microsecond:I,nanosecond:q}=yC(p,l);return({hour:c,minute:h,second:V,millisecond:$,microsecond:I,nanosecond:q}=h1(c,h,V,$,I,q,i)),new fm(c,h,V,$,I,q)}add(t){if(!Gs(this))throw new TypeError("invalid receiver");return Gb("add",this,t)}subtract(t){if(!Gs(this))throw new TypeError("invalid receiver");return Gb("subtract",this,t)}until(t,n){if(!Gs(this))throw new TypeError("invalid receiver");return YI("until",this,t,n)}since(t,n){if(!Gs(this))throw new TypeError("invalid receiver");return YI("since",this,t,n)}round(t){if(!Gs(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?C0("smallestUnit",t):No(t),i=ng(n),l=sf(n,"halfExpand"),p=Ed(n,"smallestUnit","time",_0);im(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[p],!1);let c=He(this,Qi),h=He(this,no),V=He(this,eo),$=He(this,ro),I=He(this,io),q=He(this,fo);return({hour:c,minute:h,second:V,millisecond:$,microsecond:I,nanosecond:q}=pg(c,h,V,$,I,q,i,p,l)),new fm(c,h,V,$,I,q)}equals(t){if(!Gs(this))throw new TypeError("invalid receiver");const n=sp(t);for(const i of[Qi,no,eo,ro,io,fo])if(He(this,i)!==He(n,i))return!1;return!0}toString(t){if(!Gs(this))throw new TypeError("invalid receiver");const n=No(t),i=w0(n),l=sf(n,"trunc"),p=Ed(n,"smallestUnit","time",void 0);if("hour"===p)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:c,unit:h,increment:V}=Rb(p,i);return KS(this,c,{unit:h,increment:V,roundingMode:l})}toJSON(){if(!Gs(this))throw new TypeError("invalid receiver");return KS(this,"auto")}toLocaleString(t,n){if(!Gs(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!Gs(this))throw new TypeError("invalid receiver");const n=hs(t),i=He(n,Yr),l=He(n,Qr),p=He(n,ri),c=He(n,Qn);return Jl(i,l,p,He(this,Qi),He(this,no),He(this,eo),He(this,ro),He(this,io),He(this,fo),c)}toZonedDateTime(t){if(!Gs(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const i=hs(n),l=t.timeZone;if(void 0===l)throw new TypeError("missing timeZone property");const p=_c(l),c=He(i,Yr),h=He(i,Qr),V=He(i,ri),$=He(i,Qn),I=He(this,Qi),q=He(this,no),ke=He(this,eo),Ne=He(this,ro),Pe=He(this,io),Ke=He(this,fo);return Ca(He(Il(p,new(Ur("%Temporal.PlainDateTime%"))(c,h,V,I,q,ke,Ne,Pe,Ke,$),"compatible"),Ei),p,$)}getISOFields(){if(!Gs(this))throw new TypeError("invalid receiver");return{isoHour:He(this,Qi),isoMicrosecond:He(this,io),isoMillisecond:He(this,ro),isoMinute:He(this,no),isoNanosecond:He(this,fo),isoSecond:He(this,eo)}}static from(t,n){const i=Ia(No(n));return Gs(t)?new fm(He(t,Qi),He(t,no),He(t,eo),He(t,ro),He(t,io),He(t,fo)):sp(t,i)}static compare(t,n){const i=sp(t),l=sp(n);for(const p of[Qi,no,eo,ro,io,fo]){const c=He(i,p),h=He(l,p);if(c!==h)return wp(c-h)}return 0}}ef(fm,"Temporal.PlainTime");class Mg{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=Vb(t);Eh(this),yo(this,tf,n)}get id(){if(!rf(this))throw new TypeError("invalid receiver");return He(this,tf)}getOffsetNanosecondsFor(t){if(!rf(this))throw new TypeError("invalid receiver");const n=$f(t),i=He(this,tf);return am(i)?Ah(i):Vf(i,He(n,Ei))}getOffsetStringFor(t){if(!rf(this))throw new TypeError("invalid receiver");return dc(this,$f(t))}getPlainDateTimeFor(t,n="iso8601"){if(!rf(this))throw new TypeError("invalid receiver");return Md(this,$f(t),ql(n))}getInstantFor(t,n){if(!rf(this))throw new TypeError("invalid receiver");return Il(this,x0(t),b0(No(n)))}getPossibleInstantsFor(t){if(!rf(this))throw new TypeError("invalid receiver");const n=x0(t),i=Ur("%Temporal.Instant%"),l=He(this,tf);if(am(l)){const c=pp(He(n,Yr),He(n,Qr),He(n,ri),He(n,Qi),He(n,no),He(n,eo),He(n,ro),He(n,io),He(n,fo));if(null===c)throw new RangeError("DateTime outside of supported range");const h=Ah(l);return[new i(kt.subtract(c,kt.BigInt(h)))]}return function(h,V,$,I,q,ke,Ne,Pe,Ke,rt){const ht=pp(V,$,I,q,ke,Ne,Pe,Ke,rt);if(null===ht)throw new RangeError("DateTime outside of supported range");let ct=kt.subtract(ht,Cs);kt.lessThan(ct,Ff)&&(ct=ht);let dt=kt.add(ht,Cs);kt.greaterThan(dt,ip)&&(dt=ht);const At=Vf(h,ct),Pt=Vf(h,dt);return(At===Pt?[At]:[At,Pt]).map(Ct=>{const zt=kt.subtract(ht,kt.BigInt(Ct)),Zt=cf(h,zt);if(V===Zt.year&&$===Zt.month&&I===Zt.day&&q===Zt.hour&&ke===Zt.minute&&Ne===Zt.second&&Pe===Zt.millisecond&&Ke===Zt.microsecond&&rt===Zt.nanosecond)return zt}).filter(Ct=>void 0!==Ct)}(l,He(n,Yr),He(n,Qr),He(n,ri),He(n,Qi),He(n,no),He(n,eo),He(n,ro),He(n,io),He(n,fo)).map(c=>new i(c))}getNextTransition(t){if(!rf(this))throw new TypeError("invalid receiver");const n=$f(t),i=He(this,tf);if(am(i)||"UTC"===i)return null;let l=He(n,Ei);const p=Ur("%Temporal.Instant%");return l=dS(i,l),null===l?null:new p(l)}getPreviousTransition(t){if(!rf(this))throw new TypeError("invalid receiver");const n=$f(t),i=He(this,tf);if(am(i)||"UTC"===i)return null;let l=He(n,Ei);const p=Ur("%Temporal.Instant%");return l=uS(i,l),null===l?null:new p(l)}toString(){if(!rf(this))throw new TypeError("invalid receiver");return He(this,tf)}toJSON(){if(!rf(this))throw new TypeError("invalid receiver");return He(this,tf)}static from(t){return zk(_c(t))}}ef(Mg,"Temporal.TimeZone"),pa("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",Mg.prototype.getOffsetNanosecondsFor),pa("Temporal.TimeZone.prototype.getPossibleInstantsFor",Mg.prototype.getPossibleInstantsFor);const gC=Object.create;class $1{constructor(t,n,i="iso8601",l=1){oS(this,Oo(t),Oo(n),ql(i),Oo(l))}get year(){if(!$o(this))throw new TypeError("invalid receiver");return lp(He(this,Qn),this)}get month(){if(!$o(this))throw new TypeError("invalid receiver");return dp(He(this,Qn),this)}get monthCode(){if(!$o(this))throw new TypeError("invalid receiver");return Sh(He(this,Qn),this)}get calendarId(){if(!$o(this))throw new TypeError("invalid receiver");return ec(He(this,Qn))}get era(){if(!$o(this))throw new TypeError("invalid receiver");return up(He(this,Qn),this)}get eraYear(){if(!$o(this))throw new TypeError("invalid receiver");return fp(He(this,Qn),this)}get daysInMonth(){if(!$o(this))throw new TypeError("invalid receiver");return Nb(He(this,Qn),this)}get daysInYear(){if(!$o(this))throw new TypeError("invalid receiver");return Lb(He(this,Qn),this)}get monthsInYear(){if(!$o(this))throw new TypeError("invalid receiver");return Ub(He(this,Qn),this)}get inLeapYear(){if(!$o(this))throw new TypeError("invalid receiver");return Fb(He(this,Qn),this)}with(t,n){if(!$o(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid argument");rm(t);const i=No(n),l=He(this,Qn),p=ka(l,["month","monthCode","year"]);let c=vo(this,p,[]);return c=af(l,c,vo(t,p,"partial")),c=vo(c,p,[]),hp(l,c,i)}add(t,n){if(!$o(this))throw new TypeError("invalid receiver");return R1("add",this,t,n)}subtract(t,n){if(!$o(this))throw new TypeError("invalid receiver");return R1("subtract",this,t,n)}until(t,n){if(!$o(this))throw new TypeError("invalid receiver");return _S("until",this,t,n)}since(t,n){if(!$o(this))throw new TypeError("invalid receiver");return _S("since",this,t,n)}equals(t){if(!$o(this))throw new TypeError("invalid receiver");const n=Pb(t);for(const i of[Yr,Qr,ri])if(He(this,i)!==He(n,i))return!1;return jb(He(this,Qn),He(n,Qn))}toString(t){if(!$o(this))throw new TypeError("invalid receiver");return cS(this,m1(No(t)))}toJSON(){if(!$o(this))throw new TypeError("invalid receiver");return cS(this)}toLocaleString(t,n){if(!$o(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!$o(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("argument should be an object");const n=He(this,Qn),i=ka(n,["monthCode","year"]),l=vo(this,i,[]),p=ka(n,["day"]);let c=af(n,l,vo(t,p,[]));c=vo(c,[...new Set([...i,...p])],[]);const h=gC(null);return h.overflow="reject",Sd(n,c,h)}getISOFields(){if(!$o(this))throw new TypeError("invalid receiver");return{calendar:He(this,Qn),isoDay:He(this,ri),isoMonth:He(this,Qr),isoYear:He(this,Yr)}}getCalendar(){if(!$o(this))throw new TypeError("invalid receiver");return yu(He(this,Qn))}static from(t,n){const i=No(n);return $o(t)?(Ia(i),cp(He(t,Yr),He(t,Qr),He(t,Qn),He(t,ri))):Pb(t,i)}static compare(t,n){const i=Pb(t),l=Pb(n);return vp(He(i,Yr),He(i,Qr),He(i,ri),He(l,Yr),He(l,Qr),He(l,ri))}}ef($1,"Temporal.PlainYearMonth");const vC=xp.prototype.resolvedOptions,bC=Object.create;class K1{constructor(t,n,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");v1(this,Xb(t),_c(n),ql(i))}get calendarId(){if(!ii(this))throw new TypeError("invalid receiver");return ec(He(this,Qn))}get timeZoneId(){if(!ii(this))throw new TypeError("invalid receiver");return S1(He(this,ns))}get year(){if(!ii(this))throw new TypeError("invalid receiver");return lp(He(this,Qn),As(this))}get month(){if(!ii(this))throw new TypeError("invalid receiver");return dp(He(this,Qn),As(this))}get monthCode(){if(!ii(this))throw new TypeError("invalid receiver");return Sh(He(this,Qn),As(this))}get day(){if(!ii(this))throw new TypeError("invalid receiver");return Mh(He(this,Qn),As(this))}get hour(){if(!ii(this))throw new TypeError("invalid receiver");return He(As(this),Qi)}get minute(){if(!ii(this))throw new TypeError("invalid receiver");return He(As(this),no)}get second(){if(!ii(this))throw new TypeError("invalid receiver");return He(As(this),eo)}get millisecond(){if(!ii(this))throw new TypeError("invalid receiver");return He(As(this),ro)}get microsecond(){if(!ii(this))throw new TypeError("invalid receiver");return He(As(this),io)}get nanosecond(){if(!ii(this))throw new TypeError("invalid receiver");return He(As(this),fo)}get era(){if(!ii(this))throw new TypeError("invalid receiver");return up(He(this,Qn),As(this))}get eraYear(){if(!ii(this))throw new TypeError("invalid receiver");return fp(He(this,Qn),As(this))}get epochSeconds(){if(!ii(this))throw new TypeError("invalid receiver");const t=He(this,Ei);return kt.toNumber(lm(t,nf))}get epochMilliseconds(){if(!ii(this))throw new TypeError("invalid receiver");const t=He(this,Ei);return kt.toNumber(lm(t,Hd))}get epochMicroseconds(){if(!ii(this))throw new TypeError("invalid receiver");return P1(lm(He(this,Ei),Ho))}get epochNanoseconds(){if(!ii(this))throw new TypeError("invalid receiver");return P1(He(this,Ei))}get dayOfWeek(){if(!ii(this))throw new TypeError("invalid receiver");return om(He(this,Qn),As(this))}get dayOfYear(){if(!ii(this))throw new TypeError("invalid receiver");return sm(He(this,Qn),As(this))}get weekOfYear(){if(!ii(this))throw new TypeError("invalid receiver");return b1(He(this,Qn),As(this))}get yearOfWeek(){if(!ii(this))throw new TypeError("invalid receiver");return w1(He(this,Qn),As(this))}get hoursInDay(){if(!ii(this))throw new TypeError("invalid receiver");const t=As(this),n=Ur("%Temporal.PlainDateTime%"),i=He(t,Yr),l=He(t,Qr),p=He(t,ri),c=new n(i,l,p,0,0,0,0,0,0),h=fg(i,l,p,0,0,0,1,"reject"),V=new n(h.year,h.month,h.day,0,0,0,0,0,0),$=He(this,ns),I=He(Il($,c,"compatible"),Ei),q=He(Il($,V,"compatible"),Ei);return Ql(kt.subtract(q,I),Uf)}get daysInWeek(){if(!ii(this))throw new TypeError("invalid receiver");return _1(He(this,Qn),As(this))}get daysInMonth(){if(!ii(this))throw new TypeError("invalid receiver");return Nb(He(this,Qn),As(this))}get daysInYear(){if(!ii(this))throw new TypeError("invalid receiver");return Lb(He(this,Qn),As(this))}get monthsInYear(){if(!ii(this))throw new TypeError("invalid receiver");return Ub(He(this,Qn),As(this))}get inLeapYear(){if(!ii(this))throw new TypeError("invalid receiver");return Fb(He(this,Qn),As(this))}get offset(){if(!ii(this))throw new TypeError("invalid receiver");return dc(He(this,ns),He(this,$c))}get offsetNanoseconds(){if(!ii(this))throw new TypeError("invalid receiver");return Kf(He(this,ns),He(this,$c))}with(t,n){if(!ii(this))throw new TypeError("invalid receiver");if(!ks(t))throw new TypeError("invalid zoned-date-time-like");rm(t);const i=No(n),l=He(this,Qn);let p=ka(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);p.push("offset");let c=vo(this,p,["offset"]);c=af(l,c,vo(t,p,"partial")),c=vo(c,p,["offset"]);const h=b0(i),V=p1(i,"prefer");let{year:$,month:I,day:q,hour:ke,minute:Ne,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht}=Ob(l,c,i);const ct=Ah(c.offset),dt=He(this,ns);return Ca(Bb($,I,q,ke,Ne,Pe,Ke,rt,ht,"option",ct,dt,h,V,!1),dt,l)}withPlainDate(t){if(!ii(this))throw new TypeError("invalid receiver");const n=hs(t),i=He(n,Yr),l=He(n,Qr),p=He(n,ri);let c=He(n,Qn);const h=As(this),V=He(h,Qi),$=He(h,no),I=He(h,eo),q=He(h,ro),ke=He(h,io),Ne=He(h,fo);c=x1(He(this,Qn),c);const Pe=He(this,ns);return Ca(He(Il(Pe,new(Ur("%Temporal.PlainDateTime%"))(i,l,p,V,$,I,q,ke,Ne,c),"compatible"),Ei),Pe,c)}withPlainTime(t){if(!ii(this))throw new TypeError("invalid receiver");const n=Ur("%Temporal.PlainTime%"),i=void 0===t?new n:sp(t),l=As(this),p=He(l,Yr),c=He(l,Qr),h=He(l,ri),V=He(this,Qn),$=He(i,Qi),I=He(i,no),q=He(i,eo),ke=He(i,ro),Ne=He(i,io),Pe=He(i,fo),Ke=He(this,ns);return Ca(He(Il(Ke,new(Ur("%Temporal.PlainDateTime%"))(p,c,h,$,I,q,ke,Ne,Pe,V),"compatible"),Ei),Ke,V)}withTimeZone(t){if(!ii(this))throw new TypeError("invalid receiver");const n=_c(t);return Ca(He(this,Ei),n,He(this,Qn))}withCalendar(t){if(!ii(this))throw new TypeError("invalid receiver");const n=ql(t);return Ca(He(this,Ei),He(this,ns),n)}add(t,n){if(!ii(this))throw new TypeError("invalid receiver");return SS("add",this,t,n)}subtract(t,n){if(!ii(this))throw new TypeError("invalid receiver");return SS("subtract",this,t,n)}until(t,n){if(!ii(this))throw new TypeError("invalid receiver");return Wk("until",this,t,n)}since(t,n){if(!ii(this))throw new TypeError("invalid receiver");return Wk("since",this,t,n)}round(t){if(!ii(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?C0("smallestUnit",t):No(t),i=ng(n),l=sf(n,"halfExpand"),p=Ed(n,"smallestUnit","time",_0,["day"]),c={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[p];im(i,c,1===c);const h=As(this);let V=He(h,Yr),$=He(h,Qr),I=He(h,ri),q=He(h,Qi),ke=He(h,no),Ne=He(h,eo),Pe=He(h,ro),Ke=He(h,io),rt=He(h,fo);const ht=Ur("%Temporal.PlainDateTime%"),ct=He(this,ns),dt=He(this,Qn),At=Il(ct,new ht(He(h,Yr),He(h,Qr),He(h,ri),0,0,0,0,0,0),"compatible"),Pt=vu(At,ct,dt,0,0,0,1,0,0,0,0,0,0),Ct=kt.subtract(Pt,kt.BigInt(He(At,Ei)));if(kt.lessThanOrEqual(Ct,Ws))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:V,month:$,day:I,hour:q,minute:ke,second:Ne,millisecond:Pe,microsecond:Ke,nanosecond:rt}=MS(V,$,I,q,ke,Ne,Pe,Ke,rt,i,p,l,kt.toNumber(Ct))),Ca(Bb(V,$,I,q,ke,Ne,Pe,Ke,rt,"option",Kf(ct,He(this,$c)),ct,"compatible","prefer",!1),ct,He(this,Qn))}equals(t){if(!ii(this))throw new TypeError("invalid receiver");const n=ig(t),i=He(this,Ei),l=He(n,Ei);return!!kt.equal(kt.BigInt(i),kt.BigInt(l))&&!!FI(He(this,ns),He(n,ns))&&jb(He(this,Qn),He(n,Qn))}toString(t){if(!ii(this))throw new TypeError("invalid receiver");const n=No(t),i=m1(n),l=w0(n),p=k0(n,"offset",["auto","never"],"auto"),c=sf(n,"trunc"),h=Ed(n,"smallestUnit","time",void 0);if("hour"===h)throw new RangeError('smallestUnit must be a time unit other than "hour"');const V=k0(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:$,unit:I,increment:q}=Rb(h,l);return Hk(this,$,i,V,p,{unit:I,increment:q,roundingMode:c})}toLocaleString(t,n){if(!ii(this))throw new TypeError("invalid receiver");const i=No(n),l=bC(null);if(g0(l,i,["timeZone"]),void 0!==i.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===l.year&&void 0===l.month&&void 0===l.day&&void 0===l.weekday&&void 0===l.dateStyle&&void 0===l.hour&&void 0===l.minute&&void 0===l.second&&void 0===l.timeStyle&&void 0===l.dayPeriod&&void 0===l.timeZoneName&&(l.timeZoneName="short");let p=S1(He(this,ns));if(am(p))throw new RangeError("toLocaleString does not support offset string time zones");p=Vb(p),l.timeZone=p;const c=new xp(t,l),h=Xr(vC,c,[]).calendar,V=ec(He(this,Qn));if("iso8601"!==V&&"iso8601"!==h&&h!==V)throw new RangeError(`cannot format ZonedDateTime with calendar ${V} in locale with calendar ${h}`);return c.format(He(this,$c))}toJSON(){if(!ii(this))throw new TypeError("invalid receiver");return Hk(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!ii(this))throw new TypeError("invalid receiver");const t=As(this),n=Ur("%Temporal.PlainDateTime%"),i=He(this,Qn),l=new n(He(t,Yr),He(t,Qr),He(t,ri),0,0,0,0,0,0,i),p=He(this,ns);return Ca(He(Il(p,l,"compatible"),Ei),p,i)}toInstant(){if(!ii(this))throw new TypeError("invalid receiver");return new(Ur("%Temporal.Instant%"))(He(this,Ei))}toPlainDate(){if(!ii(this))throw new TypeError("invalid receiver");return cg(As(this))}toPlainTime(){if(!ii(this))throw new TypeError("invalid receiver");return M1(As(this))}toPlainDateTime(){if(!ii(this))throw new TypeError("invalid receiver");return As(this)}toPlainYearMonth(){if(!ii(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return hp(t,vo(this,ka(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ii(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return ag(t,vo(this,ka(t,["day","monthCode"]),[]))}getISOFields(){if(!ii(this))throw new TypeError("invalid receiver");const t=As(this),n=He(this,ns);return{calendar:He(this,Qn),isoDay:He(t,ri),isoHour:He(t,Qi),isoMicrosecond:He(t,io),isoMillisecond:He(t,ro),isoMinute:He(t,no),isoMonth:He(t,Qr),isoNanosecond:He(t,fo),isoSecond:He(t,eo),isoYear:He(t,Yr),offset:dc(n,He(this,$c)),timeZone:n}}getCalendar(){if(!ii(this))throw new TypeError("invalid receiver");return yu(He(this,Qn))}getTimeZone(){if(!ii(this))throw new TypeError("invalid receiver");return zk(He(this,ns))}static from(t,n){const i=No(n);return ii(t)?(b0(i),p1(i,"reject"),Ia(i),Ca(He(t,Ei),He(t,ns),He(t,Qn))):ig(t,i)}static compare(t,n){const i=ig(t),l=ig(n),p=He(i,Ei),c=He(l,Ei);return kt.lessThan(kt.BigInt(p),kt.BigInt(c))?-1:kt.greaterThan(kt.BigInt(p),kt.BigInt(c))?1:0}}function As(r){return Md(He(r,ns),He(r,$c),He(r,Qn))}ef(K1,"Temporal.ZonedDateTime");var N0=Object.freeze({__proto__:null,Calendar:ya,Duration:B0,Instant:uf,Now:j1,PlainDate:xg,PlainDateTime:Sg,PlainMonthDay:FS,PlainTime:fm,PlainYearMonth:$1,TimeZone:Mg,ZonedDateTime:K1});const wC=[uf,ya,xg,Sg,B0,FS,fm,Mg,$1,K1];for(const r of wC){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var VS=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class ga{static sleep(t){return VS(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return VS(this,void 0,void 0,function*(){yield ga.sleep(2)})}static getCurrentTimestamp(){return N0.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$}=t;return N0.ZonedDateTime.from({timeZone:"UTC",year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const i=n?N0.Instant.from(n):N0.Now.instant(),l=N0.Duration.from(t);return i.add(l).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{N0.Instant.from(t)}catch{throw new ce(_e.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var Ra=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Ko{get message(){if(void 0===this._message.authorization)throw new ce(_e.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return Hr.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return Hr.isSignedByOwnerDelegate(this._message)}get signer(){return Hr.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:kr.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=mo.getAuthor(t),this._signaturePayload=kr.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?Hr.getSigner(t.authorization.ownerDelegatedGrant):kr.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=kr.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=Ko.getAttesters(t)}static parse(t){return Ra(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield Hr.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield Hr.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield Ko.validateAttestationIntegrity(n);const i=new Ko(n);return yield i.validateIntegrity(),i})}static create(t){var n,i,l,p;return Ra(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new ce(_e.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new ce(_e.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new ce(_e.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new ce(_e.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const c=null!==(n=t.dataCid)&&void 0!==n?n:yield rl.computeDagPbCidFromBytes(t.data),h=null!==(i=t.dataSize)&&void 0!==i?i:t.data.length,V=ga.getCurrentTimestamp(),$={interface:Wi.Records,method:ui.Write,protocol:void 0!==t.protocol?Qp(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?Q_(t.schema):void 0,tags:t.tags,parentId:Ko.getRecordIdFromContextId(t.parentContextId),dataCid:c,dataSize:h,dateCreated:null!==(l=t.dateCreated)&&void 0!==l?l:V,messageTimestamp:null!==(p=t.messageTimestamp)&&void 0!==p?p:V,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&($.datePublished=V),bd($);const I=t.recordId,q=yield rl.computeCid($),ke=yield Ko.createAttestation(q,t.attestationSigners),Ne=yield Ko.createEncryptionProperty($,t.encryptionInput),Pe={recordId:I,descriptor:$};void 0!==ke&&(Pe.attestation=ke),void 0!==Ne&&(Pe.encryption=Ne);const Ke=new Ko(Pe,t.parentContextId);return void 0!==t.signer&&(yield Ke.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),Ke})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,i,l,p;return Ra(this,void 0,void 0,function*(){const c=t.recordsWriteMessage,h=yield Ko.parse(c),V=ga.getCurrentTimestamp(),$=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||c.descriptor.published;let I;t.datePublished?I=t.datePublished:$&&(I=c.descriptor.published?c.descriptor.datePublished:V);const q={recipient:c.descriptor.recipient,recordId:c.recordId,dateCreated:c.descriptor.dateCreated,protocol:c.descriptor.protocol,protocolPath:c.descriptor.protocolPath,schema:c.descriptor.schema,parentContextId:mo.getParentContextFromOfContextId(c.contextId),messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:V,published:$,datePublished:I,tags:t.tags,data:t.data,dataCid:t.data?void 0:c.descriptor.dataCid,dataSize:t.data?void 0:c.descriptor.dataSize,dataFormat:null!==(l=t.dataFormat)&&void 0!==l?l:c.descriptor.dataFormat,protocolRole:null!==(p=t.protocolRole)&&void 0!==p?p:h.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield Ko.create(q)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return Ra(this,void 0,void 0,function*(){this._message.encryption=yield Ko.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return Ra(this,void 0,void 0,function*(){const{signer:i,delegatedGrant:l,permissionGrantId:p,protocolRole:c}=t;let h,V;void 0!==l?(h=yield Hr.getCid(l),V=kr.getSignerDid(l.authorization.signature.signatures[0])):V=kr.extractDid(i.keyId);const $=this._message.descriptor,I=yield rl.computeCid($);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield Ko.getEntryId(V,$),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const q=yield Ko.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:I,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:h,permissionGrantId:p,protocolRole:c});this._message.authorization={signature:q},void 0!==l&&(this._message.authorization.authorDelegatedGrant=l),this._signaturePayload=kr.decodePlainObjectPayload(q),this._author=V})}signAsOwner(t){return Ra(this,void 0,void 0,function*(){if(void 0===this._author)throw new ce(_e.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,i=yield Hr.createSignature(n,t);this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=kr.decodePlainObjectPayload(i),this._owner=kr.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return Ra(this,void 0,void 0,function*(){if(void 0===this._author)throw new ce(_e.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const i=yield Hr.getCid(n),l=this._message.descriptor,p=yield Hr.createSignature(l,t,{delegatedGrantId:i});this._message.authorization.ownerSignature=p,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=kr.decodePlainObjectPayload(p),this._owner=kr.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return Ra(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const i=this.message.descriptor.dateCreated,l=this.message.descriptor.messageTimestamp;if(l!==i)throw new ce(_e.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${l} must match dateCreated ${i} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const p=yield this.getEntryId();if(this.message.contextId!==p)throw new ce(_e.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${p}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new ce(_e.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new ce(_e.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield mo.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const i=yield rl.computeCid(this.message.attestation),l=n.attestationCid;if(l!==i)throw new ce(_e.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${l}`)}if(void 0!==n.encryptionCid){const i=yield rl.computeCid(this.message.encryption),l=n.encryptionCid;if(l!==i)throw new ce(_e.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${l}`)}void 0!==this.message.descriptor.protocol&&_h(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&q_(this.message.descriptor.schema),ga.validateTimestamp(this.message.descriptor.messageTimestamp),ga.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&ga.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return Ra(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new ce(_e.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=kr.decodePlainObjectPayload(t.attestation),{descriptorCid:i}=n,l=yield rl.computeCid(t.descriptor);if(i!==l)throw new ce(_e.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${l}`);const p=Object.keys(n).length;if(p>1)throw new ce(_e.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${p} properties.`)})}getEntryId(){return Ra(this,void 0,void 0,function*(){return yield Ko.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return Ra(this,void 0,void 0,function*(){if(void 0===t)throw new ce(_e.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const i=Object.assign({},n);return i.author=t,yield rl.computeCid(i)})}isInitialWrite(){return Ra(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return Ra(this,void 0,void 0,function*(){const n=this.message,i=n.descriptor,{tags:l}=i,p=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(i,["tags"]);delete p.published;let c=Object.assign(Object.assign({},p),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield Ko.getEntryId(this.author,this.message.descriptor)});if(void 0!==l&&!0===t){const h=mo.buildTagIndexes(Object.assign({},l));c=Object.assign(Object.assign({},c),h)}return this.attesters.length>0&&(c.attester=this.attesters[0]),void 0!==n.contextId&&(c.contextId=n.contextId),c})}authorizeAuthorDelegate(t){return Ra(this,void 0,void 0,function*(){const n=yield Ju.parse(this.message.authorization.authorDelegatedGrant);yield Qu.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return Ra(this,void 0,void 0,function*(){const n=yield Ju.parse(this.message.authorization.ownerDelegatedGrant);yield Qu.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return Ra(this,void 0,void 0,function*(){if(t.descriptor.interface!==Wi.Records||t.descriptor.method!==ui.Write)return!1;const n=t,i=mo.getAuthor(n);return(yield Ko.getEntryId(i,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var i,l;return Ra(this,void 0,void 0,function*(){if(void 0===n)return;const p=[];for(const h of n.keyEncryptionInputs){if(h.derivationScheme===hu.ProtocolPath&&void 0===t.protocol)throw new ce(_e.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(h.derivationScheme===hu.Schemas&&void 0===t.schema)throw new ce(_e.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const V=Ee.publicJwkToBytes(h.publicKey),$=yield bb.eciesSecp256k1Encrypt(V,n.key),I=K.bytesToBase64Url($.ciphertext),q=yield Ee.publicKeyToJwk($.ephemeralPublicKey),ke=K.bytesToBase64Url($.initializationVector),Ne=K.bytesToBase64Url($.messageAuthenticationCode),Pe={rootKeyId:h.publicKeyId,algorithm:null!==(i=h.algorithm)&&void 0!==i?i:Fx.EciesSecp256k1,derivationScheme:h.derivationScheme,ephemeralPublicKey:q,initializationVector:ke,messageAuthenticationCode:Ne,encryptedKey:I};h.derivationScheme===hu.ProtocolContext&&(Pe.derivedPublicKey=h.publicKey),p.push(Pe)}return{algorithm:null!==(l=n.algorithm)&&void 0!==l?l:Fx.Aes256Ctr,initializationVector:K.bytesToBase64Url(n.initializationVector),keyEncryption:p}})}static createAttestation(t,n){return Ra(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const l=K.objectToBytes({descriptorCid:t});return(yield wb.create(l,n)).getJws()})}static createSignerSignature(t){return Ra(this,void 0,void 0,function*(){const{recordId:n,contextId:i,descriptorCid:l,attestation:p,encryption:c,signer:h,delegatedGrantId:V,permissionGrantId:$,protocolRole:I}=t,Ne={recordId:n,descriptorCid:l,contextId:i,attestationCid:p?yield rl.computeCid(p):void 0,encryptionCid:c?yield rl.computeCid(c):void 0,delegatedGrantId:V,permissionGrantId:$,protocolRole:I};bd(Ne);const Pe=K.objectToBytes(Ne);return(yield wb.create(Pe,[h])).getJws()})}static getInitialWrite(t){return Ra(this,void 0,void 0,function*(){for(const n of t)if(yield Ko.isInitialWrite(n))return n;throw new ce(_e.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const i=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let l=[];l.push(...Object.keys(t.descriptor)),l.push(...Object.keys(n.descriptor)),l=[...new Set(l)];for(const p of l)if(-1===i.indexOf(p)){const c=t.descriptor[p],h=n.descriptor[p];if(h!==c)throw new ce(_e.RecordsWriteImmutablePropertyChanged,`${p} is an immutable property: cannot change '${c}' to '${h}'`)}return!0}static getAttesters(t){var n,i;return(null!==(i=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==i?i:[]).map(c=>kr.getSignerDid(c))}static fetchNewestRecordsWrite(t,n,i){return Ra(this,void 0,void 0,function*(){const l={interface:Wi.Records,method:ui.Write,recordId:i},{messages:p}=yield t.query(n,[l]),c=yield Hr.getNewestMessage(p);if(void 0!==c)return c;throw new ce(_e.RecordsWriteGetNewestWriteRecordNotFound,"record not found")})}static fetchInitialRecordsWrite(t,n,i){return Ra(this,void 0,void 0,function*(){const l={entryId:i},{messages:p}=yield t.query(n,[l]);return 0===p.length?void 0:yield Ko.parse(p[0])})}}var EC=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function Ph(r,t){return EC(this,void 0,void 0,function*(){if(void 0===r)throw new ce(_e.AuthenticateJwsMissing,"Missing JWS.");if(yield Lu.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield Lu.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield Ko.parse(r.authorDelegatedGrant);yield Lu.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield Ko.parse(r.ownerDelegatedGrant);yield Lu.verifySignatures(n.message.authorization.signature,t)}})}class hR{isActiveTenant(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class Mp{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=Hr.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?Hr.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=kr.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var zS=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Qb extends Mp{static parse(t){return zS(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===zd.PublishedAscending||t.descriptor.dateSort===zd.PublishedDescending))throw new ce(_e.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield mo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new ce(_e.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&_h(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&q_(t.descriptor.filter.schema),ga.validateTimestamp(t.descriptor.messageTimestamp),new Qb(t)})}static create(t){var n;return zS(this,void 0,void 0,function*(){const i={interface:Wi.Records,method:ui.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ga.getCurrentTimestamp(),filter:mo.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===zd.PublishedAscending||t.dateSort===zd.PublishedDescending))throw new ce(_e.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);bd(i);const l=t.signer;let p;l&&(p=yield Hr.createAuthorization({descriptor:i,signer:l,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const c={descriptor:i,authorization:p};return Hr.validateJsonSchema(c),new Qb(c)})}authorizeDelegate(t){return zS(this,void 0,void 0,function*(){const n=yield Ju.parse(this.message.authorization.authorDelegatedGrant);yield Qu.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var HS=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Ap{static toBytes(t){return HS(this,void 0,void 0,function*(){return new Promise((n,i)=>{const l=[];t.on("data",p=>{l.push(p)}),t.on("end",()=>{const p=Ap.concatenateArrayOfBytes(l);n(p)}),t.on("error",i)})})}static toObject(t){return HS(this,void 0,void 0,function*(){const n=yield Ap.toBytes(t);return K.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((p,c)=>p+c.length,0),i=new Uint8Array(n);let l=0;for(const p of t)i.set(p,l),l+=p.length;return i}static fromBytes(t){let i=0;return new vb.Readable({read(p){i+1e5>t.length?(this.push(t.subarray(i)),this.push(null)):(this.push(t.subarray(i,i+1e5)),i+=1e5)}})}static fromObject(t){const n=K.objectToBytes(t);return Ap.fromBytes(n)}static duplicateDataStream(t,n){const i=[];for(let l=0;l<n;l++){const p=new vb.PassThrough;t.pipe(p),i.push(p)}return i}}function Rs(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class V1{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new V1(t)})}constructor(t){this.id=t.recordId,this.requester=Hr.getSigner(t);const i=K.base64UrlToObject(t.encodedData);this.delegated=i.delegated,this.description=i.description,this.scope=i.scope,this.conditions=i.conditions}}var Ag=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class bo{static parseRequest(t){return K.base64UrlToObject(t)}static createRequest(t){return Ag(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new ce(_e.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol,"Permission request for Records must have a scope with a `protocol` property");const n=bo.normalizePermissionScope(t.scope),i={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let l;this.hasProtocolScope(n)&&(l={protocol:n.protocol});const p=K.objectToBytes(i),c=yield Ko.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:bo.uri,protocolPath:bo.requestPath,dataFormat:"application/json",data:p,tags:l});return{recordsWrite:c,permissionRequestData:i,permissionRequestBytes:p,dataEncodedMessage:Object.assign(Object.assign({},c.message),{encodedData:K.bytesToBase64Url(p)})}})}static createGrant(t){return Ag(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new ce(_e.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol,"Permission grants for Records must have a scope with a `protocol` property");const n=bo.normalizePermissionScope(t.scope),i={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let l;this.hasProtocolScope(n)&&(l={protocol:n.protocol});const p=K.objectToBytes(i),c=yield Ko.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:bo.uri,protocolPath:bo.grantPath,dataFormat:"application/json",data:p,tags:l});return{recordsWrite:c,permissionGrantData:i,permissionGrantBytes:p,dataEncodedMessage:Object.assign(Object.assign({},c.message),{encodedData:K.bytesToBase64Url(p)})}})}static createRevocation(t){return Ag(this,void 0,void 0,function*(){const n={description:t.description},i=t.grant.id;let l;this.hasProtocolScope(t.grant.scope)&&(l={protocol:Qp(t.grant.scope.protocol)});const p=K.objectToBytes(n),c=yield Ko.create({signer:t.signer,parentContextId:i,protocol:bo.uri,protocolPath:bo.revocationPath,dataFormat:"application/json",data:p,tags:l});return{recordsWrite:c,permissionRevocationData:n,permissionRevocationBytes:p,dataEncodedMessage:Object.assign(Object.assign({},c.message),{encodedData:K.bytesToBase64Url(p)})}})}static validateSchema(t,n){const i=K.bytesToString(n),l=JSON.parse(i);if(t.descriptor.protocolPath===bo.requestPath){const p=l;yy("PermissionRequestData",p),bo.validateScopeAndTags(p.scope,t)}else if(t.descriptor.protocolPath===bo.grantPath){yy("PermissionGrantData",l);const p=l;bo.validateScopeAndTags(p.scope,t),ga.validateTimestamp(p.dateExpires)}else{if(t.descriptor.protocolPath!==bo.revocationPath)throw new ce(_e.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);yy("PermissionRevocationData",l)}}static fetchGrant(t,n,i){return Ag(this,void 0,void 0,function*(){const l={recordId:i,isLatestBaseState:!0},{messages:p}=yield n.query(t,[l]),c=p[0],h=c?.descriptor.interface,V=c?.descriptor.method;if(h!==Wi.Records||V!==ui.Write||c.descriptor.protocolPath!==bo.grantPath)throw new ce(_e.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${i}.`);const $=c;return yield Ju.parse($)})}static getScopeFromPermissionRecord(t,n,i){return Ag(this,void 0,void 0,function*(){if(i.descriptor.protocol!==bo.uri)throw new ce(_e.PermissionsProtocolGetScopeInvalidProtocol,`Unexpected protocol for permission record: ${i.descriptor.protocol}`);return i.descriptor.protocolPath===bo.revocationPath?(yield bo.fetchGrant(t,n,i.descriptor.parentId)).scope:i.descriptor.protocolPath===bo.grantPath?(yield Ju.parse(i)).scope:(yield V1.parse(i)).scope})}static normalizePermissionScope(t){const n=Object.assign({},t);return bo.hasProtocolScope(n)&&(n.protocol=Qp(n.protocol)),n}static isRecordPermissionScope(t){return"Records"===t.interface}static hasProtocolScope(t){return"protocol"in t&&void 0!==t.protocol}static validateTags(t,n){if(void 0===t.descriptor.tags||void 0===t.descriptor.tags.protocol)throw new ce(_e.PermissionsProtocolValidateScopeMissingProtocolTag,"Permission grants must have a `tags` property that contains a protocol tag");const i=t.descriptor.tags.protocol;if(i!==n)throw new ce(_e.PermissionsProtocolValidateScopeProtocolMismatch,`Permission grants must have a scope with a protocol that matches the tagged protocol: ${i}`)}static validateScopeAndTags(t,n){if(this.hasProtocolScope(t)&&(_h(t.protocol),this.validateTags(n,t.protocol)),this.isRecordPermissionScope(t)&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new ce(_e.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}bo.uri="https://tbd.website/dwn/permissions",bo.requestPath="request",bo.grantPath="grant",bo.revocationPath="grant/revocation",bo.definition={published:!0,protocol:bo.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};class z1{static normalizeFilters(t){const n=[];for(const i of t){const l=void 0!==i.protocol?Qp(i.protocol):void 0,p=Object.assign(Object.assign({},i),{protocol:l});bd(p),Eb(p)||n.push(p)}return n}static convertFilters(t){const n=[];for(const i of t){const l=this.constructPermissionRecordsFilter(i);l&&n.push(l),n.push(this.convertFilter(i))}return n}static constructPermissionRecordsFilter(t){const{protocol:n,messageTimestamp:i}=t;if(void 0!==n){const l=Object.assign({protocol:bo.uri},mo.convertTagsFilter({protocol:n}));if(null!=i){const p=il.convertRangeCriterion(i);p&&(l.messageTimestamp=p)}return l}}static convertFilter(t){const n=Object.assign({},t),{messageTimestamp:i}=t,l=i?il.convertRangeCriterion(i):void 0;return l&&(n.messageTimestamp=l,delete n.dateUpdated),n}}var H1=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Tg{static authorizeMessagesRead(t){return H1(this,void 0,void 0,function*(){const{messagesReadMessage:n,messageToRead:i,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h}=t;yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h});const V=c.scope;yield Tg.verifyScope(l,i,V,h)})}static authorizeQueryOrSubscribe(t){return H1(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}=t;if(yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}),bo.hasProtocolScope(p.scope)){const h=p.scope.protocol;for(const V of n.descriptor.filters)if(V.protocol!==h)throw new ce(_e.MessagesGrantAuthorizationMismatchedProtocol,`The protocol ${V.protocol} does not match the scoped protocol ${h}`)}})}static verifyScope(t,n,i,l){return H1(this,void 0,void 0,function*(){if(void 0!==i.protocol){if(n.descriptor.interface===Wi.Records){const p=n,c=mo.isRecordsWrite(p)?p:yield Ko.fetchNewestRecordsWrite(l,t,p.descriptor.recordId);if(c.descriptor.protocol===i.protocol)return;if(c.descriptor.protocol===bo.uri){const h=yield bo.getScopeFromPermissionRecord(t,l,c);if(bo.hasProtocolScope(h)&&h.protocol===i.protocol)return}}else if(n.descriptor.interface===Wi.Protocols&&n.descriptor.definition.protocol===i.protocol)return;throw new ce(_e.MessagesReadVerifyScopeFailed,"record message failed scope authorization")}})}}var WS=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class ew extends Mp{static parse(t){return WS(this,void 0,void 0,function*(){Hr.validateJsonSchema(t),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&_h(n.protocol);return new ew(t)})}static create(t){var n;return WS(this,void 0,void 0,function*(){const i={interface:Wi.Messages,method:ui.Query,filters:t.filters?z1.normalizeFilters(t.filters):[],messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ga.getCurrentTimestamp(),cursor:t.cursor};bd(i);const{permissionGrantId:l,signer:p}=t,h={descriptor:i,authorization:yield Hr.createAuthorization({descriptor:i,signer:p,permissionGrantId:l})};return Hr.validateJsonSchema(h),new ew(h)})}}var SC=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class tw{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventLog=i}handle({tenant:t,message:n}){return SC(this,void 0,void 0,function*(){let i;try{i=yield ew.parse(n)}catch(h){return Rs(h,400)}try{yield Ph(n.authorization,this.didResolver),yield tw.authorizeMessagesQuery(t,i,this.messageStore)}catch(h){return Rs(h,401)}const l=z1.convertFilters(n.descriptor.filters),{events:p,cursor:c}=yield this.eventLog.queryEvents(t,l,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:p,cursor:c}})}static authorizeMessagesQuery(t,n,i){return SC(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new ce(_e.MessagesQueryAuthorizationFailed,"message failed authorization");{const l=yield bo.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Tg.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:i})}}})}}var nw=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class hm extends Mp{static parse(t){return nw(this,void 0,void 0,function*(){return Hr.validateJsonSchema(t),this.validateMessageCid(t.descriptor.messageCid),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor),ga.validateTimestamp(t.descriptor.messageTimestamp),new hm(t)})}static create(t){var n;return nw(this,void 0,void 0,function*(){const i={interface:Wi.Messages,method:ui.Read,messageCid:t.messageCid,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ga.getCurrentTimestamp()},{signer:l,permissionGrantId:p}=t,h={descriptor:i,authorization:yield Hr.createAuthorization({descriptor:i,signer:l,permissionGrantId:p})};return Hr.validateJsonSchema(h),hm.validateMessageCid(t.messageCid),new hm(h)})}static validateMessageCid(t){try{rl.parseCid(t)}catch{throw new ce(_e.MessagesReadInvalidCid,`${t} is not a valid CID`)}}}var GS=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class W1{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return GS(this,void 0,void 0,function*(){let i;try{i=yield hm.parse(n)}catch(c){return Rs(c,400)}try{yield Ph(n.authorization,this.didResolver)}catch(c){return Rs(c,401)}const l=yield this.messageStore.get(t,n.descriptor.messageCid);if(void 0===l)return{status:{code:404,detail:"Not Found"}};try{yield W1.authorizeMessagesRead(t,i,l,this.messageStore)}catch(c){return Rs(c,401)}const p={message:l,messageCid:n.descriptor.messageCid};if(mo.isRecordsWrite(l)){const c=p.message;if(void 0!==c.encodedData){const h=K.base64UrlToBytes(c.encodedData);p.data=Ap.fromBytes(h),delete c.encodedData}else{const h=yield this.dataStore.get(t,c.recordId,c.descriptor.dataCid);void 0!==h?.dataStream&&(p.data=h.dataStream)}}return{status:{code:200,detail:"OK"},entry:p}})}static authorizeMessagesRead(t,n,i,l){return GS(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new ce(_e.MessagesReadAuthorizationFailed,"protocol message failed authorization");{const p=yield bo.fetchGrant(t,l,n.signaturePayload.permissionGrantId);yield Tg.authorizeMessagesRead({messagesReadMessage:n.message,messageToRead:i,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:p,messageStore:l})}}})}}var XS=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Dg extends Mp{static parse(t){return XS(this,void 0,void 0,function*(){Hr.validateJsonSchema(t),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&_h(n.protocol);return ga.validateTimestamp(t.descriptor.messageTimestamp),new Dg(t)})}static create(t){var n,i;return XS(this,void 0,void 0,function*(){const l=ga.getCurrentTimestamp(),p={interface:Wi.Messages,method:ui.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:l};bd(p);const{permissionGrantId:c,signer:h}=t,$={descriptor:p,authorization:yield Hr.createAuthorization({descriptor:p,signer:h,permissionGrantId:c})};return Hr.validateJsonSchema($),new Dg($)})}}var ZS=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class G1{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return ZS(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Rs(new ce(_e.MessagesSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let l;try{l=yield Dg.parse(n)}catch(I){return Rs(I,400)}try{yield Ph(n.authorization,this.didResolver),yield G1.authorizeMessagesSubscribe(t,l,this.messageStore)}catch(I){return Rs(I,401)}const{filters:p}=n.descriptor,c=z1.convertFilters(p),h=yield Hr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,h,(I,q,ke)=>{t===I&&il.matchAnyFilter(ke,c)&&i(q)})}})}static authorizeMessagesSubscribe(t,n,i){return ZS(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new ce(_e.MessagesSubscribeAuthorizationFailed,"message failed authorization");{const l=yield bo.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Tg.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:i})}}})}}var YS=E(20844),pm=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(pm||{}),xc=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(xc||{}),X1=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Dd extends Mp{static parse(t){return X1(this,void 0,void 0,function*(){return Hr.validateJsonSchema(t),Dd.validateProtocolDefinition(t.descriptor.definition),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor),ga.validateTimestamp(t.descriptor.messageTimestamp),new Dd(t)})}static create(t){var n;return X1(this,void 0,void 0,function*(){const i={interface:Wi.Protocols,method:ui.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ga.getCurrentTimestamp(),definition:Dd.normalizeDefinition(t.definition)},p={descriptor:i,authorization:yield Hr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId})};return Hr.validateJsonSchema(p),Dd.validateProtocolDefinition(p.descriptor.definition),new Dd(p)})}static validateProtocolDefinition(t){const{protocol:n,types:i}=t;_h(n);for(const l in i){const p=i[l].schema;void 0!==p&&q_(p)}Dd.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),i=Dd.fetchAllRolePathsRecursively("",t.structure,[]);Dd.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:i})}static fetchAllRolePathsRecursively(t,n,i){if(t.split("/").length>10)throw new ce(_e.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const l in n){if(l.startsWith("$"))continue;const p=n[l];let c;c=""===t?l:`${t}/${l}`,p.$role?i.push(c):Dd.fetchAllRolePathsRecursively(c,p,i)}return i}static validateRuleSetRecursively(t){var n;const{ruleSet:i,ruleSetProtocolPath:l,recordTypes:p,roles:c}=t;if(void 0!==i.$size){const{min:V=0,max:$}=i.$size;if(void 0!==$&&$<V)throw new ce(_e.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${$} less than min limit ${V} at protocol path '${l}'`)}if(i.$tags){const V=new YS.default,ke=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(i.$tags,["$allowUndefinedTags","$requiredTags"]);for(const Ne in ke)if(!V.validateSchema(ke[Ne])){const Ke=V.errorsText(V.errors,{dataVar:`${l}/$tags/${Ne}`});throw new ce(_e.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${Ke}`)}}const h=null!==(n=i.$actions)&&void 0!==n?n:[];for(let V=0;V<h.length;V++){const $=h[V];if(void 0!==$.role&&!c.includes($.role))throw new ce(_e.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify($)} for rule set ${l} does not exist.`);if("anyone"===$.who&&$.of)throw new ce(_e.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${l})`);if($.who===pm.Recipient&&void 0===$.of&&$.can.some(q=>![xc.CoUpdate,xc.CoDelete,xc.CoPrune].includes(q)))throw new ce(_e.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if($.who===pm.Author&&!$.of)throw new ce(_e.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==$.can){if($.can.includes(xc.Update)&&!$.can.includes(xc.Create))throw new ce(_e.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify($)} contains 'update' action but missing the required 'create' action.`);if($.can.includes(xc.Delete)&&!$.can.includes(xc.Create))throw new ce(_e.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify($)} contains 'delete' action but missing the required 'create' action.`)}for(let I=V+1;I<h.length;I++){const q=h[I];if(void 0!==$.who){if($.who===q.who&&$.of===q.of)throw new ce(_e.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${$.who} of ${$.of} not allowed within a rule set: ${JSON.stringify($)}`)}else if($.role===q.role)throw new ce(_e.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${$.role} not allowed within a rule set: ${JSON.stringify($)}`)}}for(const V in i){if(V.startsWith("$"))continue;if(!p.includes(V))throw new ce(_e.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${V} is not declared as an allowed type in the protocol definition.`);let I;I=""===l?V:`${l}/${V}`,Dd.validateRuleSetRecursively({ruleSet:i[V],ruleSetProtocolPath:I,recordTypes:p,roles:c})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const i in n){const l=n[i].schema;void 0!==l&&(n[i].schema=Q_(l))}return Object.assign(Object.assign({},t),{protocol:Qp(t.protocol),types:n})}}class JS{constructor(t,n,i,l){this.didResolver=t,this.messageStore=n,this.eventLog=i,this.eventStream=l}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield Dd.parse(n)}catch(I){return Rs(I,400)}try{yield Ph(n.authorization,this.didResolver),yield function uR(r,t){return EC(this,void 0,void 0,function*(){if(t.author!==r)throw new ce(_e.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}(t,i)}catch(I){return Rs(I,401)}const l={interface:Wi.Protocols,method:ui.Configure,protocol:n.descriptor.definition.protocol},{messages:p}=yield this.messageStore.query(t,[l]);let V,c=yield Hr.getNewestMessage(p),h=!1;if((void 0===c||(yield Hr.isNewer(n,c)))&&(h=!0,c=n),h){const I=JS.constructIndexes(i);yield this.messageStore.put(t,n,I);const q=yield Hr.getCid(n);yield this.eventLog.append(t,q,I),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},I),V={status:{code:202,detail:"Accepted"}}}else V={status:{code:409,detail:"Conflict"}};const $=[];for(const I of p)if(yield Hr.isNewer(c,I)){const q=yield Hr.getCid(I);$.push(q),yield this.messageStore.delete(t,q)}return yield this.eventLog.deleteEventsByCid(t,$),V})}static constructIndexes(t){const n=t.message.descriptor,{definition:i}=n,l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(n,["definition"]),{author:p}=t;return Object.assign(Object.assign({},l),{author:p,protocol:i.protocol,published:i.published})}}var rw=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class mm extends Mp{static parse(t){return rw(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&_h(t.descriptor.filter.protocol),ga.validateTimestamp(t.descriptor.messageTimestamp),new mm(t)})}static create(t){var n;return rw(this,void 0,void 0,function*(){const i={interface:Wi.Protocols,method:ui.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ga.getCurrentTimestamp(),filter:t.filter?mm.normalizeFilter(t.filter):void 0};let l;bd(i),void 0!==t.signer&&(l=yield Hr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId}));const p={descriptor:i,authorization:l};return Hr.validateJsonSchema(p),new mm(p)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:Qp(t.protocol)})}authorize(t,n){return rw(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new ce(_e.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const i=yield bo.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield qu.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:i,messageStore:n})}}})}}var qS=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class QS{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return qS(this,void 0,void 0,function*(){let i;try{i=yield mm.parse(n)}catch(c){return Rs(c,400)}try{yield Ph(n.authorization,this.didResolver),yield i.authorize(t,this.messageStore)}catch(c){return c.code===_e.AuthenticateJwsMissing||c.code===_e.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,i)}:Rs(c,401)}const l=Object.assign(Object.assign({},n.descriptor.filter),{interface:Wi.Protocols,method:ui.Configure});bd(l);const{messages:p}=yield this.messageStore.query(t,[l]);return{status:{code:200,detail:"OK"},entries:p}})}fetchPublishedProtocolsConfigure(t,n){return qS(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:Wi.Protocols,method:ui.Configure,published:!0}),{messages:l}=yield this.messageStore.query(t,[i]);return l})}}var Yd=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class xo{static validateReferentialIntegrity(t,n,i){return Yd(this,void 0,void 0,function*(){const l=yield xo.fetchProtocolDefinition(t,n.message.descriptor.protocol,i);xo.verifyType(n.message,l.types),yield xo.verifyProtocolPathAndContextId(t,n,i);const p=xo.getRuleSet(n.message.descriptor.protocolPath,l);yield xo.verifyAsRoleRecordIfNeeded(t,n,p,i),xo.verifySizeLimit(n,p),xo.verifyTagsIfNeeded(n,p)})}static authorizeWrite(t,n,i){return Yd(this,void 0,void 0,function*(){let p;p=void 0===(yield xo.fetchInitialWrite(t,n.message.recordId,i))?yield xo.constructRecordChain(t,n.message.descriptor.parentId,i):yield xo.constructRecordChain(t,n.message.recordId,i);const c=yield xo.fetchProtocolDefinition(t,n.message.descriptor.protocol,i),h=xo.getRuleSet(n.message.descriptor.protocolPath,c);yield xo.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,c,i),yield xo.authorizeAgainstAllowedActions(t,n,h,p,i)})}static authorizeRead(t,n,i,l){return Yd(this,void 0,void 0,function*(){const p=yield xo.constructRecordChain(t,i.message.recordId,l),c=yield xo.fetchProtocolDefinition(t,i.message.descriptor.protocol,l),h=xo.getRuleSet(i.message.descriptor.protocolPath,c);yield xo.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,c,l),yield xo.authorizeAgainstAllowedActions(t,n,h,p,l)})}static authorizeQueryOrSubscribe(t,n,i){return Yd(this,void 0,void 0,function*(){const{protocol:l,protocolPath:p,contextId:c}=n.message.descriptor.filter,h=yield xo.fetchProtocolDefinition(t,l,i),V=xo.getRuleSet(p,h);yield xo.verifyInvokedRole(t,n,l,c,h,i),yield xo.authorizeAgainstAllowedActions(t,n,V,[],i)})}static authorizeDelete(t,n,i,l){return Yd(this,void 0,void 0,function*(){const p=yield xo.constructRecordChain(t,n.message.descriptor.recordId,l),c=yield xo.fetchProtocolDefinition(t,i.message.descriptor.protocol,l),h=xo.getRuleSet(i.message.descriptor.protocolPath,c);yield xo.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,c,l),yield xo.authorizeAgainstAllowedActions(t,n,h,p,l)})}static fetchProtocolDefinition(t,n,i){return Yd(this,void 0,void 0,function*(){if(n===bo.uri)return bo.definition;const l={interface:Wi.Protocols,method:ui.Configure,protocol:n},{messages:p}=yield i.query(t,[l]);if(0===p.length)throw new ce(_e.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return p[0].descriptor.definition})}static constructRecordChain(t,n,i){return Yd(this,void 0,void 0,function*(){if(void 0===n)return[];const l=[];let p=n;for(;void 0!==p;){const c=yield xo.fetchInitialWrite(t,p,i);if(void 0===c)throw new ce(_e.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${p} when constructing record chain.`);l.push(c),p=c.descriptor.parentId}return l.reverse()})}static fetchInitialWrite(t,n,i){return Yd(this,void 0,void 0,function*(){const l={interface:Wi.Records,method:ui.Write,recordId:n},{messages:p}=yield i.query(t,[l]);return 0===p.length?void 0:yield Ko.getInitialWrite(p)})}static getRuleSet(t,n){const i=xo.getRuleSetAtProtocolPath(t,n);if(void 0===i)throw new ce(_e.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return i}static verifyProtocolPathAndContextId(t,n,i){var l;return Yd(this,void 0,void 0,function*(){const p=n.message.descriptor.protocolPath,c=xo.getTypeName(p),h=n.message.descriptor.parentId;if(void 0===h){if(p!==c)throw new ce(_e.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${p}' is not valid for records with no parent'.`);return}const $={isLatestBaseState:!0,interface:Wi.Records,method:ui.Write,protocol:n.message.descriptor.protocol,recordId:h},{messages:I}=yield i.query(t,[$]),q=I[0];if(`${null===(l=q?.descriptor)||void 0===l?void 0:l.protocolPath}/${c}`!==p)throw new ce(_e.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${p}'.`);const Pe=`${q.contextId}/${n.message.recordId}`,Ke=n.message.contextId;if(Ke!==Pe)throw new ce(_e.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${Ke}' is not the same as expected: '${Pe}'.`)})}static verifyType(t,n){const i=Object.keys(n),p=xo.getTypeName(t.descriptor.protocolPath);if(!i.includes(p))throw new ce(_e.ProtocolAuthorizationInvalidType,`record with type ${p} not allowed in protocol`);const h=xo.getTypeName(t.descriptor.protocolPath),V=n[h],{schema:$}=t.descriptor;if(void 0!==V.schema&&V.schema!==$)throw new ce(_e.ProtocolAuthorizationInvalidSchema,`type '${h}' must have schema '${V.schema}',         instead has '${$}'`);const{dataFormat:I}=t.descriptor;if(void 0!==V.dataFormats&&!V.dataFormats.includes(I))throw new ce(_e.ProtocolAuthorizationIncorrectDataFormat,`type '${h}' must have data format in (${V.dataFormats}),         instead has '${I}'`)}static verifyInvokedRole(t,n,i,l,p,c){var h;return Yd(this,void 0,void 0,function*(){const V=null===(h=n.signaturePayload)||void 0===h?void 0:h.protocolRole;if(void 0===V)return;const $=xo.getRuleSetAtProtocolPath(V,p);if(void 0===$||!$.$role)throw new ce(_e.ProtocolAuthorizationNotARole,`Protocol path ${V} does not match role record type.`);const I={interface:Wi.Records,method:ui.Write,protocol:i,protocolPath:V,recipient:n.author,isLatestBaseState:!0},q=V.split("/").length-1;if(void 0===l&&q>0)throw new ce(_e.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(q>0){const Pe=l.split("/").slice(0,q).join("/"),Ke=il.constructPrefixFilterAsRangeFilter(Pe);I.contextId=Ke}const{messages:ke}=yield c.query(t,[I]);if(0===ke.length)throw new ce(_e.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${V}`)})}static getActionsSeekingARuleMatch(t,n,i){return Yd(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case ui.Delete:const l=n,p=l.message.descriptor.recordId,c=yield Ko.fetchInitialRecordsWrite(i,t,p);if(void 0===c)return[];const h=[];return l.message.descriptor.prune?(h.push(xc.CoPrune),n.author===c.author&&h.push(xc.Prune)):(h.push(xc.CoDelete),n.author===c.author&&h.push(xc.Delete)),h;case ui.Query:return[xc.Query];case ui.Read:return[xc.Read];case ui.Subscribe:return[xc.Subscribe];case ui.Write:if(yield n.isInitialWrite())return[xc.Create];{const I=n.message.recordId,q=yield Ko.fetchInitialRecordsWrite(i,t,I);return void 0===q?[]:n.author===q.author?[xc.CoUpdate,xc.Update]:[xc.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,i,l,p){var c;return Yd(this,void 0,void 0,function*(){const h=n.message.descriptor.method,V=yield xo.getActionsSeekingARuleMatch(t,n,p),$=n.author,I=i.$actions;if(void 0===I)throw new ce(_e.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${h}, ${$} is unauthorized`);const q=null===(c=n.signaturePayload)||void 0===c?void 0:c.protocolRole;for(const ke of I)if(ke.can.some(Ke=>V.includes(Ke))){if(ke.who===pm.Anyone)return;if(void 0!==$)if(void 0===q)if(ke.who!==pm.Recipient||void 0!==ke.of){if(yield xo.checkActor($,ke,l))return}else{let Ke;if(Ke=n.message.descriptor.method===ui.Write?n.message:l[l.length-1],Ke.descriptor.recipient===$)return}else if(ke.role===q)return}throw new ce(_e.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${h} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:i=0,max:l}=n.$size||{},p=t.message.descriptor.dataSize;if(p<i)throw new ce(_e.ProtocolAuthorizationMinSizeInvalid,`data size ${p} is less than allowed ${i}`);if(void 0!==l&&p>l)throw new ce(_e.ProtocolAuthorizationMaxSizeInvalid,`data size ${p} is more than allowed ${l}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:i={},protocol:l,protocolPath:p}=t.message.descriptor,c=n.$tags,{$allowUndefinedTags:h,$requiredTags:V}=c,$=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(c,["$allowUndefinedTags","$requiredTags"]),I=h||!1,q=V||[],ke=new YS.default,Ne=ke.compile({type:"object",properties:$,required:q,additionalProperties:I});if(!Ne(i)){const Ke=ke.errorsText(Ne.errors,{dataVar:`${l}/${p}/$tags`});throw new ce(_e.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${Ke}`)}}}static verifyAsRoleRecordIfNeeded(t,n,i,l){return Yd(this,void 0,void 0,function*(){if(!i.$role)return;const p=n,c=p.message.descriptor.recipient;if(void 0===c)throw new ce(_e.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const h=p.message.descriptor.protocolPath,V={interface:Wi.Records,method:ui.Write,isLatestBaseState:!0,protocol:p.message.descriptor.protocol,protocolPath:h,recipient:c},$=mo.getParentContextFromOfContextId(p.message.contextId);if(""!==$){const Ne=il.constructPrefixFilterAsRangeFilter($);V.contextId=Ne}const{messages:I}=yield l.query(t,[V]);if(I.filter(Ne=>Ne.recordId!==p.message.recordId).length>0)throw new ce(_e.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${c}' is already recipient of a role record at protocol path '${h} under the parent context ${$}.`)})}static getRuleSetAtProtocolPath(t,n){const i=t.split("/");let l=n.structure,p=0;for(;p<i.length;){const h=l[i[p]];if(void 0===h)return;l=h,p++}return l}static checkActor(t,n,i){return Yd(this,void 0,void 0,function*(){const l=i.find(p=>p.descriptor.protocolPath===n.of);if(void 0===l)return!1;if(n.who===pm.Recipient)return t===l.descriptor.recipient;{const p=(yield Ko.parse(l)).author;return t===p}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var eM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class L0 extends Mp{static parse(t){return eM(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield mo.validateDelegatedGrantReferentialIntegrity(t,n),ga.validateTimestamp(t.descriptor.messageTimestamp),new L0(t)})}static create(t){var n,i;return eM(this,void 0,void 0,function*(){const l=t.recordId,p=ga.getCurrentTimestamp(),c={interface:Wi.Records,method:ui.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:p,recordId:l,prune:null!==(i=t.prune)&&void 0!==i&&i},V={descriptor:c,authorization:yield Hr.createAuthorization({descriptor:c,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return Hr.validateJsonSchema(V),new L0(V)})}constructIndexes(t){const i=Object.assign({},this.message.descriptor),{protocol:l,protocolPath:p,recipient:c,schema:h,parentId:V,dateCreated:$}=t.descriptor,I=Object.assign({protocol:l,protocolPath:p,recipient:c,schema:h,parentId:V,dateCreated:$,contextId:t.contextId,author:this.author},i);return bd(I),I}authorizeDelegate(t,n){return eM(this,void 0,void 0,function*(){const i=yield Ju.parse(this.message.authorization.authorDelegatedGrant);yield Qu.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var Ig=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},Z1=function(r){return r.RecordsDelete="RecordsDelete",r}(Z1||{});let gR=(()=>{class r{constructor(n,i){this.resumableTaskStore=n,this.resumableTaskBatchSize=100,this.resumableTaskHandlers={[Z1.RecordsDelete]:l=>Ig(this,void 0,void 0,function*(){return yield i.performRecordsDelete(l)})}}run(n){return Ig(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds,l=yield this.resumableTaskStore.register(n,i);yield this.runWithAutomaticTimeoutExtension(l)})}runWithAutomaticTimeoutExtension(n){return Ig(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds;let l;try{l=setInterval(()=>{this.resumableTaskStore.extend(n.id,i)},1e3*r.timeoutExtensionFrequencyInSeconds);const p=this.resumableTaskHandlers[n.task.name];yield p(n.task.data),yield this.resumableTaskStore.delete(n.id)}finally{r.clearTimeoutExtensionTimer(l)}})}static clearTimeoutExtensionTimer(n){clearInterval(n)}resumeTasksAndWaitForCompletion(){return Ig(this,void 0,void 0,function*(){for(;;){const n=yield this.resumableTaskStore.grab(this.resumableTaskBatchSize);if(void 0===n||0===n.length)break;yield this.retryTasksUntilCompletion(n)}})}retryTasksUntilCompletion(n){return Ig(this,void 0,void 0,function*(){let i=n;for(;i.length>0;){const l=i;i=[];const p=l.map(c=>Ig(this,void 0,void 0,function*(){try{yield this.runWithAutomaticTimeoutExtension(c)}catch(h){console.error("Error while running resumable task:",h),console.error("Resumable task:",n),i.push(c)}}));yield Promise.all(p)}})}}return r.timeoutExtensionFrequencyInSeconds=30,r})();var AC=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Cg{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.resumableTaskManager=i}handle({tenant:t,message:n}){return AC(this,void 0,void 0,function*(){let i;try{i=yield L0.parse(n)}catch($){return Rs($,400)}try{yield Ph(n.authorization,this.didResolver)}catch($){return Rs($,401)}const l={interface:Wi.Records,recordId:n.descriptor.recordId},{messages:p}=yield this.messageStore.query(t,[l]),c=yield Hr.getNewestMessage(p);if(void 0===c||c.descriptor.method===ui.Delete)return{status:{code:404,detail:"Not Found"}};if(!(yield Hr.isNewer(n,c)))return{status:{code:409,detail:"Conflict"}};try{yield Cg.authorizeRecordsDelete(t,i,yield Ko.parse(c),this.messageStore)}catch($){return Rs($,401)}return yield this.resumableTaskManager.run({name:Z1.RecordsDelete,data:{tenant:t,message:n}}),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,i,l){return AC(this,void 0,void 0,function*(){if(Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,l)),n.author!==t){if(void 0===i.message.descriptor.protocol)throw new ce(_e.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield xo.authorizeDelete(t,n,i,l)}})}}var bu=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(bu||{}),ym=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class U0{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return ym(this,void 0,void 0,function*(){let i,l,p;try{i=yield Qb.parse(n)}catch(c){return Rs(c,400)}if(mo.filterIncludesPublishedRecords(i.message.descriptor.filter)&&void 0===i.author){const c=yield this.fetchPublishedRecords(t,i);l=c.messages,p=c.cursor}else{try{yield Ph(n.authorization,this.didResolver),yield U0.authorizeRecordsQuery(t,i,this.messageStore)}catch(c){return Rs(c,401)}if(i.author===t){const c=yield this.fetchRecordsAsOwner(t,i);l=c.messages,p=c.cursor}else{const c=yield this.fetchRecordsAsNonOwner(t,i);l=c.messages,p=c.cursor}}for(const c of l)if(!(yield Ko.isInitialWrite(c))){const V=(yield this.messageStore.query(t,[{recordId:c.recordId,isLatestBaseState:!1,method:ui.Write}])).messages[0];delete V.encodedData,c.initialWrite=V}return{status:{code:200,detail:"OK"},entries:l,cursor:p}})}convertDateSort(t){switch(t){case zd.CreatedAscending:return{dateCreated:bu.Ascending};case zd.CreatedDescending:return{dateCreated:bu.Descending};case zd.PublishedAscending:return{datePublished:bu.Ascending};case zd.PublishedDescending:return{datePublished:bu.Descending};default:return{dateCreated:bu.Ascending}}}fetchRecordsAsOwner(t,n){return ym(this,void 0,void 0,function*(){const{dateSort:i,filter:l,pagination:p}=n.message.descriptor,c=Object.assign(Object.assign({},mo.convertFilter(l,i)),{interface:Wi.Records,method:ui.Write,isLatestBaseState:!0}),h=this.convertDateSort(i);return this.messageStore.query(t,[c],h,p)})}fetchRecordsAsNonOwner(t,n){return ym(this,void 0,void 0,function*(){const{dateSort:i,pagination:l,filter:p}=n.message.descriptor,c=[];if(mo.filterIncludesPublishedRecords(p)&&c.push(U0.buildPublishedRecordsFilter(n)),mo.filterIncludesUnpublishedRecords(p)){c.push(U0.buildUnpublishedRecordsByQueryAuthorFilter(n));const V=n.message.descriptor.filter.recipient;(void 0===V||V===n.author)&&c.push(U0.buildUnpublishedRecordsForQueryAuthorFilter(n)),mo.shouldProtocolAuthorize(n.signaturePayload)&&c.push(U0.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const h=this.convertDateSort(i);return this.messageStore.query(t,c,h,l)})}fetchPublishedRecords(t,n){return ym(this,void 0,void 0,function*(){const{dateSort:i,pagination:l}=n.message.descriptor,p=U0.buildPublishedRecordsFilter(n),c=this.convertDateSort(i);return this.messageStore.query(t,[p],c,l)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},mo.convertFilter(i,n)),{interface:Wi.Records,method:ui.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},mo.convertFilter(i,n)),{interface:Wi.Records,method:ui.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},mo.convertFilter(i,n)),{interface:Wi.Records,method:ui.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},mo.convertFilter(i,n)),{author:t.author,interface:Wi.Records,method:ui.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,i){return ym(this,void 0,void 0,function*(){Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),mo.shouldProtocolAuthorize(n.signaturePayload)&&(yield xo.authorizeQueryOrSubscribe(t,n,i))})}}var tM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class kg extends Mp{static parse(t){return tM(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield mo.validateDelegatedGrantReferentialIntegrity(t,n),ga.validateTimestamp(t.descriptor.messageTimestamp),new kg(t)})}static create(t){var n;return tM(this,void 0,void 0,function*(){const{filter:i,signer:l,permissionGrantId:p,protocolRole:c}=t,h=ga.getCurrentTimestamp(),V={interface:Wi.Records,method:ui.Read,filter:mo.normalizeFilter(i),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:h};let $;bd(V),void 0!==l&&($=yield Hr.createAuthorization({descriptor:V,signer:l,permissionGrantId:p,protocolRole:c,delegatedGrant:t.delegatedGrant}));const I={descriptor:V,authorization:$};return Hr.validateJsonSchema(I),new kg(I)})}authorizeDelegate(t,n){return tM(this,void 0,void 0,function*(){const i=yield Ju.parse(this.message.authorization.authorDelegatedGrant);yield Qu.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var nM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Y1{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return nM(this,void 0,void 0,function*(){let i;try{i=yield kg.parse(n)}catch(I){return Rs(I,400)}try{void 0!==i.author&&(yield Ph(n.authorization,this.didResolver))}catch(I){return Rs(I,401)}const l=Object.assign({interface:Wi.Records,isLatestBaseState:!0},mo.convertFilter(n.descriptor.filter)),{messages:p}=yield this.messageStore.query(t,[l]);if(0===p.length)return{status:{code:404,detail:"Not Found"}};if(p.length>1)return Rs(new ce(_e.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const c=p[0];try{yield Y1.authorizeRecordsRead(t,i,yield Ko.parse(c),this.messageStore)}catch(I){return Rs(I,401)}let h;if(void 0!==c.encodedData){const I=K.base64UrlToBytes(c.encodedData);h=Ap.fromBytes(I),delete c.encodedData}else{const I=yield this.dataStore.get(t,c.recordId,c.descriptor.dataCid);if(void 0===I?.dataStream)return{status:{code:404,detail:"Not Found"}};h=I.dataStream}const V=Object.assign(Object.assign({},c),{data:h});if(!(yield Ko.isInitialWrite(V))){const q=(yield this.messageStore.query(t,[{recordId:V.recordId,isLatestBaseState:!1,method:ui.Write}])).messages[0];delete q.encodedData,V.initialWrite=q}return{status:{code:200,detail:"OK"},record:V}})}static authorizeRecordsRead(t,n,i,l){return nM(this,void 0,void 0,function*(){Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,l));const{descriptor:p}=i.message;if(n.author!==t){if(!0===p.published)return;if(void 0!==n.author&&n.author===p.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const c=yield bo.fetchGrant(t,l,n.signaturePayload.permissionGrantId);yield Qu.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:i.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:c,messageStore:l})}else{if(void 0===p.protocol)throw new ce(_e.RecordsReadAuthorizationFailed,"message failed authorization");yield xo.authorizeRead(t,n,i,l)}}})}}var J1=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class iw extends Mp{static parse(t){return J1(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield mo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new ce(_e.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&_h(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&q_(t.descriptor.filter.schema),ga.validateTimestamp(t.descriptor.messageTimestamp),new iw(t)})}static create(t){var n;return J1(this,void 0,void 0,function*(){const i={interface:Wi.Records,method:ui.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ga.getCurrentTimestamp(),filter:mo.normalizeFilter(t.filter)};bd(i);const l=t.signer;let p;l&&(p=yield Hr.createAuthorization({descriptor:i,signer:l,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const c={descriptor:i,authorization:p};return Hr.validateJsonSchema(c),new iw(c)})}authorizeDelegate(t){return J1(this,void 0,void 0,function*(){const n=yield Ju.parse(this.message.authorization.authorDelegatedGrant);yield Qu.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var q1=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Bh{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return q1(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Rs(new ce(_e.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let l;try{l=yield iw.parse(n)}catch($){return Rs($,400)}let p=[];if(mo.filterIncludesPublishedRecords(l.message.descriptor.filter)&&void 0===l.author)p=[Bh.buildPublishedRecordsFilter(l)],delete n.authorization;else{try{yield Ph(n.authorization,this.didResolver),yield Bh.authorizeRecordsSubscribe(t,l,this.messageStore)}catch($){return Rs($,401)}p=l.author===t?yield Bh.filterAsOwner(l):yield Bh.filterAsNonOwner(l)}const h=yield Hr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,h,($,I,q)=>{t===$&&il.matchAnyFilter(q,p)&&i(I)})}})}static filterAsOwner(t){return q1(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},mo.convertFilter(n)),{interface:Wi.Records,method:[ui.Write,ui.Delete]})]})}static filterAsNonOwner(t){return q1(this,void 0,void 0,function*(){const n=[],{filter:i}=t.message.descriptor;if(mo.filterIncludesPublishedRecords(i)&&n.push(Bh.buildPublishedRecordsFilter(t)),mo.filterIncludesUnpublishedRecords(i)){n.push(Bh.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const l=t.message.descriptor.filter.recipient;(void 0===l||l===t.author)&&n.push(Bh.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),mo.shouldProtocolAuthorize(t.signaturePayload)&&n.push(Bh.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},mo.convertFilter(t.message.descriptor.filter)),{interface:Wi.Records,method:[ui.Write,ui.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},mo.convertFilter(t.message.descriptor.filter)),{interface:Wi.Records,method:[ui.Write,ui.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},mo.convertFilter(t.message.descriptor.filter)),{interface:Wi.Records,method:[ui.Write,ui.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},mo.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:Wi.Records,method:[ui.Write,ui.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,i){return q1(this,void 0,void 0,function*(){Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),mo.shouldProtocolAuthorize(n.signaturePayload)&&(yield xo.authorizeQueryOrSubscribe(t,n,i))})}}let rM=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var ow=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class gm{constructor({messageStore:t,dataStore:n,eventLog:i,eventStream:l}){this.messageStore=t,this.dataStore=n,this.eventLog=i,this.eventStream=l}performRecordsDelete({tenant:t,message:n}){return ow(this,void 0,void 0,function*(){const i={interface:Wi.Records,recordId:n.descriptor.recordId},{messages:l}=yield this.messageStore.query(t,[i]),p=yield Hr.getNewestMessage(l);if(void 0===p||p.descriptor.method===ui.Delete)return;const c=yield L0.parse(n),h=yield Ko.getInitialWrite(l),V=c.constructIndexes(h),$=yield Hr.getCid(n);yield this.messageStore.put(t,n,V),yield this.eventLog.append(t,$,V),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:h},V),n.descriptor.prune&&(yield gm.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield gm.deleteAllOlderMessagesButKeepInitialWrite(t,l,n,this.messageStore,this.dataStore,this.eventLog)})}static deleteFromDataStoreIfNeeded(t,n,i,l){return ow(this,void 0,void 0,function*(){if(i.descriptor.method!==ui.Write)return;const p=i;p.descriptor.dataSize<=rM.maxDataSizeAllowedToBeEncoded||p.descriptor.dataCid!==l.descriptor.dataCid&&(yield t.delete(n,p.recordId,p.descriptor.dataCid))})}static purgeRecordDescendants(t,n,i,l,p){return ow(this,void 0,void 0,function*(){const c={interface:Wi.Records,parentId:n},{messages:h}=yield i.query(t,[c]),V=new Map;for(const $ of h){let I;I=mo.isRecordsWrite($)?$.recordId:$.descriptor.recordId,V.has(I)||V.set(I,[]),V.get(I).push($)}for(const $ of V.keys())yield gm.purgeRecordDescendants(t,$,i,l,p);for(const $ of V.keys())yield gm.purgeRecordMessages(t,V.get($),i,l,p)})}static purgeRecordMessages(t,n,i,l,p){return ow(this,void 0,void 0,function*(){const c=n.filter($=>$.descriptor.method===ui.Write),h=yield Hr.getNewestMessage(c);yield l.delete(t,h.recordId,h.descriptor.dataCid);const V=yield Promise.all(n.map($=>Hr.getCid($)));yield p.deleteEventsByCid(t,V),yield Promise.all(V.map($=>i.delete(t,$)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,i,l,p,c){return ow(this,void 0,void 0,function*(){const h=[];for(const V of n){if(yield Hr.isOlder(V,i)){yield gm.deleteFromDataStoreIfNeeded(p,t,V,i);const I=yield Hr.getCid(V);if(yield l.delete(t,I),yield Ko.isInitialWrite(V)){const Pe=yield(yield Ko.parse(V)).constructIndexes(!1),Ke=V;delete Ke.encodedData,yield l.put(t,Ke,Pe)}else{const ke=yield Hr.getCid(V);h.push(ke)}}yield c.deleteEventsByCid(t,h)}})}}var F0=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Hf{constructor(t,n,i,l,p){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=l,this.eventStream=p}handle({tenant:t,message:n,dataStream:i}){return F0(this,void 0,void 0,function*(){let l;try{l=yield Ko.parse(n),void 0!==n.descriptor.protocol&&(yield xo.validateReferentialIntegrity(t,l,this.messageStore))}catch(Ne){return Rs(Ne,400)}try{yield Ph(n.authorization,this.didResolver),yield Hf.authorizeRecordsWrite(t,l,this.messageStore)}catch(Ne){return Rs(Ne,401)}const p={interface:Wi.Records,recordId:n.recordId},{messages:c}=yield this.messageStore.query(t,[p]),h=yield l.isInitialWrite();let V;if(!h)try{V=yield Ko.getInitialWrite(c),Ko.verifyEqualityOfImmutableProperties(V,n)}catch(Ne){return Rs(Ne,400)}const $=yield Hr.getNewestMessage(c);let q,I=!1;if(void 0===$||(yield Hr.isNewer(n,$))?(I=!0,q=n):q=$,!I)return{status:{code:409,detail:"Conflict"}};try{yield this.preProcessingForCoreRecordsWrite(t,n);let Ne=!1,Pe=n;if(void 0!==i)Pe=yield this.processMessageWithDataStream(t,n,i),Ne=!0;else{if($?.descriptor.method===ui.Delete)throw new ce(_e.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!h){const rt=$;Pe=yield this.processMessageWithoutDataStream(t,n,rt),Ne=!0}}const Ke=yield l.constructIndexes(Ne);yield this.messageStore.put(t,Pe,Ke),yield this.eventLog.append(t,yield Hr.getCid(n),Ke),void 0!==this.eventStream&&Ne&&this.eventStream.emit(t,{message:n,initialWrite:V},Ke)}catch(Ne){const Pe=Ne;if(void 0!==Pe.code&&(Pe.code===_e.RecordsWriteMissingEncodedDataInPrevious||Pe.code===_e.RecordsWriteMissingDataInPrevious||Pe.code===_e.RecordsWriteMissingDataStream||Pe.code===_e.RecordsWriteDataCidMismatch||Pe.code===_e.RecordsWriteDataSizeMismatch||Pe.code.startsWith("PermissionsProtocolValidate")||Pe.code.startsWith("SchemaValidator")))return Rs(Ne,400);throw Ne}return yield gm.deleteAllOlderMessagesButKeepInitialWrite(t,c,q,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,l),{status:{code:202,detail:"Accepted"}}})}preProcessingForCoreRecordsWrite(t,n){var i;return F0(this,void 0,void 0,function*(){if(n.descriptor.protocol===bo.uri&&n.descriptor.protocolPath===bo.revocationPath){const l=n.descriptor.parentId,p=yield bo.fetchGrant(t,this.messageStore,l),c=null===(i=n.descriptor.tags)||void 0===i?void 0:i.protocol,h="protocol"in p.scope?p.scope.protocol:void 0;if(h!==c)throw new ce(_e.PermissionsProtocolValidateRevocationProtocolTagMismatch,`Revocation protocol ${c} does not match grant protocol ${h}`)}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===bo.uri&&bo.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return F0(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===bo.uri&&n.message.descriptor.protocolPath===bo.revocationPath){const l={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:p}=yield this.messageStore.query(t,[l]),c=[];for(const h of p){const V=yield Hr.getCid(h);yield this.messageStore.delete(t,V)}this.eventLog.deleteEventsByCid(t,c)}})}cloneAndAddEncodedData(t,n){return F0(this,void 0,void 0,function*(){const i=Object.assign({},t);return i.encodedData=K.bytesToBase64Url(n),i})}processMessageWithDataStream(t,n,i){return F0(this,void 0,void 0,function*(){let l=n;if(n.descriptor.dataSize<=rM.maxDataSizeAllowedToBeEncoded){const p=yield Ap.toBytes(i),c=yield rl.computeDagPbCidFromBytes(p);Hf.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,c,p.length),Hf.validateSchemaForCoreRecordsWrite(n,p),l=yield this.cloneAndAddEncodedData(n,p)}else{const[p,c]=Ap.duplicateDataStream(i,2);try{const[h,V]=yield Promise.all([rl.computeDagPbCidFromStream(p),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,c)]);Hf.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,h,V.dataSize)}catch(h){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),h}}return l})}processMessageWithoutDataStream(t,n,i){return F0(this,void 0,void 0,function*(){const l=Object.assign({},n),{dataCid:p,dataSize:c}=n.descriptor;if(Hf.validateDataIntegrity(p,c,i.descriptor.dataCid,i.descriptor.dataSize),c<=rM.maxDataSizeAllowedToBeEncoded){if(void 0===i.encodedData)throw new ce(_e.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");l.encodedData=i.encodedData}else if(void 0===(yield this.dataStore.get(t,i.recordId,n.descriptor.dataCid)))throw new ce(_e.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return l})}static validateDataIntegrity(t,n,i,l){if(t!==i)throw new ce(_e.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${t}`);if(n!==l)throw new ce(_e.RecordsWriteDataSizeMismatch,`actual data size ${l} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,i){return F0(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new ce(_e.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(i)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(i)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const l=yield bo.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Qu.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:i})}else{if(void 0===n.message.descriptor.protocol)throw new ce(_e.RecordsWriteAuthorizationFailed,"message failed authorization");yield xo.authorizeWrite(t,n,i)}}})}}var sw=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(sw||{});const Wf={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Os{constructor({method:t,id:n,path:i,query:l,fragment:p,params:c}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=l,this.fragment=p,this.params=c}static parse(t){if(!t)return null;const n=Os.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:l,path:p,query:c,fragment:h}=n.groups,V={uri:`did:${i}:${l}`,method:i,id:l};if(p&&(V.path=p),c&&(V.query=c.slice(1)),h&&(V.fragment=h.slice(1)),c){const $={},I=c.slice(1).split("&");for(const q of I){const[ke,Ne]=q.split("=");$[ke]=Ne}V.params=$}return V}}Os.METHOD_PATTERN="([a-z0-9]+)",Os.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Os.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Os.PCT_ENCODED_PATTERN})`,Os.METHOD_ID_PATTERN=`((?:${Os.ID_CHAR_PATTERN}*:)*(${Os.ID_CHAR_PATTERN}+))`,Os.PATH_PATTERN="(/[^#?]*)?",Os.QUERY_PATTERN="([?][^#]*)?",Os.FRAGMENT_PATTERN="(#.*)?",Os.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Os.METHOD_PATTERN}):(?<id>${Os.METHOD_ID_PATTERN})(?<path>${Os.PATH_PATTERN})(?<query>${Os.QUERY_PATTERN})(?<fragment>${Os.FRAGMENT_PATTERN})$`);class Gi extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gi)}}var Xi=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Xi||{}),er=E(37475);function iM(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Q1(r,...t){if(!function nB(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function aw(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const cw="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Cl(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const vm=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Nh=(r,t)=>r<<32-t|r>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function kC(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function lw(r){if("string"==typeof r&&(r=kC(r)),!Cl(r))throw new Error("expected Uint8Array, got "+typeof r);return r}function tE(...r){let t=0;for(let i=0;i<r.length;i++){const l=r[i];if(!Cl(l))throw new Error("Uint8Array expected");t+=l.length}const n=new Uint8Array(t);for(let i=0,l=0;i<r.length;i++){const p=r[i];n.set(p,l),l+=p.length}return n}class sM{clone(){return this._cloneInto()}}function nE(r){const t=i=>r().update(lw(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function rE(r=32){if(cw&&"function"==typeof cw.getRandomValues)return cw.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class j0 extends sM{constructor(t,n,i,l){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=vm(this.buffer)}update(t){aw(this);const{view:n,buffer:i,blockLen:l}=this,p=(t=lw(t)).length;for(let c=0;c<p;){const h=Math.min(l-this.pos,p-c);if(h!==l)i.set(t.subarray(c,c+h),this.pos),this.pos+=h,c+=h,this.pos===l&&(this.process(n,0),this.pos=0);else{const V=vm(t);for(;l<=p-c;c+=l)this.process(V,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){aw(this),function DC(r,t){Q1(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:l,isLE:p}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>l-c&&(this.process(i,0),c=0);for(let q=c;q<l;q++)n[q]=0;(function RC(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const l=BigInt(32),p=BigInt(4294967295),c=Number(n>>l&p),h=Number(n&p),$=i?0:4;r.setUint32(t+(i?4:0),c,i),r.setUint32(t+$,h,i)})(i,l-8,BigInt(8*this.length),p),this.process(i,0);const h=vm(t),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $=V/4,I=this.get();if($>I.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<$;q++)h.setUint32(4*q,I[q],p)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:l,finished:p,destroyed:c,pos:h}=this;return t.length=l,t.pos=h,t.finished=p,t.destroyed=c,l%n&&t.buffer.set(i),t}}const ER=(r,t,n)=>r&t^~r&n,OC=(r,t,n)=>r&t^r&n^t&n,cM=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bm=new Uint32Array(64);class PC extends j0{constructor(){super(64,32,8,!1),this.A=0|$0[0],this.B=0|$0[1],this.C=0|$0[2],this.D=0|$0[3],this.E=0|$0[4],this.F=0|$0[5],this.G=0|$0[6],this.H=0|$0[7]}get(){const{A:t,B:n,C:i,D:l,E:p,F:c,G:h,H:V}=this;return[t,n,i,l,p,c,h,V]}set(t,n,i,l,p,c,h,V){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|l,this.E=0|p,this.F=0|c,this.G=0|h,this.H=0|V}process(t,n){for(let q=0;q<16;q++,n+=4)bm[q]=t.getUint32(n,!1);for(let q=16;q<64;q++){const ke=bm[q-15],Ne=bm[q-2],Pe=Nh(ke,7)^Nh(ke,18)^ke>>>3,Ke=Nh(Ne,17)^Nh(Ne,19)^Ne>>>10;bm[q]=Ke+bm[q-7]+Pe+bm[q-16]|0}let{A:i,B:l,C:p,D:c,E:h,F:V,G:$,H:I}=this;for(let q=0;q<64;q++){const Ne=I+(Nh(h,6)^Nh(h,11)^Nh(h,25))+ER(h,V,$)+cM[q]+bm[q]|0,Ke=(Nh(i,2)^Nh(i,13)^Nh(i,22))+OC(i,l,p)|0;I=$,$=V,V=h,h=c+Ne|0,c=p,p=l,l=i,i=Ne+Ke|0}i=i+this.A|0,l=l+this.B|0,p=p+this.C|0,c=c+this.D|0,h=h+this.E|0,V=V+this.F|0,$=$+this.G|0,I=I+this.H|0,this.set(i,l,p,c,h,V,$,I)}roundClean(){bm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const wm=nE(()=>new PC);class lM{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return wm(t)})}}class iE{}BigInt(0);const oE=BigInt(1),BC=BigInt(2);function Gf(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const NC=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function _m(r){if(!Gf(r))throw new Error("Uint8Array expected");let t="";for(let n=0;n<r.length;n++)t+=NC[r[n]];return t}function LC(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const Em={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function uM(r){return r>=Em._0&&r<=Em._9?r-Em._0:r>=Em._A&&r<=Em._F?r-(Em._A-10):r>=Em._a&&r<=Em._f?r-(Em._a-10):void 0}function dw(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let l=0,p=0;l<n;l++,p+=2){const c=uM(r.charCodeAt(p)),h=uM(r.charCodeAt(p+1));if(void 0===c||void 0===h)throw new Error('hex string expected, got non-hex character "'+(r[p]+r[p+1])+'" at index '+p);i[l]=16*c+h}return i}function Rg(r){return LC(_m(r))}function K0(r){if(!Gf(r))throw new Error("Uint8Array expected");return LC(_m(Uint8Array.from(r).reverse()))}function Tp(r,t){return dw(r.toString(16).padStart(2*t,"0"))}function uw(r,t){return Tp(r,t).reverse()}function Sc(r,t,n){let i;if("string"==typeof t)try{i=dw(t)}catch(p){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${p}`)}else{if(!Gf(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const l=i.length;if("number"==typeof n&&l!==n)throw new Error(`${r} expected ${n} bytes, got ${l}`);return i}function Og(...r){let t=0;for(let l=0;l<r.length;l++){const p=r[l];if(!Gf(p))throw new Error("Uint8Array expected");t+=p.length}let n=new Uint8Array(t),i=0;for(let l=0;l<r.length;l++){const p=r[l];n.set(p,i),i+=p.length}return n}const V0=r=>(BC<<BigInt(r-1))-oE,Pg=r=>new Uint8Array(r),UC=r=>Uint8Array.from(r);function FC(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=Pg(r),l=Pg(r),p=0;const c=()=>{i.fill(1),l.fill(0),p=0},h=(...q)=>n(l,i,...q),V=(q=Pg())=>{l=h(UC([0]),q),i=h(),0!==q.length&&(l=h(UC([1]),q),i=h())},$=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let q=0;const ke=[];for(;q<t;){i=h();const Ne=i.slice();ke.push(Ne),q+=i.length}return Og(...ke)};return(q,ke)=>{let Ne;for(c(),V(q);!(Ne=ke($()));)V();return c(),Ne}}const CR={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||Gf(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function z0(r,t,n={}){const i=(l,p,c)=>{const h=CR[p];if("function"!=typeof h)throw new Error(`Invalid validator "${p}", expected function`);const V=r[l];if(!(c&&void 0===V||h(V,r)))throw new Error(`Invalid param ${String(l)}=${V} (${typeof V}), expected ${p}`)};for(const[l,p]of Object.entries(t))i(l,p,!1);for(const[l,p]of Object.entries(n))i(l,p,!0);return r}const zc=BigInt(0),ta=BigInt(1),xm=BigInt(2),jC=BigInt(3),fM=BigInt(4),$C=BigInt(5),KC=BigInt(8);function na(r,t){const n=r%t;return n>=zc?n:t+n}function VC(r,t,n){if(n<=zc||t<zc)throw new Error("Expected power/modulo > 0");if(n===ta)return zc;let i=ta;for(;t>zc;)t&ta&&(i=i*r%n),r=r*r%n,t>>=ta;return i}function Wa(r,t,n){let i=r;for(;t-- >zc;)i*=i,i%=n;return i}function sE(r,t){if(r===zc||t<=zc)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=na(r,t),i=t,l=zc,p=ta,c=ta,h=zc;for(;n!==zc;){const $=i/n,I=i%n,q=l-c*$,ke=p-h*$;i=n,n=I,l=c,p=h,c=q,h=ke}if(i!==ta)throw new Error("invert: does not exist");return na(l,t)}BigInt(9),BigInt(16);const NR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pM(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function aE(r,t,n=!1,i={}){if(r<=zc)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:l,nByteLength:p}=pM(r,t);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=function PR(r){if(r%fM===jC){const t=(r+ta)/fM;return function(i,l){const p=i.pow(l,t);if(!i.eql(i.sqr(p),l))throw new Error("Cannot find square root");return p}}if(r%KC===$C){const t=(r-$C)/KC;return function(i,l){const p=i.mul(l,xm),c=i.pow(p,t),h=i.mul(l,c),V=i.mul(i.mul(h,xm),c),$=i.mul(h,i.sub(V,i.ONE));if(!i.eql(i.sqr($),l))throw new Error("Cannot find square root");return $}}return function OR(r){const t=(r-ta)/xm;let n,i,l;for(n=r-ta,i=0;n%xm===zc;n/=xm,i++);for(l=xm;l<r&&VC(l,t,r)!==r-ta;l++);if(1===i){const c=(r+ta)/fM;return function(V,$){const I=V.pow($,c);if(!V.eql(V.sqr(I),$))throw new Error("Cannot find square root");return I}}const p=(n+ta)/xm;return function(h,V){if(h.pow(V,t)===h.neg(h.ONE))throw new Error("Cannot find square root");let $=i,I=h.pow(h.mul(h.ONE,l),n),q=h.pow(V,p),ke=h.pow(V,n);for(;!h.eql(ke,h.ONE);){if(h.eql(ke,h.ZERO))return h.ZERO;let Ne=1;for(let Ke=h.sqr(ke);Ne<$&&!h.eql(Ke,h.ONE);Ne++)Ke=h.sqr(Ke);const Pe=h.pow(I,ta<<BigInt($-Ne-1));I=h.sqr(Pe),q=h.mul(q,Pe),ke=h.mul(ke,I),$=Ne}return q}}(r)}(r),h=Object.freeze({ORDER:r,BITS:l,BYTES:p,MASK:V0(l),ZERO:zc,ONE:ta,create:V=>na(V,r),isValid:V=>{if("bigint"!=typeof V)throw new Error("Invalid field element: expected bigint, got "+typeof V);return zc<=V&&V<r},is0:V=>V===zc,isOdd:V=>(V&ta)===ta,neg:V=>na(-V,r),eql:(V,$)=>V===$,sqr:V=>na(V*V,r),add:(V,$)=>na(V+$,r),sub:(V,$)=>na(V-$,r),mul:(V,$)=>na(V*$,r),pow:(V,$)=>function hM(r,t,n){if(n<zc)throw new Error("Expected power > 0");if(n===zc)return r.ONE;if(n===ta)return t;let i=r.ONE,l=t;for(;n>zc;)n&ta&&(i=r.mul(i,l)),l=r.sqr(l),n>>=ta;return i}(h,V,$),div:(V,$)=>na(V*sE($,r),r),sqrN:V=>V*V,addN:(V,$)=>V+$,subN:(V,$)=>V-$,mulN:(V,$)=>V*$,inv:V=>sE(V,r),sqrt:i.sqrt||(V=>c(h,V)),invertBatch:V=>function LR(r,t){const n=new Array(t.length),i=t.reduce((p,c,h)=>r.is0(c)?p:(n[h]=p,r.mul(p,c)),r.ONE),l=r.inv(i);return t.reduceRight((p,c,h)=>r.is0(c)?p:(n[h]=r.mul(p,n[h]),r.mul(p,c)),l),n}(h,V),cmov:(V,$,I)=>I?$:V,toBytes:V=>n?uw(V,p):Tp(V,p),fromBytes:V=>{if(V.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${V.length}`);return n?K0(V):Rg(V)}});return Object.freeze(h)}function mM(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function HC(r){const t=mM(r);return t+Math.ceil(t/2)}class GC extends sM{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function TC(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");iM(r.outputLen),iM(r.blockLen)}(t);const i=lw(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,p=new Uint8Array(l);p.set(i.length>l?t.create().update(i).digest():i);for(let c=0;c<p.length;c++)p[c]^=54;this.iHash.update(p),this.oHash=t.create();for(let c=0;c<p.length;c++)p[c]^=106;this.oHash.update(p),p.fill(0)}update(t){return aw(this),this.iHash.update(t),this}digestInto(t){aw(this),Q1(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:l,destroyed:p,blockLen:c,outputLen:h}=this;return t.finished=l,t.destroyed=p,t.blockLen=c,t.outputLen=h,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const cE=(r,t,n)=>new GC(r,t).update(n).digest();cE.create=(r,t)=>new GC(r,t);const yM=BigInt(0),lE=BigInt(1);function gM(r,t){const n=(l,p)=>{const c=p.negate();return l?c:p},i=l=>({windows:Math.ceil(t/l)+1,windowSize:2**(l-1)});return{constTimeNegate:n,unsafeLadder(l,p){let c=r.ZERO,h=l;for(;p>yM;)p&lE&&(c=c.add(h)),h=h.double(),p>>=lE;return c},precomputeWindow(l,p){const{windows:c,windowSize:h}=i(p),V=[];let $=l,I=$;for(let q=0;q<c;q++){I=$,V.push(I);for(let ke=1;ke<h;ke++)I=I.add($),V.push(I);$=I.double()}return V},wNAF(l,p,c){const{windows:h,windowSize:V}=i(l);let $=r.ZERO,I=r.BASE;const q=BigInt(2**l-1),ke=2**l,Ne=BigInt(l);for(let Pe=0;Pe<h;Pe++){const Ke=Pe*V;let rt=Number(c&q);c>>=Ne,rt>V&&(rt-=ke,c+=lE);const ht=Ke,ct=Ke+Math.abs(rt)-1,At=rt<0;0===rt?I=I.add(n(Pe%2!=0,p[ht])):$=$.add(n(At,p[ct]))}return{p:$,f:I}},wNAFCached(l,p,c,h){const V=l._WINDOW_SIZE||1;let $=p.get(l);return $||($=this.precomputeWindow(l,V),1!==V&&p.set(l,h($))),this.wNAF(V,$,c)}}}function fw(r){return function zC(r){z0(r,NR.reduce((i,l)=>(i[l]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),z0(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...pM(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:uB,aT:XC}=N,H0={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=H0;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:uB(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=H0,n="string"==typeof r?XC(r):r;if(!Gf(n))throw new Error("ui8a expected");let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:l,l:p}=H0._parseInt(n.subarray(2)),{d:c,l:h}=H0._parseInt(p);if(h.length)throw new t("Invalid signature: left bytes after parsing");return{r:l,s:c}},hexFromSig(r){const t=$=>8&Number.parseInt($[0],16)?"00"+$:$,n=$=>{const I=$.toString(16);return 1&I.length?`0${I}`:I},i=t(n(r.s)),l=t(n(r.r)),p=i.length/2,c=l.length/2,h=n(p),V=n(c);return`30${n(c+p+4)}02${V}${l}02${h}${i}`}},Lh=BigInt(0),tc=BigInt(1),hw=(BigInt(2),BigInt(3));function ZC(r){const t=function fE(r){const t=fw(r);return z0(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,l=n.BYTES+1,p=2*n.BYTES+1;function h(ln){return na(ln,i)}function V(ln){return sE(ln,i)}const{ProjectivePoint:$,normPrivateKeyToScalar:I,weierstrassEquation:q,isWithinCurveOrder:ke}=function uE(r){const t=function dE(r){const t=fw(r);z0(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:l}=t;if(n){if(!i.eql(l,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Pe,Ke,rt)=>{const ht=Ke.toAffine();return Og(Uint8Array.from([4]),n.toBytes(ht.x),n.toBytes(ht.y))}),l=t.fromBytes||(Pe=>{const Ke=Pe.subarray(1);return{x:n.fromBytes(Ke.subarray(0,n.BYTES)),y:n.fromBytes(Ke.subarray(n.BYTES,2*n.BYTES))}});function p(Pe){const{a:Ke,b:rt}=t,ht=n.sqr(Pe),ct=n.mul(ht,Pe);return n.add(n.add(ct,n.mul(Pe,Ke)),rt)}if(!n.eql(n.sqr(t.Gy),p(t.Gx)))throw new Error("bad generator point: equation left != right");function c(Pe){return"bigint"==typeof Pe&&Lh<Pe&&Pe<t.n}function h(Pe){if(!c(Pe))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function V(Pe){const{allowedPrivateKeyLengths:Ke,nByteLength:rt,wrapPrivateKey:ht,n:ct}=t;if(Ke&&"bigint"!=typeof Pe){if(Gf(Pe)&&(Pe=_m(Pe)),"string"!=typeof Pe||!Ke.includes(Pe.length))throw new Error("Invalid key");Pe=Pe.padStart(2*rt,"0")}let dt;try{dt="bigint"==typeof Pe?Pe:Rg(Sc("private key",Pe,rt))}catch{throw new Error(`private key must be ${rt} bytes, hex or bigint, not ${typeof Pe}`)}return ht&&(dt=na(dt,ct)),h(dt),dt}const $=new Map;function I(Pe){if(!(Pe instanceof q))throw new Error("ProjectivePoint expected")}class q{constructor(Ke,rt,ht){if(this.px=Ke,this.py=rt,this.pz=ht,null==Ke||!n.isValid(Ke))throw new Error("x required");if(null==rt||!n.isValid(rt))throw new Error("y required");if(null==ht||!n.isValid(ht))throw new Error("z required")}static fromAffine(Ke){const{x:rt,y:ht}=Ke||{};if(!Ke||!n.isValid(rt)||!n.isValid(ht))throw new Error("invalid affine point");if(Ke instanceof q)throw new Error("projective point not allowed");const ct=dt=>n.eql(dt,n.ZERO);return ct(rt)&&ct(ht)?q.ZERO:new q(rt,ht,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ke){const rt=n.invertBatch(Ke.map(ht=>ht.pz));return Ke.map((ht,ct)=>ht.toAffine(rt[ct])).map(q.fromAffine)}static fromHex(Ke){const rt=q.fromAffine(l(Sc("pointHex",Ke)));return rt.assertValidity(),rt}static fromPrivateKey(Ke){return q.BASE.multiply(V(Ke))}_setWindowSize(Ke){this._WINDOW_SIZE=Ke,$.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ke,y:rt}=this.toAffine();if(!n.isValid(Ke)||!n.isValid(rt))throw new Error("bad point: x or y not FE");const ht=n.sqr(rt),ct=p(Ke);if(!n.eql(ht,ct))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ke}=this.toAffine();if(n.isOdd)return!n.isOdd(Ke);throw new Error("Field doesn't support isOdd")}equals(Ke){I(Ke);const{px:rt,py:ht,pz:ct}=this,{px:dt,py:At,pz:Pt}=Ke,Ct=n.eql(n.mul(rt,Pt),n.mul(dt,ct)),zt=n.eql(n.mul(ht,Pt),n.mul(At,ct));return Ct&&zt}negate(){return new q(this.px,n.neg(this.py),this.pz)}double(){const{a:Ke,b:rt}=t,ht=n.mul(rt,hw),{px:ct,py:dt,pz:At}=this;let Pt=n.ZERO,Ct=n.ZERO,zt=n.ZERO,Zt=n.mul(ct,ct),xn=n.mul(dt,dt),Cn=n.mul(At,At),Nn=n.mul(ct,dt);return Nn=n.add(Nn,Nn),zt=n.mul(ct,At),zt=n.add(zt,zt),Pt=n.mul(Ke,zt),Ct=n.mul(ht,Cn),Ct=n.add(Pt,Ct),Pt=n.sub(xn,Ct),Ct=n.add(xn,Ct),Ct=n.mul(Pt,Ct),Pt=n.mul(Nn,Pt),zt=n.mul(ht,zt),Cn=n.mul(Ke,Cn),Nn=n.sub(Zt,Cn),Nn=n.mul(Ke,Nn),Nn=n.add(Nn,zt),zt=n.add(Zt,Zt),Zt=n.add(zt,Zt),Zt=n.add(Zt,Cn),Zt=n.mul(Zt,Nn),Ct=n.add(Ct,Zt),Cn=n.mul(dt,At),Cn=n.add(Cn,Cn),Zt=n.mul(Cn,Nn),Pt=n.sub(Pt,Zt),zt=n.mul(Cn,xn),zt=n.add(zt,zt),zt=n.add(zt,zt),new q(Pt,Ct,zt)}add(Ke){I(Ke);const{px:rt,py:ht,pz:ct}=this,{px:dt,py:At,pz:Pt}=Ke;let Ct=n.ZERO,zt=n.ZERO,Zt=n.ZERO;const xn=t.a,Cn=n.mul(t.b,hw);let Nn=n.mul(rt,dt),ir=n.mul(ht,At),Pn=n.mul(ct,Pt),Hn=n.add(rt,ht),ln=n.add(dt,At);Hn=n.mul(Hn,ln),ln=n.add(Nn,ir),Hn=n.sub(Hn,ln),ln=n.add(rt,ct);let vn=n.add(dt,Pt);return ln=n.mul(ln,vn),vn=n.add(Nn,Pn),ln=n.sub(ln,vn),vn=n.add(ht,ct),Ct=n.add(At,Pt),vn=n.mul(vn,Ct),Ct=n.add(ir,Pn),vn=n.sub(vn,Ct),Zt=n.mul(xn,ln),Ct=n.mul(Cn,Pn),Zt=n.add(Ct,Zt),Ct=n.sub(ir,Zt),Zt=n.add(ir,Zt),zt=n.mul(Ct,Zt),ir=n.add(Nn,Nn),ir=n.add(ir,Nn),Pn=n.mul(xn,Pn),ln=n.mul(Cn,ln),ir=n.add(ir,Pn),Pn=n.sub(Nn,Pn),Pn=n.mul(xn,Pn),ln=n.add(ln,Pn),Nn=n.mul(ir,ln),zt=n.add(zt,Nn),Nn=n.mul(vn,ln),Ct=n.mul(Hn,Ct),Ct=n.sub(Ct,Nn),Nn=n.mul(Hn,ir),Zt=n.mul(vn,Zt),Zt=n.add(Zt,Nn),new q(Ct,zt,Zt)}subtract(Ke){return this.add(Ke.negate())}is0(){return this.equals(q.ZERO)}wNAF(Ke){return Ne.wNAFCached(this,$,Ke,rt=>{const ht=n.invertBatch(rt.map(ct=>ct.pz));return rt.map((ct,dt)=>ct.toAffine(ht[dt])).map(q.fromAffine)})}multiplyUnsafe(Ke){const rt=q.ZERO;if(Ke===Lh)return rt;if(h(Ke),Ke===tc)return this;const{endo:ht}=t;if(!ht)return Ne.unsafeLadder(this,Ke);let{k1neg:ct,k1:dt,k2neg:At,k2:Pt}=ht.splitScalar(Ke),Ct=rt,zt=rt,Zt=this;for(;dt>Lh||Pt>Lh;)dt&tc&&(Ct=Ct.add(Zt)),Pt&tc&&(zt=zt.add(Zt)),Zt=Zt.double(),dt>>=tc,Pt>>=tc;return ct&&(Ct=Ct.negate()),At&&(zt=zt.negate()),zt=new q(n.mul(zt.px,ht.beta),zt.py,zt.pz),Ct.add(zt)}multiply(Ke){h(Ke);let ht,ct,rt=Ke;const{endo:dt}=t;if(dt){const{k1neg:At,k1:Pt,k2neg:Ct,k2:zt}=dt.splitScalar(rt);let{p:Zt,f:xn}=this.wNAF(Pt),{p:Cn,f:Nn}=this.wNAF(zt);Zt=Ne.constTimeNegate(At,Zt),Cn=Ne.constTimeNegate(Ct,Cn),Cn=new q(n.mul(Cn.px,dt.beta),Cn.py,Cn.pz),ht=Zt.add(Cn),ct=xn.add(Nn)}else{const{p:At,f:Pt}=this.wNAF(rt);ht=At,ct=Pt}return q.normalizeZ([ht,ct])[0]}multiplyAndAddUnsafe(Ke,rt,ht){const ct=q.BASE,dt=(Pt,Ct)=>Ct!==Lh&&Ct!==tc&&Pt.equals(ct)?Pt.multiply(Ct):Pt.multiplyUnsafe(Ct),At=dt(this,rt).add(dt(Ke,ht));return At.is0()?void 0:At}toAffine(Ke){const{px:rt,py:ht,pz:ct}=this,dt=this.is0();null==Ke&&(Ke=dt?n.ONE:n.inv(ct));const At=n.mul(rt,Ke),Pt=n.mul(ht,Ke),Ct=n.mul(ct,Ke);if(dt)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Ct,n.ONE))throw new Error("invZ was invalid");return{x:At,y:Pt}}isTorsionFree(){const{h:Ke,isTorsionFree:rt}=t;if(Ke===tc)return!0;if(rt)return rt(q,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ke,clearCofactor:rt}=t;return Ke===tc?this:rt?rt(q,this):this.multiplyUnsafe(t.h)}toRawBytes(Ke=!0){return this.assertValidity(),i(q,this,Ke)}toHex(Ke=!0){return _m(this.toRawBytes(Ke))}}q.BASE=new q(t.Gx,t.Gy,n.ONE),q.ZERO=new q(n.ZERO,n.ONE,n.ZERO);const ke=t.nBitLength,Ne=gM(q,t.endo?Math.ceil(ke/2):ke);return{CURVE:t,ProjectivePoint:q,normPrivateKeyToScalar:V,weierstrassEquation:p,isWithinCurveOrder:c}}({...t,toBytes(ln,vn,wn){const Un=vn.toAffine(),Sn=n.toBytes(Un.x),Vn=Og;return wn?Vn(Uint8Array.from([vn.hasEvenY()?2:3]),Sn):Vn(Uint8Array.from([4]),Sn,n.toBytes(Un.y))},fromBytes(ln){const vn=ln.length,wn=ln[0],Un=ln.subarray(1);if(vn!==l||2!==wn&&3!==wn){if(vn===p&&4===wn)return{x:n.fromBytes(Un.subarray(0,n.BYTES)),y:n.fromBytes(Un.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${vn} was invalid. Expected ${l} compressed bytes or ${p} uncompressed bytes`)}{const Sn=Rg(Un);if(!function c(ln){return Lh<ln&&ln<n.ORDER}(Sn))throw new Error("Point is not on curve");const Vn=q(Sn);let lr=n.sqrt(Vn);return!(1&~wn)!=((lr&tc)===tc)&&(lr=n.neg(lr)),{x:Sn,y:lr}}}}),Ne=ln=>_m(Tp(ln,t.nByteLength));function Pe(ln){return ln>i>>tc}const rt=(ln,vn,wn)=>Rg(ln.slice(vn,wn));class ht{constructor(vn,wn,Un){this.r=vn,this.s=wn,this.recovery=Un,this.assertValidity()}static fromCompact(vn){const wn=t.nByteLength;return vn=Sc("compactSignature",vn,2*wn),new ht(rt(vn,0,wn),rt(vn,wn,2*wn))}static fromDER(vn){const{r:wn,s:Un}=H0.toSig(Sc("DER",vn));return new ht(wn,Un)}assertValidity(){if(!ke(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!ke(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(vn){return new ht(this.r,this.s,vn)}recoverPublicKey(vn){const{r:wn,s:Un,recovery:Sn}=this,Vn=zt(Sc("msgHash",vn));if(null==Sn||![0,1,2,3].includes(Sn))throw new Error("recovery id invalid");const lr=2===Sn||3===Sn?wn+t.n:wn;if(lr>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const mn=$.fromHex((1&Sn?"03":"02")+Ne(lr)),dr=V(lr),_r=h(-Vn*dr),Zn=h(Un*dr),On=$.BASE.multiplyAndAddUnsafe(mn,_r,Zn);if(!On)throw new Error("point at infinify");return On.assertValidity(),On}hasHighS(){return Pe(this.s)}normalizeS(){return this.hasHighS()?new ht(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return dw(this.toDERHex())}toDERHex(){return H0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return dw(this.toCompactHex())}toCompactHex(){return Ne(this.r)+Ne(this.s)}}const ct={isValidPrivateKey(ln){try{return I(ln),!0}catch{return!1}},normPrivateKeyToScalar:I,randomPrivateKey:()=>{const ln=HC(t.n);return function WC(r,t,n=!1){const i=r.length,l=mM(t),p=HC(t);if(i<16||i<p||i>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${i}`);const h=na(n?Rg(r):K0(r),t-ta)+ta;return n?uw(h,l):Tp(h,l)}(t.randomBytes(ln),t.n)},precompute:(ln=8,vn=$.BASE)=>(vn._setWindowSize(ln),vn.multiply(BigInt(3)),vn)};function At(ln){const vn=Gf(ln),wn="string"==typeof ln,Un=(vn||wn)&&ln.length;return vn?Un===l||Un===p:wn?Un===2*l||Un===2*p:ln instanceof $}const Ct=t.bits2int||function(ln){const vn=Rg(ln),wn=8*ln.length-t.nBitLength;return wn>0?vn>>BigInt(wn):vn},zt=t.bits2int_modN||function(ln){return h(Ct(ln))},Zt=V0(t.nBitLength);function xn(ln){if("bigint"!=typeof ln)throw new Error("bigint expected");if(!(Lh<=ln&&ln<Zt))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Tp(ln,t.nByteLength)}const Nn={lowS:t.lowS,prehash:!1},ir={lowS:t.lowS,prehash:!1};return $.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function dt(ln,vn=!0){return $.fromPrivateKey(ln).toRawBytes(vn)},getSharedSecret:function Pt(ln,vn,wn=!0){if(At(ln))throw new Error("first arg must be private key");if(!At(vn))throw new Error("second arg must be public key");return $.fromHex(vn).multiply(I(ln)).toRawBytes(wn)},sign:function Pn(ln,vn,wn=Nn){const{seed:Un,k2sig:Sn}=function Cn(ln,vn,wn=Nn){if(["recovered","canonical"].some(mr=>mr in wn))throw new Error("sign() legacy options not supported");const{hash:Un,randomBytes:Sn}=t;let{lowS:Vn,prehash:lr,extraEntropy:cr}=wn;null==Vn&&(Vn=!0),ln=Sc("msgHash",ln),lr&&(ln=Sc("prehashed msgHash",Un(ln)));const mn=zt(ln),dr=I(vn),_r=[xn(dr),xn(mn)];if(null!=cr){const mr=!0===cr?Sn(n.BYTES):cr;_r.push(Sc("extraEntropy",mr))}const Zn=Og(..._r),On=mn;return{seed:Zn,k2sig:function qn(mr){const Rr=Ct(mr);if(!ke(Rr))return;const Nr=V(Rr),Sr=$.BASE.multiply(Rr).toAffine(),Tr=h(Sr.x);if(Tr===Lh)return;const fi=h(Nr*h(On+Tr*dr));if(fi===Lh)return;let Zs=(Sr.x===Tr?0:2)|Number(Sr.y&tc),yr=fi;return Vn&&Pe(fi)&&(yr=function Ke(ln){return Pe(ln)?h(-ln):ln}(fi),Zs^=1),new ht(Tr,yr,Zs)}}}(ln,vn,wn);return FC(t.hash.outputLen,t.nByteLength,t.hmac)(Un,Sn)},verify:function Hn(ln,vn,wn,Un=ir){const Sn=ln;if(vn=Sc("msgHash",vn),wn=Sc("publicKey",wn),"strict"in Un)throw new Error("options.strict was renamed to lowS");const{lowS:Vn,prehash:lr}=Un;let cr,mn;try{if("string"==typeof Sn||Gf(Sn))try{cr=ht.fromDER(Sn)}catch(Sr){if(!(Sr instanceof H0.Err))throw Sr;cr=ht.fromCompact(Sn)}else{if("object"!=typeof Sn||"bigint"!=typeof Sn.r||"bigint"!=typeof Sn.s)throw new Error("PARSE");{const{r:Sr,s:Tr}=Sn;cr=new ht(Sr,Tr)}}mn=$.fromHex(wn)}catch(Sr){if("PARSE"===Sr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Vn&&cr.hasHighS())return!1;lr&&(vn=t.hash(vn));const{r:dr,s:_r}=cr,Zn=zt(vn),On=V(_r),qn=h(Zn*On),mr=h(dr*On),Rr=$.BASE.multiplyAndAddUnsafe(mn,qn,mr)?.toAffine();return!!Rr&&h(Rr.x)===dr},ProjectivePoint:$,Signature:ht,utils:ct}}function KR(r){return{hash:r,hmac:(t,...n)=>cE(r,t,tE(...n)),randomBytes:rE}}function YC(r,t){const n=i=>ZC({...r,...KR(i)});return Object.freeze({...n(t),create:n})}BigInt(4);const vM=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bM=BigInt(1),pE=BigInt(2),JC=(r,t)=>(r+t/pE)/t;const wM=aE(vM,void 0,void 0,{sqrt:function mE(r){const t=vM,n=BigInt(3),i=BigInt(6),l=BigInt(11),p=BigInt(22),c=BigInt(23),h=BigInt(44),V=BigInt(88),$=r*r*r%t,I=$*$*r%t,q=Wa(I,n,t)*I%t,ke=Wa(q,n,t)*I%t,Ne=Wa(ke,pE,t)*$%t,Pe=Wa(Ne,l,t)*Ne%t,Ke=Wa(Pe,p,t)*Pe%t,rt=Wa(Ke,h,t)*Ke%t,ht=Wa(rt,V,t)*rt%t,ct=Wa(ht,h,t)*Ke%t,dt=Wa(ct,n,t)*I%t,At=Wa(dt,c,t)*Pe%t,Pt=Wa(At,i,t)*$%t,Ct=Wa(Pt,pE,t);if(!wM.eql(wM.sqr(Ct),r))throw new Error("Cannot find square root");return Ct}}),td=YC({a:BigInt(0),b:BigInt(7),Fp:wM,n:hE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=hE,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-bM*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),l=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),p=n,c=BigInt("0x100000000000000000000000000000000"),h=JC(p*r,t),V=JC(-i*r,t);let $=na(r-h*n-V*l,t),I=na(-h*i-V*p,t);const q=$>c,ke=I>c;if(q&&($=t-$),ke&&(I=t-I),$>c||I>c)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:q,k1:$,k2neg:ke,k2:I}}}},wm);BigInt(0);const GR="urn:jwk:";function ra({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,er.E8)(n);const i=function WR(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const l=Object.keys(i).sort(),p={};for(const c of l)p[c]=t(i[c]);return p}return i},n=t(r);return JSON.stringify(n)}(n),l=er.U$.string(i).toUint8Array(),p=yield lM.digest({data:l});return er.U$.uint8Array(p).toBase64Url()})}function Ng(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function AM(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function Lg(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function i3(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var kl=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class nc{static adjustSignatureToLowS({signature:t}){return kl(this,void 0,void 0,function*(){const n=td.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return kl(this,void 0,void 0,function*(){const n=yield nc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield ra({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return kl(this,void 0,void 0,function*(){const n=yield nc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield ra({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return kl(this,void 0,void 0,function*(){return td.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return kl(this,void 0,void 0,function*(){const n=yield nc.privateKeyToBytes({privateKey:t}),i=yield nc.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"secp256k1",x:er.U$.uint8Array(i.x).toBase64Url(),y:er.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield ra({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return kl(this,void 0,void 0,function*(){return td.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return kl(this,void 0,void 0,function*(){return td.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return kl(this,void 0,void 0,function*(){const t=td.utils.randomPrivateKey(),n=yield nc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ra({jwk:n}),n})}static getPublicKey({key:t}){var n;return kl(this,void 0,void 0,function*(){if(!Ng(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield ra({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return kl(this,void 0,void 0,function*(){if(!Ng(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return kl(this,void 0,void 0,function*(){if(!AM(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=er.U$.base64Url(t.x).toUint8Array(),l=er.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return kl(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield nc.privateKeyToBytes({privateKey:t}),l=yield nc.publicKeyToBytes({publicKey:n});return td.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return kl(this,void 0,void 0,function*(){const i=yield nc.privateKeyToBytes({privateKey:n}),l=wm(t);return td.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return kl(this,void 0,void 0,function*(){return td.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return kl(this,void 0,void 0,function*(){try{td.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return kl(this,void 0,void 0,function*(){const l=yield nc.publicKeyToBytes({publicKey:t}),p=wm(i);return td.verify(n,p,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return kl(this,void 0,void 0,function*(){32===t.byteLength&&(t=td.getPublicKey(t));const n=td.ProjectivePoint.fromHex(t);return{x:Tp(n.x,32),y:Tp(n.y,32)}})}}const YR=aE(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),_u=YC({a:YR.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:YR,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},wm);var Ga=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Oa{static adjustSignatureToLowS({signature:t}){return Ga(this,void 0,void 0,function*(){const n=_u.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Ga(this,void 0,void 0,function*(){const n=yield Oa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield ra({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Ga(this,void 0,void 0,function*(){const n=yield Oa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield ra({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Ga(this,void 0,void 0,function*(){return _u.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Ga(this,void 0,void 0,function*(){const n=yield Oa.privateKeyToBytes({privateKey:t}),i=yield Oa.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"P-256",x:er.U$.uint8Array(i.x).toBase64Url(),y:er.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield ra({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return Ga(this,void 0,void 0,function*(){return _u.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Ga(this,void 0,void 0,function*(){return _u.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Ga(this,void 0,void 0,function*(){const t=_u.utils.randomPrivateKey(),n=yield Oa.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ra({jwk:n}),n})}static getPublicKey({key:t}){var n;return Ga(this,void 0,void 0,function*(){if(!Ng(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield ra({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return Ga(this,void 0,void 0,function*(){if(!Ng(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Ga(this,void 0,void 0,function*(){if(!AM(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=er.U$.base64Url(t.x).toUint8Array(),l=er.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Ga(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Oa.privateKeyToBytes({privateKey:t}),l=yield Oa.publicKeyToBytes({publicKey:n});return _u.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return Ga(this,void 0,void 0,function*(){const i=yield Oa.privateKeyToBytes({privateKey:n}),l=wm(t);return _u.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Ga(this,void 0,void 0,function*(){return _u.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Ga(this,void 0,void 0,function*(){try{_u.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Ga(this,void 0,void 0,function*(){const l=yield Oa.publicKeyToBytes({publicKey:t}),p=wm(i);return _u.verify(n,p,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Ga(this,void 0,void 0,function*(){32===t.byteLength&&(t=_u.getPublicKey(t));const n=_u.ProjectivePoint.fromHex(t);return{x:Tp(n.x,32),y:Tp(n.y,32)}})}}var G0=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class a3 extends iE{computePublicKey({key:t}){return G0(this,void 0,void 0,function*(){if(!Ng(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield nc.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Oa.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return G0(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield nc.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield Oa.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return G0(this,void 0,void 0,function*(){if(!Ng(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield nc.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Oa.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return G0(this,void 0,void 0,function*(){if(!Ng(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield nc.sign({key:t,data:n});case"P-256":return yield Oa.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return G0(this,void 0,void 0,function*(){if(!AM(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield nc.verify({key:t,signature:n,data:i});case"P-256":return yield Oa.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}const Ug=BigInt(2**32-1),pw=BigInt(32);function mw(r,t=!1){return t?{h:Number(r&Ug),l:Number(r>>pw&Ug)}:{h:0|Number(r>>pw&Ug),l:0|Number(r&Ug)}}const Vo_split=function wB(r,t=!1){let n=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let l=0;l<r.length;l++){const{h:p,l:c}=mw(r[l],t);[n[l],i[l]]=[p,c]}return[n,i]},Vo_shrSH=(r,t,n)=>r>>>n,Vo_shrSL=(r,t,n)=>r<<32-n|t>>>n,Vo_rotrSH=(r,t,n)=>r>>>n|t<<32-n,Vo_rotrSL=(r,t,n)=>r<<32-n|t>>>n,Vo_rotrBH=(r,t,n)=>r<<64-n|t>>>n-32,Vo_rotrBL=(r,t,n)=>r>>>n-32|t<<64-n,Vo_add=function DM(r,t,n,i){const l=(t>>>0)+(i>>>0);return{h:r+n+(l/2**32|0)|0,l:0|l}},Vo_add3L=(r,t,n)=>(r>>>0)+(t>>>0)+(n>>>0),Vo_add3H=(r,t,n,i)=>t+n+i+(r/2**32|0)|0,Vo_add4L=(r,t,n,i)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0),Vo_add4H=(r,t,n,i,l)=>t+n+i+l+(r/2**32|0)|0,Vo_add5H=(r,t,n,i,l,p)=>t+n+i+l+p+(r/2**32|0)|0,Vo_add5L=(r,t,n,i,l)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(l>>>0),[MB,AB]=Vo_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),va=new Uint32Array(80),hf=new Uint32Array(80);class X0 extends j0{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:i,Bl:l,Ch:p,Cl:c,Dh:h,Dl:V,Eh:$,El:I,Fh:q,Fl:ke,Gh:Ne,Gl:Pe,Hh:Ke,Hl:rt}=this;return[t,n,i,l,p,c,h,V,$,I,q,ke,Ne,Pe,Ke,rt]}set(t,n,i,l,p,c,h,V,$,I,q,ke,Ne,Pe,Ke,rt){this.Ah=0|t,this.Al=0|n,this.Bh=0|i,this.Bl=0|l,this.Ch=0|p,this.Cl=0|c,this.Dh=0|h,this.Dl=0|V,this.Eh=0|$,this.El=0|I,this.Fh=0|q,this.Fl=0|ke,this.Gh=0|Ne,this.Gl=0|Pe,this.Hh=0|Ke,this.Hl=0|rt}process(t,n){for(let dt=0;dt<16;dt++,n+=4)va[dt]=t.getUint32(n),hf[dt]=t.getUint32(n+=4);for(let dt=16;dt<80;dt++){const At=0|va[dt-15],Pt=0|hf[dt-15],Ct=Vo_rotrSH(At,Pt,1)^Vo_rotrSH(At,Pt,8)^Vo_shrSH(At,Pt,7),zt=Vo_rotrSL(At,Pt,1)^Vo_rotrSL(At,Pt,8)^Vo_shrSL(At,Pt,7),Zt=0|va[dt-2],xn=0|hf[dt-2],Cn=Vo_rotrSH(Zt,xn,19)^Vo_rotrBH(Zt,xn,61)^Vo_shrSH(Zt,xn,6),Nn=Vo_rotrSL(Zt,xn,19)^Vo_rotrBL(Zt,xn,61)^Vo_shrSL(Zt,xn,6),ir=Vo_add4L(zt,Nn,hf[dt-7],hf[dt-16]),Pn=Vo_add4H(ir,Ct,Cn,va[dt-7],va[dt-16]);va[dt]=0|Pn,hf[dt]=0|ir}let{Ah:i,Al:l,Bh:p,Bl:c,Ch:h,Cl:V,Dh:$,Dl:I,Eh:q,El:ke,Fh:Ne,Fl:Pe,Gh:Ke,Gl:rt,Hh:ht,Hl:ct}=this;for(let dt=0;dt<80;dt++){const At=Vo_rotrSH(q,ke,14)^Vo_rotrSH(q,ke,18)^Vo_rotrBH(q,ke,41),Pt=Vo_rotrSL(q,ke,14)^Vo_rotrSL(q,ke,18)^Vo_rotrBL(q,ke,41),Ct=q&Ne^~q&Ke,Zt=Vo_add5L(ct,Pt,ke&Pe^~ke&rt,AB[dt],hf[dt]),xn=Vo_add5H(Zt,ht,At,Ct,MB[dt],va[dt]),Cn=0|Zt,Nn=Vo_rotrSH(i,l,28)^Vo_rotrBH(i,l,34)^Vo_rotrBH(i,l,39),ir=Vo_rotrSL(i,l,28)^Vo_rotrBL(i,l,34)^Vo_rotrBL(i,l,39),Pn=i&p^i&h^p&h,Hn=l&c^l&V^c&V;ht=0|Ke,ct=0|rt,Ke=0|Ne,rt=0|Pe,Ne=0|q,Pe=0|ke,({h:q,l:ke}=Vo_add(0|$,0|I,0|xn,0|Cn)),$=0|h,I=0|V,h=0|p,V=0|c,p=0|i,c=0|l;const ln=Vo_add3L(Cn,ir,Hn);i=Vo_add3H(ln,xn,Nn,Pn),l=0|ln}({h:i,l}=Vo_add(0|this.Ah,0|this.Al,0|i,0|l)),({h:p,l:c}=Vo_add(0|this.Bh,0|this.Bl,0|p,0|c)),({h,l:V}=Vo_add(0|this.Ch,0|this.Cl,0|h,0|V)),({h:$,l:I}=Vo_add(0|this.Dh,0|this.Dl,0|$,0|I)),({h:q,l:ke}=Vo_add(0|this.Eh,0|this.El,0|q,0|ke)),({h:Ne,l:Pe}=Vo_add(0|this.Fh,0|this.Fl,0|Ne,0|Pe)),({h:Ke,l:rt}=Vo_add(0|this.Gh,0|this.Gl,0|Ke,0|rt)),({h:ht,l:ct}=Vo_add(0|this.Hh,0|this.Hl,0|ht,0|ct)),this.set(i,l,p,c,h,V,$,I,q,ke,Ne,Pe,Ke,rt,ht,ct)}roundClean(){va.fill(0),hf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const p3=nE(()=>new X0),Xf=BigInt(0),Jd=BigInt(1),yw=BigInt(2),y3=BigInt(8),g3={zip215:!0};function CM(r){const t=function sO(r){const t=fw(r);return z0(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(r),{Fp:n,n:i,prehash:l,hash:p,randomBytes:c,nByteLength:h,h:V}=t,$=yw<<BigInt(8*h)-Jd,I=n.create,q=t.uvRatio||((Un,Sn)=>{try{return{isValid:!0,value:n.sqrt(Un*n.inv(Sn))}}catch{return{isValid:!1,value:Xf}}}),ke=t.adjustScalarBytes||(Un=>Un),Ne=t.domain||((Un,Sn,Vn)=>{if(Sn.length||Vn)throw new Error("Contexts/pre-hash are not supported");return Un}),Pe=Un=>"bigint"==typeof Un&&Xf<Un,Ke=(Un,Sn)=>Pe(Un)&&Pe(Sn)&&Un<Sn,rt=Un=>Un===Xf||Ke(Un,$);function ht(Un,Sn){if(Ke(Un,Sn))return Un;throw new Error(`Expected valid scalar < ${Sn}, got ${typeof Un} ${Un}`)}function ct(Un){return Un===Xf?Un:ht(Un,i)}const dt=new Map;function At(Un){if(!(Un instanceof Pt))throw new Error("ExtendedPoint expected")}class Pt{constructor(Sn,Vn,lr,cr){if(this.ex=Sn,this.ey=Vn,this.ez=lr,this.et=cr,!rt(Sn))throw new Error("x required");if(!rt(Vn))throw new Error("y required");if(!rt(lr))throw new Error("z required");if(!rt(cr))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Sn){if(Sn instanceof Pt)throw new Error("extended point not allowed");const{x:Vn,y:lr}=Sn||{};if(!rt(Vn)||!rt(lr))throw new Error("invalid affine point");return new Pt(Vn,lr,Jd,I(Vn*lr))}static normalizeZ(Sn){const Vn=n.invertBatch(Sn.map(lr=>lr.ez));return Sn.map((lr,cr)=>lr.toAffine(Vn[cr])).map(Pt.fromAffine)}_setWindowSize(Sn){this._WINDOW_SIZE=Sn,dt.delete(this)}assertValidity(){const{a:Sn,d:Vn}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:lr,ey:cr,ez:mn,et:dr}=this,_r=I(lr*lr),Zn=I(cr*cr),On=I(mn*mn),qn=I(On*On),mr=I(_r*Sn);if(I(On*I(mr+Zn))!==I(qn+I(Vn*I(_r*Zn))))throw new Error("bad point: equation left != right (1)");if(I(lr*cr)!==I(mn*dr))throw new Error("bad point: equation left != right (2)")}equals(Sn){At(Sn);const{ex:Vn,ey:lr,ez:cr}=this,{ex:mn,ey:dr,ez:_r}=Sn,Zn=I(Vn*_r),On=I(mn*cr),qn=I(lr*_r),mr=I(dr*cr);return Zn===On&&qn===mr}is0(){return this.equals(Pt.ZERO)}negate(){return new Pt(I(-this.ex),this.ey,this.ez,I(-this.et))}double(){const{a:Sn}=t,{ex:Vn,ey:lr,ez:cr}=this,mn=I(Vn*Vn),dr=I(lr*lr),_r=I(yw*I(cr*cr)),Zn=I(Sn*mn),On=Vn+lr,qn=I(I(On*On)-mn-dr),mr=Zn+dr,Rr=mr-_r,Nr=Zn-dr,Sr=I(qn*Rr),Tr=I(mr*Nr),fi=I(qn*Nr),Zs=I(Rr*mr);return new Pt(Sr,Tr,Zs,fi)}add(Sn){At(Sn);const{a:Vn,d:lr}=t,{ex:cr,ey:mn,ez:dr,et:_r}=this,{ex:Zn,ey:On,ez:qn,et:mr}=Sn;if(Vn===BigInt(-1)){const Zo=I((mn-cr)*(On+Zn)),Yo=I((mn+cr)*(On-Zn)),Ys=I(Yo-Zo);if(Ys===Xf)return this.double();const cs=I(dr*yw*mr),Di=I(_r*yw*qn),ls=Di+cs,sd=Yo+Zo,Ac=Di-cs,Zc=I(ls*Ys),jF=I(sd*Ac),Nw=I(ls*Ac),$F=I(Ys*sd);return new Pt(Zc,jF,$F,Nw)}const Rr=I(cr*Zn),Nr=I(mn*On),Sr=I(_r*lr*mr),Tr=I(dr*qn),fi=I((cr+mn)*(Zn+On)-Rr-Nr),Zs=Tr-Sr,yr=Tr+Sr,Ri=I(Nr-Vn*Rr),Bi=I(fi*Zs),bi=I(yr*Ri),Bs=I(fi*Ri),od=I(Zs*yr);return new Pt(Bi,bi,od,Bs)}subtract(Sn){return this.add(Sn.negate())}wNAF(Sn){return Zt.wNAFCached(this,dt,Sn,Pt.normalizeZ)}multiply(Sn){const{p:Vn,f:lr}=this.wNAF(ht(Sn,i));return Pt.normalizeZ([Vn,lr])[0]}multiplyUnsafe(Sn){let Vn=ct(Sn);return Vn===Xf?zt:this.equals(zt)||Vn===Jd?this:this.equals(Ct)?this.wNAF(Vn).p:Zt.unsafeLadder(this,Vn)}isSmallOrder(){return this.multiplyUnsafe(V).is0()}isTorsionFree(){return Zt.unsafeLadder(this,i).is0()}toAffine(Sn){const{ex:Vn,ey:lr,ez:cr}=this,mn=this.is0();null==Sn&&(Sn=mn?y3:n.inv(cr));const dr=I(Vn*Sn),_r=I(lr*Sn),Zn=I(cr*Sn);if(mn)return{x:Xf,y:Jd};if(Zn!==Jd)throw new Error("invZ was invalid");return{x:dr,y:_r}}clearCofactor(){const{h:Sn}=t;return Sn===Jd?this:this.multiplyUnsafe(Sn)}static fromHex(Sn,Vn=!1){const{d:lr,a:cr}=t,mn=n.BYTES,dr=(Sn=Sc("pointHex",Sn,mn)).slice(),_r=Sn[mn-1];dr[mn-1]=-129&_r;const Zn=K0(dr);Zn===Xf||ht(Zn,Vn?$:n.ORDER);const On=I(Zn*Zn),qn=I(On-Jd),mr=I(lr*On-cr);let{isValid:Rr,value:Nr}=q(qn,mr);if(!Rr)throw new Error("Point.fromHex: invalid y coordinate");const Sr=(Nr&Jd)===Jd,Tr=!!(128&_r);if(!Vn&&Nr===Xf&&Tr)throw new Error("Point.fromHex: x=0 and x_0=1");return Tr!==Sr&&(Nr=I(-Nr)),Pt.fromAffine({x:Nr,y:Zn})}static fromPrivateKey(Sn){return Nn(Sn).point}toRawBytes(){const{x:Sn,y:Vn}=this.toAffine(),lr=uw(Vn,n.BYTES);return lr[lr.length-1]|=Sn&Jd?128:0,lr}toHex(){return _m(this.toRawBytes())}}Pt.BASE=new Pt(t.Gx,t.Gy,Jd,I(t.Gx*t.Gy)),Pt.ZERO=new Pt(Xf,Jd,Jd,Xf);const{BASE:Ct,ZERO:zt}=Pt,Zt=gM(Pt,8*h);function xn(Un){return na(Un,i)}function Cn(Un){return xn(K0(Un))}function Nn(Un){const Sn=h;Un=Sc("private key",Un,Sn);const Vn=Sc("hashed private key",p(Un),2*Sn),lr=ke(Vn.slice(0,Sn)),cr=Vn.slice(Sn,2*Sn),mn=Cn(lr),dr=Ct.multiply(mn),_r=dr.toRawBytes();return{head:lr,prefix:cr,scalar:mn,point:dr,pointBytes:_r}}function Pn(Un=new Uint8Array,...Sn){const Vn=Og(...Sn);return Cn(p(Ne(Vn,Sc("context",Un),!!l)))}const ln=g3;return Ct._setWindowSize(8),{CURVE:t,getPublicKey:function ir(Un){return Nn(Un).pointBytes},sign:function Hn(Un,Sn,Vn={}){Un=Sc("message",Un),l&&(Un=l(Un));const{prefix:lr,scalar:cr,pointBytes:mn}=Nn(Sn),dr=Pn(Vn.context,lr,Un),_r=Ct.multiply(dr).toRawBytes(),On=xn(dr+Pn(Vn.context,_r,mn,Un)*cr);return ct(On),Sc("result",Og(_r,uw(On,n.BYTES)),2*h)},verify:function vn(Un,Sn,Vn,lr=ln){const{context:cr,zip215:mn}=lr,dr=n.BYTES;Un=Sc("signature",Un,2*dr),Sn=Sc("message",Sn),l&&(Sn=l(Sn));const _r=K0(Un.slice(dr,2*dr));let Zn,On,qn;try{Zn=Pt.fromHex(Vn,mn),On=Pt.fromHex(Un.slice(0,dr),mn),qn=Ct.multiplyUnsafe(_r)}catch{return!1}if(!mn&&Zn.isSmallOrder())return!1;const mr=Pn(cr,On.toRawBytes(),Zn.toRawBytes(),Sn);return On.add(Zn.multiplyUnsafe(mr)).subtract(qn).clearCofactor().equals(Pt.ZERO)},ExtendedPoint:Pt,utils:{getExtendedPublicKey:Nn,randomPrivateKey:()=>c(n.BYTES),precompute:(Un=8,Sn=Pt.BASE)=>(Sn._setWindowSize(Un),Sn.multiply(BigInt(3)),Sn)}}}const Fg=BigInt(0),kM=BigInt(1),Ip=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),gw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Zf=(BigInt(0),BigInt(1)),RM=BigInt(2),TB=BigInt(5),aO=BigInt(10),cO=BigInt(20),lO=BigInt(40),dO=BigInt(80);function OM(r){const t=Ip,i=r*r%t*r%t,l=Wa(i,RM,t)*i%t,p=Wa(l,Zf,t)*r%t,c=Wa(p,TB,t)*p%t,h=Wa(c,aO,t)*c%t,V=Wa(h,cO,t)*h%t,$=Wa(V,lO,t)*V%t,I=Wa($,dO,t)*$%t,q=Wa(I,dO,t)*$%t,ke=Wa(q,aO,t)*c%t;return{pow_p_5_8:Wa(ke,RM,t)*r%t,b2:i}}function PM(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const ci=aE(Ip,void 0,!0),bE={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ci,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:p3,randomBytes:rE,adjustScalarBytes:PM,uvRatio:function w3(r,t){const n=Ip,i=na(t*t*t,n),l=na(i*i*t,n);let c=na(r*i*OM(r*l).pow_p_5_8,n);const h=na(t*c*c,n),V=c,$=na(c*gw,n),I=h===r,q=h===na(-r,n),ke=h===na(-r*gw,n);return I&&(c=V),(q||ke)&&(c=$),((r,t)=>(na(r,t)&ta)===ta)(c,n)&&(c=na(-c,n)),{isValid:I||q,value:c}}},Hc=CM(bE);const vw=function vE(r){const t=function v3(r){return z0(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}(r),{P:n}=t,i=dt=>na(dt,n),l=t.montgomeryBits,p=Math.ceil(l/8),c=t.nByteLength,h=t.adjustScalarBytes||(dt=>dt),V=t.powPminus2||(dt=>VC(dt,n-BigInt(2),n));function $(dt,At,Pt){const Ct=i(dt*(At-Pt));return[At=i(At-Ct),Pt=i(Pt+Ct)]}function I(dt){if("bigint"==typeof dt&&Fg<=dt&&dt<n)return dt;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const q=(t.a-BigInt(2))/BigInt(4);function Ne(dt){return uw(i(dt),p)}function rt(dt,At){const Pt=function Pe(dt){const At=Sc("u coordinate",dt,p);return 32===c&&(At[31]&=127),K0(At)}(At),Ct=function Ke(dt){const At=Sc("scalar",dt),Pt=At.length;if(Pt!==p&&Pt!==c)throw new Error(`Expected ${p} or ${c} bytes, got ${Pt}`);return K0(h(At))}(dt),zt=function ke(dt,At){const Pt=I(dt),Ct=I(At),zt=Pt;let Pn,Zt=kM,xn=Fg,Cn=Pt,Nn=kM,ir=Fg;for(let ln=BigInt(l-1);ln>=Fg;ln--){const vn=Ct>>ln&kM;ir^=vn,Pn=$(ir,Zt,Cn),Zt=Pn[0],Cn=Pn[1],Pn=$(ir,xn,Nn),xn=Pn[0],Nn=Pn[1],ir=vn;const wn=Zt+xn,Un=i(wn*wn),Sn=Zt-xn,Vn=i(Sn*Sn),lr=Un-Vn,cr=Cn+Nn,dr=i((Cn-Nn)*wn),_r=i(cr*Sn),Zn=dr+_r,On=dr-_r;Cn=i(Zn*Zn),Nn=i(zt*i(On*On)),Zt=i(Un*Vn),xn=i(lr*(Un+i(q*lr)))}Pn=$(ir,Zt,Cn),Zt=Pn[0],Cn=Pn[1],Pn=$(ir,xn,Nn),xn=Pn[0],Nn=Pn[1];const Hn=V(xn);return i(Zt*Hn)}(Pt,Ct);if(zt===Fg)throw new Error("Invalid private or public key received");return Ne(zt)}const ht=Ne(t.Gu);function ct(dt){return rt(dt,ht)}return{scalarMult:rt,scalarMultBase:ct,getSharedSecret:(dt,At)=>rt(dt,At),getPublicKey:dt=>ct(dt),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:ht}}({P:Ip,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{const t=Ip,{pow_p_5_8:n,b2:i}=OM(r);return na(Wa(n,BigInt(3),t)*i,t)},adjustScalarBytes:PM,randomBytes:rE}),fO=(ci.ORDER+BigInt(3))/BigInt(8);ci.pow(RM,fO),ci.sqrt(ci.neg(ci.ONE)),BigInt(5),BigInt(8),BigInt(486662),function FR(r,t){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const n=r.sqrt(t);r.isOdd(n)&&r.neg(n)}(ci,ci.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Eu=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class rc{static bytesToPrivateKey({privateKeyBytes:t}){return Eu(this,void 0,void 0,function*(){const n=Hc.getPublicKey(t),i={crv:"Ed25519",d:er.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:er.U$.uint8Array(n).toBase64Url()};return i.kid=yield ra({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Eu(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:er.U$.uint8Array(t).toBase64Url()};return n.kid=yield ra({jwk:n}),n})}static computePublicKey({key:t}){return Eu(this,void 0,void 0,function*(){const n=yield rc.privateKeyToBytes({privateKey:t}),i=Hc.getPublicKey(n),l={kty:"OKP",crv:"Ed25519",x:er.U$.uint8Array(i).toBase64Url()};return l.kid=yield ra({jwk:l}),l})}static convertPrivateKeyToX25519({privateKey:t}){return Eu(this,void 0,void 0,function*(){const i=function E3(r){const t=bE.hash(r.subarray(0,32));return bE.adjustScalarBytes(t).subarray(0,32)}(yield rc.privateKeyToBytes({privateKey:t})),l=vw.getPublicKey(i),p={kty:"OKP",crv:"X25519",d:er.U$.uint8Array(i).toBase64Url(),x:er.U$.uint8Array(l).toBase64Url()};return p.kid=yield ra({jwk:p}),p})}static convertPublicKeyToX25519({publicKey:t}){return Eu(this,void 0,void 0,function*(){const n=yield rc.publicKeyToBytes({publicKey:t});if(!(yield rc.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const l=function uO(r){const{y:t}=Hc.ExtendedPoint.fromHex(r),n=BigInt(1);return ci.toBytes(ci.create((n+t)*ci.inv(n-t)))}(n),p={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(l).toBase64Url()};return p.kid=yield ra({jwk:p}),p})}static generateKey(){return Eu(this,void 0,void 0,function*(){const t=Hc.utils.randomPrivateKey(),n=yield rc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ra({jwk:n}),n})}static getPublicKey({key:t}){var n;return Eu(this,void 0,void 0,function*(){if(!Lg(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield ra({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return Eu(this,void 0,void 0,function*(){if(!Lg(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Eu(this,void 0,void 0,function*(){if(!i3(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return er.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return Eu(this,void 0,void 0,function*(){const i=yield rc.privateKeyToBytes({privateKey:t});return Hc.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return Eu(this,void 0,void 0,function*(){try{Hc.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Eu(this,void 0,void 0,function*(){const l=yield rc.publicKeyToBytes({publicKey:t});return Hc.verify(n,i,l)})}}var jg=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},Mm=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const FM={Ed25519:{implementation:class T3 extends iE{computePublicKey({key:t}){return jg(this,void 0,void 0,function*(){if(!Lg(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield rc.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return jg(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield rc.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return jg(this,void 0,void 0,function*(){if(!Lg(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield rc.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return jg(this,void 0,void 0,function*(){if(!Lg(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield rc.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return jg(this,void 0,void 0,function*(){if(!i3(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield rc.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:a3,names:["ES256K","secp256k1"]},secp256r1:{implementation:a3,names:["ES256","secp256r1"]},"SHA-256":{implementation:class AR extends iE{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield lM.digest({data:n})})}},names:["SHA-256"]}};class Yf{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new er.ny}digest({algorithm:t,data:n}){return Mm(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return Mm(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return Mm(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const l=`${GR}${i.kid}`;return yield this._keyStore.set(l,i),l})}getKeyUri({key:t}){return Mm(this,void 0,void 0,function*(){const n=yield ra({jwk:t});return`${GR}${n}`})}getPublicKey({keyUri:t}){return Mm(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return Mm(this,void 0,void 0,function*(){if(!function o3(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield ra({jwk:i}));const l=yield this.getKeyUri({key:i});return yield this._keyStore.set(l,i),l})}sign({keyUri:t,data:n}){return Mm(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),l=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:l}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return Mm(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=FM[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const l in FM){const p=FM[l];if(n&&p.names.includes(n))return l;if(i&&p.names.includes(i))return l}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return Mm(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function xO(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const Z0=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));function EE(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function k3(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function R3(r){if("string"==typeof r)r=k3(r);else{if(!EE(r))throw new Error("expected Uint8Array, got "+typeof r);r=r.slice()}return r}function xE(r,t){if(!EE(r))throw new Error("Uint8Array expected");if("number"==typeof t&&r.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function SE(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const l=BigInt(32),p=BigInt(4294967295),c=Number(n>>l&p),h=Number(n&p),$=i?0:4;r.setUint32(t+(i?4:0),c,i),r.setUint32(t+$,h,i)}function $g(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`wrong positive integer: ${r}`)}function $M(r){if("boolean"!=typeof r)throw new Error(`boolean expected, not ${r}`)}function Kg(r,...t){if(!function P3(r){return null!=r&&"object"==typeof r&&(r instanceof Uint8Array||"Uint8Array"===r.constructor.name)}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function B3(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}var Tm=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class bw{static bytesToPrivateKey({privateKeyBytes:t}){return Tm(this,void 0,void 0,function*(){const n=vw.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n).toBase64Url()};return i.kid=yield ra({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Tm(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(t).toBase64Url()};return n.kid=yield ra({jwk:n}),n})}static computePublicKey({key:t}){return Tm(this,void 0,void 0,function*(){const n=yield bw.privateKeyToBytes({privateKey:t}),i=vw.getPublicKey(n),l={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(i).toBase64Url()};return l.kid=yield ra({jwk:l}),l})}static generateKey(){return Tm(this,void 0,void 0,function*(){const t=vw.utils.randomPrivateKey(),n=yield bw.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ra({jwk:n}),n})}static getPublicKey({key:t}){var n;return Tm(this,void 0,void 0,function*(){if(!Lg(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield ra({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return Tm(this,void 0,void 0,function*(){if(!Lg(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Tm(this,void 0,void 0,function*(){if(!i3(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return er.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Tm(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield bw.privateKeyToBytes({privateKey:t}),l=yield bw.publicKeyToBytes({publicKey:n});return vw.getSharedSecret(i,l)})}}const Id=(r,t)=>255&r[t++]|(255&r[t++])<<8;class f7{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,xE(t=R3(t),32);const n=Id(t,0),i=Id(t,2),l=Id(t,4),p=Id(t,6),c=Id(t,8),h=Id(t,10),V=Id(t,12),$=Id(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|i<<3),this.r[2]=7939&(i>>>10|l<<6),this.r[3]=8191&(l>>>7|p<<9),this.r[4]=255&(p>>>4|c<<12),this.r[5]=c>>>1&8190,this.r[6]=8191&(c>>>14|h<<2),this.r[7]=8065&(h>>>11|V<<5),this.r[8]=8191&(V>>>8|$<<8),this.r[9]=$>>>5&127;for(let I=0;I<8;I++)this.pad[I]=Id(t,16+2*I)}process(t,n,i=!1){const l=i?0:2048,{h:p,r:c}=this,h=c[0],V=c[1],$=c[2],I=c[3],q=c[4],ke=c[5],Ne=c[6],Pe=c[7],Ke=c[8],rt=c[9],ht=Id(t,n+0),ct=Id(t,n+2),dt=Id(t,n+4),At=Id(t,n+6),Pt=Id(t,n+8),Ct=Id(t,n+10),zt=Id(t,n+12),Zt=Id(t,n+14);let xn=p[0]+(8191&ht),Cn=p[1]+(8191&(ht>>>13|ct<<3)),Nn=p[2]+(8191&(ct>>>10|dt<<6)),ir=p[3]+(8191&(dt>>>7|At<<9)),Pn=p[4]+(8191&(At>>>4|Pt<<12)),Hn=p[5]+(Pt>>>1&8191),ln=p[6]+(8191&(Pt>>>14|Ct<<2)),vn=p[7]+(8191&(Ct>>>11|zt<<5)),wn=p[8]+(8191&(zt>>>8|Zt<<8)),Un=p[9]+(Zt>>>5|l),Sn=0,Vn=Sn+xn*h+Cn*(5*rt)+Nn*(5*Ke)+ir*(5*Pe)+Pn*(5*Ne);Sn=Vn>>>13,Vn&=8191,Vn+=Hn*(5*ke)+ln*(5*q)+vn*(5*I)+wn*(5*$)+Un*(5*V),Sn+=Vn>>>13,Vn&=8191;let lr=Sn+xn*V+Cn*h+Nn*(5*rt)+ir*(5*Ke)+Pn*(5*Pe);Sn=lr>>>13,lr&=8191,lr+=Hn*(5*Ne)+ln*(5*ke)+vn*(5*q)+wn*(5*I)+Un*(5*$),Sn+=lr>>>13,lr&=8191;let cr=Sn+xn*$+Cn*V+Nn*h+ir*(5*rt)+Pn*(5*Ke);Sn=cr>>>13,cr&=8191,cr+=Hn*(5*Pe)+ln*(5*Ne)+vn*(5*ke)+wn*(5*q)+Un*(5*I),Sn+=cr>>>13,cr&=8191;let mn=Sn+xn*I+Cn*$+Nn*V+ir*h+Pn*(5*rt);Sn=mn>>>13,mn&=8191,mn+=Hn*(5*Ke)+ln*(5*Pe)+vn*(5*Ne)+wn*(5*ke)+Un*(5*q),Sn+=mn>>>13,mn&=8191;let dr=Sn+xn*q+Cn*I+Nn*$+ir*V+Pn*h;Sn=dr>>>13,dr&=8191,dr+=Hn*(5*rt)+ln*(5*Ke)+vn*(5*Pe)+wn*(5*Ne)+Un*(5*ke),Sn+=dr>>>13,dr&=8191;let _r=Sn+xn*ke+Cn*q+Nn*I+ir*$+Pn*V;Sn=_r>>>13,_r&=8191,_r+=Hn*h+ln*(5*rt)+vn*(5*Ke)+wn*(5*Pe)+Un*(5*Ne),Sn+=_r>>>13,_r&=8191;let Zn=Sn+xn*Ne+Cn*ke+Nn*q+ir*I+Pn*$;Sn=Zn>>>13,Zn&=8191,Zn+=Hn*V+ln*h+vn*(5*rt)+wn*(5*Ke)+Un*(5*Pe),Sn+=Zn>>>13,Zn&=8191;let On=Sn+xn*Pe+Cn*Ne+Nn*ke+ir*q+Pn*I;Sn=On>>>13,On&=8191,On+=Hn*$+ln*V+vn*h+wn*(5*rt)+Un*(5*Ke),Sn+=On>>>13,On&=8191;let qn=Sn+xn*Ke+Cn*Pe+Nn*Ne+ir*ke+Pn*q;Sn=qn>>>13,qn&=8191,qn+=Hn*I+ln*$+vn*V+wn*h+Un*(5*rt),Sn+=qn>>>13,qn&=8191;let mr=Sn+xn*rt+Cn*Ke+Nn*Pe+ir*Ne+Pn*ke;Sn=mr>>>13,mr&=8191,mr+=Hn*q+ln*I+vn*$+wn*V+Un*h,Sn+=mr>>>13,mr&=8191,Sn=(Sn<<2)+Sn|0,Sn=Sn+Vn|0,Vn=8191&Sn,Sn>>>=13,lr+=Sn,p[0]=Vn,p[1]=lr,p[2]=cr,p[3]=mn,p[4]=dr,p[5]=_r,p[6]=Zn,p[7]=On,p[8]=qn,p[9]=mr}finalize(){const{h:t,pad:n}=this,i=new Uint16Array(10);let l=t[1]>>>13;t[1]&=8191;for(let h=2;h<10;h++)t[h]+=l,l=t[h]>>>13,t[h]&=8191;t[0]+=5*l,l=t[0]>>>13,t[0]&=8191,t[1]+=l,l=t[1]>>>13,t[1]&=8191,t[2]+=l,i[0]=t[0]+5,l=i[0]>>>13,i[0]&=8191;for(let h=1;h<10;h++)i[h]=t[h]+l,l=i[h]>>>13,i[h]&=8191;i[9]-=8192;let p=(1^l)-1;for(let h=0;h<10;h++)i[h]&=p;p=~p;for(let h=0;h<10;h++)t[h]=t[h]&p|i[h];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let c=t[0]+n[0];t[0]=65535&c;for(let h=1;h<8;h++)c=(t[h]+n[h]|0)+(c>>>16)|0,t[h]=65535&c}update(t){B3(this);const{buffer:n,blockLen:i}=this,l=(t=R3(t)).length;for(let p=0;p<l;){const c=Math.min(i-this.pos,l-p);if(c!==i)n.set(t.subarray(p,p+c),this.pos),this.pos+=c,p+=c,this.pos===i&&(this.process(n,0,!1),this.pos=0);else for(;i<=l-p;p+=i)this.process(t,p)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){B3(this),function o(r,t){Kg(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:l}=this;if(l){for(n[l++]=1;l<16;l++)n[l]=0;this.process(n,0,!0)}this.finalize();let p=0;for(let c=0;c<8;c++)t[p++]=i[c]>>>0,t[p++]=i[c]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}}const p7=function h7(r){const t=(i,l)=>r(l).update(R3(i)).digest(),n=r(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>r(i),t}(r=>new f7(r)),m7=k3("expand 16-byte k"),y7=k3("expand 32-byte k"),g7=Z0(m7),v7=Z0(y7);function xi(r,t){return r<<t|r>>>32-t}function RO(r){return r.byteOffset%4==0}const GB=2**32-1,XB=new Uint32Array;function KM(r,t){const{allowShortKeys:n,extendNonceFn:i,counterLength:l,counterRight:p,rounds:c}=function VB(r,t){if(void 0!==t&&("object"!=typeof t||!(r=>"[object Object]"===Object.prototype.toString.call(r)&&r.constructor===Object)(t)))throw new Error("options must be object or undefined");return Object.assign(r,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof r)throw new Error("core must be a function");return $g(l),$g(c),$M(p),$M(n),(h,V,$,I,q=0)=>{Kg(h),Kg(V),Kg($);const ke=$.length;if(I||(I=new Uint8Array(ke)),Kg(I),$g(q),q<0||q>=GB)throw new Error("arx: counter overflow");if(I.length<ke)throw new Error(`arx: output (${I.length}) is shorter than data (${ke})`);const Ne=[];let Ke,rt,Pe=h.length;if(32===Pe)Ke=h.slice(),Ne.push(Ke),rt=v7;else{if(16!==Pe||!n)throw new Error(`arx: invalid 32-byte key, got length=${Pe}`);Ke=new Uint8Array(32),Ke.set(h),Ke.set(h,16),rt=g7,Ne.push(Ke)}RO(V)||(V=V.slice(),Ne.push(V));const ht=Z0(Ke);if(i){if(24!==V.length)throw new Error("arx: extended nonce must be 24 bytes");i(rt,ht,Z0(V.subarray(0,16)),ht),V=V.subarray(16)}const ct=16-l;if(ct!==V.length)throw new Error(`arx: nonce must be ${ct} or 16 bytes`);if(12!==ct){const At=new Uint8Array(12);At.set(V,p?0:12-V.length),Ne.push(V=At)}const dt=Z0(V);for(function w7(r,t,n,i,l,p,c,h){const V=l.length,$=new Uint8Array(64),I=Z0($),q=RO(l)&&RO(p),ke=q?Z0(l):XB,Ne=q?Z0(p):XB;for(let Pe=0;Pe<V;c++){if(r(t,n,i,I,c,h),c>=GB)throw new Error("arx: counter overflow");const Ke=Math.min(64,V-Pe);if(q&&64===Ke){const rt=Pe/4;if(Pe%4!=0)throw new Error("arx: invalid block position");for(let ct,ht=0;ht<16;ht++)ct=rt+ht,Ne[ct]=ke[ct]^I[ht];Pe+=64}else{for(let ht,rt=0;rt<Ke;rt++)ht=Pe+rt,p[ht]=l[ht]^$[rt];Pe+=Ke}}}(r,rt,ht,dt,$,I,q,c);Ne.length>0;)Ne.pop().fill(0);return I}}function VM(r,t,n,i,l,p=20){let c=r[0],h=r[1],V=r[2],$=r[3],I=t[0],q=t[1],ke=t[2],Ne=t[3],Pe=t[4],Ke=t[5],rt=t[6],ht=t[7],ct=l,dt=n[0],At=n[1],Pt=n[2],Ct=c,zt=h,Zt=V,xn=$,Cn=I,Nn=q,ir=ke,Pn=Ne,Hn=Pe,ln=Ke,vn=rt,wn=ht,Un=ct,Sn=dt,Vn=At,lr=Pt;for(let mn=0;mn<p;mn+=2)Ct=Ct+Cn|0,Un=xi(Un^Ct,16),Hn=Hn+Un|0,Cn=xi(Cn^Hn,12),Ct=Ct+Cn|0,Un=xi(Un^Ct,8),Hn=Hn+Un|0,Cn=xi(Cn^Hn,7),zt=zt+Nn|0,Sn=xi(Sn^zt,16),ln=ln+Sn|0,Nn=xi(Nn^ln,12),zt=zt+Nn|0,Sn=xi(Sn^zt,8),ln=ln+Sn|0,Nn=xi(Nn^ln,7),Zt=Zt+ir|0,Vn=xi(Vn^Zt,16),vn=vn+Vn|0,ir=xi(ir^vn,12),Zt=Zt+ir|0,Vn=xi(Vn^Zt,8),vn=vn+Vn|0,ir=xi(ir^vn,7),xn=xn+Pn|0,lr=xi(lr^xn,16),wn=wn+lr|0,Pn=xi(Pn^wn,12),xn=xn+Pn|0,lr=xi(lr^xn,8),wn=wn+lr|0,Pn=xi(Pn^wn,7),Ct=Ct+Nn|0,lr=xi(lr^Ct,16),vn=vn+lr|0,Nn=xi(Nn^vn,12),Ct=Ct+Nn|0,lr=xi(lr^Ct,8),vn=vn+lr|0,Nn=xi(Nn^vn,7),zt=zt+ir|0,Un=xi(Un^zt,16),wn=wn+Un|0,ir=xi(ir^wn,12),zt=zt+ir|0,Un=xi(Un^zt,8),wn=wn+Un|0,ir=xi(ir^wn,7),Zt=Zt+Pn|0,Sn=xi(Sn^Zt,16),Hn=Hn+Sn|0,Pn=xi(Pn^Hn,12),Zt=Zt+Pn|0,Sn=xi(Sn^Zt,8),Hn=Hn+Sn|0,Pn=xi(Pn^Hn,7),xn=xn+Cn|0,Vn=xi(Vn^xn,16),ln=ln+Vn|0,Cn=xi(Cn^ln,12),xn=xn+Cn|0,Vn=xi(Vn^xn,8),ln=ln+Vn|0,Cn=xi(Cn^ln,7);let cr=0;i[cr++]=c+Ct|0,i[cr++]=h+zt|0,i[cr++]=V+Zt|0,i[cr++]=$+xn|0,i[cr++]=I+Cn|0,i[cr++]=q+Nn|0,i[cr++]=ke+ir|0,i[cr++]=Ne+Pn|0,i[cr++]=Pe+Hn|0,i[cr++]=Ke+ln|0,i[cr++]=rt+vn|0,i[cr++]=ht+wn|0,i[cr++]=ct+Un|0,i[cr++]=dt+Sn|0,i[cr++]=At+Vn|0,i[cr++]=Pt+lr|0}const E7=KM(VM,{counterRight:!1,counterLength:4,allowShortKeys:!1}),x7=KM(VM,{counterRight:!1,counterLength:8,extendNonceFn:function _7(r,t,n,i){let l=r[0],p=r[1],c=r[2],h=r[3],V=t[0],$=t[1],I=t[2],q=t[3],ke=t[4],Ne=t[5],Pe=t[6],Ke=t[7],rt=n[0],ht=n[1],ct=n[2],dt=n[3];for(let Pt=0;Pt<20;Pt+=2)l=l+V|0,rt=xi(rt^l,16),ke=ke+rt|0,V=xi(V^ke,12),l=l+V|0,rt=xi(rt^l,8),ke=ke+rt|0,V=xi(V^ke,7),p=p+$|0,ht=xi(ht^p,16),Ne=Ne+ht|0,$=xi($^Ne,12),p=p+$|0,ht=xi(ht^p,8),Ne=Ne+ht|0,$=xi($^Ne,7),c=c+I|0,ct=xi(ct^c,16),Pe=Pe+ct|0,I=xi(I^Pe,12),c=c+I|0,ct=xi(ct^c,8),Pe=Pe+ct|0,I=xi(I^Pe,7),h=h+q|0,dt=xi(dt^h,16),Ke=Ke+dt|0,q=xi(q^Ke,12),h=h+q|0,dt=xi(dt^h,8),Ke=Ke+dt|0,q=xi(q^Ke,7),l=l+$|0,dt=xi(dt^l,16),Pe=Pe+dt|0,$=xi($^Pe,12),l=l+$|0,dt=xi(dt^l,8),Pe=Pe+dt|0,$=xi($^Pe,7),p=p+I|0,rt=xi(rt^p,16),Ke=Ke+rt|0,I=xi(I^Ke,12),p=p+I|0,rt=xi(rt^p,8),Ke=Ke+rt|0,I=xi(I^Ke,7),c=c+q|0,ht=xi(ht^c,16),ke=ke+ht|0,q=xi(q^ke,12),c=c+q|0,ht=xi(ht^c,8),ke=ke+ht|0,q=xi(q^ke,7),h=h+V|0,ct=xi(ct^h,16),Ne=Ne+ct|0,V=xi(V^Ne,12),h=h+V|0,ct=xi(ct^h,8),Ne=Ne+ct|0,V=xi(V^Ne,7);let At=0;i[At++]=l,i[At++]=p,i[At++]=c,i[At++]=h,i[At++]=rt,i[At++]=ht,i[At++]=ct,i[At++]=dt},allowShortKeys:!1}),S7=new Uint8Array(16),ZB=(r,t)=>{r.update(t);const n=t.length%16;n&&r.update(S7.subarray(n))},M7=new Uint8Array(32);function YB(r,t,n,i,l){const p=r(t,n,M7),c=p7.create(p);l&&ZB(c,l),ZB(c,i);const h=new Uint8Array(16),V=(r=>new DataView(r.buffer,r.byteOffset,r.byteLength))(h);SE(V,0,BigInt(l?l.length:0),!0),SE(V,8,BigInt(i.length),!0),c.update(h);const $=c.digest();return p.fill(0),$}const JB=r=>(t,n,i)=>(xE(t,32),xE(n),{encrypt:(p,c)=>{const h=p.length,V=h+16;c?xE(c,V):c=new Uint8Array(V),r(t,n,p,c,1);const $=YB(r,t,n,c.subarray(0,-16),i);return c.set($,h),c},decrypt:(p,c)=>{const h=p.length,V=h-16;if(h<16)throw new Error("encrypted data must be at least 16 bytes");c?xE(c,V):c=new Uint8Array(V);const $=p.subarray(0,-16);if(!function zB(r,t){if(r.length!==t.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^t[i];return 0===n}(p.subarray(-16),YB(r,t,n,$,i)))throw new Error("invalid tag");return r(t,n,$,c,1),c}});function Cp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function BO({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(NO))&&void 0!==n?n:[]),Object.keys(sw).forEach(l=>{var p,c;i.push(...null!==(c=null===(p=r[l])||void 0===p?void 0:p.filter(NO))&&void 0!==c?c:[])}),i}function C7({didDocument:r,methodId:t}){const n=[];return Object.keys(sw).forEach(i=>{if(Array.isArray(r[i])){const l=r[i],p=Cp(t);l.some(h=>{const V=Cp(h)===p,$=NO(h)&&Cp(h.id)===p;return V||$})&&n.push(i)}}),n}function NO(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function qB({keyBytes:r,multicodecCode:t,multicodecName:n}){const i=er.Gs.addPrefix({code:t,data:r,name:n}),l=er.U$.uint8Array(i).toBase58Btc();return er.U$.base58Btc(l).toMultibase()}function QB({multibaseKeyId:r}){try{const t=er.U$.multibase(r).toBase58Btc(),n=er.U$.base58Btc(t).toUint8Array(),{code:i,data:l,name:p}=er.Gs.removePrefix({prefixedData:n});return{keyBytes:l,multicodecCode:i,multicodecName:p}}catch{throw new Gi(Xi.InvalidDid,`Invalid multibase identifier: ${r}`)}}JB(E7),JB(x7);var WM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class zg{constructor({uri:t,document:n,metadata:i,keyManager:l}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=l}export(){return WM(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),p=yield this.keyManager.exportKey({keyUri:l});n.push(Object.assign({},p))}t.privateKeys=n}return t})}getSigner(t){return WM(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(V=>{var $,I;return Cp(V.id)===(null!==($=Cp(t?.methodId))&&void 0!==$?$:Cp(null===(I=this.document.assertionMethod)||void 0===I?void 0:I[0]))});if(!i||!i.publicKeyJwk)throw new Gi(Xi.InternalError,"A verification method intended for signing could not be determined from the DID Document");const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),p=yield this.keyManager.getPublicKey({keyUri:l}),c=this.keyManager;return{algorithm:xO(p),keyId:i.id,sign(V){return WM(this,arguments,void 0,function*({data:$}){return yield c.sign({data:$,keyUri:l})})},verify(V){return WM(this,arguments,void 0,function*({data:$,signature:I}){return yield c.verify({data:$,key:p,signature:I})})}}})}static import(t){return WM(this,arguments,void 0,function*({portableDid:n,keyManager:i=new Yf}){var l;const p=BO({didDocument:n.document});if(0===p.length)throw new Gi(Xi.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let h of null!==(l=n.privateKeys)&&void 0!==l?l:[])yield i.importKey({key:h});for(let h of p){if(!h.publicKeyJwk)throw new Error(`Verification method '${h.id}' does not contain a public key in JWK format`);const V=yield i.getKeyUri({key:h.publicKeyJwk});yield i.getPublicKey({keyUri:V})}return new zg({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var L3=E(2198),ME=E(49402),eN=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class LO{static getSigningMethod(t){return eN(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return eN(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var nd=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},tN=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const nN="https://diddht.tbddev.org",Hg=7200,xu=",";var rN=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(rN||{}),mf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(mf||{}),iN=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(iN||{});const oN={Ed25519:mf.Ed25519,ES256K:mf.secp256k1,ES256:mf.secp256r1,"P-256":mf.secp256r1,secp256k1:mf.secp256k1,secp256r1:mf.secp256r1,X25519:mf.X25519},sN={[mf.Ed25519]:"Ed25519",[mf.secp256k1]:"ES256K",[mf.secp256r1]:"ES256",[mf.X25519]:"ECDH-ES+A256KW"};let UO=(()=>{class r extends LO{static create(){return nd(this,arguments,void 0,function*({keyManager:n=new Yf,options:i={}}={}){var l,p,c,h,V,$,I,q,ke,Ne,Pe;if(null!==(l=i.verificationMethods)&&void 0!==l&&l.some(Ct=>!(Ct.algorithm in oN)))throw new Error("One or more verification method algorithms are not supported");const Ke=null===(p=i.verificationMethods)||void 0===p?void 0:p.filter(Ct=>"id"in Ct).map(Ct=>Ct.id);if(Ke&&Ke.length!==new Set(Ke).size)throw new Error("One or more verification method IDs are not unique");if(null!==(c=i.services)&&void 0!==c&&c.some(Ct=>!Ct.id||!Ct.type||!Ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const rt=yield n.generateKey({algorithm:"Ed25519"}),ht=yield n.getPublicKey({keyUri:rt}),ct=yield al.identityKeyToIdentifier({identityKey:ht}),dt=Object.assign(Object.assign({id:ct},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),At=[...null!==(h=i.verificationMethods)&&void 0!==h?h:[]];At?.some(Ct=>{var zt;return"0"===(null===(zt=Ct.id)||void 0===zt?void 0:zt.split("#").pop())})||At.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Ct of At){const zt=Ct.id&&"0"===Ct.id.split("#").pop()?rt:yield n.generateKey({algorithm:Ct.algorithm}),Zt=yield n.getPublicKey({keyUri:zt});let xn=null!==($=null!==(V=Ct.id)&&void 0!==V?V:Zt.kid)&&void 0!==$?$:yield ra({jwk:Zt});xn=`${ct}#${Cp(xn)}`,null!==(I=dt.verificationMethod)&&void 0!==I||(dt.verificationMethod=[]),dt.verificationMethod.push({id:xn,type:"JsonWebKey",controller:null!==(q=Ct.controller)&&void 0!==q?q:ct,publicKeyJwk:Zt});for(const Cn of null!==(ke=Ct.purposes)&&void 0!==ke?ke:[])dt[Cn]||(dt[Cn]=[]),dt[Cn].push(xn)}null===(Ne=i.services)||void 0===Ne||Ne.forEach(Ct=>{var zt;null!==(zt=dt.service)&&void 0!==zt||(dt.service=[]),Ct.id=`${ct}#${Ct.id.split("#").pop()}`,dt.service.push(Ct)});const Pt=new zg({uri:ct,document:dt,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Pe=i.publish)||void 0===Pe||Pe){const Ct=yield r.publish({did:Pt,gatewayUri:i.gatewayUri});Pt.metadata=Ct.didDocumentMetadata}return Pt})}static import(n){return nd(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Yf}){var p;const c=Os.parse(i.uri);if(c?.method!==r.methodName)throw new Gi(Xi.MethodNotSupported,"Method not supported");const h=yield zg.import({portableDid:i,keyManager:l});if(null===(p=h.document.verificationMethod)||void 0===p||!p.some(V=>{var $;return"0"===(null===($=V.id)||void 0===$?void 0:$.split("#").pop())}))throw new Gi(Xi.InvalidDidDocument,"DID document must contain an Identity Key");return h})}static getSigningMethod(n){return nd(this,arguments,void 0,function*({didDocument:i,methodId:l="#0"}){var p;const c=Os.parse(i.id);if(c&&c.method!==this.methodName)throw new Gi(Xi.MethodNotSupported,`Method not supported: ${c.method}`);const h=null===(p=i.verificationMethod)||void 0===p?void 0:p.find(V=>{var $,I;return Cp(V.id)===(null!==($=Cp(l))&&void 0!==$?$:Cp(null===(I=i.assertionMethod)||void 0===I?void 0:I[0]))});if(!h||!h.publicKeyJwk)throw new Gi(Xi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return h})}static publish(n){return nd(this,arguments,void 0,function*({did:i,gatewayUri:l=nN}){return yield Y0.put({did:i,gatewayUri:l})})}static resolve(n){return nd(this,arguments,void 0,function*(i,l={}){var p;const c=null!==(p=l?.gatewayUri)&&void 0!==p?p:nN;try{yield al.identifierToIdentityKey({didUri:i});const{didDocument:h,didDocumentMetadata:V}=yield Y0.get({didUri:i,gatewayUri:c});return Object.assign(Object.assign({},Wf),{didDocument:h,didDocumentMetadata:V})}catch(h){if(!(h instanceof Gi))throw new Error(h);return Object.assign(Object.assign({},Wf),{didResolutionMetadata:Object.assign({error:h.code},h.message&&{errorMessage:h.message})})}})}}return r.methodName="dht",r})();class Y0{static get(t){return nd(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const l=al.identifierToIdentityKeyBytes({didUri:n}),p=yield Y0.pkarrGet({gatewayUri:i,publicKeyBytes:l}),c=yield al.parseBep44GetMessage({bep44Message:p}),h=yield Y0.fromDnsPacket({didUri:n,dnsPacket:c});return h.didDocumentMetadata.versionId=p.seq.toString(),h})}static put(t){return nd(this,arguments,void 0,function*({did:n,gatewayUri:i}){const l=yield Y0.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),p=yield al.createBep44PutMessage({dnsPacket:l,publicKeyBytes:al.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),c=yield Y0.pkarrPut({gatewayUri:i,bep44Message:p});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:c,versionId:p.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return nd(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const l=er.U$.uint8Array(i).toBase32Z(),p=new URL(l,n).href;let c;try{if(c=yield fetch(p,{method:"GET"}),!c.ok)throw new Gi(Xi.NotFound,`Pkarr record not found for: ${l}`)}catch($){throw $ instanceof Gi?$:new Gi(Xi.InternalError,`Failed to fetch Pkarr record: ${$.message}`)}const h=yield c.arrayBuffer();if(!h)throw new Gi(Xi.NotFound,`Pkarr record not found for: ${l}`);if(h.byteLength<72)throw new Gi(Xi.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${h.byteLength}`);if(h.byteLength>1072)throw new Gi(Xi.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${h.byteLength}`);return{k:i,seq:Number(new DataView(h).getBigUint64(64)),sig:new Uint8Array(h,0,64),v:new Uint8Array(h,72)}})}static pkarrPut(t){return nd(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const l=er.U$.uint8Array(i.k).toBase32Z(),p=new URL(l,n).href,c=new Uint8Array(i.v.length+72);let h;c.set(i.sig,0),new DataView(c.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),c.set(i.v,i.sig.length+8);try{h=yield fetch(p,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:c})}catch(V){throw new Gi(Xi.InternalError,`Failed to put Pkarr record for identifier ${l}: ${V.message}`)}return h.ok})}static fromDnsPacket(t){return nd(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var l,p,c;const h={id:n},V={published:!0},$=new Map;for(const I of null!==(l=i?.answers)&&void 0!==l?l:[]){if("TXT"!==I.type)continue;const q=I.name.split(".")[0].substring(1);switch(!0){case q.startsWith("aka"):{const ke=al.parseTxtDataToString(I.data);h.alsoKnownAs=ke.split(xu);break}case q.startsWith("cnt"):{const ke=al.parseTxtDataToString(I.data);h.controller=ke.includes(xu)?ke.split(xu):ke;break}case q.startsWith("k"):{const{id:ke,t:Ne,k:Pe,c:Ke,a:rt}=al.parseTxtDataToObject(I.data),ht=er.U$.base64Url(Pe).toUint8Array(),ct=mf[Number(Ne)];let dt=yield al.keyConverter(ct).bytesToPublicKey({publicKeyBytes:ht});dt.alg=rt||sN[Number(Ne)];const At="k0"===q?"0":void 0!==ke?ke:yield ra({jwk:dt});null!==(p=h.verificationMethod)&&void 0!==p||(h.verificationMethod=[]);const Pt=`${n}#${At}`;h.verificationMethod.push({id:Pt,type:"JsonWebKey",controller:Ke??n,publicKeyJwk:dt}),$.set(q,Pt);break}case q.startsWith("s"):{const ke=al.parseTxtDataToObject(I.data),{id:Ne,t:Pe,se:Ke}=ke,rt=tN(ke,["id","t","se"]),ht=Ke.includes(xu)?Ke.split(xu):[Ke],ct=Object.fromEntries(Object.entries(rt).map(([dt,At])=>[dt,At.includes(xu)?At.split(xu):At]));null!==(c=h.service)&&void 0!==c||(h.service=[]),h.service.push(Object.assign(Object.assign({},ct),{id:`${n}#${Ne}`,type:Pe,serviceEndpoint:ht}));break}case q.startsWith("typ"):{const{id:ke}=al.parseTxtDataToObject(I.data);V.types=ke.split(xu).map(Ne=>Number(Ne));break}case q.startsWith("did"):{const ke=ct=>ct.split(xu).map(dt=>$.get(dt)).filter(dt=>"string"==typeof dt),{auth:Ne,asm:Pe,del:Ke,inv:rt,agm:ht}=al.parseTxtDataToObject(I.data);Ne&&(h.authentication=ke(Ne)),Pe&&(h.assertionMethod=ke(Pe)),Ke&&(h.capabilityDelegation=ke(Ke)),rt&&(h.capabilityInvocation=ke(rt)),ht&&(h.keyAgreement=ke(ht));break}}}return{didDocument:h,didDocumentMetadata:V,didResolutionMetadata:{}}})}static toDnsPacket(t){return nd(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:l,previousDidProof:p}){var c,h,V,$,I;const q=[],ke=[],Ne=new Map,Pe=[],Ke=[];if(void 0!==p){const{signature:ct,previousDid:dt}=p;yield al.validatePreviousDidProof({newDid:n.id,previousDidProof:p}),q.push({type:"TXT",name:"_prv._did.",ttl:Hg,data:`id=${dt};s=${ct}`})}if(n.alsoKnownAs&&q.push({type:"TXT",name:"_aka._did.",ttl:Hg,data:n.alsoKnownAs.join(xu)}),n.controller){const ct=Array.isArray(n.controller)?n.controller.join(xu):n.controller;q.push({type:"TXT",name:"_cnt._did.",ttl:Hg,data:ct})}for(const[ct,dt]of null!==(h=null===(c=n.verificationMethod)||void 0===c?void 0:c.entries())&&void 0!==h?h:[]){const At=`k${ct}`;Ke.push(At);let Pt=dt.id.split("#").pop();Ne.set(Pt,At);const Ct=dt.publicKeyJwk;if(!Ct?.crv||!(Ct.crv in oN))throw new Gi(Xi.InvalidPublicKeyType,`Verification method '${dt.id}' contains an unsupported key type: ${null!==(V=Ct?.crv)&&void 0!==V?V:"undefined"}`);const zt=mf[Ct.crv],Zt=yield al.keyConverter(Ct.crv).publicKeyToBytes({publicKey:Ct}),Cn=[`t=${zt}`,`k=${er.U$.uint8Array(Zt).toBase64Url()}`];"0"!==Pt&&(yield ra({jwk:Ct}))!==Pt&&Cn.unshift(`id=${Pt}`),Ct.alg!==sN[zt]&&Cn.push(`a=${Ct.alg}`),dt.controller!==n.id&&Cn.push(`c=${dt.controller}`),q.push({type:"TXT",name:`_${At}._did.`,ttl:Hg,data:Cn.join(";")})}null===($=n.service)||void 0===$||$.forEach((ct,dt)=>{const At=`s${dt}`;Pe.push(At);let{id:Pt,type:Ct,serviceEndpoint:zt}=ct,Zt=tN(ct,["id","type","serviceEndpoint"]);Pt=Cp(Pt),zt=Array.isArray(zt)?zt.join(","):zt;const Cn=Object.entries(Object.assign({id:Pt,t:Ct,se:zt},Zt)).map(([ir,Pn])=>`${ir}=${Pn}`).join(";"),Nn=al.chunkDataIfNeeded(Cn);q.push({type:"TXT",name:`_${At}._did.`,ttl:Hg,data:Nn})});const rt=["v=0"];if(Ke.length&&rt.push(`vm=${Ke.join(xu)}`),Object.keys(sw).forEach(ct=>{var dt;const At=null===(dt=n[ct])||void 0===dt?void 0:dt.map(Pt=>Ne.get(Pt.split("#").pop()));At&&rt.push(`${iN[ct]}=${At.join(xu)}`)}),Pe.length&&rt.push(`svc=${Pe.join(xu)}`),null!==(I=i.types)&&void 0!==I&&I.length){const dt=i.types.map(At=>"string"==typeof At?rN[At]:At);q.push({type:"TXT",name:"_typ._did.",ttl:Hg,data:`id=${dt.join(xu)}`})}q.push({type:"TXT",name:"_did."+Y0.getUniqueDidSuffix(n.id)+".",ttl:Hg,data:rt.join(";")});for(const ct of l||[])ke.push({type:"NS",name:"_did."+Y0.getUniqueDidSuffix(n.id)+".",ttl:Hg,data:ct+"."});return{id:0,type:"response",flags:ME.hB,answers:[...q,...ke]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class al{static createBep44PutMessage(t){return nd(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:l}){const p=Math.ceil(Date.now()/1e3),c=(0,ME.lF)(n),h=L3.A.encode({seq:p,v:c}).subarray(1,-1);if(h.length>1e3)throw new Gi(Xi.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${h.length} bytes`);return{k:i,seq:p,sig:yield l.sign({data:h}),v:c}})}static identifierToIdentityKey(t){return nd(this,arguments,void 0,function*({didUri:n}){let i=al.identifierToIdentityKeyBytes({didUri:n});return yield rc.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Os.parse(t);if(!n)throw new Gi(Xi.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==UO.methodName)throw new Gi(Xi.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=er.U$.base32Z(n.id).toUint8Array()}catch{throw new Gi(Xi.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Gi(Xi.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return nd(this,arguments,void 0,function*({identityKey:n}){const i=yield rc.publicKeyToBytes({publicKey:n}),l=er.U$.uint8Array(i).toBase32Z();return`did:${UO.methodName}:${l}`})}static keyConverter(t){const i={Ed25519:rc,"P-256":{publicKeyToBytes:l=>nd(this,[l],void 0,function*({publicKey:p}){const c=yield Oa.publicKeyToBytes({publicKey:p});return yield Oa.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:Oa.bytesToPublicKey,privateKeyToBytes:Oa.privateKeyToBytes,bytesToPrivateKey:Oa.bytesToPrivateKey},secp256k1:{publicKeyToBytes:l=>nd(this,[l],void 0,function*({publicKey:p}){const c=yield nc.publicKeyToBytes({publicKey:p});return yield nc.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:nc.bytesToPublicKey,privateKeyToBytes:nc.privateKeyToBytes,bytesToPrivateKey:nc.bytesToPrivateKey},X25519:bw}[t];if(!i)throw new Gi(Xi.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return nd(this,arguments,void 0,function*({bep44Message:n}){const i=yield rc.bytesToPublicKey({publicKeyBytes:n.k}),l=L3.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield rc.verify({key:i,signature:n.sig,data:l})))throw new Gi(Xi.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,ME.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[l,p]=i.split("=");return n[l]=p,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return er.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Gi(Xi.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return nd(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const l=yield al.identifierToIdentityKey({didUri:i.previousDid}),p=al.identifierToIdentityKeyBytes({didUri:n}),c=er.U$.base64Url(i.signature).toUint8Array();if(!(yield rc.verify({key:l,data:p,signature:c})))throw new Gi(Xi.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var aN=E(52039),Wg=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},J0=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(J0||{});const O7={Ed25519:J0.Ed25519,ES256K:J0.secp256k1,ES256:J0.secp256r1,"P-256":J0.secp256r1,secp256k1:J0.secp256k1,secp256r1:J0.secp256r1},cN="https://ion.tbd.engineering";let P7=(()=>{class r extends LO{static create(){return Wg(this,arguments,void 0,function*({keyManager:n=new Yf,options:i={}}={}){var l,p,c,h,V,$,I;if(null!==(l=i.verificationMethods)&&void 0!==l&&l.some(Ct=>!(Ct.algorithm in O7)))throw new Error("One or more verification method algorithms are not supported");const q=null===(p=i.verificationMethods)||void 0===p?void 0:p.filter(Ct=>"id"in Ct).map(Ct=>Ct.id);if(q&&q.length!==new Set(q).size)throw new Error("One or more verification method IDs are not unique");if(null!==(c=i.services)&&void 0!==c&&c.some(Ct=>!Ct.id||!Ct.type||!Ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const ke={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Ne=[];for(const Ct of null!==(h=i.verificationMethods)&&void 0!==h?h:[ke]){const zt=yield n.generateKey({algorithm:Ct.algorithm}),Zt=yield n.getPublicKey({keyUri:zt});Ne.push({id:Ct.id,publicKeyJwk:Zt,purposes:null!==(V=Ct.purposes)&&void 0!==V?V:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Pe=yield n.generateKey({algorithm:J0.secp256k1}),Ke=yield n.getPublicKey({keyUri:Pe}),rt=yield n.generateKey({algorithm:J0.secp256k1}),ht=yield n.getPublicKey({keyUri:rt}),ct=yield Uh.computeLongFormDidUri({recoveryKey:Ke,updateKey:ht,services:null!==($=i.services)&&void 0!==$?$:[],verificationMethods:Ne}),{didDocument:dt,didResolutionMetadata:At}=yield r.resolve(ct,{gatewayUri:i.gatewayUri});if(null===dt)throw new Error(`Unable to resolve DID during creation: ${At?.error}`);const Pt=new zg({uri:ct,document:dt,metadata:{published:!1,canonicalId:ct.split(":",3).join(":"),recoveryKey:Ke,updateKey:ht},keyManager:n});if(null===(I=i.publish)||void 0===I||I){const Ct=yield r.publish({did:Pt,gatewayUri:i.gatewayUri});Pt.metadata=Ct.didDocumentMetadata}return Pt})}static getSigningMethod(n){return Wg(this,arguments,void 0,function*({didDocument:i,methodId:l}){var p;const c=Os.parse(i.id);if(c&&c.method!==this.methodName)throw new Gi(Xi.MethodNotSupported,`Method not supported: ${c.method}`);const h=null===(p=i.verificationMethod)||void 0===p?void 0:p.find(V=>{var $;return V.id===(l??(null===($=i.assertionMethod)||void 0===$?void 0:$[0]))});if(!h||!h.publicKeyJwk)throw new Gi(Xi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return h})}static import(n){return Wg(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Yf}){const p=Os.parse(i.uri);if(p?.method!==r.methodName)throw new Gi(Xi.MethodNotSupported,"Method not supported");return yield zg.import({portableDid:i,keyManager:l})})}static publish(n){return Wg(this,arguments,void 0,function*({did:i,gatewayUri:l=cN}){var p,c,h;const V=null!==(c=null===(p=i.document.verificationMethod)||void 0===p?void 0:p.map(q=>({id:q.id,publicKeyJwk:q.publicKeyJwk,purposes:C7({didDocument:i.document,methodId:q.id})})))&&void 0!==c?c:[],$=yield Uh.createIonDocument({services:null!==(h=i.document.service)&&void 0!==h?h:[],verificationMethods:V}),I=yield Uh.constructCreateRequest({ionDocument:$,recoveryKey:i.metadata.recoveryKey,updateKey:i.metadata.updateKey});try{const q=Uh.appendPathToUrl({baseUrl:l,path:"/operations"}),ke=yield fetch(q,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});return{didDocument:i.document,didDocumentMetadata:Object.assign(Object.assign({},i.metadata),{published:ke.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Xi.InternalError,errorMessage:`Failed to publish DID document for: ${i.uri}`}}}})}static resolve(n){return Wg(this,arguments,void 0,function*(i,l={}){var p,c;const h=Os.parse(i);if(!h)return Object.assign(Object.assign({},Wf),{didResolutionMetadata:{error:"invalidDid"}});if(h.method!==r.methodName)return Object.assign(Object.assign({},Wf),{didResolutionMetadata:{error:"methodNotSupported"}});const V=null!==(p=l?.gatewayUri)&&void 0!==p?p:cN;try{const $=Uh.appendPathToUrl({baseUrl:V,path:`/identifiers/${i}`}),I=yield fetch($);if(!I.ok)throw new Gi(Xi.NotFound,`Unable to find DID document for: ${i}`);const{didDocument:q,didDocumentMetadata:ke}=yield I.json();return Object.assign(Object.assign(Object.assign({},Wf),q&&{didDocument:q}),{didDocumentMetadata:Object.assign({published:null===(c=ke?.method)||void 0===c?void 0:c.published},ke)})}catch($){if(!($ instanceof Gi))throw new Error($);return Object.assign(Object.assign({},Wf),{didResolutionMetadata:Object.assign({error:$.code},$.message&&{errorMessage:$.message})})}})}}return r.methodName="ion",r})();class Uh{static appendPathToUrl({baseUrl:t,path:n}){const i=new URL(t);return i.pathname=i.pathname.endsWith("/")?i.pathname:i.pathname+"/",i.pathname+=n.startsWith("/")?n.substring(1):n,i.toString()}static computeLongFormDidUri(t){return Wg(this,arguments,void 0,function*({recoveryKey:n,updateKey:i,services:l,verificationMethods:p}){const c=yield Uh.createIonDocument({services:l,verificationMethods:p}),h=Uh.normalizeJwk(n),V=Uh.normalizeJwk(i);return yield aN.oU.createLongFormDid({document:c,recoveryKey:h,updateKey:V})})}static constructCreateRequest(t){return Wg(this,arguments,void 0,function*({ionDocument:n,recoveryKey:i,updateKey:l}){return yield aN.Q2.createCreateRequest({document:n,recoveryKey:Uh.normalizeJwk(i),updateKey:Uh.normalizeJwk(l)})})}static createIonDocument(t){return Wg(this,arguments,void 0,function*({services:n,verificationMethods:i}){var l,p;const c=[];for(const $ of i){let I=null!==(p=null!==(l=$.id)&&void 0!==l?l:$.publicKeyJwk.kid)&&void 0!==p?p:yield ra({jwk:$.publicKeyJwk});I=`${I.split("#").pop()}`;const q={id:I,publicKeyJwk:Uh.normalizeJwk($.publicKeyJwk),purposes:$.purposes,type:"JsonWebKey2020"};c.push(q)}return{publicKeys:c,services:n.map($=>Object.assign(Object.assign({},$),{id:`${$.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let i;if("EC"===n)i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)i={k:t.k,kty:t.kty};else if("OKP"===n)i={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);i={e:t.e,kty:t.kty,n:t.n}}return i}}var kp=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},Gg=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Gg||{});const FO={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},B7={Ed25519:Gg.Ed25519,ES256K:Gg.secp256k1,ES256:Gg.secp256r1,"P-256":Gg.secp256r1,secp256k1:Gg.secp256k1,secp256r1:Gg.secp256r1,X25519:Gg.X25519};let N7=(()=>{class r extends LO{static create(){return kp(this,arguments,void 0,function*({keyManager:n=new Yf,options:i={}}={}){var l,p,c,h;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const V=null!==(h=null!==(l=i.algorithm)&&void 0!==l?l:null===(c=null===(p=i.verificationMethods)||void 0===p?void 0:p[0])||void 0===c?void 0:c.algorithm)&&void 0!==h?h:"Ed25519",$=yield n.generateKey({algorithm:V}),I=yield n.getPublicKey({keyUri:$}),q=yield q0.publicKeyToMultibaseId({publicKey:I}),ke=`did:${r.methodName}:${q}`,Pe=(yield r.resolve(ke,i)).didDocument;return new zg({uri:ke,document:Pe,metadata:{},keyManager:n})})}static getSigningMethod(n){return kp(this,arguments,void 0,function*({didDocument:i}){var l;const p=Os.parse(i.id);if(p&&p.method!==this.methodName)throw new Gi(Xi.MethodNotSupported,`Method not supported: ${p.method}`);const[c]=i.assertionMethod||[],h=null===(l=i.verificationMethod)||void 0===l?void 0:l.find(V=>V.id===c);if(!h||!h.publicKeyJwk)throw new Gi(Xi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return h})}static import(n){return kp(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Yf}){const p=Os.parse(i.uri);if(p?.method!==r.methodName)throw new Gi(Xi.MethodNotSupported,"Method not supported");const c=yield zg.import({portableDid:i,keyManager:l});if(1!==c.document.verificationMethod.length)throw new Gi(Xi.InvalidDidDocument,"DID document must contain exactly one verification method");return c})}static resolve(n,i){return kp(this,void 0,void 0,function*(){try{const l=yield r.createDocument({didUri:n,options:i});return Object.assign(Object.assign({},Wf),{didDocument:l})}catch(l){if(!(l instanceof Gi))throw new Error(l);return Object.assign(Object.assign({},Wf),{didResolutionMetadata:Object.assign({error:l.code},l.message&&{errorMessage:l.message})})}})}static createDocument(n){return kp(this,arguments,void 0,function*({didUri:i,options:l={}}){const{defaultContext:p="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:c=!1,enableExperimentalPublicKeyTypes:h=!1,publicKeyFormat:V="JsonWebKey2020"}=l,$={id:""},I=Os.parse(i);if(!I)throw new Gi(Xi.InvalidDid,`Invalid DID URI: ${i}`);const q=I.id;if(I.method!==r.methodName)throw new Gi(Xi.MethodNotSupported,`Method not supported: ${I.method}`);if(!r.validateIdentifier(I))throw new Gi(Xi.InvalidDid,`Invalid DID URI: ${i}`);const ke=yield r.createSignatureMethod({didUri:i,multibaseValue:q,options:{enableExperimentalPublicKeyTypes:h,publicKeyFormat:V}});if($.id=I.uri,$.verificationMethod=[ke],$.authentication=[ke.id],$.assertionMethod=[ke.id],$.capabilityInvocation=[ke.id],$.capabilityDelegation=[ke.id],!0===c){const Ke="Ed25519VerificationKey2020"===V?"X25519KeyAgreementKey2020":"JsonWebKey2020",rt=yield this.createEncryptionMethod({didUri:i,multibaseValue:q,options:{enableExperimentalPublicKeyTypes:h,publicKeyFormat:Ke}});$.verificationMethod.push(rt),$.keyAgreement=[rt.id]}const Ne=[p];return function I7({didDocument:r}){const n=BO({didDocument:r}).map(i=>i.type);return[...new Set(n)]}({didDocument:$}).forEach(Ke=>{Ne.push(FO[Ke])}),$["@context"]=Ne,$})}static createEncryptionMethod(n){return kp(this,arguments,void 0,function*({didUri:i,multibaseValue:l,options:p}){const{enableExperimentalPublicKeyTypes:c,publicKeyFormat:h}=p,V={id:"",type:"",controller:""},{keyBytes:$,multicodecCode:I}=yield r.deriveEncryptionKey({multibaseValue:l}),q=$.byteLength,ke=q0.MULTICODEC_PUBLIC_KEY_LENGTH[I];if(q!==ke)throw new Gi(Xi.InvalidPublicKeyLength,`Expected ${q} bytes. Actual: ${ke}`);const Ne=qB({keyBytes:$,multicodecCode:I});V.id=`${i}#${Ne}`;try{new URL(V.id)}catch{throw new Gi(Xi.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(h in FO))throw new Gi(Xi.UnsupportedPublicKeyType,`Unsupported format: ${h}`);if(!1===c&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(h))throw new Gi(Xi.InvalidPublicKeyType,`Specified '${h}' without setting enableExperimentalPublicKeyTypes to true.`);if(V.type=h,V.controller=i,"X25519KeyAgreementKey2020"===h&&(V.publicKeyMultibase=Ne),"JsonWebKey2020"===h){const{crv:Ke}=yield q0.multicodecToJwk({code:I});V.publicKeyJwk=yield q0.keyConverter(Ke).bytesToPublicKey({publicKeyBytes:$})}return V})}static createSignatureMethod(n){return kp(this,arguments,void 0,function*({didUri:i,multibaseValue:l,options:p}){const{enableExperimentalPublicKeyTypes:c,publicKeyFormat:h}=p,V={id:"",type:"",controller:""},{keyBytes:$,multicodecCode:I,multicodecName:q}=QB({multibaseKeyId:l}),ke=$.byteLength,Ne=q0.MULTICODEC_PUBLIC_KEY_LENGTH[I];if(ke!==Ne)throw new Gi(Xi.InvalidPublicKeyLength,`Expected ${ke} bytes. Actual: ${Ne}`);let Pe=!1;switch(q){case"secp256k1-pub":Pe=yield nc.validatePublicKey({publicKeyBytes:$});break;case"ed25519-pub":Pe=yield rc.validatePublicKey({publicKeyBytes:$});break;case"x25519-pub":Pe=!0}if(!Pe)throw new Gi(Xi.InvalidPublicKey,"Invalid public key detected.");V.id=`${i}#${l}`;try{new URL(V.id)}catch{throw new Gi(Xi.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(h in FO))throw new Gi(Xi.UnsupportedPublicKeyType,`Unsupported format: ${h}`);if(!1===c&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(h))throw new Gi(Xi.InvalidPublicKeyType,`Specified '${h}' without setting enableExperimentalPublicKeyTypes to true.`);if(V.type=h,V.controller=i,"Ed25519VerificationKey2020"===h&&(V.publicKeyMultibase=l),"JsonWebKey2020"===h){const{crv:rt}=yield q0.multicodecToJwk({code:I});V.publicKeyJwk=yield q0.keyConverter(rt).bytesToPublicKey({publicKeyBytes:$})}return V})}static deriveEncryptionKey(n){return kp(this,arguments,void 0,function*({multibaseValue:i}){let l={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:p,multicodecCode:c}=QB({multibaseKeyId:i});if(237===c){const h=yield q0.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:p}),V=yield rc.convertPublicKeyToX25519({publicKey:h});l={keyBytes:yield q0.keyConverter("Ed25519").publicKeyToBytes({publicKey:V}),multicodecCode:236}}return l})}static validateIdentifier(n){const{method:i,id:l}=n,[p]=n.uri.split(":",1);return"did"===p&&"key"===i&&Number("1")>0&&"String"===(0,er.fc)(l)&&l.startsWith("z")}}return r.methodName="key",r})(),q0=(()=>{class r{static jwkToMulticodec(n){return kp(this,arguments,void 0,function*({jwk:i}){const l=[];i.crv&&(l.push(i.crv),l.push(i.d?"private":"public"));const p=l.join(":"),c=r.JWK_TO_MULTICODEC[p];if(void 0===c)throw new Error(`Unsupported JWK to Multicodec conversion: '${p}'`);return{code:er.Gs.getCodeFromName({name:c}),name:c}})}static keyCompressor(n){const l={"P-256":Oa.compressPublicKey,secp256k1:nc.compressPublicKey}[n];if(!l)throw new Gi(Xi.InvalidPublicKeyType,`Unsupported curve: ${n}`);return l}static keyConverter(n){const l={Ed25519:rc,"P-256":Oa,secp256k1:nc,X25519:bw}[n];if(!l)throw new Gi(Xi.InvalidPublicKeyType,`Unsupported curve: ${n}`);return l}static multicodecToJwk(n){return kp(this,arguments,void 0,function*({code:i,name:l}){if(!(l?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");l=void 0===l?er.Gs.getNameFromCode({code:i}):l;const c=r.MULTICODEC_TO_JWK[l];if(void 0===c)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},c)})}static publicKeyToMultibaseId(n){return kp(this,arguments,void 0,function*({publicKey:i}){var l;if(!i?.crv||!(i.crv in B7))throw new Gi(Xi.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(l=i?.crv)&&void 0!==l?l:"undefined"}`);let p=yield r.keyConverter(i.crv).publicKeyToBytes({publicKey:i});/^(secp256k1|P-256|P-384|P-521)$/.test(i.crv)&&(p=yield r.keyCompressor(i.crv)({publicKeyBytes:p}));const{name:c}=yield r.jwkToMulticodec({jwk:i});return qB({keyBytes:p,multicodecName:c})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var L7=E(14078),U7=E(42064);class j7{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new U7.Level(n),this.ttl=L7(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},l=JSON.stringify(i);return this.cache.put(t,l)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const $7={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var lN=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class K7{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||$7;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return lN(this,void 0,void 0,function*(){const i=Os.parse(t);if(!i)return Object.assign(Object.assign({},Wf),{didResolutionMetadata:{error:Xi.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const l=this.didResolvers.get(i.method);if(!l)return Object.assign(Object.assign({},Wf),{didResolutionMetadata:{error:Xi.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const p=yield this.cache.get(i.uri);if(p)return p;{const c=yield l.resolve(i.uri,n);return c.didResolutionMetadata.error||(yield this.cache.set(i.uri,c)),c}})}dereference(t,n){return lN(this,void 0,void 0,function*(){const i=Os.parse(t);if(!i)return{dereferencingMetadata:{error:Xi.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:l,didResolutionMetadata:p,didDocumentMetadata:c}=yield this.resolve(i.uri);if(!l)return{dereferencingMetadata:{error:p.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:l,contentMetadata:c};const{service:h=[],verificationMethod:V=[]}=l,$=new Set([t,i.fragment,`#${i.fragment}`]);let I;for(let q of V)if($.has(q.id)){I=q;break}for(let q of h)if($.has(q.id)){I=q;break}return I?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:I,contentMetadata:p}:{dereferencingMetadata:{error:Xi.NotFound},contentStream:null,contentMetadata:{}}})}}var AE=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class jO{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.resumableTaskStore=t.resumableTaskStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.storageController=new gm({messageStore:this.messageStore,dataStore:this.dataStore,eventLog:this.eventLog,eventStream:this.eventStream}),this.resumableTaskManager=new gR(t.resumableTaskStore,this.storageController),this.methodHandlers={[Wi.Messages+ui.Query]:new tw(this.didResolver,this.messageStore,this.eventLog),[Wi.Messages+ui.Read]:new W1(this.didResolver,this.messageStore,this.dataStore),[Wi.Messages+ui.Subscribe]:new G1(this.didResolver,this.messageStore,this.eventStream),[Wi.Protocols+ui.Configure]:new JS(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[Wi.Protocols+ui.Query]:new QS(this.didResolver,this.messageStore,this.dataStore),[Wi.Records+ui.Delete]:new Cg(this.didResolver,this.messageStore,this.resumableTaskManager),[Wi.Records+ui.Query]:new U0(this.didResolver,this.messageStore,this.dataStore),[Wi.Records+ui.Read]:new Y1(this.didResolver,this.messageStore,this.dataStore),[Wi.Records+ui.Subscribe]:new Bh(this.didResolver,this.messageStore,this.eventStream),[Wi.Records+ui.Write]:new Hf(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,i;return AE(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new K7({didResolvers:[UO,P7,N7],cache:new j7({location:"RESOLVERCACHE"})})),null!==(i=t.tenantGate)&&void 0!==i||(t.tenantGate=new hR);const l=new jO(t);return yield l.open(),l})}open(){var t;return AE(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.resumableTaskStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open(),yield this.resumableTaskManager.resumeTasksAndWaitForCompletion()})}close(){var t;return AE(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.resumableTaskStore.close(),yield this.eventLog.close()})}processMessage(t,n,i={}){var l;return AE(this,void 0,void 0,function*(){const p=null!==(l=yield this.validateTenant(t))&&void 0!==l?l:yield this.validateMessageIntegrity(n);if(void 0!==p)return p;const{dataStream:c,subscriptionHandler:h}=i,V=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[V].handle({tenant:t,message:n,dataStream:c,subscriptionHandler:h})})}validateTenant(t){var n;return AE(this,void 0,void 0,function*(){const i=yield this.tenantGate.isActiveTenant(t);if(!i.isActiveTenant)return{status:{code:401,detail:null!==(n=i.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,i;return AE(this,void 0,void 0,function*(){const l=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,p=null===(i=t?.descriptor)||void 0===i?void 0:i.method;if(void 0===l||void 0===p)return{status:{code:400,detail:`Both interface and method must be present, interface: ${l}, method: ${p}`}};try{Hr.validateJsonSchema(t)}catch(c){return Rs(c,400)}})}}function z7(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function Cd(r,t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,z7(t)]):r})}var uN=E(54626),Jf=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},Rp=function(r){return this instanceof Rp?(this.v=r,this):new Rp(r)},$O=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}},fN=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),p=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(ke){i[ke]&&(l[ke]=function(Ne){return new Promise(function(Pe,Ke){p.push([ke,Ne,Pe,Ke])>1||h(ke,Ne)})})}function h(ke,Ne){try{!function V(ke){ke.value instanceof Rp?Promise.resolve(ke.value.v).then($,I):q(p[0][2],ke)}(i[ke](Ne))}catch(Pe){q(p[0][3],Pe)}}function $(ke){h("next",ke)}function I(ke){h("throw",ke)}function q(ke,Ne){ke(Ne),p.shift(),p.length&&h(p[0][0],p[0][1])}};function ww(r,t){return Jf(this,void 0,void 0,function*(){return new uN.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class TE{constructor(t,n){this.config=Object.assign({createLevelDatabase:ww},t),this.db=n}open(){return Jf(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return Jf(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return Jf(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new TE(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var i;return Jf(this,void 0,void 0,function*(){null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal);try{return yield Cd(this.db.get(String(t)),n?.signal)}catch(l){if("LEVEL_NOT_FOUND"===l.code)return;throw l}})}has(t,n){return Jf(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,i;return fN(this,arguments,function*(){var p,c,h;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Rp(Cd(this.createLevelDatabase(),t?.signal));try{for(var q,$=!0,I=$O(this.db.keys());!(p=(q=yield Rp(I.next())).done);$=!0){$=!1;const ke=q.value;null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield yield Rp(ke)}}catch(ke){c={error:ke}}finally{try{!$&&!p&&(h=I.return)&&(yield Rp(h.call(I)))}finally{if(c)throw c.error}}})}iterator(t,n){var i,l;return fN(this,arguments,function*(){var c,h,V;null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Rp(Cd(this.createLevelDatabase(),n?.signal));try{for(var ke,I=!0,q=$O(this.db.iterator(t));!(c=(ke=yield Rp(q.next())).done);I=!0){I=!1;const Ne=ke.value;null===(l=n?.signal)||void 0===l||l.throwIfAborted(),yield yield Rp(Ne)}}catch(Ne){h={error:Ne}}finally{try{!I&&!c&&(V=q.return)&&(yield Rp(V.call(q)))}finally{if(h)throw h.error}}})}put(t,n,i){var l;return Jf(this,void 0,void 0,function*(){return null===(l=i?.signal)||void 0===l||l.throwIfAborted(),yield Cd(this.createLevelDatabase(),i?.signal),Cd(this.db.put(String(t),n),i?.signal)})}delete(t,n){var i;return Jf(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal),Cd(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,i,l;return Jf(this,void 0,void 0,function*(){try{for(var V,c=!0,h=$O(this.keys(t));V=yield h.next(),!(n=V.done);c=!0)return c=!1,!1}catch($){i={error:$}}finally{try{!c&&!n&&(l=h.return)&&(yield l.call(h))}finally{if(i)throw i.error}}return!0})}clear(){return Jf(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var i;return Jf(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal),Cd(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,i,l;return Jf(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Cd(this.createLevelDatabase(),t?.signal);const p=this.sublevelRange;if(!p)return;const c=this.root;return c.db.supports.additionalMethods.compactRange?Cd(null===(l=(i=c.db).compactRange)||void 0===l?void 0:l.call(i,...p),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new TE(this.config,t)}createLevelDatabase(){var t;return Jf(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var Q0=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},F3=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}},rd=function(r){return this instanceof rd?(this.v=r,this):new rd(r)},j3=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),p=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(ke){i[ke]&&(l[ke]=function(Ne){return new Promise(function(Pe,Ke){p.push([ke,Ne,Pe,Ke])>1||h(ke,Ne)})})}function h(ke,Ne){try{!function V(ke){ke.value instanceof rd?Promise.resolve(ke.value.v).then($,I):q(p[0][2],ke)}(i[ke](Ne))}catch(Pe){q(p[0][3],Pe)}}function $(ke){h("next",ke)}function I(ke){h("throw",ke)}function q(ke,Ne){ke(Ne),p.shift(),p.length&&h(p[0][0],p[0][1])}};class $3{constructor(t,n){this.config=Object.assign({createLevelDatabase:ww},t),this.db=n??new TE(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return Q0(this,void 0,void 0,function*(){return this.db.open()})}close(){return Q0(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return Q0(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new $3(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,i){return Q0(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,i),gh.TO.parse(t.toString())})}get(t,n){return Q0(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return Q0(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return Q0(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return Q0(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return j3(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=F3(t);!(l=(I=yield rd($.next())).done);V=!0){V=!1;const q=I.value;yield rd(this.put(q.cid,q.block,n)),yield yield rd(q.cid)}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield rd(c.call($)))}finally{if(p)throw p.error}}})}getMany(t,n){return j3(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=F3(t);!(l=(I=yield rd($.next())).done);V=!0){V=!1;const q=I.value;yield yield rd({cid:q,block:yield rd(this.get(q,n))})}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield rd(c.call($)))}finally{if(p)throw p.error}}})}getAll(t){return j3(this,arguments,function*(){var i,l,p,c;const h=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var I,V=!0,$=F3(h);!(i=(I=yield rd($.next())).done);V=!0){c=I.value,V=!1;const[q,ke]=c;yield yield rd({cid:gh.TO.decode(q),block:ke})}}catch(q){l={error:q}}finally{try{!V&&!i&&(p=$.return)&&(yield rd(p.call($)))}finally{if(l)throw l.error}}})}deleteMany(t,n){return j3(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=F3(t);!(l=(I=yield rd($.next())).done);V=!0){V=!1;const q=I.value;yield rd(this.delete(q,n)),yield yield rd(q)}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield rd(c.call($)))}finally{if(p)throw p.error}}})}clear(){return Q0(this,void 0,void 0,function*(){return this.db.clear()})}}var Gc=E(42853);const G7=function W7(r){if(function H7(r){return null!=r[Symbol.asyncIterator]}(r))return(0,ye.A)(function*(){let n;var p,i=!1,l=!1;try{for(var h,c=jo(r);i=!(h=yield c.next()).done;i=!1)n=h.value}catch(V){l=!0,p=V}finally{try{i&&null!=c.return&&(yield c.return())}finally{if(l)throw p}}return n})();let t;for(const n of r)t=n;return t};var hN=E(56580);const Y7=function(){var r=(0,ye.A)(function*(t,n,i,l,p,c,h,V){const $=yield h.get(t,V),I=kv($);let q=I,ke=i;for(;l.length>0;){const Ne=l[0];if(!(Ne in q))throw Gc(new Error(`No property named ${Ne} found in cbor node ${t}`),"ERR_NO_PROP");{l.shift(),ke=`${ke}/${Ne}`;const Pe=Bf.TO.asCID(q[Ne]);if(null!=Pe)return{entry:{type:"object",name:n,path:i,cid:t,node:$,depth:c,size:BigInt($.length),content:function(){var Ke=us(function*(){yield I});return function(){return Ke.apply(this,arguments)}}()},next:{cid:Pe,name:Ne,path:ke,toResolve:l}};q=q[Ne]}}return{entry:{type:"object",name:n,path:i,cid:t,node:$,depth:c,size:BigInt($.length),content:(Ne=us(function*(){yield I}),function(){return Ne.apply(this,arguments)})}};var Ne});return function(n,i,l,p,c,h,V,$){return r.apply(this,arguments)}}(),K3=function J7(r,t,n,i){const l=BigInt(r.length),p=BigInt(t+l);return n>=p||i<t?new Uint8Array(0):(i>=t&&i<p&&(r=r.subarray(0,Number(i-t))),n>=t&&n<p&&(r=r.subarray(Number(n-t))),r)},KO=(r,t=0,n=r)=>{const i=BigInt(r),l=BigInt(t??0);let p=BigInt(n);if(p!==i&&(p=l+p),p>i&&(p=i),l<0n)throw Gc(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(l>i)throw Gc(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(p<0n)throw Gc(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(p>i)throw Gc(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:l,end:p}},q7=r=>{function n(){return(n=us(function*(i={}){const{start:l,end:p}=KO(r.length,i.offset,i.length),c=K3(r,0n,l,p);i.onProgress?.(new Ml("unixfs:exporter:progress:identity",{bytesRead:BigInt(c.byteLength),totalBytes:p-l,fileSize:BigInt(r.byteLength)})),yield c})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},Q7=function(){var r=(0,ye.A)(function*(t,n,i,l,p,c,h,V){if(l.length>0)throw Gc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const $=hN.D4(t.multihash.bytes);return{entry:{type:"identity",name:n,path:i,cid:t,content:q7($.digest),depth:c,size:BigInt($.digest.length),node:$.digest}}});return function(n,i,l,p,c,h,V,$){return r.apply(this,arguments)}}(),eL=r=>{function n(){return(n=us(function*(i={}){const{start:l,end:p}=KO(r.length,i.offset,i.length),c=K3(r,0n,l,p);i.onProgress?.(new Ml("unixfs:exporter:progress:raw",{bytesRead:BigInt(c.byteLength),totalBytes:p-l,fileSize:BigInt(r.byteLength)})),yield c})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},tL=function(){var r=(0,ye.A)(function*(t,n,i,l,p,c,h,V){if(l.length>0)throw Gc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const $=yield h.get(t,V);return{entry:{type:"raw",name:n,path:i,cid:t,content:eL($),depth:c,size:BigInt($.length),node:$}}});return function(n,i,l,p,c,h,V,$){return r.apply(this,arguments)}}(),nL=function(){var r=(0,ye.A)(function*(t){return(yield fb.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),rL=function(){var r=(0,ye.A)(function*(t,n,i){yield Promise.all(t.map(function(){var l=(0,ye.A)(function*(p){if(null==p.Name)throw new Error("Unexpected Link without a Name");if(2!==p.Name.length)yield i.put(p.Name.substring(2),!0);else{const c=parseInt(p.Name,16);n._putObjectAt(c,new Vd({hash:i._options.hash,bits:i._options.bits},n,c))}});return function(p){return l.apply(this,arguments)}}()))});return function(n,i,l){return r.apply(this,arguments)}}(),yN=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),gN=function(){var r=(0,ye.A)(function*(t,n,i,l,p){if(null==l){const q=dI({hashFn:nL});l={rootBucket:q,hamtDepth:1,lastBucket:q}}yield rL(t.Links,l.lastBucket,l.rootBucket);const c=yield l.rootBucket._findNewBucketAndPos(n);let h=yN(c.pos);const V=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(c);V.length>l.hamtDepth&&(l.lastBucket=V[l.hamtDepth],h=yN(l.lastBucket._posAtParent));const $=t.Links.find(q=>{if(null==q.Name)return!1;const ke=q.Name.substring(0,2),Ne=q.Name.substring(2);return!(ke!==h||""!==Ne&&Ne!==n)});if(null!=$)return null!=$.Name&&$.Name.substring(2)===n?$.Hash:(l.hamtDepth++,t=S_(yield i.get($.Hash,p)),gN(t,n,i,l,p))});return function(n,i,l,p,c){return r.apply(this,arguments)}}(),oL=gN,vN=function sL(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>t.next(),push:l=>{i.push(l)},next:()=>i.length>0?{done:!1,value:i.shift()}:t.next(),[n](){return this}}},VO=function uL(r,t){let n=0;if(function dL(r){return null!=r[Symbol.asyncIterator]}(r))return us(function*(){var I,V=!1,$=!1;try{for(var ke,q=jo(r);V=!(ke=yield vi(q.next())).done;V=!1){const Ne=ke.value;yield t(Ne,n++)}}catch(Ne){$=!0,I=Ne}finally{try{V&&null!=q.return&&(yield vi(q.return()))}finally{if($)throw I}}})();const i=vN(r),{value:l,done:p}=i.next();if(!0===p)return function*(){}();const c=t(l,n++);if("function"==typeof c.then)return us(function*(){yield yield vi(c);var I,V=!1,$=!1;try{for(var ke,q=jo(i);V=!(ke=yield vi(q.next())).done;V=!1){const Ne=ke.value;yield t(Ne,n++)}}catch(Ne){$=!0,I=Ne}finally{try{V&&null!=q.return&&(yield vi(q.return()))}finally{if($)throw I}}})();const h=t;return function*(){yield c;for(const V of i)yield h(V,n++)}()};function DE(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const V3=globalThis.CustomEvent??Event;function zO(r){return HO.apply(this,arguments)}function HO(){return(HO=us(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,l=new EventTarget,p=[];let $,c=DE(),h=DE(),V=!1,I=!1;function q(){return i?p[0]?.done:!!p.find(Pe=>Pe.done)}function*ke(){for(;p.length>0&&p[0].done;){const Pe=p[0];if(p.shift(),!Pe.ok)throw I=!0,c.resolve(),Pe.err;yield Pe.value,c.resolve()}}function*Ne(){for(;q();)for(let Pe=0;Pe<p.length;Pe++)if(p[Pe].done){const Ke=p[Pe];if(p.splice(Pe,1),Pe--,!Ke.ok)throw I=!0,c.resolve(),Ke.err;yield Ke.value,c.resolve()}}for(l.addEventListener("task-complete",()=>{h.resolve()}),Promise.resolve().then((0,ye.A)(function*(){try{var rt,Pe=!1,Ke=!1;try{for(var ct,ht=jo(r);Pe=!(ct=yield ht.next()).done;Pe=!1){const dt=ct.value;{if(p.length===n&&(c=DE(),yield c.promise),I)break;const At={done:!1};p.push(At),dt().then(Pt=>{At.done=!0,At.ok=!0,At.value=Pt,l.dispatchEvent(new V3("task-complete"))},Pt=>{At.done=!0,At.err=Pt,l.dispatchEvent(new V3("task-complete"))})}}}catch(dt){Ke=!0,rt=dt}finally{try{Pe&&null!=ht.return&&(yield ht.return())}finally{if(Ke)throw rt}}V=!0,l.dispatchEvent(new V3("task-complete"))}catch(dt){$=dt,l.dispatchEvent(new V3("task-complete"))}}));;){if(q()||(h=DE(),yield vi(h.promise)),null!=$)throw $;if(i?yield*Xu(jo(ke())):yield*Xu(jo(Ne())),V&&0===p.length)break}})).apply(this,arguments)}class bN{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class WO{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new bN(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new bN(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class fL extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function GO(r={}){return function wN(r,t){let l,p,c,n=(t=t??{}).onEnd,i=new WO,h=DE();const V=function(){var rt=(0,ye.A)(function*(){try{return i.isEmpty()?c?{done:!0}:yield new Promise((ht,ct)=>{p=dt=>{p=null,i.push(dt);try{ht(r(i))}catch(At){ct(At)}return l}}):r(i)}finally{i.isEmpty()&&queueMicrotask(()=>{h.resolve(),h=DE()})}});return function(){return rt.apply(this,arguments)}}(),$=rt=>null!=p?p(rt):(i.push(rt),l),q=rt=>{if(c)return l;if(!0!==t?.objectMode&&null==rt?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return $({done:!1,value:rt})},ke=rt=>c?l:(c=!0,null!=rt?(rt=>(i=new WO,null!=p?p({error:rt}):(i.push({error:rt}),l)))(rt):$({done:!0}));if(l={[Symbol.asyncIterator](){return this},next:V,return:()=>(i=new WO,ke(),{done:!0}),throw:rt=>(ke(rt),{done:!0}),push:q,end:ke,get readableLength(){return i.size},onEmpty:(rt=(0,ye.A)(function*(ht){const ct=ht?.signal;if(ct?.throwIfAborted(),i.isEmpty())return;let dt,At;null!=ct&&(dt=new Promise((Pt,Ct)=>{At=()=>{Ct(new fL)},ct.addEventListener("abort",At)}));try{yield Promise.race([h.promise,dt])}finally{null!=At&&null!=ct&&ct?.removeEventListener("abort",At)}}),function(ct){return rt.apply(this,arguments)})},null==n)return l;var rt;const Ke=l;return l={[Symbol.asyncIterator](){return this},next:()=>Ke.next(),throw:rt=>(Ke.throw(rt),null!=n&&(n(rt),n=void 0),{done:!0}),return:()=>(Ke.return(),null!=n&&(n(),n=void 0),{done:!0}),push:q,end:rt=>(Ke.end(rt),null!=n&&(n(rt),n=void 0),l),get readableLength(){return Ke.readableLength},onEmpty:rt=>Ke.onEmpty(rt)},l}(n=>{const i=n.shift();if(null==i)return{done:!0};if(null!=i.error)throw i.error;return{done:!0===i.done,value:i.value}},r)}function hL(r){return null!=r[Symbol.asyncIterator]}function XO(r,...t){if(null==r)throw new Error("Empty pipeline");if(ZO(r)){const i=r;r=()=>i.source}else if(EN(r)||_N(r)){const i=r;r=()=>i}const n=[r,...t];if(n.length>1&&ZO(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let i=1;i<n.length-1;i++)ZO(n[i])&&(n[i]=gL(n[i]));return yL(...n)}const yL=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},_N=r=>null!=r?.[Symbol.asyncIterator],EN=r=>null!=r?.[Symbol.iterator],ZO=r=>null!=r&&null!=r.sink&&null!=r.source,gL=r=>t=>{const n=r.sink(t);if(null!=n?.then){const i=GO({objectMode:!0});let l;n.then(()=>{i.end()},c=>{i.end(c)});const p=r.source;if(_N(p))l=function(){var c=us(function*(){yield*Xu(jo(p)),i.end()});return function(){return c.apply(this,arguments)}}();else{if(!EN(p))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");l=function*(){yield*p,i.end()}}return function pL(...r){const t=[];for(const n of r)hL(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():us(function*(){const n=GO({objectMode:!0});Promise.resolve().then((0,ye.A)(function*(){try{yield Promise.all(r.map(function(){var i=(0,ye.A)(function*(l){var h,p=!1,c=!1;try{for(var $,V=jo(l);p=!($=yield V.next()).done;p=!1)n.push($.value)}catch(I){c=!0,h=I}finally{try{p&&null!=V.return&&(yield V.return())}finally{if(c)throw h}}});return function(l){return i.apply(this,arguments)}}())),n.end()}catch(i){n.end(i)}})),yield*Xu(jo(n))})()}(i,l())}return r.source};var bL=E(50233);class xN extends Error{constructor(t){super(t),this.name="TimeoutError"}}class wL extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const SN=r=>void 0===globalThis.DOMException?new wL(r):new DOMException(r),MN=r=>{const t=void 0===r.reason?SN("This operation was aborted."):r.reason;return t instanceof Error?t:SN(t)};var ey,_w=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};ey=new WeakMap;const SL=class xL{constructor(){ey.set(this,[])}enqueue(t,n){const i={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&_w(this,ey,"f")[this.size-1].priority>=n.priority)return void _w(this,ey,"f").push(i);const l=function EL(r,t,n){let i=0,l=r.length;for(;l>0;){const p=Math.trunc(l/2);let c=i+p;n(r[c],t)<=0?(i=++c,l-=p+1):l=p}return i}(_w(this,ey,"f"),i,(p,c)=>c.priority-p.priority);_w(this,ey,"f").splice(l,0,i)}dequeue(){const t=_w(this,ey,"f").shift();return t?.run}filter(t){return _w(this,ey,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return _w(this,ey,"f").length}};var Xc,GM,XM,Xg,z3,ZM,H3,Op,YM,qf,W3,Qf,JM,Zg,G3,AN,TN,DN,IN,CN,X3,YO,JO,Z3,kN,Y3,uc=function(r,t,n,i,l){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!l)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?l.call(r,n):l?l.value=n:t.set(r,n),n},Ti=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};class RN extends Error{}GM=new WeakMap,XM=new WeakMap,Xg=new WeakMap,z3=new WeakMap,ZM=new WeakMap,H3=new WeakMap,Op=new WeakMap,YM=new WeakMap,qf=new WeakMap,W3=new WeakMap,Qf=new WeakMap,JM=new WeakMap,Zg=new WeakMap,G3=new WeakMap,Xc=new WeakSet,AN=function(){return Ti(this,XM,"f")||Ti(this,Xg,"f")<Ti(this,z3,"f")},TN=function(){return Ti(this,Qf,"f")<Ti(this,JM,"f")},DN=function(){var t;uc(this,Qf,(t=Ti(this,Qf,"f"),--t),"f"),Ti(this,Xc,"m",X3).call(this),this.emit("next")},IN=function(){Ti(this,Xc,"m",JO).call(this),Ti(this,Xc,"m",YO).call(this),uc(this,YM,void 0,"f")},CN=function(){const t=Date.now();if(void 0===Ti(this,Op,"f")){const n=Ti(this,H3,"f")-t;if(!(n<0))return void 0===Ti(this,YM,"f")&&uc(this,YM,setTimeout(()=>{Ti(this,Xc,"m",IN).call(this)},n),"f"),!0;uc(this,Xg,Ti(this,GM,"f")?Ti(this,Qf,"f"):0,"f")}return!1},X3=function(){if(0===Ti(this,qf,"f").size)return Ti(this,Op,"f")&&clearInterval(Ti(this,Op,"f")),uc(this,Op,void 0,"f"),this.emit("empty"),0===Ti(this,Qf,"f")&&this.emit("idle"),!1;if(!Ti(this,Zg,"f")){const t=!Ti(this,Xc,"a",CN);if(Ti(this,Xc,"a",AN)&&Ti(this,Xc,"a",TN)){const n=Ti(this,qf,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&Ti(this,Xc,"m",YO).call(this),!0)}}return!1},YO=function(){Ti(this,XM,"f")||void 0!==Ti(this,Op,"f")||(uc(this,Op,setInterval(()=>{Ti(this,Xc,"m",JO).call(this)},Ti(this,ZM,"f")),"f"),uc(this,H3,Date.now()+Ti(this,ZM,"f"),"f"))},JO=function(){0===Ti(this,Xg,"f")&&0===Ti(this,Qf,"f")&&Ti(this,Op,"f")&&(clearInterval(Ti(this,Op,"f")),uc(this,Op,void 0,"f")),uc(this,Xg,Ti(this,GM,"f")?Ti(this,Qf,"f"):0,"f"),Ti(this,Xc,"m",Z3).call(this)},Z3=function(){for(;Ti(this,Xc,"m",X3).call(this););},kN=function(){var r=(0,ye.A)(function*(n){return new Promise((i,l)=>{n.addEventListener("abort",()=>{l(new RN("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),Y3=function(){var r=(0,ye.A)(function*(n,i){return new Promise(l=>{const p=()=>{i&&!i()||(this.off(n,p),l())};this.on(n,p)})});return function t(n,i){return r.apply(this,arguments)}}();const AL=class ML extends bL{constructor(t){var n,i,l,p;if(super(),Xc.add(this),GM.set(this,void 0),XM.set(this,void 0),Xg.set(this,0),z3.set(this,void 0),ZM.set(this,void 0),H3.set(this,0),Op.set(this,void 0),YM.set(this,void 0),qf.set(this,void 0),W3.set(this,void 0),Qf.set(this,0),JM.set(this,void 0),Zg.set(this,void 0),G3.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:SL,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(p=null===(l=t.interval)||void 0===l?void 0:l.toString())&&void 0!==p?p:""}\` (${typeof t.interval})`);uc(this,GM,t.carryoverConcurrencyCount,"f"),uc(this,XM,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),uc(this,z3,t.intervalCap,"f"),uc(this,ZM,t.interval,"f"),uc(this,qf,new t.queueClass,"f"),uc(this,W3,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,uc(this,G3,!0===t.throwOnTimeout,"f"),uc(this,Zg,!1===t.autoStart,"f")}get concurrency(){return Ti(this,JM,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);uc(this,JM,t,"f"),Ti(this,Xc,"m",Z3).call(this)}add(t,n={}){var i=this;return(0,ye.A)(function*(){return n={timeout:i.timeout,throwOnTimeout:Ti(i,G3,"f"),...n},new Promise((l,p)=>{Ti(i,qf,"f").enqueue((0,ye.A)(function*(){var c,h,V;uc(i,Qf,(h=Ti(i,Qf,"f"),++h),"f"),uc(i,Xg,(V=Ti(i,Xg,"f"),++V),"f");try{if(null!==(c=n.signal)&&void 0!==c&&c.aborted)throw new RN("The task was aborted.");let $=t({signal:n.signal});n.timeout&&($=function _L(r,t,n,i){let l;const p=new Promise((c,h)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:V}=i;V.aborted&&h(MN(V)),V.addEventListener("abort",()=>{h(MN(V))})}l=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{c(n())}catch(I){h(I)}return}const $=n instanceof Error?n:new xN("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),h($)},t),(0,ye.A)(function*(){try{c(yield r)}catch(V){h(V)}finally{i.customTimers.clearTimeout.call(void 0,l)}})()}else c(r)});return p.clear=()=>{clearTimeout(l),l=void 0},p}(Promise.resolve($),n.timeout)),n.signal&&($=Promise.race([$,Ti(i,Xc,"m",kN).call(i,n.signal)]));const I=yield $;l(I),i.emit("completed",I)}catch($){if($ instanceof xN&&!n.throwOnTimeout)return void l();p($),i.emit("error",$)}finally{Ti(i,Xc,"m",DN).call(i)}}),n),i.emit("add"),Ti(i,Xc,"m",X3).call(i)})})()}addAll(t,n){var i=this;return(0,ye.A)(function*(){return Promise.all(t.map(function(){var l=(0,ye.A)(function*(p){return i.add(p,n)});return function(p){return l.apply(this,arguments)}}()))})()}start(){return Ti(this,Zg,"f")?(uc(this,Zg,!1,"f"),Ti(this,Xc,"m",Z3).call(this),this):this}pause(){uc(this,Zg,!0,"f")}clear(){uc(this,qf,new(Ti(this,W3,"f")),"f")}onEmpty(){var t=this;return(0,ye.A)(function*(){0!==Ti(t,qf,"f").size&&(yield Ti(t,Xc,"m",Y3).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,ye.A)(function*(){Ti(n,qf,"f").size<t||(yield Ti(n,Xc,"m",Y3).call(n,"next",()=>Ti(n,qf,"f").size<t))})()}onIdle(){var t=this;return(0,ye.A)(function*(){0===Ti(t,Qf,"f")&&0===Ti(t,qf,"f").size||(yield Ti(t,Xc,"m",Y3).call(t,"idle"))})()}get size(){return Ti(this,qf,"f").size}sizeBy(t){return Ti(this,qf,"f").filter(t).length}get pending(){return Ti(this,Qf,"f")}get isPaused(){return Ti(this,Zg,"f")}};function ON(r,t,n,i,l,p,c){return qO.apply(this,arguments)}function qO(){return qO=(0,ye.A)(function*(r,t,n,i,l,p,c){if(t instanceof Uint8Array){const $=K3(t,i,l,p);return void n.push($)}if(null==t.Data)throw Gc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let h;try{h=Gu.unmarshal(t.Data)}catch($){throw Gc($,"ERR_NOT_UNIXFS")}if(null!=h.data){const I=K3(h.data,i,l,p);n.push(I),i+=BigInt(I.byteLength)}const V=[];if(t.Links.length!==h.blockSizes.length)throw Gc(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let $=0;$<t.Links.length;$++){const ke=i+h.blockSizes[$];if((l>=i&&l<ke||p>=i&&p<=ke||l<i&&p>ke)&&V.push({link:t.Links[$],blockStart:i}),(i=ke)>p)break}yield XO(V,$=>VO($,I=>(0,ye.A)(function*(){const q=yield r.get(I.link.Hash,c);return{...I,block:q}})),$=>zO($,{ordered:!0}),function(){var $=(0,ye.A)(function*(I){var Ne,q=!1,ke=!1;try{for(var Ke,Pe=jo(I);q=!(Ke=yield Pe.next()).done;q=!1){const{link:rt,block:ht,blockStart:ct}=Ke.value;{let dt;switch(rt.Hash.code){case x_:dt=S_(ht);break;case e0:dt=ht;break;default:return void n.end(Gc(new Error(`Unsupported codec: ${rt.Hash.code}`),"ERR_NOT_UNIXFS"))}const At=new AL({concurrency:1});At.on("error",Pt=>{n.end(Pt)}),At.add((0,ye.A)(function*(){c.onProgress?.(new Ml("unixfs:exporter:walk:file",{cid:rt.Hash})),yield ON(r,dt,n,ct,l,p,c)})),yield At.onIdle()}}}catch(rt){ke=!0,Ne=rt}finally{try{q&&null!=Pe.return&&(yield Pe.return())}finally{if(ke)throw Ne}}});return function(I){return $.apply(this,arguments)}}()),i>=p&&n.end()}),qO.apply(this,arguments)}const PN=(r,t,n,i,l,p,c)=>{function V(){return(V=us(function*($={}){const I=n.fileSize();if(void 0===I)throw new Error("File was a directory");const{start:q,end:ke}=KO(I,$.offset,$.length);if(0n===ke)return;let Ne=0n;const Pe=ke-q,Ke=GO();$.onProgress?.(new Ml("unixfs:exporter:walk:file",{cid:r})),ON(c,t,Ke,0n,q,ke,$).catch(Pt=>{Ke.end(Pt)});var ct,rt=!1,ht=!1;try{for(var At,dt=jo(Ke);rt=!(At=yield vi(dt.next())).done;rt=!1){const Pt=At.value;if(null!=Pt){if(Ne+=BigInt(Pt.byteLength),Ne>Pe)throw Ke.end(),Gc(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");Ne===Pe&&Ke.end(),$.onProgress?.(new Ml("unixfs:exporter:progress:unixfs:file",{bytesRead:Ne,totalBytes:Pe,fileSize:I})),yield Pt}}}catch(Pt){ht=!0,ct=Pt}finally{try{rt&&null!=dt.return&&(yield vi(dt.return()))}finally{if(ht)throw ct}}if(Ne<Pe)throw Gc(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function h(){return V.apply(this,arguments)}};function BN(r,t,n,i,l,p){return QO.apply(this,arguments)}function QO(){return(QO=us(function*(r,t,n,i,l,p){const h=XO(r.Links,Ne=>VO(Ne,Pe=>(0,ye.A)(function*(){const Ke=null!=Pe.Name?Pe.Name.substring(2):null;if(null!=Ke&&""!==Ke){const rt=yield n(Pe.Hash,Ke,`${t}/${Ke}`,[],i+1,l,p);return{entries:null==rt.entry?[]:[rt.entry]}}{const rt=yield l.get(Pe.Hash,p);return r=S_(rt),p.onProgress?.(new Ml("unixfs:exporter:walk:hamt-sharded-directory",{cid:Pe.Hash})),{entries:BN(r,t,n,i,l,p)}}})),Ne=>zO(Ne,{ordered:!0}));var I,V=!1,$=!1;try{for(var ke,q=jo(h);V=!(ke=yield vi(q.next())).done;V=!1){const{entries:Ne}=ke.value;yield*Xu(jo(Ne))}}catch(Ne){$=!0,I=Ne}finally{try{V&&null!=q.return&&(yield vi(q.return()))}finally{if($)throw I}}})).apply(this,arguments)}const CL={raw:PN,file:PN,directory:(r,t,n,i,l,p,c)=>{function V(){return(V=us(function*($={}){const ke=t.Links.slice($.offset??0,$.length??t.Links.length);$.onProgress?.(new Ml("unixfs:exporter:walk:directory",{cid:r})),yield*Xu(jo(XO(ke,Ne=>VO(Ne,Pe=>(0,ye.A)(function*(){const Ke=Pe.Name??"",rt=`${i}/${Ke}`;return(yield l(Pe.Hash,Ke,rt,[],p+1,c,$)).entry})),Ne=>zO(Ne,{ordered:!0}),Ne=>function cL(r,t){let n=0;if(function aL(r){return null!=r[Symbol.asyncIterator]}(r))return us(function*(){var I,V=!1,$=!1;try{for(var ke,q=jo(r);V=!(ke=yield vi(q.next())).done;V=!1){const Ne=ke.value;(yield vi(t(Ne,n++)))&&(yield Ne)}}catch(Ne){$=!0,I=Ne}finally{try{V&&null!=q.return&&(yield vi(q.return()))}finally{if($)throw I}}})();const i=vN(r),{value:l,done:p}=i.next();if(!0===p)return function*(){}();const c=t(l,n++);if("function"==typeof c.then)return us(function*(){(yield vi(c))&&(yield l);var I,V=!1,$=!1;try{for(var ke,q=jo(i);V=!(ke=yield vi(q.next())).done;V=!1){const Ne=ke.value;(yield vi(t(Ne,n++)))&&(yield Ne)}}catch(Ne){$=!0,I=Ne}finally{try{V&&null!=q.return&&(yield vi(q.return()))}finally{if($)throw I}}})();const h=t;return function*(){!0===c&&(yield l);for(const V of i)h(V,n++)&&(yield V)}()}(Ne,Pe=>null!=Pe))))})).apply(this,arguments)}return function h(){return V.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,i,l,p,c)=>function h(V={}){return V.onProgress?.(new Ml("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),BN(t,i,l,p,c,V)},metadata:(r,t,n,i,l,p,c)=>()=>[],symlink:(r,t,n,i,l,p,c)=>()=>[]},RL={[x_]:function(){var r=(0,ye.A)(function*(t,n,i,l,p,c,h,V){const I=S_(yield h.get(t,V));let q,ke;if(null==n&&(n=t.toString()),null==I.Data)throw Gc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{q=Gu.unmarshal(I.Data)}catch(Pe){throw Gc(Pe,"ERR_NOT_UNIXFS")}if(null==i&&(i=n),l.length>0){let Pe;if(Pe="hamt-sharded-directory"===q?.type?yield oL(I,l[0],h):((r,t)=>r.Links.find(i=>i.Name===t)?.Hash)(I,l[0]),null==Pe)throw Gc(new Error("file does not exist"),"ERR_NOT_FOUND");const Ke=l.shift();ke={cid:Pe,toResolve:l,name:Ke??"",path:`${i}/${Ke}`}}const Ne=CL[q.type](t,I,q,i,p,c,h);if(null==Ne)throw Gc(new Error("could not find content exporter"),"ERR_NOT_FOUND");return q.isDirectory()?{entry:{type:"directory",name:n,path:i,cid:t,content:Ne,unixfs:q,depth:c,node:I,size:q.fileSize()},next:ke}:{entry:{type:"file",name:n,path:i,cid:t,content:Ne,unixfs:q,depth:c,node:I,size:q.fileSize()},next:ke}});return function(n,i,l,p,c,h,V,$){return r.apply(this,arguments)}}(),[e0]:tL,[Cy]:Y7,0:Q7},NN=function(){var r=(0,ye.A)(function*(t,n,i,l,p,c,h){const V=RL[t.code];if(null==V)throw Gc(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return V(t,n,i,l,NN,p,c,h)});return function(n,i,l,p,c,h,V){return r.apply(this,arguments)}}(),OL=NN,BL=r=>{if(r instanceof Uint8Array)return{cid:Bf.TO.decode(r),toResolve:[]};const t=Bf.TO.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:Bf.TO.parse(n[0]),toResolve:n.slice(1)}}throw Gc(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function eP(){return(eP=us(function*(r,t,n={}){let{cid:i,toResolve:l}=BL(r),p=i.toString(),c=p;const h=l.length;for(;;){const V=yield vi(OL(i,p,c,l,h,t,n));if(null==V.entry&&null==V.next)throw Gc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=V.entry&&(yield V.entry),null==V.next)return;l=V.next.toResolve,i=V.next.cid,p=V.next.name,c=V.next.path}})).apply(this,arguments)}function tP(){return tP=(0,ye.A)(function*(r,t,n={}){const i=yield G7(function NL(r,t){return eP.apply(this,arguments)}(r,t,n));if(null==i)throw Gc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return i}),tP.apply(this,arguments)}var Yg=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class UL{constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:ww},t),this.blockstore=new $3({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Yg(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return Yg(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,i,l){var p,c,h,$,I;return Yg(this,void 0,void 0,function*(){const q=yield this.getBlockstoreForStoringData(t,n,i),ke=Zu([{content:l}],q,{cidVersion:1});let Ne;try{for(var rt,Pe=!0,Ke=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}}(ke);rt=yield Ke.next(),!(p=rt.done);Pe=!0)Pe=!1,Ne=rt.value}catch(ht){c={error:ht}}finally{try{!Pe&&!p&&(h=Ke.return)&&(yield h.call(Ke))}finally{if(c)throw c.error}}return{dataSize:Number(null!==(I=null===($=Ne.unixfs)||void 0===$?void 0:$.fileSize())&&void 0!==I?I:Ne.size)}})}get(t,n,i){return Yg(this,void 0,void 0,function*(){const l=yield this.getBlockstoreForStoringData(t,n,i);if(!(yield l.has(i)))return;const c=yield function LN(r,t){return tP.apply(this,arguments)}(i,l),h=c.content(),V=new vb.Readable({read(){return Yg(this,void 0,void 0,function*(){const I=yield h.next();this.push(I.done?null:I.value)})}});let $=c.size;return("file"===c.type||"directory"===c.type)&&($=c.unixfs.fileSize()),{dataSize:Number($),dataStream:V}})}delete(t,n,i){return Yg(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,i)).clear()})}clear(){return Yg(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,i){return Yg(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(i)})}}var Rl=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},qM=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}},Ew=function(r){return this instanceof Ew?(this.v=r,this):new Ew(r)};let J3=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:ww},n),this.db=new TE({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return Rl(this,void 0,void 0,function*(){yield this.db.open()})}close(){return Rl(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return Rl(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,i,l,p){return Rl(this,void 0,void 0,function*(){if(Eb(l))throw new ce(_e.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const c={messageCid:i,indexes:l},h=[];for(const q in l){const ke=l[q];if(Array.isArray(ke))for(const Ne of ke){const Pe=this.createPutIndexedItemOperation(n,c,q,Ne);h.push(Pe)}else{const Ne=this.createPutIndexedItemOperation(n,c,q,ke);h.push(Ne)}}const V=this.createOperationForIndexesLookupPartition(n,{type:"put",key:i,value:JSON.stringify(l)});h.push(V);const $=yield Promise.all(h);yield(yield this.db.partition(n)).batch($,p)})}delete(n,i,l){return Rl(this,void 0,void 0,function*(){const p=[],c=yield this.getIndexes(n,i);if(void 0===c)return;const h=this.createOperationForIndexesLookupPartition(n,{type:"del",key:i});p.push(h);for(const I in c){const q=c[I];if(Array.isArray(q))for(const ke of q){const Ne=this.createDeleteIndexedItemOperation(n,i,I,ke);p.push(Ne)}else{const ke=this.createDeleteIndexedItemOperation(n,i,I,q);p.push(ke)}}const V=yield Promise.all(p);yield(yield this.db.partition(n)).batch(V,l)})}createPutIndexedItemOperation(n,i,l,p){return Rl(this,void 0,void 0,function*(){const{messageCid:c}=i,h=r.keySegmentJoin(r.encodeValue(p),c);return this.createOperationForIndexPartition(n,l,{type:"put",key:h,value:JSON.stringify(i)})})}createDeleteIndexedItemOperation(n,i,l,p){return Rl(this,void 0,void 0,function*(){const c=r.keySegmentJoin(r.encodeValue(p),i);return this.createOperationForIndexPartition(n,l,{type:"del",key:c})})}createOperationForIndexPartition(n,i,l){return Rl(this,void 0,void 0,function*(){const p=yield this.db.partition(n),c=r.getIndexPartitionName(i);return p.createPartitionOperation(c,l)})}createOperationForIndexesLookupPartition(n,i){return Rl(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",i)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,i){return Rl(this,void 0,void 0,function*(){const l=r.getIndexPartitionName(i);return(yield this.db.partition(n)).partition(l)})}getIndexesLookupPartition(n){return Rl(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,i,l,p){return Rl(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(i,l)?this.queryWithInMemoryPaging(n,i,l,p):this.queryWithIteratorPaging(n,i,l,p)})}queryWithIteratorPaging(n,i,l,p){var c,h,V;return Rl(this,void 0,void 0,function*(){const{cursor:I,limit:q}=l,ke=I?this.createStartingKeyFromCursor(I):"",Ne=[];try{for(var rt,Pe=!0,Ke=qM(this.getIndexIterator(n,ke,l,p));rt=yield Ke.next(),!(c=rt.done);Pe=!0){Pe=!1;const ht=rt.value;if(void 0!==q&&q===Ne.length)break;const{indexes:ct}=ht;il.matchAnyFilter(ct,i)&&Ne.push(ht)}}catch(ht){h={error:ht}}finally{try{!Pe&&!c&&(V=Ke.return)&&(yield V.call(Ke))}finally{if(h)throw h.error}}return Ne})}getIndexIterator(n,i,l,p){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),p=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(ke){i[ke]&&(l[ke]=function(Ne){return new Promise(function(Pe,Ke){p.push([ke,Ne,Pe,Ke])>1||h(ke,Ne)})})}function h(ke,Ne){try{!function V(ke){ke.value instanceof Ew?Promise.resolve(ke.value.v).then($,I):q(p[0][2],ke)}(i[ke](Ne))}catch(Pe){q(p[0][3],Pe)}}function $(ke){h("next",ke)}function I(ke){h("throw",ke)}function q(ke,Ne){ke(Ne),p.shift(),p.length&&h(p[0][0],p[0][1])}}(this,arguments,function*(){var h,V,$,I;const{sortProperty:q,sortDirection:ke=bu.Ascending,cursor:Ne}=l,Pe={gt:i};ke===bu.Descending&&(Pe.reverse=!0,void 0!==Ne&&(Pe.lt=i,delete Pe.gt));const Ke=yield Ew(this.getIndexPartition(n,q));try{for(var ct,rt=!0,ht=qM(Ke.iterator(Pe,p));!(h=(ct=yield Ew(ht.next())).done);rt=!0){I=ct.value,rt=!1;const[dt,At]=I,{indexes:Pt,messageCid:Ct}=JSON.parse(At);yield yield Ew({indexes:Pt,messageCid:Ct})}}catch(dt){V={error:dt}}finally{try{!rt&&!h&&($=ht.return)&&(yield Ew($.call(ht)))}finally{if(V)throw V.error}}})}createStartingKeyFromCursor(n){const{messageCid:i,value:l}=n;return r.keySegmentJoin(r.encodeValue(l),i)}static createCursorFromLastArrayItem(n,i){if(n.length>0)return this.createCursorFromItem(n.at(-1),i)}static createCursorFromItem(n,i){const{messageCid:l,indexes:p}=n,c=p[i];if(void 0===c)throw new ce(_e.IndexInvalidCursorSortProperty,`the sort property '${i}' is not defined within the given item.`);if("boolean"==typeof c||Array.isArray(c))throw new ce(_e.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof c} was given.`);return{messageCid:l,value:c}}queryWithInMemoryPaging(n,i,l,p){return Rl(this,void 0,void 0,function*(){const{sortProperty:c,sortDirection:h=bu.Ascending,cursor:V,limit:$}=l,I=V?this.createStartingKeyFromCursor(V):void 0,q=new Map;0===i.length&&(i=[{}]);try{yield Promise.all(i.map(Ke=>this.executeSingleFilterQuery(n,Ke,c,q,p)))}catch(Ke){if(Ke.code===_e.IndexInvalidSortPropertyInMemory)return[]}const ke=[...q.values()].sort((Ke,rt)=>this.sortItems(Ke,rt,c,h)),Ne=void 0!==I?this.findCursorStartingIndex(ke,h,c,I):0;return Ne<0?[]:ke.slice(Ne,void 0!==$?Ne+$:void 0)})}executeSingleFilterQuery(n,i,l,p,c){return Rl(this,void 0,void 0,function*(){const h=[];if(Eb(i)){const $=this.getAllItems(n,l);h.push($)}const V=$x.reduceFilter(i);for(const $ in V){const I=V[$];if(il.isEqualFilter(I)){const q=this.filterExactMatches(n,$,I,c);h.push(q)}else if(il.isOneOfFilter(I))for(const q of new Set(I)){const ke=this.filterExactMatches(n,$,q,c);h.push(ke)}else if(il.isRangeFilter(I)){const q=this.filterRangeMatches(n,$,I,c);h.push(q)}}for(const $ of h){const I=yield $;for(const q of I)if(!p.has(q.messageCid)&&il.matchFilter(q.indexes,i)){if(void 0===q.indexes[l])throw new ce(_e.IndexInvalidSortPropertyInMemory,`invalid sort property ${l}`);p.set(q.messageCid,q)}}})}getAllItems(n,i){var l,p,c,h;return Rl(this,void 0,void 0,function*(){const V=yield this.getIndexPartition(n,i),$=[];try{for(var ke,I=!0,q=qM(V.iterator());ke=yield q.next(),!(l=ke.done);I=!0){h=ke.value,I=!1;const[Ne,Pe]=h;$.push(JSON.parse(Pe))}}catch(Ne){p={error:Ne}}finally{try{!I&&!l&&(c=q.return)&&(yield c.call(q))}finally{if(p)throw p.error}}return $})}filterExactMatches(n,i,l,p){var c,h,V,$;return Rl(this,void 0,void 0,function*(){const I=r.keySegmentJoin(r.encodeValue(l)),q={gt:I},ke=yield this.getIndexPartition(n,i),Ne=[];try{for(var rt,Pe=!0,Ke=qM(ke.iterator(q,p));rt=yield Ke.next(),!(c=rt.done);Pe=!0){$=rt.value,Pe=!1;const[ht,ct]=$;if(!ht.startsWith(I))break;Ne.push(JSON.parse(ct))}}catch(ht){h={error:ht}}finally{try{!Pe&&!c&&(V=Ke.return)&&(yield V.call(Ke))}finally{if(h)throw h.error}}return Ne})}filterRangeMatches(n,i,l,p){var c,h,V,$;return Rl(this,void 0,void 0,function*(){const I={};for(const rt in l)I[rt]=r.encodeValue(l[rt]);void 0===I.gt&&void 0===I.gte&&(I.reverse=!0);const q=[],ke=yield this.getIndexPartition(n,i);try{for(var Ke,Ne=!0,Pe=qM(ke.iterator(I,p));Ke=yield Pe.next(),!(c=Ke.done);Ne=!0){$=Ke.value,Ne=!1;const[rt,ht]=$;"gt"in l&&this.extractIndexValueFromKey(rt)===r.encodeValue(l.gt)||q.push(JSON.parse(ht))}}catch(rt){h={error:rt}}finally{try{!Ne&&!c&&(V=Pe.return)&&(yield V.call(Pe))}finally{if(h)throw h.error}}if("lte"in l)for(const rt of yield this.filterExactMatches(n,i,l.lte,p))q.push(rt);return q})}sortItems(n,i,l,p){const h=i.indexes[l],V=r.encodeValue(n.indexes[l])+n.messageCid,$=r.encodeValue(h)+i.messageCid;return p===bu.Ascending?_b(V,$):_b($,V)}findCursorStartingIndex(n,i,l,p){return n.findIndex(h=>{const{messageCid:V,indexes:$}=h,q=r.keySegmentJoin(r.encodeValue($[l]),V);return i===bu.Ascending?q>p:q<p})}getIndexes(n,i){return Rl(this,void 0,void 0,function*(){const p=yield(yield this.getIndexesLookupPartition(n)).get(i);if(void 0!==p)return JSON.parse(p)})}extractIndexValueFromKey(n){const[i]=n.split(r.delimiter);return i}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const i=Number.MAX_SAFE_INTEGER,p=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?i:0)).padStart(p,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,i){for(const l of n)if(!r.isFilterConcise(l,i))return!1;return!0}static isFilterConcise(n,i){return void 0!==n.recordId||void 0===i.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function rP(r){if(!iP(r))throw new Error("Parameter was not an error")}function iP(r){return"[object Error]"===function jL(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class eh extends Error{constructor(t,n){const i=[...arguments],{options:l,shortMessage:p}=function $L(r){let t,n="";if(0===r.length)t={};else if(iP(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(i);let c=p;l.cause&&(c=`${c}: ${l.cause.message}`),super(c),this.message=c,this.name=l.name&&"string"==typeof l.name?l.name:"Layerr",l.cause&&Object.defineProperty(this,"_cause",{value:l.cause}),Object.defineProperty(this,"_info",{value:{}}),l.info&&"object"==typeof l.info&&Object.assign(this._info,l.info),Error.captureStackTrace&&Error.captureStackTrace(this,l.constructorOpt||this.constructor)}static cause(t){return rP(t),t._cause&&iP(t._cause)?t._cause:null}static fullStack(t){rP(t);const n=eh.cause(t);return n?`${t.stack}\ncaused by: ${eh.fullStack(n)}`:t.stack}static info(t){rP(t);const n={},i=eh.cause(t);return i&&Object.assign(n,eh.info(i)),t._info&&Object.assign(n,t._info),n}cause(){return eh.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const xw="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Sw=32,oP=0xffffffffffff,Dm=Object.freeze({source:"ulid"});function sP(r,t){if(isNaN(r))throw new eh({info:{code:"ENC_TIME_NAN",...Dm}},`Time must be a number: ${r}`);if(r>oP)throw new eh({info:{code:"ENC_TIME_SIZE_EXCEED",...Dm}},`Cannot encode a time larger than ${oP}: ${r}`);if(r<0)throw new eh({info:{code:"ENC_TIME_NEG",...Dm}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new eh({info:{code:"ENC_TIME_TYPE",...Dm}},`Time must be an integer: ${r}`);let n,i="";for(let l=t;l>0;l--)n=r%Sw,i=xw.charAt(n)+i,r=(r-n)/Sw;return i}function $N(r){const t=r||function FN(r){const t=r||function KL(){return function zL(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new eh({info:{code:"PRNG_DETECT",...Dm}},"Failed to find a reliable PRNG")}();let i,n=0;return function(p){const c=isNaN(p)?Date.now():p;if(c<=n){const V=i=function VL(r){let t,i,l,n=r.length,p=r;const c=Sw-1;for(;!t&&n-- >=0;){if(i=p[n],l=xw.indexOf(i),-1===l)throw new eh({info:{code:"B32_INC_ENC",...Dm}},"Incorrectly encoded string");l!==c?t=KN(p,n,xw[l+1]):p=KN(p,n,xw[0])}if("string"==typeof t)return t;throw new eh({info:{code:"B32_INC_INVALID",...Dm}},"Failed incrementing string")}(i);return sP(n,10)+V}n=c;const h=i=function jN(r,t){let n="";for(;r>0;r--)n=HL(t)+n;return n}(16,t);return sP(c,10)+h}}function HL(r){let t=Math.floor(r()*Sw);return t===Sw&&(t=Sw-1),xw.charAt(t)}function KN(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var Mw=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class WL{constructor(t){this.index=new J3(Object.assign({location:"EVENTLOG",createLevelDatabase:ww},t)),this.ulidFactory=$N()}open(){return Mw(this,void 0,void 0,function*(){return this.index.open()})}close(){return Mw(this,void 0,void 0,function*(){return this.index.close()})}clear(){return Mw(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,i){return Mw(this,void 0,void 0,function*(){const l=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},i),{watermark:l}))})}queryEvents(t,n,i){return Mw(this,void 0,void 0,function*(){const l=yield this.index.query(t,n,{sortProperty:"watermark",cursor:i});return{events:l.map(({messageCid:p})=>p),cursor:J3.createCursorFromLastArrayItem(l,"watermark")}})}getEvents(t,n){return Mw(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return Mw(this,void 0,void 0,function*(){const i=[];for(const l of n)i.push(this.index.delete(t,l));yield Promise.all(i)})}}function Q3({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*GL(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,i]of t.entries()){const l=[...r,n],p=gh.TO.asCID(i);p?yield[l.join("/"),p]:"object"==typeof i&&(yield*aP(i,l))}else{const n=gh.TO.asCID(t);n?yield[r.join("/"),n]:yield*aP(t,r)}}function*aP(r,t){if(null==r||r instanceof Uint8Array)return;const n=gh.TO.asCID(r);n&&(yield[t.join("/"),n]);for(const[i,l]of Object.entries(r)){const p=[...t,i];yield*GL(p,l)}}function*XL(r,t){if(Array.isArray(t))for(const[n,i]of t.entries()){const l=[...r,n];yield l.join("/"),"object"==typeof i&&!gh.TO.asCID(i)&&(yield*cP(i,l))}else yield*cP(t,r)}function*cP(r,t){if(null!=r&&"object"==typeof r)for(const[n,i]of Object.entries(r)){const l=[...t,n];yield l.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"==typeof i&&!gh.TO.asCID(i)&&(yield*XL(l,i))}}class lP{constructor({cid:t,bytes:n,value:i}){if(!t||!n||typeof i>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:Q3(),bytes:Q3(),value:Q3(),asBlock:Q3()})}links(){return aP(this.value,[])}tree(){return cP(this.value,[])}get(t="/"){return function ZL(r,t){let n=r;for(const[i,l]of t.entries()){if(n=n[l],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map(c=>`[${JSON.stringify(c)}]`).join("")}`);const p=gh.TO.asCID(n);if(p)return{value:p,remaining:t.slice(i+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function dP(){return(dP=(0,ye.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(r),l=yield n.digest(i),p=gh.TO.create(1,t.code,l);return new lP({value:r,bytes:i,cid:p})})).apply(this,arguments)}function uP(){return(uP=(0,ye.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(r),l=yield n.digest(r),p=gh.TO.create(1,t.code,l);return new lP({value:i,bytes:r,cid:p})})).apply(this,arguments)}var Aw=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class hP{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:ww},t),this.blockstore=new $3({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new J3({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Aw(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return Aw(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,i){var l;return Aw(this,void 0,void 0,function*(){null===(l=i?.signal)||void 0===l||l.throwIfAborted();const p=yield Cd(this.blockstore.partition(t),i?.signal),c=Bf.TO.parse(n),h=yield p.get(c,i);return h?(yield Cd(function JL(r){return uP.apply(this,arguments)}({bytes:h,codec:J,hasher:ue}),i?.signal)).value:void 0})}query(t,n,i,l,p){var c;return Aw(this,void 0,void 0,function*(){null===(c=p?.signal)||void 0===c||c.throwIfAborted();const h=hP.buildQueryOptions(i,l),V=yield this.index.query(t,n,h,p);let $;void 0!==l?.limit&&l.limit<V.length&&(V.splice(-1),$=J3.createCursorFromLastArrayItem(V,h.sortProperty));const I=[];for(let q=0;q<V.length;q++){const{messageCid:ke}=V[q],Ne=yield this.get(t,ke,p);Ne&&I.push(Ne)}return{messages:I,cursor:$}})}static buildQueryOptions(t={},n={}){let{limit:i,cursor:l}=n;const{dateCreated:p,datePublished:c,messageTimestamp:h}=t;let V=bu.Ascending,$="messageTimestamp";return void 0!==p?$="dateCreated":void 0!==c?$="datePublished":void 0!==h&&($="messageTimestamp"),void 0!==t[$]&&(V=t[$]),void 0!==i&&i>0&&(i+=1),{sortDirection:V,sortProperty:$,limit:i,cursor:l}}delete(t,n,i){var l;return Aw(this,void 0,void 0,function*(){null===(l=i?.signal)||void 0===l||l.throwIfAborted();const p=yield Cd(this.blockstore.partition(t),i?.signal),c=Bf.TO.parse(n);yield p.delete(c,i),yield this.index.delete(t,n,i)})}put(t,n,i,l){var p;return Aw(this,void 0,void 0,function*(){null===(p=l?.signal)||void 0===p||p.throwIfAborted();const c=yield Cd(this.blockstore.partition(t),l?.signal),h=yield Cd(function YL(r){return dP.apply(this,arguments)}({value:n,codec:J,hasher:ue}),l?.signal),V=rl.parseCid(yield Hr.getCid(n));yield c.put(V,h.bytes,l);const $=V.toString();yield this.index.put(t,$,i,l)})}clear(){return Aw(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}var Jg=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};let eU=(()=>{class r{constructor(n){this.config=Object.assign({location:"RESUMABLE-TASK-STORE",createLevelDatabase:ww},n),this.db=new TE({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return Jg(this,void 0,void 0,function*(){yield this.db.open()})}close(){return Jg(this,void 0,void 0,function*(){yield this.db.close()})}register(n,i){return Jg(this,void 0,void 0,function*(){const l=yield rl.computeCid(n),p={id:l,timeout:Date.now()+1e3*i,retryCount:0,task:n};return yield this.db.put(l,JSON.stringify(p)),p})}grab(n){var i,l,p,c;return Jg(this,void 0,void 0,function*(){const h=[];try{for(var I,V=!0,$=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}}(this.db.iterator());I=yield $.next(),!(i=I.done);V=!0){c=I.value,V=!1;const[q,ke]=c,Ne=JSON.parse(ke);if(Date.now()>=Ne.timeout&&(Ne.timeout=Date.now()+1e3*r.taskTimeoutInSeconds,Ne.retryCount++,yield this.db.put(Ne.id,JSON.stringify(Ne)),h.push(Ne)),h.length>=n)break}}catch(q){l={error:q}}finally{try{!V&&!i&&(p=$.return)&&(yield p.call($))}finally{if(l)throw l.error}}return h})}read(n){return Jg(this,void 0,void 0,function*(){const i=yield this.db.get(n);if(i)return JSON.parse(i)})}extend(n,i){return Jg(this,void 0,void 0,function*(){const l=yield this.db.get(n);if(l){const p=JSON.parse(l);p.timeout=Date.now()+1e3*i,yield this.db.put(p.id,JSON.stringify(p))}})}delete(n){return Jg(this,void 0,void 0,function*(){return this.db.delete(n)})}clear(){return Jg(this,void 0,void 0,function*(){yield this.db.clear()})}}return r.taskTimeoutInSeconds=60,r})();E(44356);var Pa=function(r){return r.MessagesQuery="MessagesQuery",r.MessagesRead="MessagesRead",r.MessagesSubscribe="MessagesSubscribe",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(Pa||{});const VN={[Pa.MessagesQuery]:ew,[Pa.MessagesRead]:hm,[Pa.MessagesSubscribe]:Dg,[Pa.ProtocolsConfigure]:Dd,[Pa.ProtocolsQuery]:mm,[Pa.RecordsDelete]:L0,[Pa.RecordsQuery]:Qb,[Pa.RecordsRead]:kg,[Pa.RecordsSubscribe]:iw,[Pa.RecordsWrite]:Ko};class t6{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return r=this,t=void 0,i=function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}},new((n=void 0)||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())});var r,t,n,i}}var Tw=E(47565);class mP{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,Tw.s)(t)})}}class Im{}class yP extends Im{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield mP.digest({data:n})})}}var Fh=E(94256),n6=E(91006);const r6="urn:jwk:";function Xo({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,er.E8)(n);const i=function iU(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const l=Object.keys(i).sort(),p={};for(const c of l)p[c]=t(i[c]);return p}return i},n=t(r);return JSON.stringify(n)}(n),l=er.U$.string(i).toUint8Array(),p=yield mP.digest({data:l});return er.U$.uint8Array(p).toBase64Url()})}function Cm(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function i6(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function zN(r){return!(!r||"object"!=typeof r||!("kty"in r)||!("k"in r)||"oct"!==r.kty||"string"!=typeof r.k)}function km(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function o6(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}function gP(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}var kd=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class sa{static adjustSignatureToLowS({signature:t}){return kd(this,void 0,void 0,function*(){const n=Fh.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return kd(this,void 0,void 0,function*(){const n=yield sa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){const n=yield sa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){return Fh.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return kd(this,void 0,void 0,function*(){const n=yield sa.privateKeyToBytes({privateKey:t}),i=yield sa.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"secp256k1",x:er.U$.uint8Array(i.x).toBase64Url(),y:er.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield Xo({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return kd(this,void 0,void 0,function*(){return Fh.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){return Fh.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return kd(this,void 0,void 0,function*(){const t=Fh.bI.utils.randomPrivateKey(),n=yield sa.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xo({jwk:n}),n})}static getPublicKey({key:t}){var n;return kd(this,void 0,void 0,function*(){if(!Cm(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Xo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return kd(this,void 0,void 0,function*(){if(!Cm(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return kd(this,void 0,void 0,function*(){if(!i6(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=er.U$.base64Url(t.x).toUint8Array(),l=er.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return kd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield sa.privateKeyToBytes({privateKey:t}),l=yield sa.publicKeyToBytes({publicKey:n});return Fh.bI.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return kd(this,void 0,void 0,function*(){const i=yield sa.privateKeyToBytes({privateKey:n}),l=(0,Tw.s)(t);return Fh.bI.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return kd(this,void 0,void 0,function*(){return Fh.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){try{Fh.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return kd(this,void 0,void 0,function*(){const l=yield sa.publicKeyToBytes({publicKey:t}),p=(0,Tw.s)(i);return Fh.bI.verify(n,p,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return kd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Fh.bI.getPublicKey(t));const n=Fh.bI.ProjectivePoint.fromHex(t);return{x:(0,n6.lq)(n.x,32),y:(0,n6.lq)(n.y,32)}})}}var jh=E(40499),Rd=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class aa{static adjustSignatureToLowS({signature:t}){return Rd(this,void 0,void 0,function*(){const n=jh.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Rd(this,void 0,void 0,function*(){const n=yield aa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Rd(this,void 0,void 0,function*(){const n=yield aa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Rd(this,void 0,void 0,function*(){return jh.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Rd(this,void 0,void 0,function*(){const n=yield aa.privateKeyToBytes({privateKey:t}),i=yield aa.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"P-256",x:er.U$.uint8Array(i.x).toBase64Url(),y:er.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield Xo({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return Rd(this,void 0,void 0,function*(){return jh.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Rd(this,void 0,void 0,function*(){return jh.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Rd(this,void 0,void 0,function*(){const t=jh.Ag.utils.randomPrivateKey(),n=yield aa.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xo({jwk:n}),n})}static getPublicKey({key:t}){var n;return Rd(this,void 0,void 0,function*(){if(!Cm(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Xo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return Rd(this,void 0,void 0,function*(){if(!Cm(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Rd(this,void 0,void 0,function*(){if(!i6(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=er.U$.base64Url(t.x).toUint8Array(),l=er.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Rd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield aa.privateKeyToBytes({privateKey:t}),l=yield aa.publicKeyToBytes({publicKey:n});return jh.Ag.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return Rd(this,void 0,void 0,function*(){const i=yield aa.privateKeyToBytes({privateKey:n}),l=(0,Tw.s)(t);return jh.Ag.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Rd(this,void 0,void 0,function*(){return jh.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Rd(this,void 0,void 0,function*(){try{jh.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Rd(this,void 0,void 0,function*(){const l=yield aa.publicKeyToBytes({publicKey:t}),p=(0,Tw.s)(i);return jh.Ag.verify(n,p,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Rd(this,void 0,void 0,function*(){32===t.byteLength&&(t=jh.Ag.getPublicKey(t));const n=jh.Ag.ProjectivePoint.fromHex(t);return{x:(0,n6.lq)(n.x,32),y:(0,n6.lq)(n.y,32)}})}}var QM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class s6 extends Im{computePublicKey({key:t}){return QM(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield sa.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield aa.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return QM(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield sa.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield aa.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return QM(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield sa.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield aa.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return QM(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield sa.sign({key:t,data:n});case"P-256":return yield aa.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return QM(this,void 0,void 0,function*(){if(!i6(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield sa.verify({key:t,signature:n,data:i});case"P-256":return yield aa.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Qd=E(86295),$h=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class ca{static bytesToPrivateKey({privateKeyBytes:t}){return $h(this,void 0,void 0,function*(){const n=Qd.ev.getPublicKey(t),i={crv:"Ed25519",d:er.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:er.U$.uint8Array(n).toBase64Url()};return i.kid=yield Xo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return $h(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:er.U$.uint8Array(t).toBase64Url()};return n.kid=yield Xo({jwk:n}),n})}static computePublicKey({key:t}){return $h(this,void 0,void 0,function*(){const n=yield ca.privateKeyToBytes({privateKey:t}),i=Qd.ev.getPublicKey(n),l={kty:"OKP",crv:"Ed25519",x:er.U$.uint8Array(i).toBase64Url()};return l.kid=yield Xo({jwk:l}),l})}static convertPrivateKeyToX25519({privateKey:t}){return $h(this,void 0,void 0,function*(){const n=yield ca.privateKeyToBytes({privateKey:t}),i=(0,Qd.OA)(n),l=Qd.TU.getPublicKey(i),p={kty:"OKP",crv:"X25519",d:er.U$.uint8Array(i).toBase64Url(),x:er.U$.uint8Array(l).toBase64Url()};return p.kid=yield Xo({jwk:p}),p})}static convertPublicKeyToX25519({publicKey:t}){return $h(this,void 0,void 0,function*(){const n=yield ca.publicKeyToBytes({publicKey:t});if(!(yield ca.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const l=(0,Qd.GU)(n),p={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(l).toBase64Url()};return p.kid=yield Xo({jwk:p}),p})}static generateKey(){return $h(this,void 0,void 0,function*(){const t=Qd.ev.utils.randomPrivateKey(),n=yield ca.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xo({jwk:n}),n})}static getPublicKey({key:t}){var n;return $h(this,void 0,void 0,function*(){if(!km(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Xo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return $h(this,void 0,void 0,function*(){if(!km(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return $h(this,void 0,void 0,function*(){if(!o6(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return er.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return $h(this,void 0,void 0,function*(){const i=yield ca.privateKeyToBytes({privateKey:t});return Qd.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return $h(this,void 0,void 0,function*(){try{Qd.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return $h(this,void 0,void 0,function*(){const l=yield ca.publicKeyToBytes({publicKey:t});return Qd.ev.verify(n,i,l)})}}var eA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class HN extends Im{computePublicKey({key:t}){return eA(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ca.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return eA(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield ca.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return eA(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ca.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return eA(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield ca.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return eA(this,void 0,void 0,function*(){if(!o6(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield ca.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}}var ty=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const vP={Ed25519:{implementation:HN,names:["Ed25519"]},secp256k1:{implementation:s6,names:["ES256K","secp256k1"]},secp256r1:{implementation:s6,names:["ES256","secp256r1"]},"SHA-256":{implementation:yP,names:["SHA-256"]}};class Rm{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new er.ny}digest({algorithm:t,data:n}){return ty(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return ty(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return ty(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const l=`${r6}${i.kid}`;return yield this._keyStore.set(l,i),l})}getKeyUri({key:t}){return ty(this,void 0,void 0,function*(){const n=yield Xo({jwk:t});return`${r6}${n}`})}getPublicKey({keyUri:t}){return ty(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return ty(this,void 0,void 0,function*(){if(!gP(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Xo({jwk:i}));const l=yield this.getKeyUri({key:i});return yield this._keyStore.set(l,i),l})}sign({keyUri:t,data:n}){return ty(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),l=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:l}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return ty(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=vP[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const l in vP){const p=vP[l];if(n&&p.names.includes(n))return l;if(i&&p.names.includes(i))return l}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return ty(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}var lU=E(86703),eu=E(62953);function WN(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}function GN(r){return(0,eu.po)(r)}function Dw(){return lU.E.randomUUID()}var qg=E(91879),nA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const ZN=[128,192,256],d6=[96,104,112,120,128];class Qg{static bytesToPrivateKey({privateKeyBytes:t}){return nA(this,void 0,void 0,function*(){const n={k:er.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield Xo({jwk:n}),n})}static decrypt({key:t,data:n,iv:i,additionalData:l,tagLength:p}){return nA(this,void 0,void 0,function*(){if(12!==i.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(p&&!d6.includes(p))throw new RangeError(`The tag length is invalid: Must be ${d6.join(", ")} bits`);const c=(0,qg.NZ)(),h=yield c.importKey("jwk",t,{name:"AES-GCM"},!0,["decrypt"]),V=Object.assign(Object.assign({name:"AES-GCM",iv:i},p&&{tagLength:p}),l&&{additionalData:l}),$=yield c.decrypt(V,h,n);return new Uint8Array($)})}static encrypt({data:t,iv:n,key:i,additionalData:l,tagLength:p}){return nA(this,void 0,void 0,function*(){if(12!==n.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(p&&!d6.includes(p))throw new RangeError(`The tag length is invalid: Must be ${d6.join(", ")} bits`);const c=(0,qg.NZ)(),h=yield c.importKey("jwk",i,{name:"AES-GCM"},!0,["encrypt"]),V=Object.assign(Object.assign({name:"AES-GCM",iv:n},p&&{tagLength:p}),l&&{additionalData:l}),$=yield c.encrypt(V,h,t);return new Uint8Array($)})}static generateKey({length:t}){return nA(this,void 0,void 0,function*(){if(!ZN.includes(t))throw new RangeError(`The key length is invalid: Must be ${ZN.join(", ")} bits`);const n=(0,qg.NZ)(),i=yield n.generateKey({name:"AES-GCM",length:t},!0,["encrypt"]),h=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(yield n.exportKey("jwk",i),["ext","key_ops"]);return h.kid=yield Xo({jwk:h}),h})}static privateKeyToBytes({privateKey:t}){return nA(this,void 0,void 0,function*(){if(!zN(t))throw new Error("AesGcm: The provided key is not a valid oct private key.");return er.U$.base64Url(t.k).toUint8Array()})}}var wP=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},ev=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class CE{static bytesToPrivateKey({privateKeyBytes:t}){return ev(this,void 0,void 0,function*(){const n=Qd.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n).toBase64Url()};return i.kid=yield Xo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return ev(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(t).toBase64Url()};return n.kid=yield Xo({jwk:n}),n})}static computePublicKey({key:t}){return ev(this,void 0,void 0,function*(){const n=yield CE.privateKeyToBytes({privateKey:t}),i=Qd.TU.getPublicKey(n),l={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(i).toBase64Url()};return l.kid=yield Xo({jwk:l}),l})}static generateKey(){return ev(this,void 0,void 0,function*(){const t=Qd.TU.utils.randomPrivateKey(),n=yield CE.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xo({jwk:n}),n})}static getPublicKey({key:t}){var n;return ev(this,void 0,void 0,function*(){if(!km(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Xo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return ev(this,void 0,void 0,function*(){if(!km(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return ev(this,void 0,void 0,function*(){if(!o6(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return er.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return ev(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield CE.privateKeyToBytes({privateKey:t}),l=yield CE.publicKeyToBytes({publicKey:n});return Qd.TU.getSharedSecret(i,l)})}}E(94730);class bU{static deriveKeyBytes({baseKeyBytes:t,length:n,hash:i,salt:l,info:p=new Uint8Array}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const h=yield(0,qg.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);l="string"==typeof l?er.U$.string(l).toUint8Array():l,p="string"==typeof p?er.U$.string(p).toUint8Array():p;const V=yield crypto.subtle.deriveBits({name:"HKDF",hash:i,salt:l,info:p},h,n);return new Uint8Array(V)})}}class Zi extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zi)}}var Yi=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(Yi||{}),ny=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class YN extends Im{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return ny(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield sa.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield aa.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}default:throw new Zi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return ny(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield sa.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield aa.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}default:throw new Zi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return ny(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield sa.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield aa.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return ny(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield sa.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield aa.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return ny(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield sa.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield aa.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return ny(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield sa.privateKeyToBytes({privateKey:t});case"P-256":return yield aa.privateKeyToBytes({privateKey:t});default:throw new Zi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return ny(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield sa.publicKeyToBytes({publicKey:t});case"P-256":return yield aa.publicKeyToBytes({publicKey:t});default:throw new Zi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return ny(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield sa.sign({key:t,data:n});case"P-256":return yield aa.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return ny(this,void 0,void 0,function*(){if(!i6(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield sa.verify({key:t,signature:n,data:i});case"P-256":return yield aa.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var ry=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},oA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},JN=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const qN=[128,192,256];class sA{static bytesToPrivateKey({privateKeyBytes:t}){return oA(this,void 0,void 0,function*(){const n={k:er.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield Xo({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return oA(this,void 0,void 0,function*(){if(!qN.includes(t))throw new RangeError(`The key length is invalid: Must be ${qN.join(", ")} bits`);const n=(0,qg.NZ)(),i=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),l=yield n.exportKey("jwk",i),h=JN(l,["ext","key_ops"]);return h.kid=yield Xo({jwk:h}),h})}static privateKeyToBytes({privateKey:t}){return oA(this,void 0,void 0,function*(){if(!zN(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return er.U$.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:i}){return oA(this,void 0,void 0,function*(){if(!("alg"in i)||!i.alg)throw new Zi(Yi.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(i.alg))throw new Zi(Yi.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${i.alg}`);const l=(0,qg.NZ)(),p=yield l.importKey("jwk",i,{name:"AES-KW"},!0,["unwrapKey"]),c={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!c)throw new Zi(Yi.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const h=yield l.unwrapKey("raw",t.buffer,p,"AES-KW",{name:c},!0,["unwrapKey"]),V=yield l.exportKey("jwk",h),ke=JN(V,["ext","key_ops"]);return ke.kid=yield Xo({jwk:ke}),ke})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return oA(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new Zi(Yi.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new Zi(Yi.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new Zi(Yi.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const i=(0,qg.NZ)(),l=yield i.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),p={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!p)throw new Zi(Yi.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const c=yield i.importKey("jwk",t,{name:p},!0,["unwrapKey"]),h=yield i.wrapKey("raw",c,l,"AES-KW");return new Uint8Array(h)})}}var aA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class QN extends Im{bytesToPrivateKey({privateKeyBytes:t}){return aA(this,void 0,void 0,function*(){const n=yield sA.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return aA(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],i=yield sA.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return aA(this,void 0,void 0,function*(){return yield sA.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return aA(this,void 0,void 0,function*(){return yield sA.unwrapKey(t)})}wrapKey(t){return aA(this,void 0,void 0,function*(){return sA.wrapKey(t)})}}class MU{static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:i,iterations:l,length:p}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const c=(0,qg.NZ)(),h=yield c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),V=yield c.deriveBits({name:"PBKDF2",hash:n,salt:i,iterations:l},h,p);return new Uint8Array(V)})}}var cA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},tu=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const xP={"AES-GCM":{implementation:class IU extends Im{bytesToPrivateKey({privateKeyBytes:t}){return cA(this,void 0,void 0,function*(){const n=yield Qg.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return cA(this,void 0,void 0,function*(){return Qg.decrypt(t)})}encrypt(t){return cA(this,void 0,void 0,function*(){return Qg.encrypt(t)})}generateKey({algorithm:t}){return cA(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield Qg.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return cA(this,void 0,void 0,function*(){return yield Qg.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:QN,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class xU extends Im{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return ry(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield ca.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}throw new Zi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return ry(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield ca.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}throw new Zi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return ry(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ca.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Zi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return ry(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield ca.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return ry(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ca.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return ry(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield ca.privateKeyToBytes({privateKey:t});throw new Zi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return ry(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield ca.publicKeyToBytes({publicKey:t});throw new Zi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return ry(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield ca.sign({key:t,data:n});throw new Zi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return ry(this,void 0,void 0,function*(){if(!o6(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield ca.verify({key:t,signature:n,data:i});throw new Zi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class EU extends Im{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield bU.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:l}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class DU extends Im{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,l]=n.split(/[-+]/),p={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[l];return yield MU.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:p}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:YN,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:YN,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:yP,names:["SHA-256"],operations:["digest"]}};class kE{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return tu(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return tu(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return tu(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,i;return tu(this,void 0,void 0,function*(){const l=this.getAlgorithmName({algorithm:t.algorithm}),p=this.getAlgorithm({algorithm:l});let c;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":c=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":c=t.algorithm.split(/[-+]/)[2];break;default:throw new Zi(Yi.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const h=+(null!==(i=null===(n=c.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==i?i:-1);if(-1===h)throw new Zi(Yi.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${c}`);const V=yield p.deriveKeyBytes(Object.assign(Object.assign({},t),{length:h}));return yield this.bytesToPrivateKey({algorithm:c,privateKeyBytes:V})})}deriveKeyBytes(t){return tu(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return tu(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return tu(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return tu(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t.algorithm}),p=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t.algorithm});return null!==(n=p.kid)&&void 0!==n||(p.kid=yield Xo({jwk:p})),p})}getKeyUri(t){return tu(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return tu(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return tu(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return tu(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return tu(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:i}).sign({data:n,key:t})})}unwrapKey(t){return tu(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:i}){return tu(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}wrapKey(t){return tu(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const i=null===(n=xP[t])||void 0===n?void 0:n.implementation;if(!i)throw new Zi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({algorithm:t,key:n}){var i;const l=null!==(i=n?.alg)&&void 0!==i?i:t,p=n?.crv;for(const c of Object.keys(xP)){const h=xP[c].names;if(l&&h.includes(l))return c;if(p&&h.includes(p))return c}throw new Zi(Yi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${l}, crv=${p}. Please check the documentation for the list of supported algorithms.`)}}var u6=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(u6||{});const Cw={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ma{constructor({method:t,id:n,path:i,query:l,fragment:p,params:c}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=l,this.fragment=p,this.params=c}static parse(t){if(!t)return null;const n=Ma.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:l,path:p,query:c,fragment:h}=n.groups,V={uri:`did:${i}:${l}`,method:i,id:l};if(p&&(V.path=p),c&&(V.query=c.slice(1)),h&&(V.fragment=h.slice(1)),c){const $={},I=c.slice(1).split("&");for(const q of I){const[ke,Ne]=q.split("=");$[ke]=Ne}V.params=$}return V}}Ma.METHOD_PATTERN="([a-z0-9]+)",Ma.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ma.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ma.PCT_ENCODED_PATTERN})`,Ma.METHOD_ID_PATTERN=`((?:${Ma.ID_CHAR_PATTERN}*:)*(${Ma.ID_CHAR_PATTERN}+))`,Ma.PATH_PATTERN="(/[^#?]*)?",Ma.QUERY_PATTERN="([?][^#]*)?",Ma.FRAGMENT_PATTERN="(#.*)?",Ma.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ma.METHOD_PATTERN}):(?<id>${Ma.METHOD_ID_PATTERN})(?<path>${Ma.PATH_PATTERN})(?<query>${Ma.QUERY_PATTERN})(?<fragment>${Ma.FRAGMENT_PATTERN})$`);class Ks extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks)}}var Ps=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Ps||{});function Pp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function MP(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var lA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class iy{constructor({uri:t,document:n,metadata:i,keyManager:l}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=l}export(){return lA(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),p=yield this.keyManager.exportKey({keyUri:l});n.push(Object.assign({},p))}t.privateKeys=n}return t})}getSigner(t){return lA(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(V=>{var $,I;return Pp(V.id)===(null!==($=Pp(t?.methodId))&&void 0!==$?$:Pp(null===(I=this.document.assertionMethod)||void 0===I?void 0:I[0]))});if(!i||!i.publicKeyJwk)throw new Ks(Ps.InternalError,"A verification method intended for signing could not be determined from the DID Document");const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),p=yield this.keyManager.getPublicKey({keyUri:l}),c=this.keyManager;return{algorithm:WN(p),keyId:i.id,sign(V){return lA(this,arguments,void 0,function*({data:$}){return yield c.sign({data:$,keyUri:l})})},verify(V){return lA(this,arguments,void 0,function*({data:$,signature:I}){return yield c.verify({data:$,key:p,signature:I})})}}})}static import(t){return lA(this,arguments,void 0,function*({portableDid:n,keyManager:i=new Rm}){var l;const p=function SP({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(MP))&&void 0!==n?n:[]),Object.keys(u6).forEach(l=>{var p,c;i.push(...null!==(c=null===(p=r[l])||void 0===p?void 0:p.filter(MP))&&void 0!==c?c:[])}),i}({didDocument:n.document});if(0===p.length)throw new Ks(Ps.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let h of null!==(l=n.privateKeys)&&void 0!==l?l:[])yield i.importKey({key:h});for(let h of p){if(!h.publicKeyJwk)throw new Error(`Verification method '${h.id}' does not contain a public key in JWK format`);const V=yield i.getKeyUri({key:h.publicKeyJwk});yield i.getPublicKey({keyUri:V})}return new iy({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var e9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class t9{static getSigningMethod(t){return e9(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return e9(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var id=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},n9=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const r9="https://diddht.tbddev.org",tv=7200,Su=",";var i9=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(i9||{}),yf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(yf||{}),o9=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(o9||{});const s9={Ed25519:yf.Ed25519,ES256K:yf.secp256k1,ES256:yf.secp256r1,"P-256":yf.secp256r1,secp256k1:yf.secp256k1,secp256r1:yf.secp256r1,X25519:yf.X25519},a9={[yf.Ed25519]:"Ed25519",[yf.secp256k1]:"ES256K",[yf.secp256r1]:"ES256",[yf.X25519]:"ECDH-ES+A256KW"};let h6=(()=>{class r extends t9{static create(){return id(this,arguments,void 0,function*({keyManager:n=new Rm,options:i={}}={}){var l,p,c,h,V,$,I,q,ke,Ne,Pe;if(null!==(l=i.verificationMethods)&&void 0!==l&&l.some(Ct=>!(Ct.algorithm in s9)))throw new Error("One or more verification method algorithms are not supported");const Ke=null===(p=i.verificationMethods)||void 0===p?void 0:p.filter(Ct=>"id"in Ct).map(Ct=>Ct.id);if(Ke&&Ke.length!==new Set(Ke).size)throw new Error("One or more verification method IDs are not unique");if(null!==(c=i.services)&&void 0!==c&&c.some(Ct=>!Ct.id||!Ct.type||!Ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const rt=yield n.generateKey({algorithm:"Ed25519"}),ht=yield n.getPublicKey({keyUri:rt}),ct=yield cl.identityKeyToIdentifier({identityKey:ht}),dt=Object.assign(Object.assign({id:ct},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),At=[...null!==(h=i.verificationMethods)&&void 0!==h?h:[]];At?.some(Ct=>{var zt;return"0"===(null===(zt=Ct.id)||void 0===zt?void 0:zt.split("#").pop())})||At.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Ct of At){const zt=Ct.id&&"0"===Ct.id.split("#").pop()?rt:yield n.generateKey({algorithm:Ct.algorithm}),Zt=yield n.getPublicKey({keyUri:zt});let xn=null!==($=null!==(V=Ct.id)&&void 0!==V?V:Zt.kid)&&void 0!==$?$:yield Xo({jwk:Zt});xn=`${ct}#${Pp(xn)}`,null!==(I=dt.verificationMethod)&&void 0!==I||(dt.verificationMethod=[]),dt.verificationMethod.push({id:xn,type:"JsonWebKey",controller:null!==(q=Ct.controller)&&void 0!==q?q:ct,publicKeyJwk:Zt});for(const Cn of null!==(ke=Ct.purposes)&&void 0!==ke?ke:[])dt[Cn]||(dt[Cn]=[]),dt[Cn].push(xn)}null===(Ne=i.services)||void 0===Ne||Ne.forEach(Ct=>{var zt;null!==(zt=dt.service)&&void 0!==zt||(dt.service=[]),Ct.id=`${ct}#${Ct.id.split("#").pop()}`,dt.service.push(Ct)});const Pt=new iy({uri:ct,document:dt,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Pe=i.publish)||void 0===Pe||Pe){const Ct=yield r.publish({did:Pt,gatewayUri:i.gatewayUri});Pt.metadata=Ct.didDocumentMetadata}return Pt})}static import(n){return id(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Rm}){var p;const c=Ma.parse(i.uri);if(c?.method!==r.methodName)throw new Ks(Ps.MethodNotSupported,"Method not supported");const h=yield iy.import({portableDid:i,keyManager:l});if(null===(p=h.document.verificationMethod)||void 0===p||!p.some(V=>{var $;return"0"===(null===($=V.id)||void 0===$?void 0:$.split("#").pop())}))throw new Ks(Ps.InvalidDidDocument,"DID document must contain an Identity Key");return h})}static getSigningMethod(n){return id(this,arguments,void 0,function*({didDocument:i,methodId:l="#0"}){var p;const c=Ma.parse(i.id);if(c&&c.method!==this.methodName)throw new Ks(Ps.MethodNotSupported,`Method not supported: ${c.method}`);const h=null===(p=i.verificationMethod)||void 0===p?void 0:p.find(V=>{var $,I;return Pp(V.id)===(null!==($=Pp(l))&&void 0!==$?$:Pp(null===(I=i.assertionMethod)||void 0===I?void 0:I[0]))});if(!h||!h.publicKeyJwk)throw new Ks(Ps.InternalError,"A verification method intended for signing could not be determined from the DID Document");return h})}static publish(n){return id(this,arguments,void 0,function*({did:i,gatewayUri:l=r9}){return yield oy.put({did:i,gatewayUri:l})})}static resolve(n){return id(this,arguments,void 0,function*(i,l={}){var p;const c=null!==(p=l?.gatewayUri)&&void 0!==p?p:r9;try{yield cl.identifierToIdentityKey({didUri:i});const{didDocument:h,didDocumentMetadata:V}=yield oy.get({didUri:i,gatewayUri:c});return Object.assign(Object.assign({},Cw),{didDocument:h,didDocumentMetadata:V})}catch(h){if(!(h instanceof Ks))throw new Error(h);return Object.assign(Object.assign({},Cw),{didResolutionMetadata:Object.assign({error:h.code},h.message&&{errorMessage:h.message})})}})}}return r.methodName="dht",r})();class oy{static get(t){return id(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const l=cl.identifierToIdentityKeyBytes({didUri:n}),p=yield oy.pkarrGet({gatewayUri:i,publicKeyBytes:l}),c=yield cl.parseBep44GetMessage({bep44Message:p}),h=yield oy.fromDnsPacket({didUri:n,dnsPacket:c});return h.didDocumentMetadata.versionId=p.seq.toString(),h})}static put(t){return id(this,arguments,void 0,function*({did:n,gatewayUri:i}){const l=yield oy.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),p=yield cl.createBep44PutMessage({dnsPacket:l,publicKeyBytes:cl.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),c=yield oy.pkarrPut({gatewayUri:i,bep44Message:p});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:c,versionId:p.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return id(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const l=er.U$.uint8Array(i).toBase32Z(),p=new URL(l,n).href;let c;try{if(c=yield fetch(p,{method:"GET"}),!c.ok)throw new Ks(Ps.NotFound,`Pkarr record not found for: ${l}`)}catch($){throw $ instanceof Ks?$:new Ks(Ps.InternalError,`Failed to fetch Pkarr record: ${$.message}`)}const h=yield c.arrayBuffer();if(!h)throw new Ks(Ps.NotFound,`Pkarr record not found for: ${l}`);if(h.byteLength<72)throw new Ks(Ps.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${h.byteLength}`);if(h.byteLength>1072)throw new Ks(Ps.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${h.byteLength}`);return{k:i,seq:Number(new DataView(h).getBigUint64(64)),sig:new Uint8Array(h,0,64),v:new Uint8Array(h,72)}})}static pkarrPut(t){return id(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const l=er.U$.uint8Array(i.k).toBase32Z(),p=new URL(l,n).href,c=new Uint8Array(i.v.length+72);let h;c.set(i.sig,0),new DataView(c.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),c.set(i.v,i.sig.length+8);try{h=yield fetch(p,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:c})}catch(V){throw new Ks(Ps.InternalError,`Failed to put Pkarr record for identifier ${l}: ${V.message}`)}return h.ok})}static fromDnsPacket(t){return id(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var l,p,c;const h={id:n},V={published:!0},$=new Map;for(const I of null!==(l=i?.answers)&&void 0!==l?l:[]){if("TXT"!==I.type)continue;const q=I.name.split(".")[0].substring(1);switch(!0){case q.startsWith("aka"):{const ke=cl.parseTxtDataToString(I.data);h.alsoKnownAs=ke.split(Su);break}case q.startsWith("cnt"):{const ke=cl.parseTxtDataToString(I.data);h.controller=ke.includes(Su)?ke.split(Su):ke;break}case q.startsWith("k"):{const{id:ke,t:Ne,k:Pe,c:Ke,a:rt}=cl.parseTxtDataToObject(I.data),ht=er.U$.base64Url(Pe).toUint8Array(),ct=yf[Number(Ne)];let dt=yield cl.keyConverter(ct).bytesToPublicKey({publicKeyBytes:ht});dt.alg=rt||a9[Number(Ne)];const At="k0"===q?"0":void 0!==ke?ke:yield Xo({jwk:dt});null!==(p=h.verificationMethod)&&void 0!==p||(h.verificationMethod=[]);const Pt=`${n}#${At}`;h.verificationMethod.push({id:Pt,type:"JsonWebKey",controller:Ke??n,publicKeyJwk:dt}),$.set(q,Pt);break}case q.startsWith("s"):{const ke=cl.parseTxtDataToObject(I.data),{id:Ne,t:Pe,se:Ke}=ke,rt=n9(ke,["id","t","se"]),ht=Ke.includes(Su)?Ke.split(Su):[Ke],ct=Object.fromEntries(Object.entries(rt).map(([dt,At])=>[dt,At.includes(Su)?At.split(Su):At]));null!==(c=h.service)&&void 0!==c||(h.service=[]),h.service.push(Object.assign(Object.assign({},ct),{id:`${n}#${Ne}`,type:Pe,serviceEndpoint:ht}));break}case q.startsWith("typ"):{const{id:ke}=cl.parseTxtDataToObject(I.data);V.types=ke.split(Su).map(Ne=>Number(Ne));break}case q.startsWith("did"):{const ke=ct=>ct.split(Su).map(dt=>$.get(dt)).filter(dt=>"string"==typeof dt),{auth:Ne,asm:Pe,del:Ke,inv:rt,agm:ht}=cl.parseTxtDataToObject(I.data);Ne&&(h.authentication=ke(Ne)),Pe&&(h.assertionMethod=ke(Pe)),Ke&&(h.capabilityDelegation=ke(Ke)),rt&&(h.capabilityInvocation=ke(rt)),ht&&(h.keyAgreement=ke(ht));break}}}return{didDocument:h,didDocumentMetadata:V,didResolutionMetadata:{}}})}static toDnsPacket(t){return id(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:l,previousDidProof:p}){var c,h,V,$,I;const q=[],ke=[],Ne=new Map,Pe=[],Ke=[];if(void 0!==p){const{signature:ct,previousDid:dt}=p;yield cl.validatePreviousDidProof({newDid:n.id,previousDidProof:p}),q.push({type:"TXT",name:"_prv._did.",ttl:tv,data:`id=${dt};s=${ct}`})}if(n.alsoKnownAs&&q.push({type:"TXT",name:"_aka._did.",ttl:tv,data:n.alsoKnownAs.join(Su)}),n.controller){const ct=Array.isArray(n.controller)?n.controller.join(Su):n.controller;q.push({type:"TXT",name:"_cnt._did.",ttl:tv,data:ct})}for(const[ct,dt]of null!==(h=null===(c=n.verificationMethod)||void 0===c?void 0:c.entries())&&void 0!==h?h:[]){const At=`k${ct}`;Ke.push(At);let Pt=dt.id.split("#").pop();Ne.set(Pt,At);const Ct=dt.publicKeyJwk;if(!Ct?.crv||!(Ct.crv in s9))throw new Ks(Ps.InvalidPublicKeyType,`Verification method '${dt.id}' contains an unsupported key type: ${null!==(V=Ct?.crv)&&void 0!==V?V:"undefined"}`);const zt=yf[Ct.crv],Zt=yield cl.keyConverter(Ct.crv).publicKeyToBytes({publicKey:Ct}),Cn=[`t=${zt}`,`k=${er.U$.uint8Array(Zt).toBase64Url()}`];"0"!==Pt&&(yield Xo({jwk:Ct}))!==Pt&&Cn.unshift(`id=${Pt}`),Ct.alg!==a9[zt]&&Cn.push(`a=${Ct.alg}`),dt.controller!==n.id&&Cn.push(`c=${dt.controller}`),q.push({type:"TXT",name:`_${At}._did.`,ttl:tv,data:Cn.join(";")})}null===($=n.service)||void 0===$||$.forEach((ct,dt)=>{const At=`s${dt}`;Pe.push(At);let{id:Pt,type:Ct,serviceEndpoint:zt}=ct,Zt=n9(ct,["id","type","serviceEndpoint"]);Pt=Pp(Pt),zt=Array.isArray(zt)?zt.join(","):zt;const Cn=Object.entries(Object.assign({id:Pt,t:Ct,se:zt},Zt)).map(([ir,Pn])=>`${ir}=${Pn}`).join(";"),Nn=cl.chunkDataIfNeeded(Cn);q.push({type:"TXT",name:`_${At}._did.`,ttl:tv,data:Nn})});const rt=["v=0"];if(Ke.length&&rt.push(`vm=${Ke.join(Su)}`),Object.keys(u6).forEach(ct=>{var dt;const At=null===(dt=n[ct])||void 0===dt?void 0:dt.map(Pt=>Ne.get(Pt.split("#").pop()));At&&rt.push(`${o9[ct]}=${At.join(Su)}`)}),Pe.length&&rt.push(`svc=${Pe.join(Su)}`),null!==(I=i.types)&&void 0!==I&&I.length){const dt=i.types.map(At=>"string"==typeof At?i9[At]:At);q.push({type:"TXT",name:"_typ._did.",ttl:tv,data:`id=${dt.join(Su)}`})}q.push({type:"TXT",name:"_did."+oy.getUniqueDidSuffix(n.id)+".",ttl:tv,data:rt.join(";")});for(const ct of l||[])ke.push({type:"NS",name:"_did."+oy.getUniqueDidSuffix(n.id)+".",ttl:tv,data:ct+"."});return{id:0,type:"response",flags:ME.hB,answers:[...q,...ke]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class cl{static createBep44PutMessage(t){return id(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:l}){const p=Math.ceil(Date.now()/1e3),c=(0,ME.lF)(n),h=L3.A.encode({seq:p,v:c}).subarray(1,-1);if(h.length>1e3)throw new Ks(Ps.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${h.length} bytes`);return{k:i,seq:p,sig:yield l.sign({data:h}),v:c}})}static identifierToIdentityKey(t){return id(this,arguments,void 0,function*({didUri:n}){let i=cl.identifierToIdentityKeyBytes({didUri:n});return yield ca.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ma.parse(t);if(!n)throw new Ks(Ps.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==h6.methodName)throw new Ks(Ps.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=er.U$.base32Z(n.id).toUint8Array()}catch{throw new Ks(Ps.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Ks(Ps.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return id(this,arguments,void 0,function*({identityKey:n}){const i=yield ca.publicKeyToBytes({publicKey:n}),l=er.U$.uint8Array(i).toBase32Z();return`did:${h6.methodName}:${l}`})}static keyConverter(t){const i={Ed25519:ca,"P-256":{publicKeyToBytes:l=>id(this,[l],void 0,function*({publicKey:p}){const c=yield aa.publicKeyToBytes({publicKey:p});return yield aa.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:aa.bytesToPublicKey,privateKeyToBytes:aa.privateKeyToBytes,bytesToPrivateKey:aa.bytesToPrivateKey},secp256k1:{publicKeyToBytes:l=>id(this,[l],void 0,function*({publicKey:p}){const c=yield sa.publicKeyToBytes({publicKey:p});return yield sa.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:sa.bytesToPublicKey,privateKeyToBytes:sa.privateKeyToBytes,bytesToPrivateKey:sa.bytesToPrivateKey},X25519:CE}[t];if(!i)throw new Ks(Ps.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return id(this,arguments,void 0,function*({bep44Message:n}){const i=yield ca.bytesToPublicKey({publicKeyBytes:n.k}),l=L3.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield ca.verify({key:i,signature:n.sig,data:l})))throw new Ks(Ps.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,ME.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[l,p]=i.split("=");return n[l]=p,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return er.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Ks(Ps.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return id(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const l=yield cl.identifierToIdentityKey({didUri:i.previousDid}),p=cl.identifierToIdentityKeyBytes({didUri:n}),c=er.U$.base64Url(i.signature).toUint8Array();if(!(yield ca.verify({key:l,data:p,signature:c})))throw new Ks(Ps.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var p6=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};let PU=(()=>{class r extends t9{static create(){return p6(this,arguments,void 0,function*({keyManager:n=new Rm,options:i={}}={}){var l,p,c,h;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const V=null!==(h=null!==(l=i.algorithm)&&void 0!==l?l:null===(c=null===(p=i.verificationMethods)||void 0===p?void 0:p[0])||void 0===c?void 0:c.algorithm)&&void 0!==h?h:"Ed25519",$=yield n.generateKey({algorithm:V}),I=yield n.getPublicKey({keyUri:$}),q=er.U$.object(I).toBase64Url(),ke=`did:${r.methodName}:${q}`,Pe=(yield r.resolve(ke)).didDocument;return new iy({uri:ke,document:Pe,metadata:{},keyManager:n})})}static getSigningMethod(n){return p6(this,arguments,void 0,function*({didDocument:i}){var l;const p=Ma.parse(i.id);if(p&&p.method!==this.methodName)throw new Ks(Ps.MethodNotSupported,`Method not supported: ${p.method}`);const[c]=null!==(l=i.verificationMethod)&&void 0!==l?l:[];if(!c||!c.publicKeyJwk)throw new Ks(Ps.InternalError,"A verification method intended for signing could not be determined from the DID Document");return c})}static import(n){return p6(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Rm}){const p=Ma.parse(i.uri);if(p?.method!==r.methodName)throw new Ks(Ps.MethodNotSupported,"Method not supported");const c=yield iy.import({portableDid:i,keyManager:l});if(1!==c.document.verificationMethod.length)throw new Ks(Ps.InvalidDidDocument,"DID document must contain exactly one verification method");return c})}static resolve(n,i){return p6(this,void 0,void 0,function*(){const l=Ma.parse(n);let p;try{p=er.U$.base64Url(l.id).toObject()}catch{}if(!l||!p)return Object.assign(Object.assign({},Cw),{didResolutionMetadata:{error:"invalidDid"}});if(l.method!==r.methodName)return Object.assign(Object.assign({},Cw),{didResolutionMetadata:{error:"methodNotSupported"}});const c={"@context":["https://www.w3.org/ns/did/v1"],id:l.uri},h=`${c.id}#0`;switch(c.verificationMethod=[{id:h,type:"JsonWebKey",controller:c.id,publicKeyJwk:p}],c.authentication=[h],c.assertionMethod=[h],c.capabilityInvocation=[h],c.capabilityDelegation=[h],c.keyAgreement=[h],p.use){case"sig":delete c.keyAgreement;break;case"enc":delete c.authentication,delete c.assertionMethod,delete c.capabilityInvocation,delete c.capabilityDelegation}return Object.assign(Object.assign({},Cw),{didDocument:c})})}}return r.methodName="jwk",r})();var Ow=E(81447),BU=E(94787);class LU{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new BU.Level(n),this.ttl=Ow(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},l=JSON.stringify(i);return this.cache.put(t,l)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const UU={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var c9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class l9{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||UU;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return c9(this,void 0,void 0,function*(){const i=Ma.parse(t);if(!i)return Object.assign(Object.assign({},Cw),{didResolutionMetadata:{error:Ps.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const l=this.didResolvers.get(i.method);if(!l)return Object.assign(Object.assign({},Cw),{didResolutionMetadata:{error:Ps.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const p=yield this.cache.get(i.uri);if(p)return p;{const c=yield l.resolve(i.uri,n);return c.didResolutionMetadata.error||(yield this.cache.set(i.uri,c)),c}})}dereference(t,n){return c9(this,void 0,void 0,function*(){const i=Ma.parse(t);if(!i)return{dereferencingMetadata:{error:Ps.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:l,didResolutionMetadata:p,didDocumentMetadata:c}=yield this.resolve(i.uri);if(!l)return{dereferencingMetadata:{error:p.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:l,contentMetadata:c};const{service:h=[],verificationMethod:V=[]}=l,$=new Set([t,i.fragment,`#${i.fragment}`]);let I;for(let q of V)if($.has(q.id)){I=q;break}for(let q of h)if($.has(q.id)){I=q;break}return I?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:I,contentMetadata:p}:{dereferencingMetadata:{error:Ps.NotFound},contentStream:null,contentMetadata:{}}})}}const d9={protocol:"http://identity.foundation/protocols/web5/identity-store",published:!1,types:{portableDid:{schema:"https://identity.foundation/schemas/web5/portable-did",dataFormats:["application/json"]},identityMetadata:{schema:"https://identity.foundation/schemas/web5/identity-metadata",dataFormats:["application/json"]}},structure:{portableDid:{},identityMetadata:{}}},FU={protocol:"http://identity.foundation/protocols/web5/jwk-store",published:!1,types:{privateJwk:{schema:"https://identity.foundation/schemas/web5/private-jwk",dataFormats:["application/json"]}},structure:{privateJwk:{}}};function u9(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var RE=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const th="^";class $U extends Rm{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return RE(this,void 0,void 0,function*(){const i={};for(const l of t)null!==(n=l.kid)&&void 0!==n||(l.kid=yield Xo({jwk:l})),i[yield this.getKeyUri({key:l})]=l;this._predefinedKeys=new Map(Object.entries(i)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return RE(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return RE(this,void 0,void 0,function*(){const{value:n,done:i}=this._keyGenerator.next();if(i)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return RE(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return RE(this,void 0,void 0,function*(){const i=this._predefinedKeys.get(t);if(!i)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield ca.sign({data:n,key:i})})}}function sy({agent:r,tenant:t,didUri:n}){return RE(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}var nh=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class TP{constructor(){this.name="DwnDataStore",this._cache=new er.LC({ttl:Ow("15 minutes"),max:100}),this._index=new er.LC({ttl:Ow("2 hours"),max:1e3}),this._protocolInitializedCache=new er.LC({ttl:Ow("1 hour"),max:1e3}),this._recordProperties={dataFormat:"application/json"}}delete({id:t,agent:n,tenant:i}){return nh(this,void 0,void 0,function*(){const l=yield sy({agent:n,tenant:i,didUri:t});let p=yield this.lookupRecordId({id:t,tenantDid:l,agent:n});if(!p)return!1;const{reply:{status:c}}=yield n.dwn.processRequest({author:l,target:l,messageType:Pa.RecordsDelete,messageParams:{recordId:p}});if(202===c.code)return this._index.delete(`${l}${th}${t}`),this._cache.delete(p),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${c.code}) ${c.detail}`)})}get({id:t,agent:n,tenant:i,useCache:l=!1}){return nh(this,void 0,void 0,function*(){const p=yield sy({agent:n,tenant:i,didUri:t});let c=yield this.lookupRecordId({id:t,tenantDid:p,agent:n});if(c)return yield this.getRecord({recordId:c,tenantDid:p,agent:n,useCache:l})})}list({agent:t,tenant:n}){return nh(this,void 0,void 0,function*(){const i=yield sy({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:i})})}set({id:t,data:n,tenant:i,agent:l,preventDuplicates:p=!0,useCache:c=!1}){return nh(this,void 0,void 0,function*(){const h=yield sy({agent:l,tenant:i,didUri:t});if(yield this.initialize({tenant:h,agent:l}),p&&(yield this.lookupRecordId({id:t,tenantDid:h,agent:l})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const V=er.U$.object(n).toUint8Array(),{message:$,reply:{status:I}}=yield l.dwn.processRequest({author:h,target:h,messageType:Pa.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([V],{type:"application/json"})});if(!$||202!==I.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${h}${th}${t}`,$.recordId),c&&this._cache.set($.recordId,n)})}initialize({tenant:t,agent:n}){return nh(this,void 0,void 0,function*(){const i=yield sy({agent:n,tenant:t});if(this._protocolInitializedCache.has(i))return;const{reply:{status:l,entries:p}}=yield n.dwn.processRequest({author:i,target:i,messageType:Pa.ProtocolsQuery,messageParams:{filter:{protocol:this._recordProtocolDefinition.protocol}}});if(200!==l.code)throw new Error(`Failed to query for protocols: ${l.code} - ${l.detail}`);0===p?.length&&(yield this.installProtocol(i,n)),this._protocolInitializedCache.set(i,!0)})}getAllRecords(t){return nh(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:i,useCache:l}){var p;return nh(this,void 0,void 0,function*(){if(l){const V=this._cache.get(t);if(V)return V}const{reply:c}=yield i.dwn.processRequest({author:n,target:n,messageType:Pa.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(p=c.record)||void 0===p||!p.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const h=yield er.VS.consumeToJson({readable:c.record.data});return l&&this._cache.set(t,h),h})}installProtocol(t,n){return nh(this,void 0,void 0,function*(){const{reply:{status:i}}=yield n.dwn.processRequest({author:t,target:t,messageType:Pa.ProtocolsConfigure,messageParams:{definition:this._recordProtocolDefinition}});if(202!==i.code)throw new Error(`Failed to install protocol: ${i.code} - ${i.detail}`)})}lookupRecordId({id:t,tenantDid:n,agent:i}){return nh(this,void 0,void 0,function*(){let l=this._index.get(`${n}${th}${t}`,{updateAgeOnGet:!0});return l||(yield this.getAllRecords({agent:i,tenantDid:n}),l=this._index.get(`${n}${th}${t}`)),l})}}class DP{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:i}){return nh(this,void 0,void 0,function*(){const l=yield sy({agent:n,tenant:i,didUri:t});return!!this.store.has(`${l}${th}${t}`)&&(this.store.delete(`${l}${th}${t}`),!0)})}get({id:t,agent:n,tenant:i}){return nh(this,void 0,void 0,function*(){const l=yield sy({agent:n,tenant:i,didUri:t});return this.store.get(`${l}${th}${t}`)})}list({agent:t,tenant:n}){return nh(this,void 0,void 0,function*(){const i=yield sy({tenant:n,agent:t}),l=[];for(const[p,c]of this.store.entries())p.startsWith(`${i}${th}`)&&l.push(c);return l})}set({id:t,data:n,tenant:i,agent:l,preventDuplicates:p}){return nh(this,void 0,void 0,function*(){const c=yield sy({agent:l,tenant:i,didUri:t});if(p&&this.store.has(`${c}${th}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const h=structuredClone(n);this.store.set(`${c}${th}${t}`,h)})}}var ay=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class KU extends TP{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProtocolDefinition=d9,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"portableDid",schema:this._recordProtocolDefinition.types.portableDid.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ay(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ay(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ay(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ay(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return ay(this,void 0,void 0,function*(){this._index.clear();const{reply:l}=yield t.dwn.processRequest({author:n,target:n,messageType:Pa.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let p=[];for(const c of null!==(i=l.entries)&&void 0!==i?i:[]){if(!c.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const h=er.U$.base64Url(c.encodedData).toObject();u9(h)&&(this._index.set(`${n}${th}${h.uri}`,c.recordId),this._cache.set(c.recordId,h),p.push(h))}return p})}}class VU extends DP{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ay(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ay(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ay(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ay(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var dA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class zU{constructor({ttl:t="15m"}={}){this.cache=new er.LC({ttl:Ow(t)})}get(t){return dA(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return dA(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return dA(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return dA(this,void 0,void 0,function*(){this.cache.clear()})}close(){return dA(this,void 0,void 0,function*(){})}}var rv=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},m6=function(r){return r.Create="Create",r.Resolve="Resolve",r}(m6||{});function f9(r,t){return r.messageType===t}class HU extends l9{constructor({agent:t,didMethods:n,resolverCache:i,store:l}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:i??new zU}),this._didMethods=new Map,this._agent=t,this._store=l??new VU;for(const p of n)this._didMethods.set(p.methodName,p)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:i,store:l}){return rv(this,void 0,void 0,function*(){const c=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:i});if(l??1){const{uri:h,document:V,metadata:$}=c,I={uri:h,document:V,metadata:$};yield this._store.set({id:I.uri,data:I,agent:this.agent,tenant:n??I.uri,preventDuplicates:!1,useCache:!0})}return c})}export({didUri:t,tenant:n}){return rv(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return rv(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return i?yield iy.import({portableDid:i,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return rv(this,void 0,void 0,function*(){const i=Ma.parse(t);if(!i)throw new Error(`Invalid DID URI: ${t}`);const l=this.getMethod(i.method),{didDocument:p,didResolutionMetadata:c}=yield this.resolve(t);if(!p)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(c)}`);return yield l.getSigningMethod({didDocument:p,methodId:n})})}import({portableDid:t,tenant:n}){return rv(this,void 0,void 0,function*(){const i=yield iy.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:l,document:p,metadata:c}=i,h={uri:l,document:p,metadata:c};return yield this._store.set({id:h.uri,data:h,agent:this.agent,tenant:n??h.uri,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n,deleteKey:i=!0}){return rv(this,void 0,void 0,function*(){const l=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!1});if(!l)throw new Error("AgentDidApi: Could not delete, DID not found");yield this._store.delete({id:t,agent:this.agent,tenant:n}),i&&(yield this.deleteKeys({portableDid:l}))})}deleteKeys({portableDid:t}){return rv(this,void 0,void 0,function*(){for(const n of t.document.verificationMethod||[]){if(!n.publicKeyJwk)continue;const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk});yield this.agent.keyManager.deleteKey({keyUri:i})}})}processRequest(t){var n;return rv(this,void 0,void 0,function*(){if(f9(t,m6.Create))try{const i=yield this.create(Object.assign({},t.messageParams));return{result:{uri:i.uri,document:i.document,metadata:i.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(i){return{ok:!1,status:{code:500,message:null!==(n=i.message)&&void 0!==n?n:"Unknown error occurred"}}}if(f9(t,m6.Resolve)){const{didUri:i,options:l}=t.messageParams;return{result:yield this.resolve(i,l),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var WU=E(85493),h9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function p9(r){return IP(r.stream())}function m9(r,t){return h9(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function RU(r){if(!function kU(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(i=>"string"==typeof i);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:i}=n.contentStream,l="string"==typeof i?[i]:Array.isArray(i)&&i.every(p=>"string"==typeof p)?i:[];if(l.length>0)return l}return[]})}function GU(r){return mo.getAuthor(r)}function y6(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===Wi.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===ui.Write}function XU(r){return Hr.getCid(r)}function ZU(r,t){return h9(this,void 0,void 0,function*(){const n=t===zd.CreatedAscending||t===zd.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield XU(r),value:n}})}function IP(r){return new WU.s(r)}function CP(r,t){return r.endsWith("/")&&(r=r.slice(0,-1)),t.startsWith("/")&&(t=t.slice(1)),`${r}/${t}`}var cy=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function JU(r,t){return t.descriptor.interface+t.descriptor.method===r}class qU{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:i,eventLog:l,eventStream:p,messageStore:c,tenantGate:h,resumableTaskStore:V}){return cy(this,void 0,void 0,function*(){return n??(n=new UL({blockstoreLocation:`${t}/DWN_DATASTORE`})),i??(i=new l9({didResolvers:[h6,PU],cache:new LU({location:`${t}/DID_RESOLVERCACHE`})})),l??(l=new WL({location:`${t}/DWN_EVENTLOG`})),c??(c=new hP({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),V??(V=new eU({location:`${t}/DWN_RESUMABLETASKSTORE`})),yield jO.create({dataStore:n,didResolver:i,eventLog:l,eventStream:p,messageStore:c,tenantGate:h,resumableTaskStore:V})})}processRequest(t){return cy(this,void 0,void 0,function*(){const{message:n,dataStream:i}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:l}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:i,subscriptionHandler:l}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield Hr.getCid(n)}})}sendRequest(t){return cy(this,void 0,void 0,function*(){const n=yield m9(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let i,l,p,c;if("messageCid"in t)({message:l,data:p}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),i=t.messageCid;else{if(({message:l}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");p=t.dataStream,c=t.subscriptionHandler}const h=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:l,data:p,subscriptionHandler:c});return i??(i=yield Hr.getCid(l)),{reply:h,message:l,messageCid:i}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:i,data:l,subscriptionHandler:p}){return cy(this,void 0,void 0,function*(){const c=[];if(i.descriptor.method===ui.Subscribe&&void 0===p)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let h of n)try{if(void 0!==p){if(!(yield this.agent.rpc.getServerInfo(h)).webSocketSupport){c.push({url:h,message:"WebSocket support is not enabled on the server."});continue}const I=new URL(h);I.protocol="http:"===I.protocol?"ws:":"wss:",h=I.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:h,targetDid:t,message:i,data:l,subscriptionHandler:p})}catch(V){c.push({url:h,message:V instanceof Error?V.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(c)}`)})}constructDwnMessage({request:t}){var n;return cy(this,void 0,void 0,function*(){const i=t.rawMessage;let l;if(function YU(r,t){return r.messageType===t}(t,Pa.RecordsWrite)){const V=t.messageParams;if(t.dataStream&&!V?.data){const{dataStream:$}=t;let I;if($ instanceof Blob)I=p9($),l=p9($);else if($ instanceof ReadableStream){const[q,ke]=$.tee();I=IP(q),l=IP(ke)}i||(V.dataCid=yield rl.computeDagPbCidFromStream(I),null!==(n=V.dataSize)&&void 0!==n||(V.dataSize=I.bytesRead))}}const p=yield this.getSigner(t.author),c=VN[t.messageType],h=i?yield c.parse(i):yield c.create(Object.assign(Object.assign({},t.messageParams),{signer:p}));return y6(h)&&t.signAsOwner&&(yield h.signAsOwner(p)),{message:h.message,dataStream:l}})}getSigner(t){return cy(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:i=>cy(this,void 0,void 0,function*(){return yield n.sign({data:i})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),l=yield this.agent.keyManager.getPublicKey({keyUri:i}),p=this.agent.keyManager;return{algorithm:WN(l),keyId:n.id,sign:c=>cy(this,void 0,void 0,function*(){return yield p.sign({data:c,keyUri:i})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return cy(this,void 0,void 0,function*(){const i=yield this.getSigner(t),l=yield VN[Pa.MessagesRead].create({messageCid:n,signer:i}),p=yield this._dwn.processMessage(t,l.message);if(200!==p.status.code)throw new Error(`AgentDwnApi: Failed to read message, response status: ${p.status.code} - ${p.status.detail}`);const c=p.entry;let V={message:c.message};if(y6(c)&&c.data){const $=yield er.VS.consumeToBytes({readable:c.data});V.data=new Blob([$],{type:c.message.descriptor.dataFormat})}return V})}}var g6=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class uA{static registerTenant(t,n){return g6(this,void 0,void 0,function*(){const i=CP(t,"registration"),l=CP(i,"terms-of-service"),p=CP(i,"proof-of-work"),c=yield fetch(l,{method:"GET"});if(200!==c.status){const Ke=c.status,rt=c.statusText,ht=yield c.text();throw new Error(`Failed fetching terms-of-service: ${Ke} ${rt}: ${ht}`)}const h=yield c.text(),V=yield fetch(p,{method:"GET"}),{challengeNonce:$,maximumAllowedHashValue:I}=yield V.json(),q={did:n,termsOfServiceHash:yield uA.hashAsHexString(h)},ke=yield uA.findQualifiedResponseNonce({challengeNonce:$,maximumAllowedHashValue:I,requestData:JSON.stringify(q)}),Pe=yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registrationData:q,proofOfWork:{challengeNonce:$,responseNonce:ke}})});if(200!==Pe.status){const Ke=Pe.status,rt=Pe.statusText,ht=yield Pe.text();throw new Error(`Registration failed: ${Ke} ${rt}: ${ht}`)}})}static hashAsHexString(t){return g6(this,void 0,void 0,function*(){const n=yield mP.digest({data:er.U$.string(t).toUint8Array()});return er.U$.uint8Array(n).toHex()})}static findQualifiedResponseNonce(t){return g6(this,void 0,void 0,function*(){const n=Date.now(),{maximumAllowedHashValue:i,challengeNonce:l,requestData:p}=t,c=BigInt(`0x${i}`);let V,h=1,$=!1;do{V=yield this.generateNonce();const I=yield uA.hashAsHexString(l+V+p);$=BigInt(`0x${I}`)<=c,h++}while(!$);return console.log(`iterations: ${h}, time lapsed: ${Date.now()-n} ms`),V})}static generateNonce(){return g6(this,void 0,void 0,function*(){const t=GN(32);return yield er.U$.uint8Array(t).toHex().toUpperCase()})}}var kP=E(75781),QU=E(36405);const eF=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),y9=Uint8Array.from({length:16},(r,t)=>t);let RP=[y9],OP=[y9.map(r=>(9*r+5)%16)];for(let r=0;r<4;r++)for(let t of[RP,OP])t.push(t[r].map(n=>eF[n]));const g9=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),nF=RP.map((r,t)=>r.map(n=>g9[t][n])),rF=OP.map((r,t)=>r.map(n=>g9[t][n])),iF=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),oF=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),v6=(r,t)=>r<<t|r>>>32-t;function v9(r,t,n,i){return 0===r?t^n^i:1===r?t&n|~t&i:2===r?(t|~n)^i:3===r?t&i|n&~i:t^(n|~i)}const b6=new Uint32Array(16);class sF extends QU.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:i,h3:l,h4:p}=this;return[t,n,i,l,p]}set(t,n,i,l,p){this.h0=0|t,this.h1=0|n,this.h2=0|i,this.h3=0|l,this.h4=0|p}process(t,n){for(let Ne=0;Ne<16;Ne++,n+=4)b6[Ne]=t.getUint32(n,!0);let i=0|this.h0,l=i,p=0|this.h1,c=p,h=0|this.h2,V=h,$=0|this.h3,I=$,q=0|this.h4,ke=q;for(let Ne=0;Ne<5;Ne++){const Pe=4-Ne,Ke=iF[Ne],rt=oF[Ne],ht=RP[Ne],ct=OP[Ne],dt=nF[Ne],At=rF[Ne];for(let Pt=0;Pt<16;Pt++){const Ct=v6(i+v9(Ne,p,h,$)+b6[ht[Pt]]+Ke,dt[Pt])+q|0;i=q,q=$,$=0|v6(h,10),h=p,p=Ct}for(let Pt=0;Pt<16;Pt++){const Ct=v6(l+v9(Pe,c,V,I)+b6[ct[Pt]]+rt,At[Pt])+ke|0;l=ke,ke=I,I=0|v6(V,10),V=c,c=Ct}}this.set(this.h1+h+I|0,this.h2+$+ke|0,this.h3+q+l|0,this.h4+i+c|0,this.h0+p+V|0)}roundClean(){b6.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const aF=(0,eu.ld)(()=>new sF);var PP=E(25431),ly=E(37099);const cF=(0,eu.AI)("ed25519 seed"),BP=2147483648,b9=new Uint8Array([0]);function w9(r,...t){return"string"==typeof r&&(r=(0,eu.aT)(r)),(0,ly.ee)(r,...t),r}const NP=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,eu.O8)(t).setUint32(0,r,!1),t};class w6{get publicKeyRaw(){return Qd.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,eu.Id)(b9,this.publicKeyRaw)}get pubHash(){return aF((0,Tw.s)(this.publicKey))}get fingerprint(){return(0,eu.O8)(this.pubHash).getUint32(0,!1)}get fingerprintHex(){return(0,eu.My)(NP(this.fingerprint))}get parentFingerprintHex(){return(0,eu.My)(NP(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=w9(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,kP.w)(PP.Zf,cF,t);return new w6({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,ly.ee)(t.privateKey,32),(0,ly.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const i=t.replace(/^[mM]'?\//,"").split("/");let l=this;for(const p of i){const c=/^(\d+)('?)$/.exec(p);if(!c||3!==c.length)throw new Error(`Invalid child index: ${p}`);let h=+c[1];if(!Number.isSafeInteger(h)||h>=BP)throw new Error("Invalid index");(n||"'"===c[2])&&(h+=BP),l=l.deriveChild(h)}return l}deriveChild(t){if(t<BP)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,eu.Id)(b9,this.privateKey,NP(t)),i=(0,kP.w)(PP.Zf,this.chainCode,n);return new w6({chainCode:i.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:i.slice(0,32)})}sign(t){return Qd.ev.sign(t,this.privateKey)}verify(t,n){return n=w9(n,64),Qd.ev.verify(n,t,this.publicKeyRaw)}}const _9="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function LP(){return(LP=(0,ye.A)(function*(r,t,n,i){const{c:l,dkLen:p,asyncTick:c,DK:h,PRF:V,PRFSalt:$}=function E9(r,t,n,i){(0,ly.tW)(r);const l=(0,eu.tY)({dkLen:32,asyncTick:10},i),{c:p,dkLen:c,asyncTick:h}=l;if((0,ly.ai)(p),(0,ly.ai)(c),(0,ly.ai)(h),p<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const V=(0,eu.ZJ)(t),$=(0,eu.ZJ)(n),I=new Uint8Array(c),q=kP.w.create(r,V),ke=q._cloneInto().update($);return{c:p,dkLen:c,asyncTick:h,DK:I,PRF:q,PRFSalt:ke}}(r,t,n,i);let I;const q=new Uint8Array(4),ke=(0,eu.O8)(q),Ne=new Uint8Array(V.outputLen);for(let Pe=1,Ke=0;Ke<p;Pe++,Ke+=V.outputLen){const rt=h.subarray(Ke,Ke+V.outputLen);ke.setInt32(0,Pe,!1),(I=$._cloneInto(I)).update(q).digestInto(Ne),rt.set(Ne.subarray(0,rt.length)),yield(0,eu.$h)(l-1,c,()=>{V._cloneInto(I).update(Ne).digestInto(Ne);for(let ht=0;ht<rt.length;ht++)rt[ht]^=Ne[ht]})}return function x9(r,t,n,i,l){return r.destroy(),t.destroy(),i&&i.destroy(),l.fill(0),n}(V,$,h,I,Ne)})).apply(this,arguments)}var _6=E(53813);function S9(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function UP(r){const t=S9(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function M9(r){(0,ly.ee)(r,16,20,24,28,32)}const pF=r=>{const t=8-r.length/4;return new Uint8Array([(0,Tw.s)(r)[0]>>t<<t])};function A9(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),_6.Wp.chain(_6.Wp.checksum(1,pF),_6.Wp.radix2(11,!0),_6.Wp.alphabet(r))}function vF(r,t=""){return function uF(r,t,n,i){return LP.apply(this,arguments)}(PP.Zf,UP(r).nfkd,(r=>S9(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var dy=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class bF extends TP{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProtocolDefinition=FU,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"privateJwk",schema:this._recordProtocolDefinition.types.privateJwk.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return dy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return dy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return dy(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return dy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return dy(this,void 0,void 0,function*(){this._index.clear();const{reply:l}=yield t.dwn.processRequest({author:n,target:n,messageType:Pa.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let p=[];for(const c of null!==(i=l.entries)&&void 0!==i?i:[]){if(!c.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const h=er.U$.base64Url(c.encodedData).toObject();gP(h)&&(this._index.set(`${n}${th}${r6}${h.kid}`,c.recordId),this._cache.set(c.recordId,h),p.push(h))}return p})}}class wF extends DP{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return dy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return dy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return dy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return dy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var rh=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},D9=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const FP={"AES-GCM":{implementation:class fU extends Im{decrypt(t){return wP(this,void 0,void 0,function*(){return Qg.decrypt(t)})}encrypt(t){return wP(this,void 0,void 0,function*(){return Qg.encrypt(t)})}generateKey({algorithm:t}){return wP(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield Qg.generateKey({length:n});return i.alg=t,i})}},names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:QN,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:HN,names:["Ed25519"]},secp256k1:{implementation:s6,names:["ES256K","secp256k1"]},secp256r1:{implementation:s6,names:["ES256","secp256r1"]},"SHA-256":{implementation:yP,names:["SHA-256"]}};class Pw{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new wF}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,i=D9(t,["keyUri"]);return rh(this,void 0,void 0,function*(){const l=yield this.getPrivateKey({keyUri:n}),p=this.getAlgorithmName({key:l});return yield this.getAlgorithm({algorithm:p}).decrypt(Object.assign({key:l},i))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,i=D9(t,["keyUri"]);return rh(this,void 0,void 0,function*(){const l=yield this.getPrivateKey({keyUri:n}),p=this.getAlgorithmName({key:l});return yield this.getAlgorithm({algorithm:p}).encrypt(Object.assign({key:l},i))})}exportKey({keyUri:t}){return rh(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return rh(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:{alg:t}}),p=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t});null!==(n=p.kid)&&void 0!==n||(p.kid=yield Xo({jwk:p}));const c=yield this.getKeyUri({key:p});return yield this._keyStore.set({id:c,data:p,agent:this.agent,preventDuplicates:!1,useCache:!0}),c})}getKeyUri({key:t}){return rh(this,void 0,void 0,function*(){const n=yield Xo({jwk:t});return`${r6}${n}`})}getPublicKey({keyUri:t}){return rh(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return rh(this,void 0,void 0,function*(){if(!gP(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Xo({jwk:i}));const l=yield this.getKeyUri({key:i});return yield this._keyStore.set({id:l,data:i,agent:this.agent,preventDuplicates:!0,useCache:!0}),l})}sign({keyUri:t,data:n}){return rh(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),l=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:l}).sign({data:n,key:i})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:i}){return rh(this,void 0,void 0,function*(){const l=yield this.getPrivateKey({keyUri:i}),p=this.getAlgorithmName({key:l});return yield this.getAlgorithm({algorithm:p}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:l})})}verify({key:t,signature:n,data:i}){return rh(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return rh(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:n}),l=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:l}).wrapKey({unwrappedKey:t,encryptionKey:i})})}deleteKey({keyUri:t}){return rh(this,void 0,void 0,function*(){if(!(yield this._keyStore.get({id:t,agent:this.agent,useCache:!0})))throw new Error(`Key not found: ${t}`);yield this._keyStore.delete({id:t,agent:this.agent})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=FP[t])||void 0===n?void 0:n.implementation;if(!i)throw new Zi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const l of Object.keys(FP)){const p=FP[l].names;if(n&&p.includes(n))return l;if(i&&p.includes(i))return l}throw new Zi(Yi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${i}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return rh(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var I9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function jP(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class C9{static decrypt({key:t,encryptedKey:n,joseHeader:i,crypto:l}){return I9(this,void 0,void 0,function*(){switch(i.alg){case"dir":if(void 0!==n)throw new Zi(Yi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Zi(Yi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof i.p2c)throw new Zi(Yi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof i.p2s)throw new Zi(Yi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Zi(Yi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new Zi(Yi.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let p;try{p=new Uint8Array([...er.U$.string(i.alg).toUint8Array(),0,...er.U$.base64Url(i.p2s).toUint8Array()])}catch{throw new Zi(Yi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const c=yield l.deriveKey({algorithm:i.alg,baseKeyBytes:t,iterations:i.p2c,salt:p});if(!c.alg||!["A128KW","A192KW","A256KW"].includes(c.alg))throw new Zi(Yi.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${c.alg}`);return yield l.unwrapKey({decryptionKey:c,wrappedKeyBytes:n,wrappedKeyAlgorithm:i.enc})}default:throw new Zi(Yi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${i.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:i}){return I9(this,void 0,void 0,function*(){let l,p;switch(n.alg){case"dir":if(void 0!==p)throw new Zi(Yi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Zi(Yi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');l=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new Zi(Yi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new Zi(Yi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Zi(Yi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let c;l=yield i.generateKey({algorithm:n.enc});try{c=new Uint8Array([...er.U$.string(n.alg).toUint8Array(),0,...er.U$.base64Url(n.p2s).toUint8Array()])}catch{throw new Zi(Yi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const h=yield i.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:c});p=yield i.wrapKey({encryptionKey:h,unwrappedKey:l});break}default:throw new Zi(Yi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:l,encryptedKey:p}})}}function E6(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function k9(...r){const t=new Set,n=r.filter(Boolean);for(const i of n)for(const l in i){if(t.has(l))return!0;t.add(l)}return!1}var R9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function $P(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return er.U$.base64Url(t).toUint8Array()}catch{throw new Zi(Yi.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class x6{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:i=new Rm,crypto:l=new kE,options:p={}}){var c,h;return R9(this,void 0,void 0,function*(){if(!E6(l))throw new Zi(Yi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!E6(i))throw new Zi(Yi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new Zi(Yi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new Zi(Yi.InvalidJwe,"JWE Ciphertext is missing or not a string.");let V;if(t.protected)try{V=er.U$.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(k9(V,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const $=Object.assign(Object.assign(Object.assign({},V),t.header),t.unprotected);if(!jP($))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(p.allowedAlgValues)&&!p.allowedAlgValues.includes($.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${$.alg}`);if(Array.isArray(p.allowedEncValues)&&!p.allowedEncValues.includes($.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${$.enc}`);let I;try{const rt=t.encrypted_key?er.U$.base64Url(t.encrypted_key).toUint8Array():void 0;I=yield C9.decrypt({key:n,encryptedKey:rt,joseHeader:$,keyManager:i,crypto:l})}catch(rt){if(rt instanceof Zi&&(rt.code===Yi.InvalidJwe||rt.code===Yi.AlgorithmNotSupported))throw rt;I="string"==typeof n?yield i.generateKey({algorithm:$.enc}):yield l.generateKey({algorithm:$.enc})}const q=$P("iv",t.iv),ke=$P("tag",t.tag),Ne=void 0!==ke?new Uint8Array([...er.U$.base64Url(t.ciphertext).toUint8Array(),...ke??[]]):er.U$.base64Url(t.ciphertext).toUint8Array(),Pe=void 0!==t.aad?new Uint8Array([...er.U$.string(null!==(c=t.protected)&&void 0!==c?c:"").toUint8Array(),...er.U$.string(".").toUint8Array(),...er.U$.string(t.aad).toUint8Array()]):er.U$.string(null!==(h=t.protected)&&void 0!==h?h:"").toUint8Array();return{plaintext:"string"==typeof I?yield i.decrypt({keyUri:I,data:Ne,iv:q,additionalData:Pe}):yield l.decrypt({key:I,data:Ne,iv:q,additionalData:Pe}),protectedHeader:V,additionalAuthenticatedData:$P("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:i,protectedHeader:l,sharedUnprotectedHeader:p,unprotectedHeader:c,keyManager:h=new Rm,crypto:V=new kE}){return R9(this,void 0,void 0,function*(){if(!E6(V))throw new Zi(Yi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!E6(h))throw new Zi(Yi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!l&&!p&&!c)throw new Zi(Yi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new Zi(Yi.InvalidJwe,"Plaintext is missing or not a byte array.");if(k9(l,p,c))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const $=Object.assign(Object.assign(Object.assign({},l),p),c);if(!jP($))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:I,encryptedKey:q}=yield C9.encrypt({key:t,joseHeader:$,keyManager:h,crypto:V});let ke;switch($.enc){case"A128GCM":case"A192GCM":case"A256GCM":ke=GN(12);break;default:ke=new Uint8Array(0)}const Ne=l?er.U$.object(l).toBase64Url():"";let Pe,Ke;i?(Ke=er.U$.uint8Array(i).toBase64Url(),Pe=er.U$.string(Ne+"."+Ke).toUint8Array()):Pe=er.U$.string(Ne).toUint8Array();const rt="string"==typeof I?yield h.encrypt({keyUri:I,data:n,iv:ke,additionalData:Pe}):yield V.encrypt({key:I,data:n,iv:ke,additionalData:Pe}),ht=rt.slice(0,-16),ct=rt.slice(-16),dt=new x6({ciphertext:er.U$.uint8Array(ht).toBase64Url()});return q&&(dt.encrypted_key=er.U$.uint8Array(q).toBase64Url()),l&&(dt.protected=Ne),p&&(dt.unprotected=p),c&&(dt.header=c),ke&&(dt.iv=er.U$.uint8Array(ke).toBase64Url()),Ke&&(dt.aad=Ke),ct&&(dt.tag=er.U$.uint8Array(ct).toBase64Url()),dt})}}var O9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class OE{static decrypt({jwe:t,key:n,keyManager:i=new Rm,crypto:l=new kE,options:p={}}){return O9(this,void 0,void 0,function*(){if("string"!=typeof t)throw new Zi(Yi.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:c,1:h,2:V,3:$,4:I,length:q}=t.split(".");if(5!==q)throw new Zi(Yi.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const ke=yield x6.decrypt({jwe:{ciphertext:$,encrypted_key:h||void 0,iv:V||void 0,protected:c,tag:I||void 0},key:n,keyManager:i,crypto:l,options:p});if(!jP(ke.protectedHeader))throw new Zi(Yi.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:ke.plaintext,protectedHeader:ke.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:l=new Rm,crypto:p=new kE,options:c={}}){return O9(this,void 0,void 0,function*(){const h=yield x6.encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:l,crypto:p,options:c});return[h.protected,h.encrypted_key,h.iv,h.ciphertext,h.tag].join(".")})}}var Kh=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function P9(r){return"string"!=typeof r||0===r.trim().length}class xF{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new kE,this._keyDerivationWorkFactor=t??21e4,this._store=n??new er.ny}backup(){return Kh(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=er.U$.object(t).toBase64Url(),i={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:i.dateCreated}),i})}changePassword({oldPassword:t,newPassword:n}){return Kh(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const i=yield this.getStoredContentEncryptionKey();let l,p;try{let h;({plaintext:h,protectedHeader:l}=yield OE.decrypt({jwe:i,key:er.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Pw})),p=er.U$.uint8Array(h).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const c=yield OE.encrypt({key:er.U$.string(n).toUint8Array(),protectedHeader:l,plaintext:er.U$.object(p).toUint8Array(),crypto:this.crypto,keyManager:new Pw});yield this._store.set("contentEncryptionKey",c),this._contentEncryptionKey=p})}getDid(){return Kh(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield OE.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new Pw}),i=er.U$.uint8Array(n).toObject();if(!u9(i))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield iy.import({portableDid:i})})}getStatus(){return Kh(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=er.U$.string(t).toObject();if(!function EF(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return Kh(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(P9(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&P9(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function hF(r,t=128){if((0,ly.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function yF(r,t){return M9(r),A9(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,eu.po)(t/8),r)}(_9,128)),!function gF(r,t){try{!function mF(r,t){const{words:n}=UP(r);M9(A9(t).decode(n))}(r,t)}catch{return!1}return!0}(n,_9))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const i=yield vF(n),l=w6.fromMasterSeed(i),p=l.derive("m/44'/0'/0'/0'/0'"),c=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:p.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),h=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:p.publicKey,salt:"",info:"vault_unlock_salt",length:256}),V={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:er.U$.uint8Array(h).toBase64Url()},$=yield OE.encrypt({key:er.U$.string(t).toUint8Array(),protectedHeader:V,plaintext:er.U$.object(c).toUint8Array(),crypto:this.crypto,keyManager:new Pw});yield this._store.set("contentEncryptionKey",$);const I=l.derive("m/44'/0'/1708523827'/0'/0'"),q=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:I.privateKey});let ke=l.derive("m/44'/0'/1708523827'/0'/1'");const Ne=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:ke.privateKey}),Pe=new $U;yield Pe.addPredefinedKeys({privateKeys:[q,Ne]});const rt=yield(yield h6.create({keyManager:Pe,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),ct=yield OE.encrypt({key:c,plaintext:er.U$.object(rt).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new Pw});return yield this._store.set("did",ct),this._contentEncryptionKey=c,yield this.setStatus({initialized:!0}),n})}isInitialized(){return Kh(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return Kh(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return Kh(this,void 0,void 0,function*(){if(!function _F(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let i,l,p;try{p=yield this.getStoredDid(),l=yield this.getStoredContentEncryptionKey(),i=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const c=er.U$.base64Url(t.data).toObject();yield this._store.set("did",c.did),yield this._store.set("contentEncryptionKey",c.contentEncryptionKey),yield this.setStatus(c.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(i),yield this._store.set("contentEncryptionKey",l),yield this._store.set("did",p),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return Kh(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:i}=yield OE.decrypt({jwe:n,key:er.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Pw}),l=er.U$.uint8Array(i).toObject();this._contentEncryptionKey=l}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return Kh(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return Kh(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:i}){return Kh(this,void 0,void 0,function*(){let l=yield this.getStatus();return l.initialized=t??l.initialized,l.lastBackup=n??l.lastBackup,l.lastRestore=i??l.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(l)),!0})}}var uy=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class MF extends TP{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProtocolDefinition=d9,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"identityMetadata",schema:this._recordProtocolDefinition.types.identityMetadata.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return uy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return uy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return uy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return uy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return uy(this,void 0,void 0,function*(){this._index.clear();const{reply:l}=yield t.dwn.processRequest({author:n,target:n,messageType:Pa.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let p=[];for(const c of null!==(i=l.entries)&&void 0!==i?i:[]){if(!c.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const h=er.U$.base64Url(c.encodedData).toObject();(r=h)&&"object"==typeof r&&null!==r&&"name"in r&&(this._index.set(`${n}${th}${h.uri}`,c.recordId),this._cache.set(c.recordId,h),p.push(h))}var r;return p})}}class AF extends DP{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return uy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return uy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return uy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return uy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var Bw=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class TF{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new AF}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:i,store:l,tenant:p}){return Bw(this,void 0,void 0,function*(){const c=yield this.agent.did.create({method:n,options:i,store:l,tenant:p}),h=new t6({did:c,metadata:Object.assign(Object.assign({},t),{uri:c.uri,tenant:p??c.uri})});return(l??!0)&&(yield this._store.set({id:h.did.uri,data:h.metadata,agent:this.agent,tenant:h.metadata.tenant,preventDuplicates:!1,useCache:!0})),h})}export({didUri:t,tenant:n}){return Bw(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return Bw(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!i)return;const l=yield this.agent.did.get({didUri:t,tenant:i.tenant});if(!l)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new t6({did:l,metadata:i})})}import({portableIdentity:t}){return Bw(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const i=new t6({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,tenant:i.metadata.tenant,preventDuplicates:!0,useCache:!0}),i})}list({tenant:t}={}){return Bw(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),i=[];for(const l of n){const p=yield this.get({didUri:l.uri,tenant:l.tenant});i.push(p)}return i})}manage({portableIdentity:t}){return Bw(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const i=new t6({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n}){return Bw(this,void 0,void 0,function*(){if(!(yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0})))throw new Error(`AgentIdentityApi: Failed to purge due to Identity not found: ${t}`);yield this._store.delete({id:t,agent:this.agent,tenant:n})})}}const KP=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),B9=(r,t,n,i)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:i,subscription:{id:n}});function S6(r){try{return JSON.parse(r)}catch{return null}}var fA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class IF{constructor({ttl:t="15m"}={}){this.cache=new er.LC({ttl:Ow(t)})}get(t){return fA(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return fA(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return fA(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return fA(this,void 0,void 0,function*(){this.cache.clear()})}close(){return fA(this,void 0,void 0,function*(){})}}var N9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class CF{constructor(t){this.serverInfoCache=t??new IF}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return N9(this,void 0,void 0,function*(){const n=Dw(),i=KP(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),l={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};t.data&&(l.headers["content-type"]="application/octet-stream",l.body=t.data);const p=yield fetch(t.dwnUrl,l);let c,h;const{headers:V}=p;if(V.has("dwn-response")){const I=S6(V.get("dwn-response"));if(null==I)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);h=p.body,c=I}else{const I=yield p.text();c=JSON.parse(I)}if(c.error){const{code:I,message:q}=c.error;throw new Error(`(${I}) - ${q}`)}const{reply:$}=c.result;return h&&$.record?$.record.data=h:h&&$.entry&&($.entry.data=h),$})}getServerInfo(t){return N9(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const i=new URL(t);i.pathname.endsWith("/")?i.pathname+="info":i.pathname+="/info";try{const l=yield fetch(i.toString());if(l.ok){const p=yield l.json(),c={registrationRequirements:p.registrationRequirements,maxFileSize:p.maxFileSize,webSocketSupport:p.webSocketSupport};return this.serverInfoCache.set(t,c),c}throw new Error(`HTTP (${l.status}) - ${l.statusText}`)}catch(l){throw new Error(`Error encountered while processing response from ${i.toString()}: ${l.message}`)}})}}var PE=null;typeof WebSocket<"u"?PE=WebSocket:typeof MozWebSocket<"u"?PE=MozWebSocket:typeof globalThis<"u"?PE=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?PE=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(PE=self.WebSocket||self.MozWebSocket);const kF=PE;var M6=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const RF=3e3,OF=3e4;class VP{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return M6(this,void 0,void 0,function*(){const{connectTimeout:i=RF,responseTimeout:l=OF,onclose:p,onerror:c}=n,h=new kF(t);return h.onclose=p||(()=>{console.info(`JSON RPC Socket close ${t}`)}),h.onerror=c||(V=>{console.error(`JSON RPC Socket error ${t}`,V)}),new Promise((V,$)=>{h.addEventListener("open",()=>{const I=new VP(h,l);h.addEventListener("message",q=>{const ke=S6(q.data),Ne=I.messageHandlers.get(ke.id);Ne&&Ne(q)}),V(I)}),h.addEventListener("error",I=>{$(I)}),setTimeout(()=>$,i)})})}close(){this.socket.close()}request(t){return M6(this,void 0,void 0,function*(){return new Promise((n,i)=>{var l;null!==(l=t.id)&&void 0!==l||(t.id=Dw()),this.messageHandlers.set(t.id,c=>{const h=S6(c.data);if(h.id===t.id)return this.messageHandlers.delete(t.id),n(h)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),i(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return M6(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const i=t.subscription.id;this.messageHandlers.set(i,h=>{const V=S6(h.data.toString());V.id===i&&(void 0!==V.error&&(this.messageHandlers.delete(i),this.closeSubscription(i)),n(V))});const p=yield this.request(t);return p.error?(this.messageHandlers.delete(i),{response:p}):{response:p,close:()=>M6(this,void 0,void 0,function*(){this.messageHandlers.delete(i),yield this.closeSubscription(i)})}})}closeSubscription(t){const n=Dw(),i=B9(n,"close",t,{});return this.request(i)}send(t){this.socket.send(JSON.stringify(t))}}var zP=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class iv{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return zP(this,void 0,void 0,function*(){const i=new URL(t.dwnUrl);if("ws:"!==i.protocol&&"wss:"!==i.protocol)throw new Error(`Invalid websocket protocol ${i.protocol}`);if(!iv.connections.has(i.host))try{const $=yield VP.connect(i.toString(),n);iv.connections.set(i.host,{socket:$,subscriptions:new Map})}catch($){throw new Error(`Error connecting to ${i.host}: ${$.message}`)}const p=iv.connections.get(i.host),{targetDid:c,message:h,subscriptionHandler:V}=t;return V?iv.subscriptionRequest(p,c,h,V):iv.processMessage(p,c,h)})}static processMessage(t,n,i){return zP(this,void 0,void 0,function*(){const l=Dw(),p=KP(l,"dwn.processMessage",{target:n,message:i}),{socket:c}=t,h=yield c.request(p),{error:V,result:$}=h;if(void 0!==V)throw new Error(`error sending DWN request: ${V.message}`);return $.reply})}static subscriptionRequest(t,n,i,l){return zP(this,void 0,void 0,function*(){const p=Dw(),c=Dw(),h=B9(p,"dwn.processMessage",c,{target:n,message:i}),{socket:V,subscriptions:$}=t,{response:I,close:q}=yield V.subscribe(h,Ke=>{const{result:rt,error:ht}=Ke;if(ht){const dt=$.get(c);return dt&&dt.close(),void $.delete(c)}const{event:ct}=rt;l(ct)}),{error:ke,result:Ne}=I;if(ke)throw new Error(`could not subscribe via jsonrpc socket: ${ke.message}`);const{reply:Pe}=Ne;return Pe.subscription&&q&&($.set(c,Object.assign(Object.assign({},Pe.subscription),{close:q})),Pe.subscription.close=q),Pe})}}iv.connections=new Map;var hA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class BF{constructor(t=[]){this.transportClients=new Map,t=[new NF,new LF,...t];for(let n of t)for(let i of n.transportProtocols)this.transportClients.set(i,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return hA(this,void 0,void 0,function*(){const n=new URL(t.url),i=this.transportClients.get(n.protocol);if(!i){const l=new Error(`no ${n.protocol} transport client available`);throw l.name="NO_TRANSPORT_CLIENT",l}return i.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),i=this.transportClients.get(n.protocol);if(!i){const l=new Error(`no ${n.protocol} transport client available`);throw l.name="NO_TRANSPORT_CLIENT",l}return i.sendDwnRequest(t)}getServerInfo(t){return hA(this,void 0,void 0,function*(){const n=new URL(t),i=this.transportClients.get(n.protocol);if(!i){const l=new Error(`no ${n.protocol} transport client available`);throw l.name="NO_TRANSPORT_CLIENT",l}return i.getServerInfo(t)})}}class NF extends CF{sendDidRequest(t){return hA(this,void 0,void 0,function*(){const n=Dw(),i=KP(n,t.method,{data:t.data}),l=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let p;try{const c=yield fetch(l);if(!c.ok)throw new Error(`HTTP (${c.status}) - ${c.statusText}`);if(p=yield c.json(),p.error){const{code:h,message:V}=p.error;throw new Error(`JSON RPC (${h}) - ${V}`)}}catch(c){throw new Error(`Error encountered while processing response from ${t.url}: ${c.message}`)}return p.result})}}class LF extends iv{sendDidRequest(t){return hA(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return hA(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class FF{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var gf=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class A6{constructor({agent:t,dataPath:n,db:i}){this._agent=t,this._db=i||new uN.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=$N()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return gf(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return gf(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return gf(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const i=this.getPullQueue(),l=yield i.iterator().all(),p=[],c=new Set;for(let h of l){const[V]=h,[$,I,q,ke]=V.split("~");if(c.has(I))continue;if(yield this.messageExists($,ke)){p.push({type:"del",key:V});continue}const Pe=yield this.agent.processDwnRequest({store:!1,author:$,target:$,messageType:Pa.MessagesRead,messageParams:{messageCid:ke}});let Ke;try{Ke=yield this.agent.rpc.sendDwnRequest({dwnUrl:I,targetDid:$,message:Pe.message})}catch{c.add(I);continue}if(200!==Ke.status.code||null===(t=Ke.entry)||void 0===t||!t.message){yield this.addMessage($,ke),p.push({type:"del",key:V});continue}const rt=Ke.entry,ht=rt.message,ct=y6(rt)&&rt.data?er.VS.fromWebReadable({readableStream:rt.data}):void 0,dt=yield this.agent.dwn.node.processMessage($,ht,{dataStream:ct});A6.syncMessageReplyIsSuccessful(dt)&&(yield this.addMessage($,ke),p.push({type:"del",key:V}))}yield i.batch(p)})}push(){return gf(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),i=yield n.iterator().all(),l=[],p=new Set;for(let c of i){const[h]=c,[V,$,I,q]=h.split("~");if(p.has($))continue;const ke=yield this.getDwnMessage({author:V,messageCid:q});if(ke)try{const Ne=yield this.agent.rpc.sendDwnRequest({dwnUrl:$,targetDid:V,data:ke.data,message:ke.message});A6.syncMessageReplyIsSuccessful(Ne)&&(yield this.addMessage(V,q),l.push({type:"del",key:h}))}catch{p.add($)}else l.push({type:"del",key:h}),yield this.addMessage(V,q)}yield n.batch(l)})}registerIdentity({did:t}){return gf(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=Ow(t);return new Promise((i,l)=>{const p=()=>gf(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(c){this.stopSync(),l(c)}this._syncIntervalId=setInterval(p,n)});this._syncIntervalId=setInterval(p,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}static syncMessageReplyIsSuccessful(t){var n,i;return 202===t.status.code||409===t.status.code||(null===(n=t.entry)||void 0===n?void 0:n.message.descriptor.interface)===Wi.Records&&(null===(i=t.entry)||void 0===i?void 0:i.message.descriptor.method)===ui.Delete&&404===t.status.code}enqueueOperations({syncDirection:t,syncPeerState:n}){return gf(this,void 0,void 0,function*(){for(let i of n){const l=yield this.getDwnEventLog({did:i.did,dwnUrl:i.dwnUrl,cursor:i.cursor,syncDirection:t}),p=[];for(let c of l){const h=this._ulidFactory(),V=[i.did,i.dwnUrl,h,c].join("~");p.push({type:"put",key:V,value:""})}p.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(p))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:i,cursor:l}){var p;return gf(this,void 0,void 0,function*(){let c={};if("pull"===i){const V=yield this.agent.dwn.processRequest({store:!1,target:t,author:t,messageType:Pa.MessagesQuery,messageParams:{filters:[],cursor:l}});try{c=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:V.message})}catch{}}else"push"===i&&(c=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:Pa.MessagesQuery,messageParams:{filters:[],cursor:l}})).reply);const h=null!==(p=c.entries)&&void 0!==p?p:[];return c.cursor&&this.setCursor(t,n,i,c.cursor),h})}getDwnMessage({author:t,messageCid:n}){return gf(this,void 0,void 0,function*(){let{reply:i}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:Pa.MessagesRead,messageParams:{messageCid:n}});if(200!==i.status.code||!i.entry)return;const l=i.entry;let p={message:l.message};if(y6(l)&&l.data){const c=yield er.VS.consumeToBytes({readable:l.data});p.data=new Blob([c],{type:l.message.descriptor.dataFormat})}return p})}getSyncPeerState({syncDirection:t}){return gf(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),i=[];for(let l of n){const p=yield m9(l,this.agent.did);if(0!==p.length)for(let c of p){const h=yield this.getCursor(l,c,t);i.push({did:l,dwnUrl:c,cursor:h})}}return i})}getCursor(t,n,i){return gf(this,void 0,void 0,function*(){const l=`${t}~${n}~${i}`,p=this.getCursorStore();try{const c=yield p.get(l);if(c)return JSON.parse(c)}catch(c){if(c.notFound)return}})}setCursor(t,n,i,l){return gf(this,void 0,void 0,function*(){const p=`${t}~${n}~${i}`;yield this.getCursorStore().put(p,JSON.stringify(l))})}messageExists(t,n){return gf(this,void 0,void 0,function*(){const i=this.getMessageStore(t);try{return yield i.get(n),!0}catch(l){if(l.notFound)return!1;throw l}})}addMessage(t,n){return gf(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}},74862:(je,z,E)=>{"use strict";E.d(z,{uW:()=>wa});var f=E(62590),_=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class H{constructor(Me){this.agent=Me.agent,this.connectedDid=Me.connectedDid}create(Me){return _(this,void 0,void 0,function*(){const me=yield this.agent.processDidRequest({messageType:f.B2.Create,messageParams:Object.assign({},Me)}),{result:ve}=me,Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(me,["result"]);return Object.assign({did:ve},Ze)})}resolve(Me,me){return _(this,void 0,void 0,function*(){const{result:ve}=yield this.agent.processDidRequest({messageParams:{didUri:Me,options:me},messageType:f.B2.Resolve});return ve})}}var x=E(37475);function P(Xe,Me){let me;const ve=(0,x.fc)(Xe);if("text/plain"===Me||"String"===ve)me=new Blob([Xe],{type:"text/plain"});else if("application/json"===Me||"Object"===ve){const Ze=x.U$.object(Xe).toUint8Array();me=new Blob([Ze],{type:"application/json"})}else if("Uint8Array"===ve||"ArrayBuffer"===ve)me=new Blob([Xe],{type:"application/octet-stream"});else{if("Blob"!==ve)throw new Error("data type not supported.");me=Xe}return{dataBlob:me,dataFormat:Me=Me||me.type||"application/octet-stream"}}class M{static check(Me,me){let ve=M.cache.get(Me);return!!ve&&ve.has(me)}static set(Me,me){let ve=M.cache.get(Me)||new Set;if(M.cache.delete(Me),M.cache.set(Me,ve),this.cache.size>M.sendCacheLimit){const Ze=M.cache.keys().next().value;M.cache.delete(Ze)}if(ve.delete(me),ve.add(me),ve.size>M.sendCacheLimit){const Ze=ve.keys().next().value;ve.delete(Ze)}}}M.cache=new Map,M.sendCacheLimit=100;var O=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})},F=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me};let L=(()=>{class Xe{get _recordsWriteDescriptor(){if((0,f.pO)(f.nx.RecordsWrite,this.rawMessage))return this._descriptor}get _immutableProperties(){return this._recordsWriteDescriptor||this._initialWrite.descriptor}get id(){return this._recordId}get contextId(){return this._contextId}get dateCreated(){return this._immutableProperties.dateCreated}get parentId(){return this._immutableProperties.parentId}get protocol(){return this._immutableProperties.protocol}get protocolPath(){return this._immutableProperties.protocolPath}get recipient(){return this._immutableProperties.recipient}get schema(){return this._immutableProperties.schema}get dataFormat(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.dataFormat}get dataCid(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.dataCid}get dataSize(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.dataSize}get datePublished(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.datePublished}get published(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.published}get tags(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.tags}get author(){return this._author}get dateModified(){return this._descriptor.messageTimestamp}get encryption(){return this._encryption}get authorization(){return this._authorization}get attestation(){return this._attestation}get protocolRole(){return this._protocolRole}get deleted(){return(0,f.pO)(f.nx.RecordsDelete,this.rawMessage)}get initialWrite(){return this._initialWrite}get rawMessage(){let ve;return ve=this._descriptor.interface+this._descriptor.method===f.nx.RecordsWrite?JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption})):JSON.parse(JSON.stringify({descriptor:this._descriptor,authorization:this._authorization})),(0,x.E8)(ve),ve}constructor(me,ve){this._agent=me,this._author=ve.author,this._connectedDid=ve.connectedDid,this._remoteOrigin=ve.remoteOrigin,this._attestation=ve.attestation,this._authorization=ve.authorization,this._contextId=ve.contextId,this._descriptor=ve.descriptor,this._encryption=ve.encryption,this._initialWrite=ve.initialWrite,this._recordId=ve.recordId,this._protocolRole=ve.protocolRole,ve.encodedData&&(this._encodedData="string"==typeof ve.encodedData?new Blob([x.U$.base64Url(ve.encodedData).toUint8Array()],{type:this.dataFormat}):ve.encodedData),ve.data&&(this._readableStream=x.Z6.isReadableStream(ve.data)?x.VS.fromWebReadable({readableStream:ve.data}):ve.data)}get data(){const me=this;return{blob(){return O(this,void 0,void 0,function*(){return new Blob([yield x.VS.consumeToBytes({readable:yield this.stream()})],{type:me.dataFormat})})},bytes(){return O(this,void 0,void 0,function*(){return yield x.VS.consumeToBytes({readable:yield this.stream()})})},json(){return O(this,void 0,void 0,function*(){return yield x.VS.consumeToJson({readable:yield this.stream()})})},text(){return O(this,void 0,void 0,function*(){return yield x.VS.consumeToText({readable:yield this.stream()})})},stream(){return O(this,void 0,void 0,function*(){if(me._encodedData?me._readableStream=x.VS.fromWebReadable({readableStream:me._encodedData.stream()}):x.VS.isReadable({readable:me._readableStream})||(me._readableStream=me._remoteOrigin?yield me.readRecordData({target:me._remoteOrigin,isRemote:!0}):yield me.readRecordData({target:me._connectedDid,isRemote:!1})),!me._readableStream)throw new Error("Record data is not available.");return me._readableStream})},then(Ze,qe){return this.stream().then(Ze,qe)},catch(Ze){return this.stream().catch(Ze)}}}store(me=!1){return O(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:me,store:!0})})}import(me=!0){return O(this,void 0,void 0,function*(){return this.processRecord({store:me,signAsOwner:!0})})}send(me){return O(this,void 0,void 0,function*(){const ve=this._initialWrite;if(me??(me=this._connectedDid),ve&&!Xe._sendCache.check(this._recordId,me)){const pt=Object.assign({},ve);(0,x.E8)(pt),yield this._agent.sendDwnRequest({messageType:f.nx.RecordsWrite,author:this._connectedDid,target:me,rawMessage:pt}),Xe._sendCache.set(this._recordId,me)}let Ze;Ze=this.deleted?{messageType:f.nx.RecordsDelete,author:this._connectedDid,target:me,rawMessage:Object.assign({},this.rawMessage)}:{messageType:f.nx.RecordsWrite,author:this._connectedDid,target:me,dataStream:yield this.data.blob(),rawMessage:Object.assign({},this.rawMessage)};const{reply:qe}=yield this._agent.sendDwnRequest(Ze);return qe})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let me="Record: {\n";return me+=`  ID: ${this.id}\n`,me+=this.contextId?`  Context ID: ${this.contextId}\n`:"",me+=this.protocol?`  Protocol: ${this.protocol}\n`:"",me+=this.schema?`  Schema: ${this.schema}\n`:"",this.deleted||(me+=`  Data CID: ${this.dataCid}\n`,me+=`  Data Format: ${this.dataFormat}\n`,me+=`  Data Size: ${this.dataSize}\n`),me+=`  Deleted: ${this.deleted}\n`,me+=`  Created: ${this.dateCreated}\n`,me+=`  Modified: ${this.dateModified}\n`,me+="}",me}paginationCursor(me){return O(this,void 0,void 0,function*(){return(0,f.pO)(f.nx.RecordsWrite,this.rawMessage)?(0,f.X7)(this.rawMessage,me):void 0})}update(me){var{dateModified:ve,data:Ze}=me,qe=F(me,["dateModified","data"]);return O(this,void 0,void 0,function*(){if(!(0,f.pO)(f.nx.RecordsWrite,this.rawMessage)&&!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");const pt=this._recordsWriteDescriptor,{parentId:Vt}=pt,bn=F(pt,["parentId"]),Xt=Vt?this._contextId.split("/").slice(0,-1).join("/"):void 0;let sn,bt=Object.assign(Object.assign(Object.assign({},bn),qe),{parentContextId:Xt,messageTimestamp:ve,recordId:this._recordId});((0,x.RI)(bt.tags)||null===bt.tags)&&delete bt.tags,void 0!==Ze&&(delete bt.dataCid,delete bt.dataSize,({dataBlob:sn}=P(Ze,bt.dataFormat)));const Lr=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);Xe.verifyPermittedMutation(Object.keys(qe),Lr),!1===qe.published&&void 0!==bt.datePublished&&delete bt.datePublished;const mi=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:sn,messageParams:Object.assign({},bt),messageType:f.nx.RecordsWrite,target:this._connectedDid}),{message:ai,reply:{status:hi}}=mi,Oi=ai;return 200<=hi.code&&hi.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=Oi.authorization,this._protocolRole=qe.protocolRole,Lr.forEach(zo=>{this._descriptor[zo]=Oi.descriptor[zo]}),void 0!==Ze&&(this._encodedData=sn)),{status:hi}})}delete(me){return O(this,void 0,void 0,function*(){const ve=me||{},{store:Ze,signAsOwner:qe,dateModified:pt}=ve,Vt=F(ve,["store","signAsOwner","dateModified"]);let bn={messageType:f.nx.RecordsDelete,author:this._connectedDid,target:this._connectedDid,store:Ze,signAsOwner:qe};if(this.deleted){if(!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");bn.rawMessage=this.rawMessage}else bn.messageParams=Object.assign(Object.assign({},Vt),{recordId:this._recordId,messageTimestamp:pt});const Xt=yield this._agent.processDwnRequest(bn),{message:bt,reply:{status:sn}}=Xt;return 202!==sn.code||(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._author=(0,f.dK)(bt),this._descriptor=bt.descriptor,this._authorization=bt.authorization,this._encodedData=void 0,this._encryption=void 0,this._attestation=void 0),{status:sn}})}processRecord({store:me,signAsOwner:ve}){return O(this,void 0,void 0,function*(){if(this._initialWrite&&(ve&&!this._initialWriteSigned||me&&!this._initialWriteStored)){const Xt={messageType:f.nx.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:ve,store:me},bt=yield this._agent.processDwnRequest(Xt),{message:sn,reply:{status:Lr}}=bt,mi=sn;200<=Lr.code&&Lr.code<=299&&(me&&(this._initialWriteStored=!0),ve&&(this._initialWriteSigned=!0,this.initialWrite.authorization=mi.authorization))}let Ze;Ze=this.deleted?{messageType:f.nx.RecordsDelete,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,signAsOwner:ve,store:me}:{messageType:f.nx.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:ve,store:me};const qe=yield this._agent.processDwnRequest(Ze),{message:pt,reply:{status:Vt}}=qe;return 200<=Vt.code&&Vt.code<=299&&ve&&(this._authorization=pt.authorization),{status:Vt}})}readRecordData({target:me,isRemote:ve}){return O(this,void 0,void 0,function*(){const Ze={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:f.nx.RecordsRead,target:me},qe=ve?this._agent.sendDwnRequest(Ze):this._agent.processDwnRequest(Ze);try{const{reply:{status:pt,record:Vt}}=yield qe;if(200!==pt.code)throw new Error(`${pt.code}: ${pt.detail}`);const bn=Vt.data;return x.Z6.isReadableStream(bn)?x.VS.fromWebReadable({readableStream:bn}):bn}catch(pt){throw new Error(`Error encountered while attempting to read data: ${pt.message}`)}})}static verifyPermittedMutation(me,ve){for(const Ze of me)if(!ve.has(Ze))throw new Error(`${Ze} is an immutable property. Its value cannot be changed.`)}}return Xe._sendCache=M,Xe})();class X{constructor(Me,me,ve){this._agent=Me,this._metadata=ve,this._protocolsConfigureMessage=me}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(Me){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){const{reply:me}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:f.nx.ProtocolsConfigure,target:Me});return{status:me.status}})}}var j=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class re{constructor(Me){this.agent=Me.agent,this.connectedDid=Me.connectedDid}get protocols(){return{configure:Me=>j(this,void 0,void 0,function*(){const me=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:Me.message,messageType:f.nx.ProtocolsConfigure,target:this.connectedDid}),{message:ve,messageCid:Ze,reply:{status:qe}}=me,pt={status:qe};return qe.code<300&&(pt.protocol=new X(this.agent,ve,{author:this.connectedDid,messageCid:Ze})),pt}),query:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:f.nx.ProtocolsQuery,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const Ze=ve.reply,{entries:qe=[],status:pt}=Ze;return{protocols:qe.map(bn=>new X(this.agent,bn,{author:this.connectedDid})),status:pt}})}}get records(){return{create:Me=>j(this,void 0,void 0,function*(){return this.records.write(Me)}),createFrom:Me=>j(this,void 0,void 0,function*(){var me;const ve=Me.record.toJSON(),{author:Ze}=ve,qe=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(ve,["author"]);return void 0!==Me.data&&(delete qe.dataCid,delete qe.dataSize),!1===(null===(me=Me.message)||void 0===me?void 0:me.published)&&void 0!==qe.datePublished&&(delete qe.datePublished,delete qe.published),(!(0,x.RI)(Me.message)||Me.author&&Me.author!==Ze)&&delete qe.recordId,this.records.write({data:Me.data,message:Object.assign(Object.assign({},qe),Me.message)})}),delete:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:f.nx.RecordsDelete,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const{reply:{status:Ze}}=ve;return{status:Ze}}),query:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:f.nx.RecordsQuery,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const Ze=ve.reply,{entries:qe,status:pt,cursor:Vt}=Ze;return{records:qe.map(Xt=>{const bt=Object.assign({author:(0,f.dK)(Xt),connectedDid:this.connectedDid,remoteOrigin:Me.from},Xt);return new L(this.agent,bt)}),status:pt,cursor:Vt}}),read:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:f.nx.RecordsRead,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const{reply:{record:Ze,status:qe}}=ve;let pt;if(200<=qe.code&&qe.code<=299){const Vt=Object.assign({author:(0,f.dK)(Ze),connectedDid:this.connectedDid,remoteOrigin:Me.from},Ze);pt=new L(this.agent,Vt)}return{record:pt,status:qe}}),write:Me=>j(this,void 0,void 0,function*(){var me;const{dataBlob:ve,dataFormat:Ze}=P(Me.data,null===(me=Me.message)||void 0===me?void 0:me.dataFormat),qe=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:ve,messageParams:Object.assign(Object.assign({},Me.message),{dataFormat:Ze}),messageType:f.nx.RecordsWrite,store:Me.store,target:this.connectedDid}),{message:pt,reply:{status:Vt}}=qe;let bn;if(200<=Vt.code&&Vt.code<=299){const Xt=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:ve},pt);bn=new L(this.agent,Xt)}return{record:bn,status:Vt}})}}}class J{constructor(Me){this.agent=Me.agent,this.connectedDid=Me.connectedDid}create(){return Xe=this,Me=void 0,ve=function*(){throw new Error("Not implemented.")},new((me=void 0)||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())});var Xe,Me,me,ve}}var Z=function(Xe){return Xe.authentication="authentication",Xe.assertionMethod="assertionMethod",Xe.keyAgreement="keyAgreement",Xe.capabilityInvocation="capabilityInvocation",Xe.capabilityDelegation="capabilityDelegation",Xe}(Z||{});const ie={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ae{constructor({method:Me,id:me,path:ve,query:Ze,fragment:qe,params:pt}){this.uri=`did:${Me}:${me}`,this.method=Me,this.id=me,this.path=ve,this.query=Ze,this.fragment=qe,this.params=pt}static parse(Me){if(!Me)return null;const me=ae.DID_URI_PATTERN.exec(Me);if(!me||!me.groups)return null;const{method:ve,id:Ze,path:qe,query:pt,fragment:Vt}=me.groups,bn={uri:`did:${ve}:${Ze}`,method:ve,id:Ze};if(qe&&(bn.path=qe),pt&&(bn.query=pt.slice(1)),Vt&&(bn.fragment=Vt.slice(1)),pt){const Xt={},bt=pt.slice(1).split("&");for(const sn of bt){const[Lr,mi]=sn.split("=");Xt[Lr]=mi}bn.params=Xt}return bn}}ae.METHOD_PATTERN="([a-z0-9]+)",ae.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ae.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ae.PCT_ENCODED_PATTERN})`,ae.METHOD_ID_PATTERN=`((?:${ae.ID_CHAR_PATTERN}*:)*(${ae.ID_CHAR_PATTERN}+))`,ae.PATH_PATTERN="(/[^#?]*)?",ae.QUERY_PATTERN="([?][^#]*)?",ae.FRAGMENT_PATTERN="(#.*)?",ae.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ae.METHOD_PATTERN}):(?<id>${ae.METHOD_ID_PATTERN})(?<path>${ae.PATH_PATTERN})(?<query>${ae.QUERY_PATTERN})(?<fragment>${ae.FRAGMENT_PATTERN})$`);class se extends Error{constructor(Me,me){super(`${Me}: ${me}`),this.code=Me,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se)}}var de=function(Xe){return Xe.InvalidDid="invalidDid",Xe.MethodNotSupported="methodNotSupported",Xe.InternalError="internalError",Xe.InvalidDidDocument="invalidDidDocument",Xe.InvalidDidDocumentLength="invalidDidDocumentLength",Xe.InvalidDidUrl="invalidDidUrl",Xe.InvalidPreviousDidProof="invalidPreviousDidProof",Xe.InvalidPublicKey="invalidPublicKey",Xe.InvalidPublicKeyLength="invalidPublicKeyLength",Xe.InvalidPublicKeyType="invalidPublicKeyType",Xe.InvalidSignature="invalidSignature",Xe.NotFound="notFound",Xe.RepresentationNotSupported="representationNotSupported",Xe.UnsupportedPublicKeyType="unsupportedPublicKeyType",Xe}(de||{}),le=E(47565);class xe{static digest({data:Me}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){return(0,le.s)(Me)})}}class Ce{}var u=E(94256),y=E(91006);const T="urn:jwk:";function N({jwk:Xe}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){const Me=Xe.kty;let me;if("EC"===Me)me={crv:Xe.crv,kty:Xe.kty,x:Xe.x,y:Xe.y};else if("oct"===Me)me={k:Xe.k,kty:Xe.kty};else if("OKP"===Me)me={crv:Xe.crv,kty:Xe.kty,x:Xe.x};else{if("RSA"!==Me)throw new Error(`Unsupported key type: ${Me}`);me={e:Xe.e,kty:Xe.kty,n:Xe.n}}(0,x.E8)(me);const ve=function g(Xe){const Me=ve=>{if(null!==ve&&"object"==typeof ve&&!Array.isArray(ve)){const Ze=Object.keys(ve).sort(),qe={};for(const pt of Ze)qe[pt]=Me(ve[pt]);return qe}return ve},me=Me(Xe);return JSON.stringify(me)}(me),Ze=x.U$.string(ve).toUint8Array(),qe=yield xe.digest({data:Ze});return x.U$.uint8Array(qe).toBase64Url()})}function A(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe&&"d"in Xe)||"EC"!==Xe.kty||"string"!=typeof Xe.d||"string"!=typeof Xe.x)}function s(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe)||"d"in Xe||"EC"!==Xe.kty||"string"!=typeof Xe.x)}function W(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe&&"d"in Xe)||"OKP"!==Xe.kty||"string"!=typeof Xe.d||"string"!=typeof Xe.x)}function K(Xe){return!(!Xe||"object"!=typeof Xe||"d"in Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe)||"OKP"!==Xe.kty||"string"!=typeof Xe.x)}var _e=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class Ve{static adjustSignatureToLowS({signature:Me}){return _e(this,void 0,void 0,function*(){const me=u.bI.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return _e(this,void 0,void 0,function*(){const me=yield Ve.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){const me=yield Ve.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){return u.bI.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return _e(this,void 0,void 0,function*(){const me=yield Ve.privateKeyToBytes({privateKey:Me}),ve=yield Ve.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield N({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return _e(this,void 0,void 0,function*(){return u.bI.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){return u.bI.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return _e(this,void 0,void 0,function*(){const Me=u.bI.utils.randomPrivateKey(),me=yield Ve.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield N({jwk:me}),me})}static getPublicKey({key:Me}){var me;return _e(this,void 0,void 0,function*(){if(!A(Me)||"secp256k1"!==Me.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield N({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return _e(this,void 0,void 0,function*(){if(!A(Me))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return _e(this,void 0,void 0,function*(){if(!s(Me)||!Me.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return _e(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield Ve.privateKeyToBytes({privateKey:Me}),Ze=yield Ve.publicKeyToBytes({publicKey:me});return u.bI.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return _e(this,void 0,void 0,function*(){const ve=yield Ve.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return u.bI.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return _e(this,void 0,void 0,function*(){return u.bI.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){try{u.bI.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return _e(this,void 0,void 0,function*(){const Ze=yield Ve.publicKeyToBytes({publicKey:Me}),qe=(0,le.s)(ve);return u.bI.verify(me,qe,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return _e(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=u.bI.getPublicKey(Me));const me=u.bI.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var Se=E(40499),be=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class ye{static adjustSignatureToLowS({signature:Me}){return be(this,void 0,void 0,function*(){const me=Se.Ag.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return be(this,void 0,void 0,function*(){const me=yield ye.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return be(this,void 0,void 0,function*(){const me=yield ye.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return be(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return be(this,void 0,void 0,function*(){const me=yield ye.privateKeyToBytes({privateKey:Me}),ve=yield ye.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"P-256",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield N({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return be(this,void 0,void 0,function*(){return Se.Ag.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return be(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return be(this,void 0,void 0,function*(){const Me=Se.Ag.utils.randomPrivateKey(),me=yield ye.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield N({jwk:me}),me})}static getPublicKey({key:Me}){var me;return be(this,void 0,void 0,function*(){if(!A(Me)||"P-256"!==Me.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield N({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return be(this,void 0,void 0,function*(){if(!A(Me))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return be(this,void 0,void 0,function*(){if(!s(Me)||!Me.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return be(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield ye.privateKeyToBytes({privateKey:Me}),Ze=yield ye.publicKeyToBytes({publicKey:me});return Se.Ag.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return be(this,void 0,void 0,function*(){const ve=yield ye.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return Se.Ag.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return be(this,void 0,void 0,function*(){return Se.Ag.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return be(this,void 0,void 0,function*(){try{Se.Ag.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return be(this,void 0,void 0,function*(){const Ze=yield ye.publicKeyToBytes({publicKey:Me}),qe=(0,le.s)(ve);return Se.Ag.verify(me,qe,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return be(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=Se.Ag.getPublicKey(Me));const me=Se.Ag.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var De=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class pe extends Ce{computePublicKey({key:Me}){return De(this,void 0,void 0,function*(){if(!A(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield Ve.computePublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield ye.computePublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}generateKey({algorithm:Me}){return De(this,void 0,void 0,function*(){switch(Me){case"ES256K":case"secp256k1":{const me=yield Ve.generateKey();return me.alg="ES256K",me}case"ES256":case"secp256r1":{const me=yield ye.generateKey();return me.alg="ES256",me}}})}getPublicKey({key:Me}){return De(this,void 0,void 0,function*(){if(!A(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield Ve.getPublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield ye.getPublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}sign({key:Me,data:me}){return De(this,void 0,void 0,function*(){if(!A(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":return yield Ve.sign({key:Me,data:me});case"P-256":return yield ye.sign({key:Me,data:me});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}verify({key:Me,signature:me,data:ve}){return De(this,void 0,void 0,function*(){if(!s(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Me.crv){case"secp256k1":return yield Ve.verify({key:Me,signature:me,data:ve});case"P-256":return yield ye.verify({key:Me,signature:me,data:ve});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}}var ue=E(86295),Q=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class fe{static bytesToPrivateKey({privateKeyBytes:Me}){return Q(this,void 0,void 0,function*(){const me=ue.ev.getPublicKey(Me),ve={crv:"Ed25519",d:x.U$.uint8Array(Me).toBase64Url(),kty:"OKP",x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return Q(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield N({jwk:me}),me})}static computePublicKey({key:Me}){return Q(this,void 0,void 0,function*(){const me=yield fe.privateKeyToBytes({privateKey:Me}),ve=ue.ev.getPublicKey(me),Ze={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield N({jwk:Ze}),Ze})}static convertPrivateKeyToX25519({privateKey:Me}){return Q(this,void 0,void 0,function*(){const me=yield fe.privateKeyToBytes({privateKey:Me}),ve=(0,ue.OA)(me),Ze=ue.TU.getPublicKey(ve),qe={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(ve).toBase64Url(),x:x.U$.uint8Array(Ze).toBase64Url()};return qe.kid=yield N({jwk:qe}),qe})}static convertPublicKeyToX25519({publicKey:Me}){return Q(this,void 0,void 0,function*(){const me=yield fe.publicKeyToBytes({publicKey:Me});if(!(yield fe.validatePublicKey({publicKeyBytes:me})))throw new Error("Ed25519: Invalid public key.");const Ze=(0,ue.GU)(me),qe={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Ze).toBase64Url()};return qe.kid=yield N({jwk:qe}),qe})}static generateKey(){return Q(this,void 0,void 0,function*(){const Me=ue.ev.utils.randomPrivateKey(),me=yield fe.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield N({jwk:me}),me})}static getPublicKey({key:Me}){var me;return Q(this,void 0,void 0,function*(){if(!W(Me)||"Ed25519"!==Me.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield N({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return Q(this,void 0,void 0,function*(){if(!W(Me))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return Q(this,void 0,void 0,function*(){if(!K(Me))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sign({key:Me,data:me}){return Q(this,void 0,void 0,function*(){const ve=yield fe.privateKeyToBytes({privateKey:Me});return ue.ev.sign(me,ve)})}static validatePublicKey({publicKeyBytes:Me}){return Q(this,void 0,void 0,function*(){try{ue.ev.ExtendedPoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return Q(this,void 0,void 0,function*(){const Ze=yield fe.publicKeyToBytes({publicKey:Me});return ue.ev.verify(me,ve,Ze)})}}var Ee=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})},$e=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};const Fe={Ed25519:{implementation:class Re extends Ce{computePublicKey({key:Me}){return Ee(this,void 0,void 0,function*(){if(!W(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield fe.computePublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}generateKey({algorithm:Me}){return Ee(this,void 0,void 0,function*(){if("Ed25519"===Me){const me=yield fe.generateKey();return me.alg="EdDSA",me}})}getPublicKey({key:Me}){return Ee(this,void 0,void 0,function*(){if(!W(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield fe.getPublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}sign({key:Me,data:me}){return Ee(this,void 0,void 0,function*(){if(!W(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv)return yield fe.sign({key:Me,data:me});throw new Error(`Unsupported curve: ${Me.crv}`)})}verify({key:Me,signature:me,data:ve}){return Ee(this,void 0,void 0,function*(){if(!K(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Me.crv)return yield fe.verify({key:Me,signature:me,data:ve});throw new Error(`Unsupported curve: ${Me.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:pe,names:["ES256K","secp256k1"]},secp256r1:{implementation:pe,names:["ES256","secp256r1"]},"SHA-256":{implementation:class a extends Ce{digest({algorithm:Me,data:me}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Me)return yield xe.digest({data:me})})}},names:["SHA-256"]}};class Et{constructor(Me){var me;this._algorithmInstances=new Map,this._keyStore=null!==(me=Me?.keyStore)&&void 0!==me?me:new x.ny}digest({algorithm:Me,data:me}){return $e(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Me}).digest({algorithm:Me,data:me})})}exportKey({keyUri:Me}){return $e(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Me})})}generateKey({algorithm:Me}){return $e(this,void 0,void 0,function*(){const ve=yield this.getAlgorithm({algorithm:Me}).generateKey({algorithm:Me});if(void 0===ve?.kid)throw new Error("Generated key is missing a required property: kid");const Ze=`${T}${ve.kid}`;return yield this._keyStore.set(Ze,ve),Ze})}getKeyUri({key:Me}){return $e(this,void 0,void 0,function*(){const me=yield N({jwk:Me});return`${T}${me}`})}getPublicKey({keyUri:Me}){return $e(this,void 0,void 0,function*(){const me=yield this.getPrivateKey({keyUri:Me}),ve=this.getAlgorithmName({key:me});return yield this.getAlgorithm({algorithm:ve}).getPublicKey({key:me})})}importKey({key:Me}){var me;return $e(this,void 0,void 0,function*(){if(!function ee(Xe){if(!Xe||"object"!=typeof Xe)return!1;switch(Xe.kty){case"EC":case"OKP":case"RSA":return"d"in Xe;case"oct":return"k"in Xe;default:return!1}}(Me))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const ve=structuredClone(Me);null!==(me=ve.kid)&&void 0!==me||(ve.kid=yield N({jwk:ve}));const Ze=yield this.getKeyUri({key:ve});return yield this._keyStore.set(Ze,ve),Ze})}sign({keyUri:Me,data:me}){return $e(this,void 0,void 0,function*(){const ve=yield this.getPrivateKey({keyUri:Me}),Ze=this.getAlgorithmName({key:ve});return this.getAlgorithm({algorithm:Ze}).sign({data:me,key:ve})})}verify({key:Me,signature:me,data:ve}){return $e(this,void 0,void 0,function*(){const Ze=this.getAlgorithmName({key:Me});return this.getAlgorithm({algorithm:Ze}).verify({key:Me,signature:me,data:ve})})}getAlgorithm({algorithm:Me}){var me;const ve=null===(me=Fe[Me])||void 0===me?void 0:me.implementation;if(!ve)throw new Error(`Algorithm not supported: ${Me}`);return this._algorithmInstances.has(ve)||this._algorithmInstances.set(ve,new ve),this._algorithmInstances.get(ve)}getAlgorithmName({key:Me}){const me=Me.alg,ve=Me.crv;for(const Ze in Fe){const qe=Fe[Ze];if(me&&qe.names.includes(me))return Ze;if(ve&&qe.names.includes(ve))return Ze}throw new Error(`Unable to determine algorithm based on provided input: alg=${me}, crv=${ve}`)}getPrivateKey({keyUri:Me}){return $e(this,void 0,void 0,function*(){const me=yield this._keyStore.get(Me);if(!me)throw new Error(`Key not found: ${Me}`);return me})}}function w(Xe){const Me={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(Xe.alg&&Object.values(Me).includes(Xe.alg))return Xe.alg;if(Xe.crv&&Object.keys(Me).includes(Xe.crv))return Me[Xe.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${Xe.alg}, crv=${Xe.crv}. Supported 'alg' values: ${Object.values(Me).join(", ")}. Supported 'crv' values: ${Object.keys(Me).join(", ")}.`)}E(86703),E(62953),E(91879);var St=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class nt{static bytesToPrivateKey({privateKeyBytes:Me}){return St(this,void 0,void 0,function*(){const me=ue.TU.getPublicKey(Me),ve={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return St(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield N({jwk:me}),me})}static computePublicKey({key:Me}){return St(this,void 0,void 0,function*(){const me=yield nt.privateKeyToBytes({privateKey:Me}),ve=ue.TU.getPublicKey(me),Ze={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield N({jwk:Ze}),Ze})}static generateKey(){return St(this,void 0,void 0,function*(){const Me=ue.TU.utils.randomPrivateKey(),me=yield nt.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield N({jwk:me}),me})}static getPublicKey({key:Me}){var me;return St(this,void 0,void 0,function*(){if(!W(Me)||"X25519"!==Me.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield N({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return St(this,void 0,void 0,function*(){if(!W(Me))throw new Error("X25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return St(this,void 0,void 0,function*(){if(!K(Me))throw new Error("X25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return St(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield nt.privateKeyToBytes({privateKey:Me}),Ze=yield nt.publicKeyToBytes({publicKey:me});return ue.TU.getSharedSecret(ve,Ze)})}}function Lt(Xe){if("string"==typeof Xe&&0!==Xe.length)return Xe.split("#").pop()}function tr(Xe){return!(!Xe||"object"!=typeof Xe||null===Xe||!("id"in Xe&&"type"in Xe&&"controller"in Xe)||"string"!=typeof Xe.id||"string"!=typeof Xe.type||"string"!=typeof Xe.controller)}E(94730);var Ir=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class jr{constructor({uri:Me,document:me,metadata:ve,keyManager:Ze}){this.uri=Me,this.document=me,this.metadata=ve,this.keyManager=Ze}export(){return Ir(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Me={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const me=[];for(let ve of this.document.verificationMethod){if(!ve.publicKeyJwk)throw new Error(`Verification method '${ve.id}' does not contain a public key in JWK format`);const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),qe=yield this.keyManager.exportKey({keyUri:Ze});me.push(Object.assign({},qe))}Me.privateKeys=me}return Me})}getSigner(Me){return Ir(this,void 0,void 0,function*(){var me;const ve=null===(me=this.document.verificationMethod)||void 0===me?void 0:me.find(bn=>{var Xt,bt;return Lt(bn.id)===(null!==(Xt=Lt(Me?.methodId))&&void 0!==Xt?Xt:Lt(null===(bt=this.document.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!ve||!ve.publicKeyJwk)throw new se(de.InternalError,"A verification method intended for signing could not be determined from the DID Document");const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),qe=yield this.keyManager.getPublicKey({keyUri:Ze}),pt=this.keyManager;return{algorithm:w(qe),keyId:ve.id,sign(bn){return Ir(this,arguments,void 0,function*({data:Xt}){return yield pt.sign({data:Xt,keyUri:Ze})})},verify(bn){return Ir(this,arguments,void 0,function*({data:Xt,signature:bt}){return yield pt.verify({data:Xt,key:qe,signature:bt})})}}})}static import(Me){return Ir(this,arguments,void 0,function*({portableDid:me,keyManager:ve=new Et}){var Ze;const qe=function Be({didDocument:Xe}){var Me,me;if(!Xe)throw new TypeError("Required parameter missing: 'didDocument'");const ve=[];return ve.push(...null!==(me=null===(Me=Xe.verificationMethod)||void 0===Me?void 0:Me.filter(tr))&&void 0!==me?me:[]),Object.keys(Z).forEach(Ze=>{var qe,pt;ve.push(...null!==(pt=null===(qe=Xe[Ze])||void 0===qe?void 0:qe.filter(tr))&&void 0!==pt?pt:[])}),ve}({didDocument:me.document});if(0===qe.length)throw new se(de.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let Vt of null!==(Ze=me.privateKeys)&&void 0!==Ze?Ze:[])yield ve.importKey({key:Vt});for(let Vt of qe){if(!Vt.publicKeyJwk)throw new Error(`Verification method '${Vt.id}' does not contain a public key in JWK format`);const bn=yield ve.getKeyUri({key:Vt.publicKeyJwk});yield ve.getPublicKey({keyUri:bn})}return new jr({uri:me.uri,document:me.document,metadata:me.metadata,keyManager:ve})})}}var ni=E(2198),tn=E(49402),_n=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class Tn{static getSigningMethod(Me){return _n(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Me,me){return _n(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var jn=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})},hr=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me};const Ar="https://diddht.tbddev.org",zr=7200,oi=",";var Ao=function(Xe){return Xe[Xe.Discoverable=0]="Discoverable",Xe[Xe.Organization=1]="Organization",Xe[Xe.Government=2]="Government",Xe[Xe.Corporation=3]="Corporation",Xe[Xe.LocalBusiness=4]="LocalBusiness",Xe[Xe.SoftwarePackage=5]="SoftwarePackage",Xe[Xe.WebApp=6]="WebApp",Xe[Xe.FinancialInstitution=7]="FinancialInstitution",Xe}(Ao||{}),wi=function(Xe){return Xe[Xe.Ed25519=0]="Ed25519",Xe[Xe.secp256k1=1]="secp256k1",Xe[Xe.secp256r1=2]="secp256r1",Xe[Xe.X25519=3]="X25519",Xe}(wi||{}),Io=function(Xe){return Xe.authentication="auth",Xe.assertionMethod="asm",Xe.capabilityDelegation="del",Xe.capabilityInvocation="inv",Xe.keyAgreement="agm",Xe}(Io||{});const Co={Ed25519:wi.Ed25519,ES256K:wi.secp256k1,ES256:wi.secp256r1,"P-256":wi.secp256r1,secp256k1:wi.secp256k1,secp256r1:wi.secp256r1,X25519:wi.X25519},is={[wi.Ed25519]:"Ed25519",[wi.secp256k1]:"ES256K",[wi.secp256r1]:"ES256",[wi.X25519]:"ECDH-ES+A256KW"};let ji=(()=>{class Xe extends Tn{static create(){return jn(this,arguments,void 0,function*({keyManager:me=new Et,options:ve={}}={}){var Ze,qe,pt,Vt,bn,Xt,bt,sn,Lr,mi,ai;if(null!==(Ze=ve.verificationMethods)&&void 0!==Ze&&Ze.some($r=>!($r.algorithm in Co)))throw new Error("One or more verification method algorithms are not supported");const hi=null===(qe=ve.verificationMethods)||void 0===qe?void 0:qe.filter($r=>"id"in $r).map($r=>$r.id);if(hi&&hi.length!==new Set(hi).size)throw new Error("One or more verification method IDs are not unique");if(null!==(pt=ve.services)&&void 0!==pt&&pt.some($r=>!$r.id||!$r.type||!$r.serviceEndpoint))throw new Error("One or more services are missing required properties");const Oi=yield me.generateKey({algorithm:"Ed25519"}),zo=yield me.getPublicKey({keyUri:Oi}),yi=yield Ui.identityKeyToIdentifier({identityKey:zo}),kr=Object.assign(Object.assign({id:yi},ve.alsoKnownAs&&{alsoKnownAs:ve.alsoKnownAs}),ve.controllers&&{controller:ve.controllers}),ki=[...null!==(Vt=ve.verificationMethods)&&void 0!==Vt?Vt:[]];ki?.some($r=>{var Mo;return"0"===(null===(Mo=$r.id)||void 0===Mo?void 0:Mo.split("#").pop())})||ki.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const $r of ki){const Mo=$r.id&&"0"===$r.id.split("#").pop()?Oi:yield me.generateKey({algorithm:$r.algorithm}),ac=yield me.getPublicKey({keyUri:Mo});let Ge=null!==(Xt=null!==(bn=$r.id)&&void 0!==bn?bn:ac.kid)&&void 0!==Xt?Xt:yield N({jwk:ac});Ge=`${yi}#${Lt(Ge)}`,null!==(bt=kr.verificationMethod)&&void 0!==bt||(kr.verificationMethod=[]),kr.verificationMethod.push({id:Ge,type:"JsonWebKey",controller:null!==(sn=$r.controller)&&void 0!==sn?sn:yi,publicKeyJwk:ac});for(const ut of null!==(Lr=$r.purposes)&&void 0!==Lr?Lr:[])kr[ut]||(kr[ut]=[]),kr[ut].push(Ge)}null===(mi=ve.services)||void 0===mi||mi.forEach($r=>{var Mo;null!==(Mo=kr.service)&&void 0!==Mo||(kr.service=[]),$r.id=`${yi}#${$r.id.split("#").pop()}`,kr.service.push($r)});const co=new jr({uri:yi,document:kr,metadata:Object.assign({published:!1},ve.types&&{types:ve.types}),keyManager:me});if(null===(ai=ve.publish)||void 0===ai||ai){const $r=yield Xe.publish({did:co,gatewayUri:ve.gatewayUri});co.metadata=$r.didDocumentMetadata}return co})}static import(me){return jn(this,arguments,void 0,function*({portableDid:ve,keyManager:Ze=new Et}){var qe;const pt=ae.parse(ve.uri);if(pt?.method!==Xe.methodName)throw new se(de.MethodNotSupported,"Method not supported");const Vt=yield jr.import({portableDid:ve,keyManager:Ze});if(null===(qe=Vt.document.verificationMethod)||void 0===qe||!qe.some(bn=>{var Xt;return"0"===(null===(Xt=bn.id)||void 0===Xt?void 0:Xt.split("#").pop())}))throw new se(de.InvalidDidDocument,"DID document must contain an Identity Key");return Vt})}static getSigningMethod(me){return jn(this,arguments,void 0,function*({didDocument:ve,methodId:Ze="#0"}){var qe;const pt=ae.parse(ve.id);if(pt&&pt.method!==this.methodName)throw new se(de.MethodNotSupported,`Method not supported: ${pt.method}`);const Vt=null===(qe=ve.verificationMethod)||void 0===qe?void 0:qe.find(bn=>{var Xt,bt;return Lt(bn.id)===(null!==(Xt=Lt(Ze))&&void 0!==Xt?Xt:Lt(null===(bt=ve.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!Vt||!Vt.publicKeyJwk)throw new se(de.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Vt})}static publish(me){return jn(this,arguments,void 0,function*({did:ve,gatewayUri:Ze=Ar}){return yield pi.put({did:ve,gatewayUri:Ze})})}static resolve(me){return jn(this,arguments,void 0,function*(ve,Ze={}){var qe;const pt=null!==(qe=Ze?.gatewayUri)&&void 0!==qe?qe:Ar;try{yield Ui.identifierToIdentityKey({didUri:ve});const{didDocument:Vt,didDocumentMetadata:bn}=yield pi.get({didUri:ve,gatewayUri:pt});return Object.assign(Object.assign({},ie),{didDocument:Vt,didDocumentMetadata:bn})}catch(Vt){if(!(Vt instanceof se))throw new Error(Vt);return Object.assign(Object.assign({},ie),{didResolutionMetadata:Object.assign({error:Vt.code},Vt.message&&{errorMessage:Vt.message})})}})}}return Xe.methodName="dht",Xe})();class pi{static get(Me){return jn(this,arguments,void 0,function*({didUri:me,gatewayUri:ve}){const Ze=Ui.identifierToIdentityKeyBytes({didUri:me}),qe=yield pi.pkarrGet({gatewayUri:ve,publicKeyBytes:Ze}),pt=yield Ui.parseBep44GetMessage({bep44Message:qe}),Vt=yield pi.fromDnsPacket({didUri:me,dnsPacket:pt});return Vt.didDocumentMetadata.versionId=qe.seq.toString(),Vt})}static put(Me){return jn(this,arguments,void 0,function*({did:me,gatewayUri:ve}){const Ze=yield pi.toDnsPacket({didDocument:me.document,didMetadata:me.metadata,authoritativeGatewayUris:[ve]}),qe=yield Ui.createBep44PutMessage({dnsPacket:Ze,publicKeyBytes:Ui.identifierToIdentityKeyBytes({didUri:me.uri}),signer:yield me.getSigner({methodId:"0"})}),pt=yield pi.pkarrPut({gatewayUri:ve,bep44Message:qe});return{didDocument:me.document,didDocumentMetadata:Object.assign(Object.assign({},me.metadata),{published:pt,versionId:qe.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Me){return jn(this,arguments,void 0,function*({gatewayUri:me,publicKeyBytes:ve}){const Ze=x.U$.uint8Array(ve).toBase32Z(),qe=new URL(Ze,me).href;let pt;try{if(pt=yield fetch(qe,{method:"GET"}),!pt.ok)throw new se(de.NotFound,`Pkarr record not found for: ${Ze}`)}catch(Xt){throw Xt instanceof se?Xt:new se(de.InternalError,`Failed to fetch Pkarr record: ${Xt.message}`)}const Vt=yield pt.arrayBuffer();if(!Vt)throw new se(de.NotFound,`Pkarr record not found for: ${Ze}`);if(Vt.byteLength<72)throw new se(de.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${Vt.byteLength}`);if(Vt.byteLength>1072)throw new se(de.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${Vt.byteLength}`);return{k:ve,seq:Number(new DataView(Vt).getBigUint64(64)),sig:new Uint8Array(Vt,0,64),v:new Uint8Array(Vt,72)}})}static pkarrPut(Me){return jn(this,arguments,void 0,function*({gatewayUri:me,bep44Message:ve}){const Ze=x.U$.uint8Array(ve.k).toBase32Z(),qe=new URL(Ze,me).href,pt=new Uint8Array(ve.v.length+72);let Vt;pt.set(ve.sig,0),new DataView(pt.buffer).setBigUint64(ve.sig.length,BigInt(ve.seq)),pt.set(ve.v,ve.sig.length+8);try{Vt=yield fetch(qe,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:pt})}catch(bn){throw new se(de.InternalError,`Failed to put Pkarr record for identifier ${Ze}: ${bn.message}`)}return Vt.ok})}static fromDnsPacket(Me){return jn(this,arguments,void 0,function*({didUri:me,dnsPacket:ve}){var Ze,qe,pt;const Vt={id:me},bn={published:!0},Xt=new Map;for(const bt of null!==(Ze=ve?.answers)&&void 0!==Ze?Ze:[]){if("TXT"!==bt.type)continue;const sn=bt.name.split(".")[0].substring(1);switch(!0){case sn.startsWith("aka"):{const Lr=Ui.parseTxtDataToString(bt.data);Vt.alsoKnownAs=Lr.split(oi);break}case sn.startsWith("cnt"):{const Lr=Ui.parseTxtDataToString(bt.data);Vt.controller=Lr.includes(oi)?Lr.split(oi):Lr;break}case sn.startsWith("k"):{const{id:Lr,t:mi,k:ai,c:hi,a:Oi}=Ui.parseTxtDataToObject(bt.data),zo=x.U$.base64Url(ai).toUint8Array(),yi=wi[Number(mi)];let kr=yield Ui.keyConverter(yi).bytesToPublicKey({publicKeyBytes:zo});kr.alg=Oi||is[Number(mi)];const ki="k0"===sn?"0":void 0!==Lr?Lr:yield N({jwk:kr});null!==(qe=Vt.verificationMethod)&&void 0!==qe||(Vt.verificationMethod=[]);const co=`${me}#${ki}`;Vt.verificationMethod.push({id:co,type:"JsonWebKey",controller:hi??me,publicKeyJwk:kr}),Xt.set(sn,co);break}case sn.startsWith("s"):{const Lr=Ui.parseTxtDataToObject(bt.data),{id:mi,t:ai,se:hi}=Lr,Oi=hr(Lr,["id","t","se"]),zo=hi.includes(oi)?hi.split(oi):[hi],yi=Object.fromEntries(Object.entries(Oi).map(([kr,ki])=>[kr,ki.includes(oi)?ki.split(oi):ki]));null!==(pt=Vt.service)&&void 0!==pt||(Vt.service=[]),Vt.service.push(Object.assign(Object.assign({},yi),{id:`${me}#${mi}`,type:ai,serviceEndpoint:zo}));break}case sn.startsWith("typ"):{const{id:Lr}=Ui.parseTxtDataToObject(bt.data);bn.types=Lr.split(oi).map(mi=>Number(mi));break}case sn.startsWith("did"):{const Lr=yi=>yi.split(oi).map(kr=>Xt.get(kr)).filter(kr=>"string"==typeof kr),{auth:mi,asm:ai,del:hi,inv:Oi,agm:zo}=Ui.parseTxtDataToObject(bt.data);mi&&(Vt.authentication=Lr(mi)),ai&&(Vt.assertionMethod=Lr(ai)),hi&&(Vt.capabilityDelegation=Lr(hi)),Oi&&(Vt.capabilityInvocation=Lr(Oi)),zo&&(Vt.keyAgreement=Lr(zo));break}}}return{didDocument:Vt,didDocumentMetadata:bn,didResolutionMetadata:{}}})}static toDnsPacket(Me){return jn(this,arguments,void 0,function*({didDocument:me,didMetadata:ve,authoritativeGatewayUris:Ze,previousDidProof:qe}){var pt,Vt,bn,Xt,bt;const sn=[],Lr=[],mi=new Map,ai=[],hi=[];if(void 0!==qe){const{signature:yi,previousDid:kr}=qe;yield Ui.validatePreviousDidProof({newDid:me.id,previousDidProof:qe}),sn.push({type:"TXT",name:"_prv._did.",ttl:zr,data:`id=${kr};s=${yi}`})}if(me.alsoKnownAs&&sn.push({type:"TXT",name:"_aka._did.",ttl:zr,data:me.alsoKnownAs.join(oi)}),me.controller){const yi=Array.isArray(me.controller)?me.controller.join(oi):me.controller;sn.push({type:"TXT",name:"_cnt._did.",ttl:zr,data:yi})}for(const[yi,kr]of null!==(Vt=null===(pt=me.verificationMethod)||void 0===pt?void 0:pt.entries())&&void 0!==Vt?Vt:[]){const ki=`k${yi}`;hi.push(ki);let co=kr.id.split("#").pop();mi.set(co,ki);const $r=kr.publicKeyJwk;if(!$r?.crv||!($r.crv in Co))throw new se(de.InvalidPublicKeyType,`Verification method '${kr.id}' contains an unsupported key type: ${null!==(bn=$r?.crv)&&void 0!==bn?bn:"undefined"}`);const Mo=wi[$r.crv],ac=yield Ui.keyConverter($r.crv).publicKeyToBytes({publicKey:$r}),ut=[`t=${Mo}`,`k=${x.U$.uint8Array(ac).toBase64Url()}`];"0"!==co&&(yield N({jwk:$r}))!==co&&ut.unshift(`id=${co}`),$r.alg!==is[Mo]&&ut.push(`a=${$r.alg}`),kr.controller!==me.id&&ut.push(`c=${kr.controller}`),sn.push({type:"TXT",name:`_${ki}._did.`,ttl:zr,data:ut.join(";")})}null===(Xt=me.service)||void 0===Xt||Xt.forEach((yi,kr)=>{const ki=`s${kr}`;ai.push(ki);let{id:co,type:$r,serviceEndpoint:Mo}=yi,ac=hr(yi,["id","type","serviceEndpoint"]);co=Lt(co),Mo=Array.isArray(Mo)?Mo.join(","):Mo;const ut=Object.entries(Object.assign({id:co,t:$r,se:Mo},ac)).map(([yt,Ut])=>`${yt}=${Ut}`).join(";"),Qe=Ui.chunkDataIfNeeded(ut);sn.push({type:"TXT",name:`_${ki}._did.`,ttl:zr,data:Qe})});const Oi=["v=0"];if(hi.length&&Oi.push(`vm=${hi.join(oi)}`),Object.keys(Z).forEach(yi=>{var kr;const ki=null===(kr=me[yi])||void 0===kr?void 0:kr.map(co=>mi.get(co.split("#").pop()));ki&&Oi.push(`${Io[yi]}=${ki.join(oi)}`)}),ai.length&&Oi.push(`svc=${ai.join(oi)}`),null!==(bt=ve.types)&&void 0!==bt&&bt.length){const kr=ve.types.map(ki=>"string"==typeof ki?Ao[ki]:ki);sn.push({type:"TXT",name:"_typ._did.",ttl:zr,data:`id=${kr.join(oi)}`})}sn.push({type:"TXT",name:"_did."+pi.getUniqueDidSuffix(me.id)+".",ttl:zr,data:Oi.join(";")});for(const yi of Ze||[])Lr.push({type:"NS",name:"_did."+pi.getUniqueDidSuffix(me.id)+".",ttl:zr,data:yi+"."});return{id:0,type:"response",flags:tn.hB,answers:[...sn,...Lr]}})}static getUniqueDidSuffix(Me){return Me.split(":")[2]}}class Ui{static createBep44PutMessage(Me){return jn(this,arguments,void 0,function*({dnsPacket:me,publicKeyBytes:ve,signer:Ze}){const qe=Math.ceil(Date.now()/1e3),pt=(0,tn.lF)(me),Vt=ni.A.encode({seq:qe,v:pt}).subarray(1,-1);if(Vt.length>1e3)throw new se(de.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${Vt.length} bytes`);return{k:ve,seq:qe,sig:yield Ze.sign({data:Vt}),v:pt}})}static identifierToIdentityKey(Me){return jn(this,arguments,void 0,function*({didUri:me}){let ve=Ui.identifierToIdentityKeyBytes({didUri:me});return yield fe.bytesToPublicKey({publicKeyBytes:ve})})}static identifierToIdentityKeyBytes({didUri:Me}){const me=ae.parse(Me);if(!me)throw new se(de.InvalidDid,`Invalid DID URI: ${Me}`);if(me.method!==ji.methodName)throw new se(de.MethodNotSupported,`Method not supported: ${me.method}`);let ve;try{ve=x.U$.base32Z(me.id).toUint8Array()}catch{throw new se(de.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==ve.length)throw new se(de.InvalidPublicKeyLength,`Invalid public key length: ${ve.length}`);return ve}static identityKeyToIdentifier(Me){return jn(this,arguments,void 0,function*({identityKey:me}){const ve=yield fe.publicKeyToBytes({publicKey:me}),Ze=x.U$.uint8Array(ve).toBase32Z();return`did:${ji.methodName}:${Ze}`})}static keyConverter(Me){const ve={Ed25519:fe,"P-256":{publicKeyToBytes:Ze=>jn(this,[Ze],void 0,function*({publicKey:qe}){const pt=yield ye.publicKeyToBytes({publicKey:qe});return yield ye.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:ye.bytesToPublicKey,privateKeyToBytes:ye.privateKeyToBytes,bytesToPrivateKey:ye.bytesToPrivateKey},secp256k1:{publicKeyToBytes:Ze=>jn(this,[Ze],void 0,function*({publicKey:qe}){const pt=yield Ve.publicKeyToBytes({publicKey:qe});return yield Ve.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:Ve.bytesToPublicKey,privateKeyToBytes:Ve.privateKeyToBytes,bytesToPrivateKey:Ve.bytesToPrivateKey},X25519:nt}[Me];if(!ve)throw new se(de.InvalidPublicKeyType,`Unsupported curve: ${Me}`);return ve}static parseBep44GetMessage(Me){return jn(this,arguments,void 0,function*({bep44Message:me}){const ve=yield fe.bytesToPublicKey({publicKeyBytes:me.k}),Ze=ni.A.encode({seq:me.seq,v:me.v}).subarray(1,-1);if(!(yield fe.verify({key:ve,signature:me.sig,data:Ze})))throw new se(de.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,tn.D4)(me.v)})}static parseTxtDataToObject(Me){return this.parseTxtDataToString(Me).split(";").reduce((me,ve)=>{const[Ze,qe]=ve.split("=");return me[Ze]=qe,me},{})}static parseTxtDataToString(Me){if("string"==typeof Me)return Me;if(Me instanceof Uint8Array)return x.U$.uint8Array(Me).toString();if(Array.isArray(Me))return Me.map(me=>this.parseTxtDataToString(me)).join("");throw new se(de.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Me){return jn(this,arguments,void 0,function*({newDid:me,previousDidProof:ve}){const Ze=yield Ui.identifierToIdentityKey({didUri:ve.previousDid}),qe=Ui.identifierToIdentityKeyBytes({didUri:me}),pt=x.U$.base64Url(ve.signature).toUint8Array();if(!(yield fe.verify({key:Ze,data:qe,signature:pt})))throw new se(de.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Me){if(Me.length<=255)return Me;const me=[];for(let ve=0;ve<Me.length;ve+=255)me.push(Me.slice(ve,ve+255));return me}}E(52039);var da=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};let Ba=(()=>{class Xe extends Tn{static create(){return da(this,arguments,void 0,function*({keyManager:me=new Et,options:ve={}}={}){var Ze,qe,pt,Vt;if(ve.algorithm&&ve.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(ve.verificationMethods&&1!==ve.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const bn=null!==(Vt=null!==(Ze=ve.algorithm)&&void 0!==Ze?Ze:null===(pt=null===(qe=ve.verificationMethods)||void 0===qe?void 0:qe[0])||void 0===pt?void 0:pt.algorithm)&&void 0!==Vt?Vt:"Ed25519",Xt=yield me.generateKey({algorithm:bn}),bt=yield me.getPublicKey({keyUri:Xt}),sn=x.U$.object(bt).toBase64Url(),Lr=`did:${Xe.methodName}:${sn}`,ai=(yield Xe.resolve(Lr)).didDocument;return new jr({uri:Lr,document:ai,metadata:{},keyManager:me})})}static getSigningMethod(me){return da(this,arguments,void 0,function*({didDocument:ve}){var Ze;const qe=ae.parse(ve.id);if(qe&&qe.method!==this.methodName)throw new se(de.MethodNotSupported,`Method not supported: ${qe.method}`);const[pt]=null!==(Ze=ve.verificationMethod)&&void 0!==Ze?Ze:[];if(!pt||!pt.publicKeyJwk)throw new se(de.InternalError,"A verification method intended for signing could not be determined from the DID Document");return pt})}static import(me){return da(this,arguments,void 0,function*({portableDid:ve,keyManager:Ze=new Et}){const qe=ae.parse(ve.uri);if(qe?.method!==Xe.methodName)throw new se(de.MethodNotSupported,"Method not supported");const pt=yield jr.import({portableDid:ve,keyManager:Ze});if(1!==pt.document.verificationMethod.length)throw new se(de.InvalidDidDocument,"DID document must contain exactly one verification method");return pt})}static resolve(me,ve){return da(this,void 0,void 0,function*(){const Ze=ae.parse(me);let qe;try{qe=x.U$.base64Url(Ze.id).toObject()}catch{}if(!Ze||!qe)return Object.assign(Object.assign({},ie),{didResolutionMetadata:{error:"invalidDid"}});if(Ze.method!==Xe.methodName)return Object.assign(Object.assign({},ie),{didResolutionMetadata:{error:"methodNotSupported"}});const pt={"@context":["https://www.w3.org/ns/did/v1"],id:Ze.uri},Vt=`${pt.id}#0`;switch(pt.verificationMethod=[{id:Vt,type:"JsonWebKey",controller:pt.id,publicKeyJwk:qe}],pt.authentication=[Vt],pt.assertionMethod=[Vt],pt.capabilityInvocation=[Vt],pt.capabilityDelegation=[Vt],pt.keyAgreement=[Vt],qe.use){case"sig":delete pt.keyAgreement;break;case"enc":delete pt.authentication,delete pt.assertionMethod,delete pt.capabilityInvocation,delete pt.capabilityDelegation}return Object.assign(Object.assign({},ie),{didDocument:pt})})}}return Xe.methodName="jwk",Xe})();var Od=E(97829),ba=E(67449);class Aa{constructor({db:Me,location:me="DATA/DID_RESOLVERCACHE",ttl:ve="15m"}={}){this.cache=Me??new ba.Level(me),this.ttl=Od(ve)}get(Me){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){try{const me=yield this.cache.get(Me),ve=JSON.parse(me);return Date.now()>=ve.ttlMillis?void this.cache.nextTick(()=>this.cache.del(Me)):ve.value}catch(me){if(me.notFound)return;throw me}})}set(Me,me){const ve={ttlMillis:Date.now()+this.ttl,value:me},Ze=JSON.stringify(ve);return this.cache.put(Me,Ze)}delete(Me){return this.cache.del(Me)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var Vs=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class Tc{constructor(Me){this._agentDid=Me.agentDid,this.crypto=Me.cryptoApi,this.did=Me.didApi,this.dwn=Me.dwnApi,this.identity=Me.identityApi,this.keyManager=Me.keyManager,this.rpc=Me.rpcClient,this.sync=Me.syncApi,this.vault=Me.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(Me){this._agentDid=Me}static create({dataPath:Me="DATA/AGENT",agentDid:me,agentVault:ve,cryptoApi:Ze,didApi:qe,dwnApi:pt,identityApi:Vt,keyManager:bn,rpcClient:Xt,syncApi:bt}={}){return Vs(this,void 0,void 0,function*(){return ve??(ve=new f.TX({keyDerivationWorkFactor:21e4,store:new x.cG({location:`${Me}/VAULT_STORE`})})),Ze??(Ze=new f.DP),qe??(qe=new f.Bq({didMethods:[ji,Ba],resolverCache:new Aa({location:`${Me}/DID_RESOLVERCACHE`}),store:new f.QZ})),pt??(pt=new f.rr({dwn:yield f.rr.createDwn({dataPath:Me,didResolver:qe})})),Vt??(Vt=new f.yc({store:new f.dk})),bn??(bn=new f.eP({keyStore:new f.cW})),Xt??(Xt=new f.oN),bt??(bt=new f.rM({syncEngine:new f.qB({dataPath:Me})})),new Tc({agentDid:me,agentVault:ve,cryptoApi:Ze,didApi:qe,dwnApi:pt,keyManager:bn,identityApi:Vt,rpcClient:Xt,syncApi:bt})})}firstLaunch(){return Vs(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:Me,recoveryPhrase:me}){return Vs(this,void 0,void 0,function*(){return me=yield this.vault.initialize({password:Me,recoveryPhrase:me})})}processDidRequest(Me){return Vs(this,void 0,void 0,function*(){return this.did.processRequest(Me)})}processDwnRequest(Me){return Vs(this,void 0,void 0,function*(){return this.dwn.processRequest(Me)})}processVcRequest(Me){return Vs(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(Me){return Vs(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(Me){return Vs(this,void 0,void 0,function*(){return this.dwn.sendRequest(Me)})}sendVcRequest(Me){return Vs(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:Me}){return Vs(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:Me})),this.agentDid=yield this.vault.getDid()})}}class wa{constructor({agent:Me,connectedDid:me}){this.agent=Me,this.connectedDid=me,this.did=new H({agent:Me,connectedDid:me}),this.dwn=new re({agent:Me,connectedDid:me}),this.vc=new J({agent:Me,connectedDid:me})}static connect({agent:Me,agentVault:me,connectedDid:ve,password:Ze,recoveryPhrase:qe,sync:pt,techPreview:Vt,didCreateOptions:bn,registration:Xt}={}){var bt,sn,Lr;return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){if(void 0===Me){const ai=yield Tc.create({agentVault:me});Me=ai,void 0===Ze&&(Ze="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield ai.firstLaunch())&&(qe=yield ai.initialize({password:Ze,recoveryPhrase:qe})),yield ai.start({password:Ze});{let Oi;const zo=yield ai.identity.list(),yi=zo.length;if(0===yi){const kr=null!==(sn=null!==(bt=Vt?.dwnEndpoints)&&void 0!==bt?bt:bn?.dwnEndpoints)&&void 0!==sn?sn:["https://dwn.tbddev.org/beta"];Oi=yield ai.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:kr,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield ai.identity.manage({portableIdentity:yield Oi.export()})}else{if(1!==yi)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${yi} stored identities.`);Oi=zo[0]}ve=Oi.did.uri}if(void 0!==Xt){const Oi=null!==(Lr=Vt?.dwnEndpoints)&&void 0!==Lr?Lr:bn?.dwnEndpoints;try{for(const zo of Oi)0!==(yield ai.rpc.getServerInfo(zo)).registrationRequirements.length&&(yield f.Vu.registerTenant(zo,Me.agentDid.uri),yield f.Vu.registerTenant(zo,ve));Xt.onSuccess()}catch(zo){Xt.onFailure(zo)}}"off"!==pt&&(yield ai.sync.registerIdentity({did:ve}),pt??(pt="2m"),ai.sync.startSync({interval:pt}).catch(Oi=>{console.error(`Sync failed: ${Oi}`)}))}return{web5:new wa({agent:Me,connectedDid:ve}),did:ve,recoveryPhrase:qe}})}}var fl=function(Xe){return Xe.authentication="authentication",Xe.assertionMethod="assertionMethod",Xe.keyAgreement="keyAgreement",Xe.capabilityInvocation="capabilityInvocation",Xe.capabilityDelegation="capabilityDelegation",Xe}(fl||{});const hc={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class so{constructor({method:Me,id:me,path:ve,query:Ze,fragment:qe,params:pt}){this.uri=`did:${Me}:${me}`,this.method=Me,this.id=me,this.path=ve,this.query=Ze,this.fragment=qe,this.params=pt}static parse(Me){if(!Me)return null;const me=so.DID_URI_PATTERN.exec(Me);if(!me||!me.groups)return null;const{method:ve,id:Ze,path:qe,query:pt,fragment:Vt}=me.groups,bn={uri:`did:${ve}:${Ze}`,method:ve,id:Ze};if(qe&&(bn.path=qe),pt&&(bn.query=pt.slice(1)),Vt&&(bn.fragment=Vt.slice(1)),pt){const Xt={},bt=pt.slice(1).split("&");for(const sn of bt){const[Lr,mi]=sn.split("=");Xt[Lr]=mi}bn.params=Xt}return bn}}so.METHOD_PATTERN="([a-z0-9]+)",so.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",so.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${so.PCT_ENCODED_PATTERN})`,so.METHOD_ID_PATTERN=`((?:${so.ID_CHAR_PATTERN}*:)*(${so.ID_CHAR_PATTERN}+))`,so.PATH_PATTERN="(/[^#?]*)?",so.QUERY_PATTERN="([?][^#]*)?",so.FRAGMENT_PATTERN="(#.*)?",so.DID_URI_PATTERN=new RegExp(`^did:(?<method>${so.METHOD_PATTERN}):(?<id>${so.METHOD_ID_PATTERN})(?<path>${so.PATH_PATTERN})(?<query>${so.QUERY_PATTERN})(?<fragment>${so.FRAGMENT_PATTERN})$`);class ho extends Error{constructor(Me,me){super(`${Me}: ${me}`),this.code=Me,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ho)}}var wo=function(Xe){return Xe.InvalidDid="invalidDid",Xe.MethodNotSupported="methodNotSupported",Xe.InternalError="internalError",Xe.InvalidDidDocument="invalidDidDocument",Xe.InvalidDidDocumentLength="invalidDidDocumentLength",Xe.InvalidDidUrl="invalidDidUrl",Xe.InvalidPreviousDidProof="invalidPreviousDidProof",Xe.InvalidPublicKey="invalidPublicKey",Xe.InvalidPublicKeyLength="invalidPublicKeyLength",Xe.InvalidPublicKeyType="invalidPublicKeyType",Xe.InvalidSignature="invalidSignature",Xe.NotFound="notFound",Xe.RepresentationNotSupported="representationNotSupported",Xe.UnsupportedPublicKeyType="unsupportedPublicKeyType",Xe}(wo||{});class Pd{static digest({data:Me}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){return(0,le.s)(Me)})}}class ds{}const oc="urn:jwk:";function go({jwk:Xe}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){const Me=Xe.kty;let me;if("EC"===Me)me={crv:Xe.crv,kty:Xe.kty,x:Xe.x,y:Xe.y};else if("oct"===Me)me={k:Xe.k,kty:Xe.kty};else if("OKP"===Me)me={crv:Xe.crv,kty:Xe.kty,x:Xe.x};else{if("RSA"!==Me)throw new Error(`Unsupported key type: ${Me}`);me={e:Xe.e,kty:Xe.kty,n:Xe.n}}(0,x.E8)(me);const ve=function ru(Xe){const Me=ve=>{if(null!==ve&&"object"==typeof ve&&!Array.isArray(ve)){const Ze=Object.keys(ve).sort(),qe={};for(const pt of Ze)qe[pt]=Me(ve[pt]);return qe}return ve},me=Me(Xe);return JSON.stringify(me)}(me),Ze=x.U$.string(ve).toUint8Array(),qe=yield Pd.digest({data:Ze});return x.U$.uint8Array(qe).toBase64Url()})}function Br(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe&&"d"in Xe)||"EC"!==Xe.kty||"string"!=typeof Xe.d||"string"!=typeof Xe.x)}function Ii(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe)||"d"in Xe||"EC"!==Xe.kty||"string"!=typeof Xe.x)}function Po(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe&&"d"in Xe)||"OKP"!==Xe.kty||"string"!=typeof Xe.d||"string"!=typeof Xe.x)}function qs(Xe){return!(!Xe||"object"!=typeof Xe||"d"in Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe)||"OKP"!==Xe.kty||"string"!=typeof Xe.x)}var qi=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class Yn{static adjustSignatureToLowS({signature:Me}){return qi(this,void 0,void 0,function*(){const me=u.bI.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return qi(this,void 0,void 0,function*(){const me=yield Yn.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield go({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return qi(this,void 0,void 0,function*(){const me=yield Yn.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield go({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return qi(this,void 0,void 0,function*(){return u.bI.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return qi(this,void 0,void 0,function*(){const me=yield Yn.privateKeyToBytes({privateKey:Me}),ve=yield Yn.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield go({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return qi(this,void 0,void 0,function*(){return u.bI.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return qi(this,void 0,void 0,function*(){return u.bI.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return qi(this,void 0,void 0,function*(){const Me=u.bI.utils.randomPrivateKey(),me=yield Yn.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield go({jwk:me}),me})}static getPublicKey({key:Me}){var me;return qi(this,void 0,void 0,function*(){if(!Br(Me)||"secp256k1"!==Me.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield go({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return qi(this,void 0,void 0,function*(){if(!Br(Me))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return qi(this,void 0,void 0,function*(){if(!Ii(Me)||!Me.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return qi(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield Yn.privateKeyToBytes({privateKey:Me}),Ze=yield Yn.publicKeyToBytes({publicKey:me});return u.bI.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return qi(this,void 0,void 0,function*(){const ve=yield Yn.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return u.bI.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return qi(this,void 0,void 0,function*(){return u.bI.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return qi(this,void 0,void 0,function*(){try{u.bI.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return qi(this,void 0,void 0,function*(){const Ze=yield Yn.publicKeyToBytes({publicKey:Me}),qe=(0,le.s)(ve);return u.bI.verify(me,qe,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return qi(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=u.bI.getPublicKey(Me));const me=u.bI.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var Rt=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class gn{static adjustSignatureToLowS({signature:Me}){return Rt(this,void 0,void 0,function*(){const me=Se.Ag.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){const me=yield gn.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield go({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){const me=yield gn.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield go({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return Rt(this,void 0,void 0,function*(){const me=yield gn.privateKeyToBytes({privateKey:Me}),ve=yield gn.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"P-256",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield go({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return Rt(this,void 0,void 0,function*(){return Se.Ag.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return Rt(this,void 0,void 0,function*(){const Me=Se.Ag.utils.randomPrivateKey(),me=yield gn.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield go({jwk:me}),me})}static getPublicKey({key:Me}){var me;return Rt(this,void 0,void 0,function*(){if(!Br(Me)||"P-256"!==Me.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield go({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return Rt(this,void 0,void 0,function*(){if(!Br(Me))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return Rt(this,void 0,void 0,function*(){if(!Ii(Me)||!Me.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return Rt(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield gn.privateKeyToBytes({privateKey:Me}),Ze=yield gn.publicKeyToBytes({publicKey:me});return Se.Ag.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return Rt(this,void 0,void 0,function*(){const ve=yield gn.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return Se.Ag.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){return Se.Ag.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){try{Se.Ag.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return Rt(this,void 0,void 0,function*(){const Ze=yield gn.publicKeyToBytes({publicKey:Me}),qe=(0,le.s)(ve);return Se.Ag.verify(me,qe,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return Rt(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=Se.Ag.getPublicKey(Me));const me=Se.Ag.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var pr=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class Er extends ds{computePublicKey({key:Me}){return pr(this,void 0,void 0,function*(){if(!Br(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield Yn.computePublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield gn.computePublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}generateKey({algorithm:Me}){return pr(this,void 0,void 0,function*(){switch(Me){case"ES256K":case"secp256k1":{const me=yield Yn.generateKey();return me.alg="ES256K",me}case"ES256":case"secp256r1":{const me=yield gn.generateKey();return me.alg="ES256",me}}})}getPublicKey({key:Me}){return pr(this,void 0,void 0,function*(){if(!Br(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield Yn.getPublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield gn.getPublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}sign({key:Me,data:me}){return pr(this,void 0,void 0,function*(){if(!Br(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":return yield Yn.sign({key:Me,data:me});case"P-256":return yield gn.sign({key:Me,data:me});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}verify({key:Me,signature:me,data:ve}){return pr(this,void 0,void 0,function*(){if(!Ii(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Me.crv){case"secp256k1":return yield Yn.verify({key:Me,signature:me,data:ve});case"P-256":return yield gn.verify({key:Me,signature:me,data:ve});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}}var Zr=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class Bo{static bytesToPrivateKey({privateKeyBytes:Me}){return Zr(this,void 0,void 0,function*(){const me=ue.ev.getPublicKey(Me),ve={crv:"Ed25519",d:x.U$.uint8Array(Me).toBase64Url(),kty:"OKP",x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield go({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return Zr(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield go({jwk:me}),me})}static computePublicKey({key:Me}){return Zr(this,void 0,void 0,function*(){const me=yield Bo.privateKeyToBytes({privateKey:Me}),ve=ue.ev.getPublicKey(me),Ze={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield go({jwk:Ze}),Ze})}static convertPrivateKeyToX25519({privateKey:Me}){return Zr(this,void 0,void 0,function*(){const me=yield Bo.privateKeyToBytes({privateKey:Me}),ve=(0,ue.OA)(me),Ze=ue.TU.getPublicKey(ve),qe={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(ve).toBase64Url(),x:x.U$.uint8Array(Ze).toBase64Url()};return qe.kid=yield go({jwk:qe}),qe})}static convertPublicKeyToX25519({publicKey:Me}){return Zr(this,void 0,void 0,function*(){const me=yield Bo.publicKeyToBytes({publicKey:Me});if(!(yield Bo.validatePublicKey({publicKeyBytes:me})))throw new Error("Ed25519: Invalid public key.");const Ze=(0,ue.GU)(me),qe={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Ze).toBase64Url()};return qe.kid=yield go({jwk:qe}),qe})}static generateKey(){return Zr(this,void 0,void 0,function*(){const Me=ue.ev.utils.randomPrivateKey(),me=yield Bo.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield go({jwk:me}),me})}static getPublicKey({key:Me}){var me;return Zr(this,void 0,void 0,function*(){if(!Po(Me)||"Ed25519"!==Me.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield go({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return Zr(this,void 0,void 0,function*(){if(!Po(Me))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return Zr(this,void 0,void 0,function*(){if(!qs(Me))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sign({key:Me,data:me}){return Zr(this,void 0,void 0,function*(){const ve=yield Bo.privateKeyToBytes({privateKey:Me});return ue.ev.sign(me,ve)})}static validatePublicKey({publicKeyBytes:Me}){return Zr(this,void 0,void 0,function*(){try{ue.ev.ExtendedPoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return Zr(this,void 0,void 0,function*(){const Ze=yield Bo.publicKeyToBytes({publicKey:Me});return ue.ev.verify(me,ve,Ze)})}}var qr=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})},So=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};const Bd={Ed25519:{implementation:class Na extends ds{computePublicKey({key:Me}){return qr(this,void 0,void 0,function*(){if(!Po(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield Bo.computePublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}generateKey({algorithm:Me}){return qr(this,void 0,void 0,function*(){if("Ed25519"===Me){const me=yield Bo.generateKey();return me.alg="EdDSA",me}})}getPublicKey({key:Me}){return qr(this,void 0,void 0,function*(){if(!Po(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield Bo.getPublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}sign({key:Me,data:me}){return qr(this,void 0,void 0,function*(){if(!Po(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv)return yield Bo.sign({key:Me,data:me});throw new Error(`Unsupported curve: ${Me.crv}`)})}verify({key:Me,signature:me,data:ve}){return qr(this,void 0,void 0,function*(){if(!qs(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Me.crv)return yield Bo.verify({key:Me,signature:me,data:ve});throw new Error(`Unsupported curve: ${Me.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:Er,names:["ES256K","secp256k1"]},secp256r1:{implementation:Er,names:["ES256","secp256r1"]},"SHA-256":{implementation:class qc extends ds{digest({algorithm:Me,data:me}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Me)return yield Pd.digest({data:me})})}},names:["SHA-256"]}};class vf{constructor(Me){var me;this._algorithmInstances=new Map,this._keyStore=null!==(me=Me?.keyStore)&&void 0!==me?me:new x.ny}digest({algorithm:Me,data:me}){return So(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Me}).digest({algorithm:Me,data:me})})}exportKey({keyUri:Me}){return So(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Me})})}generateKey({algorithm:Me}){return So(this,void 0,void 0,function*(){const ve=yield this.getAlgorithm({algorithm:Me}).generateKey({algorithm:Me});if(void 0===ve?.kid)throw new Error("Generated key is missing a required property: kid");const Ze=`${oc}${ve.kid}`;return yield this._keyStore.set(Ze,ve),Ze})}getKeyUri({key:Me}){return So(this,void 0,void 0,function*(){const me=yield go({jwk:Me});return`${oc}${me}`})}getPublicKey({keyUri:Me}){return So(this,void 0,void 0,function*(){const me=yield this.getPrivateKey({keyUri:Me}),ve=this.getAlgorithmName({key:me});return yield this.getAlgorithm({algorithm:ve}).getPublicKey({key:me})})}importKey({key:Me}){var me;return So(this,void 0,void 0,function*(){if(!function bs(Xe){if(!Xe||"object"!=typeof Xe)return!1;switch(Xe.kty){case"EC":case"OKP":case"RSA":return"d"in Xe;case"oct":return"k"in Xe;default:return!1}}(Me))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const ve=structuredClone(Me);null!==(me=ve.kid)&&void 0!==me||(ve.kid=yield go({jwk:ve}));const Ze=yield this.getKeyUri({key:ve});return yield this._keyStore.set(Ze,ve),Ze})}sign({keyUri:Me,data:me}){return So(this,void 0,void 0,function*(){const ve=yield this.getPrivateKey({keyUri:Me}),Ze=this.getAlgorithmName({key:ve});return this.getAlgorithm({algorithm:Ze}).sign({data:me,key:ve})})}verify({key:Me,signature:me,data:ve}){return So(this,void 0,void 0,function*(){const Ze=this.getAlgorithmName({key:Me});return this.getAlgorithm({algorithm:Ze}).verify({key:Me,signature:me,data:ve})})}getAlgorithm({algorithm:Me}){var me;const ve=null===(me=Bd[Me])||void 0===me?void 0:me.implementation;if(!ve)throw new Error(`Algorithm not supported: ${Me}`);return this._algorithmInstances.has(ve)||this._algorithmInstances.set(ve,new ve),this._algorithmInstances.get(ve)}getAlgorithmName({key:Me}){const me=Me.alg,ve=Me.crv;for(const Ze in Bd){const qe=Bd[Ze];if(me&&qe.names.includes(me))return Ze;if(ve&&qe.names.includes(ve))return Ze}throw new Error(`Unable to determine algorithm based on provided input: alg=${me}, crv=${ve}`)}getPrivateKey({keyUri:Me}){return So(this,void 0,void 0,function*(){const me=yield this._keyStore.get(Me);if(!me)throw new Error(`Key not found: ${Me}`);return me})}}function Mi(Xe){const Me={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(Xe.alg&&Object.values(Me).includes(Xe.alg))return Xe.alg;if(Xe.crv&&Object.keys(Me).includes(Xe.crv))return Me[Xe.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${Xe.alg}, crv=${Xe.crv}. Supported 'alg' values: ${Object.values(Me).join(", ")}. Supported 'crv' values: ${Object.keys(Me).join(", ")}.`)}var sc=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class iu{static bytesToPrivateKey({privateKeyBytes:Me}){return sc(this,void 0,void 0,function*(){const me=ue.TU.getPublicKey(Me),ve={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield go({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return sc(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield go({jwk:me}),me})}static computePublicKey({key:Me}){return sc(this,void 0,void 0,function*(){const me=yield iu.privateKeyToBytes({privateKey:Me}),ve=ue.TU.getPublicKey(me),Ze={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield go({jwk:Ze}),Ze})}static generateKey(){return sc(this,void 0,void 0,function*(){const Me=ue.TU.utils.randomPrivateKey(),me=yield iu.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield go({jwk:me}),me})}static getPublicKey({key:Me}){var me;return sc(this,void 0,void 0,function*(){if(!Po(Me)||"X25519"!==Me.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield go({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return sc(this,void 0,void 0,function*(){if(!Po(Me))throw new Error("X25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return sc(this,void 0,void 0,function*(){if(!qs(Me))throw new Error("X25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return sc(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield iu.privateKeyToBytes({privateKey:Me}),Ze=yield iu.publicKeyToBytes({publicKey:me});return ue.TU.getSharedSecret(ve,Ze)})}}function Ta(Xe){if("string"==typeof Xe&&0!==Xe.length)return Xe.split("#").pop()}function Np(Xe){return!(!Xe||"object"!=typeof Xe||null===Xe||!("id"in Xe&&"type"in Xe&&"controller"in Xe)||"string"!=typeof Xe.id||"string"!=typeof Xe.type||"string"!=typeof Xe.controller)}var Qs=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class Iu{constructor({uri:Me,document:me,metadata:ve,keyManager:Ze}){this.uri=Me,this.document=me,this.metadata=ve,this.keyManager=Ze}export(){return Qs(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Me={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const me=[];for(let ve of this.document.verificationMethod){if(!ve.publicKeyJwk)throw new Error(`Verification method '${ve.id}' does not contain a public key in JWK format`);const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),qe=yield this.keyManager.exportKey({keyUri:Ze});me.push(Object.assign({},qe))}Me.privateKeys=me}return Me})}getSigner(Me){return Qs(this,void 0,void 0,function*(){var me;const ve=null===(me=this.document.verificationMethod)||void 0===me?void 0:me.find(bn=>{var Xt,bt;return Ta(bn.id)===(null!==(Xt=Ta(Me?.methodId))&&void 0!==Xt?Xt:Ta(null===(bt=this.document.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!ve||!ve.publicKeyJwk)throw new ho(wo.InternalError,"A verification method intended for signing could not be determined from the DID Document");const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),qe=yield this.keyManager.getPublicKey({keyUri:Ze}),pt=this.keyManager;return{algorithm:Mi(qe),keyId:ve.id,sign(bn){return Qs(this,arguments,void 0,function*({data:Xt}){return yield pt.sign({data:Xt,keyUri:Ze})})},verify(bn){return Qs(this,arguments,void 0,function*({data:Xt,signature:bt}){return yield pt.verify({data:Xt,key:qe,signature:bt})})}}})}static import(Me){return Qs(this,arguments,void 0,function*({portableDid:me,keyManager:ve=new vf}){var Ze;const qe=function su({didDocument:Xe}){var Me,me;if(!Xe)throw new TypeError("Required parameter missing: 'didDocument'");const ve=[];return ve.push(...null!==(me=null===(Me=Xe.verificationMethod)||void 0===Me?void 0:Me.filter(Np))&&void 0!==me?me:[]),Object.keys(fl).forEach(Ze=>{var qe,pt;ve.push(...null!==(pt=null===(qe=Xe[Ze])||void 0===qe?void 0:qe.filter(Np))&&void 0!==pt?pt:[])}),ve}({didDocument:me.document});if(0===qe.length)throw new ho(wo.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let Vt of null!==(Ze=me.privateKeys)&&void 0!==Ze?Ze:[])yield ve.importKey({key:Vt});for(let Vt of qe){if(!Vt.publicKeyJwk)throw new Error(`Verification method '${Vt.id}' does not contain a public key in JWK format`);const bn=yield ve.getKeyUri({key:Vt.publicKeyJwk});yield ve.getPublicKey({keyUri:bn})}return new Iu({uri:me.uri,document:me.document,metadata:me.metadata,keyManager:ve})})}}var Cu=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};class xf{static getSigningMethod(Me){return Cu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Me,me){return Cu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var gs=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})},ku=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me};const Ru="https://diddht.tbddev.org",Hi=7200,Ua=",";var sh=function(Xe){return Xe[Xe.Discoverable=0]="Discoverable",Xe[Xe.Organization=1]="Organization",Xe[Xe.Government=2]="Government",Xe[Xe.Corporation=3]="Corporation",Xe[Xe.LocalBusiness=4]="LocalBusiness",Xe[Xe.SoftwarePackage=5]="SoftwarePackage",Xe[Xe.WebApp=6]="WebApp",Xe[Xe.FinancialInstitution=7]="FinancialInstitution",Xe}(sh||{}),mc=function(Xe){return Xe[Xe.Ed25519=0]="Ed25519",Xe[Xe.secp256k1=1]="secp256k1",Xe[Xe.secp256r1=2]="secp256r1",Xe[Xe.X25519=3]="X25519",Xe}(mc||{}),Ll=function(Xe){return Xe.authentication="auth",Xe.assertionMethod="asm",Xe.capabilityDelegation="del",Xe.capabilityInvocation="inv",Xe.keyAgreement="agm",Xe}(Ll||{});const Ou={Ed25519:mc.Ed25519,ES256K:mc.secp256k1,ES256:mc.secp256r1,"P-256":mc.secp256r1,secp256k1:mc.secp256k1,secp256r1:mc.secp256r1,X25519:mc.X25519},to={[mc.Ed25519]:"Ed25519",[mc.secp256k1]:"ES256K",[mc.secp256r1]:"ES256",[mc.X25519]:"ECDH-ES+A256KW"};let ml=(()=>{class Xe extends xf{static create(){return gs(this,arguments,void 0,function*({keyManager:me=new vf,options:ve={}}={}){var Ze,qe,pt,Vt,bn,Xt,bt,sn,Lr,mi,ai;if(null!==(Ze=ve.verificationMethods)&&void 0!==Ze&&Ze.some($r=>!($r.algorithm in Ou)))throw new Error("One or more verification method algorithms are not supported");const hi=null===(qe=ve.verificationMethods)||void 0===qe?void 0:qe.filter($r=>"id"in $r).map($r=>$r.id);if(hi&&hi.length!==new Set(hi).size)throw new Error("One or more verification method IDs are not unique");if(null!==(pt=ve.services)&&void 0!==pt&&pt.some($r=>!$r.id||!$r.type||!$r.serviceEndpoint))throw new Error("One or more services are missing required properties");const Oi=yield me.generateKey({algorithm:"Ed25519"}),zo=yield me.getPublicKey({keyUri:Oi}),yi=yield Lo.identityKeyToIdentifier({identityKey:zo}),kr=Object.assign(Object.assign({id:yi},ve.alsoKnownAs&&{alsoKnownAs:ve.alsoKnownAs}),ve.controllers&&{controller:ve.controllers}),ki=[...null!==(Vt=ve.verificationMethods)&&void 0!==Vt?Vt:[]];ki?.some($r=>{var Mo;return"0"===(null===(Mo=$r.id)||void 0===Mo?void 0:Mo.split("#").pop())})||ki.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const $r of ki){const Mo=$r.id&&"0"===$r.id.split("#").pop()?Oi:yield me.generateKey({algorithm:$r.algorithm}),ac=yield me.getPublicKey({keyUri:Mo});let Ge=null!==(Xt=null!==(bn=$r.id)&&void 0!==bn?bn:ac.kid)&&void 0!==Xt?Xt:yield go({jwk:ac});Ge=`${yi}#${Ta(Ge)}`,null!==(bt=kr.verificationMethod)&&void 0!==bt||(kr.verificationMethod=[]),kr.verificationMethod.push({id:Ge,type:"JsonWebKey",controller:null!==(sn=$r.controller)&&void 0!==sn?sn:yi,publicKeyJwk:ac});for(const ut of null!==(Lr=$r.purposes)&&void 0!==Lr?Lr:[])kr[ut]||(kr[ut]=[]),kr[ut].push(Ge)}null===(mi=ve.services)||void 0===mi||mi.forEach($r=>{var Mo;null!==(Mo=kr.service)&&void 0!==Mo||(kr.service=[]),$r.id=`${yi}#${$r.id.split("#").pop()}`,kr.service.push($r)});const co=new Iu({uri:yi,document:kr,metadata:Object.assign({published:!1},ve.types&&{types:ve.types}),keyManager:me});if(null===(ai=ve.publish)||void 0===ai||ai){const $r=yield Xe.publish({did:co,gatewayUri:ve.gatewayUri});co.metadata=$r.didDocumentMetadata}return co})}static import(me){return gs(this,arguments,void 0,function*({portableDid:ve,keyManager:Ze=new vf}){var qe;const pt=so.parse(ve.uri);if(pt?.method!==Xe.methodName)throw new ho(wo.MethodNotSupported,"Method not supported");const Vt=yield Iu.import({portableDid:ve,keyManager:Ze});if(null===(qe=Vt.document.verificationMethod)||void 0===qe||!qe.some(bn=>{var Xt;return"0"===(null===(Xt=bn.id)||void 0===Xt?void 0:Xt.split("#").pop())}))throw new ho(wo.InvalidDidDocument,"DID document must contain an Identity Key");return Vt})}static getSigningMethod(me){return gs(this,arguments,void 0,function*({didDocument:ve,methodId:Ze="#0"}){var qe;const pt=so.parse(ve.id);if(pt&&pt.method!==this.methodName)throw new ho(wo.MethodNotSupported,`Method not supported: ${pt.method}`);const Vt=null===(qe=ve.verificationMethod)||void 0===qe?void 0:qe.find(bn=>{var Xt,bt;return Ta(bn.id)===(null!==(Xt=Ta(Ze))&&void 0!==Xt?Xt:Ta(null===(bt=ve.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!Vt||!Vt.publicKeyJwk)throw new ho(wo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Vt})}static publish(me){return gs(this,arguments,void 0,function*({did:ve,gatewayUri:Ze=Ru}){return yield Cc.put({did:ve,gatewayUri:Ze})})}static resolve(me){return gs(this,arguments,void 0,function*(ve,Ze={}){var qe;const pt=null!==(qe=Ze?.gatewayUri)&&void 0!==qe?qe:Ru;try{yield Lo.identifierToIdentityKey({didUri:ve});const{didDocument:Vt,didDocumentMetadata:bn}=yield Cc.get({didUri:ve,gatewayUri:pt});return Object.assign(Object.assign({},hc),{didDocument:Vt,didDocumentMetadata:bn})}catch(Vt){if(!(Vt instanceof ho))throw new Error(Vt);return Object.assign(Object.assign({},hc),{didResolutionMetadata:Object.assign({error:Vt.code},Vt.message&&{errorMessage:Vt.message})})}})}}return Xe.methodName="dht",Xe})();class Cc{static get(Me){return gs(this,arguments,void 0,function*({didUri:me,gatewayUri:ve}){const Ze=Lo.identifierToIdentityKeyBytes({didUri:me}),qe=yield Cc.pkarrGet({gatewayUri:ve,publicKeyBytes:Ze}),pt=yield Lo.parseBep44GetMessage({bep44Message:qe}),Vt=yield Cc.fromDnsPacket({didUri:me,dnsPacket:pt});return Vt.didDocumentMetadata.versionId=qe.seq.toString(),Vt})}static put(Me){return gs(this,arguments,void 0,function*({did:me,gatewayUri:ve}){const Ze=yield Cc.toDnsPacket({didDocument:me.document,didMetadata:me.metadata,authoritativeGatewayUris:[ve]}),qe=yield Lo.createBep44PutMessage({dnsPacket:Ze,publicKeyBytes:Lo.identifierToIdentityKeyBytes({didUri:me.uri}),signer:yield me.getSigner({methodId:"0"})}),pt=yield Cc.pkarrPut({gatewayUri:ve,bep44Message:qe});return{didDocument:me.document,didDocumentMetadata:Object.assign(Object.assign({},me.metadata),{published:pt,versionId:qe.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Me){return gs(this,arguments,void 0,function*({gatewayUri:me,publicKeyBytes:ve}){const Ze=x.U$.uint8Array(ve).toBase32Z(),qe=new URL(Ze,me).href;let pt;try{if(pt=yield fetch(qe,{method:"GET"}),!pt.ok)throw new ho(wo.NotFound,`Pkarr record not found for: ${Ze}`)}catch(Xt){throw Xt instanceof ho?Xt:new ho(wo.InternalError,`Failed to fetch Pkarr record: ${Xt.message}`)}const Vt=yield pt.arrayBuffer();if(!Vt)throw new ho(wo.NotFound,`Pkarr record not found for: ${Ze}`);if(Vt.byteLength<72)throw new ho(wo.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${Vt.byteLength}`);if(Vt.byteLength>1072)throw new ho(wo.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${Vt.byteLength}`);return{k:ve,seq:Number(new DataView(Vt).getBigUint64(64)),sig:new Uint8Array(Vt,0,64),v:new Uint8Array(Vt,72)}})}static pkarrPut(Me){return gs(this,arguments,void 0,function*({gatewayUri:me,bep44Message:ve}){const Ze=x.U$.uint8Array(ve.k).toBase32Z(),qe=new URL(Ze,me).href,pt=new Uint8Array(ve.v.length+72);let Vt;pt.set(ve.sig,0),new DataView(pt.buffer).setBigUint64(ve.sig.length,BigInt(ve.seq)),pt.set(ve.v,ve.sig.length+8);try{Vt=yield fetch(qe,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:pt})}catch(bn){throw new ho(wo.InternalError,`Failed to put Pkarr record for identifier ${Ze}: ${bn.message}`)}return Vt.ok})}static fromDnsPacket(Me){return gs(this,arguments,void 0,function*({didUri:me,dnsPacket:ve}){var Ze,qe,pt;const Vt={id:me},bn={published:!0},Xt=new Map;for(const bt of null!==(Ze=ve?.answers)&&void 0!==Ze?Ze:[]){if("TXT"!==bt.type)continue;const sn=bt.name.split(".")[0].substring(1);switch(!0){case sn.startsWith("aka"):{const Lr=Lo.parseTxtDataToString(bt.data);Vt.alsoKnownAs=Lr.split(Ua);break}case sn.startsWith("cnt"):{const Lr=Lo.parseTxtDataToString(bt.data);Vt.controller=Lr.includes(Ua)?Lr.split(Ua):Lr;break}case sn.startsWith("k"):{const{id:Lr,t:mi,k:ai,c:hi,a:Oi}=Lo.parseTxtDataToObject(bt.data),zo=x.U$.base64Url(ai).toUint8Array(),yi=mc[Number(mi)];let kr=yield Lo.keyConverter(yi).bytesToPublicKey({publicKeyBytes:zo});kr.alg=Oi||to[Number(mi)];const ki="k0"===sn?"0":void 0!==Lr?Lr:yield go({jwk:kr});null!==(qe=Vt.verificationMethod)&&void 0!==qe||(Vt.verificationMethod=[]);const co=`${me}#${ki}`;Vt.verificationMethod.push({id:co,type:"JsonWebKey",controller:hi??me,publicKeyJwk:kr}),Xt.set(sn,co);break}case sn.startsWith("s"):{const Lr=Lo.parseTxtDataToObject(bt.data),{id:mi,t:ai,se:hi}=Lr,Oi=ku(Lr,["id","t","se"]),zo=hi.includes(Ua)?hi.split(Ua):[hi],yi=Object.fromEntries(Object.entries(Oi).map(([kr,ki])=>[kr,ki.includes(Ua)?ki.split(Ua):ki]));null!==(pt=Vt.service)&&void 0!==pt||(Vt.service=[]),Vt.service.push(Object.assign(Object.assign({},yi),{id:`${me}#${mi}`,type:ai,serviceEndpoint:zo}));break}case sn.startsWith("typ"):{const{id:Lr}=Lo.parseTxtDataToObject(bt.data);bn.types=Lr.split(Ua).map(mi=>Number(mi));break}case sn.startsWith("did"):{const Lr=yi=>yi.split(Ua).map(kr=>Xt.get(kr)).filter(kr=>"string"==typeof kr),{auth:mi,asm:ai,del:hi,inv:Oi,agm:zo}=Lo.parseTxtDataToObject(bt.data);mi&&(Vt.authentication=Lr(mi)),ai&&(Vt.assertionMethod=Lr(ai)),hi&&(Vt.capabilityDelegation=Lr(hi)),Oi&&(Vt.capabilityInvocation=Lr(Oi)),zo&&(Vt.keyAgreement=Lr(zo));break}}}return{didDocument:Vt,didDocumentMetadata:bn,didResolutionMetadata:{}}})}static toDnsPacket(Me){return gs(this,arguments,void 0,function*({didDocument:me,didMetadata:ve,authoritativeGatewayUris:Ze,previousDidProof:qe}){var pt,Vt,bn,Xt,bt;const sn=[],Lr=[],mi=new Map,ai=[],hi=[];if(void 0!==qe){const{signature:yi,previousDid:kr}=qe;yield Lo.validatePreviousDidProof({newDid:me.id,previousDidProof:qe}),sn.push({type:"TXT",name:"_prv._did.",ttl:Hi,data:`id=${kr};s=${yi}`})}if(me.alsoKnownAs&&sn.push({type:"TXT",name:"_aka._did.",ttl:Hi,data:me.alsoKnownAs.join(Ua)}),me.controller){const yi=Array.isArray(me.controller)?me.controller.join(Ua):me.controller;sn.push({type:"TXT",name:"_cnt._did.",ttl:Hi,data:yi})}for(const[yi,kr]of null!==(Vt=null===(pt=me.verificationMethod)||void 0===pt?void 0:pt.entries())&&void 0!==Vt?Vt:[]){const ki=`k${yi}`;hi.push(ki);let co=kr.id.split("#").pop();mi.set(co,ki);const $r=kr.publicKeyJwk;if(!$r?.crv||!($r.crv in Ou))throw new ho(wo.InvalidPublicKeyType,`Verification method '${kr.id}' contains an unsupported key type: ${null!==(bn=$r?.crv)&&void 0!==bn?bn:"undefined"}`);const Mo=mc[$r.crv],ac=yield Lo.keyConverter($r.crv).publicKeyToBytes({publicKey:$r}),ut=[`t=${Mo}`,`k=${x.U$.uint8Array(ac).toBase64Url()}`];"0"!==co&&(yield go({jwk:$r}))!==co&&ut.unshift(`id=${co}`),$r.alg!==to[Mo]&&ut.push(`a=${$r.alg}`),kr.controller!==me.id&&ut.push(`c=${kr.controller}`),sn.push({type:"TXT",name:`_${ki}._did.`,ttl:Hi,data:ut.join(";")})}null===(Xt=me.service)||void 0===Xt||Xt.forEach((yi,kr)=>{const ki=`s${kr}`;ai.push(ki);let{id:co,type:$r,serviceEndpoint:Mo}=yi,ac=ku(yi,["id","type","serviceEndpoint"]);co=Ta(co),Mo=Array.isArray(Mo)?Mo.join(","):Mo;const ut=Object.entries(Object.assign({id:co,t:$r,se:Mo},ac)).map(([yt,Ut])=>`${yt}=${Ut}`).join(";"),Qe=Lo.chunkDataIfNeeded(ut);sn.push({type:"TXT",name:`_${ki}._did.`,ttl:Hi,data:Qe})});const Oi=["v=0"];if(hi.length&&Oi.push(`vm=${hi.join(Ua)}`),Object.keys(fl).forEach(yi=>{var kr;const ki=null===(kr=me[yi])||void 0===kr?void 0:kr.map(co=>mi.get(co.split("#").pop()));ki&&Oi.push(`${Ll[yi]}=${ki.join(Ua)}`)}),ai.length&&Oi.push(`svc=${ai.join(Ua)}`),null!==(bt=ve.types)&&void 0!==bt&&bt.length){const kr=ve.types.map(ki=>"string"==typeof ki?sh[ki]:ki);sn.push({type:"TXT",name:"_typ._did.",ttl:Hi,data:`id=${kr.join(Ua)}`})}sn.push({type:"TXT",name:"_did."+Cc.getUniqueDidSuffix(me.id)+".",ttl:Hi,data:Oi.join(";")});for(const yi of Ze||[])Lr.push({type:"NS",name:"_did."+Cc.getUniqueDidSuffix(me.id)+".",ttl:Hi,data:yi+"."});return{id:0,type:"response",flags:tn.hB,answers:[...sn,...Lr]}})}static getUniqueDidSuffix(Me){return Me.split(":")[2]}}class Lo{static createBep44PutMessage(Me){return gs(this,arguments,void 0,function*({dnsPacket:me,publicKeyBytes:ve,signer:Ze}){const qe=Math.ceil(Date.now()/1e3),pt=(0,tn.lF)(me),Vt=ni.A.encode({seq:qe,v:pt}).subarray(1,-1);if(Vt.length>1e3)throw new ho(wo.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${Vt.length} bytes`);return{k:ve,seq:qe,sig:yield Ze.sign({data:Vt}),v:pt}})}static identifierToIdentityKey(Me){return gs(this,arguments,void 0,function*({didUri:me}){let ve=Lo.identifierToIdentityKeyBytes({didUri:me});return yield Bo.bytesToPublicKey({publicKeyBytes:ve})})}static identifierToIdentityKeyBytes({didUri:Me}){const me=so.parse(Me);if(!me)throw new ho(wo.InvalidDid,`Invalid DID URI: ${Me}`);if(me.method!==ml.methodName)throw new ho(wo.MethodNotSupported,`Method not supported: ${me.method}`);let ve;try{ve=x.U$.base32Z(me.id).toUint8Array()}catch{throw new ho(wo.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==ve.length)throw new ho(wo.InvalidPublicKeyLength,`Invalid public key length: ${ve.length}`);return ve}static identityKeyToIdentifier(Me){return gs(this,arguments,void 0,function*({identityKey:me}){const ve=yield Bo.publicKeyToBytes({publicKey:me}),Ze=x.U$.uint8Array(ve).toBase32Z();return`did:${ml.methodName}:${Ze}`})}static keyConverter(Me){const ve={Ed25519:Bo,"P-256":{publicKeyToBytes:Ze=>gs(this,[Ze],void 0,function*({publicKey:qe}){const pt=yield gn.publicKeyToBytes({publicKey:qe});return yield gn.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:gn.bytesToPublicKey,privateKeyToBytes:gn.privateKeyToBytes,bytesToPrivateKey:gn.bytesToPrivateKey},secp256k1:{publicKeyToBytes:Ze=>gs(this,[Ze],void 0,function*({publicKey:qe}){const pt=yield Yn.publicKeyToBytes({publicKey:qe});return yield Yn.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:Yn.bytesToPublicKey,privateKeyToBytes:Yn.privateKeyToBytes,bytesToPrivateKey:Yn.bytesToPrivateKey},X25519:iu}[Me];if(!ve)throw new ho(wo.InvalidPublicKeyType,`Unsupported curve: ${Me}`);return ve}static parseBep44GetMessage(Me){return gs(this,arguments,void 0,function*({bep44Message:me}){const ve=yield Bo.bytesToPublicKey({publicKeyBytes:me.k}),Ze=ni.A.encode({seq:me.seq,v:me.v}).subarray(1,-1);if(!(yield Bo.verify({key:ve,signature:me.sig,data:Ze})))throw new ho(wo.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,tn.D4)(me.v)})}static parseTxtDataToObject(Me){return this.parseTxtDataToString(Me).split(";").reduce((me,ve)=>{const[Ze,qe]=ve.split("=");return me[Ze]=qe,me},{})}static parseTxtDataToString(Me){if("string"==typeof Me)return Me;if(Me instanceof Uint8Array)return x.U$.uint8Array(Me).toString();if(Array.isArray(Me))return Me.map(me=>this.parseTxtDataToString(me)).join("");throw new ho(wo.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Me){return gs(this,arguments,void 0,function*({newDid:me,previousDidProof:ve}){const Ze=yield Lo.identifierToIdentityKey({didUri:ve.previousDid}),qe=Lo.identifierToIdentityKeyBytes({didUri:me}),pt=x.U$.base64Url(ve.signature).toUint8Array();if(!(yield Bo.verify({key:Ze,data:qe,signature:pt})))throw new ho(wo.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Me){if(Me.length<=255)return Me;const me=[];for(let ve=0;ve<Me.length;ve+=255)me.push(Me.slice(ve,ve+255));return me}}let Wo=(()=>{class Xe extends xf{static resolve(me,ve){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){const Ze=so.parse(me);if(!Ze)return Object.assign(Object.assign({},hc),{didResolutionMetadata:{error:"invalidDid"}});if(Ze.method!==Xe.methodName)return Object.assign(Object.assign({},hc),{didResolutionMetadata:{error:"methodNotSupported"}});let qe=`https://${Ze.id.replace(/:/g,"/")}`;qe=decodeURIComponent(qe);const pt=Ze.id.includes(":")?`${qe}/did.json`:`${qe}/.well-known/did.json`;try{const Vt=yield fetch(pt);if(!Vt.ok)throw new Error("HTTP error status code returned");const bn=yield Vt.json();return Object.assign(Object.assign({},hc),{didDocument:bn})}catch{return Object.assign(Object.assign({},hc),{didResolutionMetadata:{error:"notFound"}})}})}}return Xe.methodName="web",Xe})();E(44514),E(1424);const yl={get:function(Xe){return null},set:function(Xe,Me){return null},delete:function(Xe){return null},clear:function(){return null},close:function(){return null}};var Ss=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Xt(ve.next(bt))}catch(sn){pt(sn)}}function bn(bt){try{Xt(ve.throw(bt))}catch(sn){pt(sn)}}function Xt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Xt((ve=ve.apply(Xe,Me||[])).next())})};new class fd{constructor({cache:Me,didResolvers:me}){this.didResolvers=new Map,this.cache=Me||yl;for(const ve of me)this.didResolvers.set(ve.methodName,ve)}resolve(Me,me){return Ss(this,void 0,void 0,function*(){const ve=so.parse(Me);if(!ve)return Object.assign(Object.assign({},hc),{didResolutionMetadata:{error:wo.InvalidDid,errorMessage:`Invalid DID URI: ${Me}`}});const Ze=this.didResolvers.get(ve.method);if(!Ze)return Object.assign(Object.assign({},hc),{didResolutionMetadata:{error:wo.MethodNotSupported,errorMessage:`Method not supported: ${ve.method}`}});const qe=yield this.cache.get(ve.uri);if(qe)return qe;{const pt=yield Ze.resolve(ve.uri,me);return pt.didResolutionMetadata.error||(yield this.cache.set(ve.uri,pt)),pt}})}dereference(Me,me){return Ss(this,void 0,void 0,function*(){const ve=so.parse(Me);if(!ve)return{dereferencingMetadata:{error:wo.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:Ze,didResolutionMetadata:qe,didDocumentMetadata:pt}=yield this.resolve(ve.uri);if(!Ze)return{dereferencingMetadata:{error:qe.error},contentStream:null,contentMetadata:{}};if(!ve.fragment||ve.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:Ze,contentMetadata:pt};const{service:Vt=[],verificationMethod:bn=[]}=Ze,Xt=new Set([Me,ve.fragment,`#${ve.fragment}`]);let bt;for(let sn of bn)if(Xt.has(sn.id)){bt=sn;break}for(let sn of Vt)if(Xt.has(sn.id)){bt=sn;break}return bt?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:bt,contentMetadata:qe}:{dereferencingMetadata:{error:wo.NotFound},contentStream:null,contentMetadata:{}}})}}({didResolvers:[ml,Wo]})},37475:(je,z,E)=>{"use strict";E.d(z,{U$:()=>j,cG:()=>se,ny:()=>de,Gs:()=>re,VS:()=>u,Z6:()=>Ce,LC:()=>f,RI:()=>te,E8:()=>Z,fc:()=>O});var f=E(52191),_=E(15130),k=E(80286),H=E(14725);function O(y){const S=Object.prototype.toString.call(y).match(/\s([a-zA-Z0-9]+)/),[T,N]=S;return N}var F=function(y,g,S,T){return new(S||(S=Promise))(function(A,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?A(ee.value):function N(A){return A instanceof S?A:new S(function(s){s(A)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})},L=function(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,g=y[Symbol.asyncIterator];return g?g.call(y):(y="function"==typeof __values?__values(y):y[Symbol.iterator](),S={},T("next"),T("throw"),T("return"),S[Symbol.asyncIterator]=function(){return this},S);function T(A){S[A]=y[A]&&function(s){return new Promise(function(v,W){!function N(A,s,v,W){Promise.resolve(W).then(function(K){A({value:K,done:v})},s)}(v,W,(s=y[A](s)).done,s.value)})}}};const D=new TextEncoder,X=new TextDecoder;class j{constructor(g,S){this.data=g,this.format=S}static arrayBuffer(g){return new j(g,"ArrayBuffer")}static asyncIterable(g){if(!function P(y){return"object"==typeof y&&null!==y&&"function"==typeof y[Symbol.asyncIterator]}(g))throw new TypeError("Input must be of type AsyncIterable.");return new j(g,"AsyncIterable")}static base32Z(g){return new j(g,"Base32Z")}static base58Btc(g){return new j(g,"Base58Btc")}static base64Url(g){return new j(g,"Base64Url")}static bufferSource(g){return new j(g,"BufferSource")}static hex(g){if("string"!=typeof g)throw new TypeError("Hex input must be a string.");if(g.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new j(g,"Hex")}static multibase(g){return new j(g,"Multibase")}static object(g){return new j(g,"Object")}static string(g){return new j(g,"String")}static uint8Array(g){return new j(g,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return k.s.baseDecode(this.data).buffer;case"Base64Url":return H.r0.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===O(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function x(y){return 0!==y.byteOffset||y.byteLength!==y.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return _.jd.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const g=new Uint8Array(this.data);return k.s.baseEncode(g)}case"Multibase":return this.data.substring(1);case"Uint8Array":return k.s.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const g=new Uint8Array(this.data);return H.r0.baseEncode(g)}case"BufferSource":{const g=this.toUint8Array();return H.r0.baseEncode(g)}case"Object":{const g=JSON.stringify(this.data),S=D.encode(g);return H.r0.baseEncode(S)}case"String":{const g=D.encode(this.data);return H.r0.baseEncode(g)}case"Uint8Array":return H.r0.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var g,S,T;return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const W=[];try{for(var v,A=!0,s=L(this.data);v=yield s.next(),!(g=v.done);A=!0)A=!1,W.push(v.value)}catch(ee){S={error:ee}}finally{try{!A&&!g&&(T=s.return)&&(yield T.call(s))}finally{if(S)throw S.error}}return new Blob(W)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const g=Array.from({length:256},(S,T)=>T.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const S=this.toUint8Array();return j.uint8Array(S).toHex()}case"Base64Url":{const S=this.toUint8Array();return j.uint8Array(S).toHex()}case"Uint8Array":{let S="";for(let T=0;T<this.data.length;T++)S+=g[this.data[T]];return S}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const g=H.r0.baseDecode(this.data),S=X.decode(g);return JSON.parse(S)}case"String":return JSON.parse(this.data);case"Uint8Array":{const g=X.decode(this.data);return JSON.parse(g)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const g=yield this.toStringAsync();return JSON.parse(g)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return X.decode(this.data);case"Base64Url":{const g=H.r0.baseDecode(this.data);return X.decode(g)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var g,S,T,N;return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let W="";try{for(var v,A=!0,s=L(this.data);v=yield s.next(),!(g=v.done);A=!0)A=!1,W+="string"==typeof(N=v.value)?N:X.decode(N,{stream:!0})}catch(K){S={error:K}}finally{try{!A&&!g&&(T=s.return)&&(yield T.call(s))}finally{if(S)throw S.error}}return W+=X.decode(void 0,{stream:!1}),W}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return _.jd.baseDecode(this.data);case"Base58Btc":return k.s.baseDecode(this.data);case"Base64Url":return H.r0.baseDecode(this.data);case"BufferSource":{const g=O(this.data);if("Uint8Array"===g)return this.data;if("ArrayBuffer"===g)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const g=new Uint8Array(this.data.length/2);for(let S=0;S<this.data.length;S+=2){const T=parseInt(this.data.substring(S,S+2),16);if(isNaN(T))throw new TypeError("Input is not a valid hexadecimal string.");g[S/2]=T}return g}case"Object":{const g=JSON.stringify(this.data);return D.encode(g)}case"String":return D.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const g=yield this.toArrayBufferAsync();return new Uint8Array(g)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var G=E(41405);class re{static addPrefix(g){var S;let{code:T,data:N,name:A}=g;if(!(A?!T:T))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(T=re.codeToName.has(T)?T:re.nameToCode.get(A),void 0===T)throw new Error(`Unsupported multicodec: ${null!==(S=g.name)&&void 0!==S?S:g.code}`);const s=G.L8.encodingLength(T),v=new Uint8Array(s+N.byteLength);return v.set(N,s),G.L8.encodeTo(T,v),v}static getCodeFromData(g){const{prefixedData:S}=g,[T,N]=G.L8.decode(S);return T}static getCodeFromName(g){const{name:S}=g,T=re.nameToCode.get(S);if(void 0===T)throw new Error(`Unsupported multicodec: ${S}`);return T}static getNameFromCode(g){const{code:S}=g,T=re.codeToName.get(S);if(void 0===T)throw new Error(`Unsupported multicodec: ${S}`);return T}static registerCodec(g){re.codeToName.set(g.code,g.name),re.nameToCode.set(g.name,g.code)}static removePrefix(g){const{prefixedData:S}=g,[T,N]=G.L8.decode(S),A=re.codeToName.get(T);if(void 0===A)throw new Error(`Unsupported multicodec: ${T}`);return{code:T,data:S.slice(N),name:A}}}function te(y){return!("object"!=typeof y||null===y||Object.getOwnPropertySymbols(y).length>0)&&0===Object.keys(y).length}function Z(y){Object.keys(y).forEach(g=>{void 0===y[g]?delete y[g]:"object"==typeof y[g]&&Z(y[g])})}re.codeToName=new Map,re.nameToCode=new Map,re.registerCodec({code:237,name:"ed25519-pub"}),re.registerCodec({code:4864,name:"ed25519-priv"}),re.registerCodec({code:236,name:"x25519-pub"}),re.registerCodec({code:4866,name:"x25519-priv"}),re.registerCodec({code:231,name:"secp256k1-pub"}),re.registerCodec({code:4865,name:"secp256k1-priv"});var ie=E(54626),ae=function(y,g,S,T){return new(S||(S=Promise))(function(A,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?A(ee.value):function N(A){return A instanceof S?A:new S(function(s){s(A)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})};class se{constructor({db:g,location:S="DATASTORE"}={}){this.store=g??new ie.Level(S)}clear(){return ae(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return ae(this,void 0,void 0,function*(){yield this.store.close()})}delete(g){return ae(this,void 0,void 0,function*(){yield this.store.del(g)})}get(g){return ae(this,void 0,void 0,function*(){try{return yield this.store.get(g)}catch(S){if(S.notFound)return;throw S}})}set(g,S){return ae(this,void 0,void 0,function*(){yield this.store.put(g,S)})}}class de{constructor(){this.store=new Map}clear(){return ae(this,void 0,void 0,function*(){this.store.clear()})}close(){return ae(this,void 0,void 0,function*(){})}delete(g){return ae(this,void 0,void 0,function*(){return this.store.delete(g)})}get(g){return ae(this,void 0,void 0,function*(){return this.store.get(g)})}has(g){return ae(this,void 0,void 0,function*(){return this.store.has(g)})}list(){return ae(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(g,S){return ae(this,void 0,void 0,function*(){this.store.set(g,S)})}}var le=function(y,g,S,T){return new(S||(S=Promise))(function(A,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?A(ee.value):function N(A){return A instanceof S?A:new S(function(s){s(A)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})},we=function(y){return this instanceof we?(this.v=y,this):new we(y)};class Ce{static asAsyncIterator(g){return function(y,g,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N,T=S.apply(y,g||[]),A=[];return N={},s("next"),s("throw"),s("return"),N[Symbol.asyncIterator]=function(){return this},N;function s(_e){T[_e]&&(N[_e]=function(Oe){return new Promise(function(Ve,Se){A.push([_e,Oe,Ve,Se])>1||v(_e,Oe)})})}function v(_e,Oe){try{!function W(_e){_e.value instanceof we?Promise.resolve(_e.value.v).then(K,ee):ce(A[0][2],_e)}(T[_e](Oe))}catch(Ve){ce(A[0][3],Ve)}}function K(_e){v("next",_e)}function ee(_e){v("throw",_e)}function ce(_e,Oe){_e(Oe),A.shift(),A.length&&v(A[0][0],A[0][1])}}(this,arguments,function*(){const T=g.getReader();try{for(;;){const{done:N,value:A}=yield we(T.read());if(N)break;yield yield we(A)}}finally{T.releaseLock()}})}static consumeToArrayBuffer({readableStream:g}){return le(this,void 0,void 0,function*(){const S=Ce.asAsyncIterator(g);return yield j.asyncIterable(S).toArrayBufferAsync()})}static consumeToBlob({readableStream:g}){return le(this,void 0,void 0,function*(){const S=Ce.asAsyncIterator(g);return yield j.asyncIterable(S).toBlobAsync()})}static consumeToBytes({readableStream:g}){return le(this,void 0,void 0,function*(){const S=Ce.asAsyncIterator(g);return yield j.asyncIterable(S).toUint8ArrayAsync()})}static consumeToJson({readableStream:g}){return le(this,void 0,void 0,function*(){const S=Ce.asAsyncIterator(g);return yield j.asyncIterable(S).toObjectAsync()})}static consumeToText({readableStream:g}){return le(this,void 0,void 0,function*(){const S=Ce.asAsyncIterator(g);return yield j.asyncIterable(S).toStringAsync()})}static generateByteStream({streamLength:g,chunkLength:S,fillValue:T}){let A,N=g??1/0;function s(){const v=Math.min(N,S??1/0);let W;if(N-=v,"number"==typeof T)W=new Uint8Array(v).fill(T);else if(Array.isArray(T)){W=new Uint8Array(v);const[K,ee]=T,ce=ee-K+1;for(let _e=0;_e<v;_e++)W[_e]=Math.floor(Math.random()*ce)+K}else W=new Uint8Array(v);A.enqueue(W),N<=0&&A.close()}return new ReadableStream({start(v){A=v,s()},pull(){s()}})}static isReadable({readableStream:g}){if(!Ce.isReadableStream(g)||g.locked)return!1;try{return g.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(g){return"object"==typeof g&&null!==g&&"getReader"in g&&"function"==typeof g.getReader}static isStream(g){return Ce.isReadableStream(g)||Ce.isWritableStream(g)||Ce.isTransformStream(g)}static isTransformStream(g){return"object"==typeof g&&null!==g&&"readable"in g&&"object"==typeof g.readable&&"writable"in g&&"object"==typeof g.writable}static isWritableStream(g){return"object"==typeof g&&null!==g&&"getWriter"in g&&"function"==typeof g.getWriter&&"abort"in g&&"function"==typeof g.abort}}var C=E(95424),a=function(y,g,S,T){return new(S||(S=Promise))(function(A,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?A(ee.value):function N(A){return A instanceof S?A:new S(function(s){s(A)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})};class u{static consumeToArrayBuffer({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toArrayBufferAsync()})}static consumeToBlob({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toBlobAsync()})}static consumeToBytes({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toUint8ArrayAsync()})}static consumeToJson({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toObjectAsync()})}static consumeToText({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toStringAsync()})}static fromWebReadable({readableStream:g,readableOptions:S}){if(!Ce.isReadableStream(g))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const T=g.getReader();let N=!1;const A=new C.Readable(Object.assign(Object.assign({},S),{read:function(){T.read().then(({done:s,value:v})=>{if(s)this.push(null);else if(!this.push(v))return}).catch(s=>{this.destroy(s)})},destroy:function(s,v){function W(){v(s)}N?W():T.cancel(s).then(W).catch(W)}}));return T.closed.then(()=>{N=!0}).catch(s=>{N=!0,A.destroy(s)}),A}static isDestroyed({stream:g}){if(!u.isStream(g))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!g.destroyed&&!(("_writableState"in g?g._writableState:void 0)||g._readableState).destroyed)}static isReadable({readable:g}){return!!u.isReadableStream(g)&&g.readable&&"boolean"==typeof g._readableState.ended&&!g._readableState.ended&&"boolean"==typeof g._readableState.endEmitted&&!g._readableState.endEmitted&&!g.destroyed&&!g.isPaused()}static isReadableStream(g){return"object"==typeof g&&null!==g&&"pipe"in g&&"function"==typeof g.pipe&&"on"in g&&"function"==typeof g.on&&!("_writableState"in g)&&"_readableState"in g}static isStream(g){return"object"==typeof g&&null!==g&&("_readableState"in g||"_writableState"in g)}static toWebReadable({readable:g}){if(!u.isReadableStream(g))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(u.isDestroyed({stream:g})){const S=new ReadableStream;return S.cancel(),S}return new ReadableStream({start(S){g.on("data",T=>{S.enqueue(T)}),g.on("end",()=>{S.close()}),g.on("error",T=>{S.error(T)})},cancel(){g.destroy()}})}}},2198:(je,z,E)=>{"use strict";E.d(z,{A:()=>ue});const f="0123456789abcdef",_=[],k=[];for(let Q=0;Q<256;Q++)_[Q]=f[Q>>4&15]+f[15&Q],Q<16&&(Q<10?k[48+Q]=Q:k[87+Q]=Q);const H=Q=>{const oe=Q.length;let fe="",Ee=0;for(;Ee<oe;)fe+=_[Q[Ee++]];return fe};for(var F=typeof Uint8Array>"u"?[]:new Uint8Array(256),L=0;L<64;L++)F["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(L)]=L;const j=new TextDecoder,G=(Q,oe)=>oe?new TextDecoder(oe).decode(Q):j.decode(Q),re=new TextEncoder,te=Q=>re.encode(Q);function a(Q){const oe=Q<0?1:0;return Q=Math.abs(Number(Q||1)),Math.floor(Math.log10(Q))+1+oe}function u(Q){return ArrayBuffer.isView(Q)?"arraybufferview":Array.isArray(Q)?"array":Q instanceof Number?"number":Q instanceof Boolean?"boolean":Q instanceof Set?"set":Q instanceof Map?"map":Q instanceof String?"string":Q instanceof ArrayBuffer?"arraybuffer":typeof Q}function y(Q,oe,fe){const Ee=[];let Re=null;return y._encode(Ee,Q),Re=((Q,oe=0)=>{const fe=Q.length||0;if(!oe){let Fe=fe;for(;Fe--;)oe+=Q[Fe].length}const Ee=new Uint8Array(oe);let Re=oe,$e=fe;for(;$e--;)Re-=Q[$e].length,Ee.set(Q[$e],Re);return Ee})(Ee),y.bytes=Re.length,ArrayBuffer.isView(oe)?(oe.set(Re,fe),oe):Re}typeof window<"u"?window:self,y.bytes=-1,y._floatConversionDetected=!1,y._encode=function(Q,oe){if(null!=oe)switch(u(oe)){case"object":y.dict(Q,oe);break;case"map":y.dictMap(Q,oe);break;case"array":y.list(Q,oe);break;case"set":y.listSet(Q,oe);break;case"string":y.string(Q,oe);break;case"number":case"boolean":y.number(Q,oe);break;case"arraybufferview":y.buffer(Q,new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength));break;case"arraybuffer":y.buffer(Q,new Uint8Array(oe))}};const g=new Uint8Array([101]),S=new Uint8Array([100]),T=new Uint8Array([108]);y.buffer=function(Q,oe){Q.push(te(oe.length+":"),oe)},y.string=function(Q,oe){Q.push(te(te(oe).byteLength+":"+oe))},y.number=function(Q,oe){if(Number.isInteger(oe))return Q.push(te("i"+BigInt(oe)+"e"));const fe=2147483648,$e=(oe/fe|0)*fe+(oe%fe|0);Q.push(te("i"+$e+"e")),$e!==oe&&!y._floatConversionDetected&&(y._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+oe+'":','Bencoding only defines support for integers, value was converted to "'+$e+'"'),console.trace())},y.dict=function(Q,oe){Q.push(S);let Ee,fe=0;const Re=Object.keys(oe).sort(),$e=Re.length;for(;fe<$e;fe++)Ee=Re[fe],null!=oe[Ee]&&(y.string(Q,Ee),y._encode(Q,oe[Ee]));Q.push(g)},y.dictMap=function(Q,oe){Q.push(S);const fe=Array.from(oe.keys()).sort();for(const Ee of fe)null!=oe.get(Ee)&&(ArrayBuffer.isView(Ee)?y._encode(Q,Ee):y.string(Q,String(Ee)),y._encode(Q,oe.get(Ee)));Q.push(g)},y.list=function(Q,oe){let fe=0;const Ee=oe.length;for(Q.push(T);fe<Ee;fe++)null!=oe[fe]&&y._encode(Q,oe[fe]);Q.push(g)},y.listSet=function(Q,oe){Q.push(T);for(const fe of oe)null!=fe&&y._encode(Q,fe);Q.push(g)};const N=y;function ee(Q,oe,fe){let Ee=0,Re=1;for(let $e=oe;$e<fe;$e++){const Fe=Q[$e];if(Fe<58&&Fe>=48)Ee=10*Ee+(Fe-48);else if($e!==oe||43!==Fe){if($e===oe&&45===Fe){Re=-1;continue}if(46===Fe)break;throw new Error("not a number: buffer["+$e+"] = "+Fe)}}return Ee*Re}function ce(Q,oe,fe,Ee){return null==Q||0===Q.length?null:("number"!=typeof oe&&null==Ee&&(Ee=oe,oe=void 0),"number"!=typeof fe&&null==Ee&&(Ee=fe,fe=void 0),ce.position=0,ce.encoding=Ee||null,ce.data=ArrayBuffer.isView(Q)?new Uint8Array(Q.slice(oe,fe)):te(Q),ce.bytes=ce.data.length,ce.next())}function ye(Q){if(null==Q)return 0;const fe=u(Q);switch(fe){case"arraybufferview":return function Ue(Q){const oe=Q.byteLength-Q.byteOffset;return a(oe)+1+oe}(Q);case"string":return function be(Q){const oe=te(Q).byteLength;return a(oe)+1+oe}(Q);case"array":case"set":return function Oe(Q){let oe=2;for(const fe of Q)oe+=ye(fe);return oe}(Q);case"number":return 1+a(Math.floor(Q))+1;case"bigint":return 1+Q.toString().length+1;case"object":return function Se(Q){let oe=2;const fe=Object.keys(Q);for(let Ee=0;Ee<fe.length;Ee++){const Re=te(fe[Ee]).byteLength;oe+=a(Re)+1+Re,oe+=ye(Q[fe[Ee]])}return oe}(Q);case"map":return function Ve(Q){let oe=2;for(const[fe,Ee]of Q){const Re=te(fe).byteLength;oe+=a(Re)+1+Re,oe+=ye(Ee)}return oe}(Q);default:throw new TypeError(`Unsupported value of type "${fe}"`)}}ce.bytes=0,ce.position=0,ce.data=null,ce.encoding=null,ce.next=function(){switch(ce.data[ce.position]){case 100:return ce.dictionary();case 108:return ce.list();case 105:return ce.integer();default:return ce.buffer()}},ce.find=function(Q){let oe=ce.position;const fe=ce.data.length,Ee=ce.data;for(;oe<fe;){if(Ee[oe]===Q)return oe;oe++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(Q)+'" [0x'+Q.toString(16)+"]")},ce.dictionary=function(){ce.position++;const Q={};for(;101!==ce.data[ce.position];){const oe=ce.buffer();let fe=G(oe);fe.includes("\ufffd")&&(fe=H(oe)),Q[fe]=ce.next()}return ce.position++,Q},ce.list=function(){ce.position++;const Q=[];for(;101!==ce.data[ce.position];)Q.push(ce.next());return ce.position++,Q},ce.integer=function(){const Q=ce.find(101),oe=ee(ce.data,ce.position+1,Q);return ce.position+=Q+1-ce.position,oe},ce.buffer=function(){let Q=ce.find(58);const oe=ee(ce.data,ce.position,Q),fe=++Q+oe;return ce.position=fe,ce.encoding?G(ce.data.slice(Q,fe)):ce.data.slice(Q,fe)};const ue={encode:N,decode:ce,byteLength:ye,encodingLength:ye}},10797:(je,z,E)=>{"use strict";E.d(z,{_Q:()=>X,yE:()=>re});var x=E(52054);class P{constructor(J,Z,ie){this.name=J,this.prefix=Z,this.baseEncode=ie}encode(J){if(J instanceof Uint8Array)return`${this.prefix}${this.baseEncode(J)}`;throw Error("Unknown type, must be binary type")}}class M{constructor(J,Z,ie){if(this.name=J,this.prefix=Z,void 0===Z.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Z.codePointAt(0),this.baseDecode=ie}decode(J){if("string"==typeof J){if(J.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(J)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(J.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(J){return F(this,J)}}class O{constructor(J){this.decoders=J}or(J){return F(this,J)}decode(J){const ie=this.decoders[J[0]];if(ie)return ie.decode(J);throw RangeError(`Unable to decode multibase string ${JSON.stringify(J)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const F=(te,J)=>new O({...te.decoders||{[te.prefix]:te},...J.decoders||{[J.prefix]:J}});class L{constructor(J,Z,ie,ae){this.name=J,this.prefix=Z,this.baseEncode=ie,this.baseDecode=ae,this.encoder=new P(J,Z,ie),this.decoder=new M(J,Z,ae)}encode(J){return this.encoder.encode(J)}decode(J){return this.decoder.decode(J)}}const D=({name:te,prefix:J,encode:Z,decode:ie})=>new L(te,J,Z,ie),X=({prefix:te,name:J,alphabet:Z})=>{const{encode:ie,decode:ae}=function f(te,J){if(te.length>=255)throw new TypeError("Alphabet too long");for(var Z=new Uint8Array(256),ie=0;ie<Z.length;ie++)Z[ie]=255;for(var ae=0;ae<te.length;ae++){var se=te.charAt(ae),de=se.charCodeAt(0);if(255!==Z[de])throw new TypeError(se+" is ambiguous");Z[de]=ae}var le=te.length,we=te.charAt(0),xe=Math.log(le)/Math.log(256),Ce=Math.log(256)/Math.log(le);function a(y){if("string"!=typeof y)throw new TypeError("Expected String");if(0===y.length)return new Uint8Array;var g=0;if(" "!==y[g]){for(var S=0,T=0;y[g]===we;)S++,g++;for(var N=(y.length-g)*xe+1>>>0,A=new Uint8Array(N);y[g];){var s=Z[y.charCodeAt(g)];if(255===s)return;for(var v=0,W=N-1;(0!==s||v<T)&&-1!==W;W--,v++)A[W]=(s+=le*A[W]>>>0)%256>>>0,s=s/256>>>0;if(0!==s)throw new Error("Non-zero carry");T=v,g++}if(" "!==y[g]){for(var K=N-T;K!==N&&0===A[K];)K++;for(var ee=new Uint8Array(S+(N-K)),ce=S;K!==N;)ee[ce++]=A[K++];return ee}}}return{encode:function C(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===y.length)return"";for(var g=0,S=0,T=0,N=y.length;T!==N&&0===y[T];)T++,g++;for(var A=(N-T)*Ce+1>>>0,s=new Uint8Array(A);T!==N;){for(var v=y[T],W=0,K=A-1;(0!==v||W<S)&&-1!==K;K--,W++)s[K]=(v+=256*s[K]>>>0)%le>>>0,v=v/le>>>0;if(0!==v)throw new Error("Non-zero carry");S=W,T++}for(var ee=A-S;ee!==A&&0===s[ee];)ee++;for(var ce=we.repeat(g);ee<A;++ee)ce+=te.charAt(s[ee]);return ce},decodeUnsafe:a,decode:function u(y){var g=a(y);if(g)return g;throw new Error(`Non-${J} character`)}}}(Z,J);return D({prefix:te,name:J,encode:ie,decode:se=>(0,x.au)(ae(se))})},re=({name:te,prefix:J,bitsPerChar:Z,alphabet:ie})=>D({prefix:J,name:te,encode:ae=>((te,J,Z)=>{const ie="="===J[J.length-1],ae=(1<<Z)-1;let se="",de=0,le=0;for(let we=0;we<te.length;++we)for(le=le<<8|te[we],de+=8;de>Z;)de-=Z,se+=J[ae&le>>de];if(de&&(se+=J[ae&le<<Z-de]),ie)for(;se.length*Z&7;)se+="=";return se})(ae,ie,Z),decode:ae=>((te,J,Z,ie)=>{const ae={};for(let Ce=0;Ce<J.length;++Ce)ae[J[Ce]]=Ce;let se=te.length;for(;"="===te[se-1];)--se;const de=new Uint8Array(se*Z/8|0);let le=0,we=0,xe=0;for(let Ce=0;Ce<se;++Ce){const C=ae[te[Ce]];if(void 0===C)throw new SyntaxError(`Non-${ie} character`);we=we<<Z|C,le+=Z,le>=8&&(le-=8,de[xe++]=255&we>>le)}if(le>=Z||255&we<<8-le)throw new SyntaxError("Unexpected end of data");return de})(ae,ie,Z,te)})},15130:(je,z,E)=>{"use strict";E.d(z,{RG:()=>_,jd:()=>L});var f=E(10797);const _=(0,f.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),L=((0,f.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,f.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,f.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,f.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,f.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,f.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,f.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,f.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}))},80286:(je,z,E)=>{"use strict";E.d(z,{s:()=>_});var f=E(10797);const _=(0,f._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,f._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},14725:(je,z,E)=>{"use strict";E.d(z,{r0:()=>H});var f=E(10797);(0,f.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,f.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const H=(0,f.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});(0,f.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},52054:(je,z,E)=>{"use strict";E.d(z,{aI:()=>H,au:()=>x}),new Uint8Array(0);const H=(F,L)=>{if(F===L)return!0;if(F.byteLength!==L.byteLength)return!1;for(let D=0;D<F.byteLength;D++)if(F[D]!==L[D])return!1;return!0},x=F=>{if(F instanceof Uint8Array&&"Uint8Array"===F.constructor.name)return F;if(F instanceof ArrayBuffer)return new Uint8Array(F);if(ArrayBuffer.isView(F))return new Uint8Array(F.buffer,F.byteOffset,F.byteLength);throw new Error("Unknown type, must be binary type")}},41861:(je,z,E)=>{"use strict";E.d(z,{TO:()=>D});var f=E(28206),_=E(56580),k=E(80286),H=E(15130),x=E(52054);const P=(ie,ae)=>{const{bytes:se,version:de}=ie;return 0===de?j(se,L(ie),ae||k.s.encoder):G(se,L(ie),ae||H.RG.encoder)},F=new WeakMap,L=ie=>{const ae=F.get(ie);if(null==ae){const se=new Map;return F.set(ie,se),se}return ae};class D{constructor(ae,se,de,le){this.code=se,this.version=ae,this.multihash=de,this.bytes=le,this["/"]=le}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:ae,multihash:se}=this;if(ae!==re)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(se.code!==te)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return D.createV0(se)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:ae,digest:se}=this.multihash,de=_.vt(ae,se);return D.createV1(this.code,de)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(ae){return D.equals(this,ae)}static equals(ae,se){return se&&ae.code===se.code&&ae.version===se.version&&_.aI(ae.multihash,se.multihash)}toString(ae){return P(this,ae)}toJSON(){return{"/":P(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(ae){if(null==ae)return null;const se=ae;if(se instanceof D)return se;if(null!=se["/"]&&se["/"]===se.bytes||se.asCID===se){const{version:de,code:le,multihash:we,bytes:xe}=se;return new D(de,le,we,xe||J(de,le,we.bytes))}if(!0===se[Z]){const{version:de,multihash:le,code:we}=se,xe=_.D4(le);return D.create(de,we,xe)}return null}static create(ae,se,de){if("number"!=typeof se)throw new Error("String codecs are no longer supported");if(!(de.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(ae){case 0:if(se!==re)throw new Error(`Version 0 CID must use dag-pb (code: ${re}) block encoding`);return new D(ae,se,de,de.bytes);case 1:{const le=J(ae,se,de.bytes);return new D(ae,se,de,le)}default:throw new Error("Invalid version")}}static createV0(ae){return D.create(0,re,ae)}static createV1(ae,se){return D.create(1,ae,se)}static decode(ae){const[se,de]=D.decodeFirst(ae);if(de.length)throw new Error("Incorrect length");return se}static decodeFirst(ae){const se=D.inspectBytes(ae),de=se.size-se.multihashSize,le=(0,x.au)(ae.subarray(de,de+se.multihashSize));if(le.byteLength!==se.multihashSize)throw new Error("Incorrect length");const we=le.subarray(se.multihashSize-se.digestSize),xe=new _.np(se.multihashCode,se.digestSize,we,le);return[0===se.version?D.createV0(xe):D.createV1(se.codec,xe),ae.subarray(se.size)]}static inspectBytes(ae){let se=0;const de=()=>{const[y,g]=f.decode(ae.subarray(se));return se+=g,y};let le=de(),we=re;if(18===le?(le=0,se=0):we=de(),0!==le&&1!==le)throw new RangeError(`Invalid CID version ${le}`);const xe=se,Ce=de(),C=de(),a=se+C;return{version:le,codec:we,multihashCode:Ce,digestSize:C,multihashSize:a-xe,size:a}}static parse(ae,se){const[de,le]=X(ae,se),we=D.decode(le);if(0===we.version&&"Q"!==ae[0])throw Error("Version 0 CID string must not include multibase prefix");return L(we).set(de,ae),we}}const X=(ie,ae)=>{switch(ie[0]){case"Q":return[k.s.prefix,(ae||k.s).decode(`${k.s.prefix}${ie}`)];case k.s.prefix:return[k.s.prefix,(ae||k.s).decode(ie)];case H.RG.prefix:return[H.RG.prefix,(ae||H.RG).decode(ie)];default:if(null==ae)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[ie[0],ae.decode(ie)]}},j=(ie,ae,se)=>{const{prefix:de}=se;if(de!==k.s.prefix)throw Error(`Cannot string encode V0 in ${se.name} encoding`);const le=ae.get(de);if(null==le){const we=se.encode(ie).slice(1);return ae.set(de,we),we}return le},G=(ie,ae,se)=>{const{prefix:de}=se,le=ae.get(de);if(null==le){const we=se.encode(ie);return ae.set(de,we),we}return le},re=112,te=18,J=(ie,ae,se)=>{const de=f.encodingLength(ie),le=de+f.encodingLength(ae),we=new Uint8Array(le+se.byteLength);return f.encodeTo(ie,we,0),f.encodeTo(ae,we,de),we.set(se,le),we},Z=Symbol.for("@ipld/js-cid/CID")},56580:(je,z,E)=>{"use strict";E.d(z,{D4:()=>H,aI:()=>x,np:()=>P,vt:()=>k});var f=E(52054),_=E(28206);const k=(M,O)=>{const F=O.byteLength,L=_.encodingLength(M),D=L+_.encodingLength(F),X=new Uint8Array(D+F);return _.encodeTo(M,X,0),_.encodeTo(F,X,L),X.set(O,D),new P(M,F,O,X)},H=M=>{const O=(0,f.au)(M),[F,L]=_.decode(O),[D,X]=_.decode(O.subarray(L)),j=O.subarray(L+X);if(j.byteLength!==D)throw new Error("Incorrect length");return new P(F,D,j,O)},x=(M,O)=>M===O||M.code===O.code&&M.size===O.size&&O.bytes instanceof Uint8Array&&(0,f.aI)(M.bytes,O.bytes);class P{constructor(O,F,L,D){this.code=O,this.size=F,this.digest=L,this.bytes=D}}},92059:(je,z,E)=>{"use strict";E.d(z,{H:()=>_});var f=E(56580);const _=({name:H,code:x,encode:P})=>new k(H,x,P);class k{constructor(x,P,M){this.name=x,this.code=P,this.encode=M}digest(x){if(x instanceof Uint8Array){const P=this.encode(x);return P instanceof Uint8Array?f.vt(this.code,P):P.then(M=>f.vt(this.code,M))}throw Error("Unknown type, must be binary type")}}},41405:(je,z,E)=>{"use strict";E.d(z,{L8:()=>_,TO:()=>f.TO});var f=E(41861),_=E(28206);E(52054),E(92059),E(56580)},28206:(je,z,E)=>{"use strict";E.r(z),E.d(z,{decode:()=>we,encodeTo:()=>xe,encodingLength:()=>Ce});var _=128,H=-128,x=Math.pow(2,31),O=128,F=127,D=Math.pow(2,7),X=Math.pow(2,14),j=Math.pow(2,21),G=Math.pow(2,28),re=Math.pow(2,35),te=Math.pow(2,42),J=Math.pow(2,49),Z=Math.pow(2,56),ie=Math.pow(2,63);const le={encode:function P(C,a,u){a=a||[];for(var y=u=u||0;C>=x;)a[u++]=255&C|_,C/=128;for(;C&H;)a[u++]=255&C|_,C>>>=7;return a[u]=0|C,P.bytes=u-y+1,a},decode:function L(C,y){var T,u=0,g=0,S=y=y||0,N=C.length;do{if(S>=N)throw L.bytes=0,new RangeError("Could not decode varint");T=C[S++],u+=g<28?(T&F)<<g:(T&F)*Math.pow(2,g),g+=7}while(T>=O);return L.bytes=S-y,u},encodingLength:function(C){return C<D?1:C<X?2:C<j?3:C<G?4:C<re?5:C<te?6:C<J?7:C<Z?8:C<ie?9:10}},we=(C,a=0)=>[le.decode(C,a),le.decode.bytes],xe=(C,a,u=0)=>(le.encode(C,a,u),a),Ce=C=>le.encodingLength(C)},10467:(je,z,E)=>{"use strict";function f(k,H,x,P,M,O,F){try{var L=k[O](F),D=L.value}catch(X){return void x(X)}L.done?H(D):Promise.resolve(D).then(P,M)}function _(k){return function(){var H=this,x=arguments;return new Promise(function(P,M){var O=k.apply(H,x);function F(D){f(O,P,M,F,L,"next",D)}function L(D){f(O,P,M,F,L,"throw",D)}F(void 0)})}}E.d(z,{A:()=>_})},31635:(je,z,E)=>{"use strict";function X(s,v,W,K){return new(W||(W=Promise))(function(ce,_e){function Oe(be){try{Se(K.next(be))}catch(Ue){_e(Ue)}}function Ve(be){try{Se(K.throw(be))}catch(Ue){_e(Ue)}}function Se(be){be.done?ce(be.value):function ee(ce){return ce instanceof W?ce:new W(function(_e){_e(ce)})}(be.value).then(Oe,Ve)}Se((K=K.apply(s,v||[])).next())})}function se(s){return this instanceof se?(this.v=s,this):new se(s)}function de(s,v,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,K=W.apply(s,v||[]),ce=[];return ee={},Oe("next"),Oe("throw"),Oe("return",function _e(De){return function(pe){return Promise.resolve(pe).then(De,Ue)}}),ee[Symbol.asyncIterator]=function(){return this},ee;function Oe(De,pe){K[De]&&(ee[De]=function(ue){return new Promise(function(Q,oe){ce.push([De,ue,Q,oe])>1||Ve(De,ue)})},pe&&(ee[De]=pe(ee[De])))}function Ve(De,pe){try{!function Se(De){De.value instanceof se?Promise.resolve(De.value.v).then(be,Ue):ye(ce[0][2],De)}(K[De](pe))}catch(ue){ye(ce[0][3],ue)}}function be(De){Ve("next",De)}function Ue(De){Ve("throw",De)}function ye(De,pe){De(pe),ce.shift(),ce.length&&Ve(ce[0][0],ce[0][1])}}function we(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,v=s[Symbol.asyncIterator];return v?v.call(s):(s=function te(s){var v="function"==typeof Symbol&&Symbol.iterator,W=v&&s[v],K=0;if(W)return W.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&K>=s.length&&(s=void 0),{value:s&&s[K++],done:!s}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),W={},K("next"),K("throw"),K("return"),W[Symbol.asyncIterator]=function(){return this},W);function K(ce){W[ce]=s[ce]&&function(_e){return new Promise(function(Oe,Ve){!function ee(ce,_e,Oe,Ve){Promise.resolve(Ve).then(function(Se){ce({value:Se,done:Oe})},_e)}(Oe,Ve,(_e=s[ce](_e)).done,_e.value)})}}}E.d(z,{AQ:()=>de,N3:()=>se,sH:()=>X,xN:()=>we}),"function"==typeof SuppressedError&&SuppressedError},83813:je=>{"use strict";je.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:je=>{"use strict";je.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:je=>{"use strict";je.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:je=>{"use strict";je.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:je=>{"use strict";je.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:je=>{"use strict";je.exports={rE:"6.5.5"}},15579:je=>{"use strict";je.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},je=>{var z=f=>je(je.s=f);z(94073),z(5312)}]);